(function(){function Reflect(){}function Core(e){new Injection(e);for(var t=!0,n=0;n<expect.length;n++)if(!modules[expect[n]]){t=!1;break}return t&&BuildCore(),Core}function getRouteFunction(e){return function routeFunction(){var t=e.apply(Reflect,arguments);return void 0!==t?Reflect:t}.bind(core)}function BuildCore(){Core.get("Root");for(var e in properties)properties.hasOwnProperty(e)&&(core[e]=properties[e])}function Injection(e){if("function"!=typeof e||!e.name)throw new Error("Unable to createinjection. Constructor is not a named function!");modules[e.name]=this;var t=null;this.create=function(t){var n=[null];if(t&&"object"==typeof t&&t.constructor===Array)for(var r=0;r<t.length;r++)n.push(t[r]);return new(Function.prototype.bind.apply(e,n))},this.get=function(){if(t)return t;var e=this.create.apply(this,arguments[0]);return t=e,e},this.is=function(t){return t.constructor===e},this.extend=function(t,n){return"object"==typeof n&&n.constructor===Array?(e.apply(t,n),t):(e.call(t),t)}}var modules={},properties={},core=new Reflect,expect=["Application","Audio","Canvas","Classes","Config","Container","Fonts","Helpers","Injection","Root","Services","Source","Ticker"];Core.get=function(e,t){if("string"==typeof e){if(modules[e])return modules[e].get.apply(modules[e],t);throw new Error("Module ["+e+"] was not found")}throw new Error("Module name is not a string. Wrong arguments")},Core.is=function(e,t){if("string"==typeof t&&modules[t])return modules[t].is(e)},Core.inject=function(e,t){if("string"==typeof e){if(modules[e])return modules[e].create(t);throw new Error("Nodule ["+e+"] was not found.")}throw new Error("Module name is not a string. Wrong Arguments")},Core.extend=function(e,t,n){if("string"==typeof modules[e]){if("object"==typeof t)return modules[e].extend(t,n);throw new Error("Unable to extend target of tyoe ["+typeof t+"] bu module constructor ["+e+"].")}},Core.define=function(e,t){if(core||(core=new Reflect),"string"==typeof e){if(void 0!==properties[e])throw new Error("Unable to define property ["+e+"]. Already defined!");return"function"==typeof e?properties[e]=getRouteFunction(t):null===e&&"undefined"==typeof e&&"object"==typeof e||(properties[e]=t),core}};var $R=core;Core(function Application(e,t,n){var r=this;n.define("fps",58.8,{isNumber:!0,greater:0,under:61}).watch(function(e){t.fps(e)}),n.define("canvas",null,{isString:!0}).watch(function(t){e.element(t)}),this.$=function(e,t){if("string"!=typeof e)throw new Error("Unable to set API method. Name is not a string.");if("$"===e.charAt(0))throw new Error("Unable to set API function. Function name starts with $");if(this[e])throw new Error("Application API property ["+e+"] duplication!");if("function"!=typeof t)throw new Error("Application API property ["+e+"] value is not a function");this[e]=function(){var e=t.apply(this,arguments);return void 0===e?r:e}},this.config=function(e,t){if("string"==typeof e)if("undefined"!=typeof t&&"function"!=typeof t)n.set(e,t);else{if("function"!=typeof t)return n.get(e);n.watch(e,t)}else{if("object"!=typeof e||e.constructor===Array)throw new Error("Unable to config application. Config format is invalid");for(var r in e)e.hasOwnProperty(r)&&n.set(r,e[r])}return this}}),Core(function Audio(){var e=new AudioContext;this.context=function(){return e}}),Core(function Canvas(e){function DrawScene(e,t){if(u){c[0]=n,c[1]=e,c[2]=t;for(var r=0;r<s.length;r++)try{s[r].f.apply(a,c)}catch(o){throw console.error(o),new Error("Error emerged while drawing. \nQueue          : ["+s[r].o+"]\nQueue Ordering : ["+r+"]\nQueue Member   : ["+s[r].f.name+"]\nMessage        : "+o.message)}}}function resolve(e){for(var t=0;t<e.length;t++)e[t].call(a)}var t=null,n=null,r=[800,600],o=[],i=[],a=this,s=[],u=!1,c=[null,null,null];e.queue(0,DrawScene),this.element=function(e){if("string"==typeof e){var o=document.getElementById(e);if(!o||!o.getContext)throw new Error("Element with id [#"+e+"] was not found or not a canvas");var a=o.getContext("2d");if(!a)throw new Error("Element with id [#"+e+"] is not a canvas. Can not get 2d context.");o.setAttribute("width",r[0]),o.setAttribute("height",r[1]),n=a,t=o,u=!0,resolve(i)}else{if(!(e instanceof HTMLElement))return t;if(!e.getContext)throw new Error("Element is not a Canvas");var a=e.getContext("2d");if(!a)throw new Error("Element is not a Canvas. Can not get 2d context.");e.setAttribute("width",r[0]),e.setAttribute("height",r[1]),t=e,n=a,u=!0,resolve(i)}},this.queue=function(e,t){if("function"==typeof e){if(!e.name)throw new Error("Unable to enqueue callback. Provide a named function");s.push({o:0,f:t})}else{if("number"!=typeof e)throw new Error("Unable to enqueue callback. Wrong arguments.");if("function"!=typeof t)throw new Error("Unable to enqueue callback. Provide a named function");if(!t.name)throw new Error("Unable to enqueue callback. Provide a named function.");s.push({o:e,f:t})}return s.sort(function(e,t){return e.o-t.o}),this},this.size=function(e,n){return"number"==typeof e&&"number"==typeof n&&(e<0&&(e=0),n<0&&(n=0),r[0]===e&&r[1]===e||(r[0]=e,r[1]=n,t.setAttribute("width",e),t.setAttribute("height",n),resolve(o))),[r[0],r[1]]},this.resize=function(e){if("function"==typeof e)return o.push(e),this;throw new Error("Unable to set resize callback. f argument is not a function")},this.offresize=function(e){if("function"==typeof e)return o=o.filter(function(t){return t!==e}),o.push(e),this;throw new Error("Unable to set resize callback. f argument is not a function")},this["switch"]=function(e){if("function"==typeof e)return i.push(e),this;throw new Error("Unable to set switch callback. f argument is not a function")},this.ready=function(){return u}}),Core(function Classes(){function cls(e){try{var r=Core.inject("Injection",[e]);n[r.name()]&&console.warn("Global Class Library class ["+r.name()+"] has been overwritten.");for(var o in t)t.hasOwnProperty(o)&&t[o][r.name()]&&console.warn("Application ["+o+"] Class ["+r.name()+"] overrides global class.");n[r.name()]=r}catch(i){throw new Error("Unable to create class injection.")}}var e={},t={},n={};cls.app=function(e,r){if("string"!=typeof e)throw new Error("Unable to register ApplicationClass injection. App id is not a string.");t[e]||(t[e]={});try{var o=Core.inject("Injection",[r]);n[o.name()]&&console.warn("Application ["+e+"] Class ["+o.name()+"] overrides global class."),t[e][o.name()]=o}catch(i){throw new Error("Unable to create and register ApplicationClass for sources ["+e+"].")}},cls.sys=function(t){try{var n=Core.inject("Injection",[t]);e[n.name()]&&console.warn("System Class ["+n.name()+"] override."),e[n.name()]=n}catch(r){throw new Error("Unable to register SystemClass injection")}},this.getApplicationClasses=function(e){if("string"==typeof e){var r=Core.inject("Container",[n]);return t[e]?(r.source(r,"."),r.merge(t),r):(r.source(r,"."),r)}throw new Error("Unable to get application classes container. App id is not a string.")},this.getSystemClasses=function(){var t=Core.inject("Container",[e]);return t.source(t,"."),t},Core.define("class",cls)}),Core(function Config(){function Property(e,n,r){function checkValue(e){for(var n=!0,r=0;r<o;r++)if(!t[o[r].f](e,o.args)){n=!1;break}return n}var o=[],i=[];this.get=function(){var e=n;if(t.isArray(e)){e=[];for(var r=0;r<n.length;r++)e.push(n[r])}return e},this.name=function(){return e},this.set=function(e){if(checkValue(e))if(t.isArray(e)){n=[];for(var r=0;r<e.length;r++)n.push(e[r])}else n=e;for(var r=0;r<i.length;r++)i[r].call(this,this.get());return this.get()},this.watch=function(e){if("function"!=typeof e)throw new Error("Can not set config property watcher. Argument f is not a function.");return i.push(e),n};for(var a in r)if(r.hasOwnProperty(a)){if(void 0===r[a])throw new Error("Wrong parameter for config property ["+a+"]");if(!t[a])throw new Error("No such config value checker as ["+a+"]");o.push({f:a,args:[r[a]]})}if("object"==typeof n&&null!==n&&!t.isArray(n))throw new Error("Objects are not supported as config property value!");if(!checkValue(n))throw new Error("Initial ["+e+"]'s value does not meet config requirements.")}var e={},t={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isArray:function(e){return"object"==typeof e&&e.constructor===Array},custom:function(e,t){if("function"==typeof t[0])return t[0](e)},under:function(e,n){return t.isNumber(e)&&e<n[0]},greater:function(e,n){return t.isNumber(e)&&e>n[0]},eq:function(e,n){return t.isNumber(e)&&e===n[0]},isBool:function(e){return"boolean"==typeof e}};this.define=function(t,n,r){if("string"!=typeof t)throw new Error("Unable to define config property. Property name is not a string.");if(void 0===n)throw new Error("Config property value can not be undefined.");if(e[t])console.warn("Config property duplication on property name ["+t+"]");else try{e[t]=new Property(t,n,r)}catch(o){throw console.error("Unable to create config property ["+t+"]"),o}return e[t]},this.set=function(t,n){if("string"==typeof t&&e[t])return e[t].set(n);throw new Error("Unable to set property ["+t+"]. No such property.")},this.get=function(t){if("string"==typeof t)return e[t].get();throw new Error("Unable to get property ["+t+"]. No such property.")},this.watch=function(t,n){if("string"==typeof t){if("function"==typeof n){if(e[t])return e[t].watch(n);throw new Error("No such property as ["+t+"] to watch.")}throw new Error("Watcher callback is not a function")}throw new Error("Unable to watch config property. Property name is invalid or undefined")}}),Core(function Container(e,t){var n={},r={},o={};if(this.list=function(){return n},this.injection=function(e){var t=null,r=[];if("function"==typeof e){if(!e.name||!e.name.length)throw new Error("Anonymous function can not be injection constructor.");t=e}else{if("object"!=typeof e||e.constructor!==Array)throw new Error("Unknown type of injection config.");for(var o=0;o<e.length;o++){if("string"!=typeof e[o]||!e[o].length){if("function"==typeof e[o]&&e[o].name){t=e[o];break}throw new Error("Unknown type of injection name or constructor.")}r.push(e[o])}}r.push(t),n[t.name]&&console.warn("Injection ["+t.name+"] duplicated and has been overwritten"),n[t.name]=Core.inject("Injection",[r])},this.merge=function(t,r){if(t)try{for(var o in t)t.hasOwnProperty(o)&&Core.is(t[o],"Injection")&&(n[t[o].name()]&&console.warn("Injection ["+o+"] has been merged.s"),r?n[e[o].name()]=e[o].clone():n[e[o].name()]=e[o])}catch(i){throw new Error("Unable to merge libs.")}},this.source=function(e,t){if(e&&"object"==typeof e)if(Core.is(e,"Container")){if(t||(t=!1),"string"==typeof t&&t.length||t===!1){e.$$LOOP=!0;var n=!1;this.$LOOP&&(n=!0),delete e.$$LOOOP,r[t?t:"$$noprefix"]=Core.inject("Source",[t,e,n])}}else if(e.constructor===Array){for(var o=!0,n=[],i=0;i<e.length;i++)"object"==typeof e[i]&&Core.is(e[i],"Container")?(e[i].$$LOOOP=!0,this.$$LOOOP?n.push(!0):n.push(!1),delete e[i].$$LOOOP):o=!1;if(!o)throw new Error("Source container config is not valid. One of the containers provided is not an InjectionContainer instance");t||(t=!1),("string"==typeof t&&t.length||t===!1)&&(r[t?t:"$$noprefix"]=Core.inject("Source",[t,e,n]))}},this.clone=function(){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t].clone());var o=Core.inject("Container",[e]);for(var i in r){for(var a=r[i].containers(),s=r[i].loop(),u=r[i].prefix(),c=[],l=0;l<a.length;l++)s[l]?c.push(o):c.push(a[l].clone());o.source(c,u)}return o},this.findSourceByPrefix=function(e){return e===!1?r.$$noprefix:"string"==typeof e?r[e]:null},this.findSourceByInjectionName=function(e){var t=null;if(o[e])return o[e];for(var n in r)if(r.hasOwnProperty(n)&&r[n].prefix()&&r[n].has(e)){t=r[n],o[e]=t;break}if(!t&&r.$$noprefix&&r.$$noprefix.has(e)&&(t=r.$$noprefix,o[e]=t),!t)throw new Error("Unable to find source containing injection ["+e+"]. ");return t},this.resolve=function(e,t){if("extend"===t){if(n[e]){for(var r={dependencies:[],$constructor:n[e].$constructor()},o=n[e].dependencies(),i=0;i<o.length;i++)if("@extend"===o[i])r.dependencies.push(n[e].extend(this));else if("@inject"===o[i])r.dependencies.push(n[e].inject(this));else{var a=this.findSourceByInjectionName(o[i]);if(!a)throw new Error("No source found containing ["+o[i]+"] for ["+e+"].");r.dependencies.push(a.resolve(o[i]))}return r}throw new Error("Unable to inject ["+e+"] no such injection found")}if(this.has(e)){for(var o=n[e].dependencies(),s=[],u=0;u<o.length;u++)if("@extend"===o[u])s.push(n[e].extend(this));else if("@inject"===o[u])s.push(n[e].inject(this));else{var c=this.findSourceByInjectionName(o[u]);if(!c)throw new Error("Injection ["+o[u]+"] for ["+e+"] source was not found.");s.push(c.resolve(o[u]))}return n[e].create(s,t)}throw new Error("Injection ["+e+"] was not found in library!")},this.resolveDirectInjection=function(e){var t=this.findSourceByInjectionName(e);return t?t.resolve(e,!0):t},this.has=function(e){return!!n[e]},this.get=function(e){return n[e]?n[e]:null},Core.is(e,"Injection"))n[e.name()]=e.clone();else if("object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&Core.is(e[i],"Injection")&&(t?n[e[i].name()]=e[i]:n[e[i].name()]=e[i].clone());else if(void 0!==e)throw new Error("Unable to create container. Wrong arguments. Lib is Injection or object")}),Core(function Fonts(e,t){function fontString(t){if(!o)return!1;for(var n="",r=0;r<t.weight.length;r++)for(var u=0;u<t.style.length;u++){for(var c=e.get("fontDir")+"/"+t.name+"-"+t.weight[r]+"-"+t.style[u],l='@font-face {font-family: "'+s.format(t.name)+"-"+t.weight[r]+'";src:',f=0;f<i.length;f++)l+=a[i[f]](c,t.name,t.style[u]),l+=f<i.length-1?",":";";l+="font-weight: "+t.weight[r]+";",l+="font-style:"+t.style[u]+";}",t[t.weight[r]+"-"+t.style[u]]=l,n+=t[t.weight[r]+"-"+t.style[u]]}return n}function update(e){var t="";for(var o in r)r.hasOwnProperty(o)&&(t+=fontString(r[o],e));n.innerHTML=t}function inArray(e,t){for(var n=!1,r=0;r<e.length;r++)if(e[r]===t){n=!0;break}return n}var n=document.createElement("style"),r={},o=!1,i=e.define("fontFormats",["eot","svg","ttf","woff"],{isArray:!0,custom:function(e){for(var t=!0,n=0;n<e.length();n++)if("eot"!==e[n]||"svg"!==e[n]||"ttf"!==e[n]||"woff"!==e[n]){t=!1;break}return t}}).watch(function(e){o=!0,i=e,update()}),a={eot:function(e){return'url("'+e+'.eot?#iefix") format("embedded-opentype")'},woff:function(e){return'url("'+e+'.woff") format("woff")'},ttf:function(e){return'url("'+e+'.ttf") format("truetype")'},svg:function(e,t,n){return'url("'+e+".svg#"+t+"-"+(n.charAt(0).toUpperCase()+n.slice(1))+'") format("svg")'}},s=this;e.define("fontDir","./fonts",{isString:!0}),document.getElementsByTagName("head")[0].appendChild(n),this.font=function(e,t,n,o){r[t]||(r[t]={name:t}),r[t].weight||(r[t].weight=[]),r[t].style||(r[t].style=[]),inArray(r[t].weight,n)||r[t].weight.push(n),inArray(r[t].style,o)||r[t].style.push(o),update(e)},this.format=function(e){return t+"-"+e},this.formats=function(){for(var e=[],t=0;t<i.length;t++)e.push(i[t]);return e}}),Core(function Helpers(){function helper(t){try{var n=Core.inject("Injection",[t]);e[n.name()]&&console.warn("helper ["+n.name()+"] override."),e[n.name()]=n}catch(r){throw new Error("Unable to create Helper.")}}var e={},t={};Core.define("helper",helper),helper.system=function(n,r){try{var o=Core.inject("Injection",[n]);t[o.name()]&&console.warn("System Helper ["+o.name()+"] Duplicate declaration override."),t[o.name()]=o,r&&(e[o.name()]?console.warn("System Helper ["+o.name()+"] overrides user helper. Skipped system helper."):e[o.name()]=o)}catch(i){}},this.getSystemHelpers=function(e){var n=Core.inject("Container",[t]);return n.source(n,"+"),n.source(e,"@"),n},this.getPublicHelpers=function(t){var n=Core.inject("Container",[e]);return n.source(n,"+"),n.source(t,"@"),n}}),Core(function Injection(e,t){var n=e,r=null,o=[],i=this;if(t){if("object"!=typeof e)throw new Error("Unable to create PreResolvedInjection! con argument is not an object!");n=e.constructor,r=e,o=[]}else{if("function"==typeof e&&e.name)n=e;else if("object"==typeof e&&e.constructor===Array)for(var a=0;a<e.length;a++)if("string"==typeof e[a]&&e[a].length)o.push(e[a]);else if("function"==typeof e[a]&&e[a].name){n=e[a];break}if(!n)throw new Error("Injection constructor undefined!")}this.name=function(){return n.name},this.dependencies=function(){for(var e=[],t=0;t<o.length;t++)e.push(o[t]);return e},this.extend=function(e){if(t)throw new Error("You can not extend with ["+n.name+"]!");return function(t,n){if("object"!=typeof t)throw new Error("Extend target should be an object!");if("string"!=typeof n)throw new Error("Extend class name should be a string!");var r=e.findSourceByInjectionName(n);if(!r)throw new Error("Unable to find injection ["+n+"] for ["+i.name()+"]");var o=r.resolveInjectionDependancies(n);o.$constructor.apply(t,o.dependencies)}},this.inject=function(e){if(t)throw new Error("You can not inject ["+n.name+"] directly");return function(t){return e.resolveDirectInjection(t)}},this.create=function(e,o){return t?r:o?(e.unshift(null),new(Function.prototype.bind.apply(n,e))):(r||(e.unshift(null),r=new(Function.prototype.bind.apply(n,e))),r)},this.$constructor=function(){return n},this.clone=function(){return new Injection(e,t)}}),Core(function Root(){function createApplication(o){var i=Core.inject("Container",[e[o]]),a=Core.inject("Ticker"),s=Core.inject("Canvas",[a]),u=Core.inject("Audio",[]),c=Core.inject("Config",[o]),l=Core.inject("Fonts",[c,o]),f=Core.inject("Application",[s,a,c]),h={};h.Ticker=Core.inject("Injection",[a,!0]),h.Canvas=Core.inject("Injection",[s,!0]),h.API=Core.inject("Injection",[f,!0]),h.Fonts=Core.inject("Injection",[l,!0]),h.Config=Core.inject("Injection",[c,!0]),h.Audio=Core.inject("Injection",[u,!0]);var p=Core.inject("Container",[h]),v=r.getSystemHelpers(p),d=r.getPublicHelpers(p),g=n.getApplicationClasses(o),y=n.getSystemClasses(o),b=t.getApplicationServices(v,y,p);i.source(b,!1),i.source(g,"."),i.source(d,"+"),i.source(p,"@"),g.source(b,!1),g.source(p,"@"),g.source(v,"+");for(var m=0;m<b.length;m++){var w=b[m].list();for(var C in w)w.hasOwnProperty(C)&&b[m].resolve(C)}return i.resolve(o),f}var e={},t=Core.get("Services"),n=Core.get("Classes"),r=Core.get("Helpers");Core.define("app",function(t){try{var n=Core.inject("Injection",[t]);e[n.name()]&&console.warn("Application ["+n.name()+"] override. Remove duplicates"),e[n.name()]=n}catch(r){throw console.error("Unable to register Application constructor."),r}}),Core.define("run",function(t){if("string"==typeof t){if(e[t])return createApplication(t);throw new Error("Application ["+t+"] not found.")}throw new Error("Unable to get sources. App Id is not a string")})}),Core(function Services(){function service(t){if("object"==typeof t&&t.constructor===Array){for(var n=null,r=0;r<t.length;r++)if("function"==typeof t[r])n=t[r].name;else if("string"!=typeof t[r])throw new Error("Unable to create service. Invalid config");n&&(e[n]&&console.warn("Duplicate declaration. Service ["+n+"] has been overwritten"),e[n]=Core.inject("Injection",[t]))}else if("function"==typeof t){if(!t.name)throw new Error("Unable to create service. Constructor is not a named function.");e[t.name]&&console.warn("Duplicate declaration. Service ["+n+"] has been overwritten"),e[t.name]=Core.inject("Injection",[t])}}function plugin(e,t){if("string"!=typeof e)throw new Error("Unable to create plugin. Invalid arguments.");if("object"==typeof t&&t.constructor===Array){for(var r=null,o=0;o<t.length;o++)if("function"==typeof t[o])r=t[o].name;else if("string"!=typeof t[o])throw new Error("Unable to create plugin. Invalid constructor arguments");if(!r)throw new Error("Unable to create plugin. Constructor is not a named function");n[e]||(n[e]={}),n[e][r]&&console.warn("Plugin duplicated. ["+r+"] has been overwritten"),n[e][r]=Core.inject("Injection",[t])}}function getPluginManager(e){function Plugins(){for(var t=[],n=0;n<e.length;n++){var r=e[n].list();for(var o in r)r[o].$constructor()!==Plugins&&t.push(o)}this.each=function(e){for(var n=0;n<t.length;n++)e(t[n]);return this},this.list=function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}}return Core.inject("Container",[Core.inject("Injection",[Plugins])])}var e={},t={},n={},r={};plugin["class"]=function(e,t,n){if("string"==typeof e){if("string"!=typeof t)throw new Error("Unable to create plugin. Invalid arguments.");if("object"==typeof n&&n.constructor===Array){for(var o=null,i=0;i<n.length;i++)if("function"==typeof n[i])o=n[i].name;else if("string"!=typeof n[i])throw new Error("Unable to create plugin class. Invalid constructor arguments");if(!o)throw new Error("Unable to create plugin. Constructor is not a named function");r[e]||(r[e]={}),r[e][t]||(r[e][t]={}),r[e][t][o]&&console.warn("Plugin class duplicated. ["+o+"] has been overwritten"),r[e][t][o]=Core.inject("Injection",[n])}else{if("function"!=typeof n)throw new Error("Unable to register plugin class. Invalid arguments");n.name&&(r[e]||(r[e]={}),r[e][t]||(r[e][t]={}),r[e][t][n.name]&&console.warn("Plugin class duplicated. ["+n.name+"] has been overwritten"),r[e][t][n.name]=Core.inject("Injection",[n]))}}},service["class"]=function(e,n){var r=null;if("string"!=typeof e)throw new Error("Unable to create class. Invalid arguments");if("function"==typeof n){if(!n.name)throw new Error("Unable to create class for extension ["+e+"]. Constructor is not a named function");t[e]||(t[e]={}),t[e][n.name]=Core.inject("Injection",[n])}else if("object"==typeof n&&n.constructor===Array){for(var o=0;o<n.length;o++)if("function"==typeof n[o])r=n[o].name;else if("string"!=typeof n[o])throw new Error("Unable to create class for service["+e+"]. Invalid config.");r&&(t[e]||(t[e]={}),t[e][r]&&console.warn("Duplicate declaration. Class ["+r+"] for extension ["+e+"] has been overwritten"),t[e][r]=Core.inject("Injection",[n]))}},Core.define("service",service),Core.define("plugin",plugin),this.getApplicationServices=function(o,i,a){var s,u,c={},l={},f={},h={};for(var p in e)if(e.hasOwnProperty(p)){s=Core.inject("Container",[e[p]]);var v=[];if(n[p])for(var d in n[p])if(n[p].hasOwnProperty(d)){if(u=Core.inject("Container",[n[p][d]]),f[p]||(f[p]={}),f[p][d]=u,r[p][d]){var g=Core.inject("Container",[r[p][d]]);h[p]||(h[p]={}),h[p][d]=g,u.source(g,"$"),g.source(g,"$"),g.source(i,"."),g.source(o,"+")}u.source(a,"@"),u.source(i,"."),u.source(o,"+"),v.push(u)}if(v.push(getPluginManager(v)),s.source(v,"<"),s.source(i,"."),s.source(o,"+"),s.source(a,"@"),t[p]){var y=Core.inject("Container",[t[p]]);s.source(y,"$"),y.source(y,"$"),y.source(i,"."),y.source(v,"<"),y.source(o,"+"),y.source(a,"@"),l[p]=y}else l[p]=null;c[p]=s}for(var b in c)if(c.hasOwnProperty(b)){var m=[];for(var w in c)c.hasOwnProperty(w)&&b!==w&&m.push(c[w]);if(c[b].source(m,!1),l[b]&&l[b].source(m,!1),f[b])for(var C in f[b])f[b].hasOwnProperty(C)&&f[b][C].source(m,!1);if(h[b])for(var x in h[b])h[b].hasOwnProperty(x)&&h[b][x].source(m,!1)}var A=[];for(var j in c)c.hasOwnProperty(j)&&A.push(c[j]);return o.source(A,!1),A}}),Core(function Source(e,t,n){function stripPrefix(t){if(e){for(var n="",o=0;o<t.length;o++)o>=r.length&&(n+=t[o]);return n}return t}var r=!!e&&e,o=[],i={},a={};if("object"==typeof t)if(Core.is(t,"Container"))o=[t];else{if(t.constructor!==Array)throw new Error("Invalid type if container!");for(var s=!0,u=0;u<t.length;u++){if(!Core.is(t[u],"Container")){s=!1;break}o.push(t[u])}if(0===t.length&&(s=!1),!s)throw new Error("Container array is empty!")}this.check=function(t){if(a[t])return a[t];var n=!0;if(e)for(var r=0;r<e.length;r++)t[r]&&t[r]===e[r]||(n=!1);return a[t]=n,n},this.has=function(e){var t=!1;if(i[e])return!0;if(this.check(e))for(var n=0;n<o.length;n++){var r=stripPrefix(e);if(o[n].has(r)){t=!0,i[e]=o[n];break}}return t},this.loop=function(){return n},this.containers=function(){return o},this.source=function(){for(var e=0;e<o.length;e++)o[e].source.apply(o[e],arguments)},this.prefix=function(e){return void 0!==e?e===r:r},this.resolve=function(e,t){var n=null;if(this.has(e)){var r=null,a=stripPrefix(e);i[e]&&(r=i[e]);for(var s=0;s<o.length;s++)o[s].has(a)&&(r=o[s]);r&&(n=r.resolve(a,t))}return n},this.resolveInjectionDependancies=function(e){var t=null,n=null;if(i[e])return n=stripPrefix(e),i[e].resolve(n,"extend");if(this.has(e)){n=stripPrefix(e);for(var r=0;r<o.length;r++)o[r].has(n)&&(t=o[r],i[e]=o[r]);if(t)return t.resolve(n,"extend")}}}),Core(function Ticker(){function resolve(e,t){var n=[];if("object"==typeof t&&t.constructor===Array?n=t:void 0!==t&&n.push(t),"string"!=typeof e||!e.length)throw new Error("Unable to resolve event. Event parameter is not a string or empty");if(!s[e])throw new Error("Unable to resolve event ["+e+"]. No such event.");for(var r=0;r<s[e].length;r++)s[e][r].apply(u,n)}var e=(1e3/58.8).toFixed(2),t=[],n=0,r=[null,0],o=function(){for(var e=0;e<t.length;e++)try{t[e].f.apply(u,r)}catch(o){throw new Error("Error emerged while resolving callbacks.\nQueue   : ["+t[e].o+"]\nOrder   : ["+e+"]\nName    : ["+t[e].f.name+"].\nMessage : "+o.message)}n++},i=function(){r[0]=new Date,r[1]=n;try{o()}catch(e){throw clearInterval(a),resolve("error",e),new Error("Unable to run ticker anymore. Error emerged during sources ticker progress.\n Frame :"+n+"\nDate  : "+r[0]+"\n"+e.message)}},a=null,s={stop:[],start:[],error:[]},u=this;this.on=function(e,t){if("string"!=typeof e||!e.length)throw new Error("Unable to set event. Event argument is not a string or empty.");if(!s[e])throw new Error("Unable to set event ["+e+"] handler. No such event.");if("function"!=typeof t)throw new Error("Unable to set event ["+e+"]. Callback is not a function.");return s[e].push(t),this},this.stop=function(){return a&&(n=0,clearInterval(a),a=null,resolve("stop",this)),this},this.start=function(){return a||(a=setInterval(i,e),resolve("start",this)),this},this.fps=function(t){return"number"!=typeof t?(1e3/e).toFixed(2):(t>60&&(t=60),t<=0&&(t=1),e=(1e3/t).toFixed(2),a&&(this.stop(),this.start()),this)},this.queue=function(e,n){if("function"==typeof e){if(!e.name)throw new Error("Unable to set callback. Callback is not a named function.");t.push({o:0,f:n})}else{if("number"!=typeof e)throw new Error("Unable to create callback. Wrong arguments passed");if("function"!=typeof n)throw new Error("Unable to queue. callback is not a function");if(!n.name)throw new Error("Unable to set callback. Callback is not a named function.");t.push({o:e,f:n})}return t.sort(function(e,t){return e.o>t.o}),this}}),$R.plugin("Objects",["@inject","Debug",function Animation(e,t){function findCompetitor(e,t){t.$$SELF=!0;for(var r=null,o=0;o<n.length;o++)if(!n[o].$$SELF&&n[o].active()&&!n[o].done()){for(var i=!1,a=0;a<e.length;a++)if(n[o].hasProperty(e[a])){i=!0;break}i&&(r||(r=[]),r.push(n[o]))}return delete t.$$SELF,r}function CheckAnimationQueue(){for(var e=[],t=0;t<n.length;t++)if(n[t].active())n[t].done()||e.push(n[t]);else{var r=n[t].properties();if(n[t].queue())findCompetitor(r,n[t])||n[t].start();else{var o=findCompetitor(r,n[t]);if(o)for(var i=0;i<o.length;i++)for(var a=0;a<r.length;a++)o[i].stop(r[a]);n[t].start()}e.push(n[t])}n=e}function CreateAnimationType1(t,r,i,a){var s=this.extension("Style"),u={};if(u[t]=r,o[t]){var c=[{ordering:s.ordering(t),morph:o[t],value:r}],l={};i&&"number"==typeof i&&(l.duration=i),a&&"string"==typeof a&&(l.easing=a);var f=e("$Animation");f.config(this,c,l,CheckAnimationQueue),n.push(f)}}function CreateAnimationType2(r,i,a){var s=this.extension("Style"),u={};"object"==typeof i?u=i:"number"==typeof i?(u={duration:i},"string"==typeof a&&(u.easing=a)):"string"==typeof i&&(u={easing:i});var c={};for(var l in r)r.hasOwnProperty(l)&&(o[l]?c[l]={ordering:s.ordering(l),morph:o[l],value:r[l]}:t.warn({type:this.type(),property:l},"Property {property} of {type} can not be animated!"));var f=[];for(var h in c)f.push(c[h]);if(f.sort(function(e,t){return e.ordering-t.ordering}),f.length){var p=e("$Animation");p.config(this,f,u,CheckAnimationQueue),n.push(p)}else t.warn("No properties to animate!")}var n=[],r=!1,o={};this.morph=function(t,n,r,i){var a=e("$Morph");a.config(t,this.object(),n,r,i),a.valid()&&(o[t]=a)},this.extractMorph=function(e){return o[e]},this.register("animate",function(e,n,r,o){return"string"==typeof e&&n?CreateAnimationType1.apply(this,arguments):"object"==typeof e&&e.constructor!==Array?CreateAnimationType2.apply(this,arguments):t.warn("Unable to create animation. Wrong arguments"),CheckAnimationQueue(),this}),this.register("animated",function(){return r}),this.register("stop",function(e){for(var t=0;t<n.length;t++)n[t].stop(e);return this}),this.destroy(function(){for(;n[0];)n[0].stop(),n.unshift();n=void 0,r=void 0;for(var e in o)o.hasOwnProperty(e)&&delete o[e]})}]),$R.plugin("Objects",["Debug","@inject",function Box(e,t){function BoxWrapperFunc(){if(n&&o)return n.call(o,r),r}var n=null,r=t("$Box");this.f=function(t){return"function"!=typeof t?void e.error("Box Extension / Box function is not a function!"):(n=t,void delete this.f)};var o=this.object();this.box=function(){return o.extension("Cache").value("box",BoxWrapperFunc)},this.purge=function(){o.extension("Cache").purge("box");var e=o.parent();e&&e.extension("Box").purge()},this.register("box",function(){return this.extension("Cache").value("box",BoxWrapperFunc).get()}),this.register("width",function(){return this.extension("Cache").value("box",BoxWrapperFunc).get().size[0]}),this.register("height",function(){return this.extension("Cache").value("box",BoxWrapperFunc).get().size[1]}),this.register("left",function(){return this.extension("Cache").value("box",BoxWrapperFunc).get().position[0]}),this.register("top",function(){return this.extension("Cache").value("box",BoxWrapperFunc).get().position[1]}),this.destroy(function(){n=void 0,r=void 0})}]),$R.plugin("Objects",["Debug",function Cache(e){var t={};this.value=function(n,r){return"string"!=typeof n?void e.error("Object Value Cache / name is not a string!"):"function"!=typeof r?void e.error("Object Value Cache / func is not a function"):(t[n]||(t[n]={value:r(),func:r,relevant:!0}),this.get(n))},this.purge=function(n){return"string"!=typeof n?void e.error("Object Value Cache / Can not purge cache of non string name"):void(t[n]&&(t[n].relevant=!1))},this.get=function(n){return"string"!=typeof n?void e.error("Object Value Cache / Can not get value of non-string name"):t[n]?(t[n].relevant||(t[n].value=t[n].func(),t[n].relevant=!0),t[n].value):void 0},this.destroy=function(){var e;for(e in t)t.hasOwnProperty(e)&&delete t[e]}}]),$R.plugin("Objects",["Debug",function Drawer(e){function renderAllowed(e){if(i.length>0){for(d=0;d<i.length&&(a=i[d].apply(r,e),a!==!1);d++);return a}return!0}var t=null,n=null,r=this.object(),o=0,i=[],a=!0,s=null,u=[],c=0,l=!1,f={},h={},p=0,v=0;this.spriteUpdated=function(t){this.$$CALL?l=!0:"function"==typeof t?u.push(t):e.error({cb:typeof t},"Sprite update callback {cb} is not a function.",this)};var d=0;this.drawFunction=function(n){return"function"!=typeof n?(e.error({},"ObjectDrawer / func is not a function!"),void delete this.drawFunction):(t=n,void delete this.drawFunction)},this.updateFunction=function(t){return"function"!=typeof t?(e.error({},"ObjectDrawer / func is not a function!"),void delete this.updateFunction):(n=t,void delete this.updateFunction)},this["export"]=function(){if(null===s)return s=arguments[0],this["export"]=function(){if(l){for(c=0;c<u.length;c++)u[c].call(r);l=!1}return"function"==typeof s?s():s},delete this.exports,this},this.filter=function(t){"function"==typeof t?i.push(t):e.error({tfunc:typeof t},"Drawer Filter callback {tfunc} is not a function",this)},this.pipe=function(t,n){return n=void 0===n?0:n,"number"==typeof n?"function"==typeof t?(n>100?(h[n]||(h[n]=[]),h[n].push(t),v++):(f[n]||(f[n]=[]),f[n].push(t),p++),o++):e.error({ftype:typeof t},"Pipe callback {ftype} is not a function",this):e.error({order:n},"Invalid pipe function ordering {order}",this),r},this.unpipe=function(e){if("function"==typeof e){var t;for(t in f)f.hasOwnProperty(t)&&(f[t]=f[t].filter(function(t){return t!==e||(o--,
p--,!1)}));for(t in h)h.hasOwnProperty(t)&&(h[t]=h[t].filter(function(t){return t!==e||(o--,v--,!1)}))}return r},this.register("pipe",this.pipe),this.register("unpipe",this.unpipe);var g=0,y=0,b=null,m=null,w=null,C=[null,null,null];this.draw=function(){if(l){for(c=0;c<u.length;c++)u[c].call(r);l=!1}if(a=!0,renderAllowed(arguments)){if(C[0]=arguments[0],C[1]=arguments[1],C[2]=arguments[2],b=C[0],b.save(),n&&n.apply(this,C),p)for(y in f){if(f.hasOwnProperty(y))for(g=0;g<f[y].length&&(C[0].save(),w=f[y][g].apply(this,C),C[0].restore(),m=!!w&&w,C[0]=m,m);g++);if(!m)break}if(C[0]&&(C[0]===b?(C[0].globalCompositeOperation=r.extension("Style").get("blending"),C[0].globalAlpha*=r.extension("Style").get("opacity"),t&&t.apply(this,C)):(b.globalCompositeOperation=r.extension("Style").get("blending"),b.globalAlpha*=r.extension("Style").get("opacity"),t&&t.apply(this,C),b.drawImage(C[0].canvas,0,0,C[0].canvas.width,C[0].canvas.height),C[0]=b),v))for(y in h){if(h.hasOwnProperty(y))for(g=0;g<h[y].length&&(C[0].save(),w=h[y][g].apply(this,C),C[0].restore(),m=!!w&&w,C[0]=m,m);g++);if(!m)break}b.restore()}},this.destroy(function(){t=void 0,n=void 0,r=void 0,o=void 0,i=[],a=void 0,s=void 0,u=[],c=void 0,l=void 0,f={},h={},p=void 0,v=void 0,g=void 0,y=void 0,b=void 0,m=void 0,w=void 0,C=[null,null,null],d=void 0;for(var e;i[0];)i.shift();for(i=void 0;u[0];)u.shift();for(u=void 0;C[0];)C.shift();C=void 0;for(e in f)if(f.hasOwnProperty(e)){for(;f[e][0];)f[e].unshift();delete f[e]}for(e in h)if(h.hasOwnProperty(e)){for(;h[e][0];)h[e].unshift();delete h[e]}f=void 0,h=void 0})}]),$R.plugin("Objects",["Debug",function Layers(e){function removeObjectFromLayers(e){var n=!1;for(var r in t)if(t.hasOwnProperty(r)){n=!1;for(var o=0;o<t[r].length;o++)if(t[r][o]===e){n=!0,t[r].splice(o,1);break}if(n)break}}var t={0:[]},n=0;this.register("layer",function(t){if(void 0===t)return n;if("number"!=typeof t||t<0)return e.warn({n:t},"Value {n} is not a number or less than 0",this),this;if(this.parent()){var r=this.parent().extension("Layers");r.place(t,this)}return n=t,this}),this.place=function(e,n){removeObjectFromLayers(n),t[e]||(t[e]=[]),t[e].push(n)},this.remove=function(e){removeObjectFromLayers(e)},this.forEach=function(e){var n=0,r=null;for(r in t)for(n=0;n<t[r].length;n++)e.call(t[r][n],t[r][n])},this.layers=function(){return t},this.destroy(function(){var e;n=void 0;for(e in t)if(t.hasOwnProperty(e)){for(;t[e][0];)t[e][0].destroy(),t[e].shift();delete t[e]}})}]),$R.plugin("Objects",["Debug",function Matrix(e){function MatrixWrapper(){return t.call(n)}var t=null,n=this.object();this.f=function(e){"function"==typeof e&&(t=e,delete this.f)},this.register("matrix",function(){return this.extension("Cache").value("transformMatrix",MatrixWrapper)}),this.purge=function(){if(n.extension("Cache").purge("transformMatrix"),"Group"===n.type()){var e=n.extension("Layers");e.forEach(function(){this.extension("Cache").purge("transformMatrix")})}},this.destroy(function(){t=void 0,n=void 0})}]),$R.plugin("Objects",["@Canvas","+Drawer",function Offset(e,t){var n=[[0,0],[0,0],[0,0],[0,0]],r=e.size(),o=null,i=!1;this.register("beyond",function(t){i=!0,r=e.size(),o=this.extension("Box").box().get(),n[0]=this.matrix().trackLocalPoint([o.position[0],o.position[1]],!0),n[1]=this.matrix().trackLocalPoint([o.size[0]+o.position[0],o.position[1]],!0),n[2]=this.matrix().trackLocalPoint([o.size[0]+o.position[0],o.size[1]+o.position[1]],!0),n[3]=this.matrix().trackLocalPoint([o.position[0],o.size[1]+o.position[1]],!0);var a=Math.min(n[0][0],n[1][0],n[2][0],n[3][0]),s=Math.max(n[0][0],n[1][0],n[2][0],n[3][0]),u=Math.max(n[0][1],n[1][1],n[2][1],n[3][1]),c=Math.min(n[0][1],n[1][1],n[2][1],n[3][1]),l=s-a,f=u-c;return!(a>-l&&c>-f&&u<f+r[1]&&s<l+r[0])&&i}),this.destroy(function(){for(;n[0];){for(;n[0][0];)n[0].shift();n.shift()}for(n=void 0;r[0];)r.shift();r=void 0})}]),$R.plugin("Objects",["+Mouse","Debug",function Mouse(e,t){function GetEventArray(e){return n[e]}var n={dragmove:[],dragstart:[],dragend:[],mousemove:[],mouseup:[],mousedown:[],mouseenter:[],mouseleave:[]},r=!1,o=function(){return!1};this.register("on",function(e,r){if(void 0===typeof e&&void 0===typeof r){for(var o in n)n[o].$OFF=!1;return this}if("string"==typeof e&&void 0===r){var i=GetEventArray(e);return i&&(i.$OFF=!1),this}if("string"==typeof e&&"function"==typeof r){var i=GetEventArray(e);return i?i.push(r):t.warn({e:e},"There is no event [{e}]"),this}return GetEventArray(e)?"function"!=typeof r?(t.warn({e:e,f:r},"Unable to set event handler for {[e]}. {[f]} is not a function!"),this):this:(t.warn({e:e},"Unable to set event handler for {[e]}. No such event found!"),this)}),this.register("off",function(e,r){if(void 0===e&&void 0===r){for(var o in n)n[o].$$OFF=!0;return this}if("string"==typeof e&&void 0===r){var i=GetEventArray(e);return i&&(i.$$OFF=!0),this}if("string"==typeof e&&"function"==typeof r){var i=GetEventArray(e);if(r.$$MOUSEFUNCSEARCH=!0,i){for(var a=null,o=0;o<i.length;o++)if(i[o].$$MOUSEFUNCSEARCH){a=o;break}return null!==a&&i.splice(a,1),this}}return GetEventArray(e)||t.warn({e:e},"Unable to uset event handler for {[e]}. no such event"),"function"!=typeof r&&t.warn({e:e,f:r},"Unable to unset function {[f]} from event {[e]}. Not a function!"),this}),this.register("mouseCheckFunction",function(n){return"string"==typeof n?(e[n+"CheckFunction"]&&(o=e[n+"UserCheckFunction"]),this):"function"!=typeof n?(t.warn({f:n},"Unable to set check function! {[f]} is not a function!",this),this):(o=n,this)}),this.register("disable",function(){return r=!0,this}),this.register("enable",function(){return r=!1,this}),this.register("disabled",function(){return r}),this.check=function(e,t){return!r&&o.call(e,[t[0],t[1]])};var i=null;this.cursorTransformFunction=function(e){"function"==typeof e&&(i=e)},this.applyCursorTransform=function(e){return i?i.call(this,e):e},this.hasEvent=function(e){return n[e]},this.propagate=function(e,t){var n=e.parent();if(n){var r=n.extension("Mouse");if(r.hasEvent(t.type())){var o=t.type(),i=t.originalTarget.call({$$MOUSEPROPAGATIONSETTER:n});r.resolve(n,o,i)}}},this.resolve=function(e,n,o){if(!r){var i=GetEventArray(n);if(i&&!i.$OFF)for(var a=0;a<i.length;a++)i[a].call(e,o);o.propagate()?this.propagate(e,o):t.warn({e:n},"Unable to resolve event [{e}]. No such event!")}};for(var a in n)n[a].$$OFF=!1;this.destroy(function(){var e;for(e in n)if(n.hasOwnProperty(e)){for(;n[e][0];)n[e].shift();delete n[e]}r=void 0,o=void 0})}]),$R.plugin("Objects",["Debug",function Style(e){function GetSetterFunction(r,o){return function(a){var s=o.apply(this,[a,t[r].value]),u=t[r].value;if(s||"boolean"!=typeof s){var c=[u,s];t[r].value=s,n[r]||(n[r]=[]);for(var l=0;l<n[r].length;l++)n[r][l].apply(this,c)}else e.warn({n:r},"Unable to set property {n}. Invalid value!",i)}}function GetGetterFunction(e,n){return function(){return n.call(null,t[e].value)}}function StyleType1(t,n){var o=this;r[t]?r[t].apply(o,[n]):e.warn({property:t,type:o.type()},"Object type {type} has no property {property}",o)}function StyleType2(n){var o=this,i=[];for(var a in n)n.hasOwnProperty(a)&&r[a]&&(r[a]?i.push({ordering:t[a].ordering,property:a,setter:r[a]}):e.warn({property:a,type:o.type()},"Object type {type} has no style property {property}",o));if(i.length){i.sort(function(e,t){return e.ordering-t.ordering});for(var s=0;s<i.length;s++)i[s].setter.apply(o,[n[i[s].property]])}else e.warn({o:JSON.stringify(n),type:o.type()},"Object {type} has got no style properties to be applied in {o}",o)}function StyleType3(n){var r=this;return o[n]?o[n].apply(r,[t[n].value]):(e.warn({property:n,type:r.type()},"Object {type} has no property {property}",r),this)}var t={},n=[],r={},o={},i=this;this.register("style",function(t,n){if("string"==typeof t&&void 0!==n)StyleType1.apply(this,[t,n]);else if("object"==typeof t)StyleType2.apply(this,[t]);else{if("string"==typeof t&&void 0===n)return StyleType3.apply(this,[t]);e.error("Invalid .style() arguments",this)}return this}),this.register("watch",function(t,r){if("string"!=typeof t&&("object"!=typeof t||t.constructor!==Array))return void e.error("Property is not an array or string",this);if("function"!=typeof r)return void e.error({p:t},"Style change callback for property {p} is not a function",this);if(t.constructor===Array)for(var o=0;o<t.length;o++)"string"!=typeof t[o]?e.error({i:o,p:t[o]},"Property {i} is not a string {p}",this):(n[t[o]]&&"object"==typeof n[t[o]]&&n[t[o]].constructor===Array||(n[t[o]]=[]),n[t[o]].push(r));else"string"==typeof t?(n[t]&&n[t].constructor===Array||(n[t]=[]),n[t].push(r)):e.error({p:t},"Style property {p} is not an array or string",this)}),this.define=function(n,i,a,s,u){return t[i]?void e.error({name:i},"Duplicated Style Property {name}",this):"string"!=typeof i||0===i.length?void e.error({n:i},"Property {name} is not a string or empty"):"function"!=typeof u||"function"!=typeof s?void e.error({n:i},"Unable to define property {n}. Getter or setter is undefined"):("number"!=typeof n&&e.error({n:i},"Style property{n} application order in not a number"),t[i]={ordering:n,value:a},r[i]=GetSetterFunction(i,s),void(o[i]=GetGetterFunction(i,u)))},this.get=function(n){return t[n]?t[n].value:(e.warn({n:n},"Getting value of property {n} that does not exist"),!1)},this.ordering=function(n){return t[n]?t[n].ordering:(e.warn({n:n},"Getting ordering of property{n} that does not exist!"),!1)},this.destroy(function(){var e;i=void 0;for(e in t)t.hasOwnProperty(e)&&delete t[e];for(e in r)r.hasOwnProperty(e)&&delete r[e];for(e in o)o.hasOwnProperty(e)&&delete o[e];for(;n[0];)n.shift();n=void 0,r=void 0,o=void 0})}]),$R.plugin("Objects",["Debug","+Model","@inject",function Text(e,t,n,r){this.applyTo("Text");var o=this.object();if("Text"===o.type()){var a=[],s=/((\S+\s+)|(\S+$))/g,u=o.extension("Style"),c="",l=!1,f=[1/0,1/0],h=0,p=0;this.register("lines",function(){this.update();for(var e=[],t=0;t<a.length;t++)e.push(a[t].string())}),this.register("words",function(){this.update();for(var e=[],t=0;t<a.length;t++)for(var n=a[i].words(),r=0;r<n.length;r++)e.push(n.string());return e}),this.limits=function(e,t){f[0]=e,f[1]=t,l=!0},o.watch("str",function(e,t){t!==c&&(c=t)}),o.watch(["str","fontSize","lineHeight","color","weight","style"],function(){l=!0}),this.update=function(e){if(l||e){var t=c.match(s),r=0,o=0,i=u.get("size"),f=0;if(t){var v=u.get("systemFont"),d=u.get("fontSize"),g=u.get("lineHeight"),y=u.get("weight"),b=u.get("color"),m=u.get("style");a=[];for(var w=0;w<t.length;w++){var C=t[w].match(/\n/g),x=t[w].match(/\S+/g),A=n("$TextWordClass").string(x[0]);a[o]||(a[o]=n("$TextLineClass").font(v).size(d).height(g).color(b).style(m).weight(y)),a[o].push(A),r=a[o].width(),(r>=i[0]||C)&&o++,r>f&&(f=r+4)}p=a.length*u.get("lineHeight"),d>g?p+=d-g:d<g&&(p-=g-d),h=f,l=!1}}return this},this.textBlockHeight=function(){return this.update(),p},this.textBlockWidth=function(){return this.update(),h},this.forEachLine=function(e){this.update();for(var t=0;t<a.length;t++)e.apply(a[t],[t,a[t]])},this.destroy(function(){for(;a[0];)a.shift();for(a=void 0;f[0];)f.shift();f=void 0,o=void 0,c=void 0,h=void 0,p=void 0,s=void 0})}}]),$R.plugin("Objects",["Debug","Tree",function Tree(e,t){function normaliseIdentity(e){return e=e.replace(o,""),e=e.replace(i,function(e){return"-"+e.toUpperCase()}),e=e.replace("--","-"),e=e.replace(/(^-)|(-$)/g,"")}function checkTree(e,t){return e===t||!!e.parent()&&checkTree(e,e.parent())}function treeViolation(t,n){return t.type("Group")?!!checkTree(t,n)&&(t===n?t.parent()&&e.warn("You try to append group parent into itself."):e.warn("You try to append group parent into it's children."),!0):"Group"!==t.type()?(e.warn({target:t.type(),object:n.type()},"Yoy try to append [{object}] into [{target}]."),!0):void 0}var n=null,r=null,o=/[^a-zA-Z0-9-]+/gm,i=/[A-Z]/g,a=null;this.register("unmount",function(){return r?(this.parent()&&(this.parent().extension("Layers").remove(this),n=null),null):(e.warn("Unable to unmount a free object"),this)}),this.register("append",function(t){return r?(this.type("Group")?treeViolation(this,t)||(t.unmount(),a||(a=this.extension("Layers")),a.place(t.layer(),t),t.extension("Tree").parent(this),this.extension("Box").purge()):e.watch({type:this.type()}," Can not append. type[{type}] of parent is not allowed!"),this):(e.warn("Unable to append a free object"),this)}),this.register("appendTo",function(t){return r?(t.append(this),this):(e.warn("Unable to append a free object"),this)}),this.register("parent",function(){return n}),this.register("id",function(n){if(null===r)if("string"==typeof n){if(n=normaliseIdentity(n),n.length)return r=n,t.register(this),this;e.error("Normalised identity seems to be empty. Unable to register Graphics")}else{if(void 0===n)return r;e.error("Unable to set initial id. Id is not a string")}else if("string"==typeof n)n=normaliseIdentity(n),n.length?t.register(this,n):e.error("Normalised identity seems to be empty. Unable to register Graphics");else{if(void 0===n)return r;e.error("Id is not a string")}}),this.parent=function(t){return"function"==typeof t.type&&t.type("Group")||e.error({group:typeof t,type:t.type?t.type():"unknownType"},"Unable to set parent as {group}{type}. Object is not a group!",this),t?void(n=t):n},this.destroy(function(){t.unregister(this.object()),a=void 0})}]),$R.service(["@inject",function Api(e){this.control=function(t){var n=null;return"function"==typeof t.can&&t.can.$$APIPROTECTED&&(n=t.can.call({$$APIPROTECTED:!0})),n||(n=e("$ApiController"),n.wrap(t)),n}}]),$R.service["class"]("Api",["Debug","Is","Events",function ApiController(e,t,n){var r={},o=null,i=this;this.wrap=function(a){"undefined"!=typeof a.can&&e.error({target:a.constructor.name},"Target method collision. {target} already has .can field"),"undefined"!=typeof a["do"]&&e.error({target:a.constructor.name},"Target method collision. {target} already has .do field"),o=n.emitter(a),a.can=function(n){return this.$$APIPROTECTED?i:(t.properString(n)||e.error({t:a.constructor.name,n:typeof n},"{t}'s Api method {name} check failed. ActionName is not a string",this),!!r[n])},a.can.$$APIPROTECTED=!0,a.api=function(){var e=[];for(var t in r)e.push(r);return e},a["do"]=function(n,i){if(t.properString(n)||e.error({a:typeof n},"Invalid action parameter {a}. Action is not a string",this),a.can(n)){e.info({n:n},"Processing {n}",a),e.group(n);for(var s=0;s<r[n].length;s++)r[n][s].call(a,i);o&&o.resolve(n,i),e.groupEnd()}else e.warn({t:a.constructor.name,a:n},"{t} can not perform action {a}.",a)},this.define=function(n,i){t.properString(n)||e.error({n:typeof n},"Unable to define Api method {n}. Method name is not a string",this),a.can(n)?e.info({n:n},"Added api callback method for {n}",a):(r[n]=[],e.info({n:n},"Added API method {n}",a),o.register(n)),"function"==typeof i&&r[n].push(i)}}}]),$R.service(["@Canvas","@Config","Debug",function Canvas(Canvas,e,t){function compareOnResize(e){if("%"!==a&&"%"!==s)return i[0]=r,i[1]=o,Canvas.size(i[0],i[1]),!1;var t=p,n=v;Canvas.size(0,0),d&&clearTimeout(d),d=setTimeout(function(){var u=Canvas.element().parentNode,c=window.getComputedStyle(u,null);v=parseInt(c.getPropertyValue("height")),p=parseInt(c.getPropertyValue("width")),t!==p&&"%"===a&&t!==p&&(i[0]=Math.floor(p*(r/100))),n!==v&&"%"===s&&(i[1]=Math.floor(v*(o/100))),Canvas.size(i[0],i[1]),d=null,e()},200)}function GetCanvasOffset(e){var t=e?"offsetLeft":"offsetTop",n=0,r=Canvas.element();do isNaN(r[t])||(n+=r[t]);while(r=r.offsetParent);return n}function WindowResizeCallback(){l&&compareOnResize(function(){u[0]=GetCanvasOffset(0),u[1]=GetCanvasOffset(1);for(var e=0;e<n.length;e++)n[e](i[0],i[1]);ResolveCanvasEventArray("canvasresize",[new RCanvasResizeEvent])})}function CanvasSwitchCallback(){u[0]=GetCanvasOffset(0),u[1]=GetCanvasOffset(1),ResolveCanvasEventArray("canvasswitch",[new RCanvasSwitchEvent]),WindowResizeCallback()}function GetCanvasEventArray(e){return g[e]}function ResolveCanvasEventArray(e,n){if("object"!=typeof n||n.constructor!==Array)return void t.warn({e:e},"Canvas : unable to resolve event array [{e}]. Data is not an array!");var r=GetCanvasEventArray(e);if(!r)return void t.warn({e:e},"Unable to resolve event [{e}] no such event!");for(var o=0;o<r.length;o++)r[o].apply(f,n)}function GetMouseRelativePosition(e){return[e.pageX-u[0]-c[0],e.pageY-u[1]-c[1]]}function RCanvasMouse(e){this.page=[e.pageX,e.pageY],this.sceen=[e.pageX-c[0],e.pageY-c[1]],this.position=GetMouseRelativePosition(e)}function RCanvasMouseEvent(e){this.original=e,this.type=e.type,this.mouse=new RCanvasMouse(e),this.canvas=f}function RCanvasResizeEvent(){this.type="canvasresize",this.canvas=f,this.offset=[u[0],u[1]],this.size=[r,o],this.original=[r,o],this.units=[a,s],"%"===a&&(this.size[0]=p*(r/100)),"%"===s&&(this.size[1]=v*(o/100))}function RCanvasSwitchEvent(){this.type="canvasswitch",this.canvas=f,this.offset=[u[0],u[1]],this.size=[r,o],this.original=[r,o],this.units=[a,s],"%"===a&&(this.size[0]=p*(r/100)),"%"===s&&(this.size[1]=v*(o/100))}var n=[],r=0,o=0,i=[0,0],a="px",s="px",u=[0,0],c=[0,0],l=Canvas.element(),f=this,h=!1;e.define("size",[0,0],{isArray:!0,custom:function(e){if(!("string"!=typeof e[0]&&typeof e[0]!==Array||"string"!=typeof e[0]&&"number"!=typeof e[1]))return!0}}).watch(function(e){"number"==typeof e[0]?r=e[0]:"string"==typeof e[0]?e[0].match(/^[\d]+%$/)?(r=parseInt(e[0]),a="%"):(r=1e3,a="px",t.warn({width:e[0]},"{width} is not a valid value for canvas.size[0]. Width set as 1000px")):(r=1e3,t.warn({width:e[0]},"{width} is not a valid value for canvas.size[0]. Width set as 1000px")),"number"==typeof e[1]?o=e[1]:"string"==typeof e[1]&&e[1].match(/^[\d]+%$/)?(o=parseInt(e[1]),s="%"):(o=800,t.warn({height:e[1]},"{height} is not a valid value for canvas.size[1]. Width set as 800px")),WindowResizeCallback()});var p=0,v=0,d=null;this.resize=function(e){"function"==typeof e&&n.push(e)},this.offresize=function(e){"function"==typeof e&&n.filter(function(t){return t!==e})},this.width=function(){return"%"===a?p*(r/100):r},this.height=function(){return"%"===a?v*(o/100):o},this.hide=function(){h||(l&&(l.style.display="none"),h=!0)},this.show=function(){h&&(l&&(l.style.display=null),h=!1)};var g={mousemove:[],mousedown:[],mouseup:[],mouseleave:[],mouseenter:[],canvasresize:[],canvasswitch:[]};this.on=function(e,n){var r=GetCanvasEventArray(e);return r?("function"!=typeof n&&t.warn({f:e},"Canvas : Unable to set event handler [{f}]"),void r.push(n)):void t.warn({e:e},"Canvas : Unable to set event handler for event [{e}]")};var y={mousemove:function(e){ResolveCanvasEventArray("mousemove",[new RCanvasMouseEvent(e)])},mousedown:function(e){ResolveCanvasEventArray("mousedown",[new RCanvasMouseEvent(e)])},mouseup:function(e){ResolveCanvasEventArray("mouseup",[new RCanvasMouseEvent(e)])},mouseleave:function(e){ResolveCanvasEventArray("mouseleave",[new RCanvasMouseEvent(e)])},mouseenter:function(e){ResolveCanvasEventArray("mouseenter",[new RCanvasMouseEvent(e)])}};Canvas["switch"](function(){var e;if(l)for(e in y)y.hasOwnProperty(e)&&l.removeEventListener(e,y[e]);l=this.element(),h?l.style.display="none":l.style.display=null;for(e in y)y.hasOwnProperty(e)&&l.addEventListener(e,y[e]);CanvasSwitchCallback()}),window.addEventListener("scroll",function(){c[1]=window.pageXOffset||document.documentElement.scrollLeft,c[0]=window.pageYOffset||document.documentElement.scrollTop}),window.addEventListener("resize",WindowResizeCallback)}]),$R.service(["@Config",function Debug(e){function ResolveEvent(e,t){var n;"error"===e&&(n=s),"message"===e&&(n=u),"info"===e&&(n=c),"important"===e&&(n=l);for(var r=0;r<n.length;r++)n[r](t)}function GetMessage(e,o,i){o=o.toString();var a=o.match(n),s={};if(a)for(var u=0;u<a.length;u++){var c=a[u].match(r)[0];c&&(s[c]={replace:a[u],data:"["+(void 0===e[c]?"undefined":e[c].toString())+"]"})}for(var l in s)s.hasOwnProperty(l)&&(o=o.replace(s[l].replace,s[l].data));return i&&i.constructor&&i.constructor.name&&(o=" "+i.constructor.name+"  "+o),o=t+o}var t="",n=/{[a-zA-Z]+}/g,r=/[a-zA-Z]+/g,o=e.define("warnings",!1,{isBool:!0},function(e){o=e}),i=e.define("debugLevel",0,{isNumber:!0},function(e){e<0&&(e=0),o=e}),a=0,s=[],u=[],c=[],l=[];this.on=function(e,t){"function"==typeof t&&("error"===e&&s.push(t),"message"===e&&u.push(t),"info"===e&&u.push(t),"important"===e&&u.push(t))},this.error=function(e,t,n){throw"string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("error",t),console.trace(),new Error(t)},this.warn=function(e,t,n){o.get()&&("string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("message",t),console.log("%c"+t,"border-left:4px solid rgb(178,137,75); padding :2px 6px; background: rgba(131,138,0,.1); color: rgb(178,137,75)"))},this.info=function(e,t,n){o.get()&&("string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("info",t),console.log("%c"+t,"border-left:2px solid rgb(149,202,0); padding :2px 6px; background: rgba(255,255,255,.1);"))},this.message=function(e,t,n){o.get()&&("string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("info",t),console.log("%c"+t,"padding: 1px 10px; border-left:2px solid #10949C; font-weight:bold; background: rgba(0,175,231,.1); color: #10949C"))};var f={},h=0;this.separator=function(e,t,n){o.get()&&("string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),h++,f[h]=t,ResolveEvent("info",t),console.log("%c"+t+" ","padding: 4px 10px; border-left: 2px solid #10949C; background:rgba(16,148,156,0.1); color: #10949C"))},this.separatorEnd=function(){o.get()&&(f[h]&&(console.log("%c"+f[h]+" ","padding: 4px 10px; border-left: 2px solid #10949C; background:rgba(16,148,156,0.1); color: #10949C"),h--),0===h&&(f={}))},this.positive=function(e,t,n){o.get()&&("string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("info",t),console.log("%c"+t,"border-left: 2px solid rgb(149,202,0); background:rgba(149,202,0,.1); padding: 4px 10px; color:rgb(149,202,0)"))},this.negative=function(e,t,n){o.get()&&("string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("info",t),console.log("%c"+t,"border-left: 2px solid rgb(224,14,0); background:rgba(224,14,0,.1); padding: 4px 10px; color: rgb(224,14,0)"))},this.group=function(e){o.get()&&(a>=i.get()?console.groupCollapsed(e):console.group(e),a++)},this.groupEnd=function(){o.get()&&(a--,console.groupEnd())}}]),$R.service(["@Canvas","Canvas","@Ticker","$Finder",function Dispatcher(e,t,n,r){function DefaultREvent(e,t){var n=e,r=!0,o=t,i=t;this.type=function(){return n},this.date=new Date,this.stopPropagation=function(){r=!1},this.propagate=function(){return r},this.target=function(){return o},this.propagated=function(){o.$$PROPAGATIONSEARCH=!0;var e=i.$$PROPAGATIONSEARCH;return delete o.$$PROPAGATIONSEARCH,!!e&&e},this.originalTarget=function(){if(this.$$MOUSEPROPAGATIONSETTER){var e=getEventByType(n,o);return e.originalTarget.call({$$RESETTARGET:this.$$MOUSEPROPAGATIONSETTER}),e}return this.$$RESETTARGET&&(o=this.$$RESETTARGET),i}}function MouseEvent(e,t){DefaultREvent.apply(this,[e,t]),this.cursor=[a.current[0],a.current[1]],Object.freeze(this)}function DragEvent(e,t){DefaultREvent.apply(this,[e,t]),this.drag={start:[s.start[0],s.start[1]],current:[s.current[0],s.current[1]],delta:[s.delta[0],s.delta[1]]},Object.freeze(this)}function getEventByType(e,t){return"mousemove"===e||"mouseleave"===e||"mouseenter"===e||"mousedown"===e||"mouseup"===e?new MouseEvent(e,t):"dragstart"===e||"dragend"===e||"dragmove"===e?new DragEvent(e,t):void 0}function Dispatch(e,t){var n=t.extension("Mouse");n&&n.hasEvent(e)&&n.resolve(t,e,getEventByType(e,t))}function resolveEventByType(e){"mouseenter"!==e&&"dragstart"!==e&&"dragend"!==e&&"dragmove"!==e&&"mousemove"!==e&&"mouseup"!==e&&"mousedown"!==e||!o.current||Dispatch(e,o.current),"mouseleave"!==e&&"dragend"!==e||!o.previous||Dispatch(e,o.previous)}function resolveDragStart(){f=!0,s.start[0]=a.current[0],s.start[1]=a.current[1],resolveEventByType("dragstart")}function resolveDragEnd(){s.current[0]=a.current[0],s.current[1]=a.current[1],s.delta[0]=s.start[0]-s.current[0],s.delta[1]=s.start[1]-s.current[1],resolveEventByType("dragend"),f=!1}function DispatchEvents(){if(i.current!==i.old&&i.current&&resolveEventByType("mousedown"),i.current&&i.current!==i.old&&!f&&resolveDragStart(),a.old[0]!==a.current[0]||a.old[1]!==a.current[1]){if(o.current&&!o.previous&&resolveEventByType("mouseenter"),!o.current&&o.previous&&(resolveEventByType("mouseleave"),resolveDragEnd()),o.current&&o.previous){o.current.$$MOUSESEARCH=!0;var e=!1;o.previous.$$MOUSESEARCH||(e=!0),delete o.current.$$MOUSESEARCH,e&&(resolveDragEnd(),resolveEventByType("mouseleave"),resolveEventByType("mouseenter"),resolveDragStart())}i.current&&i.current===i.old&&f&&(s.current[0]=a.current[0],s.current[1]=a.current[1],s.delta[0]=s.start[0]-s.current[0],s.delta[1]=s.start[1]-s.current[1],resolveEventByType("dragmove")),i.current===i.old&&resolveEventByType("mousemove")}!i.current&&i.current!==i.old&&f&&resolveDragEnd(),i.current||i.current===i.old||(resolveEventByType("mouseup"),f=!1),o.previous=o.current,i.old=i.current,a.old[0]=a.current[0],a.old[1]=a.current[1]}function UpdateTargets(){o.previous=o.current,o.current=r.check(a.current)}function eventDispatcherTick(){if(h=!h){if(u)return;UpdateTargets(),DispatchEvents(),u=!0}}var o={current:null,previous:null},i={current:!1,previous:!1},a={old:[0,0],current:[0,0]},s={start:[0,0],current:[0,0],delta:[0,0]},u=!0,c=!1,l=!1,f=!1;t.on("mousedown",function(){c&&l&&(i.previous=i.current,i.current=!0,u=!1)}),t.on("mouseup",function(){c&&l&&(i.previous=i.current,i.current=!1,u=!1)}),t.on("mousemove",function(e){c&&l&&(a.current[0]=e.mouse.position[0],a.current[1]=e.mouse.position[1],u=!1)}),t.on("mouseleave",function(){l=!1}),t.on("mouseenter",function(){l=!0});var h=!1;e.queue(-1,eventDispatcherTick),n.on("start",function(){c=!0}),n.on("stop",function(){c=!1}),n.on("error",function(){c=!1})}]),$R.service(["@Ticker","Canvas","@inject","Debug",function Keyboard(e,t,n,r){function OnAppTick(){for(var e=0;e<u.length;e++)u[e]();u=[]}function getQueueFunc(e){return function(){var t=e.keyCode;if(o[t]&&o[t][e.type])for(var r=0;r<o[t][e.type].length;r++){var i=n("$KeyboardEvent").build(e);o[t][e.type][r].apply(i,[t,e.type])}}}var o={},i=!1,a=!0,s=!0,u=[];this.keydown=function(e,t){return this.on(e,"keydown",t)},this.keyup=function(e,t){return this.on(e,"keyup",t)},this.disable=function(){return a=!1,this},this.enable=function(){return a=!0,this},this.on=function(e,t,n){return"number"==typeof e&&"string"==typeof t?"keyup"===t||"keydown"===t?"function"==typeof n?(o[e]||(o[e]={}),o[t]||(o[e][t]=[]),o[e][t].push(n)):r.warn("Event callback is not a function"):r.warn({e:t},"No such type of event as [{e}]"):r.warn({c:e},"Wrong key code [{c}]"),this};var c=!1;t.on("mousedown",function(){c=!0}),window.addEventListener("mousedown",function(){s=!!c,c=!1}),window.addEventListener("keydown",function(e){i&&a&&s&&u.push(getQueueFunc(e))}),window.addEventListener("keyup",function(e){i&&a&&s&&u.push(getQueueFunc(e))}),e.queue(0,OnAppTick),e.on("start",function(){i=!0}),e.on("stop",function(){i=!1})}]),$R.service["class"]("Keyboard",[function KeyboardEvent(){var e=null,t=!1,n=!1,r=!1,o=!1,i=null;this.build=function(a){return e=a.keyCode,t=a.ctrlKey,n=a.altKey,r=a.shiftKey,o=a,i=a.type,delete this.build,this},this.type=function(e){return"string"==typeof e?i===e:i},this.code=function(){return e},this.shift=function(){return r},this.alt=function(){return n},this.ctrl=function(){return t},this.original=function(){return o}}]),$R.service(["@inject","+Easing","@Canvas","Debug",function Morphine(e,t,n,r){function check(e,n,o,i,a,s){if("number"!=typeof e||"number"!=typeof n)return r.error({},"Morphine / Unable to create. Start value is invalid"),!1;if("function"!=typeof o)return r.error({},"Morphine / Unable to create. End value is invalid"),!1;if("string"!=typeof i)return r.error({},"Morphine / Unable to create. Easing is not a string"),!1;if("number"!=typeof a||a<=0)return r.error({},"Morphine / Unable to create. Duration is less than 0 or not a number"),!1;var u=t.get(i);return u?u:(r.error({easing:i}," Morphine / Unable to create. No such easing {easing}"),!1)}var o=[];this.instance=function(t,n,o,i,a,s){i=check.apply(this,arguments);var u=e("$Morphine"),c=u.config(t,n,o,a,i,s);return c.morphine=u,c&&"function"==typeof c?c:(r.error({},"Unable to config morphine due to some config error."),null)},this.create=function(t,n,i,a,s,u){a=check.apply(this,arguments);var c=e("$Morphine"),l=c.config(t,n,i,s,a,u);return l&&"function"==typeof l?(l.$m=c,o.push(l),c):void r.error({},"Morphine / Unable to config morphine. Due to some error.")},n.queue(-2,function processMorphines(e,t){for(var t=t.getTime(),n=[],r=0;r<o.length;r++)o[r].$m.done()||(o[r](t),n.push(o[r]));o=n})}]),$R.service(["@inject","Debug",function Events(e,t){this.emitter=function(n){return"object"==typeof n?"function"==typeof n.on&&n.on.$$EMITTERPROTECTED?n.on.call({$$EMITTERPROTECTEDCONTEXT:!0}):e("$EventEmitter").decorate(n):void t.error({type:typeof n},"Unable to create EventEmitter. Invalid target {type} for emitter.",this)},this.event=function(t,n,r){return e("$Event").init(t,n,r)}}]),$R.service(["@Canvas","@inject","Debug","@Config",function Resource(e,t,n,r){function getResourceByURL(e,t){"font"===e&&(t=t[0]);var n=null,r=i[e+"s"];if(!r)return n;for(var o=0;o<r.length;o++)if(r[o].url()===t){n=r[o];break}return n}function injectByType(e,n){var r=getResourceByURL(e,n);if(r)return r;var s=e,c=t("$"+e);return c.on("load",function(){a++,ResolveEvent("load",[this,a,o.length])}),c.on("error",function(){a++,ResolveEvent("error",[this,a,o.length])}),c.url(n),i[s+"s"].push(c),o.push(c),"auto"===u&&c.load(),ResolveEvent("add",[c,a,o.length]),c}function ResolveEvent(e,t){var n=c[e];if(n)for(var r=0;r<n.length;r++)n[r].apply(s,t)}function updateResources(e,t){for(var n=0;n<i.SpriteResources.length;n++)i.SpriteResources[n].ready()&&i.SpriteResources[n].loaded()&&i.SpriteResources[n].tick(t)}var o=[],i={ImageResources:[],SpriteResources:[],FontResources:[],AudioResources:[]},a=0,s=this,u="auto";r.define("loaderMode","auto",{isString:!0}).watch(function(e){u="manual"===e||"auto"===e?e:"auto"}),this.image=function(e){return injectByType("ImageResource",e)},this.sprite=function(e){return injectByType("SpriteResource",e)},this.audio=function(e){return injectByType("AudioResource",e)},this.font=function(e,t,n){return injectByType("font",[e,t,n])},this.load=function(){if("manual"===u)for(var e=0;e<o.length;e++)o[e].load()};var c={load:[],error:[],add:[]};this.on=function(e,t){if("string"==typeof e){var r=c[e];r?"function"==typeof t?r.push(t):n.warn({event:e},"Unable to set event [{event}] callback. func is not a function!"):n.warn({event:e},"Unable to set event [{event}]. No such event")}else n.warn("Unable to set event callback. Event name is not a string")},this.off=function(e,t){if("string"==typeof e){var r=c[e];if(r){if("function"==typeof t){var o=[];t.$$SEARCH=!0;for(var i=0;i<r.length;i++)r[i].$$SEARCH||o.push(r[i]);delete t.$$SEARCH,c[e]=o}}else n.warn({event:e},"Unable to unset callback for event [{event}]. No such event")}else n.warn("Unable to unset event. Event is not a string")},this.data=function(){return{total:o.length,loaded:a}},this.list=function(){return[].concat(i.ImageResources).concat(i.AudioResources).concat(i.FontResources).concat(i.SpriteResources)},e.queue(-2,updateResources)}]),$R.service["class"]("Objects",["@extend","@inject","<Plugins",function Graphics(e,t,n){var r=null,o={};this.extension=function(e){return o[e]},this.type=function(e){return"string"==typeof e?r===e:r},this.define=function(i,a){if("string"==typeof i){delete this.define,r=i;for(var s=n.list(),u=0;u<s.length;u++)o[s[u]]=t("$Plugin"),o[s[u]].defineObject(this),e(o[s[u]],"<"+s[u]),o[s[u]].matchType(r)?o[s[u]].wrap(this):delete o[s[u]];return a&&this.id(a),e(this,"$"+i+"ObjectModel"),e(this,"$DefaultObjectDrawer"),e(this,"$"+i+"ObjectDrawer"),e(this,"$DefaultObjectType"),e(this,"$"+i+"ObjectClass"),
this}},this.destroy=function(){var e;this.unmount();for(e in o)o.hasOwnProperty(e)&&(o[e].destroy(),delete o[e]);for(e in this)this.hasOwnProperty(e)&&delete this[e];o=void 0,r=void 0}}]),$R.service(["@inject","Tree","Debug",function Objects(e,t,n){function InjectByType(r,o){var i=o[0];if("string"==typeof i){if(i.length>0){var a=e("$Graphics").define(r,i);return t.root().append(a),o[1]&&a.style(o[1]),a}n.error({t:r},"Id is empty. Unable to create [t]")}else n.error({t:r},"Id is not a string. Unable to create [t]")}this.create=function(t){return e("$Graphics").define(t)},this.group=function(){return InjectByType("Group",arguments)},this.line=function(){return InjectByType("Line",arguments)},this.rect=function(){return InjectByType("Rectangle",arguments)},this.circle=function(){return InjectByType("Circle",arguments)},this.image=function(){return InjectByType("Image",arguments)},this.sprite=function(){return InjectByType("Sprite",arguments)},this.text=function(){return InjectByType("Text",arguments)},this.area=function(){return InjectByType("Area",arguments)},t.root(e("$Graphics").define("Group","root"))}]),$R.service(["@Audio","@inject","@Config","Debug",function Sound(e,t,n,r){n.define("filters",["Delay","Gain"],{isArray:!0});var o=t("$Audio").build("$$DESTINATION","destination"),i={},a=0,s=0,u={$$DESTINATION:o};this.sample=function(e,n,o){if("string"==typeof e&&e.length>0){if(i[e])return i[e];"string"==typeof o&&0!==o.length||(o="UserSound["+a+"]"),a++;var s=t("$Audio").build(o,e);"string"==typeof n&&0!==n.length||(n="$$DESTINATION");var u=this.channel(n);return s.connect(u),i[s.url()]=s,s}r.warn({url:e},"[{url}] is not valid audio url or empty.")},this.channel=function(e){if("string"==typeof e&&e.length>0){if(u[e])return u[e];var n=t("$Audio").build(e);return n.connect(o),u[e]=n,s++,n}},this.channels=function(e){var t={},e=!!e;for(var n in u)u.hasOwnProperty(n)&&"$$DESTINATION"!==n&&(e?t[n.url()]=n[n]:t[n]=u[n]);return t},this.sounds=function(e){var t={},e=!!e;for(var n in i)i.hasOwnProperty(n)&&(e?t[n]=i[n]:t[i[n].name()]=i[n]);return t},this.destination=function(){return u.$$DESTINATION}}]),$R.service(["Debug","@Canvas","@Config",function Tree(e,t,n){function drawGraphicsTree(e,t,n){r&&o&&(a&&e.clearRect(0,0,e.canvas.offsetWidth,e.canvas.offsetHeight),o.draw.apply(r,arguments))}var r=null,o=null,i=null,a=n.define("clear",!1,{isBool:!0}).watch(function(e){a=e}),s={};this.register=function(t,n){if("Graphics"===t.constructor.name&&t.id&&"function"==typeof t.id)if("undefined"==typeof n){var r=t.id();"string"==typeof r&&r.length?s[r]?e.error({id:t.id()},"Unable to register Graphics [id]. Element already exists"):s[r]=t:e.error("Unable to register Graphics with no id")}else"string"===n?(s[t.id()]&&delete s[t.id()],s[n]=s[n]=t):e.error("Unable to set new id. new_id argument is not a valid string");else e.error({t:typeof t},"Unable to register [t]. Argument is not Graphics")},this.unregister=function(e){e.id()&&s[e.id()]&&delete s[e.id()]},this.get=function(e){return s[e]},this.get=function(e){return s[e]},this.root=function(t){if(r)return r;if(!t.type||"function"!=typeof t.type||"Group"!==t.type())return void e.error({object:t.constructor,type:"function"!=typeof t.type?t.type():"unknownType"},"Unable to set tree root as {object}{type}. Object is not a group.",this);r=t;var n=r.extension("Drawer");return n?n.draw&&"function"==typeof n.draw?(o=n,i=r.extension("Style"),r):void e.error({object:t.type()},"{object} incompatible drawer extension",this):void e.error({object:t.type()},"{object} has no drawer extension",this)},t.queue(0,drawGraphicsTree)}]),$R.service(["@inject","Debug",function States(e,t){this.container=function(n,r){if("object"==typeof n){if("function"==typeof n.is&&n.is.$$STATESPROTECTED===!0){var o=n.is.call({$STATESPROTECTEDCONTEXT:!0});return n.is.call({$STATESPROTECTEDHASEMITTERSET:!0},r),o}return e("$State").decorate(n,r)}t.error("States target is not an object",this)}}]),$R.plugin["class"]("Objects","Animation",["+Animation","Morphine",function Animation(e,t){function Resolve(e){if(e===p)for(var t=0;t<a.length;t++)c.hasOwnProperty(a[t].morph.property())&&c[a[t].morph.property()].apply(u,[n,a[t].result]);else if(e===v){i=!0;for(var r={},t=0;t<a.length;t++)r[a[t].morph.property()]=a[t].result;d.done(1,r),h()}}var n=0,r=null,o=null,i=!1,a=null,s=null,u=null,c=null,l=!1,f=!1,h=null,p="type",v="complete",d=null;this.target=function(){return u},this.queue=function(){return l},this.active=function(){return f},this.done=function(){return i},this.hasProperty=function(e){for(var t=0,n=0;n<a.length;n++)if(a[n].morph.property()==e){t=n+1;break}return t},this.properties=function(){for(var e=[],t=0;t<a.length;t++)e.push(a[t].morph.property());return e},this.stop=function(e){if(e){var t=this.hasProperty(e);t&&(t-=1,a.splice(t,1))}else a=[]},this.start=function(){if(!f){f=!0;for(var n=[],i=0;i<a.length;i++){var u=a[i].morph.get(a[i].value);void 0!==u&&u.start()!==!1&&u.end()!==!1&&n.push(a[i])}a=n;var c=e.getTickFunction();s=t.create(0,1,function(e,t){if(0===a.length)Resolve(v),s.stop();else{for(var n=0;n<a.length;n++)a[n].result=c(t,e,a[n].morph.start(),a[n].morph.end()),a[n].morph.apply(e,a[n].result);Resolve(p),1===e&&Resolve(v)}},o,r,0)}},this.config=function(t,n,i,s){e.normalizeConfig(i),r=i.duration,o=i.easing,c=i.step,l=i.queue,h=s,a=n,u=t,d=i}}]),$R.plugin["class"]("Objects","Animation",["Debug",function Morph(e){function SetStartValue(e){t=e}function SetEndValue(e){n=e}var t,n,r=null,o=null,i=null,a=null,s=!1,u=0;this.start=function(){return t},this.end=function(){return n},this.property=function(){return r},this.ordering=function(){return u},this.get=function(e){return o.apply(a,[SetStartValue,SetEndValue,e]),this},this.valid=function(){return s},this.apply=function(e,t){a.style(r,i.apply(a,[t,e]))},this.config=function(t,n,c,l,f){return"string"!=typeof t?void e.error({name:t},"Unable to config Morph. arg1 [{name}] is not a string!"):"object"!=typeof n?void e.error({name:t},"Unable to config Morph. arg3 is not an object!"):"function"!=typeof l?void e.error({name:t},"Unable to config Morph. arg4 is not a function!"):"number"!=typeof c?void e.error({name:t},"Unable to config Morph. arg2 is not a number!"):"function"!=typeof f?void e.error({name:t},"Unable to config Morph. arg5 is not a function!"):(r=t,o=l,i=f,u=c,a=n,void(s=!0))}}]),$R.plugin["class"]("Objects","Box",[function Box(){var e={size:[0,0],position:[0,0]},t={margin:[0,0,0,0],position:[0,0],size:[0,0]};this.get=function(){return{size:[e.size[0],e.size[1]],position:[e.position[0],e.position[1]]}},this.set=function(n,r,o,i,a,s,u,c){e.size[0]=o,e.size[1]=i,e.position[0]=n,e.position[1]=r,t.margin[0]=a,t.margin[1]=s,t.margin[2]=u,t.margin[3]=c,t.size[0]=c+o+s,t.size[1]=a+i+u,t.position[0]=n-c,t.position[1]=r-a},this.value=function(){return e},this.sprite=function(){return t}}]),$R.plugin["class"]("Objects","Text",["@extend","@inject","+Drawer",function TextLineClass(e,t,n){function getWidth(){if(s){r=0;for(var e=0;e<o.length;e++)r+=o[e].width();return s=!1,r}return r}e(this,"$TextElementClass");var r=0,o=[],i=t("$TextSpaceClass"),a=0,s=!1;this.width=function(){return n.measureText(getWidth)},this.length=function(){return a},this.words=function(e){if(e&&"object"==typeof e&&e.constructor===Array){for(var t=0;t<e.length;t++)o.push(e[t].size(this.size()).height(this.height()).style(this.style()).weight(this.weight()).color(this.color()).font(this.font()));a=o.length;for(var n=[],t=0;t<o.length;t++)n.push(o[t]);return this.propertyChanged("string",n),this}return s=!0,o},this.push=function(e){return o.length>0&&o.push(i),o.push(e.size(this.size()).height(this.height()).style(this.style()).weight(this.weight()).color(this.color()).font(this.font())),s=!0,this},this.string=function(){for(var e="",t=0;t<o.length;t++)e+=o[t].string();return e},this.onPropertyChange(function(e,t){"string"!==e&&i[e](t)})}]),$R.plugin["class"]("Objects","Text",["@extend","+Drawer",function TextSpaceClass(e,t){function getWidth(e){return e.font=r.extractFontString(),e.measureText(n).width}e(this,"$TextElementClass");var n=" ",r=this;this.string=function(){return n},this.width=function(e){return t.measureText(getWidth)}}]),$R.plugin["class"]("Objects","Text",["+Color",function TextElementClass(e){function resolve(e,t){for(var n=0;n<s.length;n++)s[n].apply(u,[e,t])}var t="rgba(0,0,0,1)",n="sans-serif",r=400,o=14,i=14,a="normal",s=[],u=this;this.size=function(e){return"number"==typeof e?(e<0&&(e=0),o=e,resolve("size",o),this):o},this.height=function(e){return"number"==typeof e?(e<0&&(e=0),i=e,resolve("height",i),this):i},this.weight=function(e){return"number"==typeof e?(e<100&&(e=100),e>900&&(e=900),e%100!==0&&(e-=e%100),r=e,resolve("weight",r),this):r},this.font=function(e){return"string"==typeof e&&e.length>0?(n=e,resolve("font",n),this):n},this.color=function(n){return"string"==typeof n?(e.colorToArray(n)&&(t=n,resolve("color",t)),this):t},this.style=function(e){return"normal"===e||"italic"===e||"oblique"===e?(a=e,resolve("style",a),this):a},this.extractFontString=function(){return a+" "+o+'px "'+n+"-"+r+'"'},this.onPropertyChange=function(e){"function"==typeof e&&s.push(e)},this.propertyChanged=function(e,t){resolve(e,t)}}]),$R.plugin["class"]("Objects","Text",["+Color","@extend","+Drawer",function TextWordClass(e,t,n){function getWidth(e){return e.font=o.extractFontString(),e.measureText(r).width}t(this,"$TextElementClass");var r="",o=this;this.string=function(e){return"string"==typeof e?(r=e,this.propertyChanged("string",e),this):r},this.width=function(){return n.measureText(getWidth)},this.draw=function(e,t,n){return"number"!=typeof t&&(t=0),"number"!=typeof n&&(n=0),e.save(),e.fillStyle=this.color(),e.font=this.extractFontString(),e.fillText(r,t,n),e.restore(),this}}]),$R.service["class"]("Dispatcher",["Tree","Debug",function Finder(e,t){function checkElement(e,t){if("Group"===e.type()){var n=e.extension("Mouse").check(e,t),r=e.extension("Layers"),o=!1;return r.forEach(function(){this.disabled()||("Group"===this.type()?(o=checkElement(this,t),o&&(n=o)):(o=this.extension("Mouse").check(this,t),o&&(n=o)))}),n}}this.check=function(n){var r=e.root();return r?"object"!=typeof n||n.constructor!==Array||2!==n.length||"number"!=typeof n[0]||"number"!=typeof n[1]?(t.warn({c:n},"{c} is not a valid cursor value.",this),null):checkElement(r,n):null}}]),$R.service["class"]("Morphine",[function Morphine(){function Tick(f){if(!l){if(c)return void(o=(new Date).getTime()-t*u);o||(o=(new Date).getTime()),u=(f-o)/t,u>1&&(u=1),1===u&&(n&&r>0?(r!==1/0&&r--,o=(new Date).getTime()):l=!0),i.apply(null,[u,e((f-o)/1e3,a,s-a,t/1e3),o])}}var e=null,t=1,n=!1,r=1,o=null,i=null,a=0,s=0;this.done=function(){return l},this.pause=function(){c=!0},this.paused=function(){return c},this.stop=function(){l=!0};var u=0,c=!1,l=!1;this.config=function(r,o,u,c,l,f){if(!("number"!=typeof r||"number"!=typeof o||"number"!=typeof c||c<0)&&"function"==typeof l&&"function"==typeof u)return"number"==typeof f&&(n=f),a=r,s=o,e=l,i=u,t=c>0?c:1,delete this.config,Tick}}]),$R.service["class"]("Events",["Debug",function Event(e){var t={type:void 0,props:{},target:null,event_time:new Date};this.init=function(n,r,o){if("string"==typeof n)if(t.type=n,"object"==typeof r){if(t.target=r,"object"==typeof o&&o.constructor===Array)for(var i=0;i<o.length;i++)"string"==typeof o[i].name&&o[i].name.length>0?this.hasOwnProperty(o[i].name)?e.error({type:n,name:o[i].name},"Duplicated method {name} for event {type}.",this):this[o[i].name]=o[i].bind(r):e.error({type:n},"Unable to create method for event object {type}. Method must be a named function.",this);"function"==typeof o&&("string"==typeof o.name&&o.name.length>0?this.hasOwnProperty(o[i].name)?e.error({type:n,name:o.name},"Duplicated method {name} for event {type}.",this):this[o.name]=o.bind(r):e.error({type:n},"Unable to create method for event object {type}. Method function must be a named function.",this))}else e.error({type:typeof r,val:r},"Invalid Event target {type}{val. Must be an object}",this);else e.error({type:typeof n,val:n},"Invalid type of event. {type}{val}. Must be string. ",this);delete this.init},this.time=function(){return t.event_time},this.target=function(){return t.target},this.type=function(){return t.type}}]),$R.service["class"]("Events",["Debug","@inject",function EventEmitter(e,t){function addCallback(t,r,o,i){if(n.hasOwnProperty(r))if("function"==typeof i)o?n[r].once.push(i):n[r].push(i);else if("object"==typeof i&&i.constructor===Array)for(var a=0;a<i.length;a++)addCallback(t,r,o,i[a]);else e.error({type:typeof i,event:r},"Callback is not a function. Unable to bind callback {type} to event {event}.",t);else e.error({event:r},"Event not found. Unable to bind callback[s] to event {event}.",t)}function removeCallback(t,r,o){if(n.hasOwnProperty(r))if("function"==typeof o){for(var i=[],a=0;a<n[r].length;a++)!n[r][a]===o&&i.push(n[r][a]);i.methods=n[r].methods,i.once=n[r].once,n[r]=i}else if("object"==typeof o&&o.constructor===Array)for(var s=0;s<o.length;s++)removeCallback(t,r,o[s]);else e.error({type:typeof o},"Callback is not a function. {tyoe} is not a function",t);else e.warn({event:r},"Event not found. Unable to unbind {event} callback. ",t)}function resolveEvent(r,o,i,a){if(n.hasOwnProperty(o)){"object"!=typeof i&&(i=r);var s=t("$Event");a="object"==typeof a&&a.constructor===Array?a:[a],a.unshift(s),s.init(o,i,n[o].methods);for(var u=0;u<n[o].length;u++)n[o][u].apply(i,a);for(;n[o].once[0];)n[o].once[0].apply(i,a),n[o].once.shift()}else e.error({event:o},"Event {event} not found. Unable to resolve event",r)}var n={},r=/[A-Za-z-0-9]+/g,o=this;this.decorate=function(t){return"object"==typeof t?(t.on=function(n,i){if(this.$$EMITTERPROTECTEDCONTEXT)return o;if("string"==typeof n&&n.length>0){var a=n.match(r);if(a&&a.length)for(var s=0;s<a.length;s++)addCallback(t,a[s],!1,i);else e.error({events:n},"Invalid event name value. Unable to subscribe to event[s] {events}.",t)}},t.on.$$EMITTERPROTECTED=!0,t.once=function(n,o){if("string"==typeof n&&n.length>0){var i=n.match(r);if(i&&i.length)for(var a=0;a<i.length;a++)addCallback(t,i[a],!0,o);else e.error({events:n},"Invalid event name value. Unable to subscribe to event[s] {events}.",t)}},t.off=function(n,o){if("string"==typeof n&&n.length>0){var i=n.match(r);if(i&&i.length)for(var a=0;a<i.length;a++)removeCallback(t,i[a],o);else e.warn({event:n},"Unable to unbind callback[s] from event[s] {event}. Invalid event name",t)}},this.target=function(){return t},this.on=function(){t.on.apply(t,arguments)},this.once=function(){t.once.apply(t,arguments)},this.off=function(){t.off.apply(t,arguments)},this.proxy=function(e,t,n,r){this.on(t,function(){e.resolve(n,r)})},this.resolve=function(n,o,i){if("string"==typeof n&&n.length>0){var a=n.match(r);if(a&&a.length){i||(i=t);for(var s=0;s<a.length;s++)resolveEvent(t,a[s],i,o)}else e.error({event:n},"Unable to resolve event {event}. Invalid event name",t)}},this.register=function(o,i){if("string"==typeof o)for(var a=o.match(r),s=0;s<a.length;s++)if(n.hasOwnProperty(a[s]))e.error({event:a[s]},"Duplicate event name. Unable to create event {event}. Event already exists.",t);else if(n[a[s]]=[],n[a[s]].once=[],"function"==typeof i&&(n[a[s]].methods=[i]),"object"==typeof i&&i.constructor===Array){n[a[s]].methods=[];for(var u=0;u<i.length;u++)"function"==typeof i[u]&&n[a[s]].methods.push(i[u])}return this},this.clear=function(){for(var e in n)delete n[e]},delete this.decorate,this):void e.error({type:t},"Unable to decorate object {type}. Target is not an object.",this)}}]),$R.service["class"]("Resource",["@extend","Debug",function AudioResource(e,t){function createAudio(){var e=new XMLHttpRequest;e.open("GET",o,!0),e.responseType="arraybuffer",e.onload=function(e){r(1),i=this.response,n("load",[i])},e.onerror=function(){r(2),n("error",[]),t.error({url:o},"Unable to load audio {url}.")},this.on("get",function(){e.send()})}e(this,"$Resource"),this.type="Audio";var n=null,r=null,o=null,i=null;this.on("init",function(e,t,i){n=t,r=i,o=e,createAudio.call(this)}),this["export"]=function(){return i}}]),$R.service["class"]("Resource",["@extend","Debug","@Config","@Fonts",function FontResource(e,t,n,r){function getFont(){r.font(s,a,u,c),document.getElementsByTagName("body")[0].appendChild(f),l=!0;var e=1e3,n=0,p=[f.offsetWidth,f.offsetHeight];f.style.fontFamily='"'+r.format(a)+"-"+u+'", sans-serif',h=setInterval(function(){f.offsetWidth===p[0]&&f.offsetHeight===p[1]||(document.getElementsByTagName("body")[0].removeChild(f),l=!1,clearInterval(h),o(1),i("load",[])),n++,n>e&&(o(2),i("error",[]),t.warn({font:a+"-"+u},"Unable to load font {font}. Font pending timed out..."),document.getElementsByTagName("body")[0].removeChild(f),l=!1,clearInterval(h))},50)}e(this,"$Resource"),this.type="Font";var o=null,i=null,a=null,s=n.watch("fontDir",function(e){s=e,l&&document.getElementsByTagName("body")[0].removeChild(f),h&&window.clearInterval(h),getFont()}),u=(r.formats(),null),c=null,l=!1,f=document.createElement("div");f.setAttribute("class","reflect-font-loader-element"),f.style.fontFamily="sans-serif",f.style.fontSize="12px",f.style.lineHeight="12px",f.style.position="absolute",f.style.left="-9999px",f.style.top="-9999px",f.innerText='abcdefghijklmnopqrstuvwxyz 1234567890[!?,.<>"$%^&*()~@#-=]',this.on("init",function(e,t,n){i=t,o=n,a=e[0],u=e[1],c=e[2],f.style.fontStyle=c,this.on("get",function(){getFont()})});var h=null;this["export"]=function(){return r.format(a)}}]),$R.service["class"]("Resource",["@extend","Debug",function ImageResource(e,t){function createImage(){i.addEventListener("load",function(){o(1),a=i.width,s=i.height,r("load",[])}),i.addEventListener("error",function(){o(2),r("error",[]),t.error({url:n},"Unable to load image {url}.")}),this.on("get",function(){i.setAttribute("src",n)})}e(this,"$Resource");var n=null,r=null,o=null,i=new Image,a=0,s=0;this.type="Image",this.on("init",function(e,t,i){r=t,o=i,n=e,createImage.call(this)}),this.width=function(){return a},this.height=function(){return s},this["export"]=function(){return i}}]),$R.service["class"]("Resource",["@extend","Debug",function Resource(e,t){function setStatus(e){return"number"!=typeof e?void t.error({val:e},"{val} is not valid value for status"):e<0||e>2?void t.error({val:e},"{val} no such status possible!"):void(a=e)}function resolveEvent(e,n){if(i[e]){n="object"==typeof n&&n.constructor===Array?n:[];for(var o=0;o<i[e].length;o++)i[e][o].apply(r,n)}else t.warn({e:e},"Unable to set event {e}. No such event!")}var n=null,r=this,o=!1,i={init:[],get:[],load:[],error:[],loading:[]},a=-1;this.loaded=function(){return 1===a},this.error=function(){return 2===a},this.loading=function(){return 0===a},this.load=function(){a<0&&(a=0,resolveEvent("get",[n]))},this.url=function(e){return void 0===e?n:(n=e,o?resolveEvent("init",[n]):(resolveEvent("init",[n,resolveEvent,setStatus]),o=!0),this)},this.on=function(e,n){var r=i[e];return n="function"==typeof n&&n,"load"===e&&1===a&&n.call(this),"error"===e&&2===a&&n.call(this),r&&n?void i[e].push(n):void t.warn({e:e},"Unable to set handler for event {e}.")}}]),$R.service["class"]("Resource",["@extend","Debug",function SpriteResource(e,t){function createCanvasArray(){for(var e=0,t=0;t<o;t++){d.push([]);for(var n=0;n<o;n++)e++,e<i&&d[t].push(document.createElement("canvas"))}}function setCanvasSize(){c=Math.round(u/o),l=Math.round(s/o);for(var e=0;e<o;e++)for(var t=0;t<o;t++)if(d[e][t]){d[e][t].setAttribute("width",l),d[e][t].setAttribute("height",c);var n=d[e][t].getContext("2d");n.translate(-l*t,-c*e),n.drawImage(r,0,0)}}e(this,"$Resource");var n=null,r=null,o=0,i=0,a=0,s=0,u=0,c=0,l=0,f=12,h=null,p=null,v=!1,d=[];this.type="Sprite",this.on("init",function(e,t,o){h=o,p=t,n=e,r=document.createElement("img"),r.addEventListener("load",function(){h(1),s=r.width,u=r.height,v&&(createCanvasArray(),setCanvasSize()),p("load",[])}),r.addEventListener("error",function(){h(2),p("error",[])}),this.on("get",function(){r.setAttribute("src",n)})}),this.ready=function(){return v},this.width=function(){return l},this.height=function(){return c},this.spriteWidth=function(){return s},this.spriteHeight=function(){return u},this.fps=function(e){return"number"!=typeof e||e<=0?(t.warn({n:e},"{n} is not a correct fps number"),!1):(f=e,void(a=Math.round(i/f*1e3)))};var g=!1;this.pause=function(){g=!0},this.play=function(){g=!1},this.config=function(e){if(!v){if("number"!=typeof e||e<=0)return void t.warn({rows:e},"{rows} is not a valid frames number");o=Math.ceil(Math.sqrt(e)),i=e,a=Math.round(i/f*1e3),v=!0,createCanvasArray()}},this.frames=function(){return i};var y=0,b=0,m=(new Date).getTime();this.tick=function(e){if(e=e.getTime(),!g){var t=(e-m)/a;t>1&&(t=1,m=(new Date).getTime()),t<0&&(t=0);var n=Math.floor((i-1)*t);b=Math.floor(n/o),y=n-b*o}},this["export"]=function(){if(d[b][y])return d[b][y]}}]),$R.service["class"]("Objects",[function Canvas(){var e=document.createElement("canvas"),t=e.getContext("2d"),n=0,r=0;this.context=function(){return t},this.width=function(t){return"number"!=typeof t?n:(n=t,void e.setAttribute("width",n))},this.height=function(t){return"number"!=typeof t?r:(r=t,void e.setAttribute("height",r))},this["export"]=function(){return e},this.destroy=function(){e=void 0,t=void 0,n=void 0,r=void 0;for(var o in this)this.hasOwnProperty(o)&&delete this[o]}}]),$R.service["class"]("Objects",["@inject","Debug",function GraphicsAssembler(e,t){function SetSize(e,t){for(var r=0;r<o.length;r++)o[r].size(e,t);n.width(e),n.height(t),a=e,s=t}function compose(){if(!c){if(u){var e=u.box().sprite();e.size[0]===a&&e.size[1]===s||SetSize(e.size[0],e.size[1])}c=!0}if(!l){r.clearRect(0,0,a,s);for(var t=0;t<o.length;t++)o[t].draw(r);l=!0}return n["export"]()}var n=e("$Canvas"),r=n.context(),o=[],i={},a=0,s=0,u=null,c=!1,l=!1;this.layer=function(n,r,a){return"number"!=typeof n?void t.warn({o:n},"Invalid order argument [{o}] is not a number."):"string"!=typeof r?void t.warn({n:r},"[{n}] is not valid name for layer"):"function"!=typeof a?void t.warn("updateFunc is not a function!"):(i[r]=e("$GraphicsAssemblerLayer"),i[r].f(a),i[r].ordering(n),i[r].update(),o.push(i[r]),o.sort(function(e,t){return e.ordering()-t.ordering()}),void(l=!1))},this.ready=function(){return l},this.box=function(e){u=e},this.size=function(e,t){e===a&&t===s||(SetSize(e,t),l=!1)},this.width=function(){return a},this.height=function(){return s},this.resize=function(){c=!1,l=!1},this.update=function(e){l=!1,i[e].update()},this.destroy=function(){n=n.destroy(),r=void 0,u=void 0,c=void 0,l=void 0;for(var e;o[0];)o[0].destroy(),o.shift();for(e in i)i.hasOwnProperty(e)&&delete i[e];i=void 0,o=void 0,a=void 0,s=void 0;for(e in this)this.hasOwnProperty(e)&&delete this[e]},this["export"]=compose}]),$R.service["class"]("Objects",["@inject","Debug",function GraphicsAssemblerLayer(e,t){function updateCanvas(e){s||(r.clearRect(0,0,o,i),r.save(),a&&a(r),s=!0,r.restore()),e.drawImage(n["export"](),0,0)}var n=e("$Canvas"),r=n.context(),o=0,i=0,a=null,s=!1,u=0;this.f=function(e){"function"==typeof e?(a=e,delete this.f):t.warn({f:e},"[{f}] is not a function")},this.size=function(e,t){o===e&&t===t||(n.width(e),n.height(t),o=e,i=t,s=!1)},this.ordering=function(e){return e&&"number"==typeof e&&(u=e),u},this.update=function(){s=!1},this.draw=updateCanvas,this.destroy=function(){n=n.destroy(),r=void 0,o=void 0,i=void 0,a=void 0,s=!1,u=void 0;for(var e in this)this.hasOwnProperty(e)&&delete this[e]}}]),$R.service["class"]("Objects",function Plugin(){var e={},t={},n=null,r=[],o=[];this.defineObject=function(e){n=e,delete this.defineObject},this.object=function(){return n},this.matchType=function(e){if(0===r.length)return!0;for(var t=!1,n=0;n<r.length;n++)if(r[n]===e){t=!0;break}return this.applyTo&&(delete this.applyTo,delete this.matchType),t},this.applyTo=function(e){if("string"==typeof e)r.push(e);else if("object"==typeof e&&e.constructor===Array)for(var t=0;t<e.length;t++)"string"==typeof e[t]&&r.push(e[t]);delete this.applyTo},this.register=function(n,r,o){e[n]||(e[n]=r),o&&(t[n]=!0)},this.wrap=function(t){for(var n in e)e.hasOwnProperty(n)&&!t[n]&&(t[n]=e[n]);delete this.wrap,delete this.register,delete this.clear},this.hasProperty=function(t){var n=!1;for(var r in e)if(e.hasOwnProperty(r)&&t===r){n=!0;break}return n},this.clear=function(e){for(var n in t)t.hasOwnProperty(n)&&delete e[n]},this.destroy=function(r){var i;if("function"==typeof r)return o.push(r),this;for(;o[0];)o[0].call(this),o.shift();o=void 0;for(i in e)n&&delete n[i],delete e[i];for(i in this)this.hasOwnProperty(i)&&delete this[i];e=void 0,t=void 0}}),$R.service["class"]("Objects",[function AreaObjectClass(){}]),$R.service["class"]("Objects",["+Mouse",function CircleObjectClass(e){this.mouseCheckFunction(e.circleCheckFunction)}]),$R.service["class"]("Objects",[function DefaultObjectType(){}]),$R.service["class"]("Objects",function GroupObjectClass(){}),$R.service["class"]("Objects",["+Mouse",function ImageObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction)}]),$R.service["class"]("Objects",function LineObjectClass(){}),$R.service["class"]("Objects",["+Mouse",function RectangleObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction);var t=this.extension("Mouse");t.cursorTransformFunction(e.rectCursorTransformFunction)}]),$R.service["class"]("Objects",["+Mouse",function SpriteObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction)}]),$R.service["class"]("Objects",["+Mouse",function TextObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction)}]),$R.service["class"]("Sound",["@inject","Debug",function AnimationProvider(e,t){function findCompetitor(e,t){t.$$SELF=!0;for(var r=null,o=0;o<n.length;o++)if(!n[o].$$SELF&&n[o].active()&&!n[o].done()){for(var i=!1,a=0;a<e.length;a++)if(n[o].hasProperty(e[a])){i=!0;break}i&&(r||(r=[]),r.push(n[o]))}return delete t.$$SELF,r}function CheckAnimationQueue(){for(var e=[],t=0;t<n.length;t++)if(n[t].active())n[t].done()||e.push(n[t]);else{var r=n[t].properties();if(n[t].queue())findCompetitor(r,n[t])||n[t].start();else{var o=findCompetitor(r,n[t]);if(o)for(var i=0;i<o.length;i++)for(var a=0;a<r.length;a++)o[i].stop(r[a]);n[t].start()}e.push(n[t])}n=e}function CreateAnimationType1(t,r,i,a){var s={};if(s[t]=r,o[t]){var u=[{ordering:o[t].ordering(),morph:o[t],value:r}],c={};i&&"number"==typeof i&&(c.duration=i),a&&"string"==typeof a&&(c.easing=a);var l=e("$Animation");l.config(this,u,c,CheckAnimationQueue),n.push(l)}}function CreateAnimationType2(r,i,a){var s={};"object"==typeof i?s=i:"number"==typeof i?(s={duration:i},"string"==typeof a&&(s.easing=a)):"string"==typeof i&&(s={easing:i});var u={};for(var c in r)r.hasOwnProperty(c)&&(o[c]?u[c]={ordering:o[c].ordering(),morph:o[c],value:r[c]}:t.warn({type:this.type(),property:c},"Property {property} of {type} can not be animated!"));var l=[];for(var f in u)l.push(u[f]);if(l.length){l.sort(function(e,t){return e.ordering-t.ordering});var h=e("$Animation");h.config(this,l,s,CheckAnimationQueue),n.push(h)}else t.warn("No properties to animate!")}var n=[],r=!1,o={};this.morph=function(t,n,r,i){var a=e("$Morph");a.config(t,this,n,r,i),a.valid()&&(o[t]=a)},this.extractMorph=function(e){return o[e]},this.animate=function(e,n,r,o){"string"==typeof e&&n?CreateAnimationType1.apply(this,arguments):"object"==typeof e&&e.constructor!==Array?CreateAnimationType2.apply(this,arguments):t.warn("Unable to create animation. Wrong arguments"),CheckAnimationQueue()},this.animated=function(){return r},this.stop=function(e){if("string"==typeof e&&0!==e.length)for(var t=0;t<n.length;t++)n[t].stop(e)}}]),$R.service["class"]("Sound",["@inject","Debug",function Audio(e,t){function eventArgs(){return[s,u,r,o]}function createAnimationMorph(e,t){a.morph.apply(this,[t.name,0,function(n,r,o){o=t.normalizer(o),void 0!==o&&(r(o),n(e.get(t.name)))},function(n){return n=t.normalizer(n),e.set(t.name,n)}])}var n=null,r=null,o=null,i=e("$EventProvider"),a=e("$AnimationProvider"),s=this,u=null,c="";i.wrap(this),i.event("ready",eventArgs,!0),i.event("load",eventArgs,!0),i.event("error",eventArgs,!0),i.event("play",eventArgs,!1),i.event("connect",eventArgs,!1),i.event("disconnect",eventArgs,!1),i.event("end",eventArgs,!1),this.build=function(a,s){if("string"==typeof a&&a.length>0){"string"==typeof s&&"destination"!==s&&s.length>0?(r=s,n=e("$UserAudioSource").build(s),o="Sample",n.on("load",function(){i.resolve("load")}),this.play=function(){return n.play(),this},this.terminate=function(){return n.stop(),this}):"destination"===s?(n=e("$UserAudioMixer").build(a,s),this.connect=function(){return arguments[0]&&"object"==typeof arguments[0]&&arguments[0].$$SOURCE?n:this},r="["+a+"]AudioChannel",o="Channel",i.resolve("load")):void 0===s&&(n=e("$UserAudioMixer").build(a),r="["+a+"]AudioChannel",o="Channel",i.resolve("load")),n.on("error",function(){i.resolve("error")}),n.on("play",function(){i.resolve("play")}),n.on("end",function(){i.resolve("end")}),n.on("connect",function(){i.resolve("connect")}),n.on("disconnect",function(){i.resolve("disconnect")});for(var u=n.filters(),l=0;l<u.length;l++)for(var f=u[l].props(),h=0;h<f.length;h++)f[h].animated&&createAnimationMorph.apply(this,[u[l],f[h]]);c=a,i.resolve("ready")}else t.warn("Audio mixer have no name! Should be a string");return this},this.filter=function(e,r){if("string"==typeof e&&e.length>0){for(var o=null,i=n.filters(),a=0;a<i.length;a++)i[a].has(e)&&(o=i[a]);if(o){if(void 0===r)return o.get(e);o.set(e,r)}else t.warn({name:e},"Unable to set filter property [{name}]. No filter with that param!")}return this},this.connect=function(e){if(e&&"object"==typeof e&&e.$$SOURCE)return n;if("object"==typeof e&&e.type&&"function"==typeof e.type){var r=e.type();if("Channel"===o&&"Sample"===r)return t.error("Trying to connect Channel with Sample!"),this;if(e.connect&&"function"==typeof e.connect){var i=e.connect({$$SOURCE:!0});return u=e,n.connect(i),e}t.error("Unknown type of  object passed as output!")}else t.error("Unknown type of  object passed as output!");return this},this.output=function(){return u},this.animate=function(){return a.animate.apply(this,arguments),this},this.type=function(e){return"string"==typeof e?e===o:o},this.url=function(){return r},this.name=function(){return c},this.stop=function(){return a.stop.apply(this,arguments),this}}]),$R.service["class"]("Sound",["@inject","@Config","Debug",function UserAudioMixer(e,t,n){function argF(){return[this]}var r=e("$EventProvider"),o=[],i=null,a="",s=t.watch("filters",function(e){o=e});r.wrap(this),r.event("play",argF,!1),r.event("connect",argF,!1),r.event("ready",argF,!0),r.event("error",argF,!0),this.build=function(t,i){for(var u=0;u<s.length;u++){var c=e("$"+s[u]+"Node");o[o.length-1]&&o[o.length-1].connect(c),o.push(c)}if("string"==typeof t&&t.length>0?a=t:(n.warn({n:t},"[{n}] is not a valid name for channel"),r.resolve("error")),i&&"object"==typeof i&&i.connect&&"function"==typeof i.connect)this.connect(i);else if("destination"===i){var l=e("$DestinationNode");o[o.length-1].connect(l),this.connect=function(e){if(e.$$AUDIONODE)return o[0]}}return delete this.build,this},this.connect=function(e){if(e.$$AUDIONODE)return o[0];var t=e.connect({$$AUDIONODE:!0});return o[o.length-1].connect(t),i=e,this},this.output=function(){return i},this.filters=function(){return o},this.name=function(){return a}}]),$R.service["class"]("Sound",["@extend","@inject",function UserAudioSource(e,t){function cbArgs(){return[this]}function connectCbArgs(){return[this,i]}var n=t("$AudioSource"),r=t("$EventProvider"),o=null,i=null,a="";r.wrap(this),r.event("ready",cbArgs,!0),r.event("load",cbArgs,!0),r.event("error",cbArgs,!0),r.event("connect",connectCbArgs,!1),r.event("play",cbArgs,!1),r.event("stop",cbArgs,!1),n.on("ready",function(){r.resolve("ready")}),n.on("load",function(){r.resolve("load")}),n.on("error",function(){r.resolve("error")}),this.build=function(e){return"string"==typeof e&&e.length>0?(a=e,n.build(e),o=t("$UserAudioMixer").build("source-built-in-filter"),
o.on("connect",function(){r.resolve("connect")}),n.connect(o.connect({$$AUDIONODE:!0})),delete this.build,r.resolve("ready")):(delete this.build,r.resolve("error")),this},this.filters=function(){return o?o.filters():[]},this.play=function(){return this.status("error")||this.status("ready")&&(this.status("load")?n.play():this.on("load",function(){n.play()})),this},this.stop=function(){return n.stop(),this},this.output=function(){return i},this.connect=function(e){return e&&e.constructor===o.constructor&&(i=e,o.connect(e)),this}}]),$R.service["class"]("Sound",["@Audio","@extend",function DelayNode(e,t){t(this,"$AudioNode");var n=0,r=0,o=e.context().createGain(),i=e.context().createDelay(),a=e.context().createGain(),s=e.context().createBiquadFilter();o.gain.value=1,s.frequency.value=2e3,a.gain.value=r,i.delayTime.value=n,i.connect(a),a.connect(s),s.connect(i),a.connect(o),this.build("delay",[o,a],o),this.property("delay",[0,0],function(e){if("object"==typeof e&&e.constructor===Array&&2==e.length&&"number"==typeof e[0]&&"number"==typeof e[1]){var t=e[0],o=e[1];return t>1&&(t=1),t<0&&(t=0),o>.8&&(o=.8),o<0&&(o=0),n=t,r=o,i.delayTime.value=n,a.gain.value=r,[o,t]}},function(e){return[e[0],e[1]]},function(e){var t=e[0],n=e[1];return t>1&&(t=1),t<0&&(t=0),n>.8&&(n=.8),n<0&&(n=0),[n,t]})}]),$R.service["class"]("Sound",["@Audio","@extend",function DestinationNode(e,t){t(this,"$AudioNode"),this.build("destination",e.context().destination,!1)}]),$R.service["class"]("Sound",["@Audio","@extend",function GainNode(e,t){t(this,"$AudioNode");var n=1,r=e.context().createGain();r.gain.value=n,this.build("gain",r,r),this.property("volume",1,function(e){if("number"==typeof e)return e<0&&(e=0),e>1&&(e=1),n=e,r.gain.value=n,e},function(e){return e},function(e){return e<0&&(e=0),e>1&&(e=1),e})}]),$R.service["class"]("Sound",["@Audio","@extend",function LowpassNode(e,t){t(this,"$AudioNode");var n=e.context().createBiquadFilter(),r=22050;n.type="lowpass",n.frequency.value=r,this.build("lowpass",n,n),this.property("lowpass",22050,function(e){return e<0&&(e=0),e>22050&&(e=22050),r=e,n.frequency.value=e,e},function(e){return e},function(e){return e<0&&(e=0),e>22050&&(e=22050),e})}]),$R.service["class"]("Sound",["@inject","Debug",function AudioNode(e,t){function args(){return[o]}var n=null,r=null,o=null,i=function(e,t){if(!t)for(var n=this.input(),r=0;r<n.length;r++)e.connect(n[r]);return this.output()},a=[],s=e("$EventProvider"),u="";s.wrap(this),s.event("ready",args,!0),s.event("play",args,!1),s.event("end",args,!1),s.event("connect",args,!1),s.event("disconnect",args,!1),s.event("property",args,!1),this.disconnect=function(){if(o&&n){for(var e=o.input(),t=0;t<n.length;t++)for(var r=0;r<e.length;r++)n[t].disconnect(e[r]);o=null,s.resolve("disconnect")}return this},this.connect=function(e){if(this.disconnect(),o=e,o&&n)for(var t=o.input(),r=0;r<n.length;r++)for(var i=0;i<t.length;i++)n[r].connect(t[r]);return s.resolve("connect"),this},this.build=function(e,t,o,a){return r="object"==typeof t&&t.constructor===Array?t:[t],n="object"==typeof o&&o.constructor===Array?o:[o],u=e,"function"==typeof a&&(i=a),delete this.build,s.resolve("ready"),this},this.input=function(){return r},this.output=function(){return n},this.name=function(){return u},this.play=function(e,t){a.push(e),e.addEventListener("ended",function(){var t=[];e.$$SEARCH=!0;for(var n=0;n<a.length;n++)a.$$SEARCH||t.push(a[n]);delete e.$$SEARCH,a=t}),o&&o.play(e,i.apply(this,arguments))};var c={};this.property=function(e,n,r,o,i){if("string"==typeof e){var a={name:e,value:null,getter:null,setter:null,normalizer:i,animated:"function"==typeof i};"function"==typeof o&&(a.getter=o),"function"==typeof r&&(a.setter=r),a.value=n,n&&a.setter&&(c[a.name]?t.warn({property:a},"Duplicated property [{property}]"):c[a.name]=a)}else t.warn({name:e},"Property name [{name}] is not valid!")},this.set=function(e,n){if("string"==typeof e&&e.length>0){var r=c[e].setter(n);void 0!==r?c[e].value=r:t.warn({prop:e,val:n},"[{val}] is not a valid valuen for [{prop}].")}},this.get=function(e){if("string"==typeof e&&e.length>0){if(c[e])return c[e].value;t.warn({name:e},"Object has no property [{name}]. Unable to get value.")}else t.warn("Property name has to be a string")},this.props=function(){var e=[];for(var t in c)c.hasOwnProperty(t)&&e.push(c[t]);return e},this.has=function(e){return!!c[e]}}]),$R.service["class"]("Sound",function AudioNodeSoundDispatcher(){var e=[];this.register=function(t){t.addEventListener("end",function(){t.$$SEARCH=!0;for(var n=[],r=0;r<e.length;r++)e[r].$$SEARCH||n.push(e[r]);e=n}),e.push(t)},this.reconnect=function(t){for(var n=0;n<e.length;n++)e[n].disconnect(),e[n].connect(t)}}),$R.service["class"]("Sound",["@Audio","@inject","Resource","Debug",function AudioSource(e,t,n,r){function args(){return[o,i,a]}var o=null,i=null,a=null,s=t("$EventProvider"),u=[];s.wrap(this),s.event("ready",args,!0),s.event("load",args,!0),s.event("error",args,!0),s.event("connect",args,!1),s.event("disconnect",args,!1),s.event("play",!1),s.event("end",!1),this.build=function(t){return o=n.audio(t),o.on("load",function(n){e.context().decodeAudioData(n,function(e){i=e,s.resolve("load")},function(){r.error({src:t},"[{src}] audio buffer can not be decoded. Resource not found, or of wrong format"),s.resolve("error")})}),o.on("error",function(){r.error({src:t},"Unable to load audio file"),s.resolve(error)}),delete this.build,this},this.disconnect=function(){return a&&(a=null,s.resolve("disconnect")),this},this.connect=function(e){return this.disconnect(),a=e,s.resolve("connect"),this},this.play=function(){if(a&&this.status("load")){var t=e.context().createBufferSource();t.buffer=i,u.push(t),a.play(t,!1),t.start(0)}return this},this.stop=function(){for(var e=0;e<u.length;e++)u[e].stop(0);return u=[],this}}]),$R.service["class"]("Sound",["Debug",function Event(e){var t=[],n=!1,r="default",o=!1,i=this,a=function(){return[]};this.build=function(e,t,o){return n=!!o,"function"==typeof t&&(a=t),"string"==typeof e&&e.length>0&&(r=e),delete this.build,this},this.name=function(){return r},this.active=function(){return o},this.resolve=function(){n&&(o=!0);var e=a();if("object"!=typeof e||e.constructor!==Array)e=[];else for(var r=0;r<t.length;r++)t[r].apply(this,e);return this},this.callback=function(e){if("function"!=typeof e)return this;if(i.active()){var n=a();return"object"==typeof n&&n.constructor===Array||(n=[]),e.apply(this,n),t.push(arguments[0]),this}return t.push(e),this}}]),$R.service["class"]("Sound",["@inject",function EventProvider(e){var t=[];this.event=function(n,r,o){var i=e("$Event");return i.build.apply(i,arguments),t[n]=i,this},this.resolve=function(e){return t[e]&&t[e].resolve.call(t[e]),this},this.wrap=function(e){return e.on=function(n,r){t[n]&&t[n].callback.call(e,r)},e.status=function(e){return!!t[e]&&t[e].active()},this}}]),$R.service["class"]("States",["Debug",function State(e){function isInState(n){return t[n]?t[n].value:void e.error({state:n,target:r.constructor.name},"State {state} if {target} does not exist",r)}function isBoundProperty(e){return void 0!==typeof t[e]&&"object"==typeof t[e].bound&&t[e].bound.constructor===Array&&t[e].bound.length}function getPropertyEventCallback(e,t){return function(){setPropertyValue(e,t,!0)}}function createProperty(o,a,s,u){if(void 0===t[o]){if(t[o]={value:!!a},"string"==typeof s&&s.length>0)if(s=s.match(i)){t[o].bound||(t[o].bound=[]);for(var c=0;c<s.length;c++)t[o].bound.push(s[c]),n.on(s[c],getPropertyEventCallback(o,!0))}else e.error({enabler:typeof s,disabler:typeof u,property:o},"Enabler is not a valid event string. Unable to create bound property {property} : enabler {enabler}, disabler - {disabler}",r);if("string"==typeof u&&u.length>0)if(u=u.match(i)[0],"string"==typeof u&&u.length>0)if(t[o].bound||(t[o].bound=[]),u=u.match(i)){t[o].bound||(t[o].bound=[]);for(var l=0;l<u.length;l++)t[o].bound.push(u[l]),n.on(u[l],getPropertyEventCallback(o,!1))}else e.error({enabler:typeof s,disabler:typeof u,property:o},"Disabler is not a valid event string. Unable to create bound property {property} : enabler {enabler}, disabler - {disabler}",r);else e.error({enabler:typeof s,disabler:typeof u,property:o},"Disabler is not a valid event string. Unable to create bound property {property} : enabler {enabler}, disabler - {disabler}",r)}}function setPropertyValue(n,o,i){if("boolean"==typeof o){if("object"==typeof t[n]){var a=isBoundProperty(n);!a||a&&i?t[n].value=o:e.error({property:n,value:o},"Attempt to set state of bound property directly. Unable to set value {value} of property {property}.")}}else e.error({property:n,val:typeof o},"Unable to set {property} value as {val}. Must be boolean. ",r)}var t={},n=null,r=null,o=this,i=/[A-Za-z-0-9]+/g;this.decorate=function(t,a){return r=t,a&&(n=a,this.create=function(e,t,n,r){var o=e.match(i);"undefined"==typeof t&&(n=e,t=!1);for(var a=0;a<o.length;a++)createProperty(o[a],t,n,r)},this.set=function(e,t){var n=e.match(i);if(n&&n.length)for(var r=0;r<n.length;r++)setPropertyValue(n[r],t)}),r.is=function(t,s){if(this.$STATESPROTECTEDCONTEXT)return o;if(this.$STATESPROTECTEDHASEMITTERSET)return a||(n=t),o;if("string"==typeof t){var u,c=t.match(i);if(s="undefined"==typeof s||("boolean"!=typeof s||s),c&&c.length){for(var l=0;l<c.length&&(u=isInState(c[l]),!s||u)&&(s||!u);l++);return u}e.error({state:t},"Invalid state string. Unable to parse {state} and check state.",r)}return isInState(t)},r.is.$$STATESPROTECTED=!0,delete this.decorate,this}}]),$R.service["class"]("Objects",["@inject","+Drawer","+Path","+Model",function AreaObjectDrawer(e,t,n,r){function UpdateFill(e){var r=this.extension("Box").box().sprite(),o=this.extension("Style"),i=o.get("path");e.save(),e.translate(r.margin[3]-h,r.margin[0]-p);var a=o.get("interpolation");c||(n.interpolate(i,a,!0),c=!0),a?t.drawBezierPathFill(e,i,o):t.drawLinePathFill(e,i,o),e.restore()}function UpdateStroke(e){var o=this.extension("Box").box().sprite(),i=this.extension("Style"),a=r.cloneArray(i.get("path")),s=i.get("interpolation");e.translate(o.margin[3]-h,o.margin[0]-p),c||(n.interpolate(a,s,!0),c=!0),s&&t.drawLinePath(e,a,i),t.drawBezierPath(e,a,i)}function UpdateBg(e){var i=this.extension("Style"),a=this.extension("Box").box().sprite(),s=r.cloneArray(i.get("path")),u=i.get("interpolation");e.translate(a.margin[3]-h,a.margin[0]-p),c||(n.interpolate(s,u,!0),c=!0),u?t.drawLineBgClipPath(e,s,i,o,a):t.drawBezierBgClipPath(e,s,i,o,a)}var o=e("$GraphicsAssembler"),i=this.extension("Box"),a=this.extension("Style"),s=this.extension("Matrix"),u=this.extension("Drawer"),c=!1,l=1,f=0,h=0,p=0;o.layer(0,"fill",UpdateFill.bind(this)),o.layer(1,"bg",UpdateBg.bind(this)),o.layer(2,"stroke",UpdateStroke.bind(this)),o.box(i),this.watch("path",function(){a.get("interpolation");c=!1,i.purge(),s.purge(),o.resize(),o.update("fill"),o.update("stroke"),o.update("bg")}),this.watch("interpolation",function(e,t){c=!1,f=Math.round(40*t),o.update("fill"),o.update("stroke"),o.update("bg"),o.resize()}),this.watch("position",function(){i.purge(),s.purge()}),this.watch(["strokeStyle","strokeColor"],function(){o.update("stroke"),o.resize()}),this.watch("fill",function(){o.update("fill")}),this.watch(["bg","bgSize","bgPosition"],function(){o.update("bg")}),this.watch("strokeWidth",function(e,t){for(var n=0,r=0;r<t.length;r++)t[r]>n&&(n=t[r]);l=n/2,o.update("stroke"),i.purge(),s.purge(),o.resize()}),i.f(function(e){for(var t=a.get("position"),n=a.get("path"),r=a.get("anchor"),o=t[0],i=t[1],s=1/0,u=1/0,c=-(1/0),v=-(1/0),d=0;d<n.length;d++)n[d][0]<s&&(s=n[d][0]),n[d][2]<s&&(s=n[d][2]),n[d][1]<u&&(u=n[d][1]),n[d][3]<u&&(u=n[d][3]),n[d][0]>c&&(c=n[d][0]),n[d][2]>c&&(c=n[d][2]),n[d][1]>v&&(v=n[d][1]),n[d][3]>v&&(v=n[d][3]);s===1/0&&(s=0),u===1/0&&(u=0),c===-(1/0)&&(c=0),v===-(1/0)&&(c=0),h=s,p=u;var g=l+f,y=Math.abs(c-s),b=Math.abs(v-u);"center"===r[0]&&(o-=y?y/2:0),"right"===r[0]&&(o-=y?y:0),"middle"===r[1]&&(i-=b?b/2:0),"bottom"===r[1]&&(i-=b?b:0),e.set(o+h,i+p,y,b,g,g,g,g)}),u["export"](o["export"]),u.drawFunction(function(e){t.transform(this,e),e.drawImage(u["export"](),0,0)}),u.destroy(function(){o=o.destroy(),c=void 0,l=void 0,f=void 0,h=void 0,p=void 0})}]),$R.service["class"]("Objects",["+Drawer","Debug","@inject",function CircleObjectDrawer(e,t,n){function UpdateStroke(e){var t=i.box().sprite();e.beginPath(),e.strokeStyle=a.get("strokeColor"),e.lineWidth=a.get("strokeWidth"),e.setLineDash(a.get("strokeStyle")),e.arc(t.size[0]/2,t.size[1]/2,a.get("radius"),0,2*Math.PI),e.stroke()}function UpdateFill(e){var t=i.box().sprite();e.beginPath(),e.fillStyle=a.get("fill"),e.arc(t.size[0]/2,t.size[1]/2,a.get("radius"),0,2*Math.PI),e.fill()}function UpdateBg(e){var t=i.box().sprite(),n=i.box().value();e.beginPath(),e.arc(t.size[0]/2,t.size[1]/2,a.get("radius"),0,Math.PI/2),e.clip();for(var o=a.get("bgPosition"),s=a.get("bgSize"),u=a.get("bg"),c=0;c<u.length;c++)if(u[c].loaded()){e.save();var l=n.size[0]*s[c][0],f=n.size[1]*s[c][1],h=n.size[0]*o[c][0],p=n.size[1]*o[c][1];e.translate(t.margin[3]+h,t.margin[0]+p),e.drawImage(u[c]["export"](),0,0,l,f),e.restore()}else u[c].on("load",function(){r.update("bg")})}var r=n("$GraphicsAssembler"),o=this.extension("Drawer"),i=this.extension("Box"),a=this.extension("Style"),s=this.extension("Matrix"),u=1;r.layer(0,"fill",UpdateFill.bind(this)),r.layer(1,"bg",UpdateBg.bind(this)),r.layer(2,"stroke",UpdateStroke.bind(this)),r.box(i),i.f(function(e){var t=a.get("radius"),n=a.get("position"),r=a.get("anchor"),o=2*t,i=n[0],s=n[1];"center"===r[0]&&(i-=t),"right"===r[0]&&(i-=o),"middle"===r[1]&&(s-=t),"bottom"===r[1]&&(s-=o),e.set(i,s,o,o,u,u,u,u)}),this.watch("radius",function(){r.update("stroke"),r.update("bg"),r.update("fill"),i.purge(),s.purge(),r.resize()}),this.watch("fill",function(){r.update("fill")}),this.watch("position",function(){i.purge()}),this.watch("strokeWidth",function(e,t){t!==e&&(u=t,i.purge(),r.update("stroke"),s.purge(),r.resize())}),this.watch(["strokeStyle","strokeColor"],function(){r.update("stoke")}),this.watch(["bg","bgPosition","bgSize"],function(){r.update("bg")}),o["export"](r["export"]),o.drawFunction(function(t){e.transform(this,t),t.drawImage(o["export"](),0,0)}),o.destroy(function(){r=r.destroy(),o=void 0,i=void 0,a=void 0,s=void 0,u=void 0})}]),$R.service["class"]("Objects",["Debug","+Matrix",function DefaultObjectDrawer(e,t){var n=this.extension("Matrix");n.f(function(){return t.objectMatrix(this)}),this.watch(["position","rotate","translate","scale","skew"],function(){n.purge()}),n.destroy(function(){n=void 0})}]),$R.service["class"]("Objects",["+Drawer",function GroupObjectDrawer(e){var t=this.extension("Drawer"),n=this.extension("Layers"),r=this.extension("Box"),o=this.extension("Style");r.f(function(e){var t=1/0,r=1/0,i=-(1/0),a=-(1/0);n.forEach(function(){var e=this.extension("Box").box().value();t=Math.min(t,e.position[0]),r=Math.min(r,e.position[1]),i=Math.max(i,e.position[0]+e.size[0]),a=Math.max(a,e.position[1]+e.size[1])});var s=o.get("position");t===1/0&&(t=0),i===-(1/0)&&(i=0),r===1/0&&(r=0),a===-(1/0)&&(a=0),e.set(t+s[0],r+s[1],i-t,a-r,0,0,0,0)}),this.watch("position",function(e,t){r.purge()});var i;t.drawFunction(function(){i=arguments,e.transform(this,i[0]),n.forEach(function(){i[0].save(),this.extension("Drawer").draw.apply(this,i),i[0].restore()})}),t.destroy(function(){t=void 0,n=void 0,r=void 0,o=void 0,i=void 0})}]),$R.service["class"]("Objects",["+Drawer","Resource","@inject",function ImageObjectDrawer(e,t,n){var r=this.extension("Style"),o=this.extension("Box"),i=n("$Canvas"),a=this.extension("Drawer"),s=this.extension("Matrix"),u=null,c=null,l=null;this.watch("src",function(e,n){e!==n&&(l=t.image(n),l.on("load",function(){null===u&&(u=r.get("size")[0]?r.get("size")[0]:l.width(),i.width(u)),null===c&&(c=r.get("size")[1]?r.get("size")[1]:l.height(),i.height(c)),i.context().drawImage(l["export"](),0,0,u,c),s.purge(),o.purge(),a.spriteUpdated.call({$$CALL:!0})}))}),this.watch("size",function(e,t){e[0]===t[0]&&e[1]===t[1]||(u=t[0],c=t[1],i.width(u),i.height(c),i.context().clearRect(0,0,i.width(),i.height()),i.context().drawImage(l["export"](),0,0,u,c),o.purge())}),this.watch("position",function(e,t){e[0]===t[0]&&e[1]===t[1]||o.purge()}),o.f(function(e){var t=r.get("position"),n=r.get("anchor"),o=t[0],i=t[1];"center"===n[0]&&(o-=u?u/2:0),"right"===n[0]&&(o-=u?u:0),"middle"===n[1]&&(i-=c?c/2:0),"bottom"===n[1]&&(i-=c?c:0),e.set(o,i,u?u:0,c?c:0,0,0,0,0)}),a.filter(function(){return l&&l.loaded()&&!l.error()&&null!==u&&null!==c&&u>0&&c>0}),a["export"](i["export"]),a.drawFunction(function(t){e.transform(this,t),t.drawImage(a["export"](),0,0,u,c)}),a.destroy(function(){r=void 0,o=void 0,i=i.destroy(),a=void 0,s=void 0,u=void 0,c=void 0,l=void 0})}]),$R.service["class"]("Objects",["@inject","Debug","+Drawer","+Path",function LineObjectDrawer(e,t,n,r){function UpdateCanvas(){var e=o.box().sprite(),t=i.get("path"),s=i.get("interpolation");if(a.width()!==e.size[0]||a.height()!==e.size[1]){var l=e.size[0],f=e.size[1];a.width(l),a.height(f)}d.clearRect(0,0,e.size[0],e.size[1]),d.save(),c||(r.interpolate(t,s),c=!0),d.translate(e.margin[3]-p,e.margin[0]-v),s>0?t.length>0&&n.drawBezierPath(d,t,i):t.length>0&&n.drawLinePath(d,t,i),d.restore(),u=!1}var o=this.extension("Box"),i=this.extension("Style"),a=e("$Canvas"),s=this.extension("Matrix"),u=!1,c=!1,l=1,f=0,h=this.extension("Drawer"),p=0,v=0;o.f(function(e){for(var t=i.get("position"),n=i.get("path"),r=i.get("anchor"),o=t[0],a=t[1],s=1/0,u=1/0,c=-(1/0),h=-(1/0),d=0;d<n.length;d++)n[d][0]<s&&(s=n[d][0]),n[d][2]<s&&(s=n[d][2]),n[d][1]<u&&(u=n[d][1]),n[d][3]<u&&(u=n[d][3]),n[d][0]>c&&(c=n[d][0]),n[d][2]>c&&(c=n[d][2]),n[d][1]>h&&(h=n[d][1]),n[d][3]>h&&(h=n[d][3]);s===1/0&&(s=0),u===1/0&&(u=0),c===-(1/0)&&(c=0),h===-(1/0)&&(c=0),p=s,v=u;var g=l+f,y=Math.abs(c-s),b=Math.abs(h-u);"center"===r[0]&&(o-=y?y/2:0),"right"===r[0]&&(o-=y?y:0),"middle"===r[1]&&(a-=b?b/2:0),"bottom"===r[1]&&(a-=b?b:0),e.set(o+p,a+v,y,b,g,g,g,g)}),this.watch("path",function(){var e=i.get("interpolation");0!==e&&(c=!1),o.purge(),s.purge(),u=!0}),this.watch("position",function(){o.purge()}),this.watch("strokeWidth",function(e,t){for(var n=0,r=0;r<t.length;r++)t[r]>n&&(n=t[r]);l=n/2,u=!0,o.purge(),s.purge()}),this.watch("interpolation",function(e,t){e!==t&&(c=!1),f=Math.round(20*t),o.purge(),s.purge(),u=!0}),this.watch(["strokeStyle","strokeColor"],function(){u=!0});var d=a.context();h.filter(function(){return u&&UpdateCanvas.call(this),!0}),h["export"](a["export"]),h.drawFunction(function(e){n.transform(this,e),e.drawImage(h["export"](),0,0)}),h.destroy(function(){d=void 0,o=void 0,i=void 0,a=a.destroy(),s=void 0,u=!1,c=!1,l=void 0,f=void 0,h=void 0,p=void 0,v=void 0})}]),$R.service["class"]("Objects",["@inject","+Drawer",function RectangleObjectDrawer(e,t){function normalizeRadius(e){for(var t=[e[0],e[1],e[2],e[3]],n=i.box().value(),r=[n.size[0]/2,n.size[1]/2],o=0;o<t.length;o++)t[o]>r[0]&&(t[o]=r[0]),t[o]>r[1]&&(t[o]=r[1]);return t}function drawRectPath(e,t){var n=normalizeRadius(r.get("radius")),o=.5522847498,a=i.box().value(),s=i.box().sprite();if(t){var u=r.get("strokeColor"),c=r.get("strokeWidth"),l=r.get("strokeStyle"),f=r.get("cap");e.lineCap=f}if(e.beginPath(),n[0]>0?e.moveTo(s.margin[3]+n[0],s.margin[0]):e.moveTo(s.margin[3],s.margin[0]),t&&(e.setLineDash(l[0]),e.strokeStyle=u[0],e.lineWidth=c[0]),n[1]>0){e.lineTo(a.size[0]+s.margin[3]-n[1],s.margin[0]);var h=o*n[1];e.bezierCurveTo(a.size[0]+s.margin[3]-n[1]+h,s.margin[0],a.size[0]+s.margin[3],s.margin[0]+n[1]-h,a.size[0]+s.margin[3],s.margin[0]+n[1])}else e.lineTo(a.size[0]+s.margin[3],s.margin[0]);if(t&&e.stroke(),t&&(e.setLineDash(l[1]),e.strokeStyle=u[1],e.lineWidth=c[1]),n[2]>0){var h=o*n[2];e.lineTo(a.size[0]+s.margin[3],a.size[1]+s.margin[0]-n[2]),t&&e.stroke(),t&&(e.setLineDash(l[2]),e.strokeStyle=u[2],e.lineWidth=c[2]),e.bezierCurveTo(a.size[0]+s.margin[3],a.size[1]+s.margin[0]-n[2]+h,a.size[0]+s.margin[3]-n[2]+h,a.size[1]+s.margin[0],a.size[0]+s.margin[3]-n[2],a.size[1]+s.margin[0]),t&&e.stroke()}else e.lineTo(a.size[0]+s.margin[3],a.size[1]+s.margin[0]),t&&e.stroke();if(t&&(e.setLineDash(l[2]),e.strokeStyle=u[2],e.lineWidth=c[2]),n[3]>0){var h=o*n[3];e.lineTo(s.margin[3]+n[3],a.size[1]+s.margin[0]),e.bezierCurveTo(s.margin[3]+n[3]-h,a.size[1]+s.margin[0],s.margin[3],a.size[1]+s.margin[0]-n[3]+h,s.margin[3],a.size[1]+s.margin[0]-n[3])}else e.lineTo(s.margin[3],a.size[1]+s.margin[0]);if(t&&e.stroke(),t&&(e.setLineDash(l[3]),e.strokeStyle=u[3],e.lineWidth=c[3]),n[0]>0){var h=o*n[0];e.lineTo(s.margin[3],s.margin[0]+n[0]),t&&e.stroke(),t&&(e.setLineDash(l[0]),e.strokStyle=u[0],e.lineWidth=c[0]),e.bezierCurveTo(s.margin[3],s.margin[0]+n[0]-h,s.margin[0]+n[0]-h,s.margin[0],s.margin[3]+n[0],s.margin[0]),t&&e.stroke()}else e.lineTo(s.margin[3],s.margin[0]),t&&e.stroke()}function hasRadius(){for(var e=!1,t=r.get("radius"),n=0;n<t.length;n++)if(t[n]>0){e=!0;break}return e}function hasStroke(){for(var e=r.get("strokeWidth"),t=!1,n=0;n<e.length;n++)if(e[n]>0){t=!0;break}return t}function monoStroke(){for(var e=r.get("strokeColor"),t=r.get("strokeWidth"),n=r.get("strokeStyle"),o=e[0],i=t[0],a=n[0],s=!0,u=1;u<4;u++)if(o!==e[u]||i!==t[u]||n[u][0]!==a[0]||n[u][1]!==a[1]){s=!1;break}return s}function UpdateBg(e){var t=i.box(),o=t.value(),a=t.sprite(),s=r.get("bgPosition"),u=r.get("bgSize"),c=r.get("bg");hasRadius()?drawRectPath(e):e.rect(a.margin[3],a.margin[0],o.size[0],o.size[1]),e.clip();for(var l=0;l<c.length;l++)if(c[l].loaded()){e.save();var f=o.size[0]*u[l][0],h=o.size[1]*u[l][1],p=o.size[0]*s[l][0],v=o.size[1]*s[l][1];e.translate(a.margin[3]+p,a.margin[0]+v),e.drawImage(c[l]["export"](),0,0,f,h),e.restore()}else c[l].on("load",function(){n.update("bg")})}function UpdateStroke(e){if(hasStroke()){var t=r.get("strokeColor"),n=r.get("strokeWidth"),o=r.get("strokeStyle"),a=i.box(),s=a.value(),u=a.sprite();if(hasRadius())drawRectPath(e,!0);else if(monoStroke()){var c=r.get("cap");e.lineCap=c,e.setLineDash(o[0]),e.strokeStyle=t[0],e.lineWidth=n[0],e.beginPath(),e.moveTo(u.margin[3],u.margin[0]),e.lineTo(u.margin[3]+s.size[0],u.margin[0]),e.lineTo(u.margin[3]+s.size[0],u.margin[0]+s.size[1]),e.lineTo(u.margin[3],u.margin[0]+s.size[1]),e.lineTo(u.margin[3],u.margin[0]),e.stroke()}}}function UpdateFill(e){var t=r.get("fill"),n=i.box(),o=n.value(),a=n.sprite();hasRadius()?drawRectPath(e):e.rect(a.margin[3],a.margin[0],o.size[0],o.size[1]),e.fillStyle=t,e.fill()}var n=e("$GraphicsAssembler"),r=this.extension("Style"),o=this.extension("Drawer"),i=this.extension("Box"),a=this.extension("Matrix"),s=[2,2,2,2],u=[0,0];n.layer(0,"fill",UpdateFill.bind(this)),n.layer(1,"bg",UpdateBg.bind(this)),n.layer(2,"stroke",UpdateStroke.bind(this)),n.box(i),i.f(function(e){var t=r.get("position"),n=r.get("size"),o=r.get("anchor"),i=t[0],a=t[1];"center"===o[0]&&(i-=n[0]/2),"right"===o[0]&&(i-=n[0]),"middle"===o[1]&&(a-=n[1]/2),"bottom"===o[1]&&(a-=n[1]),u[0]=n[0],u[1]=n[1],e.set(i,a,n[0],n[1],s[0],s[1],s[2],s[3])}),o["export"](n["export"]),o.drawFunction(function(e){t.transform(this,e),u[0]>=1&&u[1]>=0&&e.drawImage(o["export"](),0,0)}),this.watch("size",function(e,t){n.update("fill"),n.update("stroke"),n.update("bg"),n.resize(),a.purge(),i.purge()}),this.watch("radius",function(e,t){n.update("fill"),n.update("stroke"),n.update("bg")}),this.watch("strokeWidth",function(e,t){s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],i.purge(),n.resize(),a.purge(),n.update("fill"),n.update("stroke"),n.update("bg")}),this.watch(["position","size"],function(){i.purge(),a.purge()}),this.watch(["bg","bgSize","bgPosition"],function(){n.update("bg")}),this.watch(["strokeStyle","strokeColor"],function(){n.update("stroke")}),this.watch(["fill"],function(){n.update("fill")}),o.destroy(function(){for(n=n.destroy(),r=void 0,o=void 0,i=void 0,a=void 0;s[0];)s.shift();for(;u[0];)u.shift();s=void 0,u=void 0})}]),$R.service["class"]("Objects",["+Drawer","+Model","Resource","@inject",function SpriteObjectDrawer(e,t,n,r){var o=this.extension("Style"),i=this.extension("Box"),a=this.extension("Drawer"),s=this.extension("Matrix"),u=null,c=null,l=r("$Canvas");i.f(function(e){var t=o.get("position"),n=o.get("anchor"),r=t[0],i=t[1];"center"===n[0]&&(r-=u?u/2:0),"right"===n[0]&&(r-=u?u:0),"middle"===n[1]&&(i-=c?c/2:0),"bottom"===n[1]&&(i-=c?c:0),e.set(r,i,u?u:0,c?c:0,0,0,0,0)}),a["export"](function(){return l["export"]()}),a.drawFunction(function(t){e.transform(this,t),t.drawImage(a["export"](),0,0,u,c)}),this.watch("src",function(e,r){if(r!==e){var o=t.readSpriteString(r);l.destroy(),l=n.sprite(o.url),l.config(o.frames),l.on("load",function(){null==u&&(u=l.width()),null==c&&(c=l.height()),s.purge(),i.purge()})}}),this.watch("size",function(e,t){e[0]===t[0]&&e[1]===t[1]||(u=t[0],c=t[1],i.purge())}),this.watch("position",function(e,t){e[0]===t[0]&&e[1]===t[1]||i.purge()}),a.destroy(function(){o=void 0,i=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=l.destroy?l.destroy():void 0})}]),$R.service["class"]("Objects",["@inject","+Drawer","Resource",function TextObjectDrawer(e,t,n){function UpdateTextLayer(e){r.update();var t=o.get("lineHeight"),n=(o.get("color"),o.get("fontSize")),i=o.get("align");e.beginPath();var a=t-n/5;n<t?a-=t-n:a+=n-t,r.forEachLine(function(n){e.beginPath();var o=a+n*t;e.font=this.extractFontString(),e.fillStyle=this.color(),"center"===i?e.fillText(this.string(),(r.textBlockWidth()-this.width())/2,o):"right"===i?e.fillText(this.string(),r.textBlockWidth()-this.width()-2,o):e.fillText(this.string(),2,o)})}function getFontFile(){var e="oblique"===f?"normal":f,t=n.font(c,l,e);t.on("load",function(){u=!0,i.purge(),s.purge(),r.update(!0)}),t.on("error",function(){u=!0,i.purge(),s.purge(),r.update(!0)})}function drawText(e){t.transform(this,e),e.drawImage(a["export"](),0,0)}var r=this.extension("Text"),o=this.extension("Style"),i=this.extension("Box"),a=this.extension("Drawer"),s=this.extension("Matrix"),u=!1,c=o.get("font"),l=o.get("weight"),f=o.get("style"),h=e("$GraphicsAssembler");h.layer(0,"text",UpdateTextLayer),a.filter=function(){return u&&(h.size(r.textBlockWidth(),r.textBlockHeight()),h.update("text"),u=!1),!0},a["export"](h["export"]),this.watch(["str","style","font","weight","size","color","fontSize","lineHeight"],function(){u=!0,i.purge(),s.purge()}),this.watch("font",function(e,t){c=t,getFontFile()}),this.watch("style",function(e,t){f=t,getFontFile()}),this.watch("weight",function(e,t){l=t,getFontFile()}),this.watch("anchor",function(){i.purge(),s.purge()}),this.watch("position",function(){i.purge()}),i.f(function(e){var t=o.get("position"),n=o.get("anchor"),i=t[0],a=t[1];"center"===n[0]&&(i-=r.textBlockWidth()/2),"right"===n[0]&&(i-=r.textBlockWidth()),"middle"===n[1]&&(a-=r.textBlockHeight()/2),"bottom"===n[1]&&(a-=r.textBlockHeight()),e.set(i,a,r.textBlockWidth(),r.textBlockHeight(),0,0,0,0)}),a.drawFunction(drawText),a.destroy(function(){r=void 0,o=void 0,i=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,f=void 0,h=h.destroy()})}]),$R.service["class"]("Objects",["@extend","+Model","+Path","Debug",function AreaObjectModel(e,t,n,r){function SyncPathProperty(e,t){for(var n=0;n<e.length;n++)t[n]||t.push(t[t.length-1]);e.length<t.length&&t.splice(e.length-1,t.length-e.length)}e(this,"$DefaultObjectModel"),e(this,"$GlobalBackgroundModel"),e(this,"$DefaultFreeStrokeModel");var o=this.extension("Style");this.extension("Animation");o.define(0,"path",[[0,0,0,0,0,0,0,0]],function(e){if(n.checkSimplePath(e)){var t=o.get("path"),i=n.convertSimplePath(e);return i[0][0]===i[i.length-1][2]&&i[0][1]===i[i.length-1][3]||i.push([i[i.length-1][2],i[i.length-1][3],i[0][0],i[0][1],i[i.length-1][2],i[i.length-1][3],i[0][0],i[0][1]]),t.length!==i.length&&(SyncPathProperty(i,o.get("strokeStyle")),SyncPathProperty(i,o.get("strokeWidth")),SyncPathProperty(i,o.get("strokeColor"))),i}return r.warn("Area Model / Invalid value for area path!"),!1},function(e){return n.convertComplexPath(e)})}]),$R.service["class"]("Objects",["@extend","+Color","+Model","Debug",function CircleObjectModel(e,t,n,r){e(this,"$DefaultObjectModel"),e(this,"$GlobalBackgroundModel");var o=this.extension("Style"),i=this.extension("Animation");o.define(0,"radius",0,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.morph("radius",0,function(e,t,n){"number"==typeof n?(n<0&&(n=0),e(this.style("radius")),t(n)):r.warn({v:n},"[{v}] is not a valid radius value")},function(e){return e<0&&(e=0),e}),o.define(0,"strokeWidth",1,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.morph("strokeWidth",0,function(e,t,n){"number"==typeof n&&(n<0&&(n=0),e(this.style("strokeWidth")),t(n))},function(e){return e<0&&(e=0),e}),o.define(0,"strokeColor","rgba(0,0,0,1)",function(e){return"string"==typeof e?t.colorToArray(e)?e:(r.warn({val:e},"[{val}] is not a valid strokeColor value"),!1):"object"==typeof e&&e.constructor===Array?t.isColor(e)?t.arrayToColor(e):(r.warn({val:e},"[{val}] is not a valid strokeColor value"),!1):void 0},function(e){return t.colorToArray(e)}),i.morph("strokeColor",0,function(e,o,i){if("string"==typeof i){var a=t.colorToArray(i);a?(e(this.style("strokeColor")),o(a)):r.warn({v:i},"[{v}] is not a valid value for strokeColor")}else"object"==typeof i&&i.constructor===Array&&t.isColor(i)?(e(this.style("strokeColor")),o(n.cloneArray(i))):r.warn({v:i},"[{v}] is not a valid value for strokeColor")},function(e){return t.normalize(e),e}),o.define(0,"strokeStyle",[1,0],function(e){if("object"==typeof e&&e.constructor===Array){if(n.validNumericValue(e)){if(2!==e.length)return r.warn({val:e},"[{val}] is not a valid strokeStyle value."),!1;for(var t=0;t<e.length;t++)e[t]<0&&(e[t]=0);return n.cloneArray(e)}return r.warn({val:e},"[{val}] is not a valid strokeStyle value."),!1}return r.warn({val:e},"[{val}] is not a valid strokeStyle value"),!1},function(e){return n.cloneArray(e)}),i.morph("strokeStyle",0,function(e,t,o){"object"==typeof o&&o.constructor===Array&&n.validNumericArray(o)&&2===o.length?(e(this.style("strokeStyle")),t(n.cloneArray(o))):r.warn({v:o},"[{v}] is not a valid value for strokeColor")},function(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e})}]),$R.service["class"]("Objects",["+Model","+Path","Debug",function DefaultObjectModel(e,t,n){var r=this.extension("Style"),o=this.extension("Animation");r.define(2,"position",[0,0],function(t){return e.validNumericArray(t)&&2===t.length?e.cloneArray(t):(n.warn("Invalid numeric array for position!"),!1)},function(t){return e.cloneArray(t)}),o.morph("position",2,function(t,r,o){e.validNumericArray(o)&&2===o.length?(t(this.style("position")),r(e.cloneArray(o))):n.warn({v:o},"Invalid value for position")},function(e){return e}),r.define(0,"rotate",0,function(e){if("number"==typeof e)return e<-360&&(e+=360),e>360&&(e-=360),e=e*Math.PI/180},function(e){return e*(180/Math.PI)}),o.morph("rotate",0,function(e,t,r){"number"==typeof r?(e(this.style("rotate")),t(r)):n.warn({v:r},"Is not a valid value to animate rotate")},function(e){return e}),r.define(0,"translate",[0,0],function(t){return e.validNumericArray(t)&&2===t.length?e.cloneArray(t):(n.warn("Invalid numeric array for translate!"),!1)},function(t){return e.cloneArray(t)}),o.morph("translate",0,function(t,r,o){e.validNumericArray(o)&&2===o.length?(t(this.style("translate")),r(e.cloneArray(o))):n.warn({v:o},"Invalid value for translate")},function(e){return e}),r.define(0,"opacity",1,function(e){return"number"==typeof e?(e<0&&(e=0),e>1&&(e=1),e):(n.warn("Opacity value is not a number"),!1)},function(e){return e}),o.morph("opacity",0,function(e,t,r){"number"==typeof r?(r<0&&(r=0),r>1&&(r=1),e(this.style("opacity")),t(r)):n.warn({v:r},"Invalid value for translate")},function(e){return e<0&&(e=0),e>1&&(e=1),e}),r.define(0,"scale",[1,1],function(t){return"number"==typeof t?t>0?[t,t]:[0,0]:e.validNumericArray(t)&&2===t.length?e.cloneArray(t):(n.warn("Unknown type of value for scale!"),!1)},function(t){return e.cloneArray(t)}),o.morph("scale",0,function(t,r,o){if("number"==typeof o)o<0&&(o=0),t(this.style("scale")),r([o,o]);else if(e.validNumericArray(o)&&2===o.length){
t(this.style("scale"));var i=[o[0],o[1]];i[0]<0&&(i[0]=0),i[1]<0&&(i[1]=0),r(i)}else n.warn({v:o},"Invalid value for scale")},function(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e}),r.define(0,"skew",[0,0],function(t){if("number"==typeof t){t>360&&(t-=360),t<-360&&(t+=360);var r=t*Math.PI/180;return[r,r]}if(e.validNumericArray(t)&&2===t.length){t[0]>360&&(t[0]=t[1]-360),t[1]<-360&&(t[1]=t[1]+360);var o=t[0]*Math.PI/180,i=t[1]*Math.PI/180;return[o,i]}n.warn({v:t},"Ubknown value format for skew. [{v}]")},function(t){return e.cloneArray(t)}),o.morph("skew",0,function(t,r,o){"number"==typeof o?(t(this.style("skew")),r([o,o])):e.validNumericArray(o)&&2===o.length?(t(this.style("skew")),r(e.cloneArray(o))):n.warn({v:o},"Invalid value for skew")},function(e){return e}),r.define(0,"origin",[.5,.5],function(t){return"object"==typeof t&&t.constructor===Array?e.validNumericArray(t)&&2===t.length?[t[0],t[1]]:(n.warn("Unknown format of value for origin. Invalid Array!"),!1):(n.warn("Unknown type of value for origin"),!1)},function(t){e.cloneArray(t)}),o.morph("origin",0,function(t,r,o){e.validNumericArray(o)&&2===o.length?(t(this.style("origin")),r(e.cloneArray(o))):n.warn({v:o},"Invalid value for origin")},function(e){return e}),r.define(2,"cap","round",function(e){return"string"==typeof e?"round"===e||"butt"===e||"square"===e?e:(n.error({val:e},"{val} is incorrect value for line cap property!"),!1):void n.error("Cap property is a string!")},function(e){return e}),r.define(0,"blending","source-over",function(t){return e.validBlending(t)?t:(n.warn({val:t}," [{val}] is not a valid blending!"),!1)},function(e){return e}),"Group"!==this.type()&&r.define(1,"anchor",["left","top"],function(e){return"object"==typeof e&&e.constructor===Array&&2===e.length?"left"!==e[0]&&"center"!==e[0]&&"right"!==e[0]||"top"!==e[1]&&"middle"!==e[1]&&"bottom"!==e[1]?(n.warn({v:e},'[{v}] is not a valid value. Array ["left" || "center" || "right" , "top" || "middle" || "bottom" ] is required format.'),!1):[e[0],e[1]]:(n.warn({v:e},"[{v}] is not a valid anchor value for text element"),!1)},function(e){return[e[0],e[1]]})}]),$R.service["class"]("Objects",["+Model","+Color","Debug",function DefaultFreeStrokeModel(e,t,n){var r=this.extension("Style");r.define(1,"interpolation",0,function(e){return e>.4&&(e=.4),e<0&&(e=0),e},function(e){return e}),r.define(2,"strokeColor",["rgba(0,0,0,1)"],function(e){if("string"==typeof e){if(t.colorToArray(e)){for(var o=r.get("path"),i=[],a=0;a<o.length;a++)i[a]=e;return i}return n.warn({val:e},"Line Model / {val} is not a color!"),!1}if("object"==typeof e&&e.constructor==Array){for(var o=r.get("path"),s=r.get("strokeColor"),i=[],a=0;a<o.length;a++)e[a]?"string"==typeof e[a]?t.colorToArray(e[a])?i.push(e[a]):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):("object"==typeof e[a]||e[a].constructor==Array)&&t.isColor(e[a])?i.push(t.arrayToColor(e[a])):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!"));return i.length?i:(n.warn({val:e},"Line Model / {val} is not a color!"),!1)}if("object"==typeof e){for(var o=r.get("path"),s=r.get("strokeColor"),i=[],a=0;a<o.length;a++)e[a]?"string"==typeof e[a]?t.colorToArray(e[a])?i.push(e[a]):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):("object"==typeof e[a]||e[a].constructor==Array)&&t.isColor(e[a])?i.push(t.arrayToColor(e[a])):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, no changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, no changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!"));return i.length?i:(n.warn({val:e},"Line Model / {val} is not a color!"),!1)}return n.warn("Line Model / Wrong type of value"),!1},function(e){for(var n=[],r=0;r<e.length;r++)n.push(t.colorToArray(e[r]));return n}),r.define(2,"strokeWidth",[1],function(e){if("number"==typeof e){for(var t=r.get("path"),o=[],i=0;i<t.length;i++)o.push(e);return o}if("object"==typeof e&&e.constructor==Array){for(var t=r.get("path"),a=r.get("strokeWidth"),o=[],i=0;i<t.length;i++)"number"==typeof e[i]?o.push(e[i]):a[i]?(o.push(a[i]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):(o.push(a[a.length-1]),n.warn({val:e[i]},"Line Model / {val} is not a number!"));return o}if("object"==typeof e){for(var t=r.get("path"),a=r.get("strokeWidth"),o=[],i=0;i<t.length;i++)e[i]?"number"==typeof e[i]?o.push(e[i]):a[i]?(o.push(a[i]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):(o.push(a[a.length-1]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):a[i]?(o.push(a[i]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):o.push(a[a.length-1]);return o}n.warn({val:e},"Line Model / {val} is not valid value for strokeWidth!")},function(t){return e.cloneArray(t)}),r.define(2,"strokeStyle",[[1,0]],function(t){if("object"==typeof t&&t.constructor==Array){if(e.validNumericArray(t)){for(var o=[],i=r.get("path"),a=0;a<i.length;a++)o.push(e.cloneArray(t));return o}for(var o=[],i=r.get("path"),s=r.get("strokeStyle"),a=0;a<i.length;a++)t[a]?e.validNumericArray(t[a])?o.push(t[a]):(s[a]?o.push(s[a]):o.push(s[s.length-1]),n.warn({val:t[a]},"Line Model / {val} is not a valid value for strokeStyle!")):s[a]?o.push(s[a]):o.push(s[s.length-1]);return o}if("object"==typeof t){for(var o=[],s=r.get("strokeStyle"),i=r.get("path"),a=0;a<i.length;a++)t[a]?e.validNumericArray(t[a])?o.push(t[a]):(s[a]?o.push(s[a]):o.push(s[s.length-1]),n.warn({val:t[a]},"Line Model / {val} is not a valid value for strokeStyle!")):s[a]?o.push(s[a]):o.push(s[s.length-1]);return o}},function(t){return e.cloneArray(t)})}]),$R.service["class"]("Objects",["+Model","+Color","Debug","Resource",function GlobalBackgroundModel(e,t,n,r){function SyncBgProperty(t,n,r){for(var o=0;o<t.length;o++)n[o]||n.push(e.cloneArray(r));t.length<n.length&&n.splice(t.length-1,n.length-path.length)}var o=this.extension("Style"),i=this.extension("Animation");o.define(0,"fill","rgba(0,0,0,1)",function(e){return"string"==typeof e?t.colorToArray(e)?e:(n.warn({val:e},"[{val}] is not a valid color!"),!1):"object"==typeof e&&e.constructor===Array?t.isColor(e)?t.arrayToColor(e):(n.warn({val:e},"[{val}] is not a valid color"),!1):(n.warn({val:e},"[{val}] is not a valid color!"),!1)},function(e){return t.colorToArray(e)}),i.morph("fill",0,function(r,o,i){if("string"==typeof i){var a=t.colorToArray(i);a?(r(this.style("fill")),o(a)):n.warn({v:i},"[{v}] is not avalid color!")}else"object"==typeof i&&i.constructor===Array?t.isColor(i)&&(r(this.style("fill")),o(e.cloneArray(i))):n.warn({v:i},"[{v}] is not a valid color!")},function(e){return t.normalize(e),e}),o.define(0,"bg",[],function(t){if("string"==typeof t){if(e.isSpriteString(t)){var i=e.readSpriteString(t),a=r.sprite(i.url);return a.config(i.frames),[a]}return[r.image(t)]}if("object"==typeof t||t.constructor===Array){if(2===t.length&&"string"==typeof t[0]&&"number"==typeof t[1]){if(t[1]>0){var a=r.sprite(t[0]);return a.config(t[1]),[a]}return!1}for(var s=[],u=0;u<t.length;u++)if("string"==typeof t[u])if(e.isSpriteString(t[u])){var i=e.readSpriteString(t[u]),a=r.sprite(i.url);a.config(i.frames),s.push(t)}else s.push(r.image(t[u]));else if("object"==typeof t[u]&&t[u].constructor==Array){if(2==t[u].length&&"string"==typeof t[u][0]&&"number"==typeof t[u][1])if(t[u][1]>0){var a=r.sprite(t[u][0]);a.config(t[u][1]),s.push(a)}else n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bg value. Skipped.")}else n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bg value. Skipped");return s}if("object"==typeof t){for(var c=o.get("bg"),s=[],u=0;u<c.length;u++)if(t[u])if("object"==typeof t[u]&&t[u].constructor==Array)if("string"==typeof t[u][0]&&"number"==typeof t[u][1]){var a=r.sprite(t[u][0]);a.config(t[u][1]),s.push(a)}else n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bg array value.");else if("string"==typeof t[u])if(e.isSpriteString(t[u])){var i=e.readSpriteString(t[u]),a=r.sprite(i.url);a.config(i.frames),s.push(t)}else s.push(r.image(t[u]));else s.push(c[u]),n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid value for bg.");else s.push(c[u]);return s}return n.warn({val:t},"[{val}] is not valid value for bg"),!1},function(e){for(var t=[],r=0;r<e.length;r++)"Image"==e[r].type?t.push(e[r].url()):"Sprite"==e[r].type?t.push(e[r].url()+"["+e[r].frames()+"]"):n.error({val:e[r],i:r}+"[{i}][{val}] Unknown type of the background object container. Critical error.");return t});var a=[0,0];o.define(2,"bgPosition",[a],function(t){if("object"==typeof t&&t.constructor==Array){if(e.validNumericArray(t)&&2==t.length){for(var r=o.get("bg"),i=[],s=[t[0],t[1]],u=0;u<r.length;u++)i.push(s);return i}for(var i=[],r=o.get("bg"),c=o.get("bgPosition"),u=0;u<r.length;u++)t[u]?e.validNumericArray(t[u])&&2==t[u].length?i.push([t[0],t[1]]):(c[u]?i.push(c[u]):i.push(e.cloneArray(a)),n.warn({i:u,val:t[u]},"[{i}][{val}] is not a valid bgposition value")):c[u]?i.push(c[u]):i.push(e.cloneArray(a));return i}if("object"==typeof t){for(var i=[],r=o.get("bg"),c=o.get("bgPosition"),u=0;u<r.length;u++)t.hasOwnProperty(u)?c[u]?e.validNumericValue()&&2==t[u].length?i.push([t[0],t[1]]):(i.push(c[u]),n.warn({i:u,val:t[u]},"[{i}][{val}] is not a valid bgposition value")):i.push(e.cloneArray(a)):c[u]?i.push(c[u]):i.push(e.cloneArray(a));return i}n.warn({val:t},"[{val}] is not a valid bgposition value")},function(t){return e.cloneArray(t)});var s=[1,1];o.define(1,"bgSize",[s],function(t){if("object"==typeof t&&t.constructor==Array){if(2==t.length&&e.validNumericArray(t)){for(var r=o.get("bg"),i=[],a=[t[0],t[1]],u=0;u<r.length;u++)i.push(a);return i}for(var r=o.get("bg"),c=o.get("bgSize"),i=[],u=0;u<r.length;u++)2==t[u].length&&e.validNumericArray(t[u])?i.push(t[u][0],t[u][1]):(c[u]?i.push(c[u]):i.push(e.cloneArray(s)),n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bgsize value"));return i}if("object"==typeof t){for(var r=o.get("bg"),c=o.get("bgSize"),i=[],u=0;u<r.length;u++)t.hasOwnProperty(u)?"object"==typeof t[u]&&t[u].constructor==Array&&2==t[u].length&&e.validNumericArray(t[u])?i.push([t[u][0],t[u][1]]):(c[u]?i.push(c[u]):i.push(e.cloneArray(s)),n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bgsize value.")):c[u]?i.push(c[u]):i.push(e.cloneArray(s));return i}},function(t){return e.cloneArray(t)}),this.watch("bg",function(e,t){e.length!==t.length&&(SyncBgProperty(t,o.get("bgPosition"),a),SyncBgProperty(t,o.get("bgSize"),s))})}]),$R.service["class"]("Objects",["+Model",function GlobalSizeModel(e){var t=this.extension("Animation"),n=this.extension("Style");t.morph("size",1,function(t,n,r){"number"==typeof r?(r<0&&(r=0),t(this.style("size")),n([r,r])):"object"==typeof r&&r.constructor==Array&&e.validNumericArray(r)&&2==r.length?(r[0]<0&&(r[0]=0),r[1]<0&&(r[1]=0),t(this.style("size")),n(e.cloneArray(r))):Debug.warn({v:r},"[{v}] is not valid value for size")},function(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e}),n.define(1,"size",[0,0],function(t){return"number"==typeof t?(t<0&&(t=0),[t,t]):"object"==typeof t&&t.constructor==Array&&2==t.length&&e.validNumericArray(t)?(t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),[t[0],t[1]]):(Debug.warn({val:t},"[{val}] is not valid value for size!"),!1)},function(t){return e.cloneArray(t)})}]),$R.service["class"]("Objects",["@extend",function GroupObjectModel(e){e(this,"$DefaultObjectModel")}]),$R.service["class"]("Objects",["@extend","Debug",function ImageObjectModel(e,t){e(this,"$DefaultObjectModel"),e(this,"$GlobalSizeModel");var n=this.extension("Style");n.define(0,"src",null,function(e){return"string"==typeof e?e:(t.warn({val:e},"[{val}] is not a valid src value"),!1)},function(e){return e})}]),$R.service["class"]("Objects",["@extend","+Model","+Path","+Color","Debug",function LineObjectModel(e,t,n,r,o){function SyncPathProperty(e,t){for(var n=0;n<e.length;n++)t[n]||t.push(t[t.length-1])}e(this,"$DefaultObjectModel"),e(this,"$DefaultFreeStrokeModel");var i=this.extension("Style");i.define(0,"path",[[0,0,0,0,0,0,0,0]],function(e){if(n.checkSimplePath(e)){var t=i.get("path"),r=n.convertSimplePath(e);return t.length!==r.length&&(SyncPathProperty(r,i.get("strokeStyle")),SyncPathProperty(r,i.get("strokeWidth")),SyncPathProperty(r,i.get("strokeColor"))),r}return o.warn("Line Model / Invalid value for path!"),!1},function(e){return n.convertComplexPath(e)})}]),$R.service["class"]("Objects",["@extend","+Model","+Color","Debug",function RectangleObjectModel(e,t,n,r){e(this,"$DefaultObjectModel"),e(this,"$GlobalBackgroundModel"),e(this,"$GlobalSizeModel");var i=this.extension("Style"),a=this.extension("Animation");i.define(0,"radius",[0,0,0,0],function(e){if("number"==typeof e)return e=Math.round(e),[e,e,e,e];if("object"==typeof e){if(e.constructor!==Array){for(var t=i.get("radius"),n=[],r=0;r<t.length;r++)"number"==typeof e[r]?n.push(Math.round(e[r])):n.push(t[r]);return n}for(var o=[],a=!0,r=0;r<e.length;r++){if("number"!=typeof e[r]){a=!1;break}e[r]<0?o.push(0):o.push(Math.round(e[r]))}if(a){for(var n=[],t=this.style("radius"),r=0;r<t.length;r++)void 0!==o[r]?n.push(o[r]):n.push(t[r]);return n}}},function(e){return t.cloneArray(e)}),a.morph("radius",1,function(e,t,n){if("number"==typeof n)n<0&&(n=0),e(this.style("radius")),t([n,n,n,n]);else if("object"==typeof n){var o=this.style("radius"),i=[];e(o);for(var a=0;a<o.length;a++)"number"==typeof n[a]?n[a]<0?i.push(0):i.push(Math.round(n[a])):i.push(o[a]);t(i)}else r.warn({v:n},"{v} is not a valid radius value for rectangle")},function(e){return e}),i.define(0,"strokeColor",["rgba(0,0,0,1)","rgba(0,0,0,1)","rgba(0,0,0,1)","rgba(0,0,0,1)"],function(e){if("string"==typeof e)return n.colorToArray(e)?[e,e,e,e]:(r.warn({value:val}," [{val} is not a valid stroke string"),!1);if("object"==typeof e&&e.constructor===Array){for(var t=i.get("strokeColor"),o=[],a=0;a<t.length;a++)e[a]?"string"==typeof e[a]?n.colorToArray(e[a])?o.push(e[a]):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid stroke color value!")):"object"==typeof e[a]&&e[a].constructor===Array?n.isColor(e[a])?o.push(n.arrayToColor(e[a])):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid stroke color value")):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid color value")):o.push(t[a]);return o}if("object"==typeof e){for(var t=i.get("strokeColor"),o=[],a=0;a<t.length;a++)e.hasOwnProperty(a)?"string"==typeof e[a]?n.colorToArray(e[a])?o.push(e[a]):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid color value")):"object"==typeof e[a]&&e[a].constructor===Array&&n.isColor(e[a])?o.push(n.arrayToColor(e[a])):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid color value")):o.push(t[a]);return o}return r.warn({val:e},"[{val}] is not a valid value for strokeColor!"),!1},function(e){for(var t=[],r=0;r<e.length;r++)t.push(n.colorToArray(e[r]));return t}),a.morph("strokeColor",0,function(e,o,i){if("string"==typeof i){var a=n.colorToArray(i);a?(o([t.cloneArray(a),t.cloneArray(a),t.cloneArray(a),t.cloneArray(a)]),e(this.style("strokeColor"))):r.warn({v:i},"{v} is not a valid color")}else if("object"==typeof i&&i.constructor===Array)if(n.isColor(i))o([t.cloneArray(i),t.cloneArray(i),t.cloneArray(i),t.cloneArray(i)]),e(this.style("strokeColor"));else{for(var s=this.style("strokeColor"),u=[],c=!1,l=0;l<s.length;l++)if("string"==typeof i[l]){var a=n.colorToArray(i[l]);a?(u.push(a),c=!0):u.push(f[l])}else"object"==typeof i[l]&&i[l].constructor===Array&&i[l]&&n.isColor(i[l])?(u.push(t.cloneArray(i[l])),c=!0):u.push(f[l]);c?(e(s),o(u)):r.warn({v:i},"[{v}] is not a valid value for strokeColor")}else if("object"==typeof i){for(var f=this.style("strokeColor"),u=[],c=!1,l=0;l<f.length;l++)if("string"==typeof i[l]){var a=n.colorToArray(i[l]);a?(u.push(a),c=!0):u.push(f[l])}else"object"==typeof i[l]&&i[l].constructor===Array&&n.isColor(i[l])?(u.push(t.cloneArray(i[l])),c=!0):u.push(f[l]);c?(e(f),o(u)):r.warn({v:i},"[{v}] is not a valid value for strokeColor!")}},function(e){for(var t=0;t<e.length;t++)n.normalize(e[t]);return e}),i.define(0,"strokeWidth",[1,1,1,1],function(e){if("number"==typeof e)return[e,e,e,e];if("object"==typeof e&&e.constructor===Array){for(var t=i.get("strokeWidth"),n=[],o=0;o<t.length;o++)e[o]?"number"==typeof e[o]?n.push(e[o]):(n.push(t[o]),r.warn({val:e}," [{val}] is not a valid stroke width value")):n.push(t[o]);return n}if("object"==typeof e){for(var n=[],t=i.get("strokeWidth"),o=0;o<t.length;o++)e.hasOwnProperty(o)?"number"==typeof e[o]?n.push(e[o]):(r.warn({val:e},"[{val}] is not a valid value for strokeWidth"),n.push(t[o])):n.push(t[o]);return n}return r.warn({val:e}," [{val}] is not a valid strokeWidth value"),!1},function(e){return t.cloneArray(e)}),a.morph("strokeWidth",0,function(e,t,n){if("number"==typeof n)t([n,n,n,n]),e(this.style("strokeWidth"));else if("object"==typeof n&&n.constructor===Array){for(var o=this.style("strokeWidth"),i=[],a=0;a<o.length;a++)n[a]&&"number"==typeof n[a]?i.push(n[a]):i.push(o[a]);t(i),e(o)}else if("object"==typeof n){for(var o=this.style("strokeWidth"),i=[],s=!1,a=0;a<o.length;a++)n[a]&&"number"==typeof n[a]?(i.push(n),s=!0):i.push(o[a]);s?(t(i),e(o)):r.warn({v:n}," [{v}] is not a valid strokeWidth object")}else r.warn({v:n}," [{v}] is not a valid value for strokeWidth")},function(e){return e}),i.define(0,"strokeStyle",[[1,0],[1,0],[1,0],[1,0]],function(e){if("object"!=typeof e)return r.warn({val:e}," [{val}] is not valid strokeStyle value"),!1;if(e.constructor!==Array){for(var n=[],o=i.get("strokeStyle"),a=0;a<o.length;a++)e.hasOwnProperty(a)?"object"==typeof e[a]&&e[a].constructor===Array?t.validNumericArray(e[a])&&2===e[a].length?n.push(t.cloneArray(e[a])):(n.push(o[a]),r.warn({val:e[a]},"[{val}] is not a valid strokeStyle value")):(n.push(o[a]),r.watch({val:e[a]}," [{val}] is not a valid strokeStyle value")):n.push(o[a]);return n}if(!t.validNumericArray(e)){for(var n=[],o=i.get("strokeStyle"),a=0;a<o.length;a++)e[a]?t.validNumericArray(e[a])&&2===e.length?n.push(t.cloneArray(e[a])):(n.push(o[a]),r.warn({val:e[a]}," [{val}] is not a valid stroke style value")):n.push(o[a]);return n}return 2===e.length?[e,e,e,e]:void r.warn({v:e}," [{v}] is not a valid value for stroke width!")},function(e){return t.cloneArray(e)}),a.morph("strokeStyle",0,function(e,n,i){if("object"==typeof i)if(i.constructor===Array)if(t.validNumericArray(i))2===i.length?(e(this.style("strokeStyle")),n(t.cloneArray(i),t.cloneArray(i),t.cloneArray(i),t.cloneArray(i))):r.warn({v:i}," [{v}] is not a valid strokeStyle value!");else{for(var a=this.style("strokeStylr"),s=[],u=!1,c=0;c<a.length;c++)i[c]&&t.validNumericArray(i[c])&&2===i[c].length?(s.push(t.cloneArray(i[c])),u=!0):s.push(a[c]);u?(e(a),n(s)):r.warn({v:i},"[{v}] is not a valid strokeStyle value")}else{for(var a=this.style("strokeStyle"),s=[],u=!1,c=0;c<a.length;c++)i[c]&&t.validNumericArray(i[c])&&2===i[c].length?(s.push(t.cloneArray(i[o])),u=!0):s.push(a[c]);u?(e(a),n(s)):r.warn({v:i},"[{v}] is not a valid strokeStyleValue")}else r.warn({v:i},"[{v}] is not a valid strokeStyleValue")},function(e){return e})}]),$R.service["class"]("Objects",["@extend","+Model","Debug",function SpriteObjectModel(e,t,n){e(this,"$DefaultObjectModel"),e(this,"$GlobalSizeModel");var r=this.extension("Style");r.define(0,"src",null,function(e){return"string"==typeof e?t.isSpriteString(e)?e:(n.warn({val:e},"[{val}] is not a valid value for sprite src"),!1):"object"==typeof e&&e.constructor==Array?"string"==typeof e[0]&&"number"==typeof e[1]&&e[1]>0?e[0]+"["+e[1]+"]":(n.warn({val:e},"[{val}] is not a valid sprite src"),!1):void n.warn({val:e},"[{val}] is not a valid sprite src")},function(e){return e})}]),$R.service["class"]("Objects",["@extend","+Model","+Color","Debug","@Fonts",function TextObjectModel(e,t,n,r,o){e(this,"$DefaultObjectModel");var i=this.extension("Style"),a=this.extension("Text"),s=this.extension("Animation"),u=this;i.define(1,"size",["auto","auto"],function(e){if("string"==typeof e&&"auto"===e)return a.limits(1/0,1/0),[e,e];if("number"==typeof e)return a.limits(e,e),[e,e];if("object"==typeof e&&e.constructor===Array&&2===e.length){for(var t=!0,n=0;n<e.length;n++)if("string"!=typeof e[n]&&"number"!=typeof e[n]||"string"==typeof e[n]&&"auto"!==e[n]){t=!1;break}return t?("number"==typeof e[0]&&e[0]<0&&(e[0]=0),"number"==typeof e[1]&&e[1]<0&&(e[1]=0),a.limits("auto"===e[0]?1/0:e[0],"auto"===e[1]?1/0:e[1]),[e[0],e[1]]):(r.warn({v:e},"[{v}] is not a valid size array"),!1)}return r.warn({v:e},"[{v}] is not a valid value for size"),!1},function(e){return[e[0],e[1]]}),i.define(1,"str","",function(e){return"string"==typeof e&&e},function(e){return e});var c="sans-serif";i.define(1,"font","sans-serif",function(e){if("string"==typeof e)return c=o.format(e),u.style("systemFont",null),e},function(e){return e}),i.define(1,"systemFont",c,function(){return c},function(){return c}),i.define(1,"weight",400,function(e){return"number"==typeof e&&(e<100&&(e=100),e>900&&(e=900),e%100!==0&&(e-=e%100),e)},function(e){return e}),i.define(1,"style","normal",function(e){return"string"==typeof e&&("normal"===e||"italic"===e||"oblique"===e)&&e},function(e){return e}),i.define(1,"lineHeight",14,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.define(1,"fontSize",14,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.define(1,"color","rgba(0,0,0,1)",function(e){return"string"==typeof e?n.colorToArray(e)?e:(r.warn({val:e},"[{val}] is not a valid color!"),!1):"object"==typeof e&&e.constructor===Array?n.isColor(e)?n.arrayToColor(e):(r.warn({val:e},"[{val}] is not a valid color"),!1):(r.warn({val:e},"[{val}] is not a valid color!"),!1)},function(e){return n.colorToArray(e)}),i.define(1,"align","left",function(e){return"center"===e||"left"===e||"right"===e?e:(r.warn({v:e},"[{v}] is not a proper value for aling text property"),!1)},function(e){return e}),s.morph("color",1,function(e,o,i){if("string"==typeof i){var a=n.colorToArray(i);a?(e(this.style("fill")),o(a)):r.warn({v:i},"[{v}] is not avalid color!")}else"object"==typeof i&&i.constructor===Array?n.isColor(i)&&(e(this.style("fill")),o(t.cloneArray(i))):r.warn({v:i},"[{v}] is not a valid color!")},function(e){return n.normalize(e),e})}]),$R.service["class"]("Sound",["+Animation","Morphine",function Animation(e,t){function Resolve(e){if(e==p)for(var t=0;t<a.length;t++)c.hasOwnProperty(a[t].morph.property())&&c[a[t].morph.property()].apply(u,[n,a[t].result]);else if(e==v){i=!0;for(var r={},t=0;t<a.length;t++)r[a[t].morph.property()]=a[t].result;d.done(1,r),h()}}var n=0,r=null,o=null,i=!1,a=null,s=null,u=null,c=null,l=!1,f=!1,h=null,p="type",v="complete",d=null;this.target=function(){return u},this.queue=function(){return l},this.active=function(){return f},this.done=function(){return i},this.hasProperty=function(e){for(var t=0,n=0;n<a.length;n++)if(a[n].morph.property()==e){t=n+1;break}return t},this.properties=function(){for(var e=[],t=0;t<a.length;t++)e.push(a[t].morph.property());return e},this.stop=function(e){if(e){var t=this.hasProperty(e);t&&(t-=1,a.splice(t,1))}else a=[]},this.start=function(){f=!0;for(var n=[],i=0;i<a.length;i++){var u=a[i].morph.get(a[i].value);void 0!==u&&u.start()!==!1&&u.end()!==!1&&n.push(a[i])}a=n;var c=e.getTickFunction();s=t.create(0,1,function(e,t){if(0==a.length)Resolve(v),s.stop();else{for(var n=0;n<a.length;n++)a[n].result=c(t,a[n].morph.start(),a[n].morph.end()),a[n].morph.apply(e,a[n].result);Resolve(p),1==e&&Resolve(v)}},o,r,0)},this.config=function(t,n,i,s){e.normalizeConfig(i),r=i.duration,o=i.easing,c=i.step,l=i.queue,h=s,a=n,u=t,d=i}}]),$R.service["class"]("Sound",["Debug",function Morph(e){function SetStartValue(e){t=e}function SetEndValue(e){n=e}var t,n,r=null,o=null,i=null,a=null,s=!1,u=0;this.start=function(){return t},this.end=function(){return n},this.property=function(){return r},this.ordering=function(){return u},this.get=function(e){return o.apply(a,[SetStartValue,SetEndValue,e]),this},this.valid=function(){return s},this.apply=function(e,t){a.filter(r,i.apply(a,[t,e]))},this.config=function(t,n,c,l,f){return"string"!=typeof t?void e.error({name:t},"Unable to config Morph. arg1 [{name}] is not a string!"):"object"!=typeof n?void e.error({name:t},"Unable to config Morph. arg3 is not an object!"):"function"!=typeof l?void e.error({name:t},"Unable to config Morph. arg4 is not a function!"):"number"!=typeof c?void e.error({name:t},"Unable to config Morph. arg2 is not a number!"):"function"!=typeof f?void e.error({name:t},"Unable to config Morph. arg5 is not a function!"):(r=t,o=l,i=f,u=c,a=n,void(s=!0))}}]),$R.helper.system(function Animation(){function TickVal(e,t,n,r){var o=!1,i=!1;if("function"==typeof n&&(o=n()),"function"==typeof r&&(i=r()),n.constructor===Array)for(var a=[],s=0;s<n.length;s++)a.push(TickVal(e,t,n[s],r[s]));else if("object"==typeof n){var a={};for(var u in n)a[u]=TickVal(e,t,n[u],r[u])}else if("number"==typeof n||"function"==typeof n){var c=i===!1?r:i,l=o===!1?n:o,f=c-l,a=l+f*e;t>=1&&(a=c)}return a}this.normalizeConfig=function(e){e.duration="number"==typeof e.duration&&e.duration>0?e.duration:1e3,e.queue=!!e.queue,e.step="object"==typeof e.step?e.step:{},e.easing="string"==typeof e.easing?e.easing:"linear",e.done="function"==typeof e.done?e.done:function(){}},this.getTickFunction=function(){return TickVal}}),$R.helper.system(function Color(){function NormalizeColorArray(e){if(e!==!1&&void 0!==e){for(var t=0;t<e.length;t++)e[t]=e[t]<=255?e[t]:255,e[t]=e[t]>=0?e[t]:0,e[t]=3!==t&&0!==e[t]?parseInt(e[t]):e[t],e[t]=(3==t&&e[t])<=1?e[t]:1,e[t]=Math.abs(e[t]);return e}return!1}function ParseColour(e){var t,n=parseInt,e=e.replace(/\s\s*/g,"");if(t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})/.exec(e))t=[n(t[1],16),n(t[2],16),n(t[3],16)];else if(t=/^#([\da-fA-F])([\da-fA-F])([\da-fA-F])/.exec(e))t=[17*n(t[1],16),17*n(t[2],16),17*n(t[3],16)];else if(t=/^rgba\(([\d]+),([\d]+),([\d]+),([\d]+|[\d]*.[\d]+)\)/.exec(e))t=[+t[1],+t[2],+t[3],+t[4]];else{if(!(t=/^rgb\(([\d]+),([\d]+),([\d]+)\)/.exec(e)))return!1;t=[+t[1],+t[2],+t[3]]}return isNaN(t[3])&&(t[3]=1),NormalizeColorArray(t.slice(0,4))}this.colorToArray=ParseColour,this.normalize=NormalizeColorArray,this.isColor=function(e){var t=!1;if(4===e.length)for(var n=0;n<e.length;n++)"number"==typeof e[n]||"string"==typeof e[n]?"string"==typeof e[n]&&isNaN(1*e[n])&&(t=!0):t=!0;else t=!0;return t&&console.warn({array:e},"Invalid Color {array}. Value is not a color Array.",this),!t},this.arrayToColor=function(e){if(e&&4===e.length){for(var t="rgba(",n=0;n<e.length;n++)t+=3===n?e[n]+")":e[n]+",";return t}return console.warn("Unknown Input array format. Should be [R,G,B,A];"),!1}}),$R.helper.system(function Drawer(e){var t=document.createElement("canvas").getContext("2d");this.measureText=function(e){t.save();var n=e(t);return t.restore(),n},this.transform=function(e,t){t.transform.apply(t,e.matrix().extract())},this.drawLineBgClipPath=function(t,n,r,o,i){var a=r.get("bg"),s=r.get("bgSize"),u=r.get("bgPosition");t.save(),t.beginPath(),t.moveTo(n[0][0],n[0][1]);for(var c=0;c<n.length;c++){var l=n[c][0],f=n[c][1],h=n[c][2],p=n[c][3];if("number"!=typeof l||"number"!=typeof h||"number"!=typeof f||"number"!=typeof p){e.error("Invalid path!");break}t.lineTo(h,p)}t.closePath(),t.clip();for(var v=0;v<a.length;v++)if(a[v].loaded()){t.save();var d=box.size[0]*s[v][0],g=box.size[1]*s[v][1],y=box.size[0]*u[v][0],b=box.size[1]*u[v][1];t.translate(i.margin[3]+y,i.margin[0]+b),t.drawImage(a[c]["export"](),0,0,d,g),t.restore()}else a[v].on("load",function(){o.update("bg")});t.restore()},this.drawBezierBgClipPath=function(t,n,r,o,i){var a=r.get("bg"),s=r.get("bgSize"),u=r.get("bgPosition");t.save(),t.beginPath(),t.moveTo(n[0][0],n[0][1]);for(var c=0;c<n.length;c++){var l=n[c][0],f=n[c][1],h=n[c][2],p=n[c][3],v=n[c][4],d=n[c][5],g=n[c][6],y=n[c][7];if("number"!=typeof l||"number"!=typeof h||"number"!=typeof f||"number"!=typeof p){e.error("Invalid path!");break}if("number"!=typeof v||"number"!=typeof g||"number"!=typeof d||"number"!=typeof y){e.error("Invalid curve!");break}t.bezierCurveTo(v,d,g,y,h,p)}t.closePath(),t.clip();for(var b=0;b<a.length;b++)if(a[b].loaded()){t.save();var m=box.size[0]*s[b][0],w=box.size[1]*s[b][1],C=box.size[0]*u[b][0],x=box.size[1]*u[b][1];t.translate(i.margin[3]+C,i.margin[0]+x),t.drawImage(a[c]["export"](),0,0,m,w),t.restore()}else a[b].on("load",function(){o.update("bg")});t.restore()},this.drawLinePathFill=function(t,n,r){var o=r.get("fill"),i=r.get("cap");t.save(),t.lineCap=i,t.moveTo(n[0][0],n[0][1]),t.beginPath();for(var a=0;a<n.length;a++){var s=n[a][0],u=n[a][1],c=n[a][2],l=n[a][3];if("number"!=typeof s||"number"!=typeof c||"number"!=typeof u||"number"!=typeof l){e.error("Invalid path!");break}t.lineTo(c,l)}t.closePath(),t.fillStyle=o,t.fill(),t.restore()},this.drawBezierPathFill=function(t,n,r){var o=r.get("fill"),i=r.get("cap");t.save(),t.lineCap=i,t.beginPath(),t.moveTo(n[0][0],n[0][1]);for(var a=0;a<n.length;a++){var s=n[a][0],u=n[a][1],c=n[a][2],l=n[a][3],f=n[a][4],h=n[a][5],p=n[a][6],v=n[a][7];if("number"!=typeof s||"number"!=typeof c||"number"!=typeof u||"number"!=typeof l){e.error("Invalid path!");break}if("number"!=typeof f||"number"!=typeof p||"number"!=typeof h||"number"!=typeof v){e.error("Invalid curve!");break}t.bezierCurveTo(f,h,p,v,c,l)}t.closePath(),t.fillStyle=o,t.fill(),t.restore()},this.drawLinePath=function(t,n,r){var o=r.get("strokeColor"),i=r.get("strokeWidth"),a=r.get("strokeStyle"),s=r.get("cap");t.save(),t.lineCap=s;for(var u=0;u<n.length;u++){var c=n[u][0],l=n[u][1],f=n[u][2],h=n[u][3];if("number"!=typeof c||"number"!=typeof f||"number"!=typeof l||"number"!=typeof h){e.error("Invalid path!");break}i[u]<.1?t.moveTo(f,h):(t.beginPath(),t.moveTo(c,l),t.strokeStyle=o[u],t.lineWidth=i[u],t.setLineDash(a[u]),t.lineTo(f,h),t.stroke())}t.restore()},this.drawBezierPath=function(t,n,r){var o=r.get("strokeColor"),i=r.get("strokeWidth"),a=r.get("strokeStyle"),s=r.get("cap");t.save(),t.lineCap=s;for(var u=0;u<n.length;u++){var c=n[u][0],l=n[u][1],f=n[u][2],h=n[u][3],p=n[u][4],v=n[u][5],d=n[u][6],g=n[u][7];if("number"!=typeof c||"number"!=typeof f||"number"!=typeof l||"number"!=typeof h){e.error("Invalid path!");break}if("number"!=typeof p||"number"!=typeof d||"number"!=typeof v||"number"!=typeof g){e.error("Invalid curve!");break}i[u]<.1?t.moveTo(f,h):(t.beginPath(),t.moveTo(c,l),t.strokeStyle=o[u],t.lineWidth=i[u],t.setLineDash(a[u]),t.bezierCurveTo(p,v,d,g,f,h),t.stroke())}t.restore()},this.drawRectFill=function(e,t,n,r,o,i){e.save();var a=t.get("fill");e.fillStyle=a,e.rect(n,r,o,i),e.fill(),e.restore()},this.drawRectStroke=function(e,t,n,r,o,i){var a=t.get("strokeStyle"),s=t.get("strokeColor"),u=t.get("strokeWidth");e.save();for(var c=0,l=0,f=0;f<4;f++)e.beginPath(),e.strokeStyle=s[f],e.strokeWidth=u[f],e.setLineDash(a[f]),0===f&&(c=n+o,l=r),1===f&&(c=n+o,l=r+i),2===f&&(c=n,l=r+i),3===f&&(c=n,l=r),u[f]<.1?e.moveTo(c,l):(e.lineTo(c,l),e.stroke());e.restore()}}),$R.helper.system(["Debug",function Easing(e){var t={_:function(e,t,n,r){return n*(e/=r)*e*e+t},linear:function(e,t,n,r){return e/=r,t+n*e},linearSoft:function(e,t,n,r){var o=(e/=r)*e,i=o*e;return t+n*(4*i*o+-10*o*o+8*i+-2*o+e)},linearSoftOut:function(e,t,n,r){var o=(e/=r)*e,i=o*e;return t+n*(-3*i*o+11*o*o+-14*i+6*o+e)},linearSoftIn:function(e,t,n,r){var o=(e/=r)*e,i=o*e;return t+n*(-1*i*o+2*i);
},easeInQuad:function(e,t,n,r){n*(e/=r)*e+t;return n*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0===e?t:n*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){return e===r?t+n:n*(-Math.pow(2,-10*e/r)+1)+t},easeInOutExpo:function(e,t,n,r){return 0===e?t:e===r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInBack:function(e,t,n,r,o){var i=(e/=r)*e,a=i*e;return t+n*(15.26*a*i+-43.56*i*i+39.8*a+-10.6*i+.1*e)},easeOutBack:function(e,t,n,r,o){var i=(e/=r)*e,a=i*e;return t+n*(11.24*a*i+-23.96*i*i+12.24*a+1.44*i+.04*e)},easeInOutBack:function(e,t,n,r,o){var i=(e/=r)*e,a=i*e;return t+n*(22.92*a*i+-57.78*i*i+45*a+-9.28*i+.14*e)},easeOutBounce:function(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}};this.get=function(n){return t[n]?t[n]:(e.error({name:n},"Easings / Unable to get undefined easing [{name}]. Linear easing function provided."),t.linear)}}]),$R.helper.system(function Matrix(){function multiply(e,t){var n=e[0]*t[0]+e[2]*t[1],r=e[1]*t[0]+e[3]*t[1],o=e[0]*t[2]+e[2]*t[3],i=e[1]*t[2]+e[3]*t[3],a=e[0]*t[4]+e[2]*t[5]+e[4],s=e[1]*t[4]+e[3]*t[5]+e[5];e[0]=n,e[1]=r,e[2]=o,e[3]=i,e[4]=a,e[5]=s}function applyMatrixToPoint(e,t){var n=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];t[0]=n,t[1]=r}function GraphicsTransformMatrix(e){var t=[1,0,0,1,0,0],n=[1,0,0,1,0,0],r=null,o=[];this.invert=function(){for(var e=o.length-1;e>=0;e--){if(o[e].rotate){var t=Math.sin(-o[e].rotate),r=Math.cos(-o[e].rotate);multiply(n,[r,t,-t,r,0,0])}o[e].translate&&multiply(n,[1,0,0,1,-o[e].translate[0],-o[e].translate[1]]),o[e].skew&&multiply(n,[1,Math.tan(-o[e].skew[1]),Math.tan(-o[e].skew[0]),1,0,0]),o[e].scale&&multiply(n,[1/o[e].scale[0],0,0,1/o[e].scale[1],0,0])}},this.rotate=function(e){var n=Math.sin(e),r=Math.cos(e),i=[r,n,-n,r,0,0];return multiply(t,i),o.push({rotate:e}),this},this.translate=function(e,n){var r=[1,0,0,1,e,n];return 0===e&&0===n||(multiply(t,r),o.push({translate:[e,n]})),this},this.scale=function(e,n){if(1!==e||1!==n){var r=[e,0,0,n,0,0];multiply(t,r),o.push({scale:[e,n]})}return this},this.skew=function(e,n){if(0!==e||0!==n){var r=Math.tan(e),i=Math.tan(n),a=[1,i,r,1,0,0];multiply(t,a),o.push({skew:[e,n]})}return this},this.extractGlobalInversion=function(){if(r)return r;var t=e.parent();return r||(r=[n[0],n[1],n[2],n[3],n[4],n[5]]),t&&multiply(r,t.matrix().extractGlobalInversion()),r},this.globalCursorProjection=function(e){return this.extractGlobalInversion(),applyMatrixToPoint(r,e),e},this.cursorProjection=function(e){return applyMatrixToPoint(n,e),e},this.trackLocalPoint=function(n,r){var o=e.parent();return o&&o.matrix().trackLocalPoint(n),r||applyMatrixToPoint(t,n),n},this.extract=function(){return t},this.extractInversion=function(){return n}}this.objectMatrix=function(e){var t=new GraphicsTransformMatrix(e),n=e.extension("Style"),r=e.extension("Box").box(),o=r.sprite(),i=n.get("position"),a=n.get("origin"),s=n.get("skew"),u=n.get("rotate"),c=n.get("scale"),l=n.get("translate"),f=e.type("Group")?[i[0]+l[0],i[1]+l[1]]:[o.position[0]+l[0],o.position[1]+l[1]],h=[a[0]*o.size[0],a[1]*o.size[1]];return t.translate(h[0],h[1]),0===f[0]&&0===f[1]||t.translate(f[0],f[1]),0!==u&&t.rotate(u),0===s[0]&&0===s[1]||t.skew(s[0],s[1]),1===c[0]&&1===c[1]||t.scale(c[0],c[1]),t.translate(-h[0],-h[1]),t.invert(),t}}),$R.helper.system(["Debug",function Model(Debug){this.cloneHash=function(e){return"object"!=typeof e?void Debug.error("Hash is not an object!"):JSON.parse(JSON.stringify(e))},this.cloneArray=function(array){if("object"!=typeof array||array.constructor!==Array)return void Debug.error("array is not an array!");for(var result=[],i=0;i<array.length;i++)if("object"==typeof array[i])array[i].constructor===Array?result.push(this.cloneArray(array[i])):result.push(this.cloneHash(array[i]));else if("function"==typeof array[i]){var text=array[i].toString();result.push(eval(text)),Debug.warn("You've just cloned a function. It may be slow",this)}else result.push(array[i]);return result},this.validNumericArray=function(e){var t=!0;if("object"!=typeof e||e.constructor!==Array)return!1;for(var n=0;n<e.length;n++)if("number"!=typeof e[n]){t=!1;break}return t};var blendings=["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"];this.validBlending=function(e){for(var t=!1,n=0;n<blendings.length;n++)if(blendings[n]===e){t=!0;break}return t};var sprite_regexp=/^([./\-_\d0-9a-zA-Z]+)(\[(\d+)\])$/;this.isSpriteString=function(e){return sprite_regexp.test(e)},this.readSpriteString=function(e){var t=e.match(sprite_regexp);return{url:t[1],frames:parseInt(t[3])}}}]),$R.helper.system(function Mouse(){this.circleUserCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]);if(t<[0]||t[1]<0)return!1;var n=this.extension("Box").box().sprite();if(t[0]>n.size[0])return!1;if(t[1]>n.size[1])return!1;var r=n.size[0]/2,o=r,i=n.size[1]/2;return Math.pow(t[0]-o,2)+Math.pow(t[1]-i,2)<=Math.pow(r,2)&&this},this.squareUserCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]),n=this.extension("Box").box().sprite();return t[0]>0&&t[0]<n.size[0]&&(t[1]>0&&t[1]<n.size[1]&&this)},this.circleCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]);if(t<[0]||t[1]<0)return!1;var n=this.extension("Box").box().sprite();if(t[0]>n.size[0])return!1;if(t[1]>n.size[1])return!1;var r=n.size[0]/2,o=this.extension("Style").get("radius");return Math.pow(t[0]-r,2)+Math.pow(t[1]-r,2)<Math.pow(o,2)&&this},this.rectCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]),n=this.extension("Box").box().sprite();return t[0]>0&&t[0]<n.size[0]&&(t[1]>0&&t[1]<n.size[1]&&this)}}),$R.helper.system(["Debug",function Path(e){function getControlPoints(e,t,n,r,o,i,a){var s=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),u=Math.sqrt(Math.pow(o-n,2)+Math.pow(i-r,2)),c=a*s/(s+u),l=a*u/(s+u),f=n-c*(o-e),h=r-c*(i-t),p=n+l*(o-e),v=r+l*(i-t);return[f,h,p,v]}this.convertComplexPath=function(e){for(var t=[],n=0;n<e.length;n++)t.push([e[n][0],e[n][1]]);return t},this.convertSimplePath=function(t){if(t.length<2)return void e.error("Path should consist of at least two points!",this);for(var n=[],r=0;r<t.length;r++){var o=t[r][0],i=t[r][1];if("number"!=typeof o||"number"!=typeof i){e.error("Incorrect Path!",this),n=void 0;break}r<t.length-1&&(n[r]||n.push([]),n[r].push(o),n[r].push(i)),0!==r&&(n[r-1].push(o),n[r-1].push(i),n[r-1].push(n[r-1][0]),n[r-1].push(n[r-1][1]),n[r-1].push(o),n[r-1].push(i))}return n},this.interpolate=function(e,t,n){for(var r=0;r<e.length;r++){var o=[],i=[e[r][0],e[r][1]],a=[e[r][2],e[r][3]],s=null;if(o=0===r?i:[e[r-1][0],e[r-1][1]],s=getControlPoints(o[0],o[1],i[0],i[1],a[0],a[1],t),0===r?(e[r][4]=s[2],e[r][5]=s[3]):(e[r-1][6]=s[0],e[r-1][7]=s[1],e[r][4]=s[2],e[r][5]=s[3]),r===e.length-1&&(o=[e[r][0],e[r][1]],i=[e[r][2],e[r][3]],a=i,s=getControlPoints(o[0],o[1],i[0],i[1],a[0],a[1],t),e[r][6]=s[0],e[r][7]=s[1]),n){var u=e[e.length-1],c=e[0],l=[[u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7]],[c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7]]];this.interpolate(l,t),e[0][4]=l[1][4],e[0][5]=l[1][5],e[e.length-1][6]=l[0][6],e[e.length-1][7]=l[0][7]}}},this.checkSimplePath=function(e){if("object"!=typeof e||e.constructor!==Array)return!1;for(var t=!0,n=0;n<e.length;n++)if("object"!=typeof e[n]||e[n].constructor!==Array||2!==e[n].length||"number"!=typeof e[n][0]||"number"!=typeof e[n][1]){t=!1;break}return t},this.comparePaths=function(e,t){var n=!0;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)for(var o=0;o<e[r].length;o++)if(e[r][o]!==t[r][o]){n=!1;break}return n}}]); window.$R = $R})()
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcmUvUmVmbGVjdC5qcyIsIm1vZHVsZXMvQXBwbGljYXRpb24uanMiLCJtb2R1bGVzL0F1ZGlvLmpzIiwibW9kdWxlcy9DYW52YXMuanMiLCJtb2R1bGVzL0NsYXNzZXMuanMiLCJtb2R1bGVzL0NvbmZpZy5qcyIsIm1vZHVsZXMvQ29udGFpbmVyLmpzIiwibW9kdWxlcy9Gb250cy5qcyIsIm1vZHVsZXMvSGVscGVycy5qcyIsIm1vZHVsZXMvSW5qZWN0aW9uLmpzIiwibW9kdWxlcy9Sb290LmpzIiwibW9kdWxlcy9TZXJ2aWNlcy5qcyIsIm1vZHVsZXMvU291cmNlLmpzIiwibW9kdWxlcy9UaWNrZXIuanMiLCJwbHVnaW5zL0FuaW1hdGlvbi9BbmltYXRpb24uanMiLCJwbHVnaW5zL0JveC9Cb3guanMiLCJwbHVnaW5zL0NhY2hlL0NhY2hlLmpzIiwicGx1Z2lucy9EcmF3ZXIvRHJhd2VyLmpzIiwicGx1Z2lucy9MYXllcnMvTGF5ZXJzLmpzIiwicGx1Z2lucy9NYXRyaXgvTWF0cml4LmpzIiwicGx1Z2lucy9PZmZzZXQvT2Zmc2V0LmpzIiwicGx1Z2lucy9Nb3VzZS9Nb3VzZS5qcyIsInBsdWdpbnMvU3R5bGUvU3R5bGUuanMiLCJwbHVnaW5zL1RleHQvVGV4dC5qcyIsInBsdWdpbnMvVHJlZS9UcmVlLmpzIiwic2VydmljZXMvQXBpL0FwaS5qcyIsInNlcnZpY2VzL0FwaS9BcGlDb250cm9sbGVyLmpzIiwic2VydmljZXMvQ2FudmFzL0NhbnZhcy5qcyIsInNlcnZpY2VzL0RlYnVnL0RlYnVnLmpzIiwic2VydmljZXMvRGlzcGF0Y2hlci9EaXNwYXRjaGVyLmpzIiwic2VydmljZXMvS2V5Ym9hcmQvS2V5Ym9hcmQuanMiLCJzZXJ2aWNlcy9LZXlib2FyZC9LZXlib2FyZEV2ZW50LmpzIiwic2VydmljZXMvTW9ycGhpbmUvTW9ycGhpbmUuanMiLCJzZXJ2aWNlcy9FdmVudHMvRXZlbnRzLmpzIiwic2VydmljZXMvUmVzb3VyY2UvUmVzb3VyY2UuanMiLCJzZXJ2aWNlcy9PYmplY3RzL0dyYXBoaWNzLmpzIiwic2VydmljZXMvT2JqZWN0cy9PYmplY3RzLmpzIiwic2VydmljZXMvU291bmQvU291bmQuanMiLCJzZXJ2aWNlcy9UcmVlL1RyZWUuanMiLCJzZXJ2aWNlcy9TdGF0ZXMvU3RhdGVzLmpzIiwicGx1Z2lucy9BbmltYXRpb24vcGFydHMvQW5pbWF0aW9uLmpzIiwicGx1Z2lucy9BbmltYXRpb24vcGFydHMvTW9ycGguanMiLCJwbHVnaW5zL0JveC9wYXJ0L0JveC5qcyIsInBsdWdpbnMvVGV4dC9DbGFzc2VzL0xpbmVDbGFzcy5qcyIsInBsdWdpbnMvVGV4dC9DbGFzc2VzL1NwYWNlQ2xhc3MuanMiLCJwbHVnaW5zL1RleHQvQ2xhc3Nlcy9UZXh0RWxlbWVudENsYXNzLmpzIiwicGx1Z2lucy9UZXh0L0NsYXNzZXMvV29yZENsYXNzLmpzIiwic2VydmljZXMvRGlzcGF0Y2hlci9wYXJ0cy9GaW5kZXIuanMiLCJzZXJ2aWNlcy9Nb3JwaGluZS9wYXJ0cy9Nb3JwaGluZS5qcyIsInNlcnZpY2VzL0V2ZW50cy9jbGFzc2VzL0V2ZW50LmpzIiwic2VydmljZXMvRXZlbnRzL2NsYXNzZXMvRXZlbnRFbWl0dGVyLmpzIiwic2VydmljZXMvUmVzb3VyY2UvY2xhc3Nlcy9BdWRpb0NsYXNzLmpzIiwic2VydmljZXMvUmVzb3VyY2UvY2xhc3Nlcy9Gb250Q2xhc3MuanMiLCJzZXJ2aWNlcy9SZXNvdXJjZS9jbGFzc2VzL0ltYWdlQ2xhc3MuanMiLCJzZXJ2aWNlcy9SZXNvdXJjZS9jbGFzc2VzL1Jlc291cmNlQ2xhc3MuanMiLCJzZXJ2aWNlcy9SZXNvdXJjZS9jbGFzc2VzL1Nwcml0ZUNsYXNzLmpzIiwic2VydmljZXMvT2JqZWN0cy9wYXJ0cy9DYW52YXMuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3BhcnRzL0dyYXBoaWNzQXNzZW1ibGVyLmpzIiwic2VydmljZXMvT2JqZWN0cy9wYXJ0cy9HcmFwaGljc0Fzc2VtYmxlckxheWVyLmpzIiwic2VydmljZXMvT2JqZWN0cy9wYXJ0cy9QbHVnaW4uanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL0FyZWEuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL0NpcmNsZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvRGVmYXVsdC5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvR3JvdXAuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL0ltYWdlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9MaW5lLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9SZWN0YW5nbGUuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL1Nwcml0ZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvVGV4dC5qcyIsInNlcnZpY2VzL1NvdW5kL2FuaW1hdGlvbi9BbmltYXRpb25Qcm92aWRlci5qcyIsInNlcnZpY2VzL1NvdW5kL2NsYXNzZXMvQXVkaW8uanMiLCJzZXJ2aWNlcy9Tb3VuZC9jbGFzc2VzL1VzZXJBdWRpb01peGVyLmpzIiwic2VydmljZXMvU291bmQvY2xhc3Nlcy9Vc2VyQXVkaW9Tb3VyY2UuanMiLCJzZXJ2aWNlcy9Tb3VuZC9maWx0ZXJzL0RlbGF5Tm9kZS5qcyIsInNlcnZpY2VzL1NvdW5kL2ZpbHRlcnMvRGVzdGluYXRpb25Ob2RlLmpzIiwic2VydmljZXMvU291bmQvZmlsdGVycy9HYWluTm9kZS5qcyIsInNlcnZpY2VzL1NvdW5kL2ZpbHRlcnMvTG93cGFzc05vZGUuanMiLCJzZXJ2aWNlcy9Tb3VuZC9wYXJ0cy9BdWRpb05vZGUuanMiLCJzZXJ2aWNlcy9Tb3VuZC9wYXJ0cy9BdWRpb05vZGVTb3VuZHNEaXNwYXRjaGVyLmpzIiwic2VydmljZXMvU291bmQvcGFydHMvQXVkaW9Tb3VyY2UuanMiLCJzZXJ2aWNlcy9Tb3VuZC9wYXJ0cy9FdmVudC5qcyIsInNlcnZpY2VzL1NvdW5kL3BhcnRzL0V2ZW50UHJvdmlkZXIuanMiLCJzZXJ2aWNlcy9TdGF0ZXMvY2xhc3Nlcy9TdGF0ZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvZHJhd2Vycy9BcmVhLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0NpcmNsZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvZHJhd2Vycy9EZWZhdWx0LmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0dyb3VwLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0ltYWdlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0xpbmUuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL2RyYXdlcnMvUmVjdGFuZ2xlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL1Nwcml0ZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvZHJhd2Vycy9UZXh0LmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvQXJlYS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvbW9kZWxzL0NpcmNsZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvbW9kZWxzL0RlZmF1bHQuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL21vZGVscy9EZWZhdWx0RnJlZVN0cm9rZU1vZGVsLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvR2xvYmFsQmFja2dyb3VuZE1vZGVsLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvR2xvYmFsU2l6ZU1vZGVsLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvR3JvdXAuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL21vZGVscy9JbWFnZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvbW9kZWxzL0xpbmUuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL21vZGVscy9SZWNhdGFuZ2xlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvU3ByaXRlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvVGV4dC5qcyIsInNlcnZpY2VzL1NvdW5kL2FuaW1hdGlvbi9wYXJ0cy9BbmltYXRpb24uanMiLCJzZXJ2aWNlcy9Tb3VuZC9hbmltYXRpb24vcGFydHMvTW9ycGguanMiLCJoZWxwZXJzL0FuaW1hdGlvbi5qcyIsImhlbHBlcnMvQ29sb3IuanMiLCJoZWxwZXJzL0RyYXdlci5qcyIsImhlbHBlcnMvRWFzaW5nLmpzIiwiaGVscGVycy9NYXRyaXguanMiLCJoZWxwZXJzL01vZGVsLmpzIiwiaGVscGVycy9Nb3VzZS5qcyIsImhlbHBlcnMvUGF0aC5qcyJdLCJuYW1lcyI6WyJSZWZsZWN0IiwiQ29yZSIsImYiLCJJbmplY3Rpb24iLCJyZWFkeSIsImkiLCJleHBlY3QiLCJsZW5ndGgiLCJtb2R1bGVzIiwiQnVpbGRDb3JlIiwiZ2V0Um91dGVGdW5jdGlvbiIsInJvdXRlRnVuY3Rpb24iLCJyZXN1bHQiLCJhcHBseSIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsImJpbmQiLCJjb3JlIiwiZ2V0IiwicHJvcGVydHkiLCJwcm9wZXJ0aWVzIiwiaGFzT3duUHJvcGVydHkiLCJuYW1lIiwiRXJyb3IiLCJ0aGlzIiwiY2FjaGUiLCJjcmVhdGUiLCJwYXlsb2FkIiwiYXJncyIsImNvbnN0cnVjdG9yIiwiQXJyYXkiLCJwdXNoIiwiRnVuY3Rpb24iLCJwcm90b3R5cGUiLCJpcyIsInRhcmdldCIsImV4dGVuZCIsImNhbGwiLCJtb2R1bGUiLCJpbmplY3QiLCJkZWZpbmUiLCJ2YWx1ZSIsIiRSIiwiQXBwbGljYXRpb24iLCJDYW52YXMiLCJUaWNrZXIiLCJDb25maWciLCJzZWxmIiwiaXNOdW1iZXIiLCJncmVhdGVyIiwidW5kZXIiLCJ3YXRjaCIsInYiLCJmcHMiLCJpc1N0cmluZyIsImVsZW1lbnQiLCIkIiwibiIsImNoYXJBdCIsImNvbmZpZyIsImEiLCJiIiwic2V0IiwiQXVkaW8iLCJjb250ZXh0IiwiQXVkaW9Db250ZXh0IiwiRHJhd1NjZW5lIiwiZGF0ZSIsImZyYW1lIiwicXVldWUiLCJlIiwiY29uc29sZSIsImVycm9yIiwibyIsIm1lc3NhZ2UiLCJyZXNvbHZlIiwiYXJyYXkiLCJzaXplIiwicmVzaXplQ2IiLCJzd2l0Y2hDYiIsImlkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJjdHgiLCJzZXRBdHRyaWJ1dGUiLCJIVE1MRWxlbWVudCIsInNvcnQiLCJ3aWR0aCIsImhlaWdodCIsInJlc2l6ZSIsIm9mZnJlc2l6ZSIsImZpbHRlciIsIkNsYXNzZXMiLCJjbHMiLCJjZmciLCJpbmplY3Rpb24iLCJnbG9iYWxDbGFzc2VzIiwid2FybiIsImFwcCIsImFwcGxpY2F0aW9uQ2xhc3NlcyIsInN5c3RlbUNsYXNzZXMiLCJzeXMiLCJnZXRBcHBsaWNhdGlvbkNsYXNzZXMiLCJjb250YWluZXIiLCJzb3VyY2UiLCJtZXJnZSIsImdldFN5c3RlbUNsYXNzZXMiLCJQcm9wZXJ0eSIsImNoZWNrVmFsdWUiLCJjaGVja0FycmF5IiwiZnVuY3MiLCJjYiIsImFyZyIsImlzQXJyYXkiLCJwcm9wIiwiY3VzdG9tIiwiZXEiLCJpc0Jvb2wiLCJDb250YWluZXIiLCJsaWIiLCJkaXJlY3QiLCJsaWJyYXJ5Iiwic291cmNlcyIsImxpc3QiLCJkZXBlbmRlbmNpZXMiLCJjbG9uZSIsInByZWZpeGtleSIsIiQkTE9PUCIsImxvb3AiLCIkTE9PUCIsIiQkTE9PT1AiLCJ2YWxpZCIsIm5ld0xpYnJhcnkiLCJuZXdDb250YWluZXIiLCJjb250YWluZXJzIiwic291cmNlbG9vcCIsInNvdXJjZXByZWZpeCIsInByZWZpeCIsIm5ld2NvbnRhaW5lcnMiLCJmaW5kU291cmNlQnlQcmVmaXgiLCIkJG5vcHJlZml4IiwiZmluZFNvdXJjZUJ5SW5qZWN0aW9uTmFtZSIsImluamVjdGlvbk5hbWUiLCJoYXMiLCIkY29uc3RydWN0b3IiLCJkIiwic3JjIiwicmVzb2x2ZURpcmVjdEluamVjdGlvbiIsIkZvbnRzIiwiZm9udFN0cmluZyIsImZvbnQiLCJmb250c0RlZmluZWQiLCJ3Iiwid2VpZ2h0IiwicyIsInN0eWxlIiwiZmlsZXN0cmluZyIsInN0cmluZyIsImZvcm1hdCIsImZvcm1hdFN0ciIsInVwZGF0ZSIsInBhdGgiLCJmYW1pbHkiLCJmYW1pbGllcyIsImlubmVySFRNTCIsImluQXJyYXkiLCJjcmVhdGVFbGVtZW50IiwiZW90IiwidXJsIiwid29mZiIsInR0ZiIsInN2ZyIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImFwcGVuZENoaWxkIiwiZm9ybWF0cyIsIkhlbHBlcnMiLCJoZWxwZXIiLCJoZWxwZXJzIiwic3lzSGVscGVycyIsInN5c3RlbSIsImlzX3B1YmxpYyIsImdldFN5c3RlbUhlbHBlcnMiLCJkZWZhdWx0cyIsImdldFB1YmxpY0hlbHBlcnMiLCJjb24iLCJyZXNvbHZlZCIsImluc3RhbmNlIiwicmVzb2x2ZUluamVjdGlvbkRlcGVuZGFuY2llcyIsInVuc2hpZnQiLCJSb290IiwiY3JlYXRlQXBwbGljYXRpb24iLCJhcHBDb250YWluZXIiLCJhcHBzIiwiYXBwVGlja2VyIiwiYXBwQ2FudmFzIiwiYXBwQXVkaW8iLCJhcHBDb25maWciLCJhcHBGb250cyIsImFwcEFwaSIsImRlZmF1bHRzTGlicmFyeSIsIkFQSSIsImFwcERlZmF1bHRzIiwiYXBwU3lzSGVscGVycyIsImFwcFB1YkhlbHBlcnMiLCJhcHBDbGFzc2VzIiwiY2xhc3NlcyIsImFwcFN5c0NsYXNzZXMiLCJhcHBTZXJ2aWNlcyIsInNlcnZpY2VzIiwiZ2V0QXBwbGljYXRpb25TZXJ2aWNlcyIsImFwcGxpY2F0aW9uIiwiU2VydmljZXMiLCJzZXJ2aWNlIiwic2VydmljZU5hbWUiLCJwbHVnaW4iLCJwbHVnaW5OYW1lIiwicGx1Z2lucyIsImdldFBsdWdpbk1hbmFnZXIiLCJQbHVnaW5zIiwiZWFjaCIsInNlcnZpY2VDbGFzc2VzIiwicGx1Z2luc0NsYXNzZXMiLCJzdmMiLCJwbHVnaW5DbGFzc05hbWUiLCJjbGFzc05hbWUiLCJfaGVscGVycyIsIl9zeXNDbGFzc2VzIiwiX2VuZ2luZURlZmF1bHRzIiwiX3NlcnZpY2UiLCJfcGx1Z2luIiwiX3NlcnZpY2VzIiwiX3NlcnZpY2VzQ2xhc3NlcyIsIl9zZXJ2aWNlc1BsdWdpbnMiLCJfc2VydmljZXNQbHVnaW5zQ2xhc3NlcyIsIl9wbHVnaW5zIiwiX3BsdWdpbkNsYXNzZXNDb250YWluZXIiLCJzZXJ2aWNlQ2xhc3Nlc0NvbnRhaW5lciIsIl9zZXJ2aWNlc1NlcnZpY2VTb3VyY2UiLCJzMiIsInAiLCJwY2wiLCJTb3VyY2UiLCJzdHJpcFByZWZpeCIsInBmeCIsImNoZWNrQ2FjaGUiLCJjaGVjayIsInN0cmlwTmFtZSIsInN0ciIsImV2ZW50IiwiX2NhbGxfYXJncyIsImV2ZW50Q2IiLCJmcmFtZUR1cmF0aW9uIiwidG9GaXhlZCIsImRyYXciLCJ0aWNrIiwiRGF0ZSIsImNsZWFySW50ZXJ2YWwiLCJpbnRlcnZhbCIsInN0b3AiLCJzdGFydCIsIm9uIiwiZnVuYyIsInNldEludGVydmFsIiwibnVtYmVyIiwiQW5pbWF0aW9uIiwiRGVidWciLCJmaW5kQ29tcGV0aXRvciIsImFuaW1hdGlvbiIsIiQkU0VMRiIsImNvbXBldGl0b3IiLCJhbmltYXRpb25zIiwiYWN0aXZlIiwiZG9uZSIsImhhc1Byb3BlcnR5IiwiQ2hlY2tBbmltYXRpb25RdWV1ZSIsIl9hbmltYXRpb25zIiwicHJvcHMiLCJjb21wZXRpdG9ycyIsIkNyZWF0ZUFuaW1hdGlvblR5cGUxIiwiZHVyYXRpb24iLCJlYXNpbmciLCJleHRlbnNpb24iLCJwYWlyIiwibW9ycGhzIiwic3RhY2siLCJvcmRlcmluZyIsIm1vcnBoIiwiQ3JlYXRlQW5pbWF0aW9uVHlwZTIiLCJwYWlycyIsImFyZzIiLCJhcmczIiwidHlwZSIsIm1vcnBoX3N0YWNrIiwiaXRlbSIsImFuaW1hdGVkIiwic2V0dGVyIiwiYXBwbGllciIsIm9iamVjdCIsImV4dHJhY3RNb3JwaCIsInJlZ2lzdGVyIiwiYXJnMSIsImFyZzQiLCJkZXN0cm95IiwiQm94IiwiQm94V3JhcHBlckZ1bmMiLCJib3giLCJwdXJnZSIsInBhcmVudCIsInBvc2l0aW9uIiwiQ2FjaGUiLCJ2YWx1ZXMiLCJyZWxldmFudCIsIkRyYXdlciIsInJlbmRlckFsbG93ZWQiLCJjb25kaXRpb25zIiwicmVuZGVyQWxsb3dJdGVyYXRvciIsInJlbmRlcmluZyIsInBpcGVTaXplIiwiZXhwb3J0cyIsInVwZGF0ZUNiIiwiY2JJdGVyYXRvciIsImNhbGxVcGRhdGVDYiIsImRyYXdlclBpcGVCZWZvcmUiLCJkcmF3ZXJQaXBlQWZ0ZXIiLCJiZWZvcmVQaXBlU2l6ZSIsImFmdGVyUGlwZVNpemUiLCJzcHJpdGVVcGRhdGVkIiwiJCRDQUxMIiwiZHJhd0Z1bmN0aW9uIiwidXBkYXRlRnVuY3Rpb24iLCJ0ZnVuYyIsInBpcGUiLCJvcmRlciIsImZ0eXBlIiwidW5waXBlIiwiaW5kZXgiLCJwaXBlSW5kZXgiLCJwaXBlT3JkZXIiLCJvcmlnaW5hbENvbnRleHQiLCJjdXJyZW50Q29udGV4dCIsImNhbGxiYWNrc1Jlc3VsdCIsInNhdmUiLCJyZXN0b3JlIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwiZ2xvYmFsQWxwaGEiLCJkcmF3SW1hZ2UiLCJjYW52YXMiLCJzaGlmdCIsIkxheWVycyIsInJlbW92ZU9iamVjdEZyb21MYXllcnMiLCJsYXllciIsImxheWVycyIsInNwbGljZSIsIjAiLCJ2YWwiLCJwYXJlbnRfbGF5ZXJfZXh0IiwicGxhY2UiLCJyZW1vdmUiLCJmb3JFYWNoIiwiaXRlcmF0b3IiLCJNYXRyaXgiLCJNYXRyaXhXcmFwcGVyIiwiT2Zmc2V0IiwiRHJhd2VySGVscGVyIiwicG9pbnRzIiwibWFzayIsIm1hdHJpeCIsInRyYWNrTG9jYWxQb2ludCIsImxlZnQiLCJNYXRoIiwibWluIiwicmlnaHQiLCJtYXgiLCJib3R0b20iLCJ0b3AiLCJoIiwiTW91c2UiLCJNb3VzZUhlbHBlciIsIkdldEV2ZW50QXJyYXkiLCJjYWxsYmFja3MiLCJkcmFnbW92ZSIsImRyYWdzdGFydCIsImRyYWdlbmQiLCJtb3VzZW1vdmUiLCJtb3VzZXVwIiwibW91c2Vkb3duIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiLCJkaXNhYmxlZCIsIm1vdXNlQ2hlY2tGdW5jdGlvbiIsIiRPRkYiLCIkJE9GRiIsIiQkTU9VU0VGVU5DU0VBUkNIIiwiY3Vyc29yIiwiY3Vyc29yVHJhbnNmb3JtRnVuY3Rpb24iLCJhcHBseUN1cnNvclRyYW5zZm9ybSIsImhhc0V2ZW50IiwicHJvcGFnYXRlIiwiZXZlbnRPYmoiLCJtb3VzZSIsIl9ldmVudE9iaiIsIm9yaWdpbmFsVGFyZ2V0IiwiJCRNT1VTRVBST1BBR0FUSU9OU0VUVEVSIiwiU3R5bGUiLCJHZXRTZXR0ZXJGdW5jdGlvbiIsIm9sZCIsIkdldEdldHRlckZ1bmN0aW9uIiwiZ2V0dGVyIiwiU3R5bGVUeXBlMSIsInNldHRlcnMiLCJTdHlsZVR5cGUyIiwic2V0dGVyc3RhY2siLCJKU09OIiwic3RyaW5naWZ5IiwiU3R5bGVUeXBlMyIsImdldHRlcnMiLCJjYWxsYmFjayIsIlRleHQiLCJNb2RlbEhlbHBlciIsImFwcGx5VG8iLCJsaW5lcyIsIndvcmRCeVdvcmRSZWdFeHAiLCJsaW1pdHMiLCJJbmZpbml0eSIsIndvcmRzIiwibCIsIl93IiwiZm9yY2VkIiwicGllY2VzIiwibWF0Y2giLCJsaW5lV2lkdGgiLCJmb250U2l6ZSIsImxpbmVIZWlnaHQiLCJmb250V2VpZ2h0IiwiY29sb3IiLCJmb250U3R5bGUiLCJ1c2VybmV3bGluZSIsIndvcmQiLCJ0ZXh0QmxvY2tIZWlnaHQiLCJ0ZXh0QmxvY2tXaWR0aCIsImZvckVhY2hMaW5lIiwiVHJlZSIsIlRyZWVTZXJ2aWNlIiwibm9ybWFsaXNlSWRlbnRpdHkiLCJyZXBsYWNlIiwibm9uTGV0dGVycyIsImNhcGl0YWxzIiwiY2hlY2tUcmVlIiwidHJlZVZpb2xhdGlvbiIsImlkZW50aXR5IiwidW5tb3VudCIsImFwcGVuZCIsImdyb3VwIiwidW5yZWdpc3RlciIsIkFwaSIsImNvbnRyb2wiLCJhcGkiLCJjYW4iLCIkJEFQSVBST1RFQ1RFRCIsIndyYXAiLCJBcGlDb250cm9sbGVyIiwiSXMiLCJFdmVudHMiLCJtZXRob2RzIiwiZW1pdHRlciIsImFjdGlvbk5hbWUiLCJwcm9wZXJTdHJpbmciLCJ0IiwibSIsImFjdGlvbiIsImluZm8iLCJncm91cEVuZCIsImNvbXBhcmVPblJlc2l6ZSIsInN1Y2Nlc3MiLCJ4dW5pdHMiLCJ5dW5pdHMiLCJkaW1tcyIsIl9wVyIsInBXIiwiX3BIIiwicEgiLCJyZXNpemVUTyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJwYXJlbnROb2RlIiwic3R5bGVzIiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInBhcnNlSW50IiwiZ2V0UHJvcGVydHlWYWx1ZSIsImZsb29yIiwiR2V0Q2FudmFzT2Zmc2V0IiwieCIsIm9mZnNldFByb3AiLCJpc05hTiIsIm9mZnNldFBhcmVudCIsIldpbmRvd1Jlc2l6ZUNhbGxiYWNrIiwib3V0cHV0Iiwib2Zmc2V0IiwiUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkiLCJSQ2FudmFzUmVzaXplRXZlbnQiLCJDYW52YXNTd2l0Y2hDYWxsYmFjayIsIlJDYW52YXNTd2l0Y2hFdmVudCIsIkdldENhbnZhc0V2ZW50QXJyYXkiLCJjYW52YXNFdmVudENhbGxiYWNrcyIsImRhdGEiLCJHZXRNb3VzZVJlbGF0aXZlUG9zaXRpb24iLCJwYWdlWCIsInNjcm9sbCIsInBhZ2VZIiwiUkNhbnZhc01vdXNlIiwicGFnZSIsInNjZWVuIiwiUkNhbnZhc01vdXNlRXZlbnQiLCJvcmlnaW5hbCIsInVuaXRzIiwiaGlkZGVuIiwiaGlkZSIsImRpc3BsYXkiLCJzaG93IiwiY2FudmFzcmVzaXplIiwiY2FudmFzc3dpdGNoIiwibGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJwYWdlWE9mZnNldCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbExlZnQiLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsIlJlc29sdmVFdmVudCIsImVycm9yQ2IiLCJtZXNzYWdlQ2IiLCJpbmZvQ2IiLCJpbXBvcnRhbnRDYiIsIkdldE1lc3NhZ2UiLCJ0b1N0cmluZyIsIm1hdGNoZXMiLCJyZWdleHAiLCJtYXRjaG5hbWUiLCJyZWdleHBuYW1lIiwid2FybmluZ3MiLCJncm91cExldmVsIiwiY3VycmVudExldmVsIiwidHJhY2UiLCJsb2ciLCJjdXJyZW50U2VwYXJhdG9yTWVzc2FnZXMiLCJjdXJyZW50U2VwYXJhdG9yTGV2ZWwiLCJzZXBhcmF0b3IiLCJzZXBhcmF0b3JFbmQiLCJwb3NpdGl2ZSIsIm5lZ2F0aXZlIiwiZ3JvdXBDb2xsYXBzZWQiLCJEaXNwYXRjaGVyIiwiQ2FudmFzUm9vdCIsIkZpbmRlciIsIkRlZmF1bHRSRXZlbnQiLCJfdHlwZSIsIl90YXJnZXQiLCJfb3JpZ2luYWxUYXJnZXQiLCJzdG9wUHJvcGFnYXRpb24iLCJwcm9wYWdhdGVkIiwiJCRQUk9QQUdBVElPTlNFQVJDSCIsImdldEV2ZW50QnlUeXBlIiwiJCRSRVNFVFRBUkdFVCIsIk1vdXNlRXZlbnQiLCJjdXJyZW50IiwiT2JqZWN0IiwiZnJlZXplIiwiRHJhZ0V2ZW50IiwiZHJhZyIsImRlbHRhIiwiRGlzcGF0Y2giLCJ0YXJnZXRNb3VzZSIsInJlc29sdmVFdmVudEJ5VHlwZSIsInByZXZpb3VzIiwicmVzb2x2ZURyYWdTdGFydCIsImRyYWdnZWQiLCJyZXNvbHZlRHJhZ0VuZCIsIkRpc3BhdGNoRXZlbnRzIiwiJCRNT1VTRVNFQVJDSCIsIlVwZGF0ZVRhcmdldHMiLCJldmVudERpc3BhdGNoZXJUaWNrIiwiY2hlY2tlZCIsImZvY3VzZWQiLCJLZXlib2FyZCIsIk9uQXBwVGljayIsImdldFF1ZXVlRnVuYyIsImtleWNvZGUiLCJrZXlDb2RlIiwiYnVpbGQiLCJlbmFibGVkIiwia2V5ZG93biIsImNvZGUiLCJrZXl1cCIsImRpc2FibGUiLCJlbmFibGUiLCJjIiwiY2FudmFzQ2xpY2tlZCIsIktleWJvYXJkRXZlbnQiLCJjdHJsUHJlc3NlZCIsImFsdFByZXNzZWQiLCJzaGlmdFByZXNzZWQiLCJjdHJsS2V5IiwiYWx0S2V5Iiwic2hpZnRLZXkiLCJhbHQiLCJjdHJsIiwiTW9ycGhpbmUiLCJFYXNpbmdzIiwiZW5kIiwicnB0IiwiZWZ1bmMiLCJtb3JwaGluZXMiLCJtb3JwaGluZSIsInRpY2tGIiwiJG0iLCJwcm9jZXNzTW9ycGhpbmVzIiwiZ2V0VGltZSIsIl9tb3JwaGluZXMiLCIkJEVNSVRURVJQUk9URUNURUQiLCIkJEVNSVRURVJQUk9URUNURURDT05URVhUIiwiZGVjb3JhdGUiLCJpbml0IiwiUmVzb3VyY2UiLCJnZXRSZXNvdXJjZUJ5VVJMIiwic2VhcmNoIiwiaW5qZWN0QnlUeXBlIiwiZXhpc3RlZCIsImxvYWRDb3VudGVyIiwiYWxsIiwibG9hZGVyTW9kZSIsImxvYWQiLCJjQkNvbnRhaW5lciIsInVwZGF0ZVJlc291cmNlcyIsIlNwcml0ZVJlc291cmNlcyIsImxvYWRlZCIsIkltYWdlUmVzb3VyY2VzIiwiRm9udFJlc291cmNlcyIsIkF1ZGlvUmVzb3VyY2VzIiwiaW1hZ2UiLCJzcHJpdGUiLCJhdWRpbyIsImFkZCIsIm9mZiIsIm5hcnJheSIsIiQkU0VBUkNIIiwidG90YWwiLCJjb25jYXQiLCJHcmFwaGljcyIsInJlc29sdmVkX3BsdWdpbnMiLCJkZWZpbmVPYmplY3QiLCJtYXRjaFR5cGUiLCJPYmplY3RzIiwiSW5qZWN0QnlUeXBlIiwicm9vdCIsImxpbmUiLCJyZWN0IiwiY2lyY2xlIiwidGV4dCIsImFyZWEiLCJTb3VuZCIsImRlc3RpbmF0aW9uIiwic291bmRzIiwic291bmRjb3VudCIsImNoYW5uZWxjb3VudCIsImNoYW5uZWxzIiwiJCRERVNUSU5BVElPTiIsInNhbXBsZSIsImNoYW5uZWwiLCJvdXQiLCJjb25uZWN0IiwiYnl1cmwiLCJkcmF3R3JhcGhpY3NUcmVlIiwicm9vdERyYXdlciIsImNsZWFyIiwiY2xlYXJSZWN0Iiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJyb290U3R5bGUiLCJlbGVtZW50cyIsIm5ld19pZCIsImRyYXdlciIsIlN0YXRlcyIsIiQkU1RBVEVTUFJPVEVDVEVEIiwiY3VycmVudENvbnRhaW5lciIsIiRTVEFURVNQUk9URUNURURDT05URVhUIiwiJFNUQVRFU1BST1RFQ1RFREhBU0VNSVRURVJTRVQiLCJBbmltYXRpb25IZWxwZXIiLCJSZXNvbHZlIiwic3RlcFR5cGVTdHIiLCJzdGVwc0NiIiwicHJvZ3Jlc3MiLCJjb21wbGV0ZVR5cGVTdHIiLCJyZXN1bHRzIiwiX3N0YWNrIiwidGlja19mdW5jdGlvbiIsImdldFRpY2tGdW5jdGlvbiIsImNvbXBsZXRlIiwibm9ybWFsaXplQ29uZmlnIiwic3RlcCIsIk1vcnBoIiwiU2V0U3RhcnRWYWx1ZSIsIlNldEVuZFZhbHVlIiwib2JqIiwib3JkIiwiYXBsIiwibWFyZ2luIiwieSIsIlRleHRMaW5lQ2xhc3MiLCJnZXRXaWR0aCIsIndpZHRoVXBkYXRlZCIsInNwYWNlIiwibWVhc3VyZVRleHQiLCJfYXJyIiwicHJvcGVydHlDaGFuZ2VkIiwib25Qcm9wZXJ0eUNoYW5nZSIsIlRleHRTcGFjZUNsYXNzIiwiZXh0cmFjdEZvbnRTdHJpbmciLCJUZXh0RWxlbWVudENsYXNzIiwiQ29sb3JIZWxwZXIiLCJjb2xvclRvQXJyYXkiLCJUZXh0V29yZENsYXNzIiwiZmlsbFN0eWxlIiwiZmlsbFRleHQiLCJjaGVja0VsZW1lbnQiLCJsYXllcl9yZXN1bHQiLCJUaWNrIiwidGltZSIsInBhdXNlZCIsInN0YXJ0X3RpbWUiLCJyZXBlYXQiLCJyZXBlYXRDb3VudCIsInBhdXNlIiwiZHVyIiwiZWFzZSIsIkV2ZW50IiwiZXZlbnRfdGltZSIsIkV2ZW50RW1pdHRlciIsImFkZENhbGxiYWNrIiwib25jZSIsImV2ZW50cyIsInJlbW92ZUNhbGxiYWNrIiwiX2NsZWFyQ2JBcnJheSIsImNpIiwicmVzb2x2ZUV2ZW50IiwiZXZlbnRfdGFyZ2V0IiwiZXZlbnRfb2JqZWN0IiwiZXZlbnRfc3RyaW5nX3JlZ2V4cCIsInByb3h5IiwiZm9yZWlnbl9lbWl0dGVyIiwiZm9yZWlnbl9ldmVudCIsIkF1ZGlvUmVzb3VyY2UiLCJjcmVhdGVBdWRpbyIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInJlc3BvbnNlVHlwZSIsIm9ubG9hZCIsInN0YXRlRnVuYyIsInJlc3BvbnNlIiwicmVzb2x2ZUV2ZW50RnVuYyIsIm9uZXJyb3IiLCJzZW5kIiwiX3VybCIsInJlc29sdmVGdW5jIiwic2V0U3RhdGVGdW5jIiwiRm9udFJlc291cmNlIiwiZ2V0Rm9udCIsImZvbnRMb2FkZXJFbGVtZW50IiwiYXBwZW5kZWQiLCJyZXBlYXRUaWxsRXJyb3IiLCJpbml0aWFsIiwiZm9udEZhbWlseSIsImNoZWNrSW50ZXJ2YWwiLCJyZW1vdmVDaGlsZCIsInN0YXRlIiwiaW5uZXJUZXh0IiwiciIsIkltYWdlUmVzb3VyY2UiLCJjcmVhdGVJbWFnZSIsIkltYWdlIiwic2V0U3RhdHVzIiwic3RhdHVzIiwiY2JDb250YWluZXIiLCJyZXNvbHZlRnVuY3Rpb25QYXNzZWQiLCJsb2FkaW5nIiwiU3ByaXRlUmVzb3VyY2UiLCJjcmVhdGVDYW52YXNBcnJheSIsImVsZW1zIiwiZnJhbWVzIiwic2V0Q2FudmFzU2l6ZSIsImZyYW1lSGVpZ2h0Iiwicm91bmQiLCJmcmFtZVdpZHRoIiwiX2N0eCIsInRyYW5zbGF0ZSIsInNldFN0YXVzRnVuYyIsInUiLCJldmVudEYiLCJzdGF0dXNGIiwic3ByaXRlV2lkdGgiLCJzcHJpdGVIZWlnaHQiLCJwbGF5Iiwicm93cyIsImNlaWwiLCJzcXJ0IiwiY3VycmVudFgiLCJjdXJyZW50WSIsIl90aW1lIiwiR3JhcGhpY3NBc3NlbWJsZXIiLCJTZXRTaXplIiwiY29tcG9zZSIsInJlc2l6ZWQiLCJib3hFeHQiLCJ1cGRhdGVGdW5jIiwiYm94UHJvdmlkZXIiLCJHcmFwaGljc0Fzc2VtYmxlckxheWVyIiwidXBkYXRlQ2FudmFzIiwiUGx1Z2luIiwiYXBwbGllcyIsImRlc3Ryb3lDYiIsInR5cGVzIiwidGVtcCIsIkFyZWFPYmplY3RDbGFzcyIsIkNpcmNsZU9iamVjdENsYXNzIiwiY2lyY2xlQ2hlY2tGdW5jdGlvbiIsIkRlZmF1bHRPYmplY3RUeXBlIiwiR3JvdXBPYmplY3RDbGFzcyIsIkltYWdlT2JqZWN0Q2xhc3MiLCJyZWN0Q2hlY2tGdW5jdGlvbiIsIkxpbmVPYmplY3RDbGFzcyIsIlJlY3RhbmdsZU9iamVjdENsYXNzIiwicmVjdEN1cnNvclRyYW5zZm9ybUZ1bmN0aW9uIiwiU3ByaXRlT2JqZWN0Q2xhc3MiLCJUZXh0T2JqZWN0Q2xhc3MiLCJBbmltYXRpb25Qcm92aWRlciIsImFuaW1hdGUiLCJldmVudEFyZ3MiLCJjcmVhdGVBbmltYXRpb25Nb3JwaCIsIm5vcm1hbGl6ZXIiLCJub2RlbmFtZSIsInRlcm1pbmF0ZSIsIiQkU09VUkNFIiwiZmlsdGVycyIsImN0eXBlIiwib3V0c291cmNlIiwiVXNlckF1ZGlvTWl4ZXIiLCJhcmdGIiwiZmlsdGVyc0NmZyIsIm5vZGUiLCIkJEFVRElPTk9ERSIsImlucHV0IiwiVXNlckF1ZGlvU291cmNlIiwiY2JBcmdzIiwiY29ubmVjdENiQXJncyIsIm1peGVyIiwiRGVsYXlOb2RlIiwidGltZUNGRyIsImZvcmNlQ0ZHIiwiZ2xvYmFsR2FpbiIsImNyZWF0ZUdhaW4iLCJkZWxheSIsImNyZWF0ZURlbGF5IiwiZmVlZGJhY2siLCJicSIsImNyZWF0ZUJpcXVhZEZpbHRlciIsImdhaW4iLCJmcmVxdWVuY3kiLCJkZWxheVRpbWUiLCJmb3JjZSIsIkRlc3RpbmF0aW9uTm9kZSIsIkdhaW5Ob2RlIiwidm9sdW1lIiwiTG93cGFzc05vZGUiLCJicWYiLCJBdWRpb05vZGUiLCJuZXh0Tm9kZSIsImJ1aWxkRiIsInNvdW5kIiwiZGlzY29ubmVjdCIsIl9pbnBBcnJheSIsIl9pbnBBcnIiLCJpbnAiLCJtb2RlbCIsImRlZlZhbCIsIm5vcm1saXplciIsIkF1ZGlvTm9kZVNvdW5kRGlzcGF0Y2hlciIsInJlY29ubmVjdCIsIkF1ZGlvU291cmNlIiwicmVzb3VyY2UiLCJidWZmZXIiLCJkZWNvZGVBdWRpb0RhdGEiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJzdGF0ZXZhbCIsImFyZ0Z1bmN0IiwiZXZlbnROYW1lIiwiaXNTdGF0ZUV2ZW50IiwiRXZlbnRQcm92aWRlciIsIlN0YXRlIiwiaXNJblN0YXRlIiwic3RhdGVzIiwiaXNCb3VuZFByb3BlcnR5IiwiYm91bmQiLCJnZXRQcm9wZXJ0eUV2ZW50Q2FsbGJhY2siLCJzZXRQcm9wZXJ0eVZhbHVlIiwiY3JlYXRlUHJvcGVydHkiLCJlbmFibGVyIiwiZGlzYWJsZXIiLCJzdGF0ZV9zdHJpbmdfcmVnZXhwIiwidHJ1c3RlZCIsImlzX2JvdW5kIiwiZXZlbnRfZW1pdHRlciIsInN0cmljdCIsIkFyZWFPYmplY3REcmF3ZXIiLCJQYXRoSGVscGVyIiwiVXBkYXRlRmlsbCIsInhzaGlmdCIsInlzaGlmdCIsImludGVycG9sYXRpb24iLCJpbnRlcnBvbGF0ZWQiLCJpbnRlcnBvbGF0ZSIsImRyYXdCZXppZXJQYXRoRmlsbCIsImRyYXdMaW5lUGF0aEZpbGwiLCJVcGRhdGVTdHJva2UiLCJjbG9uZUFycmF5IiwiZHJhd0xpbmVQYXRoIiwiZHJhd0JlemllclBhdGgiLCJVcGRhdGVCZyIsImRyYXdMaW5lQmdDbGlwUGF0aCIsImFzc2VtYmxlciIsImRyYXdCZXppZXJCZ0NsaXBQYXRoIiwic3Ryb2tlZml4IiwiaW50ZXJwb2xhdGlvbmZpeCIsImZpeCIsImJveENvbnRhaW5lciIsImFuY2hvciIsIm1pbngiLCJtaW55IiwibWF4eCIsIm1heHkiLCJhYnMiLCJ0cmFuc2Zvcm0iLCJDaXJjbGVPYmplY3REcmF3ZXIiLCJiZWdpblBhdGgiLCJzdHJva2VTdHlsZSIsInNldExpbmVEYXNoIiwiYXJjIiwiUEkiLCJzdHJva2UiLCJmaWxsIiwiY2xpcCIsImJncG9zaXRpb24iLCJiZ3NpemUiLCJiZyIsImJnd2lkdGgiLCJiZ2hlaWdodCIsImJncG9zaXRpb254IiwiYmdwb3NpdGlvbnkiLCJyYWRpdXMiLCJEZWZhdWx0T2JqZWN0RHJhd2VyIiwib2JqZWN0TWF0cml4IiwiR3JvdXBPYmplY3REcmF3ZXIiLCJvYm94IiwiX2FyZ3VtbmV0cyIsIkltYWdlT2JqZWN0RHJhd2VyIiwiTGluZU9iamVjdERyYXdlciIsIlVwZGF0ZUNhbnZhcyIsInJlcXVpcmVfdXBkYXRlIiwiUmVjdGFuZ2xlT2JqZWN0RHJhd2VyIiwibm9ybWFsaXplUmFkaXVzIiwiYm94RXh0ZW5zaW9uIiwiaGFsZmJveCIsImRyYXdSZWN0UGF0aCIsImsiLCJzdHJva2VDb2xvciIsInN0cm9rZVdpZHRoIiwiY2FwIiwibGluZUNhcCIsIm1vdmVUbyIsImxpbmVUbyIsImN1cnZlTW9kaWZpZXIiLCJiZXppZXJDdXJ2ZVRvIiwic3Ryb2tTdHlsZSIsImhhc1JhZGl1cyIsImhhc1N0cm9rZSIsIm1vbm9TdHJva2UiLCJkQ29sb3IiLCJkV2lkdGgiLCJkU3R5bGUiLCJ2aWV3U2l6ZSIsIlNwcml0ZU9iamVjdERyYXdlciIsInJlYWRTcHJpdGVTdHJpbmciLCJUZXh0T2JqZWN0RHJhd2VyIiwiVXBkYXRlVGV4dExheWVyIiwiYWxpZ24iLCJ0b3BTcGFuIiwiZ2V0Rm9udEZpbGUiLCJfc3R5bGUiLCJmc3R5bGUiLCJkcmF3VGV4dCIsIkFyZWFPYmplY3RNb2RlbCIsIlN5bmNQYXRoUHJvcGVydHkiLCJjaGVja1NpbXBsZVBhdGgiLCJjb252ZXJ0U2ltcGxlUGF0aCIsImNvbnZlcnRDb21wbGV4UGF0aCIsIkNpcmNsZU9iamVjdE1vZGVsIiwiaXNDb2xvciIsImFycmF5VG9Db2xvciIsIm5vcm1hbGl6ZSIsInZhbGlkTnVtZXJpY1ZhbHVlIiwidmFsaWROdW1lcmljQXJyYXkiLCJEZWZhdWx0T2JqZWN0TW9kZWwiLCJlbmRBcnJheSIsInJhZCIsInJhZDEiLCJyYWQyIiwidmFsaWRCbGVuZGluZyIsIkRlZmF1bHRGcmVlU3Ryb2tlTW9kZWwiLCJHbG9iYWxCYWNrZ3JvdW5kTW9kZWwiLCJTeW5jQmdQcm9wZXJ0eSIsImRlZiIsImlzU3ByaXRlU3RyaW5nIiwiZGVmQmdQb3N2YWwiLCJfcmVzIiwiZGVmQmdTaXplVmFsIiwiR2xvYmFsU2l6ZU1vZGVsIiwiR3JvdXBPYmplY3RNb2RlbCIsIkltYWdlT2JqZWN0TW9kZWwiLCJMaW5lT2JqZWN0TW9kZWwiLCJSZWN0YW5nbGVPYmplY3RNb2RlbCIsImN1dXJlbnQiLCJTcHJpdGVPYmplY3RNb2RlbCIsIlRleHRPYmplY3RNb2RlbCIsInN5c3RlbUZvbnQiLCJUaWNrVmFsIiwibG9jcyIsImxvY2UiLCJlbmR2YWwiLCJzdGFydHZhbCIsImRpZmZlcmVuY2UiLCJDb2xvciIsIk5vcm1hbGl6ZUNvbG9yQXJyYXkiLCJQYXJzZUNvbG91ciIsImV4ZWMiLCJ0ZXh0RHJhd2VyQ29udGV4dCIsImV4dHJhY3QiLCJ4MSIsInkxIiwieDIiLCJ5MiIsImNsb3NlUGF0aCIsImF4MSIsImF5MSIsImF4MiIsImF5MiIsInN0cm9rZUNhcCIsImRyYXdSZWN0RmlsbCIsImRyYXdSZWN0U3Ryb2tlIiwiX3giLCJfeSIsIkVhc2luZyIsImVhc2luZ3MiLCJfIiwibGluZWFyIiwibGluZWFyU29mdCIsInRzIiwidGMiLCJsaW5lYXJTb2Z0T3V0IiwibGluZWFyU29mdEluIiwiZWFzZUluUXVhZCIsImVhc2VPdXRRdWFkIiwiZWFzZUluT3V0UXVhZCIsImVhc2VJbkN1YmljIiwiZWFzZU91dEN1YmljIiwiZWFzZUluT3V0Q3ViaWMiLCJlYXNlSW5RdWFydCIsImVhc2VPdXRRdWFydCIsImVhc2VJbk91dFF1YXJ0IiwiZWFzZUluUXVpbnQiLCJlYXNlT3V0UXVpbnQiLCJlYXNlSW5PdXRRdWludCIsImVhc2VJblNpbmUiLCJjb3MiLCJlYXNlT3V0U2luZSIsInNpbiIsImVhc2VJbk91dFNpbmUiLCJlYXNlSW5FeHBvIiwicG93IiwiZWFzZU91dEV4cG8iLCJlYXNlSW5PdXRFeHBvIiwiZWFzZUluQ2lyYyIsImVhc2VPdXRDaXJjIiwiZWFzZUluT3V0Q2lyYyIsImVhc2VJbkJhY2siLCJlYXNlT3V0QmFjayIsImVhc2VJbk91dEJhY2siLCJlYXNlT3V0Qm91bmNlIiwibXVsdGlwbHkiLCJtMSIsIm0yIiwiYTEiLCJhMiIsImEzIiwiYTQiLCJhNSIsImE2IiwiYXBwbHlNYXRyaXhUb1BvaW50IiwicG9pbnQiLCJHcmFwaGljc1RyYW5zZm9ybU1hdHJpeCIsImludmVyc2lvbiIsImdsb2JhbEludmVyc2lvbiIsImhpc3RvcnkiLCJpbnZlcnQiLCJyb3RhdGUiLCJzaW5BIiwiY29zQSIsInNrZXciLCJ0YW4iLCJzY2FsZSIsImFuZ2xlIiwidGFuQSIsInRhbkIiLCJleHRyYWN0R2xvYmFsSW52ZXJzaW9uIiwiZ2xvYmFsQ3Vyc29yUHJvamVjdGlvbiIsImN1cnNvclByb2plY3Rpb24iLCJleGNsdWRlX3NlbGYiLCJleHRyYWN0SW52ZXJzaW9uIiwib3JpZ2luIiwiX3RyYW5zbGF0ZSIsIl9vcmlnaW4iLCJNb2RlbCIsImNsb25lSGFzaCIsImhhc2giLCJwYXJzZSIsImV2YWwiLCJibGVuZGluZ3MiLCJzcHJpdGVfcmVnZXhwIiwidGVzdCIsImNpcmNsZVVzZXJDaGVja0Z1bmN0aW9uIiwiY29vcmRzIiwiY3giLCJjeSIsInNxdWFyZVVzZXJDaGVja0Z1bmN0aW9uIiwiY2VudGVyIiwiUGF0aCIsImdldENvbnRyb2xQb2ludHMiLCJ4MCIsInkwIiwiZDAxIiwiZDEyIiwiZmEiLCJmYiIsInAxeCIsInAxeSIsInAyeCIsInAyeSIsInNtb290aGluZyIsImNsb3NlZCIsInByZXYiLCJtaWQiLCJuZXh0IiwicHRzIiwiczEiLCJfc2VnbWVudCIsImNvbXBhcmVQYXRocyIsInBhdGgxIiwicGF0aDIiXSwibWFwcGluZ3MiOiJBQUtBLFFBQUFBLFlBY0EsUUFBQUMsTUFBQUMsR0FDQSxHQUFBQyxXQUFBRCxFQUVBLEtBQUEsR0FEQUUsSUFBQSxFQUNBQyxFQUFBLEVBQUFBLEVBQUFDLE9BQUFDLE9BQUFGLElBQ0EsSUFBQUcsUUFBQUYsT0FBQUQsSUFBQSxDQUNBRCxHQUFBLENBQ0EsT0FNQSxNQUhBQSxJQUNBSyxZQUVBUixLQUdBLFFBQUFTLGtCQUFBUixHQUNBLE1BQUEsU0FBQVMsaUJBQ0EsR0FBQUMsR0FBQVYsRUFBQVcsTUFBQWIsUUFBQWMsVUFDQSxPQUFBQyxV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QUFBLElBR0FZLEtBQUF3bkMsYUFBQSxTQUFBQyxFQUFBQyxHQUNBLEdBQUF0b0MsSUFBQSxDQUVBLElBQUFxb0MsRUFBQTFvQyxTQUFBMm9DLEVBQUEzb0MsT0FDQSxPQUFBLENBR0EsS0FBQSxHQUFBRixHQUFBLEVBQUFBLEVBQUE0b0MsRUFBQTFvQyxPQUFBRixJQUNBLElBQUEsR0FBQW9ELEdBQUEsRUFBQUEsRUFBQXdsQyxFQUFBNW9DLEdBQUFFLE9BQUFrRCxJQUNBLEdBQUF3bEMsRUFBQTVvQyxHQUFBb0QsS0FBQXlsQyxFQUFBN29DLEdBQUFvRCxHQUFBLENBQ0E3QyxHQUFBLENBQ0EsT0FLQSxNQUFBQSIsImZpbGUiOiJyZWZsZWN0LWVuZ2luZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNC8wOC8yMDE3LlxyXG4gKi9cclxuXHJcblxyXG5mdW5jdGlvbiBSZWZsZWN0KCkge1xyXG59XHJcblxyXG52YXIgbW9kdWxlcyA9IHt9LFxyXG4gICAgcHJvcGVydGllcyA9IHt9LFxyXG4gICAgY29yZSA9IG5ldyBSZWZsZWN0KCksXHJcbiAgICBleHBlY3QgPVxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgJ0FwcGxpY2F0aW9uJywgJ0F1ZGlvJywgJ0NhbnZhcycsICdDbGFzc2VzJyxcclxuICAgICAgICAgICAgJ0NvbmZpZycsICdDb250YWluZXInLCAnRm9udHMnLCAnSGVscGVycycsXHJcbiAgICAgICAgICAgICdJbmplY3Rpb24nLCAnUm9vdCcsICdTZXJ2aWNlcycsICdTb3VyY2UnLFxyXG4gICAgICAgICAgICAnVGlja2VyJ1xyXG4gICAgICAgIF07XHJcblxyXG5mdW5jdGlvbiBDb3JlKGYpIHtcclxuICAgIG5ldyBJbmplY3Rpb24oZik7XHJcbiAgICB2YXIgcmVhZHkgPSB0cnVlO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHBlY3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoIW1vZHVsZXNbZXhwZWN0W2ldXSkge1xyXG4gICAgICAgICAgICByZWFkeSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocmVhZHkpIHtcclxuICAgICAgICBCdWlsZENvcmUoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBDb3JlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRSb3V0ZUZ1bmN0aW9uKGYpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiByb3V0ZUZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBmLmFwcGx5KFJlZmxlY3QsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gUmVmbGVjdDtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfS5iaW5kKGNvcmUpO1xyXG59XHJcblxyXG5Db3JlLmdldCA9IGZ1bmN0aW9uIChtb2R1bGUsIHBheWxvYWQpIHtcclxuICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgaWYgKG1vZHVsZXNbbW9kdWxlXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlc1ttb2R1bGVdLmdldC5hcHBseShtb2R1bGVzW21vZHVsZV0sIHBheWxvYWQpO1xyXG4gICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ01vZHVsZSBbJyArIG1vZHVsZSArICddIHdhcyBub3QgZm91bmQnKTtcclxuICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ01vZHVsZSBuYW1lIGlzIG5vdCBhIHN0cmluZy4gV3JvbmcgYXJndW1lbnRzJyk7XHJcbn07XHJcblxyXG5Db3JlLmlzID0gZnVuY3Rpb24gKHRhcmdldCwgbmFtZSkge1xyXG4gICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgaWYgKG1vZHVsZXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZXNbbmFtZV0uaXModGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG5Db3JlLmluamVjdCA9IGZ1bmN0aW9uIChtb2R1bGUsIHBheWxvYWQpIHtcclxuICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgaWYgKG1vZHVsZXNbbW9kdWxlXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlc1ttb2R1bGVdLmNyZWF0ZShwYXlsb2FkKTtcclxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdOb2R1bGUgWycgKyBtb2R1bGUgKyAnXSB3YXMgbm90IGZvdW5kLicpO1xyXG4gICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignTW9kdWxlIG5hbWUgaXMgbm90IGEgc3RyaW5nLiBXcm9uZyBBcmd1bWVudHMnKTtcclxufTtcclxuXHJcbkNvcmUuZXh0ZW5kID0gZnVuY3Rpb24gKG1vZHVsZSwgdGFyZ2V0LCBwYXlsb2FkKSB7XHJcbiAgICBpZiAodHlwZW9mIG1vZHVsZXNbbW9kdWxlXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVzW21vZHVsZV0uZXh0ZW5kKHRhcmdldCwgcGF5bG9hZCk7XHJcbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGV4dGVuZCB0YXJnZXQgb2YgdHlvZSBbJyArICh0eXBlb2YgdGFyZ2V0KSArICddIGJ1IG1vZHVsZSBjb25zdHJ1Y3RvciBbJyArIG1vZHVsZSArICddLicpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuQ29yZS5kZWZpbmUgPSBmdW5jdGlvbiAocHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICBpZiAoIWNvcmUpIGNvcmUgPSBuZXcgUmVmbGVjdCgpO1xyXG4gICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgIGlmIChwcm9wZXJ0aWVzW3Byb3BlcnR5XSAhPT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBkZWZpbmUgcHJvcGVydHkgWycgKyBwcm9wZXJ0eSArICddLiBBbHJlYWR5IGRlZmluZWQhJyk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSA9PT0gXCJmdW5jdGlvblwiKSBwcm9wZXJ0aWVzW3Byb3BlcnR5XSA9IGdldFJvdXRlRnVuY3Rpb24odmFsdWUpO1xyXG4gICAgICAgIGVsc2UgaWYgKHByb3BlcnR5ICE9PSBudWxsIHx8IHR5cGVvZiBwcm9wZXJ0eSAhPT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgcHJvcGVydHkgIT09IFwib2JqZWN0XCIpIHByb3BlcnRpZXNbcHJvcGVydHldID0gdmFsdWVcclxuICAgICAgICByZXR1cm4gY29yZTtcclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIEJ1aWxkQ29yZSgpIHtcclxuICAgIENvcmUuZ2V0KCdSb290Jyk7XHJcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgaWYgKHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgIGNvcmVbcHJvcGVydHldID0gcHJvcGVydGllc1twcm9wZXJ0eV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBJbmplY3Rpb24oZikge1xyXG4gICAgaWYgKHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIgfHwgIWYubmFtZSkgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlaW5qZWN0aW9uLiBDb25zdHJ1Y3RvciBpcyBub3QgYSBuYW1lZCBmdW5jdGlvbiEnKTtcclxuICAgIG1vZHVsZXNbZi5uYW1lXSA9IHRoaXM7XHJcbiAgICB2YXIgY2FjaGUgPSBudWxsO1xyXG5cclxuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24gKHBheWxvYWQpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtudWxsXTtcclxuICAgICAgICBpZiAocGF5bG9hZCAmJiB0eXBlb2YgcGF5bG9hZCA9PT0gXCJvYmplY3RcIiAmJiBwYXlsb2FkLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBheWxvYWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGFyZ3MucHVzaChwYXlsb2FkW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShmLCBhcmdzKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChjYWNoZSkgcmV0dXJuIGNhY2hlO1xyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5jcmVhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzWzBdKTtcclxuICAgICAgICAgICAgY2FjaGUgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmlzID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQuY29uc3RydWN0b3IgPT09IGY7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZXh0ZW5kID0gZnVuY3Rpb24gKHRhcmdldCwgcGF5bG9hZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgcGF5bG9hZCA9PT0gXCJvYmplY3RcIiAmJiBwYXlsb2FkLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICBmLmFwcGx5KHRhcmdldCwgcGF5bG9hZCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZi5jYWxsKHRhcmdldCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG52YXIgJFIgPSBjb3JlO1xyXG5cclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIEFwcGxpY2F0aW9uKENhbnZhcywgVGlja2VyLCBDb25maWcpIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgQ29uZmlnLmRlZmluZSgnZnBzJywgNTguOCwge2lzTnVtYmVyOiB0cnVlLCBncmVhdGVyOiAwLCB1bmRlcjogNjF9KS53YXRjaChmdW5jdGlvbiAodikge1xyXG4gICAgICAgIFRpY2tlci5mcHModik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBDb25maWcuZGVmaW5lKCdjYW52YXMnLCBudWxsLCB7aXNTdHJpbmc6IHRydWV9KS53YXRjaChmdW5jdGlvbiAodikge1xyXG4gICAgICAgIENhbnZhcy5lbGVtZW50KHYpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy4kID0gZnVuY3Rpb24gKG4sIGYpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG4gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgaWYgKG4uY2hhckF0KDApID09PSAnJCcpIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBBUEkgZnVuY3Rpb24uIEZ1bmN0aW9uIG5hbWUgc3RhcnRzIHdpdGggJCcpO1xyXG4gICAgICAgICAgICBpZiAodGhpc1tuXSkgdGhyb3cgbmV3IEVycm9yKCdBcHBsaWNhdGlvbiBBUEkgcHJvcGVydHkgWycgKyBuICsgJ10gZHVwbGljYXRpb24hJyk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZiAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3IoJ0FwcGxpY2F0aW9uIEFQSSBwcm9wZXJ0eSBbJyArIG4gKyAnXSB2YWx1ZSBpcyBub3QgYSBmdW5jdGlvbicpO1xyXG4gICAgICAgICAgICB0aGlzW25dID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IHNlbGY6IHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgQVBJIG1ldGhvZC4gTmFtZSBpcyBub3QgYSBzdHJpbmcuJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGEgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIENvbmZpZy5zZXQoYSwgYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgQ29uZmlnLndhdGNoKGEsIGIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbmZpZy5nZXQoYSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGEgPT09IFwib2JqZWN0XCIgJiYgYS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gYSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGEuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQ29uZmlnLnNldChwcm9wZXJ0eSwgYVtwcm9wZXJ0eV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjb25maWcgYXBwbGljYXRpb24uIENvbmZpZyBmb3JtYXQgaXMgaW52YWxpZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNC8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBBdWRpbyAoKSB7XHJcbiAgICB2YXIgY29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcclxuICAgIHRoaXMuY29udGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY29udGV4dDtcclxuICAgIH1cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIENhbnZhcyhUaWNrZXIpIHtcclxuXHJcbiAgICB2YXIgZWxlbWVudCA9IG51bGwsXHJcbiAgICAgICAgY29udGV4dCA9IG51bGwsXHJcbiAgICAgICAgc2l6ZSA9IFs4MDAsIDYwMF0sXHJcbiAgICAgICAgcmVzaXplQ2IgPSBbXSxcclxuICAgICAgICBzd2l0Y2hDYiA9IFtdLFxyXG4gICAgICAgIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgIHF1ZXVlID0gW10sXHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZSxcclxuICAgICAgICBhcmdzID0gW251bGwsIG51bGwsIG51bGxdO1xyXG5cclxuICAgIFRpY2tlci5xdWV1ZSgwLCBEcmF3U2NlbmUpO1xyXG5cclxuICAgIGZ1bmN0aW9uIERyYXdTY2VuZShkYXRlLCBmcmFtZSkge1xyXG4gICAgICAgIGlmIChyZWFkeSkge1xyXG4gICAgICAgICAgICBhcmdzWzBdID0gY29udGV4dDtcclxuICAgICAgICAgICAgYXJnc1sxXSA9IGRhdGU7XHJcbiAgICAgICAgICAgIGFyZ3NbMl0gPSBmcmFtZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZVtpXS5mLmFwcGx5KHNlbGYsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBlbWVyZ2VkIHdoaWxlIGRyYXdpbmcuIFxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnUXVldWUgICAgICAgICAgOiBbJyArIHF1ZXVlW2ldLm8gKyAnXVxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnUXVldWUgT3JkZXJpbmcgOiBbJyArIGkgKyAnXVxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnUXVldWUgTWVtYmVyICAgOiBbJyArIHF1ZXVlW2ldLmYubmFtZSArICddXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdNZXNzYWdlICAgICAgICA6ICcgKyBlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc29sdmUoYXJyYXkpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGFycmF5W2ldLmNhbGwoc2VsZik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgdmFyIGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgICAgICAgIGlmIChlICYmIGUuZ2V0Q29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IGUuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgICAgIGlmIChjdHgpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBzaXplWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnNldEF0dHJpYnV0ZSgnaGVpZ2h0Jywgc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IGN0eDtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gZTtcclxuICAgICAgICAgICAgICAgICAgICByZWFkeSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzd2l0Y2hDYik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdFbGVtZW50IHdpdGggaWQgWyMnICsgaWQgKyAnXSBpcyBub3QgYSBjYW52YXMuIENhbiBub3QgZ2V0IDJkIGNvbnRleHQuJylcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ0VsZW1lbnQgd2l0aCBpZCBbIycgKyBpZCArICddIHdhcyBub3QgZm91bmQgb3Igbm90IGEgY2FudmFzJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpZCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChpZC5nZXRDb250ZXh0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IGlkLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3R4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHNpemVbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlkLnNldEF0dHJpYnV0ZSgnaGVpZ2h0Jywgc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGlkO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjdHg7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoc3dpdGNoQ2IpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignRWxlbWVudCBpcyBub3QgYSBDYW52YXMuIENhbiBub3QgZ2V0IDJkIGNvbnRleHQuJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ0VsZW1lbnQgaXMgbm90IGEgQ2FudmFzJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnF1ZXVlID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGEgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBpZiAoIWEubmFtZSkgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZW5xdWV1ZSBjYWxsYmFjay4gUHJvdmlkZSBhIG5hbWVkIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goe286IDAsIGY6IGJ9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWIubmFtZSkgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZW5xdWV1ZSBjYWxsYmFjay4gUHJvdmlkZSBhIG5hbWVkIGZ1bmN0aW9uLicpO1xyXG4gICAgICAgICAgICAgICAgcXVldWUucHVzaCh7bzogYSwgZjogYn0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZW5xdWV1ZSBjYWxsYmFjay4gUHJvdmlkZSBhIG5hbWVkIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGVucXVldWUgY2FsbGJhY2suIFdyb25nIGFyZ3VtZW50cy4nKTtcclxuXHJcbiAgICAgICAgcXVldWUuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICByZXR1cm4gYS5vIC0gYi5vO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHdpZHRoID09PSBcIm51bWJlclwiICYmIHR5cGVvZiBoZWlnaHQgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgaWYgKHdpZHRoIDwgMCkgd2lkdGggPSAwO1xyXG4gICAgICAgICAgICBpZiAoaGVpZ2h0IDwgMCkgaGVpZ2h0ID0gMDtcclxuICAgICAgICAgICAgaWYgKHNpemVbMF0gIT09IHdpZHRoIHx8IHNpemVbMV0gIT09IHdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBzaXplWzBdID0gd2lkdGg7XHJcbiAgICAgICAgICAgICAgICBzaXplWzFdID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgd2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc2l6ZUNiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW3NpemVbMF0sIHNpemVbMV1dO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnJlc2l6ZSA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgcmVzaXplQ2IucHVzaChmKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCByZXNpemUgY2FsbGJhY2suIGYgYXJndW1lbnQgaXMgbm90IGEgZnVuY3Rpb24nKTtcclxuICAgIH07XHJcbiAgICB0aGlzLm9mZnJlc2l6ZSA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgcmVzaXplQ2IgPSByZXNpemVDYi5maWx0ZXIoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlICE9PSBmO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmVzaXplQ2IucHVzaChmKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCByZXNpemUgY2FsbGJhY2suIGYgYXJndW1lbnQgaXMgbm90IGEgZnVuY3Rpb24nKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zd2l0Y2ggPSBmdW5jdGlvbiAoZikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaENiLnB1c2goZik7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgc3dpdGNoIGNhbGxiYWNrLiBmIGFyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucmVhZHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlYWR5O1xyXG4gICAgfTtcclxuXHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyNS8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBDbGFzc2VzKCkge1xyXG4gICAgdmFyIHN5c3RlbUNsYXNzZXMgPSB7fSxcclxuICAgICAgICBhcHBsaWNhdGlvbkNsYXNzZXMgPSB7fSxcclxuICAgICAgICBnbG9iYWxDbGFzc2VzID0ge307XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGNscyhjZmcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaW5qZWN0aW9uID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtjZmddKTtcclxuICAgICAgICAgICAgaWYgKGdsb2JhbENsYXNzZXNbaW5qZWN0aW9uLm5hbWUoKV0pIGNvbnNvbGUud2FybignR2xvYmFsIENsYXNzIExpYnJhcnkgY2xhc3MgWycgKyBpbmplY3Rpb24ubmFtZSgpICsgJ10gaGFzIGJlZW4gb3ZlcndyaXR0ZW4uJyk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGFwcCBpbiBhcHBsaWNhdGlvbkNsYXNzZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcHBsaWNhdGlvbkNsYXNzZXMuaGFzT3duUHJvcGVydHkoYXBwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcHBsaWNhdGlvbkNsYXNzZXNbYXBwXVtpbmplY3Rpb24ubmFtZSgpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0FwcGxpY2F0aW9uIFsnICsgYXBwICsgJ10gQ2xhc3MgWycgKyBpbmplY3Rpb24ubmFtZSgpICsgJ10gb3ZlcnJpZGVzIGdsb2JhbCBjbGFzcy4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ2xvYmFsQ2xhc3Nlc1tpbmplY3Rpb24ubmFtZSgpXSA9IGluamVjdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIGNsYXNzIGluamVjdGlvbi4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xzLmFwcCA9IGZ1bmN0aW9uIChhcHAsIGNmZykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXBwID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmICghYXBwbGljYXRpb25DbGFzc2VzW2FwcF0pIGFwcGxpY2F0aW9uQ2xhc3Nlc1thcHBdID0ge307XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5qZWN0aW9uID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtjZmddKTtcclxuICAgICAgICAgICAgICAgIGlmIChnbG9iYWxDbGFzc2VzW2luamVjdGlvbi5uYW1lKCldKSBjb25zb2xlLndhcm4oJ0FwcGxpY2F0aW9uIFsnICsgYXBwICsgJ10gQ2xhc3MgWycgKyBpbmplY3Rpb24ubmFtZSgpICsgJ10gb3ZlcnJpZGVzIGdsb2JhbCBjbGFzcy4nKTtcclxuICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uQ2xhc3Nlc1thcHBdW2luamVjdGlvbi5uYW1lKCldID0gaW5qZWN0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgYW5kIHJlZ2lzdGVyIEFwcGxpY2F0aW9uQ2xhc3MgZm9yIHNvdXJjZXMgWycgKyBhcHAgKyAnXS4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcmVnaXN0ZXIgQXBwbGljYXRpb25DbGFzcyBpbmplY3Rpb24uIEFwcCBpZCBpcyBub3QgYSBzdHJpbmcuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjbHMuc3lzID0gZnVuY3Rpb24gKGNmZykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBpbmplY3Rpb24gPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2NmZ10pO1xyXG4gICAgICAgICAgICBpZiAoc3lzdGVtQ2xhc3Nlc1tpbmplY3Rpb24ubmFtZSgpXSkgY29uc29sZS53YXJuKCdTeXN0ZW0gQ2xhc3MgWycgKyBpbmplY3Rpb24ubmFtZSgpICsgJ10gb3ZlcnJpZGUuJyk7XHJcbiAgICAgICAgICAgIHN5c3RlbUNsYXNzZXNbaW5qZWN0aW9uLm5hbWUoKV0gPSBpbmplY3Rpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHJlZ2lzdGVyIFN5c3RlbUNsYXNzIGluamVjdGlvbicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIHRoaXMuZ2V0QXBwbGljYXRpb25DbGFzc2VzID0gZnVuY3Rpb24gKGFwcCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXBwID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW2dsb2JhbENsYXNzZXNdKTtcclxuICAgICAgICAgICAgaWYgKGFwcGxpY2F0aW9uQ2xhc3Nlc1thcHBdKSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuc291cmNlKGNvbnRhaW5lciwgJy4nKTtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5tZXJnZShhcHBsaWNhdGlvbkNsYXNzZXMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zb3VyY2UoY29udGFpbmVyLCAnLicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZ2V0IGFwcGxpY2F0aW9uIGNsYXNzZXMgY29udGFpbmVyLiBBcHAgaWQgaXMgbm90IGEgc3RyaW5nLicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5nZXRTeXN0ZW1DbGFzc2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjb250YWluZXIgPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW3N5c3RlbUNsYXNzZXNdKTtcclxuICAgICAgICBjb250YWluZXIuc291cmNlKGNvbnRhaW5lciwgJy4nKTtcclxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgfTtcclxuXHJcbiAgICBDb3JlLmRlZmluZSgnY2xhc3MnLCBjbHMpO1xyXG5cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIENvbmZpZygpIHtcclxuXHJcbiAgICB2YXIgcHJvcGVydGllcyA9IHt9LFxyXG4gICAgICAgIGZ1bmNzID0ge1xyXG4gICAgICAgICAgICBpc051bWJlcjogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdiA9PT0gXCJudW1iZXJcIjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaXNTdHJpbmc6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09IFwic3RyaW5nXCI7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGlzQXJyYXk6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdi5jb25zdHJ1Y3RvciA9PT0gQXJyYXk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGN1c3RvbTogZnVuY3Rpb24gKHYsIGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3NbMF0odik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVuZGVyOiBmdW5jdGlvbiAodiwgYXJncykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmNzLmlzTnVtYmVyKHYpICYmIHYgPCBhcmdzWzBdO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBncmVhdGVyOiBmdW5jdGlvbiAodiwgYXJncykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmNzLmlzTnVtYmVyKHYpICYmIHYgPiBhcmdzWzBdO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcTogZnVuY3Rpb24gKHYsIGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jcy5pc051bWJlcih2KSAmJiB2ID09PSBhcmdzWzBdO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpc0Jvb2w6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mICB2ID09PSBcImJvb2xlYW5cIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBQcm9wZXJ0eShuYW1lLCB2YWx1ZSwgY2ZnKSB7XHJcblxyXG4gICAgICAgIHZhciBjaGVja0FycmF5ID0gW10sXHJcbiAgICAgICAgICAgIGNiID0gW107XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrVmFsdWUodikge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGVja0FycmF5OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghZnVuY3NbY2hlY2tBcnJheVtpXS5mXSh2LCBjaGVja0FycmF5LmFyZ3MpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYXJnID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChmdW5jcy5pc0FycmF5KGFyZykpIHtcclxuICAgICAgICAgICAgICAgIGFyZyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZy5wdXNoKHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYXJnO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMubmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5hbWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXQgPSBmdW5jdGlvbiAobikge1xyXG4gICAgICAgICAgICBpZiAoY2hlY2tWYWx1ZShuKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZ1bmNzLmlzQXJyYXkobikpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKG5baV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNiLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjYltpXS5jYWxsKHRoaXMsIHRoaXMuZ2V0KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud2F0Y2ggPSBmdW5jdGlvbiAoZikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGYgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgY2IucHVzaChmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG5vdCBzZXQgY29uZmlnIHByb3BlcnR5IHdhdGNoZXIuIEFyZ3VtZW50IGYgaXMgbm90IGEgZnVuY3Rpb24uJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gY2ZnKSB7XHJcbiAgICAgICAgICAgIGlmIChjZmcuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjZmdbcHJvcF0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmdW5jc1twcm9wXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja0FycmF5LnB1c2goe2Y6IHByb3AsIGFyZ3M6IFtjZmdbcHJvcF1dfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdObyBzdWNoIGNvbmZpZyB2YWx1ZSBjaGVja2VyIGFzIFsnICsgcHJvcCArICddJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignV3JvbmcgcGFyYW1ldGVyIGZvciBjb25maWcgcHJvcGVydHkgWycgKyBwcm9wICsgJ10nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAhZnVuY3MuaXNBcnJheSh2YWx1ZSkpIHRocm93IG5ldyBFcnJvcignT2JqZWN0cyBhcmUgbm90IHN1cHBvcnRlZCBhcyBjb25maWcgcHJvcGVydHkgdmFsdWUhJyk7XHJcbiAgICAgICAgaWYgKCFjaGVja1ZhbHVlKHZhbHVlKSkgdGhyb3cgbmV3IEVycm9yKCdJbml0aWFsIFsnICsgbmFtZSArICddXFwncyB2YWx1ZSBkb2VzIG5vdCBtZWV0IGNvbmZpZyByZXF1aXJlbWVudHMuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5kZWZpbmUgPSBmdW5jdGlvbiAocHJvcGVydHksIHZhbHVlLCBjZmcpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BlcnRpZXNbcHJvcGVydHldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllc1twcm9wZXJ0eV0gPSBuZXcgUHJvcGVydHkocHJvcGVydHksIHZhbHVlLCBjZmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmFibGUgdG8gY3JlYXRlIGNvbmZpZyBwcm9wZXJ0eSBbJyArIHByb3BlcnR5ICsgJ10nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignQ29uZmlnIHByb3BlcnR5IGR1cGxpY2F0aW9uIG9uIHByb3BlcnR5IG5hbWUgWycgKyBwcm9wZXJ0eSArICddJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ0NvbmZpZyBwcm9wZXJ0eSB2YWx1ZSBjYW4gbm90IGJlIHVuZGVmaW5lZC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBkZWZpbmUgY29uZmlnIHByb3BlcnR5LiBQcm9wZXJ0eSBuYW1lIGlzIG5vdCBhIHN0cmluZy4nKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXNbcHJvcGVydHldO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNldCA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBwcm9wZXJ0aWVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0aWVzW25hbWVdLnNldCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IHByb3BlcnR5IFsnICsgbmFtZSArICddLiBObyBzdWNoIHByb3BlcnR5LicpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0aWVzW25hbWVdLmdldCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGdldCBwcm9wZXJ0eSBbJyArIG5hbWUgKyAnXS4gTm8gc3VjaCBwcm9wZXJ0eS4nKVxyXG5cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy53YXRjaCA9IGZ1bmN0aW9uIChuYW1lLCBmKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0aWVzW25hbWVdLndhdGNoKGYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ05vIHN1Y2ggcHJvcGVydHkgYXMgWycgKyBuYW1lICsgJ10gdG8gd2F0Y2guJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1dhdGNoZXIgY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byB3YXRjaCBjb25maWcgcHJvcGVydHkuIFByb3BlcnR5IG5hbWUgaXMgaW52YWxpZCBvciB1bmRlZmluZWQnKVxyXG4gICAgfVxyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMTQvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gQ29udGFpbmVyKGxpYiwgZGlyZWN0KSB7XHJcbiAgICB2YXIgbGlicmFyeSA9IHt9LFxyXG4gICAgICAgIHNvdXJjZXMgPSB7fSxcclxuICAgICAgICBjYWNoZSA9IHt9O1xyXG5cclxuICAgIHRoaXMubGlzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbGlicmFyeTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5pbmplY3Rpb24gPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIGNvbnN0cnVjdG9yID0gbnVsbCxcclxuICAgICAgICAgICAgZGVwZW5kZW5jaWVzID0gW107XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgaWYgKGNvbmZpZy5uYW1lICYmIGNvbmZpZy5uYW1lLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3RydWN0b3IgPSBjb25maWc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fub255bW91cyBmdW5jdGlvbiBjYW4gbm90IGJlIGluamVjdGlvbiBjb25zdHJ1Y3Rvci4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29uZmlnID09PSBcIm9iamVjdFwiICYmIGNvbmZpZy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnW2ldID09PSBcInN0cmluZ1wiICYmIGNvbmZpZ1tpXS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXMucHVzaChjb25maWdbaV0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29uZmlnW2ldID09PSBcImZ1bmN0aW9uXCIgJiYgY29uZmlnW2ldLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvciA9IGNvbmZpZ1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biB0eXBlIG9mIGluamVjdGlvbiBuYW1lIG9yIGNvbnN0cnVjdG9yLicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdHlwZSBvZiBpbmplY3Rpb24gY29uZmlnLicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGVwZW5kZW5jaWVzLnB1c2goY29uc3RydWN0b3IpO1xyXG5cclxuICAgICAgICBpZiAobGlicmFyeVtjb25zdHJ1Y3Rvci5uYW1lXSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0luamVjdGlvbiBbJyArIGNvbnN0cnVjdG9yLm5hbWUgKyAnXSBkdXBsaWNhdGVkIGFuZCBoYXMgYmVlbiBvdmVyd3JpdHRlbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsaWJyYXJ5W2NvbnN0cnVjdG9yLm5hbWVdID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtkZXBlbmRlbmNpZXNdKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5tZXJnZSA9IGZ1bmN0aW9uIChjZmcsIGNsb25lKSB7XHJcbiAgICAgICAgaWYgKGNmZykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gY2ZnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNmZy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvcmUuaXMoY2ZnW3Byb3BlcnR5XSwgJ0luamVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlicmFyeVtjZmdbcHJvcGVydHldLm5hbWUoKV0pIGNvbnNvbGUud2FybignSW5qZWN0aW9uIFsnICsgcHJvcGVydHkgKyAnXSBoYXMgYmVlbiBtZXJnZWQucycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlicmFyeVtsaWJbcHJvcGVydHldLm5hbWUoKV0gPSBsaWJbcHJvcGVydHldLmNsb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWJyYXJ5W2xpYltwcm9wZXJ0eV0ubmFtZSgpXSA9IGxpYltwcm9wZXJ0eV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIG1lcmdlIGxpYnMuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc291cmNlID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgcHJlZml4a2V5KSB7XHJcbiAgICAgICAgaWYgKGNvbnRhaW5lciAmJiB0eXBlb2YgY29udGFpbmVyID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIGlmIChDb3JlLmlzKGNvbnRhaW5lciwgJ0NvbnRhaW5lcicpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByZWZpeGtleSkgcHJlZml4a2V5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHR5cGVvZiBwcmVmaXhrZXkgPT09IFwic3RyaW5nXCIgJiYgcHJlZml4a2V5Lmxlbmd0aCkgfHwgcHJlZml4a2V5ID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci4kJExPT1AgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsb29wID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuJExPT1ApIGxvb3AgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjb250YWluZXIuJCRMT09PUDtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VzW3ByZWZpeGtleSA/IHByZWZpeGtleSA6ICckJG5vcHJlZml4J10gPSBDb3JlLmluamVjdCgnU291cmNlJywgW3ByZWZpeGtleSwgY29udGFpbmVyLCBsb29wXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbnRhaW5lci5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWxpZCA9IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9vcCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250YWluZXJbaV0gPT09IFwib2JqZWN0XCIgJiYgQ29yZS5pcyhjb250YWluZXJbaV0sICdDb250YWluZXInKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJbaV0uJCRMT09PUCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiQkTE9PT1ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb3AucHVzaCh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb3AucHVzaChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlICBjb250YWluZXJbaV0uJCRMT09PUDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmVmaXhrZXkpIHByZWZpeGtleSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHR5cGVvZiBwcmVmaXhrZXkgPT09IFwic3RyaW5nXCIgJiYgcHJlZml4a2V5Lmxlbmd0aCkgfHwgcHJlZml4a2V5ID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzW3ByZWZpeGtleSA/IHByZWZpeGtleSA6ICckJG5vcHJlZml4J10gPSBDb3JlLmluamVjdCgnU291cmNlJywgW3ByZWZpeGtleSwgY29udGFpbmVyLCBsb29wXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb3VyY2UgY29udGFpbmVyIGNvbmZpZyBpcyBub3QgdmFsaWQuIE9uZSBvZiB0aGUgY29udGFpbmVycyBwcm92aWRlZCBpcyBub3QgYW4gSW5qZWN0aW9uQ29udGFpbmVyIGluc3RhbmNlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG5ld0xpYnJhcnkgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBpbmplY3Rpb24gaW4gbGlicmFyeSkge1xyXG4gICAgICAgICAgICBpZiAobGlicmFyeS5oYXNPd25Qcm9wZXJ0eShpbmplY3Rpb24pKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdMaWJyYXJ5W2luamVjdGlvbl0gPSBsaWJyYXJ5W2luamVjdGlvbl0uY2xvbmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbmV3Q29udGFpbmVyID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtuZXdMaWJyYXJ5XSk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIHNvdXJjZSBpbiBzb3VyY2VzKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250YWluZXJzID0gc291cmNlc1tzb3VyY2VdLmNvbnRhaW5lcnMoKSxcclxuICAgICAgICAgICAgICAgIHNvdXJjZWxvb3AgPSBzb3VyY2VzW3NvdXJjZV0ubG9vcCgpLFxyXG4gICAgICAgICAgICAgICAgc291cmNlcHJlZml4ID0gc291cmNlc1tzb3VyY2VdLnByZWZpeCgpLFxyXG4gICAgICAgICAgICAgICAgbmV3Y29udGFpbmVycyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250YWluZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlbG9vcFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld2NvbnRhaW5lcnMucHVzaChuZXdDb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Y29udGFpbmVycy5wdXNoKGNvbnRhaW5lcnNbaV0uY2xvbmUoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5ld0NvbnRhaW5lci5zb3VyY2UobmV3Y29udGFpbmVycywgc291cmNlcHJlZml4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ld0NvbnRhaW5lcjtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5maW5kU291cmNlQnlQcmVmaXggPSBmdW5jdGlvbiAocHJlZml4KSB7XHJcbiAgICAgICAgaWYgKHByZWZpeCA9PT0gZmFsc2UpIHJldHVybiBzb3VyY2VzLiQkbm9wcmVmaXg7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgcHJlZml4ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2VzW3ByZWZpeF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5maW5kU291cmNlQnlJbmplY3Rpb25OYW1lID0gZnVuY3Rpb24gKGluamVjdGlvbk5hbWUpIHtcclxuICAgICAgICB2YXIgc291cmNlID0gbnVsbDtcclxuICAgICAgICBpZihjYWNoZVtpbmplY3Rpb25OYW1lXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVbaW5qZWN0aW9uTmFtZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwcmVmaXggaW4gc291cmNlcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZXMuaGFzT3duUHJvcGVydHkocHJlZml4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VzW3ByZWZpeF0ucHJlZml4KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZXNbcHJlZml4XS5oYXMoaW5qZWN0aW9uTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IHNvdXJjZXNbcHJlZml4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlW2luamVjdGlvbk5hbWVdID0gc291cmNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFzb3VyY2UgJiYgc291cmNlcy4kJG5vcHJlZml4ICYmIHNvdXJjZXMuJCRub3ByZWZpeC5oYXMoaW5qZWN0aW9uTmFtZSkpIHtcclxuICAgICAgICAgICAgc291cmNlID0gc291cmNlcy4kJG5vcHJlZml4O1xyXG4gICAgICAgICAgICBjYWNoZVtpbmplY3Rpb25OYW1lXSA9IHNvdXJjZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoIXNvdXJjZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBmaW5kIHNvdXJjZSBjb250YWluaW5nIGluamVjdGlvbiBbJyArIGluamVjdGlvbk5hbWUrJ10uICcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucmVzb2x2ZSA9IGZ1bmN0aW9uIChuYW1lLCBkaXJlY3QpIHtcclxuICAgICAgICBpZiAoZGlyZWN0ID09PSAnZXh0ZW5kJykge1xyXG5cclxuICAgICAgICAgICAgaWYgKGxpYnJhcnlbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb25zdHJ1Y3RvcjogbGlicmFyeVtuYW1lXS4kY29uc3RydWN0b3IoKVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jaWVzID0gbGlicmFyeVtuYW1lXS5kZXBlbmRlbmNpZXMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGRlcGVuZGVuY2llcy5sZW5ndGg7IGQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXBlbmRlbmNpZXNbZF0gPT09ICdAZXh0ZW5kJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuZGVwZW5kZW5jaWVzLnB1c2gobGlicmFyeVtuYW1lXS5leHRlbmQodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkZXBlbmRlbmNpZXNbZF0gPT09ICdAaW5qZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuZGVwZW5kZW5jaWVzLnB1c2gobGlicmFyeVtuYW1lXS5pbmplY3QodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNyYyA9IHRoaXMuZmluZFNvdXJjZUJ5SW5qZWN0aW9uTmFtZShkZXBlbmRlbmNpZXNbZF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuZGVwZW5kZW5jaWVzLnB1c2goc3JjLnJlc29sdmUoZGVwZW5kZW5jaWVzW2RdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNvdXJjZSBmb3VuZCBjb250YWluaW5nIFsnICsgZGVwZW5kZW5jaWVzW2RdICsgJ10gZm9yIFsnK25hbWUrJ10uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGluamVjdCBbJyArIG5hbWUgKyAnXSBubyBzdWNoIGluamVjdGlvbiBmb3VuZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5oYXMobmFtZSkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZGVwZW5kZW5jaWVzID0gbGlicmFyeVtuYW1lXS5kZXBlbmRlbmNpZXMoKSxcclxuICAgICAgICAgICAgICAgICAgICBhcmdzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcGVuZGVuY2llc1tpXSA9PT0gJ0BleHRlbmQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChsaWJyYXJ5W25hbWVdLmV4dGVuZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRlcGVuZGVuY2llc1tpXSA9PT0gJ0BpbmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChsaWJyYXJ5W25hbWVdLmluamVjdCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gdGhpcy5maW5kU291cmNlQnlJbmplY3Rpb25OYW1lKGRlcGVuZGVuY2llc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChzb3VyY2UucmVzb2x2ZShkZXBlbmRlbmNpZXNbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5qZWN0aW9uIFsnICsgZGVwZW5kZW5jaWVzW2ldICsgJ10gZm9yIFsnICsgbmFtZSArICddIHNvdXJjZSB3YXMgbm90IGZvdW5kLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBsaWJyYXJ5W25hbWVdLmNyZWF0ZShhcmdzLCBkaXJlY3QpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5qZWN0aW9uIFsnICsgbmFtZSArICddIHdhcyBub3QgZm91bmQgaW4gbGlicmFyeSEnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZXNvbHZlRGlyZWN0SW5qZWN0aW9uID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5maW5kU291cmNlQnlJbmplY3Rpb25OYW1lKG5hbWUpO1xyXG4gICAgICAgIGlmIChzb3VyY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5yZXNvbHZlKG5hbWUsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaGFzID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gISFsaWJyYXJ5W25hbWVdO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgaWYgKGxpYnJhcnlbbmFtZV0pIHJldHVybiBsaWJyYXJ5W25hbWVdO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgaWYgKENvcmUuaXMobGliLCAnSW5qZWN0aW9uJykpIHtcclxuICAgICAgICBsaWJyYXJ5W2xpYi5uYW1lKCldID0gbGliLmNsb25lKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2YgbGliID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gbGliKSB7XHJcbiAgICAgICAgICAgIGlmIChsaWIuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQ29yZS5pcyhsaWJbcHJvcGVydHldLCAnSW5qZWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlyZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpYnJhcnlbbGliW3Byb3BlcnR5XS5uYW1lKCldID0gbGliW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpYnJhcnlbbGliW3Byb3BlcnR5XS5uYW1lKCldID0gbGliW3Byb3BlcnR5XS5jbG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChsaWIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBjb250YWluZXIuIFdyb25nIGFyZ3VtZW50cy4gTGliIGlzIEluamVjdGlvbiBvciBvYmplY3QnKVxyXG4gICAgfVxyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMTQvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gRm9udHMoQ29uZmlnLCBhcHApIHtcclxuXHJcbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XHJcblxyXG4gICAgdmFyIGZhbWlsaWVzID0ge30sXHJcbiAgICAgICAgZm9udHNEZWZpbmVkID0gZmFsc2UsXHJcbiAgICAgICAgZm9ybWF0ID0gQ29uZmlnLmRlZmluZSgnZm9udEZvcm1hdHMnLCBbJ2VvdCcsICdzdmcnLCAndHRmJywgJ3dvZmYnXSwge1xyXG4gICAgICAgICAgICBpc0FycmF5OiB0cnVlLCBjdXN0b206IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdi5sZW5ndGgoKTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZbaV0gIT09ICdlb3QnIHx8IHZbaV0gIT09ICdzdmcnIHx8IHZbaV0gIT09ICd0dGYnIHx8IHZbaV0gIT09ICd3b2ZmJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLndhdGNoKGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgIGZvbnRzRGVmaW5lZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvcm1hdCA9IHY7XHJcbiAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIGZvcm1hdFN0ciA9IHtcclxuICAgICAgICAgICAgZW90OiBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3VybChcIicgKyB1cmwgKyAnLmVvdD8jaWVmaXhcIikgZm9ybWF0KFwiZW1iZWRkZWQtb3BlbnR5cGVcIiknO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB3b2ZmOiBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3VybChcIicgKyB1cmwgKyAnLndvZmZcIikgZm9ybWF0KFwid29mZlwiKSc7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHR0ZjogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd1cmwoXCInICsgdXJsICsgJy50dGZcIikgZm9ybWF0KFwidHJ1ZXR5cGVcIiknO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdmc6IGZ1bmN0aW9uICh1cmwsIGZvbnQsIHN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3VybChcIicgKyB1cmwgKyAnLnN2ZyMnICsgZm9udCArICctJyArIChzdHlsZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0eWxlLnNsaWNlKDEpKSArICdcIikgZm9ybWF0KFwic3ZnXCIpJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgQ29uZmlnLmRlZmluZSgnZm9udERpcicsICcuL2ZvbnRzJywge2lzU3RyaW5nOiB0cnVlfSk7XHJcblxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuXHJcbiAgICBmdW5jdGlvbiBmb250U3RyaW5nKGZvbnQpIHtcclxuXHJcbiAgICAgICAgaWYoIWZvbnRzRGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcclxuXHJcbiAgICAgICAgZm9yICh2YXIgdyA9IDA7IHcgPCBmb250LndlaWdodC5sZW5ndGg7IHcrKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IGZvbnQuc3R5bGUubGVuZ3RoOyBzKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlc3RyaW5nID0gQ29uZmlnLmdldCgnZm9udERpcicpICsgJy8nICsgZm9udC5uYW1lICsgJy0nICsgZm9udC53ZWlnaHRbd10gKyAnLScgKyBmb250LnN0eWxlW3NdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0cmluZyA9ICdAZm9udC1mYWNlIHsnICtcclxuICAgICAgICAgICAgICAgICAgICAnZm9udC1mYW1pbHk6IFwiJyArIHNlbGYuZm9ybWF0KGZvbnQubmFtZSkgKyAnLScgKyBmb250LndlaWdodFt3XSArICdcIjsnICtcclxuICAgICAgICAgICAgICAgICAgICAnc3JjOic7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZiA9IDA7IGYgPCBmb3JtYXQubGVuZ3RoOyBmKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZm9ybWF0U3RyW2Zvcm1hdFtmXV0oZmlsZXN0cmluZywgZm9udC5uYW1lLCBmb250LnN0eWxlW3NdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZiA8IGZvcm1hdC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSAnLCdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSAnOydcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gJ2ZvbnQtd2VpZ2h0OiAnICsgZm9udC53ZWlnaHRbd10gKyAnOyc7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gJ2ZvbnQtc3R5bGU6JyArIGZvbnQuc3R5bGVbc10gKyAnO30nO1xyXG4gICAgICAgICAgICAgICAgZm9udFtmb250LndlaWdodFt3XSArICctJyArIGZvbnQuc3R5bGVbc11dID0gc3RyaW5nO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBmb250W2ZvbnQud2VpZ2h0W3ddICsgJy0nICsgZm9udC5zdHlsZVtzXV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlKHBhdGgpIHtcclxuICAgICAgICB2YXIgc3RyaW5nID0gJyc7XHJcbiAgICAgICAgZm9yICh2YXIgZmFtaWx5IGluIGZhbWlsaWVzKSB7XHJcbiAgICAgICAgICAgIGlmIChmYW1pbGllcy5oYXNPd25Qcm9wZXJ0eShmYW1pbHkpKSB7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZm9udFN0cmluZyhmYW1pbGllc1tmYW1pbHldLCBwYXRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbkFycmF5KGFycmF5LCB2YWx1ZSkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChhcnJheVtpXSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZm9udCA9IGZ1bmN0aW9uIChwYXRoLCBmb250LCB3ZWlnaHQsIHN0eWxlKSB7XHJcbiAgICAgICAgaWYgKCFmYW1pbGllc1tmb250XSkge1xyXG4gICAgICAgICAgICBmYW1pbGllc1tmb250XSA9IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGZvbnRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFmYW1pbGllc1tmb250XS53ZWlnaHQpIGZhbWlsaWVzW2ZvbnRdLndlaWdodCA9IFtdO1xyXG4gICAgICAgIGlmICghZmFtaWxpZXNbZm9udF0uc3R5bGUpIGZhbWlsaWVzW2ZvbnRdLnN0eWxlID0gW107XHJcbiAgICAgICAgaWYgKCFpbkFycmF5KGZhbWlsaWVzW2ZvbnRdLndlaWdodCwgd2VpZ2h0KSkgZmFtaWxpZXNbZm9udF0ud2VpZ2h0LnB1c2god2VpZ2h0KTtcclxuICAgICAgICBpZiAoIWluQXJyYXkoZmFtaWxpZXNbZm9udF0uc3R5bGUsIHN0eWxlKSkgZmFtaWxpZXNbZm9udF0uc3R5bGUucHVzaChzdHlsZSk7XHJcbiAgICAgICAgdXBkYXRlKHBhdGgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmZvcm1hdCA9IGZ1bmN0aW9uIChmb250KSB7XHJcbiAgICAgICAgcmV0dXJuIGFwcCArICctJyArIGZvbnQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZm9ybWF0cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb3JtYXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goZm9ybWF0W2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyNS8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBIZWxwZXJzKCkge1xyXG5cclxuICAgIHZhciBoZWxwZXJzID0ge30sXHJcbiAgICAgICAgc3lzSGVscGVycyA9IHt9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGhlbHBlcihjZmcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaGVscGVyID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtjZmddKTtcclxuICAgICAgICAgICAgaWYgKGhlbHBlcnNbaGVscGVyLm5hbWUoKV0pIGNvbnNvbGUud2FybignaGVscGVyIFsnICsgaGVscGVyLm5hbWUoKSArICddIG92ZXJyaWRlLicpO1xyXG4gICAgICAgICAgICBoZWxwZXJzW2hlbHBlci5uYW1lKCldID0gaGVscGVyO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIEhlbHBlci4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQ29yZS5kZWZpbmUoJ2hlbHBlcicsIGhlbHBlcik7XHJcblxyXG4gICAgaGVscGVyLnN5c3RlbSA9IGZ1bmN0aW9uIChjZmcsIGlzX3B1YmxpYykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBoZWxwZXIgPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2NmZ10pO1xyXG4gICAgICAgICAgICBpZiAoc3lzSGVscGVyc1toZWxwZXIubmFtZSgpXSkgY29uc29sZS53YXJuKCdTeXN0ZW0gSGVscGVyIFsnICsgaGVscGVyLm5hbWUoKSArICddIER1cGxpY2F0ZSBkZWNsYXJhdGlvbiBvdmVycmlkZS4nKTtcclxuICAgICAgICAgICAgc3lzSGVscGVyc1toZWxwZXIubmFtZSgpXSA9IGhlbHBlcjtcclxuICAgICAgICAgICAgaWYgKGlzX3B1YmxpYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGhlbHBlcnNbaGVscGVyLm5hbWUoKV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1N5c3RlbSBIZWxwZXIgWycgKyBoZWxwZXIubmFtZSgpICsgJ10gb3ZlcnJpZGVzIHVzZXIgaGVscGVyLiBTa2lwcGVkIHN5c3RlbSBoZWxwZXIuJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGhlbHBlcnNbaGVscGVyLm5hbWUoKV0gPSBoZWxwZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmdldFN5c3RlbUhlbHBlcnMgPSBmdW5jdGlvbiAoZGVmYXVsdHMpIHtcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtzeXNIZWxwZXJzXSk7XHJcbiAgICAgICAgY29udGFpbmVyLnNvdXJjZShjb250YWluZXIsICcrJyk7XHJcbiAgICAgICAgY29udGFpbmVyLnNvdXJjZShkZWZhdWx0cywgJ0AnKTtcclxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldFB1YmxpY0hlbHBlcnMgPSBmdW5jdGlvbiAoZGVmYXVsdHMpIHtcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtoZWxwZXJzXSk7XHJcbiAgICAgICAgY29udGFpbmVyLnNvdXJjZShjb250YWluZXIsICcrJyk7XHJcbiAgICAgICAgY29udGFpbmVyLnNvdXJjZShkZWZhdWx0cywgJ0AnKTtcclxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgfTtcclxuXHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNC8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBJbmplY3Rpb24oY29uLCByZXNvbHZlZCkge1xyXG4gICAgdmFyIGNvbnN0cnVjdG9yID0gY29uLCBpbnN0YW5jZSA9IG51bGwsXHJcbiAgICAgICAgZGVwZW5kZW5jaWVzID0gW10sXHJcbiAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG5cclxuICAgIGlmIChyZXNvbHZlZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgY29uID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gY29uLmNvbnN0cnVjdG9yO1xyXG4gICAgICAgICAgICBpbnN0YW5jZSA9IGNvbjtcclxuICAgICAgICAgICAgZGVwZW5kZW5jaWVzID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIFByZVJlc29sdmVkSW5qZWN0aW9uISBjb24gYXJndW1lbnQgaXMgbm90IGFuIG9iamVjdCEnKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmICh0eXBlb2YgY29uID09PSBcImZ1bmN0aW9uXCIgJiYgY29uLm5hbWUpIHtcclxuICAgICAgICAgICAgY29uc3RydWN0b3IgPSBjb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjb24gPT09IFwib2JqZWN0XCIgJiYgY29uLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25baV0gPT09IFwic3RyaW5nXCIgJiYgY29uW2ldLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llcy5wdXNoKGNvbltpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29uW2ldID09PSBcImZ1bmN0aW9uXCIgJiYgY29uW2ldLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvciA9IGNvbltpXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFjb25zdHJ1Y3RvcikgdGhyb3cgbmV3IEVycm9yKCdJbmplY3Rpb24gY29uc3RydWN0b3IgdW5kZWZpbmVkIScpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB0aGlzLm5hbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLm5hbWU7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChkZXBlbmRlbmNpZXNbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmV4dGVuZCA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuICAgICAgICBpZihyZXNvbHZlZCkgdGhyb3cgbmV3IEVycm9yKCdZb3UgY2FuIG5vdCBleHRlbmQgd2l0aCBbJyArIGNvbnN0cnVjdG9yLm5hbWUgKyAnXSEnKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgaW5qZWN0aW9uTmFtZSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpbmplY3Rpb25OYW1lID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGNvbnRhaW5lci5maW5kU291cmNlQnlJbmplY3Rpb25OYW1lKGluamVjdGlvbk5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHNvdXJjZS5yZXNvbHZlSW5qZWN0aW9uRGVwZW5kYW5jaWVzKGluamVjdGlvbk5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuJGNvbnN0cnVjdG9yLmFwcGx5KHRhcmdldCwgY29uZmlnLmRlcGVuZGVuY2llcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBmaW5kIGluamVjdGlvbiBbJyArIGluamVjdGlvbk5hbWUgKyAnXSBmb3IgWycgKyBzZWxmLm5hbWUoKSArJ10nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4dGVuZCBjbGFzcyBuYW1lIHNob3VsZCBiZSBhIHN0cmluZyEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXh0ZW5kIHRhcmdldCBzaG91bGQgYmUgYW4gb2JqZWN0IScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmluamVjdCA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuICAgICAgICBpZihyZXNvbHZlZCkgdGhyb3cgbmV3IEVycm9yKCdZb3UgY2FuIG5vdCBpbmplY3QgWycgKyBjb25zdHJ1Y3Rvci5uYW1lICsnXSBkaXJlY3RseScpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoaW5qZWN0aW9uTmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLnJlc29sdmVEaXJlY3RJbmplY3Rpb24oaW5qZWN0aW9uTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uIChhcmdzLCBkaXJlY3QpIHtcclxuICAgICAgICBpZiAocmVzb2x2ZWQpIHJldHVybiBpbnN0YW5jZTtcclxuICAgICAgICBpZiAoZGlyZWN0KSB7XHJcbiAgICAgICAgICAgIGFyZ3MudW5zaGlmdChudWxsKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoY29uc3RydWN0b3IsIGFyZ3MpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIGFyZ3MudW5zaGlmdChudWxsKTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShjb25zdHJ1Y3RvciwgYXJncykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuJGNvbnN0cnVjdG9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEluamVjdGlvbihjb24sIHJlc29sdmVkKTtcclxuICAgIH07XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNC8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBSb290KCkge1xyXG4gICAgdmFyIGFwcHMgPSB7fSxcclxuICAgICAgICBzZXJ2aWNlcyA9IENvcmUuZ2V0KCdTZXJ2aWNlcycpLFxyXG4gICAgICAgIGNsYXNzZXMgPSBDb3JlLmdldCgnQ2xhc3NlcycpLFxyXG4gICAgICAgIGhlbHBlcnMgPSBDb3JlLmdldCgnSGVscGVycycpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUFwcGxpY2F0aW9uKGFwcCkge1xyXG4gICAgICAgIHZhciBhcHBDb250YWluZXIgPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW2FwcHNbYXBwXV0pLFxyXG4gICAgICAgICAgICBhcHBUaWNrZXIgPSBDb3JlLmluamVjdCgnVGlja2VyJyksXHJcbiAgICAgICAgICAgIGFwcENhbnZhcyA9IENvcmUuaW5qZWN0KCdDYW52YXMnLCBbYXBwVGlja2VyXSksXHJcbiAgICAgICAgICAgIGFwcEF1ZGlvID0gQ29yZS5pbmplY3QoJ0F1ZGlvJywgW10pLFxyXG4gICAgICAgICAgICBhcHBDb25maWcgPSBDb3JlLmluamVjdCgnQ29uZmlnJywgW2FwcF0pLFxyXG4gICAgICAgICAgICBhcHBGb250cyA9IENvcmUuaW5qZWN0KCdGb250cycsIFthcHBDb25maWcsIGFwcF0pLFxyXG4gICAgICAgICAgICBhcHBBcGkgPSBDb3JlLmluamVjdCgnQXBwbGljYXRpb24nLCBbYXBwQ2FudmFzLCBhcHBUaWNrZXIsIGFwcENvbmZpZ10pO1xyXG5cclxuICAgICAgICB2YXIgZGVmYXVsdHNMaWJyYXJ5ID0ge307XHJcblxyXG4gICAgICAgIGRlZmF1bHRzTGlicmFyeS5UaWNrZXIgPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2FwcFRpY2tlciwgdHJ1ZV0pO1xyXG4gICAgICAgIGRlZmF1bHRzTGlicmFyeS5DYW52YXMgPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2FwcENhbnZhcywgdHJ1ZV0pO1xyXG4gICAgICAgIGRlZmF1bHRzTGlicmFyeS5BUEkgPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2FwcEFwaSwgdHJ1ZV0pO1xyXG4gICAgICAgIGRlZmF1bHRzTGlicmFyeS5Gb250cyA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbYXBwRm9udHMsIHRydWVdKTtcclxuICAgICAgICBkZWZhdWx0c0xpYnJhcnkuQ29uZmlnID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFthcHBDb25maWcsIHRydWVdKTtcclxuICAgICAgICBkZWZhdWx0c0xpYnJhcnkuQXVkaW8gPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2FwcEF1ZGlvLCB0cnVlXSk7XHJcblxyXG4gICAgICAgIHZhciBhcHBEZWZhdWx0cyA9IENvcmUuaW5qZWN0KCdDb250YWluZXInLCBbZGVmYXVsdHNMaWJyYXJ5XSksXHJcbiAgICAgICAgICAgIGFwcFN5c0hlbHBlcnMgPSBoZWxwZXJzLmdldFN5c3RlbUhlbHBlcnMoYXBwRGVmYXVsdHMpLFxyXG4gICAgICAgICAgICBhcHBQdWJIZWxwZXJzID0gaGVscGVycy5nZXRQdWJsaWNIZWxwZXJzKGFwcERlZmF1bHRzKSxcclxuICAgICAgICAgICAgYXBwQ2xhc3NlcyA9IGNsYXNzZXMuZ2V0QXBwbGljYXRpb25DbGFzc2VzKGFwcCksXHJcbiAgICAgICAgICAgIGFwcFN5c0NsYXNzZXMgPSBjbGFzc2VzLmdldFN5c3RlbUNsYXNzZXMoYXBwKSxcclxuICAgICAgICAgICAgYXBwU2VydmljZXMgPSBzZXJ2aWNlcy5nZXRBcHBsaWNhdGlvblNlcnZpY2VzKGFwcFN5c0hlbHBlcnMsIGFwcFN5c0NsYXNzZXMsIGFwcERlZmF1bHRzKTtcclxuXHJcbiAgICAgICAgLy9BbGxvd3MgYXBwbGljYXRpb24gY29uc3RydWN0b3IgdG8gaW5qZWN0IFNlcnZpY2VzXHJcbiAgICAgICAgYXBwQ29udGFpbmVyLnNvdXJjZShhcHBTZXJ2aWNlcywgZmFsc2UpO1xyXG4gICAgICAgIC8vQWxsb3dzIGFwcGxpY2F0aW9uIGNvbnN0cnVjdG9yIHRvIGluamVjdCBDbGFzc2VzXHJcbiAgICAgICAgYXBwQ29udGFpbmVyLnNvdXJjZShhcHBDbGFzc2VzLCAnLicpO1xyXG4gICAgICAgIC8vQWxsb3dzIGFwcGxpY2F0aW9uIGNvbnN0cnVjdG9yIHRvIGluamVjdCBwdWJsaWMgaGVscGVyc1xyXG4gICAgICAgIGFwcENvbnRhaW5lci5zb3VyY2UoYXBwUHViSGVscGVycywgJysnKTtcclxuICAgICAgICAvL0FsbG93cyBhcHBsaWNhdGlvbiBjb25zdHJ1Y3RvciB0byBpbmplY3Qgc3lzdGVtIGluamVjdGlvbiBmdW5jdGlvbiBhbmQgcm9vdCBlbGVtZW50cyBjb250YWluZXJzXHJcbiAgICAgICAgYXBwQ29udGFpbmVyLnNvdXJjZShhcHBEZWZhdWx0cywgJ0AnKTtcclxuICAgICAgICAvL0FsbG93cyBBcHAgY2xhc3NlcyB0byBpbmplY3QgYXBwIHNlcnZpY2VzXHJcbiAgICAgICAgYXBwQ2xhc3Nlcy5zb3VyY2UoYXBwU2VydmljZXMsIGZhbHNlKTtcclxuICAgICAgICAvL0FsbG93cyBBcHAgY2xhc3NlcyB0byBpbmplY3QgYXBwIGRlZmF1bHRzXHJcbiAgICAgICAgYXBwQ2xhc3Nlcy5zb3VyY2UoYXBwRGVmYXVsdHMsICdAJyk7XHJcbiAgICAgICAgLy9BbGxvd3MgQXBwIGNsYXNzZXMgdG8gaW5qZWN0IGFwcCBoZWxwZXJzXHJcbiAgICAgICAgYXBwQ2xhc3Nlcy5zb3VyY2UoYXBwU3lzSGVscGVycywgJysnKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcHBTZXJ2aWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbGlzdCA9IGFwcFNlcnZpY2VzW2ldLmxpc3QoKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBsaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGlzdC5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcFNlcnZpY2VzW2ldLnJlc29sdmUocHJvcCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYXBwQ29udGFpbmVyLnJlc29sdmUoYXBwKTtcclxuICAgICAgICByZXR1cm4gYXBwQXBpO1xyXG4gICAgfVxyXG5cclxuICAgIENvcmUuZGVmaW5lKCdhcHAnLCBmdW5jdGlvbiAoY2ZnKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGFwcGxpY2F0aW9uID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtjZmddKTtcclxuICAgICAgICAgICAgaWYgKGFwcHNbYXBwbGljYXRpb24ubmFtZSgpXSkgY29uc29sZS53YXJuKCdBcHBsaWNhdGlvbiBbJyArIGFwcGxpY2F0aW9uLm5hbWUoKSArICddIG92ZXJyaWRlLiBSZW1vdmUgZHVwbGljYXRlcycpO1xyXG4gICAgICAgICAgICBhcHBzW2FwcGxpY2F0aW9uLm5hbWUoKV0gPSBhcHBsaWNhdGlvbjtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuYWJsZSB0byByZWdpc3RlciBBcHBsaWNhdGlvbiBjb25zdHJ1Y3Rvci4nKTtcclxuICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBDb3JlLmRlZmluZSgncnVuJywgZnVuY3Rpb24gKGFwcCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXBwID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmIChhcHBzW2FwcF0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBcHBsaWNhdGlvbihhcHApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcHBsaWNhdGlvbiBbJyArIGFwcCArICddIG5vdCBmb3VuZC4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGdldCBzb3VyY2VzLiBBcHAgSWQgaXMgbm90IGEgc3RyaW5nJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNC8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBTZXJ2aWNlcygpIHtcclxuXHJcbiAgICB2YXIgc2VydmljZXMgPSB7fSxcclxuICAgICAgICBzZXJ2aWNlQ2xhc3NlcyA9IHt9LFxyXG4gICAgICAgIHBsdWdpbnMgPSB7fSxcclxuICAgICAgICBwbHVnaW5zQ2xhc3NlcyA9IHt9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHNlcnZpY2UoY2ZnKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjZmcgPT09IFwib2JqZWN0XCIgJiYgY2ZnLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICB2YXIgc2VydmljZU5hbWUgPSBudWxsO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNmZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjZmdbaV0gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lID0gY2ZnW2ldLm5hbWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgY2ZnW2ldICE9PSBcInN0cmluZ1wiKSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgc2VydmljZS4gSW52YWxpZCBjb25maWcnKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNlcnZpY2VOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VydmljZXNbc2VydmljZU5hbWVdKSBjb25zb2xlLndhcm4oJ0R1cGxpY2F0ZSBkZWNsYXJhdGlvbi4gU2VydmljZSBbJyArIHNlcnZpY2VOYW1lICsgJ10gaGFzIGJlZW4gb3ZlcndyaXR0ZW4nKTtcclxuICAgICAgICAgICAgICAgIHNlcnZpY2VzW3NlcnZpY2VOYW1lXSA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbY2ZnXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNmZyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIGlmIChjZmcubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VzW2NmZy5uYW1lXSkgY29uc29sZS53YXJuKCdEdXBsaWNhdGUgZGVjbGFyYXRpb24uIFNlcnZpY2UgWycgKyBzZXJ2aWNlTmFtZSArICddIGhhcyBiZWVuIG92ZXJ3cml0dGVuJyk7XHJcbiAgICAgICAgICAgICAgICBzZXJ2aWNlc1tjZmcubmFtZV0gPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2NmZ10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIHNlcnZpY2UuIENvbnN0cnVjdG9yIGlzIG5vdCBhIG5hbWVkIGZ1bmN0aW9uLicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwbHVnaW4oYSwgYikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGIgPT09IFwib2JqZWN0XCIgJiYgYi5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwbHVnaW5OYW1lID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYltpXSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbk5hbWUgPSBiW2ldLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBiW2ldICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBwbHVnaW4uIEludmFsaWQgY29uc3RydWN0b3IgYXJndW1lbnRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbk5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBsdWdpbnNbYV0pIHBsdWdpbnNbYV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGx1Z2luc1thXVtwbHVnaW5OYW1lXSkgY29uc29sZS53YXJuKCdQbHVnaW4gZHVwbGljYXRlZC4gWycgKyBwbHVnaW5OYW1lICsgJ10gaGFzIGJlZW4gb3ZlcndyaXR0ZW4nKTtcclxuICAgICAgICAgICAgICAgICAgICBwbHVnaW5zW2FdW3BsdWdpbk5hbWVdID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtiXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgcGx1Z2luLiBDb25zdHJ1Y3RvciBpcyBub3QgYSBuYW1lZCBmdW5jdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgcGx1Z2luLiBJbnZhbGlkIGFyZ3VtZW50cy4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcGx1Z2luLmNsYXNzID0gZnVuY3Rpb24gKHN2YywgYSwgYikge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygc3ZjID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiID09PSBcIm9iamVjdFwiICYmIGIuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsdWdpbkNsYXNzTmFtZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYltpXSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW5DbGFzc05hbWUgPSBiW2ldLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGJbaV0gIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBwbHVnaW4gY2xhc3MuIEludmFsaWQgY29uc3RydWN0b3IgYXJndW1lbnRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsdWdpbkNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBsdWdpbnNDbGFzc2VzW3N2Y10pIHBsdWdpbnNDbGFzc2VzW3N2Y10gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwbHVnaW5zQ2xhc3Nlc1tzdmNdW2FdKSBwbHVnaW5zQ2xhc3Nlc1tzdmNdW2FdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW5zQ2xhc3Nlc1tzdmNdW2FdW3BsdWdpbkNsYXNzTmFtZV0pIGNvbnNvbGUud2FybignUGx1Z2luIGNsYXNzIGR1cGxpY2F0ZWQuIFsnICsgcGx1Z2luQ2xhc3NOYW1lICsgJ10gaGFzIGJlZW4gb3ZlcndyaXR0ZW4nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbnNDbGFzc2VzW3N2Y11bYV1bcGx1Z2luQ2xhc3NOYW1lXSA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbYl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIHBsdWdpbi4gQ29uc3RydWN0b3IgaXMgbm90IGEgbmFtZWQgZnVuY3Rpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGIubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBsdWdpbnNDbGFzc2VzW3N2Y10pIHBsdWdpbnNDbGFzc2VzW3N2Y10gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwbHVnaW5zQ2xhc3Nlc1tzdmNdW2FdKSBwbHVnaW5zQ2xhc3Nlc1tzdmNdW2FdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW5zQ2xhc3Nlc1tzdmNdW2FdW2IubmFtZV0pIGNvbnNvbGUud2FybignUGx1Z2luIGNsYXNzIGR1cGxpY2F0ZWQuIFsnICsgYi5uYW1lICsgJ10gaGFzIGJlZW4gb3ZlcndyaXR0ZW4nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbnNDbGFzc2VzW3N2Y11bYV1bYi5uYW1lXSA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbYl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcmVnaXN0ZXIgcGx1Z2luIGNsYXNzLiBJbnZhbGlkIGFyZ3VtZW50cycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIHBsdWdpbi4gSW52YWxpZCBhcmd1bWVudHMuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxuICAgIHNlcnZpY2UuY2xhc3MgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgIHZhciBjbGFzc05hbWUgPSBudWxsO1xyXG4gICAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGIubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VydmljZUNsYXNzZXNbYV0pIHNlcnZpY2VDbGFzc2VzW2FdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZUNsYXNzZXNbYV1bYi5uYW1lXSA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbYl0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgY2xhc3MgZm9yIGV4dGVuc2lvbiBbJyArIGEgKyAnXS4gQ29uc3RydWN0b3IgaXMgbm90IGEgbmFtZWQgZnVuY3Rpb24nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYiA9PT0gXCJvYmplY3RcIiAmJiBiLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiW2ldID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gYltpXS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYltpXSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgY2xhc3MgZm9yIHNlcnZpY2VbJyArIGEgKyAnXS4gSW52YWxpZCBjb25maWcuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VydmljZUNsYXNzZXNbYV0pIHNlcnZpY2VDbGFzc2VzW2FdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VDbGFzc2VzW2FdW2NsYXNzTmFtZV0pIGNvbnNvbGUud2FybignRHVwbGljYXRlIGRlY2xhcmF0aW9uLiBDbGFzcyBbJyArIGNsYXNzTmFtZSArICddIGZvciBleHRlbnNpb24gWycgKyBhICsgJ10gaGFzIGJlZW4gb3ZlcndyaXR0ZW4nKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlQ2xhc3Nlc1thXVtjbGFzc05hbWVdID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtiXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBjbGFzcy4gSW52YWxpZCBhcmd1bWVudHMnKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIENvcmUuZGVmaW5lKCdzZXJ2aWNlJywgc2VydmljZSk7XHJcbiAgICBDb3JlLmRlZmluZSgncGx1Z2luJywgcGx1Z2luKTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRQbHVnaW5NYW5hZ2VyKGxpYikge1xyXG4gICAgICAgIGZ1bmN0aW9uIFBsdWdpbnMoKSB7XHJcbiAgICAgICAgICAgIHZhciBsaWJyYXJ5ID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGliLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IGxpYltpXS5saXN0KCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGxpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdFtwcm9wXS4kY29uc3RydWN0b3IoKSAhPT0gUGx1Z2lucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaWJyYXJ5LnB1c2gocHJvcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZWFjaCA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpYnJhcnkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBmKGxpYnJhcnlbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxpc3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaWJyYXJ5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKGxpYnJhcnlbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW1BsdWdpbnNdKV0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZ2V0QXBwbGljYXRpb25TZXJ2aWNlcyA9IGZ1bmN0aW9uIChfaGVscGVycywgX3N5c0NsYXNzZXMsIF9lbmdpbmVEZWZhdWx0cykge1xyXG5cclxuICAgICAgICB2YXIgX3NlcnZpY2VzID0ge30sXHJcbiAgICAgICAgICAgIF9zZXJ2aWNlc0NsYXNzZXMgPSB7fSxcclxuICAgICAgICAgICAgX3NlcnZpY2VzUGx1Z2lucyA9IHt9LFxyXG4gICAgICAgICAgICBfc2VydmljZXNQbHVnaW5zQ2xhc3NlcyA9IHt9LFxyXG4gICAgICAgICAgICBfc2VydmljZSwgX3BsdWdpbjtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgc2VydmljZSBpbiBzZXJ2aWNlcykge1xyXG4gICAgICAgICAgICBpZiAoc2VydmljZXMuaGFzT3duUHJvcGVydHkoc2VydmljZSkpIHtcclxuICAgICAgICAgICAgICAgIF9zZXJ2aWNlID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtzZXJ2aWNlc1tzZXJ2aWNlXV0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIF9wbHVnaW5zID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbnNbc2VydmljZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwbHVnaW4gaW4gcGx1Z2luc1tzZXJ2aWNlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGx1Z2luc1tzZXJ2aWNlXS5oYXNPd25Qcm9wZXJ0eShwbHVnaW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGx1Z2luID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtwbHVnaW5zW3NlcnZpY2VdW3BsdWdpbl1dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX3NlcnZpY2VzUGx1Z2luc1tzZXJ2aWNlXSkgX3NlcnZpY2VzUGx1Z2luc1tzZXJ2aWNlXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzUGx1Z2luc1tzZXJ2aWNlXVtwbHVnaW5dID0gX3BsdWdpbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW5zQ2xhc3Nlc1tzZXJ2aWNlXVtwbHVnaW5dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9wbHVnaW5DbGFzc2VzQ29udGFpbmVyID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtwbHVnaW5zQ2xhc3Nlc1tzZXJ2aWNlXVtwbHVnaW5dXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX3NlcnZpY2VzUGx1Z2luc0NsYXNzZXNbc2VydmljZV0pIF9zZXJ2aWNlc1BsdWdpbnNDbGFzc2VzW3NlcnZpY2VdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzUGx1Z2luc0NsYXNzZXNbc2VydmljZV1bcGx1Z2luXSA9IF9wbHVnaW5DbGFzc2VzQ29udGFpbmVyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGx1Z2luLnNvdXJjZShfcGx1Z2luQ2xhc3Nlc0NvbnRhaW5lciwgJyQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGx1Z2luQ2xhc3Nlc0NvbnRhaW5lci5zb3VyY2UoX3BsdWdpbkNsYXNzZXNDb250YWluZXIsICckJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BsdWdpbkNsYXNzZXNDb250YWluZXIuc291cmNlKF9zeXNDbGFzc2VzLCAnLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wbHVnaW5DbGFzc2VzQ29udGFpbmVyLnNvdXJjZShfaGVscGVycywgJysnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wbHVnaW4uc291cmNlKF9lbmdpbmVEZWZhdWx0cywgJ0AnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wbHVnaW4uc291cmNlKF9zeXNDbGFzc2VzLCAnLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BsdWdpbi5zb3VyY2UoX2hlbHBlcnMsICcrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGx1Z2lucy5wdXNoKF9wbHVnaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIF9wbHVnaW5zLnB1c2goZ2V0UGx1Z2luTWFuYWdlcihfcGx1Z2lucykpO1xyXG4gICAgICAgICAgICAgICAgX3NlcnZpY2Uuc291cmNlKF9wbHVnaW5zLCAnPCcpO1xyXG4gICAgICAgICAgICAgICAgX3NlcnZpY2Uuc291cmNlKF9zeXNDbGFzc2VzLCAnLicpO1xyXG4gICAgICAgICAgICAgICAgX3NlcnZpY2Uuc291cmNlKF9oZWxwZXJzLCAnKycpO1xyXG4gICAgICAgICAgICAgICAgX3NlcnZpY2Uuc291cmNlKF9lbmdpbmVEZWZhdWx0cywgJ0AnKTtcclxuICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNlQ2xhc3Nlc1tzZXJ2aWNlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXJ2aWNlQ2xhc3Nlc0NvbnRhaW5lciA9IENvcmUuaW5qZWN0KCdDb250YWluZXInLCBbc2VydmljZUNsYXNzZXNbc2VydmljZV1dKTtcclxuICAgICAgICAgICAgICAgICAgICBfc2VydmljZS5zb3VyY2Uoc2VydmljZUNsYXNzZXNDb250YWluZXIsICckJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZUNsYXNzZXNDb250YWluZXIuc291cmNlKHNlcnZpY2VDbGFzc2VzQ29udGFpbmVyLCAnJCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VDbGFzc2VzQ29udGFpbmVyLnNvdXJjZShfc3lzQ2xhc3NlcywgJy4nKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlQ2xhc3Nlc0NvbnRhaW5lci5zb3VyY2UoX3BsdWdpbnMsICc8Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZUNsYXNzZXNDb250YWluZXIuc291cmNlKF9oZWxwZXJzLCAnKycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VDbGFzc2VzQ29udGFpbmVyLnNvdXJjZShfZW5naW5lRGVmYXVsdHMsICdAJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzQ2xhc3Nlc1tzZXJ2aWNlXSA9IHNlcnZpY2VDbGFzc2VzQ29udGFpbmVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzQ2xhc3Nlc1tzZXJ2aWNlXSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfc2VydmljZXNbc2VydmljZV0gPSBfc2VydmljZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgcyBpbiBfc2VydmljZXMpIHtcclxuICAgICAgICAgICAgaWYgKF9zZXJ2aWNlcy5oYXNPd25Qcm9wZXJ0eShzKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9zZXJ2aWNlc1NlcnZpY2VTb3VyY2UgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHMyIGluIF9zZXJ2aWNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfc2VydmljZXMuaGFzT3duUHJvcGVydHkoczIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzICE9PSBzMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzU2VydmljZVNvdXJjZS5wdXNoKF9zZXJ2aWNlc1tzMl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3NlcnZpY2VzW3NdLnNvdXJjZShfc2VydmljZXNTZXJ2aWNlU291cmNlLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKF9zZXJ2aWNlc0NsYXNzZXNbc10pIF9zZXJ2aWNlc0NsYXNzZXNbc10uc291cmNlKF9zZXJ2aWNlc1NlcnZpY2VTb3VyY2UsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoX3NlcnZpY2VzUGx1Z2luc1tzXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gX3NlcnZpY2VzUGx1Z2luc1tzXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3NlcnZpY2VzUGx1Z2luc1tzXS5oYXNPd25Qcm9wZXJ0eShwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzUGx1Z2luc1tzXVtwXS5zb3VyY2UoX3NlcnZpY2VzU2VydmljZVNvdXJjZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChfc2VydmljZXNQbHVnaW5zQ2xhc3Nlc1tzXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHBjbCBpbiBfc2VydmljZXNQbHVnaW5zQ2xhc3Nlc1tzXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3NlcnZpY2VzUGx1Z2luc0NsYXNzZXNbc10uaGFzT3duUHJvcGVydHkocGNsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzUGx1Z2luc0NsYXNzZXNbc11bcGNsXS5zb3VyY2UoX3NlcnZpY2VzU2VydmljZVNvdXJjZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gX3NlcnZpY2VzKSB7XHJcbiAgICAgICAgICAgIGlmIChfc2VydmljZXMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKF9zZXJ2aWNlc1twcm9wXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgX2hlbHBlcnMuc291cmNlKHJlc3VsdCwgZmFsc2UpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG5cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE1LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIFNvdXJjZShwcmVmaXgsIGNvbnRhaW5lciwgbG9vcCkge1xyXG5cclxuICAgIHZhciBwZnggPSBwcmVmaXggPyBwcmVmaXggOiBmYWxzZSxcclxuICAgICAgICBjb250YWluZXJzID0gW10sXHJcbiAgICAgICAgY2FjaGUgPSB7fSxcclxuICAgICAgICBjaGVja0NhY2hlID0ge307XHJcblxyXG4gICAgaWYgKHR5cGVvZiBjb250YWluZXIgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICBpZiAoQ29yZS5pcyhjb250YWluZXIsICdDb250YWluZXInKSkge1xyXG4gICAgICAgICAgICBjb250YWluZXJzID0gW2NvbnRhaW5lcl1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29udGFpbmVyLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRhaW5lci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKENvcmUuaXMoY29udGFpbmVyW2ldLCAnQ29udGFpbmVyJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJzLnB1c2goY29udGFpbmVyW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5sZW5ndGggPT09IDApIHZhbGlkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXZhbGlkKSB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRhaW5lciBhcnJheSBpcyBlbXB0eSEnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0eXBlIGlmIGNvbnRhaW5lciEnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIHN0cmlwUHJlZml4KG5hbWUpIHtcclxuICAgICAgICBpZiAocHJlZml4KSB7XHJcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSAnJztcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA+PSBwZngubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IG5hbWVbaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jaGVjayA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgaWYoY2hlY2tDYWNoZVtuYW1lXSkgcmV0dXJuIGNoZWNrQ2FjaGVbbmFtZV07XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgaWYgKHByZWZpeCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByZWZpeC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFuYW1lW2ldIHx8IG5hbWVbaV0gIT09IHByZWZpeFtpXSkgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2hlY2tDYWNoZVtuYW1lXSA9IHJlc3VsdDtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmhhcyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgIGlmKGNhY2hlW25hbWVdKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5jaGVjayhuYW1lKSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRhaW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHJpcE5hbWUgPSBzdHJpcFByZWZpeChuYW1lKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb250YWluZXJzW2ldLmhhcyhzdHJpcE5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBjYWNoZVtuYW1lXSA9IGNvbnRhaW5lcnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5sb29wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBsb29wO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNvbnRhaW5lcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcnM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc291cmNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb250YWluZXJzW2ldLnNvdXJjZS5hcHBseShjb250YWluZXJzW2ldLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5wcmVmaXggPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgaWYgKHN0ciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdHIgPT09IHBmeDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBmeDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZXNvbHZlID0gZnVuY3Rpb24gKG5hbWUsIGRpcmVjdCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBudWxsO1xyXG4gICAgICAgIGlmICh0aGlzLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgICB2YXIgc291cmNlID0gbnVsbDtcclxuICAgICAgICAgICAgdmFyIHN0cmlwTmFtZSA9IHN0cmlwUHJlZml4KG5hbWUpO1xyXG4gICAgICAgICAgICBpZihjYWNoZVtuYW1lXSkgc291cmNlID0gY2FjaGVbbmFtZV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lcnNbaV0uaGFzKHN0cmlwTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBjb250YWluZXJzW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzb3VyY2UpIHJlc3VsdCA9IHNvdXJjZS5yZXNvbHZlKHN0cmlwTmFtZSwgZGlyZWN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZXNvbHZlSW5qZWN0aW9uRGVwZW5kYW5jaWVzID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICB2YXIgc291cmNlID0gbnVsbCwgc3RyaXBOYW1lID0gbnVsbDtcclxuICAgICAgICBpZihjYWNoZVtuYW1lXSkge1xyXG4gICAgICAgICAgICBzdHJpcE5hbWUgPSBzdHJpcFByZWZpeChuYW1lKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlW25hbWVdLnJlc29sdmUoc3RyaXBOYW1lLCAnZXh0ZW5kJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5oYXMobmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHN0cmlwTmFtZSA9IHN0cmlwUHJlZml4KG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250YWluZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lcnNbaV0uaGFzKHN0cmlwTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlID0gY29udGFpbmVyc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVbbmFtZV0gPSBjb250YWluZXJzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlKSByZXR1cm4gc291cmNlLnJlc29sdmUoc3RyaXBOYW1lLCAnZXh0ZW5kJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIFRpY2tlcigpIHtcclxuICAgIHZhciBmcmFtZUR1cmF0aW9uID0gKDEwMDAgLyA1OC44KS50b0ZpeGVkKDIpLFxyXG4gICAgICAgIHF1ZXVlID0gW10sXHJcbiAgICAgICAgZnJhbWUgPSAwLFxyXG4gICAgICAgIGFyZ3MgPSBbbnVsbCwgMF0sXHJcbiAgICAgICAgZHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZVtpXS5mLmFwcGx5KHNlbGYsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGVtZXJnZWQgd2hpbGUgcmVzb2x2aW5nIGNhbGxiYWNrcy5cXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ1F1ZXVlICAgOiBbJyArIHF1ZXVlW2ldLm8gKyAnXVxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnT3JkZXIgICA6IFsnICsgaSArICddXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdOYW1lICAgIDogWycgKyAocXVldWVbaV0uZi5uYW1lKSArICddLlxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWVzc2FnZSA6ICcgKyBlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZyYW1lKys7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0aWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBhcmdzWzBdID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgYXJnc1sxXSA9IGZyYW1lO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZHJhdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoJ2Vycm9yJywgZSk7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBydW4gdGlja2VyIGFueW1vcmUuICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICdFcnJvciBlbWVyZ2VkIGR1cmluZyBzb3VyY2VzIHRpY2tlciBwcm9ncmVzcy5cXG4gJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ0ZyYW1lIDonICsgZnJhbWUgKyAnXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ0RhdGUgIDogJyArIGFyZ3NbMF0gKyAnXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgZS5tZXNzYWdlXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW50ZXJ2YWwgPSBudWxsLFxyXG4gICAgICAgIGV2ZW50Q2IgPSB7XHJcbiAgICAgICAgICAgIHN0b3A6IFtdLFxyXG4gICAgICAgICAgICBzdGFydDogW10sXHJcbiAgICAgICAgICAgIGVycm9yOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzb2x2ZShldmVudCwgYXJncykge1xyXG4gICAgICAgIHZhciBfY2FsbF9hcmdzID0gW107XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzID09PSBcIm9iamVjdFwiICYmIGFyZ3MuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgIF9jYWxsX2FyZ3MgPSBhcmdzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChhcmdzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgX2NhbGxfYXJncy5wdXNoKGFyZ3MpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIiAmJiBldmVudC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50Q2JbZXZlbnRdKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50Q2JbZXZlbnRdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRDYltldmVudF1baV0uYXBwbHkoc2VsZiwgX2NhbGxfYXJncyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byByZXNvbHZlIGV2ZW50IFsnICsgZXZlbnQgKyAnXS4gTm8gc3VjaCBldmVudC4nKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byByZXNvbHZlIGV2ZW50LiBFdmVudCBwYXJhbWV0ZXIgaXMgbm90IGEgc3RyaW5nIG9yIGVtcHR5JylcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5vbiA9IGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT09IFwic3RyaW5nXCIgJiYgZXZlbnQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudENiW2V2ZW50XSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudENiW2V2ZW50XS5wdXNoKGZ1bmMpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgZXZlbnQgWycgKyBldmVudCArICddLiBDYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbi4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBldmVudCBbJyArIGV2ZW50ICsgJ10gaGFuZGxlci4gTm8gc3VjaCBldmVudC4nKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgZXZlbnQuIEV2ZW50IGFyZ3VtZW50IGlzIG5vdCBhIHN0cmluZyBvciBlbXB0eS4nKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChpbnRlcnZhbCkge1xyXG4gICAgICAgICAgICBmcmFtZSA9IDA7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICBpbnRlcnZhbCA9IG51bGw7XHJcbiAgICAgICAgICAgIHJlc29sdmUoJ3N0b3AnLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCFpbnRlcnZhbCkge1xyXG4gICAgICAgICAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKHRpY2ssIGZyYW1lRHVyYXRpb24pO1xyXG4gICAgICAgICAgICByZXNvbHZlKCdzdGFydCcsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5mcHMgPSBmdW5jdGlvbiAobnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBudW1iZXIgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgaWYgKG51bWJlciA+IDYwKSBudW1iZXIgPSA2MDtcclxuICAgICAgICAgICAgaWYgKG51bWJlciA8PSAwKSBudW1iZXIgPSAxO1xyXG4gICAgICAgICAgICBmcmFtZUR1cmF0aW9uID0gKDEwMDAgLyBudW1iZXIpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgICAgIGlmIChpbnRlcnZhbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoMTAwMCAvIGZyYW1lRHVyYXRpb24pLnRvRml4ZWQoMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnF1ZXVlID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGEgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBpZiAoIWEubmFtZSkgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IGNhbGxiYWNrLiBDYWxsYmFjayBpcyBub3QgYSBuYW1lZCBmdW5jdGlvbi4nKTtcclxuICAgICAgICAgICAgcXVldWUucHVzaCh7bzogMCwgZjogYn0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgYSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFiLm5hbWUpIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBjYWxsYmFjay4gQ2FsbGJhY2sgaXMgbm90IGEgbmFtZWQgZnVuY3Rpb24uJyk7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHtvOiBhLCBmOiBifSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBxdWV1ZS4gY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24nKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgY2FsbGJhY2suIFdyb25nIGFyZ3VtZW50cyBwYXNzZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcXVldWUuc29ydChmdW5jdGlvbiAoYSxiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLm8gPiBiLm87XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIucGx1Z2luKCdPYmplY3RzJyxcclxuICAgIFsnQGluamVjdCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQW5pbWF0aW9uKGluamVjdCwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBhbmltYXRpb25zID0gW10sXHJcbiAgICAgICAgICAgICAgICBhbmltYXRlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbW9ycGhzID0ge307XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1vcnBoID0gZnVuY3Rpb24gKG5hbWUsIG9yZGVyaW5nLCBzZXR0ZXIsIGFwcGxpZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtb3JwaCA9IGluamVjdCgnJE1vcnBoJyk7XHJcbiAgICAgICAgICAgICAgICBtb3JwaC5jb25maWcobmFtZSwgdGhpcy5vYmplY3QoKSwgb3JkZXJpbmcsIHNldHRlciwgYXBwbGllcik7XHJcbiAgICAgICAgICAgICAgICBpZiAobW9ycGgudmFsaWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vcnBoc1tuYW1lXSA9IG1vcnBoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5leHRyYWN0TW9ycGggPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vcnBoc1tuYW1lXTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZpbmRDb21wZXRpdG9yKHByb3BlcnRpZXMsIGFuaW1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLiQkU0VMRiA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGNvbXBldGl0b3IgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYW5pbWF0aW9uc1tpXS4kJFNFTEYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbnNbaV0uYWN0aXZlKCkgJiYgIWFuaW1hdGlvbnNbaV0uZG9uZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hlY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgcHJvcGVydGllcy5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25zW2ldLmhhc1Byb3BlcnR5KHByb3BlcnRpZXNbbl0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb21wZXRpdG9yKSBjb21wZXRpdG9yID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGV0aXRvci5wdXNoKGFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBhbmltYXRpb24uJCRTRUxGO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21wZXRpdG9yO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBDaGVja0FuaW1hdGlvblF1ZXVlKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hbmltYXRpb25zID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbmltYXRpb25zW2ldLmFjdGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IGFuaW1hdGlvbnNbaV0ucHJvcGVydGllcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uc1tpXS5xdWV1ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbmRDb21wZXRpdG9yKHByb3BzLCBhbmltYXRpb25zW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnNbaV0uc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21wZXRpdG9ycyA9IGZpbmRDb21wZXRpdG9yKHByb3BzLCBhbmltYXRpb25zW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wZXRpdG9ycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgY29tcGV0aXRvcnMubGVuZ3RoOyBuKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcCA9IDA7IHAgPCBwcm9wcy5sZW5ndGg7IHArKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGV0aXRvcnNbbl0uc3RvcChwcm9wc1twXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zW2ldLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2FuaW1hdGlvbnMucHVzaChhbmltYXRpb25zW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGlvbnNbaV0uZG9uZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMgPSBfYW5pbWF0aW9ucztcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIENyZWF0ZUFuaW1hdGlvblR5cGUxKHByb3BlcnR5LCB2YWx1ZSwgZHVyYXRpb24sIGVhc2luZykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHBhaXIgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBwYWlyW3Byb3BlcnR5XSA9IHZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtb3JwaHNbcHJvcGVydHldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YWNrID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyaW5nOiBzdHlsZS5vcmRlcmluZyhwcm9wZXJ0eSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGg6IG1vcnBoc1twcm9wZXJ0eV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZHVyYXRpb24gJiYgdHlwZW9mIGR1cmF0aW9uID09PSBcIm51bWJlclwiKSBjb25maWcuZHVyYXRpb24gPSBkdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWFzaW5nICYmIHR5cGVvZiBlYXNpbmcgPT09IFwic3RyaW5nXCIpIGNvbmZpZy5lYXNpbmcgPSBlYXNpbmc7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gaW5qZWN0KCckQW5pbWF0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5jb25maWcodGhpcywgc3RhY2ssIGNvbmZpZywgQ2hlY2tBbmltYXRpb25RdWV1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVBbmltYXRpb25UeXBlMihwYWlycywgYXJnMiwgYXJnMykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmcyID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnID0gYXJnMjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZzIgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBhcmcyXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZzMgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLmVhc2luZyA9IGFyZzNcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcmcyID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IGFyZzJcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwYWlycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFpcnMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1vcnBoc1twcm9wZXJ0eV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAnUHJvcGVydHkge3Byb3BlcnR5fSBvZiB7dHlwZX0gY2FuIG5vdCBiZSBhbmltYXRlZCEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Byb3BlcnR5XSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyaW5nOiBzdHlsZS5vcmRlcmluZyhwcm9wZXJ0eSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JwaDogbW9ycGhzW3Byb3BlcnR5XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwYWlyc1twcm9wZXJ0eV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbW9ycGhfc3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vcnBoX3N0YWNrLnB1c2gocmVzdWx0W2l0ZW1dKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBtb3JwaF9zdGFjay5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEub3JkZXJpbmcgLSBiLm9yZGVyaW5nO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1vcnBoX3N0YWNrLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBpbmplY3QoJyRBbmltYXRpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uY29uZmlnKHRoaXMsIG1vcnBoX3N0YWNrLCBjb25maWcsIENoZWNrQW5pbWF0aW9uUXVldWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdObyBwcm9wZXJ0aWVzIHRvIGFuaW1hdGUhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2FuaW1hdGUnLCBmdW5jdGlvbiAoYXJnMSwgYXJnMiwgYXJnMywgYXJnNCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmcxID09PSAnc3RyaW5nJyAmJiBhcmcyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQ3JlYXRlQW5pbWF0aW9uVHlwZTEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZzEgPT09IFwib2JqZWN0XCIgJiYgYXJnMS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBDcmVhdGVBbmltYXRpb25UeXBlMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmFibGUgdG8gY3JlYXRlIGFuaW1hdGlvbi4gV3JvbmcgYXJndW1lbnRzJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBDaGVja0FuaW1hdGlvblF1ZXVlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdhbmltYXRlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbmltYXRlZDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdzdG9wJywgZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zW2ldLnN0b3AocHJvcGVydHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChhbmltYXRpb25zWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uc1swXS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9ucy51bnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIG1vcnBocykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3JwaHMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG1vcnBoc1twcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS81LzIwMTcuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWydEZWJ1ZycsICdAaW5qZWN0JyxcclxuICAgICAgICBmdW5jdGlvbiBCb3goRGVidWcsIGluamVjdCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGYgPSBudWxsLCBib3ggPSBpbmplY3QoJyRCb3gnKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZiA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignQm94IEV4dGVuc2lvbiAvIEJveCBmdW5jdGlvbiBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmID0gZnVuYztcclxuXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5mO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0KCk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBCb3hXcmFwcGVyRnVuYygpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZiB8fCAhb2JqZWN0KSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBmLmNhbGwob2JqZWN0LCBib3gpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJveDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5ib3ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0LmV4dGVuc2lvbignQ2FjaGUnKS52YWx1ZSgnYm94JywgQm94V3JhcHBlckZ1bmMpXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnB1cmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0LmV4dGVuc2lvbignQ2FjaGUnKS5wdXJnZSgnYm94Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gb2JqZWN0LnBhcmVudCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5leHRlbnNpb24oJ0JveCcpLnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2JveCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbignQ2FjaGUnKS52YWx1ZSgnYm94JywgQm94V3JhcHBlckZ1bmMpLmdldCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcignd2lkdGgnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5leHRlbnNpb24oJ0NhY2hlJykudmFsdWUoJ2JveCcsIEJveFdyYXBwZXJGdW5jKS5nZXQoKS5zaXplWzBdO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignaGVpZ2h0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZW5zaW9uKCdDYWNoZScpLnZhbHVlKCdib3gnLCBCb3hXcmFwcGVyRnVuYykuZ2V0KCkuc2l6ZVsxXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2xlZnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5leHRlbnNpb24oJ0NhY2hlJykudmFsdWUoJ2JveCcsIEJveFdyYXBwZXJGdW5jKS5nZXQoKS5wb3NpdGlvblswXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ3RvcCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbignQ2FjaGUnKS52YWx1ZSgnYm94JywgQm94V3JhcHBlckZ1bmMpLmdldCgpLnBvc2l0aW9uWzFdO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGYgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBib3ggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS81LzIwMTcuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQ2FjaGUoRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBmdW5jdGlvbiAobmFtZSwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ09iamVjdCBWYWx1ZSBDYWNoZSAvIG5hbWUgaXMgbm90IGEgc3RyaW5nIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ09iamVjdCBWYWx1ZSBDYWNoZSAvIGZ1bmMgaXMgbm90IGEgZnVuY3Rpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1tuYW1lXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmMoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuYzogZnVuYyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsZXZhbnQ6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wdXJnZSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignT2JqZWN0IFZhbHVlIENhY2hlIC8gQ2FuIG5vdCBwdXJnZSBjYWNoZSBvZiBub24gc3RyaW5nIG5hbWUnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW25hbWVdLnJlbGV2YW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignT2JqZWN0IFZhbHVlIENhY2hlIC8gQ2FuIG5vdCBnZXQgdmFsdWUgb2Ygbm9uLXN0cmluZyBuYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsdWVzW25hbWVdLnJlbGV2YW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tuYW1lXS52YWx1ZSA9IHZhbHVlc1tuYW1lXS5mdW5jKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tuYW1lXS5yZWxldmFudCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzW25hbWVdLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb3A7XHJcbiAgICAgICAgICAgICAgICBmb3IocHJvcCBpbiB2YWx1ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZXMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHZhbHVlc1twcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIucGx1Z2luKCdPYmplY3RzJyxcclxuICAgIFsnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIERyYXdlcihEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIGRyYXcgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMub2JqZWN0KCksXHJcbiAgICAgICAgICAgICAgICBwaXBlU2l6ZSA9IDAsXHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb25zID0gW10sXHJcbiAgICAgICAgICAgICAgICByZW5kZXJpbmcgPSB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZXhwb3J0cyA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDYiA9IFtdLFxyXG4gICAgICAgICAgICAgICAgY2JJdGVyYXRvciA9IDAsXHJcbiAgICAgICAgICAgICAgICBjYWxsVXBkYXRlQ2IgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGRyYXdlclBpcGVCZWZvcmUgPSB7fSxcclxuICAgICAgICAgICAgICAgIGRyYXdlclBpcGVBZnRlciA9IHt9LFxyXG4gICAgICAgICAgICAgICAgYmVmb3JlUGlwZVNpemUgPSAwLFxyXG4gICAgICAgICAgICAgICAgYWZ0ZXJQaXBlU2l6ZSA9IDA7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZVVwZGF0ZWQgPSBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLiQkQ0FMTCkgY2FsbFVwZGF0ZUNiID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2IgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDYi5wdXNoKGNiKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgRGVidWcuZXJyb3Ioe2NiOiB0eXBlb2YgY2J9LCAnU3ByaXRlIHVwZGF0ZSBjYWxsYmFjayB7Y2J9IGlzIG5vdCBhIGZ1bmN0aW9uLicsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlbmRlckFsbG93SXRlcmF0b3IgPSAwO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVuZGVyQWxsb3dlZChhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZGl0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChyZW5kZXJBbGxvd0l0ZXJhdG9yID0gMDsgcmVuZGVyQWxsb3dJdGVyYXRvciA8IGNvbmRpdGlvbnMubGVuZ3RoOyByZW5kZXJBbGxvd0l0ZXJhdG9yKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyaW5nID0gY29uZGl0aW9uc1tyZW5kZXJBbGxvd0l0ZXJhdG9yXS5hcHBseShvYmplY3QsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVuZGVyaW5nID09PSBmYWxzZSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZW5kZXJpbmc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRyYXdGdW5jdGlvbiA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt9LCAnT2JqZWN0RHJhd2VyIC8gZnVuYyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5kcmF3RnVuY3Rpb247XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZHJhdyA9IGZ1bmM7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5kcmF3RnVuY3Rpb247XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUZ1bmN0aW9uID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe30sICdPYmplY3REcmF3ZXIgLyBmdW5jIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnVwZGF0ZUZ1bmN0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHVwZGF0ZSA9IGZ1bmM7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy51cGRhdGVGdW5jdGlvbjtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXhwb3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGV4cG9ydHMgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzID0gYXJndW1lbnRzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhwb3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbFVwZGF0ZUNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNiSXRlcmF0b3IgPSAwOyBjYkl0ZXJhdG9yIDwgdXBkYXRlQ2IubGVuZ3RoOyBjYkl0ZXJhdG9yKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDYltjYkl0ZXJhdG9yXS5jYWxsKG9iamVjdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxVcGRhdGVDYiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZXhwb3J0cyA9PT0gXCJmdW5jdGlvblwiID8gZXhwb3J0cygpIDogZXhwb3J0cztcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmV4cG9ydHM7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5maWx0ZXIgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb25zLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt0ZnVuYzogdHlwZW9mIGZ1bmN9LCAnRHJhd2VyIEZpbHRlciBjYWxsYmFjayB7dGZ1bmN9IGlzIG5vdCBhIGZ1bmN0aW9uJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBpcGUgPSBmdW5jdGlvbiAoZiwgb3JkZXIpIHtcclxuICAgICAgICAgICAgICAgIG9yZGVyID0gb3JkZXIgPT09IHVuZGVmaW5lZCA/IDAgOiBvcmRlcjtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3JkZXIgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGYgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXIgPiAxMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZHJhd2VyUGlwZUFmdGVyW29yZGVyXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdlclBpcGVBZnRlcltvcmRlcl0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdlclBpcGVBZnRlcltvcmRlcl0ucHVzaChmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyUGlwZVNpemUrK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkcmF3ZXJQaXBlQmVmb3JlW29yZGVyXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdlclBpcGVCZWZvcmVbb3JkZXJdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3ZXJQaXBlQmVmb3JlW29yZGVyXS5wdXNoKGYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlUGlwZVNpemUrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaXBlU2l6ZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtmdHlwZTogdHlwZW9mIGZ9LCAnUGlwZSBjYWxsYmFjayB7ZnR5cGV9IGlzIG5vdCBhIGZ1bmN0aW9uJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7b3JkZXI6IG9yZGVyfSwgJ0ludmFsaWQgcGlwZSBmdW5jdGlvbiBvcmRlcmluZyB7b3JkZXJ9JywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy51bnBpcGUgPSBmdW5jdGlvbiAoZikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpbmRleCBpbiBkcmF3ZXJQaXBlQmVmb3JlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkcmF3ZXJQaXBlQmVmb3JlLmhhc093blByb3BlcnR5KGluZGV4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd2VyUGlwZUJlZm9yZVtpbmRleF0gPSBkcmF3ZXJQaXBlQmVmb3JlW2luZGV4XS5maWx0ZXIoZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNiID09PSBmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpcGVTaXplLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZVBpcGVTaXplLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGluZGV4IGluIGRyYXdlclBpcGVBZnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHJhd2VyUGlwZUFmdGVyLmhhc093blByb3BlcnR5KGluZGV4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd2VyUGlwZUFmdGVyW2luZGV4XSA9IGRyYXdlclBpcGVBZnRlcltpbmRleF0uZmlsdGVyKGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYiA9PT0gZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaXBlU2l6ZS0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZnRlclBpcGVTaXplLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdwaXBlJywgdGhpcy5waXBlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ3VucGlwZScsIHRoaXMudW5waXBlKTtcclxuXHJcblxyXG4gICAgICAgICAgICAvL0RyYXcgZnVuY3Rpb24gdmFyaWFibGVzXHJcbiAgICAgICAgICAgIHZhciBwaXBlSW5kZXggPSAwLFxyXG4gICAgICAgICAgICAgICAgcGlwZU9yZGVyID0gMCxcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29udGV4dCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50Q29udGV4dCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFja3NSZXN1bHQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgYXJncyA9IFtudWxsLCBudWxsLCBudWxsXTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsVXBkYXRlQ2IpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNiSXRlcmF0b3IgPSAwOyBjYkl0ZXJhdG9yIDwgdXBkYXRlQ2IubGVuZ3RoOyBjYkl0ZXJhdG9yKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ2JbY2JJdGVyYXRvcl0uY2FsbChvYmplY3QpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxVcGRhdGVDYiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVuZGVyaW5nID0gdHJ1ZTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlckFsbG93ZWQoYXJndW1lbnRzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBhcmd1bWVudHNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgYXJnc1sxXSA9IGFyZ3VtZW50c1sxXTtcclxuICAgICAgICAgICAgICAgICAgICBhcmdzWzJdID0gYXJndW1lbnRzWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29udGV4dCA9IGFyZ3NbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGUpIHVwZGF0ZS5hcHBseSh0aGlzLCBhcmdzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJlZm9yZVBpcGVTaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocGlwZU9yZGVyIGluIGRyYXdlclBpcGVCZWZvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkcmF3ZXJQaXBlQmVmb3JlLmhhc093blByb3BlcnR5KHBpcGVPcmRlcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHBpcGVJbmRleCA9IDA7IHBpcGVJbmRleCA8IGRyYXdlclBpcGVCZWZvcmVbcGlwZU9yZGVyXS5sZW5ndGg7IHBpcGVJbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0uc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NSZXN1bHQgPSBkcmF3ZXJQaXBlQmVmb3JlW3BpcGVPcmRlcl1bcGlwZUluZGV4XS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1swXS5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0ID0gY2FsbGJhY2tzUmVzdWx0ID8gY2FsbGJhY2tzUmVzdWx0IDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBjdXJyZW50Q29udGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50Q29udGV4dCkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50Q29udGV4dCkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzWzBdID09PSBvcmlnaW5hbENvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0uZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gb2JqZWN0LmV4dGVuc2lvbignU3R5bGUnKS5nZXQoJ2JsZW5kaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzWzBdLmdsb2JhbEFscGhhICo9IG9iamVjdC5leHRlbnNpb24oJ1N0eWxlJykuZ2V0KCdvcGFjaXR5Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRyYXcpIGRyYXcuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbENvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gb2JqZWN0LmV4dGVuc2lvbignU3R5bGUnKS5nZXQoJ2JsZW5kaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbENvbnRleHQuZ2xvYmFsQWxwaGEgKj0gb2JqZWN0LmV4dGVuc2lvbignU3R5bGUnKS5nZXQoJ29wYWNpdHknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkcmF3KSBkcmF3LmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxDb250ZXh0LmRyYXdJbWFnZShhcmdzWzBdLmNhbnZhcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAwLCBhcmdzWzBdLmNhbnZhcy53aWR0aCwgYXJnc1swXS5jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBvcmlnaW5hbENvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFmdGVyUGlwZVNpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocGlwZU9yZGVyIGluIGRyYXdlclBpcGVBZnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkcmF3ZXJQaXBlQWZ0ZXIuaGFzT3duUHJvcGVydHkocGlwZU9yZGVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHBpcGVJbmRleCA9IDA7IHBpcGVJbmRleCA8IGRyYXdlclBpcGVBZnRlcltwaXBlT3JkZXJdLmxlbmd0aDsgcGlwZUluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0uc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzUmVzdWx0ID0gZHJhd2VyUGlwZUFmdGVyW3BpcGVPcmRlcl1bcGlwZUluZGV4XS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0ucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbnRleHQgPSBjYWxsYmFja3NSZXN1bHQgPyBjYWxsYmFja3NSZXN1bHQgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBjdXJyZW50Q29udGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudENvbnRleHQpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudENvbnRleHQpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbENvbnRleHQucmVzdG9yZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGRyYXcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBwaXBlU2l6ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbnMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHJlbmRlcmluZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGV4cG9ydHMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDYiA9IFtdO1xyXG4gICAgICAgICAgICAgICAgY2JJdGVyYXRvciA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGNhbGxVcGRhdGVDYiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGRyYXdlclBpcGVCZWZvcmUgPSB7fTtcclxuICAgICAgICAgICAgICAgIGRyYXdlclBpcGVBZnRlciA9IHt9O1xyXG4gICAgICAgICAgICAgICAgYmVmb3JlUGlwZVNpemUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBhZnRlclBpcGVTaXplID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgICAgIHBpcGVJbmRleCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHBpcGVPcmRlciA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29udGV4dCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzUmVzdWx0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgYXJncyA9IFtudWxsLCBudWxsLCBudWxsXTtcclxuICAgICAgICAgICAgICAgIHJlbmRlckFsbG93SXRlcmF0b3IgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHByb3A7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGNvbmRpdGlvbnNbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb25zLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb25zID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgICAgIHdoaWxlICh1cGRhdGVDYlswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNiLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDYiA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoYXJnc1swXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3Muc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGFyZ3MgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChwcm9wIGluIGRyYXdlclBpcGVCZWZvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZHJhd2VyUGlwZUJlZm9yZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoZHJhd2VyUGlwZUJlZm9yZVtwcm9wXVswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd2VyUGlwZUJlZm9yZVtwcm9wXS51bnNoaWZ0KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZHJhd2VyUGlwZUJlZm9yZVtwcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKHByb3AgaW4gZHJhd2VyUGlwZUFmdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRyYXdlclBpcGVBZnRlci5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoZHJhd2VyUGlwZUFmdGVyW3Byb3BdWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3ZXJQaXBlQWZ0ZXJbcHJvcF0udW5zaGlmdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRyYXdlclBpcGVBZnRlcltwcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkcmF3ZXJQaXBlQmVmb3JlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgZHJhd2VyUGlwZUFmdGVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gTGF5ZXJzKERlYnVnKSB7XHJcbiAgICAgICAgICAgIHZhciBsYXllcnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgMDogW11cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBsYXllciA9IDA7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdsYXllcicsIGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGxheWVyO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbCAhPT0gXCJudW1iZXJcIiB8fCB2YWwgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7bjogdmFsfSwgJ1ZhbHVlIHtufSBpcyBub3QgYSBudW1iZXIgb3IgbGVzcyB0aGFuIDAnLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnRfbGF5ZXJfZXh0ID0gdGhpcy5wYXJlbnQoKS5leHRlbnNpb24oJ0xheWVycycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudF9sYXllcl9leHQucGxhY2UodmFsLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxheWVyID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZU9iamVjdEZyb21MYXllcnMob2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZG9uZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbGF5ZXIgaW4gbGF5ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVycy5oYXNPd25Qcm9wZXJ0eShsYXllcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxheWVyc1tsYXllcl0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGxheWVyc1tsYXllcl1baV0gPT09IG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyc1tsYXllcl0uc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb25lKSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxhY2UgPSBmdW5jdGlvbiAobGF5ZXIsIG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlT2JqZWN0RnJvbUxheWVycyhvYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFsYXllcnNbbGF5ZXJdKSBsYXllcnNbbGF5ZXJdID0gW107XHJcbiAgICAgICAgICAgICAgICBsYXllcnNbbGF5ZXJdLnB1c2gob2JqZWN0KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24gKG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlT2JqZWN0RnJvbUxheWVycyhvYmplY3QpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mb3JFYWNoID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsYXllciBpbiBsYXllcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGl0ZXJhdG9yID0gMDsgaXRlcmF0b3IgPCBsYXllcnNbbGF5ZXJdLmxlbmd0aDsgaXRlcmF0b3IrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jLmNhbGwobGF5ZXJzW2xheWVyXVtpdGVyYXRvcl0sIGxheWVyc1tsYXllcl1baXRlcmF0b3JdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxheWVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYXllcnM7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvcDtcclxuICAgICAgICAgICAgICAgIGxheWVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgZm9yKHByb3AgaW4gbGF5ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYobGF5ZXJzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChsYXllcnNbcHJvcF1bMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyc1twcm9wXVswXS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcnNbcHJvcF0uc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgbGF5ZXJzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzYvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbignT2JqZWN0cycsXHJcbiAgICBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBNYXRyaXgoRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBmID0gbnVsbCwgb2JqZWN0ID0gdGhpcy5vYmplY3QoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZiA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGYgPSBmdW5jO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBNYXRyaXhXcmFwcGVyKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGYuY2FsbChvYmplY3QpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdtYXRyaXgnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5leHRlbnNpb24oJ0NhY2hlJykudmFsdWUoJ3RyYW5zZm9ybU1hdHJpeCcsIE1hdHJpeFdyYXBwZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHVyZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QuZXh0ZW5zaW9uKCdDYWNoZScpLnB1cmdlKCd0cmFuc2Zvcm1NYXRyaXgnKTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmplY3QudHlwZSgpID09PSAnR3JvdXAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxheWVycyA9IG9iamVjdC5leHRlbnNpb24oJ0xheWVycycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leHRlbnNpb24oJ0NhY2hlJykucHVyZ2UoJ3RyYW5zZm9ybU1hdHJpeCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzUvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbignT2JqZWN0cycsXHJcbiAgICBbJ0BDYW52YXMnLCAnK0RyYXdlcicsXHJcbiAgICAgICAgZnVuY3Rpb24gT2Zmc2V0KENhbnZhcywgRHJhd2VySGVscGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBwb2ludHMgPSBbWzAsIDBdLCBbMCwgMF0sIFswLCAwXSwgWzAsIDBdXSxcclxuICAgICAgICAgICAgICAgIG1hc2sgPSBDYW52YXMuc2l6ZSgpLFxyXG4gICAgICAgICAgICAgICAgYm94ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXRlcmF0b3IgPSAwO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignYmV5b25kJywgZnVuY3Rpb24gKGN0eCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG1hc2sgPSBDYW52YXMuc2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgYm94ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLmdldCgpO1xyXG4gICAgICAgICAgICAgICAgcG9pbnRzWzBdID0gdGhpcy5tYXRyaXgoKS50cmFja0xvY2FsUG9pbnQoW2JveC5wb3NpdGlvblswXSwgYm94LnBvc2l0aW9uWzFdXSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBwb2ludHNbMV0gPSB0aGlzLm1hdHJpeCgpLnRyYWNrTG9jYWxQb2ludChbYm94LnNpemVbMF0gKyBib3gucG9zaXRpb25bMF0sIGJveC5wb3NpdGlvblsxXV0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgcG9pbnRzWzJdID0gdGhpcy5tYXRyaXgoKS50cmFja0xvY2FsUG9pbnQoW2JveC5zaXplWzBdICsgYm94LnBvc2l0aW9uWzBdLCBib3guc2l6ZVsxXSArIGJveC5wb3NpdGlvblsxXV0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgcG9pbnRzWzNdID0gdGhpcy5tYXRyaXgoKS50cmFja0xvY2FsUG9pbnQoW2JveC5wb3NpdGlvblswXSwgYm94LnNpemVbMV0gKyBib3gucG9zaXRpb25bMV1dLCB0cnVlKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGxlZnQgPSBNYXRoLm1pbihwb2ludHNbMF1bMF0sIHBvaW50c1sxXVswXSwgcG9pbnRzWzJdWzBdLCBwb2ludHNbM11bMF0pLFxyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0gTWF0aC5tYXgocG9pbnRzWzBdWzBdLCBwb2ludHNbMV1bMF0sIHBvaW50c1syXVswXSwgcG9pbnRzWzNdWzBdKSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b20gPSBNYXRoLm1heChwb2ludHNbMF1bMV0sIHBvaW50c1sxXVsxXSwgcG9pbnRzWzJdWzFdLCBwb2ludHNbM11bMV0pLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IE1hdGgubWluKHBvaW50c1swXVsxXSwgcG9pbnRzWzFdWzFdLCBwb2ludHNbMl1bMV0sIHBvaW50c1szXVsxXSksXHJcbiAgICAgICAgICAgICAgICAgICAgdyA9IChyaWdodCAtIGxlZnQpLFxyXG4gICAgICAgICAgICAgICAgICAgIGggPSAoYm90dG9tIC0gdG9wKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihsZWZ0ID4gLXcgJiYgdG9wID4gLWggJiYgYm90dG9tIDwgaCArIG1hc2tbMV0gJiYgcmlnaHQgPCB3ICsgbWFza1swXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpLHU7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAocG9pbnRzWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHBvaW50c1swXVswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHNbMF0uc2hpZnQoKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBwb2ludHMuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBvaW50cyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChtYXNrWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzay5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWFzayA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMi8yLzIwMTcuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWycrTW91c2UnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIE1vdXNlKE1vdXNlSGVscGVyLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBkcmFnbW92ZTogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZ3N0YXJ0OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBkcmFnZW5kOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBtb3VzZW1vdmU6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vdXNldXA6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlZG93bjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgbW91c2VlbnRlcjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgbW91c2VsZWF2ZTogW11cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbW91c2VDaGVja0Z1bmN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gR2V0RXZlbnRBcnJheShldmVudCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrc1tldmVudF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ29uJywgZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIGZ1bmMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tpXS4kT0ZGID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIiAmJiBmdW5jID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBHZXRFdmVudEFycmF5KGV2ZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5LiRPRkYgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gR2V0RXZlbnRBcnJheShldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudH0sICdUaGVyZSBpcyBubyBldmVudCBbe2V9XScpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIUdldEV2ZW50QXJyYXkoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnVW5hYmxlIHRvIHNldCBldmVudCBoYW5kbGVyIGZvciB7W2VdfS4gTm8gc3VjaCBldmVudCBmb3VuZCEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mICBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudCwgZjogZnVuY30sICdVbmFibGUgdG8gc2V0IGV2ZW50IGhhbmRsZXIgZm9yIHtbZV19LiB7W2ZdfSBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ29mZicsIGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSB1bmRlZmluZWQgJiYgZnVuYyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBjYWxsYmFja3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW2ldLiQkT0ZGID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09PSBcInN0cmluZ1wiICYmIGZ1bmMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IEdldEV2ZW50QXJyYXkoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJheS4kJE9GRiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gR2V0RXZlbnRBcnJheShldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuYy4kJE1PVVNFRlVOQ1NFQVJDSCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcnJheVtpXS4kJE1PVVNFRlVOQ1NFQVJDSCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghR2V0RXZlbnRBcnJheShldmVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudH0sICdVbmFibGUgdG8gdXNldCBldmVudCBoYW5kbGVyIGZvciB7W2VdfS4gbm8gc3VjaCBldmVudCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudCwgZjogZnVuY30sICdVbmFibGUgdG8gdW5zZXQgZnVuY3Rpb24ge1tmXX0gZnJvbSBldmVudCB7W2VdfS4gTm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdtb3VzZUNoZWNrRnVuY3Rpb24nLCBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1vdXNlSGVscGVyW2Z1bmMgKyAnQ2hlY2tGdW5jdGlvbiddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlQ2hlY2tGdW5jdGlvbiA9IE1vdXNlSGVscGVyW2Z1bmMgKyAnVXNlckNoZWNrRnVuY3Rpb24nXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2Y6IGZ1bmN9LCAnVW5hYmxlIHRvIHNldCBjaGVjayBmdW5jdGlvbiEge1tmXX0gaXMgbm90IGEgZnVuY3Rpb24hJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtb3VzZUNoZWNrRnVuY3Rpb24gPSBmdW5jO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignZGlzYWJsZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2VuYWJsZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2Rpc2FibGVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpc2FibGVkO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2sgPSBmdW5jdGlvbiAodGFyZ2V0LCBjdXJzb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkaXNhYmxlZCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vdXNlQ2hlY2tGdW5jdGlvbi5jYWxsKHRhcmdldCwgW2N1cnNvclswXSwgY3Vyc29yWzFdXSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgY3Vyc29yVHJhbnNmb3JtRnVuY3Rpb24gPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jdXJzb3JUcmFuc2Zvcm1GdW5jdGlvbiA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIikgY3Vyc29yVHJhbnNmb3JtRnVuY3Rpb24gPSBmdW5jO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hcHBseUN1cnNvclRyYW5zZm9ybSA9IGZ1bmN0aW9uIChjdXJzb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJzb3JUcmFuc2Zvcm1GdW5jdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3JUcmFuc2Zvcm1GdW5jdGlvbi5jYWxsKHRoaXMsIGN1cnNvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3Vyc29yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5oYXNFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrc1tldmVudF07XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb3BhZ2F0ZSA9IGZ1bmN0aW9uICh0YXJnZXQsIGV2ZW50T2JqKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gdGFyZ2V0LnBhcmVudCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb3VzZSA9IHBhcmVudC5leHRlbnNpb24oJ01vdXNlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdXNlLmhhc0V2ZW50KGV2ZW50T2JqLnR5cGUoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBldmVudE9iai50eXBlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZXZlbnRPYmogPSBldmVudE9iai5vcmlnaW5hbFRhcmdldC5jYWxsKHskJE1PVVNFUFJPUEFHQVRJT05TRVRURVI6IHBhcmVudH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbW91c2UucmVzb2x2ZShwYXJlbnQsIHR5cGUsIF9ldmVudE9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlID0gZnVuY3Rpb24gKHRhcmdldCwgZXZlbnQsIGV2ZW50T2JqKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBHZXRFdmVudEFycmF5KGV2ZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFycmF5LiRPRkYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlbaV0uY2FsbCh0YXJnZXQsIGV2ZW50T2JqKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChldmVudE9iai5wcm9wYWdhdGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcGFnYXRlKHRhcmdldCwgZXZlbnRPYmopO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnVW5hYmxlIHRvIHJlc29sdmUgZXZlbnQgW3tlfV0uIE5vIHN1Y2ggZXZlbnQhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIGNhbGxiYWNrcykge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzW2ldLiQkT0ZGID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwcm9wO1xyXG4gICAgICAgICAgICAgICAgZm9yKHByb3AgaW4gY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY2FsbGJhY2tzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChjYWxsYmFja3NbcHJvcF1bMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1twcm9wXS5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjYWxsYmFja3NbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBtb3VzZUNoZWNrRnVuY3Rpb249IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIucGx1Z2luKCdPYmplY3RzJyxcclxuICAgIFsnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFN0eWxlKERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcHJvcGVydGllcyA9IHt9LFxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzID0gW10sXHJcbiAgICAgICAgICAgICAgICBzZXR0ZXJzID0ge30sXHJcbiAgICAgICAgICAgICAgICBnZXR0ZXJzID0ge30sXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEdldFNldHRlckZ1bmN0aW9uKG5hbWUsIHNldHRlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBzZXR0ZXIuYXBwbHkodGhpcywgW3ZhbHVlLCBwcm9wZXJ0aWVzW25hbWVdLnZhbHVlXSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZCA9IHByb3BlcnRpZXNbbmFtZV0udmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT09IFwiYm9vbGVhblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe24gOiBuYW1lfSwgJ1VuYWJsZSB0byBzZXQgcHJvcGVydHkge259LiBJbnZhbGlkIHZhbHVlIScsIHNlbGYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW29sZCwgcmVzdWx0XTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXNbbmFtZV0udmFsdWUgPSByZXN1bHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbGxiYWNrc1tuYW1lXSkgY2FsbGJhY2tzW25hbWVdID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrc1tuYW1lXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW25hbWVdW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gR2V0R2V0dGVyRnVuY3Rpb24obmFtZSwgZ2V0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXR0ZXIuY2FsbChudWxsLCBwcm9wZXJ0aWVzW25hbWVdLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gU3R5bGVUeXBlMShhLCBiKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFzZXR0ZXJzW2FdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0YXJnZXQudHlwZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgJ09iamVjdCB0eXBlIHt0eXBlfSBoYXMgbm8gcHJvcGVydHkge3Byb3BlcnR5fScsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldHRlcnNbYV0uYXBwbHkodGFyZ2V0LCBbYl0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTdHlsZVR5cGUyKG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHNldHRlcnN0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gb2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvYmplY3QuaGFzT3duUHJvcGVydHkocHJvcGVydHkpIHx8ICFzZXR0ZXJzW3Byb3BlcnR5XSkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2V0dGVyc1twcm9wZXJ0eV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0YXJnZXQudHlwZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sICdPYmplY3QgdHlwZSB7dHlwZX0gaGFzIG5vIHN0eWxlIHByb3BlcnR5IHtwcm9wZXJ0eX0nLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR0ZXJzdGFjay5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyaW5nOiBwcm9wZXJ0aWVzW3Byb3BlcnR5XS5vcmRlcmluZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRlcjogc2V0dGVyc1twcm9wZXJ0eV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHNldHRlcnN0YWNrLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldHRlcnN0YWNrLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEub3JkZXJpbmcgLSBiLm9yZGVyaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2V0dGVyc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGVyc3RhY2tbaV0uc2V0dGVyLmFwcGx5KHRhcmdldCwgW29iamVjdFtzZXR0ZXJzdGFja1tpXS5wcm9wZXJ0eV1dKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvOiBKU09OLnN0cmluZ2lmeShvYmplY3QpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0YXJnZXQudHlwZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sICdPYmplY3Qge3R5cGV9IGhhcyBnb3Qgbm8gc3R5bGUgcHJvcGVydGllcyB0byBiZSBhcHBsaWVkIGluIHtvfScsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFN0eWxlVHlwZTMobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFnZXR0ZXJzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0YXJnZXQudHlwZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgJ09iamVjdCB7dHlwZX0gaGFzIG5vIHByb3BlcnR5IHtwcm9wZXJ0eX0nLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dGVyc1tuYW1lXS5hcHBseSh0YXJnZXQsIFtwcm9wZXJ0aWVzW25hbWVdLnZhbHVlXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdzdHlsZScsIGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGEgPT09IFwic3RyaW5nXCIgJiYgYiAhPT0gdW5kZWZpbmVkKSBTdHlsZVR5cGUxLmFwcGx5KHRoaXMsIFthLCBiXSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYSA9PT0gXCJvYmplY3RcIikgU3R5bGVUeXBlMi5hcHBseSh0aGlzLCBbYV0pO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGEgPT09ICdzdHJpbmcnICYmIGIgPT09IHVuZGVmaW5lZCkgcmV0dXJuIFN0eWxlVHlwZTMuYXBwbHkodGhpcywgW2FdKTtcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdJbnZhbGlkIC5zdHlsZSgpIGFyZ3VtZW50cycsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcignd2F0Y2gnLCBmdW5jdGlvbiAocHJvcGVydHksIGNhbGxiYWNrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHkgIT09IFwib2JqZWN0XCIgfHwgcHJvcGVydHkuY29uc3RydWN0b3IgIT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdQcm9wZXJ0eSBpcyBub3QgYW4gYXJyYXkgb3Igc3RyaW5nJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7cDogcHJvcGVydHl9LCAnU3R5bGUgY2hhbmdlIGNhbGxiYWNrIGZvciBwcm9wZXJ0eSB7cH0gaXMgbm90IGEgZnVuY3Rpb24nLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5LmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnR5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHlbaV0gIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtpOiBpLCBwOiBwcm9wZXJ0eVtpXX0sICdQcm9wZXJ0eSB7aX0gaXMgbm90IGEgc3RyaW5nIHtwfScsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFja3NbcHJvcGVydHlbaV1dIHx8IHR5cGVvZiBjYWxsYmFja3NbcHJvcGVydHlbaV1dICE9PSBcIm9iamVjdFwiIHx8IGNhbGxiYWNrc1twcm9wZXJ0eVtpXV0uY29uc3RydWN0b3IgIT09IEFycmF5KSBjYWxsYmFja3NbcHJvcGVydHlbaV1dID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbcHJvcGVydHlbaV1dLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJvcGVydHkgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbGxiYWNrc1twcm9wZXJ0eV0gfHwgY2FsbGJhY2tzW3Byb3BlcnR5XS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIGNhbGxiYWNrc1twcm9wZXJ0eV0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbcHJvcGVydHldLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7cDogcHJvcGVydHl9LCAnU3R5bGUgcHJvcGVydHkge3B9IGlzIG5vdCBhbiBhcnJheSBvciBzdHJpbmcnLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZWZpbmUgPSBmdW5jdGlvbiAob3JkZXJpbmcsIG5hbWUsIHZhbHVlLCBzZXR0ZXIsIGdldHRlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdEdXBsaWNhdGVkIFN0eWxlIFByb3BlcnR5IHtuYW1lfScsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIgfHwgbmFtZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bjogbmFtZX0sICdQcm9wZXJ0eSB7bmFtZX0gaXMgbm90IGEgc3RyaW5nIG9yIGVtcHR5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZ2V0dGVyICE9PSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIHNldHRlciAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe246IG5hbWV9LCAnVW5hYmxlIHRvIGRlZmluZSBwcm9wZXJ0eSB7bn0uIEdldHRlciBvciBzZXR0ZXIgaXMgdW5kZWZpbmVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3JkZXJpbmcgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bjogbmFtZX0sICdTdHlsZSBwcm9wZXJ0eXtufSBhcHBsaWNhdGlvbiBvcmRlciBpbiBub3QgYSBudW1iZXInKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzW25hbWVdID0ge29yZGVyaW5nOiBvcmRlcmluZywgdmFsdWU6IHZhbHVlfTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZXR0ZXJzW25hbWVdID0gR2V0U2V0dGVyRnVuY3Rpb24obmFtZSwgc2V0dGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICBnZXR0ZXJzW25hbWVdID0gR2V0R2V0dGVyRnVuY3Rpb24obmFtZSwgZ2V0dGVyKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW25hbWVdKSByZXR1cm4gcHJvcGVydGllc1tuYW1lXS52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtuOiBuYW1lfSwgJ0dldHRpbmcgdmFsdWUgb2YgcHJvcGVydHkge259IHRoYXQgZG9lcyBub3QgZXhpc3QnKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9yZGVyaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW25hbWVdKSByZXR1cm4gcHJvcGVydGllc1tuYW1lXS5vcmRlcmluZztcclxuXHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtuOiBuYW1lfSwgJ0dldHRpbmcgb3JkZXJpbmcgb2YgcHJvcGVydHl7bn0gdGhhdCBkb2VzIG5vdCBleGlzdCEnKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb3A7XHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgZm9yKHByb3AgaW4gcHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHByb3BlcnRpZXNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yKHByb3AgaW4gc2V0dGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHNldHRlcnMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNldHRlcnNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yKHByb3AgaW4gZ2V0dGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGdldHRlcnMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGdldHRlcnNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGNhbGxiYWNrc1swXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5zaGlmdCgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFja3MgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBzZXR0ZXJzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgZ2V0dGVycyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMy8yNS8yMDE3LlxyXG4gKi9cclxuJFIucGx1Z2luKCdPYmplY3RzJyxcclxuICAgIFsnRGVidWcnLCAnK01vZGVsJywgJ0BpbmplY3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFRleHQoRGVidWcsIE1vZGVsSGVscGVyLCBpbmplY3QsIEZvbnRzKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFwcGx5VG8oJ1RleHQnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBvYmplY3QgPSB0aGlzLm9iamVjdCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG9iamVjdC50eXBlKCkgIT09ICdUZXh0JykgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdmFyIGxpbmVzID0gW10sXHJcbiAgICAgICAgICAgICAgICB3b3JkQnlXb3JkUmVnRXhwID0gLygoXFxTK1xccyspfChcXFMrJCkpL2csXHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IG9iamVjdC5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnJyxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbGltaXRzID0gW0luZmluaXR5LCBJbmZpbml0eV0sXHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IDAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSAwO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignbGluZXMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaChsaW5lc1tpXS5zdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcignd29yZHMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHdvcmRzID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IGxpbmVzLmxlbmd0aDsgbCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF93ID0gbGluZXNbaV0ud29yZHMoKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB3ID0gMDsgdyA8IF93Lmxlbmd0aDsgdysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLnB1c2goX3cuc3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB3b3JkcztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxpbWl0cyA9IGZ1bmN0aW9uICh3LCBoKSB7XHJcbiAgICAgICAgICAgICAgICBsaW1pdHNbMF0gPSB3O1xyXG4gICAgICAgICAgICAgICAgbGltaXRzWzFdID0gaDtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBvYmplY3Qud2F0Y2goJ3N0cicsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobiAhPT0gc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nID0gbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBvYmplY3Qud2F0Y2goWydzdHInLCAnZm9udFNpemUnLCAnbGluZUhlaWdodCcsICdjb2xvcicsICd3ZWlnaHQnLCAnc3R5bGUnXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uIChmb3JjZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh1cGRhdGUgfHwgZm9yY2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBpZWNlcyA9IHN0cmluZy5tYXRjaCh3b3JkQnlXb3JkUmVnRXhwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoID0gMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbCA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0cyA9IHN0eWxlLmdldCgnc2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ID0gMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHBpZWNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm9udCA9IHN0eWxlLmdldCgnc3lzdGVtRm9udCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemUgPSBzdHlsZS5nZXQoJ2ZvbnRTaXplJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0ID0gc3R5bGUuZ2V0KCdsaW5lSGVpZ2h0JyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0ID0gc3R5bGUuZ2V0KCd3ZWlnaHQnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yID0gc3R5bGUuZ2V0KCdjb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFN0eWxlID0gc3R5bGUuZ2V0KCdzdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgPSBbXTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBpZWNlcy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VybmV3bGluZSA9IHBpZWNlc1tpXS5tYXRjaCgvXFxuL2cpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IHBpZWNlc1tpXS5tYXRjaCgvXFxTKy9nKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JkID0gaW5qZWN0KCckVGV4dFdvcmRDbGFzcycpLnN0cmluZyhzdHJbMF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGluZXNbbF0pIGxpbmVzW2xdID0gaW5qZWN0KCckVGV4dExpbmVDbGFzcycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvbnQoZm9udClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2l6ZShmb250U2l6ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaGVpZ2h0KGxpbmVIZWlnaHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbG9yKGNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShmb250U3R5bGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLndlaWdodChmb250V2VpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lc1tsXS5wdXNoKHdvcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoID0gbGluZXNbbF0ud2lkdGgoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZVdpZHRoID49IGxpbWl0c1swXSB8fCB1c2VybmV3bGluZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lV2lkdGggPiB3KSB3ID0gbGluZVdpZHRoICsgNDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBsaW5lcy5sZW5ndGggKiBzdHlsZS5nZXQoJ2xpbmVIZWlnaHQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvbnRTaXplID4gbGluZUhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ICs9IGZvbnRTaXplIC0gbGluZUhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmb250U2l6ZSA8IGxpbmVIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCAtPSBsaW5lSGVpZ2h0IC0gZm9udFNpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSB3O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGV4dEJsb2NrSGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBoZWlnaHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRleHRCbG9ja1dpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9yRWFjaExpbmUgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jLmFwcGx5KGxpbmVzW2ldLCBbaSwgbGluZXNbaV1dKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobGluZXNbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lcy5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGluZXMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobGltaXRzWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGltaXRzLnNoaWZ0KClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxpbWl0cyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHN0cmluZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgd29yZEJ5V29yZFJlZ0V4cCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIucGx1Z2luKCdPYmplY3RzJywgWydEZWJ1ZycsICdUcmVlJyxcclxuICAgICAgICBmdW5jdGlvbiBUcmVlKERlYnVnLCBUcmVlU2VydmljZSkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHBhcmVudCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBpZGVudGl0eSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBub25MZXR0ZXJzID0gL1teYS16QS1aMC05LV0rL2dtLFxyXG4gICAgICAgICAgICAgICAgY2FwaXRhbHMgPSAvW0EtWl0vZztcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG5vcm1hbGlzZUlkZW50aXR5KGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZCA9IGlkLnJlcGxhY2Uobm9uTGV0dGVycywgJycpO1xyXG4gICAgICAgICAgICAgICAgaWQgPSBpZC5yZXBsYWNlKGNhcGl0YWxzLCBmdW5jdGlvbiAoc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICctJyArIHN0cmluZy50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGlkID0gaWQucmVwbGFjZSgnLS0nLCAnLScpO1xyXG4gICAgICAgICAgICAgICAgaWQgPSBpZC5yZXBsYWNlKC8oXi0pfCgtJCkvZywgJycpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjaGVja1RyZWUodGFyZ2V0LCBvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnBhcmVudCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGVja1RyZWUodGFyZ2V0LCB0YXJnZXQucGFyZW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHRyZWVWaW9sYXRpb24odGFyZ2V0LCBvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQudHlwZSgnR3JvdXAnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2tUcmVlKHRhcmdldCwgb2JqZWN0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gb2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnBhcmVudCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignWW91IHRyeSB0byBhcHBlbmQgZ3JvdXAgcGFyZW50IGludG8gaXRzZWxmLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignWW91IHRyeSB0byBhcHBlbmQgZ3JvdXAgcGFyZW50IGludG8gaXRcXCdzIGNoaWxkcmVuLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC50eXBlKCkgIT09ICdHcm91cCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldC50eXBlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IG9iamVjdC50eXBlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ1lveSB0cnkgdG8gYXBwZW5kIFt7b2JqZWN0fV0gaW50byBbe3RhcmdldH1dLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBsYXllcnMgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcigndW5tb3VudCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmKCFpZGVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1VuYWJsZSB0byB1bm1vdW50IGEgZnJlZSBvYmplY3QnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQoKS5leHRlbnNpb24oJ0xheWVycycpLnJlbW92ZSh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignYXBwZW5kJywgZnVuY3Rpb24gKG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgaWYoIWlkZW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignVW5hYmxlIHRvIGFwcGVuZCBhIGZyZWUgb2JqZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudHlwZSgnR3JvdXAnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhdGNoKHt0eXBlOiB0aGlzLnR5cGUoKX0sICcgQ2FuIG5vdCBhcHBlbmQuIHR5cGVbe3R5cGV9XSBvZiBwYXJlbnQgaXMgbm90IGFsbG93ZWQhJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF0cmVlVmlvbGF0aW9uKHRoaXMsIG9iamVjdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmplY3QudW5tb3VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbGF5ZXJzKSBsYXllcnMgPSB0aGlzLmV4dGVuc2lvbignTGF5ZXJzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJzLnBsYWNlKG9iamVjdC5sYXllcigpLCBvYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5leHRlbnNpb24oJ1RyZWUnKS5wYXJlbnQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leHRlbnNpb24oJ0JveCcpLnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdhcHBlbmRUbycsIGZ1bmN0aW9uIChvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIGlmKCFpZGVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1VuYWJsZSB0byBhcHBlbmQgYSBmcmVlIG9iamVjdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgb2JqZWN0LmFwcGVuZCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ3BhcmVudCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignaWQnLCBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpZGVudGl0eSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaWQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQgPSBub3JtYWxpc2VJZGVudGl0eShpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkZW50aXR5ID0gaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmVlU2VydmljZS5yZWdpc3Rlcih0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgRGVidWcuZXJyb3IoJ05vcm1hbGlzZWQgaWRlbnRpdHkgc2VlbXMgdG8gYmUgZW1wdHkuIFVuYWJsZSB0byByZWdpc3RlciBHcmFwaGljcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWRlbnRpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIERlYnVnLmVycm9yKCdVbmFibGUgdG8gc2V0IGluaXRpYWwgaWQuIElkIGlzIG5vdCBhIHN0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGlkID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkID0gbm9ybWFsaXNlSWRlbnRpdHkoaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmVlU2VydmljZS5yZWdpc3Rlcih0aGlzLCBpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBEZWJ1Zy5lcnJvcignTm9ybWFsaXNlZCBpZGVudGl0eSBzZWVtcyB0byBiZSBlbXB0eS4gVW5hYmxlIHRvIHJlZ2lzdGVyIEdyYXBoaWNzJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWRlbnRpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIERlYnVnLmVycm9yKCdJZCBpcyBub3QgYSBzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gZnVuY3Rpb24gKGdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGdyb3VwLnR5cGUgIT09IFwiZnVuY3Rpb25cIiB8fCAhZ3JvdXAudHlwZSgnR3JvdXAnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IHR5cGVvZiBncm91cCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ3JvdXAudHlwZSA/IGdyb3VwLnR5cGUoKSA6ICd1bmtub3duVHlwZSdcclxuICAgICAgICAgICAgICAgICAgICB9LCAnVW5hYmxlIHRvIHNldCBwYXJlbnQgYXMge2dyb3VwfXt0eXBlfS4gT2JqZWN0IGlzIG5vdCBhIGdyb3VwIScsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gZ3JvdXA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgVHJlZVNlcnZpY2UudW5yZWdpc3Rlcih0aGlzLm9iamVjdCgpKTtcclxuICAgICAgICAgICAgICAgIGxheWVycyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTtcclxuIiwiJFIuc2VydmljZShbXHJcbiAgICAnQGluamVjdCcsXHJcbiAgICBmdW5jdGlvbiBBcGkoaW5qZWN0KSB7XHJcbiAgICAgICAgdGhpcy5jb250cm9sID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgICAgICB2YXIgYXBpID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQuY2FuID09PSBcImZ1bmN0aW9uXCIgJiYgdGFyZ2V0LmNhbi4kJEFQSVBST1RFQ1RFRCkge1xyXG4gICAgICAgICAgICAgICAgYXBpID0gdGFyZ2V0LmNhbi5jYWxsKHskJEFQSVBST1RFQ1RFRDogdHJ1ZX0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKCFhcGkpIHtcclxuICAgICAgICAgICAgICAgIGFwaSA9IGluamVjdCgnJEFwaUNvbnRyb2xsZXInKTtcclxuICAgICAgICAgICAgICAgIGFwaS53cmFwKHRhcmdldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGFwaTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbl0pOyIsIiRSLnNlcnZpY2UuY2xhc3MoJ0FwaScsXHJcbiAgICBbXHJcbiAgICAgICAgJ0RlYnVnJywgJ0lzJywgJ0V2ZW50cycsXHJcbiAgICAgICAgZnVuY3Rpb24gQXBpQ29udHJvbGxlcihEZWJ1ZywgSXMsIEV2ZW50cykge1xyXG4gICAgICAgICAgICB2YXIgbWV0aG9kcyA9IHt9LFxyXG4gICAgICAgICAgICAgICAgZW1pdHRlciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIHRoaXMud3JhcCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0LmNhbiAhPT0gXCJ1bmRlZmluZWRcIikgRGVidWcuZXJyb3Ioe3RhcmdldDogdGFyZ2V0LmNvbnN0cnVjdG9yLm5hbWV9LCAnVGFyZ2V0IG1ldGhvZCBjb2xsaXNpb24uIHt0YXJnZXR9IGFscmVhZHkgaGFzIC5jYW4gZmllbGQnKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0LmRvICE9PSBcInVuZGVmaW5lZFwiKSBEZWJ1Zy5lcnJvcih7dGFyZ2V0OiB0YXJnZXQuY29uc3RydWN0b3IubmFtZX0sICdUYXJnZXQgbWV0aG9kIGNvbGxpc2lvbi4ge3RhcmdldH0gYWxyZWFkeSBoYXMgLmRvIGZpZWxkJyk7XHJcbiAgICAgICAgICAgICAgICBlbWl0dGVyID0gRXZlbnRzLmVtaXR0ZXIodGFyZ2V0KTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmNhbiA9IGZ1bmN0aW9uIChhY3Rpb25OYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy4kJEFQSVBST1RFQ1RFRCkgcmV0dXJuIHNlbGY7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFJcy5wcm9wZXJTdHJpbmcoYWN0aW9uTmFtZSkpIERlYnVnLmVycm9yKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdDogdGFyZ2V0LmNvbnN0cnVjdG9yLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG46IHR5cGVvZiBhY3Rpb25OYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgJ3t0fVxcJ3MgQXBpIG1ldGhvZCB7bmFtZX0gY2hlY2sgZmFpbGVkLiBBY3Rpb25OYW1lIGlzIG5vdCBhIHN0cmluZycsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhIW1ldGhvZHNbYWN0aW9uTmFtZV07XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmNhbi4kJEFQSVBST1RFQ1RFRCA9IHRydWU7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHRhcmdldC5hcGkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgbSBpbiBtZXRob2RzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG1ldGhvZHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5kbyA9IGZ1bmN0aW9uIChhY3Rpb24sIHBheWxvYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzLnByb3BlclN0cmluZyhhY3Rpb24pKSBEZWJ1Zy5lcnJvcih7YTogdHlwZW9mIGFjdGlvbn0sICdJbnZhbGlkIGFjdGlvbiBwYXJhbWV0ZXIge2F9LiBBY3Rpb24gaXMgbm90IGEgc3RyaW5nJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5jYW4oYWN0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5pbmZvKHtuIDogYWN0aW9ufSwgJ1Byb2Nlc3Npbmcge259JywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZ3JvdXAoYWN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRob2RzW2FjdGlvbl0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZHNbYWN0aW9uXVtpXS5jYWxsKHRhcmdldCwgcGF5bG9hZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtaXR0ZXIpIGVtaXR0ZXIucmVzb2x2ZShhY3Rpb24sIHBheWxvYWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5ncm91cEVuZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBEZWJ1Zy53YXJuKHt0OiB0YXJnZXQuY29uc3RydWN0b3IubmFtZSwgYTogYWN0aW9ufSwgJ3t0fSBjYW4gbm90IHBlcmZvcm0gYWN0aW9uIHthfS4nLCB0YXJnZXQpXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWZpbmUgPSBmdW5jdGlvbiAoYWN0aW9uTmFtZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzLnByb3BlclN0cmluZyhhY3Rpb25OYW1lKSkgRGVidWcuZXJyb3Ioe246IHR5cGVvZiBhY3Rpb25OYW1lfSwgJ1VuYWJsZSB0byBkZWZpbmUgQXBpIG1ldGhvZCB7bn0uIE1ldGhvZCBuYW1lIGlzIG5vdCBhIHN0cmluZycsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0LmNhbihhY3Rpb25OYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RzW2FjdGlvbk5hbWVdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmluZm8oe24gOiBhY3Rpb25OYW1lfSwgJ0FkZGVkIEFQSSBtZXRob2Qge259JywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5yZWdpc3RlcihhY3Rpb25OYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmluZm8oe24gOiBhY3Rpb25OYW1lfSwgJ0FkZGVkIGFwaSBjYWxsYmFjayBtZXRob2QgZm9yIHtufScsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZHNbYWN0aW9uTmFtZV0ucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UoXHJcbiAgICBbJ0BDYW52YXMnLCAnQENvbmZpZycsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQ2FudmFzKENhbnZhcywgQ29uZmlnLCBEZWJ1Zykge1xyXG4gICAgICAgICAgICB2YXIgY2FsbGJhY2tzID0gW10sIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgZGltbXMgPSBbMCwgMF0sIHh1bml0cyA9ICdweCcsIHl1bml0cyA9ICdweCcsXHJcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBbMCwgMF0sIHNjcm9sbCA9IFswLCAwXSwgb3V0cHV0ID0gQ2FudmFzLmVsZW1lbnQoKSwgc2VsZiA9IHRoaXMsIGhpZGRlbiA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgQ29uZmlnLmRlZmluZShcclxuICAgICAgICAgICAgICAgICdzaXplJyxcclxuICAgICAgICAgICAgICAgIFswLCAwXSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0FycmF5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbTogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh0eXBlb2YgdlswXSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdlswXSA9PT0gQXJyYXkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiB2WzBdID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2WzFdID09PSBcIm51bWJlclwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLndhdGNoKFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdlswXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSB2WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2WzBdID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodlswXS5tYXRjaCgvXltcXGRdKyUkLykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHBhcnNlSW50KHZbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHh1bml0cyA9ICclJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAxMDAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHh1bml0cyA9ICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7d2lkdGg6IHZbMF19LCAne3dpZHRofSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgY2FudmFzLnNpemVbMF0uIFdpZHRoIHNldCBhcyAxMDAwcHgnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMTAwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3dpZHRoOiB2WzBdfSwgJ3t3aWR0aH0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIGNhbnZhcy5zaXplWzBdLiBXaWR0aCBzZXQgYXMgMTAwMHB4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdlsxXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gdlsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdlsxXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZbMV0ubWF0Y2goL15bXFxkXSslJC8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gcGFyc2VJbnQodlsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeXVuaXRzID0gJyUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSA4MDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7aGVpZ2h0OiB2WzFdfSwgJ3toZWlnaHR9IGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBjYW52YXMuc2l6ZVsxXS4gV2lkdGggc2V0IGFzIDgwMHB4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSA4MDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtoZWlnaHQ6IHZbMV19LCAne2hlaWdodH0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIGNhbnZhcy5zaXplWzFdLiBXaWR0aCBzZXQgYXMgODAwcHgnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBXaW5kb3dSZXNpemVDYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcFcgPSAwLCBwSCA9IDAsIHJlc2l6ZVRPID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNvbXBhcmVPblJlc2l6ZShzdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeHVuaXRzID09PSAnJScgfHwgeXVuaXRzID09PSAnJScpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX3BXID0gcFcsIF9wSCA9IHBIO1xyXG4gICAgICAgICAgICAgICAgICAgIENhbnZhcy5zaXplKDAsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNpemVUTykgY2xlYXJUaW1lb3V0KHJlc2l6ZVRPKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplVE8gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBDYW52YXMuZWxlbWVudCgpLnBhcmVudE5vZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShwYXJlbnROb2RlLCBudWxsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBIID0gcGFyc2VJbnQoc3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJ2hlaWdodCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcFcgPSBwYXJzZUludChzdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgnd2lkdGgnKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3BXICE9PSBwVykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHh1bml0cyA9PT0gJyUnICYmIF9wVyAhPT0gcFcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1tc1swXSA9IE1hdGguZmxvb3IocFcgKiAod2lkdGggLyAxMDApKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3BIICE9PSBwSCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHl1bml0cyA9PT0gJyUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltbXNbMV0gPSBNYXRoLmZsb29yKHBIICogKGhlaWdodCAvIDEwMCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENhbnZhcy5zaXplKGRpbW1zWzBdLCBkaW1tc1sxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6ZVRPID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpbW1zWzBdID0gd2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgZGltbXNbMV0gPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgQ2FudmFzLnNpemUoZGltbXNbMF0sIGRpbW1zWzFdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBHZXRDYW52YXNPZmZzZXQoeCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldFByb3AgPSB4ID8gJ29mZnNldExlZnQnIDogJ29mZnNldFRvcCc7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IDAsIGVsZW1lbnQgPSBDYW52YXMuZWxlbWVudCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGVsZW1lbnRbb2Zmc2V0UHJvcF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBlbGVtZW50W29mZnNldFByb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gd2hpbGUgKGVsZW1lbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gV2luZG93UmVzaXplQ2FsbGJhY2soKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW91dHB1dCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY29tcGFyZU9uUmVzaXplKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRbMF0gPSBHZXRDYW52YXNPZmZzZXQoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WzFdID0gR2V0Q2FudmFzT2Zmc2V0KDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tpXShkaW1tc1swXSwgZGltbXNbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBSZXNvbHZlQ2FudmFzRXZlbnRBcnJheSgnY2FudmFzcmVzaXplJywgW25ldyBSQ2FudmFzUmVzaXplRXZlbnQoKV0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBDYW52YXNTd2l0Y2hDYWxsYmFjaygpIHtcclxuICAgICAgICAgICAgICAgIG9mZnNldFswXSA9IEdldENhbnZhc09mZnNldCgwKTtcclxuICAgICAgICAgICAgICAgIG9mZnNldFsxXSA9IEdldENhbnZhc09mZnNldCgxKTtcclxuICAgICAgICAgICAgICAgIFJlc29sdmVDYW52YXNFdmVudEFycmF5KCdjYW52YXNzd2l0Y2gnLCBbbmV3IFJDYW52YXNTd2l0Y2hFdmVudCgpXSk7XHJcbiAgICAgICAgICAgICAgICBXaW5kb3dSZXNpemVDYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZSA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMub2ZmcmVzaXplID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFja3MuZmlsdGVyKGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGYgIT09IGZ1bmM7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeHVuaXRzID09PSAnJScpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcFcgKiAod2lkdGggLyAxMDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeHVuaXRzID09PSAnJScpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcEggKiAoaGVpZ2h0IC8gMTAwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICBpZihvdXRwdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBoaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zaG93ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG91dHB1dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQuc3R5bGUuZGlzcGxheSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIGNhbnZhc0V2ZW50Q2FsbGJhY2tzID0ge1xyXG4gICAgICAgICAgICAgICAgbW91c2Vtb3ZlOiBbXSxcclxuICAgICAgICAgICAgICAgIG1vdXNlZG93bjogW10sXHJcbiAgICAgICAgICAgICAgICBtb3VzZXVwOiBbXSxcclxuICAgICAgICAgICAgICAgIG1vdXNlbGVhdmU6IFtdLFxyXG4gICAgICAgICAgICAgICAgbW91c2VlbnRlcjogW10sXHJcbiAgICAgICAgICAgICAgICBjYW52YXNyZXNpemU6IFtdLFxyXG4gICAgICAgICAgICAgICAgY2FudmFzc3dpdGNoOiBbXVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gR2V0Q2FudmFzRXZlbnRBcnJheShldmVudCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbnZhc0V2ZW50Q2FsbGJhY2tzW2V2ZW50XTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkoZXZlbnQsIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJvYmplY3RcIiB8fCBkYXRhLmNvbnN0cnVjdG9yICE9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2U6IGV2ZW50fSwgJ0NhbnZhcyA6IHVuYWJsZSB0byByZXNvbHZlIGV2ZW50IGFycmF5IFt7ZX1dLiBEYXRhIGlzIG5vdCBhbiBhcnJheSEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gR2V0Q2FudmFzRXZlbnRBcnJheShldmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2U6IGV2ZW50fSwgJ1VuYWJsZSB0byByZXNvbHZlIGV2ZW50IFt7ZX1dIG5vIHN1Y2ggZXZlbnQhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2ldLmFwcGx5KHNlbGYsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBHZXRDYW52YXNFdmVudEFycmF5KGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIGlmICghYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudH0sICdDYW52YXMgOiBVbmFibGUgdG8gc2V0IGV2ZW50IGhhbmRsZXIgZm9yIGV2ZW50IFt7ZX1dJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtmOiBldmVudH0sICdDYW52YXMgOiBVbmFibGUgdG8gc2V0IGV2ZW50IGhhbmRsZXIgW3tmfV0nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGFycmF5LnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBHZXRNb3VzZVJlbGF0aXZlUG9zaXRpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtlLnBhZ2VYIC0gb2Zmc2V0WzBdIC0gc2Nyb2xsWzBdLCBlLnBhZ2VZIC0gb2Zmc2V0WzFdIC0gc2Nyb2xsWzFdXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gUkNhbnZhc01vdXNlKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFnZSA9IFtlLnBhZ2VYLCBlLnBhZ2VZXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlZW4gPSBbZS5wYWdlWCAtIHNjcm9sbFswXSwgZS5wYWdlWSAtIHNjcm9sbFsxXV07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gR2V0TW91c2VSZWxhdGl2ZVBvc2l0aW9uKGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBSQ2FudmFzTW91c2VFdmVudChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbmFsID0gZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IGUudHlwZTtcclxuICAgICAgICAgICAgICAgIHRoaXMubW91c2UgPSBuZXcgUkNhbnZhc01vdXNlKGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBzZWxmO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBSQ2FudmFzUmVzaXplRXZlbnQoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSAnY2FudmFzcmVzaXplJztcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzID0gc2VsZjtcclxuICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0ID0gW29mZnNldFswXSwgb2Zmc2V0WzFdXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSA9IFt3aWR0aCwgaGVpZ2h0XTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luYWwgPSBbd2lkdGgsIGhlaWdodF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVuaXRzID0gW3h1bml0cywgeXVuaXRzXTtcclxuICAgICAgICAgICAgICAgIGlmICh4dW5pdHMgPT09ICclJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2l6ZVswXSA9IHBXICogKHdpZHRoIC8gMTAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh5dW5pdHMgPT09ICclJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2l6ZVsxXSA9IHBIICogKGhlaWdodCAvIDEwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFJDYW52YXNTd2l0Y2hFdmVudCgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9ICdjYW52YXNzd2l0Y2gnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBzZWxmO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vZmZzZXQgPSBbb2Zmc2V0WzBdLCBvZmZzZXRbMV1dO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaXplID0gW3dpZHRoLCBoZWlnaHRdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbCA9IFt3aWR0aCwgaGVpZ2h0XTtcclxuICAgICAgICAgICAgICAgIHRoaXMudW5pdHMgPSBbeHVuaXRzLCB5dW5pdHNdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHh1bml0cyA9PT0gJyUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaXplWzBdID0gcFcgKiAod2lkdGggLyAxMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHl1bml0cyA9PT0gJyUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaXplWzFdID0gcEggKiAoaGVpZ2h0IC8gMTAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVycyA9IHtcclxuICAgICAgICAgICAgICAgIG1vdXNlbW92ZTogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBSZXNvbHZlQ2FudmFzRXZlbnRBcnJheSgnbW91c2Vtb3ZlJywgW25ldyBSQ2FudmFzTW91c2VFdmVudChlKV0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1vdXNlZG93bjogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBSZXNvbHZlQ2FudmFzRXZlbnRBcnJheSgnbW91c2Vkb3duJywgW25ldyBSQ2FudmFzTW91c2VFdmVudChlKV0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1vdXNldXA6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkoJ21vdXNldXAnLCBbbmV3IFJDYW52YXNNb3VzZUV2ZW50KGUpXSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbW91c2VsZWF2ZTogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBSZXNvbHZlQ2FudmFzRXZlbnRBcnJheSgnbW91c2VsZWF2ZScsIFtuZXcgUkNhbnZhc01vdXNlRXZlbnQoZSldKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtb3VzZWVudGVyOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIFJlc29sdmVDYW52YXNFdmVudEFycmF5KCdtb3VzZWVudGVyJywgW25ldyBSQ2FudmFzTW91c2VFdmVudChlKV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgQ2FudmFzLnN3aXRjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChldmVudCBpbiBsaXN0ZW5lcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShldmVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbZXZlbnRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSB0aGlzLmVsZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChoaWRkZW4pIG91dHB1dC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBvdXRwdXQuc3R5bGUuZGlzcGxheSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGV2ZW50IGluIGxpc3RlbmVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMuaGFzT3duUHJvcGVydHkoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbZXZlbnRdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBDYW52YXNTd2l0Y2hDYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsWzFdID0gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0O1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsWzBdID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIFdpbmRvd1Jlc2l6ZUNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZShcclxuICAgIFsnQENvbmZpZycsXHJcbiAgICAgICAgZnVuY3Rpb24gRGVidWcoY29uZmlnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3RyaW5nID0gJ/CdkJEnLFxyXG4gICAgICAgICAgICAgICAgcmVnZXhwID0gL3tbYS16QS1aXSt9L2csXHJcbiAgICAgICAgICAgICAgICByZWdleHBuYW1lID0gL1thLXpBLVpdKy9nLFxyXG4gICAgICAgICAgICAgICAgd2FybmluZ3MgPSBjb25maWcuZGVmaW5lKCd3YXJuaW5ncycsIGZhbHNlLCB7aXNCb29sOiB0cnVlfSwgZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuaW5ncyA9IHY7XHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIGdyb3VwTGV2ZWwgPSBjb25maWcuZGVmaW5lKCdkZWJ1Z0xldmVsJywgMCwge2lzTnVtYmVyOiB0cnVlfSwgZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodiA8IDApIHYgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm5pbmdzID0gdjtcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudExldmVsID0gMDtcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgZXJyb3JDYiA9IFtdLCBtZXNzYWdlQ2IgPSBbXSwgaW5mb0NiID0gW10sIGltcG9ydGFudENiID0gW107XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBSZXNvbHZlRXZlbnQodHlwZSwgZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5O1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdlcnJvcicpIGFycmF5ID0gZXJyb3JDYjtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnbWVzc2FnZScpIGFycmF5ID0gbWVzc2FnZUNiO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdpbmZvJykgYXJyYXkgPSBpbmZvQ2I7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2ltcG9ydGFudCcpIGFycmF5ID0gaW1wb3J0YW50Q2I7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2ldKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSAnZXJyb3InKSBlcnJvckNiLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT09ICdtZXNzYWdlJykgbWVzc2FnZUNiLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT09ICdpbmZvJykgbWVzc2FnZUNiLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT09ICdpbXBvcnRhbnQnKSBtZXNzYWdlQ2IucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBHZXRNZXNzYWdlKGRhdGEsIG1lc3NhZ2UsIHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IG1lc3NhZ2UubWF0Y2gocmVnZXhwKTtcclxuICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRjaGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaG5hbWUgPSBtYXRjaGVzW2ldLm1hdGNoKHJlZ2V4cG5hbWUpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2huYW1lKSBwcm9wc1ttYXRjaG5hbWVdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZTogbWF0Y2hlc1tpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6ICdbJyArIChkYXRhW21hdGNobmFtZV0gPT09IHVuZGVmaW5lZCA/ICd1bmRlZmluZWQnIDogZGF0YVttYXRjaG5hbWVdLnRvU3RyaW5nKCkpICsgJ10nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHByb3BzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJvcHMuaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS5yZXBsYWNlKHByb3BzW3Byb3BdLnJlcGxhY2UsIHByb3BzW3Byb3BdLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzb3VyY2UgJiYgc291cmNlLmNvbnN0cnVjdG9yICYmIHNvdXJjZS5jb25zdHJ1Y3Rvci5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9ICcgJyArIHNvdXJjZS5jb25zdHJ1Y3Rvci5uYW1lICsgJyDilIIgJyArIG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gc3RyaW5nICsgbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVycm9yID0gZnVuY3Rpb24gKGRhdGEsIG1lc3NhZ2UsIHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlID0gbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IEdldE1lc3NhZ2UoZGF0YSwgbWVzc2FnZSwgc291cmNlKTtcclxuICAgICAgICAgICAgICAgIFJlc29sdmVFdmVudCgnZXJyb3InLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUudHJhY2UoKTtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2FybiA9IGZ1bmN0aW9uIChkYXRhLCBtZXNzYWdlLCBzb3VyY2UpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXdhcm5pbmdzLmdldCgpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlID0gbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gR2V0TWVzc2FnZShkYXRhLCBtZXNzYWdlLCBzb3VyY2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIFJlc29sdmVFdmVudCgnbWVzc2FnZScsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJyVjJyArIG1lc3NhZ2UsICdib3JkZXItbGVmdDo0cHggc29saWQgcmdiKDE3OCwxMzcsNzUpOyBwYWRkaW5nIDoycHggNnB4OyBiYWNrZ3JvdW5kOiByZ2JhKDEzMSwxMzgsMCwuMSk7IGNvbG9yOiByZ2IoMTc4LDEzNyw3NSknKTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmluZm8gPSBmdW5jdGlvbiAoZGF0YSwgbWVzc2FnZSwgc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXdhcm5pbmdzLmdldCgpKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBHZXRNZXNzYWdlKGRhdGEsIG1lc3NhZ2UsIHNvdXJjZSk7XHJcbiAgICAgICAgICAgICAgICBSZXNvbHZlRXZlbnQoJ2luZm8nLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCclYycgKyBtZXNzYWdlLCAnYm9yZGVyLWxlZnQ6MnB4IHNvbGlkIHJnYigxNDksMjAyLDApOyBwYWRkaW5nIDoycHggNnB4OyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LC4xKTsnKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IGZ1bmN0aW9uIChkYXRhLCBtZXNzYWdlLCBzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgIGlmICghd2FybmluZ3MuZ2V0KCkpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IEdldE1lc3NhZ2UoZGF0YSwgbWVzc2FnZSwgc291cmNlKTtcclxuICAgICAgICAgICAgICAgIFJlc29sdmVFdmVudCgnaW5mbycsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJyVjJyArIG1lc3NhZ2UsICdwYWRkaW5nOiAxcHggMTBweDsgYm9yZGVyLWxlZnQ6MnB4IHNvbGlkICMxMDk0OUM7IGZvbnQtd2VpZ2h0OmJvbGQ7IGJhY2tncm91bmQ6IHJnYmEoMCwxNzUsMjMxLC4xKTsgY29sb3I6ICMxMDk0OUMnKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50U2VwYXJhdG9yTWVzc2FnZXMgPSB7fSxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXBhcmF0b3JMZXZlbCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuc2VwYXJhdG9yID0gZnVuY3Rpb24gKGRhdGEsIG1lc3NhZ2UsIHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF3YXJuaW5ncy5nZXQoKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlID0gbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gR2V0TWVzc2FnZShkYXRhLCBtZXNzYWdlLCBzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFNlcGFyYXRvckxldmVsICsrO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFNlcGFyYXRvck1lc3NhZ2VzW2N1cnJlbnRTZXBhcmF0b3JMZXZlbF0gPSBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgUmVzb2x2ZUV2ZW50KCdpbmZvJywgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnJWMnICsgbWVzc2FnZSsgJyDijJsnLCAncGFkZGluZzogNHB4IDEwcHg7IGJvcmRlci1sZWZ0OiAycHggc29saWQgIzEwOTQ5QzsgYmFja2dyb3VuZDpyZ2JhKDE2LDE0OCwxNTYsMC4xKTsgY29sb3I6ICMxMDk0OUMnKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5zZXBhcmF0b3JFbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXdhcm5pbmdzLmdldCgpKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBpZihjdXJyZW50U2VwYXJhdG9yTWVzc2FnZXNbY3VycmVudFNlcGFyYXRvckxldmVsXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCclYycgICtjdXJyZW50U2VwYXJhdG9yTWVzc2FnZXNbY3VycmVudFNlcGFyYXRvckxldmVsXSArICcg4pyUJywgJ3BhZGRpbmc6IDRweCAxMHB4OyBib3JkZXItbGVmdDogMnB4IHNvbGlkICMxMDk0OUM7IGJhY2tncm91bmQ6cmdiYSgxNiwxNDgsMTU2LDAuMSk7IGNvbG9yOiAjMTA5NDlDJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNlcGFyYXRvckxldmVsLS07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihjdXJyZW50U2VwYXJhdG9yTGV2ZWwgPT09IDApIGN1cnJlbnRTZXBhcmF0b3JNZXNzYWdlcyA9IHt9O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wb3NpdGl2ZSA9IGZ1bmN0aW9uIChkYXRhLCBtZXNzYWdlLCBzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgIGlmICghd2FybmluZ3MuZ2V0KCkpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IEdldE1lc3NhZ2UoZGF0YSwgbWVzc2FnZSwgc291cmNlKTtcclxuICAgICAgICAgICAgICAgIFJlc29sdmVFdmVudCgnaW5mbycsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJyVjJyArIG1lc3NhZ2UsICdib3JkZXItbGVmdDogMnB4IHNvbGlkIHJnYigxNDksMjAyLDApOyBiYWNrZ3JvdW5kOnJnYmEoMTQ5LDIwMiwwLC4xKTsgcGFkZGluZzogNHB4IDEwcHg7IGNvbG9yOnJnYigxNDksMjAyLDApJyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm5lZ2F0aXZlID0gZnVuY3Rpb24gKGRhdGEsIG1lc3NhZ2UsIHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF3YXJuaW5ncy5nZXQoKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlID0gbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gR2V0TWVzc2FnZShkYXRhLCBtZXNzYWdlLCBzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgUmVzb2x2ZUV2ZW50KCdpbmZvJywgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnJWMnICsgbWVzc2FnZSwgJ2JvcmRlci1sZWZ0OiAycHggc29saWQgcmdiKDIyNCwxNCwwKTsgYmFja2dyb3VuZDpyZ2JhKDIyNCwxNCwwLC4xKTsgcGFkZGluZzogNHB4IDEwcHg7IGNvbG9yOiByZ2IoMjI0LDE0LDApJyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdyb3VwID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIGlmICghd2FybmluZ3MuZ2V0KCkpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRMZXZlbCA+PSBncm91cExldmVsLmdldCgpID8gY29uc29sZS5ncm91cENvbGxhcHNlZChtZXNzYWdlKSA6IGNvbnNvbGUuZ3JvdXAobWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50TGV2ZWwrKztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5ncm91cEVuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghd2FybmluZ3MuZ2V0KCkpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRMZXZlbC0tO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzIvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UoXHJcbiAgICBbJ0BDYW52YXMnLCAnQ2FudmFzJywgJ0BUaWNrZXInLCAnJEZpbmRlcicsXHJcbiAgICAgICAgZnVuY3Rpb24gRGlzcGF0Y2hlcihDYW52YXNSb290LCBDYW52YXMsIFRpY2tlciwgRmluZGVyKSB7XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91czogbnVsbFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1vdXNlZG93biA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91czogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjdXJzb3IgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2xkOiBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudDogWzAsIDBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZHJhZyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydDogWzAsIDBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IFswLCAwXSxcclxuICAgICAgICAgICAgICAgICAgICBkZWx0YTogWzAsIDBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY2hlY2tlZCA9IHRydWUsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGZvY3VzZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGRyYWdnZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIENhbnZhcy5vbignbW91c2Vkb3duJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhY3RpdmUgfHwgIWZvY3VzZWQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIG1vdXNlZG93bi5wcmV2aW91cyA9IG1vdXNlZG93bi5jdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgbW91c2Vkb3duLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgQ2FudmFzLm9uKCdtb3VzZXVwJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhY3RpdmUgfHwgIWZvY3VzZWQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIG1vdXNlZG93bi5wcmV2aW91cyA9IG1vdXNlZG93bi5jdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgbW91c2Vkb3duLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIENhbnZhcy5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghYWN0aXZlIHx8ICFmb2N1c2VkKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjdXJzb3IuY3VycmVudFswXSA9IGUubW91c2UucG9zaXRpb25bMF07XHJcbiAgICAgICAgICAgICAgICBjdXJzb3IuY3VycmVudFsxXSA9IGUubW91c2UucG9zaXRpb25bMV07XHJcbiAgICAgICAgICAgICAgICBjaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgQ2FudmFzLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZm9jdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIENhbnZhcy5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGZvY3VzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIERlZmF1bHRSRXZlbnQodHlwZSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3R5cGUgPSB0eXBlLCBwcm9wYWdhdGUgPSB0cnVlLCBfdGFyZ2V0ID0gdGFyZ2V0LCBfb3JpZ2luYWxUYXJnZXQgPSB0YXJnZXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdHlwZTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wYWdhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BhZ2F0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvcGFnYXRlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcGFnYXRlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGFyZ2V0LiQkUFJPUEFHQVRJT05TRUFSQ0ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBfb3JpZ2luYWxUYXJnZXQuJCRQUk9QQUdBVElPTlNFQVJDSDtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgX3RhcmdldC4kJFBST1BBR0FUSU9OU0VBUkNIO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQgPyByZXN1bHQgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbmFsVGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiQkTU9VU0VQUk9QQUdBVElPTlNFVFRFUikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBnZXRFdmVudEJ5VHlwZShfdHlwZSwgX3RhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50Lm9yaWdpbmFsVGFyZ2V0LmNhbGwoeyQkUkVTRVRUQVJHRVQ6IHRoaXMuJCRNT1VTRVBST1BBR0FUSU9OU0VUVEVSfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuJCRSRVNFVFRBUkdFVCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGFyZ2V0ID0gdGhpcy4kJFJFU0VUVEFSR0VUO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX29yaWdpbmFsVGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gTW91c2VFdmVudCh0eXBlLCB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIERlZmF1bHRSRXZlbnQuYXBwbHkodGhpcywgW3R5cGUsIHRhcmdldF0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBbY3Vyc29yLmN1cnJlbnRbMF0sIGN1cnNvci5jdXJyZW50WzFdXTtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5mcmVlemUodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIERyYWdFdmVudCh0eXBlLCB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIERlZmF1bHRSRXZlbnQuYXBwbHkodGhpcywgW3R5cGUsIHRhcmdldF0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmFnID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBbZHJhZy5zdGFydFswXSwgZHJhZy5zdGFydFsxXV0sXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudDogW2RyYWcuY3VycmVudFswXSwgZHJhZy5jdXJyZW50WzFdXSxcclxuICAgICAgICAgICAgICAgICAgICBkZWx0YTogW2RyYWcuZGVsdGFbMF0sIGRyYWcuZGVsdGFbMV1dXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0RXZlbnRCeVR5cGUodHlwZSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ21vdXNlbW92ZScgfHwgdHlwZSA9PT0gJ21vdXNlbGVhdmUnXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdHlwZSA9PT0gJ21vdXNlZW50ZXInIHx8IHR5cGUgPT09ICdtb3VzZWRvd24nXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdHlwZSA9PT0gJ21vdXNldXAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBNb3VzZUV2ZW50KHR5cGUsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2RyYWdzdGFydCcgfHwgdHlwZSA9PT0gJ2RyYWdlbmQnIHx8IHR5cGUgPT09ICdkcmFnbW92ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERyYWdFdmVudCh0eXBlLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBEaXNwYXRjaChldmVudCwgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0TW91c2UgPSB0YXJnZXQuZXh0ZW5zaW9uKCdNb3VzZScpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXRNb3VzZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRNb3VzZS5oYXNFdmVudChldmVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRNb3VzZS5yZXNvbHZlKHRhcmdldCwgZXZlbnQsIGdldEV2ZW50QnlUeXBlKGV2ZW50LCB0YXJnZXQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZUV2ZW50QnlUeXBlKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICgodHlwZSA9PT0gJ21vdXNlZW50ZXInIHx8IHR5cGUgPT09ICdkcmFnc3RhcnQnIHx8IHR5cGUgPT09ICdkcmFnZW5kJyB8fCB0eXBlID09PSAnZHJhZ21vdmUnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PT0gJ21vdXNlbW92ZScgfHwgdHlwZSA9PT0gJ21vdXNldXAnIHx8IHR5cGUgPT09ICdtb3VzZWRvd24nKSAmJiB0YXJnZXQuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIERpc3BhdGNoKHR5cGUsIHRhcmdldC5jdXJyZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgodHlwZSA9PT0gJ21vdXNlbGVhdmUnIHx8IHR5cGUgPT09ICdkcmFnZW5kJykgJiYgdGFyZ2V0LnByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGlzcGF0Y2godHlwZSwgdGFyZ2V0LnByZXZpb3VzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZURyYWdTdGFydCgpIHtcclxuICAgICAgICAgICAgICAgIGRyYWdnZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZHJhZy5zdGFydFswXSA9IGN1cnNvci5jdXJyZW50WzBdO1xyXG4gICAgICAgICAgICAgICAgZHJhZy5zdGFydFsxXSA9IGN1cnNvci5jdXJyZW50WzFdO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdkcmFnc3RhcnQnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZURyYWdFbmQoKSB7XHJcbiAgICAgICAgICAgICAgICBkcmFnLmN1cnJlbnRbMF0gPSBjdXJzb3IuY3VycmVudFswXTtcclxuICAgICAgICAgICAgICAgIGRyYWcuY3VycmVudFsxXSA9IGN1cnNvci5jdXJyZW50WzFdO1xyXG4gICAgICAgICAgICAgICAgZHJhZy5kZWx0YVswXSA9IGRyYWcuc3RhcnRbMF0gLSBkcmFnLmN1cnJlbnRbMF07XHJcbiAgICAgICAgICAgICAgICBkcmFnLmRlbHRhWzFdID0gZHJhZy5zdGFydFsxXSAtIGRyYWcuY3VycmVudFsxXTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnZHJhZ2VuZCcpO1xyXG4gICAgICAgICAgICAgICAgZHJhZ2dlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBEaXNwYXRjaEV2ZW50cygpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtb3VzZWRvd24uY3VycmVudCAhPT0gbW91c2Vkb3duLm9sZCAmJiBtb3VzZWRvd24uY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnbW91c2Vkb3duJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobW91c2Vkb3duLmN1cnJlbnQgJiYgbW91c2Vkb3duLmN1cnJlbnQgIT09IG1vdXNlZG93bi5vbGQgJiYgIWRyYWdnZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlRHJhZ1N0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY3Vyc29yLm9sZFswXSAhPT0gY3Vyc29yLmN1cnJlbnRbMF0gfHwgY3Vyc29yLm9sZFsxXSAhPT0gY3Vyc29yLmN1cnJlbnRbMV0pIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5jdXJyZW50ICYmICF0YXJnZXQucHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdtb3VzZWVudGVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0LmN1cnJlbnQgJiYgdGFyZ2V0LnByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnbW91c2VsZWF2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlRHJhZ0VuZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmN1cnJlbnQgJiYgdGFyZ2V0LnByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5jdXJyZW50LiQkTU9VU0VTRUFSQ0ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldC5wcmV2aW91cy4kJE1PVVNFU0VBUkNIKSByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGFyZ2V0LmN1cnJlbnQuJCRNT1VTRVNFQVJDSDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVEcmFnRW5kKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRCeVR5cGUoJ21vdXNlbGVhdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnbW91c2VlbnRlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZURyYWdTdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3VzZWRvd24uY3VycmVudCAmJiBtb3VzZWRvd24uY3VycmVudCA9PT0gbW91c2Vkb3duLm9sZCAmJiBkcmFnZ2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWcuY3VycmVudFswXSA9IGN1cnNvci5jdXJyZW50WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnLmN1cnJlbnRbMV0gPSBjdXJzb3IuY3VycmVudFsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZy5kZWx0YVswXSA9IGRyYWcuc3RhcnRbMF0gLSBkcmFnLmN1cnJlbnRbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWcuZGVsdGFbMV0gPSBkcmFnLnN0YXJ0WzFdIC0gZHJhZy5jdXJyZW50WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRCeVR5cGUoJ2RyYWdtb3ZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3VzZWRvd24uY3VycmVudCA9PT0gbW91c2Vkb3duLm9sZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRCeVR5cGUoJ21vdXNlbW92ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghbW91c2Vkb3duLmN1cnJlbnQgJiYgbW91c2Vkb3duLmN1cnJlbnQgIT09IG1vdXNlZG93bi5vbGQgJiYgZHJhZ2dlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVEcmFnRW5kKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIW1vdXNlZG93bi5jdXJyZW50ICYmIG1vdXNlZG93bi5jdXJyZW50ICE9PSBtb3VzZWRvd24ub2xkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdtb3VzZXVwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dlZCA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnByZXZpb3VzID0gdGFyZ2V0LmN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICBtb3VzZWRvd24ub2xkID0gbW91c2Vkb3duLmN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICBjdXJzb3Iub2xkWzBdID0gY3Vyc29yLmN1cnJlbnRbMF07XHJcbiAgICAgICAgICAgICAgICBjdXJzb3Iub2xkWzFdID0gY3Vyc29yLmN1cnJlbnRbMV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFVwZGF0ZVRhcmdldHMoKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQucHJldmlvdXMgPSB0YXJnZXQuY3VycmVudDtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5jdXJyZW50ID0gRmluZGVyLmNoZWNrKGN1cnNvci5jdXJyZW50KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHRpY2sgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGV2ZW50RGlzcGF0Y2hlclRpY2soKSB7XHJcbiAgICAgICAgICAgICAgICB0aWNrID0gIXRpY2s7XHJcbiAgICAgICAgICAgICAgICBpZiAodGljaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVja2VkKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgVXBkYXRlVGFyZ2V0cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIERpc3BhdGNoRXZlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIENhbnZhc1Jvb3QucXVldWUoLTEsIGV2ZW50RGlzcGF0Y2hlclRpY2spO1xyXG5cclxuICAgICAgICAgICAgVGlja2VyLm9uKCdzdGFydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBUaWNrZXIub24oJ3N0b3AnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFRpY2tlci5vbignZXJyb3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA1LzExLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlKFxyXG4gICAgWydAVGlja2VyJywgJ0NhbnZhcycsICdAaW5qZWN0JywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBLZXlib2FyZChUaWNrZXIsIENhbnZhcywgaW5qZWN0LCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrcyA9IHt9LFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBlbmFibGVkID0gdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGZvY3VzZWQgPSB0cnVlLFxyXG4gICAgICAgICAgICAgICAgcXVldWUgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMua2V5ZG93biA9IGZ1bmN0aW9uIChjb2RlLCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vbihjb2RlLCAna2V5ZG93bicsIGZ1bmMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5rZXl1cCA9IGZ1bmN0aW9uIChjb2RlLCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vbihjb2RlLCAna2V5dXAnLCBmdW5jKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5lbmFibGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBlbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbiA9IGZ1bmN0aW9uIChjb2RlLCBldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb2RlID09PSBcIm51bWJlclwiICYmIHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ2tleXVwJyB8fCBldmVudCA9PT0gJ2tleWRvd24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbGxiYWNrc1tjb2RlXSkgY2FsbGJhY2tzW2NvZGVdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbGxiYWNrc1tldmVudF0pIGNhbGxiYWNrc1tjb2RlXVtldmVudF0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tjb2RlXVtldmVudF0ucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ0V2ZW50IGNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2U6IGV2ZW50fSwgJ05vIHN1Y2ggdHlwZSBvZiBldmVudCBhcyBbe2V9XScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2M6IGNvZGV9LCAnV3Jvbmcga2V5IGNvZGUgW3tjfV0nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gT25BcHBUaWNrKCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlW2ldKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBxdWV1ZSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRRdWV1ZUZ1bmMoZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5Y29kZSA9IGUua2V5Q29kZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tzW2tleWNvZGVdICYmIGNhbGxiYWNrc1trZXljb2RlXVtlLnR5cGVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzW2tleWNvZGVdW2UudHlwZV0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudCA9IGluamVjdCgnJEtleWJvYXJkRXZlbnQnKS5idWlsZChlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1trZXljb2RlXVtlLnR5cGVdW2ldLmFwcGx5KGV2ZW50LCBba2V5Y29kZSwgZS50eXBlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBjYW52YXNDbGlja2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBDYW52YXMub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNhbnZhc0NsaWNrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FudmFzQ2xpY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvY3VzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9jdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FudmFzQ2xpY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghYWN0aXZlIHx8ICFlbmFibGVkIHx8ICFmb2N1c2VkKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGdldFF1ZXVlRnVuYyhlKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhY3RpdmUgfHwgIWVuYWJsZWQgfHwgIWZvY3VzZWQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goZ2V0UXVldWVGdW5jKGUpKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBUaWNrZXIucXVldWUoMCwgT25BcHBUaWNrKTtcclxuICAgICAgICAgICAgVGlja2VyLm9uKCdzdGFydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBUaWNrZXIub24oJ3N0b3AnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA1LzExLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdLZXlib2FyZCcsXHJcbiAgICBbXHJcbiAgICAgICAgZnVuY3Rpb24gS2V5Ym9hcmRFdmVudCgpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBrZXljb2RlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGN0cmxQcmVzc2VkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBhbHRQcmVzc2VkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzaGlmdFByZXNzZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGV2ZW50ID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB0eXBlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAga2V5Y29kZSA9IGUua2V5Q29kZTtcclxuICAgICAgICAgICAgICAgIGN0cmxQcmVzc2VkID0gZS5jdHJsS2V5O1xyXG4gICAgICAgICAgICAgICAgYWx0UHJlc3NlZCA9IGUuYWx0S2V5O1xyXG4gICAgICAgICAgICAgICAgc2hpZnRQcmVzc2VkID0gZS5zaGlmdEtleTtcclxuICAgICAgICAgICAgICAgIGV2ZW50ID0gZTtcclxuICAgICAgICAgICAgICAgIHR5cGUgPSBlLnR5cGU7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5idWlsZDtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy50eXBlID0gZnVuY3Rpb24gKHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdHJpbmcgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlID09PSBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlICByZXR1cm4gdHlwZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29kZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBrZXljb2RlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zaGlmdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzaGlmdFByZXNzZWQ7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuYWx0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFsdFByZXNzZWQ7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuY3RybCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdHJsUHJlc3NlZDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5vcmlnaW5hbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBldmVudDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlKFxyXG4gICAgWydAaW5qZWN0JywgJytFYXNpbmcnLCAnQENhbnZhcycsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gTW9ycGhpbmUoaW5qZWN0LCBFYXNpbmdzLCBDYW52YXMsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgbW9ycGhpbmVzID0gW107XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjaGVjayhzdGFydCwgZW5kLCBmdW5jLCBlYXNpbmcsIGR1cmF0aW9uLCBycHQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhcnQgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIGVuZCAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt9LCAnTW9ycGhpbmUgLyBVbmFibGUgdG8gY3JlYXRlLiBTdGFydCB2YWx1ZSBpcyBpbnZhbGlkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe30sICdNb3JwaGluZSAvIFVuYWJsZSB0byBjcmVhdGUuIEVuZCB2YWx1ZSBpcyBpbnZhbGlkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZWFzaW5nICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe30sICdNb3JwaGluZSAvIFVuYWJsZSB0byBjcmVhdGUuIEVhc2luZyBpcyBub3QgYSBzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAgZHVyYXRpb24gIT09IFwibnVtYmVyXCIgfHwgZHVyYXRpb24gPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt9LCAnTW9ycGhpbmUgLyBVbmFibGUgdG8gY3JlYXRlLiBEdXJhdGlvbiBpcyBsZXNzIHRoYW4gMCBvciBub3QgYSBudW1iZXInKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGVmdW5jID0gRWFzaW5ncy5nZXQoZWFzaW5nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWVmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe2Vhc2luZzogZWFzaW5nfSwgJyBNb3JwaGluZSAvIFVuYWJsZSB0byBjcmVhdGUuIE5vIHN1Y2ggZWFzaW5nIHtlYXNpbmd9Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVmdW5jO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIGZ1bmMsIGVhc2luZywgZHVyYXRpb24sIHJwdCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGVhc2luZyA9IGNoZWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG1vcnBoaW5lID0gaW5qZWN0KCckTW9ycGhpbmUnKSxcclxuICAgICAgICAgICAgICAgICAgICB0aWNrRiA9IG1vcnBoaW5lLmNvbmZpZyhzdGFydCwgZW5kLCBmdW5jLCBkdXJhdGlvbiwgZWFzaW5nLCBycHQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRpY2tGLm1vcnBoaW5lID0gbW9ycGhpbmU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aWNrRiB8fCB0eXBlb2YgdGlja0YgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt9LCAnVW5hYmxlIHRvIGNvbmZpZyBtb3JwaGluZSBkdWUgdG8gc29tZSBjb25maWcgZXJyb3IuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGlja0Y7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uIChzdGFydCwgZW5kLCBmdW5jLCBlYXNpbmcsIGR1cmF0aW9uLCBycHQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSBjaGVjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBtb3JwaGluZSA9IGluamVjdCgnJE1vcnBoaW5lJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHRpY2tGID0gbW9ycGhpbmUuY29uZmlnKHN0YXJ0LCBlbmQsIGZ1bmMsIGR1cmF0aW9uLCBlYXNpbmcsIHJwdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aWNrRiB8fCB0eXBlb2YgdGlja0YgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt9LCAnTW9ycGhpbmUgLyBVbmFibGUgdG8gY29uZmlnIG1vcnBoaW5lLiBEdWUgdG8gc29tZSBlcnJvci4nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGlja0YuJG0gPSBtb3JwaGluZTtcclxuXHJcbiAgICAgICAgICAgICAgICBtb3JwaGluZXMucHVzaCh0aWNrRik7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vcnBoaW5lO1xyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIENhbnZhcy5xdWV1ZSgtMiwgZnVuY3Rpb24gcHJvY2Vzc01vcnBoaW5lcyhjb250ZXh0LCBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IGRhdGUuZ2V0VGltZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIF9tb3JwaGluZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vcnBoaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbW9ycGhpbmVzW2ldLiRtLmRvbmUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3JwaGluZXNbaV0oZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9tb3JwaGluZXMucHVzaChtb3JwaGluZXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1vcnBoaW5lcyA9IF9tb3JwaGluZXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIkUi5zZXJ2aWNlKFsnQGluamVjdCcsICdEZWJ1ZycsIGZ1bmN0aW9uIEV2ZW50cyhpbmplY3QsIERlYnVnKSB7XHJcblxyXG4gICAgdGhpcy5lbWl0dGVyID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0Lm9uID09PSBcImZ1bmN0aW9uXCIgJiYgdGFyZ2V0Lm9uLiQkRU1JVFRFUlBST1RFQ1RFRCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5vbi5jYWxsKHskJEVNSVRURVJQUk9URUNURURDT05URVhUOiB0cnVlfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGluamVjdCgnJEV2ZW50RW1pdHRlcicpLmRlY29yYXRlKHRhcmdldCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3R5cGU6IHR5cGVvZiB0YXJnZXR9LCAnVW5hYmxlIHRvIGNyZWF0ZSBFdmVudEVtaXR0ZXIuIEludmFsaWQgdGFyZ2V0IHt0eXBlfSBmb3IgZW1pdHRlci4nLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhpcy5ldmVudCA9IGZ1bmN0aW9uICh0eXBlLCB0YXJnZXQsIG1ldGhvZHMpIHtcclxuICAgICAgICByZXR1cm4gaW5qZWN0KCckRXZlbnQnKS5pbml0KHR5cGUsIHRhcmdldCwgbWV0aG9kcyk7XHJcbiAgICB9XHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZShcclxuICAgIFsnQENhbnZhcycsICdAaW5qZWN0JywgJ0RlYnVnJywgJ0BDb25maWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFJlc291cmNlKENhbnZhcywgaW5qZWN0LCBEZWJ1ZywgQ29uZmlnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgYWxsID0gW10sXHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgSW1hZ2VSZXNvdXJjZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIFNwcml0ZVJlc291cmNlczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgRm9udFJlc291cmNlczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgQXVkaW9SZXNvdXJjZXM6IFtdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbG9hZENvdW50ZXIgPSAwLFxyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBsb2FkZXJNb2RlID0gJ2F1dG8nO1xyXG5cclxuICAgICAgICAgICAgQ29uZmlnLmRlZmluZSgnbG9hZGVyTW9kZScsICdhdXRvJywge2lzU3RyaW5nOiB0cnVlfSkud2F0Y2goZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIGxvYWRlck1vZGUgPSB2ID09PSAnbWFudWFsJyB8fCB2ID09PSAnYXV0bycgPyB2IDogJ2F1dG8nO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFJlc291cmNlQnlVUkwodHlwZSwgc2VhcmNoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2ZvbnQnKSBzZWFyY2ggPSBzZWFyY2hbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXkgPSBjb250YWluZXJbdHlwZSArICdzJ107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFhcnJheSkgcmV0dXJuIHJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5W2ldLnVybCgpID09PSBzZWFyY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gYXJyYXlbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBpbmplY3RCeVR5cGUodHlwZSwgc3JjKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXhpc3RlZCA9IGdldFJlc291cmNlQnlVUkwodHlwZSwgc3JjKTtcclxuICAgICAgICAgICAgICAgIGlmIChleGlzdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4aXN0ZWQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfdHlwZSA9IHR5cGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBpbmplY3QoJyQnICsgdHlwZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZENvdW50ZXIrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZUV2ZW50KCdsb2FkJywgW3RoaXMsIGxvYWRDb3VudGVyLCBhbGwubGVuZ3RoXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZENvdW50ZXIrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZUV2ZW50KCdlcnJvcicsIFt0aGlzLCBsb2FkQ291bnRlciwgYWxsLmxlbmd0aF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQudXJsKHNyYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcltfdHlwZSArICdzJ10ucHVzaChyZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhbGwucHVzaChyZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihsb2FkZXJNb2RlID09PSAnYXV0bycpIHJlc3VsdC5sb2FkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFJlc29sdmVFdmVudCgnYWRkJywgW3Jlc3VsdCwgbG9hZENvdW50ZXIsIGFsbC5sZW5ndGhdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5pbWFnZSA9IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbmplY3RCeVR5cGUoJ0ltYWdlUmVzb3VyY2UnLCBzcmMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5qZWN0QnlUeXBlKCdTcHJpdGVSZXNvdXJjZScsIHNyYyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvID0gZnVuY3Rpb24gKHNyYykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluamVjdEJ5VHlwZSgnQXVkaW9SZXNvdXJjZScsIHNyYyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvbnQgPSBmdW5jdGlvbiAoc3JjLCB3ZWlnaHQsIHN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5qZWN0QnlUeXBlKCdmb250JywgW3NyYywgd2VpZ2h0LCBzdHlsZV0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYobG9hZGVyTW9kZSA9PT0gJ21hbnVhbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwIDsgaSA8IGFsbC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxbaV0ubG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjQkNvbnRhaW5lciA9IHtcclxuICAgICAgICAgICAgICAgIGxvYWQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IFtdLFxyXG4gICAgICAgICAgICAgICAgYWRkOiBbXVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbiA9IGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IGNCQ29udGFpbmVyW2V2ZW50XTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtldmVudDogZXZlbnR9LCAnVW5hYmxlIHRvIHNldCBldmVudCBbe2V2ZW50fV0gY2FsbGJhY2suIGZ1bmMgaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtldmVudDogZXZlbnR9LCAnVW5hYmxlIHRvIHNldCBldmVudCBbe2V2ZW50fV0uIE5vIHN1Y2ggZXZlbnQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1VuYWJsZSB0byBzZXQgZXZlbnQgY2FsbGJhY2suIEV2ZW50IG5hbWUgaXMgbm90IGEgc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9mZiA9IGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IGNCQ29udGFpbmVyW2V2ZW50XTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuYXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmMuJCRTRUFSQ0ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXJyYXlbaV0uJCRTRUFSQ0gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFycmF5LnB1c2goYXJyYXlbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZ1bmMuJCRTRUFSQ0g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjQkNvbnRhaW5lcltldmVudF0gPSBuYXJyYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtldmVudDogZXZlbnR9LCAnVW5hYmxlIHRvIHVuc2V0IGNhbGxiYWNrIGZvciBldmVudCBbe2V2ZW50fV0uIE5vIHN1Y2ggZXZlbnQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1VuYWJsZSB0byB1bnNldCBldmVudC4gRXZlbnQgaXMgbm90IGEgc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsIDogYWxsLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICBsb2FkZWQgOiBsb2FkQ291bnRlclxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmxpc3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW10uY29uY2F0KGNvbnRhaW5lci5JbWFnZVJlc291cmNlcykuY29uY2F0KGNvbnRhaW5lci5BdWRpb1Jlc291cmNlcykuY29uY2F0KGNvbnRhaW5lci5Gb250UmVzb3VyY2VzKS5jb25jYXQoY29udGFpbmVyLlNwcml0ZVJlc291cmNlcyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBSZXNvbHZlRXZlbnQodHlwZSwgZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gY0JDb250YWluZXJbdHlwZV07XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFycmF5KSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2ldLmFwcGx5KHNlbGYsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVJlc291cmNlcyhjYW52YXMsIGRhdGUpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVyLlNwcml0ZVJlc291cmNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIuU3ByaXRlUmVzb3VyY2VzW2ldLnJlYWR5KCkgJiYgY29udGFpbmVyLlNwcml0ZVJlc291cmNlc1tpXS5sb2FkZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuU3ByaXRlUmVzb3VyY2VzW2ldLnRpY2soZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBDYW52YXMucXVldWUoLTIsIHVwZGF0ZVJlc291cmNlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAZXh0ZW5kJywgJ0BpbmplY3QnLCAnPFBsdWdpbnMnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEdyYXBoaWNzKGV4dGVuZCwgaW5qZWN0LCBwbHVnaW5zKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdHlwZSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlZF9wbHVnaW5zID0ge307XHJcblxyXG4gICAgICAgICAgICB0aGlzLmV4dGVuc2lvbiA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZWRfcGx1Z2luc1tuYW1lXTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RyID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGUgPT09IHN0cjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZWZpbmUgPSBmdW5jdGlvbiAodCwgaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdCAhPT0gXCJzdHJpbmdcIikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmRlZmluZTtcclxuXHJcbiAgICAgICAgICAgICAgICB0eXBlID0gdDtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IHBsdWdpbnMubGlzdCgpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlZF9wbHVnaW5zW2xpc3RbaV1dID0gaW5qZWN0KCckUGx1Z2luJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRfcGx1Z2luc1tsaXN0W2ldXS5kZWZpbmVPYmplY3QodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZChyZXNvbHZlZF9wbHVnaW5zW2xpc3RbaV1dLCAnPCcgKyBsaXN0W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZWRfcGx1Z2luc1tsaXN0W2ldXS5tYXRjaFR5cGUodHlwZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRfcGx1Z2luc1tsaXN0W2ldXS53cmFwKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNvbHZlZF9wbHVnaW5zW2xpc3RbaV1dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKGlkKSB0aGlzLmlkKGlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBleHRlbmQodGhpcywgJyQnICsgdCArICdPYmplY3RNb2RlbCcpO1xyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdE9iamVjdERyYXdlcicpO1xyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckJyArIHQgKyAnT2JqZWN0RHJhd2VyJyk7XHJcbiAgICAgICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0VHlwZScpO1xyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckJyArIHQgKyAnT2JqZWN0Q2xhc3MnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvcDtcclxuICAgICAgICAgICAgICAgIHRoaXMudW5tb3VudCgpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChwcm9wIGluIHJlc29sdmVkX3BsdWdpbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZWRfcGx1Z2lucy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlZF9wbHVnaW5zW3Byb3BdLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlc29sdmVkX3BsdWdpbnNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yIChwcm9wIGluIHRoaXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1twcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlZF9wbHVnaW5zID0gdW5kZWZpbmVkOyB0eXBlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UoXHJcbiAgICBbJ0BpbmplY3QnLCAnVHJlZScsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gT2JqZWN0cyhpbmplY3QsIFRyZWUsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBJbmplY3RCeVR5cGUodHlwZSwgY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWQgPSBjb25maWdbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBpbmplY3QoJyRHcmFwaGljcycpLmRlZmluZSh0eXBlLCBpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRyZWUucm9vdCgpLmFwcGVuZChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihjb25maWdbMV0pIHJlc3VsdC5zdHlsZShjb25maWdbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBEZWJ1Zy5lcnJvcih7dDogdHlwZX0sICdJZCBpcyBlbXB0eS4gVW5hYmxlIHRvIGNyZWF0ZSBbdF0nKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBEZWJ1Zy5lcnJvcih7dDogdHlwZX0sICdJZCBpcyBub3QgYSBzdHJpbmcuIFVuYWJsZSB0byBjcmVhdGUgW3RdJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbmplY3QoJyRHcmFwaGljcycpLmRlZmluZSh0eXBlKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSW5qZWN0QnlUeXBlKCdHcm91cCcsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxpbmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSW5qZWN0QnlUeXBlKCdMaW5lJywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBJbmplY3RCeVR5cGUoJ1JlY3RhbmdsZScsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNpcmNsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBJbmplY3RCeVR5cGUoJ0NpcmNsZScsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmltYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnSW1hZ2UnLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSW5qZWN0QnlUeXBlKCdTcHJpdGUnLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnVGV4dCcsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFyZWEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSW5qZWN0QnlUeXBlKCdBcmVhJywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIFRyZWUucm9vdChpbmplY3QoJyRHcmFwaGljcycpLmRlZmluZSgnR3JvdXAnLCAncm9vdCcpKTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzE2LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlKFxyXG4gICAgWydAQXVkaW8nLCAnQGluamVjdCcsICdAQ29uZmlnJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBTb3VuZChjb250ZXh0LCBpbmplY3QsIGNvbmZpZywgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIGNvbmZpZy5kZWZpbmUoJ2ZpbHRlcnMnLCBbJ0RlbGF5JywgJ0dhaW4nXSwge2lzQXJyYXk6IHRydWV9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IGluamVjdCgnJEF1ZGlvJykuYnVpbGQoJyQkREVTVElOQVRJT04nLCAnZGVzdGluYXRpb24nKSxcclxuICAgICAgICAgICAgICAgIHNvdW5kcyA9IHt9LFxyXG4gICAgICAgICAgICAgICAgc291bmRjb3VudCA9IDAsXHJcbiAgICAgICAgICAgICAgICBjaGFubmVsY291bnQgPSAwLFxyXG4gICAgICAgICAgICAgICAgY2hhbm5lbHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCRERVNUSU5BVElPTjogZGVzdGluYXRpb25cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5zYW1wbGUgPSBmdW5jdGlvbiAodXJsLCBjaGFubmVsLCBuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHVybCA9PT0gXCJzdHJpbmdcIiAmJiB1cmwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VuZHNbdXJsXSkgcmV0dXJuIHNvdW5kc1t1cmxdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIiB8fCBuYW1lLmxlbmd0aCA9PT0gMCkgbmFtZSA9ICdVc2VyU291bmRbJyArIHNvdW5kY291bnQgKyAnXSc7XHJcbiAgICAgICAgICAgICAgICAgICAgc291bmRjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBpbmplY3QoJyRBdWRpbycpLmJ1aWxkKG5hbWUsIHVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGFubmVsICE9PSBcInN0cmluZ1wiIHx8IGNoYW5uZWwubGVuZ3RoID09PSAwKSBjaGFubmVsID0gJyQkREVTVElOQVRJT04nO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvdXQgPSB0aGlzLmNoYW5uZWwoY2hhbm5lbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmNvbm5lY3Qob3V0KTtcclxuICAgICAgICAgICAgICAgICAgICBzb3VuZHNbcmVzdWx0LnVybCgpXSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dXJsOiB1cmx9LCAnW3t1cmx9XSBpcyBub3QgdmFsaWQgYXVkaW8gdXJsIG9yIGVtcHR5LicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jaGFubmVsID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbHNbbmFtZV0pIHJldHVybiBjaGFubmVsc1tuYW1lXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGluamVjdCgnJEF1ZGlvJykuYnVpbGQobmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5jb25uZWN0KGRlc3RpbmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsc1tuYW1lXSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsY291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jaGFubmVscyA9IGZ1bmN0aW9uIChieXVybCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpc3QgPSB7fSxcclxuICAgICAgICAgICAgICAgICAgICBieXVybCA9ICEhYnl1cmw7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgY2hhbm5lbCBpbiBjaGFubmVscykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVscy5oYXNPd25Qcm9wZXJ0eShjaGFubmVsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbCAhPT0gJyQkREVTVElOQVRJT04nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnl1cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0W2NoYW5uZWwudXJsKCldID0gY2hhbm5lbFtjaGFubmVsXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RbY2hhbm5lbF0gPSBjaGFubmVsc1tjaGFubmVsXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNvdW5kcyA9IGZ1bmN0aW9uIChieXVybCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpc3QgPSB7fSxcclxuICAgICAgICAgICAgICAgICAgICBieXVybCA9ICEhYnl1cmw7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc291bmRzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChieXVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFtwcm9wXSA9IHNvdW5kc1twcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Rbc291bmRzW3Byb3BdLm5hbWUoKV0gPSBzb3VuZHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5uZWxzLiQkREVTVElOQVRJT047XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZShcclxuICAgIFsnRGVidWcnLCAnQENhbnZhcycsICdAQ29uZmlnJyxcclxuICAgICAgICBmdW5jdGlvbiBUcmVlKERlYnVnLCBDYW52YXMsIENvbmZpZykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHJvb3QgPSBudWxsLCByb290RHJhd2VyID0gbnVsbCwgcm9vdFN0eWxlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGNsZWFyID0gQ29uZmlnLmRlZmluZSgnY2xlYXInLCBmYWxzZSwge2lzQm9vbDogdHJ1ZX0pLndhdGNoKGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXIgPSB2O1xyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cyA9IHt9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIgPSBmdW5jdGlvbiAob2JqZWN0LCBuZXdfaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvYmplY3QuY29uc3RydWN0b3IubmFtZSA9PT0gJ0dyYXBoaWNzJyAmJiBvYmplY3QuaWQgJiYgdHlwZW9mIG9iamVjdC5pZCA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdfaWQgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gb2JqZWN0LmlkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaWQgPT09IFwic3RyaW5nXCIgJiYgaWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnRzW2lkXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzW2lkXSA9IG9iamVjdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBEZWJ1Zy5lcnJvcih7aWQ6IG9iamVjdC5pZCgpfSwgJ1VuYWJsZSB0byByZWdpc3RlciBHcmFwaGljcyBbaWRdLiBFbGVtZW50IGFscmVhZHkgZXhpc3RzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBEZWJ1Zy5lcnJvcignVW5hYmxlIHRvIHJlZ2lzdGVyIEdyYXBoaWNzIHdpdGggbm8gaWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5ld19pZCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzW29iamVjdC5pZCgpXSkgZGVsZXRlIGVsZW1lbnRzW29iamVjdC5pZCgpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHNbbmV3X2lkXSA9IGVsZW1lbnRzW25ld19pZF0gPSBvYmplY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIERlYnVnLmVycm9yKCdVbmFibGUgdG8gc2V0IG5ldyBpZC4gbmV3X2lkIGFyZ3VtZW50IGlzIG5vdCBhIHZhbGlkIHN0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIERlYnVnLmVycm9yKHt0OiB0eXBlb2Ygb2JqZWN0fSwgJ1VuYWJsZSB0byByZWdpc3RlciBbdF0uIEFyZ3VtZW50IGlzIG5vdCBHcmFwaGljcycpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMudW5yZWdpc3RlciA9IGZ1bmN0aW9uIChvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIGlmKCFvYmplY3QuaWQoKSkgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgIGlmKGVsZW1lbnRzW29iamVjdC5pZCgpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBlbGVtZW50c1tvYmplY3QuaWQoKV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudHNbaWRdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRzW2lkXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5yb290ID0gZnVuY3Rpb24gKG9iamVjdCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghcm9vdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghb2JqZWN0LnR5cGUgfHwgdHlwZW9mIG9iamVjdC50eXBlICE9PSBcImZ1bmN0aW9uXCIgfHwgb2JqZWN0LnR5cGUoKSAhPT0gJ0dyb3VwJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7b2JqZWN0OiBvYmplY3QuY29uc3RydWN0b3IsIHR5cGUgOiB0eXBlb2Ygb2JqZWN0LnR5cGUgIT09IFwiZnVuY3Rpb25cIiA/IG9iamVjdC50eXBlKCkgOiAndW5rbm93blR5cGUnfSwgJ1VuYWJsZSB0byBzZXQgdHJlZSByb290IGFzIHtvYmplY3R9e3R5cGV9LiBPYmplY3QgaXMgbm90IGEgZ3JvdXAuJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcm9vdCA9IG9iamVjdDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRyYXdlciA9IHJvb3QuZXh0ZW5zaW9uKCdEcmF3ZXInKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkcmF3ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe29iamVjdCA6IG9iamVjdC50eXBlKCl9LCAne29iamVjdH0gaGFzIG5vIGRyYXdlciBleHRlbnNpb24nLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRyYXdlci5kcmF3IHx8IHR5cGVvZiBkcmF3ZXIuZHJhdyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtvYmplY3QgOiBvYmplY3QudHlwZSgpfSwgJ3tvYmplY3R9IGluY29tcGF0aWJsZSBkcmF3ZXIgZXh0ZW5zaW9uJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJvb3REcmF3ZXIgPSBkcmF3ZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJvb3RTdHlsZSA9IHJvb3QuZXh0ZW5zaW9uKCdTdHlsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByb290O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvb3Q7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRyYXdHcmFwaGljc1RyZWUoY29udGV4dCwgZGF0ZSwgZnJhbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcm9vdCB8fCAhcm9vdERyYXdlcikgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNsZWFyKSBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjb250ZXh0LmNhbnZhcy5vZmZzZXRXaWR0aCwgY29udGV4dC5jYW52YXMub2Zmc2V0SGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIHJvb3REcmF3ZXIuZHJhdy5hcHBseShyb290LCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIENhbnZhcy5xdWV1ZSgwLCBkcmF3R3JhcGhpY3NUcmVlKTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7XHJcbiIsIiRSLnNlcnZpY2UoWydAaW5qZWN0JywgJ0RlYnVnJywgZnVuY3Rpb24gU3RhdGVzKGluamVjdCwgRGVidWcpIHtcclxuXHJcbiAgICB0aGlzLmNvbnRhaW5lciA9IGZ1bmN0aW9uICh0YXJnZXQsIGVtaXR0ZXIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldC5pcyA9PT0gXCJmdW5jdGlvblwiICYmIHRhcmdldC5pcy4kJFNUQVRFU1BST1RFQ1RFRCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRDb250YWluZXIgPSB0YXJnZXQuaXMuY2FsbCh7JFNUQVRFU1BST1RFQ1RFRENPTlRFWFQ6IHRydWV9KTtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5pcy5jYWxsKHskU1RBVEVTUFJPVEVDVEVESEFTRU1JVFRFUlNFVDogdHJ1ZX0sIGVtaXR0ZXIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRDb250YWluZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGluamVjdCgnJFN0YXRlJykuZGVjb3JhdGUodGFyZ2V0LCBlbWl0dGVyKTtcclxuICAgICAgICB9IGVsc2UgRGVidWcuZXJyb3IoJ1N0YXRlcyB0YXJnZXQgaXMgbm90IGFuIG9iamVjdCcsIHRoaXMpO1xyXG4gICAgfVxyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIucGx1Z2luLmNsYXNzKCdPYmplY3RzJywgJ0FuaW1hdGlvbicsXHJcbiAgICBbJytBbmltYXRpb24nLCAnTW9ycGhpbmUnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEFuaW1hdGlvbihBbmltYXRpb25IZWxwZXIsIE1vcnBoaW5lKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSAwLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgZWFzaW5nID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGRvbmUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHN0YWNrID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIG1vcnBoaW5lID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHRhcmdldCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdGVwc0NiID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHF1ZXVlID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGNsZWFyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHN0ZXBUeXBlU3RyID0gJ3R5cGUnLFxyXG4gICAgICAgICAgICAgICAgY29tcGxldGVUeXBlU3RyID0gJ2NvbXBsZXRlJyxcclxuICAgICAgICAgICAgICAgIGNvbmZpZyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBSZXNvbHZlKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBzdGVwVHlwZVN0cikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0ZXBzQ2IuaGFzT3duUHJvcGVydHkoc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBzQ2Jbc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKV0uYXBwbHkodGFyZ2V0LCBbcHJvZ3Jlc3MsIHN0YWNrW2ldLnJlc3VsdF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gY29tcGxldGVUeXBlU3RyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHNbc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKV0gPSBzdGFja1tpXS5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5kb25lKDEsIHJlc3VsdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5xdWV1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBxdWV1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZG9uZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkb25lO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5oYXNQcm9wZXJ0eSA9IGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IDA7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrW2ldLm1vcnBoLnByb3BlcnR5KCkgPT0gcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gaSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheS5wdXNoKHN0YWNrW2ldLm1vcnBoLnByb3BlcnR5KCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmhhc1Byb3BlcnR5KHByb3BlcnR5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBpbmRleCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnNwbGljZShpbmRleCwgMSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFjayA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhY3RpdmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBfc3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vcnBoID0gc3RhY2tbaV0ubW9ycGguZ2V0KHN0YWNrW2ldLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vcnBoICE9PSB1bmRlZmluZWQgJiYgbW9ycGguc3RhcnQoKSAhPT0gZmFsc2UgJiYgbW9ycGguZW5kKCkgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdGFjay5wdXNoKHN0YWNrW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc3RhY2sgPSBfc3RhY2s7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHRpY2tfZnVuY3Rpb24gPSBBbmltYXRpb25IZWxwZXIuZ2V0VGlja0Z1bmN0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbW9ycGhpbmUgPSBNb3JwaGluZS5jcmVhdGUoMCwgMSwgZnVuY3Rpb24gKGNvbXBsZXRlLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFjay5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZShjb21wbGV0ZVR5cGVTdHIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3JwaGluZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFja1tpXS5yZXN1bHQgPSB0aWNrX2Z1bmN0aW9uKHZhbHVlLCBjb21wbGV0ZSwgc3RhY2tbaV0ubW9ycGguc3RhcnQoKSwgc3RhY2tbaV0ubW9ycGguZW5kKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2tbaV0ubW9ycGguYXBwbHkoY29tcGxldGUsIHN0YWNrW2ldLnJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc29sdmUoc3RlcFR5cGVTdHIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXNvbHZlKGNvbXBsZXRlVHlwZVN0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgZWFzaW5nLCBkdXJhdGlvbiwgMCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGZ1bmN0aW9uICh0LCBtLCBjZmcsIGYpIHtcclxuICAgICAgICAgICAgICAgIEFuaW1hdGlvbkhlbHBlci5ub3JtYWxpemVDb25maWcoY2ZnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IGNmZy5kdXJhdGlvbjtcclxuXHJcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSBjZmcuZWFzaW5nO1xyXG5cclxuICAgICAgICAgICAgICAgIHN0ZXBzQ2IgPSBjZmcuc3RlcDtcclxuXHJcbiAgICAgICAgICAgICAgICBxdWV1ZSA9IGNmZy5xdWV1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBjbGVhciA9IGY7XHJcblxyXG4gICAgICAgICAgICAgICAgc3RhY2sgPSBtO1xyXG5cclxuICAgICAgICAgICAgICAgIHRhcmdldCA9IHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uZmlnID0gY2ZnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIucGx1Z2luLmNsYXNzKCdPYmplY3RzJywgJ0FuaW1hdGlvbicsXHJcbiAgICBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBNb3JwaChEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHNldHRlciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBnZXR0ZXIgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgYXBwbGllciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdGFydCwgZW5kLFxyXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBvcmRlcmluZyA9IDA7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTZXRTdGFydFZhbHVlKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQgPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFNldEVuZFZhbHVlKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgZW5kID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5lbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZW5kO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0eTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3JkZXJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JkZXJpbmc7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdldCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgc2V0dGVyLmFwcGx5KG9iamVjdCwgW1NldFN0YXJ0VmFsdWUsIFNldEVuZFZhbHVlLCB2YWx1ZV0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnZhbGlkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hcHBseSA9IGZ1bmN0aW9uIChwcm9ncmVzcywgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIG9iamVjdC5zdHlsZShwcm9wZXJ0eSwgYXBwbGllci5hcHBseShvYmplY3QsIFt2YWx1ZSwgcHJvZ3Jlc3NdKSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGZ1bmN0aW9uIChuYW1lLCBvYmosIG9yZCwgc2V0LCBhcGwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ1VuYWJsZSB0byBjb25maWcgTW9ycGguIGFyZzEgW3tuYW1lfV0gaXMgbm90IGEgc3RyaW5nIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqICE9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnMyBpcyBub3QgYW4gb2JqZWN0IScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2V0ICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmc0IGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3JkICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnMiBpcyBub3QgYSBudW1iZXIhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcGwgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ1VuYWJsZSB0byBjb25maWcgTW9ycGguIGFyZzUgaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gbmFtZTtcclxuICAgICAgICAgICAgICAgIHNldHRlciA9IHNldDtcclxuICAgICAgICAgICAgICAgIGFwcGxpZXIgPSBhcGw7XHJcbiAgICAgICAgICAgICAgICBvcmRlcmluZyA9IG9yZDtcclxuICAgICAgICAgICAgICAgIG9iamVjdCA9IG9iajtcclxuXHJcbiAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMi83LzIwMTcuXHJcbiAqL1xyXG4kUi5wbHVnaW4uY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgJ0JveCcsXHJcbiAgICBbZnVuY3Rpb24gQm94KCkge1xyXG4gICAgICAgIHZhciBjb250YWluZXIgPSB7XHJcbiAgICAgICAgICAgICAgICBzaXplOiBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIDBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNwcml0ZSA9IHtcclxuICAgICAgICAgICAgICAgIG1hcmdpbjogWzAsIDAsIDAsIDBdLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFswLCAwXSxcclxuICAgICAgICAgICAgICAgIHNpemU6IFswLCAwXVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHNpemU6IFtjb250YWluZXIuc2l6ZVswXSwgY29udGFpbmVyLnNpemVbMV1dLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFtjb250YWluZXIucG9zaXRpb25bMF0sIGNvbnRhaW5lci5wb3NpdGlvblsxXV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2V0ID0gZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQsIHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuc2l6ZVswXSA9IHdpZHRoO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc2l6ZVsxXSA9IGhlaWdodDtcclxuICAgICAgICAgICAgY29udGFpbmVyLnBvc2l0aW9uWzBdID0geDtcclxuICAgICAgICAgICAgY29udGFpbmVyLnBvc2l0aW9uWzFdID0geTtcclxuICAgICAgICAgICAgc3ByaXRlLm1hcmdpblswXSA9IHRvcDtcclxuICAgICAgICAgICAgc3ByaXRlLm1hcmdpblsxXSA9IHJpZ2h0O1xyXG4gICAgICAgICAgICBzcHJpdGUubWFyZ2luWzJdID0gYm90dG9tO1xyXG4gICAgICAgICAgICBzcHJpdGUubWFyZ2luWzNdID0gbGVmdDtcclxuICAgICAgICAgICAgc3ByaXRlLnNpemVbMF0gPSBsZWZ0ICsgd2lkdGggKyByaWdodDtcclxuICAgICAgICAgICAgc3ByaXRlLnNpemVbMV0gPSB0b3AgKyBoZWlnaHQgKyBib3R0b207XHJcbiAgICAgICAgICAgIHNwcml0ZS5wb3NpdGlvblswXSA9IHggLSBsZWZ0O1xyXG4gICAgICAgICAgICBzcHJpdGUucG9zaXRpb25bMV0gPSB5IC0gdG9wO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudmFsdWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNwcml0ZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgIH1dXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjgvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbi5jbGFzcygnT2JqZWN0cycsICdUZXh0JyxcclxuICAgIFsnQGV4dGVuZCcsICdAaW5qZWN0JywgJytEcmF3ZXInLFxyXG4gICAgICAgIGZ1bmN0aW9uIFRleHRMaW5lQ2xhc3MoZXh0ZW5kLCBpbmplY3QsIERyYXdlckhlbHBlcikge1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRUZXh0RWxlbWVudENsYXNzJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgd2lkdGggPSAwLFxyXG4gICAgICAgICAgICAgICAgd29yZHMgPSBbXSxcclxuICAgICAgICAgICAgICAgIHNwYWNlID0gaW5qZWN0KCckVGV4dFNwYWNlQ2xhc3MnKSxcclxuICAgICAgICAgICAgICAgIGxlbmd0aCA9IDAsXHJcbiAgICAgICAgICAgICAgICB3aWR0aFVwZGF0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFdpZHRoKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHdpZHRoVXBkYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IHdvcmRzW2ldLndpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoVXBkYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBEcmF3ZXJIZWxwZXIubWVhc3VyZVRleHQoZ2V0V2lkdGgpXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxlbmd0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsZW5ndGg7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLndvcmRzID0gZnVuY3Rpb24gKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJyYXkgJiYgdHlwZW9mIGFycmF5ID09PSBcIm9iamVjdFwiICYmIGFycmF5LmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd29yZHMucHVzaChhcnJheVtpXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNpemUodGhpcy5zaXplKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaGVpZ2h0KHRoaXMuaGVpZ2h0KCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUodGhpcy5zdHlsZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLndlaWdodCh0aGlzLndlaWdodCgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbG9yKHRoaXMuY29sb3IoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mb250KHRoaXMuZm9udCgpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aCA9IHdvcmRzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2FyciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Fyci5wdXNoKHdvcmRzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eUNoYW5nZWQoJ3N0cmluZycsIF9hcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgd2lkdGhVcGRhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB3b3JkcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHVzaCA9IGZ1bmN0aW9uICh3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAod29yZHMubGVuZ3RoID4gMCkgd29yZHMucHVzaChzcGFjZSk7XHJcbiAgICAgICAgICAgICAgICB3b3Jkcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHdvcmQuc2l6ZSh0aGlzLnNpemUoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmhlaWdodCh0aGlzLmhlaWdodCgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUodGhpcy5zdHlsZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAud2VpZ2h0KHRoaXMud2VpZ2h0KCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jb2xvcih0aGlzLmNvbG9yKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mb250KHRoaXMuZm9udCgpKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHdpZHRoVXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0cmluZyA9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gd29yZHNbaV0uc3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vblByb3BlcnR5Q2hhbmdlKGZ1bmN0aW9uIChwcm9wZXJ0eSwgdmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VbcHJvcGVydHldKHZhbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjgvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbi5jbGFzcygnT2JqZWN0cycsICdUZXh0JyxcclxuICAgIFsnQGV4dGVuZCcsICcrRHJhd2VyJyxcclxuICAgICAgICBmdW5jdGlvbiBUZXh0U3BhY2VDbGFzcyhleHRlbmQsIERyYXdlckhlbHBlcikge1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRUZXh0RWxlbWVudENsYXNzJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3RyaW5nID0gJyAnLFxyXG4gICAgICAgICAgICAgICAgd2lkdGggPSAwLFxyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRXaWR0aChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZvbnQgPSBzZWxmLmV4dHJhY3RGb250U3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5tZWFzdXJlVGV4dChzdHJpbmcpLndpZHRoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBEcmF3ZXJIZWxwZXIubWVhc3VyZVRleHQoZ2V0V2lkdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAzLzI4LzIwMTcuXHJcbiAqL1xyXG4kUi5wbHVnaW4uY2xhc3MoJ09iamVjdHMnLCAnVGV4dCcsXHJcbiAgICBbJytDb2xvcicsXHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dEVsZW1lbnRDbGFzcyhDb2xvckhlbHBlcikge1xyXG4gICAgICAgICAgICB2YXIgY29sb3IgPSAncmdiYSgwLDAsMCwxKScsXHJcbiAgICAgICAgICAgICAgICBmb250ID0gJ3NhbnMtc2VyaWYnLFxyXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodCA9IDQwMCxcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplID0gMTQsXHJcbiAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0ID0gMTQsXHJcbiAgICAgICAgICAgICAgICBmb250U3R5bGUgPSAnbm9ybWFsJyxcclxuICAgICAgICAgICAgICAgIGNiID0gW10sXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlc29sdmUocHJvcGVydHksIHZhbCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNiW2ldLmFwcGx5KHNlbGYsIFtwcm9wZXJ0eSwgdmFsXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2l6ZSA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA8IDApIHZhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemUgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnc2l6ZScsIGZvbnRTaXplKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmb250U2l6ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsIDwgMCkgdmFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0ID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ2hlaWdodCcsIGxpbmVIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpbmVIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLndlaWdodCA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA8IDEwMCkgdmFsID0gMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPiA5MDApIHZhbCA9IDkwMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsICUgMTAwICE9PSAwKSB2YWwgPSB2YWwgLSAodmFsICUgMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0ID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3dlaWdodCcsIGZvbnRXZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvbnRXZWlnaHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvbnQgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIiAmJiB2YWwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnZm9udCcsIGZvbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvbnQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbG9yID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ2NvbG9yJywgY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvcjtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3R5bGUgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsID09PSAnbm9ybWFsJyB8fCB2YWwgPT09ICdpdGFsaWMnIHx8IHZhbCA9PT0gJ29ibGlxdWUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFN0eWxlID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3N0eWxlJywgZm9udFN0eWxlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmb250U3R5bGU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmV4dHJhY3RGb250U3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvbnRTdHlsZSArICcgJyArIGZvbnRTaXplICsgJ3B4IFwiJyArIGZvbnQgKyAnLScgKyBmb250V2VpZ2h0ICsgJ1wiJztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub25Qcm9wZXJ0eUNoYW5nZSA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNiLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb3BlcnR5Q2hhbmdlZCA9IGZ1bmN0aW9uIChuYW1lLCB2YWwpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUobmFtZSwgdmFsKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjYvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbi5jbGFzcygnT2JqZWN0cycsICdUZXh0JyxcclxuICAgIFsnK0NvbG9yJywgJ0BleHRlbmQnLCAnK0RyYXdlcicsXHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dFdvcmRDbGFzcyhDb2xvckhlbHBlciwgZXh0ZW5kLCBEcmF3ZXJIZWxwZXIpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJFRleHRFbGVtZW50Q2xhc3MnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSAnJyxcclxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdHJpbmcgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BlcnR5Q2hhbmdlZCgnc3RyaW5nJywgdmFsKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRXaWR0aChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZvbnQgPSBzZWxmLmV4dHJhY3RGb250U3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5tZWFzdXJlVGV4dChzdHJpbmcpLndpZHRoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIERyYXdlckhlbHBlci5tZWFzdXJlVGV4dChnZXRXaWR0aCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5kcmF3ID0gZnVuY3Rpb24gKGNvbnRleHQsIHgsIHkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeCAhPT0gXCJudW1iZXJcIikgeCA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHkgIT09IFwibnVtYmVyXCIpIHkgPSAwO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuY29sb3IoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IHRoaXMuZXh0cmFjdEZvbnRTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQoc3RyaW5nLCB4LCB5KTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDIvMi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnRGlzcGF0Y2hlcicsXHJcbiAgICBbJ1RyZWUnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEZpbmRlcihUcmVlLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tFbGVtZW50KGUsIGN1cnNvcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUudHlwZSgpID09PSAnR3JvdXAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGUuZXh0ZW5zaW9uKCdNb3VzZScpLmNoZWNrKGUsIGN1cnNvciksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVycyA9IGUuZXh0ZW5zaW9uKCdMYXllcnMnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJfcmVzdWx0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmRpc2FibGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnR5cGUoKSA9PT0gJ0dyb3VwJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyX3Jlc3VsdCA9IGNoZWNrRWxlbWVudCh0aGlzLCBjdXJzb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXllcl9yZXN1bHQpIHJlc3VsdCA9IGxheWVyX3Jlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJfcmVzdWx0ID0gdGhpcy5leHRlbnNpb24oJ01vdXNlJykuY2hlY2sodGhpcywgY3Vyc29yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXJfcmVzdWx0KSByZXN1bHQgPSBsYXllcl9yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jaGVjayA9IGZ1bmN0aW9uIChjdXJzb3IpIHtcclxuICAgICAgICAgICAgICAgIHZhciByb290ID0gVHJlZS5yb290KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3QpIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXJzb3IgIT09IFwib2JqZWN0XCIgfHwgY3Vyc29yLmNvbnN0cnVjdG9yICE9PSBBcnJheSB8fCBjdXJzb3IubGVuZ3RoICE9PSAyIHx8IHR5cGVvZiBjdXJzb3JbMF0gIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIGN1cnNvclsxXSAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2M6IGN1cnNvcn0sICd7Y30gaXMgbm90IGEgdmFsaWQgY3Vyc29yIHZhbHVlLicsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoZWNrRWxlbWVudChyb290LCBjdXJzb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnTW9ycGhpbmUnLCBbXHJcbiAgICAgICAgZnVuY3Rpb24gTW9ycGhpbmUoKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZWFzaW5nID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gMSxcclxuICAgICAgICAgICAgICAgIHJlcGVhdCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgcmVwZWF0Q291bnQgPSAxLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRfdGltZSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBmdW5jID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gMCxcclxuICAgICAgICAgICAgICAgIGVuZCA9IDA7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRvbmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9uZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGF1c2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBwYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wYXVzZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF1c2VkO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSAwLFxyXG4gICAgICAgICAgICAgICAgcGF1c2VkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBkb25lID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBUaWNrKHRpbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXVzZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRfdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gKGR1cmF0aW9uICogcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhcnRfdGltZSkgc3RhcnRfdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcyA9ICh0aW1lIC0gc3RhcnRfdGltZSkgLyBkdXJhdGlvbjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzID4gMSkgcHJvZ3Jlc3MgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcyA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcGVhdCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXBlYXRDb3VudCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcGVhdENvdW50ICE9PSBJbmZpbml0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXRDb3VudC0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRfdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuYy5hcHBseShudWxsLCBbcHJvZ3Jlc3MsIGVhc2luZygodGltZSAtIHN0YXJ0X3RpbWUpIC8gMTAwMCwgc3RhcnQsIGVuZCAtIHN0YXJ0LCBkdXJhdGlvbiAvIDEwMDApLCBzdGFydF90aW1lXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKHMsIGUsIGYsIGR1ciwgZWFzZSwgcnB0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBlICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBkdXIgIT09IFwibnVtYmVyXCIgfHwgZHVyIDwgMCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZWFzZSAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcnB0ID09PSBcIm51bWJlclwiKSByZXBlYXQgPSBycHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgc3RhcnQgPSBzO1xyXG4gICAgICAgICAgICAgICAgZW5kID0gZTtcclxuICAgICAgICAgICAgICAgIGVhc2luZyA9IGVhc2U7XHJcbiAgICAgICAgICAgICAgICBmdW5jID0gZjtcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gZHVyID4gMCA/IGR1ciA6IDE7XHJcblxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuY29uZmlnO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBUaWNrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIkUi5zZXJ2aWNlLmNsYXNzKCdFdmVudHMnLCBbJ0RlYnVnJywgZnVuY3Rpb24gRXZlbnQoRGVidWcpIHtcclxuXHJcbiAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICB0eXBlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgcHJvcHM6IHt9LFxyXG4gICAgICAgIHRhcmdldDogbnVsbCxcclxuICAgICAgICBldmVudF90aW1lIDogbmV3IERhdGUoKVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmluaXQgPSBmdW5jdGlvbiAodHlwZSwgdGFyZ2V0LCBtZXRob2RzKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGRhdGEudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnRhcmdldCA9IHRhcmdldDtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWV0aG9kcyA9PT0gXCJvYmplY3RcIiAmJiBtZXRob2RzLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWV0aG9kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1ldGhvZHNbaV0ubmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBtZXRob2RzW2ldLm5hbWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KG1ldGhvZHNbaV0ubmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW21ldGhvZHNbaV0ubmFtZV0gPSBtZXRob2RzW2ldLmJpbmQodGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBtZXRob2RzW2ldLm5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAnRHVwbGljYXRlZCBtZXRob2Qge25hbWV9IGZvciBldmVudCB7dHlwZX0uJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7dHlwZTogdHlwZX0sICdVbmFibGUgdG8gY3JlYXRlIG1ldGhvZCBmb3IgZXZlbnQgb2JqZWN0IHt0eXBlfS4gTWV0aG9kIG11c3QgYmUgYSBuYW1lZCBmdW5jdGlvbi4nLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWV0aG9kcyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXRob2RzLm5hbWUgPT0gXCJzdHJpbmdcIiAmJiBtZXRob2RzLm5hbWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkobWV0aG9kc1tpXS5uYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1ttZXRob2RzLm5hbWVdID0gbWV0aG9kcy5iaW5kKHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBtZXRob2RzLm5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICdEdXBsaWNhdGVkIG1ldGhvZCB7bmFtZX0gZm9yIGV2ZW50IHt0eXBlfS4nLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt0eXBlOiB0eXBlfSwgJ1VuYWJsZSB0byBjcmVhdGUgbWV0aG9kIGZvciBldmVudCBvYmplY3Qge3R5cGV9LiBNZXRob2QgZnVuY3Rpb24gbXVzdCBiZSBhIG5hbWVkIGZ1bmN0aW9uLicsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlb2YgdGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbDogdGFyZ2V0XHJcbiAgICAgICAgICAgICAgICB9LCAnSW52YWxpZCBFdmVudCB0YXJnZXQge3R5cGV9e3ZhbC4gTXVzdCBiZSBhbiBvYmplY3R9JywgdGhpcylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIERlYnVnLmVycm9yKHt0eXBlOiB0eXBlb2YgdHlwZSwgdmFsOiB0eXBlfSwgJ0ludmFsaWQgdHlwZSBvZiBldmVudC4ge3R5cGV9e3ZhbH0uIE11c3QgYmUgc3RyaW5nLiAnLCB0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRlbGV0ZSB0aGlzLmluaXQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudGltZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gZGF0YS5ldmVudF90aW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBkYXRhLnRhcmdldDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy50eXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBkYXRhLnR5cGU7XHJcbiAgICB9O1xyXG5cclxufV0pOyIsIiRSLnNlcnZpY2UuY2xhc3MoJ0V2ZW50cycsIFsnRGVidWcnLCAnQGluamVjdCcsIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcihEZWJ1ZywgaW5qZWN0KSB7XHJcblxyXG4gICAgdmFyIGV2ZW50cyA9IHt9LFxyXG4gICAgICAgIGV2ZW50X3N0cmluZ19yZWdleHAgPSAvW0EtWmEtei0wLTldKy9nLFxyXG4gICAgICAgIGVtaXR0ZXIgPSB0aGlzO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFkZENhbGxiYWNrKHRhcmdldCwgZXZlbnQsIG9uY2UsIGNiKSB7XHJcbiAgICAgICAgaWYgKGV2ZW50cy5oYXNPd25Qcm9wZXJ0eShldmVudCkpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob25jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50c1tldmVudF0ub25jZS5wdXNoKGNiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzW2V2ZW50XS5wdXNoKGNiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY2IgPT09IFwib2JqZWN0XCIgJiYgY2IuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNiLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2FsbGJhY2sodGFyZ2V0LCBldmVudCwgb25jZSwgY2JbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVvZiBjYixcclxuICAgICAgICAgICAgICAgICAgICBldmVudDogZXZlbnRcclxuICAgICAgICAgICAgICAgIH0sICdDYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbi4gVW5hYmxlIHRvIGJpbmQgY2FsbGJhY2sge3R5cGV9IHRvIGV2ZW50IHtldmVudH0uJywgdGFyZ2V0KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe2V2ZW50OiBldmVudH0sICdFdmVudCBub3QgZm91bmQuIFVuYWJsZSB0byBiaW5kIGNhbGxiYWNrW3NdIHRvIGV2ZW50IHtldmVudH0uJywgdGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlQ2FsbGJhY2sodGFyZ2V0LCBldmVudCwgY2IpIHtcclxuICAgICAgICBpZiAoZXZlbnRzLmhhc093blByb3BlcnR5KGV2ZW50KSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNiID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfY2xlYXJDYkFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50c1tldmVudF0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWV2ZW50c1tldmVudF1baV0gPT09IGNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jbGVhckNiQXJyYXkucHVzaChldmVudHNbZXZlbnRdW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfY2xlYXJDYkFycmF5Lm1ldGhvZHMgPSBldmVudHNbZXZlbnRdLm1ldGhvZHM7XHJcbiAgICAgICAgICAgICAgICBfY2xlYXJDYkFycmF5Lm9uY2UgPSBldmVudHNbZXZlbnRdLm9uY2U7XHJcbiAgICAgICAgICAgICAgICBldmVudHNbZXZlbnRdID0gX2NsZWFyQ2JBcnJheTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY2IgPT09IFwib2JqZWN0XCIgJiYgY2IuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjaSA9IDA7IGNpIDwgY2IubGVuZ3RoOyBjaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2FsbGJhY2sodGFyZ2V0LCBldmVudCwgY2JbY2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt0eXBlOiB0eXBlb2YgY2J9LCAnQ2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24uIHt0eW9lfSBpcyBub3QgYSBmdW5jdGlvbicsIHRhcmdldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBEZWJ1Zy53YXJuKHtldmVudDogZXZlbnR9LCAnRXZlbnQgbm90IGZvdW5kLiBVbmFibGUgdG8gdW5iaW5kIHtldmVudH0gY2FsbGJhY2suICcsIHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc29sdmVFdmVudCh0YXJnZXQsIGV2ZW50LCBldmVudF90YXJnZXQsIHBheWxvYWQpIHtcclxuICAgICAgICBpZiAoZXZlbnRzLmhhc093blByb3BlcnR5KGV2ZW50KSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50X3RhcmdldCAhPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgZXZlbnRfdGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgZXZlbnRfb2JqZWN0ID0gaW5qZWN0KCckRXZlbnQnKTtcclxuXHJcbiAgICAgICAgICAgIHBheWxvYWQgPSB0eXBlb2YgcGF5bG9hZCA9PT0gXCJvYmplY3RcIiAmJiBwYXlsb2FkLmNvbnN0cnVjdG9yID09PSBBcnJheSA/IHBheWxvYWQgOiBbcGF5bG9hZF07XHJcblxyXG4gICAgICAgICAgICBwYXlsb2FkLnVuc2hpZnQoZXZlbnRfb2JqZWN0KTtcclxuXHJcbiAgICAgICAgICAgIGV2ZW50X29iamVjdC5pbml0KGV2ZW50LCBldmVudF90YXJnZXQsIGV2ZW50c1tldmVudF0ubWV0aG9kcyk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50c1tldmVudF0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50c1tldmVudF1baV0uYXBwbHkoZXZlbnRfdGFyZ2V0LCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aGlsZSAoZXZlbnRzW2V2ZW50XS5vbmNlWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudHNbZXZlbnRdLm9uY2VbMF0uYXBwbHkoZXZlbnRfdGFyZ2V0LCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50c1tldmVudF0ub25jZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe2V2ZW50OiBldmVudH0sICdFdmVudCB7ZXZlbnR9IG5vdCBmb3VuZC4gVW5hYmxlIHRvIHJlc29sdmUgZXZlbnQnLCB0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRlY29yYXRlID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICB0YXJnZXQub24gPSBmdW5jdGlvbiAoZXZlbnQsIGNiKSB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLiQkRU1JVFRFUlBST1RFQ1RFRENPTlRFWFQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW1pdHRlcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT09IFwic3RyaW5nXCIgJiYgZXZlbnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzID0gZXZlbnQubWF0Y2goZXZlbnRfc3RyaW5nX3JlZ2V4cCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRjaGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRDYWxsYmFjayh0YXJnZXQsIG1hdGNoZXNbaV0sIGZhbHNlLCBjYik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7ZXZlbnRzOiBldmVudH0sICdJbnZhbGlkIGV2ZW50IG5hbWUgdmFsdWUuIFVuYWJsZSB0byBzdWJzY3JpYmUgdG8gZXZlbnRbc10ge2V2ZW50c30uJywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRhcmdldC5vbi4kJEVNSVRURVJQUk9URUNURUQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgdGFyZ2V0Lm9uY2UgPSBmdW5jdGlvbiAoZXZlbnQsIGNiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09PSBcInN0cmluZ1wiICYmIGV2ZW50Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IGV2ZW50Lm1hdGNoKGV2ZW50X3N0cmluZ19yZWdleHApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkQ2FsbGJhY2sodGFyZ2V0LCBtYXRjaGVzW2ldLCB0cnVlLCBjYik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7ZXZlbnRzOiBldmVudH0sICdJbnZhbGlkIGV2ZW50IG5hbWUgdmFsdWUuIFVuYWJsZSB0byBzdWJzY3JpYmUgdG8gZXZlbnRbc10ge2V2ZW50c30uJywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0YXJnZXQub2ZmID0gZnVuY3Rpb24gKGV2ZW50LCBjYikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIiAmJiBldmVudC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBldmVudC5tYXRjaChldmVudF9zdHJpbmdfcmVnZXhwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hdGNoZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNhbGxiYWNrKHRhcmdldCwgbWF0Y2hlc1tpXSwgY2IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZXZlbnQ6IGV2ZW50fSwgJ1VuYWJsZSB0byB1bmJpbmQgY2FsbGJhY2tbc10gZnJvbSBldmVudFtzXSB7ZXZlbnR9LiBJbnZhbGlkIGV2ZW50IG5hbWUnLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQub24uYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbmNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0Lm9uY2UuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vZmYgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQub2ZmLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJveHkgPSBmdW5jdGlvbiAoZm9yZWlnbl9lbWl0dGVyLCBldmVudCwgZm9yZWlnbl9ldmVudCwgcGF5bG9hZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbihldmVudCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcmVpZ25fZW1pdHRlci5yZXNvbHZlKGZvcmVpZ25fZXZlbnQsIHBheWxvYWQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlc29sdmUgPSBmdW5jdGlvbiAoZXZlbnQsIHBheWxvYWQsIGV2ZW50X3RhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIiAmJiBldmVudC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBldmVudC5tYXRjaChldmVudF9zdHJpbmdfcmVnZXhwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWV2ZW50X3RhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRfdGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50KHRhcmdldCwgbWF0Y2hlc1tpXSwgZXZlbnRfdGFyZ2V0LCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtldmVudDogZXZlbnR9LCAnVW5hYmxlIHRvIHJlc29sdmUgZXZlbnQge2V2ZW50fS4gSW52YWxpZCBldmVudCBuYW1lJywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyID0gZnVuY3Rpb24gKGV2ZW50LCBtZXRob2RzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBldmVudC5tYXRjaChldmVudF9zdHJpbmdfcmVnZXhwKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIG0gPSAwIDsgbSA8IG1hdGNoZXMubGVuZ3RoOyBtKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFldmVudHMuaGFzT3duUHJvcGVydHkobWF0Y2hlc1ttXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50c1ttYXRjaGVzW21dXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzW21hdGNoZXNbbV1dLm9uY2UgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1ldGhvZHMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50c1ttYXRjaGVzW21dXS5tZXRob2RzID0gW21ldGhvZHNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWV0aG9kcyA9PT0gXCJvYmplY3RcIiAmJiBtZXRob2RzLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50c1ttYXRjaGVzW21dXS5tZXRob2RzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWV0aG9kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1ldGhvZHNbaV0gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzW21hdGNoZXNbbV1dLm1ldGhvZHMucHVzaChtZXRob2RzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtldmVudDogbWF0Y2hlc1ttXX0sICdEdXBsaWNhdGUgZXZlbnQgbmFtZS4gVW5hYmxlIHRvIGNyZWF0ZSBldmVudCB7ZXZlbnR9LiBFdmVudCBhbHJlYWR5IGV4aXN0cy4nLCB0YXJnZXQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNsZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZXZlbnQgaW4gZXZlbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1tldmVudF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5kZWNvcmF0ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3R5cGU6IHRhcmdldH0sICdVbmFibGUgdG8gZGVjb3JhdGUgb2JqZWN0IHt0eXBlfS4gVGFyZ2V0IGlzIG5vdCBhbiBvYmplY3QuJywgdGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH07XHJcblxyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzEwLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdSZXNvdXJjZScsXHJcbiAgICBbJ0BleHRlbmQnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEF1ZGlvUmVzb3VyY2UoZXh0ZW5kLCBEZWJ1Zykge1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRSZXNvdXJjZScpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50eXBlID0gJ0F1ZGlvJztcclxuXHJcbiAgICAgICAgICAgIHZhciByZXNvbHZlRXZlbnRGdW5jID0gbnVsbCwgc3RhdGVGdW5jID0gbnVsbCwgdXJsID0gbnVsbCwgcmVzcG9uc2UgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbignaW5pdCcsIGZ1bmN0aW9uIChfdXJsLCByZXNvbHZlRnVuYywgc2V0U3RhdGVGdW5jKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRGdW5jID0gcmVzb2x2ZUZ1bmM7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZUZ1bmMgPSBzZXRTdGF0ZUZ1bmM7XHJcbiAgICAgICAgICAgICAgICB1cmwgPSBfdXJsO1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlQXVkaW8uY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVBdWRpbygpIHtcclxuICAgICAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XHJcbiAgICAgICAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUZ1bmMoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB0aGlzLnJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEZ1bmMoJ2xvYWQnLCBbcmVzcG9uc2VdKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUZ1bmMoMik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50RnVuYygnZXJyb3InLCBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3VybDogdXJsfSwgJ1VuYWJsZSB0byBsb2FkIGF1ZGlvIHt1cmx9LicpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMub24oJ2dldCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB4aHIuc2VuZCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXhwb3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAzLzI2LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdSZXNvdXJjZScsXHJcbiAgICBbJ0BleHRlbmQnLCAnRGVidWcnLCAnQENvbmZpZycsICdARm9udHMnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEZvbnRSZXNvdXJjZShleHRlbmQsIERlYnVnLCBjb25maWcsIEZvbnRzKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRSZXNvdXJjZScpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50eXBlID0gJ0ZvbnQnO1xyXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBudWxsLCByZXNvbHZlID0gbnVsbCwgZm9udCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICByb290ID0gY29uZmlnLndhdGNoKCdmb250RGlyJywgZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvb3QgPSBzdHI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFwcGVuZGVkKSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLnJlbW92ZUNoaWxkKGZvbnRMb2FkZXJFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tJbnRlcnZhbCkgd2luZG93LmNsZWFySW50ZXJ2YWwoY2hlY2tJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0Rm9udCgpO1xyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBmb3JtYXQgPSBGb250cy5mb3JtYXRzKCksXHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgYXBwZW5kZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGZvbnRMb2FkZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3JlZmxlY3QtZm9udC1sb2FkZXItZWxlbWVudCcpO1xyXG4gICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudC5zdHlsZS5mb250RmFtaWx5ID0gJ3NhbnMtc2VyaWYnO1xyXG4gICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudC5zdHlsZS5mb250U2l6ZSA9ICcxMnB4JztcclxuICAgICAgICAgICAgZm9udExvYWRlckVsZW1lbnQuc3R5bGUubGluZUhlaWdodCA9ICcxMnB4JztcclxuICAgICAgICAgICAgZm9udExvYWRlckVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudC5zdHlsZS5sZWZ0ID0gJy05OTk5cHgnO1xyXG4gICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudC5zdHlsZS50b3AgPSAnLTk5OTlweCc7XHJcbiAgICAgICAgICAgIGZvbnRMb2FkZXJFbGVtZW50LmlubmVyVGV4dCA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiAxMjM0NTY3ODkwWyE/LC48PlwiwqMkJV4mKigpfkAjLT1dJztcclxuXHJcbiAgICAgICAgICAgIHRoaXMub24oJ2luaXQnLCBmdW5jdGlvbiAodXJsLCByLCBzKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlID0gcjtcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gcztcclxuICAgICAgICAgICAgICAgIGZvbnQgPSB1cmxbMF07XHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQgPSB1cmxbMV07XHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHVybFsyXTtcclxuICAgICAgICAgICAgICAgIGZvbnRMb2FkZXJFbGVtZW50LnN0eWxlLmZvbnRTdHlsZSA9IHN0eWxlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbignZ2V0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdldEZvbnQoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIGNoZWNrSW50ZXJ2YWwgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Rm9udCgpIHtcclxuICAgICAgICAgICAgICAgIEZvbnRzLmZvbnQocm9vdCwgZm9udCwgd2VpZ2h0LCBzdHlsZSk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLmFwcGVuZENoaWxkKGZvbnRMb2FkZXJFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIGFwcGVuZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHZhciByZXBlYXRUaWxsRXJyb3IgPSAxMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlcGVhdENvdW50ID0gMCxcclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsID0gW2ZvbnRMb2FkZXJFbGVtZW50Lm9mZnNldFdpZHRoLCBmb250TG9hZGVyRWxlbWVudC5vZmZzZXRIZWlnaHRdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvbnRMb2FkZXJFbGVtZW50LnN0eWxlLmZvbnRGYW1pbHkgPSAnXCInICsgRm9udHMuZm9ybWF0KGZvbnQpICsgJy0nICsgd2VpZ2h0ICsgJ1wiLCBzYW5zLXNlcmlmJztcclxuICAgICAgICAgICAgICAgIGNoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvbnRMb2FkZXJFbGVtZW50Lm9mZnNldFdpZHRoICE9PSBpbml0aWFsWzBdIHx8IGZvbnRMb2FkZXJFbGVtZW50Lm9mZnNldEhlaWdodCAhPT0gaW5pdGlhbFsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLnJlbW92ZUNoaWxkKGZvbnRMb2FkZXJFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0ludGVydmFsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ2xvYWQnLCBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlcGVhdENvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcGVhdENvdW50ID4gcmVwZWF0VGlsbEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdlcnJvcicsIFtdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7Zm9udDogZm9udCArICctJyArIHdlaWdodH0sICdVbmFibGUgdG8gbG9hZCBmb250IHtmb250fS4gRm9udCBwZW5kaW5nIHRpbWVkIG91dC4uLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLnJlbW92ZUNoaWxkKGZvbnRMb2FkZXJFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0ludGVydmFsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCA1MCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXhwb3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEZvbnRzLmZvcm1hdChmb250KVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnUmVzb3VyY2UnLFxyXG4gICAgWydAZXh0ZW5kJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBJbWFnZVJlc291cmNlKGV4dGVuZCwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJFJlc291cmNlJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgdXJsID0gbnVsbCwgcmVzb2x2ZUV2ZW50RnVuYyA9IG51bGwsIHN0YXRlRnVuYyA9IG51bGwsIGltYWdlID0gbmV3IEltYWdlKCksIHdpZHRoID0gMCwgaGVpZ2h0ID0gMDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9ICdJbWFnZSc7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uKCdpbml0JywgZnVuY3Rpb24gKF91cmwsIHJlc29sdmVGdW5jLCBzZXRTdGF0ZUZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEZ1bmMgPSByZXNvbHZlRnVuYztcclxuICAgICAgICAgICAgICAgIHN0YXRlRnVuYyA9IHNldFN0YXRlRnVuYztcclxuICAgICAgICAgICAgICAgIHVybCA9IF91cmw7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVJbWFnZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUltYWdlKCkge1xyXG4gICAgICAgICAgICAgICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUZ1bmMoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBpbWFnZS53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50RnVuYygnbG9hZCcsIFtdKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVGdW5jKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEZ1bmMoJ2Vycm9yJywgW10pO1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt1cmw6IHVybH0sICdVbmFibGUgdG8gbG9hZCBpbWFnZSB7dXJsfS4nKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbignZ2V0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgdXJsKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gd2lkdGg7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBoZWlnaHQ7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuZXhwb3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGltYWdlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTIvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1Jlc291cmNlJyxcclxuICAgIFsnQGV4dGVuZCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gUmVzb3VyY2UoZXh0ZW5kLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHVybCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgICAgIHJlc29sdmVGdW5jdGlvblBhc3NlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY2JDb250YWluZXIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBsb2FkOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZzogW11cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzdGF0dXMgPSAtMTsgLy8gLTEgaW5pdCwgMCBsb2FkaW5nLCAxIGxvYWRlZCwgMiBlcnJvclxyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2FkZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzID09PSAxO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0dXMgPT09IDI7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzID09PSAwO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudCgnZ2V0JywgW3VybF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy51cmwgPSBmdW5jdGlvbiAoX3VybCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF91cmwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1cmw7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybCA9IF91cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc29sdmVGdW5jdGlvblBhc3NlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnQoJ2luaXQnLCBbdXJsXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50KCdpbml0JywgW3VybCwgcmVzb2x2ZUV2ZW50LCBzZXRTdGF0dXNdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUZ1bmN0aW9uUGFzc2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXRTdGF0dXModmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt2YWw6IHZhbH0sICd7dmFsfSBpcyBub3QgdmFsaWQgdmFsdWUgZm9yIHN0YXR1cycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh2YWwgPCAwIHx8IHZhbCA+IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7dmFsOiB2YWx9LCAne3ZhbH0gbm8gc3VjaCBzdGF0dXMgcG9zc2libGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3RhdHVzID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZXNvbHZlRXZlbnQoZXZlbnQsIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjYkNvbnRhaW5lcltldmVudF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gdHlwZW9mIGRhdGEgPT0gXCJvYmplY3RcIiAmJiBkYXRhLmNvbnN0cnVjdG9yID09PSBBcnJheSA/IGRhdGEgOiBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYkNvbnRhaW5lcltldmVudF0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2JDb250YWluZXJbZXZlbnRdW2ldLmFwcGx5KHNlbGYsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnVW5hYmxlIHRvIHNldCBldmVudCB7ZX0uIE5vIHN1Y2ggZXZlbnQhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMub24gPSBmdW5jdGlvbiAoZXZlbnQsIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IGNiQ29udGFpbmVyW2V2ZW50XTtcclxuICAgICAgICAgICAgICAgIGZ1bmMgPSB0eXBlb2YgZnVuYyA9PSBcImZ1bmN0aW9uXCIgPyBmdW5jIDogZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSAnbG9hZCcgJiYgc3RhdHVzID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuYy5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSAnZXJyb3InICYmIHN0YXR1cyA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmMuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWFycmF5IHx8ICFmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnVW5hYmxlIHRvIHNldCBoYW5kbGVyIGZvciBldmVudCB7ZX0uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2JDb250YWluZXJbZXZlbnRdLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnUmVzb3VyY2UnLFxyXG4gICAgWydAZXh0ZW5kJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBTcHJpdGVSZXNvdXJjZShleHRlbmQsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRSZXNvdXJjZScpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHVybCA9IG51bGwsIGltYWdlID0gbnVsbCwgc2l6ZSA9IDAsIGZyYW1lcyA9IDAsIGR1cmF0aW9uID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLFxyXG4gICAgICAgICAgICAgICAgZnJhbWVIZWlnaHQgPSAwLCBmcmFtZVdpZHRoID0gMCwgZnBzID0gMTIsXHJcbiAgICAgICAgICAgICAgICBzZXRTdGF1c0Z1bmMgPSBudWxsLCByZXNvbHZlRXZlbnRGdW5jID0gbnVsbCwgcmVhZHkgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50eXBlID0gJ1Nwcml0ZSc7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uKCdpbml0JywgZnVuY3Rpb24gKHUsIGV2ZW50Riwgc3RhdHVzRikge1xyXG4gICAgICAgICAgICAgICAgc2V0U3RhdXNGdW5jID0gc3RhdHVzRjtcclxuICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEZ1bmMgPSBldmVudEY7XHJcbiAgICAgICAgICAgICAgICB1cmwgPSB1O1xyXG5cclxuICAgICAgICAgICAgICAgIGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgICAgICAgICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFN0YXVzRnVuYygxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBpbWFnZS53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWFkeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVDYW52YXNBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDYW52YXNTaXplKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEZ1bmMoJ2xvYWQnLCBbXSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFN0YXVzRnVuYygyKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRGdW5jKCdlcnJvcicsIFtdKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMub24oJ2dldCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHVybCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVDYW52YXNBcnJheSgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgciA9IDA7IHIgPCBzaXplOyByKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXgucHVzaChbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBzaXplOyBjKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbXMrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1zIDwgZnJhbWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRyaXhbcl0ucHVzaChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldENhbnZhc1NpemUoKSB7XHJcbiAgICAgICAgICAgICAgICBmcmFtZUhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0IC8gc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBmcmFtZVdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCAvIHNpemUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgc2l6ZTsgcisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBzaXplOyBjKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdHJpeFtyXVtjXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0cml4W3JdW2NdLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBmcmFtZVdpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeFtyXVtjXS5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGZyYW1lSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfY3R4ID0gbWF0cml4W3JdW2NdLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY3R4LnRyYW5zbGF0ZSgtZnJhbWVXaWR0aCAqIGMsIC1mcmFtZUhlaWdodCAqIHIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2N0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWFkeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWFkeTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJhbWVXaWR0aDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJhbWVIZWlnaHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZVdpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGVIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaGVpZ2h0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mcHMgPSBmdW5jdGlvbiAobnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG51bWJlciAhPT0gXCJudW1iZXJcIiB8fCBudW1iZXIgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe246IG51bWJlcn0sICd7bn0gaXMgbm90IGEgY29ycmVjdCBmcHMgbnVtYmVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZnBzID0gbnVtYmVyO1xyXG5cclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gTWF0aC5yb3VuZCgoZnJhbWVzIC8gZnBzKSAqIDEwMDApO1xyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciBwYXVzZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wYXVzZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHBhdXNlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxheSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHBhdXNlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVhZHkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGYgIT09IFwibnVtYmVyXCIgfHwgZiA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7cm93czogZn0sICd7cm93c30gaXMgbm90IGEgdmFsaWQgZnJhbWVzIG51bWJlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzaXplID0gTWF0aC5jZWlsKE1hdGguc3FydChmKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZnJhbWVzID0gZjtcclxuXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IE1hdGgucm91bmQoKGZyYW1lcyAvIGZwcykgKiAxMDAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZWFkeSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgY3JlYXRlQ2FudmFzQXJyYXkoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyYW1lcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50WCA9IDAsIGN1cnJlbnRZID0gMDtcclxuXHJcbiAgICAgICAgICAgIHZhciBfdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50aWNrID0gZnVuY3Rpb24gKHRpbWUpIHtcclxuICAgICAgICAgICAgICAgIHRpbWUgPSB0aW1lLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXVzZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBwcm9ncmVzcyA9ICh0aW1lIC0gX3RpbWUpIC8gZHVyYXRpb247XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBfdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcyA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGZyYW1lID0gTWF0aC5mbG9vcigoZnJhbWVzIC0gMSkgKiBwcm9ncmVzcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY3VycmVudFkgPSBNYXRoLmZsb29yKGZyYW1lIC8gc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50WCA9IGZyYW1lIC0gY3VycmVudFkgKiBzaXplO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5leHBvcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF0cml4W2N1cnJlbnRZXVtjdXJyZW50WF0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0cml4W2N1cnJlbnRZXVtjdXJyZW50WF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTAvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLCBbZnVuY3Rpb24gQ2FudmFzKCkge1xyXG5cclxuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSxcclxuICAgICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG4gICAgdmFyIHcgPSAwLCBoID0gMDtcclxuXHJcbiAgICB0aGlzLmNvbnRleHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgdyA9IHZhbHVlO1xyXG4gICAgICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHc7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmhlaWdodCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBoID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGg7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmV4cG9ydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY2FudmFzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY2FudmFzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGNvbnRleHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdyA9IHVuZGVmaW5lZDsgaCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBmb3IodmFyIHByb3AgaW4gdGhpcykge1xyXG4gICAgICAgICAgICBpZih0aGlzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1twcm9wXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzcvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLCBbJ0BpbmplY3QnLCAnRGVidWcnLCBmdW5jdGlvbiBHcmFwaGljc0Fzc2VtYmxlcihpbmplY3QsIERlYnVnKSB7XHJcblxyXG4gICAgdmFyIG91dHB1dCA9IGluamVjdCgnJENhbnZhcycpLFxyXG4gICAgICAgIGNvbnRleHQgPSBvdXRwdXQuY29udGV4dCgpLFxyXG4gICAgICAgIHBpcGUgPSBbXSxcclxuICAgICAgICBsYXllcnMgPSB7fSxcclxuICAgICAgICB3ID0gMCxcclxuICAgICAgICBoID0gMCxcclxuICAgICAgICBib3hFeHQgPSBudWxsLFxyXG4gICAgICAgIHJlc2l6ZWQgPSBmYWxzZSxcclxuICAgICAgICByZWFkeSA9IGZhbHNlO1xyXG5cclxuICAgIGZ1bmN0aW9uIFNldFNpemUod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGlwZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBwaXBlW2ldLnNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG91dHB1dC53aWR0aCh3aWR0aCk7XHJcbiAgICAgICAgb3V0cHV0LmhlaWdodChoZWlnaHQpO1xyXG4gICAgICAgIHcgPSB3aWR0aDtcclxuICAgICAgICBoID0gaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbXBvc2UoKSB7XHJcbiAgICAgICAgaWYgKCFyZXNpemVkKSB7XHJcbiAgICAgICAgICAgIGlmIChib3hFeHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzcHJpdGUgPSBib3hFeHQuYm94KCkuc3ByaXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3ByaXRlLnNpemVbMF0gIT09IHcgfHwgc3ByaXRlLnNpemVbMV0gIT09IGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBTZXRTaXplKHNwcml0ZS5zaXplWzBdLCBzcHJpdGUuc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzaXplZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcmVhZHkpIHtcclxuICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdywgaCk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGlwZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcGlwZVtpXS5kcmF3KGNvbnRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlYWR5ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dC5leHBvcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmxheWVyID0gZnVuY3Rpb24gKG9yZGVyLCBuYW1lLCB1cGRhdGVGdW5jKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcmRlciAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBEZWJ1Zy53YXJuKHtvOiBvcmRlcn0sICdJbnZhbGlkIG9yZGVyIGFyZ3VtZW50IFt7b31dIGlzIG5vdCBhIG51bWJlci4nKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7bjogbmFtZX0sICdbe259XSBpcyBub3QgdmFsaWQgbmFtZSBmb3IgbGF5ZXInKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZUZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBEZWJ1Zy53YXJuKCd1cGRhdGVGdW5jIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsYXllcnNbbmFtZV0gPSBpbmplY3QoJyRHcmFwaGljc0Fzc2VtYmxlckxheWVyJyk7XHJcbiAgICAgICAgbGF5ZXJzW25hbWVdLmYodXBkYXRlRnVuYyk7XHJcbiAgICAgICAgbGF5ZXJzW25hbWVdLm9yZGVyaW5nKG9yZGVyKTtcclxuICAgICAgICBsYXllcnNbbmFtZV0udXBkYXRlKCk7XHJcbiAgICAgICAgcGlwZS5wdXNoKGxheWVyc1tuYW1lXSk7XHJcbiAgICAgICAgcGlwZS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLm9yZGVyaW5nKCkgLSBiLm9yZGVyaW5nKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZWFkeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gcmVhZHk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuYm94ID0gZnVuY3Rpb24gKGJveFByb3ZpZGVyKSB7XHJcbiAgICAgICAgYm94RXh0ID0gYm94UHJvdmlkZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgaWYgKHdpZHRoICE9PSB3IHx8IGhlaWdodCAhPT0gaCkge1xyXG4gICAgICAgICAgICBTZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICByZWFkeSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy53aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdztcclxuICAgIH07XHJcbiAgICB0aGlzLmhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gaDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZXNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmVzaXplZCA9IGZhbHNlO1xyXG4gICAgICAgIHJlYWR5ID0gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICByZWFkeSA9IGZhbHNlO1xyXG4gICAgICAgIGxheWVyc1tuYW1lXS51cGRhdGUoKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG91dHB1dCA9IG91dHB1dC5kZXN0cm95KCk7XHJcbiAgICAgICAgY29udGV4dCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBib3hFeHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgcmVzaXplZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICByZWFkeSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB2YXIgcHJvcDtcclxuICAgICAgICB3aGlsZSAocGlwZVswXSkge1xyXG4gICAgICAgICAgICBwaXBlWzBdLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgcGlwZS5zaGlmdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHByb3AgaW4gbGF5ZXJzKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXllcnMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBsYXllcnNbcHJvcF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsYXllcnMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgcGlwZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgZm9yIChwcm9wIGluIHRoaXMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW3Byb3BdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZXhwb3J0ID0gY29tcG9zZTtcclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMi83LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJywgWydAaW5qZWN0JywgJ0RlYnVnJywgZnVuY3Rpb24gR3JhcGhpY3NBc3NlbWJsZXJMYXllcihpbmplY3QsIERlYnVnKSB7XHJcbiAgICB2YXIgY2FudmFzID0gaW5qZWN0KCckQ2FudmFzJyksXHJcbiAgICAgICAgY29udGV4dCA9IGNhbnZhcy5jb250ZXh0KCksXHJcbiAgICAgICAgd2lkdGggPSAwLFxyXG4gICAgICAgIGhlaWdodCA9IDAsXHJcbiAgICAgICAgZnVuYyA9IG51bGwsXHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZSxcclxuICAgICAgICBvcmRlcmluZyA9IDA7XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlQ2FudmFzKGN0eCkge1xyXG4gICAgICAgIGlmICghcmVhZHkpIHtcclxuICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICBpZiAoZnVuYykgZnVuYyhjb250ZXh0KTtcclxuICAgICAgICAgICAgcmVhZHkgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZShjYW52YXMuZXhwb3J0KCksIDAsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZiA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgZnVuYyA9IGY7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmY7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7ZjogZn0sICdbe2Z9XSBpcyBub3QgYSBmdW5jdGlvbicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zaXplID0gZnVuY3Rpb24gKHcsIGgpIHtcclxuICAgICAgICBpZiAod2lkdGggIT09IHcgfHwgaCAhPT0gaCkge1xyXG4gICAgICAgICAgICBjYW52YXMud2lkdGgodyk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQoaCk7XHJcbiAgICAgICAgICAgIHdpZHRoID0gdztcclxuICAgICAgICAgICAgaGVpZ2h0ID0gaDtcclxuICAgICAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMub3JkZXJpbmcgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIG9yZGVyaW5nID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvcmRlcmluZztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kcmF3ID0gdXBkYXRlQ2FudmFzO1xyXG5cclxuICAgIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjYW52YXMgPSBjYW52YXMuZGVzdHJveSgpO1xyXG4gICAgICAgIGNvbnRleHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgd2lkdGggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgaGVpZ2h0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGZ1bmMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgICAgICBvcmRlcmluZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICBmb3IodmFyIHByb3AgaW4gdGhpcykge1xyXG4gICAgICAgICAgICBpZih0aGlzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1twcm9wXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgZnVuY3Rpb24gUGx1Z2luKCkge1xyXG5cclxuICAgICAgICB2YXIgcHJvcGVydGllcyA9IHt9LCBjbGVhciA9IHt9LCBvYmplY3QgPSBudWxsLFxyXG4gICAgICAgICAgICBhcHBsaWVzID0gW10sIGRlc3Ryb3lDYiA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLmRlZmluZU9iamVjdCA9IGZ1bmN0aW9uIChvKSB7XHJcbiAgICAgICAgICAgIG9iamVjdCA9IG87XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmRlZmluZU9iamVjdDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLm9iamVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLm1hdGNoVHlwZSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGlmIChhcHBsaWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFwcGxpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcHBsaWVzW2ldID09PSB0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5hcHBseVRvKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5hcHBseVRvO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlICB0aGlzLm1hdGNoVHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuYXBwbHlUbyA9IGZ1bmN0aW9uICh0eXBlcykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHR5cGVzID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIGFwcGxpZXMucHVzaCh0eXBlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHR5cGVzID09IFwib2JqZWN0XCIgJiYgdHlwZXMuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0eXBlc1tpXSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpZXMucHVzaCh0eXBlc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFwcGx5VG87XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uIChwcm9wZXJ0eSwgZnVuYywgdGVtcCkge1xyXG4gICAgICAgICAgICBpZiAoIXByb3BlcnRpZXNbcHJvcGVydHldKSBwcm9wZXJ0aWVzW3Byb3BlcnR5XSA9IGZ1bmM7XHJcbiAgICAgICAgICAgIGlmICh0ZW1wKSBjbGVhcltwcm9wZXJ0eV0gPSB0cnVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3JhcCA9IGZ1bmN0aW9uIChvYmplY3QpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSB8fCBvYmplY3RbcHJvcGVydHldKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIG9iamVjdFtwcm9wZXJ0eV0gPSBwcm9wZXJ0aWVzW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGVsZXRlICB0aGlzLndyYXA7XHJcbiAgICAgICAgICAgIGRlbGV0ZSAgdGhpcy5yZWdpc3RlcjtcclxuICAgICAgICAgICAgZGVsZXRlICB0aGlzLmNsZWFyO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuaGFzUHJvcGVydHkgPSBmdW5jdGlvbiAocHJvcCkge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuY2xlYXIgPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gY2xlYXIpIHtcclxuICAgICAgICAgICAgICAgIGlmICghY2xlYXIuaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlICBvYmplY3RbcHJvcF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZikge1xyXG4gICAgICAgICAgICB2YXIgcHJvcDtcclxuICAgICAgICAgICAgaWYodHlwZW9mIGYgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgZGVzdHJveUNiLnB1c2goZik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aGlsZSAoZGVzdHJveUNiWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBkZXN0cm95Q2JbMF0uY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIGRlc3Ryb3lDYi5zaGlmdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlc3Ryb3lDYiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgZm9yKHByb3AgaW4gcHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgaWYob2JqZWN0KSBkZWxldGUgb2JqZWN0W3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHByb3BlcnRpZXNbcHJvcF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yKHByb3AgaW4gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMgPSB1bmRlZmluZWQ7IGNsZWFyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNS8xLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJywgW2Z1bmN0aW9uIEFyZWFPYmplY3RDbGFzcygpIHtcclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytNb3VzZScsXHJcbiAgICAgICAgZnVuY3Rpb24gQ2lyY2xlT2JqZWN0Q2xhc3MoTW91c2VIZWxwZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZUNoZWNrRnVuY3Rpb24oTW91c2VIZWxwZXIuY2lyY2xlQ2hlY2tGdW5jdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbXHJcbiAgICAgICAgZnVuY3Rpb25cclxuICAgICAgICAgICAgRGVmYXVsdE9iamVjdFR5cGUoKSB7XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjYvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgZnVuY3Rpb24gR3JvdXBPYmplY3RDbGFzcygpIHtcclxuXHJcbiAgICB9XHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrTW91c2UnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEltYWdlT2JqZWN0Q2xhc3MoTW91c2VIZWxwZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZUNoZWNrRnVuY3Rpb24oTW91c2VIZWxwZXIucmVjdENoZWNrRnVuY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgZnVuY3Rpb24gTGluZU9iamVjdENsYXNzKCkge1xyXG5cclxuICAgIH1cclxuKTsiLCIkUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnK01vdXNlJyxcclxuICAgICAgICBmdW5jdGlvbiBSZWN0YW5nbGVPYmplY3RDbGFzcyhNb3VzZUhlbHBlcikge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlQ2hlY2tGdW5jdGlvbihNb3VzZUhlbHBlci5yZWN0Q2hlY2tGdW5jdGlvbik7XHJcbiAgICAgICAgICAgIHZhciBtb3VzZSA9IHRoaXMuZXh0ZW5zaW9uKCdNb3VzZScpO1xyXG4gICAgICAgICAgICBtb3VzZS5jdXJzb3JUcmFuc2Zvcm1GdW5jdGlvbihNb3VzZUhlbHBlci5yZWN0Q3Vyc29yVHJhbnNmb3JtRnVuY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytNb3VzZScsXHJcbiAgICAgICAgZnVuY3Rpb24gU3ByaXRlT2JqZWN0Q2xhc3MoTW91c2VIZWxwZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZUNoZWNrRnVuY3Rpb24oTW91c2VIZWxwZXIucmVjdENoZWNrRnVuY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMy8yNS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytNb3VzZScsXHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dE9iamVjdENsYXNzKE1vdXNlSGVscGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VDaGVja0Z1bmN0aW9uKE1vdXNlSGVscGVyLnJlY3RDaGVja0Z1bmN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0BpbmplY3QnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEFuaW1hdGlvblByb3ZpZGVyKGluamVjdCwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBhbmltYXRpb25zID0gW10sXHJcbiAgICAgICAgICAgICAgICBhbmltYXRlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbW9ycGhzID0ge307XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1vcnBoID0gZnVuY3Rpb24gKG5hbWUsIG9yZGVyaW5nLCBzZXR0ZXIsIGFwcGxpZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtb3JwaCA9IGluamVjdCgnJE1vcnBoJyk7XHJcbiAgICAgICAgICAgICAgICBtb3JwaC5jb25maWcobmFtZSwgdGhpcywgb3JkZXJpbmcsIHNldHRlciwgYXBwbGllcik7XHJcbiAgICAgICAgICAgICAgICBpZiAobW9ycGgudmFsaWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vcnBoc1tuYW1lXSA9IG1vcnBoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5leHRyYWN0TW9ycGggPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vcnBoc1tuYW1lXTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZpbmRDb21wZXRpdG9yKHByb3BlcnRpZXMsIGFuaW1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLiQkU0VMRiA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGNvbXBldGl0b3IgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYW5pbWF0aW9uc1tpXS4kJFNFTEYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbnNbaV0uYWN0aXZlKCkgJiYgIWFuaW1hdGlvbnNbaV0uZG9uZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hlY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgcHJvcGVydGllcy5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25zW2ldLmhhc1Byb3BlcnR5KHByb3BlcnRpZXNbbl0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb21wZXRpdG9yKSBjb21wZXRpdG9yID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGV0aXRvci5wdXNoKGFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBhbmltYXRpb24uJCRTRUxGO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21wZXRpdG9yO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBDaGVja0FuaW1hdGlvblF1ZXVlKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hbmltYXRpb25zID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbmltYXRpb25zW2ldLmFjdGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IGFuaW1hdGlvbnNbaV0ucHJvcGVydGllcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uc1tpXS5xdWV1ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbmRDb21wZXRpdG9yKHByb3BzLCBhbmltYXRpb25zW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnNbaV0uc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21wZXRpdG9ycyA9IGZpbmRDb21wZXRpdG9yKHByb3BzLCBhbmltYXRpb25zW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wZXRpdG9ycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgY29tcGV0aXRvcnMubGVuZ3RoOyBuKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcCA9IDA7IHAgPCBwcm9wcy5sZW5ndGg7IHArKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGV0aXRvcnNbbl0uc3RvcChwcm9wc1twXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zW2ldLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2FuaW1hdGlvbnMucHVzaChhbmltYXRpb25zW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYW5pbWF0aW9uc1tpXS5kb25lKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hbmltYXRpb25zLnB1c2goYW5pbWF0aW9uc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9ucyA9IF9hbmltYXRpb25zO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlQW5pbWF0aW9uVHlwZTEocHJvcGVydHksIHZhbHVlLCBkdXJhdGlvbiwgZWFzaW5nKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFpciA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIHBhaXJbcHJvcGVydHldID0gdmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1vcnBoc1twcm9wZXJ0eV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhY2sgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJpbmc6IG1vcnBoc1twcm9wZXJ0eV0ub3JkZXJpbmcoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JwaDogbW9ycGhzW3Byb3BlcnR5XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkdXJhdGlvbiAmJiB0eXBlb2YgZHVyYXRpb24gPT09IFwibnVtYmVyXCIpIGNvbmZpZy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlYXNpbmcgJiYgdHlwZW9mIGVhc2luZyA9PT0gXCJzdHJpbmdcIikgY29uZmlnLmVhc2luZyA9IGVhc2luZztcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBpbmplY3QoJyRBbmltYXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLmNvbmZpZyh0aGlzLCBzdGFjaywgY29uZmlnLCBDaGVja0FuaW1hdGlvblF1ZXVlKTtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zLnB1c2goYW5pbWF0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIENyZWF0ZUFuaW1hdGlvblR5cGUyKHBhaXJzLCBhcmcyLCBhcmczKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29uZmlnID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmcyID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnID0gYXJnMjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhcmcyID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogYXJnMlxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmczID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5lYXNpbmcgPSBhcmczXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFyZzIgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogYXJnMlxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIHBhaXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYWlycy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbW9ycGhzW3Byb3BlcnR5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sICdQcm9wZXJ0eSB7cHJvcGVydHl9IG9mIHt0eXBlfSBjYW4gbm90IGJlIGFuaW1hdGVkIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Byb3BlcnR5XSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyaW5nOiBtb3JwaHNbcHJvcGVydHldLm9yZGVyaW5nKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JwaDogbW9ycGhzW3Byb3BlcnR5XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwYWlyc1twcm9wZXJ0eV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbW9ycGhfc3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vcnBoX3N0YWNrLnB1c2gocmVzdWx0W2l0ZW1dKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobW9ycGhfc3RhY2subGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9ycGhfc3RhY2suc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5vcmRlcmluZyAtIGIub3JkZXJpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBpbmplY3QoJyRBbmltYXRpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uY29uZmlnKHRoaXMsIG1vcnBoX3N0YWNrLCBjb25maWcsIENoZWNrQW5pbWF0aW9uUXVldWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignTm8gcHJvcGVydGllcyB0byBhbmltYXRlIScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGUgPSBmdW5jdGlvbiAoYXJnMSwgYXJnMiwgYXJnMywgYXJnNCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmcxID09PSAnc3RyaW5nJyAmJiBhcmcyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQ3JlYXRlQW5pbWF0aW9uVHlwZTEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhcmcxID09PSBcIm9iamVjdFwiICYmIGFyZzEuY29uc3RydWN0b3IgIT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQ3JlYXRlQW5pbWF0aW9uVHlwZTIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1VuYWJsZSB0byBjcmVhdGUgYW5pbWF0aW9uLiBXcm9uZyBhcmd1bWVudHMnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIENoZWNrQW5pbWF0aW9uUXVldWUoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5pbWF0ZWQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHkgIT09IFwic3RyaW5nXCIgfHwgcHJvcGVydHkubGVuZ3RoID09PSAwKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zW2ldLnN0b3AocHJvcGVydHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMjMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnQGluamVjdCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQXVkaW8oaW5qZWN0LCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICB1cmwgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgdHlwZSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBldmVudHMgPSBpbmplY3QoJyRFdmVudFByb3ZpZGVyJyksXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zID0gaW5qZWN0KCckQW5pbWF0aW9uUHJvdmlkZXInKSxcclxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIG5vZGVuYW1lID0gJyc7XHJcblxyXG4gICAgICAgICAgICBldmVudHMud3JhcCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGV2ZW50QXJncygpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbc2VsZiwgb3V0cHV0LCB1cmwsIHR5cGVdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ3JlYWR5JywgZXZlbnRBcmdzLCB0cnVlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdsb2FkJywgZXZlbnRBcmdzLCB0cnVlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdlcnJvcicsIGV2ZW50QXJncywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgncGxheScsIGV2ZW50QXJncywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Nvbm5lY3QnLCBldmVudEFyZ3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdkaXNjb25uZWN0JywgZXZlbnRBcmdzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnZW5kJywgZXZlbnRBcmdzLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVBbmltYXRpb25Nb3JwaChmaWx0ZXIsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zLm1vcnBoLmFwcGx5KHRoaXMsIFtwcm9wZXJ0eS5uYW1lLCAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3BlcnR5Lm5vcm1hbGl6ZXIodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KGZpbHRlci5nZXQocHJvcGVydHkubmFtZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwcm9wZXJ0eS5ub3JtYWxpemVyKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlci5zZXQocHJvcGVydHkubmFtZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkID0gZnVuY3Rpb24gKG5hbWUsIHNyYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiICYmIG5hbWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3JjID09PSBcInN0cmluZ1wiICYmIHNyYyAhPT0gJ2Rlc3RpbmF0aW9uJyAmJiBzcmMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBzcmM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IGluamVjdCgnJFVzZXJBdWRpb1NvdXJjZScpLmJ1aWxkKHNyYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnU2FtcGxlJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2xvYWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRlcm1pbmF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzcmMgPT09ICdkZXN0aW5hdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlID0gaW5qZWN0KCckVXNlckF1ZGlvTWl4ZXInKS5idWlsZChuYW1lLCBzcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzWzBdICYmIHR5cGVvZiBhcmd1bWVudHNbMF0gPT09IFwib2JqZWN0XCIgJiYgYXJndW1lbnRzWzBdLiQkU09VUkNFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gJ1snICsgbmFtZSArICddJyArICdBdWRpb0NoYW5uZWwnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ0NoYW5uZWwnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnbG9hZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzcmMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBpbmplY3QoJyRVc2VyQXVkaW9NaXhlcicpLmJ1aWxkKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSAnWycgKyBuYW1lICsgJ10nICsgJ0F1ZGlvQ2hhbm5lbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnQ2hhbm5lbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdsb2FkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2Uub24oJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLm9uKCdwbGF5JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgncGxheScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2Uub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2VuZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2Uub24oJ2Nvbm5lY3QnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdjb25uZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5vbignZGlzY29ubmVjdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Rpc2Nvbm5lY3QnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlcnMgPSBzb3VyY2UuZmlsdGVycygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BzID0gZmlsdGVyc1tpXS5wcm9wcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBtID0gMDsgbSA8IHByb3BzLmxlbmd0aDsgbSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcHNbbV0uYW5pbWF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVBbmltYXRpb25Nb3JwaC5hcHBseSh0aGlzLCBbZmlsdGVyc1tpXSwgcHJvcHNbbV1dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZW5hbWUgPSBuYW1lO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgncmVhZHknKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdBdWRpbyBtaXhlciBoYXZlIG5vIG5hbWUhIFNob3VsZCBiZSBhIHN0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5maWx0ZXIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVycyA9IHNvdXJjZS5maWx0ZXJzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyc1tpXS5oYXMobmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlciA9IGZpbHRlcnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlci5zZXQobmFtZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlci5nZXQobmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIHNldCBmaWx0ZXIgcHJvcGVydHkgW3tuYW1lfV0uIE5vIGZpbHRlciB3aXRoIHRoYXQgcGFyYW0hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3QgPSBmdW5jdGlvbiAob3V0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3V0ICYmIHR5cGVvZiBvdXQgPT09IFwib2JqZWN0XCIgJiYgb3V0LiQkU09VUkNFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG91dCA9PT0gXCJvYmplY3RcIiAmJiBvdXQudHlwZSAmJiB0eXBlb2Ygb3V0LnR5cGUgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdHlwZSA9IG91dC50eXBlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdDaGFubmVsJyAmJiBjdHlwZSA9PT0gJ1NhbXBsZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ1RyeWluZyB0byBjb25uZWN0IENoYW5uZWwgd2l0aCBTYW1wbGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvdXQuY29ubmVjdCAmJiB0eXBlb2Ygb3V0LmNvbm5lY3QgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3V0c291cmNlID0gb3V0LmNvbm5lY3QoeyQkU09VUkNFOiB0cnVlfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IG91dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLmNvbm5lY3Qob3V0c291cmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdVbmtub3duIHR5cGUgb2YgIG9iamVjdCBwYXNzZWQgYXMgb3V0cHV0IScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdVbmtub3duIHR5cGUgb2YgIG9iamVjdCBwYXNzZWQgYXMgb3V0cHV0IScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vdXRwdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hbmltYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9ucy5hbmltYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RyID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0ciA9PT0gdHlwZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy51cmwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGVuYW1lO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9ucy5zdG9wLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMjEvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnQGluamVjdCcsICdAQ29uZmlnJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBVc2VyQXVkaW9NaXhlcihpbmplY3QsIGNvbmZpZywgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBldmVudHMgPSBpbmplY3QoJyRFdmVudFByb3ZpZGVyJyksXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJzID0gW10sXHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgbmFtZSA9ICcnLFxyXG4gICAgICAgICAgICAgICAgZmlsdGVyc0NmZyA9IGNvbmZpZy53YXRjaCgnZmlsdGVycycsIGZ1bmN0aW9uICh2KSB7ZmlsdGVycyA9IHZ9KTtcclxuXHJcblxyXG4gICAgICAgICAgICBldmVudHMud3JhcCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGFyZ0YoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW3RoaXNdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ3BsYXknLCBhcmdGLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnY29ubmVjdCcsIGFyZ0YsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdyZWFkeScsIGFyZ0YsIHRydWUpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Vycm9yJywgYXJnRiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkID0gZnVuY3Rpb24gKG4sIGNoYW5uZWwpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcnNDZmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGluamVjdCgnJCcgKyBmaWx0ZXJzQ2ZnW2ldICsgJ05vZGUnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyc1tmaWx0ZXJzLmxlbmd0aCAtIDFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcnNbZmlsdGVycy5sZW5ndGggLSAxXS5jb25uZWN0KG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzLnB1c2gobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuID09PSBcInN0cmluZ1wiICYmIG4ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWUgPSBuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7bjogbn0sICdbe259XSBpcyBub3QgYSB2YWxpZCBuYW1lIGZvciBjaGFubmVsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNoYW5uZWwgJiYgdHlwZW9mIGNoYW5uZWwgPT09IFwib2JqZWN0XCIgJiYgY2hhbm5lbC5jb25uZWN0ICYmIHR5cGVvZiBjaGFubmVsLmNvbm5lY3QgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdChjaGFubmVsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoYW5uZWwgPT09ICdkZXN0aW5hdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVzdGluYXRpb24gPSBpbmplY3QoJyREZXN0aW5hdGlvbk5vZGUnKTtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzW2ZpbHRlcnMubGVuZ3RoIC0gMV0uY29ubmVjdChkZXN0aW5hdGlvbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdCA9IGZ1bmN0aW9uIChvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG91dC4kJEFVRElPTk9ERSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcnNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSAgdGhpcy5idWlsZDtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0ID0gZnVuY3Rpb24gKG91dCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG91dC4kJEFVRElPTk9ERSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzWzBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gb3V0LmNvbm5lY3QoeyQkQVVESU9OT0RFOiB0cnVlfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyc1tmaWx0ZXJzLmxlbmd0aCAtIDFdLmNvbm5lY3QoaW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IG91dDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3V0cHV0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hbWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzE5LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0BleHRlbmQnLCAnQGluamVjdCcsXHJcbiAgICAgICAgZnVuY3Rpb24gVXNlckF1ZGlvU291cmNlKGV4dGVuZCwgaW5qZWN0KSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgbm9kZSA9IGluamVjdCgnJEF1ZGlvU291cmNlJyksXHJcbiAgICAgICAgICAgICAgICBldmVudHMgPSBpbmplY3QoJyRFdmVudFByb3ZpZGVyJyksXHJcbiAgICAgICAgICAgICAgICBtaXhlciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgdXJsID0gJyc7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjYkFyZ3MoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW3RoaXNdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjb25uZWN0Q2JBcmdzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt0aGlzLCBvdXRwdXRdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBldmVudHMud3JhcCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgncmVhZHknLCBjYkFyZ3MsIHRydWUpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2xvYWQnLCBjYkFyZ3MsIHRydWUpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Vycm9yJywgY2JBcmdzLCB0cnVlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdjb25uZWN0JywgY29ubmVjdENiQXJncywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ3BsYXknLCBjYkFyZ3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdzdG9wJywgY2JBcmdzLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICBub2RlLm9uKCdyZWFkeScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdyZWFkeScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIG5vZGUub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnbG9hZCcpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIG5vZGUub24oJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5idWlsZCA9IGZ1bmN0aW9uIChzcmMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNyYyA9PT0gXCJzdHJpbmdcIiAmJiBzcmMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybCA9IHNyYztcclxuICAgICAgICAgICAgICAgICAgICBub2RlLmJ1aWxkKHNyYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWl4ZXIgPSBpbmplY3QoJyRVc2VyQXVkaW9NaXhlcicpLmJ1aWxkKCdzb3VyY2UtYnVpbHQtaW4tZmlsdGVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWl4ZXIub24oJ2Nvbm5lY3QnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdjb25uZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5jb25uZWN0KG1peGVyLmNvbm5lY3QoeyQkQVVESU9OT0RFOiB0cnVlfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmJ1aWxkO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdyZWFkeScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlICB0aGlzLmJ1aWxkO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtaXhlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtaXhlci5maWx0ZXJzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5wbGF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXR1cygnZXJyb3InKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cygncmVhZHknKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0dXMoJ2xvYWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vdXRwdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0ID0gZnVuY3Rpb24gKG91dCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG91dCAmJiBvdXQuY29uc3RydWN0b3IgPT09IG1peGVyLmNvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0O1xyXG4gICAgICAgICAgICAgICAgICAgIG1peGVyLmNvbm5lY3Qob3V0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTYvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnQEF1ZGlvJywgJ0BleHRlbmQnLFxyXG4gICAgICAgIGZ1bmN0aW9uIERlbGF5Tm9kZShhdWRpbywgZXh0ZW5kKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRBdWRpb05vZGUnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0aW1lQ0ZHID0gMCwgZm9yY2VDRkcgPSAwLCBraWxsRGVsYXkgPSAxMDAwMCxcclxuICAgICAgICAgICAgICAgIGdsb2JhbEdhaW4gPSBhdWRpby5jb250ZXh0KCkuY3JlYXRlR2FpbigpLFxyXG4gICAgICAgICAgICAgICAgZGVsYXkgPSBhdWRpby5jb250ZXh0KCkuY3JlYXRlRGVsYXkoKSxcclxuICAgICAgICAgICAgICAgIGZlZWRiYWNrID0gYXVkaW8uY29udGV4dCgpLmNyZWF0ZUdhaW4oKSxcclxuICAgICAgICAgICAgICAgIGJxID0gYXVkaW8uY29udGV4dCgpLmNyZWF0ZUJpcXVhZEZpbHRlcigpO1xyXG5cclxuICAgICAgICAgICAgZ2xvYmFsR2Fpbi5nYWluLnZhbHVlID0gMTtcclxuICAgICAgICAgICAgYnEuZnJlcXVlbmN5LnZhbHVlID0gMjAwMDtcclxuICAgICAgICAgICAgZmVlZGJhY2suZ2Fpbi52YWx1ZSA9IGZvcmNlQ0ZHO1xyXG4gICAgICAgICAgICBkZWxheS5kZWxheVRpbWUudmFsdWUgPSB0aW1lQ0ZHO1xyXG5cclxuICAgICAgICAgICAgZGVsYXkuY29ubmVjdChmZWVkYmFjayk7XHJcbiAgICAgICAgICAgIGZlZWRiYWNrLmNvbm5lY3QoYnEpO1xyXG4gICAgICAgICAgICBicS5jb25uZWN0KGRlbGF5KTtcclxuICAgICAgICAgICAgZmVlZGJhY2suY29ubmVjdChnbG9iYWxHYWluKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQoJ2RlbGF5JywgW2dsb2JhbEdhaW4sIGZlZWRiYWNrXSwgZ2xvYmFsR2Fpbik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb3BlcnR5KCdkZWxheScsIFswLCAwXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUubGVuZ3RoID09IDIgJiYgdHlwZW9mIHZhbHVlWzBdID09IFwibnVtYmVyXCIgJiYgdHlwZW9mIHZhbHVlWzFdID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWUgPSB2YWx1ZVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlID0gdmFsdWVbMV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGltZSA+IDEpIHRpbWUgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGltZSA8IDApIHRpbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9yY2UgPiAuOCkgZm9yY2UgPSAuODtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcmNlIDwgMCkgZm9yY2UgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lQ0ZHID0gdGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2VDRkcgPSBmb3JjZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXkuZGVsYXlUaW1lLnZhbHVlID0gdGltZUNGRztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmVlZGJhY2suZ2Fpbi52YWx1ZSA9IGZvcmNlQ0ZHO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2ZvcmNlLCB0aW1lXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZVswXSwgdmFsdWVbMV1dO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aW1lID0gdmFsdWVbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlID0gdmFsdWVbMV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aW1lID4gMSkgdGltZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWUgPCAwKSB0aW1lID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9yY2UgPiAuOCkgZm9yY2UgPSAuODtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9yY2UgPCAwKSBmb3JjZSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbZm9yY2UsIHRpbWVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAQXVkaW8nLCAnQGV4dGVuZCcsXHJcbiAgICAgICAgZnVuY3Rpb24gRGVzdGluYXRpb25Ob2RlKGF1ZGlvLCBleHRlbmQpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJEF1ZGlvTm9kZScpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5idWlsZCgnZGVzdGluYXRpb24nLCBhdWRpby5jb250ZXh0KCkuZGVzdGluYXRpb24sIGZhbHNlKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzE2LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0BBdWRpbycsICdAZXh0ZW5kJyxcclxuICAgICAgICBmdW5jdGlvbiBHYWluTm9kZShhdWRpbywgZXh0ZW5kKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRBdWRpb05vZGUnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB2b2x1bWUgPSAxLFxyXG4gICAgICAgICAgICAgICAgZ2FpbiA9IGF1ZGlvLmNvbnRleHQoKS5jcmVhdGVHYWluKCk7XHJcblxyXG4gICAgICAgICAgICBnYWluLmdhaW4udmFsdWUgPSB2b2x1bWU7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkKCdnYWluJywgZ2FpbiwgZ2Fpbik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb3BlcnR5KCd2b2x1bWUnLCAxLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMSkgdmFsdWUgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2b2x1bWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2Fpbi5nYWluLnZhbHVlID0gdm9sdW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMSkgdmFsdWUgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzE2LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0BBdWRpbycsICdAZXh0ZW5kJyxcclxuICAgICAgICBmdW5jdGlvbiBMb3dwYXNzTm9kZShhdWRpbywgZXh0ZW5kKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRBdWRpb05vZGUnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBicWYgPSBhdWRpby5jb250ZXh0KCkuY3JlYXRlQmlxdWFkRmlsdGVyKCksXHJcblxyXG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5ID0gMjIwNTA7XHJcblxyXG4gICAgICAgICAgICBicWYudHlwZSA9ICdsb3dwYXNzJztcclxuICAgICAgICAgICAgYnFmLmZyZXF1ZW5jeS52YWx1ZSA9IGZyZXF1ZW5jeTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQoJ2xvd3Bhc3MnLCBicWYsIGJxZik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb3BlcnR5KCdsb3dwYXNzJywgMjIwNTAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMjIwNTApIHZhbHVlID0gMjIwNTA7XHJcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnFmLmZyZXF1ZW5jeS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDIyMDUwKSB2YWx1ZSA9IDIyMDUwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTYvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnQGluamVjdCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQXVkaW9Ob2RlKGluamVjdCwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgaW5wdXQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgYnVpbGRGID0gZnVuY3Rpb24gKHNvdW5kLCBvdXRwdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW91dHB1dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLmlucHV0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdW5kLmNvbm5lY3QoaW5wdXRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm91dHB1dCgpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNvdW5kcyA9IFtdLFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzID0gaW5qZWN0KCckRXZlbnRQcm92aWRlcicpLFxyXG4gICAgICAgICAgICAgICAgbm9kZW5hbWUgPSAnJztcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGFyZ3MoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW25leHROb2RlXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZXZlbnRzLndyYXAodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ3JlYWR5JywgYXJncywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgncGxheScsIGFyZ3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdlbmQnLCBhcmdzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnY29ubmVjdCcsIGFyZ3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdkaXNjb25uZWN0JywgYXJncywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ3Byb3BlcnR5JywgYXJncywgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHROb2RlICYmIG91dHB1dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfaW5wQXJyYXkgPSBuZXh0Tm9kZS5pbnB1dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3V0cHV0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgX2lucEFycmF5Lmxlbmd0aDsgbisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbaV0uZGlzY29ubmVjdChfaW5wQXJyYXlbbl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnZGlzY29ubmVjdCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3QgPSBmdW5jdGlvbiAob3V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgICAgIG5leHROb2RlID0gb3V0O1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHROb2RlICYmIG91dHB1dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfaW5wQXJyID0gbmV4dE5vZGUuaW5wdXQoKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG91dHB1dC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IF9pbnBBcnIubGVuZ3RoOyBuKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFtpXS5jb25uZWN0KF9pbnBBcnJbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Nvbm5lY3QnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5idWlsZCA9IGZ1bmN0aW9uIChuYW1lLCBpbnAsIG91dCwgZikge1xyXG4gICAgICAgICAgICAgICAgaW5wdXQgPSB0eXBlb2YgaW5wID09IFwib2JqZWN0XCIgJiYgaW5wLmNvbnN0cnVjdG9yID09PSBBcnJheSA/IGlucCA6IFtpbnBdO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gdHlwZW9mIG91dCA9PSBcIm9iamVjdFwiICYmIG91dC5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgPyBvdXQgOiBbb3V0XTtcclxuICAgICAgICAgICAgICAgIG5vZGVuYW1lID0gbmFtZTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZiA9PSBcImZ1bmN0aW9uXCIpIGJ1aWxkRiA9IGY7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5idWlsZDtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdyZWFkeScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlucHV0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vdXRwdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGVuYW1lO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wbGF5ID0gZnVuY3Rpb24gKHNvdW5kLCBvdXRwdXQpIHtcclxuICAgICAgICAgICAgICAgIHNvdW5kcy5wdXNoKHNvdW5kKTtcclxuICAgICAgICAgICAgICAgIHNvdW5kLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBzb3VuZC4kJFNFQVJDSCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VuZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzb3VuZHMuJCRTRUFSQ0gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHNvdW5kc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNvdW5kLiQkU0VBUkNIO1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdW5kcyA9IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChuZXh0Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlLnBsYXkoc291bmQsIGJ1aWxkRi5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgbW9kZWwgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHkgPSBmdW5jdGlvbiAobmFtZSwgZGVmVmFsLCBzZXR0ZXIsIGdldHRlciwgbm9ybWxpemVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXR0ZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRlcjogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplcjogbm9ybWxpemVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlZDogdHlwZW9mIG5vcm1saXplciA9PT0gXCJmdW5jdGlvblwiID8gdHJ1ZSA6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBnZXR0ZXIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5nZXR0ZXIgPSBnZXR0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2V0dGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuc2V0dGVyID0gc2V0dGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkudmFsdWUgPSBkZWZWYWw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWZWYWwgJiYgdHlwZW9mIHByb3BlcnR5LmdldHRlciAmJiBwcm9wZXJ0eS5zZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtb2RlbFtwcm9wZXJ0eS5uYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHkubmFtZV0gPSBwcm9wZXJ0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Byb3BlcnR5OiBwcm9wZXJ0eX0sICdEdXBsaWNhdGVkIHByb3BlcnR5IFt7cHJvcGVydHl9XScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7bmFtZTogbmFtZX0sICdQcm9wZXJ0eSBuYW1lIFt7bmFtZX1dIGlzIG5vdCB2YWxpZCEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0ID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT0gXCJzdHJpbmdcIiAmJiBuYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gbW9kZWxbbmFtZV0uc2V0dGVyKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxbbmFtZV0udmFsdWUgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtwcm9wOiBuYW1lLCB2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgdmFsdWVuIGZvciBbe3Byb3B9XS4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT0gXCJzdHJpbmdcIiAmJiBuYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWxbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVsW25hbWVdLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7bmFtZTogbmFtZX0sICdPYmplY3QgaGFzIG5vIHByb3BlcnR5IFt7bmFtZX1dLiBVbmFibGUgdG8gZ2V0IHZhbHVlLicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1Byb3BlcnR5IG5hbWUgaGFzIHRvIGJlIGEgc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb3BzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gbW9kZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobW9kZWxbcHJvcF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5oYXMgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICEhbW9kZWxbbmFtZV07XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8yMi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgZnVuY3Rpb24gQXVkaW9Ob2RlU291bmREaXNwYXRjaGVyKCkge1xyXG5cclxuICAgICAgICB2YXIgc291bmRzID0gW107XHJcblxyXG4gICAgICAgIHRoaXMucmVnaXN0ZXIgPSBmdW5jdGlvbiAoc291bmQpIHtcclxuICAgICAgICAgICAgc291bmQuYWRkRXZlbnRMaXN0ZW5lcignZW5kJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc291bmQuJCRTRUFSQ0ggPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdW5kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc291bmRzW2ldLiQkU0VBUkNIKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHNvdW5kc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc291bmRzID0gcmVzdWx0O1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHNvdW5kcy5wdXNoKHNvdW5kKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnJlY29ubmVjdCA9IGZ1bmN0aW9uIChkZXN0aW5hdGlvbikge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdW5kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgc291bmRzW2ldLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgICAgIHNvdW5kc1tpXS5jb25uZWN0KGRlc3RpbmF0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTYvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnQEF1ZGlvJywgJ0BpbmplY3QnLCAnUmVzb3VyY2UnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEF1ZGlvU291cmNlKGF1ZGlvLCBpbmplY3QsIFJlc291cmNlLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHVybCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICByZXNvdXJjZSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBidWZmZXIgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGV2ZW50cyA9IGluamVjdCgnJEV2ZW50UHJvdmlkZXInKSxcclxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICAgICAgc291bmRzID0gW107XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhcmdzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtyZXNvdXJjZSwgYnVmZmVyLCBvdXRwdXRdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBldmVudHMud3JhcCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgncmVhZHknLCBhcmdzLCB0cnVlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdsb2FkJywgYXJncywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnZXJyb3InLCBhcmdzLCB0cnVlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdjb25uZWN0JywgYXJncywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Rpc2Nvbm5lY3QnLCBhcmdzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgncGxheScsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdlbmQnLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkID0gZnVuY3Rpb24gKHNyYykge1xyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UgPSBSZXNvdXJjZS5hdWRpbyhzcmMpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc291cmNlLm9uKCdsb2FkJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXVkaW8uY29udGV4dCgpLmRlY29kZUF1ZGlvRGF0YShcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlciA9IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdsb2FkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtzcmM6IHNyY30sICdbe3NyY31dIGF1ZGlvIGJ1ZmZlciBjYW4gbm90IGJlIGRlY29kZWQuIFJlc291cmNlIG5vdCBmb3VuZCwgb3Igb2Ygd3JvbmcgZm9ybWF0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc291cmNlLm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7c3JjOiBzcmN9LCAnVW5hYmxlIHRvIGxvYWQgYXVkaW8gZmlsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKGVycm9yKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5idWlsZDtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvdXRwdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdkaXNjb25uZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdCA9IGZ1bmN0aW9uIChvdXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0O1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Nvbm5lY3QnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wbGF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dCAmJiB0aGlzLnN0YXR1cygnbG9hZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGF1ZGlvLmNvbnRleHQoKS5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UuYnVmZmVyID0gYnVmZmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdW5kcy5wdXNoKHNvdXJjZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnBsYXkoc291cmNlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLnN0YXJ0KDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdW5kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdW5kc1tpXS5zdG9wKDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc291bmRzID0gW107XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzE2LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBFdmVudChEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIGNiID0gW10sXHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbmFtZSA9ICdkZWZhdWx0JyxcclxuICAgICAgICAgICAgICAgIHN0YXRldmFsID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgICAgIGFyZ0Z1bmN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgYXJnRiwgaXNTdGF0ZUV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9ICEhaXNTdGF0ZUV2ZW50O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnRiA9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcmdGdW5jdCA9IGFyZ0Y7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudE5hbWUgPT0gXCJzdHJpbmdcIiAmJiBldmVudE5hbWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWUgPSBldmVudE5hbWVcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5idWlsZDtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hbWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZXZhbDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZSkgc3RhdGV2YWwgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJnRnVuY3QoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJncyAhPT0gXCJvYmplY3RcIiB8fCBhcmdzLmNvbnN0cnVjdG9yICE9PSBBcnJheSkgYXJncyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2IubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2JbaV0uYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLmFjdGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmdGdW5jdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJncyAhPT0gXCJvYmplY3RcIiB8fCBhcmdzLmNvbnN0cnVjdG9yICE9PSBBcnJheSkgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2IucHVzaChhcmd1bWVudHNbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2IucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTYvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnQGluamVjdCcsXHJcbiAgICAgICAgZnVuY3Rpb24gRXZlbnRQcm92aWRlcihpbmplY3QpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBldmVudHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnQgPSBmdW5jdGlvbiAobmFtZSwgYXJnRiwgc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBldmVudCA9IGluamVjdCgnJEV2ZW50Jyk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5idWlsZC5hcHBseShldmVudCwgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50c1tuYW1lXSA9IGV2ZW50O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlc29sdmUgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50c1tuYW1lXSkgZXZlbnRzW25hbWVdLnJlc29sdmUuY2FsbChldmVudHNbbmFtZV0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLndyYXAgPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBvYmplY3Qub24gPSBmdW5jdGlvbiAobmFtZSwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudHNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzW25hbWVdLmNhbGxiYWNrLmNhbGwob2JqZWN0LCBmdW5jKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIG9iamVjdC5zdGF0dXMgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudHNbbmFtZV0pIHJldHVybiBldmVudHNbbmFtZV0uYWN0aXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiJFIuc2VydmljZS5jbGFzcygnU3RhdGVzJywgWydEZWJ1ZycsIGZ1bmN0aW9uIFN0YXRlKERlYnVnKSB7XHJcblxyXG4gICAgdmFyIHN0YXRlcyA9IHt9LFxyXG4gICAgICAgIGVtaXR0ZXIgPSBudWxsLFxyXG4gICAgICAgIHRhcmdldCA9IG51bGwsXHJcbiAgICAgICAgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgc3RhdGVfc3RyaW5nX3JlZ2V4cCA9IC9bQS1aYS16LTAtOV0rL2c7XHJcblxyXG4gICAgZnVuY3Rpb24gaXNJblN0YXRlKHN0YXRlKSB7XHJcbiAgICAgICAgaWYgKHN0YXRlc1tzdGF0ZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlc1tzdGF0ZV0udmFsdWVcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBEZWJ1Zy5lcnJvcih7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogc3RhdGUsXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldC5jb25zdHJ1Y3Rvci5uYW1lXHJcbiAgICAgICAgICAgIH0sICdTdGF0ZSB7c3RhdGV9IGlmIHt0YXJnZXR9IGRvZXMgbm90IGV4aXN0JywgdGFyZ2V0KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc0JvdW5kUHJvcGVydHkocHJvcGVydHkpIHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIHN0YXRlc1twcm9wZXJ0eV0gIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICB0eXBlb2Ygc3RhdGVzW3Byb3BlcnR5XS5ib3VuZCA9PT0gXCJvYmplY3RcIiAmJlxyXG4gICAgICAgICAgICBzdGF0ZXNbcHJvcGVydHldLmJvdW5kLmNvbnN0cnVjdG9yID09PSBBcnJheSAmJlxyXG4gICAgICAgICAgICBzdGF0ZXNbcHJvcGVydHldLmJvdW5kLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRQcm9wZXJ0eUV2ZW50Q2FsbGJhY2socHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eSwgdmFsdWUsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUsIGVuYWJsZXIsIGRpc2FibGVyKSB7XHJcbiAgICAgICAgaWYgKHN0YXRlc1twcm9wZXJ0eV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBzdGF0ZXNbcHJvcGVydHldID0ge3ZhbHVlOiAhIXZhbHVlfTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBlbmFibGVyID09PSBcInN0cmluZ1wiICYmIGVuYWJsZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZW5hYmxlciA9IGVuYWJsZXIubWF0Y2goc3RhdGVfc3RyaW5nX3JlZ2V4cCk7XHJcbiAgICAgICAgICAgICAgICBpZihlbmFibGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGF0ZXNbcHJvcGVydHldLmJvdW5kKSBzdGF0ZXNbcHJvcGVydHldLmJvdW5kID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMCA7IGkgPCBlbmFibGVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlc1twcm9wZXJ0eV0uYm91bmQucHVzaChlbmFibGVyW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5vbihlbmFibGVyW2ldLCBnZXRQcm9wZXJ0eUV2ZW50Q2FsbGJhY2socHJvcGVydHksIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVyOiB0eXBlb2YgZW5hYmxlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZXI6IHR5cGVvZiBkaXNhYmxlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgJ0VuYWJsZXIgaXMgbm90IGEgdmFsaWQgZXZlbnQgc3RyaW5nLiBVbmFibGUgdG8gY3JlYXRlIGJvdW5kIHByb3BlcnR5IHtwcm9wZXJ0eX0gOiBlbmFibGVyIHtlbmFibGVyfSwgZGlzYWJsZXIgLSB7ZGlzYWJsZXJ9JywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGRpc2FibGVyID09PSBcInN0cmluZ1wiICYmIGRpc2FibGVyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGRpc2FibGVyID0gZGlzYWJsZXIubWF0Y2goc3RhdGVfc3RyaW5nX3JlZ2V4cClbMF07XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRpc2FibGVyID09PSBcInN0cmluZ1wiICYmIGRpc2FibGVyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YXRlc1twcm9wZXJ0eV0uYm91bmQpIHN0YXRlc1twcm9wZXJ0eV0uYm91bmQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlciA9IGRpc2FibGVyLm1hdGNoKHN0YXRlX3N0cmluZ19yZWdleHApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRpc2FibGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3RhdGVzW3Byb3BlcnR5XS5ib3VuZCkgc3RhdGVzW3Byb3BlcnR5XS5ib3VuZCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGYgPSAwIDsgZiA8IGRpc2FibGVyLmxlbmd0aDsgZisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZXNbcHJvcGVydHldLmJvdW5kLnB1c2goZGlzYWJsZXJbZl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5vbihkaXNhYmxlcltmXSwgZ2V0UHJvcGVydHlFdmVudENhbGxiYWNrKHByb3BlcnR5LCBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVyOiB0eXBlb2YgZW5hYmxlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVyOiB0eXBlb2YgZGlzYWJsZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ0Rpc2FibGVyIGlzIG5vdCBhIHZhbGlkIGV2ZW50IHN0cmluZy4gVW5hYmxlIHRvIGNyZWF0ZSBib3VuZCBwcm9wZXJ0eSB7cHJvcGVydHl9IDogZW5hYmxlciB7ZW5hYmxlcn0sIGRpc2FibGVyIC0ge2Rpc2FibGVyfScsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZXI6IHR5cGVvZiBlbmFibGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlcjogdHlwZW9mIGRpc2FibGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHlcclxuICAgICAgICAgICAgICAgICAgICB9LCAnRGlzYWJsZXIgaXMgbm90IGEgdmFsaWQgZXZlbnQgc3RyaW5nLiBVbmFibGUgdG8gY3JlYXRlIGJvdW5kIHByb3BlcnR5IHtwcm9wZXJ0eX0gOiBlbmFibGVyIHtlbmFibGVyfSwgZGlzYWJsZXIgLSB7ZGlzYWJsZXJ9JywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5LCB2YWx1ZSwgdHJ1c3RlZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdGVzW3Byb3BlcnR5XSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzX2JvdW5kID0gaXNCb3VuZFByb3BlcnR5KHByb3BlcnR5KTtcclxuICAgICAgICAgICAgICAgIGlmICghaXNfYm91bmQgfHwgKGlzX2JvdW5kICYmIHRydXN0ZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVzW3Byb3BlcnR5XS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgJ0F0dGVtcHQgdG8gc2V0IHN0YXRlIG9mIGJvdW5kIHByb3BlcnR5IGRpcmVjdGx5LiBVbmFibGUgdG8gc2V0IHZhbHVlIHt2YWx1ZX0gb2YgcHJvcGVydHkge3Byb3BlcnR5fS4nKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgdmFsOiB0eXBlb2YgdmFsdWVcclxuICAgICAgICAgICAgfSwgJ1VuYWJsZSB0byBzZXQge3Byb3BlcnR5fSB2YWx1ZSBhcyB7dmFsfS4gTXVzdCBiZSBib29sZWFuLiAnLCB0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRlY29yYXRlID0gZnVuY3Rpb24gKG9iamVjdCwgZXZlbnRfZW1pdHRlcikge1xyXG4gICAgICAgIHRhcmdldCA9IG9iamVjdDtcclxuXHJcbiAgICAgICAgaWYgKGV2ZW50X2VtaXR0ZXIpIHtcclxuICAgICAgICAgICAgZW1pdHRlciA9IGV2ZW50X2VtaXR0ZXI7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uIChwcm9wZXJ0eSwgdmFsdWUsIGVuYWJsZXIsIGRpc2FibGVyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IHByb3BlcnR5Lm1hdGNoKHN0YXRlX3N0cmluZ19yZWdleHApO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZXIgPSBwcm9wZXJ0eTtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRjaGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUHJvcGVydHkobWF0Y2hlc1tpXSwgdmFsdWUsIGVuYWJsZXIsIGRpc2FibGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0ID0gZnVuY3Rpb24gKHByb3BlcnR5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBwcm9wZXJ0eS5tYXRjaChzdGF0ZV9zdHJpbmdfcmVnZXhwKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRQcm9wZXJ0eVZhbHVlKG1hdGNoZXNbaV0sIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0YXJnZXQuaXMgPSBmdW5jdGlvbiAoc3RhdGUsIHN0cmljdCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy4kU1RBVEVTUFJPVEVDVEVEQ09OVEVYVCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuJFNUQVRFU1BST1RFQ1RFREhBU0VNSVRURVJTRVQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZXZlbnRfZW1pdHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIgPSBzdGF0ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IHN0YXRlLm1hdGNoKHN0YXRlX3N0cmluZ19yZWdleHApLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgICAgICBzdHJpY3QgPSB0eXBlb2Ygc3RyaWN0ID09PSBcInVuZGVmaW5lZFwiID8gdHJ1ZSA6IHR5cGVvZiBzdHJpY3QgPT09IFwiYm9vbGVhblwiID8gc3RyaWN0IDogdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBpc0luU3RhdGUobWF0Y2hlc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHJpY3QgJiYgIXJlc3VsdCkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3RyaWN0ICYmIHJlc3VsdCkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtzdGF0ZTogc3RhdGV9LCAnSW52YWxpZCBzdGF0ZSBzdHJpbmcuIFVuYWJsZSB0byBwYXJzZSB7c3RhdGV9IGFuZCBjaGVjayBzdGF0ZS4nLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBpc0luU3RhdGUoc3RhdGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGFyZ2V0LmlzLiQkU1RBVEVTUFJPVEVDVEVEID0gdHJ1ZTtcclxuICAgICAgICBkZWxldGUgdGhpcy5kZWNvcmF0ZTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDUvMS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BpbmplY3QnLCAnK0RyYXdlcicsICcrUGF0aCcsICcrTW9kZWwnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEFyZWFPYmplY3REcmF3ZXIoaW5qZWN0LCBEcmF3ZXJIZWxwZXIsIFBhdGhIZWxwZXIsIE1vZGVsSGVscGVyKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgYXNzZW1ibGVyID0gaW5qZWN0KCckR3JhcGhpY3NBc3NlbWJsZXInKSxcclxuICAgICAgICAgICAgICAgIGJveCA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKSxcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB0aGlzLmV4dGVuc2lvbignTWF0cml4JyksXHJcbiAgICAgICAgICAgICAgICBkcmF3ZXIgPSB0aGlzLmV4dGVuc2lvbignRHJhd2VyJyksXHJcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeCA9IDEsIGludGVycG9sYXRpb25maXggPSAwLFxyXG4gICAgICAgICAgICAgICAgeHNoaWZ0ID0gMCwgeXNoaWZ0ID0gMDtcclxuXHJcblxyXG4gICAgICAgICAgICAvL1RPRE8gOiBBcHBseSBpbnRlcnBvbGF0aW9uIHRvIHBhdGghXHJcblxyXG4gICAgICAgICAgICBhc3NlbWJsZXIubGF5ZXIoMCwgJ2ZpbGwnLCBVcGRhdGVGaWxsLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBhc3NlbWJsZXIubGF5ZXIoMSwgJ2JnJywgVXBkYXRlQmcuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5sYXllcigyLCAnc3Ryb2tlJywgVXBkYXRlU3Ryb2tlLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBhc3NlbWJsZXIuYm94KGJveCk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVGaWxsKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzcHJpdGUgPSB0aGlzLmV4dGVuc2lvbignQm94JykuYm94KCkuc3ByaXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgICAgICBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShzcHJpdGUubWFyZ2luWzNdIC0geHNoaWZ0LCBzcHJpdGUubWFyZ2luWzBdIC0geXNoaWZ0KTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJwb2xhdGlvbiA9IHN0eWxlLmdldCgnaW50ZXJwb2xhdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghaW50ZXJwb2xhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUGF0aEhlbHBlci5pbnRlcnBvbGF0ZShwYXRoLCBpbnRlcnBvbGF0aW9uLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0aW9uKSBEcmF3ZXJIZWxwZXIuZHJhd0JlemllclBhdGhGaWxsKGNvbnRleHQsIHBhdGgsIHN0eWxlKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgRHJhd2VySGVscGVyLmRyYXdMaW5lUGF0aEZpbGwoY29udGV4dCwgcGF0aCwgc3R5bGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVTdHJva2UoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNwcml0ZSA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKS5ib3goKS5zcHJpdGUoKSxcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHN0eWxlLmdldCgncGF0aCcpKSxcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uID0gc3R5bGUuZ2V0KCdpbnRlcnBvbGF0aW9uJyk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHNwcml0ZS5tYXJnaW5bM10gLSB4c2hpZnQsIHNwcml0ZS5tYXJnaW5bMF0gLSB5c2hpZnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghaW50ZXJwb2xhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUGF0aEhlbHBlci5pbnRlcnBvbGF0ZShwYXRoLCBpbnRlcnBvbGF0aW9uLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0aW9uKSBEcmF3ZXJIZWxwZXIuZHJhd0xpbmVQYXRoKGNvbnRleHQsIHBhdGgsIHN0eWxlKTtcclxuICAgICAgICAgICAgICAgIERyYXdlckhlbHBlci5kcmF3QmV6aWVyUGF0aChjb250ZXh0LCBwYXRoLCBzdHlsZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFVwZGF0ZUJnKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZSA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKS5ib3goKS5zcHJpdGUoKSxcclxuICAgICAgICAgICAgICAgICAgICBwYXRoID0gTW9kZWxIZWxwZXIuY2xvbmVBcnJheShzdHlsZS5nZXQoJ3BhdGgnKSksXHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGlvbiA9IHN0eWxlLmdldCgnaW50ZXJwb2xhdGlvbicpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShzcHJpdGUubWFyZ2luWzNdIC0geHNoaWZ0LCBzcHJpdGUubWFyZ2luWzBdIC0geXNoaWZ0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWludGVycG9sYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFBhdGhIZWxwZXIuaW50ZXJwb2xhdGUocGF0aCwgaW50ZXJwb2xhdGlvbiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJwb2xhdGlvbikgRHJhd2VySGVscGVyLmRyYXdMaW5lQmdDbGlwUGF0aChjb250ZXh0LCBwYXRoLCBzdHlsZSwgYXNzZW1ibGVyLCBzcHJpdGUpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBEcmF3ZXJIZWxwZXIuZHJhd0JlemllckJnQ2xpcFBhdGgoY29udGV4dCwgcGF0aCwgc3R5bGUsIGFzc2VtYmxlciwgc3ByaXRlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3BhdGgnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJwb2xhdGlvbiA9IHN0eWxlLmdldCgnaW50ZXJwb2xhdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnJlc2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ2ludGVycG9sYXRpb24nLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uZml4ID0gTWF0aC5yb3VuZCg0MCAqIG4pO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnJlc2l6ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3Bvc2l0aW9uJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsnc3Ryb2tlU3R5bGUnLCAnc3Ryb2tlQ29sb3InXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIucmVzaXplKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnZmlsbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsnYmcnLCAnYmdTaXplJywgJ2JnUG9zaXRpb24nXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdzdHJva2VXaWR0aCcsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZml4ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobltpXSA+IGZpeCkgZml4ID0gbltpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXggPSBmaXggLyAyO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJyk7XHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnJlc2l6ZSgpO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBib3guZihmdW5jdGlvbiAoYm94Q29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBzdHlsZS5nZXQoJ3Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvciA9IHN0eWxlLmdldCgnYW5jaG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgeCA9IHBvc2l0aW9uWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkgPSBwb3NpdGlvblsxXSxcclxuICAgICAgICAgICAgICAgICAgICBtaW54ID0gSW5maW5pdHksXHJcbiAgICAgICAgICAgICAgICAgICAgbWlueSA9IEluZmluaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIG1heHggPSAtSW5maW5pdHksXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4eSA9IC1JbmZpbml0eTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVswXSA8IG1pbngpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlueCA9IHBhdGhbaV1bMF1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMl0gPCBtaW54KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnggPSBwYXRoW2ldWzJdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzFdIDwgbWlueSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW55ID0gcGF0aFtpXVsxXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVszXSA8IG1pbnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlueSA9IHBhdGhbaV1bM11cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMF0gPiBtYXh4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heHggPSBwYXRoW2ldWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzJdID4gbWF4eCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXh4ID0gcGF0aFtpXVsyXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVsxXSA+IG1heHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4eSA9IHBhdGhbaV1bMV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bM10gPiBtYXh5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heHkgPSBwYXRoW2ldWzNdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtaW54ID09PSBJbmZpbml0eSkgbWlueCA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAobWlueSA9PT0gSW5maW5pdHkpIG1pbnkgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1heHggPT09IC1JbmZpbml0eSkgbWF4eCA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF4eSA9PT0gLUluZmluaXR5KSBtYXh4ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICB4c2hpZnQgPSBtaW54O1xyXG4gICAgICAgICAgICAgICAgeXNoaWZ0ID0gbWlueTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZml4ID0gc3Ryb2tlZml4ICsgaW50ZXJwb2xhdGlvbmZpeCxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IE1hdGguYWJzKG1heHggLSBtaW54KSxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBNYXRoLmFicyhtYXh5IC0gbWlueSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ2NlbnRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IHdpZHRoID8gd2lkdGggLyAyIDogMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IHdpZHRoID8gd2lkdGggOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PT0gJ21pZGRsZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IGhlaWdodCA/IGhlaWdodCAvIDIgOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PT0gJ2JvdHRvbScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IGhlaWdodCA/IGhlaWdodCA6IDBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJveENvbnRhaW5lci5zZXQoXHJcbiAgICAgICAgICAgICAgICAgICAgeCArIHhzaGlmdCxcclxuICAgICAgICAgICAgICAgICAgICB5ICsgeXNoaWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICBmaXgsXHJcbiAgICAgICAgICAgICAgICAgICAgZml4LFxyXG4gICAgICAgICAgICAgICAgICAgIGZpeCxcclxuICAgICAgICAgICAgICAgICAgICBmaXhcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmV4cG9ydChhc3NlbWJsZXIuZXhwb3J0KTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5kcmF3RnVuY3Rpb24oZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIERyYXdlckhlbHBlci50cmFuc2Zvcm0odGhpcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShkcmF3ZXIuZXhwb3J0KCksIDAsIDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZHJhd2VyLmRlc3Ryb3koZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyID0gYXNzZW1ibGVyLmRlc3Ryb3koKSxcclxuICAgICAgICAgICAgICAgIGludGVycG9sYXRlZCA9IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeCA9IHVuZGVmaW5lZCwgaW50ZXJwb2xhdGlvbmZpeCA9IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIHhzaGlmdCA9IHVuZGVmaW5lZCwgeXNoaWZ0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrRHJhd2VyJywgJ0RlYnVnJywgJ0BpbmplY3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uIENpcmNsZU9iamVjdERyYXdlcihEcmF3ZXJIZWxwZXIsIERlYnVnLCBpbmplY3QpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBhc3NlbWJsZXIgPSBpbmplY3QoJyRHcmFwaGljc0Fzc2VtYmxlcicpLFxyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgICAgICAgICAgYm94RXh0ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHRoaXMuZXh0ZW5zaW9uKCdNYXRyaXgnKSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeCA9IDE7XHJcblxyXG4gICAgICAgICAgICBhc3NlbWJsZXIubGF5ZXIoMCwgJ2ZpbGwnLCBVcGRhdGVGaWxsLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBhc3NlbWJsZXIubGF5ZXIoMSwgJ2JnJywgVXBkYXRlQmcuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5sYXllcigyLCAnc3Ryb2tlJywgVXBkYXRlU3Ryb2tlLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBhc3NlbWJsZXIuYm94KGJveEV4dCk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVTdHJva2UoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGJveEV4dC5ib3goKS5zcHJpdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJykpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKHNwcml0ZS5zaXplWzBdIC8gMiwgc3ByaXRlLnNpemVbMV0gLyAyLCBzdHlsZS5nZXQoJ3JhZGl1cycpLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlRmlsbChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3ByaXRlID0gYm94RXh0LmJveCgpLnNwcml0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHN0eWxlLmdldCgnZmlsbCcpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMoc3ByaXRlLnNpemVbMF0gLyAyLCBzcHJpdGUuc2l6ZVsxXSAvIDIsIHN0eWxlLmdldCgncmFkaXVzJyksIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVCZyhjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3ByaXRlID0gYm94RXh0LmJveCgpLnNwcml0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJveCA9IGJveEV4dC5ib3goKS52YWx1ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyhzcHJpdGUuc2l6ZVswXSAvIDIsIHNwcml0ZS5zaXplWzFdIC8gMiwgc3R5bGUuZ2V0KCdyYWRpdXMnKSwgMCwgTWF0aC5QSSAvIDIpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5jbGlwKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGJncG9zaXRpb24gPSBzdHlsZS5nZXQoJ2JnUG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICBiZ3NpemUgPSBzdHlsZS5nZXQoJ2JnU2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJnID0gc3R5bGUuZ2V0KCdiZycpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmcubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFiZ1tpXS5sb2FkZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZ1tpXS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmd3aWR0aCA9IGJveC5zaXplWzBdICogYmdzaXplW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdoZWlnaHQgPSBib3guc2l6ZVsxXSAqIGJnc2l6ZVtpXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb254ID0gYm94LnNpemVbMF0gKiBiZ3Bvc2l0aW9uW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbnkgPSBib3guc2l6ZVsxXSAqIGJncG9zaXRpb25baV1bMV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShzcHJpdGUubWFyZ2luWzNdICsgYmdwb3NpdGlvbngsIHNwcml0ZS5tYXJnaW5bMF0gKyBiZ3Bvc2l0aW9ueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGJnW2ldLmV4cG9ydCgpLCAwLCAwLCBiZ3dpZHRoLCBiZ2hlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYm94RXh0LmYoZnVuY3Rpb24gKGJveENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJhZGl1cyA9IHN0eWxlLmdldCgncmFkaXVzJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSBzdHlsZS5nZXQoJ3Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gc3R5bGUuZ2V0KCdhbmNob3InKSxcclxuICAgICAgICAgICAgICAgICAgICBkID0gcmFkaXVzICogMjtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IHBvc2l0aW9uWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkgPSBwb3NpdGlvblsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gcmFkaXVzXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSBkXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnbWlkZGxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gcmFkaXVzXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnYm90dG9tJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gZDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBib3hDb250YWluZXIuc2V0KHgsIHksIGQsIGQsIHN0cm9rZWZpeCwgc3Ryb2tlZml4LCBzdHJva2VmaXgsIHN0cm9rZWZpeCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncmFkaXVzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpO1xyXG4gICAgICAgICAgICAgICAgYm94RXh0LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci5yZXNpemUoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdmaWxsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3Bvc2l0aW9uJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYm94RXh0LnB1cmdlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnc3Ryb2tlV2lkdGgnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG4gIT09IG8pIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VmaXggPSBuO1xyXG4gICAgICAgICAgICAgICAgICAgIGJveEV4dC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2VtYmxlci5yZXNpemUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsnc3Ryb2tlU3R5bGUnLCAnc3Ryb2tlQ29sb3InXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Rva2UnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsnYmcnLCAnYmdQb3NpdGlvbicsICdiZ1NpemUnXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZXhwb3J0KGFzc2VtYmxlci5leHBvcnQpO1xyXG4gICAgICAgICAgICBkcmF3ZXIuZHJhd0Z1bmN0aW9uKGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIudHJhbnNmb3JtKHRoaXMsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoZHJhd2VyLmV4cG9ydCgpLCAwLCAwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGRyYXdlci5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlciA9IGFzc2VtYmxlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBkcmF3ZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBib3hFeHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzUvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydEZWJ1ZycsICcrTWF0cml4JyxcclxuICAgICAgICBmdW5jdGlvbiBEZWZhdWx0T2JqZWN0RHJhd2VyKERlYnVnLCBNYXRyaXgpIHtcclxuICAgICAgICAgICAgdmFyIG1hdHJpeCA9IHRoaXMuZXh0ZW5zaW9uKCdNYXRyaXgnKTtcclxuXHJcbiAgICAgICAgICAgIG1hdHJpeC5mKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRyaXgub2JqZWN0TWF0cml4KHRoaXMpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goWydwb3NpdGlvbicsICdyb3RhdGUnLCAndHJhbnNsYXRlJywgJ3NjYWxlJywgJ3NrZXcnXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBtYXRyaXguZGVzdHJveShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjYvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrRHJhd2VyJyxcclxuICAgICAgICBmdW5jdGlvbiBHcm91cE9iamVjdERyYXdlcihEcmF3ZXJIZWxwZXIpIHtcclxuICAgICAgICAgICAgdmFyIGRyYXdlciA9IHRoaXMuZXh0ZW5zaW9uKCdEcmF3ZXInKSxcclxuICAgICAgICAgICAgICAgIGxheWVycyA9IHRoaXMuZXh0ZW5zaW9uKCdMYXllcnMnKSxcclxuICAgICAgICAgICAgICAgIGJveCA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKSxcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICBib3guZihmdW5jdGlvbiAoYm94Q29udGFpbmVyKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG1pbnggPSBJbmZpbml0eSxcclxuICAgICAgICAgICAgICAgICAgICBtaW55ID0gSW5maW5pdHksXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4eCA9IC1JbmZpbml0eSxcclxuICAgICAgICAgICAgICAgICAgICBtYXh5ID0gLUluZmluaXR5O1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBsYXllcnMuZm9yRWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9ib3ggPSB0aGlzLmV4dGVuc2lvbignQm94JykuYm94KCkudmFsdWUoKTtcclxuICAgICAgICAgICAgICAgICAgICBtaW54ID0gTWF0aC5taW4obWlueCwgb2JveC5wb3NpdGlvblswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWlueSA9IE1hdGgubWluKG1pbnksIG9ib3gucG9zaXRpb25bMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1heHggPSBNYXRoLm1heChtYXh4LCBvYm94LnBvc2l0aW9uWzBdICsgb2JveC5zaXplWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXh5ID0gTWF0aC5tYXgobWF4eSwgb2JveC5wb3NpdGlvblsxXSArIG9ib3guc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBzdHlsZS5nZXQoJ3Bvc2l0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1pbnggPT09IEluZmluaXR5KSBtaW54ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChtYXh4ID09PSAtSW5maW5pdHkpIG1heHggPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1pbnkgPT09IEluZmluaXR5KSBtaW55ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChtYXh5ID09PSAtSW5maW5pdHkpIG1heHkgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGJveENvbnRhaW5lci5zZXQoXHJcbiAgICAgICAgICAgICAgICAgICAgbWlueCArIHBvc2l0aW9uWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbnkgKyBwb3NpdGlvblsxXSxcclxuICAgICAgICAgICAgICAgICAgICBtYXh4IC0gbWlueCxcclxuICAgICAgICAgICAgICAgICAgICBtYXh5IC0gbWlueSxcclxuICAgICAgICAgICAgICAgICAgICAwLCAwLCAwLCAwXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdwb3NpdGlvbicsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgX2FyZ3VtbmV0cztcclxuICAgICAgICAgICAgZHJhd2VyLmRyYXdGdW5jdGlvbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfYXJndW1uZXRzID0gYXJndW1lbnRzO1xyXG4gICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLnRyYW5zZm9ybSh0aGlzLCBfYXJndW1uZXRzWzBdKTtcclxuICAgICAgICAgICAgICAgIGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfYXJndW1uZXRzWzBdLnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4dGVuc2lvbignRHJhd2VyJykuZHJhdy5hcHBseSh0aGlzLCBfYXJndW1uZXRzKTtcclxuICAgICAgICAgICAgICAgICAgICBfYXJndW1uZXRzWzBdLnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZHJhd2VyLmRlc3Ryb3koZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgbGF5ZXJzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgYm94ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBfYXJndW1uZXRzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytEcmF3ZXInLCAnUmVzb3VyY2UnLCAnQGluamVjdCcsXHJcbiAgICAgICAgZnVuY3Rpb24gSW1hZ2VPYmplY3REcmF3ZXIoRHJhd2VySGVscGVyLCBSZXNvdXJjZSwgaW5qZWN0KSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGJveCA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKSxcclxuICAgICAgICAgICAgICAgIGNhbnZhcyA9IGluamVjdCgnJENhbnZhcycpLFxyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gdGhpcy5leHRlbnNpb24oJ01hdHJpeCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHdpZHRoID0gbnVsbCwgaGVpZ2h0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGltYWdlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3NyYycsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobyAhPT0gbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlID0gUmVzb3VyY2UuaW1hZ2Uobik7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2Uub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWR0aCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBzdHlsZS5nZXQoJ3NpemUnKVswXSA/IHN0eWxlLmdldCgnc2l6ZScpWzBdIDogaW1hZ2Uud2lkdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCh3aWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlaWdodCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gc3R5bGUuZ2V0KCdzaXplJylbMV0gPyBzdHlsZS5nZXQoJ3NpemUnKVsxXSA6IGltYWdlLmhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodChoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5jb250ZXh0KCkuZHJhd0ltYWdlKGltYWdlLmV4cG9ydCgpLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmF3ZXIuc3ByaXRlVXBkYXRlZC5jYWxsKHskJENBTEw6IHRydWV9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdzaXplJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChvWzBdICE9PSBuWzBdIHx8IG9bMV0gIT09IG5bMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IG5bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gblsxXTtcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMud2lkdGgod2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQoaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMuY29udGV4dCgpLmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgoKSwgY2FudmFzLmhlaWdodCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMuY29udGV4dCgpLmRyYXdJbWFnZShpbWFnZS5leHBvcnQoKSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncG9zaXRpb24nLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9bMF0gIT09IG5bMF0gfHwgb1sxXSAhPT0gblsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGJveC5mKGZ1bmN0aW9uIChib3hDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBzdHlsZS5nZXQoJ2FuY2hvcicpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB4ID0gcG9zaXRpb25bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeSA9IHBvc2l0aW9uWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdjZW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSB3aWR0aCA/IHdpZHRoIC8gMiA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSB3aWR0aCA/IHdpZHRoIDogMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdtaWRkbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBoZWlnaHQgPyBoZWlnaHQgLyAyIDogMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdib3R0b20nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBoZWlnaHQgPyBoZWlnaHQgOiAwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBib3hDb250YWluZXIuc2V0KHgsIHksIHdpZHRoID8gd2lkdGggOiAwLCBoZWlnaHQgPyBoZWlnaHQgOiAwLCAwLCAwLCAwLCAwKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZmlsdGVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbWFnZSAmJiBpbWFnZS5sb2FkZWQoKSAmJiAhaW1hZ2UuZXJyb3IoKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICE9PSBudWxsICYmXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ICE9PSBudWxsICYmIHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5leHBvcnQoY2FudmFzLmV4cG9ydCk7XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZHJhd0Z1bmN0aW9uKGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIudHJhbnNmb3JtKHRoaXMsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoZHJhd2VyLmV4cG9ydCgpLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZGVzdHJveShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGJveCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGNhbnZhcyA9IGNhbnZhcy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBkcmF3ZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGltYWdlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGluamVjdCcsICdEZWJ1ZycsICcrRHJhd2VyJywgJytQYXRoJyxcclxuICAgICAgICBmdW5jdGlvbiBMaW5lT2JqZWN0RHJhd2VyKGluamVjdCwgRGVidWcsIERyYXdlckhlbHBlciwgUGF0aEhlbHBlcikge1xyXG5cclxuICAgICAgICAgICAgdmFyIGJveCA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKSxcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBpbmplY3QoJyRDYW52YXMnKSxcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHRoaXMuZXh0ZW5zaW9uKCdNYXRyaXgnKSxcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gZmFsc2UsIGludGVycG9sYXRlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4ID0gMSwgaW50ZXJwb2xhdGlvbmZpeCA9IDAsXHJcbiAgICAgICAgICAgICAgICBkcmF3ZXIgPSB0aGlzLmV4dGVuc2lvbignRHJhd2VyJyksXHJcbiAgICAgICAgICAgICAgICB4c2hpZnQgPSAwLCB5c2hpZnQgPSAwO1xyXG5cclxuICAgICAgICAgICAgYm94LmYoZnVuY3Rpb24gKGJveENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gc3R5bGUuZ2V0KCdwb3NpdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBzdHlsZS5nZXQoJ2FuY2hvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgIHggPSBwb3NpdGlvblswXSxcclxuICAgICAgICAgICAgICAgICAgICB5ID0gcG9zaXRpb25bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWlueCA9IEluZmluaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbnkgPSBJbmZpbml0eSxcclxuICAgICAgICAgICAgICAgICAgICBtYXh4ID0gLUluZmluaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIG1heHkgPSAtSW5maW5pdHk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMF0gPCBtaW54KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnggPSBwYXRoW2ldWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzJdIDwgbWlueCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW54ID0gcGF0aFtpXVsyXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVsxXSA8IG1pbnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlueSA9IHBhdGhbaV1bMV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bM10gPCBtaW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnkgPSBwYXRoW2ldWzNdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzBdID4gbWF4eCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXh4ID0gcGF0aFtpXVswXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVsyXSA+IG1heHgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4eCA9IHBhdGhbaV1bMl1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMV0gPiBtYXh5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heHkgPSBwYXRoW2ldWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzNdID4gbWF4eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXh5ID0gcGF0aFtpXVszXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobWlueCA9PT0gSW5maW5pdHkpIG1pbnggPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1pbnkgPT09IEluZmluaXR5KSBtaW55ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChtYXh4ID09PSAtSW5maW5pdHkpIG1heHggPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1heHkgPT09IC1JbmZpbml0eSkgbWF4eCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgeHNoaWZ0ID0gbWlueDtcclxuICAgICAgICAgICAgICAgIHlzaGlmdCA9IG1pbnk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGZpeCA9IHN0cm9rZWZpeCArIGludGVycG9sYXRpb25maXgsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBNYXRoLmFicyhtYXh4IC0gbWlueCksXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5hYnMobWF4eSAtIG1pbnkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdjZW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSB3aWR0aCA/IHdpZHRoIC8gMiA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSB3aWR0aCA/IHdpZHRoIDogMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdtaWRkbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBoZWlnaHQgPyBoZWlnaHQgLyAyIDogMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdib3R0b20nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBoZWlnaHQgPyBoZWlnaHQgOiAwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBib3hDb250YWluZXIuc2V0KFxyXG4gICAgICAgICAgICAgICAgICAgIHggKyB4c2hpZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgeSArIHlzaGlmdCxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgZml4LFxyXG4gICAgICAgICAgICAgICAgICAgIGZpeCxcclxuICAgICAgICAgICAgICAgICAgICBmaXgsXHJcbiAgICAgICAgICAgICAgICAgICAgZml4XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3BhdGgnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJwb2xhdGlvbiA9IHN0eWxlLmdldCgnaW50ZXJwb2xhdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGludGVycG9sYXRpb24gIT09IDApIGludGVycG9sYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3Bvc2l0aW9uJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnc3Ryb2tlV2lkdGgnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpeCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5baV0gPiBmaXgpIGZpeCA9IG5baV07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4ID0gZml4IC8gMjtcclxuXHJcbiAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnaW50ZXJwb2xhdGlvbicsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobyAhPT0gbikgaW50ZXJwb2xhdGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGlvbmZpeCA9IE1hdGgucm91bmQoMjAgKiBuKTtcclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goWydzdHJva2VTdHlsZScsICdzdHJva2VDb2xvciddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBjdHggPSBjYW52YXMuY29udGV4dCgpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlQ2FudmFzKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGJveC5ib3goKS5zcHJpdGUoKSxcclxuICAgICAgICAgICAgICAgICAgICBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGlvbiA9IHN0eWxlLmdldCgnaW50ZXJwb2xhdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjYW52YXMud2lkdGgoKSAhPT0gc3ByaXRlLnNpemVbMF0gfHwgY2FudmFzLmhlaWdodCgpICE9PSBzcHJpdGUuc2l6ZVsxXSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBzcHJpdGUuc2l6ZVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gc3ByaXRlLnNpemVbMV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCh3aWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodChoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgc3ByaXRlLnNpemVbMF0sIHNwcml0ZS5zaXplWzFdKTtcclxuICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnRlcnBvbGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBQYXRoSGVscGVyLmludGVycG9sYXRlKHBhdGgsIGludGVycG9sYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShzcHJpdGUubWFyZ2luWzNdIC0geHNoaWZ0LCBzcHJpdGUubWFyZ2luWzBdIC0geXNoaWZ0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJwb2xhdGlvbiA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERyYXdlckhlbHBlci5kcmF3QmV6aWVyUGF0aChjdHgsIHBhdGgsIHN0eWxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLmRyYXdMaW5lUGF0aChjdHgsIHBhdGgsIHN0eWxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZmlsdGVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXF1aXJlX3VwZGF0ZSkgVXBkYXRlQ2FudmFzLmNhbGwodGhpcyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGRyYXdlci5leHBvcnQoY2FudmFzLmV4cG9ydCk7XHJcbiAgICAgICAgICAgIGRyYXdlci5kcmF3RnVuY3Rpb24oZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIERyYXdlckhlbHBlci50cmFuc2Zvcm0odGhpcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShkcmF3ZXIuZXhwb3J0KCksIDAsIDApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGN0eCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGJveCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgY2FudmFzID0gY2FudmFzLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGludGVycG9sYXRpb25maXggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBkcmF3ZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB4c2hpZnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB5c2hpZnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BpbmplY3QnLCAnK0RyYXdlcicsXHJcbiAgICAgICAgZnVuY3Rpb24gUmVjdGFuZ2xlT2JqZWN0RHJhd2VyKGluamVjdCwgRHJhd2VySGVscGVyKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgYXNzZW1ibGVyID0gaW5qZWN0KCckR3JhcGhpY3NBc3NlbWJsZXInKSxcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBkcmF3ZXIgPSB0aGlzLmV4dGVuc2lvbignRHJhd2VyJyksXHJcbiAgICAgICAgICAgICAgICBib3hFeHRlbnNpb24gPSB0aGlzLmV4dGVuc2lvbignQm94JyksXHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB0aGlzLmV4dGVuc2lvbignTWF0cml4JyksXHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXggPSBbMiwgMiwgMiwgMl0sXHJcbiAgICAgICAgICAgICAgICB2aWV3U2l6ZSA9IFswLCAwXTtcclxuXHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5sYXllcigwLCAnZmlsbCcsIFVwZGF0ZUZpbGwuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5sYXllcigxLCAnYmcnLCBVcGRhdGVCZy5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLmxheWVyKDIsICdzdHJva2UnLCBVcGRhdGVTdHJva2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5ib3goYm94RXh0ZW5zaW9uKTtcclxuXHJcbiAgICAgICAgICAgIGJveEV4dGVuc2lvbi5mKGZ1bmN0aW9uIChib3hDb250YWluZXIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBzdHlsZS5nZXQoJ3Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IHN0eWxlLmdldCgnc2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvciA9IHN0eWxlLmdldCgnYW5jaG9yJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHggPSBwb3NpdGlvblswXSxcclxuICAgICAgICAgICAgICAgICAgICB5ID0gcG9zaXRpb25bMV07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ2NlbnRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IHNpemVbMF0gLyAyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gc2l6ZVswXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdtaWRkbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBzaXplWzFdIC8gMjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdib3R0b20nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBzaXplWzFdXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmlld1NpemVbMF0gPSBzaXplWzBdO1xyXG4gICAgICAgICAgICAgICAgdmlld1NpemVbMV0gPSBzaXplWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgIGJveENvbnRhaW5lci5zZXQoXHJcbiAgICAgICAgICAgICAgICAgICAgeCwgeSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplWzBdLCBzaXplWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZWZpeFswXSwgc3Ryb2tlZml4WzFdLCBzdHJva2VmaXhbMl0sIHN0cm9rZWZpeFszXVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZXhwb3J0KGFzc2VtYmxlci5leHBvcnQpO1xyXG4gICAgICAgICAgICBkcmF3ZXIuZHJhd0Z1bmN0aW9uKGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIudHJhbnNmb3JtKHRoaXMsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZpZXdTaXplWzBdID49IDEgJiYgdmlld1NpemVbMV0gPj0gMCkgY29udGV4dC5kcmF3SW1hZ2UoZHJhd2VyLmV4cG9ydCgpLCAwLCAwKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdzaXplJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci5yZXNpemUoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgYm94RXh0ZW5zaW9uLnB1cmdlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncmFkaXVzJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdzdHJva2VXaWR0aCcsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXhbMF0gPSBuWzBdO1xyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4WzFdID0gblsxXTtcclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeFsyXSA9IG5bMl07XHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXhbM10gPSBuWzNdO1xyXG4gICAgICAgICAgICAgICAgYm94RXh0ZW5zaW9uLnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIucmVzaXplKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsncG9zaXRpb24nLCAnc2l6ZSddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBib3hFeHRlbnNpb24ucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goWydiZycsICdiZ1NpemUnLCAnYmdQb3NpdGlvbiddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goWydzdHJva2VTdHlsZScsICdzdHJva2VDb2xvciddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsnZmlsbCddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gbm9ybWFsaXplUmFkaXVzKHJhZGl1cykge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbcmFkaXVzWzBdLCByYWRpdXNbMV0sIHJhZGl1c1syXSwgcmFkaXVzWzNdXSxcclxuICAgICAgICAgICAgICAgICAgICBib3ggPSBib3hFeHRlbnNpb24uYm94KCkudmFsdWUoKSxcclxuICAgICAgICAgICAgICAgICAgICBoYWxmYm94ID0gW2JveC5zaXplWzBdIC8gMiwgYm94LnNpemVbMV0gLyAyXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbaV0gPiBoYWxmYm94WzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IGhhbGZib3hbMF1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFtpXSA+IGhhbGZib3hbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gaGFsZmJveFsxXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBkcmF3UmVjdFBhdGgoY29udGV4dCwgc3Ryb2tlKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJhZGl1cyA9IG5vcm1hbGl6ZVJhZGl1cyhzdHlsZS5nZXQoJ3JhZGl1cycpKSxcclxuICAgICAgICAgICAgICAgICAgICBrID0gMC41NTIyODQ3NDk4LFxyXG4gICAgICAgICAgICAgICAgICAgIGJveCA9IGJveEV4dGVuc2lvbi5ib3goKS52YWx1ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZSA9IGJveEV4dGVuc2lvbi5ib3goKS5zcHJpdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0cm9rZUNvbG9yID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcCA9IHN0eWxlLmdldCgnY2FwJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZUNhcCA9IGNhcDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJhZGl1c1swXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhzcHJpdGUubWFyZ2luWzNdICsgcmFkaXVzWzBdLCBzcHJpdGUubWFyZ2luWzBdKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oc3ByaXRlLm1hcmdpblszXSwgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0cm9rZVN0eWxlWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3JbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VXaWR0aFswXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChyYWRpdXNbMV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oYm94LnNpemVbMF0gKyBzcHJpdGUubWFyZ2luWzNdIC0gcmFkaXVzWzFdLCBzcHJpdGUubWFyZ2luWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VydmVNb2RpZmllciA9IGsgKiByYWRpdXNbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3guc2l6ZVswXSArIHNwcml0ZS5tYXJnaW5bM10gLSByYWRpdXNbMV0gKyBjdXJ2ZU1vZGlmaWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUubWFyZ2luWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3guc2l6ZVswXSArIHNwcml0ZS5tYXJnaW5bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bMF0gKyByYWRpdXNbMV0gLSBjdXJ2ZU1vZGlmaWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3guc2l6ZVswXSArIHNwcml0ZS5tYXJnaW5bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bMF0gKyByYWRpdXNbMV1cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhib3guc2l6ZVswXSArIHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIGNvbnRleHQuc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvclsxXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVdpZHRoWzFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHJhZGl1c1syXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VydmVNb2RpZmllciA9IGsgKiByYWRpdXNbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oYm94LnNpemVbMF0gKyBzcHJpdGUubWFyZ2luWzNdLCBib3guc2l6ZVsxXSArIHNwcml0ZS5tYXJnaW5bMF0gLSByYWRpdXNbMl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0cm9rZVN0eWxlWzJdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVdpZHRoWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMV0gKyBzcHJpdGUubWFyZ2luWzBdIC0gcmFkaXVzWzJdICsgY3VydmVNb2RpZmllcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMF0gKyBzcHJpdGUubWFyZ2luWzNdIC0gcmFkaXVzWzJdICsgY3VydmVNb2RpZmllcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMV0gKyBzcHJpdGUubWFyZ2luWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3guc2l6ZVswXSArIHNwcml0ZS5tYXJnaW5bM10gLSByYWRpdXNbMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oYm94LnNpemVbMF0gKyBzcHJpdGUubWFyZ2luWzNdLCBib3guc2l6ZVsxXSArIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbMl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvclsyXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVdpZHRoWzJdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyYWRpdXNbM10gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnZlTW9kaWZpZXIgPSBrICogcmFkaXVzWzNdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHNwcml0ZS5tYXJnaW5bM10gKyByYWRpdXNbM10sIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblszXSArIHJhZGl1c1szXSAtIGN1cnZlTW9kaWZpZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblszXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMV0gKyBzcHJpdGUubWFyZ2luWzBdIC0gcmFkaXVzWzNdICsgY3VydmVNb2RpZmllcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblszXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMV0gKyBzcHJpdGUubWFyZ2luWzBdIC0gcmFkaXVzWzNdXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oc3ByaXRlLm1hcmdpblszXSwgYm94LnNpemVbMV0gKyBzcHJpdGUubWFyZ2luWzBdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSBjb250ZXh0LnN0cm9rZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0cm9rZVN0eWxlWzNdKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3JbM107XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VXaWR0aFszXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmFkaXVzWzBdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJ2ZU1vZGlmaWVyID0gayAqIHJhZGl1c1swXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhzcHJpdGUubWFyZ2luWzNdLCBzcHJpdGUubWFyZ2luWzBdICsgcmFkaXVzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSBjb250ZXh0LnN0cm9rZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rU3R5bGUgPSBzdHJva2VDb2xvclswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VXaWR0aFswXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUubWFyZ2luWzNdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUubWFyZ2luWzBdICsgcmFkaXVzWzBdIC0gY3VydmVNb2RpZmllcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblswXSArIHJhZGl1c1swXSAtIGN1cnZlTW9kaWZpZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bM10gKyByYWRpdXNbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bMF1cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBoYXNSYWRpdXMoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzID0gc3R5bGUuZ2V0KCdyYWRpdXMnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhZGl1cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyYWRpdXNbaV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGhhc1N0cm9rZSgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHJva2UgPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJva2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlW2ldID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gbW9ub1N0cm9rZSgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHJva2VDb2xvciA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VTdHlsZSA9IHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgICAgICBkQ29sb3IgPSBzdHJva2VDb2xvclswXSxcclxuICAgICAgICAgICAgICAgICAgICBkV2lkdGggPSBzdHJva2VXaWR0aFswXSxcclxuICAgICAgICAgICAgICAgICAgICBkU3R5bGUgPSBzdHJva2VTdHlsZVswXSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgZENvbG9yICE9PSBzdHJva2VDb2xvcltpXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkV2lkdGggIT09IHN0cm9rZVdpZHRoW2ldIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICEoc3Ryb2tlU3R5bGVbaV1bMF0gPT09IGRTdHlsZVswXSAmJiBzdHJva2VTdHlsZVtpXVsxXSA9PT0gZFN0eWxlWzFdKVxyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlQmcoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJveENvbnRhaW5lciA9IGJveEV4dGVuc2lvbi5ib3goKSxcclxuICAgICAgICAgICAgICAgICAgICBib3ggPSBib3hDb250YWluZXIudmFsdWUoKSxcclxuICAgICAgICAgICAgICAgICAgICBzcHJpdGUgPSBib3hDb250YWluZXIuc3ByaXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbiA9IHN0eWxlLmdldCgnYmdQb3NpdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJnc2l6ZSA9IHN0eWxlLmdldCgnYmdTaXplJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYmcgPSBzdHlsZS5nZXQoJ2JnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGhhc1JhZGl1cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhd1JlY3RQYXRoKGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlY3Qoc3ByaXRlLm1hcmdpblszXSwgc3ByaXRlLm1hcmdpblswXSwgYm94LnNpemVbMF0sIGJveC5zaXplWzFdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsaXAoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJnLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYmdbaV0ubG9hZGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmdbaV0ub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJnd2lkdGggPSBib3guc2l6ZVswXSAqIGJnc2l6ZVtpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnaGVpZ2h0ID0gYm94LnNpemVbMV0gKiBiZ3NpemVbaV1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9ueCA9IGJveC5zaXplWzBdICogYmdwb3NpdGlvbltpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb255ID0gYm94LnNpemVbMV0gKiBiZ3Bvc2l0aW9uW2ldWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoc3ByaXRlLm1hcmdpblszXSArIGJncG9zaXRpb254LCBzcHJpdGUubWFyZ2luWzBdICsgYmdwb3NpdGlvbnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShiZ1tpXS5leHBvcnQoKSwgMCwgMCwgYmd3aWR0aCwgYmdoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFVwZGF0ZVN0cm9rZShjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzU3Ryb2tlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3Ryb2tlQ29sb3IgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VTdHlsZSA9IHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94Q29udGFpbmVyID0gYm94RXh0ZW5zaW9uLmJveCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3ggPSBib3hDb250YWluZXIudmFsdWUoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlID0gYm94Q29udGFpbmVyLnNwcml0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzUmFkaXVzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd1JlY3RQYXRoKGNvbnRleHQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb25vU3Ryb2tlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYXAgPSBzdHlsZS5nZXQoJ2NhcCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lQ2FwID0gY2FwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdHlsZVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3JbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVdpZHRoWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oc3ByaXRlLm1hcmdpblszXSArIGJveC5zaXplWzBdLCBzcHJpdGUubWFyZ2luWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHNwcml0ZS5tYXJnaW5bM10gKyBib3guc2l6ZVswXSwgc3ByaXRlLm1hcmdpblswXSArIGJveC5zaXplWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0gKyBib3guc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhzcHJpdGUubWFyZ2luWzNdLCBzcHJpdGUubWFyZ2luWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFVwZGF0ZUZpbGwoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbGwgPSBzdHlsZS5nZXQoJ2ZpbGwnKSxcclxuICAgICAgICAgICAgICAgICAgICBib3hDb250YWluZXIgPSBib3hFeHRlbnNpb24uYm94KCksXHJcbiAgICAgICAgICAgICAgICAgICAgYm94ID0gYm94Q29udGFpbmVyLnZhbHVlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlID0gYm94Q29udGFpbmVyLnNwcml0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChoYXNSYWRpdXMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRyYXdSZWN0UGF0aChjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZWN0KHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0sIGJveC5zaXplWzBdLCBib3guc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGw7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmRlc3Ryb3koZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyID0gYXNzZW1ibGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgYm94RXh0ZW5zaW9uID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgICAgIHdoaWxlIChzdHJva2VmaXhbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VmaXguc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHdoaWxlICh2aWV3U2l6ZVswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdTaXplLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB2aWV3U2l6ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEzLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnK0RyYXdlcicsICcrTW9kZWwnLCAnUmVzb3VyY2UnLCAnQGluamVjdCcsXHJcbiAgICAgICAgZnVuY3Rpb24gU3ByaXRlT2JqZWN0RHJhd2VyKERyYXdlckhlbHBlciwgTW9kZWxIZWxwZXIsIFJlc291cmNlLCBpbmplY3QpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgYm94ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLFxyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gdGhpcy5leHRlbnNpb24oJ01hdHJpeCcpLFxyXG4gICAgICAgICAgICAgICAgd2lkdGggPSBudWxsLCBoZWlnaHQgPSBudWxsLCBpbWFnZSA9IGluamVjdCgnJENhbnZhcycpO1xyXG5cclxuICAgICAgICAgICAgYm94LmYoZnVuY3Rpb24gKGJveENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gc3R5bGUuZ2V0KCdwb3NpdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvciA9IHN0eWxlLmdldCgnYW5jaG9yJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHggPSBwb3NpdGlvblswXSxcclxuICAgICAgICAgICAgICAgICAgICB5ID0gcG9zaXRpb25bMV07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ2NlbnRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IHdpZHRoID8gd2lkdGggLyAyIDogMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IHdpZHRoID8gd2lkdGggOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PT0gJ21pZGRsZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IGhlaWdodCA/IGhlaWdodCAvIDIgOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PT0gJ2JvdHRvbScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IGhlaWdodCA/IGhlaWdodCA6IDBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJveENvbnRhaW5lci5zZXQoXHJcbiAgICAgICAgICAgICAgICAgICAgeCxcclxuICAgICAgICAgICAgICAgICAgICB5LFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID8gd2lkdGggOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA/IGhlaWdodCA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgICAgICAgICAgMFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmV4cG9ydChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW1hZ2UuZXhwb3J0KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkcmF3ZXIuZHJhd0Z1bmN0aW9uKGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIudHJhbnNmb3JtKHRoaXMsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoZHJhd2VyLmV4cG9ydCgpLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdzcmMnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG4gIT09IG8pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IE1vZGVsSGVscGVyLnJlYWRTcHJpdGVTdHJpbmcobik7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2UuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlID0gUmVzb3VyY2Uuc3ByaXRlKGRhdGEudXJsKTtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5jb25maWcoZGF0YS5mcmFtZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkdGggPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBpbWFnZS53aWR0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoZWlnaHQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3NpemUnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9bMF0gIT09IG5bMF0gfHwgb1sxXSAhPT0gblsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gblswXTtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBuWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncG9zaXRpb24nLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9bMF0gIT09IG5bMF0gfHwgb1sxXSAhPT0gblsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgYm94ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgd2lkdGggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBpbWFnZSA9IGltYWdlLmRlc3Ryb3kgPyBpbWFnZS5kZXN0cm95KCkgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAzLzI1LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGluamVjdCcsICcrRHJhd2VyJywgJ1Jlc291cmNlJyxcclxuICAgICAgICBmdW5jdGlvbiBUZXh0T2JqZWN0RHJhd2VyKGluamVjdCwgRHJhd2VySGVscGVyLCBSZXNvdXJjZSkge1xyXG4gICAgICAgICAgICB2YXIgdGV4dCA9IHRoaXMuZXh0ZW5zaW9uKCdUZXh0JyksXHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgYm94ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLFxyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gdGhpcy5leHRlbnNpb24oJ01hdHJpeCcpLFxyXG4gICAgICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGZvbnQgPSBzdHlsZS5nZXQoJ2ZvbnQnKSxcclxuICAgICAgICAgICAgICAgIHdlaWdodCA9IHN0eWxlLmdldCgnd2VpZ2h0JyksXHJcbiAgICAgICAgICAgICAgICBmc3R5bGUgPSBzdHlsZS5nZXQoJ3N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIgPSBpbmplY3QoJyRHcmFwaGljc0Fzc2VtYmxlcicpO1xyXG5cclxuICAgICAgICAgICAgYXNzZW1ibGVyLmxheWVyKDAsICd0ZXh0JywgVXBkYXRlVGV4dExheWVyKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFVwZGF0ZVRleHRMYXllcihjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0LnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gc3R5bGUuZ2V0KCdsaW5lSGVpZ2h0JyksXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBzdHlsZS5nZXQoJ2NvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemUgPSBzdHlsZS5nZXQoJ2ZvbnRTaXplJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYWxpZ24gPSBzdHlsZS5nZXQoJ2FsaWduJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdG9wU3BhbiA9IGxpbmVIZWlnaHQgLSAoZm9udFNpemUgLyA1KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZm9udFNpemUgPCBsaW5lSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wU3BhbiA9IHRvcFNwYW4gLSAobGluZUhlaWdodCAtIGZvbnRTaXplKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wU3BhbiA9IHRvcFNwYW4gKyAoZm9udFNpemUgLSBsaW5lSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRleHQuZm9yRWFjaExpbmUoZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB5ID0gdG9wU3BhbiArIGkgKiBsaW5lSGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZvbnQgPSB0aGlzLmV4dHJhY3RGb250U3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsaWduID09PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHRoaXMuc3RyaW5nKCksICh0ZXh0LnRleHRCbG9ja1dpZHRoKCkgLSB0aGlzLndpZHRoKCkpIC8gMiwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHRoaXMuc3RyaW5nKCksIHRleHQudGV4dEJsb2NrV2lkdGgoKSAtIHRoaXMud2lkdGgoKSAtIDIsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy5zdHJpbmcoKSwgMiwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEZvbnRGaWxlKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9zdHlsZSA9IGZzdHlsZSA9PT0gJ29ibGlxdWUnID8gJ25vcm1hbCcgOiBmc3R5bGU7XHJcbiAgICAgICAgICAgICAgICB2YXIgZiA9IFJlc291cmNlLmZvbnQoZm9udCwgd2VpZ2h0LCBfc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgZi5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC51cGRhdGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBmLm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC51cGRhdGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZmlsdGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcXVpcmVfdXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZW1ibGVyLnNpemUodGV4dC50ZXh0QmxvY2tXaWR0aCgpLCB0ZXh0LnRleHRCbG9ja0hlaWdodCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCd0ZXh0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmV4cG9ydChhc3NlbWJsZXIuZXhwb3J0KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRyYXdUZXh0KGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIERyYXdlckhlbHBlci50cmFuc2Zvcm0odGhpcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShkcmF3ZXIuZXhwb3J0KCksIDAsIDApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsnc3RyJywgJ3N0eWxlJywgJ2ZvbnQnLCAnd2VpZ2h0JywgJ3NpemUnLCAnY29sb3InLCAnZm9udFNpemUnLCAnbGluZUhlaWdodCddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ2ZvbnQnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgZm9udCA9IG47XHJcbiAgICAgICAgICAgICAgICBnZXRGb250RmlsZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnc3R5bGUnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgZnN0eWxlID0gbjtcclxuICAgICAgICAgICAgICAgIGdldEZvbnRGaWxlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCd3ZWlnaHQnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgd2VpZ2h0ID0gbjtcclxuICAgICAgICAgICAgICAgIGdldEZvbnRGaWxlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnYW5jaG9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdwb3NpdGlvbicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgYm94LmYoZnVuY3Rpb24gKGJveENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gc3R5bGUuZ2V0KCdwb3NpdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvciA9IHN0eWxlLmdldCgnYW5jaG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgeCA9IHBvc2l0aW9uWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkgPSBwb3NpdGlvblsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gdGV4dC50ZXh0QmxvY2tXaWR0aCgpIC8gMlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gdGV4dC50ZXh0QmxvY2tXaWR0aCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PT0gJ21pZGRsZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IHRleHQudGV4dEJsb2NrSGVpZ2h0KCkgLyAyXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnYm90dG9tJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gdGV4dC50ZXh0QmxvY2tIZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJveENvbnRhaW5lci5zZXQoeCwgeSwgdGV4dC50ZXh0QmxvY2tXaWR0aCgpLCB0ZXh0LnRleHRCbG9ja0hlaWdodCgpLCAwLCAwLCAwLCAwKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZHJhd0Z1bmN0aW9uKGRyYXdUZXh0KTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRleHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGJveCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGRyYXdlciA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgZm9udCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHdlaWdodCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGZzdHlsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlciA9IGFzc2VtYmxlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA1LzEvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAZXh0ZW5kJywgJytNb2RlbCcsICcrUGF0aCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQXJlYU9iamVjdE1vZGVsKGV4dGVuZCwgTW9kZWxIZWxwZXIsIFBhdGhIZWxwZXIsIERlYnVnKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRPYmplY3RNb2RlbCcpO1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRHbG9iYWxCYWNrZ3JvdW5kTW9kZWwnKTtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdEZyZWVTdHJva2VNb2RlbCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24gPSB0aGlzLmV4dGVuc2lvbignQW5pbWF0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTeW5jUGF0aFByb3BlcnR5KHBhdGgsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXByb3BlcnR5W2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnB1c2gocHJvcGVydHlbcHJvcGVydHkubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPCBwcm9wZXJ0eS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5zcGxpY2UocGF0aC5sZW5ndGggLSAxLCBwcm9wZXJ0eS5sZW5ndGggLSBwYXRoLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3BhdGgnLCBbWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQYXRoSGVscGVyLmNoZWNrU2ltcGxlUGF0aCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gUGF0aEhlbHBlci5jb252ZXJ0U2ltcGxlUGF0aCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbMF1bMF0gIT09IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bMl0gfHwgcmVzdWx0WzBdWzFdICE9PSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzNdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVsyXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzNdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFswXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbMF1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVsyXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzNdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFswXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbMF1bMV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkLmxlbmd0aCAhPT0gcmVzdWx0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3luY1BhdGhQcm9wZXJ0eShyZXN1bHQsIHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeW5jUGF0aFByb3BlcnR5KHJlc3VsdCwgc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN5bmNQYXRoUHJvcGVydHkocmVzdWx0LCBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignQXJlYSBNb2RlbCAvIEludmFsaWQgdmFsdWUgZm9yIGFyZWEgcGF0aCEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUGF0aEhlbHBlci5jb252ZXJ0Q29tcGxleFBhdGgodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAZXh0ZW5kJywgJytDb2xvcicsICcrTW9kZWwnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIENpcmNsZU9iamVjdE1vZGVsKGV4dGVuZCwgQ29sb3JIZWxwZXIsIE1vZGVsSGVscGVyLCBEZWJ1Zykge1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0TW9kZWwnKTtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckR2xvYmFsQmFja2dyb3VuZE1vZGVsJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbiA9IHRoaXMuZXh0ZW5zaW9uKCdBbmltYXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAncmFkaXVzJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgncmFkaXVzJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdyYWRpdXMnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCByYWRpdXMgdmFsdWUnKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdzdHJva2VXaWR0aCcsIDEsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdzdHJva2VXaWR0aCcsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc3Ryb2tlV2lkdGgnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3N0cm9rZUNvbG9yJywgJ3JnYmEoMCwwLDAsMSknLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZUNvbG9yIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDb2xvckhlbHBlci5hcnJheVRvQ29sb3IodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZUNvbG9yIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3N0cm9rZUNvbG9yJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VDb2xvcicpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChjb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlQ29sb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc3Ryb2tlQ29sb3InKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VDb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBDb2xvckhlbHBlci5ub3JtYWxpemUodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnc3Ryb2tlU3R5bGUnLCBbMSwgMF0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljVmFsdWUodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0gPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVtpXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGUgdmFsdWUuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVN0eWxlIHZhbHVlLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGUgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnc3Ryb2tlU3R5bGUnLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3N0cm9rZVN0eWxlJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VDb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VDb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMF0gPCAwKSB2YWx1ZVswXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzFdIDwgMCkgdmFsdWVbMV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjYvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrTW9kZWwnLCAnK1BhdGgnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIERlZmF1bHRPYmplY3RNb2RlbChNb2RlbEhlbHBlciwgUGF0aEhlbHBlciwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gdGhpcy5leHRlbnNpb24oJ0FuaW1hdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDIsICdwb3NpdGlvbicsIFswLCAwXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ0ludmFsaWQgbnVtZXJpYyBhcnJheSBmb3IgcG9zaXRpb24hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdwb3NpdGlvbicsIDIsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdwb3NpdGlvbicpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ0ludmFsaWQgdmFsdWUgZm9yIHBvc2l0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAncm90YXRlJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgLTM2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSArIDM2MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAzNjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgLSAzNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICogKDE4MCAvIE1hdGguUEkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3JvdGF0ZScsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3JvdGF0ZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ0lzIG5vdCBhIHZhbGlkIHZhbHVlIHRvIGFuaW1hdGUgcm90YXRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAndHJhbnNsYXRlJywgWzAsIDBdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignSW52YWxpZCBudW1lcmljIGFycmF5IGZvciB0cmFuc2xhdGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3RyYW5zbGF0ZScsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCd0cmFuc2xhdGUnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdJbnZhbGlkIHZhbHVlIGZvciB0cmFuc2xhdGUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnb3BhY2l0eScsIDEsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignT3BhY2l0eSB2YWx1ZSBpcyBub3QgYSBudW1iZXInKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnb3BhY2l0eScsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mICB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDEpIHZhbHVlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnb3BhY2l0eScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ0ludmFsaWQgdmFsdWUgZm9yIHRyYW5zbGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMSkgdmFsdWUgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnc2NhbGUnLCBbMSwgMV0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMCwgMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmtub3duIHR5cGUgb2YgdmFsdWUgZm9yIHNjYWxlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnc2NhbGUnLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzY2FsZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKFt2YWx1ZSwgdmFsdWVdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzY2FsZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZEFycmF5ID0gW3ZhbHVlWzBdLHZhbHVlWzFdXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZW5kQXJyYXlbMF0gPCAwKSBlbmRBcnJheVswXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVuZEFycmF5WzFdIDwgMCkgZW5kQXJyYXlbMV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQoZW5kQXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnSW52YWxpZCB2YWx1ZSBmb3Igc2NhbGUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzBdIDwgMCkgdmFsdWVbMF0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVsxXSA8IDApIHZhbHVlWzFdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3NrZXcnLCBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDM2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAtIDM2MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAtMzYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICsgMzYwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYWQgPSB2YWx1ZSAqIE1hdGguUEkgLyAxODA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3JhZCwgcmFkXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMF0gPiAzNjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlWzBdID0gdmFsdWVbMV0gLSAzNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzFdIDwgLTM2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVbMV0gPSB2YWx1ZVsxXSArIDM2MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkMSA9IHZhbHVlWzBdICogTWF0aC5QSSAvIDE4MCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZDIgPSB2YWx1ZVsxXSAqIE1hdGguUEkgLyAxODA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3JhZDEsIHJhZDJdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnVWJrbm93biB2YWx1ZSBmb3JtYXQgZm9yIHNrZXcuIFt7dn1dJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnc2tldycsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mICB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdza2V3JykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQoW3ZhbHVlLCB2YWx1ZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3NrZXcnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdJbnZhbGlkIHZhbHVlIGZvciBza2V3Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnb3JpZ2luJywgWy41LCAuNV0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZVswXSwgdmFsdWVbMV1dXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmtub3duIGZvcm1hdCBvZiB2YWx1ZSBmb3Igb3JpZ2luLiBJbnZhbGlkIEFycmF5IScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmtub3duIHR5cGUgb2YgdmFsdWUgZm9yIG9yaWdpbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdvcmlnaW4nLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnb3JpZ2luJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnSW52YWxpZCB2YWx1ZSBmb3Igb3JpZ2luJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgyLCAnY2FwJywgJ3JvdW5kJyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAncm91bmQnIHx8IHZhbHVlID09PSAnYnV0dCcgfHwgdmFsdWUgPT09ICdzcXVhcmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7dmFsOiB2YWx1ZX0sICd7dmFsfSBpcyBpbmNvcnJlY3QgdmFsdWUgZm9yIGxpbmUgY2FwIHByb3BlcnR5IScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignQ2FwIHByb3BlcnR5IGlzIGEgc3RyaW5nIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnYmxlbmRpbmcnLCAnc291cmNlLW92ZXInLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkQmxlbmRpbmcodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnIFt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmxlbmRpbmchJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAodGhpcy50eXBlKCkgIT09ICdHcm91cCcpIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnYW5jaG9yJywgWydsZWZ0JywgJ3RvcCddLFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodmFsdWVbMF0gPT09ICdsZWZ0JyB8fCB2YWx1ZVswXSA9PT0gJ2NlbnRlcicgfHwgdmFsdWVbMF0gPT09ICdyaWdodCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHZhbHVlWzFdID09PSAndG9wJyB8fCB2YWx1ZVsxXSA9PT0gJ21pZGRsZScgfHwgdmFsdWVbMV0gPT09ICdib3R0b20nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZVswXSwgdmFsdWVbMV1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUuIEFycmF5IFtcImxlZnRcIiB8fCBcImNlbnRlclwiIHx8IFwicmlnaHRcIiAsIFwidG9wXCIgfHwgXCJtaWRkbGVcIiB8fCBcImJvdHRvbVwiIF0gaXMgcmVxdWlyZWQgZm9ybWF0LicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgYW5jaG9yIHZhbHVlIGZvciB0ZXh0IGVsZW1lbnQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWVbMF0sIHZhbHVlWzFdXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA1LzMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrTW9kZWwnLCAnK0NvbG9yJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBEZWZhdWx0RnJlZVN0cm9rZU1vZGVsKE1vZGVsSGVscGVyLCBDb2xvckhlbHBlciwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdpbnRlcnBvbGF0aW9uJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IC40KSB2YWx1ZSA9IC40O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMiwgJ3N0cm9rZUNvbG9yJywgWydyZ2JhKDAsMCwwLDEpJ10sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgbW8gY2hhbmdlcyBtYWRlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIHJlcGxhY2Ugd2l0aCByZ2JhKDAsMCwwLDEpIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJvYmplY3RcIiB8fCB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKENvbG9ySGVscGVyLmFycmF5VG9Db2xvcih2YWx1ZVtpXSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgbW8gY2hhbmdlcyBtYWRlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIHJlcGxhY2Ugd2l0aCByZ2JhKDAsMCwwLDEpIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIG1vIGNoYW5nZXMgbWFkZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIHJlcGxhY2Ugd2l0aCByZ2JhKDAsMCwwLDEpIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgbW8gY2hhbmdlcyBtYWRlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCByZXBsYWNlIHdpdGggcmdiYSgwLDAsMCwxKSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZCA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIG1vIGNoYW5nZXMgbWFkZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCByZXBsYWNlIHdpdGggcmdiYSgwLDAsMCwxKSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwib2JqZWN0XCIgfHwgdmFsdWVbaV0uY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChDb2xvckhlbHBlci5hcnJheVRvQ29sb3IodmFsdWVbaV0pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIG5vIGNoYW5nZXMgbWFkZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCByZXBsYWNlIHdpdGggcmdiYSgwLDAsMCwxKSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCBubyBjaGFuZ2VzIG1hZGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCByZXBsYWNlIHdpdGggcmdiYSgwLDAsMCwxKSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIG5vIGNoYW5nZXMgbWFkZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgcmVwbGFjZSB3aXRoIHJnYmEoMCwwLDAsMSkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdMaW5lIE1vZGVsIC8gV3JvbmcgdHlwZSBvZiB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDIsICdzdHJva2VXaWR0aCcsIFsxXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mICB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBudW1iZXIhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgbnVtYmVyIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBudW1iZXIhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIG51bWJlciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgbnVtYmVyIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZVdpZHRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMiwgJ3N0cm9rZVN0eWxlJywgW1sxLCAwXV0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZVN0eWxlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VTdHlsZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrTW9kZWwnLCAnK0NvbG9yJywgJ0RlYnVnJywgJ1Jlc291cmNlJyxcclxuICAgICAgICBmdW5jdGlvbiBHbG9iYWxCYWNrZ3JvdW5kTW9kZWwoTW9kZWxIZWxwZXIsIENvbG9ySGVscGVyLCBEZWJ1ZywgUmVzb3VyY2UpIHtcclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24gPSB0aGlzLmV4dGVuc2lvbignQW5pbWF0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTeW5jQmdQcm9wZXJ0eShiZywgcHJvcGVydHksIGRlZikge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJvcGVydHlbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYmcubGVuZ3RoIDwgcHJvcGVydHkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuc3BsaWNlKGJnLmxlbmd0aCAtIDEsIHByb3BlcnR5Lmxlbmd0aCAtIHBhdGgubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnZmlsbCcsICdyZ2JhKDAsMCwwLDEpJyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDb2xvckhlbHBlci5hcnJheVRvQ29sb3IodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnZmlsbCcsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnZmlsbCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChjb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYXZhbGlkIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ2ZpbGwnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQ29sb3JIZWxwZXIubm9ybWFsaXplKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ2JnJywgW10sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLmlzU3ByaXRlU3RyaW5nKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBNb2RlbEhlbHBlci5yZWFkU3ByaXRlU3RyaW5nKHZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA9IFJlc291cmNlLnNwcml0ZShkYXRhLnVybCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuY29uZmlnKGRhdGEuZnJhbWVzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3Jlc291cmNlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbUmVzb3VyY2UuaW1hZ2UodmFsdWUpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiB8fCB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMiAmJiB0eXBlb2YgdmFsdWVbMF0gPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgdmFsdWVbMV0gPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzFdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IFJlc291cmNlLnNwcml0ZSh2YWx1ZVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuY29uZmlnKHZhbHVlWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3Jlc291cmNlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci5pc1Nwcml0ZVN0cmluZyh2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gTW9kZWxIZWxwZXIucmVhZFNwcml0ZVN0cmluZyh2YWx1ZVtpXSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UgPSBSZXNvdXJjZS5zcHJpdGUoZGF0YS51cmwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmNvbmZpZyhkYXRhLmZyYW1lcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goUmVzb3VyY2UuaW1hZ2UodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJvYmplY3RcIiAmJiB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0ubGVuZ3RoID09IDIgJiYgdHlwZW9mIHZhbHVlW2ldWzBdID09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHZhbHVlW2ldWzFdID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXVsxXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBSZXNvdXJjZS5zcHJpdGUodmFsdWVbaV1bMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmNvbmZpZyh2YWx1ZVtpXVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocmVzb3VyY2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsOiB2YWx1ZVtpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaTogaVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICdbe2l9XVt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmcgdmFsdWUuIFNraXBwZWQuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV0sIGk6IGl9LCAnW3tpfV1be3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJnIHZhbHVlLiBTa2lwcGVkJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcIm9iamVjdFwiICYmIHZhbHVlW2ldLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV1bMF0gPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgdmFsdWVbaV1bMV0gPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc291cmNlID0gUmVzb3VyY2Uuc3ByaXRlKHZhbHVlW2ldWzBdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5jb25maWcodmFsdWVbaV1bMV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJlc291cmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV0sIGk6IGl9LCAnW3tpfV1be3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJnIGFycmF5IHZhbHVlLicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLmlzU3ByaXRlU3RyaW5nKHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBNb2RlbEhlbHBlci5yZWFkU3ByaXRlU3RyaW5nKHZhbHVlW2ldKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA9IFJlc291cmNlLnNwcml0ZShkYXRhLnVybCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuY29uZmlnKGRhdGEuZnJhbWVzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChSZXNvdXJjZS5pbWFnZSh2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldLCBpOiBpfSwgJ1t7aX1dW3t2YWx9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgYmcuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgdmFsaWQgdmFsdWUgZm9yIGJnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0udHlwZSA9PSAnSW1hZ2UnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXS51cmwoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWVbaV0udHlwZSA9PSAnU3ByaXRlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0udXJsKCkgKyAnWycgKyB2YWx1ZVtpXS5mcmFtZXMoKSArICddJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbDogdmFsdWVbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGk6IGlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICsgJ1t7aX1dW3t2YWx9XSBVbmtub3duIHR5cGUgb2YgdGhlIGJhY2tncm91bmQgb2JqZWN0IGNvbnRhaW5lci4gQ3JpdGljYWwgZXJyb3IuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZGVmQmdQb3N2YWwgPSBbMCwgMF07XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMiwgJ2JnUG9zaXRpb24nLCBbZGVmQmdQb3N2YWxdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZyA9IHN0eWxlLmdldCgnYmcnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlcyA9IFt2YWx1ZVswXSwgdmFsdWVbMV1dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChfcmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb24gPSBzdHlsZS5nZXQoJ2JnUG9zaXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkgJiYgdmFsdWVbaV0ubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFt2YWx1ZVswXSwgdmFsdWVbMV1dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZ3Bvc2l0aW9uW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYmdwb3NpdGlvbltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZkJnUG9zdmFsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaTogaSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWw6IHZhbHVlW2ldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAnW3tpfV1be3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJncG9zaXRpb24gdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJncG9zaXRpb25baV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJncG9zaXRpb25baV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheShkZWZCZ1Bvc3ZhbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmcgPSBzdHlsZS5nZXQoJ2JnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9uID0gc3R5bGUuZ2V0KCdiZ1Bvc2l0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmdwb3NpdGlvbltpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljVmFsdWUoKSAmJiB2YWx1ZVtpXS5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW3ZhbHVlWzBdLCB2YWx1ZVsxXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYmdwb3NpdGlvbltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpOiBpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbDogdmFsdWVbaV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICdbe2l9XVt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmdwb3NpdGlvbiB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZkJnUG9zdmFsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJncG9zaXRpb25baV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYmdwb3NpdGlvbltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZkJnUG9zdmFsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJncG9zaXRpb24gdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgdmFyIGRlZkJnU2l6ZVZhbCA9IFsxLCAxXTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnYmdTaXplJywgW2RlZkJnU2l6ZVZhbF0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAyICYmIE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJnID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXMgPSBbdmFsdWVbMF0sIHZhbHVlWzFdXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goX3JlcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJnID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnc2l6ZSA9IHN0eWxlLmdldCgnYmdTaXplJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXS5sZW5ndGggPT0gMiAmJiBNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV1bMF0sIHZhbHVlW2ldWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZ3NpemVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJnc2l6ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZkJnU2l6ZVZhbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV0sIGk6IGl9LCAnW3tpfV1be3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJnc2l6ZSB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZyA9IHN0eWxlLmdldCgnYmcnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnc2l6ZSA9IHN0eWxlLmdldCgnYmdTaXplJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJvYmplY3RcIiAmJiB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0ubGVuZ3RoID09IDIgJiYgTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbdmFsdWVbaV1bMF0sIHZhbHVlW2ldWzFdXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmdzaXplW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYmdzaXplW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkoZGVmQmdTaXplVmFsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldLCBpOiBpfSwgJ1t7aX1dW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBiZ3NpemUgdmFsdWUuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZ3NpemVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJnc2l6ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZkJnU2l6ZVZhbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV0sIGk6IGl9LCAnW3tpfV1be3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJnc2l6ZSB2YWx1ZS4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmdzaXplW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJnc2l6ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZkJnU2l6ZVZhbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnYmcnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG8ubGVuZ3RoICE9PSBuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFN5bmNCZ1Byb3BlcnR5KG4sIHN0eWxlLmdldCgnYmdQb3NpdGlvbicpLCBkZWZCZ1Bvc3ZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgU3luY0JnUHJvcGVydHkobiwgc3R5bGUuZ2V0KCdiZ1NpemUnKSwgZGVmQmdTaXplVmFsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzgvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrTW9kZWwnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEdsb2JhbFNpemVNb2RlbChNb2RlbEhlbHBlcikge1xyXG5cclxuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHRoaXMuZXh0ZW5zaW9uKCdBbmltYXRpb24nKSxcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3NpemUnLCAxLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3NpemUnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChbdmFsdWUsIHZhbHVlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVswXSA8IDApIHZhbHVlWzBdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVsxXSA8IDApIHZhbHVlWzFdID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzaXplJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCB2YWxpZCB2YWx1ZSBmb3Igc2l6ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgdmFsaWQgdmFsdWUgZm9yIHNpemUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzBdIDwgMCkgdmFsdWVbMF0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVsxXSA8IDApIHZhbHVlWzFdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ3NpemUnLCBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlLCB2YWx1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMiAmJiBNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVswXSA8IDApIHZhbHVlWzBdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVsxXSA8IDApIHZhbHVlWzFdID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLCB2YWx1ZVsxXV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IHZhbGlkIHZhbHVlIGZvciBzaXplIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IHZhbGlkIHZhbHVlIGZvciBzaXplIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjYvMjAxNi5cclxuICovXHJcblxyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGV4dGVuZCcsXHJcbiAgICAgICAgZnVuY3Rpb24gR3JvdXBPYmplY3RNb2RlbChleHRlbmQpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRPYmplY3RNb2RlbCcpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAZXh0ZW5kJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBJbWFnZU9iamVjdE1vZGVsKGV4dGVuZCwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRPYmplY3RNb2RlbCcpO1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRHbG9iYWxTaXplTW9kZWwnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdzcmMnLCBudWxsLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzcmMgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BleHRlbmQnLCAnK01vZGVsJywgJytQYXRoJywgJytDb2xvcicsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gTGluZU9iamVjdE1vZGVsKGV4dGVuZCwgTW9kZWxIZWxwZXIsIFBhdGhIZWxwZXIsIENvbG9ySGVscGVyLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdE9iamVjdE1vZGVsJyk7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRGcmVlU3Ryb2tlTW9kZWwnKTtcclxuXHJcbiAgICAgICAgICAgIC8vVE9ETzogQWRkIGFuaW1hdGlvbiBtb3JwaHMhIVxyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTeW5jUGF0aFByb3BlcnR5KHBhdGgsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXByb3BlcnR5W2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnB1c2gocHJvcGVydHlbcHJvcGVydHkubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAncGF0aCcsIFtbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF1dLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBhdGhIZWxwZXIuY2hlY2tTaW1wbGVQYXRoKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBQYXRoSGVscGVyLmNvbnZlcnRTaW1wbGVQYXRoKHZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGQubGVuZ3RoICE9PSByZXN1bHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeW5jUGF0aFByb3BlcnR5KHJlc3VsdCwgc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN5bmNQYXRoUHJvcGVydHkocmVzdWx0LCBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3luY1BhdGhQcm9wZXJ0eShyZXN1bHQsIHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdMaW5lIE1vZGVsIC8gSW52YWxpZCB2YWx1ZSBmb3IgcGF0aCEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUGF0aEhlbHBlci5jb252ZXJ0Q29tcGxleFBhdGgodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BleHRlbmQnLCAnK01vZGVsJywgJytDb2xvcicsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gUmVjdGFuZ2xlT2JqZWN0TW9kZWwoZXh0ZW5kLCBNb2RlbEhlbHBlciwgQ29sb3JIZWxwZXIsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0TW9kZWwnKTtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckR2xvYmFsQmFja2dyb3VuZE1vZGVsJyk7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJEdsb2JhbFNpemVNb2RlbCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24gPSB0aGlzLmV4dGVuc2lvbignQW5pbWF0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3JhZGl1cycsIFswLCAwLCAwLCAwXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWUsIHZhbHVlLCB2YWx1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNYXRoLnJvdW5kKHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBbXSwgb2xkID0gdGhpcy5zdHlsZSgncmFkaXVzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFtpXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwucHVzaChyZXN1bHRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsLnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZCA9IHN0eWxlLmdldCgncmFkaXVzJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbC5wdXNoKE1hdGgucm91bmQodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3JhZGl1cycsIDEsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgncmFkaXVzJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQoW3ZhbHVlLCB2YWx1ZSwgdmFsdWUsIHZhbHVlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkID0gdGhpcy5zdHlsZSgncmFkaXVzJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KG9sZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQucHVzaCgwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKE1hdGgucm91bmQodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCh0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAne3Z9IGlzIG5vdCBhIHZhbGlkIHJhZGl1cyB2YWx1ZSBmb3IgcmVjdGFuZ2xlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnc3Ryb2tlQ29sb3InLCBbJ3JnYmEoMCwwLDAsMSknLCAncmdiYSgwLDAsMCwxKScsICdyZ2JhKDAsMCwwLDEpJywgJ3JnYmEoMCwwLDAsMSknXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsdWU6IHZhbH0sICcgW3t2YWx9IGlzIG5vdCBhIHZhbGlkIHN0cm9rZSBzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlIGNvbG9yIHZhbHVlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChDb2xvckhlbHBlci5hcnJheVRvQ29sb3IodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlIGNvbG9yIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBjb2xvciB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KGkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBjb2xvciB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChDb2xvckhlbHBlci5hcnJheVRvQ29sb3IodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3IgdmFsdWUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3IgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdzdHJva2VDb2xvcicsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKFtNb2RlbEhlbHBlci5jbG9uZUFycmF5KGNvbG9yKSwgTW9kZWxIZWxwZXIuY2xvbmVBcnJheShjb2xvciksIE1vZGVsSGVscGVyLmNsb25lQXJyYXkoY29sb3IpLCBNb2RlbEhlbHBlci5jbG9uZUFycmF5KGNvbG9yKV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc3Ryb2tlQ29sb3InKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICd7dn0gaXMgbm90IGEgdmFsaWQgY29sb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKFtNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3N0cm9rZUNvbG9yJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1dXJlbnQgPSB0aGlzLnN0eWxlKCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXVyZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcIm9iamVjdFwiICYmIHZhbHVlW2ldLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0gJiYgQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50W2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydChjdXVyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VDb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuc3R5bGUoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJlbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50W2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQoY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VDb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENvbG9ySGVscGVyLm5vcm1hbGl6ZSh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnc3Ryb2tlV2lkdGgnLCBbMSwgMSwgMSwgMV0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnIFt7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlIHdpZHRoIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VXaWR0aCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJyBbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVdpZHRoIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdzdHJva2VXaWR0aCcsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc3Ryb2tlV2lkdGgnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLnN0eWxlKCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJlbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSAmJiB0eXBlb2YgdmFsdWVbaV0gPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQoY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuc3R5bGUoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJlbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSAmJiB0eXBlb2YgdmFsdWVbaV0gPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KGN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnIFt7dn1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVdpZHRoIG9iamVjdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICcgW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZVdpZHRoJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdzdHJva2VTdHlsZScsIFtbMSwgMF0sIFsxLCAwXSwgWzEsIDBdLCBbMSwgMF1dLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlLCB2YWx1ZSwgdmFsdWUsIHZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJyBbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlIHdpZHRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZVtpXSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnIFt7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlIHN0eWxlIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KGkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwib2JqZWN0XCIgJiYgdmFsdWVbaV0uY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWVbaV0pICYmIHZhbHVlW2ldLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVN0eWxlIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2F0Y2goe3ZhbDogdmFsdWVbaV19LCAnIFt7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGUgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICcgW3t2YWx9XSBpcyBub3QgdmFsaWQgc3Ryb2tlU3R5bGUgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3N0cm9rZVN0eWxlJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc3Ryb2tlU3R5bGUnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSwgTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSksIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpLCBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICcgW3t2fV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGUgdmFsdWUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLnN0eWxlKCdzdHJva2VTdHlscicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSAmJiBNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkgJiYgdmFsdWVbaV0ubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlW2ldKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQoY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGUgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuc3R5bGUoJ3N0cm9rZVN0eWxlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJlbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0gJiYgTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWVbaV0pICYmIHZhbHVlW2ldLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlW29dKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KGN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGVWYWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VTdHlsZVZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BleHRlbmQnLCAnK01vZGVsJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBTcHJpdGVPYmplY3RNb2RlbChleHRlbmQsIE1vZGVsSGVscGVyLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdE9iamVjdE1vZGVsJyk7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJEdsb2JhbFNpemVNb2RlbCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3NyYycsIG51bGwsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci5pc1Nwcml0ZVN0cmluZyh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3ByaXRlIHNyYycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbMF0gPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgdmFsdWVbMV0gPT0gXCJudW1iZXJcIiAmJiB2YWx1ZVsxXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVswXSArICdbJyArIHZhbHVlWzFdICsgJ10nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHNwcml0ZSBzcmMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHNwcml0ZSBzcmMnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMy8yNS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BleHRlbmQnLCAnK01vZGVsJywgJytDb2xvcicsICdEZWJ1ZycsICdARm9udHMnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFRleHRPYmplY3RNb2RlbChleHRlbmQsIE1vZGVsSGVscGVyLCBDb2xvckhlbHBlciwgRGVidWcsIEZvbnRzKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRPYmplY3RNb2RlbCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGhpcy5leHRlbnNpb24oJ1RleHQnKSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbiA9IHRoaXMuZXh0ZW5zaW9uKCdBbmltYXRpb24nKSxcclxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ3NpemUnLCBbJ2F1dG8nLCAnYXV0byddLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZSA9PT0gJ2F1dG8nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQubGltaXRzKEluZmluaXR5LCBJbmZpbml0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQubGltaXRzKHZhbHVlLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIHZhbHVlW2ldICE9PSBcInN0cmluZ1wiICYmIHR5cGVvZiB2YWx1ZVtpXSAhPT0gXCJudW1iZXJcIikgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIHZhbHVlW2ldID09PSBcInN0cmluZ1wiICYmIHZhbHVlW2ldICE9PSAnYXV0bycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlWzBdID09PSBcIm51bWJlclwiICYmIHZhbHVlWzBdIDwgMCkgdmFsdWVbMF0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVsxXSA9PT0gXCJudW1iZXJcIiAmJiB2YWx1ZVsxXSA8IDApIHZhbHVlWzFdID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LmxpbWl0cyh2YWx1ZVswXSA9PT0gJ2F1dG8nID8gSW5maW5pdHkgOiB2YWx1ZVswXSwgdmFsdWVbMV0gPT09ICdhdXRvJyA/IEluZmluaXR5IDogdmFsdWVbMV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWVbMF0sIHZhbHVlWzFdXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHNpemUgYXJyYXknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc2l6ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLCB2YWx1ZVsxXV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ3N0cicsICcnLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgdmFyIHN5c3RlbUZvbnQgPSAnc2Fucy1zZXJpZic7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ2ZvbnQnLCAnc2Fucy1zZXJpZicsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN5c3RlbUZvbnQgPSBGb250cy5mb3JtYXQodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Quc3R5bGUoJ3N5c3RlbUZvbnQnLCBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ3N5c3RlbUZvbnQnLCBzeXN0ZW1Gb250LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzeXN0ZW1Gb250O1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3lzdGVtRm9udDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnd2VpZ2h0JywgNDAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAxMDApIHZhbHVlID0gMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiA5MDApIHZhbHVlID0gOTAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICUgMTAwICE9PSAwKSB2YWx1ZSA9IHZhbHVlIC0gKHZhbHVlICUgMTAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdzdHlsZScsICdub3JtYWwnLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiAodmFsdWUgPT09ICdub3JtYWwnIHx8IHZhbHVlID09PSAnaXRhbGljJyB8fCB2YWx1ZSA9PT0gJ29ibGlxdWUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnbGluZUhlaWdodCcsIDE0LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnZm9udFNpemUnLCAxNCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnY29sb3InLCAncmdiYSgwLDAsMCwxKScsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDb2xvckhlbHBlci5hcnJheVRvQ29sb3IodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnYWxpZ24nLCAnbGVmdCcsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09ICdjZW50ZXInIHx8IHZhbHVlID09PSAnbGVmdCcgfHwgdmFsdWUgPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgcHJvcGVyIHZhbHVlIGZvciBhbGluZyB0ZXh0IHByb3BlcnR5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdjb2xvcicsIDEsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ2ZpbGwnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQoY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGF2YWxpZCBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnZmlsbCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBDb2xvckhlbHBlci5ub3JtYWxpemUodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJytBbmltYXRpb24nLCAnTW9ycGhpbmUnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEFuaW1hdGlvbihBbmltYXRpb25IZWxwZXIsIE1vcnBoaW5lKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSAwLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgZWFzaW5nID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGRvbmUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHN0YWNrID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIG1vcnBoaW5lID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHRhcmdldCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdGVwc0NiID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHF1ZXVlID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGNsZWFyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHN0ZXBUeXBlU3RyID0gJ3R5cGUnLFxyXG4gICAgICAgICAgICAgICAgY29tcGxldGVUeXBlU3RyID0gJ2NvbXBsZXRlJyxcclxuICAgICAgICAgICAgICAgIGNvbmZpZyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBSZXNvbHZlKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09IHN0ZXBUeXBlU3RyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RlcHNDYi5oYXNPd25Qcm9wZXJ0eShzdGFja1tpXS5tb3JwaC5wcm9wZXJ0eSgpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcHNDYltzdGFja1tpXS5tb3JwaC5wcm9wZXJ0eSgpXS5hcHBseSh0YXJnZXQsIFtwcm9ncmVzcywgc3RhY2tbaV0ucmVzdWx0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlID09IGNvbXBsZXRlVHlwZVN0cikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzW3N0YWNrW2ldLm1vcnBoLnByb3BlcnR5KCldID0gc3RhY2tbaV0ucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25maWcuZG9uZSgxLCByZXN1bHRzKTtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucXVldWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcXVldWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRvbmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9uZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaGFzUHJvcGVydHkgPSBmdW5jdGlvbiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFja1tpXS5tb3JwaC5wcm9wZXJ0eSgpID09IHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaChzdGFja1tpXS5tb3JwaC5wcm9wZXJ0eSgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5oYXNQcm9wZXJ0eShwcm9wZXJ0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaW5kZXggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5zcGxpY2UoaW5kZXgsIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhY2sgPSBbXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgX3N0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb3JwaCA9IHN0YWNrW2ldLm1vcnBoLmdldChzdGFja1tpXS52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3JwaCAhPT0gdW5kZWZpbmVkICYmIG1vcnBoLnN0YXJ0KCkgIT09IGZhbHNlICYmIG1vcnBoLmVuZCgpICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RhY2sucHVzaChzdGFja1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHN0YWNrID0gX3N0YWNrO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0aWNrX2Z1bmN0aW9uID0gQW5pbWF0aW9uSGVscGVyLmdldFRpY2tGdW5jdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgIG1vcnBoaW5lID0gTW9ycGhpbmUuY3JlYXRlKDAsIDEsIGZ1bmN0aW9uIChjb21wbGV0ZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhY2subGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZShjb21wbGV0ZVR5cGVTdHIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3JwaGluZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFja1tpXS5yZXN1bHQgPSB0aWNrX2Z1bmN0aW9uKHZhbHVlLCBzdGFja1tpXS5tb3JwaC5zdGFydCgpLCBzdGFja1tpXS5tb3JwaC5lbmQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFja1tpXS5tb3JwaC5hcHBseShjb21wbGV0ZSwgc3RhY2tbaV0ucmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZShzdGVwVHlwZVN0cik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZShjb21wbGV0ZVR5cGVTdHIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIGVhc2luZywgZHVyYXRpb24sIDApO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb25maWcgPSBmdW5jdGlvbiAodCwgbSwgY2ZnLCBmKSB7XHJcbiAgICAgICAgICAgICAgICBBbmltYXRpb25IZWxwZXIubm9ybWFsaXplQ29uZmlnKGNmZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSBjZmcuZHVyYXRpb247XHJcblxyXG4gICAgICAgICAgICAgICAgZWFzaW5nID0gY2ZnLmVhc2luZztcclxuXHJcbiAgICAgICAgICAgICAgICBzdGVwc0NiID0gY2ZnLnN0ZXA7XHJcblxyXG4gICAgICAgICAgICAgICAgcXVldWUgPSBjZmcucXVldWU7XHJcblxyXG4gICAgICAgICAgICAgICAgY2xlYXIgPSBmO1xyXG5cclxuICAgICAgICAgICAgICAgIHN0YWNrID0gbTtcclxuXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSB0O1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbmZpZyA9IGNmZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIE1vcnBoKERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc2V0dGVyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGdldHRlciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBhcHBsaWVyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHN0YXJ0LCBlbmQsXHJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG9yZGVyaW5nID0gMDtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFNldFN0YXJ0VmFsdWUodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydCA9IHZhbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gU2V0RW5kVmFsdWUodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBlbmQgPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbmQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb3BlcnR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3BlcnR5O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vcmRlcmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcmRlcmluZztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBzZXR0ZXIuYXBwbHkob2JqZWN0LCBbU2V0U3RhcnRWYWx1ZSwgU2V0RW5kVmFsdWUsIHZhbHVlXSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudmFsaWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFwcGx5ID0gZnVuY3Rpb24gKHByb2dyZXNzLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0LmZpbHRlcihwcm9wZXJ0eSwgYXBwbGllci5hcHBseShvYmplY3QsIFt2YWx1ZSwgcHJvZ3Jlc3NdKSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGZ1bmN0aW9uIChuYW1lLCBvYmosIG9yZCwgc2V0LCBhcGwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ1VuYWJsZSB0byBjb25maWcgTW9ycGguIGFyZzEgW3tuYW1lfV0gaXMgbm90IGEgc3RyaW5nIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqICE9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnMyBpcyBub3QgYW4gb2JqZWN0IScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2V0ICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmc0IGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3JkICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnMiBpcyBub3QgYSBudW1iZXIhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcGwgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ1VuYWJsZSB0byBjb25maWcgTW9ycGguIGFyZzUgaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gbmFtZTtcclxuICAgICAgICAgICAgICAgIHNldHRlciA9IHNldDtcclxuICAgICAgICAgICAgICAgIGFwcGxpZXIgPSBhcGw7XHJcbiAgICAgICAgICAgICAgICBvcmRlcmluZyA9IG9yZDtcclxuICAgICAgICAgICAgICAgIG9iamVjdCA9IG9iajtcclxuXHJcbiAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIuaGVscGVyLnN5c3RlbShcclxuICAgIGZ1bmN0aW9uIEFuaW1hdGlvbigpIHtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gVGlja1ZhbChjb21wbGV0ZSwgcHJvZ3Jlc3MsIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICAgICAgdmFyIGxvY3MgPSBmYWxzZSwgbG9jZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSBcImZ1bmN0aW9uXCIpIGxvY3MgPSBzdGFydCgpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGVuZCA9PT0gXCJmdW5jdGlvblwiKSBsb2NlID0gZW5kKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc3RhcnQuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXJ0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goVGlja1ZhbChjb21wbGV0ZSwgcHJvZ3Jlc3MsIHN0YXJ0W2ldLCBlbmRbaV0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Byb3BdID0gVGlja1ZhbChjb21wbGV0ZSwgcHJvZ3Jlc3MsIHN0YXJ0W3Byb3BdLCBlbmRbcHJvcF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW5kdmFsID0gbG9jZSA9PT0gZmFsc2UgPyBlbmQgOiBsb2NlLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0dmFsID0gbG9jcyA9PT0gZmFsc2UgPyBzdGFydCA6IGxvY3MsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlmZmVyZW5jZSA9IGVuZHZhbCAtIHN0YXJ0dmFsLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHN0YXJ0dmFsICsgKGRpZmZlcmVuY2UgKiBjb21wbGV0ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPj0gMSkgcmVzdWx0ID0gZW5kdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm5vcm1hbGl6ZUNvbmZpZyA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICAgICAgY29uZmlnLmR1cmF0aW9uID0gdHlwZW9mIGNvbmZpZy5kdXJhdGlvbiA9PT0gXCJudW1iZXJcIiAmJiBjb25maWcuZHVyYXRpb24gPiAwID8gY29uZmlnLmR1cmF0aW9uIDogMTAwMDtcclxuICAgICAgICAgICAgY29uZmlnLnF1ZXVlID0gISFjb25maWcucXVldWU7XHJcbiAgICAgICAgICAgIGNvbmZpZy5zdGVwID0gdHlwZW9mIGNvbmZpZy5zdGVwID09PSBcIm9iamVjdFwiID8gY29uZmlnLnN0ZXAgOiB7fTtcclxuICAgICAgICAgICAgY29uZmlnLmVhc2luZyA9IHR5cGVvZiBjb25maWcuZWFzaW5nID09PSAnc3RyaW5nJyA/IGNvbmZpZy5lYXNpbmcgOiAnbGluZWFyJztcclxuICAgICAgICAgICAgY29uZmlnLmRvbmUgPSB0eXBlb2YgY29uZmlnLmRvbmUgPT09IFwiZnVuY3Rpb25cIiA/IGNvbmZpZy5kb25lIDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0VGlja0Z1bmN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gVGlja1ZhbDtcclxuICAgICAgICB9O1xyXG5cclxuICAgIH0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEwLzIwMTcuXHJcbiAqL1xyXG4kUi5oZWxwZXIuc3lzdGVtKFxyXG4gICAgZnVuY3Rpb24gQ29sb3IoKSB7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIE5vcm1hbGl6ZUNvbG9yQXJyYXkoYXJyYXkpIHtcclxuICAgICAgICAgICAgaWYgKGFycmF5ICE9PSBmYWxzZSAmJiBhcnJheSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtpXSA8PSAyNTUgPyBhcnJheVtpXSA6IDI1NTtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheVtpXSA9IGFycmF5W2ldID49IDAgPyBhcnJheVtpXSA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbaV0gPSAoaSAhPT0gMyAmJiBhcnJheVtpXSAhPT0gMCkgPyBwYXJzZUludChhcnJheVtpXSkgOiBhcnJheVtpXTtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheVtpXSA9ICgoaSA9PSAzKSAmJiBhcnJheVtpXSkgPD0gMSA/IGFycmF5W2ldIDogMTtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheVtpXSA9IE1hdGguYWJzKGFycmF5W2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gUGFyc2VDb2xvdXIoY29sb3IpIHtcclxuICAgICAgICAgICAgdmFyIGNhY2hlXHJcbiAgICAgICAgICAgICAgICAsIHAgPSBwYXJzZUludCAvLyBVc2UgcCBhcyBhIGJ5dGUgc2F2aW5nIHJlZmVyZW5jZSB0byBwYXJzZUludFxyXG4gICAgICAgICAgICAgICAgLCBjb2xvciA9IGNvbG9yLnJlcGxhY2UoL1xcc1xccyovZywgJycpIC8vIFJlbW92ZSBhbGwgc3BhY2VzXHJcbiAgICAgICAgICAgIDsvL3ZhclxyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2tzIGZvciA2IGRpZ2l0IGhleCBhbmQgY29udmVydHMgc3RyaW5nIHRvIGludGVnZXJcclxuICAgICAgICAgICAgaWYgKGNhY2hlID0gL14jKFtcXGRhLWZBLUZdezJ9KShbXFxkYS1mQS1GXXsyfSkoW1xcZGEtZkEtRl17Mn0pLy5leGVjKGNvbG9yKSlcclxuICAgICAgICAgICAgICAgIGNhY2hlID0gW3AoY2FjaGVbMV0sIDE2KSwgcChjYWNoZVsyXSwgMTYpLCBwKGNhY2hlWzNdLCAxNildO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2tzIGZvciAzIGRpZ2l0IGhleCBhbmQgY29udmVydHMgc3RyaW5nIHRvIGludGVnZXJcclxuICAgICAgICAgICAgZWxzZSBpZiAoY2FjaGUgPSAvXiMoW1xcZGEtZkEtRl0pKFtcXGRhLWZBLUZdKShbXFxkYS1mQS1GXSkvLmV4ZWMoY29sb3IpKVxyXG4gICAgICAgICAgICAgICAgY2FjaGUgPSBbcChjYWNoZVsxXSwgMTYpICogMTcsIHAoY2FjaGVbMl0sIDE2KSAqIDE3LCBwKGNhY2hlWzNdLCAxNikgKiAxN107XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVja3MgZm9yIHJnYmEgYW5kIGNvbnZlcnRzIHN0cmluZyB0b1xyXG4gICAgICAgICAgICAvLyBpbnRlZ2VyL2Zsb2F0IHVzaW5nIHVuYXJ5ICsgb3BlcmF0b3IgdG8gc2F2ZSBieXRlc1xyXG4gICAgICAgICAgICBlbHNlIGlmIChjYWNoZSA9IC9ecmdiYVxcKChbXFxkXSspLChbXFxkXSspLChbXFxkXSspLChbXFxkXSt8W1xcZF0qLltcXGRdKylcXCkvLmV4ZWMoY29sb3IpKVxyXG4gICAgICAgICAgICAgICAgY2FjaGUgPSBbK2NhY2hlWzFdLCArY2FjaGVbMl0sICtjYWNoZVszXSwgK2NhY2hlWzRdXTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrcyBmb3IgcmdiIGFuZCBjb252ZXJ0cyBzdHJpbmcgdG9cclxuICAgICAgICAgICAgLy8gaW50ZWdlci9mbG9hdCB1c2luZyB1bmFyeSArIG9wZXJhdG9yIHRvIHNhdmUgYnl0ZXNcclxuICAgICAgICAgICAgZWxzZSBpZiAoY2FjaGUgPSAvXnJnYlxcKChbXFxkXSspLChbXFxkXSspLChbXFxkXSspXFwpLy5leGVjKGNvbG9yKSlcclxuICAgICAgICAgICAgICAgIGNhY2hlID0gWytjYWNoZVsxXSwgK2NhY2hlWzJdLCArY2FjaGVbM11dO1xyXG5cclxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHRocm93IGFuIGV4Y2VwdGlvbiB0byBtYWtlIGRlYnVnZ2luZyBlYXNpZXJcclxuICAgICAgICAgICAgZWxzZSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAvLyBQZXJmb3JtcyBSR0JBIGNvbnZlcnNpb24gYnkgZGVmYXVsdFxyXG4gICAgICAgICAgICBpc05hTihjYWNoZVszXSkgJiYgKGNhY2hlWzNdID0gMSk7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGRzIG9yIHJlbW92ZXMgNHRoIHZhbHVlIGJhc2VkIG9uIHJnYmEgc3VwcG9ydFxyXG4gICAgICAgICAgICAvLyBTdXBwb3J0IGlzIGZsaXBwZWQgdHdpY2UgdG8gcHJldmVudCBlcnJvcyBpZlxyXG4gICAgICAgICAgICAvLyBpdCdzIG5vdCBkZWZpbmVkXHJcbiAgICAgICAgICAgIHJldHVybiBOb3JtYWxpemVDb2xvckFycmF5KGNhY2hlLnNsaWNlKDAsIDQpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY29sb3JUb0FycmF5ID0gUGFyc2VDb2xvdXI7XHJcbiAgICAgICAgdGhpcy5ub3JtYWxpemUgPSBOb3JtYWxpemVDb2xvckFycmF5O1xyXG4gICAgICAgIHRoaXMuaXNDb2xvciA9IGZ1bmN0aW9uIChhcnJheSkge1xyXG4gICAgICAgICAgICB2YXIgZXJyb3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gNCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJyYXlbaV0gPT0gJ251bWJlcicgfHwgdHlwZW9mIGFycmF5W2ldID09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgIGFycmF5W2ldID09ICdzdHJpbmcnICYmIGlzTmFOKGFycmF5W2ldICogMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybih7YXJyYXkgOiBhcnJheX0sICdJbnZhbGlkIENvbG9yIHthcnJheX0uIFZhbHVlIGlzIG5vdCBhIGNvbG9yIEFycmF5LicsIHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAhZXJyb3I7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5hcnJheVRvQ29sb3IgPSBmdW5jdGlvbiAoYXJyYXkpIHtcclxuICAgICAgICAgICAgaWYgKGFycmF5ICYmIGFycmF5Lmxlbmd0aCA9PT0gNCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0cmluZyA9ICdyZ2JhKCc7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGkgPT09IDMgPyBhcnJheVtpXSArICcpJyA6IGFycmF5W2ldICsgJywnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignVW5rbm93biBJbnB1dCBhcnJheSBmb3JtYXQuIFNob3VsZCBiZSBbUixHLEIsQV07Jyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMC8yMDE3LlxyXG4gKi9cclxuJFIuaGVscGVyLnN5c3RlbShcclxuICAgIGZ1bmN0aW9uIERyYXdlcihEZWJ1Zykge1xyXG4gICAgICAgIHZhciB0ZXh0RHJhd2VyQ29udGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG4gICAgICAgIHRoaXMubWVhc3VyZVRleHQgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICB0ZXh0RHJhd2VyQ29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IGZ1bmModGV4dERyYXdlckNvbnRleHQpO1xyXG4gICAgICAgICAgICB0ZXh0RHJhd2VyQ29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IGZ1bmN0aW9uIChvYmplY3QsIGNvbnRleHQpIHtcclxuICAgICAgICAgICAgY29udGV4dC50cmFuc2Zvcm0uYXBwbHkoY29udGV4dCwgb2JqZWN0Lm1hdHJpeCgpLmV4dHJhY3QoKSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3TGluZUJnQ2xpcFBhdGggPSBmdW5jdGlvbiAoY29udGV4dCwgcGF0aCwgc3R5bGUsIGFzc2VtYmxlciwgc3ByaXRlKSB7XHJcbiAgICAgICAgICAgIHZhciBiZyA9IHN0eWxlLmdldCgnYmcnKSxcclxuICAgICAgICAgICAgICAgIGJnc2l6ZSA9IHN0eWxlLmdldCgnYmdTaXplJyksXHJcbiAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9uID0gc3R5bGUuZ2V0KCdiZ1Bvc2l0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHBhdGhbMF1bMF0sIHBhdGhbMF1bMV0pO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeDEgPSBwYXRoW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkxID0gcGF0aFtpXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICB4MiA9IHBhdGhbaV1bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgeTIgPSBwYXRoW2ldWzNdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHgyICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHgyLCB5Mik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuY2xpcCgpO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgYiA9IDA7IGIgPCBiZy5sZW5ndGg7IGIrKykge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghYmdbYl0ubG9hZGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBiZ1tiXS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBiZ3dpZHRoID0gYm94LnNpemVbMF0gKiBiZ3NpemVbYl1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJnaGVpZ2h0ID0gYm94LnNpemVbMV0gKiBiZ3NpemVbYl1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb254ID0gYm94LnNpemVbMF0gKiBiZ3Bvc2l0aW9uW2JdWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9ueSA9IGJveC5zaXplWzFdICogYmdwb3NpdGlvbltiXVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoc3ByaXRlLm1hcmdpblszXSArIGJncG9zaXRpb254LCBzcHJpdGUubWFyZ2luWzBdICsgYmdwb3NpdGlvbnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGJnW2ldLmV4cG9ydCgpLCAwLCAwLCBiZ3dpZHRoLCBiZ2hlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3QmV6aWVyQmdDbGlwUGF0aCA9IGZ1bmN0aW9uIChjb250ZXh0LCBwYXRoLCBzdHlsZSwgYXNzZW1ibGVyLCBzcHJpdGUpIHtcclxuICAgICAgICAgICAgdmFyIGJnID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICAgICAgYmdzaXplID0gc3R5bGUuZ2V0KCdiZ1NpemUnKSxcclxuICAgICAgICAgICAgICAgIGJncG9zaXRpb24gPSBzdHlsZS5nZXQoJ2JnUG9zaXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocGF0aFswXVswXSwgcGF0aFswXVsxXSk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHgxID0gcGF0aFtpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICB5MSA9IHBhdGhbaV1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgeDIgPSBwYXRoW2ldWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkyID0gcGF0aFtpXVszXSxcclxuICAgICAgICAgICAgICAgICAgICBheDEgPSBwYXRoW2ldWzRdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF5MSA9IHBhdGhbaV1bNV0sXHJcbiAgICAgICAgICAgICAgICAgICAgYXgyID0gcGF0aFtpXVs2XSxcclxuICAgICAgICAgICAgICAgICAgICBheTIgPSBwYXRoW2ldWzddO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHgyICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBheDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mICBheDIgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIGF5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgIGF5MiAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdJbnZhbGlkIGN1cnZlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKGF4MSwgYXkxLCBheDIsIGF5MiwgeDIsIHkyKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcclxuICAgICAgICAgICAgY29udGV4dC5jbGlwKCk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBiID0gMDsgYiA8IGJnLmxlbmd0aDsgYisrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFiZ1tiXS5sb2FkZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJnW2JdLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJnd2lkdGggPSBib3guc2l6ZVswXSAqIGJnc2l6ZVtiXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmdoZWlnaHQgPSBib3guc2l6ZVsxXSAqIGJnc2l6ZVtiXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbnggPSBib3guc2l6ZVswXSAqIGJncG9zaXRpb25bYl1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb255ID0gYm94LnNpemVbMV0gKiBiZ3Bvc2l0aW9uW2JdWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShzcHJpdGUubWFyZ2luWzNdICsgYmdwb3NpdGlvbngsIHNwcml0ZS5tYXJnaW5bMF0gKyBiZ3Bvc2l0aW9ueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoYmdbaV0uZXhwb3J0KCksIDAsIDAsIGJnd2lkdGgsIGJnaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd0xpbmVQYXRoRmlsbCA9IGZ1bmN0aW9uIChjb250ZXh0LCBwYXRoLCBzdHlsZSkge1xyXG4gICAgICAgICAgICB2YXIgZmlsbCA9IHN0eWxlLmdldCgnZmlsbCcpLFxyXG4gICAgICAgICAgICAgICAgY2FwID0gc3R5bGUuZ2V0KCdjYXAnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBjYXA7XHJcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHBhdGhbMF1bMF0sIHBhdGhbMF1bMV0pO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHgxID0gcGF0aFtpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICB5MSA9IHBhdGhbaV1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgeDIgPSBwYXRoW2ldWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkyID0gcGF0aFtpXVszXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB4MiAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0ludmFsaWQgcGF0aCEnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHgyLCB5Mik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbDtcclxuICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdCZXppZXJQYXRoRmlsbCA9IGZ1bmN0aW9uIChjb250ZXh0LCBwYXRoLCBzdHlsZSkge1xyXG4gICAgICAgICAgICB2YXIgZmlsbCA9IHN0eWxlLmdldCgnZmlsbCcpLFxyXG4gICAgICAgICAgICAgICAgY2FwID0gc3R5bGUuZ2V0KCdjYXAnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5saW5lQ2FwID0gY2FwO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocGF0aFswXVswXSwgcGF0aFswXVsxXSk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB4MSA9IHBhdGhbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeTEgPSBwYXRoW2ldWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIHgyID0gcGF0aFtpXVsyXSxcclxuICAgICAgICAgICAgICAgICAgICB5MiA9IHBhdGhbaV1bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgYXgxID0gcGF0aFtpXVs0XSxcclxuICAgICAgICAgICAgICAgICAgICBheTEgPSBwYXRoW2ldWzVdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF4MiA9IHBhdGhbaV1bNl0sXHJcbiAgICAgICAgICAgICAgICAgICAgYXkyID0gcGF0aFtpXVs3XTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB4MiAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0ludmFsaWQgcGF0aCEnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiAgYXgyICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBheTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mICBheTIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBjdXJ2ZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oYXgxLCBheTEsIGF4MiwgYXkyLCB4MiwgeTIpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGw7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3TGluZVBhdGggPSBmdW5jdGlvbiAoY29udGV4dCwgcGF0aCwgc3R5bGUpIHtcclxuICAgICAgICAgICAgdmFyIHN0cm9rZUNvbG9yID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGggPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZSA9IHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZUNhcCA9IHN0eWxlLmdldCgnY2FwJyk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQubGluZUNhcCA9IHN0cm9rZUNhcDtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHgxID0gcGF0aFtpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICB5MSA9IHBhdGhbaV1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgeDIgPSBwYXRoW2ldWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkyID0gcGF0aFtpXVszXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB4MiAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0ludmFsaWQgcGF0aCEnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlV2lkdGhbaV0gPCAuMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHgyLCB5Mik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHgxLCB5MSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGhbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdHlsZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oeDIsIHkyKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdCZXppZXJQYXRoID0gZnVuY3Rpb24gKGNvbnRleHQsIHBhdGgsIHN0eWxlKSB7XHJcbiAgICAgICAgICAgIHZhciBzdHJva2VDb2xvciA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBzdHJva2VDYXAgPSBzdHlsZS5nZXQoJ2NhcCcpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBzdHJva2VDYXA7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB4MSA9IHBhdGhbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeTEgPSBwYXRoW2ldWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIHgyID0gcGF0aFtpXVsyXSxcclxuICAgICAgICAgICAgICAgICAgICB5MiA9IHBhdGhbaV1bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgYXgxID0gcGF0aFtpXVs0XSxcclxuICAgICAgICAgICAgICAgICAgICBheTEgPSBwYXRoW2ldWzVdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF4MiA9IHBhdGhbaV1bNl0sXHJcbiAgICAgICAgICAgICAgICAgICAgYXkyID0gcGF0aFtpXVs3XTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB4MiAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0ludmFsaWQgcGF0aCEnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiAgYXgyICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBheTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mICBheTIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBjdXJ2ZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlV2lkdGhbaV0gPCAuMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHgyLCB5Mik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHgxLCB5MSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGhbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdHlsZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKGF4MSwgYXkxLCBheDIsIGF5MiwgeDIsIHkyKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdSZWN0RmlsbCA9IGZ1bmN0aW9uIChjb250ZXh0LCBzdHlsZSwgeCwgeSwgdywgaCkge1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZmlsbCA9IHN0eWxlLmdldCgnZmlsbCcpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5yZWN0KHgsIHksIHcsIGgpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuXHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd1JlY3RTdHJva2UgPSBmdW5jdGlvbiAoY29udGV4dCwgc3R5bGUsIHgsIHksIHcsIGgpIHtcclxuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3IgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG5cclxuICAgICAgICAgICAgdmFyIF94ID0gMCwgX3kgPSAwO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3JbaV07XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVdpZHRoID0gc3Ryb2tlV2lkdGhbaV07XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0cm9rZVN0eWxlW2ldKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBfeCA9IHggKyB3O1xyXG4gICAgICAgICAgICAgICAgICAgIF95ID0geTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3ggPSB4ICsgdztcclxuICAgICAgICAgICAgICAgICAgICBfeSA9IHkgKyBoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBfeCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgX3kgPSB5ICsgaDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpID09PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3ggPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgIF95ID0geTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlV2lkdGhbaV0gPCAuMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKF94LCBfeSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhfeCwgX3kpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5oZWxwZXIuc3lzdGVtKFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gRWFzaW5nKERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZWFzaW5ncyA9IHtcclxuICAgICAgICAgICAgICAgICdfJzogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGxpbmVhcjogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0IC89IGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGIgKyBjICogKHQpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGxpbmVhclNvZnQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRzID0gKHQgLz0gZCkgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YyA9IHRzICogdDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYiArIGMgKiAoNCAqIHRjICogdHMgKyAtMTAgKiB0cyAqIHRzICsgOCAqIHRjICsgLTIgKiB0cyArIHQpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGxpbmVhclNvZnRPdXQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRzID0gKHQgLz0gZCkgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YyA9IHRzICogdDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYiArIGMgKiAoLTMgKiB0YyAqIHRzICsgMTEgKiB0cyAqIHRzICsgLTE0ICogdGMgKyA2ICogdHMgKyB0KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBsaW5lYXJTb2Z0SW46IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRzID0gKHQgLz0gZCkgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YyA9IHRzICogdDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYiArIGMgKiAoLTEgKiB0YyAqIHRzICsgMiAqIHRjKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5RdWFkOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBjICogKHQgLz0gZCkgKiB0ICsgYjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZU91dFF1YWQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1jICogKHQgLz0gZCkgKiAodCAtIDIpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5PdXRRdWFkOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCArIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1jIC8gMiAqICgoLS10KSAqICh0IC0gMikgLSAxKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluQ3ViaWM6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlT3V0Q3ViaWM6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKyAxKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluT3V0Q3ViaWM6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCArIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKyAyKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluUXVhcnQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZU91dFF1YXJ0OiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgLSAxKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluT3V0UXVhcnQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKyBiO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgLSAyKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluUXVpbnQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCAqIHQgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VPdXRRdWludDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgKiB0ICsgMSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJbk91dFF1aW50OiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICogdCArIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0ICogdCArIDIpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5TaW5lOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtYyAqIE1hdGguY29zKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBjICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlT3V0U2luZTogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqIE1hdGguc2luKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJbk91dFNpbmU6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1jIC8gMiAqIChNYXRoLmNvcyhNYXRoLlBJICogdCAvIGQpIC0gMSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJbkV4cG86IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh0ID09PSAwKSA/IGIgOiBjICogTWF0aC5wb3coMiwgMTAgKiAodCAvIGQgLSAxKSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VPdXRFeHBvOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAodCA9PT0gZCkgPyBiICsgYyA6IGMgKiAoLU1hdGgucG93KDIsIC0xMCAqIHQgLyBkKSArIDEpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5PdXRFeHBvOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ID09PSAwKSByZXR1cm4gYjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodCA9PT0gZCkgcmV0dXJuIGIgKyBjO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpICsgYjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAvIDIgKiAoLU1hdGgucG93KDIsIC0xMCAqIC0tdCkgKyAyKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluQ2lyYzogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLWMgKiAoTWF0aC5zcXJ0KDEgLSAodCAvPSBkKSAqIHQpIC0gMSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VPdXRDaXJjOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogTWF0aC5zcXJ0KDEgLSAodCA9IHQgLyBkIC0gMSkgKiB0KSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluT3V0Q2lyYzogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIC1jIC8gMiAqIChNYXRoLnNxcnQoMSAtIHQgKiB0KSAtIDEpICsgYjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAvIDIgKiAoTWF0aC5zcXJ0KDEgLSAodCAtPSAyKSAqIHQpICsgMSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJbkJhY2s6IGZ1bmN0aW9uICh0LCBiLCBjLCBkLCBzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRzID0gKHQgLz0gZCkgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YyA9IHRzICogdDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYiArIGMgKiAoMTUuMjYgKiB0YyAqIHRzICsgLTQzLjU2ICogdHMgKiB0cyArIDM5LjggKiB0YyArIC0xMC42ICogdHMgKyAwLjEgKiB0KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlT3V0QmFjazogZnVuY3Rpb24gKHQsIGIsIGMsIGQsIHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHMgPSAodCAvPSBkKSAqIHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRjID0gdHMgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiICsgYyAqICgxMS4yNCAqIHRjICogdHMgKyAtMjMuOTYgKiB0cyAqIHRzICsgMTIuMjQgKiB0YyArIDEuNDQgKiB0cyArIDAuMDQgKiB0KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5PdXRCYWNrOiBmdW5jdGlvbiAodCwgYiwgYywgZCwgcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cyA9ICh0IC89IGQpICogdDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGMgPSB0cyAqIHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGIgKyBjICogKDIyLjkyICogdGMgKiB0cyArIC01Ny43OCAqIHRzICogdHMgKyA0NSAqIHRjICsgLTkuMjggKiB0cyArIDAuMTQgKiB0KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlT3V0Qm91bmNlOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodCAvPSBkKSA8ICgxIC8gMi43NSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogdCAqIHQpICsgYjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHQgPCAoMiAvIDIuNzUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09ICgxLjUgLyAyLjc1KSkgKiB0ICsgLjc1KSArIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0IDwgKDIuNSAvIDIuNzUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09ICgyLjI1IC8gMi43NSkpICogdCArIC45Mzc1KSArIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDIuNjI1IC8gMi43NSkpICogdCArIC45ODQzNzUpICsgYjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWFzaW5nc1tuYW1lXSkgcmV0dXJuIGVhc2luZ3NbbmFtZV07XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdFYXNpbmdzIC8gVW5hYmxlIHRvIGdldCB1bmRlZmluZWQgZWFzaW5nIFt7bmFtZX1dLiBMaW5lYXIgZWFzaW5nIGZ1bmN0aW9uIHByb3ZpZGVkLicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVhc2luZ3NbJ2xpbmVhciddO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMi82LzIwMTcuXHJcbiAqL1xyXG4kUi5oZWxwZXIuc3lzdGVtKFxyXG4gICAgZnVuY3Rpb24gTWF0cml4KCkge1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBtdWx0aXBseShtMSwgbTIpIHtcclxuICAgICAgICAgICAgdmFyIGExID0gbTFbMF0gKiBtMlswXSArIG0xWzJdICogbTJbMV0sXHJcbiAgICAgICAgICAgICAgICBhMiA9IG0xWzFdICogbTJbMF0gKyBtMVszXSAqIG0yWzFdLFxyXG4gICAgICAgICAgICAgICAgYTMgPSBtMVswXSAqIG0yWzJdICsgbTFbMl0gKiBtMlszXSxcclxuICAgICAgICAgICAgICAgIGE0ID0gbTFbMV0gKiBtMlsyXSArIG0xWzNdICogbTJbM10sXHJcbiAgICAgICAgICAgICAgICBhNSA9IG0xWzBdICogbTJbNF0gKyBtMVsyXSAqIG0yWzVdICsgbTFbNF0sXHJcbiAgICAgICAgICAgICAgICBhNiA9IG0xWzFdICogbTJbNF0gKyBtMVszXSAqIG0yWzVdICsgbTFbNV07XHJcbiAgICAgICAgICAgIG0xWzBdID0gYTE7XHJcbiAgICAgICAgICAgIG0xWzFdID0gYTI7XHJcbiAgICAgICAgICAgIG0xWzJdID0gYTM7XHJcbiAgICAgICAgICAgIG0xWzNdID0gYTQ7XHJcbiAgICAgICAgICAgIG0xWzRdID0gYTU7XHJcbiAgICAgICAgICAgIG0xWzVdID0gYTY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBhcHBseU1hdHJpeFRvUG9pbnQobWF0cml4LCBwb2ludCkge1xyXG4gICAgICAgICAgICB2YXIgeCA9IHBvaW50WzBdICogbWF0cml4WzBdICsgcG9pbnRbMV0gKiBtYXRyaXhbMl0gKyBtYXRyaXhbNF0sXHJcbiAgICAgICAgICAgICAgICB5ID0gcG9pbnRbMF0gKiBtYXRyaXhbMV0gKyBwb2ludFsxXSAqIG1hdHJpeFszXSArIG1hdHJpeFs1XTtcclxuXHJcbiAgICAgICAgICAgIHBvaW50WzBdID0geDtcclxuICAgICAgICAgICAgcG9pbnRbMV0gPSB5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gR3JhcGhpY3NUcmFuc2Zvcm1NYXRyaXgob2JqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IFsxLCAwLCAwLCAxLCAwLCAwXSxcclxuICAgICAgICAgICAgICAgIGludmVyc2lvbiA9IFsxLCAwLCAwLCAxLCAwLCAwXSxcclxuICAgICAgICAgICAgICAgIGdsb2JhbEludmVyc2lvbiA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBnbG9iYWxWYWx1ZSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5ID0gW107XHJcblxyXG4gICAgICAgICAgICB0aGlzLmludmVydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBoaXN0b3J5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhpc3RvcnlbaV0ucm90YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaW5BID0gTWF0aC5zaW4oLWhpc3RvcnlbaV0ucm90YXRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvc0EgPSBNYXRoLmNvcygtaGlzdG9yeVtpXS5yb3RhdGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbHkoaW52ZXJzaW9uLCBbY29zQSwgc2luQSwgLXNpbkEsIGNvc0EsIDAsIDBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhpc3RvcnlbaV0udHJhbnNsYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGx5KGludmVyc2lvbiwgWzEsIDAsIDAsIDEsIC1oaXN0b3J5W2ldLnRyYW5zbGF0ZVswXSwgLWhpc3RvcnlbaV0udHJhbnNsYXRlWzFdXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoaXN0b3J5W2ldLnNrZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbHkoaW52ZXJzaW9uLCBbMSwgTWF0aC50YW4oLWhpc3RvcnlbaV0uc2tld1sxXSksIE1hdGgudGFuKC1oaXN0b3J5W2ldLnNrZXdbMF0pLCAxLCAwLCAwXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoaXN0b3J5W2ldLnNjYWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGx5KGludmVyc2lvbiwgWzEgLyBoaXN0b3J5W2ldLnNjYWxlWzBdLCAwLCAwLCAxIC8gaGlzdG9yeVtpXS5zY2FsZVsxXSwgMCwgMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5yb3RhdGUgPSBmdW5jdGlvbiAoYW5nbGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzaW5BID0gTWF0aC5zaW4oYW5nbGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvc0EgPSBNYXRoLmNvcyhhbmdsZSksXHJcbiAgICAgICAgICAgICAgICAgICAgbSA9IFtjb3NBLCBzaW5BLCAtc2luQSwgY29zQSwgMCwgMF07XHJcblxyXG4gICAgICAgICAgICAgICAgbXVsdGlwbHkodmFsdWUsIG0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaCh7J3JvdGF0ZSc6IGFuZ2xlfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh4LCB5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbSA9IFsxLCAwLCAwLCAxLCB4LCB5XTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoeCAhPT0gMCB8fCB5ICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlwbHkodmFsdWUsIG0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaCh7J3RyYW5zbGF0ZSc6IFt4LCB5XX0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zY2FsZSA9IGZ1bmN0aW9uICh4LCB5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeCAhPT0gMSB8fCB5ICE9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSBbeCwgMCwgMCwgeSwgMCwgMF07XHJcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlwbHkodmFsdWUsIG0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaCh7J3NjYWxlJzogW3gsIHldfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNrZXcgPSBmdW5jdGlvbiAoeCwgeSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHggIT09IDAgfHwgeSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YW5BID0gTWF0aC50YW4oeCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhbkIgPSBNYXRoLnRhbih5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbSA9IFsxLCB0YW5CLCB0YW5BLCAxLCAwLCAwXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlwbHkodmFsdWUsIG0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaCh7J3NrZXcnOiBbeCwgeV19KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXh0cmFjdEdsb2JhbEludmVyc2lvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmKGdsb2JhbEludmVyc2lvbikgcmV0dXJuIGdsb2JhbEludmVyc2lvbjtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gb2JqZWN0LnBhcmVudCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghZ2xvYmFsSW52ZXJzaW9uKSBnbG9iYWxJbnZlcnNpb24gPSBbaW52ZXJzaW9uWzBdLCBpbnZlcnNpb25bMV0sIGludmVyc2lvblsyXSwgaW52ZXJzaW9uWzNdLCBpbnZlcnNpb25bNF0sIGludmVyc2lvbls1XV07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG11bHRpcGx5KGdsb2JhbEludmVyc2lvbiwgcGFyZW50Lm1hdHJpeCgpLmV4dHJhY3RHbG9iYWxJbnZlcnNpb24oKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gIGdsb2JhbEludmVyc2lvbjtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsQ3Vyc29yUHJvamVjdGlvbiA9IGZ1bmN0aW9uIChwb2ludCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5leHRyYWN0R2xvYmFsSW52ZXJzaW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgYXBwbHlNYXRyaXhUb1BvaW50KGdsb2JhbEludmVyc2lvbiwgcG9pbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBwb2ludDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yUHJvamVjdGlvbiA9IGZ1bmN0aW9uIChwb2ludCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGFwcGx5TWF0cml4VG9Qb2ludChpbnZlcnNpb24sIHBvaW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9pbnQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRyYWNrTG9jYWxQb2ludCA9IGZ1bmN0aW9uIChwb2ludCwgZXhjbHVkZV9zZWxmKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gb2JqZWN0LnBhcmVudCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5tYXRyaXgoKS50cmFja0xvY2FsUG9pbnQocG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoIWV4Y2x1ZGVfc2VsZikgYXBwbHlNYXRyaXhUb1BvaW50KHZhbHVlLCBwb2ludCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50O1xyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXh0cmFjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5leHRyYWN0SW52ZXJzaW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGludmVyc2lvbjtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMub2JqZWN0TWF0cml4ID0gZnVuY3Rpb24gKG9iamVjdCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBHcmFwaGljc1RyYW5zZm9ybU1hdHJpeChvYmplY3QpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gb2JqZWN0LmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGJveENvbnRhaW5lciA9IG9iamVjdC5leHRlbnNpb24oJ0JveCcpLmJveCgpLFxyXG4gICAgICAgICAgICAgICAgc3ByaXRlID0gYm94Q29udGFpbmVyLnNwcml0ZSgpLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBzdHlsZS5nZXQoJ3Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICBvcmlnaW4gPSBzdHlsZS5nZXQoJ29yaWdpbicpLFxyXG4gICAgICAgICAgICAgICAgc2tldyA9IHN0eWxlLmdldCgnc2tldycpLFxyXG4gICAgICAgICAgICAgICAgcm90YXRlID0gc3R5bGUuZ2V0KCdyb3RhdGUnKSxcclxuICAgICAgICAgICAgICAgIHNjYWxlID0gc3R5bGUuZ2V0KCdzY2FsZScpLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlID0gc3R5bGUuZ2V0KCd0cmFuc2xhdGUnKSxcclxuXHJcbiAgICAgICAgICAgICAgICBfdHJhbnNsYXRlID0gb2JqZWN0LnR5cGUoJ0dyb3VwJykgPyBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uWzBdICsgdHJhbnNsYXRlWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblsxXSArIHRyYW5zbGF0ZVsxXVxyXG4gICAgICAgICAgICAgICAgICAgIF0gOlxyXG4gICAgICAgICAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnBvc2l0aW9uWzBdICsgdHJhbnNsYXRlWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUucG9zaXRpb25bMV0gKyB0cmFuc2xhdGVbMV1cclxuICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgX29yaWdpbiA9IFtcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5bMF0gKiBzcHJpdGUuc2l6ZVswXSxcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5bMV0gKiBzcHJpdGUuc2l6ZVsxXVxyXG4gICAgICAgICAgICAgICAgXTtcclxuXHJcblxyXG4gICAgICAgICAgICBtYXRyaXgudHJhbnNsYXRlKF9vcmlnaW5bMF0sIF9vcmlnaW5bMV0pO1xyXG4gICAgICAgICAgICBpZiAoX3RyYW5zbGF0ZVswXSAhPT0gMCB8fCBfdHJhbnNsYXRlWzFdICE9PSAwKSBtYXRyaXgudHJhbnNsYXRlKF90cmFuc2xhdGVbMF0sIF90cmFuc2xhdGVbMV0pO1xyXG4gICAgICAgICAgICBpZiAocm90YXRlICE9PSAwKSBtYXRyaXgucm90YXRlKHJvdGF0ZSk7XHJcbiAgICAgICAgICAgIGlmIChza2V3WzBdICE9PSAwIHx8IHNrZXdbMV0gIT09IDApIG1hdHJpeC5za2V3KHNrZXdbMF0sIHNrZXdbMV0pO1xyXG4gICAgICAgICAgICBpZiAoc2NhbGVbMF0gIT09IDEgfHwgc2NhbGVbMV0gIT09IDEpIG1hdHJpeC5zY2FsZShzY2FsZVswXSwgc2NhbGVbMV0pO1xyXG4gICAgICAgICAgICBtYXRyaXgudHJhbnNsYXRlKC1fb3JpZ2luWzBdLCAtX29yaWdpblsxXSk7XHJcbiAgICAgICAgICAgIG1hdHJpeC5pbnZlcnQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIG1hdHJpeDtcclxuICAgICAgICB9O1xyXG5cclxuICAgIH0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yOS8yMDE2LlxyXG4gKi9cclxuJFIuaGVscGVyLnN5c3RlbShcclxuICAgIFsnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIE1vZGVsKERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNsb25lSGFzaCA9IGZ1bmN0aW9uIChoYXNoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGhhc2ggIT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSGFzaCBpcyBub3QgYW4gb2JqZWN0IScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGhhc2gpKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2xvbmVBcnJheSA9IGZ1bmN0aW9uIChhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcnJheSAhPT0gXCJvYmplY3RcIiB8fCBhcnJheS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignYXJyYXkgaXMgbm90IGFuIGFycmF5IScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJyYXlbaV0gPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXlbaV0uY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmNsb25lQXJyYXkoYXJyYXlbaV0pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5jbG9uZUhhc2goYXJyYXlbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJyYXlbaV0gPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gYXJyYXlbaV0udG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZXZhbCh0ZXh0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1lvdVxcJ3ZlIGp1c3QgY2xvbmVkIGEgZnVuY3Rpb24uIEl0IG1heSBiZSBzbG93JywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChhcnJheVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnZhbGlkTnVtZXJpY0FycmF5ID0gZnVuY3Rpb24gKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFycmF5ICE9PSBcIm9iamVjdFwiIHx8IGFycmF5LmNvbnN0cnVjdG9yICE9PSBBcnJheSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFycmF5W2ldICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciBibGVuZGluZ3MgPSBbJ3NvdXJjZS1vdmVyJywgJ3NvdXJjZS1pbicsICdzb3VyY2Utb3V0JywgJ3NvdXJjZS1hdG9wJywgJ2Rlc3RpbmF0aW9uLW92ZXInLFxyXG4gICAgICAgICAgICAgICAgJ2Rlc3RpbmF0aW9uLWluJywgJ2Rlc3RpbmF0aW9uLW91dCcsICdkZXN0aW5hdGlvbi1hdG9wJywgJ2xpZ2h0ZXInLCAnY29weScsICd4b3InLCAnbXVsdGlwbHknLFxyXG4gICAgICAgICAgICAgICAgJ3NjcmVlbicsICdvdmVybGF5JywgJ2RhcmtlbicsICdsaWdodGVuJywgJ2NvbG9yLWRvZGdlJywgJ2NvbG9yLWJ1cm4nLCAnaGFyZC1saWdodCcsXHJcbiAgICAgICAgICAgICAgICAnc29mdC1saWdodCcsICdkaWZmZXJlbmNlJywgJ2V4Y2x1c2lvbicsICdodWUnLCAnc2F0dXJhdGlvbicsICdjb2xvcicsICdsdW1pbm9zaXR5J1xyXG4gICAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy52YWxpZEJsZW5kaW5nID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBibGVuZGluZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYmxlbmRpbmdzW2ldID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzcHJpdGVfcmVnZXhwID0gL14oWy4vXFwtX1xcZDAtOWEtekEtWl0rKShcXFsoXFxkKylcXF0pJC87XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlzU3ByaXRlU3RyaW5nID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNwcml0ZV9yZWdleHAudGVzdChzdHIpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWFkU3ByaXRlU3RyaW5nID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHN0ci5tYXRjaChzcHJpdGVfcmVnZXhwKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogcmVzdWx0WzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIGZyYW1lczogcGFyc2VJbnQocmVzdWx0WzNdKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDIvMy8yMDE3LlxyXG4gKi9cclxuJFIuaGVscGVyLnN5c3RlbShcclxuICAgIGZ1bmN0aW9uIE1vdXNlKCkge1xyXG4gICAgICAgIHRoaXMuY2lyY2xlVXNlckNoZWNrRnVuY3Rpb24gPSBmdW5jdGlvbiAoY3Vyc29yKSB7XHJcbiAgICAgICAgICAgIHZhciBjb29yZHMgPSB0aGlzLm1hdHJpeCgpLmdsb2JhbEN1cnNvclByb2plY3Rpb24oW2N1cnNvclswXSwgY3Vyc29yWzFdXSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29vcmRzIDwgWzBdIHx8IGNvb3Jkc1sxXSA8IDApIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSB0aGlzLmV4dGVuc2lvbignQm94JykuYm94KCkuc3ByaXRlKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29vcmRzWzBdID4gc3ByaXRlLnNpemVbMF0pIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb29yZHNbMV0gPiBzcHJpdGUuc2l6ZVsxXSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJhZGl1cyA9IHNwcml0ZS5zaXplWzBdIC8gMixcclxuICAgICAgICAgICAgICAgIGN4ID0gcmFkaXVzLFxyXG4gICAgICAgICAgICAgICAgY3kgPSBzcHJpdGUuc2l6ZVsxXSAvIDI7XHJcblxyXG4gICAgICAgICAgICBpZiAoTWF0aC5wb3coY29vcmRzWzBdIC0gY3gsIDIpICsgTWF0aC5wb3coY29vcmRzWzFdIC0gY3ksIDIpIDw9IE1hdGgucG93KHJhZGl1cywgMikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zcXVhcmVVc2VyQ2hlY2tGdW5jdGlvbiA9IGZ1bmN0aW9uIChjdXJzb3IpIHtcclxuICAgICAgICAgICAgdmFyIGNvb3JkcyA9IHRoaXMubWF0cml4KCkuZ2xvYmFsQ3Vyc29yUHJvamVjdGlvbihbY3Vyc29yWzBdLCBjdXJzb3JbMV1dKSxcclxuICAgICAgICAgICAgICAgIHNwcml0ZSA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKS5ib3goKS5zcHJpdGUoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb29yZHNbMF0gPiAwICYmIGNvb3Jkc1swXSA8IHNwcml0ZS5zaXplWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29vcmRzWzFdID4gMCAmJiBjb29yZHNbMV0gPCBzcHJpdGUuc2l6ZVsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuY2lyY2xlQ2hlY2tGdW5jdGlvbiA9IGZ1bmN0aW9uIChjdXJzb3IpIHtcclxuICAgICAgICAgICAgdmFyIGNvb3JkcyA9IHRoaXMubWF0cml4KCkuZ2xvYmFsQ3Vyc29yUHJvamVjdGlvbihbY3Vyc29yWzBdLCBjdXJzb3JbMV1dKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb29yZHMgPCBbMF0gfHwgY29vcmRzWzFdIDwgMCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdmFyIHNwcml0ZSA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKS5ib3goKS5zcHJpdGUoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb29yZHNbMF0gPiBzcHJpdGUuc2l6ZVswXSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvb3Jkc1sxXSA+IHNwcml0ZS5zaXplWzFdKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB2YXIgY2VudGVyID0gc3ByaXRlLnNpemVbMF0gLyAyLFxyXG4gICAgICAgICAgICAgICAgcmFkaXVzID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJykuZ2V0KCdyYWRpdXMnKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChNYXRoLnBvdygoY29vcmRzWzBdIC0gY2VudGVyKSwgMikgKyBNYXRoLnBvdygoY29vcmRzWzFdIC0gY2VudGVyKSwgMikgPCBNYXRoLnBvdyhyYWRpdXMsIDIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucmVjdENoZWNrRnVuY3Rpb24gPSBmdW5jdGlvbiAoY3Vyc29yKSB7XHJcbiAgICAgICAgICAgIHZhciBjb29yZHMgPSB0aGlzLm1hdHJpeCgpLmdsb2JhbEN1cnNvclByb2plY3Rpb24oW2N1cnNvclswXSwgY3Vyc29yWzFdXSksXHJcbiAgICAgICAgICAgICAgICBzcHJpdGUgPSB0aGlzLmV4dGVuc2lvbignQm94JykuYm94KCkuc3ByaXRlKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29vcmRzWzBdID4gMCAmJiBjb29yZHNbMF0gPCBzcHJpdGUuc2l6ZVswXSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvb3Jkc1sxXSA+IDAgJiYgY29vcmRzWzFdIDwgc3ByaXRlLnNpemVbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yOS8yMDE2LlxyXG4gKi9cclxuJFIuaGVscGVyLnN5c3RlbShcclxuICAgIFsnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFBhdGgoRGVidWcpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Q29udHJvbFBvaW50cyh4MCwgeTAsIHgxLCB5MSwgeDIsIHkyLCB0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZDAxID0gTWF0aC5zcXJ0KE1hdGgucG93KHgxIC0geDAsIDIpICsgTWF0aC5wb3coeTEgLSB5MCwgMikpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGQxMiA9IE1hdGguc3FydChNYXRoLnBvdyh4MiAtIHgxLCAyKSArIE1hdGgucG93KHkyIC0geTEsIDIpKTtcclxuICAgICAgICAgICAgICAgIHZhciBmYSA9IHQgKiBkMDEgLyAoZDAxICsgZDEyKTtcclxuICAgICAgICAgICAgICAgIHZhciBmYiA9IHQgKiBkMTIgLyAoZDAxICsgZDEyKTtcclxuICAgICAgICAgICAgICAgIHZhciBwMXggPSB4MSAtIGZhICogKHgyIC0geDApO1xyXG4gICAgICAgICAgICAgICAgdmFyIHAxeSA9IHkxIC0gZmEgKiAoeTIgLSB5MCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcDJ4ID0geDEgKyBmYiAqICh4MiAtIHgwKTtcclxuICAgICAgICAgICAgICAgIHZhciBwMnkgPSB5MSArIGZiICogKHkyIC0geTApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtwMXgsIHAxeSwgcDJ4LCBwMnldO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbnZlcnRDb21wbGV4UGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoW2ldWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29udmVydFNpbXBsZVBhdGggPSBmdW5jdGlvbiAocGF0aCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignUGF0aCBzaG91bGQgY29uc2lzdCBvZiBhdCBsZWFzdCB0d28gcG9pbnRzIScsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBwYXRoW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gcGF0aFtpXVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB4ICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiAgeSAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW5jb3JyZWN0IFBhdGghJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHBhdGgubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdFtpXSkgcmVzdWx0LnB1c2goW10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaV0ucHVzaCh4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2ldLnB1c2goeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaSAtIDFdLnB1c2goeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpIC0gMV0ucHVzaCh5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2kgLSAxXS5wdXNoKHJlc3VsdFtpIC0gMV1bMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaSAtIDFdLnB1c2gocmVzdWx0W2kgLSAxXVsxXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaSAtIDFdLnB1c2goeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpIC0gMV0ucHVzaCh5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW50ZXJwb2xhdGUgPSBmdW5jdGlvbiAocGF0aCwgc21vb3RoaW5nLCBjbG9zZWQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZXYgPSBbXSwgbWlkID0gW3BhdGhbaV1bMF0sIHBhdGhbaV1bMV1dLCBuZXh0ID0gW3BhdGhbaV1bMl0sIHBhdGhbaV1bM11dLCBwdHMgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2ID0gbWlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldiA9IFtwYXRoW2kgLSAxXVswXSwgcGF0aFtpIC0gMV1bMV1dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHB0cyA9IGdldENvbnRyb2xQb2ludHMocHJldlswXSwgcHJldlsxXSwgbWlkWzBdLCBtaWRbMV0sIG5leHRbMF0sIG5leHRbMV0sIHNtb290aGluZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbaV1bNF0gPSBwdHNbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbaV1bNV0gPSBwdHNbM107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoW2kgLSAxXVs2XSA9IHB0c1swXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtpIC0gMV1bN10gPSBwdHNbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbaV1bNF0gPSBwdHNbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbaV1bNV0gPSBwdHNbM107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gcGF0aC5sZW5ndGggLSAxKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2ID0gW3BhdGhbaV1bMF0sIHBhdGhbaV1bMV1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaWQgPSBbcGF0aFtpXVsyXSwgcGF0aFtpXVszXV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSBtaWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwdHMgPSBnZXRDb250cm9sUG9pbnRzKHByZXZbMF0sIHByZXZbMV0sIG1pZFswXSwgbWlkWzFdLCBuZXh0WzBdLCBuZXh0WzFdLCBzbW9vdGhpbmcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtpXVs2XSA9IHB0c1swXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtpXVs3XSA9IHB0c1sxXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbG9zZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMxID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczIgPSBwYXRoWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9zZWdtZW50ID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3MxWzBdLCBzMVsxXSwgczFbMl0sIHMxWzNdLCBzMVs0XSwgczFbNV0sIHMxWzZdLCBzMVs3XV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbczJbMF0sIHMyWzFdLCBzMlsyXSwgczJbM10sIHMyWzRdLCBzMls1XSwgczJbNl0sIHMyWzddXV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVycG9sYXRlKF9zZWdtZW50LCBzbW9vdGhpbmcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFswXVs0XSA9IF9zZWdtZW50WzFdWzRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoWzBdWzVdID0gX3NlZ21lbnRbMV1bNV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbcGF0aC5sZW5ndGggLSAxXVs2XSA9IF9zZWdtZW50WzBdWzZdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoW3BhdGgubGVuZ3RoIC0gMV1bN10gPSBfc2VnbWVudFswXVs3XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jaGVja1NpbXBsZVBhdGggPSBmdW5jdGlvbiAocGF0aCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXRoICE9PSBcIm9iamVjdFwiIHx8IHBhdGguY29uc3RydWN0b3IgIT09IEFycmF5KSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgcGF0aFtpXSAhPT0gXCJvYmplY3RcIiB8fCBwYXRoW2ldLmNvbnN0cnVjdG9yICE9PSBBcnJheSB8fCBwYXRoW2ldLmxlbmd0aCAhPT0gMiB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgcGF0aFtpXVswXSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgIHBhdGhbaV1bMV0gIT09IFwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb21wYXJlUGF0aHMgPSBmdW5jdGlvbiAocGF0aDEsIHBhdGgyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGF0aDEubGVuZ3RoICE9PSBwYXRoMi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoMS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgcGF0aDFbaV0ubGVuZ3RoOyBuKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGgxW2ldW25dICE9PSBwYXRoMltpXVtuXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfV0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
