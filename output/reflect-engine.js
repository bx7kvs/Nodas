(function(){function Reflect(){}function Core(e){new Injection(e);for(var t=!0,n=0;n<expect.length;n++)if(!modules[expect[n]]){t=!1;break}return t&&BuildCore(),Core}function getRouteFunction(e){return function routeFunction(){var t=e.apply(Reflect,arguments);return void 0!==t?Reflect:t}.bind(core)}function BuildCore(){Core.get("Root");for(var e in properties)properties.hasOwnProperty(e)&&(core[e]=properties[e])}function Injection(e){if("function"!=typeof e||!e.name)throw new Error("Unable to createinjection. Constructor is not a named function!");modules[e.name]=this;var t=null;this.create=function(t){var n=[null];if(t&&"object"==typeof t&&t.constructor===Array)for(var r=0;r<t.length;r++)n.push(t[r]);return new(Function.prototype.bind.apply(e,n))},this.get=function(){if(t)return t;var e=this.create.apply(this,arguments[0]);return t=e,e},this.is=function(t){return t.constructor===e},this.extend=function(t,n){return"object"==typeof n&&n.constructor===Array?(e.apply(t,n),t):(e.call(t),t)}}var modules={},properties={},core=new Reflect,expect=["Application","Audio","Canvas","Classes","Config","Container","Fonts","Helpers","Injection","Root","Services","Source","Ticker"];Core.get=function(e,t){if("string"==typeof e){if(modules[e])return modules[e].get.apply(modules[e],t);throw new Error("Module ["+e+"] was not found")}throw new Error("Module name is not a string. Wrong arguments")},Core.is=function(e,t){if("string"==typeof t&&modules[t])return modules[t].is(e)},Core.inject=function(e,t){if("string"==typeof e){if(modules[e])return modules[e].create(t);throw new Error("Nodule ["+e+"] was not found.")}throw new Error("Module name is not a string. Wrong Arguments")},Core.extend=function(e,t,n){if("string"==typeof modules[e]){if("object"==typeof t)return modules[e].extend(t,n);throw new Error("Unable to extend target of tyoe ["+typeof t+"] bu module constructor ["+e+"].")}},Core.define=function(e,t){if(core||(core=new Reflect),"string"==typeof e){if(void 0!==properties[e])throw new Error("Unable to define property ["+e+"]. Already defined!");return"function"==typeof e?properties[e]=getRouteFunction(t):null===e&&"undefined"==typeof e&&"object"==typeof e||(properties[e]=t),core}};var $R=core;Core(function Application(e,t,n){var r=this;n.define("fps",58.8,{isNumber:!0,greater:0,under:61}).watch(function(e){t.fps(e)}),n.define("canvas",null,{isString:!0}).watch(function(t){e.element(t)}),this.$=function(e,t){if("string"!=typeof e)throw new Error("Unable to set API method. Name is not a string.");if("$"===e.charAt(0))throw new Error("Unable to set API function. Function name starts with $");if(this[e])throw new Error("Application API property ["+e+"] duplication!");if("function"!=typeof t)throw new Error("Application API property ["+e+"] value is not a function");this[e]=function(){var e=t.apply(this,arguments);return void 0===e?r:e}},this.config=function(e,t){if("string"==typeof e)if("undefined"!=typeof t&&"function"!=typeof t)n.set(e,t);else{if("function"!=typeof t)return n.get(e);n.watch(e,t)}else{if("object"!=typeof e||e.constructor===Array)throw new Error("Unable to config application. Config format is invalid");for(var r in e)e.hasOwnProperty(r)&&n.set(r,e[r])}return this}}),Core(function Audio(){var e=new AudioContext;this.context=function(){return e}}),Core(function Canvas(e){function DrawScene(e,t){if(u){c[0]=n,c[1]=e,c[2]=t;for(var r=0;r<s.length;r++)try{s[r].f.apply(a,c)}catch(o){throw console.error(o),new Error("Error emerged while drawing. \nQueue          : ["+s[r].o+"]\nQueue Ordering : ["+r+"]\nQueue Member   : ["+s[r].f.name+"]\nMessage        : "+o.message)}}}function resolve(e){for(var t=0;t<e.length;t++)e[t].call(a)}var t=null,n=null,r=[800,600],o=[],i=[],a=this,s=[],u=!1,c=[null,null,null];e.queue(0,DrawScene),this.element=function(e){if("string"==typeof e){var o=document.getElementById(e);if(!o||!o.getContext)throw new Error("Element with id [#"+e+"] was not found or not a canvas");var a=o.getContext("2d");if(!a)throw new Error("Element with id [#"+e+"] is not a canvas. Can not get 2d context.");o.setAttribute("width",r[0]),o.setAttribute("height",r[1]),n=a,t=o,u=!0,resolve(i)}else{if(!(e instanceof HTMLElement))return t;if(!e.getContext)throw new Error("Element is not a Canvas");var a=e.getContext("2d");if(!a)throw new Error("Element is not a Canvas. Can not get 2d context.");e.setAttribute("width",r[0]),e.setAttribute("height",r[1]),t=e,n=a,u=!0,resolve(i)}},this.queue=function(e,t){if("function"==typeof e){if(!e.name)throw new Error("Unable to enqueue callback. Provide a named function");s.push({o:0,f:t})}else{if("number"!=typeof e)throw new Error("Unable to enqueue callback. Wrong arguments.");if("function"!=typeof t)throw new Error("Unable to enqueue callback. Provide a named function");if(!t.name)throw new Error("Unable to enqueue callback. Provide a named function.");s.push({o:e,f:t})}return s.sort(function(e,t){return e.o-t.o}),this},this.size=function(e,n){return"number"==typeof e&&"number"==typeof n&&(e<0&&(e=0),n<0&&(n=0),r[0]===e&&r[1]===e||(r[0]=e,r[1]=n,t.setAttribute("width",e),t.setAttribute("height",n),resolve(o))),[r[0],r[1]]},this.resize=function(e){if("function"==typeof e)return o.push(e),this;throw new Error("Unable to set resize callback. f argument is not a function")},this.offresize=function(e){if("function"==typeof e)return o=o.filter(function(t){return t!==e}),o.push(e),this;throw new Error("Unable to set resize callback. f argument is not a function")},this["switch"]=function(e){if("function"==typeof e)return i.push(e),this;throw new Error("Unable to set switch callback. f argument is not a function")},this.ready=function(){return u}}),Core(function Classes(){function cls(e){try{var r=Core.inject("Injection",[e]);n[r.name()]&&console.warn("Global Class Library class ["+r.name()+"] has been overwritten.");for(var o in t)t.hasOwnProperty(o)&&t[o][r.name()]&&console.warn("Application ["+o+"] Class ["+r.name()+"] overrides global class.");n[r.name()]=r}catch(i){throw new Error("Unable to create class injection.")}}var e={},t={},n={};cls.app=function(e,r){if("string"!=typeof e)throw new Error("Unable to register ApplicationClass injection. App id is not a string.");t[e]||(t[e]={});try{var o=Core.inject("Injection",[r]);n[o.name()]&&console.warn("Application ["+e+"] Class ["+o.name()+"] overrides global class."),t[e][o.name()]=o}catch(i){throw new Error("Unable to create and register ApplicationClass for sources ["+e+"].")}},cls.sys=function(t){try{var n=Core.inject("Injection",[t]);e[n.name()]&&console.warn("System Class ["+n.name()+"] override."),e[n.name()]=n}catch(r){throw new Error("Unable to register SystemClass injection")}},this.getApplicationClasses=function(e){if("string"==typeof e){var r=Core.inject("Container",[n]);return t[e]?(r.source(r,"."),r.merge(t),r):(r.source(r,"."),r)}throw new Error("Unable to get application classes container. App id is not a string.")},this.getSystemClasses=function(){var t=Core.inject("Container",[e]);return t.source(t,"."),t},Core.define("class",cls)}),Core(function Config(){function Property(e,n,r){function checkValue(e){for(var n=!0,r=0;r<o;r++)if(!t[o[r].f](e,o.args)){n=!1;break}return n}var o=[],i=[];this.get=function(){var e=n;if(t.isArray(e)){e=[];for(var r=0;r<n.length;r++)e.push(n[r])}return e},this.name=function(){return e},this.set=function(e){if(checkValue(e))if(t.isArray(e)){n=[];for(var r=0;r<e.length;r++)n.push(e[r])}else n=e;for(var r=0;r<i.length;r++)i[r].call(this,this.get());return this.get()},this.watch=function(e){if("function"!=typeof e)throw new Error("Can not set config property watcher. Argument f is not a function.");return i.push(e),n};for(var a in r)if(r.hasOwnProperty(a)){if(void 0===r[a])throw new Error("Wrong parameter for config property ["+a+"]");if(!t[a])throw new Error("No such config value checker as ["+a+"]");o.push({f:a,args:[r[a]]})}if("object"==typeof n&&null!==n&&!t.isArray(n))throw new Error("Objects are not supported as config property value!");if(!checkValue(n))throw new Error("Initial ["+e+"]'s value does not meet config requirements.")}var e={},t={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isArray:function(e){return"object"==typeof e&&e.constructor===Array},custom:function(e,t){if("function"==typeof t[0])return t[0](e)},under:function(e,n){return t.isNumber(e)&&e<n[0]},greater:function(e,n){return t.isNumber(e)&&e>n[0]},eq:function(e,n){return t.isNumber(e)&&e===n[0]},isBool:function(e){return"boolean"==typeof e}};this.define=function(t,n,r){if("string"!=typeof t)throw new Error("Unable to define config property. Property name is not a string.");if(void 0===n)throw new Error("Config property value can not be undefined.");if(e[t])console.warn("Config property duplication on property name ["+t+"]");else try{e[t]=new Property(t,n,r)}catch(o){throw console.error("Unable to create config property ["+t+"]"),o}return e[t]},this.set=function(t,n){if("string"==typeof t&&e[t])return e[t].set(n);throw new Error("Unable to set property ["+t+"]. No such property.")},this.get=function(t){if("string"==typeof t)return e[t].get();throw new Error("Unable to get property ["+t+"]. No such property.")},this.watch=function(t,n){if("string"==typeof t){if("function"==typeof n){if(e[t])return e[t].watch(n);throw new Error("No such property as ["+t+"] to watch.")}throw new Error("Watcher callback is not a function")}throw new Error("Unable to watch config property. Property name is invalid or undefined")}}),Core(function Container(e,t){var n={},r={},o={};if(this.list=function(){return n},this.injection=function(e){var t=null,r=[];if("function"==typeof e){if(!e.name||!e.name.length)throw new Error("Anonymous function can not be injection constructor.");t=e}else{if("object"!=typeof e||e.constructor!==Array)throw new Error("Unknown type of injection config.");for(var o=0;o<e.length;o++){if("string"!=typeof e[o]||!e[o].length){if("function"==typeof e[o]&&e[o].name){t=e[o];break}throw new Error("Unknown type of injection name or constructor.")}r.push(e[o])}}r.push(t),n[t.name]&&console.warn("Injection ["+t.name+"] duplicated and has been overwritten"),n[t.name]=Core.inject("Injection",[r])},this.merge=function(t,r){if(t)try{for(var o in t)t.hasOwnProperty(o)&&Core.is(t[o],"Injection")&&(n[t[o].name()]&&console.warn("Injection ["+o+"] has been merged.s"),r?n[e[o].name()]=e[o].clone():n[e[o].name()]=e[o])}catch(i){throw new Error("Unable to merge libs.")}},this.source=function(e,t){if(e&&"object"==typeof e)if(Core.is(e,"Container")){if(t||(t=!1),"string"==typeof t&&t.length||t===!1){e.$$LOOP=!0;var n=!1;this.$LOOP&&(n=!0),delete e.$$LOOOP,r[t?t:"$$noprefix"]=Core.inject("Source",[t,e,n])}}else if(e.constructor===Array){for(var o=!0,n=[],i=0;i<e.length;i++)"object"==typeof e[i]&&Core.is(e[i],"Container")?(e[i].$$LOOOP=!0,this.$$LOOOP?n.push(!0):n.push(!1),delete e[i].$$LOOOP):o=!1;if(!o)throw new Error("Source container config is not valid. One of the containers provided is not an InjectionContainer instance");t||(t=!1),("string"==typeof t&&t.length||t===!1)&&(r[t?t:"$$noprefix"]=Core.inject("Source",[t,e,n]))}},this.clone=function(){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t].clone());var o=Core.inject("Container",[e]);for(var i in r){for(var a=r[i].containers(),s=r[i].loop(),u=r[i].prefix(),c=[],l=0;l<a.length;l++)s[l]?c.push(o):c.push(a[l].clone());o.source(c,u)}return o},this.findSourceByPrefix=function(e){return e===!1?r.$$noprefix:"string"==typeof e?r[e]:null},this.findSourceByInjectionName=function(e){var t=null;if(o[e])return o[e];for(var n in r)if(r.hasOwnProperty(n)&&r[n].prefix()&&r[n].has(e)){t=r[n],o[e]=t;break}if(!t&&r.$$noprefix&&r.$$noprefix.has(e)&&(t=r.$$noprefix,o[e]=t),!t)throw new Error("Unable to find source containing injection ["+e+"]. ");return t},this.resolve=function(e,t){if("extend"===t){if(n[e]){for(var r={dependencies:[],$constructor:n[e].$constructor()},o=n[e].dependencies(),i=0;i<o.length;i++)if("@extend"===o[i])r.dependencies.push(n[e].extend(this));else if("@inject"===o[i])r.dependencies.push(n[e].inject(this));else{var a=this.findSourceByInjectionName(o[i]);if(!a)throw new Error("No source found containing ["+o[i]+"] for ["+e+"].");r.dependencies.push(a.resolve(o[i]))}return r}throw new Error("Unable to inject ["+e+"] no such injection found")}if(this.has(e)){for(var o=n[e].dependencies(),s=[],u=0;u<o.length;u++)if("@extend"===o[u])s.push(n[e].extend(this));else if("@inject"===o[u])s.push(n[e].inject(this));else{var c=this.findSourceByInjectionName(o[u]);if(!c)throw new Error("Injection ["+o[u]+"] for ["+e+"] source was not found.");s.push(c.resolve(o[u]))}return n[e].create(s,t)}throw new Error("Injection ["+e+"] was not found in library!")},this.resolveDirectInjection=function(e){var t=this.findSourceByInjectionName(e);return t?t.resolve(e,!0):t},this.has=function(e){return!!n[e]},this.get=function(e){return n[e]?n[e]:null},Core.is(e,"Injection"))n[e.name()]=e.clone();else if("object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&Core.is(e[i],"Injection")&&(t?n[e[i].name()]=e[i]:n[e[i].name()]=e[i].clone());else if(void 0!==e)throw new Error("Unable to create container. Wrong arguments. Lib is Injection or object")}),Core(function Fonts(e,t){function fontString(t){if(!o)return!1;for(var n="",r=0;r<t.weight.length;r++)for(var u=0;u<t.style.length;u++){for(var c=e.get("fontDir")+"/"+t.name+"-"+t.weight[r]+"-"+t.style[u],l='@font-face {font-family: "'+s.format(t.name)+"-"+t.weight[r]+'";src:',f=0;f<i.length;f++)l+=a[i[f]](c,t.name,t.style[u]),l+=f<i.length-1?",":";";l+="font-weight: "+t.weight[r]+";",l+="font-style:"+t.style[u]+";}",t[t.weight[r]+"-"+t.style[u]]=l,n+=t[t.weight[r]+"-"+t.style[u]]}return n}function update(e){var t="";for(var o in r)r.hasOwnProperty(o)&&(t+=fontString(r[o],e));n.innerHTML=t}function inArray(e,t){for(var n=!1,r=0;r<e.length;r++)if(e[r]===t){n=!0;break}return n}var n=document.createElement("style"),r={},o=!1,i=e.define("fontFormats",["eot","svg","ttf","woff"],{isArray:!0,custom:function(e){for(var t=!0,n=0;n<e.length();n++)if("eot"!==e[n]||"svg"!==e[n]||"ttf"!==e[n]||"woff"!==e[n]){t=!1;break}return t}}).watch(function(e){o=!0,i=e,update()}),a={eot:function(e){return'url("'+e+'.eot?#iefix") format("embedded-opentype")'},woff:function(e){return'url("'+e+'.woff") format("woff")'},ttf:function(e){return'url("'+e+'.ttf") format("truetype")'},svg:function(e,t,n){return'url("'+e+".svg#"+t+"-"+(n.charAt(0).toUpperCase()+n.slice(1))+'") format("svg")'}},s=this;e.define("fontDir","./fonts",{isString:!0}),document.getElementsByTagName("head")[0].appendChild(n),this.font=function(e,t,n,o){r[t]||(r[t]={name:t}),r[t].weight||(r[t].weight=[]),r[t].style||(r[t].style=[]),inArray(r[t].weight,n)||r[t].weight.push(n),inArray(r[t].style,o)||r[t].style.push(o),update(e)},this.format=function(e){return t+"-"+e},this.formats=function(){for(var e=[],t=0;t<i.length;t++)e.push(i[t]);return e}}),Core(function Helpers(){function helper(t){try{var n=Core.inject("Injection",[t]);e[n.name()]&&console.warn("helper ["+n.name()+"] override."),e[n.name()]=n}catch(r){throw new Error("Unable to create Helper.")}}var e={},t={};Core.define("helper",helper),helper.system=function(n,r){try{var o=Core.inject("Injection",[n]);t[o.name()]&&console.warn("System Helper ["+o.name()+"] Duplicate declaration override."),t[o.name()]=o,r&&(e[o.name()]?console.warn("System Helper ["+o.name()+"] overrides user helper. Skipped system helper."):e[o.name()]=o)}catch(i){}},this.getSystemHelpers=function(e){var n=Core.inject("Container",[t]);return n.source(n,"+"),n.source(e,"@"),n},this.getPublicHelpers=function(t){var n=Core.inject("Container",[e]);return n.source(n,"+"),n.source(t,"@"),n}}),Core(function Injection(e,t){var n=e,r=null,o=[],i=this;if(t){if("object"!=typeof e)throw new Error("Unable to create PreResolvedInjection! con argument is not an object!");n=e.constructor,r=e,o=[]}else{if("function"==typeof e&&e.name)n=e;else if("object"==typeof e&&e.constructor===Array)for(var a=0;a<e.length;a++)if("string"==typeof e[a]&&e[a].length)o.push(e[a]);else if("function"==typeof e[a]&&e[a].name){n=e[a];break}if(!n)throw new Error("Injection constructor undefined!")}this.name=function(){return n.name},this.dependencies=function(){for(var e=[],t=0;t<o.length;t++)e.push(o[t]);return e},this.extend=function(e){if(t)throw new Error("You can not extend with ["+n.name+"]!");return function(t,n){if("object"!=typeof t)throw new Error("Extend target should be an object!");if("string"!=typeof n)throw new Error("Extend class name should be a string!");var r=e.findSourceByInjectionName(n);if(!r)throw new Error("Unable to find injection ["+n+"] for ["+i.name()+"]");var o=r.resolveInjectionDependancies(n);o.$constructor.apply(t,o.dependencies)}},this.inject=function(e){if(t)throw new Error("You can not inject ["+n.name+"] directly");return function(t){return e.resolveDirectInjection(t)}},this.create=function(e,o){return t?r:o?(e.unshift(null),new(Function.prototype.bind.apply(n,e))):(r||(e.unshift(null),r=new(Function.prototype.bind.apply(n,e))),r)},this.$constructor=function(){return n},this.clone=function(){return new Injection(e,t)}}),Core(function Root(){function createApplication(o){var i=Core.inject("Container",[e[o]]),a=Core.inject("Ticker"),s=Core.inject("Canvas",[a]),u=Core.inject("Audio",[]),c=Core.inject("Config",[o]),l=Core.inject("Fonts",[c,o]),f=Core.inject("Application",[s,a,c]),h={};h.Ticker=Core.inject("Injection",[a,!0]),h.Canvas=Core.inject("Injection",[s,!0]),h.API=Core.inject("Injection",[f,!0]),h.Fonts=Core.inject("Injection",[l,!0]),h.Config=Core.inject("Injection",[c,!0]),h.Audio=Core.inject("Injection",[u,!0]);var p=Core.inject("Container",[h]),v=r.getSystemHelpers(p),d=r.getPublicHelpers(p),g=n.getApplicationClasses(o),y=n.getSystemClasses(o),b=t.getApplicationServices(v,y,p);i.source(b,!1),i.source(g,"."),i.source(d,"+"),i.source(p,"@"),g.source(b,!1),g.source(p,"@"),g.source(v,"+");for(var m=0;m<b.length;m++){var w=b[m].list();for(var C in w)w.hasOwnProperty(C)&&b[m].resolve(C)}return i.resolve(o),f}var e={},t=Core.get("Services"),n=Core.get("Classes"),r=Core.get("Helpers");Core.define("app",function(t){try{var n=Core.inject("Injection",[t]);e[n.name()]&&console.warn("Application ["+n.name()+"] override. Remove duplicates"),e[n.name()]=n}catch(r){throw console.error("Unable to register Application constructor."),r}}),Core.define("run",function(t){if("string"==typeof t){if(e[t])return createApplication(t);throw new Error("Application ["+t+"] not found.")}throw new Error("Unable to get sources. App Id is not a string")})}),Core(function Services(){function service(t){if("object"==typeof t&&t.constructor===Array){for(var n=null,r=0;r<t.length;r++)if("function"==typeof t[r])n=t[r].name;else if("string"!=typeof t[r])throw new Error("Unable to create service. Invalid config");n&&(e[n]&&console.warn("Duplicate declaration. Service ["+n+"] has been overwritten"),e[n]=Core.inject("Injection",[t]))}else if("function"==typeof t){if(!t.name)throw new Error("Unable to create service. Constructor is not a named function.");e[t.name]&&console.warn("Duplicate declaration. Service ["+n+"] has been overwritten"),e[t.name]=Core.inject("Injection",[t])}}function plugin(e,t){if("string"!=typeof e)throw new Error("Unable to create plugin. Invalid arguments.");if("object"==typeof t&&t.constructor===Array){for(var r=null,o=0;o<t.length;o++)if("function"==typeof t[o])r=t[o].name;else if("string"!=typeof t[o])throw new Error("Unable to create plugin. Invalid constructor arguments");if(!r)throw new Error("Unable to create plugin. Constructor is not a named function");n[e]||(n[e]={}),n[e][r]&&console.warn("Plugin duplicated. ["+r+"] has been overwritten"),n[e][r]=Core.inject("Injection",[t])}}function getPluginManager(e){function Plugins(){for(var t=[],n=0;n<e.length;n++){var r=e[n].list();for(var o in r)r[o].$constructor()!==Plugins&&t.push(o)}this.each=function(e){for(var n=0;n<t.length;n++)e(t[n]);return this},this.list=function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}}return Core.inject("Container",[Core.inject("Injection",[Plugins])])}var e={},t={},n={},r={};plugin["class"]=function(e,t,n){if("string"==typeof e){if("string"!=typeof t)throw new Error("Unable to create plugin. Invalid arguments.");if("object"==typeof n&&n.constructor===Array){for(var o=null,i=0;i<n.length;i++)if("function"==typeof n[i])o=n[i].name;else if("string"!=typeof n[i])throw new Error("Unable to create plugin class. Invalid constructor arguments");if(!o)throw new Error("Unable to create plugin. Constructor is not a named function");r[e]||(r[e]={}),r[e][t]||(r[e][t]={}),r[e][t][o]&&console.warn("Plugin class duplicated. ["+o+"] has been overwritten"),r[e][t][o]=Core.inject("Injection",[n])}else{if("function"!=typeof n)throw new Error("Unable to register plugin class. Invalid arguments");n.name&&(r[e]||(r[e]={}),r[e][t]||(r[e][t]={}),r[e][t][n.name]&&console.warn("Plugin class duplicated. ["+n.name+"] has been overwritten"),r[e][t][n.name]=Core.inject("Injection",[n]))}}},service["class"]=function(e,n){var r=null;if("string"!=typeof e)throw new Error("Unable to create class. Invalid arguments");if("function"==typeof n){if(!n.name)throw new Error("Unable to create class for extension ["+e+"]. Constructor is not a named function");t[e]||(t[e]={}),t[e][n.name]=Core.inject("Injection",[n])}else if("object"==typeof n&&n.constructor===Array){for(var o=0;o<n.length;o++)if("function"==typeof n[o])r=n[o].name;else if("string"!=typeof n[o])throw new Error("Unable to create class for service["+e+"]. Invalid config.");r&&(t[e]||(t[e]={}),t[e][r]&&console.warn("Duplicate declaration. Class ["+r+"] for extension ["+e+"] has been overwritten"),t[e][r]=Core.inject("Injection",[n]))}},Core.define("service",service),Core.define("plugin",plugin),this.getApplicationServices=function(o,i,a){var s,u,c={},l={},f={},h={};for(var p in e)if(e.hasOwnProperty(p)){s=Core.inject("Container",[e[p]]);var v=[];if(n[p])for(var d in n[p])if(n[p].hasOwnProperty(d)){if(u=Core.inject("Container",[n[p][d]]),f[p]||(f[p]={}),f[p][d]=u,r[p][d]){var g=Core.inject("Container",[r[p][d]]);h[p]||(h[p]={}),h[p][d]=g,u.source(g,"$"),g.source(g,"$"),g.source(i,"."),g.source(o,"+")}u.source(a,"@"),u.source(i,"."),u.source(o,"+"),v.push(u)}if(v.push(getPluginManager(v)),s.source(v,"<"),s.source(i,"."),s.source(o,"+"),s.source(a,"@"),t[p]){var y=Core.inject("Container",[t[p]]);s.source(y,"$"),y.source(y,"$"),y.source(i,"."),y.source(v,"<"),y.source(o,"+"),y.source(a,"@"),l[p]=y}else l[p]=null;c[p]=s}for(var b in c)if(c.hasOwnProperty(b)){var m=[];for(var w in c)c.hasOwnProperty(w)&&b!==w&&m.push(c[w]);if(c[b].source(m,!1),l[b]&&l[b].source(m,!1),f[b])for(var C in f[b])f[b].hasOwnProperty(C)&&f[b][C].source(m,!1);if(h[b])for(var x in h[b])h[b].hasOwnProperty(x)&&h[b][x].source(m,!1)}var A=[];for(var j in c)c.hasOwnProperty(j)&&A.push(c[j]);return o.source(A,!1),A}}),Core(function Source(e,t,n){function stripPrefix(t){if(e){for(var n="",o=0;o<t.length;o++)o>=r.length&&(n+=t[o]);return n}return t}var r=!!e&&e,o=[],i={},a={};if("object"==typeof t)if(Core.is(t,"Container"))o=[t];else{if(t.constructor!==Array)throw new Error("Invalid type if container!");for(var s=!0,u=0;u<t.length;u++){if(!Core.is(t[u],"Container")){s=!1;break}o.push(t[u])}if(0===t.length&&(s=!1),!s)throw new Error("Container array is empty!")}this.check=function(t){if(a[t])return a[t];var n=!0;if(e)for(var r=0;r<e.length;r++)t[r]&&t[r]===e[r]||(n=!1);return a[t]=n,n},this.has=function(e){var t=!1;if(i[e])return!0;if(this.check(e))for(var n=0;n<o.length;n++){var r=stripPrefix(e);if(o[n].has(r)){t=!0,i[e]=o[n];break}}return t},this.loop=function(){return n},this.containers=function(){return o},this.source=function(){for(var e=0;e<o.length;e++)o[e].source.apply(o[e],arguments)},this.prefix=function(e){return void 0!==e?e===r:r},this.resolve=function(e,t){var n=null;if(this.has(e)){var r=null,a=stripPrefix(e);i[e]&&(r=i[e]);for(var s=0;s<o.length;s++)o[s].has(a)&&(r=o[s]);r&&(n=r.resolve(a,t))}return n},this.resolveInjectionDependancies=function(e){var t=null,n=null;if(i[e])return n=stripPrefix(e),i[e].resolve(n,"extend");if(this.has(e)){n=stripPrefix(e);for(var r=0;r<o.length;r++)o[r].has(n)&&(t=o[r],i[e]=o[r]);if(t)return t.resolve(n,"extend")}}}),Core(function Ticker(){function resolve(e,t){var n=[];if("object"==typeof t&&t.constructor===Array?n=t:void 0!==t&&n.push(t),"string"!=typeof e||!e.length)throw new Error("Unable to resolve event. Event parameter is not a string or empty");if(!s[e])throw new Error("Unable to resolve event ["+e+"]. No such event.");for(var r=0;r<s[e].length;r++)s[e][r].apply(u,n)}var e=(1e3/58.8).toFixed(2),t=[],n=0,r=[null,0],o=function(){for(var e=0;e<t.length;e++)try{t[e].f.apply(u,r)}catch(o){throw new Error("Error emerged while resolving callbacks.\nQueue   : ["+t[e].o+"]\nOrder   : ["+e+"]\nName    : ["+t[e].f.name+"].\nMessage : "+o.message)}n++},i=function(){r[0]=new Date,r[1]=n;try{o()}catch(e){throw clearInterval(a),resolve("error",e),new Error("Unable to run ticker anymore. Error emerged during sources ticker progress.\n Frame :"+n+"\nDate  : "+r[0]+"\n"+e.message)}},a=null,s={stop:[],start:[],error:[]},u=this;this.on=function(e,t){if("string"!=typeof e||!e.length)throw new Error("Unable to set event. Event argument is not a string or empty.");if(!s[e])throw new Error("Unable to set event ["+e+"] handler. No such event.");if("function"!=typeof t)throw new Error("Unable to set event ["+e+"]. Callback is not a function.");return s[e].push(t),this},this.stop=function(){return a&&(n=0,clearInterval(a),a=null,resolve("stop",this)),this},this.start=function(){return a||(a=setInterval(i,e),resolve("start",this)),this},this.fps=function(t){return"number"!=typeof t?(1e3/e).toFixed(2):(t>60&&(t=60),t<=0&&(t=1),e=(1e3/t).toFixed(2),a&&(this.stop(),this.start()),this)},this.queue=function(e,n){if("function"==typeof e){if(!e.name)throw new Error("Unable to set callback. Callback is not a named function.");t.push({o:0,f:n})}else{if("number"!=typeof e)throw new Error("Unable to create callback. Wrong arguments passed");if("function"!=typeof n)throw new Error("Unable to queue. callback is not a function");if(!n.name)throw new Error("Unable to set callback. Callback is not a named function.");t.push({o:e,f:n})}return t.sort(function(e,t){return e.o>t.o}),this}}),$R.plugin("Objects",["@inject","Debug",function Animation(e,t){function findCompetitor(e,t){t.$$SELF=!0;for(var r=null,o=0;o<n.length;o++)if(!n[o].$$SELF&&n[o].active()&&!n[o].done()){for(var i=!1,a=0;a<e.length;a++)if(n[o].hasProperty(e[a])){i=!0;break}i&&(r||(r=[]),r.push(n[o]))}return delete t.$$SELF,r}function CheckAnimationQueue(){for(var e=[],t=0;t<n.length;t++)if(n[t].active())n[t].done()||e.push(n[t]);else{var r=n[t].properties();if(n[t].queue())findCompetitor(r,n[t])||n[t].start();else{var o=findCompetitor(r,n[t]);if(o)for(var i=0;i<o.length;i++)for(var a=0;a<r.length;a++)o[i].stop(r[a]);n[t].start()}e.push(n[t])}n=e}function CreateAnimationType1(t,r,i,a){var s=this.extension("Style"),u={};if(u[t]=r,o[t]){var c=[{ordering:s.ordering(t),morph:o[t],value:r}],l={};i&&"number"==typeof i&&(l.duration=i),a&&"string"==typeof a&&(l.easing=a);var f=e("$Animation");f.config(this,c,l,CheckAnimationQueue),n.push(f)}}function CreateAnimationType2(r,i,a){var s=this.extension("Style"),u={};"object"==typeof i?u=i:"number"==typeof i?(u={duration:i},"string"==typeof a&&(u.easing=a)):"string"==typeof i&&(u={easing:i});var c={};for(var l in r)r.hasOwnProperty(l)&&(o[l]?c[l]={ordering:s.ordering(l),morph:o[l],value:r[l]}:t.warn({type:this.type(),property:l},"Property {property} of {type} can not be animated!"));var f=[];for(var h in c)f.push(c[h]);if(f.sort(function(e,t){return e.ordering-t.ordering}),f.length){var p=e("$Animation");p.config(this,f,u,CheckAnimationQueue),n.push(p)}else t.warn("No properties to animate!")}var n=[],r=!1,o={};this.morph=function(t,n,r,i){var a=e("$Morph");a.config(t,this.object(),n,r,i),a.valid()&&(o[t]=a)},this.extractMorph=function(e){return o[e]},this.register("animate",function(e,n,r,o){return"string"==typeof e&&n?CreateAnimationType1.apply(this,arguments):"object"==typeof e&&e.constructor!==Array?CreateAnimationType2.apply(this,arguments):t.warn("Unable to create animation. Wrong arguments"),CheckAnimationQueue(),this}),this.register("animated",function(){return r}),this.register("stop",function(e){for(var t=0;t<n.length;t++)n[t].stop(e);return this}),this.destroy(function(){for(;n[0];)n[0].stop(),n.unshift();n=void 0,r=void 0;for(var e in o)o.hasOwnProperty(e)&&delete o[e]})}]),$R.plugin("Objects",["Debug","@inject",function Box(e,t){function BoxWrapperFunc(){if(n&&o)return n.call(o,r),r}var n=null,r=t("$Box");this.f=function(t){return"function"!=typeof t?void e.error("Box Extension / Box function is not a function!"):(n=t,void delete this.f)};var o=this.object();this.box=function(){return o.extension("Cache").value("box",BoxWrapperFunc)},this.purge=function(){o.extension("Cache").purge("box");var e=o.parent();e&&e.extension("Box").purge()},this.register("box",function(){return this.extension("Cache").value("box",BoxWrapperFunc).get()}),this.register("width",function(){return this.extension("Cache").value("box",BoxWrapperFunc).get().size[0]}),this.register("height",function(){return this.extension("Cache").value("box",BoxWrapperFunc).get().size[1]}),this.register("left",function(){return this.extension("Cache").value("box",BoxWrapperFunc).get().position[0]}),this.register("top",function(){return this.extension("Cache").value("box",BoxWrapperFunc).get().position[1]}),this.destroy(function(){n=void 0,r=void 0})}]),$R.plugin("Objects",["Debug",function Cache(e){var t={};this.value=function(n,r){return"string"!=typeof n?void e.error("Object Value Cache / name is not a string!"):"function"!=typeof r?void e.error("Object Value Cache / func is not a function"):(t[n]||(t[n]={value:r(),func:r,relevant:!0}),this.get(n))},this.purge=function(n){return"string"!=typeof n?void e.error("Object Value Cache / Can not purge cache of non string name"):void(t[n]&&(t[n].relevant=!1))},this.get=function(n){return"string"!=typeof n?void e.error("Object Value Cache / Can not get value of non-string name"):t[n]?(t[n].relevant||(t[n].value=t[n].func(),t[n].relevant=!0),t[n].value):void 0},this.destroy=function(){var e;for(e in t)t.hasOwnProperty(e)&&delete t[e]}}]),$R.plugin("Objects",["Debug",function Drawer(e){function renderAllowed(e){if(i.length>0){for(d=0;d<i.length&&(a=i[d].apply(r,e),a!==!1);d++);return a}return!0}var t=null,n=null,r=this.object(),o=0,i=[],a=!0,s=null,u=[],c=0,l=!1,f={},h={},p=0,v=0;this.spriteUpdated=function(t){this.$$CALL?l=!0:"function"==typeof t?u.push(t):e.error({cb:typeof t},"Sprite update callback {cb} is not a function.",this)};var d=0;this.drawFunction=function(n){return"function"!=typeof n?(e.error({},"ObjectDrawer / func is not a function!"),void delete this.drawFunction):(t=n,void delete this.drawFunction)},this.updateFunction=function(t){return"function"!=typeof t?(e.error({},"ObjectDrawer / func is not a function!"),void delete this.updateFunction):(n=t,void delete this.updateFunction)},this["export"]=function(){if(null===s)return s=arguments[0],this["export"]=function(){if(l){for(c=0;c<u.length;c++)u[c].call(r);l=!1}return"function"==typeof s?s():s},delete this.exports,this},this.filter=function(t){"function"==typeof t?i.push(t):e.error({tfunc:typeof t},"Drawer Filter callback {tfunc} is not a function",this)},this.pipe=function(t,n){return n=void 0===n?0:n,"number"==typeof n?"function"==typeof t?(n>100?(h[n]||(h[n]=[]),h[n].push(t),v++):(f[n]||(f[n]=[]),f[n].push(t),p++),o++):e.error({ftype:typeof t},"Pipe callback {ftype} is not a function",this):e.error({order:n},"Invalid pipe function ordering {order}",this),r},this.unpipe=function(e){if("function"==typeof e){var t;for(t in f)f.hasOwnProperty(t)&&(f[t]=f[t].filter(function(t){return t!==e||(o--,
p--,!1)}));for(t in h)h.hasOwnProperty(t)&&(h[t]=h[t].filter(function(t){return t!==e||(o--,v--,!1)}))}return r},this.register("pipe",this.pipe),this.register("unpipe",this.unpipe);var g=0,y=0,b=null,m=null,w=null,C=[null,null,null];this.draw=function(){if(l){for(c=0;c<u.length;c++)u[c].call(r);l=!1}if(a=!0,renderAllowed(arguments)){if(C[0]=arguments[0],C[1]=arguments[1],C[2]=arguments[2],b=C[0],b.save(),n&&n.apply(this,C),p)for(y in f){if(f.hasOwnProperty(y))for(g=0;g<f[y].length&&(C[0].save(),w=f[y][g].apply(this,C),C[0].restore(),m=!!w&&w,C[0]=m,m);g++);if(!m)break}if(C[0]&&(C[0]===b?(C[0].globalCompositeOperation=r.extension("Style").get("blending"),C[0].globalAlpha*=r.extension("Style").get("opacity"),t&&t.apply(this,C)):(b.globalCompositeOperation=r.extension("Style").get("blending"),b.globalAlpha*=r.extension("Style").get("opacity"),t&&t.apply(this,C),b.drawImage(C[0].canvas,0,0,C[0].canvas.width,C[0].canvas.height),C[0]=b),v))for(y in h){if(h.hasOwnProperty(y))for(g=0;g<h[y].length&&(C[0].save(),w=h[y][g].apply(this,C),C[0].restore(),m=!!w&&w,C[0]=m,m);g++);if(!m)break}b.restore()}},this.destroy(function(){t=void 0,n=void 0,r=void 0,o=void 0,i=[],a=void 0,s=void 0,u=[],c=void 0,l=void 0,f={},h={},p=void 0,v=void 0,g=void 0,y=void 0,b=void 0,m=void 0,w=void 0,C=[null,null,null],d=void 0;for(var e;i[0];)i.shift();for(i=void 0;u[0];)u.shift();for(u=void 0;C[0];)C.shift();C=void 0;for(e in f)if(f.hasOwnProperty(e)){for(;f[e][0];)f[e].unshift();delete f[e]}for(e in h)if(h.hasOwnProperty(e)){for(;h[e][0];)h[e].unshift();delete h[e]}f=void 0,h=void 0})}]),$R.plugin("Objects",["Debug",function Layers(e){function removeObjectFromLayers(e){var n=!1;for(var r in t)if(t.hasOwnProperty(r)){n=!1;for(var o=0;o<t[r].length;o++)if(t[r][o]===e){n=!0,t[r].splice(o,1);break}if(n)break}}var t={0:[]},n=0;this.register("layer",function(t){if(void 0===t)return n;if("number"!=typeof t||t<0)return e.warn({n:t},"Value {n} is not a number or less than 0",this),this;if(this.parent()){var r=this.parent().extension("Layers");r.place(t,this)}return n=t,this}),this.place=function(e,n){removeObjectFromLayers(n),t[e]||(t[e]=[]),t[e].push(n)},this.remove=function(e){removeObjectFromLayers(e)},this.forEach=function(e){var n=0,r=null;for(r in t)for(n=0;n<t[r].length;n++)e.call(t[r][n],t[r][n])},this.layers=function(){return t},this.destroy(function(){var e;n=void 0;for(e in t)if(t.hasOwnProperty(e)){for(;t[e][0];)t[e][0].destroy(),t[e].shift();delete t[e]}})}]),$R.plugin("Objects",["Debug",function Matrix(e){function MatrixWrapper(){return t.call(n)}var t=null,n=this.object();this.f=function(e){"function"==typeof e&&(t=e,delete this.f)},this.register("matrix",function(){return this.extension("Cache").value("transformMatrix",MatrixWrapper)}),this.purge=function(){if(n.extension("Cache").purge("transformMatrix"),"Group"===n.type()){var e=n.extension("Layers");e.forEach(function(){this.extension("Cache").purge("transformMatrix")})}},this.destroy(function(){t=void 0,n=void 0})}]),$R.plugin("Objects",["+Mouse","Debug",function Mouse(e,t){var n=this,r=!1,o=function(){return!1};this.object().events.register("dragmove dragstart dragend mousemove mouseup mousedown mouseenter mouseleave"),this.register("mouseCheckFunction",function(n){return"string"==typeof n?(e[n+"CheckFunction"]&&(o=e[n+"UserCheckFunction"]),this):"function"!=typeof n?(t.warn({f:n},"Unable to set check function! {[f]} is not a function!",this),this):(o=n,this)}),this.register("disable",function(){return r=!0,this}),this.register("enable",function(){return r=!1,this}),this.register("disabled",function(){return r}),this.check=function(e,t){return!r&&o.call(e,[t[0],t[1]])};var i=null;this.cursorTransformFunction=function(e){"function"==typeof e&&(i=e)},this.applyCursorTransform=function(e){return i?i.call(this,e):e},this.hasEvent=function(e){return n.object().events.hasEvent(e)},this.propagate=function(e,t){var n=e.parent();if(n){var r=n.extension("Mouse");if(r.hasEvent(t.type())){var o=t.type(),i=t.originalTarget.call({$$MOUSEPROPAGATIONSETTER:n});r.resolve(n,o,i)}}},this.resolve=function(e,t,o,i){r&&!i||n.object().events.resolve(t,o,e)},this.destroy(function(){n=null,o=null})}]),$R.plugin("Objects",["@Canvas","+Drawer",function Offset(e,t){var n=[[0,0],[0,0],[0,0],[0,0]],r=e.size(),o=null,i=!1;this.register("beyond",function(t){i=!0,r=e.size(),o=this.extension("Box").box().get(),n[0]=this.matrix().trackLocalPoint([o.position[0],o.position[1]],!0),n[1]=this.matrix().trackLocalPoint([o.size[0]+o.position[0],o.position[1]],!0),n[2]=this.matrix().trackLocalPoint([o.size[0]+o.position[0],o.size[1]+o.position[1]],!0),n[3]=this.matrix().trackLocalPoint([o.position[0],o.size[1]+o.position[1]],!0);var a=Math.min(n[0][0],n[1][0],n[2][0],n[3][0]),s=Math.max(n[0][0],n[1][0],n[2][0],n[3][0]),u=Math.max(n[0][1],n[1][1],n[2][1],n[3][1]),c=Math.min(n[0][1],n[1][1],n[2][1],n[3][1]),l=s-a,f=u-c;return!(a>-l&&c>-f&&u<f+r[1]&&s<l+r[0])&&i}),this.destroy(function(){for(;n[0];){for(;n[0][0];)n[0].shift();n.shift()}for(n=void 0;r[0];)r.shift();r=void 0})}]),$R.plugin("Objects",["Debug",function Style(e){function GetSetterFunction(r,o){return function(a){var s=o.apply(this,[a,t[r].value]),u=t[r].value;if(s||"boolean"!=typeof s){var c=[u,s];t[r].value=s,n[r]||(n[r]=[]);for(var l=0;l<n[r].length;l++)n[r][l].apply(this,c)}else e.warn({n:r},"Unable to set property {n}. Invalid value!",i)}}function GetGetterFunction(e,n){return function(){return n.call(null,t[e].value)}}function StyleType1(t,n){var o=this;r[t]?r[t].apply(o,[n]):e.warn({property:t,type:o.type()},"Object type {type} has no property {property}",o)}function StyleType2(n){var o=this,i=[];for(var a in n)n.hasOwnProperty(a)&&r[a]&&(r[a]?i.push({ordering:t[a].ordering,property:a,setter:r[a]}):e.warn({property:a,type:o.type()},"Object type {type} has no style property {property}",o));if(i.length){i.sort(function(e,t){return e.ordering-t.ordering});for(var s=0;s<i.length;s++)i[s].setter.apply(o,[n[i[s].property]])}else e.warn({o:JSON.stringify(n),type:o.type()},"Object {type} has got no style properties to be applied in {o}",o)}function StyleType3(n){var r=this;return o[n]?o[n].apply(r,[t[n].value]):(e.warn({property:n,type:r.type()},"Object {type} has no property {property}",r),this)}var t={},n=[],r={},o={},i=this;this.register("style",function(t,n){if("string"==typeof t&&void 0!==n)StyleType1.apply(this,[t,n]);else if("object"==typeof t)StyleType2.apply(this,[t]);else{if("string"==typeof t&&void 0===n)return StyleType3.apply(this,[t]);e.error("Invalid .style() arguments",this)}return this}),this.register("watch",function(t,r){if("string"!=typeof t&&("object"!=typeof t||t.constructor!==Array))return void e.error("Property is not an array or string",this);if("function"!=typeof r)return void e.error({p:t},"Style change callback for property {p} is not a function",this);if(t.constructor===Array)for(var o=0;o<t.length;o++)"string"!=typeof t[o]?e.error({i:o,p:t[o]},"Property {i} is not a string {p}",this):(n[t[o]]&&"object"==typeof n[t[o]]&&n[t[o]].constructor===Array||(n[t[o]]=[]),n[t[o]].push(r));else"string"==typeof t?(n[t]&&n[t].constructor===Array||(n[t]=[]),n[t].push(r)):e.error({p:t},"Style property {p} is not an array or string",this)}),this.define=function(n,i,a,s,u){return t[i]?void e.error({name:i},"Duplicated Style Property {name}",this):"string"!=typeof i||0===i.length?void e.error({n:i},"Property {name} is not a string or empty"):"function"!=typeof u||"function"!=typeof s?void e.error({n:i},"Unable to define property {n}. Getter or setter is undefined"):("number"!=typeof n&&e.error({n:i},"Style property{n} application order in not a number"),t[i]={ordering:n,value:a},r[i]=GetSetterFunction(i,s),void(o[i]=GetGetterFunction(i,u)))},this.get=function(n){return t[n]?t[n].value:(e.warn({n:n},"Getting value of property {n} that does not exist"),!1)},this.ordering=function(n){return t[n]?t[n].ordering:(e.warn({n:n},"Getting ordering of property{n} that does not exist!"),!1)},this.destroy(function(){var e;i=void 0;for(e in t)t.hasOwnProperty(e)&&delete t[e];for(e in r)r.hasOwnProperty(e)&&delete r[e];for(e in o)o.hasOwnProperty(e)&&delete o[e];for(;n[0];)n.shift();n=void 0,r=void 0,o=void 0})}]),$R.plugin("Objects",["Debug","+Model","@inject",function Text(e,t,n,r){this.applyTo("Text");var o=this.object();if("Text"===o.type()){var a=[],s=/((\S+\s+)|(\S+$))/g,u=o.extension("Style"),c="",l=!1,f=[1/0,1/0],h=0,p=0;this.register("lines",function(){this.update();for(var e=[],t=0;t<a.length;t++)e.push(a[t].string())}),this.register("words",function(){this.update();for(var e=[],t=0;t<a.length;t++)for(var n=a[i].words(),r=0;r<n.length;r++)e.push(n.string());return e}),this.limits=function(e,t){f[0]=e,f[1]=t,l=!0},o.watch("str",function(e,t){t!==c&&(c=t)}),o.watch(["str","fontSize","lineHeight","color","weight","style"],function(){l=!0}),this.update=function(e){if(l||e){var t=c.match(s),r=0,o=0,i=u.get("size"),f=0;if(t){var v=u.get("systemFont"),d=u.get("fontSize"),g=u.get("lineHeight"),y=u.get("weight"),b=u.get("color"),m=u.get("style");a=[];for(var w=0;w<t.length;w++){var C=t[w].match(/\n/g),x=t[w].match(/\S+/g),A=n("$TextWordClass").string(x[0]);a[o]||(a[o]=n("$TextLineClass").font(v).size(d).height(g).color(b).style(m).weight(y)),a[o].push(A),r=a[o].width(),(r>=i[0]||C)&&o++,r>f&&(f=r+4)}p=a.length*u.get("lineHeight"),d>g?p+=d-g:d<g&&(p-=g-d),h=f,l=!1}}return this},this.textBlockHeight=function(){return this.update(),p},this.textBlockWidth=function(){return this.update(),h},this.forEachLine=function(e){this.update();for(var t=0;t<a.length;t++)e.apply(a[t],[t,a[t]])},this.destroy(function(){for(;a[0];)a.shift();for(a=void 0;f[0];)f.shift();f=void 0,o=void 0,c=void 0,h=void 0,p=void 0,s=void 0})}}]),$R.plugin("Objects",["Debug","Tree",function Tree(e,t){function normaliseIdentity(e){return e=e.replace(o,""),e=e.replace(i,function(e){return"-"+e.toUpperCase()}),e=e.replace("--","-"),e=e.replace(/(^-)|(-$)/g,"")}function checkTree(e,t){return e===t||!!e.parent()&&checkTree(e,e.parent())}function treeViolation(t,n){return t.type("Group")?!!checkTree(t,n)&&(t===n?t.parent()&&e.warn("You try to append group parent into itself."):e.warn("You try to append group parent into it's children."),!0):"Group"!==t.type()?(e.warn({target:t.type(),object:n.type()},"Yoy try to append [{object}] into [{target}]."),!0):void 0}var n=null,r=null,o=/[^a-zA-Z0-9-]+/gm,i=/[A-Z]/g,a=null;this.register("unmount",function(){return r?(this.parent()&&(this.events.resolve("unmount",this,this),this.parent().extension("Layers").remove(this),n=null),null):(e.warn("Unable to unmount a free object"),this)}),this.register("append",function(t){return r?(this.type("Group")?treeViolation(this,t)||(t.unmount(),a||(a=this.extension("Layers")),a.place(t.layer(),t),t.extension("Tree").parent(this),this.extension("Box").purge(),t.events.resolve("mount",t,t)):e.watch({type:this.type()}," Can not append. type[{type}] of parent is not allowed!"),this):(e.warn("Unable to append a free object"),this)}),this.register("appendTo",function(t){return r?(t.append(this),this):(e.warn("Unable to append a free object"),this)}),this.register("parent",function(){return n}),this.register("id",function(n){if(null===r)if("string"==typeof n){if(n=normaliseIdentity(n),n.length)return r=n,t.register(this),this;e.error("Normalised identity seems to be empty. Unable to register Graphics")}else{if(void 0===n)return r;e.error("Unable to set initial id. Id is not a string")}else if("string"==typeof n)n=normaliseIdentity(n),n.length?t.register(this,n):e.error("Normalised identity seems to be empty. Unable to register Graphics");else{if(void 0===n)return r;e.error("Id is not a string")}}),this.parent=function(t){return"function"==typeof t.type&&t.type("Group")||e.error({group:typeof t,type:t.type?t.type():"unknownType"},"Unable to set parent as {group}{type}. Object is not a group!",this),t?void(n=t):n},this.destroy(function(){t.unregister(this.object()),a=void 0})}]),$R.service(["@inject",function Api(e){this.control=function(t){var n=null;return"function"==typeof t.can&&t.can.$$APIPROTECTED&&(n=t.can.call({$$APIPROTECTED:!0})),n||(n=e("$ApiController"),n.wrap(t)),n}}]),$R.service["class"]("Api",["Debug","Is","Events",function ApiController(e,t,n){var r={},o=null,i=this;this.wrap=function(a){"undefined"!=typeof a.can&&e.error({target:a.constructor.name},"Target method collision. {target} already has .can field"),"undefined"!=typeof a["do"]&&e.error({target:a.constructor.name},"Target method collision. {target} already has .do field"),o=n.emitter(a),a.can=function(n){return this.$$APIPROTECTED?i:(t.properString(n)||e.error({t:a.constructor.name,n:typeof n},"{t}'s Api method {name} check failed. ActionName is not a string",this),!!r[n])},a.can.$$APIPROTECTED=!0,a.api=function(){var e=[];for(var t in r)e.push(r);return e},a["do"]=function(n,i){if(t.properString(n)||e.error({a:typeof n},"Invalid action parameter {a}. Action is not a string",this),a.can(n)){e.info({n:n},"Processing {n}",a),e.group(n);for(var s=0;s<r[n].length;s++)r[n][s].call(a,i);o&&o.resolve(n,i),e.groupEnd()}else e.warn({t:a.constructor.name,a:n},"{t} can not perform action {a}.",a)},this.define=function(n,i){t.properString(n)||e.error({n:typeof n},"Unable to define Api method {n}. Method name is not a string",this),a.can(n)?e.info({n:n},"Added api callback method for {n}",a):(r[n]=[],e.info({n:n},"Added API method {n}",a),o.register(n)),"function"==typeof i&&r[n].push(i)}}}]),$R.service(["@Canvas","@Config","Debug",function Canvas(Canvas,e,t){function compareOnResize(e){if("%"!==a&&"%"!==s)return i[0]=r,i[1]=o,Canvas.size(i[0],i[1]),!1;var t=p,n=v;Canvas.size(0,0),d&&clearTimeout(d),d=setTimeout(function(){var u=Canvas.element().parentNode,c=window.getComputedStyle(u,null);v=parseInt(c.getPropertyValue("height")),p=parseInt(c.getPropertyValue("width")),t!==p&&"%"===a&&t!==p&&(i[0]=Math.floor(p*(r/100))),n!==v&&"%"===s&&(i[1]=Math.floor(v*(o/100))),Canvas.size(i[0],i[1]),d=null,e()},200)}function GetCanvasOffset(e){var t=e?"offsetLeft":"offsetTop",n=0,r=Canvas.element();do isNaN(r[t])||(n+=r[t]);while(r=r.offsetParent);return n}function WindowResizeCallback(){l&&compareOnResize(function(){u[0]=GetCanvasOffset(0),u[1]=GetCanvasOffset(1);for(var e=0;e<n.length;e++)n[e](i[0],i[1]);ResolveCanvasEventArray("canvasresize",[new RCanvasResizeEvent])})}function CanvasSwitchCallback(){u[0]=GetCanvasOffset(0),u[1]=GetCanvasOffset(1),ResolveCanvasEventArray("canvasswitch",[new RCanvasSwitchEvent]),WindowResizeCallback()}function GetCanvasEventArray(e){return g[e]}function ResolveCanvasEventArray(e,n){if("object"!=typeof n||n.constructor!==Array)return void t.warn({e:e},"Canvas : unable to resolve event array [{e}]. Data is not an array!");var r=GetCanvasEventArray(e);if(!r)return void t.warn({e:e},"Unable to resolve event [{e}] no such event!");for(var o=0;o<r.length;o++)r[o].apply(f,n)}function GetMouseRelativePosition(e){return[e.pageX-u[0]-c[0],e.pageY-u[1]-c[1]]}function RCanvasMouse(e){this.page=[e.pageX,e.pageY],this.sceen=[e.pageX-c[0],e.pageY-c[1]],this.position=GetMouseRelativePosition(e)}function RCanvasMouseEvent(e){this.original=e,this.type=e.type,this.mouse=new RCanvasMouse(e),this.canvas=f}function RCanvasResizeEvent(){this.type="canvasresize",this.canvas=f,this.offset=[u[0],u[1]],this.size=[r,o],this.original=[r,o],this.units=[a,s],"%"===a&&(this.size[0]=p*(r/100)),"%"===s&&(this.size[1]=v*(o/100))}function RCanvasSwitchEvent(){this.type="canvasswitch",this.canvas=f,this.offset=[u[0],u[1]],this.size=[r,o],this.original=[r,o],this.units=[a,s],"%"===a&&(this.size[0]=p*(r/100)),"%"===s&&(this.size[1]=v*(o/100))}var n=[],r=0,o=0,i=[0,0],a="px",s="px",u=[0,0],c=[0,0],l=Canvas.element(),f=this,h=!1;e.define("size",[0,0],{isArray:!0,custom:function(e){if(!("string"!=typeof e[0]&&typeof e[0]!==Array||"string"!=typeof e[0]&&"number"!=typeof e[1]))return!0}}).watch(function(e){"number"==typeof e[0]?r=e[0]:"string"==typeof e[0]?e[0].match(/^[\d]+%$/)?(r=parseInt(e[0]),a="%"):(r=1e3,a="px",t.warn({width:e[0]},"{width} is not a valid value for canvas.size[0]. Width set as 1000px")):(r=1e3,t.warn({width:e[0]},"{width} is not a valid value for canvas.size[0]. Width set as 1000px")),"number"==typeof e[1]?o=e[1]:"string"==typeof e[1]&&e[1].match(/^[\d]+%$/)?(o=parseInt(e[1]),s="%"):(o=800,t.warn({height:e[1]},"{height} is not a valid value for canvas.size[1]. Width set as 800px")),WindowResizeCallback()});var p=0,v=0,d=null;this.resize=function(e){"function"==typeof e&&n.push(e)},this.offresize=function(e){"function"==typeof e&&n.filter(function(t){return t!==e})},this.width=function(){return"%"===a?p*(r/100):r},this.height=function(){return"%"===a?v*(o/100):o},this.hide=function(){h||(l&&(l.style.display="none"),h=!0)},this.show=function(){h&&(l&&(l.style.display=null),h=!1)};var g={mousemove:[],mousedown:[],mouseup:[],mouseleave:[],mouseenter:[],canvasresize:[],canvasswitch:[]};this.on=function(e,n){var r=GetCanvasEventArray(e);return r?("function"!=typeof n&&t.warn({f:e},"Canvas : Unable to set event handler [{f}]"),void r.push(n)):void t.warn({e:e},"Canvas : Unable to set event handler for event [{e}]")};var y={mousemove:function(e){ResolveCanvasEventArray("mousemove",[new RCanvasMouseEvent(e)])},mousedown:function(e){ResolveCanvasEventArray("mousedown",[new RCanvasMouseEvent(e)])},mouseup:function(e){ResolveCanvasEventArray("mouseup",[new RCanvasMouseEvent(e)])},mouseleave:function(e){ResolveCanvasEventArray("mouseleave",[new RCanvasMouseEvent(e)])},mouseenter:function(e){ResolveCanvasEventArray("mouseenter",[new RCanvasMouseEvent(e)])}};Canvas["switch"](function(){var e;if(l)for(e in y)y.hasOwnProperty(e)&&l.removeEventListener(e,y[e]);l=this.element(),h?l.style.display="none":l.style.display=null;for(e in y)y.hasOwnProperty(e)&&l.addEventListener(e,y[e]);CanvasSwitchCallback()}),window.addEventListener("scroll",function(){c[1]=window.pageXOffset||document.documentElement.scrollLeft,c[0]=window.pageYOffset||document.documentElement.scrollTop}),window.addEventListener("resize",WindowResizeCallback)}]),$R.service(["@Config",function Debug(e){function ResolveEvent(e,t){var n;"error"===e&&(n=s),"message"===e&&(n=u),"info"===e&&(n=c),"important"===e&&(n=l);for(var r=0;r<n.length;r++)n[r](t)}function GetMessage(e,o,i){o=o.toString();var a=o.match(n),s={};if(a)for(var u=0;u<a.length;u++){var c=a[u].match(r)[0];c&&(s[c]={replace:a[u],data:"["+(void 0===e[c]?"undefined":e[c].toString())+"]"})}for(var l in s)s.hasOwnProperty(l)&&(o=o.replace(s[l].replace,s[l].data));return i&&i.constructor&&i.constructor.name&&(o=" "+i.constructor.name+" │ "+o),o=t+o}var t="𝐑",n=/{[a-zA-Z]+}/g,r=/[a-zA-Z]+/g,o=e.define("warnings",!1,{isBool:!0},function(e){o=e}),i=e.define("debugLevel",0,{isNumber:!0},function(e){e<0&&(e=0),o=e}),a=0,s=[],u=[],c=[],l=[];this.on=function(e,t){"function"==typeof t&&("error"===e&&s.push(t),"message"===e&&u.push(t),"info"===e&&u.push(t),"important"===e&&u.push(t))},this.error=function(e,t,n){throw"string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("error",t),console.trace(),new Error(t)},this.warn=function(e,t,n){o.get()&&("string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("message",t),console.log("%c"+t,"border-left:4px solid rgb(178,137,75); padding :2px 6px; background: rgba(131,138,0,.1); color: rgb(178,137,75)"))},this.info=function(e,t,n){o.get()&&("string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("info",t),console.log("%c"+t,"border-left:2px solid rgb(149,202,0); padding :2px 6px; background: rgba(255,255,255,.1);"))},this.message=function(e,t,n){o.get()&&("string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("info",t),console.log("%c"+t,"padding: 1px 10px; border-left:2px solid #10949C; font-weight:bold; background: rgba(0,175,231,.1); color: #10949C"))};var f={},h=0;this.separator=function(e,t,n){o.get()&&("string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),h++,f[h]=t,ResolveEvent("info",t),console.log("%c"+t+" ⌛","padding: 4px 10px; border-left: 2px solid #10949C; background:rgba(16,148,156,0.1); color: #10949C"))},this.separatorEnd=function(){o.get()&&(f[h]&&(console.log("%c"+f[h]+" ✔","padding: 4px 10px; border-left: 2px solid #10949C; background:rgba(16,148,156,0.1); color: #10949C"),h--),0===h&&(f={}))},this.positive=function(e,t,n){o.get()&&("string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("info",t),console.log("%c"+t,"border-left: 2px solid rgb(149,202,0); background:rgba(149,202,0,.1); padding: 4px 10px; color:rgb(149,202,0)"))},this.negative=function(e,t,n){o.get()&&("string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("info",t),console.log("%c"+t,"border-left: 2px solid rgb(224,14,0); background:rgba(224,14,0,.1); padding: 4px 10px; color: rgb(224,14,0)"))},this.group=function(e){o.get()&&(a>=i.get()?console.groupCollapsed(e):console.group(e),a++)},this.groupEnd=function(){o.get()&&(a--,console.groupEnd())}}]),$R.service(["@Canvas","Canvas","@Ticker","$Finder",function Dispatcher(e,t,n,r){function DefaultREvent(e,t){var n=e,r=!0,o=t,i=t;this.type=function(){return n},this.date=new Date,this.stopPropagation=function(){r=!1},this.propagate=function(){return r},this.target=function(){return o},this.propagated=function(){o.$$PROPAGATIONSEARCH=!0;var e=i.$$PROPAGATIONSEARCH;return delete o.$$PROPAGATIONSEARCH,!!e&&e},this.originalTarget=function(){if(this.$$MOUSEPROPAGATIONSETTER){var e=getEventByType(n,o);return e.originalTarget.call({$$RESETTARGET:this.$$MOUSEPROPAGATIONSETTER}),e}return this.$$RESETTARGET&&(o=this.$$RESETTARGET),i}}function MouseEvent(e,t){DefaultREvent.apply(this,[e,t]),this.cursor=[a.current[0],a.current[1]],Object.freeze(this)}function DragEvent(e,t){DefaultREvent.apply(this,[e,t]),this.drag={start:[s.start[0],s.start[1]],current:[s.current[0],s.current[1]],delta:[s.delta[0],s.delta[1]]},Object.freeze(this)}function getEventByType(e,t){return"mousemove"===e||"mouseleave"===e||"mouseenter"===e||"mousedown"===e||"mouseup"===e?new MouseEvent(e,t):"dragstart"===e||"dragend"===e||"dragmove"===e?new DragEvent(e,t):void 0}function Dispatch(e,t){var n=t.extension("Mouse");n&&n.hasEvent(e)&&n.resolve(t,e,getEventByType(e,t))}function resolveEventByType(e){"mouseenter"!==e&&"dragstart"!==e&&"dragend"!==e&&"dragmove"!==e&&"mousemove"!==e&&"mouseup"!==e&&"mousedown"!==e||!o.current||Dispatch(e,o.current),"mouseleave"!==e&&"dragend"!==e||!o.previous||Dispatch(e,o.previous)}function resolveDragStart(){f=!0,s.start[0]=a.current[0],s.start[1]=a.current[1],resolveEventByType("dragstart")}function resolveDragEnd(){s.current[0]=a.current[0],s.current[1]=a.current[1],s.delta[0]=s.start[0]-s.current[0],s.delta[1]=s.start[1]-s.current[1],resolveEventByType("dragend"),f=!1}function DispatchEvents(){if(i.current!==i.old&&i.current&&resolveEventByType("mousedown"),i.current&&i.current!==i.old&&!f&&resolveDragStart(),a.old[0]!==a.current[0]||a.old[1]!==a.current[1]){if(o.current&&!o.previous&&resolveEventByType("mouseenter"),!o.current&&o.previous&&(resolveEventByType("mouseleave"),resolveDragEnd()),o.current&&o.previous){o.current.$$MOUSESEARCH=!0;var e=!1;o.previous.$$MOUSESEARCH||(e=!0),delete o.current.$$MOUSESEARCH,e&&(resolveDragEnd(),resolveEventByType("mouseleave"),resolveEventByType("mouseenter"),resolveDragStart())}i.current&&i.current===i.old&&f&&(s.current[0]=a.current[0],s.current[1]=a.current[1],s.delta[0]=s.start[0]-s.current[0],s.delta[1]=s.start[1]-s.current[1],resolveEventByType("dragmove")),i.current===i.old&&resolveEventByType("mousemove")}!i.current&&i.current!==i.old&&f&&resolveDragEnd(),i.current||i.current===i.old||(resolveEventByType("mouseup"),f=!1),o.previous=o.current,i.old=i.current,a.old[0]=a.current[0],a.old[1]=a.current[1]}function UpdateTargets(){o.previous=o.current,o.current=r.check(a.current)}function eventDispatcherTick(){if(h=!h){if(u)return;UpdateTargets(),DispatchEvents(),u=!0}}var o={current:null,previous:null},i={current:!1,previous:!1},a={old:[0,0],current:[0,0]},s={start:[0,0],current:[0,0],delta:[0,0]},u=!0,c=!1,l=!1,f=!1;t.on("mousedown",function(){c&&l&&(i.previous=i.current,i.current=!0,u=!1)}),t.on("mouseup",function(){c&&l&&(i.previous=i.current,i.current=!1,u=!1)}),t.on("mousemove",function(e){c&&l&&(a.current[0]=e.mouse.position[0],a.current[1]=e.mouse.position[1],u=!1)}),t.on("mouseleave",function(){l=!1}),t.on("mouseenter",function(){l=!0});var h=!1;e.queue(-1,eventDispatcherTick),n.on("start",function(){c=!0}),n.on("stop",function(){c=!1}),n.on("error",function(){c=!1})}]),$R.service(["@inject","Debug",function Events(e,t){this.emitter=function(n){return"object"==typeof n?"function"==typeof n.on&&n.on.$$EMITTERPROTECTED?n.on.call({$$EMITTERPROTECTEDCONTEXT:!0}):e("$EventEmitter").decorate(n):void t.error({type:typeof n},"Unable to create EventEmitter. Invalid target {type} for emitter.",this)},this.event=function(t,n,r){return e("$Event").init(t,n,r)}}]),$R.service(["@Ticker","Canvas","@inject","Debug",function Keyboard(e,t,n,r){function OnAppTick(){for(var e=0;e<u.length;e++)u[e]();u=[]}function getQueueFunc(e){return function(){var t=e.keyCode;if(o[t]&&o[t][e.type])for(var r=0;r<o[t][e.type].length;r++){var i=n("$KeyboardEvent").build(e);o[t][e.type][r].apply(i,[t,e.type])}}}var o={},i=!1,a=!0,s=!0,u=[];this.keydown=function(e,t){return this.on(e,"keydown",t)},this.keyup=function(e,t){return this.on(e,"keyup",t)},this.disable=function(){return a=!1,this},this.enable=function(){return a=!0,this},this.on=function(e,t,n){return"number"==typeof e&&"string"==typeof t?"keyup"===t||"keydown"===t?"function"==typeof n?(o[e]||(o[e]={}),o[t]||(o[e][t]=[]),o[e][t].push(n)):r.warn("Event callback is not a function"):r.warn({e:t},"No such type of event as [{e}]"):r.warn({c:e},"Wrong key code [{c}]"),this};var c=!1;t.on("mousedown",function(){c=!0}),window.addEventListener("mousedown",function(){s=!!c,c=!1}),window.addEventListener("keydown",function(e){i&&a&&s&&u.push(getQueueFunc(e))}),window.addEventListener("keyup",function(e){i&&a&&s&&u.push(getQueueFunc(e))}),e.queue(0,OnAppTick),e.on("start",function(){i=!0}),e.on("stop",function(){i=!1})}]),$R.service["class"]("Keyboard",[function KeyboardEvent(){var e=null,t=!1,n=!1,r=!1,o=!1,i=null;this.build=function(a){return e=a.keyCode,t=a.ctrlKey,n=a.altKey,r=a.shiftKey,o=a,i=a.type,delete this.build,this},this.type=function(e){return"string"==typeof e?i===e:i},this.code=function(){return e},this.shift=function(){return r},this.alt=function(){return n},this.ctrl=function(){return t},this.original=function(){return o}}]),$R.service(["@inject","+Easing","@Canvas","Debug",function Morphine(e,t,n,r){function check(e,n,o,i,a,s){if("number"!=typeof e||"number"!=typeof n)return r.error({},"Morphine / Unable to create. Start value is invalid"),!1;if("function"!=typeof o)return r.error({},"Morphine / Unable to create. End value is invalid"),!1;if("string"!=typeof i)return r.error({},"Morphine / Unable to create. Easing is not a string"),!1;if("number"!=typeof a||a<=0)return r.error({},"Morphine / Unable to create. Duration is less than 0 or not a number"),!1;var u=t.get(i);return u?u:(r.error({easing:i}," Morphine / Unable to create. No such easing {easing}"),!1)}var o=[];this.instance=function(t,n,o,i,a,s){i=check.apply(this,arguments);var u=e("$Morphine"),c=u.config(t,n,o,a,i,s);return c.morphine=u,c&&"function"==typeof c?c:(r.error({},"Unable to config morphine due to some config error."),null)},this.create=function(t,n,i,a,s,u){a=check.apply(this,arguments);var c=e("$Morphine"),l=c.config(t,n,i,s,a,u);return l&&"function"==typeof l?(l.$m=c,o.push(l),c):void r.error({},"Morphine / Unable to config morphine. Due to some error.")},n.queue(-2,function processMorphines(e,t){for(var t=t.getTime(),n=[],r=0;r<o.length;r++)o[r].$m.done()||(o[r](t),n.push(o[r]));o=n})}]),$R.service["class"]("Objects",["@extend","@inject","<Plugins",function Graphics(e,t,n){var r=null,o={};this.extension=function(e){return o[e]},this.type=function(e){return"string"==typeof e?r===e:r},this.define=function(i,a){if("string"==typeof i){delete this.define,r=i;var s=n.list();e(this,"$DefaultObjectType");for(var u=0;u<s.length;u++)o[s[u]]=t("$Plugin"),o[s[u]].defineObject(this),e(o[s[u]],"<"+s[u]),o[s[u]].matchType(r)?o[s[u]].wrap(this):delete o[s[u]];return a&&this.id(a),e(this,"$"+i+"ObjectModel"),e(this,"$DefaultObjectDrawer"),e(this,"$"+i+"ObjectDrawer"),e(this,"$"+i+"ObjectClass"),this}},this.destroy=function(){var e,t=this.events;this.unmount();for(e in o)o.hasOwnProperty(e)&&(o[e].destroy(),delete o[e]);for(e in this)this.hasOwnProperty(e)&&delete this[e];o=void 0,r=void 0,delete this.events,t.resolve("destroy",null,null)}}]),$R.service(["@inject","Tree","Debug",function Objects(e,t,n){function InjectByType(r,o){var i=o[0];if("string"==typeof i){if(i.length>0){var a=e("$Graphics").define(r,i);return t.root().append(a),o[1]&&a.style(o[1]),a}n.error({t:r},"Id is empty. Unable to create [t]")}else n.error({t:r},"Id is not a string. Unable to create [t]")}this.create=function(t){return e("$Graphics").define(t)},this.group=function(){return InjectByType("Group",arguments)},this.line=function(){return InjectByType("Line",arguments)},this.rect=function(){return InjectByType("Rectangle",arguments)},this.circle=function(){return InjectByType("Circle",arguments)},this.image=function(){return InjectByType("Image",arguments)},this.sprite=function(){return InjectByType("Sprite",arguments)},this.text=function(){return InjectByType("Text",arguments)},this.area=function(){return InjectByType("Area",arguments)},t.root(e("$Graphics").define("Group","root"))}]),$R.service(["@Canvas","@inject","Debug","@Config",function Resource(e,t,n,r){function getResourceByURL(e,t){"font"===e&&(t=t[0]);var n=null,r=i[e+"s"];if(!r)return n;for(var o=0;o<r.length;o++)if(r[o].url()===t){n=r[o];break}return n}function injectByType(e,n){var r=getResourceByURL(e,n);if(r)return r;var s=e,c=t("$"+e);return c.on("load",function(){a++,ResolveEvent("load",[this,a,o.length])}),c.on("error",function(){a++,ResolveEvent("error",[this,a,o.length])}),c.url(n),i[s+"s"].push(c),o.push(c),"auto"===u&&c.load(),ResolveEvent("add",[c,a,o.length]),c}function ResolveEvent(e,t){var n=c[e];if(n)for(var r=0;r<n.length;r++)n[r].apply(s,t)}function updateResources(e,t){for(var n=0;n<i.SpriteResources.length;n++)i.SpriteResources[n].ready()&&i.SpriteResources[n].loaded()&&i.SpriteResources[n].tick(t)}var o=[],i={ImageResources:[],SpriteResources:[],FontResources:[],AudioResources:[]},a=0,s=this,u="auto";r.define("loaderMode","auto",{isString:!0}).watch(function(e){u="manual"===e||"auto"===e?e:"auto"}),this.image=function(e){return injectByType("ImageResource",e)},this.sprite=function(e){return injectByType("SpriteResource",e)},this.audio=function(e){return injectByType("AudioResource",e)},this.font=function(e,t,n){return injectByType("font",[e,t,n])},this.load=function(){if("manual"===u)for(var e=0;e<o.length;e++)o[e].load()};var c={load:[],error:[],add:[]};this.on=function(e,t){if("string"==typeof e){var r=c[e];r?"function"==typeof t?r.push(t):n.warn({event:e},"Unable to set event [{event}] callback. func is not a function!"):n.warn({event:e},"Unable to set event [{event}]. No such event")}else n.warn("Unable to set event callback. Event name is not a string")},this.off=function(e,t){if("string"==typeof e){var r=c[e];if(r){if("function"==typeof t){var o=[];t.$$SEARCH=!0;for(var i=0;i<r.length;i++)r[i].$$SEARCH||o.push(r[i]);delete t.$$SEARCH,c[e]=o}}else n.warn({event:e},"Unable to unset callback for event [{event}]. No such event")}else n.warn("Unable to unset event. Event is not a string")},this.data=function(){return{total:o.length,loaded:a}},this.list=function(){return[].concat(i.ImageResources).concat(i.AudioResources).concat(i.FontResources).concat(i.SpriteResources)},e.queue(-2,updateResources)}]),$R.service(["@Audio","@inject","@Config","Debug",function Sound(e,t,n,r){n.define("filters",["Delay","Gain"],{isArray:!0});var o=t("$Audio").build("$$DESTINATION","destination"),i={},a=0,s=0,u={
$$DESTINATION:o};this.sample=function(e,n,o){if("string"==typeof e&&e.length>0){if(i[e])return i[e];"string"==typeof o&&0!==o.length||(o="UserSound["+a+"]"),a++;var s=t("$Audio").build(o,e);"string"==typeof n&&0!==n.length||(n="$$DESTINATION");var u=this.channel(n);return s.connect(u),i[s.url()]=s,s}r.warn({url:e},"[{url}] is not valid audio url or empty.")},this.channel=function(e){if("string"==typeof e&&e.length>0){if(u[e])return u[e];var n=t("$Audio").build(e);return n.connect(o),u[e]=n,s++,n}},this.channels=function(e){var t={},e=!!e;for(var n in u)u.hasOwnProperty(n)&&"$$DESTINATION"!==n&&(e?t[n.url()]=n[n]:t[n]=u[n]);return t},this.sounds=function(e){var t={},e=!!e;for(var n in i)i.hasOwnProperty(n)&&(e?t[n]=i[n]:t[i[n].name()]=i[n]);return t},this.destination=function(){return u.$$DESTINATION}}]),$R.service(["@inject","Debug",function States(e,t){this.container=function(n,r){if("object"==typeof n){if("function"==typeof n.is&&n.is.$$STATESPROTECTED===!0){var o=n.is.call({$STATESPROTECTEDCONTEXT:!0});return n.is.call({$STATESPROTECTEDHASEMITTERSET:!0},r),o}return e("$State").decorate(n,r)}t.error("States target is not an object",this)}}]),$R.service(["Debug","@Canvas","@Config",function Tree(e,t,n){function drawGraphicsTree(e,t,n){r&&o&&(a&&e.clearRect(0,0,e.canvas.offsetWidth,e.canvas.offsetHeight),o.draw.apply(r,arguments))}var r=null,o=null,i=null,a=n.define("clear",!1,{isBool:!0}).watch(function(e){a=e}),s={};this.register=function(t,n){if("Graphics"===t.constructor.name&&t.id&&"function"==typeof t.id)if("undefined"==typeof n){var r=t.id();"string"==typeof r&&r.length?s[r]?e.error({id:t.id()},"Unable to register Graphics [id]. Element already exists"):s[r]=t:e.error("Unable to register Graphics with no id")}else"string"===n?(s[t.id()]&&delete s[t.id()],s[n]=s[n]=t):e.error("Unable to set new id. new_id argument is not a valid string");else e.error({t:typeof t},"Unable to register [t]. Argument is not Graphics")},this.unregister=function(e){e.id()&&s[e.id()]&&delete s[e.id()]},this.get=function(e){return s[e]},this.root=function(t){if(r)return r;if(!t.type||"function"!=typeof t.type||"Group"!==t.type())return void e.error({object:t.constructor,type:"function"!=typeof t.type?t.type():"unknownType"},"Unable to set tree root as {object}{type}. Object is not a group.",this);r=t;var n=r.extension("Drawer");return n?n.draw&&"function"==typeof n.draw?(o=n,i=r.extension("Style"),r):void e.error({object:t.type()},"{object} incompatible drawer extension",this):void e.error({object:t.type()},"{object} has no drawer extension",this)},t.queue(0,drawGraphicsTree)}]),$R.plugin["class"]("Objects","Animation",["+Animation","Morphine",function Animation(e,t){function Resolve(e){if(e===p)for(var t=0;t<a.length;t++)c.hasOwnProperty(a[t].morph.property())&&c[a[t].morph.property()].apply(u,[n,a[t].result]);else if(e===v){i=!0;for(var r={},t=0;t<a.length;t++)r[a[t].morph.property()]=a[t].result;d.done(1,r),h()}}var n=0,r=null,o=null,i=!1,a=null,s=null,u=null,c=null,l=!1,f=!1,h=null,p="type",v="complete",d=null;this.target=function(){return u},this.queue=function(){return l},this.active=function(){return f},this.done=function(){return i},this.hasProperty=function(e){for(var t=0,n=0;n<a.length;n++)if(a[n].morph.property()==e){t=n+1;break}return t},this.properties=function(){for(var e=[],t=0;t<a.length;t++)e.push(a[t].morph.property());return e},this.stop=function(e){if(e){var t=this.hasProperty(e);t&&(t-=1,a.splice(t,1))}else a=[]},this.start=function(){if(!f){f=!0;for(var n=[],i=0;i<a.length;i++){var u=a[i].morph.get(a[i].value);void 0!==u&&u.start()!==!1&&u.end()!==!1&&n.push(a[i])}a=n;var c=e.getTickFunction();s=t.create(0,1,function(e,t){if(0===a.length)Resolve(v),s.stop();else{for(var n=0;n<a.length;n++)a[n].result=c(t,e,a[n].morph.start(),a[n].morph.end()),a[n].morph.apply(e,a[n].result);Resolve(p),1===e&&Resolve(v)}},o,r,0)}},this.config=function(t,n,i,s){e.normalizeConfig(i),r=i.duration,o=i.easing,c=i.step,l=i.queue,h=s,a=n,u=t,d=i}}]),$R.plugin["class"]("Objects","Animation",["Debug",function Morph(e){function SetStartValue(e){t=e}function SetEndValue(e){n=e}var t,n,r=null,o=null,i=null,a=null,s=!1,u=0;this.start=function(){return t},this.end=function(){return n},this.property=function(){return r},this.ordering=function(){return u},this.get=function(e){return o.apply(a,[SetStartValue,SetEndValue,e]),this},this.valid=function(){return s},this.apply=function(e,t){a.style(r,i.apply(a,[t,e]))},this.config=function(t,n,c,l,f){return"string"!=typeof t?void e.error({name:t},"Unable to config Morph. arg1 [{name}] is not a string!"):"object"!=typeof n?void e.error({name:t},"Unable to config Morph. arg3 is not an object!"):"function"!=typeof l?void e.error({name:t},"Unable to config Morph. arg4 is not a function!"):"number"!=typeof c?void e.error({name:t},"Unable to config Morph. arg2 is not a number!"):"function"!=typeof f?void e.error({name:t},"Unable to config Morph. arg5 is not a function!"):(r=t,o=l,i=f,u=c,a=n,void(s=!0))}}]),$R.plugin["class"]("Objects","Box",[function Box(){var e={size:[0,0],position:[0,0]},t={margin:[0,0,0,0],position:[0,0],size:[0,0]};this.get=function(){return{size:[e.size[0],e.size[1]],position:[e.position[0],e.position[1]]}},this.set=function(n,r,o,i,a,s,u,c){e.size[0]=o,e.size[1]=i,e.position[0]=n,e.position[1]=r,t.margin[0]=a,t.margin[1]=s,t.margin[2]=u,t.margin[3]=c,t.size[0]=c+o+s,t.size[1]=a+i+u,t.position[0]=n-c,t.position[1]=r-a},this.value=function(){return e},this.sprite=function(){return t}}]),$R.plugin["class"]("Objects","Text",["@extend","@inject","+Drawer",function TextLineClass(e,t,n){function getWidth(){if(s){r=0;for(var e=0;e<o.length;e++)r+=o[e].width();return s=!1,r}return r}e(this,"$TextElementClass");var r=0,o=[],i=t("$TextSpaceClass"),a=0,s=!1;this.width=function(){return n.measureText(getWidth)},this.length=function(){return a},this.words=function(e){if(e&&"object"==typeof e&&e.constructor===Array){for(var t=0;t<e.length;t++)o.push(e[t].size(this.size()).height(this.height()).style(this.style()).weight(this.weight()).color(this.color()).font(this.font()));a=o.length;for(var n=[],t=0;t<o.length;t++)n.push(o[t]);return this.propertyChanged("string",n),this}return s=!0,o},this.push=function(e){return o.length>0&&o.push(i),o.push(e.size(this.size()).height(this.height()).style(this.style()).weight(this.weight()).color(this.color()).font(this.font())),s=!0,this},this.string=function(){for(var e="",t=0;t<o.length;t++)e+=o[t].string();return e},this.onPropertyChange(function(e,t){"string"!==e&&i[e](t)})}]),$R.plugin["class"]("Objects","Text",["@extend","+Drawer",function TextSpaceClass(e,t){function getWidth(e){return e.font=r.extractFontString(),e.measureText(n).width}e(this,"$TextElementClass");var n=" ",r=this;this.string=function(){return n},this.width=function(e){return t.measureText(getWidth)}}]),$R.plugin["class"]("Objects","Text",["+Color",function TextElementClass(e){function resolve(e,t){for(var n=0;n<s.length;n++)s[n].apply(u,[e,t])}var t="rgba(0,0,0,1)",n="sans-serif",r=400,o=14,i=14,a="normal",s=[],u=this;this.size=function(e){return"number"==typeof e?(e<0&&(e=0),o=e,resolve("size",o),this):o},this.height=function(e){return"number"==typeof e?(e<0&&(e=0),i=e,resolve("height",i),this):i},this.weight=function(e){return"number"==typeof e?(e<100&&(e=100),e>900&&(e=900),e%100!==0&&(e-=e%100),r=e,resolve("weight",r),this):r},this.font=function(e){return"string"==typeof e&&e.length>0?(n=e,resolve("font",n),this):n},this.color=function(n){return"string"==typeof n?(e.colorToArray(n)&&(t=n,resolve("color",t)),this):t},this.style=function(e){return"normal"===e||"italic"===e||"oblique"===e?(a=e,resolve("style",a),this):a},this.extractFontString=function(){return a+" "+o+'px "'+n+"-"+r+'"'},this.onPropertyChange=function(e){"function"==typeof e&&s.push(e)},this.propertyChanged=function(e,t){resolve(e,t)}}]),$R.plugin["class"]("Objects","Text",["+Color","@extend","+Drawer",function TextWordClass(e,t,n){function getWidth(e){return e.font=o.extractFontString(),e.measureText(r).width}t(this,"$TextElementClass");var r="",o=this;this.string=function(e){return"string"==typeof e?(r=e,this.propertyChanged("string",e),this):r},this.width=function(){return n.measureText(getWidth)},this.draw=function(e,t,n){return"number"!=typeof t&&(t=0),"number"!=typeof n&&(n=0),e.save(),e.fillStyle=this.color(),e.font=this.extractFontString(),e.fillText(r,t,n),e.restore(),this}}]),$R.service["class"]("Dispatcher",["Tree","Debug",function Finder(e,t){function checkElement(e,t){if("Group"===e.type()){var n=e.extension("Mouse").check(e,t),r=e.extension("Layers"),o=!1;return r.forEach(function(){this.disabled()||("Group"===this.type()?(o=checkElement(this,t),o&&(n=o)):(o=this.extension("Mouse").check(this,t),o&&(n=o)))}),n}}this.check=function(n){var r=e.root();return r?"object"!=typeof n||n.constructor!==Array||2!==n.length||"number"!=typeof n[0]||"number"!=typeof n[1]?(t.warn({c:n},"{c} is not a valid cursor value.",this),null):checkElement(r,n):null}}]),$R.service["class"]("Events",["Debug",function Event(e){var t={type:void 0,props:{},target:null,event_time:new Date};this.init=function(n,r,o){if("string"==typeof n)if(t.type=n,"object"==typeof r){if(t.target=r,"object"==typeof o&&o.constructor===Array)for(var i=0;i<o.length;i++)"string"==typeof o[i].name&&o[i].name.length>0?this.hasOwnProperty(o[i].name)?e.error({type:n,name:o[i].name},"Duplicated method {name} for event {type}.",this):this[o[i].name]=o[i].bind(r):e.error({type:n},"Unable to create method for event object {type}. Method must be a named function.",this);"function"==typeof o&&("string"==typeof o.name&&o.name.length>0?this.hasOwnProperty(o[i].name)?e.error({type:n,name:o.name},"Duplicated method {name} for event {type}.",this):this[o.name]=o.bind(r):e.error({type:n},"Unable to create method for event object {type}. Method function must be a named function.",this))}else e.error({type:typeof r,val:r},"Invalid Event target {type}{val. Must be an object}",this);else e.error({type:typeof n,val:n},"Invalid type of event. {type}{val}. Must be string. ",this);delete this.init},this.time=function(){return t.event_time},this.target=function(){return t.target},this.type=function(){return t.type}}]),$R.service["class"]("Events",["Debug","@inject",function EventEmitter(e,t){function addCallback(t,r,o,i){if(n.hasOwnProperty(r))if("function"==typeof i)o?n[r].once.push(i):n[r].push(i);else if("object"==typeof i&&i.constructor===Array)for(var a=0;a<i.length;a++)addCallback(t,r,o,i[a]);else e.error({type:typeof i,event:r},"Callback is not a function. Unable to bind callback {type} to event {event}.",t);else e.error({event:r},"Event not found. Unable to bind callback[s] to event {event}.",t)}function removeCallback(t,r,o){if(n.hasOwnProperty(r))if("function"==typeof o){for(var i=[],a=0;a<n[r].length;a++)!n[r][a]===o&&i.push(n[r][a]);i.methods=n[r].methods,i.once=n[r].once,n[r]=i}else if("object"==typeof o&&o.constructor===Array)for(var s=0;s<o.length;s++)removeCallback(t,r,o[s]);else e.error({type:typeof o},"Callback is not a function. {tyoe} is not a function",t);else e.warn({event:r},"Event not found. Unable to unbind {event} callback. ",t)}function resolveEvent(r,o,i,a){if(n.hasOwnProperty(o)){"object"!=typeof i&&(i=r);var s=t("$Event");a=null!==a&&"object"==typeof a&&a.constructor===Array?a:[a],a.unshift(s),s.init(o,i,n[o].methods);for(var u=0;u<n[o].length;u++)n[o][u].apply(i,a);for(;n[o].once[0];)n[o].once[0].apply(i,a),n[o].once.shift()}else e.error({event:o},"Event {event} not found. Unable to resolve event",r)}var n={},r=/[A-Za-z-0-9]+/g,o=this;this.decorate=function(t){return"object"==typeof t?(t.on=function(n,i){if(this.$$EMITTERPROTECTEDCONTEXT)return o;if("string"==typeof n&&n.length>0){var a=n.match(r);if(a&&a.length)for(var s=0;s<a.length;s++)addCallback(t,a[s],!1,i);else e.error({events:n},"Invalid event name value. Unable to subscribe to event[s] {events}.",t)}},t.on.$$EMITTERPROTECTED=!0,t.once=function(n,o){if("string"==typeof n&&n.length>0){var i=n.match(r);if(i&&i.length)for(var a=0;a<i.length;a++)addCallback(t,i[a],!0,o);else e.error({events:n},"Invalid event name value. Unable to subscribe to event[s] {events}.",t)}},t.off=function(n,o){if("string"==typeof n&&n.length>0){var i=n.match(r);if(i&&i.length)for(var a=0;a<i.length;a++)removeCallback(t,i[a],o);else e.warn({event:n},"Unable to unbind callback[s] from event[s] {event}. Invalid event name",t)}},this.target=function(){return t},this.on=function(){t.on.apply(t,arguments)},this.once=function(){t.once.apply(t,arguments)},this.off=function(){t.off.apply(t,arguments)},this.proxy=function(e,t,n,r){this.on(t,function(){e.resolve(n,r)})},this.resolve=function(n,o,i){if("string"==typeof n&&n.length>0){var a=n.match(r);if(a&&a.length){i||(i=t);for(var s=0;s<a.length;s++)resolveEvent(t,a[s],i,o)}else e.error({event:n},"Unable to resolve event {event}. Invalid event name",t)}},this.register=function(o,i){if("string"==typeof o)for(var a=o.match(r),s=0;s<a.length;s++)if(n.hasOwnProperty(a[s]))e.error({event:a[s]},"Duplicate event name. Unable to create event {event}. Event already exists.",t);else if(n[a[s]]=[],n[a[s]].once=[],"function"==typeof i&&(n[a[s]].methods=[i]),"object"==typeof i&&i.constructor===Array){n[a[s]].methods=[];for(var u=0;u<i.length;u++)"function"==typeof i[u]&&n[a[s]].methods.push(i[u])}return this},this.hasEvent=function(e){return!!n[e]},this.clear=function(){for(var e in n)delete n[e]},delete this.decorate,this):void e.error({type:t},"Unable to decorate object {type}. Target is not an object.",this)}}]),$R.service["class"]("Morphine",[function Morphine(){function Tick(f){if(!l){if(c)return void(o=(new Date).getTime()-t*u);o||(o=(new Date).getTime()),u=(f-o)/t,u>1&&(u=1),1===u&&(n&&r>0?(r!==1/0&&r--,o=(new Date).getTime()):l=!0),i.apply(null,[u,e((f-o)/1e3,a,s-a,t/1e3),o])}}var e=null,t=1,n=!1,r=1,o=null,i=null,a=0,s=0;this.done=function(){return l},this.pause=function(){c=!0},this.paused=function(){return c},this.stop=function(){l=!0};var u=0,c=!1,l=!1;this.config=function(r,o,u,c,l,f){if(!("number"!=typeof r||"number"!=typeof o||"number"!=typeof c||c<0)&&"function"==typeof l&&"function"==typeof u)return"number"==typeof f&&(n=f),a=r,s=o,e=l,i=u,t=c>0?c:1,delete this.config,Tick}}]),$R.service["class"]("Objects",[function Canvas(){var e=document.createElement("canvas"),t=e.getContext("2d"),n=0,r=0;this.context=function(){return t},this.width=function(t){return"number"!=typeof t?n:(n=t,void e.setAttribute("width",n))},this.height=function(t){return"number"!=typeof t?r:(r=t,void e.setAttribute("height",r))},this["export"]=function(){return e},this.destroy=function(){e=void 0,t=void 0,n=void 0,r=void 0;for(var o in this)this.hasOwnProperty(o)&&delete this[o]}}]),$R.service["class"]("Objects",["@inject","Debug",function GraphicsAssembler(e,t){function SetSize(e,t){for(var r=0;r<o.length;r++)o[r].size(e,t);n.width(e),n.height(t),a=e,s=t}function compose(){if(!c){if(u){var e=u.box().sprite();e.size[0]===a&&e.size[1]===s||SetSize(e.size[0],e.size[1])}c=!0}if(!l){r.clearRect(0,0,a,s);for(var t=0;t<o.length;t++)o[t].draw(r);l=!0}return n["export"]()}var n=e("$Canvas"),r=n.context(),o=[],i={},a=0,s=0,u=null,c=!1,l=!1;this.layer=function(n,r,a){return"number"!=typeof n?void t.warn({o:n},"Invalid order argument [{o}] is not a number."):"string"!=typeof r?void t.warn({n:r},"[{n}] is not valid name for layer"):"function"!=typeof a?void t.warn("updateFunc is not a function!"):(i[r]=e("$GraphicsAssemblerLayer"),i[r].f(a),i[r].ordering(n),i[r].update(),o.push(i[r]),o.sort(function(e,t){return e.ordering()-t.ordering()}),void(l=!1))},this.ready=function(){return l},this.box=function(e){u=e},this.size=function(e,t){e===a&&t===s||(SetSize(e,t),l=!1)},this.width=function(){return a},this.height=function(){return s},this.resize=function(){c=!1,l=!1},this.update=function(e){l=!1,i[e].update()},this.destroy=function(){n=n.destroy(),r=void 0,u=void 0,c=void 0,l=void 0;for(var e;o[0];)o[0].destroy(),o.shift();for(e in i)i.hasOwnProperty(e)&&delete i[e];i=void 0,o=void 0,a=void 0,s=void 0;for(e in this)this.hasOwnProperty(e)&&delete this[e]},this["export"]=compose}]),$R.service["class"]("Objects",["@inject","Debug",function GraphicsAssemblerLayer(e,t){function updateCanvas(e){s||(r.clearRect(0,0,o,i),r.save(),a&&a(r),s=!0,r.restore()),e.drawImage(n["export"](),0,0)}var n=e("$Canvas"),r=n.context(),o=0,i=0,a=null,s=!1,u=0;this.f=function(e){"function"==typeof e?(a=e,delete this.f):t.warn({f:e},"[{f}] is not a function")},this.size=function(e,t){o===e&&t===t||(n.width(e),n.height(t),o=e,i=t,s=!1)},this.ordering=function(e){return e&&"number"==typeof e&&(u=e),u},this.update=function(){s=!1},this.draw=updateCanvas,this.destroy=function(){n=n.destroy(),r=void 0,o=void 0,i=void 0,a=void 0,s=!1,u=void 0;for(var e in this)this.hasOwnProperty(e)&&delete this[e]}}]),$R.service["class"]("Objects",function Plugin(){var e={},t={},n=null,r=[],o=[];this.defineObject=function(e){n=e,delete this.defineObject},this.object=function(){return n},this.matchType=function(e){if(0===r.length)return!0;for(var t=!1,n=0;n<r.length;n++)if(r[n]===e){t=!0;break}return this.applyTo&&(delete this.applyTo,delete this.matchType),t},this.applyTo=function(e){if("string"==typeof e)r.push(e);else if("object"==typeof e&&e.constructor===Array)for(var t=0;t<e.length;t++)"string"==typeof e[t]&&r.push(e[t]);delete this.applyTo},this.register=function(n,r,o){e[n]||(e[n]=r),o&&(t[n]=!0)},this.wrap=function(t){for(var n in e)e.hasOwnProperty(n)&&!t[n]&&(t[n]=e[n]);delete this.wrap,delete this.register,delete this.clear},this.hasProperty=function(t){var n=!1;for(var r in e)if(e.hasOwnProperty(r)&&t===r){n=!0;break}return n},this.clear=function(e){for(var n in t)t.hasOwnProperty(n)&&delete e[n]},this.destroy=function(r){var i;if("function"==typeof r)return o.push(r),this;for(;o[0];)o[0].call(this),o.shift();o=void 0;for(i in e)n&&delete n[i],delete e[i];for(i in this)this.hasOwnProperty(i)&&delete this[i];e=void 0,t=void 0}}),$R.service["class"]("Objects",[function AreaObjectClass(){}]),$R.service["class"]("Objects",["+Mouse",function CircleObjectClass(e){this.mouseCheckFunction(e.circleCheckFunction)}]),$R.service["class"]("Objects",["Events",function DefaultObjectType(e){this.events=e.emitter(this),this.events.register("unmount mount destroy")}]),$R.service["class"]("Objects",function GroupObjectClass(){}),$R.service["class"]("Objects",["+Mouse",function ImageObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction)}]),$R.service["class"]("Objects",function LineObjectClass(){}),$R.service["class"]("Objects",["+Mouse",function RectangleObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction);var t=this.extension("Mouse");t.cursorTransformFunction(e.rectCursorTransformFunction)}]),$R.service["class"]("Objects",["+Mouse",function SpriteObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction)}]),$R.service["class"]("Objects",["+Mouse",function TextObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction)}]),$R.service["class"]("Resource",["@extend","Debug",function AudioResource(e,t){function createAudio(){var e=new XMLHttpRequest;e.open("GET",o,!0),e.responseType="arraybuffer",e.onload=function(e){r(1),i=this.response,n("load",[i])},e.onerror=function(){r(2),n("error",[]),t.error({url:o},"Unable to load audio {url}.")},this.on("get",function(){e.send()})}e(this,"$Resource"),this.type="Audio";var n=null,r=null,o=null,i=null;this.on("init",function(e,t,i){n=t,r=i,o=e,createAudio.call(this)}),this["export"]=function(){return i}}]),$R.service["class"]("Resource",["@extend","Debug","@Config","@Fonts",function FontResource(e,t,n,r){function getFont(){r.font(s,a,u,c),document.getElementsByTagName("body")[0].appendChild(f),l=!0;var e=1e3,n=0,p=[f.offsetWidth,f.offsetHeight];f.style.fontFamily='"'+r.format(a)+"-"+u+'", sans-serif',h=setInterval(function(){f.offsetWidth===p[0]&&f.offsetHeight===p[1]||(document.getElementsByTagName("body")[0].removeChild(f),l=!1,clearInterval(h),o(1),i("load",[])),n++,n>e&&(o(2),i("error",[]),t.warn({font:a+"-"+u},"Unable to load font {font}. Font pending timed out..."),document.getElementsByTagName("body")[0].removeChild(f),l=!1,clearInterval(h))},50)}e(this,"$Resource"),this.type="Font";var o=null,i=null,a=null,s=n.watch("fontDir",function(e){s=e,l&&document.getElementsByTagName("body")[0].removeChild(f),h&&window.clearInterval(h),getFont()}),u=(r.formats(),null),c=null,l=!1,f=document.createElement("div");f.setAttribute("class","reflect-font-loader-element"),f.style.fontFamily="sans-serif",f.style.fontSize="12px",f.style.lineHeight="12px",f.style.position="absolute",f.style.left="-9999px",f.style.top="-9999px",f.innerText='abcdefghijklmnopqrstuvwxyz 1234567890[!?,.<>"£$%^&*()~@#-=]',this.on("init",function(e,t,n){i=t,o=n,a=e[0],u=e[1],c=e[2],f.style.fontStyle=c,this.on("get",function(){getFont()})});var h=null;this["export"]=function(){return r.format(a)}}]),$R.service["class"]("Resource",["@extend","Debug",function ImageResource(e,t){function createImage(){i.addEventListener("load",function(){o(1),a=i.width,s=i.height,r("load",[])}),i.addEventListener("error",function(){o(2),r("error",[]),t.error({url:n},"Unable to load image {url}.")}),this.on("get",function(){i.setAttribute("src",n)})}e(this,"$Resource");var n=null,r=null,o=null,i=new Image,a=0,s=0;this.type="Image",this.on("init",function(e,t,i){r=t,o=i,n=e,createImage.call(this)}),this.width=function(){return a},this.height=function(){return s},this["export"]=function(){return i}}]),$R.service["class"]("Resource",["@extend","Debug",function Resource(e,t){function setStatus(e){return"number"!=typeof e?void t.error({val:e},"{val} is not valid value for status"):e<0||e>2?void t.error({val:e},"{val} no such status possible!"):void(a=e)}function resolveEvent(e,n){if(i[e]){n="object"==typeof n&&n.constructor===Array?n:[];for(var o=0;o<i[e].length;o++)i[e][o].apply(r,n)}else t.warn({e:e},"Unable to set event {e}. No such event!")}var n=null,r=this,o=!1,i={init:[],get:[],load:[],error:[],loading:[]},a=-1;this.loaded=function(){return 1===a},this.error=function(){return 2===a},this.loading=function(){return 0===a},this.load=function(){a<0&&(a=0,resolveEvent("get",[n]))},this.url=function(e){return void 0===e?n:(n=e,o?resolveEvent("init",[n]):(resolveEvent("init",[n,resolveEvent,setStatus]),o=!0),this)},this.on=function(e,n){var r=i[e];return n="function"==typeof n&&n,"load"===e&&1===a&&n.call(this),"error"===e&&2===a&&n.call(this),r&&n?void i[e].push(n):void t.warn({e:e},"Unable to set handler for event {e}.")}}]),$R.service["class"]("Resource",["@extend","Debug",function SpriteResource(e,t){function createCanvasArray(){for(var e=0,t=0;t<o;t++){d.push([]);for(var n=0;n<o;n++)e++,e<i&&d[t].push(document.createElement("canvas"))}}function setCanvasSize(){c=Math.round(u/o),l=Math.round(s/o);for(var e=0;e<o;e++)for(var t=0;t<o;t++)if(d[e][t]){d[e][t].setAttribute("width",l),d[e][t].setAttribute("height",c);var n=d[e][t].getContext("2d");n.translate(-l*t,-c*e),n.drawImage(r,0,0)}}e(this,"$Resource");var n=null,r=null,o=0,i=0,a=0,s=0,u=0,c=0,l=0,f=12,h=null,p=null,v=!1,d=[];this.type="Sprite",this.on("init",function(e,t,o){h=o,p=t,n=e,r=document.createElement("img"),r.addEventListener("load",function(){h(1),s=r.width,u=r.height,v&&(createCanvasArray(),setCanvasSize()),p("load",[])}),r.addEventListener("error",function(){h(2),p("error",[])}),this.on("get",function(){r.setAttribute("src",n)})}),this.ready=function(){return v},this.width=function(){return l},this.height=function(){return c},this.spriteWidth=function(){return s},this.spriteHeight=function(){return u},this.fps=function(e){return"number"!=typeof e||e<=0?(t.warn({n:e},"{n} is not a correct fps number"),!1):(f=e,void(a=Math.round(i/f*1e3)))};var g=!1;this.pause=function(){g=!0},this.play=function(){g=!1},this.config=function(e){if(!v){if("number"!=typeof e||e<=0)return void t.warn({rows:e},"{rows} is not a valid frames number");o=Math.ceil(Math.sqrt(e)),i=e,a=Math.round(i/f*1e3),v=!0,createCanvasArray()}},this.frames=function(){return i};var y=0,b=0,m=(new Date).getTime();this.tick=function(e){if(e=e.getTime(),!g){var t=(e-m)/a;t>1&&(t=1,m=(new Date).getTime()),t<0&&(t=0);var n=Math.floor((i-1)*t);b=Math.floor(n/o),y=n-b*o}},this["export"]=function(){if(d[b][y])return d[b][y]}}]),$R.service["class"]("Sound",["@inject","Debug",function Audio(e,t){function eventArgs(){return[s,u,r,o]}function createAnimationMorph(e,t){a.morph.apply(this,[t.name,0,function(n,r,o){o=t.normalizer(o),void 0!==o&&(r(o),n(e.get(t.name)))},function(n){return n=t.normalizer(n),e.set(t.name,n)}])}var n=null,r=null,o=null,i=e("$EventProvider"),a=e("$AnimationProvider"),s=this,u=null,c="";i.wrap(this),i.event("ready",eventArgs,!0),i.event("load",eventArgs,!0),i.event("error",eventArgs,!0),i.event("play",eventArgs,!1),i.event("connect",eventArgs,!1),i.event("disconnect",eventArgs,!1),i.event("end",eventArgs,!1),this.build=function(a,s){if("string"==typeof a&&a.length>0){"string"==typeof s&&"destination"!==s&&s.length>0?(r=s,n=e("$UserAudioSource").build(s),o="Sample",n.on("load",function(){i.resolve("load")}),this.play=function(){return n.play(),this},this.terminate=function(){return n.stop(),this}):"destination"===s?(n=e("$UserAudioMixer").build(a,s),this.connect=function(){return arguments[0]&&"object"==typeof arguments[0]&&arguments[0].$$SOURCE?n:this},r="["+a+"]AudioChannel",o="Channel",i.resolve("load")):void 0===s&&(n=e("$UserAudioMixer").build(a),r="["+a+"]AudioChannel",o="Channel",i.resolve("load")),n.on("error",function(){i.resolve("error")}),n.on("play",function(){i.resolve("play")}),n.on("end",function(){i.resolve("end")}),n.on("connect",function(){i.resolve("connect")}),n.on("disconnect",function(){i.resolve("disconnect")});for(var u=n.filters(),l=0;l<u.length;l++)for(var f=u[l].props(),h=0;h<f.length;h++)f[h].animated&&createAnimationMorph.apply(this,[u[l],f[h]]);c=a,i.resolve("ready")}else t.warn("Audio mixer have no name! Should be a string");return this},this.filter=function(e,r){if("string"==typeof e&&e.length>0){for(var o=null,i=n.filters(),a=0;a<i.length;a++)i[a].has(e)&&(o=i[a]);if(o){if(void 0===r)return o.get(e);o.set(e,r)}else t.warn({name:e},"Unable to set filter property [{name}]. No filter with that param!")}return this},this.connect=function(e){if(e&&"object"==typeof e&&e.$$SOURCE)return n;if("object"==typeof e&&e.type&&"function"==typeof e.type){var r=e.type();if("Channel"===o&&"Sample"===r)return t.error("Trying to connect Channel with Sample!"),this;if(e.connect&&"function"==typeof e.connect){var i=e.connect({$$SOURCE:!0});return u=e,n.connect(i),e}t.error("Unknown type of  object passed as output!")}else t.error("Unknown type of  object passed as output!");return this},this.output=function(){return u},this.animate=function(){return a.animate.apply(this,arguments),this},this.type=function(e){return"string"==typeof e?e===o:o},this.url=function(){return r},this.name=function(){return c},this.stop=function(){return a.stop.apply(this,arguments),this}}]),$R.service["class"]("Sound",["@inject","@Config","Debug",function UserAudioMixer(e,t,n){function argF(){return[this]}var r=e("$EventProvider"),o=[],i=null,a="",s=t.watch("filters",function(e){o=e});r.wrap(this),r.event("play",argF,!1),r.event("connect",argF,!1),r.event("ready",argF,!0),r.event("error",argF,!0),this.build=function(t,i){for(var u=0;u<s.length;u++){var c=e("$"+s[u]+"Node");o[o.length-1]&&o[o.length-1].connect(c),o.push(c)}if("string"==typeof t&&t.length>0?a=t:(n.warn({n:t},"[{n}] is not a valid name for channel"),r.resolve("error")),i&&"object"==typeof i&&i.connect&&"function"==typeof i.connect)this.connect(i);else if("destination"===i){var l=e("$DestinationNode");o[o.length-1].connect(l),this.connect=function(e){if(e.$$AUDIONODE)return o[0]}}return delete this.build,this},this.connect=function(e){if(e.$$AUDIONODE)return o[0];var t=e.connect({$$AUDIONODE:!0});return o[o.length-1].connect(t),i=e,this},this.output=function(){return i},this.filters=function(){return o},this.name=function(){return a}}]),$R.service["class"]("Sound",["@extend","@inject",function UserAudioSource(e,t){function cbArgs(){return[this]}function connectCbArgs(){return[this,i]}var n=t("$AudioSource"),r=t("$EventProvider"),o=null,i=null,a="";r.wrap(this),r.event("ready",cbArgs,!0),r.event("load",cbArgs,!0),r.event("error",cbArgs,!0),r.event("connect",connectCbArgs,!1),r.event("play",cbArgs,!1),r.event("stop",cbArgs,!1),n.on("ready",function(){r.resolve("ready")}),n.on("load",function(){r.resolve("load")}),n.on("error",function(){r.resolve("error")}),this.build=function(e){return"string"==typeof e&&e.length>0?(a=e,n.build(e),o=t("$UserAudioMixer").build("source-built-in-filter"),o.on("connect",function(){r.resolve("connect")}),n.connect(o.connect({$$AUDIONODE:!0})),delete this.build,r.resolve("ready")):(delete this.build,r.resolve("error")),this},this.filters=function(){return o?o.filters():[]},this.play=function(){return this.status("error")||this.status("ready")&&(this.status("load")?n.play():this.on("load",function(){n.play()})),this},this.stop=function(){return n.stop(),this},this.output=function(){return i},this.connect=function(e){return e&&e.constructor===o.constructor&&(i=e,o.connect(e)),this}}]),$R.service["class"]("Sound",["@inject","Debug",function AnimationProvider(e,t){function findCompetitor(e,t){t.$$SELF=!0;for(var r=null,o=0;o<n.length;o++)if(!n[o].$$SELF&&n[o].active()&&!n[o].done()){for(var i=!1,a=0;a<e.length;a++)if(n[o].hasProperty(e[a])){i=!0;break}i&&(r||(r=[]),r.push(n[o]))}return delete t.$$SELF,r}function CheckAnimationQueue(){for(var e=[],t=0;t<n.length;t++)if(n[t].active())n[t].done()||e.push(n[t]);else{var r=n[t].properties();if(n[t].queue())findCompetitor(r,n[t])||n[t].start();else{var o=findCompetitor(r,n[t]);if(o)for(var i=0;i<o.length;i++)for(var a=0;a<r.length;a++)o[i].stop(r[a]);n[t].start()}e.push(n[t])}n=e}function CreateAnimationType1(t,r,i,a){var s={};if(s[t]=r,o[t]){var u=[{ordering:o[t].ordering(),morph:o[t],value:r}],c={};i&&"number"==typeof i&&(c.duration=i),a&&"string"==typeof a&&(c.easing=a);var l=e("$Animation");l.config(this,u,c,CheckAnimationQueue),n.push(l)}}function CreateAnimationType2(r,i,a){var s={};"object"==typeof i?s=i:"number"==typeof i?(s={duration:i},"string"==typeof a&&(s.easing=a)):"string"==typeof i&&(s={easing:i});var u={};for(var c in r)r.hasOwnProperty(c)&&(o[c]?u[c]={ordering:o[c].ordering(),morph:o[c],value:r[c]}:t.warn({type:this.type(),property:c},"Property {property} of {type} can not be animated!"));var l=[];for(var f in u)l.push(u[f]);if(l.length){l.sort(function(e,t){return e.ordering-t.ordering});var h=e("$Animation");h.config(this,l,s,CheckAnimationQueue),n.push(h)}else t.warn("No properties to animate!")}var n=[],r=!1,o={};this.morph=function(t,n,r,i){var a=e("$Morph");a.config(t,this,n,r,i),a.valid()&&(o[t]=a)},this.extractMorph=function(e){return o[e]},this.animate=function(e,n,r,o){"string"==typeof e&&n?CreateAnimationType1.apply(this,arguments):"object"==typeof e&&e.constructor!==Array?CreateAnimationType2.apply(this,arguments):t.warn("Unable to create animation. Wrong arguments"),CheckAnimationQueue()},this.animated=function(){return r},this.stop=function(e){if("string"==typeof e&&0!==e.length)for(var t=0;t<n.length;t++)n[t].stop(e)}}]),$R.service["class"]("Sound",["@Audio","@extend",function DelayNode(e,t){t(this,"$AudioNode");var n=0,r=0,o=e.context().createGain(),i=e.context().createDelay(),a=e.context().createGain(),s=e.context().createBiquadFilter();o.gain.value=1,s.frequency.value=2e3,a.gain.value=r,i.delayTime.value=n,i.connect(a),a.connect(s),s.connect(i),a.connect(o),this.build("delay",[o,a],o),this.property("delay",[0,0],function(e){if("object"==typeof e&&e.constructor===Array&&2==e.length&&"number"==typeof e[0]&&"number"==typeof e[1]){var t=e[0],o=e[1];return t>1&&(t=1),t<0&&(t=0),o>.8&&(o=.8),o<0&&(o=0),n=t,r=o,i.delayTime.value=n,a.gain.value=r,[o,t]}},function(e){return[e[0],e[1]];
},function(e){var t=e[0],n=e[1];return t>1&&(t=1),t<0&&(t=0),n>.8&&(n=.8),n<0&&(n=0),[n,t]})}]),$R.service["class"]("Sound",["@Audio","@extend",function DestinationNode(e,t){t(this,"$AudioNode"),this.build("destination",e.context().destination,!1)}]),$R.service["class"]("Sound",["@Audio","@extend",function GainNode(e,t){t(this,"$AudioNode");var n=1,r=e.context().createGain();r.gain.value=n,this.build("gain",r,r),this.property("volume",1,function(e){if("number"==typeof e)return e<0&&(e=0),e>1&&(e=1),n=e,r.gain.value=n,e},function(e){return e},function(e){return e<0&&(e=0),e>1&&(e=1),e})}]),$R.service["class"]("Sound",["@Audio","@extend",function LowpassNode(e,t){t(this,"$AudioNode");var n=e.context().createBiquadFilter(),r=22050;n.type="lowpass",n.frequency.value=r,this.build("lowpass",n,n),this.property("lowpass",22050,function(e){return e<0&&(e=0),e>22050&&(e=22050),r=e,n.frequency.value=e,e},function(e){return e},function(e){return e<0&&(e=0),e>22050&&(e=22050),e})}]),$R.service["class"]("Sound",["@inject","Debug",function AudioNode(e,t){function args(){return[o]}var n=null,r=null,o=null,i=function(e,t){if(!t)for(var n=this.input(),r=0;r<n.length;r++)e.connect(n[r]);return this.output()},a=[],s=e("$EventProvider"),u="";s.wrap(this),s.event("ready",args,!0),s.event("play",args,!1),s.event("end",args,!1),s.event("connect",args,!1),s.event("disconnect",args,!1),s.event("property",args,!1),this.disconnect=function(){if(o&&n){for(var e=o.input(),t=0;t<n.length;t++)for(var r=0;r<e.length;r++)n[t].disconnect(e[r]);o=null,s.resolve("disconnect")}return this},this.connect=function(e){if(this.disconnect(),o=e,o&&n)for(var t=o.input(),r=0;r<n.length;r++)for(var i=0;i<t.length;i++)n[r].connect(t[r]);return s.resolve("connect"),this},this.build=function(e,t,o,a){return r="object"==typeof t&&t.constructor===Array?t:[t],n="object"==typeof o&&o.constructor===Array?o:[o],u=e,"function"==typeof a&&(i=a),delete this.build,s.resolve("ready"),this},this.input=function(){return r},this.output=function(){return n},this.name=function(){return u},this.play=function(e,t){a.push(e),e.addEventListener("ended",function(){var t=[];e.$$SEARCH=!0;for(var n=0;n<a.length;n++)a.$$SEARCH||t.push(a[n]);delete e.$$SEARCH,a=t}),o&&o.play(e,i.apply(this,arguments))};var c={};this.property=function(e,n,r,o,i){if("string"==typeof e){var a={name:e,value:null,getter:null,setter:null,normalizer:i,animated:"function"==typeof i};"function"==typeof o&&(a.getter=o),"function"==typeof r&&(a.setter=r),a.value=n,n&&a.setter&&(c[a.name]?t.warn({property:a},"Duplicated property [{property}]"):c[a.name]=a)}else t.warn({name:e},"Property name [{name}] is not valid!")},this.set=function(e,n){if("string"==typeof e&&e.length>0){var r=c[e].setter(n);void 0!==r?c[e].value=r:t.warn({prop:e,val:n},"[{val}] is not a valid valuen for [{prop}].")}},this.get=function(e){if("string"==typeof e&&e.length>0){if(c[e])return c[e].value;t.warn({name:e},"Object has no property [{name}]. Unable to get value.")}else t.warn("Property name has to be a string")},this.props=function(){var e=[];for(var t in c)c.hasOwnProperty(t)&&e.push(c[t]);return e},this.has=function(e){return!!c[e]}}]),$R.service["class"]("Sound",function AudioNodeSoundDispatcher(){var e=[];this.register=function(t){t.addEventListener("end",function(){t.$$SEARCH=!0;for(var n=[],r=0;r<e.length;r++)e[r].$$SEARCH||n.push(e[r]);e=n}),e.push(t)},this.reconnect=function(t){for(var n=0;n<e.length;n++)e[n].disconnect(),e[n].connect(t)}}),$R.service["class"]("Sound",["@Audio","@inject","Resource","Debug",function AudioSource(e,t,n,r){function args(){return[o,i,a]}var o=null,i=null,a=null,s=t("$EventProvider"),u=[];s.wrap(this),s.event("ready",args,!0),s.event("load",args,!0),s.event("error",args,!0),s.event("connect",args,!1),s.event("disconnect",args,!1),s.event("play",!1),s.event("end",!1),this.build=function(t){return o=n.audio(t),o.on("load",function(n){e.context().decodeAudioData(n,function(e){i=e,s.resolve("load")},function(){r.error({src:t},"[{src}] audio buffer can not be decoded. Resource not found, or of wrong format"),s.resolve("error")})}),o.on("error",function(){r.error({src:t},"Unable to load audio file"),s.resolve(error)}),delete this.build,this},this.disconnect=function(){return a&&(a=null,s.resolve("disconnect")),this},this.connect=function(e){return this.disconnect(),a=e,s.resolve("connect"),this},this.play=function(){if(a&&this.status("load")){var t=e.context().createBufferSource();t.buffer=i,u.push(t),a.play(t,!1),t.start(0)}return this},this.stop=function(){for(var e=0;e<u.length;e++)u[e].stop(0);return u=[],this}}]),$R.service["class"]("Sound",["Debug",function Event(e){var t=[],n=!1,r="default",o=!1,i=this,a=function(){return[]};this.build=function(e,t,o){return n=!!o,"function"==typeof t&&(a=t),"string"==typeof e&&e.length>0&&(r=e),delete this.build,this},this.name=function(){return r},this.active=function(){return o},this.resolve=function(){n&&(o=!0);var e=a();if("object"!=typeof e||e.constructor!==Array)e=[];else for(var r=0;r<t.length;r++)t[r].apply(this,e);return this},this.callback=function(e){if("function"!=typeof e)return this;if(i.active()){var n=a();return"object"==typeof n&&n.constructor===Array||(n=[]),e.apply(this,n),t.push(arguments[0]),this}return t.push(e),this}}]),$R.service["class"]("Sound",["@inject",function EventProvider(e){var t=[];this.event=function(n,r,o){var i=e("$Event");return i.build.apply(i,arguments),t[n]=i,this},this.resolve=function(e){return t[e]&&t[e].resolve.call(t[e]),this},this.wrap=function(e){return e.on=function(n,r){t[n]&&t[n].callback.call(e,r)},e.status=function(e){return!!t[e]&&t[e].active()},this}}]),$R.service["class"]("States",["Debug",function State(e){function isInState(n){return t[n]?t[n].value:void e.error({state:n,target:r.constructor.name},"State {state} if {target} does not exist",r)}function isBoundProperty(e){return void 0!==typeof t[e]&&"object"==typeof t[e].bound&&t[e].bound.constructor===Array&&t[e].bound.length}function getPropertyEventCallback(e,t){return function(){setPropertyValue(e,t,!0)}}function createProperty(o,a,s,u){if(void 0===t[o]){if(t[o]={value:!!a},"string"==typeof s&&s.length>0)if(s=s.match(i)){t[o].bound||(t[o].bound=[]);for(var c=0;c<s.length;c++)t[o].bound.push(s[c]),n.on(s[c],getPropertyEventCallback(o,!0))}else e.error({enabler:typeof s,disabler:typeof u,property:o},"Enabler is not a valid event string. Unable to create bound property {property} : enabler {enabler}, disabler - {disabler}",r);if("string"==typeof u&&u.length>0)if(u=u.match(i)[0],"string"==typeof u&&u.length>0)if(t[o].bound||(t[o].bound=[]),u=u.match(i)){t[o].bound||(t[o].bound=[]);for(var l=0;l<u.length;l++)t[o].bound.push(u[l]),n.on(u[l],getPropertyEventCallback(o,!1))}else e.error({enabler:typeof s,disabler:typeof u,property:o},"Disabler is not a valid event string. Unable to create bound property {property} : enabler {enabler}, disabler - {disabler}",r);else e.error({enabler:typeof s,disabler:typeof u,property:o},"Disabler is not a valid event string. Unable to create bound property {property} : enabler {enabler}, disabler - {disabler}",r)}}function setPropertyValue(n,o,i){if("boolean"==typeof o){if("object"==typeof t[n]){var a=isBoundProperty(n);!a||a&&i?t[n].value=o:e.error({property:n,value:o},"Attempt to set state of bound property directly. Unable to set value {value} of property {property}.")}}else e.error({property:n,val:typeof o},"Unable to set {property} value as {val}. Must be boolean. ",r)}var t={},n=null,r=null,o=this,i=/[A-Za-z-0-9]+/g;this.decorate=function(t,a){return r=t,a&&(n=a,this.create=function(e,t,n,r){var o=e.match(i);"undefined"==typeof t&&(n=e,t=!1);for(var a=0;a<o.length;a++)createProperty(o[a],t,n,r)},this.set=function(e,t){var n=e.match(i);if(n&&n.length)for(var r=0;r<n.length;r++)setPropertyValue(n[r],t)}),r.is=function(t,s){if(this.$STATESPROTECTEDCONTEXT)return o;if(this.$STATESPROTECTEDHASEMITTERSET)return a||(n=t),o;if("string"==typeof t){var u,c=t.match(i);if(s="undefined"==typeof s||("boolean"!=typeof s||s),c&&c.length){for(var l=0;l<c.length&&(u=isInState(c[l]),!s||u)&&(s||!u);l++);return u}e.error({state:t},"Invalid state string. Unable to parse {state} and check state.",r)}return isInState(t)},r.is.$$STATESPROTECTED=!0,delete this.decorate,this}}]),$R.service["class"]("Objects",["@inject","+Drawer","+Path","+Model",function AreaObjectDrawer(e,t,n,r){function UpdateFill(e){var r=this.extension("Box").box().sprite(),o=this.extension("Style"),i=o.get("path");e.save(),e.translate(r.margin[3]-h,r.margin[0]-p);var a=o.get("interpolation");c||(n.interpolate(i,a,!0),c=!0),a?t.drawBezierPathFill(e,i,o):t.drawLinePathFill(e,i,o),e.restore()}function UpdateStroke(e){var o=this.extension("Box").box().sprite(),i=this.extension("Style"),a=r.cloneArray(i.get("path")),s=i.get("interpolation");e.translate(o.margin[3]-h,o.margin[0]-p),c||(n.interpolate(a,s,!0),c=!0),s&&t.drawLinePath(e,a,i),t.drawBezierPath(e,a,i)}function UpdateBg(e){var i=this.extension("Style"),a=this.extension("Box").box().sprite(),s=r.cloneArray(i.get("path")),u=i.get("interpolation");e.translate(a.margin[3]-h,a.margin[0]-p),c||(n.interpolate(s,u,!0),c=!0),u?t.drawLineBgClipPath(e,s,i,o,a):t.drawBezierBgClipPath(e,s,i,o,a)}var o=e("$GraphicsAssembler"),i=this.extension("Box"),a=this.extension("Style"),s=this.extension("Matrix"),u=this.extension("Drawer"),c=!1,l=1,f=0,h=0,p=0;o.layer(0,"fill",UpdateFill.bind(this)),o.layer(1,"bg",UpdateBg.bind(this)),o.layer(2,"stroke",UpdateStroke.bind(this)),o.box(i),this.watch("path",function(){a.get("interpolation");c=!1,i.purge(),s.purge(),o.resize(),o.update("fill"),o.update("stroke"),o.update("bg")}),this.watch("interpolation",function(e,t){c=!1,f=Math.round(40*t),o.update("fill"),o.update("stroke"),o.update("bg"),o.resize()}),this.watch("position",function(){i.purge(),s.purge()}),this.watch(["strokeStyle","strokeColor"],function(){o.update("stroke"),o.resize()}),this.watch("fill",function(){o.update("fill")}),this.watch(["bg","bgSize","bgPosition"],function(){o.update("bg")}),this.watch("strokeWidth",function(e,t){for(var n=0,r=0;r<t.length;r++)t[r]>n&&(n=t[r]);l=n/2,o.update("stroke"),i.purge(),s.purge(),o.resize()}),i.f(function(e){for(var t=a.get("position"),n=a.get("path"),r=a.get("anchor"),o=t[0],i=t[1],s=1/0,u=1/0,c=-(1/0),v=-(1/0),d=0;d<n.length;d++)n[d][0]<s&&(s=n[d][0]),n[d][2]<s&&(s=n[d][2]),n[d][1]<u&&(u=n[d][1]),n[d][3]<u&&(u=n[d][3]),n[d][0]>c&&(c=n[d][0]),n[d][2]>c&&(c=n[d][2]),n[d][1]>v&&(v=n[d][1]),n[d][3]>v&&(v=n[d][3]);s===1/0&&(s=0),u===1/0&&(u=0),c===-(1/0)&&(c=0),v===-(1/0)&&(c=0),h=s,p=u;var g=l+f,y=Math.abs(c-s),b=Math.abs(v-u);"center"===r[0]&&(o-=y?y/2:0),"right"===r[0]&&(o-=y?y:0),"middle"===r[1]&&(i-=b?b/2:0),"bottom"===r[1]&&(i-=b?b:0),e.set(o+h,i+p,y,b,g,g,g,g)}),u["export"](o["export"]),u.drawFunction(function(e){t.transform(this,e),e.drawImage(u["export"](),0,0)}),u.destroy(function(){o=o.destroy(),c=void 0,l=void 0,f=void 0,h=void 0,p=void 0})}]),$R.service["class"]("Objects",["+Drawer","Debug","@inject",function CircleObjectDrawer(e,t,n){function UpdateStroke(e){var t=i.box().sprite();e.beginPath(),e.strokeStyle=a.get("strokeColor"),e.lineWidth=a.get("strokeWidth"),e.setLineDash(a.get("strokeStyle")),e.arc(t.size[0]/2,t.size[1]/2,a.get("radius"),0,2*Math.PI),e.stroke()}function UpdateFill(e){var t=i.box().sprite();e.beginPath(),e.fillStyle=a.get("fill"),e.arc(t.size[0]/2,t.size[1]/2,a.get("radius"),0,2*Math.PI),e.fill()}function UpdateBg(e){var t=i.box().sprite(),n=i.box().value();e.beginPath(),e.arc(t.size[0]/2,t.size[1]/2,a.get("radius"),0,Math.PI/2),e.clip();for(var o=a.get("bgPosition"),s=a.get("bgSize"),u=a.get("bg"),c=0;c<u.length;c++)if(u[c].loaded()){e.save();var l=n.size[0]*s[c][0],f=n.size[1]*s[c][1],h=n.size[0]*o[c][0],p=n.size[1]*o[c][1];e.translate(t.margin[3]+h,t.margin[0]+p),e.drawImage(u[c]["export"](),0,0,l,f),e.restore()}else u[c].on("load",function(){r.update("bg")})}var r=n("$GraphicsAssembler"),o=this.extension("Drawer"),i=this.extension("Box"),a=this.extension("Style"),s=this.extension("Matrix"),u=1;r.layer(0,"fill",UpdateFill.bind(this)),r.layer(1,"bg",UpdateBg.bind(this)),r.layer(2,"stroke",UpdateStroke.bind(this)),r.box(i),i.f(function(e){var t=a.get("radius"),n=a.get("position"),r=a.get("anchor"),o=2*t,i=n[0],s=n[1];"center"===r[0]&&(i-=t),"right"===r[0]&&(i-=o),"middle"===r[1]&&(s-=t),"bottom"===r[1]&&(s-=o),e.set(i,s,o,o,u,u,u,u)}),this.watch("radius",function(){r.update("stroke"),r.update("bg"),r.update("fill"),i.purge(),s.purge(),r.resize()}),this.watch("fill",function(){r.update("fill")}),this.watch("position",function(){i.purge()}),this.watch("strokeWidth",function(e,t){t!==e&&(u=t,i.purge(),r.update("stroke"),s.purge(),r.resize())}),this.watch(["strokeStyle","strokeColor"],function(){r.update("stoke")}),this.watch(["bg","bgPosition","bgSize"],function(){r.update("bg")}),o["export"](r["export"]),o.drawFunction(function(t){e.transform(this,t),t.drawImage(o["export"](),0,0)}),o.destroy(function(){r=r.destroy(),o=void 0,i=void 0,a=void 0,s=void 0,u=void 0})}]),$R.service["class"]("Objects",["Debug","+Matrix",function DefaultObjectDrawer(e,t){var n=this.extension("Matrix");n.f(function(){return t.objectMatrix(this)}),this.watch(["position","rotate","translate","scale","skew"],function(){n.purge()}),n.destroy(function(){n=void 0})}]),$R.service["class"]("Objects",["+Drawer",function GroupObjectDrawer(e){var t=this.extension("Drawer"),n=this.extension("Layers"),r=this.extension("Box"),o=this.extension("Style");r.f(function(e){var t=1/0,r=1/0,i=-(1/0),a=-(1/0);n.forEach(function(){var e=this.extension("Box").box().value();t=Math.min(t,e.position[0]),r=Math.min(r,e.position[1]),i=Math.max(i,e.position[0]+e.size[0]),a=Math.max(a,e.position[1]+e.size[1])});var s=o.get("position");t===1/0&&(t=0),i===-(1/0)&&(i=0),r===1/0&&(r=0),a===-(1/0)&&(a=0),e.set(t+s[0],r+s[1],i-t,a-r,0,0,0,0)}),this.watch("position",function(e,t){r.purge()});var i;t.drawFunction(function(){i=arguments,e.transform(this,i[0]),n.forEach(function(){i[0].save(),this.extension("Drawer").draw.apply(this,i),i[0].restore()})}),t.destroy(function(){t=void 0,n=void 0,r=void 0,o=void 0,i=void 0})}]),$R.service["class"]("Objects",["+Drawer","Resource","@inject",function ImageObjectDrawer(e,t,n){var r=this.extension("Style"),o=this.extension("Box"),i=n("$Canvas"),a=this.extension("Drawer"),s=this.extension("Matrix"),u=null,c=null,l=null;this.watch("src",function(e,n){e!==n&&(l=t.image(n),l.on("load",function(){null===u&&(u=r.get("size")[0]?r.get("size")[0]:l.width(),i.width(u)),null===c&&(c=r.get("size")[1]?r.get("size")[1]:l.height(),i.height(c)),i.context().drawImage(l["export"](),0,0,u,c),s.purge(),o.purge(),a.spriteUpdated.call({$$CALL:!0})}))}),this.watch("size",function(e,t){e[0]===t[0]&&e[1]===t[1]||(u=t[0],c=t[1],i.width(u),i.height(c),i.context().clearRect(0,0,i.width(),i.height()),i.context().drawImage(l["export"](),0,0,u,c),o.purge())}),this.watch("position",function(e,t){e[0]===t[0]&&e[1]===t[1]||o.purge()}),o.f(function(e){var t=r.get("position"),n=r.get("anchor"),o=t[0],i=t[1];"center"===n[0]&&(o-=u?u/2:0),"right"===n[0]&&(o-=u?u:0),"middle"===n[1]&&(i-=c?c/2:0),"bottom"===n[1]&&(i-=c?c:0),e.set(o,i,u?u:0,c?c:0,0,0,0,0)}),a.filter(function(){return l&&l.loaded()&&!l.error()&&null!==u&&null!==c&&u>0&&c>0}),a["export"](i["export"]),a.drawFunction(function(t){e.transform(this,t),t.drawImage(a["export"](),0,0,u,c)}),a.destroy(function(){r=void 0,o=void 0,i=i.destroy(),a=void 0,s=void 0,u=void 0,c=void 0,l=void 0})}]),$R.service["class"]("Objects",["@inject","Debug","+Drawer","+Path",function LineObjectDrawer(e,t,n,r){function UpdateCanvas(){var e=o.box().sprite(),t=i.get("path"),s=i.get("interpolation");if(a.width()!==e.size[0]||a.height()!==e.size[1]){var l=e.size[0],f=e.size[1];a.width(l),a.height(f)}d.clearRect(0,0,e.size[0],e.size[1]),d.save(),c||(r.interpolate(t,s),c=!0),d.translate(e.margin[3]-p,e.margin[0]-v),s>0?t.length>0&&n.drawBezierPath(d,t,i):t.length>0&&n.drawLinePath(d,t,i),d.restore(),u=!1}var o=this.extension("Box"),i=this.extension("Style"),a=e("$Canvas"),s=this.extension("Matrix"),u=!1,c=!1,l=1,f=0,h=this.extension("Drawer"),p=0,v=0;o.f(function(e){for(var t=i.get("position"),n=i.get("path"),r=i.get("anchor"),o=t[0],a=t[1],s=1/0,u=1/0,c=-(1/0),h=-(1/0),d=0;d<n.length;d++)n[d][0]<s&&(s=n[d][0]),n[d][2]<s&&(s=n[d][2]),n[d][1]<u&&(u=n[d][1]),n[d][3]<u&&(u=n[d][3]),n[d][0]>c&&(c=n[d][0]),n[d][2]>c&&(c=n[d][2]),n[d][1]>h&&(h=n[d][1]),n[d][3]>h&&(h=n[d][3]);s===1/0&&(s=0),u===1/0&&(u=0),c===-(1/0)&&(c=0),h===-(1/0)&&(c=0),p=s,v=u;var g=l+f,y=Math.abs(c-s),b=Math.abs(h-u);"center"===r[0]&&(o-=y?y/2:0),"right"===r[0]&&(o-=y?y:0),"middle"===r[1]&&(a-=b?b/2:0),"bottom"===r[1]&&(a-=b?b:0),e.set(o+p,a+v,y,b,g,g,g,g)}),this.watch("path",function(){var e=i.get("interpolation");0!==e&&(c=!1),o.purge(),s.purge(),u=!0}),this.watch("position",function(){o.purge()}),this.watch("strokeWidth",function(e,t){for(var n=0,r=0;r<t.length;r++)t[r]>n&&(n=t[r]);l=n/2,u=!0,o.purge(),s.purge()}),this.watch("interpolation",function(e,t){e!==t&&(c=!1),f=Math.round(20*t),o.purge(),s.purge(),u=!0}),this.watch(["strokeStyle","strokeColor"],function(){u=!0});var d=a.context();h.filter(function(){return u&&UpdateCanvas.call(this),!0}),h["export"](a["export"]),h.drawFunction(function(e){n.transform(this,e),e.drawImage(h["export"](),0,0)}),h.destroy(function(){d=void 0,o=void 0,i=void 0,a=a.destroy(),s=void 0,u=!1,c=!1,l=void 0,f=void 0,h=void 0,p=void 0,v=void 0})}]),$R.service["class"]("Objects",["@inject","+Drawer",function RectangleObjectDrawer(e,t){function normalizeRadius(e){for(var t=[e[0],e[1],e[2],e[3]],n=i.box().value(),r=[n.size[0]/2,n.size[1]/2],o=0;o<t.length;o++)t[o]>r[0]&&(t[o]=r[0]),t[o]>r[1]&&(t[o]=r[1]);return t}function drawRectPath(e,t){var n=normalizeRadius(r.get("radius")),o=.5522847498,a=i.box().value(),s=i.box().sprite();if(t){var u=r.get("strokeColor"),c=r.get("strokeWidth"),l=r.get("strokeStyle"),f=r.get("cap");e.lineCap=f}if(e.beginPath(),n[0]>0?e.moveTo(s.margin[3]+n[0],s.margin[0]):e.moveTo(s.margin[3],s.margin[0]),t&&(e.setLineDash(l[0]),e.strokeStyle=u[0],e.lineWidth=c[0]),n[1]>0){e.lineTo(a.size[0]+s.margin[3]-n[1],s.margin[0]);var h=o*n[1];e.bezierCurveTo(a.size[0]+s.margin[3]-n[1]+h,s.margin[0],a.size[0]+s.margin[3],s.margin[0]+n[1]-h,a.size[0]+s.margin[3],s.margin[0]+n[1])}else e.lineTo(a.size[0]+s.margin[3],s.margin[0]);if(t&&e.stroke(),t&&(e.setLineDash(l[1]),e.strokeStyle=u[1],e.lineWidth=c[1]),n[2]>0){var h=o*n[2];e.lineTo(a.size[0]+s.margin[3],a.size[1]+s.margin[0]-n[2]),t&&e.stroke(),t&&(e.setLineDash(l[2]),e.strokeStyle=u[2],e.lineWidth=c[2]),e.bezierCurveTo(a.size[0]+s.margin[3],a.size[1]+s.margin[0]-n[2]+h,a.size[0]+s.margin[3]-n[2]+h,a.size[1]+s.margin[0],a.size[0]+s.margin[3]-n[2],a.size[1]+s.margin[0]),t&&e.stroke()}else e.lineTo(a.size[0]+s.margin[3],a.size[1]+s.margin[0]),t&&e.stroke();if(t&&(e.setLineDash(l[2]),e.strokeStyle=u[2],e.lineWidth=c[2]),n[3]>0){var h=o*n[3];e.lineTo(s.margin[3]+n[3],a.size[1]+s.margin[0]),e.bezierCurveTo(s.margin[3]+n[3]-h,a.size[1]+s.margin[0],s.margin[3],a.size[1]+s.margin[0]-n[3]+h,s.margin[3],a.size[1]+s.margin[0]-n[3])}else e.lineTo(s.margin[3],a.size[1]+s.margin[0]);if(t&&e.stroke(),t&&(e.setLineDash(l[3]),e.strokeStyle=u[3],e.lineWidth=c[3]),n[0]>0){var h=o*n[0];e.lineTo(s.margin[3],s.margin[0]+n[0]),t&&e.stroke(),t&&(e.setLineDash(l[0]),e.strokStyle=u[0],e.lineWidth=c[0]),e.bezierCurveTo(s.margin[3],s.margin[0]+n[0]-h,s.margin[0]+n[0]-h,s.margin[0],s.margin[3]+n[0],s.margin[0]),t&&e.stroke()}else e.lineTo(s.margin[3],s.margin[0]),t&&e.stroke()}function hasRadius(){for(var e=!1,t=r.get("radius"),n=0;n<t.length;n++)if(t[n]>0){e=!0;break}return e}function hasStroke(){for(var e=r.get("strokeWidth"),t=!1,n=0;n<e.length;n++)if(e[n]>0){t=!0;break}return t}function monoStroke(){for(var e=r.get("strokeColor"),t=r.get("strokeWidth"),n=r.get("strokeStyle"),o=e[0],i=t[0],a=n[0],s=!0,u=1;u<4;u++)if(o!==e[u]||i!==t[u]||n[u][0]!==a[0]||n[u][1]!==a[1]){s=!1;break}return s}function UpdateBg(e){var t=i.box(),o=t.value(),a=t.sprite(),s=r.get("bgPosition"),u=r.get("bgSize"),c=r.get("bg");hasRadius()?drawRectPath(e):e.rect(a.margin[3],a.margin[0],o.size[0],o.size[1]),e.clip();for(var l=0;l<c.length;l++)if(c[l].loaded()){e.save();var f=o.size[0]*u[l][0],h=o.size[1]*u[l][1],p=o.size[0]*s[l][0],v=o.size[1]*s[l][1];e.translate(a.margin[3]+p,a.margin[0]+v),e.drawImage(c[l]["export"](),0,0,f,h),e.restore()}else c[l].on("load",function(){n.update("bg")})}function UpdateStroke(e){if(hasStroke()){var t=r.get("strokeColor"),n=r.get("strokeWidth"),o=r.get("strokeStyle"),a=i.box(),s=a.value(),u=a.sprite();if(hasRadius())drawRectPath(e,!0);else if(monoStroke()){var c=r.get("cap");e.lineCap=c,e.setLineDash(o[0]),e.strokeStyle=t[0],e.lineWidth=n[0],e.beginPath(),e.moveTo(u.margin[3],u.margin[0]),e.lineTo(u.margin[3]+s.size[0],u.margin[0]),e.lineTo(u.margin[3]+s.size[0],u.margin[0]+s.size[1]),e.lineTo(u.margin[3],u.margin[0]+s.size[1]),e.lineTo(u.margin[3],u.margin[0]),e.stroke()}}}function UpdateFill(e){var t=r.get("fill"),n=i.box(),o=n.value(),a=n.sprite();hasRadius()?drawRectPath(e):e.rect(a.margin[3],a.margin[0],o.size[0],o.size[1]),e.fillStyle=t,e.fill()}var n=e("$GraphicsAssembler"),r=this.extension("Style"),o=this.extension("Drawer"),i=this.extension("Box"),a=this.extension("Matrix"),s=[2,2,2,2],u=[0,0];n.layer(0,"fill",UpdateFill.bind(this)),n.layer(1,"bg",UpdateBg.bind(this)),n.layer(2,"stroke",UpdateStroke.bind(this)),n.box(i),i.f(function(e){var t=r.get("position"),n=r.get("size"),o=r.get("anchor"),i=t[0],a=t[1];"center"===o[0]&&(i-=n[0]/2),"right"===o[0]&&(i-=n[0]),"middle"===o[1]&&(a-=n[1]/2),"bottom"===o[1]&&(a-=n[1]),u[0]=n[0],u[1]=n[1],e.set(i,a,n[0],n[1],s[0],s[1],s[2],s[3])}),o["export"](n["export"]),o.drawFunction(function(e){t.transform(this,e),u[0]>=1&&u[1]>=0&&e.drawImage(o["export"](),0,0)}),this.watch("size",function(e,t){n.update("fill"),n.update("stroke"),n.update("bg"),n.resize(),a.purge(),i.purge()}),this.watch("radius",function(e,t){n.update("fill"),n.update("stroke"),n.update("bg")}),this.watch("strokeWidth",function(e,t){s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],i.purge(),n.resize(),a.purge(),n.update("fill"),n.update("stroke"),n.update("bg")}),this.watch(["position","size"],function(){i.purge(),a.purge()}),this.watch(["bg","bgSize","bgPosition"],function(){n.update("bg")}),this.watch(["strokeStyle","strokeColor"],function(){n.update("stroke")}),this.watch(["fill"],function(){n.update("fill")}),o.destroy(function(){for(n=n.destroy(),r=void 0,o=void 0,i=void 0,a=void 0;s[0];)s.shift();for(;u[0];)u.shift();s=void 0,u=void 0})}]),$R.service["class"]("Objects",["+Drawer","+Model","Resource","@inject",function SpriteObjectDrawer(e,t,n,r){var o=this.extension("Style"),i=this.extension("Box"),a=this.extension("Drawer"),s=this.extension("Matrix"),u=null,c=null,l=r("$Canvas");i.f(function(e){var t=o.get("position"),n=o.get("anchor"),r=t[0],i=t[1];"center"===n[0]&&(r-=u?u/2:0),"right"===n[0]&&(r-=u?u:0),"middle"===n[1]&&(i-=c?c/2:0),"bottom"===n[1]&&(i-=c?c:0),e.set(r,i,u?u:0,c?c:0,0,0,0,0)}),a["export"](function(){return l["export"]()}),a.drawFunction(function(t){e.transform(this,t),t.drawImage(a["export"](),0,0,u,c)}),this.watch("src",function(e,r){if(r!==e){var o=t.readSpriteString(r);l.destroy(),l=n.sprite(o.url),l.config(o.frames),l.on("load",function(){null==u&&(u=l.width()),null==c&&(c=l.height()),s.purge(),i.purge()})}}),this.watch("size",function(e,t){e[0]===t[0]&&e[1]===t[1]||(u=t[0],c=t[1],i.purge())}),this.watch("position",function(e,t){e[0]===t[0]&&e[1]===t[1]||i.purge()}),a.destroy(function(){o=void 0,i=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=l.destroy?l.destroy():void 0})}]),$R.service["class"]("Objects",["@inject","+Drawer","Resource",function TextObjectDrawer(e,t,n){function UpdateTextLayer(e){r.update();var t=o.get("lineHeight"),n=(o.get("color"),o.get("fontSize")),i=o.get("align");e.beginPath();var a=t-n/5;n<t?a-=t-n:a+=n-t,r.forEachLine(function(n){e.beginPath();var o=a+n*t;e.font=this.extractFontString(),e.fillStyle=this.color(),"center"===i?e.fillText(this.string(),(r.textBlockWidth()-this.width())/2,o):"right"===i?e.fillText(this.string(),r.textBlockWidth()-this.width()-2,o):e.fillText(this.string(),2,o)})}function getFontFile(){var e="oblique"===f?"normal":f,t=n.font(c,l,e);t.on("load",function(){u=!0,i.purge(),s.purge(),r.update(!0)}),t.on("error",function(){u=!0,i.purge(),s.purge(),r.update(!0)})}function drawText(e){t.transform(this,e),e.drawImage(a["export"](),0,0)}var r=this.extension("Text"),o=this.extension("Style"),i=this.extension("Box"),a=this.extension("Drawer"),s=this.extension("Matrix"),u=!1,c=o.get("font"),l=o.get("weight"),f=o.get("style"),h=e("$GraphicsAssembler");h.layer(0,"text",UpdateTextLayer),a.filter=function(){return u&&(h.size(r.textBlockWidth(),r.textBlockHeight()),h.update("text"),u=!1),!0},a["export"](h["export"]),this.watch(["str","style","font","weight","size","color","fontSize","lineHeight"],function(){u=!0,i.purge(),s.purge()}),this.watch("font",function(e,t){c=t,getFontFile()}),this.watch("style",function(e,t){f=t,getFontFile()}),this.watch("weight",function(e,t){l=t,getFontFile()}),this.watch("anchor",function(){i.purge(),s.purge()}),this.watch("position",function(){i.purge()}),i.f(function(e){var t=o.get("position"),n=o.get("anchor"),i=t[0],a=t[1];"center"===n[0]&&(i-=r.textBlockWidth()/2),"right"===n[0]&&(i-=r.textBlockWidth()),"middle"===n[1]&&(a-=r.textBlockHeight()/2),"bottom"===n[1]&&(a-=r.textBlockHeight()),e.set(i,a,r.textBlockWidth(),r.textBlockHeight(),0,0,0,0)}),a.drawFunction(drawText),a.destroy(function(){r=void 0,o=void 0,i=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,f=void 0,h=h.destroy()})}]),$R.service["class"]("Objects",["@extend","+Model","+Path","Debug",function AreaObjectModel(e,t,n,r){function SyncPathProperty(e,t){for(var n=0;n<e.length;n++)t[n]||t.push(t[t.length-1]);e.length<t.length&&t.splice(e.length-1,t.length-e.length)}e(this,"$DefaultObjectModel"),e(this,"$GlobalBackgroundModel"),e(this,"$DefaultFreeStrokeModel");var o=this.extension("Style");this.extension("Animation");o.define(0,"path",[[0,0,0,0,0,0,0,0]],function(e){if(n.checkSimplePath(e)){var t=o.get("path"),i=n.convertSimplePath(e);return i[0][0]===i[i.length-1][2]&&i[0][1]===i[i.length-1][3]||i.push([i[i.length-1][2],i[i.length-1][3],i[0][0],i[0][1],i[i.length-1][2],i[i.length-1][3],i[0][0],i[0][1]]),t.length!==i.length&&(SyncPathProperty(i,o.get("strokeStyle")),SyncPathProperty(i,o.get("strokeWidth")),SyncPathProperty(i,o.get("strokeColor"))),i}return r.warn("Area Model / Invalid value for area path!"),!1},function(e){return n.convertComplexPath(e)})}]),$R.service["class"]("Objects",["@extend","+Color","+Model","Debug",function CircleObjectModel(e,t,n,r){e(this,"$DefaultObjectModel"),e(this,"$GlobalBackgroundModel");var o=this.extension("Style"),i=this.extension("Animation");o.define(0,"radius",0,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.morph("radius",0,function(e,t,n){"number"==typeof n?(n<0&&(n=0),e(this.style("radius")),t(n)):r.warn({v:n},"[{v}] is not a valid radius value")},function(e){return e<0&&(e=0),e}),o.define(0,"strokeWidth",1,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.morph("strokeWidth",0,function(e,t,n){"number"==typeof n&&(n<0&&(n=0),e(this.style("strokeWidth")),t(n))},function(e){return e<0&&(e=0),e}),o.define(0,"strokeColor","rgba(0,0,0,1)",function(e){return"string"==typeof e?t.colorToArray(e)?e:(r.warn({val:e},"[{val}] is not a valid strokeColor value"),!1):"object"==typeof e&&e.constructor===Array?t.isColor(e)?t.arrayToColor(e):(r.warn({val:e},"[{val}] is not a valid strokeColor value"),!1):void 0},function(e){return t.colorToArray(e)}),i.morph("strokeColor",0,function(e,o,i){if("string"==typeof i){var a=t.colorToArray(i);a?(e(this.style("strokeColor")),o(a)):r.warn({v:i},"[{v}] is not a valid value for strokeColor")}else"object"==typeof i&&i.constructor===Array&&t.isColor(i)?(e(this.style("strokeColor")),o(n.cloneArray(i))):r.warn({v:i},"[{v}] is not a valid value for strokeColor")},function(e){return t.normalize(e),e}),o.define(0,"strokeStyle",[1,0],function(e){if("object"==typeof e&&e.constructor===Array){if(n.validNumericValue(e)){if(2!==e.length)return r.warn({val:e},"[{val}] is not a valid strokeStyle value."),!1;for(var t=0;t<e.length;t++)e[t]<0&&(e[t]=0);return n.cloneArray(e)}return r.warn({val:e},"[{val}] is not a valid strokeStyle value."),!1}return r.warn({val:e},"[{val}] is not a valid strokeStyle value"),!1},function(e){return n.cloneArray(e)}),i.morph("strokeStyle",0,function(e,t,o){"object"==typeof o&&o.constructor===Array&&n.validNumericArray(o)&&2===o.length?(e(this.style("strokeStyle")),t(n.cloneArray(o))):r.warn({v:o},"[{v}] is not a valid value for strokeColor")},function(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e})}]),$R.service["class"]("Objects",["+Model","+Path","Debug",function DefaultObjectModel(e,t,n){var r=this.extension("Style"),o=this.extension("Animation");r.define(2,"position",[0,0],function(t){return e.validNumericArray(t)&&2===t.length?e.cloneArray(t):(n.warn("Invalid numeric array for position!"),!1)},function(t){return e.cloneArray(t)}),o.morph("position",2,function(t,r,o){e.validNumericArray(o)&&2===o.length?(t(this.style("position")),r(e.cloneArray(o))):n.warn({v:o},"Invalid value for position")},function(e){return e}),r.define(0,"rotate",0,function(e){if("number"==typeof e)return e<-360&&(e+=360),e>360&&(e-=360),e=e*Math.PI/180},function(e){return e*(180/Math.PI)}),o.morph("rotate",0,function(e,t,r){"number"==typeof r?(e(this.style("rotate")),t(r)):n.warn({v:r},"Is not a valid value to animate rotate")},function(e){return e}),r.define(0,"translate",[0,0],function(t){return e.validNumericArray(t)&&2===t.length?e.cloneArray(t):(n.warn("Invalid numeric array for translate!"),!1)},function(t){return e.cloneArray(t)}),o.morph("translate",0,function(t,r,o){e.validNumericArray(o)&&2===o.length?(t(this.style("translate")),r(e.cloneArray(o))):n.warn({v:o},"Invalid value for translate")},function(e){return e}),r.define(0,"opacity",1,function(e){return"number"==typeof e?(e<0&&(e=0),e>1&&(e=1),e):(n.warn("Opacity value is not a number"),!1)},function(e){return e}),o.morph("opacity",0,function(e,t,r){"number"==typeof r?(r<0&&(r=0),r>1&&(r=1),e(this.style("opacity")),t(r)):n.warn({v:r},"Invalid value for translate")},function(e){return e<0&&(e=0),e>1&&(e=1),e}),r.define(0,"scale",[1,1],function(t){return"number"==typeof t?t>0?[t,t]:[0,0]:e.validNumericArray(t)&&2===t.length?e.cloneArray(t):(n.warn("Unknown type of value for scale!"),!1)},function(t){return e.cloneArray(t)}),o.morph("scale",0,function(t,r,o){if("number"==typeof o)o<0&&(o=0),t(this.style("scale")),r([o,o]);else if(e.validNumericArray(o)&&2===o.length){t(this.style("scale"));var i=[o[0],o[1]];i[0]<0&&(i[0]=0),i[1]<0&&(i[1]=0),r(i)}else n.warn({v:o},"Invalid value for scale")},function(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e}),r.define(0,"skew",[0,0],function(t){if("number"==typeof t){t>360&&(t-=360),t<-360&&(t+=360);var r=t*Math.PI/180;return[r,r]}if(e.validNumericArray(t)&&2===t.length){t[0]>360&&(t[0]=t[1]-360),t[1]<-360&&(t[1]=t[1]+360);var o=t[0]*Math.PI/180,i=t[1]*Math.PI/180;return[o,i]}n.warn({v:t},"Ubknown value format for skew. [{v}]")},function(t){return e.cloneArray(t)}),o.morph("skew",0,function(t,r,o){"number"==typeof o?(t(this.style("skew")),r([o,o])):e.validNumericArray(o)&&2===o.length?(t(this.style("skew")),r(e.cloneArray(o))):n.warn({v:o},"Invalid value for skew")},function(e){return e}),r.define(0,"origin",[.5,.5],function(t){return"object"==typeof t&&t.constructor===Array?e.validNumericArray(t)&&2===t.length?[t[0],t[1]]:(n.warn("Unknown format of value for origin. Invalid Array!"),!1):(n.warn("Unknown type of value for origin"),!1)},function(t){e.cloneArray(t)}),o.morph("origin",0,function(t,r,o){e.validNumericArray(o)&&2===o.length?(t(this.style("origin")),
r(e.cloneArray(o))):n.warn({v:o},"Invalid value for origin")},function(e){return e}),r.define(2,"cap","round",function(e){return"string"==typeof e?"round"===e||"butt"===e||"square"===e?e:(n.error({val:e},"{val} is incorrect value for line cap property!"),!1):void n.error("Cap property is a string!")},function(e){return e}),r.define(0,"blending","source-over",function(t){return e.validBlending(t)?t:(n.warn({val:t}," [{val}] is not a valid blending!"),!1)},function(e){return e}),"Group"!==this.type()&&r.define(1,"anchor",["left","top"],function(e){return"object"==typeof e&&e.constructor===Array&&2===e.length?"left"!==e[0]&&"center"!==e[0]&&"right"!==e[0]||"top"!==e[1]&&"middle"!==e[1]&&"bottom"!==e[1]?(n.warn({v:e},'[{v}] is not a valid value. Array ["left" || "center" || "right" , "top" || "middle" || "bottom" ] is required format.'),!1):[e[0],e[1]]:(n.warn({v:e},"[{v}] is not a valid anchor value for text element"),!1)},function(e){return[e[0],e[1]]})}]),$R.service["class"]("Objects",["+Model","+Color","Debug",function DefaultFreeStrokeModel(e,t,n){var r=this.extension("Style");r.define(1,"interpolation",0,function(e){return e>.4&&(e=.4),e<0&&(e=0),e},function(e){return e}),r.define(2,"strokeColor",["rgba(0,0,0,1)"],function(e){if("string"==typeof e){if(t.colorToArray(e)){for(var o=r.get("path"),i=[],a=0;a<o.length;a++)i[a]=e;return i}return n.warn({val:e},"Line Model / {val} is not a color!"),!1}if("object"==typeof e&&e.constructor==Array){for(var o=r.get("path"),s=r.get("strokeColor"),i=[],a=0;a<o.length;a++)e[a]?"string"==typeof e[a]?t.colorToArray(e[a])?i.push(e[a]):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):("object"==typeof e[a]||e[a].constructor==Array)&&t.isColor(e[a])?i.push(t.arrayToColor(e[a])):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!"));return i.length?i:(n.warn({val:e},"Line Model / {val} is not a color!"),!1)}if("object"==typeof e){for(var o=r.get("path"),s=r.get("strokeColor"),i=[],a=0;a<o.length;a++)e[a]?"string"==typeof e[a]?t.colorToArray(e[a])?i.push(e[a]):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):("object"==typeof e[a]||e[a].constructor==Array)&&t.isColor(e[a])?i.push(t.arrayToColor(e[a])):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, no changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, no changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!"));return i.length?i:(n.warn({val:e},"Line Model / {val} is not a color!"),!1)}return n.warn("Line Model / Wrong type of value"),!1},function(e){for(var n=[],r=0;r<e.length;r++)n.push(t.colorToArray(e[r]));return n}),r.define(2,"strokeWidth",[1],function(e){if("number"==typeof e){for(var t=r.get("path"),o=[],i=0;i<t.length;i++)o.push(e);return o}if("object"==typeof e&&e.constructor==Array){for(var t=r.get("path"),a=r.get("strokeWidth"),o=[],i=0;i<t.length;i++)"number"==typeof e[i]?o.push(e[i]):a[i]?(o.push(a[i]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):(o.push(a[a.length-1]),n.warn({val:e[i]},"Line Model / {val} is not a number!"));return o}if("object"==typeof e){for(var t=r.get("path"),a=r.get("strokeWidth"),o=[],i=0;i<t.length;i++)e[i]?"number"==typeof e[i]?o.push(e[i]):a[i]?(o.push(a[i]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):(o.push(a[a.length-1]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):a[i]?(o.push(a[i]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):o.push(a[a.length-1]);return o}n.warn({val:e},"Line Model / {val} is not valid value for strokeWidth!")},function(t){return e.cloneArray(t)}),r.define(2,"strokeStyle",[[1,0]],function(t){if("object"==typeof t&&t.constructor==Array){if(e.validNumericArray(t)){for(var o=[],i=r.get("path"),a=0;a<i.length;a++)o.push(e.cloneArray(t));return o}for(var o=[],i=r.get("path"),s=r.get("strokeStyle"),a=0;a<i.length;a++)t[a]?e.validNumericArray(t[a])?o.push(t[a]):(s[a]?o.push(s[a]):o.push(s[s.length-1]),n.warn({val:t[a]},"Line Model / {val} is not a valid value for strokeStyle!")):s[a]?o.push(s[a]):o.push(s[s.length-1]);return o}if("object"==typeof t){for(var o=[],s=r.get("strokeStyle"),i=r.get("path"),a=0;a<i.length;a++)t[a]?e.validNumericArray(t[a])?o.push(t[a]):(s[a]?o.push(s[a]):o.push(s[s.length-1]),n.warn({val:t[a]},"Line Model / {val} is not a valid value for strokeStyle!")):s[a]?o.push(s[a]):o.push(s[s.length-1]);return o}},function(t){return e.cloneArray(t)})}]),$R.service["class"]("Objects",["+Model","+Color","Debug","Resource",function GlobalBackgroundModel(e,t,n,r){function SyncBgProperty(t,n,r){for(var o=0;o<t.length;o++)n[o]||n.push(e.cloneArray(r));t.length<n.length&&n.splice(t.length-1,n.length-path.length)}var o=this.extension("Style"),i=this.extension("Animation");o.define(0,"fill","rgba(0,0,0,1)",function(e){return"string"==typeof e?t.colorToArray(e)?e:(n.warn({val:e},"[{val}] is not a valid color!"),!1):"object"==typeof e&&e.constructor===Array?t.isColor(e)?t.arrayToColor(e):(n.warn({val:e},"[{val}] is not a valid color"),!1):(n.warn({val:e},"[{val}] is not a valid color!"),!1)},function(e){return t.colorToArray(e)}),i.morph("fill",0,function(r,o,i){if("string"==typeof i){var a=t.colorToArray(i);a?(r(this.style("fill")),o(a)):n.warn({v:i},"[{v}] is not avalid color!")}else"object"==typeof i&&i.constructor===Array?t.isColor(i)&&(r(this.style("fill")),o(e.cloneArray(i))):n.warn({v:i},"[{v}] is not a valid color!")},function(e){return t.normalize(e),e}),o.define(0,"bg",[],function(t){if("string"==typeof t){if(e.isSpriteString(t)){var i=e.readSpriteString(t),a=r.sprite(i.url);return a.config(i.frames),[a]}return[r.image(t)]}if("object"==typeof t||t.constructor===Array){if(2===t.length&&"string"==typeof t[0]&&"number"==typeof t[1]){if(t[1]>0){var a=r.sprite(t[0]);return a.config(t[1]),[a]}return!1}for(var s=[],u=0;u<t.length;u++)if("string"==typeof t[u])if(e.isSpriteString(t[u])){var i=e.readSpriteString(t[u]),a=r.sprite(i.url);a.config(i.frames),s.push(t)}else s.push(r.image(t[u]));else if("object"==typeof t[u]&&t[u].constructor==Array){if(2==t[u].length&&"string"==typeof t[u][0]&&"number"==typeof t[u][1])if(t[u][1]>0){var a=r.sprite(t[u][0]);a.config(t[u][1]),s.push(a)}else n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bg value. Skipped.")}else n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bg value. Skipped");return s}if("object"==typeof t){for(var c=o.get("bg"),s=[],u=0;u<c.length;u++)if(t[u])if("object"==typeof t[u]&&t[u].constructor==Array)if("string"==typeof t[u][0]&&"number"==typeof t[u][1]){var a=r.sprite(t[u][0]);a.config(t[u][1]),s.push(a)}else n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bg array value.");else if("string"==typeof t[u])if(e.isSpriteString(t[u])){var i=e.readSpriteString(t[u]),a=r.sprite(i.url);a.config(i.frames),s.push(t)}else s.push(r.image(t[u]));else s.push(c[u]),n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid value for bg.");else s.push(c[u]);return s}return n.warn({val:t},"[{val}] is not valid value for bg"),!1},function(e){for(var t=[],r=0;r<e.length;r++)"Image"==e[r].type?t.push(e[r].url()):"Sprite"==e[r].type?t.push(e[r].url()+"["+e[r].frames()+"]"):n.error({val:e[r],i:r}+"[{i}][{val}] Unknown type of the background object container. Critical error.");return t});var a=[0,0];o.define(2,"bgPosition",[a],function(t){if("object"==typeof t&&t.constructor==Array){if(e.validNumericArray(t)&&2==t.length){for(var r=o.get("bg"),i=[],s=[t[0],t[1]],u=0;u<r.length;u++)i.push(s);return i}for(var i=[],r=o.get("bg"),c=o.get("bgPosition"),u=0;u<r.length;u++)t[u]?e.validNumericArray(t[u])&&2==t[u].length?i.push([t[0],t[1]]):(c[u]?i.push(c[u]):i.push(e.cloneArray(a)),n.warn({i:u,val:t[u]},"[{i}][{val}] is not a valid bgposition value")):c[u]?i.push(c[u]):i.push(e.cloneArray(a));return i}if("object"==typeof t){for(var i=[],r=o.get("bg"),c=o.get("bgPosition"),u=0;u<r.length;u++)t.hasOwnProperty(u)?c[u]?e.validNumericValue()&&2==t[u].length?i.push([t[0],t[1]]):(i.push(c[u]),n.warn({i:u,val:t[u]},"[{i}][{val}] is not a valid bgposition value")):i.push(e.cloneArray(a)):c[u]?i.push(c[u]):i.push(e.cloneArray(a));return i}n.warn({val:t},"[{val}] is not a valid bgposition value")},function(t){return e.cloneArray(t)});var s=[1,1];o.define(1,"bgSize",[s],function(t){if("object"==typeof t&&t.constructor==Array){if(2==t.length&&e.validNumericArray(t)){for(var r=o.get("bg"),i=[],a=[t[0],t[1]],u=0;u<r.length;u++)i.push(a);return i}for(var r=o.get("bg"),c=o.get("bgSize"),i=[],u=0;u<r.length;u++)2==t[u].length&&e.validNumericArray(t[u])?i.push(t[u][0],t[u][1]):(c[u]?i.push(c[u]):i.push(e.cloneArray(s)),n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bgsize value"));return i}if("object"==typeof t){for(var r=o.get("bg"),c=o.get("bgSize"),i=[],u=0;u<r.length;u++)t.hasOwnProperty(u)?"object"==typeof t[u]&&t[u].constructor==Array&&2==t[u].length&&e.validNumericArray(t[u])?i.push([t[u][0],t[u][1]]):(c[u]?i.push(c[u]):i.push(e.cloneArray(s)),n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bgsize value.")):c[u]?i.push(c[u]):i.push(e.cloneArray(s));return i}},function(t){return e.cloneArray(t)}),this.watch("bg",function(e,t){e.length!==t.length&&(SyncBgProperty(t,o.get("bgPosition"),a),SyncBgProperty(t,o.get("bgSize"),s))})}]),$R.service["class"]("Objects",["+Model",function GlobalSizeModel(e){var t=this.extension("Animation"),n=this.extension("Style");t.morph("size",1,function(t,n,r){"number"==typeof r?(r<0&&(r=0),t(this.style("size")),n([r,r])):"object"==typeof r&&r.constructor==Array&&e.validNumericArray(r)&&2==r.length?(r[0]<0&&(r[0]=0),r[1]<0&&(r[1]=0),t(this.style("size")),n(e.cloneArray(r))):Debug.warn({v:r},"[{v}] is not valid value for size")},function(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e}),n.define(1,"size",[0,0],function(t){return"number"==typeof t?(t<0&&(t=0),[t,t]):"object"==typeof t&&t.constructor==Array&&2==t.length&&e.validNumericArray(t)?(t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),[t[0],t[1]]):(Debug.warn({val:t},"[{val}] is not valid value for size!"),!1)},function(t){return e.cloneArray(t)})}]),$R.service["class"]("Objects",["@extend",function GroupObjectModel(e){e(this,"$DefaultObjectModel")}]),$R.service["class"]("Objects",["@extend","Debug",function ImageObjectModel(e,t){e(this,"$DefaultObjectModel"),e(this,"$GlobalSizeModel");var n=this.extension("Style");n.define(0,"src",null,function(e){return"string"==typeof e?e:(t.warn({val:e},"[{val}] is not a valid src value"),!1)},function(e){return e})}]),$R.service["class"]("Objects",["@extend","+Model","+Path","+Color","Debug",function LineObjectModel(e,t,n,r,o){function SyncPathProperty(e,t){for(var n=0;n<e.length;n++)t[n]||t.push(t[t.length-1])}e(this,"$DefaultObjectModel"),e(this,"$DefaultFreeStrokeModel");var i=this.extension("Style");i.define(0,"path",[[0,0,0,0,0,0,0,0]],function(e){if(n.checkSimplePath(e)){var t=i.get("path"),r=n.convertSimplePath(e);return t.length!==r.length&&(SyncPathProperty(r,i.get("strokeStyle")),SyncPathProperty(r,i.get("strokeWidth")),SyncPathProperty(r,i.get("strokeColor"))),r}return o.warn("Line Model / Invalid value for path!"),!1},function(e){return n.convertComplexPath(e)})}]),$R.service["class"]("Objects",["@extend","+Model","+Color","Debug",function RectangleObjectModel(e,t,n,r){e(this,"$DefaultObjectModel"),e(this,"$GlobalBackgroundModel"),e(this,"$GlobalSizeModel");var i=this.extension("Style"),a=this.extension("Animation");i.define(0,"radius",[0,0,0,0],function(e){if("number"==typeof e)return e=Math.round(e),[e,e,e,e];if("object"==typeof e){if(e.constructor!==Array){for(var t=i.get("radius"),n=[],r=0;r<t.length;r++)"number"==typeof e[r]?n.push(Math.round(e[r])):n.push(t[r]);return n}for(var o=[],a=!0,r=0;r<e.length;r++){if("number"!=typeof e[r]){a=!1;break}e[r]<0?o.push(0):o.push(Math.round(e[r]))}if(a){for(var n=[],t=this.style("radius"),r=0;r<t.length;r++)void 0!==o[r]?n.push(o[r]):n.push(t[r]);return n}}},function(e){return t.cloneArray(e)}),a.morph("radius",1,function(e,t,n){if("number"==typeof n)n<0&&(n=0),e(this.style("radius")),t([n,n,n,n]);else if("object"==typeof n){var o=this.style("radius"),i=[];e(o);for(var a=0;a<o.length;a++)"number"==typeof n[a]?n[a]<0?i.push(0):i.push(Math.round(n[a])):i.push(o[a]);t(i)}else r.warn({v:n},"{v} is not a valid radius value for rectangle")},function(e){return e}),i.define(0,"strokeColor",["rgba(0,0,0,1)","rgba(0,0,0,1)","rgba(0,0,0,1)","rgba(0,0,0,1)"],function(e){if("string"==typeof e)return n.colorToArray(e)?[e,e,e,e]:(r.warn({value:val}," [{val} is not a valid stroke string"),!1);if("object"==typeof e&&e.constructor===Array){for(var t=i.get("strokeColor"),o=[],a=0;a<t.length;a++)e[a]?"string"==typeof e[a]?n.colorToArray(e[a])?o.push(e[a]):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid stroke color value!")):"object"==typeof e[a]&&e[a].constructor===Array?n.isColor(e[a])?o.push(n.arrayToColor(e[a])):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid stroke color value")):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid color value")):o.push(t[a]);return o}if("object"==typeof e){for(var t=i.get("strokeColor"),o=[],a=0;a<t.length;a++)e.hasOwnProperty(a)?"string"==typeof e[a]?n.colorToArray(e[a])?o.push(e[a]):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid color value")):"object"==typeof e[a]&&e[a].constructor===Array&&n.isColor(e[a])?o.push(n.arrayToColor(e[a])):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid color value")):o.push(t[a]);return o}return r.warn({val:e},"[{val}] is not a valid value for strokeColor!"),!1},function(e){for(var t=[],r=0;r<e.length;r++)t.push(n.colorToArray(e[r]));return t}),a.morph("strokeColor",0,function(e,o,i){if("string"==typeof i){var a=n.colorToArray(i);a?(o([t.cloneArray(a),t.cloneArray(a),t.cloneArray(a),t.cloneArray(a)]),e(this.style("strokeColor"))):r.warn({v:i},"{v} is not a valid color")}else if("object"==typeof i&&i.constructor===Array)if(n.isColor(i))o([t.cloneArray(i),t.cloneArray(i),t.cloneArray(i),t.cloneArray(i)]),e(this.style("strokeColor"));else{for(var s=this.style("strokeColor"),u=[],c=!1,l=0;l<s.length;l++)if("string"==typeof i[l]){var a=n.colorToArray(i[l]);a?(u.push(a),c=!0):u.push(f[l])}else"object"==typeof i[l]&&i[l].constructor===Array&&i[l]&&n.isColor(i[l])?(u.push(t.cloneArray(i[l])),c=!0):u.push(f[l]);c?(e(s),o(u)):r.warn({v:i},"[{v}] is not a valid value for strokeColor")}else if("object"==typeof i){for(var f=this.style("strokeColor"),u=[],c=!1,l=0;l<f.length;l++)if("string"==typeof i[l]){var a=n.colorToArray(i[l]);a?(u.push(a),c=!0):u.push(f[l])}else"object"==typeof i[l]&&i[l].constructor===Array&&n.isColor(i[l])?(u.push(t.cloneArray(i[l])),c=!0):u.push(f[l]);c?(e(f),o(u)):r.warn({v:i},"[{v}] is not a valid value for strokeColor!")}},function(e){for(var t=0;t<e.length;t++)n.normalize(e[t]);return e}),i.define(0,"strokeWidth",[1,1,1,1],function(e){if("number"==typeof e)return[e,e,e,e];if("object"==typeof e&&e.constructor===Array){for(var t=i.get("strokeWidth"),n=[],o=0;o<t.length;o++)e[o]?"number"==typeof e[o]?n.push(e[o]):(n.push(t[o]),r.warn({val:e}," [{val}] is not a valid stroke width value")):n.push(t[o]);return n}if("object"==typeof e){for(var n=[],t=i.get("strokeWidth"),o=0;o<t.length;o++)e.hasOwnProperty(o)?"number"==typeof e[o]?n.push(e[o]):(r.warn({val:e},"[{val}] is not a valid value for strokeWidth"),n.push(t[o])):n.push(t[o]);return n}return r.warn({val:e}," [{val}] is not a valid strokeWidth value"),!1},function(e){return t.cloneArray(e)}),a.morph("strokeWidth",0,function(e,t,n){if("number"==typeof n)t([n,n,n,n]),e(this.style("strokeWidth"));else if("object"==typeof n&&n.constructor===Array){for(var o=this.style("strokeWidth"),i=[],a=0;a<o.length;a++)n[a]&&"number"==typeof n[a]?i.push(n[a]):i.push(o[a]);t(i),e(o)}else if("object"==typeof n){for(var o=this.style("strokeWidth"),i=[],s=!1,a=0;a<o.length;a++)n[a]&&"number"==typeof n[a]?(i.push(n),s=!0):i.push(o[a]);s?(t(i),e(o)):r.warn({v:n}," [{v}] is not a valid strokeWidth object")}else r.warn({v:n}," [{v}] is not a valid value for strokeWidth")},function(e){return e}),i.define(0,"strokeStyle",[[1,0],[1,0],[1,0],[1,0]],function(e){if("object"!=typeof e)return r.warn({val:e}," [{val}] is not valid strokeStyle value"),!1;if(e.constructor!==Array){for(var n=[],o=i.get("strokeStyle"),a=0;a<o.length;a++)e.hasOwnProperty(a)?"object"==typeof e[a]&&e[a].constructor===Array?t.validNumericArray(e[a])&&2===e[a].length?n.push(t.cloneArray(e[a])):(n.push(o[a]),r.warn({val:e[a]},"[{val}] is not a valid strokeStyle value")):(n.push(o[a]),r.watch({val:e[a]}," [{val}] is not a valid strokeStyle value")):n.push(o[a]);return n}if(!t.validNumericArray(e)){for(var n=[],o=i.get("strokeStyle"),a=0;a<o.length;a++)e[a]?t.validNumericArray(e[a])&&2===e.length?n.push(t.cloneArray(e[a])):(n.push(o[a]),r.warn({val:e[a]}," [{val}] is not a valid stroke style value")):n.push(o[a]);return n}return 2===e.length?[e,e,e,e]:void r.warn({v:e}," [{v}] is not a valid value for stroke width!")},function(e){return t.cloneArray(e)}),a.morph("strokeStyle",0,function(e,n,i){if("object"==typeof i)if(i.constructor===Array)if(t.validNumericArray(i))2===i.length?(e(this.style("strokeStyle")),n(t.cloneArray(i),t.cloneArray(i),t.cloneArray(i),t.cloneArray(i))):r.warn({v:i}," [{v}] is not a valid strokeStyle value!");else{for(var a=this.style("strokeStylr"),s=[],u=!1,c=0;c<a.length;c++)i[c]&&t.validNumericArray(i[c])&&2===i[c].length?(s.push(t.cloneArray(i[c])),u=!0):s.push(a[c]);u?(e(a),n(s)):r.warn({v:i},"[{v}] is not a valid strokeStyle value")}else{for(var a=this.style("strokeStyle"),s=[],u=!1,c=0;c<a.length;c++)i[c]&&t.validNumericArray(i[c])&&2===i[c].length?(s.push(t.cloneArray(i[o])),u=!0):s.push(a[c]);u?(e(a),n(s)):r.warn({v:i},"[{v}] is not a valid strokeStyleValue")}else r.warn({v:i},"[{v}] is not a valid strokeStyleValue")},function(e){return e})}]),$R.service["class"]("Objects",["@extend","+Model","Debug",function SpriteObjectModel(e,t,n){e(this,"$DefaultObjectModel"),e(this,"$GlobalSizeModel");var r=this.extension("Style");r.define(0,"src",null,function(e){return"string"==typeof e?t.isSpriteString(e)?e:(n.warn({val:e},"[{val}] is not a valid value for sprite src"),!1):"object"==typeof e&&e.constructor==Array?"string"==typeof e[0]&&"number"==typeof e[1]&&e[1]>0?e[0]+"["+e[1]+"]":(n.warn({val:e},"[{val}] is not a valid sprite src"),!1):void n.warn({val:e},"[{val}] is not a valid sprite src")},function(e){return e})}]),$R.service["class"]("Objects",["@extend","+Model","+Color","Debug","@Fonts",function TextObjectModel(e,t,n,r,o){e(this,"$DefaultObjectModel");var i=this.extension("Style"),a=this.extension("Text"),s=this.extension("Animation"),u=this;i.define(1,"size",["auto","auto"],function(e){if("string"==typeof e&&"auto"===e)return a.limits(1/0,1/0),[e,e];if("number"==typeof e)return a.limits(e,e),[e,e];if("object"==typeof e&&e.constructor===Array&&2===e.length){for(var t=!0,n=0;n<e.length;n++)if("string"!=typeof e[n]&&"number"!=typeof e[n]||"string"==typeof e[n]&&"auto"!==e[n]){t=!1;break}return t?("number"==typeof e[0]&&e[0]<0&&(e[0]=0),"number"==typeof e[1]&&e[1]<0&&(e[1]=0),a.limits("auto"===e[0]?1/0:e[0],"auto"===e[1]?1/0:e[1]),[e[0],e[1]]):(r.warn({v:e},"[{v}] is not a valid size array"),!1)}return r.warn({v:e},"[{v}] is not a valid value for size"),!1},function(e){return[e[0],e[1]]}),i.define(1,"str","",function(e){return"string"==typeof e&&e},function(e){return e});var c="sans-serif";i.define(1,"font","sans-serif",function(e){if("string"==typeof e)return c=o.format(e),u.style("systemFont",null),e},function(e){return e}),i.define(1,"systemFont",c,function(){return c},function(){return c}),i.define(1,"weight",400,function(e){return"number"==typeof e&&(e<100&&(e=100),e>900&&(e=900),e%100!==0&&(e-=e%100),e)},function(e){return e}),i.define(1,"style","normal",function(e){return"string"==typeof e&&("normal"===e||"italic"===e||"oblique"===e)&&e},function(e){return e}),i.define(1,"lineHeight",14,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.define(1,"fontSize",14,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.define(1,"color","rgba(0,0,0,1)",function(e){return"string"==typeof e?n.colorToArray(e)?e:(r.warn({val:e},"[{val}] is not a valid color!"),!1):"object"==typeof e&&e.constructor===Array?n.isColor(e)?n.arrayToColor(e):(r.warn({val:e},"[{val}] is not a valid color"),!1):(r.warn({val:e},"[{val}] is not a valid color!"),!1)},function(e){return n.colorToArray(e)}),i.define(1,"align","left",function(e){return"center"===e||"left"===e||"right"===e?e:(r.warn({v:e},"[{v}] is not a proper value for aling text property"),!1)},function(e){return e}),s.morph("color",1,function(e,o,i){if("string"==typeof i){var a=n.colorToArray(i);a?(e(this.style("fill")),o(a)):r.warn({v:i},"[{v}] is not avalid color!")}else"object"==typeof i&&i.constructor===Array?n.isColor(i)&&(e(this.style("fill")),o(t.cloneArray(i))):r.warn({v:i},"[{v}] is not a valid color!")},function(e){return n.normalize(e),e})}]),$R.service["class"]("Sound",["+Animation","Morphine",function Animation(e,t){function Resolve(e){if(e==p)for(var t=0;t<a.length;t++)c.hasOwnProperty(a[t].morph.property())&&c[a[t].morph.property()].apply(u,[n,a[t].result]);else if(e==v){i=!0;for(var r={},t=0;t<a.length;t++)r[a[t].morph.property()]=a[t].result;d.done(1,r),h()}}var n=0,r=null,o=null,i=!1,a=null,s=null,u=null,c=null,l=!1,f=!1,h=null,p="type",v="complete",d=null;this.target=function(){return u},this.queue=function(){return l},this.active=function(){return f},this.done=function(){return i},this.hasProperty=function(e){for(var t=0,n=0;n<a.length;n++)if(a[n].morph.property()==e){t=n+1;break}return t},this.properties=function(){for(var e=[],t=0;t<a.length;t++)e.push(a[t].morph.property());return e},this.stop=function(e){if(e){var t=this.hasProperty(e);t&&(t-=1,a.splice(t,1))}else a=[]},this.start=function(){f=!0;for(var n=[],i=0;i<a.length;i++){var u=a[i].morph.get(a[i].value);void 0!==u&&u.start()!==!1&&u.end()!==!1&&n.push(a[i])}a=n;var c=e.getTickFunction();s=t.create(0,1,function(e,t){if(0==a.length)Resolve(v),s.stop();else{for(var n=0;n<a.length;n++)a[n].result=c(t,a[n].morph.start(),a[n].morph.end()),a[n].morph.apply(e,a[n].result);Resolve(p),1==e&&Resolve(v)}},o,r,0)},this.config=function(t,n,i,s){e.normalizeConfig(i),r=i.duration,o=i.easing,c=i.step,l=i.queue,h=s,a=n,u=t,d=i}}]),$R.service["class"]("Sound",["Debug",function Morph(e){function SetStartValue(e){t=e}function SetEndValue(e){n=e}var t,n,r=null,o=null,i=null,a=null,s=!1,u=0;this.start=function(){return t},this.end=function(){return n},this.property=function(){return r},this.ordering=function(){return u},this.get=function(e){return o.apply(a,[SetStartValue,SetEndValue,e]),this},this.valid=function(){return s},this.apply=function(e,t){a.filter(r,i.apply(a,[t,e]))},this.config=function(t,n,c,l,f){return"string"!=typeof t?void e.error({name:t},"Unable to config Morph. arg1 [{name}] is not a string!"):"object"!=typeof n?void e.error({name:t},"Unable to config Morph. arg3 is not an object!"):"function"!=typeof l?void e.error({name:t},"Unable to config Morph. arg4 is not a function!"):"number"!=typeof c?void e.error({name:t},"Unable to config Morph. arg2 is not a number!"):"function"!=typeof f?void e.error({name:t},"Unable to config Morph. arg5 is not a function!"):(r=t,o=l,i=f,u=c,a=n,void(s=!0))}}]),$R.helper.system(function Animation(){function TickVal(e,t,n,r){var o=!1,i=!1;if("function"==typeof n&&(o=n()),"function"==typeof r&&(i=r()),n.constructor===Array)for(var a=[],s=0;s<n.length;s++)a.push(TickVal(e,t,n[s],r[s]));else if("object"==typeof n){var a={};for(var u in n)a[u]=TickVal(e,t,n[u],r[u])}else if("number"==typeof n||"function"==typeof n){var c=i===!1?r:i,l=o===!1?n:o,f=c-l,a=l+f*e;t>=1&&(a=c)}return a}this.normalizeConfig=function(e){e.duration="number"==typeof e.duration&&e.duration>0?e.duration:1e3,e.queue=!!e.queue,e.step="object"==typeof e.step?e.step:{},e.easing="string"==typeof e.easing?e.easing:"linear",e.done="function"==typeof e.done?e.done:function(){}},this.getTickFunction=function(){return TickVal}}),$R.helper.system(function Color(){function NormalizeColorArray(e){if(e!==!1&&void 0!==e){for(var t=0;t<e.length;t++)e[t]=e[t]<=255?e[t]:255,e[t]=e[t]>=0?e[t]:0,e[t]=3!==t&&0!==e[t]?parseInt(e[t]):e[t],e[t]=(3==t&&e[t])<=1?e[t]:1,e[t]=Math.abs(e[t]);return e}return!1}function ParseColour(e){var t,n=parseInt,e=e.replace(/\s\s*/g,"");if(t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})/.exec(e))t=[n(t[1],16),n(t[2],16),n(t[3],16)];else if(t=/^#([\da-fA-F])([\da-fA-F])([\da-fA-F])/.exec(e))t=[17*n(t[1],16),17*n(t[2],16),17*n(t[3],16)];else if(t=/^rgba\(([\d]+),([\d]+),([\d]+),([\d]+|[\d]*.[\d]+)\)/.exec(e))t=[+t[1],+t[2],+t[3],+t[4]];else{if(!(t=/^rgb\(([\d]+),([\d]+),([\d]+)\)/.exec(e)))return!1;t=[+t[1],+t[2],+t[3]]}return isNaN(t[3])&&(t[3]=1),NormalizeColorArray(t.slice(0,4))}this.colorToArray=ParseColour,this.normalize=NormalizeColorArray,this.isColor=function(e){var t=!1;if(4===e.length)for(var n=0;n<e.length;n++)"number"==typeof e[n]||"string"==typeof e[n]?"string"==typeof e[n]&&isNaN(1*e[n])&&(t=!0):t=!0;else t=!0;return t&&console.warn({array:e},"Invalid Color {array}. Value is not a color Array.",this),!t},this.arrayToColor=function(e){if(e&&4===e.length){for(var t="rgba(",n=0;n<e.length;n++)t+=3===n?e[n]+")":e[n]+",";return t}return console.warn("Unknown Input array format. Should be [R,G,B,A];"),!1}}),$R.helper.system(function Drawer(e){var t=document.createElement("canvas").getContext("2d");this.measureText=function(e){t.save();var n=e(t);return t.restore(),n},this.transform=function(e,t){t.transform.apply(t,e.matrix().extract())},this.drawLineBgClipPath=function(t,n,r,o,i){var a=r.get("bg"),s=r.get("bgSize"),u=r.get("bgPosition");t.save(),t.beginPath(),t.moveTo(n[0][0],n[0][1]);for(var c=0;c<n.length;c++){var l=n[c][0],f=n[c][1],h=n[c][2],p=n[c][3];if("number"!=typeof l||"number"!=typeof h||"number"!=typeof f||"number"!=typeof p){e.error("Invalid path!");break}t.lineTo(h,p)}t.closePath(),t.clip();for(var v=0;v<a.length;v++)if(a[v].loaded()){t.save();var d=box.size[0]*s[v][0],g=box.size[1]*s[v][1],y=box.size[0]*u[v][0],b=box.size[1]*u[v][1];t.translate(i.margin[3]+y,i.margin[0]+b),t.drawImage(a[c]["export"](),0,0,d,g),t.restore()}else a[v].on("load",function(){o.update("bg")});t.restore()},this.drawBezierBgClipPath=function(t,n,r,o,i){var a=r.get("bg"),s=r.get("bgSize"),u=r.get("bgPosition");t.save(),t.beginPath(),t.moveTo(n[0][0],n[0][1]);for(var c=0;c<n.length;c++){var l=n[c][0],f=n[c][1],h=n[c][2],p=n[c][3],v=n[c][4],d=n[c][5],g=n[c][6],y=n[c][7];if("number"!=typeof l||"number"!=typeof h||"number"!=typeof f||"number"!=typeof p){e.error("Invalid path!");break}if("number"!=typeof v||"number"!=typeof g||"number"!=typeof d||"number"!=typeof y){e.error("Invalid curve!");break}t.bezierCurveTo(v,d,g,y,h,p)}t.closePath(),t.clip();for(var b=0;b<a.length;b++)if(a[b].loaded()){t.save();var m=box.size[0]*s[b][0],w=box.size[1]*s[b][1],C=box.size[0]*u[b][0],x=box.size[1]*u[b][1];t.translate(i.margin[3]+C,i.margin[0]+x),t.drawImage(a[c]["export"](),0,0,m,w),t.restore()}else a[b].on("load",function(){o.update("bg")});t.restore()},this.drawLinePathFill=function(t,n,r){var o=r.get("fill"),i=r.get("cap");t.save(),t.lineCap=i,t.moveTo(n[0][0],n[0][1]),t.beginPath();for(var a=0;a<n.length;a++){var s=n[a][0],u=n[a][1],c=n[a][2],l=n[a][3];if("number"!=typeof s||"number"!=typeof c||"number"!=typeof u||"number"!=typeof l){e.error("Invalid path!");break}t.lineTo(c,l)}t.closePath(),t.fillStyle=o,t.fill(),t.restore()},this.drawBezierPathFill=function(t,n,r){var o=r.get("fill"),i=r.get("cap");t.save(),t.lineCap=i,t.beginPath(),t.moveTo(n[0][0],n[0][1]);for(var a=0;a<n.length;a++){var s=n[a][0],u=n[a][1],c=n[a][2],l=n[a][3],f=n[a][4],h=n[a][5],p=n[a][6],v=n[a][7];if("number"!=typeof s||"number"!=typeof c||"number"!=typeof u||"number"!=typeof l){e.error("Invalid path!");break}if("number"!=typeof f||"number"!=typeof p||"number"!=typeof h||"number"!=typeof v){e.error("Invalid curve!");break}t.bezierCurveTo(f,h,p,v,c,l)}t.closePath(),t.fillStyle=o,t.fill(),t.restore()},this.drawLinePath=function(t,n,r){var o=r.get("strokeColor"),i=r.get("strokeWidth"),a=r.get("strokeStyle"),s=r.get("cap");t.save(),t.lineCap=s;for(var u=0;u<n.length;u++){var c=n[u][0],l=n[u][1],f=n[u][2],h=n[u][3];if("number"!=typeof c||"number"!=typeof f||"number"!=typeof l||"number"!=typeof h){e.error("Invalid path!");break}i[u]<.1?t.moveTo(f,h):(t.beginPath(),t.moveTo(c,l),t.strokeStyle=o[u],t.lineWidth=i[u],t.setLineDash(a[u]),t.lineTo(f,h),t.stroke())}t.restore()},this.drawBezierPath=function(t,n,r){var o=r.get("strokeColor"),i=r.get("strokeWidth"),a=r.get("strokeStyle"),s=r.get("cap");t.save(),t.lineCap=s;for(var u=0;u<n.length;u++){var c=n[u][0],l=n[u][1],f=n[u][2],h=n[u][3],p=n[u][4],v=n[u][5],d=n[u][6],g=n[u][7];if("number"!=typeof c||"number"!=typeof f||"number"!=typeof l||"number"!=typeof h){e.error("Invalid path!");break}if("number"!=typeof p||"number"!=typeof d||"number"!=typeof v||"number"!=typeof g){e.error("Invalid curve!");break}i[u]<.1?t.moveTo(f,h):(t.beginPath(),t.moveTo(c,l),t.strokeStyle=o[u],t.lineWidth=i[u],t.setLineDash(a[u]),t.bezierCurveTo(p,v,d,g,f,h),t.stroke())}t.restore()},this.drawRectFill=function(e,t,n,r,o,i){e.save();var a=t.get("fill");e.fillStyle=a,e.rect(n,r,o,i),e.fill(),e.restore()},this.drawRectStroke=function(e,t,n,r,o,i){var a=t.get("strokeStyle"),s=t.get("strokeColor"),u=t.get("strokeWidth");e.save();for(var c=0,l=0,f=0;f<4;f++)e.beginPath(),e.strokeStyle=s[f],e.strokeWidth=u[f],e.setLineDash(a[f]),0===f&&(c=n+o,l=r),1===f&&(c=n+o,l=r+i),2===f&&(c=n,l=r+i),3===f&&(c=n,l=r),u[f]<.1?e.moveTo(c,l):(e.lineTo(c,l),e.stroke());e.restore()}}),$R.helper.system(["Debug",function Easing(e){var t={_:function(e,t,n,r){return n*(e/=r)*e*e+t},linear:function(e,t,n,r){return e/=r,t+n*e},linearSoft:function(e,t,n,r){var o=(e/=r)*e,i=o*e;return t+n*(4*i*o+-10*o*o+8*i+-2*o+e)},linearSoftOut:function(e,t,n,r){var o=(e/=r)*e,i=o*e;return t+n*(-3*i*o+11*o*o+-14*i+6*o+e)},linearSoftIn:function(e,t,n,r){var o=(e/=r)*e,i=o*e;return t+n*(-1*i*o+2*i)},easeInQuad:function(e,t,n,r){n*(e/=r)*e+t;return n*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0===e?t:n*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){return e===r?t+n:n*(-Math.pow(2,-10*e/r)+1)+t;
},easeInOutExpo:function(e,t,n,r){return 0===e?t:e===r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInBack:function(e,t,n,r,o){var i=(e/=r)*e,a=i*e;return t+n*(15.26*a*i+-43.56*i*i+39.8*a+-10.6*i+.1*e)},easeOutBack:function(e,t,n,r,o){var i=(e/=r)*e,a=i*e;return t+n*(11.24*a*i+-23.96*i*i+12.24*a+1.44*i+.04*e)},easeInOutBack:function(e,t,n,r,o){var i=(e/=r)*e,a=i*e;return t+n*(22.92*a*i+-57.78*i*i+45*a+-9.28*i+.14*e)},easeOutBounce:function(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}};this.get=function(n){return t[n]?t[n]:(e.error({name:n},"Easings / Unable to get undefined easing [{name}]. Linear easing function provided."),t.linear)}}]),$R.helper.system(function Matrix(){function multiply(e,t){var n=e[0]*t[0]+e[2]*t[1],r=e[1]*t[0]+e[3]*t[1],o=e[0]*t[2]+e[2]*t[3],i=e[1]*t[2]+e[3]*t[3],a=e[0]*t[4]+e[2]*t[5]+e[4],s=e[1]*t[4]+e[3]*t[5]+e[5];e[0]=n,e[1]=r,e[2]=o,e[3]=i,e[4]=a,e[5]=s}function applyMatrixToPoint(e,t){var n=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];t[0]=n,t[1]=r}function GraphicsTransformMatrix(e){var t=[1,0,0,1,0,0],n=[1,0,0,1,0,0],r=null,o=[];this.invert=function(){for(var e=o.length-1;e>=0;e--){if(o[e].rotate){var t=Math.sin(-o[e].rotate),r=Math.cos(-o[e].rotate);multiply(n,[r,t,-t,r,0,0])}o[e].translate&&multiply(n,[1,0,0,1,-o[e].translate[0],-o[e].translate[1]]),o[e].skew&&multiply(n,[1,Math.tan(-o[e].skew[1]),Math.tan(-o[e].skew[0]),1,0,0]),o[e].scale&&multiply(n,[1/o[e].scale[0],0,0,1/o[e].scale[1],0,0])}},this.rotate=function(e){var n=Math.sin(e),r=Math.cos(e),i=[r,n,-n,r,0,0];return multiply(t,i),o.push({rotate:e}),this},this.translate=function(e,n){var r=[1,0,0,1,e,n];return 0===e&&0===n||(multiply(t,r),o.push({translate:[e,n]})),this},this.scale=function(e,n){if(1!==e||1!==n){var r=[e,0,0,n,0,0];multiply(t,r),o.push({scale:[e,n]})}return this},this.skew=function(e,n){if(0!==e||0!==n){var r=Math.tan(e),i=Math.tan(n),a=[1,i,r,1,0,0];multiply(t,a),o.push({skew:[e,n]})}return this},this.extractGlobalInversion=function(){if(r)return r;var t=e.parent();return r||(r=[n[0],n[1],n[2],n[3],n[4],n[5]]),t&&multiply(r,t.matrix().extractGlobalInversion()),r},this.globalCursorProjection=function(e){return this.extractGlobalInversion(),applyMatrixToPoint(r,e),e},this.cursorProjection=function(e){return applyMatrixToPoint(n,e),e},this.trackLocalPoint=function(n,r){var o=e.parent();return o&&o.matrix().trackLocalPoint(n),r||applyMatrixToPoint(t,n),n},this.extract=function(){return t},this.extractInversion=function(){return n}}this.objectMatrix=function(e){var t=new GraphicsTransformMatrix(e),n=e.extension("Style"),r=e.extension("Box").box(),o=r.sprite(),i=n.get("position"),a=n.get("origin"),s=n.get("skew"),u=n.get("rotate"),c=n.get("scale"),l=n.get("translate"),f=e.type("Group")?[i[0]+l[0],i[1]+l[1]]:[o.position[0]+l[0],o.position[1]+l[1]],h=[a[0]*o.size[0],a[1]*o.size[1]];return t.translate(h[0],h[1]),0===f[0]&&0===f[1]||t.translate(f[0],f[1]),0!==u&&t.rotate(u),0===s[0]&&0===s[1]||t.skew(s[0],s[1]),1===c[0]&&1===c[1]||t.scale(c[0],c[1]),t.translate(-h[0],-h[1]),t.invert(),t}}),$R.helper.system(["Debug",function Model(Debug){this.cloneHash=function(e){return"object"!=typeof e?void Debug.error("Hash is not an object!"):JSON.parse(JSON.stringify(e))},this.cloneArray=function(array){if("object"!=typeof array||array.constructor!==Array)return void Debug.error("array is not an array!");for(var result=[],i=0;i<array.length;i++)if("object"==typeof array[i])array[i].constructor===Array?result.push(this.cloneArray(array[i])):result.push(this.cloneHash(array[i]));else if("function"==typeof array[i]){var text=array[i].toString();result.push(eval(text)),Debug.warn("You've just cloned a function. It may be slow",this)}else result.push(array[i]);return result},this.validNumericArray=function(e){var t=!0;if("object"!=typeof e||e.constructor!==Array)return!1;for(var n=0;n<e.length;n++)if("number"!=typeof e[n]){t=!1;break}return t};var blendings=["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"];this.validBlending=function(e){for(var t=!1,n=0;n<blendings.length;n++)if(blendings[n]===e){t=!0;break}return t};var sprite_regexp=/^([./\-_\d0-9a-zA-Z]+)(\[(\d+)\])$/;this.isSpriteString=function(e){return sprite_regexp.test(e)},this.readSpriteString=function(e){var t=e.match(sprite_regexp);return{url:t[1],frames:parseInt(t[3])}}}]),$R.helper.system(function Mouse(){this.circleUserCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]);if(t<[0]||t[1]<0)return!1;var n=this.extension("Box").box().sprite();if(t[0]>n.size[0])return!1;if(t[1]>n.size[1])return!1;var r=n.size[0]/2,o=r,i=n.size[1]/2;return Math.pow(t[0]-o,2)+Math.pow(t[1]-i,2)<=Math.pow(r,2)&&this},this.squareUserCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]),n=this.extension("Box").box().sprite();return t[0]>0&&t[0]<n.size[0]&&(t[1]>0&&t[1]<n.size[1]&&this)},this.circleCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]);if(t<[0]||t[1]<0)return!1;var n=this.extension("Box").box().sprite();if(t[0]>n.size[0])return!1;if(t[1]>n.size[1])return!1;var r=n.size[0]/2,o=this.extension("Style").get("radius");return Math.pow(t[0]-r,2)+Math.pow(t[1]-r,2)<Math.pow(o,2)&&this},this.rectCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]),n=this.extension("Box").box().sprite();return t[0]>0&&t[0]<n.size[0]&&(t[1]>0&&t[1]<n.size[1]&&this)}}),$R.helper.system(["Debug",function Path(e){function getControlPoints(e,t,n,r,o,i,a){var s=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),u=Math.sqrt(Math.pow(o-n,2)+Math.pow(i-r,2)),c=a*s/(s+u),l=a*u/(s+u),f=n-c*(o-e),h=r-c*(i-t),p=n+l*(o-e),v=r+l*(i-t);return[f,h,p,v]}this.convertComplexPath=function(e){for(var t=[],n=0;n<e.length;n++)t.push([e[n][0],e[n][1]]);return t},this.convertSimplePath=function(t){if(t.length<2)return void e.error("Path should consist of at least two points!",this);for(var n=[],r=0;r<t.length;r++){var o=t[r][0],i=t[r][1];if("number"!=typeof o||"number"!=typeof i){e.error("Incorrect Path!",this),n=void 0;break}r<t.length-1&&(n[r]||n.push([]),n[r].push(o),n[r].push(i)),0!==r&&(n[r-1].push(o),n[r-1].push(i),n[r-1].push(n[r-1][0]),n[r-1].push(n[r-1][1]),n[r-1].push(o),n[r-1].push(i))}return n},this.interpolate=function(e,t,n){for(var r=0;r<e.length;r++){var o=[],i=[e[r][0],e[r][1]],a=[e[r][2],e[r][3]],s=null;if(o=0===r?i:[e[r-1][0],e[r-1][1]],s=getControlPoints(o[0],o[1],i[0],i[1],a[0],a[1],t),0===r?(e[r][4]=s[2],e[r][5]=s[3]):(e[r-1][6]=s[0],e[r-1][7]=s[1],e[r][4]=s[2],e[r][5]=s[3]),r===e.length-1&&(o=[e[r][0],e[r][1]],i=[e[r][2],e[r][3]],a=i,s=getControlPoints(o[0],o[1],i[0],i[1],a[0],a[1],t),e[r][6]=s[0],e[r][7]=s[1]),n){var u=e[e.length-1],c=e[0],l=[[u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7]],[c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7]]];this.interpolate(l,t),e[0][4]=l[1][4],e[0][5]=l[1][5],e[e.length-1][6]=l[0][6],e[e.length-1][7]=l[0][7]}}},this.checkSimplePath=function(e){if("object"!=typeof e||e.constructor!==Array)return!1;for(var t=!0,n=0;n<e.length;n++)if("object"!=typeof e[n]||e[n].constructor!==Array||2!==e[n].length||"number"!=typeof e[n][0]||"number"!=typeof e[n][1]){t=!1;break}return t},this.comparePaths=function(e,t){var n=!0;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)for(var o=0;o<e[r].length;o++)if(e[r][o]!==t[r][o]){n=!1;break}return n}}]); window.$R = $R})()
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcmUvUmVmbGVjdC5qcyIsIm1vZHVsZXMvQXBwbGljYXRpb24uanMiLCJtb2R1bGVzL0F1ZGlvLmpzIiwibW9kdWxlcy9DYW52YXMuanMiLCJtb2R1bGVzL0NsYXNzZXMuanMiLCJtb2R1bGVzL0NvbmZpZy5qcyIsIm1vZHVsZXMvQ29udGFpbmVyLmpzIiwibW9kdWxlcy9Gb250cy5qcyIsIm1vZHVsZXMvSGVscGVycy5qcyIsIm1vZHVsZXMvSW5qZWN0aW9uLmpzIiwibW9kdWxlcy9Sb290LmpzIiwibW9kdWxlcy9TZXJ2aWNlcy5qcyIsIm1vZHVsZXMvU291cmNlLmpzIiwibW9kdWxlcy9UaWNrZXIuanMiLCJwbHVnaW5zL0FuaW1hdGlvbi9BbmltYXRpb24uanMiLCJwbHVnaW5zL0JveC9Cb3guanMiLCJwbHVnaW5zL0NhY2hlL0NhY2hlLmpzIiwicGx1Z2lucy9EcmF3ZXIvRHJhd2VyLmpzIiwicGx1Z2lucy9MYXllcnMvTGF5ZXJzLmpzIiwicGx1Z2lucy9NYXRyaXgvTWF0cml4LmpzIiwicGx1Z2lucy9Nb3VzZS9Nb3VzZS5qcyIsInBsdWdpbnMvT2Zmc2V0L09mZnNldC5qcyIsInBsdWdpbnMvU3R5bGUvU3R5bGUuanMiLCJwbHVnaW5zL1RleHQvVGV4dC5qcyIsInBsdWdpbnMvVHJlZS9UcmVlLmpzIiwic2VydmljZXMvQXBpL0FwaS5qcyIsInNlcnZpY2VzL0FwaS9BcGlDb250cm9sbGVyLmpzIiwic2VydmljZXMvQ2FudmFzL0NhbnZhcy5qcyIsInNlcnZpY2VzL0RlYnVnL0RlYnVnLmpzIiwic2VydmljZXMvRGlzcGF0Y2hlci9EaXNwYXRjaGVyLmpzIiwic2VydmljZXMvRXZlbnRzL0V2ZW50cy5qcyIsInNlcnZpY2VzL0tleWJvYXJkL0tleWJvYXJkLmpzIiwic2VydmljZXMvS2V5Ym9hcmQvS2V5Ym9hcmRFdmVudC5qcyIsInNlcnZpY2VzL01vcnBoaW5lL01vcnBoaW5lLmpzIiwic2VydmljZXMvT2JqZWN0cy9HcmFwaGljcy5qcyIsInNlcnZpY2VzL09iamVjdHMvT2JqZWN0cy5qcyIsInNlcnZpY2VzL1Jlc291cmNlL1Jlc291cmNlLmpzIiwic2VydmljZXMvU291bmQvU291bmQuanMiLCJzZXJ2aWNlcy9TdGF0ZXMvU3RhdGVzLmpzIiwic2VydmljZXMvVHJlZS9UcmVlLmpzIiwicGx1Z2lucy9BbmltYXRpb24vcGFydHMvQW5pbWF0aW9uLmpzIiwicGx1Z2lucy9BbmltYXRpb24vcGFydHMvTW9ycGguanMiLCJwbHVnaW5zL0JveC9wYXJ0L0JveC5qcyIsInBsdWdpbnMvVGV4dC9DbGFzc2VzL0xpbmVDbGFzcy5qcyIsInBsdWdpbnMvVGV4dC9DbGFzc2VzL1NwYWNlQ2xhc3MuanMiLCJwbHVnaW5zL1RleHQvQ2xhc3Nlcy9UZXh0RWxlbWVudENsYXNzLmpzIiwicGx1Z2lucy9UZXh0L0NsYXNzZXMvV29yZENsYXNzLmpzIiwic2VydmljZXMvRGlzcGF0Y2hlci9wYXJ0cy9GaW5kZXIuanMiLCJzZXJ2aWNlcy9FdmVudHMvY2xhc3Nlcy9FdmVudC5qcyIsInNlcnZpY2VzL0V2ZW50cy9jbGFzc2VzL0V2ZW50RW1pdHRlci5qcyIsInNlcnZpY2VzL01vcnBoaW5lL3BhcnRzL01vcnBoaW5lLmpzIiwic2VydmljZXMvT2JqZWN0cy9wYXJ0cy9DYW52YXMuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3BhcnRzL0dyYXBoaWNzQXNzZW1ibGVyLmpzIiwic2VydmljZXMvT2JqZWN0cy9wYXJ0cy9HcmFwaGljc0Fzc2VtYmxlckxheWVyLmpzIiwic2VydmljZXMvT2JqZWN0cy9wYXJ0cy9QbHVnaW4uanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL0FyZWEuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL0NpcmNsZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvRGVmYXVsdC5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvR3JvdXAuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL0ltYWdlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9MaW5lLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9SZWN0YW5nbGUuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL1Nwcml0ZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvVGV4dC5qcyIsInNlcnZpY2VzL1Jlc291cmNlL2NsYXNzZXMvQXVkaW9DbGFzcy5qcyIsInNlcnZpY2VzL1Jlc291cmNlL2NsYXNzZXMvRm9udENsYXNzLmpzIiwic2VydmljZXMvUmVzb3VyY2UvY2xhc3Nlcy9JbWFnZUNsYXNzLmpzIiwic2VydmljZXMvUmVzb3VyY2UvY2xhc3Nlcy9SZXNvdXJjZUNsYXNzLmpzIiwic2VydmljZXMvUmVzb3VyY2UvY2xhc3Nlcy9TcHJpdGVDbGFzcy5qcyIsInNlcnZpY2VzL1NvdW5kL2NsYXNzZXMvQXVkaW8uanMiLCJzZXJ2aWNlcy9Tb3VuZC9jbGFzc2VzL1VzZXJBdWRpb01peGVyLmpzIiwic2VydmljZXMvU291bmQvY2xhc3Nlcy9Vc2VyQXVkaW9Tb3VyY2UuanMiLCJzZXJ2aWNlcy9Tb3VuZC9hbmltYXRpb24vQW5pbWF0aW9uUHJvdmlkZXIuanMiLCJzZXJ2aWNlcy9Tb3VuZC9maWx0ZXJzL0RlbGF5Tm9kZS5qcyIsInNlcnZpY2VzL1NvdW5kL2ZpbHRlcnMvRGVzdGluYXRpb25Ob2RlLmpzIiwic2VydmljZXMvU291bmQvZmlsdGVycy9HYWluTm9kZS5qcyIsInNlcnZpY2VzL1NvdW5kL2ZpbHRlcnMvTG93cGFzc05vZGUuanMiLCJzZXJ2aWNlcy9Tb3VuZC9wYXJ0cy9BdWRpb05vZGUuanMiLCJzZXJ2aWNlcy9Tb3VuZC9wYXJ0cy9BdWRpb05vZGVTb3VuZHNEaXNwYXRjaGVyLmpzIiwic2VydmljZXMvU291bmQvcGFydHMvQXVkaW9Tb3VyY2UuanMiLCJzZXJ2aWNlcy9Tb3VuZC9wYXJ0cy9FdmVudC5qcyIsInNlcnZpY2VzL1NvdW5kL3BhcnRzL0V2ZW50UHJvdmlkZXIuanMiLCJzZXJ2aWNlcy9TdGF0ZXMvY2xhc3Nlcy9TdGF0ZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvZHJhd2Vycy9BcmVhLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0NpcmNsZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvZHJhd2Vycy9EZWZhdWx0LmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0dyb3VwLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0ltYWdlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0xpbmUuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL2RyYXdlcnMvUmVjdGFuZ2xlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL1Nwcml0ZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvZHJhd2Vycy9UZXh0LmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvQXJlYS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvbW9kZWxzL0NpcmNsZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvbW9kZWxzL0RlZmF1bHQuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL21vZGVscy9EZWZhdWx0RnJlZVN0cm9rZU1vZGVsLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvR2xvYmFsQmFja2dyb3VuZE1vZGVsLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvR2xvYmFsU2l6ZU1vZGVsLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvR3JvdXAuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL21vZGVscy9JbWFnZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvbW9kZWxzL0xpbmUuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL21vZGVscy9SZWNhdGFuZ2xlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvU3ByaXRlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvVGV4dC5qcyIsInNlcnZpY2VzL1NvdW5kL2FuaW1hdGlvbi9wYXJ0cy9BbmltYXRpb24uanMiLCJzZXJ2aWNlcy9Tb3VuZC9hbmltYXRpb24vcGFydHMvTW9ycGguanMiLCJoZWxwZXJzL0FuaW1hdGlvbi5qcyIsImhlbHBlcnMvQ29sb3IuanMiLCJoZWxwZXJzL0RyYXdlci5qcyIsImhlbHBlcnMvRWFzaW5nLmpzIiwiaGVscGVycy9NYXRyaXguanMiLCJoZWxwZXJzL01vZGVsLmpzIiwiaGVscGVycy9Nb3VzZS5qcyIsImhlbHBlcnMvUGF0aC5qcyJdLCJuYW1lcyI6WyJSZWZsZWN0IiwiQ29yZSIsImYiLCJJbmplY3Rpb24iLCJyZWFkeSIsImkiLCJleHBlY3QiLCJsZW5ndGgiLCJtb2R1bGVzIiwiQnVpbGRDb3JlIiwiZ2V0Um91dGVGdW5jdGlvbiIsInJvdXRlRnVuY3Rpb24iLCJyZXN1bHQiLCJhcHBseSIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsImJpbmQiLCJjb3JlIiwiZ2V0IiwicHJvcGVydHkiLCJwcm9wZXJ0aWVzIiwiaGFzT3duUHJvcGVydHkiLCJuYW1lIiwiRXJyb3IiLCJ0aGlzIiwiY2FjaGUiLCJjcmVhdGUiLCJwYXlsb2FkIiwiYXJncyIsImNvbnN0cnVjdG9yIiwiQXJyYXkiLCJwdXNoIiwiRnVuY3Rpb24iLCJwcm90b3R5cGUiLCJpcyIsInRhcmdldCIsImV4dGVuZCIsImNhbGwiLCJtb2R1bGUiLCJpbmplY3QiLCJkZWZpbmUiLCJ2YWx1ZSIsIiRSIiwiQXBwbGljYXRpb24iLCJDYW52YXMiLCJUaWNrZXIiLCJDb25maWciLCJzZWxmIiwiaXNOdW1iZXIiLCJncmVhdGVyIiwidW5kZXIiLCJ3YXRjaCIsInYiLCJmcHMiLCJpc1N0cmluZyIsImVsZW1lbnQiLCIkIiwibiIsImNoYXJBdCIsImNvbmZpZyIsImEiLCJiIiwic2V0IiwiQXVkaW8iLCJjb250ZXh0IiwiQXVkaW9Db250ZXh0IiwiRHJhd1NjZW5lIiwiZGF0ZSIsImZyYW1lIiwicXVldWUiLCJlIiwiY29uc29sZSIsImVycm9yIiwibyIsIm1lc3NhZ2UiLCJyZXNvbHZlIiwiYXJyYXkiLCJzaXplIiwicmVzaXplQ2IiLCJzd2l0Y2hDYiIsImlkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJjdHgiLCJzZXRBdHRyaWJ1dGUiLCJIVE1MRWxlbWVudCIsInNvcnQiLCJ3aWR0aCIsImhlaWdodCIsInJlc2l6ZSIsIm9mZnJlc2l6ZSIsImZpbHRlciIsIkNsYXNzZXMiLCJjbHMiLCJjZmciLCJpbmplY3Rpb24iLCJnbG9iYWxDbGFzc2VzIiwid2FybiIsImFwcCIsImFwcGxpY2F0aW9uQ2xhc3NlcyIsInN5c3RlbUNsYXNzZXMiLCJzeXMiLCJnZXRBcHBsaWNhdGlvbkNsYXNzZXMiLCJjb250YWluZXIiLCJzb3VyY2UiLCJtZXJnZSIsImdldFN5c3RlbUNsYXNzZXMiLCJQcm9wZXJ0eSIsImNoZWNrVmFsdWUiLCJjaGVja0FycmF5IiwiZnVuY3MiLCJjYiIsImFyZyIsImlzQXJyYXkiLCJwcm9wIiwiY3VzdG9tIiwiZXEiLCJpc0Jvb2wiLCJDb250YWluZXIiLCJsaWIiLCJkaXJlY3QiLCJsaWJyYXJ5Iiwic291cmNlcyIsImxpc3QiLCJkZXBlbmRlbmNpZXMiLCJjbG9uZSIsInByZWZpeGtleSIsIiQkTE9PUCIsImxvb3AiLCIkTE9PUCIsIiQkTE9PT1AiLCJ2YWxpZCIsIm5ld0xpYnJhcnkiLCJuZXdDb250YWluZXIiLCJjb250YWluZXJzIiwic291cmNlbG9vcCIsInNvdXJjZXByZWZpeCIsInByZWZpeCIsIm5ld2NvbnRhaW5lcnMiLCJmaW5kU291cmNlQnlQcmVmaXgiLCIkJG5vcHJlZml4IiwiZmluZFNvdXJjZUJ5SW5qZWN0aW9uTmFtZSIsImluamVjdGlvbk5hbWUiLCJoYXMiLCIkY29uc3RydWN0b3IiLCJkIiwic3JjIiwicmVzb2x2ZURpcmVjdEluamVjdGlvbiIsIkZvbnRzIiwiZm9udFN0cmluZyIsImZvbnQiLCJmb250c0RlZmluZWQiLCJ3Iiwid2VpZ2h0IiwicyIsInN0eWxlIiwiZmlsZXN0cmluZyIsInN0cmluZyIsImZvcm1hdCIsImZvcm1hdFN0ciIsInVwZGF0ZSIsInBhdGgiLCJmYW1pbHkiLCJmYW1pbGllcyIsImlubmVySFRNTCIsImluQXJyYXkiLCJjcmVhdGVFbGVtZW50IiwiZW90IiwidXJsIiwid29mZiIsInR0ZiIsInN2ZyIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImFwcGVuZENoaWxkIiwiZm9ybWF0cyIsIkhlbHBlcnMiLCJoZWxwZXIiLCJoZWxwZXJzIiwic3lzSGVscGVycyIsInN5c3RlbSIsImlzX3B1YmxpYyIsImdldFN5c3RlbUhlbHBlcnMiLCJkZWZhdWx0cyIsImdldFB1YmxpY0hlbHBlcnMiLCJjb24iLCJyZXNvbHZlZCIsImluc3RhbmNlIiwicmVzb2x2ZUluamVjdGlvbkRlcGVuZGFuY2llcyIsInVuc2hpZnQiLCJSb290IiwiY3JlYXRlQXBwbGljYXRpb24iLCJhcHBDb250YWluZXIiLCJhcHBzIiwiYXBwVGlja2VyIiwiYXBwQ2FudmFzIiwiYXBwQXVkaW8iLCJhcHBDb25maWciLCJhcHBGb250cyIsImFwcEFwaSIsImRlZmF1bHRzTGlicmFyeSIsIkFQSSIsImFwcERlZmF1bHRzIiwiYXBwU3lzSGVscGVycyIsImFwcFB1YkhlbHBlcnMiLCJhcHBDbGFzc2VzIiwiY2xhc3NlcyIsImFwcFN5c0NsYXNzZXMiLCJhcHBTZXJ2aWNlcyIsInNlcnZpY2VzIiwiZ2V0QXBwbGljYXRpb25TZXJ2aWNlcyIsImFwcGxpY2F0aW9uIiwiU2VydmljZXMiLCJzZXJ2aWNlIiwic2VydmljZU5hbWUiLCJwbHVnaW4iLCJwbHVnaW5OYW1lIiwicGx1Z2lucyIsImdldFBsdWdpbk1hbmFnZXIiLCJQbHVnaW5zIiwiZWFjaCIsInNlcnZpY2VDbGFzc2VzIiwicGx1Z2luc0NsYXNzZXMiLCJzdmMiLCJwbHVnaW5DbGFzc05hbWUiLCJjbGFzc05hbWUiLCJfaGVscGVycyIsIl9zeXNDbGFzc2VzIiwiX2VuZ2luZURlZmF1bHRzIiwiX3NlcnZpY2UiLCJfcGx1Z2luIiwiX3NlcnZpY2VzIiwiX3NlcnZpY2VzQ2xhc3NlcyIsIl9zZXJ2aWNlc1BsdWdpbnMiLCJfc2VydmljZXNQbHVnaW5zQ2xhc3NlcyIsIl9wbHVnaW5zIiwiX3BsdWdpbkNsYXNzZXNDb250YWluZXIiLCJzZXJ2aWNlQ2xhc3Nlc0NvbnRhaW5lciIsIl9zZXJ2aWNlc1NlcnZpY2VTb3VyY2UiLCJzMiIsInAiLCJwY2wiLCJTb3VyY2UiLCJzdHJpcFByZWZpeCIsInBmeCIsImNoZWNrQ2FjaGUiLCJjaGVjayIsInN0cmlwTmFtZSIsInN0ciIsImV2ZW50IiwiX2NhbGxfYXJncyIsImV2ZW50Q2IiLCJmcmFtZUR1cmF0aW9uIiwidG9GaXhlZCIsImRyYXciLCJ0aWNrIiwiRGF0ZSIsImNsZWFySW50ZXJ2YWwiLCJpbnRlcnZhbCIsInN0b3AiLCJzdGFydCIsIm9uIiwiZnVuYyIsInNldEludGVydmFsIiwibnVtYmVyIiwiQW5pbWF0aW9uIiwiRGVidWciLCJmaW5kQ29tcGV0aXRvciIsImFuaW1hdGlvbiIsIiQkU0VMRiIsImNvbXBldGl0b3IiLCJhbmltYXRpb25zIiwiYWN0aXZlIiwiZG9uZSIsImhhc1Byb3BlcnR5IiwiQ2hlY2tBbmltYXRpb25RdWV1ZSIsIl9hbmltYXRpb25zIiwicHJvcHMiLCJjb21wZXRpdG9ycyIsIkNyZWF0ZUFuaW1hdGlvblR5cGUxIiwiZHVyYXRpb24iLCJlYXNpbmciLCJleHRlbnNpb24iLCJwYWlyIiwibW9ycGhzIiwic3RhY2siLCJvcmRlcmluZyIsIm1vcnBoIiwiQ3JlYXRlQW5pbWF0aW9uVHlwZTIiLCJwYWlycyIsImFyZzIiLCJhcmczIiwidHlwZSIsIm1vcnBoX3N0YWNrIiwiaXRlbSIsImFuaW1hdGVkIiwic2V0dGVyIiwiYXBwbGllciIsIm9iamVjdCIsImV4dHJhY3RNb3JwaCIsInJlZ2lzdGVyIiwiYXJnMSIsImFyZzQiLCJkZXN0cm95IiwiQm94IiwiQm94V3JhcHBlckZ1bmMiLCJib3giLCJwdXJnZSIsInBhcmVudCIsInBvc2l0aW9uIiwiQ2FjaGUiLCJ2YWx1ZXMiLCJyZWxldmFudCIsIkRyYXdlciIsInJlbmRlckFsbG93ZWQiLCJjb25kaXRpb25zIiwicmVuZGVyQWxsb3dJdGVyYXRvciIsInJlbmRlcmluZyIsInBpcGVTaXplIiwiZXhwb3J0cyIsInVwZGF0ZUNiIiwiY2JJdGVyYXRvciIsImNhbGxVcGRhdGVDYiIsImRyYXdlclBpcGVCZWZvcmUiLCJkcmF3ZXJQaXBlQWZ0ZXIiLCJiZWZvcmVQaXBlU2l6ZSIsImFmdGVyUGlwZVNpemUiLCJzcHJpdGVVcGRhdGVkIiwiJCRDQUxMIiwiZHJhd0Z1bmN0aW9uIiwidXBkYXRlRnVuY3Rpb24iLCJ0ZnVuYyIsInBpcGUiLCJvcmRlciIsImZ0eXBlIiwidW5waXBlIiwiaW5kZXgiLCJwaXBlSW5kZXgiLCJwaXBlT3JkZXIiLCJvcmlnaW5hbENvbnRleHQiLCJjdXJyZW50Q29udGV4dCIsImNhbGxiYWNrc1Jlc3VsdCIsInNhdmUiLCJyZXN0b3JlIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwiZ2xvYmFsQWxwaGEiLCJkcmF3SW1hZ2UiLCJjYW52YXMiLCJzaGlmdCIsIkxheWVycyIsInJlbW92ZU9iamVjdEZyb21MYXllcnMiLCJsYXllciIsImxheWVycyIsInNwbGljZSIsIjAiLCJ2YWwiLCJwYXJlbnRfbGF5ZXJfZXh0IiwicGxhY2UiLCJyZW1vdmUiLCJmb3JFYWNoIiwiaXRlcmF0b3IiLCJNYXRyaXgiLCJNYXRyaXhXcmFwcGVyIiwiTW91c2UiLCJNb3VzZUhlbHBlciIsImRpc2FibGVkIiwibW91c2VDaGVja0Z1bmN0aW9uIiwiZXZlbnRzIiwiY3Vyc29yIiwiY3Vyc29yVHJhbnNmb3JtRnVuY3Rpb24iLCJhcHBseUN1cnNvclRyYW5zZm9ybSIsImhhc0V2ZW50IiwicHJvcGFnYXRlIiwiZXZlbnRPYmoiLCJtb3VzZSIsIl9ldmVudE9iaiIsIm9yaWdpbmFsVGFyZ2V0IiwiJCRNT1VTRVBST1BBR0FUSU9OU0VUVEVSIiwiZm9yY2VkIiwiT2Zmc2V0IiwiRHJhd2VySGVscGVyIiwicG9pbnRzIiwibWFzayIsIm1hdHJpeCIsInRyYWNrTG9jYWxQb2ludCIsImxlZnQiLCJNYXRoIiwibWluIiwicmlnaHQiLCJtYXgiLCJib3R0b20iLCJ0b3AiLCJoIiwiU3R5bGUiLCJHZXRTZXR0ZXJGdW5jdGlvbiIsIm9sZCIsImNhbGxiYWNrcyIsIkdldEdldHRlckZ1bmN0aW9uIiwiZ2V0dGVyIiwiU3R5bGVUeXBlMSIsInNldHRlcnMiLCJTdHlsZVR5cGUyIiwic2V0dGVyc3RhY2siLCJKU09OIiwic3RyaW5naWZ5IiwiU3R5bGVUeXBlMyIsImdldHRlcnMiLCJjYWxsYmFjayIsIlRleHQiLCJNb2RlbEhlbHBlciIsImFwcGx5VG8iLCJsaW5lcyIsIndvcmRCeVdvcmRSZWdFeHAiLCJsaW1pdHMiLCJJbmZpbml0eSIsIndvcmRzIiwibCIsIl93IiwicGllY2VzIiwibWF0Y2giLCJsaW5lV2lkdGgiLCJmb250U2l6ZSIsImxpbmVIZWlnaHQiLCJmb250V2VpZ2h0IiwiY29sb3IiLCJmb250U3R5bGUiLCJ1c2VybmV3bGluZSIsIndvcmQiLCJ0ZXh0QmxvY2tIZWlnaHQiLCJ0ZXh0QmxvY2tXaWR0aCIsImZvckVhY2hMaW5lIiwiVHJlZSIsIlRyZWVTZXJ2aWNlIiwibm9ybWFsaXNlSWRlbnRpdHkiLCJyZXBsYWNlIiwibm9uTGV0dGVycyIsImNhcGl0YWxzIiwiY2hlY2tUcmVlIiwidHJlZVZpb2xhdGlvbiIsImlkZW50aXR5IiwidW5tb3VudCIsImFwcGVuZCIsImdyb3VwIiwidW5yZWdpc3RlciIsIkFwaSIsImNvbnRyb2wiLCJhcGkiLCJjYW4iLCIkJEFQSVBST1RFQ1RFRCIsIndyYXAiLCJBcGlDb250cm9sbGVyIiwiSXMiLCJFdmVudHMiLCJtZXRob2RzIiwiZW1pdHRlciIsImFjdGlvbk5hbWUiLCJwcm9wZXJTdHJpbmciLCJ0IiwibSIsImFjdGlvbiIsImluZm8iLCJncm91cEVuZCIsImNvbXBhcmVPblJlc2l6ZSIsInN1Y2Nlc3MiLCJ4dW5pdHMiLCJ5dW5pdHMiLCJkaW1tcyIsIl9wVyIsInBXIiwiX3BIIiwicEgiLCJyZXNpemVUTyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJwYXJlbnROb2RlIiwic3R5bGVzIiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInBhcnNlSW50IiwiZ2V0UHJvcGVydHlWYWx1ZSIsImZsb29yIiwiR2V0Q2FudmFzT2Zmc2V0IiwieCIsIm9mZnNldFByb3AiLCJpc05hTiIsIm9mZnNldFBhcmVudCIsIldpbmRvd1Jlc2l6ZUNhbGxiYWNrIiwib3V0cHV0Iiwib2Zmc2V0IiwiUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkiLCJSQ2FudmFzUmVzaXplRXZlbnQiLCJDYW52YXNTd2l0Y2hDYWxsYmFjayIsIlJDYW52YXNTd2l0Y2hFdmVudCIsIkdldENhbnZhc0V2ZW50QXJyYXkiLCJjYW52YXNFdmVudENhbGxiYWNrcyIsImRhdGEiLCJHZXRNb3VzZVJlbGF0aXZlUG9zaXRpb24iLCJwYWdlWCIsInNjcm9sbCIsInBhZ2VZIiwiUkNhbnZhc01vdXNlIiwicGFnZSIsInNjZWVuIiwiUkNhbnZhc01vdXNlRXZlbnQiLCJvcmlnaW5hbCIsInVuaXRzIiwiaGlkZGVuIiwiaGlkZSIsImRpc3BsYXkiLCJzaG93IiwibW91c2Vtb3ZlIiwibW91c2Vkb3duIiwibW91c2V1cCIsIm1vdXNlbGVhdmUiLCJtb3VzZWVudGVyIiwiY2FudmFzcmVzaXplIiwiY2FudmFzc3dpdGNoIiwibGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJwYWdlWE9mZnNldCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbExlZnQiLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsIlJlc29sdmVFdmVudCIsImVycm9yQ2IiLCJtZXNzYWdlQ2IiLCJpbmZvQ2IiLCJpbXBvcnRhbnRDYiIsIkdldE1lc3NhZ2UiLCJ0b1N0cmluZyIsIm1hdGNoZXMiLCJyZWdleHAiLCJtYXRjaG5hbWUiLCJyZWdleHBuYW1lIiwid2FybmluZ3MiLCJncm91cExldmVsIiwiY3VycmVudExldmVsIiwidHJhY2UiLCJsb2ciLCJjdXJyZW50U2VwYXJhdG9yTWVzc2FnZXMiLCJjdXJyZW50U2VwYXJhdG9yTGV2ZWwiLCJzZXBhcmF0b3IiLCJzZXBhcmF0b3JFbmQiLCJwb3NpdGl2ZSIsIm5lZ2F0aXZlIiwiZ3JvdXBDb2xsYXBzZWQiLCJEaXNwYXRjaGVyIiwiQ2FudmFzUm9vdCIsIkZpbmRlciIsIkRlZmF1bHRSRXZlbnQiLCJfdHlwZSIsIl90YXJnZXQiLCJfb3JpZ2luYWxUYXJnZXQiLCJzdG9wUHJvcGFnYXRpb24iLCJwcm9wYWdhdGVkIiwiJCRQUk9QQUdBVElPTlNFQVJDSCIsImdldEV2ZW50QnlUeXBlIiwiJCRSRVNFVFRBUkdFVCIsIk1vdXNlRXZlbnQiLCJjdXJyZW50IiwiT2JqZWN0IiwiZnJlZXplIiwiRHJhZ0V2ZW50IiwiZHJhZyIsImRlbHRhIiwiRGlzcGF0Y2giLCJ0YXJnZXRNb3VzZSIsInJlc29sdmVFdmVudEJ5VHlwZSIsInByZXZpb3VzIiwicmVzb2x2ZURyYWdTdGFydCIsImRyYWdnZWQiLCJyZXNvbHZlRHJhZ0VuZCIsIkRpc3BhdGNoRXZlbnRzIiwiJCRNT1VTRVNFQVJDSCIsIlVwZGF0ZVRhcmdldHMiLCJldmVudERpc3BhdGNoZXJUaWNrIiwiY2hlY2tlZCIsImZvY3VzZWQiLCIkJEVNSVRURVJQUk9URUNURUQiLCIkJEVNSVRURVJQUk9URUNURURDT05URVhUIiwiZGVjb3JhdGUiLCJpbml0IiwiS2V5Ym9hcmQiLCJPbkFwcFRpY2siLCJnZXRRdWV1ZUZ1bmMiLCJrZXljb2RlIiwia2V5Q29kZSIsImJ1aWxkIiwiZW5hYmxlZCIsImtleWRvd24iLCJjb2RlIiwia2V5dXAiLCJkaXNhYmxlIiwiZW5hYmxlIiwiYyIsImNhbnZhc0NsaWNrZWQiLCJLZXlib2FyZEV2ZW50IiwiY3RybFByZXNzZWQiLCJhbHRQcmVzc2VkIiwic2hpZnRQcmVzc2VkIiwiY3RybEtleSIsImFsdEtleSIsInNoaWZ0S2V5IiwiYWx0IiwiY3RybCIsIk1vcnBoaW5lIiwiRWFzaW5ncyIsImVuZCIsInJwdCIsImVmdW5jIiwibW9ycGhpbmVzIiwibW9ycGhpbmUiLCJ0aWNrRiIsIiRtIiwicHJvY2Vzc01vcnBoaW5lcyIsImdldFRpbWUiLCJfbW9ycGhpbmVzIiwiR3JhcGhpY3MiLCJyZXNvbHZlZF9wbHVnaW5zIiwiZGVmaW5lT2JqZWN0IiwibWF0Y2hUeXBlIiwiZW1paXRlciIsIk9iamVjdHMiLCJJbmplY3RCeVR5cGUiLCJyb290IiwibGluZSIsInJlY3QiLCJjaXJjbGUiLCJpbWFnZSIsInNwcml0ZSIsInRleHQiLCJhcmVhIiwiUmVzb3VyY2UiLCJnZXRSZXNvdXJjZUJ5VVJMIiwic2VhcmNoIiwiaW5qZWN0QnlUeXBlIiwiZXhpc3RlZCIsImxvYWRDb3VudGVyIiwiYWxsIiwibG9hZGVyTW9kZSIsImxvYWQiLCJjQkNvbnRhaW5lciIsInVwZGF0ZVJlc291cmNlcyIsIlNwcml0ZVJlc291cmNlcyIsImxvYWRlZCIsIkltYWdlUmVzb3VyY2VzIiwiRm9udFJlc291cmNlcyIsIkF1ZGlvUmVzb3VyY2VzIiwiYXVkaW8iLCJhZGQiLCJvZmYiLCJuYXJyYXkiLCIkJFNFQVJDSCIsInRvdGFsIiwiY29uY2F0IiwiU291bmQiLCJkZXN0aW5hdGlvbiIsInNvdW5kcyIsInNvdW5kY291bnQiLCJjaGFubmVsY291bnQiLCJjaGFubmVscyIsIiQkREVTVElOQVRJT04iLCJzYW1wbGUiLCJjaGFubmVsIiwib3V0IiwiY29ubmVjdCIsImJ5dXJsIiwiU3RhdGVzIiwiJCRTVEFURVNQUk9URUNURUQiLCJjdXJyZW50Q29udGFpbmVyIiwiJFNUQVRFU1BST1RFQ1RFRENPTlRFWFQiLCIkU1RBVEVTUFJPVEVDVEVESEFTRU1JVFRFUlNFVCIsImRyYXdHcmFwaGljc1RyZWUiLCJyb290RHJhd2VyIiwiY2xlYXIiLCJjbGVhclJlY3QiLCJvZmZzZXRXaWR0aCIsIm9mZnNldEhlaWdodCIsInJvb3RTdHlsZSIsImVsZW1lbnRzIiwibmV3X2lkIiwiZHJhd2VyIiwiQW5pbWF0aW9uSGVscGVyIiwiUmVzb2x2ZSIsInN0ZXBUeXBlU3RyIiwic3RlcHNDYiIsInByb2dyZXNzIiwiY29tcGxldGVUeXBlU3RyIiwicmVzdWx0cyIsIl9zdGFjayIsInRpY2tfZnVuY3Rpb24iLCJnZXRUaWNrRnVuY3Rpb24iLCJjb21wbGV0ZSIsIm5vcm1hbGl6ZUNvbmZpZyIsInN0ZXAiLCJNb3JwaCIsIlNldFN0YXJ0VmFsdWUiLCJTZXRFbmRWYWx1ZSIsIm9iaiIsIm9yZCIsImFwbCIsIm1hcmdpbiIsInkiLCJUZXh0TGluZUNsYXNzIiwiZ2V0V2lkdGgiLCJ3aWR0aFVwZGF0ZWQiLCJzcGFjZSIsIm1lYXN1cmVUZXh0IiwiX2FyciIsInByb3BlcnR5Q2hhbmdlZCIsIm9uUHJvcGVydHlDaGFuZ2UiLCJUZXh0U3BhY2VDbGFzcyIsImV4dHJhY3RGb250U3RyaW5nIiwiVGV4dEVsZW1lbnRDbGFzcyIsIkNvbG9ySGVscGVyIiwiY29sb3JUb0FycmF5IiwiVGV4dFdvcmRDbGFzcyIsImZpbGxTdHlsZSIsImZpbGxUZXh0IiwiY2hlY2tFbGVtZW50IiwibGF5ZXJfcmVzdWx0IiwiRXZlbnQiLCJldmVudF90aW1lIiwidGltZSIsIkV2ZW50RW1pdHRlciIsImFkZENhbGxiYWNrIiwib25jZSIsInJlbW92ZUNhbGxiYWNrIiwiX2NsZWFyQ2JBcnJheSIsImNpIiwicmVzb2x2ZUV2ZW50IiwiZXZlbnRfdGFyZ2V0IiwiZXZlbnRfb2JqZWN0IiwiZXZlbnRfc3RyaW5nX3JlZ2V4cCIsInByb3h5IiwiZm9yZWlnbl9lbWl0dGVyIiwiZm9yZWlnbl9ldmVudCIsIlRpY2siLCJwYXVzZWQiLCJzdGFydF90aW1lIiwicmVwZWF0IiwicmVwZWF0Q291bnQiLCJwYXVzZSIsImR1ciIsImVhc2UiLCJHcmFwaGljc0Fzc2VtYmxlciIsIlNldFNpemUiLCJjb21wb3NlIiwicmVzaXplZCIsImJveEV4dCIsInVwZGF0ZUZ1bmMiLCJib3hQcm92aWRlciIsIkdyYXBoaWNzQXNzZW1ibGVyTGF5ZXIiLCJ1cGRhdGVDYW52YXMiLCJQbHVnaW4iLCJhcHBsaWVzIiwiZGVzdHJveUNiIiwidHlwZXMiLCJ0ZW1wIiwiQXJlYU9iamVjdENsYXNzIiwiQ2lyY2xlT2JqZWN0Q2xhc3MiLCJjaXJjbGVDaGVja0Z1bmN0aW9uIiwiRGVmYXVsdE9iamVjdFR5cGUiLCJHcm91cE9iamVjdENsYXNzIiwiSW1hZ2VPYmplY3RDbGFzcyIsInJlY3RDaGVja0Z1bmN0aW9uIiwiTGluZU9iamVjdENsYXNzIiwiUmVjdGFuZ2xlT2JqZWN0Q2xhc3MiLCJyZWN0Q3Vyc29yVHJhbnNmb3JtRnVuY3Rpb24iLCJTcHJpdGVPYmplY3RDbGFzcyIsIlRleHRPYmplY3RDbGFzcyIsIkF1ZGlvUmVzb3VyY2UiLCJjcmVhdGVBdWRpbyIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInJlc3BvbnNlVHlwZSIsIm9ubG9hZCIsInN0YXRlRnVuYyIsInJlc3BvbnNlIiwicmVzb2x2ZUV2ZW50RnVuYyIsIm9uZXJyb3IiLCJzZW5kIiwiX3VybCIsInJlc29sdmVGdW5jIiwic2V0U3RhdGVGdW5jIiwiRm9udFJlc291cmNlIiwiZ2V0Rm9udCIsImZvbnRMb2FkZXJFbGVtZW50IiwiYXBwZW5kZWQiLCJyZXBlYXRUaWxsRXJyb3IiLCJpbml0aWFsIiwiZm9udEZhbWlseSIsImNoZWNrSW50ZXJ2YWwiLCJyZW1vdmVDaGlsZCIsInN0YXRlIiwiaW5uZXJUZXh0IiwiciIsIkltYWdlUmVzb3VyY2UiLCJjcmVhdGVJbWFnZSIsIkltYWdlIiwic2V0U3RhdHVzIiwic3RhdHVzIiwiY2JDb250YWluZXIiLCJyZXNvbHZlRnVuY3Rpb25QYXNzZWQiLCJsb2FkaW5nIiwiU3ByaXRlUmVzb3VyY2UiLCJjcmVhdGVDYW52YXNBcnJheSIsImVsZW1zIiwiZnJhbWVzIiwic2V0Q2FudmFzU2l6ZSIsImZyYW1lSGVpZ2h0Iiwicm91bmQiLCJmcmFtZVdpZHRoIiwiX2N0eCIsInRyYW5zbGF0ZSIsInNldFN0YXVzRnVuYyIsInUiLCJldmVudEYiLCJzdGF0dXNGIiwic3ByaXRlV2lkdGgiLCJzcHJpdGVIZWlnaHQiLCJwbGF5Iiwicm93cyIsImNlaWwiLCJzcXJ0IiwiY3VycmVudFgiLCJjdXJyZW50WSIsIl90aW1lIiwiZXZlbnRBcmdzIiwiY3JlYXRlQW5pbWF0aW9uTW9ycGgiLCJub3JtYWxpemVyIiwibm9kZW5hbWUiLCJ0ZXJtaW5hdGUiLCIkJFNPVVJDRSIsImZpbHRlcnMiLCJjdHlwZSIsIm91dHNvdXJjZSIsImFuaW1hdGUiLCJVc2VyQXVkaW9NaXhlciIsImFyZ0YiLCJmaWx0ZXJzQ2ZnIiwibm9kZSIsIiQkQVVESU9OT0RFIiwiaW5wdXQiLCJVc2VyQXVkaW9Tb3VyY2UiLCJjYkFyZ3MiLCJjb25uZWN0Q2JBcmdzIiwibWl4ZXIiLCJBbmltYXRpb25Qcm92aWRlciIsIkRlbGF5Tm9kZSIsInRpbWVDRkciLCJmb3JjZUNGRyIsImdsb2JhbEdhaW4iLCJjcmVhdGVHYWluIiwiZGVsYXkiLCJjcmVhdGVEZWxheSIsImZlZWRiYWNrIiwiYnEiLCJjcmVhdGVCaXF1YWRGaWx0ZXIiLCJnYWluIiwiZnJlcXVlbmN5IiwiZGVsYXlUaW1lIiwiZm9yY2UiLCJEZXN0aW5hdGlvbk5vZGUiLCJHYWluTm9kZSIsInZvbHVtZSIsIkxvd3Bhc3NOb2RlIiwiYnFmIiwiQXVkaW9Ob2RlIiwibmV4dE5vZGUiLCJidWlsZEYiLCJzb3VuZCIsImRpc2Nvbm5lY3QiLCJfaW5wQXJyYXkiLCJfaW5wQXJyIiwiaW5wIiwibW9kZWwiLCJkZWZWYWwiLCJub3JtbGl6ZXIiLCJBdWRpb05vZGVTb3VuZERpc3BhdGNoZXIiLCJyZWNvbm5lY3QiLCJBdWRpb1NvdXJjZSIsInJlc291cmNlIiwiYnVmZmVyIiwiZGVjb2RlQXVkaW9EYXRhIiwiY3JlYXRlQnVmZmVyU291cmNlIiwic3RhdGV2YWwiLCJhcmdGdW5jdCIsImV2ZW50TmFtZSIsImlzU3RhdGVFdmVudCIsIkV2ZW50UHJvdmlkZXIiLCJTdGF0ZSIsImlzSW5TdGF0ZSIsInN0YXRlcyIsImlzQm91bmRQcm9wZXJ0eSIsImJvdW5kIiwiZ2V0UHJvcGVydHlFdmVudENhbGxiYWNrIiwic2V0UHJvcGVydHlWYWx1ZSIsImNyZWF0ZVByb3BlcnR5IiwiZW5hYmxlciIsImRpc2FibGVyIiwic3RhdGVfc3RyaW5nX3JlZ2V4cCIsInRydXN0ZWQiLCJpc19ib3VuZCIsImV2ZW50X2VtaXR0ZXIiLCJzdHJpY3QiLCJBcmVhT2JqZWN0RHJhd2VyIiwiUGF0aEhlbHBlciIsIlVwZGF0ZUZpbGwiLCJ4c2hpZnQiLCJ5c2hpZnQiLCJpbnRlcnBvbGF0aW9uIiwiaW50ZXJwb2xhdGVkIiwiaW50ZXJwb2xhdGUiLCJkcmF3QmV6aWVyUGF0aEZpbGwiLCJkcmF3TGluZVBhdGhGaWxsIiwiVXBkYXRlU3Ryb2tlIiwiY2xvbmVBcnJheSIsImRyYXdMaW5lUGF0aCIsImRyYXdCZXppZXJQYXRoIiwiVXBkYXRlQmciLCJkcmF3TGluZUJnQ2xpcFBhdGgiLCJhc3NlbWJsZXIiLCJkcmF3QmV6aWVyQmdDbGlwUGF0aCIsInN0cm9rZWZpeCIsImludGVycG9sYXRpb25maXgiLCJmaXgiLCJib3hDb250YWluZXIiLCJhbmNob3IiLCJtaW54IiwibWlueSIsIm1heHgiLCJtYXh5IiwiYWJzIiwidHJhbnNmb3JtIiwiQ2lyY2xlT2JqZWN0RHJhd2VyIiwiYmVnaW5QYXRoIiwic3Ryb2tlU3R5bGUiLCJzZXRMaW5lRGFzaCIsImFyYyIsIlBJIiwic3Ryb2tlIiwiZmlsbCIsImNsaXAiLCJiZ3Bvc2l0aW9uIiwiYmdzaXplIiwiYmciLCJiZ3dpZHRoIiwiYmdoZWlnaHQiLCJiZ3Bvc2l0aW9ueCIsImJncG9zaXRpb255IiwicmFkaXVzIiwiRGVmYXVsdE9iamVjdERyYXdlciIsIm9iamVjdE1hdHJpeCIsIkdyb3VwT2JqZWN0RHJhd2VyIiwib2JveCIsIl9hcmd1bW5ldHMiLCJJbWFnZU9iamVjdERyYXdlciIsIkxpbmVPYmplY3REcmF3ZXIiLCJVcGRhdGVDYW52YXMiLCJyZXF1aXJlX3VwZGF0ZSIsIlJlY3RhbmdsZU9iamVjdERyYXdlciIsIm5vcm1hbGl6ZVJhZGl1cyIsImJveEV4dGVuc2lvbiIsImhhbGZib3giLCJkcmF3UmVjdFBhdGgiLCJrIiwic3Ryb2tlQ29sb3IiLCJzdHJva2VXaWR0aCIsImNhcCIsImxpbmVDYXAiLCJtb3ZlVG8iLCJsaW5lVG8iLCJjdXJ2ZU1vZGlmaWVyIiwiYmV6aWVyQ3VydmVUbyIsInN0cm9rU3R5bGUiLCJoYXNSYWRpdXMiLCJoYXNTdHJva2UiLCJtb25vU3Ryb2tlIiwiZENvbG9yIiwiZFdpZHRoIiwiZFN0eWxlIiwidmlld1NpemUiLCJTcHJpdGVPYmplY3REcmF3ZXIiLCJyZWFkU3ByaXRlU3RyaW5nIiwiVGV4dE9iamVjdERyYXdlciIsIlVwZGF0ZVRleHRMYXllciIsImFsaWduIiwidG9wU3BhbiIsImdldEZvbnRGaWxlIiwiX3N0eWxlIiwiZnN0eWxlIiwiZHJhd1RleHQiLCJBcmVhT2JqZWN0TW9kZWwiLCJTeW5jUGF0aFByb3BlcnR5IiwiY2hlY2tTaW1wbGVQYXRoIiwiY29udmVydFNpbXBsZVBhdGgiLCJjb252ZXJ0Q29tcGxleFBhdGgiLCJDaXJjbGVPYmplY3RNb2RlbCIsImlzQ29sb3IiLCJhcnJheVRvQ29sb3IiLCJub3JtYWxpemUiLCJ2YWxpZE51bWVyaWNWYWx1ZSIsInZhbGlkTnVtZXJpY0FycmF5IiwiRGVmYXVsdE9iamVjdE1vZGVsIiwiZW5kQXJyYXkiLCJyYWQiLCJyYWQxIiwicmFkMiIsInZhbGlkQmxlbmRpbmciLCJEZWZhdWx0RnJlZVN0cm9rZU1vZGVsIiwiR2xvYmFsQmFja2dyb3VuZE1vZGVsIiwiU3luY0JnUHJvcGVydHkiLCJkZWYiLCJpc1Nwcml0ZVN0cmluZyIsImRlZkJnUG9zdmFsIiwiX3JlcyIsImRlZkJnU2l6ZVZhbCIsIkdsb2JhbFNpemVNb2RlbCIsIkdyb3VwT2JqZWN0TW9kZWwiLCJJbWFnZU9iamVjdE1vZGVsIiwiTGluZU9iamVjdE1vZGVsIiwiUmVjdGFuZ2xlT2JqZWN0TW9kZWwiLCJjdXVyZW50IiwiU3ByaXRlT2JqZWN0TW9kZWwiLCJUZXh0T2JqZWN0TW9kZWwiLCJzeXN0ZW1Gb250IiwiVGlja1ZhbCIsImxvY3MiLCJsb2NlIiwiZW5kdmFsIiwic3RhcnR2YWwiLCJkaWZmZXJlbmNlIiwiQ29sb3IiLCJOb3JtYWxpemVDb2xvckFycmF5IiwiUGFyc2VDb2xvdXIiLCJleGVjIiwidGV4dERyYXdlckNvbnRleHQiLCJleHRyYWN0IiwieDEiLCJ5MSIsIngyIiwieTIiLCJjbG9zZVBhdGgiLCJheDEiLCJheTEiLCJheDIiLCJheTIiLCJzdHJva2VDYXAiLCJkcmF3UmVjdEZpbGwiLCJkcmF3UmVjdFN0cm9rZSIsIl94IiwiX3kiLCJFYXNpbmciLCJlYXNpbmdzIiwiXyIsImxpbmVhciIsImxpbmVhclNvZnQiLCJ0cyIsInRjIiwibGluZWFyU29mdE91dCIsImxpbmVhclNvZnRJbiIsImVhc2VJblF1YWQiLCJlYXNlT3V0UXVhZCIsImVhc2VJbk91dFF1YWQiLCJlYXNlSW5DdWJpYyIsImVhc2VPdXRDdWJpYyIsImVhc2VJbk91dEN1YmljIiwiZWFzZUluUXVhcnQiLCJlYXNlT3V0UXVhcnQiLCJlYXNlSW5PdXRRdWFydCIsImVhc2VJblF1aW50IiwiZWFzZU91dFF1aW50IiwiZWFzZUluT3V0UXVpbnQiLCJlYXNlSW5TaW5lIiwiY29zIiwiZWFzZU91dFNpbmUiLCJzaW4iLCJlYXNlSW5PdXRTaW5lIiwiZWFzZUluRXhwbyIsInBvdyIsImVhc2VPdXRFeHBvIiwiZWFzZUluT3V0RXhwbyIsImVhc2VJbkNpcmMiLCJlYXNlT3V0Q2lyYyIsImVhc2VJbk91dENpcmMiLCJlYXNlSW5CYWNrIiwiZWFzZU91dEJhY2siLCJlYXNlSW5PdXRCYWNrIiwiZWFzZU91dEJvdW5jZSIsIm11bHRpcGx5IiwibTEiLCJtMiIsImExIiwiYTIiLCJhMyIsImE0IiwiYTUiLCJhNiIsImFwcGx5TWF0cml4VG9Qb2ludCIsInBvaW50IiwiR3JhcGhpY3NUcmFuc2Zvcm1NYXRyaXgiLCJpbnZlcnNpb24iLCJnbG9iYWxJbnZlcnNpb24iLCJoaXN0b3J5IiwiaW52ZXJ0Iiwicm90YXRlIiwic2luQSIsImNvc0EiLCJza2V3IiwidGFuIiwic2NhbGUiLCJhbmdsZSIsInRhbkEiLCJ0YW5CIiwiZXh0cmFjdEdsb2JhbEludmVyc2lvbiIsImdsb2JhbEN1cnNvclByb2plY3Rpb24iLCJjdXJzb3JQcm9qZWN0aW9uIiwiZXhjbHVkZV9zZWxmIiwiZXh0cmFjdEludmVyc2lvbiIsIm9yaWdpbiIsIl90cmFuc2xhdGUiLCJfb3JpZ2luIiwiTW9kZWwiLCJjbG9uZUhhc2giLCJoYXNoIiwicGFyc2UiLCJldmFsIiwiYmxlbmRpbmdzIiwic3ByaXRlX3JlZ2V4cCIsInRlc3QiLCJjaXJjbGVVc2VyQ2hlY2tGdW5jdGlvbiIsImNvb3JkcyIsImN4IiwiY3kiLCJzcXVhcmVVc2VyQ2hlY2tGdW5jdGlvbiIsImNlbnRlciIsIlBhdGgiLCJnZXRDb250cm9sUG9pbnRzIiwieDAiLCJ5MCIsImQwMSIsImQxMiIsImZhIiwiZmIiLCJwMXgiLCJwMXkiLCJwMngiLCJwMnkiLCJzbW9vdGhpbmciLCJjbG9zZWQiLCJwcmV2IiwibWlkIiwibmV4dCIsInB0cyIsInMxIiwiX3NlZ21lbnQiLCJjb21wYXJlUGF0aHMiLCJwYXRoMSIsInBhdGgyIl0sIm1hcHBpbmdzIjoiQUFLQSxRQUFBQSxZQWNBLFFBQUFDLE1BQUFDLEdBQ0EsR0FBQUMsV0FBQUQsRUFFQSxLQUFBLEdBREFFLElBQUEsRUFDQUMsRUFBQSxFQUFBQSxFQUFBQyxPQUFBQyxPQUFBRixJQUNBLElBQUFHLFFBQUFGLE9BQUFELElBQUEsQ0FDQUQsR0FBQSxDQUNBLE9BTUEsTUFIQUEsSUFDQUssWUFFQVIsS0FHQSxRQUFBUyxrQkFBQVIsR0FDQSxNQUFBLFNBQUFTLGlCQUNBLEdBQUFDLEdBQUFWLEVBQUFXLE1BQUFiLFFBQUFjLFVBQ0EsT0FBQUMsVUFBQUgsRUFBQVosUUFDQVksR0FDQUksS0FBQUMsTUE2Q0EsUUFBQVIsYUFDQVIsS0FBQWlCLElBQUEsT0FDQSxLQUFBLEdBQUFD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QUEzSixPQUFBLEdBQUEsR0FBQWtvQyxFQUFBLEdBQUEsR0FDQXYrQixFQUFBQSxFQUFBM0osT0FBQSxHQUFBLEdBQUFrb0MsRUFBQSxHQUFBLE1BTUFqbkMsS0FBQWc5QixnQkFBQSxTQUFBdDBCLEdBQ0EsR0FBQSxnQkFBQUEsSUFBQUEsRUFBQXJJLGNBQUFDLE1BQUEsT0FBQSxDQUlBLEtBQUEsR0FGQWxCLElBQUEsRUFFQVAsRUFBQSxFQUFBQSxFQUFBNkosRUFBQTNKLE9BQUFGLElBQ0EsR0FDQSxnQkFBQTZKLEdBQUE3SixJQUFBNkosRUFBQTdKLEdBQUF3QixjQUFBQyxPQUFBLElBQUFvSSxFQUFBN0osR0FBQUUsUUFDQSxnQkFBQTJKLEdBQUE3SixHQUFBLElBQUEsZ0JBQUE2SixHQUFBN0osR0FBQSxHQUNBLENBQ0FPLEdBQUEsQ0FDQSxPQUlBLE1BQUFBLElBR0FZLEtBQUFrbkMsYUFBQSxTQUFBQyxFQUFBQyxHQUNBLEdBQUFob0MsSUFBQSxDQUVBLElBQUErbkMsRUFBQXBvQyxTQUFBcW9DLEVBQUFyb0MsT0FDQSxPQUFBLENBR0EsS0FBQSxHQUFBRixHQUFBLEVBQUFBLEVBQUFzb0MsRUFBQXBvQyxPQUFBRixJQUNBLElBQUEsR0FBQW9ELEdBQUEsRUFBQUEsRUFBQWtsQyxFQUFBdG9DLEdBQUFFLE9BQUFrRCxJQUNBLEdBQUFrbEMsRUFBQXRvQyxHQUFBb0QsS0FBQW1sQyxFQUFBdm9DLEdBQUFvRCxHQUFBLENBQ0E3QyxHQUFBLENBQ0EsT0FLQSxNQUFBQSIsImZpbGUiOiJyZWZsZWN0LWVuZ2luZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNC8wOC8yMDE3LlxyXG4gKi9cclxuXHJcblxyXG5mdW5jdGlvbiBSZWZsZWN0KCkge1xyXG59XHJcblxyXG52YXIgbW9kdWxlcyA9IHt9LFxyXG4gICAgcHJvcGVydGllcyA9IHt9LFxyXG4gICAgY29yZSA9IG5ldyBSZWZsZWN0KCksXHJcbiAgICBleHBlY3QgPVxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgJ0FwcGxpY2F0aW9uJywgJ0F1ZGlvJywgJ0NhbnZhcycsICdDbGFzc2VzJyxcclxuICAgICAgICAgICAgJ0NvbmZpZycsICdDb250YWluZXInLCAnRm9udHMnLCAnSGVscGVycycsXHJcbiAgICAgICAgICAgICdJbmplY3Rpb24nLCAnUm9vdCcsICdTZXJ2aWNlcycsICdTb3VyY2UnLFxyXG4gICAgICAgICAgICAnVGlja2VyJ1xyXG4gICAgICAgIF07XHJcblxyXG5mdW5jdGlvbiBDb3JlKGYpIHtcclxuICAgIG5ldyBJbmplY3Rpb24oZik7XHJcbiAgICB2YXIgcmVhZHkgPSB0cnVlO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHBlY3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoIW1vZHVsZXNbZXhwZWN0W2ldXSkge1xyXG4gICAgICAgICAgICByZWFkeSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocmVhZHkpIHtcclxuICAgICAgICBCdWlsZENvcmUoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBDb3JlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRSb3V0ZUZ1bmN0aW9uKGYpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiByb3V0ZUZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBmLmFwcGx5KFJlZmxlY3QsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gUmVmbGVjdDtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfS5iaW5kKGNvcmUpO1xyXG59XHJcblxyXG5Db3JlLmdldCA9IGZ1bmN0aW9uIChtb2R1bGUsIHBheWxvYWQpIHtcclxuICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgaWYgKG1vZHVsZXNbbW9kdWxlXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlc1ttb2R1bGVdLmdldC5hcHBseShtb2R1bGVzW21vZHVsZV0sIHBheWxvYWQpO1xyXG4gICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ01vZHVsZSBbJyArIG1vZHVsZSArICddIHdhcyBub3QgZm91bmQnKTtcclxuICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ01vZHVsZSBuYW1lIGlzIG5vdCBhIHN0cmluZy4gV3JvbmcgYXJndW1lbnRzJyk7XHJcbn07XHJcblxyXG5Db3JlLmlzID0gZnVuY3Rpb24gKHRhcmdldCwgbmFtZSkge1xyXG4gICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgaWYgKG1vZHVsZXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZXNbbmFtZV0uaXModGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG5Db3JlLmluamVjdCA9IGZ1bmN0aW9uIChtb2R1bGUsIHBheWxvYWQpIHtcclxuICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgaWYgKG1vZHVsZXNbbW9kdWxlXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlc1ttb2R1bGVdLmNyZWF0ZShwYXlsb2FkKTtcclxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdOb2R1bGUgWycgKyBtb2R1bGUgKyAnXSB3YXMgbm90IGZvdW5kLicpO1xyXG4gICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignTW9kdWxlIG5hbWUgaXMgbm90IGEgc3RyaW5nLiBXcm9uZyBBcmd1bWVudHMnKTtcclxufTtcclxuXHJcbkNvcmUuZXh0ZW5kID0gZnVuY3Rpb24gKG1vZHVsZSwgdGFyZ2V0LCBwYXlsb2FkKSB7XHJcbiAgICBpZiAodHlwZW9mIG1vZHVsZXNbbW9kdWxlXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVzW21vZHVsZV0uZXh0ZW5kKHRhcmdldCwgcGF5bG9hZCk7XHJcbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGV4dGVuZCB0YXJnZXQgb2YgdHlvZSBbJyArICh0eXBlb2YgdGFyZ2V0KSArICddIGJ1IG1vZHVsZSBjb25zdHJ1Y3RvciBbJyArIG1vZHVsZSArICddLicpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuQ29yZS5kZWZpbmUgPSBmdW5jdGlvbiAocHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICBpZiAoIWNvcmUpIGNvcmUgPSBuZXcgUmVmbGVjdCgpO1xyXG4gICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgIGlmIChwcm9wZXJ0aWVzW3Byb3BlcnR5XSAhPT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBkZWZpbmUgcHJvcGVydHkgWycgKyBwcm9wZXJ0eSArICddLiBBbHJlYWR5IGRlZmluZWQhJyk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSA9PT0gXCJmdW5jdGlvblwiKSBwcm9wZXJ0aWVzW3Byb3BlcnR5XSA9IGdldFJvdXRlRnVuY3Rpb24odmFsdWUpO1xyXG4gICAgICAgIGVsc2UgaWYgKHByb3BlcnR5ICE9PSBudWxsIHx8IHR5cGVvZiBwcm9wZXJ0eSAhPT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgcHJvcGVydHkgIT09IFwib2JqZWN0XCIpIHByb3BlcnRpZXNbcHJvcGVydHldID0gdmFsdWVcclxuICAgICAgICByZXR1cm4gY29yZTtcclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIEJ1aWxkQ29yZSgpIHtcclxuICAgIENvcmUuZ2V0KCdSb290Jyk7XHJcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgaWYgKHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgIGNvcmVbcHJvcGVydHldID0gcHJvcGVydGllc1twcm9wZXJ0eV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBJbmplY3Rpb24oZikge1xyXG4gICAgaWYgKHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIgfHwgIWYubmFtZSkgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlaW5qZWN0aW9uLiBDb25zdHJ1Y3RvciBpcyBub3QgYSBuYW1lZCBmdW5jdGlvbiEnKTtcclxuICAgIG1vZHVsZXNbZi5uYW1lXSA9IHRoaXM7XHJcbiAgICB2YXIgY2FjaGUgPSBudWxsO1xyXG5cclxuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24gKHBheWxvYWQpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtudWxsXTtcclxuICAgICAgICBpZiAocGF5bG9hZCAmJiB0eXBlb2YgcGF5bG9hZCA9PT0gXCJvYmplY3RcIiAmJiBwYXlsb2FkLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBheWxvYWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGFyZ3MucHVzaChwYXlsb2FkW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShmLCBhcmdzKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChjYWNoZSkgcmV0dXJuIGNhY2hlO1xyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5jcmVhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzWzBdKTtcclxuICAgICAgICAgICAgY2FjaGUgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmlzID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQuY29uc3RydWN0b3IgPT09IGY7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZXh0ZW5kID0gZnVuY3Rpb24gKHRhcmdldCwgcGF5bG9hZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgcGF5bG9hZCA9PT0gXCJvYmplY3RcIiAmJiBwYXlsb2FkLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICBmLmFwcGx5KHRhcmdldCwgcGF5bG9hZCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZi5jYWxsKHRhcmdldCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG52YXIgJFIgPSBjb3JlO1xyXG5cclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIEFwcGxpY2F0aW9uKENhbnZhcywgVGlja2VyLCBDb25maWcpIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgQ29uZmlnLmRlZmluZSgnZnBzJywgNTguOCwge2lzTnVtYmVyOiB0cnVlLCBncmVhdGVyOiAwLCB1bmRlcjogNjF9KS53YXRjaChmdW5jdGlvbiAodikge1xyXG4gICAgICAgIFRpY2tlci5mcHModik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBDb25maWcuZGVmaW5lKCdjYW52YXMnLCBudWxsLCB7aXNTdHJpbmc6IHRydWV9KS53YXRjaChmdW5jdGlvbiAodikge1xyXG4gICAgICAgIENhbnZhcy5lbGVtZW50KHYpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy4kID0gZnVuY3Rpb24gKG4sIGYpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG4gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgaWYgKG4uY2hhckF0KDApID09PSAnJCcpIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBBUEkgZnVuY3Rpb24uIEZ1bmN0aW9uIG5hbWUgc3RhcnRzIHdpdGggJCcpO1xyXG4gICAgICAgICAgICBpZiAodGhpc1tuXSkgdGhyb3cgbmV3IEVycm9yKCdBcHBsaWNhdGlvbiBBUEkgcHJvcGVydHkgWycgKyBuICsgJ10gZHVwbGljYXRpb24hJyk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZiAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3IoJ0FwcGxpY2F0aW9uIEFQSSBwcm9wZXJ0eSBbJyArIG4gKyAnXSB2YWx1ZSBpcyBub3QgYSBmdW5jdGlvbicpO1xyXG4gICAgICAgICAgICB0aGlzW25dID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IHNlbGY6IHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgQVBJIG1ldGhvZC4gTmFtZSBpcyBub3QgYSBzdHJpbmcuJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGEgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIENvbmZpZy5zZXQoYSwgYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgQ29uZmlnLndhdGNoKGEsIGIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbmZpZy5nZXQoYSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGEgPT09IFwib2JqZWN0XCIgJiYgYS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gYSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGEuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQ29uZmlnLnNldChwcm9wZXJ0eSwgYVtwcm9wZXJ0eV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjb25maWcgYXBwbGljYXRpb24uIENvbmZpZyBmb3JtYXQgaXMgaW52YWxpZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNC8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBBdWRpbyAoKSB7XHJcbiAgICB2YXIgY29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcclxuICAgIHRoaXMuY29udGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY29udGV4dDtcclxuICAgIH1cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIENhbnZhcyhUaWNrZXIpIHtcclxuXHJcbiAgICB2YXIgZWxlbWVudCA9IG51bGwsXHJcbiAgICAgICAgY29udGV4dCA9IG51bGwsXHJcbiAgICAgICAgc2l6ZSA9IFs4MDAsIDYwMF0sXHJcbiAgICAgICAgcmVzaXplQ2IgPSBbXSxcclxuICAgICAgICBzd2l0Y2hDYiA9IFtdLFxyXG4gICAgICAgIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgIHF1ZXVlID0gW10sXHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZSxcclxuICAgICAgICBhcmdzID0gW251bGwsIG51bGwsIG51bGxdO1xyXG5cclxuICAgIFRpY2tlci5xdWV1ZSgwLCBEcmF3U2NlbmUpO1xyXG5cclxuICAgIGZ1bmN0aW9uIERyYXdTY2VuZShkYXRlLCBmcmFtZSkge1xyXG4gICAgICAgIGlmIChyZWFkeSkge1xyXG4gICAgICAgICAgICBhcmdzWzBdID0gY29udGV4dDtcclxuICAgICAgICAgICAgYXJnc1sxXSA9IGRhdGU7XHJcbiAgICAgICAgICAgIGFyZ3NbMl0gPSBmcmFtZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZVtpXS5mLmFwcGx5KHNlbGYsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBlbWVyZ2VkIHdoaWxlIGRyYXdpbmcuIFxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnUXVldWUgICAgICAgICAgOiBbJyArIHF1ZXVlW2ldLm8gKyAnXVxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnUXVldWUgT3JkZXJpbmcgOiBbJyArIGkgKyAnXVxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnUXVldWUgTWVtYmVyICAgOiBbJyArIHF1ZXVlW2ldLmYubmFtZSArICddXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdNZXNzYWdlICAgICAgICA6ICcgKyBlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc29sdmUoYXJyYXkpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGFycmF5W2ldLmNhbGwoc2VsZik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgdmFyIGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgICAgICAgIGlmIChlICYmIGUuZ2V0Q29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IGUuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgICAgIGlmIChjdHgpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBzaXplWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnNldEF0dHJpYnV0ZSgnaGVpZ2h0Jywgc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IGN0eDtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gZTtcclxuICAgICAgICAgICAgICAgICAgICByZWFkeSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzd2l0Y2hDYik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdFbGVtZW50IHdpdGggaWQgWyMnICsgaWQgKyAnXSBpcyBub3QgYSBjYW52YXMuIENhbiBub3QgZ2V0IDJkIGNvbnRleHQuJylcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ0VsZW1lbnQgd2l0aCBpZCBbIycgKyBpZCArICddIHdhcyBub3QgZm91bmQgb3Igbm90IGEgY2FudmFzJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpZCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChpZC5nZXRDb250ZXh0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IGlkLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3R4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHNpemVbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlkLnNldEF0dHJpYnV0ZSgnaGVpZ2h0Jywgc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGlkO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjdHg7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoc3dpdGNoQ2IpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignRWxlbWVudCBpcyBub3QgYSBDYW52YXMuIENhbiBub3QgZ2V0IDJkIGNvbnRleHQuJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ0VsZW1lbnQgaXMgbm90IGEgQ2FudmFzJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnF1ZXVlID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGEgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBpZiAoIWEubmFtZSkgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZW5xdWV1ZSBjYWxsYmFjay4gUHJvdmlkZSBhIG5hbWVkIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goe286IDAsIGY6IGJ9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWIubmFtZSkgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZW5xdWV1ZSBjYWxsYmFjay4gUHJvdmlkZSBhIG5hbWVkIGZ1bmN0aW9uLicpO1xyXG4gICAgICAgICAgICAgICAgcXVldWUucHVzaCh7bzogYSwgZjogYn0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZW5xdWV1ZSBjYWxsYmFjay4gUHJvdmlkZSBhIG5hbWVkIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGVucXVldWUgY2FsbGJhY2suIFdyb25nIGFyZ3VtZW50cy4nKTtcclxuXHJcbiAgICAgICAgcXVldWUuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICByZXR1cm4gYS5vIC0gYi5vO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHdpZHRoID09PSBcIm51bWJlclwiICYmIHR5cGVvZiBoZWlnaHQgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgaWYgKHdpZHRoIDwgMCkgd2lkdGggPSAwO1xyXG4gICAgICAgICAgICBpZiAoaGVpZ2h0IDwgMCkgaGVpZ2h0ID0gMDtcclxuICAgICAgICAgICAgaWYgKHNpemVbMF0gIT09IHdpZHRoIHx8IHNpemVbMV0gIT09IHdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBzaXplWzBdID0gd2lkdGg7XHJcbiAgICAgICAgICAgICAgICBzaXplWzFdID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgd2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc2l6ZUNiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW3NpemVbMF0sIHNpemVbMV1dO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnJlc2l6ZSA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgcmVzaXplQ2IucHVzaChmKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCByZXNpemUgY2FsbGJhY2suIGYgYXJndW1lbnQgaXMgbm90IGEgZnVuY3Rpb24nKTtcclxuICAgIH07XHJcbiAgICB0aGlzLm9mZnJlc2l6ZSA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgcmVzaXplQ2IgPSByZXNpemVDYi5maWx0ZXIoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlICE9PSBmO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmVzaXplQ2IucHVzaChmKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCByZXNpemUgY2FsbGJhY2suIGYgYXJndW1lbnQgaXMgbm90IGEgZnVuY3Rpb24nKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zd2l0Y2ggPSBmdW5jdGlvbiAoZikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaENiLnB1c2goZik7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgc3dpdGNoIGNhbGxiYWNrLiBmIGFyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucmVhZHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlYWR5O1xyXG4gICAgfTtcclxuXHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyNS8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBDbGFzc2VzKCkge1xyXG4gICAgdmFyIHN5c3RlbUNsYXNzZXMgPSB7fSxcclxuICAgICAgICBhcHBsaWNhdGlvbkNsYXNzZXMgPSB7fSxcclxuICAgICAgICBnbG9iYWxDbGFzc2VzID0ge307XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGNscyhjZmcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaW5qZWN0aW9uID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtjZmddKTtcclxuICAgICAgICAgICAgaWYgKGdsb2JhbENsYXNzZXNbaW5qZWN0aW9uLm5hbWUoKV0pIGNvbnNvbGUud2FybignR2xvYmFsIENsYXNzIExpYnJhcnkgY2xhc3MgWycgKyBpbmplY3Rpb24ubmFtZSgpICsgJ10gaGFzIGJlZW4gb3ZlcndyaXR0ZW4uJyk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGFwcCBpbiBhcHBsaWNhdGlvbkNsYXNzZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcHBsaWNhdGlvbkNsYXNzZXMuaGFzT3duUHJvcGVydHkoYXBwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcHBsaWNhdGlvbkNsYXNzZXNbYXBwXVtpbmplY3Rpb24ubmFtZSgpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0FwcGxpY2F0aW9uIFsnICsgYXBwICsgJ10gQ2xhc3MgWycgKyBpbmplY3Rpb24ubmFtZSgpICsgJ10gb3ZlcnJpZGVzIGdsb2JhbCBjbGFzcy4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ2xvYmFsQ2xhc3Nlc1tpbmplY3Rpb24ubmFtZSgpXSA9IGluamVjdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIGNsYXNzIGluamVjdGlvbi4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xzLmFwcCA9IGZ1bmN0aW9uIChhcHAsIGNmZykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXBwID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmICghYXBwbGljYXRpb25DbGFzc2VzW2FwcF0pIGFwcGxpY2F0aW9uQ2xhc3Nlc1thcHBdID0ge307XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5qZWN0aW9uID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtjZmddKTtcclxuICAgICAgICAgICAgICAgIGlmIChnbG9iYWxDbGFzc2VzW2luamVjdGlvbi5uYW1lKCldKSBjb25zb2xlLndhcm4oJ0FwcGxpY2F0aW9uIFsnICsgYXBwICsgJ10gQ2xhc3MgWycgKyBpbmplY3Rpb24ubmFtZSgpICsgJ10gb3ZlcnJpZGVzIGdsb2JhbCBjbGFzcy4nKTtcclxuICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uQ2xhc3Nlc1thcHBdW2luamVjdGlvbi5uYW1lKCldID0gaW5qZWN0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgYW5kIHJlZ2lzdGVyIEFwcGxpY2F0aW9uQ2xhc3MgZm9yIHNvdXJjZXMgWycgKyBhcHAgKyAnXS4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcmVnaXN0ZXIgQXBwbGljYXRpb25DbGFzcyBpbmplY3Rpb24uIEFwcCBpZCBpcyBub3QgYSBzdHJpbmcuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjbHMuc3lzID0gZnVuY3Rpb24gKGNmZykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBpbmplY3Rpb24gPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2NmZ10pO1xyXG4gICAgICAgICAgICBpZiAoc3lzdGVtQ2xhc3Nlc1tpbmplY3Rpb24ubmFtZSgpXSkgY29uc29sZS53YXJuKCdTeXN0ZW0gQ2xhc3MgWycgKyBpbmplY3Rpb24ubmFtZSgpICsgJ10gb3ZlcnJpZGUuJyk7XHJcbiAgICAgICAgICAgIHN5c3RlbUNsYXNzZXNbaW5qZWN0aW9uLm5hbWUoKV0gPSBpbmplY3Rpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHJlZ2lzdGVyIFN5c3RlbUNsYXNzIGluamVjdGlvbicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIHRoaXMuZ2V0QXBwbGljYXRpb25DbGFzc2VzID0gZnVuY3Rpb24gKGFwcCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXBwID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW2dsb2JhbENsYXNzZXNdKTtcclxuICAgICAgICAgICAgaWYgKGFwcGxpY2F0aW9uQ2xhc3Nlc1thcHBdKSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuc291cmNlKGNvbnRhaW5lciwgJy4nKTtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5tZXJnZShhcHBsaWNhdGlvbkNsYXNzZXMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zb3VyY2UoY29udGFpbmVyLCAnLicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZ2V0IGFwcGxpY2F0aW9uIGNsYXNzZXMgY29udGFpbmVyLiBBcHAgaWQgaXMgbm90IGEgc3RyaW5nLicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5nZXRTeXN0ZW1DbGFzc2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjb250YWluZXIgPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW3N5c3RlbUNsYXNzZXNdKTtcclxuICAgICAgICBjb250YWluZXIuc291cmNlKGNvbnRhaW5lciwgJy4nKTtcclxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgfTtcclxuXHJcbiAgICBDb3JlLmRlZmluZSgnY2xhc3MnLCBjbHMpO1xyXG5cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIENvbmZpZygpIHtcclxuXHJcbiAgICB2YXIgcHJvcGVydGllcyA9IHt9LFxyXG4gICAgICAgIGZ1bmNzID0ge1xyXG4gICAgICAgICAgICBpc051bWJlcjogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdiA9PT0gXCJudW1iZXJcIjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaXNTdHJpbmc6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09IFwic3RyaW5nXCI7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGlzQXJyYXk6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdi5jb25zdHJ1Y3RvciA9PT0gQXJyYXk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGN1c3RvbTogZnVuY3Rpb24gKHYsIGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3NbMF0odik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVuZGVyOiBmdW5jdGlvbiAodiwgYXJncykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmNzLmlzTnVtYmVyKHYpICYmIHYgPCBhcmdzWzBdO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBncmVhdGVyOiBmdW5jdGlvbiAodiwgYXJncykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmNzLmlzTnVtYmVyKHYpICYmIHYgPiBhcmdzWzBdO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcTogZnVuY3Rpb24gKHYsIGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jcy5pc051bWJlcih2KSAmJiB2ID09PSBhcmdzWzBdO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpc0Jvb2w6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mICB2ID09PSBcImJvb2xlYW5cIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBQcm9wZXJ0eShuYW1lLCB2YWx1ZSwgY2ZnKSB7XHJcblxyXG4gICAgICAgIHZhciBjaGVja0FycmF5ID0gW10sXHJcbiAgICAgICAgICAgIGNiID0gW107XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrVmFsdWUodikge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGVja0FycmF5OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghZnVuY3NbY2hlY2tBcnJheVtpXS5mXSh2LCBjaGVja0FycmF5LmFyZ3MpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYXJnID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChmdW5jcy5pc0FycmF5KGFyZykpIHtcclxuICAgICAgICAgICAgICAgIGFyZyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZy5wdXNoKHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYXJnO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMubmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5hbWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXQgPSBmdW5jdGlvbiAobikge1xyXG4gICAgICAgICAgICBpZiAoY2hlY2tWYWx1ZShuKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZ1bmNzLmlzQXJyYXkobikpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKG5baV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNiLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjYltpXS5jYWxsKHRoaXMsIHRoaXMuZ2V0KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud2F0Y2ggPSBmdW5jdGlvbiAoZikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGYgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgY2IucHVzaChmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG5vdCBzZXQgY29uZmlnIHByb3BlcnR5IHdhdGNoZXIuIEFyZ3VtZW50IGYgaXMgbm90IGEgZnVuY3Rpb24uJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gY2ZnKSB7XHJcbiAgICAgICAgICAgIGlmIChjZmcuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjZmdbcHJvcF0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmdW5jc1twcm9wXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja0FycmF5LnB1c2goe2Y6IHByb3AsIGFyZ3M6IFtjZmdbcHJvcF1dfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdObyBzdWNoIGNvbmZpZyB2YWx1ZSBjaGVja2VyIGFzIFsnICsgcHJvcCArICddJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignV3JvbmcgcGFyYW1ldGVyIGZvciBjb25maWcgcHJvcGVydHkgWycgKyBwcm9wICsgJ10nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAhZnVuY3MuaXNBcnJheSh2YWx1ZSkpIHRocm93IG5ldyBFcnJvcignT2JqZWN0cyBhcmUgbm90IHN1cHBvcnRlZCBhcyBjb25maWcgcHJvcGVydHkgdmFsdWUhJyk7XHJcbiAgICAgICAgaWYgKCFjaGVja1ZhbHVlKHZhbHVlKSkgdGhyb3cgbmV3IEVycm9yKCdJbml0aWFsIFsnICsgbmFtZSArICddXFwncyB2YWx1ZSBkb2VzIG5vdCBtZWV0IGNvbmZpZyByZXF1aXJlbWVudHMuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5kZWZpbmUgPSBmdW5jdGlvbiAocHJvcGVydHksIHZhbHVlLCBjZmcpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BlcnRpZXNbcHJvcGVydHldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllc1twcm9wZXJ0eV0gPSBuZXcgUHJvcGVydHkocHJvcGVydHksIHZhbHVlLCBjZmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmFibGUgdG8gY3JlYXRlIGNvbmZpZyBwcm9wZXJ0eSBbJyArIHByb3BlcnR5ICsgJ10nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignQ29uZmlnIHByb3BlcnR5IGR1cGxpY2F0aW9uIG9uIHByb3BlcnR5IG5hbWUgWycgKyBwcm9wZXJ0eSArICddJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ0NvbmZpZyBwcm9wZXJ0eSB2YWx1ZSBjYW4gbm90IGJlIHVuZGVmaW5lZC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBkZWZpbmUgY29uZmlnIHByb3BlcnR5LiBQcm9wZXJ0eSBuYW1lIGlzIG5vdCBhIHN0cmluZy4nKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXNbcHJvcGVydHldO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNldCA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBwcm9wZXJ0aWVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0aWVzW25hbWVdLnNldCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IHByb3BlcnR5IFsnICsgbmFtZSArICddLiBObyBzdWNoIHByb3BlcnR5LicpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0aWVzW25hbWVdLmdldCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGdldCBwcm9wZXJ0eSBbJyArIG5hbWUgKyAnXS4gTm8gc3VjaCBwcm9wZXJ0eS4nKVxyXG5cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy53YXRjaCA9IGZ1bmN0aW9uIChuYW1lLCBmKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0aWVzW25hbWVdLndhdGNoKGYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ05vIHN1Y2ggcHJvcGVydHkgYXMgWycgKyBuYW1lICsgJ10gdG8gd2F0Y2guJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1dhdGNoZXIgY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byB3YXRjaCBjb25maWcgcHJvcGVydHkuIFByb3BlcnR5IG5hbWUgaXMgaW52YWxpZCBvciB1bmRlZmluZWQnKVxyXG4gICAgfVxyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMTQvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gQ29udGFpbmVyKGxpYiwgZGlyZWN0KSB7XHJcbiAgICB2YXIgbGlicmFyeSA9IHt9LFxyXG4gICAgICAgIHNvdXJjZXMgPSB7fSxcclxuICAgICAgICBjYWNoZSA9IHt9O1xyXG5cclxuICAgIHRoaXMubGlzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbGlicmFyeTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5pbmplY3Rpb24gPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIGNvbnN0cnVjdG9yID0gbnVsbCxcclxuICAgICAgICAgICAgZGVwZW5kZW5jaWVzID0gW107XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgaWYgKGNvbmZpZy5uYW1lICYmIGNvbmZpZy5uYW1lLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3RydWN0b3IgPSBjb25maWc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fub255bW91cyBmdW5jdGlvbiBjYW4gbm90IGJlIGluamVjdGlvbiBjb25zdHJ1Y3Rvci4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29uZmlnID09PSBcIm9iamVjdFwiICYmIGNvbmZpZy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnW2ldID09PSBcInN0cmluZ1wiICYmIGNvbmZpZ1tpXS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXMucHVzaChjb25maWdbaV0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29uZmlnW2ldID09PSBcImZ1bmN0aW9uXCIgJiYgY29uZmlnW2ldLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvciA9IGNvbmZpZ1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biB0eXBlIG9mIGluamVjdGlvbiBuYW1lIG9yIGNvbnN0cnVjdG9yLicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdHlwZSBvZiBpbmplY3Rpb24gY29uZmlnLicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGVwZW5kZW5jaWVzLnB1c2goY29uc3RydWN0b3IpO1xyXG5cclxuICAgICAgICBpZiAobGlicmFyeVtjb25zdHJ1Y3Rvci5uYW1lXSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0luamVjdGlvbiBbJyArIGNvbnN0cnVjdG9yLm5hbWUgKyAnXSBkdXBsaWNhdGVkIGFuZCBoYXMgYmVlbiBvdmVyd3JpdHRlbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsaWJyYXJ5W2NvbnN0cnVjdG9yLm5hbWVdID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtkZXBlbmRlbmNpZXNdKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5tZXJnZSA9IGZ1bmN0aW9uIChjZmcsIGNsb25lKSB7XHJcbiAgICAgICAgaWYgKGNmZykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gY2ZnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNmZy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvcmUuaXMoY2ZnW3Byb3BlcnR5XSwgJ0luamVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlicmFyeVtjZmdbcHJvcGVydHldLm5hbWUoKV0pIGNvbnNvbGUud2FybignSW5qZWN0aW9uIFsnICsgcHJvcGVydHkgKyAnXSBoYXMgYmVlbiBtZXJnZWQucycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlicmFyeVtsaWJbcHJvcGVydHldLm5hbWUoKV0gPSBsaWJbcHJvcGVydHldLmNsb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWJyYXJ5W2xpYltwcm9wZXJ0eV0ubmFtZSgpXSA9IGxpYltwcm9wZXJ0eV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIG1lcmdlIGxpYnMuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc291cmNlID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgcHJlZml4a2V5KSB7XHJcbiAgICAgICAgaWYgKGNvbnRhaW5lciAmJiB0eXBlb2YgY29udGFpbmVyID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIGlmIChDb3JlLmlzKGNvbnRhaW5lciwgJ0NvbnRhaW5lcicpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByZWZpeGtleSkgcHJlZml4a2V5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHR5cGVvZiBwcmVmaXhrZXkgPT09IFwic3RyaW5nXCIgJiYgcHJlZml4a2V5Lmxlbmd0aCkgfHwgcHJlZml4a2V5ID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci4kJExPT1AgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsb29wID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuJExPT1ApIGxvb3AgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjb250YWluZXIuJCRMT09PUDtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VzW3ByZWZpeGtleSA/IHByZWZpeGtleSA6ICckJG5vcHJlZml4J10gPSBDb3JlLmluamVjdCgnU291cmNlJywgW3ByZWZpeGtleSwgY29udGFpbmVyLCBsb29wXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbnRhaW5lci5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWxpZCA9IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9vcCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250YWluZXJbaV0gPT09IFwib2JqZWN0XCIgJiYgQ29yZS5pcyhjb250YWluZXJbaV0sICdDb250YWluZXInKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJbaV0uJCRMT09PUCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiQkTE9PT1ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb3AucHVzaCh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb3AucHVzaChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlICBjb250YWluZXJbaV0uJCRMT09PUDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmVmaXhrZXkpIHByZWZpeGtleSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHR5cGVvZiBwcmVmaXhrZXkgPT09IFwic3RyaW5nXCIgJiYgcHJlZml4a2V5Lmxlbmd0aCkgfHwgcHJlZml4a2V5ID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzW3ByZWZpeGtleSA/IHByZWZpeGtleSA6ICckJG5vcHJlZml4J10gPSBDb3JlLmluamVjdCgnU291cmNlJywgW3ByZWZpeGtleSwgY29udGFpbmVyLCBsb29wXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb3VyY2UgY29udGFpbmVyIGNvbmZpZyBpcyBub3QgdmFsaWQuIE9uZSBvZiB0aGUgY29udGFpbmVycyBwcm92aWRlZCBpcyBub3QgYW4gSW5qZWN0aW9uQ29udGFpbmVyIGluc3RhbmNlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG5ld0xpYnJhcnkgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBpbmplY3Rpb24gaW4gbGlicmFyeSkge1xyXG4gICAgICAgICAgICBpZiAobGlicmFyeS5oYXNPd25Qcm9wZXJ0eShpbmplY3Rpb24pKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdMaWJyYXJ5W2luamVjdGlvbl0gPSBsaWJyYXJ5W2luamVjdGlvbl0uY2xvbmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbmV3Q29udGFpbmVyID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtuZXdMaWJyYXJ5XSk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIHNvdXJjZSBpbiBzb3VyY2VzKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250YWluZXJzID0gc291cmNlc1tzb3VyY2VdLmNvbnRhaW5lcnMoKSxcclxuICAgICAgICAgICAgICAgIHNvdXJjZWxvb3AgPSBzb3VyY2VzW3NvdXJjZV0ubG9vcCgpLFxyXG4gICAgICAgICAgICAgICAgc291cmNlcHJlZml4ID0gc291cmNlc1tzb3VyY2VdLnByZWZpeCgpLFxyXG4gICAgICAgICAgICAgICAgbmV3Y29udGFpbmVycyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250YWluZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlbG9vcFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld2NvbnRhaW5lcnMucHVzaChuZXdDb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Y29udGFpbmVycy5wdXNoKGNvbnRhaW5lcnNbaV0uY2xvbmUoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5ld0NvbnRhaW5lci5zb3VyY2UobmV3Y29udGFpbmVycywgc291cmNlcHJlZml4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ld0NvbnRhaW5lcjtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5maW5kU291cmNlQnlQcmVmaXggPSBmdW5jdGlvbiAocHJlZml4KSB7XHJcbiAgICAgICAgaWYgKHByZWZpeCA9PT0gZmFsc2UpIHJldHVybiBzb3VyY2VzLiQkbm9wcmVmaXg7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgcHJlZml4ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2VzW3ByZWZpeF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5maW5kU291cmNlQnlJbmplY3Rpb25OYW1lID0gZnVuY3Rpb24gKGluamVjdGlvbk5hbWUpIHtcclxuICAgICAgICB2YXIgc291cmNlID0gbnVsbDtcclxuICAgICAgICBpZihjYWNoZVtpbmplY3Rpb25OYW1lXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVbaW5qZWN0aW9uTmFtZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwcmVmaXggaW4gc291cmNlcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZXMuaGFzT3duUHJvcGVydHkocHJlZml4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VzW3ByZWZpeF0ucHJlZml4KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZXNbcHJlZml4XS5oYXMoaW5qZWN0aW9uTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IHNvdXJjZXNbcHJlZml4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlW2luamVjdGlvbk5hbWVdID0gc291cmNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFzb3VyY2UgJiYgc291cmNlcy4kJG5vcHJlZml4ICYmIHNvdXJjZXMuJCRub3ByZWZpeC5oYXMoaW5qZWN0aW9uTmFtZSkpIHtcclxuICAgICAgICAgICAgc291cmNlID0gc291cmNlcy4kJG5vcHJlZml4O1xyXG4gICAgICAgICAgICBjYWNoZVtpbmplY3Rpb25OYW1lXSA9IHNvdXJjZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoIXNvdXJjZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBmaW5kIHNvdXJjZSBjb250YWluaW5nIGluamVjdGlvbiBbJyArIGluamVjdGlvbk5hbWUrJ10uICcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucmVzb2x2ZSA9IGZ1bmN0aW9uIChuYW1lLCBkaXJlY3QpIHtcclxuICAgICAgICBpZiAoZGlyZWN0ID09PSAnZXh0ZW5kJykge1xyXG5cclxuICAgICAgICAgICAgaWYgKGxpYnJhcnlbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb25zdHJ1Y3RvcjogbGlicmFyeVtuYW1lXS4kY29uc3RydWN0b3IoKVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jaWVzID0gbGlicmFyeVtuYW1lXS5kZXBlbmRlbmNpZXMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGRlcGVuZGVuY2llcy5sZW5ndGg7IGQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXBlbmRlbmNpZXNbZF0gPT09ICdAZXh0ZW5kJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuZGVwZW5kZW5jaWVzLnB1c2gobGlicmFyeVtuYW1lXS5leHRlbmQodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkZXBlbmRlbmNpZXNbZF0gPT09ICdAaW5qZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuZGVwZW5kZW5jaWVzLnB1c2gobGlicmFyeVtuYW1lXS5pbmplY3QodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNyYyA9IHRoaXMuZmluZFNvdXJjZUJ5SW5qZWN0aW9uTmFtZShkZXBlbmRlbmNpZXNbZF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuZGVwZW5kZW5jaWVzLnB1c2goc3JjLnJlc29sdmUoZGVwZW5kZW5jaWVzW2RdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNvdXJjZSBmb3VuZCBjb250YWluaW5nIFsnICsgZGVwZW5kZW5jaWVzW2RdICsgJ10gZm9yIFsnK25hbWUrJ10uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGluamVjdCBbJyArIG5hbWUgKyAnXSBubyBzdWNoIGluamVjdGlvbiBmb3VuZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5oYXMobmFtZSkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZGVwZW5kZW5jaWVzID0gbGlicmFyeVtuYW1lXS5kZXBlbmRlbmNpZXMoKSxcclxuICAgICAgICAgICAgICAgICAgICBhcmdzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcGVuZGVuY2llc1tpXSA9PT0gJ0BleHRlbmQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChsaWJyYXJ5W25hbWVdLmV4dGVuZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRlcGVuZGVuY2llc1tpXSA9PT0gJ0BpbmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChsaWJyYXJ5W25hbWVdLmluamVjdCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gdGhpcy5maW5kU291cmNlQnlJbmplY3Rpb25OYW1lKGRlcGVuZGVuY2llc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChzb3VyY2UucmVzb2x2ZShkZXBlbmRlbmNpZXNbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5qZWN0aW9uIFsnICsgZGVwZW5kZW5jaWVzW2ldICsgJ10gZm9yIFsnICsgbmFtZSArICddIHNvdXJjZSB3YXMgbm90IGZvdW5kLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBsaWJyYXJ5W25hbWVdLmNyZWF0ZShhcmdzLCBkaXJlY3QpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5qZWN0aW9uIFsnICsgbmFtZSArICddIHdhcyBub3QgZm91bmQgaW4gbGlicmFyeSEnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZXNvbHZlRGlyZWN0SW5qZWN0aW9uID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5maW5kU291cmNlQnlJbmplY3Rpb25OYW1lKG5hbWUpO1xyXG4gICAgICAgIGlmIChzb3VyY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5yZXNvbHZlKG5hbWUsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaGFzID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gISFsaWJyYXJ5W25hbWVdO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgaWYgKGxpYnJhcnlbbmFtZV0pIHJldHVybiBsaWJyYXJ5W25hbWVdO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgaWYgKENvcmUuaXMobGliLCAnSW5qZWN0aW9uJykpIHtcclxuICAgICAgICBsaWJyYXJ5W2xpYi5uYW1lKCldID0gbGliLmNsb25lKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2YgbGliID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gbGliKSB7XHJcbiAgICAgICAgICAgIGlmIChsaWIuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQ29yZS5pcyhsaWJbcHJvcGVydHldLCAnSW5qZWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlyZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpYnJhcnlbbGliW3Byb3BlcnR5XS5uYW1lKCldID0gbGliW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpYnJhcnlbbGliW3Byb3BlcnR5XS5uYW1lKCldID0gbGliW3Byb3BlcnR5XS5jbG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChsaWIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBjb250YWluZXIuIFdyb25nIGFyZ3VtZW50cy4gTGliIGlzIEluamVjdGlvbiBvciBvYmplY3QnKVxyXG4gICAgfVxyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMTQvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gRm9udHMoQ29uZmlnLCBhcHApIHtcclxuXHJcbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XHJcblxyXG4gICAgdmFyIGZhbWlsaWVzID0ge30sXHJcbiAgICAgICAgZm9udHNEZWZpbmVkID0gZmFsc2UsXHJcbiAgICAgICAgZm9ybWF0ID0gQ29uZmlnLmRlZmluZSgnZm9udEZvcm1hdHMnLCBbJ2VvdCcsICdzdmcnLCAndHRmJywgJ3dvZmYnXSwge1xyXG4gICAgICAgICAgICBpc0FycmF5OiB0cnVlLCBjdXN0b206IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdi5sZW5ndGgoKTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZbaV0gIT09ICdlb3QnIHx8IHZbaV0gIT09ICdzdmcnIHx8IHZbaV0gIT09ICd0dGYnIHx8IHZbaV0gIT09ICd3b2ZmJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLndhdGNoKGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgIGZvbnRzRGVmaW5lZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvcm1hdCA9IHY7XHJcbiAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIGZvcm1hdFN0ciA9IHtcclxuICAgICAgICAgICAgZW90OiBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3VybChcIicgKyB1cmwgKyAnLmVvdD8jaWVmaXhcIikgZm9ybWF0KFwiZW1iZWRkZWQtb3BlbnR5cGVcIiknO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB3b2ZmOiBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3VybChcIicgKyB1cmwgKyAnLndvZmZcIikgZm9ybWF0KFwid29mZlwiKSc7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHR0ZjogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd1cmwoXCInICsgdXJsICsgJy50dGZcIikgZm9ybWF0KFwidHJ1ZXR5cGVcIiknO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdmc6IGZ1bmN0aW9uICh1cmwsIGZvbnQsIHN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3VybChcIicgKyB1cmwgKyAnLnN2ZyMnICsgZm9udCArICctJyArIChzdHlsZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0eWxlLnNsaWNlKDEpKSArICdcIikgZm9ybWF0KFwic3ZnXCIpJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgQ29uZmlnLmRlZmluZSgnZm9udERpcicsICcuL2ZvbnRzJywge2lzU3RyaW5nOiB0cnVlfSk7XHJcblxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuXHJcbiAgICBmdW5jdGlvbiBmb250U3RyaW5nKGZvbnQpIHtcclxuXHJcbiAgICAgICAgaWYoIWZvbnRzRGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcclxuXHJcbiAgICAgICAgZm9yICh2YXIgdyA9IDA7IHcgPCBmb250LndlaWdodC5sZW5ndGg7IHcrKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IGZvbnQuc3R5bGUubGVuZ3RoOyBzKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlc3RyaW5nID0gQ29uZmlnLmdldCgnZm9udERpcicpICsgJy8nICsgZm9udC5uYW1lICsgJy0nICsgZm9udC53ZWlnaHRbd10gKyAnLScgKyBmb250LnN0eWxlW3NdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0cmluZyA9ICdAZm9udC1mYWNlIHsnICtcclxuICAgICAgICAgICAgICAgICAgICAnZm9udC1mYW1pbHk6IFwiJyArIHNlbGYuZm9ybWF0KGZvbnQubmFtZSkgKyAnLScgKyBmb250LndlaWdodFt3XSArICdcIjsnICtcclxuICAgICAgICAgICAgICAgICAgICAnc3JjOic7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZiA9IDA7IGYgPCBmb3JtYXQubGVuZ3RoOyBmKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZm9ybWF0U3RyW2Zvcm1hdFtmXV0oZmlsZXN0cmluZywgZm9udC5uYW1lLCBmb250LnN0eWxlW3NdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZiA8IGZvcm1hdC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSAnLCdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSAnOydcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gJ2ZvbnQtd2VpZ2h0OiAnICsgZm9udC53ZWlnaHRbd10gKyAnOyc7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gJ2ZvbnQtc3R5bGU6JyArIGZvbnQuc3R5bGVbc10gKyAnO30nO1xyXG4gICAgICAgICAgICAgICAgZm9udFtmb250LndlaWdodFt3XSArICctJyArIGZvbnQuc3R5bGVbc11dID0gc3RyaW5nO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBmb250W2ZvbnQud2VpZ2h0W3ddICsgJy0nICsgZm9udC5zdHlsZVtzXV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlKHBhdGgpIHtcclxuICAgICAgICB2YXIgc3RyaW5nID0gJyc7XHJcbiAgICAgICAgZm9yICh2YXIgZmFtaWx5IGluIGZhbWlsaWVzKSB7XHJcbiAgICAgICAgICAgIGlmIChmYW1pbGllcy5oYXNPd25Qcm9wZXJ0eShmYW1pbHkpKSB7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZm9udFN0cmluZyhmYW1pbGllc1tmYW1pbHldLCBwYXRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbkFycmF5KGFycmF5LCB2YWx1ZSkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChhcnJheVtpXSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZm9udCA9IGZ1bmN0aW9uIChwYXRoLCBmb250LCB3ZWlnaHQsIHN0eWxlKSB7XHJcbiAgICAgICAgaWYgKCFmYW1pbGllc1tmb250XSkge1xyXG4gICAgICAgICAgICBmYW1pbGllc1tmb250XSA9IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGZvbnRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFmYW1pbGllc1tmb250XS53ZWlnaHQpIGZhbWlsaWVzW2ZvbnRdLndlaWdodCA9IFtdO1xyXG4gICAgICAgIGlmICghZmFtaWxpZXNbZm9udF0uc3R5bGUpIGZhbWlsaWVzW2ZvbnRdLnN0eWxlID0gW107XHJcbiAgICAgICAgaWYgKCFpbkFycmF5KGZhbWlsaWVzW2ZvbnRdLndlaWdodCwgd2VpZ2h0KSkgZmFtaWxpZXNbZm9udF0ud2VpZ2h0LnB1c2god2VpZ2h0KTtcclxuICAgICAgICBpZiAoIWluQXJyYXkoZmFtaWxpZXNbZm9udF0uc3R5bGUsIHN0eWxlKSkgZmFtaWxpZXNbZm9udF0uc3R5bGUucHVzaChzdHlsZSk7XHJcbiAgICAgICAgdXBkYXRlKHBhdGgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmZvcm1hdCA9IGZ1bmN0aW9uIChmb250KSB7XHJcbiAgICAgICAgcmV0dXJuIGFwcCArICctJyArIGZvbnQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZm9ybWF0cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb3JtYXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goZm9ybWF0W2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyNS8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBIZWxwZXJzKCkge1xyXG5cclxuICAgIHZhciBoZWxwZXJzID0ge30sXHJcbiAgICAgICAgc3lzSGVscGVycyA9IHt9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGhlbHBlcihjZmcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaGVscGVyID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtjZmddKTtcclxuICAgICAgICAgICAgaWYgKGhlbHBlcnNbaGVscGVyLm5hbWUoKV0pIGNvbnNvbGUud2FybignaGVscGVyIFsnICsgaGVscGVyLm5hbWUoKSArICddIG92ZXJyaWRlLicpO1xyXG4gICAgICAgICAgICBoZWxwZXJzW2hlbHBlci5uYW1lKCldID0gaGVscGVyO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIEhlbHBlci4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQ29yZS5kZWZpbmUoJ2hlbHBlcicsIGhlbHBlcik7XHJcblxyXG4gICAgaGVscGVyLnN5c3RlbSA9IGZ1bmN0aW9uIChjZmcsIGlzX3B1YmxpYykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBoZWxwZXIgPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2NmZ10pO1xyXG4gICAgICAgICAgICBpZiAoc3lzSGVscGVyc1toZWxwZXIubmFtZSgpXSkgY29uc29sZS53YXJuKCdTeXN0ZW0gSGVscGVyIFsnICsgaGVscGVyLm5hbWUoKSArICddIER1cGxpY2F0ZSBkZWNsYXJhdGlvbiBvdmVycmlkZS4nKTtcclxuICAgICAgICAgICAgc3lzSGVscGVyc1toZWxwZXIubmFtZSgpXSA9IGhlbHBlcjtcclxuICAgICAgICAgICAgaWYgKGlzX3B1YmxpYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGhlbHBlcnNbaGVscGVyLm5hbWUoKV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1N5c3RlbSBIZWxwZXIgWycgKyBoZWxwZXIubmFtZSgpICsgJ10gb3ZlcnJpZGVzIHVzZXIgaGVscGVyLiBTa2lwcGVkIHN5c3RlbSBoZWxwZXIuJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGhlbHBlcnNbaGVscGVyLm5hbWUoKV0gPSBoZWxwZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmdldFN5c3RlbUhlbHBlcnMgPSBmdW5jdGlvbiAoZGVmYXVsdHMpIHtcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtzeXNIZWxwZXJzXSk7XHJcbiAgICAgICAgY29udGFpbmVyLnNvdXJjZShjb250YWluZXIsICcrJyk7XHJcbiAgICAgICAgY29udGFpbmVyLnNvdXJjZShkZWZhdWx0cywgJ0AnKTtcclxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldFB1YmxpY0hlbHBlcnMgPSBmdW5jdGlvbiAoZGVmYXVsdHMpIHtcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtoZWxwZXJzXSk7XHJcbiAgICAgICAgY29udGFpbmVyLnNvdXJjZShjb250YWluZXIsICcrJyk7XHJcbiAgICAgICAgY29udGFpbmVyLnNvdXJjZShkZWZhdWx0cywgJ0AnKTtcclxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgfTtcclxuXHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNC8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBJbmplY3Rpb24oY29uLCByZXNvbHZlZCkge1xyXG4gICAgdmFyIGNvbnN0cnVjdG9yID0gY29uLCBpbnN0YW5jZSA9IG51bGwsXHJcbiAgICAgICAgZGVwZW5kZW5jaWVzID0gW10sXHJcbiAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG5cclxuICAgIGlmIChyZXNvbHZlZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgY29uID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gY29uLmNvbnN0cnVjdG9yO1xyXG4gICAgICAgICAgICBpbnN0YW5jZSA9IGNvbjtcclxuICAgICAgICAgICAgZGVwZW5kZW5jaWVzID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIFByZVJlc29sdmVkSW5qZWN0aW9uISBjb24gYXJndW1lbnQgaXMgbm90IGFuIG9iamVjdCEnKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmICh0eXBlb2YgY29uID09PSBcImZ1bmN0aW9uXCIgJiYgY29uLm5hbWUpIHtcclxuICAgICAgICAgICAgY29uc3RydWN0b3IgPSBjb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjb24gPT09IFwib2JqZWN0XCIgJiYgY29uLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25baV0gPT09IFwic3RyaW5nXCIgJiYgY29uW2ldLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llcy5wdXNoKGNvbltpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29uW2ldID09PSBcImZ1bmN0aW9uXCIgJiYgY29uW2ldLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvciA9IGNvbltpXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFjb25zdHJ1Y3RvcikgdGhyb3cgbmV3IEVycm9yKCdJbmplY3Rpb24gY29uc3RydWN0b3IgdW5kZWZpbmVkIScpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB0aGlzLm5hbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLm5hbWU7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChkZXBlbmRlbmNpZXNbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmV4dGVuZCA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuICAgICAgICBpZihyZXNvbHZlZCkgdGhyb3cgbmV3IEVycm9yKCdZb3UgY2FuIG5vdCBleHRlbmQgd2l0aCBbJyArIGNvbnN0cnVjdG9yLm5hbWUgKyAnXSEnKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgaW5qZWN0aW9uTmFtZSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpbmplY3Rpb25OYW1lID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGNvbnRhaW5lci5maW5kU291cmNlQnlJbmplY3Rpb25OYW1lKGluamVjdGlvbk5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHNvdXJjZS5yZXNvbHZlSW5qZWN0aW9uRGVwZW5kYW5jaWVzKGluamVjdGlvbk5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuJGNvbnN0cnVjdG9yLmFwcGx5KHRhcmdldCwgY29uZmlnLmRlcGVuZGVuY2llcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBmaW5kIGluamVjdGlvbiBbJyArIGluamVjdGlvbk5hbWUgKyAnXSBmb3IgWycgKyBzZWxmLm5hbWUoKSArJ10nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4dGVuZCBjbGFzcyBuYW1lIHNob3VsZCBiZSBhIHN0cmluZyEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXh0ZW5kIHRhcmdldCBzaG91bGQgYmUgYW4gb2JqZWN0IScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmluamVjdCA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuICAgICAgICBpZihyZXNvbHZlZCkgdGhyb3cgbmV3IEVycm9yKCdZb3UgY2FuIG5vdCBpbmplY3QgWycgKyBjb25zdHJ1Y3Rvci5uYW1lICsnXSBkaXJlY3RseScpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoaW5qZWN0aW9uTmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLnJlc29sdmVEaXJlY3RJbmplY3Rpb24oaW5qZWN0aW9uTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uIChhcmdzLCBkaXJlY3QpIHtcclxuICAgICAgICBpZiAocmVzb2x2ZWQpIHJldHVybiBpbnN0YW5jZTtcclxuICAgICAgICBpZiAoZGlyZWN0KSB7XHJcbiAgICAgICAgICAgIGFyZ3MudW5zaGlmdChudWxsKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoY29uc3RydWN0b3IsIGFyZ3MpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIGFyZ3MudW5zaGlmdChudWxsKTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShjb25zdHJ1Y3RvciwgYXJncykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuJGNvbnN0cnVjdG9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEluamVjdGlvbihjb24sIHJlc29sdmVkKTtcclxuICAgIH07XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNC8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBSb290KCkge1xyXG4gICAgdmFyIGFwcHMgPSB7fSxcclxuICAgICAgICBzZXJ2aWNlcyA9IENvcmUuZ2V0KCdTZXJ2aWNlcycpLFxyXG4gICAgICAgIGNsYXNzZXMgPSBDb3JlLmdldCgnQ2xhc3NlcycpLFxyXG4gICAgICAgIGhlbHBlcnMgPSBDb3JlLmdldCgnSGVscGVycycpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUFwcGxpY2F0aW9uKGFwcCkge1xyXG4gICAgICAgIHZhciBhcHBDb250YWluZXIgPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW2FwcHNbYXBwXV0pLFxyXG4gICAgICAgICAgICBhcHBUaWNrZXIgPSBDb3JlLmluamVjdCgnVGlja2VyJyksXHJcbiAgICAgICAgICAgIGFwcENhbnZhcyA9IENvcmUuaW5qZWN0KCdDYW52YXMnLCBbYXBwVGlja2VyXSksXHJcbiAgICAgICAgICAgIGFwcEF1ZGlvID0gQ29yZS5pbmplY3QoJ0F1ZGlvJywgW10pLFxyXG4gICAgICAgICAgICBhcHBDb25maWcgPSBDb3JlLmluamVjdCgnQ29uZmlnJywgW2FwcF0pLFxyXG4gICAgICAgICAgICBhcHBGb250cyA9IENvcmUuaW5qZWN0KCdGb250cycsIFthcHBDb25maWcsIGFwcF0pLFxyXG4gICAgICAgICAgICBhcHBBcGkgPSBDb3JlLmluamVjdCgnQXBwbGljYXRpb24nLCBbYXBwQ2FudmFzLCBhcHBUaWNrZXIsIGFwcENvbmZpZ10pO1xyXG5cclxuICAgICAgICB2YXIgZGVmYXVsdHNMaWJyYXJ5ID0ge307XHJcblxyXG4gICAgICAgIGRlZmF1bHRzTGlicmFyeS5UaWNrZXIgPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2FwcFRpY2tlciwgdHJ1ZV0pO1xyXG4gICAgICAgIGRlZmF1bHRzTGlicmFyeS5DYW52YXMgPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2FwcENhbnZhcywgdHJ1ZV0pO1xyXG4gICAgICAgIGRlZmF1bHRzTGlicmFyeS5BUEkgPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2FwcEFwaSwgdHJ1ZV0pO1xyXG4gICAgICAgIGRlZmF1bHRzTGlicmFyeS5Gb250cyA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbYXBwRm9udHMsIHRydWVdKTtcclxuICAgICAgICBkZWZhdWx0c0xpYnJhcnkuQ29uZmlnID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFthcHBDb25maWcsIHRydWVdKTtcclxuICAgICAgICBkZWZhdWx0c0xpYnJhcnkuQXVkaW8gPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2FwcEF1ZGlvLCB0cnVlXSk7XHJcblxyXG4gICAgICAgIHZhciBhcHBEZWZhdWx0cyA9IENvcmUuaW5qZWN0KCdDb250YWluZXInLCBbZGVmYXVsdHNMaWJyYXJ5XSksXHJcbiAgICAgICAgICAgIGFwcFN5c0hlbHBlcnMgPSBoZWxwZXJzLmdldFN5c3RlbUhlbHBlcnMoYXBwRGVmYXVsdHMpLFxyXG4gICAgICAgICAgICBhcHBQdWJIZWxwZXJzID0gaGVscGVycy5nZXRQdWJsaWNIZWxwZXJzKGFwcERlZmF1bHRzKSxcclxuICAgICAgICAgICAgYXBwQ2xhc3NlcyA9IGNsYXNzZXMuZ2V0QXBwbGljYXRpb25DbGFzc2VzKGFwcCksXHJcbiAgICAgICAgICAgIGFwcFN5c0NsYXNzZXMgPSBjbGFzc2VzLmdldFN5c3RlbUNsYXNzZXMoYXBwKSxcclxuICAgICAgICAgICAgYXBwU2VydmljZXMgPSBzZXJ2aWNlcy5nZXRBcHBsaWNhdGlvblNlcnZpY2VzKGFwcFN5c0hlbHBlcnMsIGFwcFN5c0NsYXNzZXMsIGFwcERlZmF1bHRzKTtcclxuXHJcbiAgICAgICAgLy9BbGxvd3MgYXBwbGljYXRpb24gY29uc3RydWN0b3IgdG8gaW5qZWN0IFNlcnZpY2VzXHJcbiAgICAgICAgYXBwQ29udGFpbmVyLnNvdXJjZShhcHBTZXJ2aWNlcywgZmFsc2UpO1xyXG4gICAgICAgIC8vQWxsb3dzIGFwcGxpY2F0aW9uIGNvbnN0cnVjdG9yIHRvIGluamVjdCBDbGFzc2VzXHJcbiAgICAgICAgYXBwQ29udGFpbmVyLnNvdXJjZShhcHBDbGFzc2VzLCAnLicpO1xyXG4gICAgICAgIC8vQWxsb3dzIGFwcGxpY2F0aW9uIGNvbnN0cnVjdG9yIHRvIGluamVjdCBwdWJsaWMgaGVscGVyc1xyXG4gICAgICAgIGFwcENvbnRhaW5lci5zb3VyY2UoYXBwUHViSGVscGVycywgJysnKTtcclxuICAgICAgICAvL0FsbG93cyBhcHBsaWNhdGlvbiBjb25zdHJ1Y3RvciB0byBpbmplY3Qgc3lzdGVtIGluamVjdGlvbiBmdW5jdGlvbiBhbmQgcm9vdCBlbGVtZW50cyBjb250YWluZXJzXHJcbiAgICAgICAgYXBwQ29udGFpbmVyLnNvdXJjZShhcHBEZWZhdWx0cywgJ0AnKTtcclxuICAgICAgICAvL0FsbG93cyBBcHAgY2xhc3NlcyB0byBpbmplY3QgYXBwIHNlcnZpY2VzXHJcbiAgICAgICAgYXBwQ2xhc3Nlcy5zb3VyY2UoYXBwU2VydmljZXMsIGZhbHNlKTtcclxuICAgICAgICAvL0FsbG93cyBBcHAgY2xhc3NlcyB0byBpbmplY3QgYXBwIGRlZmF1bHRzXHJcbiAgICAgICAgYXBwQ2xhc3Nlcy5zb3VyY2UoYXBwRGVmYXVsdHMsICdAJyk7XHJcbiAgICAgICAgLy9BbGxvd3MgQXBwIGNsYXNzZXMgdG8gaW5qZWN0IGFwcCBoZWxwZXJzXHJcbiAgICAgICAgYXBwQ2xhc3Nlcy5zb3VyY2UoYXBwU3lzSGVscGVycywgJysnKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcHBTZXJ2aWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbGlzdCA9IGFwcFNlcnZpY2VzW2ldLmxpc3QoKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBsaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGlzdC5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcFNlcnZpY2VzW2ldLnJlc29sdmUocHJvcCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYXBwQ29udGFpbmVyLnJlc29sdmUoYXBwKTtcclxuICAgICAgICByZXR1cm4gYXBwQXBpO1xyXG4gICAgfVxyXG5cclxuICAgIENvcmUuZGVmaW5lKCdhcHAnLCBmdW5jdGlvbiAoY2ZnKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGFwcGxpY2F0aW9uID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtjZmddKTtcclxuICAgICAgICAgICAgaWYgKGFwcHNbYXBwbGljYXRpb24ubmFtZSgpXSkgY29uc29sZS53YXJuKCdBcHBsaWNhdGlvbiBbJyArIGFwcGxpY2F0aW9uLm5hbWUoKSArICddIG92ZXJyaWRlLiBSZW1vdmUgZHVwbGljYXRlcycpO1xyXG4gICAgICAgICAgICBhcHBzW2FwcGxpY2F0aW9uLm5hbWUoKV0gPSBhcHBsaWNhdGlvbjtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuYWJsZSB0byByZWdpc3RlciBBcHBsaWNhdGlvbiBjb25zdHJ1Y3Rvci4nKTtcclxuICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBDb3JlLmRlZmluZSgncnVuJywgZnVuY3Rpb24gKGFwcCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXBwID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmIChhcHBzW2FwcF0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBcHBsaWNhdGlvbihhcHApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcHBsaWNhdGlvbiBbJyArIGFwcCArICddIG5vdCBmb3VuZC4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGdldCBzb3VyY2VzLiBBcHAgSWQgaXMgbm90IGEgc3RyaW5nJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNC8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBTZXJ2aWNlcygpIHtcclxuXHJcbiAgICB2YXIgc2VydmljZXMgPSB7fSxcclxuICAgICAgICBzZXJ2aWNlQ2xhc3NlcyA9IHt9LFxyXG4gICAgICAgIHBsdWdpbnMgPSB7fSxcclxuICAgICAgICBwbHVnaW5zQ2xhc3NlcyA9IHt9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHNlcnZpY2UoY2ZnKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjZmcgPT09IFwib2JqZWN0XCIgJiYgY2ZnLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICB2YXIgc2VydmljZU5hbWUgPSBudWxsO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNmZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjZmdbaV0gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lID0gY2ZnW2ldLm5hbWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgY2ZnW2ldICE9PSBcInN0cmluZ1wiKSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgc2VydmljZS4gSW52YWxpZCBjb25maWcnKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNlcnZpY2VOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VydmljZXNbc2VydmljZU5hbWVdKSBjb25zb2xlLndhcm4oJ0R1cGxpY2F0ZSBkZWNsYXJhdGlvbi4gU2VydmljZSBbJyArIHNlcnZpY2VOYW1lICsgJ10gaGFzIGJlZW4gb3ZlcndyaXR0ZW4nKTtcclxuICAgICAgICAgICAgICAgIHNlcnZpY2VzW3NlcnZpY2VOYW1lXSA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbY2ZnXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNmZyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIGlmIChjZmcubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VzW2NmZy5uYW1lXSkgY29uc29sZS53YXJuKCdEdXBsaWNhdGUgZGVjbGFyYXRpb24uIFNlcnZpY2UgWycgKyBzZXJ2aWNlTmFtZSArICddIGhhcyBiZWVuIG92ZXJ3cml0dGVuJyk7XHJcbiAgICAgICAgICAgICAgICBzZXJ2aWNlc1tjZmcubmFtZV0gPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2NmZ10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIHNlcnZpY2UuIENvbnN0cnVjdG9yIGlzIG5vdCBhIG5hbWVkIGZ1bmN0aW9uLicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwbHVnaW4oYSwgYikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGIgPT09IFwib2JqZWN0XCIgJiYgYi5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwbHVnaW5OYW1lID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYltpXSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbk5hbWUgPSBiW2ldLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBiW2ldICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBwbHVnaW4uIEludmFsaWQgY29uc3RydWN0b3IgYXJndW1lbnRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbk5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBsdWdpbnNbYV0pIHBsdWdpbnNbYV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGx1Z2luc1thXVtwbHVnaW5OYW1lXSkgY29uc29sZS53YXJuKCdQbHVnaW4gZHVwbGljYXRlZC4gWycgKyBwbHVnaW5OYW1lICsgJ10gaGFzIGJlZW4gb3ZlcndyaXR0ZW4nKTtcclxuICAgICAgICAgICAgICAgICAgICBwbHVnaW5zW2FdW3BsdWdpbk5hbWVdID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtiXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgcGx1Z2luLiBDb25zdHJ1Y3RvciBpcyBub3QgYSBuYW1lZCBmdW5jdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgcGx1Z2luLiBJbnZhbGlkIGFyZ3VtZW50cy4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcGx1Z2luLmNsYXNzID0gZnVuY3Rpb24gKHN2YywgYSwgYikge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygc3ZjID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiID09PSBcIm9iamVjdFwiICYmIGIuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsdWdpbkNsYXNzTmFtZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYltpXSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW5DbGFzc05hbWUgPSBiW2ldLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGJbaV0gIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBwbHVnaW4gY2xhc3MuIEludmFsaWQgY29uc3RydWN0b3IgYXJndW1lbnRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsdWdpbkNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBsdWdpbnNDbGFzc2VzW3N2Y10pIHBsdWdpbnNDbGFzc2VzW3N2Y10gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwbHVnaW5zQ2xhc3Nlc1tzdmNdW2FdKSBwbHVnaW5zQ2xhc3Nlc1tzdmNdW2FdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW5zQ2xhc3Nlc1tzdmNdW2FdW3BsdWdpbkNsYXNzTmFtZV0pIGNvbnNvbGUud2FybignUGx1Z2luIGNsYXNzIGR1cGxpY2F0ZWQuIFsnICsgcGx1Z2luQ2xhc3NOYW1lICsgJ10gaGFzIGJlZW4gb3ZlcndyaXR0ZW4nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbnNDbGFzc2VzW3N2Y11bYV1bcGx1Z2luQ2xhc3NOYW1lXSA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbYl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIHBsdWdpbi4gQ29uc3RydWN0b3IgaXMgbm90IGEgbmFtZWQgZnVuY3Rpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGIubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBsdWdpbnNDbGFzc2VzW3N2Y10pIHBsdWdpbnNDbGFzc2VzW3N2Y10gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwbHVnaW5zQ2xhc3Nlc1tzdmNdW2FdKSBwbHVnaW5zQ2xhc3Nlc1tzdmNdW2FdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW5zQ2xhc3Nlc1tzdmNdW2FdW2IubmFtZV0pIGNvbnNvbGUud2FybignUGx1Z2luIGNsYXNzIGR1cGxpY2F0ZWQuIFsnICsgYi5uYW1lICsgJ10gaGFzIGJlZW4gb3ZlcndyaXR0ZW4nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbnNDbGFzc2VzW3N2Y11bYV1bYi5uYW1lXSA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbYl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcmVnaXN0ZXIgcGx1Z2luIGNsYXNzLiBJbnZhbGlkIGFyZ3VtZW50cycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIHBsdWdpbi4gSW52YWxpZCBhcmd1bWVudHMuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxuICAgIHNlcnZpY2UuY2xhc3MgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgIHZhciBjbGFzc05hbWUgPSBudWxsO1xyXG4gICAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGIubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VydmljZUNsYXNzZXNbYV0pIHNlcnZpY2VDbGFzc2VzW2FdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZUNsYXNzZXNbYV1bYi5uYW1lXSA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbYl0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgY2xhc3MgZm9yIGV4dGVuc2lvbiBbJyArIGEgKyAnXS4gQ29uc3RydWN0b3IgaXMgbm90IGEgbmFtZWQgZnVuY3Rpb24nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYiA9PT0gXCJvYmplY3RcIiAmJiBiLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiW2ldID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gYltpXS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYltpXSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgY2xhc3MgZm9yIHNlcnZpY2VbJyArIGEgKyAnXS4gSW52YWxpZCBjb25maWcuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VydmljZUNsYXNzZXNbYV0pIHNlcnZpY2VDbGFzc2VzW2FdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VDbGFzc2VzW2FdW2NsYXNzTmFtZV0pIGNvbnNvbGUud2FybignRHVwbGljYXRlIGRlY2xhcmF0aW9uLiBDbGFzcyBbJyArIGNsYXNzTmFtZSArICddIGZvciBleHRlbnNpb24gWycgKyBhICsgJ10gaGFzIGJlZW4gb3ZlcndyaXR0ZW4nKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlQ2xhc3Nlc1thXVtjbGFzc05hbWVdID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtiXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBjbGFzcy4gSW52YWxpZCBhcmd1bWVudHMnKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIENvcmUuZGVmaW5lKCdzZXJ2aWNlJywgc2VydmljZSk7XHJcbiAgICBDb3JlLmRlZmluZSgncGx1Z2luJywgcGx1Z2luKTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRQbHVnaW5NYW5hZ2VyKGxpYikge1xyXG4gICAgICAgIGZ1bmN0aW9uIFBsdWdpbnMoKSB7XHJcbiAgICAgICAgICAgIHZhciBsaWJyYXJ5ID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGliLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IGxpYltpXS5saXN0KCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGxpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdFtwcm9wXS4kY29uc3RydWN0b3IoKSAhPT0gUGx1Z2lucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaWJyYXJ5LnB1c2gocHJvcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZWFjaCA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpYnJhcnkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBmKGxpYnJhcnlbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxpc3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaWJyYXJ5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKGxpYnJhcnlbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW1BsdWdpbnNdKV0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZ2V0QXBwbGljYXRpb25TZXJ2aWNlcyA9IGZ1bmN0aW9uIChfaGVscGVycywgX3N5c0NsYXNzZXMsIF9lbmdpbmVEZWZhdWx0cykge1xyXG5cclxuICAgICAgICB2YXIgX3NlcnZpY2VzID0ge30sXHJcbiAgICAgICAgICAgIF9zZXJ2aWNlc0NsYXNzZXMgPSB7fSxcclxuICAgICAgICAgICAgX3NlcnZpY2VzUGx1Z2lucyA9IHt9LFxyXG4gICAgICAgICAgICBfc2VydmljZXNQbHVnaW5zQ2xhc3NlcyA9IHt9LFxyXG4gICAgICAgICAgICBfc2VydmljZSwgX3BsdWdpbjtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgc2VydmljZSBpbiBzZXJ2aWNlcykge1xyXG4gICAgICAgICAgICBpZiAoc2VydmljZXMuaGFzT3duUHJvcGVydHkoc2VydmljZSkpIHtcclxuICAgICAgICAgICAgICAgIF9zZXJ2aWNlID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtzZXJ2aWNlc1tzZXJ2aWNlXV0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIF9wbHVnaW5zID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbnNbc2VydmljZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwbHVnaW4gaW4gcGx1Z2luc1tzZXJ2aWNlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGx1Z2luc1tzZXJ2aWNlXS5oYXNPd25Qcm9wZXJ0eShwbHVnaW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGx1Z2luID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtwbHVnaW5zW3NlcnZpY2VdW3BsdWdpbl1dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX3NlcnZpY2VzUGx1Z2luc1tzZXJ2aWNlXSkgX3NlcnZpY2VzUGx1Z2luc1tzZXJ2aWNlXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzUGx1Z2luc1tzZXJ2aWNlXVtwbHVnaW5dID0gX3BsdWdpbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW5zQ2xhc3Nlc1tzZXJ2aWNlXVtwbHVnaW5dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9wbHVnaW5DbGFzc2VzQ29udGFpbmVyID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtwbHVnaW5zQ2xhc3Nlc1tzZXJ2aWNlXVtwbHVnaW5dXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX3NlcnZpY2VzUGx1Z2luc0NsYXNzZXNbc2VydmljZV0pIF9zZXJ2aWNlc1BsdWdpbnNDbGFzc2VzW3NlcnZpY2VdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzUGx1Z2luc0NsYXNzZXNbc2VydmljZV1bcGx1Z2luXSA9IF9wbHVnaW5DbGFzc2VzQ29udGFpbmVyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGx1Z2luLnNvdXJjZShfcGx1Z2luQ2xhc3Nlc0NvbnRhaW5lciwgJyQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGx1Z2luQ2xhc3Nlc0NvbnRhaW5lci5zb3VyY2UoX3BsdWdpbkNsYXNzZXNDb250YWluZXIsICckJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BsdWdpbkNsYXNzZXNDb250YWluZXIuc291cmNlKF9zeXNDbGFzc2VzLCAnLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wbHVnaW5DbGFzc2VzQ29udGFpbmVyLnNvdXJjZShfaGVscGVycywgJysnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wbHVnaW4uc291cmNlKF9lbmdpbmVEZWZhdWx0cywgJ0AnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wbHVnaW4uc291cmNlKF9zeXNDbGFzc2VzLCAnLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BsdWdpbi5zb3VyY2UoX2hlbHBlcnMsICcrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGx1Z2lucy5wdXNoKF9wbHVnaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIF9wbHVnaW5zLnB1c2goZ2V0UGx1Z2luTWFuYWdlcihfcGx1Z2lucykpO1xyXG4gICAgICAgICAgICAgICAgX3NlcnZpY2Uuc291cmNlKF9wbHVnaW5zLCAnPCcpO1xyXG4gICAgICAgICAgICAgICAgX3NlcnZpY2Uuc291cmNlKF9zeXNDbGFzc2VzLCAnLicpO1xyXG4gICAgICAgICAgICAgICAgX3NlcnZpY2Uuc291cmNlKF9oZWxwZXJzLCAnKycpO1xyXG4gICAgICAgICAgICAgICAgX3NlcnZpY2Uuc291cmNlKF9lbmdpbmVEZWZhdWx0cywgJ0AnKTtcclxuICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNlQ2xhc3Nlc1tzZXJ2aWNlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXJ2aWNlQ2xhc3Nlc0NvbnRhaW5lciA9IENvcmUuaW5qZWN0KCdDb250YWluZXInLCBbc2VydmljZUNsYXNzZXNbc2VydmljZV1dKTtcclxuICAgICAgICAgICAgICAgICAgICBfc2VydmljZS5zb3VyY2Uoc2VydmljZUNsYXNzZXNDb250YWluZXIsICckJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZUNsYXNzZXNDb250YWluZXIuc291cmNlKHNlcnZpY2VDbGFzc2VzQ29udGFpbmVyLCAnJCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VDbGFzc2VzQ29udGFpbmVyLnNvdXJjZShfc3lzQ2xhc3NlcywgJy4nKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlQ2xhc3Nlc0NvbnRhaW5lci5zb3VyY2UoX3BsdWdpbnMsICc8Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZUNsYXNzZXNDb250YWluZXIuc291cmNlKF9oZWxwZXJzLCAnKycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VDbGFzc2VzQ29udGFpbmVyLnNvdXJjZShfZW5naW5lRGVmYXVsdHMsICdAJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzQ2xhc3Nlc1tzZXJ2aWNlXSA9IHNlcnZpY2VDbGFzc2VzQ29udGFpbmVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzQ2xhc3Nlc1tzZXJ2aWNlXSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfc2VydmljZXNbc2VydmljZV0gPSBfc2VydmljZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgcyBpbiBfc2VydmljZXMpIHtcclxuICAgICAgICAgICAgaWYgKF9zZXJ2aWNlcy5oYXNPd25Qcm9wZXJ0eShzKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9zZXJ2aWNlc1NlcnZpY2VTb3VyY2UgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHMyIGluIF9zZXJ2aWNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfc2VydmljZXMuaGFzT3duUHJvcGVydHkoczIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzICE9PSBzMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzU2VydmljZVNvdXJjZS5wdXNoKF9zZXJ2aWNlc1tzMl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3NlcnZpY2VzW3NdLnNvdXJjZShfc2VydmljZXNTZXJ2aWNlU291cmNlLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKF9zZXJ2aWNlc0NsYXNzZXNbc10pIF9zZXJ2aWNlc0NsYXNzZXNbc10uc291cmNlKF9zZXJ2aWNlc1NlcnZpY2VTb3VyY2UsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoX3NlcnZpY2VzUGx1Z2luc1tzXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gX3NlcnZpY2VzUGx1Z2luc1tzXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3NlcnZpY2VzUGx1Z2luc1tzXS5oYXNPd25Qcm9wZXJ0eShwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzUGx1Z2luc1tzXVtwXS5zb3VyY2UoX3NlcnZpY2VzU2VydmljZVNvdXJjZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChfc2VydmljZXNQbHVnaW5zQ2xhc3Nlc1tzXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHBjbCBpbiBfc2VydmljZXNQbHVnaW5zQ2xhc3Nlc1tzXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3NlcnZpY2VzUGx1Z2luc0NsYXNzZXNbc10uaGFzT3duUHJvcGVydHkocGNsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzUGx1Z2luc0NsYXNzZXNbc11bcGNsXS5zb3VyY2UoX3NlcnZpY2VzU2VydmljZVNvdXJjZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gX3NlcnZpY2VzKSB7XHJcbiAgICAgICAgICAgIGlmIChfc2VydmljZXMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKF9zZXJ2aWNlc1twcm9wXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgX2hlbHBlcnMuc291cmNlKHJlc3VsdCwgZmFsc2UpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG5cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE1LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIFNvdXJjZShwcmVmaXgsIGNvbnRhaW5lciwgbG9vcCkge1xyXG5cclxuICAgIHZhciBwZnggPSBwcmVmaXggPyBwcmVmaXggOiBmYWxzZSxcclxuICAgICAgICBjb250YWluZXJzID0gW10sXHJcbiAgICAgICAgY2FjaGUgPSB7fSxcclxuICAgICAgICBjaGVja0NhY2hlID0ge307XHJcblxyXG4gICAgaWYgKHR5cGVvZiBjb250YWluZXIgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICBpZiAoQ29yZS5pcyhjb250YWluZXIsICdDb250YWluZXInKSkge1xyXG4gICAgICAgICAgICBjb250YWluZXJzID0gW2NvbnRhaW5lcl1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29udGFpbmVyLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRhaW5lci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKENvcmUuaXMoY29udGFpbmVyW2ldLCAnQ29udGFpbmVyJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJzLnB1c2goY29udGFpbmVyW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5sZW5ndGggPT09IDApIHZhbGlkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXZhbGlkKSB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRhaW5lciBhcnJheSBpcyBlbXB0eSEnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0eXBlIGlmIGNvbnRhaW5lciEnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIHN0cmlwUHJlZml4KG5hbWUpIHtcclxuICAgICAgICBpZiAocHJlZml4KSB7XHJcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSAnJztcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA+PSBwZngubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IG5hbWVbaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jaGVjayA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgaWYoY2hlY2tDYWNoZVtuYW1lXSkgcmV0dXJuIGNoZWNrQ2FjaGVbbmFtZV07XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgaWYgKHByZWZpeCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByZWZpeC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFuYW1lW2ldIHx8IG5hbWVbaV0gIT09IHByZWZpeFtpXSkgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2hlY2tDYWNoZVtuYW1lXSA9IHJlc3VsdDtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmhhcyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgIGlmKGNhY2hlW25hbWVdKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5jaGVjayhuYW1lKSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRhaW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHJpcE5hbWUgPSBzdHJpcFByZWZpeChuYW1lKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb250YWluZXJzW2ldLmhhcyhzdHJpcE5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBjYWNoZVtuYW1lXSA9IGNvbnRhaW5lcnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5sb29wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBsb29wO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNvbnRhaW5lcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcnM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc291cmNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb250YWluZXJzW2ldLnNvdXJjZS5hcHBseShjb250YWluZXJzW2ldLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5wcmVmaXggPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgaWYgKHN0ciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdHIgPT09IHBmeDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBmeDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZXNvbHZlID0gZnVuY3Rpb24gKG5hbWUsIGRpcmVjdCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBudWxsO1xyXG4gICAgICAgIGlmICh0aGlzLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgICB2YXIgc291cmNlID0gbnVsbDtcclxuICAgICAgICAgICAgdmFyIHN0cmlwTmFtZSA9IHN0cmlwUHJlZml4KG5hbWUpO1xyXG4gICAgICAgICAgICBpZihjYWNoZVtuYW1lXSkgc291cmNlID0gY2FjaGVbbmFtZV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lcnNbaV0uaGFzKHN0cmlwTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBjb250YWluZXJzW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzb3VyY2UpIHJlc3VsdCA9IHNvdXJjZS5yZXNvbHZlKHN0cmlwTmFtZSwgZGlyZWN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZXNvbHZlSW5qZWN0aW9uRGVwZW5kYW5jaWVzID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICB2YXIgc291cmNlID0gbnVsbCwgc3RyaXBOYW1lID0gbnVsbDtcclxuICAgICAgICBpZihjYWNoZVtuYW1lXSkge1xyXG4gICAgICAgICAgICBzdHJpcE5hbWUgPSBzdHJpcFByZWZpeChuYW1lKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlW25hbWVdLnJlc29sdmUoc3RyaXBOYW1lLCAnZXh0ZW5kJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5oYXMobmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHN0cmlwTmFtZSA9IHN0cmlwUHJlZml4KG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250YWluZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lcnNbaV0uaGFzKHN0cmlwTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlID0gY29udGFpbmVyc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVbbmFtZV0gPSBjb250YWluZXJzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlKSByZXR1cm4gc291cmNlLnJlc29sdmUoc3RyaXBOYW1lLCAnZXh0ZW5kJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIFRpY2tlcigpIHtcclxuICAgIHZhciBmcmFtZUR1cmF0aW9uID0gKDEwMDAgLyA1OC44KS50b0ZpeGVkKDIpLFxyXG4gICAgICAgIHF1ZXVlID0gW10sXHJcbiAgICAgICAgZnJhbWUgPSAwLFxyXG4gICAgICAgIGFyZ3MgPSBbbnVsbCwgMF0sXHJcbiAgICAgICAgZHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZVtpXS5mLmFwcGx5KHNlbGYsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGVtZXJnZWQgd2hpbGUgcmVzb2x2aW5nIGNhbGxiYWNrcy5cXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ1F1ZXVlICAgOiBbJyArIHF1ZXVlW2ldLm8gKyAnXVxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnT3JkZXIgICA6IFsnICsgaSArICddXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdOYW1lICAgIDogWycgKyAocXVldWVbaV0uZi5uYW1lKSArICddLlxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWVzc2FnZSA6ICcgKyBlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZyYW1lKys7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0aWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBhcmdzWzBdID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgYXJnc1sxXSA9IGZyYW1lO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZHJhdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoJ2Vycm9yJywgZSk7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBydW4gdGlja2VyIGFueW1vcmUuICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICdFcnJvciBlbWVyZ2VkIGR1cmluZyBzb3VyY2VzIHRpY2tlciBwcm9ncmVzcy5cXG4gJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ0ZyYW1lIDonICsgZnJhbWUgKyAnXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ0RhdGUgIDogJyArIGFyZ3NbMF0gKyAnXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgZS5tZXNzYWdlXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW50ZXJ2YWwgPSBudWxsLFxyXG4gICAgICAgIGV2ZW50Q2IgPSB7XHJcbiAgICAgICAgICAgIHN0b3A6IFtdLFxyXG4gICAgICAgICAgICBzdGFydDogW10sXHJcbiAgICAgICAgICAgIGVycm9yOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzb2x2ZShldmVudCwgYXJncykge1xyXG4gICAgICAgIHZhciBfY2FsbF9hcmdzID0gW107XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzID09PSBcIm9iamVjdFwiICYmIGFyZ3MuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgIF9jYWxsX2FyZ3MgPSBhcmdzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChhcmdzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgX2NhbGxfYXJncy5wdXNoKGFyZ3MpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIiAmJiBldmVudC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50Q2JbZXZlbnRdKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50Q2JbZXZlbnRdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRDYltldmVudF1baV0uYXBwbHkoc2VsZiwgX2NhbGxfYXJncyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byByZXNvbHZlIGV2ZW50IFsnICsgZXZlbnQgKyAnXS4gTm8gc3VjaCBldmVudC4nKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byByZXNvbHZlIGV2ZW50LiBFdmVudCBwYXJhbWV0ZXIgaXMgbm90IGEgc3RyaW5nIG9yIGVtcHR5JylcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5vbiA9IGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT09IFwic3RyaW5nXCIgJiYgZXZlbnQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudENiW2V2ZW50XSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudENiW2V2ZW50XS5wdXNoKGZ1bmMpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgZXZlbnQgWycgKyBldmVudCArICddLiBDYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbi4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBldmVudCBbJyArIGV2ZW50ICsgJ10gaGFuZGxlci4gTm8gc3VjaCBldmVudC4nKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgZXZlbnQuIEV2ZW50IGFyZ3VtZW50IGlzIG5vdCBhIHN0cmluZyBvciBlbXB0eS4nKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChpbnRlcnZhbCkge1xyXG4gICAgICAgICAgICBmcmFtZSA9IDA7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICBpbnRlcnZhbCA9IG51bGw7XHJcbiAgICAgICAgICAgIHJlc29sdmUoJ3N0b3AnLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCFpbnRlcnZhbCkge1xyXG4gICAgICAgICAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKHRpY2ssIGZyYW1lRHVyYXRpb24pO1xyXG4gICAgICAgICAgICByZXNvbHZlKCdzdGFydCcsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5mcHMgPSBmdW5jdGlvbiAobnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBudW1iZXIgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgaWYgKG51bWJlciA+IDYwKSBudW1iZXIgPSA2MDtcclxuICAgICAgICAgICAgaWYgKG51bWJlciA8PSAwKSBudW1iZXIgPSAxO1xyXG4gICAgICAgICAgICBmcmFtZUR1cmF0aW9uID0gKDEwMDAgLyBudW1iZXIpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgICAgIGlmIChpbnRlcnZhbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoMTAwMCAvIGZyYW1lRHVyYXRpb24pLnRvRml4ZWQoMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnF1ZXVlID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGEgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBpZiAoIWEubmFtZSkgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IGNhbGxiYWNrLiBDYWxsYmFjayBpcyBub3QgYSBuYW1lZCBmdW5jdGlvbi4nKTtcclxuICAgICAgICAgICAgcXVldWUucHVzaCh7bzogMCwgZjogYn0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgYSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFiLm5hbWUpIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBjYWxsYmFjay4gQ2FsbGJhY2sgaXMgbm90IGEgbmFtZWQgZnVuY3Rpb24uJyk7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHtvOiBhLCBmOiBifSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBxdWV1ZS4gY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24nKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgY2FsbGJhY2suIFdyb25nIGFyZ3VtZW50cyBwYXNzZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcXVldWUuc29ydChmdW5jdGlvbiAoYSxiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLm8gPiBiLm87XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIucGx1Z2luKCdPYmplY3RzJyxcclxuICAgIFsnQGluamVjdCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQW5pbWF0aW9uKGluamVjdCwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBhbmltYXRpb25zID0gW10sXHJcbiAgICAgICAgICAgICAgICBhbmltYXRlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbW9ycGhzID0ge307XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1vcnBoID0gZnVuY3Rpb24gKG5hbWUsIG9yZGVyaW5nLCBzZXR0ZXIsIGFwcGxpZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtb3JwaCA9IGluamVjdCgnJE1vcnBoJyk7XHJcbiAgICAgICAgICAgICAgICBtb3JwaC5jb25maWcobmFtZSwgdGhpcy5vYmplY3QoKSwgb3JkZXJpbmcsIHNldHRlciwgYXBwbGllcik7XHJcbiAgICAgICAgICAgICAgICBpZiAobW9ycGgudmFsaWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vcnBoc1tuYW1lXSA9IG1vcnBoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5leHRyYWN0TW9ycGggPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vcnBoc1tuYW1lXTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZpbmRDb21wZXRpdG9yKHByb3BlcnRpZXMsIGFuaW1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLiQkU0VMRiA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGNvbXBldGl0b3IgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYW5pbWF0aW9uc1tpXS4kJFNFTEYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbnNbaV0uYWN0aXZlKCkgJiYgIWFuaW1hdGlvbnNbaV0uZG9uZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hlY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgcHJvcGVydGllcy5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25zW2ldLmhhc1Byb3BlcnR5KHByb3BlcnRpZXNbbl0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb21wZXRpdG9yKSBjb21wZXRpdG9yID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGV0aXRvci5wdXNoKGFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBhbmltYXRpb24uJCRTRUxGO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21wZXRpdG9yO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBDaGVja0FuaW1hdGlvblF1ZXVlKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hbmltYXRpb25zID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbmltYXRpb25zW2ldLmFjdGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IGFuaW1hdGlvbnNbaV0ucHJvcGVydGllcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uc1tpXS5xdWV1ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbmRDb21wZXRpdG9yKHByb3BzLCBhbmltYXRpb25zW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnNbaV0uc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21wZXRpdG9ycyA9IGZpbmRDb21wZXRpdG9yKHByb3BzLCBhbmltYXRpb25zW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wZXRpdG9ycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgY29tcGV0aXRvcnMubGVuZ3RoOyBuKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcCA9IDA7IHAgPCBwcm9wcy5sZW5ndGg7IHArKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGV0aXRvcnNbbl0uc3RvcChwcm9wc1twXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zW2ldLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2FuaW1hdGlvbnMucHVzaChhbmltYXRpb25zW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGlvbnNbaV0uZG9uZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMgPSBfYW5pbWF0aW9ucztcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIENyZWF0ZUFuaW1hdGlvblR5cGUxKHByb3BlcnR5LCB2YWx1ZSwgZHVyYXRpb24sIGVhc2luZykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHBhaXIgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBwYWlyW3Byb3BlcnR5XSA9IHZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtb3JwaHNbcHJvcGVydHldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YWNrID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyaW5nOiBzdHlsZS5vcmRlcmluZyhwcm9wZXJ0eSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGg6IG1vcnBoc1twcm9wZXJ0eV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZHVyYXRpb24gJiYgdHlwZW9mIGR1cmF0aW9uID09PSBcIm51bWJlclwiKSBjb25maWcuZHVyYXRpb24gPSBkdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWFzaW5nICYmIHR5cGVvZiBlYXNpbmcgPT09IFwic3RyaW5nXCIpIGNvbmZpZy5lYXNpbmcgPSBlYXNpbmc7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gaW5qZWN0KCckQW5pbWF0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5jb25maWcodGhpcywgc3RhY2ssIGNvbmZpZywgQ2hlY2tBbmltYXRpb25RdWV1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVBbmltYXRpb25UeXBlMihwYWlycywgYXJnMiwgYXJnMykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmcyID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnID0gYXJnMjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZzIgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBhcmcyXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZzMgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLmVhc2luZyA9IGFyZzNcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcmcyID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IGFyZzJcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwYWlycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFpcnMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1vcnBoc1twcm9wZXJ0eV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAnUHJvcGVydHkge3Byb3BlcnR5fSBvZiB7dHlwZX0gY2FuIG5vdCBiZSBhbmltYXRlZCEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Byb3BlcnR5XSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyaW5nOiBzdHlsZS5vcmRlcmluZyhwcm9wZXJ0eSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JwaDogbW9ycGhzW3Byb3BlcnR5XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwYWlyc1twcm9wZXJ0eV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbW9ycGhfc3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vcnBoX3N0YWNrLnB1c2gocmVzdWx0W2l0ZW1dKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBtb3JwaF9zdGFjay5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEub3JkZXJpbmcgLSBiLm9yZGVyaW5nO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1vcnBoX3N0YWNrLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBpbmplY3QoJyRBbmltYXRpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uY29uZmlnKHRoaXMsIG1vcnBoX3N0YWNrLCBjb25maWcsIENoZWNrQW5pbWF0aW9uUXVldWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdObyBwcm9wZXJ0aWVzIHRvIGFuaW1hdGUhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2FuaW1hdGUnLCBmdW5jdGlvbiAoYXJnMSwgYXJnMiwgYXJnMywgYXJnNCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmcxID09PSAnc3RyaW5nJyAmJiBhcmcyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQ3JlYXRlQW5pbWF0aW9uVHlwZTEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZzEgPT09IFwib2JqZWN0XCIgJiYgYXJnMS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBDcmVhdGVBbmltYXRpb25UeXBlMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmFibGUgdG8gY3JlYXRlIGFuaW1hdGlvbi4gV3JvbmcgYXJndW1lbnRzJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBDaGVja0FuaW1hdGlvblF1ZXVlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdhbmltYXRlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbmltYXRlZDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdzdG9wJywgZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zW2ldLnN0b3AocHJvcGVydHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChhbmltYXRpb25zWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uc1swXS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9ucy51bnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIG1vcnBocykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3JwaHMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG1vcnBoc1twcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS81LzIwMTcuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWydEZWJ1ZycsICdAaW5qZWN0JyxcclxuICAgICAgICBmdW5jdGlvbiBCb3goRGVidWcsIGluamVjdCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGYgPSBudWxsLCBib3ggPSBpbmplY3QoJyRCb3gnKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZiA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignQm94IEV4dGVuc2lvbiAvIEJveCBmdW5jdGlvbiBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmID0gZnVuYztcclxuXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5mO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0KCk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBCb3hXcmFwcGVyRnVuYygpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZiB8fCAhb2JqZWN0KSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBmLmNhbGwob2JqZWN0LCBib3gpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJveDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5ib3ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0LmV4dGVuc2lvbignQ2FjaGUnKS52YWx1ZSgnYm94JywgQm94V3JhcHBlckZ1bmMpXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnB1cmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0LmV4dGVuc2lvbignQ2FjaGUnKS5wdXJnZSgnYm94Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gb2JqZWN0LnBhcmVudCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5leHRlbnNpb24oJ0JveCcpLnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2JveCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbignQ2FjaGUnKS52YWx1ZSgnYm94JywgQm94V3JhcHBlckZ1bmMpLmdldCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcignd2lkdGgnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5leHRlbnNpb24oJ0NhY2hlJykudmFsdWUoJ2JveCcsIEJveFdyYXBwZXJGdW5jKS5nZXQoKS5zaXplWzBdO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignaGVpZ2h0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZW5zaW9uKCdDYWNoZScpLnZhbHVlKCdib3gnLCBCb3hXcmFwcGVyRnVuYykuZ2V0KCkuc2l6ZVsxXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2xlZnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5leHRlbnNpb24oJ0NhY2hlJykudmFsdWUoJ2JveCcsIEJveFdyYXBwZXJGdW5jKS5nZXQoKS5wb3NpdGlvblswXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ3RvcCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbignQ2FjaGUnKS52YWx1ZSgnYm94JywgQm94V3JhcHBlckZ1bmMpLmdldCgpLnBvc2l0aW9uWzFdO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGYgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBib3ggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS81LzIwMTcuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQ2FjaGUoRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBmdW5jdGlvbiAobmFtZSwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ09iamVjdCBWYWx1ZSBDYWNoZSAvIG5hbWUgaXMgbm90IGEgc3RyaW5nIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ09iamVjdCBWYWx1ZSBDYWNoZSAvIGZ1bmMgaXMgbm90IGEgZnVuY3Rpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1tuYW1lXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmMoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuYzogZnVuYyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsZXZhbnQ6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wdXJnZSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignT2JqZWN0IFZhbHVlIENhY2hlIC8gQ2FuIG5vdCBwdXJnZSBjYWNoZSBvZiBub24gc3RyaW5nIG5hbWUnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW25hbWVdLnJlbGV2YW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignT2JqZWN0IFZhbHVlIENhY2hlIC8gQ2FuIG5vdCBnZXQgdmFsdWUgb2Ygbm9uLXN0cmluZyBuYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsdWVzW25hbWVdLnJlbGV2YW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tuYW1lXS52YWx1ZSA9IHZhbHVlc1tuYW1lXS5mdW5jKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tuYW1lXS5yZWxldmFudCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzW25hbWVdLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb3A7XHJcbiAgICAgICAgICAgICAgICBmb3IocHJvcCBpbiB2YWx1ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZXMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHZhbHVlc1twcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIucGx1Z2luKCdPYmplY3RzJyxcclxuICAgIFsnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIERyYXdlcihEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIGRyYXcgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMub2JqZWN0KCksXHJcbiAgICAgICAgICAgICAgICBwaXBlU2l6ZSA9IDAsXHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb25zID0gW10sXHJcbiAgICAgICAgICAgICAgICByZW5kZXJpbmcgPSB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZXhwb3J0cyA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDYiA9IFtdLFxyXG4gICAgICAgICAgICAgICAgY2JJdGVyYXRvciA9IDAsXHJcbiAgICAgICAgICAgICAgICBjYWxsVXBkYXRlQ2IgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGRyYXdlclBpcGVCZWZvcmUgPSB7fSxcclxuICAgICAgICAgICAgICAgIGRyYXdlclBpcGVBZnRlciA9IHt9LFxyXG4gICAgICAgICAgICAgICAgYmVmb3JlUGlwZVNpemUgPSAwLFxyXG4gICAgICAgICAgICAgICAgYWZ0ZXJQaXBlU2l6ZSA9IDA7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZVVwZGF0ZWQgPSBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLiQkQ0FMTCkgY2FsbFVwZGF0ZUNiID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2IgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDYi5wdXNoKGNiKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgRGVidWcuZXJyb3Ioe2NiOiB0eXBlb2YgY2J9LCAnU3ByaXRlIHVwZGF0ZSBjYWxsYmFjayB7Y2J9IGlzIG5vdCBhIGZ1bmN0aW9uLicsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlbmRlckFsbG93SXRlcmF0b3IgPSAwO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVuZGVyQWxsb3dlZChhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZGl0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChyZW5kZXJBbGxvd0l0ZXJhdG9yID0gMDsgcmVuZGVyQWxsb3dJdGVyYXRvciA8IGNvbmRpdGlvbnMubGVuZ3RoOyByZW5kZXJBbGxvd0l0ZXJhdG9yKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyaW5nID0gY29uZGl0aW9uc1tyZW5kZXJBbGxvd0l0ZXJhdG9yXS5hcHBseShvYmplY3QsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVuZGVyaW5nID09PSBmYWxzZSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZW5kZXJpbmc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRyYXdGdW5jdGlvbiA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt9LCAnT2JqZWN0RHJhd2VyIC8gZnVuYyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5kcmF3RnVuY3Rpb247XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZHJhdyA9IGZ1bmM7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5kcmF3RnVuY3Rpb247XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUZ1bmN0aW9uID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe30sICdPYmplY3REcmF3ZXIgLyBmdW5jIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnVwZGF0ZUZ1bmN0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHVwZGF0ZSA9IGZ1bmM7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy51cGRhdGVGdW5jdGlvbjtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXhwb3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGV4cG9ydHMgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzID0gYXJndW1lbnRzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhwb3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbFVwZGF0ZUNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNiSXRlcmF0b3IgPSAwOyBjYkl0ZXJhdG9yIDwgdXBkYXRlQ2IubGVuZ3RoOyBjYkl0ZXJhdG9yKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDYltjYkl0ZXJhdG9yXS5jYWxsKG9iamVjdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxVcGRhdGVDYiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZXhwb3J0cyA9PT0gXCJmdW5jdGlvblwiID8gZXhwb3J0cygpIDogZXhwb3J0cztcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmV4cG9ydHM7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5maWx0ZXIgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb25zLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt0ZnVuYzogdHlwZW9mIGZ1bmN9LCAnRHJhd2VyIEZpbHRlciBjYWxsYmFjayB7dGZ1bmN9IGlzIG5vdCBhIGZ1bmN0aW9uJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBpcGUgPSBmdW5jdGlvbiAoZiwgb3JkZXIpIHtcclxuICAgICAgICAgICAgICAgIG9yZGVyID0gb3JkZXIgPT09IHVuZGVmaW5lZCA/IDAgOiBvcmRlcjtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3JkZXIgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGYgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXIgPiAxMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZHJhd2VyUGlwZUFmdGVyW29yZGVyXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdlclBpcGVBZnRlcltvcmRlcl0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdlclBpcGVBZnRlcltvcmRlcl0ucHVzaChmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyUGlwZVNpemUrK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkcmF3ZXJQaXBlQmVmb3JlW29yZGVyXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdlclBpcGVCZWZvcmVbb3JkZXJdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3ZXJQaXBlQmVmb3JlW29yZGVyXS5wdXNoKGYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlUGlwZVNpemUrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaXBlU2l6ZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtmdHlwZTogdHlwZW9mIGZ9LCAnUGlwZSBjYWxsYmFjayB7ZnR5cGV9IGlzIG5vdCBhIGZ1bmN0aW9uJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7b3JkZXI6IG9yZGVyfSwgJ0ludmFsaWQgcGlwZSBmdW5jdGlvbiBvcmRlcmluZyB7b3JkZXJ9JywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy51bnBpcGUgPSBmdW5jdGlvbiAoZikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpbmRleCBpbiBkcmF3ZXJQaXBlQmVmb3JlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkcmF3ZXJQaXBlQmVmb3JlLmhhc093blByb3BlcnR5KGluZGV4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd2VyUGlwZUJlZm9yZVtpbmRleF0gPSBkcmF3ZXJQaXBlQmVmb3JlW2luZGV4XS5maWx0ZXIoZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNiID09PSBmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpcGVTaXplLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZVBpcGVTaXplLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGluZGV4IGluIGRyYXdlclBpcGVBZnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHJhd2VyUGlwZUFmdGVyLmhhc093blByb3BlcnR5KGluZGV4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd2VyUGlwZUFmdGVyW2luZGV4XSA9IGRyYXdlclBpcGVBZnRlcltpbmRleF0uZmlsdGVyKGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYiA9PT0gZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaXBlU2l6ZS0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZnRlclBpcGVTaXplLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdwaXBlJywgdGhpcy5waXBlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ3VucGlwZScsIHRoaXMudW5waXBlKTtcclxuXHJcblxyXG4gICAgICAgICAgICAvL0RyYXcgZnVuY3Rpb24gdmFyaWFibGVzXHJcbiAgICAgICAgICAgIHZhciBwaXBlSW5kZXggPSAwLFxyXG4gICAgICAgICAgICAgICAgcGlwZU9yZGVyID0gMCxcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29udGV4dCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50Q29udGV4dCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFja3NSZXN1bHQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgYXJncyA9IFtudWxsLCBudWxsLCBudWxsXTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsVXBkYXRlQ2IpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNiSXRlcmF0b3IgPSAwOyBjYkl0ZXJhdG9yIDwgdXBkYXRlQ2IubGVuZ3RoOyBjYkl0ZXJhdG9yKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ2JbY2JJdGVyYXRvcl0uY2FsbChvYmplY3QpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxVcGRhdGVDYiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVuZGVyaW5nID0gdHJ1ZTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlckFsbG93ZWQoYXJndW1lbnRzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBhcmd1bWVudHNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgYXJnc1sxXSA9IGFyZ3VtZW50c1sxXTtcclxuICAgICAgICAgICAgICAgICAgICBhcmdzWzJdID0gYXJndW1lbnRzWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29udGV4dCA9IGFyZ3NbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGUpIHVwZGF0ZS5hcHBseSh0aGlzLCBhcmdzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJlZm9yZVBpcGVTaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocGlwZU9yZGVyIGluIGRyYXdlclBpcGVCZWZvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkcmF3ZXJQaXBlQmVmb3JlLmhhc093blByb3BlcnR5KHBpcGVPcmRlcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHBpcGVJbmRleCA9IDA7IHBpcGVJbmRleCA8IGRyYXdlclBpcGVCZWZvcmVbcGlwZU9yZGVyXS5sZW5ndGg7IHBpcGVJbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0uc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NSZXN1bHQgPSBkcmF3ZXJQaXBlQmVmb3JlW3BpcGVPcmRlcl1bcGlwZUluZGV4XS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1swXS5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0ID0gY2FsbGJhY2tzUmVzdWx0ID8gY2FsbGJhY2tzUmVzdWx0IDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBjdXJyZW50Q29udGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50Q29udGV4dCkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50Q29udGV4dCkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzWzBdID09PSBvcmlnaW5hbENvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0uZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gb2JqZWN0LmV4dGVuc2lvbignU3R5bGUnKS5nZXQoJ2JsZW5kaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzWzBdLmdsb2JhbEFscGhhICo9IG9iamVjdC5leHRlbnNpb24oJ1N0eWxlJykuZ2V0KCdvcGFjaXR5Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRyYXcpIGRyYXcuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbENvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gb2JqZWN0LmV4dGVuc2lvbignU3R5bGUnKS5nZXQoJ2JsZW5kaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbENvbnRleHQuZ2xvYmFsQWxwaGEgKj0gb2JqZWN0LmV4dGVuc2lvbignU3R5bGUnKS5nZXQoJ29wYWNpdHknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkcmF3KSBkcmF3LmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxDb250ZXh0LmRyYXdJbWFnZShhcmdzWzBdLmNhbnZhcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAwLCBhcmdzWzBdLmNhbnZhcy53aWR0aCwgYXJnc1swXS5jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBvcmlnaW5hbENvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFmdGVyUGlwZVNpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocGlwZU9yZGVyIGluIGRyYXdlclBpcGVBZnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkcmF3ZXJQaXBlQWZ0ZXIuaGFzT3duUHJvcGVydHkocGlwZU9yZGVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHBpcGVJbmRleCA9IDA7IHBpcGVJbmRleCA8IGRyYXdlclBpcGVBZnRlcltwaXBlT3JkZXJdLmxlbmd0aDsgcGlwZUluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0uc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzUmVzdWx0ID0gZHJhd2VyUGlwZUFmdGVyW3BpcGVPcmRlcl1bcGlwZUluZGV4XS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0ucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbnRleHQgPSBjYWxsYmFja3NSZXN1bHQgPyBjYWxsYmFja3NSZXN1bHQgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBjdXJyZW50Q29udGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudENvbnRleHQpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudENvbnRleHQpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbENvbnRleHQucmVzdG9yZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGRyYXcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBwaXBlU2l6ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbnMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHJlbmRlcmluZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGV4cG9ydHMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDYiA9IFtdO1xyXG4gICAgICAgICAgICAgICAgY2JJdGVyYXRvciA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGNhbGxVcGRhdGVDYiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGRyYXdlclBpcGVCZWZvcmUgPSB7fTtcclxuICAgICAgICAgICAgICAgIGRyYXdlclBpcGVBZnRlciA9IHt9O1xyXG4gICAgICAgICAgICAgICAgYmVmb3JlUGlwZVNpemUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBhZnRlclBpcGVTaXplID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgICAgIHBpcGVJbmRleCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHBpcGVPcmRlciA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29udGV4dCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzUmVzdWx0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgYXJncyA9IFtudWxsLCBudWxsLCBudWxsXTtcclxuICAgICAgICAgICAgICAgIHJlbmRlckFsbG93SXRlcmF0b3IgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHByb3A7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGNvbmRpdGlvbnNbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb25zLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb25zID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgICAgIHdoaWxlICh1cGRhdGVDYlswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNiLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDYiA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoYXJnc1swXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3Muc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGFyZ3MgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChwcm9wIGluIGRyYXdlclBpcGVCZWZvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZHJhd2VyUGlwZUJlZm9yZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoZHJhd2VyUGlwZUJlZm9yZVtwcm9wXVswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd2VyUGlwZUJlZm9yZVtwcm9wXS51bnNoaWZ0KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZHJhd2VyUGlwZUJlZm9yZVtwcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKHByb3AgaW4gZHJhd2VyUGlwZUFmdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRyYXdlclBpcGVBZnRlci5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoZHJhd2VyUGlwZUFmdGVyW3Byb3BdWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3ZXJQaXBlQWZ0ZXJbcHJvcF0udW5zaGlmdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRyYXdlclBpcGVBZnRlcltwcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkcmF3ZXJQaXBlQmVmb3JlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgZHJhd2VyUGlwZUFmdGVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gTGF5ZXJzKERlYnVnKSB7XHJcbiAgICAgICAgICAgIHZhciBsYXllcnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgMDogW11cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBsYXllciA9IDA7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdsYXllcicsIGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGxheWVyO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbCAhPT0gXCJudW1iZXJcIiB8fCB2YWwgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7bjogdmFsfSwgJ1ZhbHVlIHtufSBpcyBub3QgYSBudW1iZXIgb3IgbGVzcyB0aGFuIDAnLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnRfbGF5ZXJfZXh0ID0gdGhpcy5wYXJlbnQoKS5leHRlbnNpb24oJ0xheWVycycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudF9sYXllcl9leHQucGxhY2UodmFsLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxheWVyID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZU9iamVjdEZyb21MYXllcnMob2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZG9uZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbGF5ZXIgaW4gbGF5ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVycy5oYXNPd25Qcm9wZXJ0eShsYXllcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxheWVyc1tsYXllcl0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGxheWVyc1tsYXllcl1baV0gPT09IG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyc1tsYXllcl0uc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb25lKSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxhY2UgPSBmdW5jdGlvbiAobGF5ZXIsIG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlT2JqZWN0RnJvbUxheWVycyhvYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFsYXllcnNbbGF5ZXJdKSBsYXllcnNbbGF5ZXJdID0gW107XHJcbiAgICAgICAgICAgICAgICBsYXllcnNbbGF5ZXJdLnB1c2gob2JqZWN0KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24gKG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlT2JqZWN0RnJvbUxheWVycyhvYmplY3QpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mb3JFYWNoID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsYXllciBpbiBsYXllcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGl0ZXJhdG9yID0gMDsgaXRlcmF0b3IgPCBsYXllcnNbbGF5ZXJdLmxlbmd0aDsgaXRlcmF0b3IrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jLmNhbGwobGF5ZXJzW2xheWVyXVtpdGVyYXRvcl0sIGxheWVyc1tsYXllcl1baXRlcmF0b3JdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxheWVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYXllcnM7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvcDtcclxuICAgICAgICAgICAgICAgIGxheWVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgZm9yKHByb3AgaW4gbGF5ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYobGF5ZXJzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChsYXllcnNbcHJvcF1bMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyc1twcm9wXVswXS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcnNbcHJvcF0uc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgbGF5ZXJzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzYvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbignT2JqZWN0cycsXHJcbiAgICBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBNYXRyaXgoRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBmID0gbnVsbCwgb2JqZWN0ID0gdGhpcy5vYmplY3QoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZiA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGYgPSBmdW5jO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBNYXRyaXhXcmFwcGVyKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGYuY2FsbChvYmplY3QpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdtYXRyaXgnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5leHRlbnNpb24oJ0NhY2hlJykudmFsdWUoJ3RyYW5zZm9ybU1hdHJpeCcsIE1hdHJpeFdyYXBwZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHVyZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QuZXh0ZW5zaW9uKCdDYWNoZScpLnB1cmdlKCd0cmFuc2Zvcm1NYXRyaXgnKTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmplY3QudHlwZSgpID09PSAnR3JvdXAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxheWVycyA9IG9iamVjdC5leHRlbnNpb24oJ0xheWVycycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leHRlbnNpb24oJ0NhY2hlJykucHVyZ2UoJ3RyYW5zZm9ybU1hdHJpeCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzIvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbignT2JqZWN0cycsXHJcbiAgICBbJytNb3VzZScsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gTW91c2UoTW91c2VIZWxwZXIsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbW91c2VDaGVja0Z1bmN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9iamVjdCgpLmV2ZW50cy5yZWdpc3RlcignZHJhZ21vdmUgZHJhZ3N0YXJ0IGRyYWdlbmQgbW91c2Vtb3ZlIG1vdXNldXAgbW91c2Vkb3duIG1vdXNlZW50ZXIgbW91c2VsZWF2ZScpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ21vdXNlQ2hlY2tGdW5jdGlvbicsIGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTW91c2VIZWxwZXJbZnVuYyArICdDaGVja0Z1bmN0aW9uJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VDaGVja0Z1bmN0aW9uID0gTW91c2VIZWxwZXJbZnVuYyArICdVc2VyQ2hlY2tGdW5jdGlvbiddO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZjogZnVuY30sICdVbmFibGUgdG8gc2V0IGNoZWNrIGZ1bmN0aW9uISB7W2ZdfSBpcyBub3QgYSBmdW5jdGlvbiEnLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1vdXNlQ2hlY2tGdW5jdGlvbiA9IGZ1bmM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdkaXNhYmxlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignZW5hYmxlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignZGlzYWJsZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlzYWJsZWQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jaGVjayA9IGZ1bmN0aW9uICh0YXJnZXQsIGN1cnNvcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpc2FibGVkKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW91c2VDaGVja0Z1bmN0aW9uLmNhbGwodGFyZ2V0LCBbY3Vyc29yWzBdLCBjdXJzb3JbMV1dKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjdXJzb3JUcmFuc2Zvcm1GdW5jdGlvbiA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmN1cnNvclRyYW5zZm9ybUZ1bmN0aW9uID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiKSBjdXJzb3JUcmFuc2Zvcm1GdW5jdGlvbiA9IGZ1bmM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFwcGx5Q3Vyc29yVHJhbnNmb3JtID0gZnVuY3Rpb24gKGN1cnNvcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnNvclRyYW5zZm9ybUZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnNvclRyYW5zZm9ybUZ1bmN0aW9uLmNhbGwodGhpcywgY3Vyc29yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3I7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhhc0V2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5vYmplY3QoKS5ldmVudHMuaGFzRXZlbnQoZXZlbnQpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9wYWdhdGUgPSBmdW5jdGlvbiAodGFyZ2V0LCBldmVudE9iaikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IHRhcmdldC5wYXJlbnQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW91c2UgPSBwYXJlbnQuZXh0ZW5zaW9uKCdNb3VzZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3VzZS5oYXNFdmVudChldmVudE9iai50eXBlKCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZXZlbnRPYmoudHlwZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2V2ZW50T2JqID0gZXZlbnRPYmoub3JpZ2luYWxUYXJnZXQuY2FsbCh7JCRNT1VTRVBST1BBR0FUSU9OU0VUVEVSOiBwYXJlbnR9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlLnJlc29sdmUocGFyZW50LCB0eXBlLCBfZXZlbnRPYmopO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IGZ1bmN0aW9uICh0YXJnZXQsIGV2ZW50LCBldmVudE9iaiwgZm9yY2VkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlzYWJsZWQgJiYgIWZvcmNlZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5vYmplY3QoKS5ldmVudHMucmVzb2x2ZShldmVudCwgZXZlbnRPYmosIHRhcmdldClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgbW91c2VDaGVja0Z1bmN0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzUvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbignT2JqZWN0cycsXHJcbiAgICBbJ0BDYW52YXMnLCAnK0RyYXdlcicsXHJcbiAgICAgICAgZnVuY3Rpb24gT2Zmc2V0KENhbnZhcywgRHJhd2VySGVscGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBwb2ludHMgPSBbWzAsIDBdLCBbMCwgMF0sIFswLCAwXSwgWzAsIDBdXSxcclxuICAgICAgICAgICAgICAgIG1hc2sgPSBDYW52YXMuc2l6ZSgpLFxyXG4gICAgICAgICAgICAgICAgYm94ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXRlcmF0b3IgPSAwO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignYmV5b25kJywgZnVuY3Rpb24gKGN0eCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG1hc2sgPSBDYW52YXMuc2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgYm94ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLmdldCgpO1xyXG4gICAgICAgICAgICAgICAgcG9pbnRzWzBdID0gdGhpcy5tYXRyaXgoKS50cmFja0xvY2FsUG9pbnQoW2JveC5wb3NpdGlvblswXSwgYm94LnBvc2l0aW9uWzFdXSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBwb2ludHNbMV0gPSB0aGlzLm1hdHJpeCgpLnRyYWNrTG9jYWxQb2ludChbYm94LnNpemVbMF0gKyBib3gucG9zaXRpb25bMF0sIGJveC5wb3NpdGlvblsxXV0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgcG9pbnRzWzJdID0gdGhpcy5tYXRyaXgoKS50cmFja0xvY2FsUG9pbnQoW2JveC5zaXplWzBdICsgYm94LnBvc2l0aW9uWzBdLCBib3guc2l6ZVsxXSArIGJveC5wb3NpdGlvblsxXV0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgcG9pbnRzWzNdID0gdGhpcy5tYXRyaXgoKS50cmFja0xvY2FsUG9pbnQoW2JveC5wb3NpdGlvblswXSwgYm94LnNpemVbMV0gKyBib3gucG9zaXRpb25bMV1dLCB0cnVlKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGxlZnQgPSBNYXRoLm1pbihwb2ludHNbMF1bMF0sIHBvaW50c1sxXVswXSwgcG9pbnRzWzJdWzBdLCBwb2ludHNbM11bMF0pLFxyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0gTWF0aC5tYXgocG9pbnRzWzBdWzBdLCBwb2ludHNbMV1bMF0sIHBvaW50c1syXVswXSwgcG9pbnRzWzNdWzBdKSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b20gPSBNYXRoLm1heChwb2ludHNbMF1bMV0sIHBvaW50c1sxXVsxXSwgcG9pbnRzWzJdWzFdLCBwb2ludHNbM11bMV0pLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IE1hdGgubWluKHBvaW50c1swXVsxXSwgcG9pbnRzWzFdWzFdLCBwb2ludHNbMl1bMV0sIHBvaW50c1szXVsxXSksXHJcbiAgICAgICAgICAgICAgICAgICAgdyA9IChyaWdodCAtIGxlZnQpLFxyXG4gICAgICAgICAgICAgICAgICAgIGggPSAoYm90dG9tIC0gdG9wKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihsZWZ0ID4gLXcgJiYgdG9wID4gLWggJiYgYm90dG9tIDwgaCArIG1hc2tbMV0gJiYgcmlnaHQgPCB3ICsgbWFza1swXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpLHU7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAocG9pbnRzWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHBvaW50c1swXVswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHNbMF0uc2hpZnQoKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBwb2ludHMuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBvaW50cyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChtYXNrWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzay5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWFzayA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnBsdWdpbignT2JqZWN0cycsXHJcbiAgICBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBTdHlsZShEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSB7fSxcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrcyA9IFtdLFxyXG4gICAgICAgICAgICAgICAgc2V0dGVycyA9IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0dGVycyA9IHt9LFxyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBHZXRTZXR0ZXJGdW5jdGlvbihuYW1lLCBzZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gc2V0dGVyLmFwcGx5KHRoaXMsIFt2YWx1ZSwgcHJvcGVydGllc1tuYW1lXS52YWx1ZV0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBwcm9wZXJ0aWVzW25hbWVdLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSBcImJvb2xlYW5cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtuIDogbmFtZX0sICdVbmFibGUgdG8gc2V0IHByb3BlcnR5IHtufS4gSW52YWxpZCB2YWx1ZSEnLCBzZWxmKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtvbGQsIHJlc3VsdF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzW25hbWVdLnZhbHVlID0gcmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFja3NbbmFtZV0pIGNhbGxiYWNrc1tuYW1lXSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3NbbmFtZV0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tuYW1lXVtpXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEdldEdldHRlckZ1bmN0aW9uKG5hbWUsIGdldHRlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dGVyLmNhbGwobnVsbCwgcHJvcGVydGllc1tuYW1lXS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFN0eWxlVHlwZTEoYSwgYikge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghc2V0dGVyc1thXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogYSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdGFyZ2V0LnR5cGUoKVxyXG4gICAgICAgICAgICAgICAgICAgIH0sICdPYmplY3QgdHlwZSB7dHlwZX0gaGFzIG5vIHByb3BlcnR5IHtwcm9wZXJ0eX0nLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXR0ZXJzW2FdLmFwcGx5KHRhcmdldCwgW2JdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gU3R5bGVUeXBlMihvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzZXR0ZXJzdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghb2JqZWN0Lmhhc093blByb3BlcnR5KHByb3BlcnR5KSB8fCAhc2V0dGVyc1twcm9wZXJ0eV0pIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNldHRlcnNbcHJvcGVydHldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdGFyZ2V0LnR5cGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAnT2JqZWN0IHR5cGUge3R5cGV9IGhhcyBubyBzdHlsZSBwcm9wZXJ0eSB7cHJvcGVydHl9JywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGVyc3RhY2sucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcmluZzogcHJvcGVydGllc1twcm9wZXJ0eV0ub3JkZXJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0ZXI6IHNldHRlcnNbcHJvcGVydHldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzZXR0ZXJzdGFjay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXR0ZXJzdGFjay5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhLm9yZGVyaW5nIC0gYi5vcmRlcmluZztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNldHRlcnN0YWNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRlcnN0YWNrW2ldLnNldHRlci5hcHBseSh0YXJnZXQsIFtvYmplY3Rbc2V0dGVyc3RhY2tbaV0ucHJvcGVydHldXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbzogSlNPTi5zdHJpbmdpZnkob2JqZWN0KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdGFyZ2V0LnR5cGUoKSxcclxuICAgICAgICAgICAgICAgICAgICB9LCAnT2JqZWN0IHt0eXBlfSBoYXMgZ290IG5vIHN0eWxlIHByb3BlcnRpZXMgdG8gYmUgYXBwbGllZCBpbiB7b30nLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTdHlsZVR5cGUzKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghZ2V0dGVyc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdGFyZ2V0LnR5cGUoKVxyXG4gICAgICAgICAgICAgICAgICAgIH0sICdPYmplY3Qge3R5cGV9IGhhcyBubyBwcm9wZXJ0eSB7cHJvcGVydHl9JywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcnNbbmFtZV0uYXBwbHkodGFyZ2V0LCBbcHJvcGVydGllc1tuYW1lXS52YWx1ZV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcignc3R5bGUnLCBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhID09PSBcInN0cmluZ1wiICYmIGIgIT09IHVuZGVmaW5lZCkgU3R5bGVUeXBlMS5hcHBseSh0aGlzLCBbYSwgYl0pO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGEgPT09IFwib2JqZWN0XCIpIFN0eWxlVHlwZTIuYXBwbHkodGhpcywgW2FdKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhID09PSAnc3RyaW5nJyAmJiBiID09PSB1bmRlZmluZWQpIHJldHVybiBTdHlsZVR5cGUzLmFwcGx5KHRoaXMsIFthXSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCAuc3R5bGUoKSBhcmd1bWVudHMnLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ3dhdGNoJywgZnVuY3Rpb24gKHByb3BlcnR5LCBjYWxsYmFjaykge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHkgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ICE9PSBcIm9iamVjdFwiIHx8IHByb3BlcnR5LmNvbnN0cnVjdG9yICE9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignUHJvcGVydHkgaXMgbm90IGFuIGFycmF5IG9yIHN0cmluZycsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3A6IHByb3BlcnR5fSwgJ1N0eWxlIGNoYW5nZSBjYWxsYmFjayBmb3IgcHJvcGVydHkge3B9IGlzIG5vdCBhIGZ1bmN0aW9uJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0eS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5W2ldICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7aTogaSwgcDogcHJvcGVydHlbaV19LCAnUHJvcGVydHkge2l9IGlzIG5vdCBhIHN0cmluZyB7cH0nLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2tzW3Byb3BlcnR5W2ldXSB8fCB0eXBlb2YgY2FsbGJhY2tzW3Byb3BlcnR5W2ldXSAhPT0gXCJvYmplY3RcIiB8fCBjYWxsYmFja3NbcHJvcGVydHlbaV1dLmNvbnN0cnVjdG9yICE9PSBBcnJheSkgY2FsbGJhY2tzW3Byb3BlcnR5W2ldXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW3Byb3BlcnR5W2ldXS5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByb3BlcnR5ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFja3NbcHJvcGVydHldIHx8IGNhbGxiYWNrc1twcm9wZXJ0eV0uY29uc3RydWN0b3IgIT09IEFycmF5KSBjYWxsYmFja3NbcHJvcGVydHldID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW3Byb3BlcnR5XS5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3A6IHByb3BlcnR5fSwgJ1N0eWxlIHByb3BlcnR5IHtwfSBpcyBub3QgYW4gYXJyYXkgb3Igc3RyaW5nJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGVmaW5lID0gZnVuY3Rpb24gKG9yZGVyaW5nLCBuYW1lLCB2YWx1ZSwgc2V0dGVyLCBnZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnRHVwbGljYXRlZCBTdHlsZSBQcm9wZXJ0eSB7bmFtZX0nLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiIHx8IG5hbWUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe246IG5hbWV9LCAnUHJvcGVydHkge25hbWV9IGlzIG5vdCBhIHN0cmluZyBvciBlbXB0eScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGdldHRlciAhPT0gXCJmdW5jdGlvblwiIHx8IHR5cGVvZiBzZXR0ZXIgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuOiBuYW1lfSwgJ1VuYWJsZSB0byBkZWZpbmUgcHJvcGVydHkge259LiBHZXR0ZXIgb3Igc2V0dGVyIGlzIHVuZGVmaW5lZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9yZGVyaW5nICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe246IG5hbWV9LCAnU3R5bGUgcHJvcGVydHl7bn0gYXBwbGljYXRpb24gb3JkZXIgaW4gbm90IGEgbnVtYmVyJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllc1tuYW1lXSA9IHtvcmRlcmluZzogb3JkZXJpbmcsIHZhbHVlOiB2YWx1ZX07XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0dGVyc1tuYW1lXSA9IEdldFNldHRlckZ1bmN0aW9uKG5hbWUsIHNldHRlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgZ2V0dGVyc1tuYW1lXSA9IEdldEdldHRlckZ1bmN0aW9uKG5hbWUsIGdldHRlcik7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1tuYW1lXSkgcmV0dXJuIHByb3BlcnRpZXNbbmFtZV0udmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgRGVidWcud2Fybih7bjogbmFtZX0sICdHZXR0aW5nIHZhbHVlIG9mIHByb3BlcnR5IHtufSB0aGF0IGRvZXMgbm90IGV4aXN0Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vcmRlcmluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1tuYW1lXSkgcmV0dXJuIHByb3BlcnRpZXNbbmFtZV0ub3JkZXJpbmc7XHJcblxyXG4gICAgICAgICAgICAgICAgRGVidWcud2Fybih7bjogbmFtZX0sICdHZXR0aW5nIG9yZGVyaW5nIG9mIHByb3BlcnR5e259IHRoYXQgZG9lcyBub3QgZXhpc3QhJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwcm9wO1xyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGZvcihwcm9wIGluIHByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwcm9wZXJ0aWVzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvcihwcm9wIGluIHNldHRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihzZXR0ZXJzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZXR0ZXJzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvcihwcm9wIGluIGdldHRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihnZXR0ZXJzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBnZXR0ZXJzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHdoaWxlIChjYWxsYmFja3NbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3Muc2hpZnQoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgc2V0dGVycyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGdldHRlcnMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjUvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbignT2JqZWN0cycsXHJcbiAgICBbJ0RlYnVnJywgJytNb2RlbCcsICdAaW5qZWN0JyxcclxuICAgICAgICBmdW5jdGlvbiBUZXh0KERlYnVnLCBNb2RlbEhlbHBlciwgaW5qZWN0LCBGb250cykge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hcHBseVRvKCdUZXh0Jyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgb2JqZWN0ID0gdGhpcy5vYmplY3QoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChvYmplY3QudHlwZSgpICE9PSAnVGV4dCcpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHZhciBsaW5lcyA9IFtdLFxyXG4gICAgICAgICAgICAgICAgd29yZEJ5V29yZFJlZ0V4cCA9IC8oKFxcUytcXHMrKXwoXFxTKyQpKS9nLFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBvYmplY3QuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgc3RyaW5nID0gJycsXHJcbiAgICAgICAgICAgICAgICB1cGRhdGUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGxpbWl0cyA9IFtJbmZpbml0eSwgSW5maW5pdHldLFxyXG4gICAgICAgICAgICAgICAgd2lkdGggPSAwLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gMDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2xpbmVzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2gobGluZXNbaV0uc3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ3dvcmRzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIHZhciB3b3JkcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPCBsaW5lcy5sZW5ndGg7IGwrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfdyA9IGxpbmVzW2ldLndvcmRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdyA9IDA7IHcgPCBfdy5sZW5ndGg7IHcrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3Jkcy5wdXNoKF93LnN0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gd29yZHM7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5saW1pdHMgPSBmdW5jdGlvbiAodywgaCkge1xyXG4gICAgICAgICAgICAgICAgbGltaXRzWzBdID0gdztcclxuICAgICAgICAgICAgICAgIGxpbWl0c1sxXSA9IGg7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgb2JqZWN0LndhdGNoKCdzdHInLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG4gIT09IHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyA9IG47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgb2JqZWN0LndhdGNoKFsnc3RyJywgJ2ZvbnRTaXplJywgJ2xpbmVIZWlnaHQnLCAnY29sb3InLCAnd2VpZ2h0JywgJ3N0eWxlJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoZm9yY2VkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodXBkYXRlIHx8IGZvcmNlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwaWVjZXMgPSBzdHJpbmcubWF0Y2god29yZEJ5V29yZFJlZ0V4cCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGwgPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW1pdHMgPSBzdHlsZS5nZXQoJ3NpemUnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdyA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihwaWVjZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZvbnQgPSBzdHlsZS5nZXQoJ3N5c3RlbUZvbnQnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplID0gc3R5bGUuZ2V0KCdmb250U2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZUhlaWdodCA9IHN0eWxlLmdldCgnbGluZUhlaWdodCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodCA9IHN0eWxlLmdldCgnd2VpZ2h0JyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvciA9IHN0eWxlLmdldCgnY29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTdHlsZSA9IHN0eWxlLmdldCgnc3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzID0gW107XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaWVjZXMubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNlcm5ld2xpbmUgPSBwaWVjZXNbaV0ubWF0Y2goL1xcbi9nKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBwaWVjZXNbaV0ubWF0Y2goL1xcUysvZyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29yZCA9IGluamVjdCgnJFRleHRXb3JkQ2xhc3MnKS5zdHJpbmcoc3RyWzBdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxpbmVzW2xdKSBsaW5lc1tsXSA9IGluamVjdCgnJFRleHRMaW5lQ2xhc3MnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mb250KGZvbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNpemUoZm9udFNpemUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmhlaWdodChsaW5lSGVpZ2h0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb2xvcihjb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoZm9udFN0eWxlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC53ZWlnaHQoZm9udFdlaWdodCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXNbbF0ucHVzaCh3b3JkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IGxpbmVzW2xdLndpZHRoKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmVXaWR0aCA+PSBsaW1pdHNbMF0gfHwgdXNlcm5ld2xpbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZVdpZHRoID4gdykgdyA9IGxpbmVXaWR0aCArIDQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gbGluZXMubGVuZ3RoICogc3R5bGUuZ2V0KCdsaW5lSGVpZ2h0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb250U2l6ZSA+IGxpbmVIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCArPSBmb250U2l6ZSAtIGxpbmVIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZm9udFNpemUgPCBsaW5lSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgLT0gbGluZUhlaWdodCAtIGZvbnRTaXplO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gdztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRleHRCbG9ja0hlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaGVpZ2h0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy50ZXh0QmxvY2tXaWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gd2lkdGg7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvckVhY2hMaW5lID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuYy5hcHBseShsaW5lc1tpXSwgW2ksIGxpbmVzW2ldXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGxpbmVzWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZXMuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxpbmVzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGxpbWl0c1swXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbWl0cy5zaGlmdCgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsaW1pdHMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHdvcmRCeVdvcmRSZWdFeHAgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjYvMjAxNi5cclxuICovXHJcbiRSLnBsdWdpbignT2JqZWN0cycsIFsnRGVidWcnLCAnVHJlZScsXHJcbiAgICAgICAgZnVuY3Rpb24gVHJlZShEZWJ1ZywgVHJlZVNlcnZpY2UpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgaWRlbnRpdHkgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgbm9uTGV0dGVycyA9IC9bXmEtekEtWjAtOS1dKy9nbSxcclxuICAgICAgICAgICAgICAgIGNhcGl0YWxzID0gL1tBLVpdL2c7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBub3JtYWxpc2VJZGVudGl0eShpZCkge1xyXG4gICAgICAgICAgICAgICAgaWQgPSBpZC5yZXBsYWNlKG5vbkxldHRlcnMsICcnKTtcclxuICAgICAgICAgICAgICAgIGlkID0gaWQucmVwbGFjZShjYXBpdGFscywgZnVuY3Rpb24gKHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnLScgKyBzdHJpbmcudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBpZCA9IGlkLnJlcGxhY2UoJy0tJywgJy0nKTtcclxuICAgICAgICAgICAgICAgIGlkID0gaWQucmVwbGFjZSgvKF4tKXwoLSQpL2csICcnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tUcmVlKHRhcmdldCwgb2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ID09PSBvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5wYXJlbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hlY2tUcmVlKHRhcmdldCwgdGFyZ2V0LnBhcmVudCgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiB0cmVlVmlvbGF0aW9uKHRhcmdldCwgb2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnR5cGUoJ0dyb3VwJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrVHJlZSh0YXJnZXQsIG9iamVjdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5wYXJlbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1lvdSB0cnkgdG8gYXBwZW5kIGdyb3VwIHBhcmVudCBpbnRvIGl0c2VsZi4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1lvdSB0cnkgdG8gYXBwZW5kIGdyb3VwIHBhcmVudCBpbnRvIGl0XFwncyBjaGlsZHJlbi4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQudHlwZSgpICE9PSAnR3JvdXAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQudHlwZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiBvYmplY3QudHlwZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sICdZb3kgdHJ5IHRvIGFwcGVuZCBbe29iamVjdH1dIGludG8gW3t0YXJnZXR9XS4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgbGF5ZXJzID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ3VubW91bnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZighaWRlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmFibGUgdG8gdW5tb3VudCBhIGZyZWUgb2JqZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLnJlc29sdmUoJ3VubW91bnQnLCB0aGlzLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCgpLmV4dGVuc2lvbignTGF5ZXJzJykucmVtb3ZlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdhcHBlbmQnLCBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZighaWRlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmFibGUgdG8gYXBwZW5kIGEgZnJlZSBvYmplY3QnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy50eXBlKCdHcm91cCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2F0Y2goe3R5cGU6IHRoaXMudHlwZSgpfSwgJyBDYW4gbm90IGFwcGVuZC4gdHlwZVt7dHlwZX1dIG9mIHBhcmVudCBpcyBub3QgYWxsb3dlZCEnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRyZWVWaW9sYXRpb24odGhpcywgb2JqZWN0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC51bm1vdW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsYXllcnMpIGxheWVycyA9IHRoaXMuZXh0ZW5zaW9uKCdMYXllcnMnKTtcclxuICAgICAgICAgICAgICAgICAgICBsYXllcnMucGxhY2Uob2JqZWN0LmxheWVyKCksIG9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmV4dGVuc2lvbignVHJlZScpLnBhcmVudCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4dGVuc2lvbignQm94JykucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmplY3QuZXZlbnRzLnJlc29sdmUoJ21vdW50Jywgb2JqZWN0LCBvYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignYXBwZW5kVG8nLCBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZighaWRlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmFibGUgdG8gYXBwZW5kIGEgZnJlZSBvYmplY3QnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG9iamVjdC5hcHBlbmQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdwYXJlbnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50O1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2lkJywgZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaWRlbnRpdHkgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGlkID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkID0gbm9ybWFsaXNlSWRlbnRpdHkoaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eSA9IGlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVHJlZVNlcnZpY2UucmVnaXN0ZXIodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIERlYnVnLmVycm9yKCdOb3JtYWxpc2VkIGlkZW50aXR5IHNlZW1zIHRvIGJlIGVtcHR5LiBVbmFibGUgdG8gcmVnaXN0ZXIgR3JhcGhpY3MnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBEZWJ1Zy5lcnJvcignVW5hYmxlIHRvIHNldCBpbml0aWFsIGlkLiBJZCBpcyBub3QgYSBzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZCA9IG5vcm1hbGlzZUlkZW50aXR5KGlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVHJlZVNlcnZpY2UucmVnaXN0ZXIodGhpcywgaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgRGVidWcuZXJyb3IoJ05vcm1hbGlzZWQgaWRlbnRpdHkgc2VlbXMgdG8gYmUgZW1wdHkuIFVuYWJsZSB0byByZWdpc3RlciBHcmFwaGljcycpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBEZWJ1Zy5lcnJvcignSWQgaXMgbm90IGEgc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IGZ1bmN0aW9uIChncm91cCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBncm91cC50eXBlICE9PSBcImZ1bmN0aW9uXCIgfHwgIWdyb3VwLnR5cGUoJ0dyb3VwJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwOiB0eXBlb2YgZ3JvdXAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGdyb3VwLnR5cGUgPyBncm91cC50eXBlKCkgOiAndW5rbm93blR5cGUnXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgJ1VuYWJsZSB0byBzZXQgcGFyZW50IGFzIHtncm91cH17dHlwZX0uIE9iamVjdCBpcyBub3QgYSBncm91cCEnLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChncm91cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGdyb3VwO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIFRyZWVTZXJ2aWNlLnVucmVnaXN0ZXIodGhpcy5vYmplY3QoKSk7XHJcbiAgICAgICAgICAgICAgICBsYXllcnMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7XHJcbiIsIiRSLnNlcnZpY2UoW1xyXG4gICAgJ0BpbmplY3QnLFxyXG4gICAgZnVuY3Rpb24gQXBpKGluamVjdCkge1xyXG4gICAgICAgIHRoaXMuY29udHJvbCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgdmFyIGFwaSA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0LmNhbiA9PT0gXCJmdW5jdGlvblwiICYmIHRhcmdldC5jYW4uJCRBUElQUk9URUNURUQpIHtcclxuICAgICAgICAgICAgICAgIGFwaSA9IHRhcmdldC5jYW4uY2FsbCh7JCRBUElQUk9URUNURUQ6IHRydWV9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZighYXBpKSB7XHJcbiAgICAgICAgICAgICAgICBhcGkgPSBpbmplY3QoJyRBcGlDb250cm9sbGVyJyk7XHJcbiAgICAgICAgICAgICAgICBhcGkud3JhcCh0YXJnZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhcGk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5dKTsiLCIkUi5zZXJ2aWNlLmNsYXNzKCdBcGknLFxyXG4gICAgW1xyXG4gICAgICAgICdEZWJ1ZycsICdJcycsICdFdmVudHMnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEFwaUNvbnRyb2xsZXIoRGVidWcsIElzLCBFdmVudHMpIHtcclxuICAgICAgICAgICAgdmFyIG1ldGhvZHMgPSB7fSxcclxuICAgICAgICAgICAgICAgIGVtaXR0ZXIgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndyYXAgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldC5jYW4gIT09IFwidW5kZWZpbmVkXCIpIERlYnVnLmVycm9yKHt0YXJnZXQ6IHRhcmdldC5jb25zdHJ1Y3Rvci5uYW1lfSwgJ1RhcmdldCBtZXRob2QgY29sbGlzaW9uLiB7dGFyZ2V0fSBhbHJlYWR5IGhhcyAuY2FuIGZpZWxkJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldC5kbyAhPT0gXCJ1bmRlZmluZWRcIikgRGVidWcuZXJyb3Ioe3RhcmdldDogdGFyZ2V0LmNvbnN0cnVjdG9yLm5hbWV9LCAnVGFyZ2V0IG1ldGhvZCBjb2xsaXNpb24uIHt0YXJnZXR9IGFscmVhZHkgaGFzIC5kbyBmaWVsZCcpO1xyXG4gICAgICAgICAgICAgICAgZW1pdHRlciA9IEV2ZW50cy5lbWl0dGVyKHRhcmdldCk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHRhcmdldC5jYW4gPSBmdW5jdGlvbiAoYWN0aW9uTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuJCRBUElQUk9URUNURUQpIHJldHVybiBzZWxmO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghSXMucHJvcGVyU3RyaW5nKGFjdGlvbk5hbWUpKSBEZWJ1Zy5lcnJvcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHQ6IHRhcmdldC5jb25zdHJ1Y3Rvci5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuOiB0eXBlb2YgYWN0aW9uTmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sICd7dH1cXCdzIEFwaSBtZXRob2Qge25hbWV9IGNoZWNrIGZhaWxlZC4gQWN0aW9uTmFtZSBpcyBub3QgYSBzdHJpbmcnLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gISFtZXRob2RzW2FjdGlvbk5hbWVdO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5jYW4uJCRBUElQUk9URUNURUQgPSB0cnVlO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuYXBpID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIG0gaW4gbWV0aG9kcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChtZXRob2RzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuZG8gPSBmdW5jdGlvbiAoYWN0aW9uLCBwYXlsb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFJcy5wcm9wZXJTdHJpbmcoYWN0aW9uKSkgRGVidWcuZXJyb3Ioe2E6IHR5cGVvZiBhY3Rpb259LCAnSW52YWxpZCBhY3Rpb24gcGFyYW1ldGVyIHthfS4gQWN0aW9uIGlzIG5vdCBhIHN0cmluZycsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY2FuKGFjdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuaW5mbyh7biA6IGFjdGlvbn0sICdQcm9jZXNzaW5nIHtufScsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmdyb3VwKGFjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWV0aG9kc1thY3Rpb25dLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RzW2FjdGlvbl1baV0uY2FsbCh0YXJnZXQsIHBheWxvYWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbWl0dGVyKSBlbWl0dGVyLnJlc29sdmUoYWN0aW9uLCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZ3JvdXBFbmQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgRGVidWcud2Fybih7dDogdGFyZ2V0LmNvbnN0cnVjdG9yLm5hbWUsIGE6IGFjdGlvbn0sICd7dH0gY2FuIG5vdCBwZXJmb3JtIGFjdGlvbiB7YX0uJywgdGFyZ2V0KVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVmaW5lID0gZnVuY3Rpb24gKGFjdGlvbk5hbWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFJcy5wcm9wZXJTdHJpbmcoYWN0aW9uTmFtZSkpIERlYnVnLmVycm9yKHtuOiB0eXBlb2YgYWN0aW9uTmFtZX0sICdVbmFibGUgdG8gZGVmaW5lIEFwaSBtZXRob2Qge259LiBNZXRob2QgbmFtZSBpcyBub3QgYSBzdHJpbmcnLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldC5jYW4oYWN0aW9uTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kc1thY3Rpb25OYW1lXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5pbmZvKHtuIDogYWN0aW9uTmFtZX0sICdBZGRlZCBBUEkgbWV0aG9kIHtufScsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIucmVnaXN0ZXIoYWN0aW9uTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5pbmZvKHtuIDogYWN0aW9uTmFtZX0sICdBZGRlZCBhcGkgY2FsbGJhY2sgbWV0aG9kIGZvciB7bn0nLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RzW2FjdGlvbk5hbWVdLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlKFxyXG4gICAgWydAQ2FudmFzJywgJ0BDb25maWcnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIENhbnZhcyhDYW52YXMsIENvbmZpZywgRGVidWcpIHtcclxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrcyA9IFtdLCB3aWR0aCA9IDAsIGhlaWdodCA9IDAsIGRpbW1zID0gWzAsIDBdLCB4dW5pdHMgPSAncHgnLCB5dW5pdHMgPSAncHgnLFxyXG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gWzAsIDBdLCBzY3JvbGwgPSBbMCwgMF0sIG91dHB1dCA9IENhbnZhcy5lbGVtZW50KCksIHNlbGYgPSB0aGlzLCBoaWRkZW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIENvbmZpZy5kZWZpbmUoXHJcbiAgICAgICAgICAgICAgICAnc2l6ZScsXHJcbiAgICAgICAgICAgICAgICBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjdXN0b206IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIHZbMF0gPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZbMF0gPT09IEFycmF5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgdlswXSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdlsxXSA9PT0gXCJudW1iZXJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC53YXRjaChcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZbMF0gPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gdlswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdlswXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZbMF0ubWF0Y2goL15bXFxkXSslJC8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBwYXJzZUludCh2WzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4dW5pdHMgPSAnJSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMTAwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4dW5pdHMgPSAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3dpZHRoOiB2WzBdfSwgJ3t3aWR0aH0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIGNhbnZhcy5zaXplWzBdLiBXaWR0aCBzZXQgYXMgMTAwMHB4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDEwMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt3aWR0aDogdlswXX0sICd7d2lkdGh9IGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBjYW52YXMuc2l6ZVswXS4gV2lkdGggc2V0IGFzIDEwMDBweCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZbMV0gPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IHZbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZbMV0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2WzFdLm1hdGNoKC9eW1xcZF0rJSQvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IHBhcnNlSW50KHZbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHl1bml0cyA9ICclJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gODAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2hlaWdodDogdlsxXX0sICd7aGVpZ2h0fSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgY2FudmFzLnNpemVbMV0uIFdpZHRoIHNldCBhcyA4MDBweCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gODAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7aGVpZ2h0OiB2WzFdfSwgJ3toZWlnaHR9IGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBjYW52YXMuc2l6ZVsxXS4gV2lkdGggc2V0IGFzIDgwMHB4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgV2luZG93UmVzaXplQ2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgdmFyIHBXID0gMCwgcEggPSAwLCByZXNpemVUTyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjb21wYXJlT25SZXNpemUoc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHh1bml0cyA9PT0gJyUnIHx8IHl1bml0cyA9PT0gJyUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9wVyA9IHBXLCBfcEggPSBwSDtcclxuICAgICAgICAgICAgICAgICAgICBDYW52YXMuc2l6ZSgwLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzaXplVE8pIGNsZWFyVGltZW91dChyZXNpemVUTyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZVRPID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnROb2RlID0gQ2FudmFzLmVsZW1lbnQoKS5wYXJlbnROb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUocGFyZW50Tm9kZSwgbnVsbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwSCA9IHBhcnNlSW50KHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCdoZWlnaHQnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBXID0gcGFyc2VJbnQoc3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJ3dpZHRoJykpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9wVyAhPT0gcFcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4dW5pdHMgPT09ICclJyAmJiBfcFcgIT09IHBXKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltbXNbMF0gPSBNYXRoLmZsb29yKHBXICogKHdpZHRoIC8gMTAwKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9wSCAhPT0gcEgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5dW5pdHMgPT09ICclJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbW1zWzFdID0gTWF0aC5mbG9vcihwSCAqIChoZWlnaHQgLyAxMDApKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW52YXMuc2l6ZShkaW1tc1swXSwgZGltbXNbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNpemVUTyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkaW1tc1swXSA9IHdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpbW1zWzFdID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIENhbnZhcy5zaXplKGRpbW1zWzBdLCBkaW1tc1sxXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gR2V0Q2FudmFzT2Zmc2V0KHgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRQcm9wID0geCA/ICdvZmZzZXRMZWZ0JyA6ICdvZmZzZXRUb3AnO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSAwLCBlbGVtZW50ID0gQ2FudmFzLmVsZW1lbnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihlbGVtZW50W29mZnNldFByb3BdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gZWxlbWVudFtvZmZzZXRQcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IHdoaWxlIChlbGVtZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFdpbmRvd1Jlc2l6ZUNhbGxiYWNrKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFvdXRwdXQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNvbXBhcmVPblJlc2l6ZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WzBdID0gR2V0Q2FudmFzT2Zmc2V0KDApO1xyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFsxXSA9IEdldENhbnZhc09mZnNldCgxKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbaV0oZGltbXNbMF0sIGRpbW1zWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkoJ2NhbnZhc3Jlc2l6ZScsIFtuZXcgUkNhbnZhc1Jlc2l6ZUV2ZW50KCldKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gQ2FudmFzU3dpdGNoQ2FsbGJhY2soKSB7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXRbMF0gPSBHZXRDYW52YXNPZmZzZXQoMCk7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXRbMV0gPSBHZXRDYW52YXNPZmZzZXQoMSk7XHJcbiAgICAgICAgICAgICAgICBSZXNvbHZlQ2FudmFzRXZlbnRBcnJheSgnY2FudmFzc3dpdGNoJywgW25ldyBSQ2FudmFzU3dpdGNoRXZlbnQoKV0pO1xyXG4gICAgICAgICAgICAgICAgV2luZG93UmVzaXplQ2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5yZXNpemUgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLm9mZnJlc2l6ZSA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzLmZpbHRlcihmdW5jdGlvbiAoZikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmICE9PSBmdW5jO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHh1bml0cyA9PT0gJyUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBXICogKHdpZHRoIC8gMTAwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHh1bml0cyA9PT0gJyUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBIICogKGhlaWdodCAvIDEwMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhpZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgICAgaWYob3V0cHV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2hvdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChoaWRkZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihvdXRwdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnN0eWxlLmRpc3BsYXkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBoaWRkZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjYW52YXNFdmVudENhbGxiYWNrcyA9IHtcclxuICAgICAgICAgICAgICAgIG1vdXNlbW92ZTogW10sXHJcbiAgICAgICAgICAgICAgICBtb3VzZWRvd246IFtdLFxyXG4gICAgICAgICAgICAgICAgbW91c2V1cDogW10sXHJcbiAgICAgICAgICAgICAgICBtb3VzZWxlYXZlOiBbXSxcclxuICAgICAgICAgICAgICAgIG1vdXNlZW50ZXI6IFtdLFxyXG4gICAgICAgICAgICAgICAgY2FudmFzcmVzaXplOiBbXSxcclxuICAgICAgICAgICAgICAgIGNhbnZhc3N3aXRjaDogW11cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEdldENhbnZhc0V2ZW50QXJyYXkoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjYW52YXNFdmVudENhbGxiYWNrc1tldmVudF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFJlc29sdmVDYW52YXNFdmVudEFycmF5KGV2ZW50LCBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgIT09IFwib2JqZWN0XCIgfHwgZGF0YS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudH0sICdDYW52YXMgOiB1bmFibGUgdG8gcmVzb2x2ZSBldmVudCBhcnJheSBbe2V9XS4gRGF0YSBpcyBub3QgYW4gYXJyYXkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IEdldENhbnZhc0V2ZW50QXJyYXkoZXZlbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudH0sICdVbmFibGUgdG8gcmVzb2x2ZSBldmVudCBbe2V9XSBubyBzdWNoIGV2ZW50IScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheVtpXS5hcHBseShzZWxmLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5vbiA9IGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gR2V0Q2FudmFzRXZlbnRBcnJheShldmVudCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnQ2FudmFzIDogVW5hYmxlIHRvIHNldCBldmVudCBoYW5kbGVyIGZvciBldmVudCBbe2V9XScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZjogZXZlbnR9LCAnQ2FudmFzIDogVW5hYmxlIHRvIHNldCBldmVudCBoYW5kbGVyIFt7Zn1dJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhcnJheS5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gR2V0TW91c2VSZWxhdGl2ZVBvc2l0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbZS5wYWdlWCAtIG9mZnNldFswXSAtIHNjcm9sbFswXSwgZS5wYWdlWSAtIG9mZnNldFsxXSAtIHNjcm9sbFsxXV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFJDYW52YXNNb3VzZShlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2UgPSBbZS5wYWdlWCwgZS5wYWdlWV07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZWVuID0gW2UucGFnZVggLSBzY3JvbGxbMF0sIGUucGFnZVkgLSBzY3JvbGxbMV1dO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IEdldE1vdXNlUmVsYXRpdmVQb3NpdGlvbihlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gUkNhbnZhc01vdXNlRXZlbnQoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbCA9IGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBlLnR5cGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlID0gbmV3IFJDYW52YXNNb3VzZShlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzID0gc2VsZjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gUkNhbnZhc1Jlc2l6ZUV2ZW50KCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gJ2NhbnZhc3Jlc2l6ZSc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcyA9IHNlbGY7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9mZnNldCA9IFtvZmZzZXRbMF0sIG9mZnNldFsxXV07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpemUgPSBbd2lkdGgsIGhlaWdodF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbmFsID0gW3dpZHRoLCBoZWlnaHRdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51bml0cyA9IFt4dW5pdHMsIHl1bml0c107XHJcbiAgICAgICAgICAgICAgICBpZiAoeHVuaXRzID09PSAnJScpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNpemVbMF0gPSBwVyAqICh3aWR0aCAvIDEwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoeXVuaXRzID09PSAnJScpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNpemVbMV0gPSBwSCAqIChoZWlnaHQgLyAxMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBSQ2FudmFzU3dpdGNoRXZlbnQoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSAnY2FudmFzc3dpdGNoJztcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzID0gc2VsZjtcclxuICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0ID0gW29mZnNldFswXSwgb2Zmc2V0WzFdXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSA9IFt3aWR0aCwgaGVpZ2h0XTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luYWwgPSBbd2lkdGgsIGhlaWdodF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVuaXRzID0gW3h1bml0cywgeXVuaXRzXTtcclxuICAgICAgICAgICAgICAgIGlmICh4dW5pdHMgPT09ICclJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2l6ZVswXSA9IHBXICogKHdpZHRoIC8gMTAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh5dW5pdHMgPT09ICclJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2l6ZVsxXSA9IHBIICogKGhlaWdodCAvIDEwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBsaXN0ZW5lcnMgPSB7XHJcbiAgICAgICAgICAgICAgICBtb3VzZW1vdmU6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkoJ21vdXNlbW92ZScsIFtuZXcgUkNhbnZhc01vdXNlRXZlbnQoZSldKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtb3VzZWRvd246IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkoJ21vdXNlZG93bicsIFtuZXcgUkNhbnZhc01vdXNlRXZlbnQoZSldKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtb3VzZXVwOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIFJlc29sdmVDYW52YXNFdmVudEFycmF5KCdtb3VzZXVwJywgW25ldyBSQ2FudmFzTW91c2VFdmVudChlKV0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1vdXNlbGVhdmU6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkoJ21vdXNlbGVhdmUnLCBbbmV3IFJDYW52YXNNb3VzZUV2ZW50KGUpXSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbW91c2VlbnRlcjogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBSZXNvbHZlQ2FudmFzRXZlbnRBcnJheSgnbW91c2VlbnRlcicsIFtuZXcgUkNhbnZhc01vdXNlRXZlbnQoZSldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIENhbnZhcy5zd2l0Y2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoZXZlbnQgaW4gbGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMuaGFzT3duUHJvcGVydHkoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2V2ZW50XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gdGhpcy5lbGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGlkZGVuKSBvdXRwdXQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgIGVsc2Ugb3V0cHV0LnN0eWxlLmRpc3BsYXkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgZm9yIChldmVudCBpbiBsaXN0ZW5lcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXJzLmhhc093blByb3BlcnR5KGV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2V2ZW50XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgQ2FudmFzU3dpdGNoQ2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHNjcm9sbFsxXSA9IHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtcclxuICAgICAgICAgICAgICAgIHNjcm9sbFswXSA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBXaW5kb3dSZXNpemVDYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UoXHJcbiAgICBbJ0BDb25maWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIERlYnVnKGNvbmZpZykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0cmluZyA9ICfwnZCRJyxcclxuICAgICAgICAgICAgICAgIHJlZ2V4cCA9IC97W2EtekEtWl0rfS9nLFxyXG4gICAgICAgICAgICAgICAgcmVnZXhwbmFtZSA9IC9bYS16QS1aXSsvZyxcclxuICAgICAgICAgICAgICAgIHdhcm5pbmdzID0gY29uZmlnLmRlZmluZSgnd2FybmluZ3MnLCBmYWxzZSwge2lzQm9vbDogdHJ1ZX0sIGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybmluZ3MgPSB2O1xyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBncm91cExldmVsID0gY29uZmlnLmRlZmluZSgnZGVidWdMZXZlbCcsIDAsIHtpc051bWJlcjogdHJ1ZX0sIGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYgPCAwKSB2ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuaW5ncyA9IHY7XHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRMZXZlbCA9IDA7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIGVycm9yQ2IgPSBbXSwgbWVzc2FnZUNiID0gW10sIGluZm9DYiA9IFtdLCBpbXBvcnRhbnRDYiA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gUmVzb2x2ZUV2ZW50KHR5cGUsIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcnJheTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnZXJyb3InKSBhcnJheSA9IGVycm9yQ2I7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ21lc3NhZ2UnKSBhcnJheSA9IG1lc3NhZ2VDYjtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnaW5mbycpIGFycmF5ID0gaW5mb0NiO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdpbXBvcnRhbnQnKSBhcnJheSA9IGltcG9ydGFudENiO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheVtpXShkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5vbiA9IGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ2Vycm9yJykgZXJyb3JDYi5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSAnbWVzc2FnZScpIG1lc3NhZ2VDYi5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSAnaW5mbycpIG1lc3NhZ2VDYi5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSAnaW1wb3J0YW50JykgbWVzc2FnZUNiLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gR2V0TWVzc2FnZShkYXRhLCBtZXNzYWdlLCBzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBtZXNzYWdlLm1hdGNoKHJlZ2V4cCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvcHMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2huYW1lID0gbWF0Y2hlc1tpXS5tYXRjaChyZWdleHBuYW1lKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNobmFtZSkgcHJvcHNbbWF0Y2huYW1lXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2U6IG1hdGNoZXNbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiAnWycgKyAoZGF0YVttYXRjaG5hbWVdID09PSB1bmRlZmluZWQgPyAndW5kZWZpbmVkJyA6IGRhdGFbbWF0Y2huYW1lXS50b1N0cmluZygpKSArICddJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wcykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXByb3BzLmhhc093blByb3BlcnR5KHByb3ApKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UucmVwbGFjZShwcm9wc1twcm9wXS5yZXBsYWNlLCBwcm9wc1twcm9wXS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlICYmIHNvdXJjZS5jb25zdHJ1Y3RvciAmJiBzb3VyY2UuY29uc3RydWN0b3IubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAnICcgKyBzb3VyY2UuY29uc3RydWN0b3IubmFtZSArICcg4pSCICcgKyBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IHN0cmluZyArIG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5lcnJvciA9IGZ1bmN0aW9uIChkYXRhLCBtZXNzYWdlLCBzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBHZXRNZXNzYWdlKGRhdGEsIG1lc3NhZ2UsIHNvdXJjZSk7XHJcbiAgICAgICAgICAgICAgICBSZXNvbHZlRXZlbnQoJ2Vycm9yJywgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLnRyYWNlKCk7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhcm4gPSBmdW5jdGlvbiAoZGF0YSwgbWVzc2FnZSwgc291cmNlKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF3YXJuaW5ncy5nZXQoKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IEdldE1lc3NhZ2UoZGF0YSwgbWVzc2FnZSwgc291cmNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBSZXNvbHZlRXZlbnQoJ21lc3NhZ2UnLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCclYycgKyBtZXNzYWdlLCAnYm9yZGVyLWxlZnQ6NHB4IHNvbGlkIHJnYigxNzgsMTM3LDc1KTsgcGFkZGluZyA6MnB4IDZweDsgYmFja2dyb3VuZDogcmdiYSgxMzEsMTM4LDAsLjEpOyBjb2xvcjogcmdiKDE3OCwxMzcsNzUpJyk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbmZvID0gZnVuY3Rpb24gKGRhdGEsIG1lc3NhZ2UsIHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF3YXJuaW5ncy5nZXQoKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlID0gbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gR2V0TWVzc2FnZShkYXRhLCBtZXNzYWdlLCBzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgUmVzb2x2ZUV2ZW50KCdpbmZvJywgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnJWMnICsgbWVzc2FnZSwgJ2JvcmRlci1sZWZ0OjJweCBzb2xpZCByZ2IoMTQ5LDIwMiwwKTsgcGFkZGluZyA6MnB4IDZweDsgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwuMSk7Jyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBmdW5jdGlvbiAoZGF0YSwgbWVzc2FnZSwgc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXdhcm5pbmdzLmdldCgpKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBHZXRNZXNzYWdlKGRhdGEsIG1lc3NhZ2UsIHNvdXJjZSk7XHJcbiAgICAgICAgICAgICAgICBSZXNvbHZlRXZlbnQoJ2luZm8nLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCclYycgKyBtZXNzYWdlLCAncGFkZGluZzogMXB4IDEwcHg7IGJvcmRlci1sZWZ0OjJweCBzb2xpZCAjMTA5NDlDOyBmb250LXdlaWdodDpib2xkOyBiYWNrZ3JvdW5kOiByZ2JhKDAsMTc1LDIzMSwuMSk7IGNvbG9yOiAjMTA5NDlDJyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgY3VycmVudFNlcGFyYXRvck1lc3NhZ2VzID0ge30sXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2VwYXJhdG9yTGV2ZWwgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnNlcGFyYXRvciA9IGZ1bmN0aW9uIChkYXRhLCBtZXNzYWdlLCBzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgIGlmICghd2FybmluZ3MuZ2V0KCkpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IEdldE1lc3NhZ2UoZGF0YSwgbWVzc2FnZSwgc291cmNlKTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXBhcmF0b3JMZXZlbCArKztcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXBhcmF0b3JNZXNzYWdlc1tjdXJyZW50U2VwYXJhdG9yTGV2ZWxdID0gbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgIFJlc29sdmVFdmVudCgnaW5mbycsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJyVjJyArIG1lc3NhZ2UrICcg4oybJywgJ3BhZGRpbmc6IDRweCAxMHB4OyBib3JkZXItbGVmdDogMnB4IHNvbGlkICMxMDk0OUM7IGJhY2tncm91bmQ6cmdiYSgxNiwxNDgsMTU2LDAuMSk7IGNvbG9yOiAjMTA5NDlDJyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuc2VwYXJhdG9yRW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF3YXJuaW5ncy5nZXQoKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYoY3VycmVudFNlcGFyYXRvck1lc3NhZ2VzW2N1cnJlbnRTZXBhcmF0b3JMZXZlbF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnJWMnICArY3VycmVudFNlcGFyYXRvck1lc3NhZ2VzW2N1cnJlbnRTZXBhcmF0b3JMZXZlbF0gKyAnIOKclCcsICdwYWRkaW5nOiA0cHggMTBweDsgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCAjMTA5NDlDOyBiYWNrZ3JvdW5kOnJnYmEoMTYsMTQ4LDE1NiwwLjEpOyBjb2xvcjogIzEwOTQ5QycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTZXBhcmF0b3JMZXZlbC0tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoY3VycmVudFNlcGFyYXRvckxldmVsID09PSAwKSBjdXJyZW50U2VwYXJhdG9yTWVzc2FnZXMgPSB7fTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpdmUgPSBmdW5jdGlvbiAoZGF0YSwgbWVzc2FnZSwgc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXdhcm5pbmdzLmdldCgpKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBHZXRNZXNzYWdlKGRhdGEsIG1lc3NhZ2UsIHNvdXJjZSk7XHJcbiAgICAgICAgICAgICAgICBSZXNvbHZlRXZlbnQoJ2luZm8nLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCclYycgKyBtZXNzYWdlLCAnYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCByZ2IoMTQ5LDIwMiwwKTsgYmFja2dyb3VuZDpyZ2JhKDE0OSwyMDIsMCwuMSk7IHBhZGRpbmc6IDRweCAxMHB4OyBjb2xvcjpyZ2IoMTQ5LDIwMiwwKScpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5uZWdhdGl2ZSA9IGZ1bmN0aW9uIChkYXRhLCBtZXNzYWdlLCBzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgIGlmICghd2FybmluZ3MuZ2V0KCkpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IEdldE1lc3NhZ2UoZGF0YSwgbWVzc2FnZSwgc291cmNlKTtcclxuICAgICAgICAgICAgICAgIFJlc29sdmVFdmVudCgnaW5mbycsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJyVjJyArIG1lc3NhZ2UsICdib3JkZXItbGVmdDogMnB4IHNvbGlkIHJnYigyMjQsMTQsMCk7IGJhY2tncm91bmQ6cmdiYSgyMjQsMTQsMCwuMSk7IHBhZGRpbmc6IDRweCAxMHB4OyBjb2xvcjogcmdiKDIyNCwxNCwwKScpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5ncm91cCA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXdhcm5pbmdzLmdldCgpKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50TGV2ZWwgPj0gZ3JvdXBMZXZlbC5nZXQoKSA/IGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQobWVzc2FnZSkgOiBjb25zb2xlLmdyb3VwKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudExldmVsKys7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBFbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXdhcm5pbmdzLmdldCgpKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50TGV2ZWwtLTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMi8yLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlKFxyXG4gICAgWydAQ2FudmFzJywgJ0NhbnZhcycsICdAVGlja2VyJywgJyRGaW5kZXInLFxyXG4gICAgICAgIGZ1bmN0aW9uIERpc3BhdGNoZXIoQ2FudmFzUm9vdCwgQ2FudmFzLCBUaWNrZXIsIEZpbmRlcikge1xyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXM6IG51bGxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtb3VzZWRvd24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXM6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY3Vyc29yID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG9sZDogWzAsIDBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IFswLCAwXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRyYWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFswLCAwXSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGVsdGE6IFswLCAwXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNoZWNrZWQgPSB0cnVlLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBmb2N1c2VkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBkcmFnZ2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBDYW52YXMub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghYWN0aXZlIHx8ICFmb2N1c2VkKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBtb3VzZWRvd24ucHJldmlvdXMgPSBtb3VzZWRvd24uY3VycmVudDtcclxuICAgICAgICAgICAgICAgIG1vdXNlZG93bi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIENhbnZhcy5vbignbW91c2V1cCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghYWN0aXZlIHx8ICFmb2N1c2VkKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBtb3VzZWRvd24ucHJldmlvdXMgPSBtb3VzZWRvd24uY3VycmVudDtcclxuICAgICAgICAgICAgICAgIG1vdXNlZG93bi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBjaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBDYW52YXMub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFjdGl2ZSB8fCAhZm9jdXNlZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY3Vyc29yLmN1cnJlbnRbMF0gPSBlLm1vdXNlLnBvc2l0aW9uWzBdO1xyXG4gICAgICAgICAgICAgICAgY3Vyc29yLmN1cnJlbnRbMV0gPSBlLm1vdXNlLnBvc2l0aW9uWzFdO1xyXG4gICAgICAgICAgICAgICAgY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIENhbnZhcy5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGZvY3VzZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBDYW52YXMub24oJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBmb2N1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBEZWZhdWx0UkV2ZW50KHR5cGUsIHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF90eXBlID0gdHlwZSwgcHJvcGFnYXRlID0gdHJ1ZSwgX3RhcmdldCA9IHRhcmdldCwgX29yaWdpbmFsVGFyZ2V0ID0gdGFyZ2V0O1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3R5cGU7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0ZSA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGFnYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wYWdhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3BhZ2F0ZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RhcmdldDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BhZ2F0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RhcmdldC4kJFBST1BBR0FUSU9OU0VBUkNIID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gX29yaWdpbmFsVGFyZ2V0LiQkUFJPUEFHQVRJT05TRUFSQ0g7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF90YXJnZXQuJCRQUk9QQUdBVElPTlNFQVJDSDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0ID8gcmVzdWx0IDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbFRhcmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kJE1PVVNFUFJPUEFHQVRJT05TRVRURVIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gZ2V0RXZlbnRCeVR5cGUoX3R5cGUsIF90YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5vcmlnaW5hbFRhcmdldC5jYWxsKHskJFJFU0VUVEFSR0VUOiB0aGlzLiQkTU9VU0VQUk9QQUdBVElPTlNFVFRFUn0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiQkUkVTRVRUQVJHRVQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RhcmdldCA9IHRoaXMuJCRSRVNFVFRBUkdFVDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9vcmlnaW5hbFRhcmdldDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIE1vdXNlRXZlbnQodHlwZSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBEZWZhdWx0UkV2ZW50LmFwcGx5KHRoaXMsIFt0eXBlLCB0YXJnZXRdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gW2N1cnNvci5jdXJyZW50WzBdLCBjdXJzb3IuY3VycmVudFsxXV07XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBEcmFnRXZlbnQodHlwZSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBEZWZhdWx0UkV2ZW50LmFwcGx5KHRoaXMsIFt0eXBlLCB0YXJnZXRdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhZyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydDogW2RyYWcuc3RhcnRbMF0sIGRyYWcuc3RhcnRbMV1dLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IFtkcmFnLmN1cnJlbnRbMF0sIGRyYWcuY3VycmVudFsxXV0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGVsdGE6IFtkcmFnLmRlbHRhWzBdLCBkcmFnLmRlbHRhWzFdXVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5mcmVlemUodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEV2ZW50QnlUeXBlKHR5cGUsIHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdtb3VzZW1vdmUnIHx8IHR5cGUgPT09ICdtb3VzZWxlYXZlJ1xyXG4gICAgICAgICAgICAgICAgICAgIHx8IHR5cGUgPT09ICdtb3VzZWVudGVyJyB8fCB0eXBlID09PSAnbW91c2Vkb3duJ1xyXG4gICAgICAgICAgICAgICAgICAgIHx8IHR5cGUgPT09ICdtb3VzZXVwJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTW91c2VFdmVudCh0eXBlLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdkcmFnc3RhcnQnIHx8IHR5cGUgPT09ICdkcmFnZW5kJyB8fCB0eXBlID09PSAnZHJhZ21vdmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEcmFnRXZlbnQodHlwZSwgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gRGlzcGF0Y2goZXZlbnQsIHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldE1vdXNlID0gdGFyZ2V0LmV4dGVuc2lvbignTW91c2UnKTtcclxuICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0TW91c2UpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0TW91c2UuaGFzRXZlbnQoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0TW91c2UucmVzb2x2ZSh0YXJnZXQsIGV2ZW50LCBnZXRFdmVudEJ5VHlwZShldmVudCwgdGFyZ2V0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlc29sdmVFdmVudEJ5VHlwZSh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHR5cGUgPT09ICdtb3VzZWVudGVyJyB8fCB0eXBlID09PSAnZHJhZ3N0YXJ0JyB8fCB0eXBlID09PSAnZHJhZ2VuZCcgfHwgdHlwZSA9PT0gJ2RyYWdtb3ZlJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPT09ICdtb3VzZW1vdmUnIHx8IHR5cGUgPT09ICdtb3VzZXVwJyB8fCB0eXBlID09PSAnbW91c2Vkb3duJykgJiYgdGFyZ2V0LmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBEaXNwYXRjaCh0eXBlLCB0YXJnZXQuY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHR5cGUgPT09ICdtb3VzZWxlYXZlJyB8fCB0eXBlID09PSAnZHJhZ2VuZCcpICYmIHRhcmdldC5wcmV2aW91cykge1xyXG4gICAgICAgICAgICAgICAgICAgIERpc3BhdGNoKHR5cGUsIHRhcmdldC5wcmV2aW91cyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlc29sdmVEcmFnU3RhcnQoKSB7XHJcbiAgICAgICAgICAgICAgICBkcmFnZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGRyYWcuc3RhcnRbMF0gPSBjdXJzb3IuY3VycmVudFswXTtcclxuICAgICAgICAgICAgICAgIGRyYWcuc3RhcnRbMV0gPSBjdXJzb3IuY3VycmVudFsxXTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnZHJhZ3N0YXJ0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlc29sdmVEcmFnRW5kKCkge1xyXG4gICAgICAgICAgICAgICAgZHJhZy5jdXJyZW50WzBdID0gY3Vyc29yLmN1cnJlbnRbMF07XHJcbiAgICAgICAgICAgICAgICBkcmFnLmN1cnJlbnRbMV0gPSBjdXJzb3IuY3VycmVudFsxXTtcclxuICAgICAgICAgICAgICAgIGRyYWcuZGVsdGFbMF0gPSBkcmFnLnN0YXJ0WzBdIC0gZHJhZy5jdXJyZW50WzBdO1xyXG4gICAgICAgICAgICAgICAgZHJhZy5kZWx0YVsxXSA9IGRyYWcuc3RhcnRbMV0gLSBkcmFnLmN1cnJlbnRbMV07XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRCeVR5cGUoJ2RyYWdlbmQnKTtcclxuICAgICAgICAgICAgICAgIGRyYWdnZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gRGlzcGF0Y2hFdmVudHMoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobW91c2Vkb3duLmN1cnJlbnQgIT09IG1vdXNlZG93bi5vbGQgJiYgbW91c2Vkb3duLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRCeVR5cGUoJ21vdXNlZG93bicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG1vdXNlZG93bi5jdXJyZW50ICYmIG1vdXNlZG93bi5jdXJyZW50ICE9PSBtb3VzZWRvd24ub2xkICYmICFkcmFnZ2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZURyYWdTdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnNvci5vbGRbMF0gIT09IGN1cnNvci5jdXJyZW50WzBdIHx8IGN1cnNvci5vbGRbMV0gIT09IGN1cnNvci5jdXJyZW50WzFdKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY3VycmVudCAmJiAhdGFyZ2V0LnByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnbW91c2VlbnRlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldC5jdXJyZW50ICYmIHRhcmdldC5wcmV2aW91cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRCeVR5cGUoJ21vdXNlbGVhdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZURyYWdFbmQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5jdXJyZW50ICYmIHRhcmdldC5wcmV2aW91cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuY3VycmVudC4kJE1PVVNFU0VBUkNIID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQucHJldmlvdXMuJCRNT1VTRVNFQVJDSCkgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRhcmdldC5jdXJyZW50LiQkTU9VU0VTRUFSQ0g7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlRHJhZ0VuZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdtb3VzZWxlYXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRCeVR5cGUoJ21vdXNlZW50ZXInKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVEcmFnU3RhcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAobW91c2Vkb3duLmN1cnJlbnQgJiYgbW91c2Vkb3duLmN1cnJlbnQgPT09IG1vdXNlZG93bi5vbGQgJiYgZHJhZ2dlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnLmN1cnJlbnRbMF0gPSBjdXJzb3IuY3VycmVudFswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZy5jdXJyZW50WzFdID0gY3Vyc29yLmN1cnJlbnRbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWcuZGVsdGFbMF0gPSBkcmFnLnN0YXJ0WzBdIC0gZHJhZy5jdXJyZW50WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnLmRlbHRhWzFdID0gZHJhZy5zdGFydFsxXSAtIGRyYWcuY3VycmVudFsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdkcmFnbW92ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAobW91c2Vkb3duLmN1cnJlbnQgPT09IG1vdXNlZG93bi5vbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdtb3VzZW1vdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIW1vdXNlZG93bi5jdXJyZW50ICYmIG1vdXNlZG93bi5jdXJyZW50ICE9PSBtb3VzZWRvd24ub2xkICYmIGRyYWdnZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlRHJhZ0VuZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFtb3VzZWRvd24uY3VycmVudCAmJiBtb3VzZWRvd24uY3VycmVudCAhPT0gbW91c2Vkb3duLm9sZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnbW91c2V1cCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRyYWdnZWQgPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRhcmdldC5wcmV2aW91cyA9IHRhcmdldC5jdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgbW91c2Vkb3duLm9sZCA9IG1vdXNlZG93bi5jdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgY3Vyc29yLm9sZFswXSA9IGN1cnNvci5jdXJyZW50WzBdO1xyXG4gICAgICAgICAgICAgICAgY3Vyc29yLm9sZFsxXSA9IGN1cnNvci5jdXJyZW50WzFdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVUYXJnZXRzKCkge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnByZXZpb3VzID0gdGFyZ2V0LmN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuY3VycmVudCA9IEZpbmRlci5jaGVjayhjdXJzb3IuY3VycmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciB0aWNrID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBldmVudERpc3BhdGNoZXJUaWNrKCkge1xyXG4gICAgICAgICAgICAgICAgdGljayA9ICF0aWNrO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRpY2spIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIFVwZGF0ZVRhcmdldHMoKTtcclxuICAgICAgICAgICAgICAgICAgICBEaXNwYXRjaEV2ZW50cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBDYW52YXNSb290LnF1ZXVlKC0xLCBldmVudERpc3BhdGNoZXJUaWNrKTtcclxuXHJcbiAgICAgICAgICAgIFRpY2tlci5vbignc3RhcnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgVGlja2VyLm9uKCdzdG9wJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBUaWNrZXIub24oJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIkUi5zZXJ2aWNlKFsnQGluamVjdCcsICdEZWJ1ZycsIGZ1bmN0aW9uIEV2ZW50cyhpbmplY3QsIERlYnVnKSB7XHJcblxyXG4gICAgdGhpcy5lbWl0dGVyID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0Lm9uID09PSBcImZ1bmN0aW9uXCIgJiYgdGFyZ2V0Lm9uLiQkRU1JVFRFUlBST1RFQ1RFRCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5vbi5jYWxsKHskJEVNSVRURVJQUk9URUNURURDT05URVhUOiB0cnVlfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGluamVjdCgnJEV2ZW50RW1pdHRlcicpLmRlY29yYXRlKHRhcmdldCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3R5cGU6IHR5cGVvZiB0YXJnZXR9LCAnVW5hYmxlIHRvIGNyZWF0ZSBFdmVudEVtaXR0ZXIuIEludmFsaWQgdGFyZ2V0IHt0eXBlfSBmb3IgZW1pdHRlci4nLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhpcy5ldmVudCA9IGZ1bmN0aW9uICh0eXBlLCB0YXJnZXQsIG1ldGhvZHMpIHtcclxuICAgICAgICByZXR1cm4gaW5qZWN0KCckRXZlbnQnKS5pbml0KHR5cGUsIHRhcmdldCwgbWV0aG9kcyk7XHJcbiAgICB9XHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNS8xMS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZShcclxuICAgIFsnQFRpY2tlcicsICdDYW52YXMnLCAnQGluamVjdCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gS2V5Ym9hcmQoVGlja2VyLCBDYW52YXMsIGluamVjdCwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBjYWxsYmFja3MgPSB7fSxcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZW5hYmxlZCA9IHRydWUsXHJcbiAgICAgICAgICAgICAgICBmb2N1c2VkID0gdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHF1ZXVlID0gW107XHJcblxyXG4gICAgICAgICAgICB0aGlzLmtleWRvd24gPSBmdW5jdGlvbiAoY29kZSwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub24oY29kZSwgJ2tleWRvd24nLCBmdW5jKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMua2V5dXAgPSBmdW5jdGlvbiAoY29kZSwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub24oY29kZSwgJ2tleXVwJywgZnVuYyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBlbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub24gPSBmdW5jdGlvbiAoY29kZSwgZXZlbnQsIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29kZSA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgZXZlbnQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT09ICdrZXl1cCcgfHwgZXZlbnQgPT09ICdrZXlkb3duJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFja3NbY29kZV0pIGNhbGxiYWNrc1tjb2RlXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFja3NbZXZlbnRdKSBjYWxsYmFja3NbY29kZV1bZXZlbnRdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbY29kZV1bZXZlbnRdLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdFdmVudCBjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudH0sICdObyBzdWNoIHR5cGUgb2YgZXZlbnQgYXMgW3tlfV0nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtjOiBjb2RlfSwgJ1dyb25nIGtleSBjb2RlIFt7Y31dJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIE9uQXBwVGljaygpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZVtpXSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcXVldWUgPSBbXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0UXVldWVGdW5jKGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleWNvZGUgPSBlLmtleUNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrc1trZXljb2RlXSAmJiBjYWxsYmFja3Nba2V5Y29kZV1bZS50eXBlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrc1trZXljb2RlXVtlLnR5cGVdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBpbmplY3QoJyRLZXlib2FyZEV2ZW50JykuYnVpbGQoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3Nba2V5Y29kZV1bZS50eXBlXVtpXS5hcHBseShldmVudCwgW2tleWNvZGUsIGUudHlwZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgY2FudmFzQ2xpY2tlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgQ2FudmFzLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjYW52YXNDbGlja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbnZhc0NsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb2N1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvY3VzZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhbnZhc0NsaWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFjdGl2ZSB8fCAhZW5hYmxlZCB8fCAhZm9jdXNlZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgcXVldWUucHVzaChnZXRRdWV1ZUZ1bmMoZSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghYWN0aXZlIHx8ICFlbmFibGVkIHx8ICFmb2N1c2VkKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGdldFF1ZXVlRnVuYyhlKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgVGlja2VyLnF1ZXVlKDAsIE9uQXBwVGljayk7XHJcbiAgICAgICAgICAgIFRpY2tlci5vbignc3RhcnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgVGlja2VyLm9uKCdzdG9wJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNS8xMS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnS2V5Ym9hcmQnLFxyXG4gICAgW1xyXG4gICAgICAgIGZ1bmN0aW9uIEtleWJvYXJkRXZlbnQoKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIga2V5Y29kZSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBjdHJsUHJlc3NlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgYWx0UHJlc3NlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2hpZnRQcmVzc2VkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBldmVudCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgdHlwZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGtleWNvZGUgPSBlLmtleUNvZGU7XHJcbiAgICAgICAgICAgICAgICBjdHJsUHJlc3NlZCA9IGUuY3RybEtleTtcclxuICAgICAgICAgICAgICAgIGFsdFByZXNzZWQgPSBlLmFsdEtleTtcclxuICAgICAgICAgICAgICAgIHNoaWZ0UHJlc3NlZCA9IGUuc2hpZnRLZXk7XHJcbiAgICAgICAgICAgICAgICBldmVudCA9IGU7XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gZS50eXBlO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuYnVpbGQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RyaW5nID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZSA9PT0gc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSAgcmV0dXJuIHR5cGU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5Y29kZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2hpZnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hpZnRQcmVzc2VkO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmFsdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbHRQcmVzc2VkO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmN0cmwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3RybFByZXNzZWQ7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMub3JpZ2luYWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQ7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZShcclxuICAgIFsnQGluamVjdCcsICcrRWFzaW5nJywgJ0BDYW52YXMnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIE1vcnBoaW5lKGluamVjdCwgRWFzaW5ncywgQ2FudmFzLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIG1vcnBoaW5lcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2soc3RhcnQsIGVuZCwgZnVuYywgZWFzaW5nLCBkdXJhdGlvbiwgcnB0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN0YXJ0ICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBlbmQgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7fSwgJ01vcnBoaW5lIC8gVW5hYmxlIHRvIGNyZWF0ZS4gU3RhcnQgdmFsdWUgaXMgaW52YWxpZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt9LCAnTW9ycGhpbmUgLyBVbmFibGUgdG8gY3JlYXRlLiBFbmQgdmFsdWUgaXMgaW52YWxpZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVhc2luZyAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt9LCAnTW9ycGhpbmUgLyBVbmFibGUgdG8gY3JlYXRlLiBFYXNpbmcgaXMgbm90IGEgc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgIGR1cmF0aW9uICE9PSBcIm51bWJlclwiIHx8IGR1cmF0aW9uIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7fSwgJ01vcnBoaW5lIC8gVW5hYmxlIHRvIGNyZWF0ZS4gRHVyYXRpb24gaXMgbGVzcyB0aGFuIDAgb3Igbm90IGEgbnVtYmVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBlZnVuYyA9IEVhc2luZ3MuZ2V0KGVhc2luZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFlZnVuYykge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtlYXNpbmc6IGVhc2luZ30sICcgTW9ycGhpbmUgLyBVbmFibGUgdG8gY3JlYXRlLiBObyBzdWNoIGVhc2luZyB7ZWFzaW5nfScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBlZnVuYztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGZ1bmN0aW9uIChzdGFydCwgZW5kLCBmdW5jLCBlYXNpbmcsIGR1cmF0aW9uLCBycHQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSBjaGVjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBtb3JwaGluZSA9IGluamVjdCgnJE1vcnBoaW5lJyksXHJcbiAgICAgICAgICAgICAgICAgICAgdGlja0YgPSBtb3JwaGluZS5jb25maWcoc3RhcnQsIGVuZCwgZnVuYywgZHVyYXRpb24sIGVhc2luZywgcnB0KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aWNrRi5tb3JwaGluZSA9IG1vcnBoaW5lO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdGlja0YgfHwgdHlwZW9mIHRpY2tGICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7fSwgJ1VuYWJsZSB0byBjb25maWcgbW9ycGhpbmUgZHVlIHRvIHNvbWUgY29uZmlnIGVycm9yLicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRpY2tGO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgZnVuYywgZWFzaW5nLCBkdXJhdGlvbiwgcnB0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgZWFzaW5nID0gY2hlY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbW9ycGhpbmUgPSBpbmplY3QoJyRNb3JwaGluZScpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0aWNrRiA9IG1vcnBoaW5lLmNvbmZpZyhzdGFydCwgZW5kLCBmdW5jLCBkdXJhdGlvbiwgZWFzaW5nLCBycHQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdGlja0YgfHwgdHlwZW9mIHRpY2tGICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7fSwgJ01vcnBoaW5lIC8gVW5hYmxlIHRvIGNvbmZpZyBtb3JwaGluZS4gRHVlIHRvIHNvbWUgZXJyb3IuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRpY2tGLiRtID0gbW9ycGhpbmU7XHJcblxyXG4gICAgICAgICAgICAgICAgbW9ycGhpbmVzLnB1c2godGlja0YpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBtb3JwaGluZTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBDYW52YXMucXVldWUoLTIsIGZ1bmN0aW9uIHByb2Nlc3NNb3JwaGluZXMoY29udGV4dCwgZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBkYXRlLmdldFRpbWUoKSxcclxuICAgICAgICAgICAgICAgICAgICBfbW9ycGhpbmVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb3JwaGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1vcnBoaW5lc1tpXS4kbS5kb25lKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGhpbmVzW2ldKGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfbW9ycGhpbmVzLnB1c2gobW9ycGhpbmVzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtb3JwaGluZXMgPSBfbW9ycGhpbmVzO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG5cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BleHRlbmQnLCAnQGluamVjdCcsICc8UGx1Z2lucycsXHJcbiAgICAgICAgZnVuY3Rpb24gR3JhcGhpY3MoZXh0ZW5kLCBpbmplY3QsIHBsdWdpbnMpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciB0eXBlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHJlc29sdmVkX3BsdWdpbnMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXh0ZW5zaW9uID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlZF9wbHVnaW5zW25hbWVdO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy50eXBlID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdHIgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZSA9PT0gc3RyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRlZmluZSA9IGZ1bmN0aW9uICh0LCBpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0ICE9PSBcInN0cmluZ1wiKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGVmaW5lO1xyXG5cclxuICAgICAgICAgICAgICAgIHR5cGUgPSB0O1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gcGx1Z2lucy5saXN0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdE9iamVjdFR5cGUnKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkX3BsdWdpbnNbbGlzdFtpXV0gPSBpbmplY3QoJyRQbHVnaW4nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlZF9wbHVnaW5zW2xpc3RbaV1dLmRlZmluZU9iamVjdCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKHJlc29sdmVkX3BsdWdpbnNbbGlzdFtpXV0sICc8JyArIGxpc3RbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNvbHZlZF9wbHVnaW5zW2xpc3RbaV1dLm1hdGNoVHlwZSh0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlZF9wbHVnaW5zW2xpc3RbaV1dLndyYXAodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlc29sdmVkX3BsdWdpbnNbbGlzdFtpXV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoaWQpIHRoaXMuaWQoaWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJCcgKyB0ICsgJ09iamVjdE1vZGVsJyk7XHJcbiAgICAgICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0RHJhd2VyJyk7XHJcbiAgICAgICAgICAgICAgICBleHRlbmQodGhpcywgJyQnICsgdCArICdPYmplY3REcmF3ZXInKTtcclxuXHJcbiAgICAgICAgICAgICAgICBleHRlbmQodGhpcywgJyQnICsgdCArICdPYmplY3RDbGFzcycpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHByb3AsIGVtaWl0ZXIgPSB0aGlzLmV2ZW50cztcclxuICAgICAgICAgICAgICAgIHRoaXMudW5tb3VudCgpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChwcm9wIGluIHJlc29sdmVkX3BsdWdpbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZWRfcGx1Z2lucy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlZF9wbHVnaW5zW3Byb3BdLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlc29sdmVkX3BsdWdpbnNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yIChwcm9wIGluIHRoaXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1twcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRfcGx1Z2lucyA9IHVuZGVmaW5lZDsgdHlwZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmV2ZW50cztcclxuICAgICAgICAgICAgICAgIGVtaWl0ZXIucmVzb2x2ZSgnZGVzdHJveScsIG51bGwsIG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UoXHJcbiAgICBbJ0BpbmplY3QnLCAnVHJlZScsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gT2JqZWN0cyhpbmplY3QsIFRyZWUsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBJbmplY3RCeVR5cGUodHlwZSwgY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWQgPSBjb25maWdbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBpbmplY3QoJyRHcmFwaGljcycpLmRlZmluZSh0eXBlLCBpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRyZWUucm9vdCgpLmFwcGVuZChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlnWzFdKSByZXN1bHQuc3R5bGUoY29uZmlnWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgRGVidWcuZXJyb3Ioe3Q6IHR5cGV9LCAnSWQgaXMgZW1wdHkuIFVuYWJsZSB0byBjcmVhdGUgW3RdJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgRGVidWcuZXJyb3Ioe3Q6IHR5cGV9LCAnSWQgaXMgbm90IGEgc3RyaW5nLiBVbmFibGUgdG8gY3JlYXRlIFt0XScpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5qZWN0KCckR3JhcGhpY3MnKS5kZWZpbmUodHlwZSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdyb3VwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnR3JvdXAnLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5saW5lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnTGluZScsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSW5qZWN0QnlUeXBlKCdSZWN0YW5nbGUnLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jaXJjbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSW5qZWN0QnlUeXBlKCdDaXJjbGUnLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbWFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBJbmplY3RCeVR5cGUoJ0ltYWdlJywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnU3ByaXRlJywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBJbmplY3RCeVR5cGUoJ1RleHQnLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hcmVhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnQXJlYScsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBUcmVlLnJvb3QoaW5qZWN0KCckR3JhcGhpY3MnKS5kZWZpbmUoJ0dyb3VwJywgJ3Jvb3QnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZShcclxuICAgIFsnQENhbnZhcycsICdAaW5qZWN0JywgJ0RlYnVnJywgJ0BDb25maWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFJlc291cmNlKENhbnZhcywgaW5qZWN0LCBEZWJ1ZywgQ29uZmlnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgYWxsID0gW10sXHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgSW1hZ2VSZXNvdXJjZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIFNwcml0ZVJlc291cmNlczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgRm9udFJlc291cmNlczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgQXVkaW9SZXNvdXJjZXM6IFtdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbG9hZENvdW50ZXIgPSAwLFxyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBsb2FkZXJNb2RlID0gJ2F1dG8nO1xyXG5cclxuICAgICAgICAgICAgQ29uZmlnLmRlZmluZSgnbG9hZGVyTW9kZScsICdhdXRvJywge2lzU3RyaW5nOiB0cnVlfSkud2F0Y2goZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIGxvYWRlck1vZGUgPSB2ID09PSAnbWFudWFsJyB8fCB2ID09PSAnYXV0bycgPyB2IDogJ2F1dG8nO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFJlc291cmNlQnlVUkwodHlwZSwgc2VhcmNoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2ZvbnQnKSBzZWFyY2ggPSBzZWFyY2hbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXkgPSBjb250YWluZXJbdHlwZSArICdzJ107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFhcnJheSkgcmV0dXJuIHJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5W2ldLnVybCgpID09PSBzZWFyY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gYXJyYXlbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBpbmplY3RCeVR5cGUodHlwZSwgc3JjKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXhpc3RlZCA9IGdldFJlc291cmNlQnlVUkwodHlwZSwgc3JjKTtcclxuICAgICAgICAgICAgICAgIGlmIChleGlzdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4aXN0ZWQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfdHlwZSA9IHR5cGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBpbmplY3QoJyQnICsgdHlwZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZENvdW50ZXIrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZUV2ZW50KCdsb2FkJywgW3RoaXMsIGxvYWRDb3VudGVyLCBhbGwubGVuZ3RoXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZENvdW50ZXIrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZUV2ZW50KCdlcnJvcicsIFt0aGlzLCBsb2FkQ291bnRlciwgYWxsLmxlbmd0aF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQudXJsKHNyYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcltfdHlwZSArICdzJ10ucHVzaChyZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhbGwucHVzaChyZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihsb2FkZXJNb2RlID09PSAnYXV0bycpIHJlc3VsdC5sb2FkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFJlc29sdmVFdmVudCgnYWRkJywgW3Jlc3VsdCwgbG9hZENvdW50ZXIsIGFsbC5sZW5ndGhdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5pbWFnZSA9IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbmplY3RCeVR5cGUoJ0ltYWdlUmVzb3VyY2UnLCBzcmMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5qZWN0QnlUeXBlKCdTcHJpdGVSZXNvdXJjZScsIHNyYyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvID0gZnVuY3Rpb24gKHNyYykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluamVjdEJ5VHlwZSgnQXVkaW9SZXNvdXJjZScsIHNyYyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvbnQgPSBmdW5jdGlvbiAoc3JjLCB3ZWlnaHQsIHN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5qZWN0QnlUeXBlKCdmb250JywgW3NyYywgd2VpZ2h0LCBzdHlsZV0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYobG9hZGVyTW9kZSA9PT0gJ21hbnVhbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwIDsgaSA8IGFsbC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxbaV0ubG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjQkNvbnRhaW5lciA9IHtcclxuICAgICAgICAgICAgICAgIGxvYWQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IFtdLFxyXG4gICAgICAgICAgICAgICAgYWRkOiBbXVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbiA9IGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IGNCQ29udGFpbmVyW2V2ZW50XTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtldmVudDogZXZlbnR9LCAnVW5hYmxlIHRvIHNldCBldmVudCBbe2V2ZW50fV0gY2FsbGJhY2suIGZ1bmMgaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtldmVudDogZXZlbnR9LCAnVW5hYmxlIHRvIHNldCBldmVudCBbe2V2ZW50fV0uIE5vIHN1Y2ggZXZlbnQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1VuYWJsZSB0byBzZXQgZXZlbnQgY2FsbGJhY2suIEV2ZW50IG5hbWUgaXMgbm90IGEgc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9mZiA9IGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IGNCQ29udGFpbmVyW2V2ZW50XTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuYXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmMuJCRTRUFSQ0ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXJyYXlbaV0uJCRTRUFSQ0gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFycmF5LnB1c2goYXJyYXlbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZ1bmMuJCRTRUFSQ0g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjQkNvbnRhaW5lcltldmVudF0gPSBuYXJyYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtldmVudDogZXZlbnR9LCAnVW5hYmxlIHRvIHVuc2V0IGNhbGxiYWNrIGZvciBldmVudCBbe2V2ZW50fV0uIE5vIHN1Y2ggZXZlbnQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1VuYWJsZSB0byB1bnNldCBldmVudC4gRXZlbnQgaXMgbm90IGEgc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsIDogYWxsLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICBsb2FkZWQgOiBsb2FkQ291bnRlclxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmxpc3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW10uY29uY2F0KGNvbnRhaW5lci5JbWFnZVJlc291cmNlcykuY29uY2F0KGNvbnRhaW5lci5BdWRpb1Jlc291cmNlcykuY29uY2F0KGNvbnRhaW5lci5Gb250UmVzb3VyY2VzKS5jb25jYXQoY29udGFpbmVyLlNwcml0ZVJlc291cmNlcyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBSZXNvbHZlRXZlbnQodHlwZSwgZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gY0JDb250YWluZXJbdHlwZV07XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFycmF5KSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2ldLmFwcGx5KHNlbGYsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVJlc291cmNlcyhjYW52YXMsIGRhdGUpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVyLlNwcml0ZVJlc291cmNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIuU3ByaXRlUmVzb3VyY2VzW2ldLnJlYWR5KCkgJiYgY29udGFpbmVyLlNwcml0ZVJlc291cmNlc1tpXS5sb2FkZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuU3ByaXRlUmVzb3VyY2VzW2ldLnRpY2soZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBDYW52YXMucXVldWUoLTIsIHVwZGF0ZVJlc291cmNlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzE2LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlKFxyXG4gICAgWydAQXVkaW8nLCAnQGluamVjdCcsICdAQ29uZmlnJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBTb3VuZChjb250ZXh0LCBpbmplY3QsIGNvbmZpZywgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIGNvbmZpZy5kZWZpbmUoJ2ZpbHRlcnMnLCBbJ0RlbGF5JywgJ0dhaW4nXSwge2lzQXJyYXk6IHRydWV9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IGluamVjdCgnJEF1ZGlvJykuYnVpbGQoJyQkREVTVElOQVRJT04nLCAnZGVzdGluYXRpb24nKSxcclxuICAgICAgICAgICAgICAgIHNvdW5kcyA9IHt9LFxyXG4gICAgICAgICAgICAgICAgc291bmRjb3VudCA9IDAsXHJcbiAgICAgICAgICAgICAgICBjaGFubmVsY291bnQgPSAwLFxyXG4gICAgICAgICAgICAgICAgY2hhbm5lbHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCRERVNUSU5BVElPTjogZGVzdGluYXRpb25cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5zYW1wbGUgPSBmdW5jdGlvbiAodXJsLCBjaGFubmVsLCBuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHVybCA9PT0gXCJzdHJpbmdcIiAmJiB1cmwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VuZHNbdXJsXSkgcmV0dXJuIHNvdW5kc1t1cmxdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIiB8fCBuYW1lLmxlbmd0aCA9PT0gMCkgbmFtZSA9ICdVc2VyU291bmRbJyArIHNvdW5kY291bnQgKyAnXSc7XHJcbiAgICAgICAgICAgICAgICAgICAgc291bmRjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBpbmplY3QoJyRBdWRpbycpLmJ1aWxkKG5hbWUsIHVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGFubmVsICE9PSBcInN0cmluZ1wiIHx8IGNoYW5uZWwubGVuZ3RoID09PSAwKSBjaGFubmVsID0gJyQkREVTVElOQVRJT04nO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvdXQgPSB0aGlzLmNoYW5uZWwoY2hhbm5lbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmNvbm5lY3Qob3V0KTtcclxuICAgICAgICAgICAgICAgICAgICBzb3VuZHNbcmVzdWx0LnVybCgpXSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dXJsOiB1cmx9LCAnW3t1cmx9XSBpcyBub3QgdmFsaWQgYXVkaW8gdXJsIG9yIGVtcHR5LicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jaGFubmVsID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbHNbbmFtZV0pIHJldHVybiBjaGFubmVsc1tuYW1lXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGluamVjdCgnJEF1ZGlvJykuYnVpbGQobmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5jb25uZWN0KGRlc3RpbmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsc1tuYW1lXSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsY291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jaGFubmVscyA9IGZ1bmN0aW9uIChieXVybCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpc3QgPSB7fSxcclxuICAgICAgICAgICAgICAgICAgICBieXVybCA9ICEhYnl1cmw7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgY2hhbm5lbCBpbiBjaGFubmVscykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVscy5oYXNPd25Qcm9wZXJ0eShjaGFubmVsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbCAhPT0gJyQkREVTVElOQVRJT04nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnl1cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0W2NoYW5uZWwudXJsKCldID0gY2hhbm5lbFtjaGFubmVsXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RbY2hhbm5lbF0gPSBjaGFubmVsc1tjaGFubmVsXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNvdW5kcyA9IGZ1bmN0aW9uIChieXVybCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpc3QgPSB7fSxcclxuICAgICAgICAgICAgICAgICAgICBieXVybCA9ICEhYnl1cmw7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc291bmRzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChieXVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFtwcm9wXSA9IHNvdW5kc1twcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Rbc291bmRzW3Byb3BdLm5hbWUoKV0gPSBzb3VuZHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5uZWxzLiQkREVTVElOQVRJT047XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIiRSLnNlcnZpY2UoWydAaW5qZWN0JywgJ0RlYnVnJywgZnVuY3Rpb24gU3RhdGVzKGluamVjdCwgRGVidWcpIHtcclxuXHJcbiAgICB0aGlzLmNvbnRhaW5lciA9IGZ1bmN0aW9uICh0YXJnZXQsIGVtaXR0ZXIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldC5pcyA9PT0gXCJmdW5jdGlvblwiICYmIHRhcmdldC5pcy4kJFNUQVRFU1BST1RFQ1RFRCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRDb250YWluZXIgPSB0YXJnZXQuaXMuY2FsbCh7JFNUQVRFU1BST1RFQ1RFRENPTlRFWFQ6IHRydWV9KTtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5pcy5jYWxsKHskU1RBVEVTUFJPVEVDVEVESEFTRU1JVFRFUlNFVDogdHJ1ZX0sIGVtaXR0ZXIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRDb250YWluZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGluamVjdCgnJFN0YXRlJykuZGVjb3JhdGUodGFyZ2V0LCBlbWl0dGVyKTtcclxuICAgICAgICB9IGVsc2UgRGVidWcuZXJyb3IoJ1N0YXRlcyB0YXJnZXQgaXMgbm90IGFuIG9iamVjdCcsIHRoaXMpO1xyXG4gICAgfVxyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZShcclxuICAgIFsnRGVidWcnLCAnQENhbnZhcycsICdAQ29uZmlnJyxcclxuICAgICAgICBmdW5jdGlvbiBUcmVlKERlYnVnLCBDYW52YXMsIENvbmZpZykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHJvb3QgPSBudWxsLCByb290RHJhd2VyID0gbnVsbCwgcm9vdFN0eWxlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGNsZWFyID0gQ29uZmlnLmRlZmluZSgnY2xlYXInLCBmYWxzZSwge2lzQm9vbDogdHJ1ZX0pLndhdGNoKGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXIgPSB2O1xyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cyA9IHt9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIgPSBmdW5jdGlvbiAob2JqZWN0LCBuZXdfaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvYmplY3QuY29uc3RydWN0b3IubmFtZSA9PT0gJ0dyYXBoaWNzJyAmJiBvYmplY3QuaWQgJiYgdHlwZW9mIG9iamVjdC5pZCA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdfaWQgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gb2JqZWN0LmlkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaWQgPT09IFwic3RyaW5nXCIgJiYgaWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnRzW2lkXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzW2lkXSA9IG9iamVjdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBEZWJ1Zy5lcnJvcih7aWQ6IG9iamVjdC5pZCgpfSwgJ1VuYWJsZSB0byByZWdpc3RlciBHcmFwaGljcyBbaWRdLiBFbGVtZW50IGFscmVhZHkgZXhpc3RzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBEZWJ1Zy5lcnJvcignVW5hYmxlIHRvIHJlZ2lzdGVyIEdyYXBoaWNzIHdpdGggbm8gaWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5ld19pZCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzW29iamVjdC5pZCgpXSkgZGVsZXRlIGVsZW1lbnRzW29iamVjdC5pZCgpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHNbbmV3X2lkXSA9IGVsZW1lbnRzW25ld19pZF0gPSBvYmplY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIERlYnVnLmVycm9yKCdVbmFibGUgdG8gc2V0IG5ldyBpZC4gbmV3X2lkIGFyZ3VtZW50IGlzIG5vdCBhIHZhbGlkIHN0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIERlYnVnLmVycm9yKHt0OiB0eXBlb2Ygb2JqZWN0fSwgJ1VuYWJsZSB0byByZWdpc3RlciBbdF0uIEFyZ3VtZW50IGlzIG5vdCBHcmFwaGljcycpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMudW5yZWdpc3RlciA9IGZ1bmN0aW9uIChvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIGlmKCFvYmplY3QuaWQoKSkgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgIGlmKGVsZW1lbnRzW29iamVjdC5pZCgpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBlbGVtZW50c1tvYmplY3QuaWQoKV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudHNbaWRdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFyb290KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvYmplY3QudHlwZSB8fCB0eXBlb2Ygb2JqZWN0LnR5cGUgIT09IFwiZnVuY3Rpb25cIiB8fCBvYmplY3QudHlwZSgpICE9PSAnR3JvdXAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtvYmplY3Q6IG9iamVjdC5jb25zdHJ1Y3RvciwgdHlwZSA6IHR5cGVvZiBvYmplY3QudHlwZSAhPT0gXCJmdW5jdGlvblwiID8gb2JqZWN0LnR5cGUoKSA6ICd1bmtub3duVHlwZSd9LCAnVW5hYmxlIHRvIHNldCB0cmVlIHJvb3QgYXMge29iamVjdH17dHlwZX0uIE9iamVjdCBpcyBub3QgYSBncm91cC4nLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByb290ID0gb2JqZWN0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZHJhd2VyID0gcm9vdC5leHRlbnNpb24oJ0RyYXdlcicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRyYXdlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7b2JqZWN0IDogb2JqZWN0LnR5cGUoKX0sICd7b2JqZWN0fSBoYXMgbm8gZHJhd2VyIGV4dGVuc2lvbicsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZHJhd2VyLmRyYXcgfHwgdHlwZW9mIGRyYXdlci5kcmF3ICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe29iamVjdCA6IG9iamVjdC50eXBlKCl9LCAne29iamVjdH0gaW5jb21wYXRpYmxlIGRyYXdlciBleHRlbnNpb24nLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcm9vdERyYXdlciA9IGRyYXdlcjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcm9vdFN0eWxlID0gcm9vdC5leHRlbnNpb24oJ1N0eWxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvb3Q7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm9vdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gZHJhd0dyYXBoaWNzVHJlZShjb250ZXh0LCBkYXRlLCBmcmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyb290IHx8ICFyb290RHJhd2VyKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xlYXIpIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNvbnRleHQuY2FudmFzLm9mZnNldFdpZHRoLCBjb250ZXh0LmNhbnZhcy5vZmZzZXRIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgcm9vdERyYXdlci5kcmF3LmFwcGx5KHJvb3QsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgQ2FudmFzLnF1ZXVlKDAsIGRyYXdHcmFwaGljc1RyZWUpO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5wbHVnaW4uY2xhc3MoJ09iamVjdHMnLCAnQW5pbWF0aW9uJyxcclxuICAgIFsnK0FuaW1hdGlvbicsICdNb3JwaGluZScsXHJcbiAgICAgICAgZnVuY3Rpb24gQW5pbWF0aW9uKEFuaW1hdGlvbkhlbHBlciwgTW9ycGhpbmUpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBwcm9ncmVzcyA9IDAsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgZG9uZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc3RhY2sgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgbW9ycGhpbmUgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHN0ZXBzQ2IgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgcXVldWUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY2xlYXIgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3RlcFR5cGVTdHIgPSAndHlwZScsXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZVR5cGVTdHIgPSAnY29tcGxldGUnLFxyXG4gICAgICAgICAgICAgICAgY29uZmlnID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFJlc29sdmUodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IHN0ZXBUeXBlU3RyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RlcHNDYi5oYXNPd25Qcm9wZXJ0eShzdGFja1tpXS5tb3JwaC5wcm9wZXJ0eSgpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcHNDYltzdGFja1tpXS5tb3JwaC5wcm9wZXJ0eSgpXS5hcHBseSh0YXJnZXQsIFtwcm9ncmVzcywgc3RhY2tbaV0ucmVzdWx0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSBjb21wbGV0ZVR5cGVTdHIpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0cyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0c1tzdGFja1tpXS5tb3JwaC5wcm9wZXJ0eSgpXSA9IHN0YWNrW2ldLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmRvbmUoMSwgcmVzdWx0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kb25lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhhc1Byb3BlcnR5ID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKSA9PSBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydGllcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2goc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuaGFzUHJvcGVydHkocHJvcGVydHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGluZGV4IC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2suc3BsaWNlKGluZGV4LCAxKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YWNrID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIF9zdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9ycGggPSBzdGFja1tpXS5tb3JwaC5nZXQoc3RhY2tbaV0udmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAobW9ycGggIT09IHVuZGVmaW5lZCAmJiBtb3JwaC5zdGFydCgpICE9PSBmYWxzZSAmJiBtb3JwaC5lbmQoKSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3N0YWNrLnB1c2goc3RhY2tbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzdGFjayA9IF9zdGFjaztcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdGlja19mdW5jdGlvbiA9IEFuaW1hdGlvbkhlbHBlci5nZXRUaWNrRnVuY3Rpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICBtb3JwaGluZSA9IE1vcnBoaW5lLmNyZWF0ZSgwLCAxLCBmdW5jdGlvbiAoY29tcGxldGUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvbHZlKGNvbXBsZXRlVHlwZVN0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoaW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrW2ldLnJlc3VsdCA9IHRpY2tfZnVuY3Rpb24odmFsdWUsIGNvbXBsZXRlLCBzdGFja1tpXS5tb3JwaC5zdGFydCgpLCBzdGFja1tpXS5tb3JwaC5lbmQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFja1tpXS5tb3JwaC5hcHBseShjb21wbGV0ZSwgc3RhY2tbaV0ucmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZShzdGVwVHlwZVN0cik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGUgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc29sdmUoY29tcGxldGVUeXBlU3RyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBlYXNpbmcsIGR1cmF0aW9uLCAwKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKHQsIG0sIGNmZywgZikge1xyXG4gICAgICAgICAgICAgICAgQW5pbWF0aW9uSGVscGVyLm5vcm1hbGl6ZUNvbmZpZyhjZmcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gY2ZnLmR1cmF0aW9uO1xyXG5cclxuICAgICAgICAgICAgICAgIGVhc2luZyA9IGNmZy5lYXNpbmc7XHJcblxyXG4gICAgICAgICAgICAgICAgc3RlcHNDYiA9IGNmZy5zdGVwO1xyXG5cclxuICAgICAgICAgICAgICAgIHF1ZXVlID0gY2ZnLnF1ZXVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNsZWFyID0gZjtcclxuXHJcbiAgICAgICAgICAgICAgICBzdGFjayA9IG07XHJcblxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdDtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25maWcgPSBjZmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5wbHVnaW4uY2xhc3MoJ09iamVjdHMnLCAnQW5pbWF0aW9uJyxcclxuICAgIFsnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIE1vcnBoKERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc2V0dGVyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGdldHRlciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBhcHBsaWVyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHN0YXJ0LCBlbmQsXHJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG9yZGVyaW5nID0gMDtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFNldFN0YXJ0VmFsdWUodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydCA9IHZhbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gU2V0RW5kVmFsdWUodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBlbmQgPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbmQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb3BlcnR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3BlcnR5O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vcmRlcmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcmRlcmluZztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBzZXR0ZXIuYXBwbHkob2JqZWN0LCBbU2V0U3RhcnRWYWx1ZSwgU2V0RW5kVmFsdWUsIHZhbHVlXSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudmFsaWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFwcGx5ID0gZnVuY3Rpb24gKHByb2dyZXNzLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0LnN0eWxlKHByb3BlcnR5LCBhcHBsaWVyLmFwcGx5KG9iamVjdCwgW3ZhbHVlLCBwcm9ncmVzc10pKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKG5hbWUsIG9iaiwgb3JkLCBzZXQsIGFwbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnMSBbe25hbWV9XSBpcyBub3QgYSBzdHJpbmchJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmczIGlzIG5vdCBhbiBvYmplY3QhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXQgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ1VuYWJsZSB0byBjb25maWcgTW9ycGguIGFyZzQgaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcmQgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmcyIGlzIG5vdCBhIG51bWJlciEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFwbCAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnNSBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvcGVydHkgPSBuYW1lO1xyXG4gICAgICAgICAgICAgICAgc2V0dGVyID0gc2V0O1xyXG4gICAgICAgICAgICAgICAgYXBwbGllciA9IGFwbDtcclxuICAgICAgICAgICAgICAgIG9yZGVyaW5nID0gb3JkO1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gb2JqO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzcvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbi5jbGFzcygnT2JqZWN0cycsXHJcbiAgICAnQm94JyxcclxuICAgIFtmdW5jdGlvbiBCb3goKSB7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHtcclxuICAgICAgICAgICAgICAgIHNpemU6IFswLCAwXSxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgMF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3ByaXRlID0ge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luOiBbMCwgMCwgMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIDBdLFxyXG4gICAgICAgICAgICAgICAgc2l6ZTogWzAsIDBdXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc2l6ZTogW2NvbnRhaW5lci5zaXplWzBdLCBjb250YWluZXIuc2l6ZVsxXV0sXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogW2NvbnRhaW5lci5wb3NpdGlvblswXSwgY29udGFpbmVyLnBvc2l0aW9uWzFdXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXQgPSBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0KSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zaXplWzBdID0gd2lkdGg7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zaXplWzFdID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICBjb250YWluZXIucG9zaXRpb25bMF0gPSB4O1xyXG4gICAgICAgICAgICBjb250YWluZXIucG9zaXRpb25bMV0gPSB5O1xyXG4gICAgICAgICAgICBzcHJpdGUubWFyZ2luWzBdID0gdG9wO1xyXG4gICAgICAgICAgICBzcHJpdGUubWFyZ2luWzFdID0gcmlnaHQ7XHJcbiAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bMl0gPSBib3R0b207XHJcbiAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bM10gPSBsZWZ0O1xyXG4gICAgICAgICAgICBzcHJpdGUuc2l6ZVswXSA9IGxlZnQgKyB3aWR0aCArIHJpZ2h0O1xyXG4gICAgICAgICAgICBzcHJpdGUuc2l6ZVsxXSA9IHRvcCArIGhlaWdodCArIGJvdHRvbTtcclxuICAgICAgICAgICAgc3ByaXRlLnBvc2l0aW9uWzBdID0geCAtIGxlZnQ7XHJcbiAgICAgICAgICAgIHNwcml0ZS5wb3NpdGlvblsxXSA9IHkgLSB0b3A7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3ByaXRlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgfV1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMy8yOC8yMDE3LlxyXG4gKi9cclxuJFIucGx1Z2luLmNsYXNzKCdPYmplY3RzJywgJ1RleHQnLFxyXG4gICAgWydAZXh0ZW5kJywgJ0BpbmplY3QnLCAnK0RyYXdlcicsXHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dExpbmVDbGFzcyhleHRlbmQsIGluamVjdCwgRHJhd2VySGVscGVyKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJFRleHRFbGVtZW50Q2xhc3MnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IDAsXHJcbiAgICAgICAgICAgICAgICB3b3JkcyA9IFtdLFxyXG4gICAgICAgICAgICAgICAgc3BhY2UgPSBpbmplY3QoJyRUZXh0U3BhY2VDbGFzcycpLFxyXG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gMCxcclxuICAgICAgICAgICAgICAgIHdpZHRoVXBkYXRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0V2lkdGgoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAod2lkdGhVcGRhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gd29yZHNbaV0ud2lkdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGhVcGRhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIERyYXdlckhlbHBlci5tZWFzdXJlVGV4dChnZXRXaWR0aClcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlbmd0aDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud29yZHMgPSBmdW5jdGlvbiAoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcnJheSAmJiB0eXBlb2YgYXJyYXkgPT09IFwib2JqZWN0XCIgJiYgYXJyYXkuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3Jkcy5wdXNoKGFycmF5W2ldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2l6ZSh0aGlzLnNpemUoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5oZWlnaHQodGhpcy5oZWlnaHQoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSh0aGlzLnN0eWxlKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAud2VpZ2h0KHRoaXMud2VpZ2h0KCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY29sb3IodGhpcy5jb2xvcigpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvbnQodGhpcy5mb250KCkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoID0gd29yZHMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfYXJyID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYXJyLnB1c2god29yZHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BlcnR5Q2hhbmdlZCgnc3RyaW5nJywgX2Fycik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB3aWR0aFVwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdvcmRzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wdXNoID0gZnVuY3Rpb24gKHdvcmQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh3b3Jkcy5sZW5ndGggPiAwKSB3b3Jkcy5wdXNoKHNwYWNlKTtcclxuICAgICAgICAgICAgICAgIHdvcmRzLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgd29yZC5zaXplKHRoaXMuc2l6ZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuaGVpZ2h0KHRoaXMuaGVpZ2h0KCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSh0aGlzLnN0eWxlKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC53ZWlnaHQodGhpcy53ZWlnaHQoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNvbG9yKHRoaXMuY29sb3IoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZvbnQodGhpcy5mb250KCkpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgd2lkdGhVcGRhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RyaW5nID0gJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSB3b3Jkc1tpXS5zdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uUHJvcGVydHlDaGFuZ2UoZnVuY3Rpb24gKHByb3BlcnR5LCB2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBzcGFjZVtwcm9wZXJ0eV0odmFsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMy8yOC8yMDE3LlxyXG4gKi9cclxuJFIucGx1Z2luLmNsYXNzKCdPYmplY3RzJywgJ1RleHQnLFxyXG4gICAgWydAZXh0ZW5kJywgJytEcmF3ZXInLFxyXG4gICAgICAgIGZ1bmN0aW9uIFRleHRTcGFjZUNsYXNzKGV4dGVuZCwgRHJhd2VySGVscGVyKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJFRleHRFbGVtZW50Q2xhc3MnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSAnICcsXHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IDAsXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFdpZHRoKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IHNlbGYuZXh0cmFjdEZvbnRTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0Lm1lYXN1cmVUZXh0KHN0cmluZykud2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIERyYXdlckhlbHBlci5tZWFzdXJlVGV4dChnZXRXaWR0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjgvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbi5jbGFzcygnT2JqZWN0cycsICdUZXh0JyxcclxuICAgIFsnK0NvbG9yJyxcclxuICAgICAgICBmdW5jdGlvbiBUZXh0RWxlbWVudENsYXNzKENvbG9ySGVscGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBjb2xvciA9ICdyZ2JhKDAsMCwwLDEpJyxcclxuICAgICAgICAgICAgICAgIGZvbnQgPSAnc2Fucy1zZXJpZicsXHJcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0ID0gNDAwLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemUgPSAxNCxcclxuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQgPSAxNCxcclxuICAgICAgICAgICAgICAgIGZvbnRTdHlsZSA9ICdub3JtYWwnLFxyXG4gICAgICAgICAgICAgICAgY2IgPSBbXSxcclxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZShwcm9wZXJ0eSwgdmFsKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNiLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2JbaV0uYXBwbHkoc2VsZiwgW3Byb3BlcnR5LCB2YWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zaXplID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsIDwgMCkgdmFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZSA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdzaXplJywgZm9udFNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvbnRTaXplO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPCAwKSB2YWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnaGVpZ2h0JywgbGluZUhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGluZUhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2VpZ2h0ID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsIDwgMTAwKSB2YWwgPSAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA+IDkwMCkgdmFsID0gOTAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwgJSAxMDAgIT09IDApIHZhbCA9IHZhbCAtICh2YWwgJSAxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnd2VpZ2h0JywgZm9udFdlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9udFdlaWdodDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9udCA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiICYmIHZhbC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udCA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdmb250JywgZm9udCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9udDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29sb3IgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvciA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnY29sb3InLCBjb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdHlsZSA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwgPT09ICdub3JtYWwnIHx8IHZhbCA9PT0gJ2l0YWxpYycgfHwgdmFsID09PSAnb2JsaXF1ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb250U3R5bGUgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnc3R5bGUnLCBmb250U3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvbnRTdHlsZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXh0cmFjdEZvbnRTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9udFN0eWxlICsgJyAnICsgZm9udFNpemUgKyAncHggXCInICsgZm9udCArICctJyArIGZvbnRXZWlnaHQgKyAnXCInO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vblByb3BlcnR5Q2hhbmdlID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2IucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHlDaGFuZ2VkID0gZnVuY3Rpb24gKG5hbWUsIHZhbCkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShuYW1lLCB2YWwpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMy8yNi8yMDE3LlxyXG4gKi9cclxuJFIucGx1Z2luLmNsYXNzKCdPYmplY3RzJywgJ1RleHQnLFxyXG4gICAgWycrQ29sb3InLCAnQGV4dGVuZCcsICcrRHJhd2VyJyxcclxuICAgICAgICBmdW5jdGlvbiBUZXh0V29yZENsYXNzKENvbG9ySGVscGVyLCBleHRlbmQsIERyYXdlckhlbHBlcikge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckVGV4dEVsZW1lbnRDbGFzcycpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0cmluZyA9ICcnLFxyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0cmluZyA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcGVydHlDaGFuZ2VkKCdzdHJpbmcnLCB2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFdpZHRoKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IHNlbGYuZXh0cmFjdEZvbnRTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0Lm1lYXN1cmVUZXh0KHN0cmluZykud2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gRHJhd2VySGVscGVyLm1lYXN1cmVUZXh0KGdldFdpZHRoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLmRyYXcgPSBmdW5jdGlvbiAoY29udGV4dCwgeCwgeSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB4ICE9PSBcIm51bWJlclwiKSB4ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeSAhPT0gXCJudW1iZXJcIikgeSA9IDA7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5jb2xvcigpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5mb250ID0gdGhpcy5leHRyYWN0Rm9udFN0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dChzdHJpbmcsIHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMi8yLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdEaXNwYXRjaGVyJyxcclxuICAgIFsnVHJlZScsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gRmluZGVyKFRyZWUsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjaGVja0VsZW1lbnQoZSwgY3Vyc29yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS50eXBlKCkgPT09ICdHcm91cCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZS5leHRlbnNpb24oJ01vdXNlJykuY2hlY2soZSwgY3Vyc29yKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzID0gZS5leHRlbnNpb24oJ0xheWVycycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcl9yZXN1bHQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZGlzYWJsZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHlwZSgpID09PSAnR3JvdXAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJfcmVzdWx0ID0gY2hlY2tFbGVtZW50KHRoaXMsIGN1cnNvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyX3Jlc3VsdCkgcmVzdWx0ID0gbGF5ZXJfcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcl9yZXN1bHQgPSB0aGlzLmV4dGVuc2lvbignTW91c2UnKS5jaGVjayh0aGlzLCBjdXJzb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXllcl9yZXN1bHQpIHJlc3VsdCA9IGxheWVyX3Jlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNoZWNrID0gZnVuY3Rpb24gKGN1cnNvcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJvb3QgPSBUcmVlLnJvb3QoKTtcclxuICAgICAgICAgICAgICAgIGlmICghcm9vdCkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGN1cnNvciAhPT0gXCJvYmplY3RcIiB8fCBjdXJzb3IuY29uc3RydWN0b3IgIT09IEFycmF5IHx8IGN1cnNvci5sZW5ndGggIT09IDIgfHwgdHlwZW9mIGN1cnNvclswXSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgY3Vyc29yWzFdICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7YzogY3Vyc29yfSwgJ3tjfSBpcyBub3QgYSB2YWxpZCBjdXJzb3IgdmFsdWUuJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hlY2tFbGVtZW50KHJvb3QsIGN1cnNvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiJFIuc2VydmljZS5jbGFzcygnRXZlbnRzJywgWydEZWJ1ZycsIGZ1bmN0aW9uIEV2ZW50KERlYnVnKSB7XHJcblxyXG4gICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgdHlwZTogdW5kZWZpbmVkLFxyXG4gICAgICAgIHByb3BzOiB7fSxcclxuICAgICAgICB0YXJnZXQ6IG51bGwsXHJcbiAgICAgICAgZXZlbnRfdGltZSA6IG5ldyBEYXRlKClcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5pbml0ID0gZnVuY3Rpb24gKHR5cGUsIHRhcmdldCwgbWV0aG9kcykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBkYXRhLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgZGF0YS50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1ldGhvZHMgPT09IFwib2JqZWN0XCIgJiYgbWV0aG9kcy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1ldGhvZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXRob2RzW2ldLm5hbWUgPT09IFwic3RyaW5nXCIgJiYgbWV0aG9kc1tpXS5uYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShtZXRob2RzW2ldLm5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1ttZXRob2RzW2ldLm5hbWVdID0gbWV0aG9kc1tpXS5iaW5kKHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbWV0aG9kc1tpXS5uYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ0R1cGxpY2F0ZWQgbWV0aG9kIHtuYW1lfSBmb3IgZXZlbnQge3R5cGV9LicsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3R5cGU6IHR5cGV9LCAnVW5hYmxlIHRvIGNyZWF0ZSBtZXRob2QgZm9yIGV2ZW50IG9iamVjdCB7dHlwZX0uIE1ldGhvZCBtdXN0IGJlIGEgbmFtZWQgZnVuY3Rpb24uJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1ldGhvZHMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWV0aG9kcy5uYW1lID09IFwic3RyaW5nXCIgJiYgbWV0aG9kcy5uYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KG1ldGhvZHNbaV0ubmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbbWV0aG9kcy5uYW1lXSA9IG1ldGhvZHMuYmluZCh0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbWV0aG9kcy5uYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAnRHVwbGljYXRlZCBtZXRob2Qge25hbWV9IGZvciBldmVudCB7dHlwZX0uJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7dHlwZTogdHlwZX0sICdVbmFibGUgdG8gY3JlYXRlIG1ldGhvZCBmb3IgZXZlbnQgb2JqZWN0IHt0eXBlfS4gTWV0aG9kIGZ1bmN0aW9uIG11c3QgYmUgYSBuYW1lZCBmdW5jdGlvbi4nLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZW9mIHRhcmdldCxcclxuICAgICAgICAgICAgICAgICAgICB2YWw6IHRhcmdldFxyXG4gICAgICAgICAgICAgICAgfSwgJ0ludmFsaWQgRXZlbnQgdGFyZ2V0IHt0eXBlfXt2YWwuIE11c3QgYmUgYW4gb2JqZWN0fScsIHRoaXMpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBEZWJ1Zy5lcnJvcih7dHlwZTogdHlwZW9mIHR5cGUsIHZhbDogdHlwZX0sICdJbnZhbGlkIHR5cGUgb2YgZXZlbnQuIHt0eXBlfXt2YWx9LiBNdXN0IGJlIHN0cmluZy4gJywgdGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkZWxldGUgdGhpcy5pbml0O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnRpbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGRhdGEuZXZlbnRfdGltZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnRhcmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gZGF0YS50YXJnZXQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudHlwZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gZGF0YS50eXBlO1xyXG4gICAgfTtcclxuXHJcbn1dKTsiLCIkUi5zZXJ2aWNlLmNsYXNzKCdFdmVudHMnLCBbJ0RlYnVnJywgJ0BpbmplY3QnLCBmdW5jdGlvbiBFdmVudEVtaXR0ZXIoRGVidWcsIGluamVjdCkge1xyXG5cclxuICAgIHZhciBldmVudHMgPSB7fSxcclxuICAgICAgICBldmVudF9zdHJpbmdfcmVnZXhwID0gL1tBLVphLXotMC05XSsvZyxcclxuICAgICAgICBlbWl0dGVyID0gdGhpcztcclxuXHJcbiAgICBmdW5jdGlvbiBhZGRDYWxsYmFjayh0YXJnZXQsIGV2ZW50LCBvbmNlLCBjYikge1xyXG4gICAgICAgIGlmIChldmVudHMuaGFzT3duUHJvcGVydHkoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2IgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9uY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudHNbZXZlbnRdLm9uY2UucHVzaChjYik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50c1tldmVudF0ucHVzaChjYik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNiID09PSBcIm9iamVjdFwiICYmIGNiLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZENhbGxiYWNrKHRhcmdldCwgZXZlbnQsIG9uY2UsIGNiW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlb2YgY2IsXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50XHJcbiAgICAgICAgICAgICAgICB9LCAnQ2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24uIFVuYWJsZSB0byBiaW5kIGNhbGxiYWNrIHt0eXBlfSB0byBldmVudCB7ZXZlbnR9LicsIHRhcmdldClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIERlYnVnLmVycm9yKHtldmVudDogZXZlbnR9LCAnRXZlbnQgbm90IGZvdW5kLiBVbmFibGUgdG8gYmluZCBjYWxsYmFja1tzXSB0byBldmVudCB7ZXZlbnR9LicsIHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUNhbGxiYWNrKHRhcmdldCwgZXZlbnQsIGNiKSB7XHJcbiAgICAgICAgaWYgKGV2ZW50cy5oYXNPd25Qcm9wZXJ0eShldmVudCkpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2NsZWFyQ2JBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHNbZXZlbnRdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFldmVudHNbZXZlbnRdW2ldID09PSBjYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xlYXJDYkFycmF5LnB1c2goZXZlbnRzW2V2ZW50XVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX2NsZWFyQ2JBcnJheS5tZXRob2RzID0gZXZlbnRzW2V2ZW50XS5tZXRob2RzO1xyXG4gICAgICAgICAgICAgICAgX2NsZWFyQ2JBcnJheS5vbmNlID0gZXZlbnRzW2V2ZW50XS5vbmNlO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzW2V2ZW50XSA9IF9jbGVhckNiQXJyYXk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNiID09PSBcIm9iamVjdFwiICYmIGNiLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgY2kgPSAwOyBjaSA8IGNiLmxlbmd0aDsgY2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUNhbGxiYWNrKHRhcmdldCwgZXZlbnQsIGNiW2NpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7dHlwZTogdHlwZW9mIGNifSwgJ0NhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uLiB7dHlvZX0gaXMgbm90IGEgZnVuY3Rpb24nLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7ZXZlbnQ6IGV2ZW50fSwgJ0V2ZW50IG5vdCBmb3VuZC4gVW5hYmxlIHRvIHVuYmluZCB7ZXZlbnR9IGNhbGxiYWNrLiAnLCB0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXNvbHZlRXZlbnQodGFyZ2V0LCBldmVudCwgZXZlbnRfdGFyZ2V0LCBwYXlsb2FkKSB7XHJcbiAgICAgICAgaWYgKGV2ZW50cy5oYXNPd25Qcm9wZXJ0eShldmVudCkpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudF90YXJnZXQgIT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50X3RhcmdldCA9IHRhcmdldDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGV2ZW50X29iamVjdCA9IGluamVjdCgnJEV2ZW50Jyk7XHJcblxyXG4gICAgICAgICAgICBwYXlsb2FkID0gcGF5bG9hZCAhPT0gbnVsbCAmJiB0eXBlb2YgcGF5bG9hZCA9PT0gXCJvYmplY3RcIiAmJiBwYXlsb2FkLmNvbnN0cnVjdG9yID09PSBBcnJheSA/IHBheWxvYWQgOiBbcGF5bG9hZF07XHJcblxyXG4gICAgICAgICAgICBwYXlsb2FkLnVuc2hpZnQoZXZlbnRfb2JqZWN0KTtcclxuXHJcbiAgICAgICAgICAgIGV2ZW50X29iamVjdC5pbml0KGV2ZW50LCBldmVudF90YXJnZXQsIGV2ZW50c1tldmVudF0ubWV0aG9kcyk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50c1tldmVudF0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50c1tldmVudF1baV0uYXBwbHkoZXZlbnRfdGFyZ2V0LCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aGlsZSAoZXZlbnRzW2V2ZW50XS5vbmNlWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudHNbZXZlbnRdLm9uY2VbMF0uYXBwbHkoZXZlbnRfdGFyZ2V0LCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50c1tldmVudF0ub25jZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe2V2ZW50OiBldmVudH0sICdFdmVudCB7ZXZlbnR9IG5vdCBmb3VuZC4gVW5hYmxlIHRvIHJlc29sdmUgZXZlbnQnLCB0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRlY29yYXRlID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICB0YXJnZXQub24gPSBmdW5jdGlvbiAoZXZlbnQsIGNiKSB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLiQkRU1JVFRFUlBST1RFQ1RFRENPTlRFWFQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW1pdHRlcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT09IFwic3RyaW5nXCIgJiYgZXZlbnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzID0gZXZlbnQubWF0Y2goZXZlbnRfc3RyaW5nX3JlZ2V4cCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRjaGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRDYWxsYmFjayh0YXJnZXQsIG1hdGNoZXNbaV0sIGZhbHNlLCBjYik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7ZXZlbnRzOiBldmVudH0sICdJbnZhbGlkIGV2ZW50IG5hbWUgdmFsdWUuIFVuYWJsZSB0byBzdWJzY3JpYmUgdG8gZXZlbnRbc10ge2V2ZW50c30uJywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRhcmdldC5vbi4kJEVNSVRURVJQUk9URUNURUQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgdGFyZ2V0Lm9uY2UgPSBmdW5jdGlvbiAoZXZlbnQsIGNiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09PSBcInN0cmluZ1wiICYmIGV2ZW50Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IGV2ZW50Lm1hdGNoKGV2ZW50X3N0cmluZ19yZWdleHApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkQ2FsbGJhY2sodGFyZ2V0LCBtYXRjaGVzW2ldLCB0cnVlLCBjYik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7ZXZlbnRzOiBldmVudH0sICdJbnZhbGlkIGV2ZW50IG5hbWUgdmFsdWUuIFVuYWJsZSB0byBzdWJzY3JpYmUgdG8gZXZlbnRbc10ge2V2ZW50c30uJywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0YXJnZXQub2ZmID0gZnVuY3Rpb24gKGV2ZW50LCBjYikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIiAmJiBldmVudC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBldmVudC5tYXRjaChldmVudF9zdHJpbmdfcmVnZXhwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hdGNoZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNhbGxiYWNrKHRhcmdldCwgbWF0Y2hlc1tpXSwgY2IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZXZlbnQ6IGV2ZW50fSwgJ1VuYWJsZSB0byB1bmJpbmQgY2FsbGJhY2tbc10gZnJvbSBldmVudFtzXSB7ZXZlbnR9LiBJbnZhbGlkIGV2ZW50IG5hbWUnLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQub24uYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbmNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0Lm9uY2UuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vZmYgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQub2ZmLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJveHkgPSBmdW5jdGlvbiAoZm9yZWlnbl9lbWl0dGVyLCBldmVudCwgZm9yZWlnbl9ldmVudCwgcGF5bG9hZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbihldmVudCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcmVpZ25fZW1pdHRlci5yZXNvbHZlKGZvcmVpZ25fZXZlbnQsIHBheWxvYWQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlc29sdmUgPSBmdW5jdGlvbiAoZXZlbnQsIHBheWxvYWQsIGV2ZW50X3RhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIiAmJiBldmVudC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBldmVudC5tYXRjaChldmVudF9zdHJpbmdfcmVnZXhwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWV2ZW50X3RhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRfdGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50KHRhcmdldCwgbWF0Y2hlc1tpXSwgZXZlbnRfdGFyZ2V0LCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtldmVudDogZXZlbnR9LCAnVW5hYmxlIHRvIHJlc29sdmUgZXZlbnQge2V2ZW50fS4gSW52YWxpZCBldmVudCBuYW1lJywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyID0gZnVuY3Rpb24gKGV2ZW50LCBtZXRob2RzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBldmVudC5tYXRjaChldmVudF9zdHJpbmdfcmVnZXhwKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIG0gPSAwIDsgbSA8IG1hdGNoZXMubGVuZ3RoOyBtKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFldmVudHMuaGFzT3duUHJvcGVydHkobWF0Y2hlc1ttXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50c1ttYXRjaGVzW21dXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzW21hdGNoZXNbbV1dLm9uY2UgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1ldGhvZHMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50c1ttYXRjaGVzW21dXS5tZXRob2RzID0gW21ldGhvZHNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWV0aG9kcyA9PT0gXCJvYmplY3RcIiAmJiBtZXRob2RzLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50c1ttYXRjaGVzW21dXS5tZXRob2RzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWV0aG9kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1ldGhvZHNbaV0gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzW21hdGNoZXNbbV1dLm1ldGhvZHMucHVzaChtZXRob2RzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtldmVudDogbWF0Y2hlc1ttXX0sICdEdXBsaWNhdGUgZXZlbnQgbmFtZS4gVW5hYmxlIHRvIGNyZWF0ZSBldmVudCB7ZXZlbnR9LiBFdmVudCBhbHJlYWR5IGV4aXN0cy4nLCB0YXJnZXQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhhc0V2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gISFldmVudHNbZXZlbnRdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNsZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZXZlbnQgaW4gZXZlbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1tldmVudF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5kZWNvcmF0ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3R5cGU6IHRhcmdldH0sICdVbmFibGUgdG8gZGVjb3JhdGUgb2JqZWN0IHt0eXBlfS4gVGFyZ2V0IGlzIG5vdCBhbiBvYmplY3QuJywgdGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH07XHJcblxyXG5cclxufV0pO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ01vcnBoaW5lJywgW1xyXG4gICAgICAgIGZ1bmN0aW9uIE1vcnBoaW5lKCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGVhc2luZyA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IDEsXHJcbiAgICAgICAgICAgICAgICByZXBlYXQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHJlcGVhdENvdW50ID0gMSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgZnVuYyA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdGFydCA9IDAsXHJcbiAgICAgICAgICAgICAgICBlbmQgPSAwO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kb25lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBhdXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGF1c2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhdXNlZDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gMCxcclxuICAgICAgICAgICAgICAgIHBhdXNlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZG9uZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVGljayh0aW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF1c2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIChkdXJhdGlvbiAqIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YXJ0X3RpbWUpIHN0YXJ0X3RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MgPSAodGltZSAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb247XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcyA+IDEpIHByb2dyZXNzID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXBlYXQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVwZWF0Q291bnQgPiAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXBlYXRDb3VudCAhPT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmMuYXBwbHkobnVsbCwgW3Byb2dyZXNzLCBlYXNpbmcoKHRpbWUgLSBzdGFydF90aW1lKSAvIDEwMDAsIHN0YXJ0LCBlbmQgLSBzdGFydCwgZHVyYXRpb24gLyAxMDAwKSwgc3RhcnRfdGltZV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGZ1bmN0aW9uIChzLCBlLCBmLCBkdXIsIGVhc2UsIHJwdCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcyAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgZSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgZHVyICE9PSBcIm51bWJlclwiIHx8IGR1ciA8IDApIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVhc2UgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJwdCA9PT0gXCJudW1iZXJcIikgcmVwZWF0ID0gcnB0O1xyXG5cclxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gcztcclxuICAgICAgICAgICAgICAgIGVuZCA9IGU7XHJcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSBlYXNlO1xyXG4gICAgICAgICAgICAgICAgZnVuYyA9IGY7XHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IGR1ciA+IDAgPyBkdXIgOiAxO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbmZpZztcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gVGljaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTAvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLCBbZnVuY3Rpb24gQ2FudmFzKCkge1xyXG5cclxuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSxcclxuICAgICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG4gICAgdmFyIHcgPSAwLCBoID0gMDtcclxuXHJcbiAgICB0aGlzLmNvbnRleHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgdyA9IHZhbHVlO1xyXG4gICAgICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHc7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmhlaWdodCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBoID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGg7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmV4cG9ydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY2FudmFzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY2FudmFzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGNvbnRleHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdyA9IHVuZGVmaW5lZDsgaCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBmb3IodmFyIHByb3AgaW4gdGhpcykge1xyXG4gICAgICAgICAgICBpZih0aGlzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1twcm9wXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzcvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLCBbJ0BpbmplY3QnLCAnRGVidWcnLCBmdW5jdGlvbiBHcmFwaGljc0Fzc2VtYmxlcihpbmplY3QsIERlYnVnKSB7XHJcblxyXG4gICAgdmFyIG91dHB1dCA9IGluamVjdCgnJENhbnZhcycpLFxyXG4gICAgICAgIGNvbnRleHQgPSBvdXRwdXQuY29udGV4dCgpLFxyXG4gICAgICAgIHBpcGUgPSBbXSxcclxuICAgICAgICBsYXllcnMgPSB7fSxcclxuICAgICAgICB3ID0gMCxcclxuICAgICAgICBoID0gMCxcclxuICAgICAgICBib3hFeHQgPSBudWxsLFxyXG4gICAgICAgIHJlc2l6ZWQgPSBmYWxzZSxcclxuICAgICAgICByZWFkeSA9IGZhbHNlO1xyXG5cclxuICAgIGZ1bmN0aW9uIFNldFNpemUod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGlwZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBwaXBlW2ldLnNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG91dHB1dC53aWR0aCh3aWR0aCk7XHJcbiAgICAgICAgb3V0cHV0LmhlaWdodChoZWlnaHQpO1xyXG4gICAgICAgIHcgPSB3aWR0aDtcclxuICAgICAgICBoID0gaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbXBvc2UoKSB7XHJcbiAgICAgICAgaWYgKCFyZXNpemVkKSB7XHJcbiAgICAgICAgICAgIGlmIChib3hFeHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzcHJpdGUgPSBib3hFeHQuYm94KCkuc3ByaXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3ByaXRlLnNpemVbMF0gIT09IHcgfHwgc3ByaXRlLnNpemVbMV0gIT09IGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBTZXRTaXplKHNwcml0ZS5zaXplWzBdLCBzcHJpdGUuc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzaXplZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcmVhZHkpIHtcclxuICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdywgaCk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGlwZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcGlwZVtpXS5kcmF3KGNvbnRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlYWR5ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dC5leHBvcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmxheWVyID0gZnVuY3Rpb24gKG9yZGVyLCBuYW1lLCB1cGRhdGVGdW5jKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcmRlciAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBEZWJ1Zy53YXJuKHtvOiBvcmRlcn0sICdJbnZhbGlkIG9yZGVyIGFyZ3VtZW50IFt7b31dIGlzIG5vdCBhIG51bWJlci4nKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7bjogbmFtZX0sICdbe259XSBpcyBub3QgdmFsaWQgbmFtZSBmb3IgbGF5ZXInKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZUZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBEZWJ1Zy53YXJuKCd1cGRhdGVGdW5jIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsYXllcnNbbmFtZV0gPSBpbmplY3QoJyRHcmFwaGljc0Fzc2VtYmxlckxheWVyJyk7XHJcbiAgICAgICAgbGF5ZXJzW25hbWVdLmYodXBkYXRlRnVuYyk7XHJcbiAgICAgICAgbGF5ZXJzW25hbWVdLm9yZGVyaW5nKG9yZGVyKTtcclxuICAgICAgICBsYXllcnNbbmFtZV0udXBkYXRlKCk7XHJcbiAgICAgICAgcGlwZS5wdXNoKGxheWVyc1tuYW1lXSk7XHJcbiAgICAgICAgcGlwZS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLm9yZGVyaW5nKCkgLSBiLm9yZGVyaW5nKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZWFkeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gcmVhZHk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuYm94ID0gZnVuY3Rpb24gKGJveFByb3ZpZGVyKSB7XHJcbiAgICAgICAgYm94RXh0ID0gYm94UHJvdmlkZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgaWYgKHdpZHRoICE9PSB3IHx8IGhlaWdodCAhPT0gaCkge1xyXG4gICAgICAgICAgICBTZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICByZWFkeSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy53aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdztcclxuICAgIH07XHJcbiAgICB0aGlzLmhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gaDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZXNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmVzaXplZCA9IGZhbHNlO1xyXG4gICAgICAgIHJlYWR5ID0gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICByZWFkeSA9IGZhbHNlO1xyXG4gICAgICAgIGxheWVyc1tuYW1lXS51cGRhdGUoKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG91dHB1dCA9IG91dHB1dC5kZXN0cm95KCk7XHJcbiAgICAgICAgY29udGV4dCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBib3hFeHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgcmVzaXplZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICByZWFkeSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB2YXIgcHJvcDtcclxuICAgICAgICB3aGlsZSAocGlwZVswXSkge1xyXG4gICAgICAgICAgICBwaXBlWzBdLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgcGlwZS5zaGlmdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHByb3AgaW4gbGF5ZXJzKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXllcnMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBsYXllcnNbcHJvcF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsYXllcnMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgcGlwZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgZm9yIChwcm9wIGluIHRoaXMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW3Byb3BdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZXhwb3J0ID0gY29tcG9zZTtcclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMi83LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJywgWydAaW5qZWN0JywgJ0RlYnVnJywgZnVuY3Rpb24gR3JhcGhpY3NBc3NlbWJsZXJMYXllcihpbmplY3QsIERlYnVnKSB7XHJcbiAgICB2YXIgY2FudmFzID0gaW5qZWN0KCckQ2FudmFzJyksXHJcbiAgICAgICAgY29udGV4dCA9IGNhbnZhcy5jb250ZXh0KCksXHJcbiAgICAgICAgd2lkdGggPSAwLFxyXG4gICAgICAgIGhlaWdodCA9IDAsXHJcbiAgICAgICAgZnVuYyA9IG51bGwsXHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZSxcclxuICAgICAgICBvcmRlcmluZyA9IDA7XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlQ2FudmFzKGN0eCkge1xyXG4gICAgICAgIGlmICghcmVhZHkpIHtcclxuICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICBpZiAoZnVuYykgZnVuYyhjb250ZXh0KTtcclxuICAgICAgICAgICAgcmVhZHkgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZShjYW52YXMuZXhwb3J0KCksIDAsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZiA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgZnVuYyA9IGY7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmY7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7ZjogZn0sICdbe2Z9XSBpcyBub3QgYSBmdW5jdGlvbicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zaXplID0gZnVuY3Rpb24gKHcsIGgpIHtcclxuICAgICAgICBpZiAod2lkdGggIT09IHcgfHwgaCAhPT0gaCkge1xyXG4gICAgICAgICAgICBjYW52YXMud2lkdGgodyk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQoaCk7XHJcbiAgICAgICAgICAgIHdpZHRoID0gdztcclxuICAgICAgICAgICAgaGVpZ2h0ID0gaDtcclxuICAgICAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMub3JkZXJpbmcgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIG9yZGVyaW5nID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvcmRlcmluZztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kcmF3ID0gdXBkYXRlQ2FudmFzO1xyXG5cclxuICAgIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjYW52YXMgPSBjYW52YXMuZGVzdHJveSgpO1xyXG4gICAgICAgIGNvbnRleHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgd2lkdGggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgaGVpZ2h0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGZ1bmMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgICAgICBvcmRlcmluZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICBmb3IodmFyIHByb3AgaW4gdGhpcykge1xyXG4gICAgICAgICAgICBpZih0aGlzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1twcm9wXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgZnVuY3Rpb24gUGx1Z2luKCkge1xyXG5cclxuICAgICAgICB2YXIgcHJvcGVydGllcyA9IHt9LCBjbGVhciA9IHt9LCBvYmplY3QgPSBudWxsLFxyXG4gICAgICAgICAgICBhcHBsaWVzID0gW10sIGRlc3Ryb3lDYiA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLmRlZmluZU9iamVjdCA9IGZ1bmN0aW9uIChvKSB7XHJcbiAgICAgICAgICAgIG9iamVjdCA9IG87XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmRlZmluZU9iamVjdDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLm9iamVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLm1hdGNoVHlwZSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGlmIChhcHBsaWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFwcGxpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcHBsaWVzW2ldID09PSB0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5hcHBseVRvKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5hcHBseVRvO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlICB0aGlzLm1hdGNoVHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuYXBwbHlUbyA9IGZ1bmN0aW9uICh0eXBlcykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHR5cGVzID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIGFwcGxpZXMucHVzaCh0eXBlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHR5cGVzID09IFwib2JqZWN0XCIgJiYgdHlwZXMuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0eXBlc1tpXSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpZXMucHVzaCh0eXBlc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFwcGx5VG87XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uIChwcm9wZXJ0eSwgZnVuYywgdGVtcCkge1xyXG4gICAgICAgICAgICBpZiAoIXByb3BlcnRpZXNbcHJvcGVydHldKSBwcm9wZXJ0aWVzW3Byb3BlcnR5XSA9IGZ1bmM7XHJcbiAgICAgICAgICAgIGlmICh0ZW1wKSBjbGVhcltwcm9wZXJ0eV0gPSB0cnVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3JhcCA9IGZ1bmN0aW9uIChvYmplY3QpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSB8fCBvYmplY3RbcHJvcGVydHldKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIG9iamVjdFtwcm9wZXJ0eV0gPSBwcm9wZXJ0aWVzW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGVsZXRlICB0aGlzLndyYXA7XHJcbiAgICAgICAgICAgIGRlbGV0ZSAgdGhpcy5yZWdpc3RlcjtcclxuICAgICAgICAgICAgZGVsZXRlICB0aGlzLmNsZWFyO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuaGFzUHJvcGVydHkgPSBmdW5jdGlvbiAocHJvcCkge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuY2xlYXIgPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gY2xlYXIpIHtcclxuICAgICAgICAgICAgICAgIGlmICghY2xlYXIuaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlICBvYmplY3RbcHJvcF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZikge1xyXG4gICAgICAgICAgICB2YXIgcHJvcDtcclxuICAgICAgICAgICAgaWYodHlwZW9mIGYgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgZGVzdHJveUNiLnB1c2goZik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aGlsZSAoZGVzdHJveUNiWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBkZXN0cm95Q2JbMF0uY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIGRlc3Ryb3lDYi5zaGlmdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlc3Ryb3lDYiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgZm9yKHByb3AgaW4gcHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgaWYob2JqZWN0KSBkZWxldGUgb2JqZWN0W3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHByb3BlcnRpZXNbcHJvcF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yKHByb3AgaW4gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMgPSB1bmRlZmluZWQ7IGNsZWFyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNS8xLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJywgW2Z1bmN0aW9uIEFyZWFPYmplY3RDbGFzcygpIHtcclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytNb3VzZScsXHJcbiAgICAgICAgZnVuY3Rpb24gQ2lyY2xlT2JqZWN0Q2xhc3MoTW91c2VIZWxwZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZUNoZWNrRnVuY3Rpb24oTW91c2VIZWxwZXIuY2lyY2xlQ2hlY2tGdW5jdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbICdFdmVudHMnLFxyXG4gICAgICAgIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgIERlZmF1bHRPYmplY3RUeXBlKEV2ZW50cykge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50cyA9IEV2ZW50cy5lbWl0dGVyKHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5yZWdpc3RlcigndW5tb3VudCBtb3VudCBkZXN0cm95JylcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBmdW5jdGlvbiBHcm91cE9iamVjdENsYXNzKCkge1xyXG5cclxuICAgIH1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytNb3VzZScsXHJcbiAgICAgICAgZnVuY3Rpb24gSW1hZ2VPYmplY3RDbGFzcyhNb3VzZUhlbHBlcikge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlQ2hlY2tGdW5jdGlvbihNb3VzZUhlbHBlci5yZWN0Q2hlY2tGdW5jdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBmdW5jdGlvbiBMaW5lT2JqZWN0Q2xhc3MoKSB7XHJcblxyXG4gICAgfVxyXG4pOyIsIiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrTW91c2UnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFJlY3RhbmdsZU9iamVjdENsYXNzKE1vdXNlSGVscGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VDaGVja0Z1bmN0aW9uKE1vdXNlSGVscGVyLnJlY3RDaGVja0Z1bmN0aW9uKTtcclxuICAgICAgICAgICAgdmFyIG1vdXNlID0gdGhpcy5leHRlbnNpb24oJ01vdXNlJyk7XHJcbiAgICAgICAgICAgIG1vdXNlLmN1cnNvclRyYW5zZm9ybUZ1bmN0aW9uKE1vdXNlSGVscGVyLnJlY3RDdXJzb3JUcmFuc2Zvcm1GdW5jdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEzLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnK01vdXNlJyxcclxuICAgICAgICBmdW5jdGlvbiBTcHJpdGVPYmplY3RDbGFzcyhNb3VzZUhlbHBlcikge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlQ2hlY2tGdW5jdGlvbihNb3VzZUhlbHBlci5yZWN0Q2hlY2tGdW5jdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAzLzI1LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnK01vdXNlJyxcclxuICAgICAgICBmdW5jdGlvbiBUZXh0T2JqZWN0Q2xhc3MoTW91c2VIZWxwZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZUNoZWNrRnVuY3Rpb24oTW91c2VIZWxwZXIucmVjdENoZWNrRnVuY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xMC8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnUmVzb3VyY2UnLFxyXG4gICAgWydAZXh0ZW5kJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBBdWRpb1Jlc291cmNlKGV4dGVuZCwgRGVidWcpIHtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckUmVzb3VyY2UnKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9ICdBdWRpbyc7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVzb2x2ZUV2ZW50RnVuYyA9IG51bGwsIHN0YXRlRnVuYyA9IG51bGwsIHVybCA9IG51bGwsIHJlc3BvbnNlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub24oJ2luaXQnLCBmdW5jdGlvbiAoX3VybCwgcmVzb2x2ZUZ1bmMsIHNldFN0YXRlRnVuYykge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50RnVuYyA9IHJlc29sdmVGdW5jO1xyXG4gICAgICAgICAgICAgICAgc3RhdGVGdW5jID0gc2V0U3RhdGVGdW5jO1xyXG4gICAgICAgICAgICAgICAgdXJsID0gX3VybDtcclxuICAgICAgICAgICAgICAgIGNyZWF0ZUF1ZGlvLmNhbGwodGhpcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlQXVkaW8oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgICAgICB4aHIub3BlbignR0VUJywgdXJsLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xyXG4gICAgICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVGdW5jKDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gdGhpcy5yZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRGdW5jKCdsb2FkJywgW3Jlc3BvbnNlXSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVGdW5jKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEZ1bmMoJ2Vycm9yJywgW10pO1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt1cmw6IHVybH0sICdVbmFibGUgdG8gbG9hZCBhdWRpbyB7dXJsfS4nKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uKCdnZXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeGhyLnNlbmQoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmV4cG9ydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMy8yNi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnUmVzb3VyY2UnLFxyXG4gICAgWydAZXh0ZW5kJywgJ0RlYnVnJywgJ0BDb25maWcnLCAnQEZvbnRzJyxcclxuICAgICAgICBmdW5jdGlvbiBGb250UmVzb3VyY2UoZXh0ZW5kLCBEZWJ1ZywgY29uZmlnLCBGb250cykge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckUmVzb3VyY2UnKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9ICdGb250JztcclxuICAgICAgICAgICAgdmFyIHN0YXRlID0gbnVsbCwgcmVzb2x2ZSA9IG51bGwsIGZvbnQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgcm9vdCA9IGNvbmZpZy53YXRjaCgnZm9udERpcicsIGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICAgICAgICAgICAgICByb290ID0gc3RyO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcHBlbmRlZCkgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5yZW1vdmVDaGlsZChmb250TG9hZGVyRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrSW50ZXJ2YWwpIHdpbmRvdy5jbGVhckludGVydmFsKGNoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdldEZvbnQoKTtcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgZm9ybWF0ID0gRm9udHMuZm9ybWF0cygpLFxyXG4gICAgICAgICAgICAgICAgd2VpZ2h0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGFwcGVuZGVkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgICAgICAgICAgZm9udExvYWRlckVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICdyZWZsZWN0LWZvbnQtbG9hZGVyLWVsZW1lbnQnKTtcclxuICAgICAgICAgICAgZm9udExvYWRlckVsZW1lbnQuc3R5bGUuZm9udEZhbWlseSA9ICdzYW5zLXNlcmlmJztcclxuICAgICAgICAgICAgZm9udExvYWRlckVsZW1lbnQuc3R5bGUuZm9udFNpemUgPSAnMTJweCc7XHJcbiAgICAgICAgICAgIGZvbnRMb2FkZXJFbGVtZW50LnN0eWxlLmxpbmVIZWlnaHQgPSAnMTJweCc7XHJcbiAgICAgICAgICAgIGZvbnRMb2FkZXJFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICAgICAgZm9udExvYWRlckVsZW1lbnQuc3R5bGUubGVmdCA9ICctOTk5OXB4JztcclxuICAgICAgICAgICAgZm9udExvYWRlckVsZW1lbnQuc3R5bGUudG9wID0gJy05OTk5cHgnO1xyXG4gICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudC5pbm5lclRleHQgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXogMTIzNDU2Nzg5MFshPywuPD5cIsKjJCVeJiooKX5AIy09XSc7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uKCdpbml0JywgZnVuY3Rpb24gKHVybCwgciwgcykge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSA9IHI7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHM7XHJcbiAgICAgICAgICAgICAgICBmb250ID0gdXJsWzBdO1xyXG4gICAgICAgICAgICAgICAgd2VpZ2h0ID0gdXJsWzFdO1xyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB1cmxbMl07XHJcbiAgICAgICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudC5zdHlsZS5mb250U3R5bGUgPSBzdHlsZTtcclxuICAgICAgICAgICAgICAgIHRoaXMub24oJ2dldCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBnZXRGb250KCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBjaGVja0ludGVydmFsID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEZvbnQoKSB7XHJcbiAgICAgICAgICAgICAgICBGb250cy5mb250KHJvb3QsIGZvbnQsIHdlaWdodCwgc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5hcHBlbmRDaGlsZChmb250TG9hZGVyRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICBhcHBlbmRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVwZWF0VGlsbEVycm9yID0gMTAwMCxcclxuICAgICAgICAgICAgICAgICAgICByZXBlYXRDb3VudCA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbCA9IFtmb250TG9hZGVyRWxlbWVudC5vZmZzZXRXaWR0aCwgZm9udExvYWRlckVsZW1lbnQub2Zmc2V0SGVpZ2h0XTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudC5zdHlsZS5mb250RmFtaWx5ID0gJ1wiJyArIEZvbnRzLmZvcm1hdChmb250KSArICctJyArIHdlaWdodCArICdcIiwgc2Fucy1zZXJpZic7XHJcbiAgICAgICAgICAgICAgICBjaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb250TG9hZGVyRWxlbWVudC5vZmZzZXRXaWR0aCAhPT0gaW5pdGlhbFswXSB8fCBmb250TG9hZGVyRWxlbWVudC5vZmZzZXRIZWlnaHQgIT09IGluaXRpYWxbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5yZW1vdmVDaGlsZChmb250TG9hZGVyRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlKDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdsb2FkJywgW10pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXBlYXRDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXBlYXRDb3VudCA+IHJlcGVhdFRpbGxFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSgyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnZXJyb3InLCBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2ZvbnQ6IGZvbnQgKyAnLScgKyB3ZWlnaHR9LCAnVW5hYmxlIHRvIGxvYWQgZm9udCB7Zm9udH0uIEZvbnQgcGVuZGluZyB0aW1lZCBvdXQuLi4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5yZW1vdmVDaGlsZChmb250TG9hZGVyRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgNTApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmV4cG9ydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBGb250cy5mb3JtYXQoZm9udClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTIvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1Jlc291cmNlJyxcclxuICAgIFsnQGV4dGVuZCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gSW1hZ2VSZXNvdXJjZShleHRlbmQsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRSZXNvdXJjZScpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHVybCA9IG51bGwsIHJlc29sdmVFdmVudEZ1bmMgPSBudWxsLCBzdGF0ZUZ1bmMgPSBudWxsLCBpbWFnZSA9IG5ldyBJbWFnZSgpLCB3aWR0aCA9IDAsIGhlaWdodCA9IDA7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSAnSW1hZ2UnO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbignaW5pdCcsIGZ1bmN0aW9uIChfdXJsLCByZXNvbHZlRnVuYywgc2V0U3RhdGVGdW5jKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRGdW5jID0gcmVzb2x2ZUZ1bmM7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZUZ1bmMgPSBzZXRTdGF0ZUZ1bmM7XHJcbiAgICAgICAgICAgICAgICB1cmwgPSBfdXJsO1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlSW1hZ2UuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVJbWFnZSgpIHtcclxuICAgICAgICAgICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVGdW5jKDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEZ1bmMoJ2xvYWQnLCBbXSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlRnVuYygyKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRGdW5jKCdlcnJvcicsIFtdKTtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7dXJsOiB1cmx9LCAnVW5hYmxlIHRvIGxvYWQgaW1hZ2Uge3VybH0uJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMub24oJ2dldCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHVybCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaGVpZ2h0O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmV4cG9ydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbWFnZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEyLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdSZXNvdXJjZScsXHJcbiAgICBbJ0BleHRlbmQnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFJlc291cmNlKGV4dGVuZCwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciB1cmwgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlRnVuY3Rpb25QYXNzZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGNiQ29udGFpbmVyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGluaXQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGdldDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmc6IFtdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzID0gLTE7IC8vIC0xIGluaXQsIDAgbG9hZGluZywgMSBsb2FkZWQsIDIgZXJyb3JcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9hZGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cyA9PT0gMTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzID09PSAyO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cyA9PT0gMDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzID0gMDtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnQoJ2dldCcsIFt1cmxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudXJsID0gZnVuY3Rpb24gKF91cmwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdXJsID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmwgPSBfdXJsO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNvbHZlRnVuY3Rpb25QYXNzZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50KCdpbml0JywgW3VybF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudCgnaW5pdCcsIFt1cmwsIHJlc29sdmVFdmVudCwgc2V0U3RhdHVzXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVGdW5jdGlvblBhc3NlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0U3RhdHVzKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7dmFsOiB2YWx9LCAne3ZhbH0gaXMgbm90IHZhbGlkIHZhbHVlIGZvciBzdGF0dXMnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsIDwgMCB8fCB2YWwgPiAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3ZhbDogdmFsfSwgJ3t2YWx9IG5vIHN1Y2ggc3RhdHVzIHBvc3NpYmxlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN0YXR1cyA9IHZhbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZUV2ZW50KGV2ZW50LCBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2JDb250YWluZXJbZXZlbnRdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHR5cGVvZiBkYXRhID09IFwib2JqZWN0XCIgJiYgZGF0YS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgPyBkYXRhIDogW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2JDb250YWluZXJbZXZlbnRdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiQ29udGFpbmVyW2V2ZW50XVtpXS5hcHBseShzZWxmLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2U6IGV2ZW50fSwgJ1VuYWJsZSB0byBzZXQgZXZlbnQge2V9LiBObyBzdWNoIGV2ZW50IScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBjYkNvbnRhaW5lcltldmVudF07XHJcbiAgICAgICAgICAgICAgICBmdW5jID0gdHlwZW9mIGZ1bmMgPT0gXCJmdW5jdGlvblwiID8gZnVuYyA6IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ2xvYWQnICYmIHN0YXR1cyA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmMuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ2Vycm9yJyAmJiBzdGF0dXMgPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jLmNhbGwodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFhcnJheSB8fCAhZnVuYykge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2U6IGV2ZW50fSwgJ1VuYWJsZSB0byBzZXQgaGFuZGxlciBmb3IgZXZlbnQge2V9LicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNiQ29udGFpbmVyW2V2ZW50XS5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTIvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1Jlc291cmNlJyxcclxuICAgIFsnQGV4dGVuZCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gU3ByaXRlUmVzb3VyY2UoZXh0ZW5kLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckUmVzb3VyY2UnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB1cmwgPSBudWxsLCBpbWFnZSA9IG51bGwsIHNpemUgPSAwLCBmcmFtZXMgPSAwLCBkdXJhdGlvbiA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCxcclxuICAgICAgICAgICAgICAgIGZyYW1lSGVpZ2h0ID0gMCwgZnJhbWVXaWR0aCA9IDAsIGZwcyA9IDEyLFxyXG4gICAgICAgICAgICAgICAgc2V0U3RhdXNGdW5jID0gbnVsbCwgcmVzb2x2ZUV2ZW50RnVuYyA9IG51bGwsIHJlYWR5ID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9ICdTcHJpdGUnO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbignaW5pdCcsIGZ1bmN0aW9uICh1LCBldmVudEYsIHN0YXR1c0YpIHtcclxuICAgICAgICAgICAgICAgIHNldFN0YXVzRnVuYyA9IHN0YXR1c0Y7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRGdW5jID0gZXZlbnRGO1xyXG4gICAgICAgICAgICAgICAgdXJsID0gdTtcclxuXHJcbiAgICAgICAgICAgICAgICBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRTdGF1c0Z1bmMoMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVhZHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlQ2FudmFzQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FudmFzU2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRGdW5jKCdsb2FkJywgW10pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRTdGF1c0Z1bmMoMik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50RnVuYygnZXJyb3InLCBbXSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uKCdnZXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCB1cmwpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ2FudmFzQXJyYXkoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGVsZW1zID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgc2l6ZTsgcisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4LnB1c2goW10pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgc2l6ZTsgYysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1zKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtcyA8IGZyYW1lcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0cml4W3JdLnB1c2goZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXRDYW52YXNTaXplKCkge1xyXG4gICAgICAgICAgICAgICAgZnJhbWVIZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCAvIHNpemUpO1xyXG4gICAgICAgICAgICAgICAgZnJhbWVXaWR0aCA9IE1hdGgucm91bmQod2lkdGggLyBzaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciByID0gMDsgciA8IHNpemU7IHIrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgc2l6ZTsgYysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRyaXhbcl1bY10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeFtyXVtjXS5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgZnJhbWVXaWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRyaXhbcl1bY10uc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBmcmFtZUhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2N0eCA9IG1hdHJpeFtyXVtjXS5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2N0eC50cmFuc2xhdGUoLWZyYW1lV2lkdGggKiBjLCAtZnJhbWVIZWlnaHQgKiByKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVhZHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZHk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyYW1lV2lkdGg7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyYW1lSGVpZ2h0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGVXaWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlSGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhlaWdodDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZnBzID0gZnVuY3Rpb24gKG51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBudW1iZXIgIT09IFwibnVtYmVyXCIgfHwgbnVtYmVyIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtuOiBudW1iZXJ9LCAne259IGlzIG5vdCBhIGNvcnJlY3QgZnBzIG51bWJlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZwcyA9IG51bWJlcjtcclxuXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IE1hdGgucm91bmQoKGZyYW1lcyAvIGZwcykgKiAxMDAwKTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgcGF1c2UgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGF1c2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBwYXVzZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBsYXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBwYXVzZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb25maWcgPSBmdW5jdGlvbiAoZikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlYWR5KSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmICE9PSBcIm51bWJlclwiIHx8IGYgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Jvd3M6IGZ9LCAne3Jvd3N9IGlzIG5vdCBhIHZhbGlkIGZyYW1lcyBudW1iZXInKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc2l6ZSA9IE1hdGguY2VpbChNYXRoLnNxcnQoZikpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZyYW1lcyA9IGY7XHJcblxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSBNYXRoLnJvdW5kKChmcmFtZXMgLyBmcHMpICogMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVhZHkgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNyZWF0ZUNhbnZhc0FycmF5KCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZyYW1lcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmcmFtZXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgY3VycmVudFggPSAwLCBjdXJyZW50WSA9IDA7XHJcblxyXG4gICAgICAgICAgICB2YXIgX3RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGljayA9IGZ1bmN0aW9uICh0aW1lKSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lID0gdGltZS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGF1c2UpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSAodGltZSAtIF90aW1lKSAvIGR1cmF0aW9uO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcyA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcyA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBmcmFtZSA9IE1hdGguZmxvb3IoKGZyYW1lcyAtIDEpICogcHJvZ3Jlc3MpO1xyXG5cclxuICAgICAgICAgICAgICAgIGN1cnJlbnRZID0gTWF0aC5mbG9vcihmcmFtZSAvIHNpemUpO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFggPSBmcmFtZSAtIGN1cnJlbnRZICogc2l6ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXhwb3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hdHJpeFtjdXJyZW50WV1bY3VycmVudFhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdHJpeFtjdXJyZW50WV1bY3VycmVudFhdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzIzLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0BpbmplY3QnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEF1ZGlvKGluamVjdCwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgdXJsID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHR5cGUgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzID0gaW5qZWN0KCckRXZlbnRQcm92aWRlcicpLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9ucyA9IGluamVjdCgnJEFuaW1hdGlvblByb3ZpZGVyJyksXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgICAgIG91dHB1dCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBub2RlbmFtZSA9ICcnO1xyXG5cclxuICAgICAgICAgICAgZXZlbnRzLndyYXAodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBldmVudEFyZ3MoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW3NlbGYsIG91dHB1dCwgdXJsLCB0eXBlXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdyZWFkeScsIGV2ZW50QXJncywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnbG9hZCcsIGV2ZW50QXJncywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnZXJyb3InLCBldmVudEFyZ3MsIHRydWUpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ3BsYXknLCBldmVudEFyZ3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdjb25uZWN0JywgZXZlbnRBcmdzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnZGlzY29ubmVjdCcsIGV2ZW50QXJncywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2VuZCcsIGV2ZW50QXJncywgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlQW5pbWF0aW9uTW9ycGgoZmlsdGVyLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9ucy5tb3JwaC5hcHBseSh0aGlzLCBbcHJvcGVydHkubmFtZSwgMCxcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwcm9wZXJ0eS5ub3JtYWxpemVyKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydChmaWx0ZXIuZ2V0KHByb3BlcnR5Lm5hbWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvcGVydHkubm9ybWFsaXplcih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXIuc2V0KHByb3BlcnR5Lm5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5idWlsZCA9IGZ1bmN0aW9uIChuYW1lLCBzcmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNyYyA9PT0gXCJzdHJpbmdcIiAmJiBzcmMgIT09ICdkZXN0aW5hdGlvbicgJiYgc3JjLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gc3JjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBpbmplY3QoJyRVc2VyQXVkaW9Tb3VyY2UnKS5idWlsZChzcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ1NhbXBsZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdsb2FkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2Uuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3JjID09PSAnZGVzdGluYXRpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IGluamVjdCgnJFVzZXJBdWRpb01peGVyJykuYnVpbGQobmFtZSwgc3JjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50c1swXSAmJiB0eXBlb2YgYXJndW1lbnRzWzBdID09PSBcIm9iamVjdFwiICYmIGFyZ3VtZW50c1swXS4kJFNPVVJDRSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9ICdbJyArIG5hbWUgKyAnXScgKyAnQXVkaW9DaGFubmVsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdDaGFubmVsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2xvYWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3JjID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlID0gaW5qZWN0KCckVXNlckF1ZGlvTWl4ZXInKS5idWlsZChuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gJ1snICsgbmFtZSArICddJyArICdBdWRpb0NoYW5uZWwnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ0NoYW5uZWwnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnbG9hZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5vbigncGxheScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ3BsYXknKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdlbmQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLm9uKCdjb25uZWN0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnY29ubmVjdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2Uub24oJ2Rpc2Nvbm5lY3QnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdkaXNjb25uZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJzID0gc291cmNlLmZpbHRlcnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IGZpbHRlcnNbaV0ucHJvcHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCBwcm9wcy5sZW5ndGg7IG0rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BzW21dLmFuaW1hdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlQW5pbWF0aW9uTW9ycGguYXBwbHkodGhpcywgW2ZpbHRlcnNbaV0sIHByb3BzW21dXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVuYW1lID0gbmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ3JlYWR5Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignQXVkaW8gbWl4ZXIgaGF2ZSBubyBuYW1lISBTaG91bGQgYmUgYSBzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIgJiYgbmFtZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcnMgPSBzb3VyY2UuZmlsdGVycygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcnNbaV0uaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIgPSBmaWx0ZXJzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIuc2V0KG5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXIuZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtuYW1lOiBuYW1lfSwgJ1VuYWJsZSB0byBzZXQgZmlsdGVyIHByb3BlcnR5IFt7bmFtZX1dLiBObyBmaWx0ZXIgd2l0aCB0aGF0IHBhcmFtIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0ID0gZnVuY3Rpb24gKG91dCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG91dCAmJiB0eXBlb2Ygb3V0ID09PSBcIm9iamVjdFwiICYmIG91dC4kJFNPVVJDRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvdXQgPT09IFwib2JqZWN0XCIgJiYgb3V0LnR5cGUgJiYgdHlwZW9mIG91dC50eXBlID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3R5cGUgPSBvdXQudHlwZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnQ2hhbm5lbCcgJiYgY3R5cGUgPT09ICdTYW1wbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdUcnlpbmcgdG8gY29ubmVjdCBDaGFubmVsIHdpdGggU2FtcGxlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob3V0LmNvbm5lY3QgJiYgdHlwZW9mIG91dC5jb25uZWN0ID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG91dHNvdXJjZSA9IG91dC5jb25uZWN0KHskJFNPVVJDRTogdHJ1ZX0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBvdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5jb25uZWN0KG91dHNvdXJjZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignVW5rbm93biB0eXBlIG9mICBvYmplY3QgcGFzc2VkIGFzIG91dHB1dCEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignVW5rbm93biB0eXBlIG9mICBvYmplY3QgcGFzc2VkIGFzIG91dHB1dCEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3V0cHV0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMuYW5pbWF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN0ciA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHIgPT09IHR5cGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudXJsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVybDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlbmFtZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMuc3RvcC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzIxLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0BpbmplY3QnLCAnQENvbmZpZycsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gVXNlckF1ZGlvTWl4ZXIoaW5qZWN0LCBjb25maWcsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZXZlbnRzID0gaW5qZWN0KCckRXZlbnRQcm92aWRlcicpLFxyXG4gICAgICAgICAgICAgICAgZmlsdGVycyA9IFtdLFxyXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIG5hbWUgPSAnJyxcclxuICAgICAgICAgICAgICAgIGZpbHRlcnNDZmcgPSBjb25maWcud2F0Y2goJ2ZpbHRlcnMnLCBmdW5jdGlvbiAodikge2ZpbHRlcnMgPSB2fSk7XHJcblxyXG5cclxuICAgICAgICAgICAgZXZlbnRzLndyYXAodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhcmdGKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt0aGlzXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdwbGF5JywgYXJnRiwgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Nvbm5lY3QnLCBhcmdGLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgncmVhZHknLCBhcmdGLCB0cnVlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdlcnJvcicsIGFyZ0YsIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5idWlsZCA9IGZ1bmN0aW9uIChuLCBjaGFubmVsKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJzQ2ZnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBpbmplY3QoJyQnICsgZmlsdGVyc0NmZ1tpXSArICdOb2RlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcnNbZmlsdGVycy5sZW5ndGggLSAxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzW2ZpbHRlcnMubGVuZ3RoIC0gMV0uY29ubmVjdChub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVycy5wdXNoKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbiA9PT0gXCJzdHJpbmdcIiAmJiBuLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lID0gbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe246IG59LCAnW3tufV0gaXMgbm90IGEgdmFsaWQgbmFtZSBmb3IgY2hhbm5lbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjaGFubmVsICYmIHR5cGVvZiBjaGFubmVsID09PSBcIm9iamVjdFwiICYmIGNoYW5uZWwuY29ubmVjdCAmJiB0eXBlb2YgY2hhbm5lbC5jb25uZWN0ID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3QoY2hhbm5lbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGFubmVsID09PSAnZGVzdGluYXRpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gaW5qZWN0KCckRGVzdGluYXRpb25Ob2RlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyc1tmaWx0ZXJzLmxlbmd0aCAtIDFdLmNvbm5lY3QoZGVzdGluYXRpb24pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3QgPSBmdW5jdGlvbiAob3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvdXQuJCRBVURJT05PREUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgIHRoaXMuYnVpbGQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdCA9IGZ1bmN0aW9uIChvdXQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvdXQuJCRBVURJT05PREUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyc1swXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IG91dC5jb25uZWN0KHskJEFVRElPTk9ERTogdHJ1ZX0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcnNbZmlsdGVycy5sZW5ndGggLSAxXS5jb25uZWN0KGlucHV0KTtcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBvdXQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm91dHB1dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZpbHRlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVycztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuYW1lO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xOS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAZXh0ZW5kJywgJ0BpbmplY3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFVzZXJBdWRpb1NvdXJjZShleHRlbmQsIGluamVjdCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIG5vZGUgPSBpbmplY3QoJyRBdWRpb1NvdXJjZScpLFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzID0gaW5qZWN0KCckRXZlbnRQcm92aWRlcicpLFxyXG4gICAgICAgICAgICAgICAgbWl4ZXIgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHVybCA9ICcnO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY2JBcmdzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt0aGlzXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY29ubmVjdENiQXJncygpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbdGhpcywgb3V0cHV0XTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZXZlbnRzLndyYXAodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ3JlYWR5JywgY2JBcmdzLCB0cnVlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdsb2FkJywgY2JBcmdzLCB0cnVlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdlcnJvcicsIGNiQXJncywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnY29ubmVjdCcsIGNvbm5lY3RDYkFyZ3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdwbGF5JywgY2JBcmdzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnc3RvcCcsIGNiQXJncywgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgbm9kZS5vbigncmVhZHknLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgncmVhZHknKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBub2RlLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2xvYWQnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBub2RlLm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdlcnJvcicpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQgPSBmdW5jdGlvbiAoc3JjKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzcmMgPT09IFwic3RyaW5nXCIgJiYgc3JjLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmwgPSBzcmM7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5idWlsZChzcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1peGVyID0gaW5qZWN0KCckVXNlckF1ZGlvTWl4ZXInKS5idWlsZCgnc291cmNlLWJ1aWx0LWluLWZpbHRlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1peGVyLm9uKCdjb25uZWN0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnY29ubmVjdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUuY29ubmVjdChtaXhlci5jb25uZWN0KHskJEFVRElPTk9ERTogdHJ1ZX0pKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5idWlsZDtcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgncmVhZHknKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSAgdGhpcy5idWlsZDtcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZpbHRlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobWl4ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWl4ZXIuZmlsdGVycygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxheSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zdGF0dXMoJ2Vycm9yJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0dXMoJ3JlYWR5JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzKCdsb2FkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbm9kZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3V0cHV0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdCA9IGZ1bmN0aW9uIChvdXQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvdXQgJiYgb3V0LmNvbnN0cnVjdG9yID09PSBtaXhlci5jb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IG91dDtcclxuICAgICAgICAgICAgICAgICAgICBtaXhlci5jb25uZWN0KG91dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAaW5qZWN0JywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBBbmltYXRpb25Qcm92aWRlcihpbmplY3QsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9ucyA9IFtdLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1vcnBocyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tb3JwaCA9IGZ1bmN0aW9uIChuYW1lLCBvcmRlcmluZywgc2V0dGVyLCBhcHBsaWVyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9ycGggPSBpbmplY3QoJyRNb3JwaCcpO1xyXG4gICAgICAgICAgICAgICAgbW9ycGguY29uZmlnKG5hbWUsIHRoaXMsIG9yZGVyaW5nLCBzZXR0ZXIsIGFwcGxpZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vcnBoLnZhbGlkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3JwaHNbbmFtZV0gPSBtb3JwaDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXh0cmFjdE1vcnBoID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtb3JwaHNbbmFtZV07XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBmaW5kQ29tcGV0aXRvcihwcm9wZXJ0aWVzLCBhbmltYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi4kJFNFTEYgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBjb21wZXRpdG9yID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGlvbnNbaV0uJCRTRUxGKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25zW2ldLmFjdGl2ZSgpICYmICFhbmltYXRpb25zW2ldLmRvbmUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoZWNrID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHByb3BlcnRpZXMubGVuZ3RoOyBuKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uc1tpXS5oYXNQcm9wZXJ0eShwcm9wZXJ0aWVzW25dKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVjayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGVjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29tcGV0aXRvcikgY29tcGV0aXRvciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBldGl0b3IucHVzaChhbmltYXRpb25zW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgYW5pbWF0aW9uLiQkU0VMRjtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcGV0aXRvcjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gQ2hlY2tBbmltYXRpb25RdWV1ZSgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfYW5pbWF0aW9ucyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYW5pbWF0aW9uc1tpXS5hY3RpdmUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcHMgPSBhbmltYXRpb25zW2ldLnByb3BlcnRpZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbnNbaV0ucXVldWUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaW5kQ29tcGV0aXRvcihwcm9wcywgYW5pbWF0aW9uc1tpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zW2ldLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcGV0aXRvcnMgPSBmaW5kQ29tcGV0aXRvcihwcm9wcywgYW5pbWF0aW9uc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGV0aXRvcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IGNvbXBldGl0b3JzLmxlbmd0aDsgbisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHAgPSAwOyBwIDwgcHJvcHMubGVuZ3RoOyBwKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBldGl0b3JzW25dLnN0b3AocHJvcHNbcF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uc1tpXS5zdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hbmltYXRpb25zLnB1c2goYW5pbWF0aW9uc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGlvbnNbaV0uZG9uZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMgPSBfYW5pbWF0aW9ucztcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIENyZWF0ZUFuaW1hdGlvblR5cGUxKHByb3BlcnR5LCB2YWx1ZSwgZHVyYXRpb24sIGVhc2luZykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhaXIgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBwYWlyW3Byb3BlcnR5XSA9IHZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtb3JwaHNbcHJvcGVydHldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YWNrID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyaW5nOiBtb3JwaHNbcHJvcGVydHldLm9yZGVyaW5nKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGg6IG1vcnBoc1twcm9wZXJ0eV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZHVyYXRpb24gJiYgdHlwZW9mIGR1cmF0aW9uID09PSBcIm51bWJlclwiKSBjb25maWcuZHVyYXRpb24gPSBkdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWFzaW5nICYmIHR5cGVvZiBlYXNpbmcgPT09IFwic3RyaW5nXCIpIGNvbmZpZy5lYXNpbmcgPSBlYXNpbmc7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gaW5qZWN0KCckQW5pbWF0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5jb25maWcodGhpcywgc3RhY2ssIGNvbmZpZywgQ2hlY2tBbmltYXRpb25RdWV1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVBbmltYXRpb25UeXBlMihwYWlycywgYXJnMiwgYXJnMykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnMiA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IGFyZzI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJnMiA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGFyZzJcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnMyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuZWFzaW5nID0gYXJnM1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhcmcyID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IGFyZzJcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwYWlycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFpcnMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1vcnBoc1twcm9wZXJ0eV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAnUHJvcGVydHkge3Byb3BlcnR5fSBvZiB7dHlwZX0gY2FuIG5vdCBiZSBhbmltYXRlZCEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtwcm9wZXJ0eV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcmluZzogbW9ycGhzW3Byb3BlcnR5XS5vcmRlcmluZygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGg6IG1vcnBoc1twcm9wZXJ0eV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcGFpcnNbcHJvcGVydHldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG1vcnBoX3N0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaXRlbSBpbiByZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3JwaF9zdGFjay5wdXNoKHJlc3VsdFtpdGVtXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1vcnBoX3N0YWNrLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vcnBoX3N0YWNrLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEub3JkZXJpbmcgLSBiLm9yZGVyaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gaW5qZWN0KCckQW5pbWF0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLmNvbmZpZyh0aGlzLCBtb3JwaF9zdGFjaywgY29uZmlnLCBDaGVja0FuaW1hdGlvblF1ZXVlKTtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zLnB1c2goYW5pbWF0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ05vIHByb3BlcnRpZXMgdG8gYW5pbWF0ZSEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5hbmltYXRlID0gZnVuY3Rpb24gKGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnMSA9PT0gJ3N0cmluZycgJiYgYXJnMikge1xyXG4gICAgICAgICAgICAgICAgICAgIENyZWF0ZUFuaW1hdGlvblR5cGUxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJnMSA9PT0gXCJvYmplY3RcIiAmJiBhcmcxLmNvbnN0cnVjdG9yICE9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIENyZWF0ZUFuaW1hdGlvblR5cGUyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmFibGUgdG8gY3JlYXRlIGFuaW1hdGlvbi4gV3JvbmcgYXJndW1lbnRzJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBDaGVja0FuaW1hdGlvblF1ZXVlKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuaW1hdGVkO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ICE9PSBcInN0cmluZ1wiIHx8IHByb3BlcnR5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uc1tpXS5zdG9wKHByb3BlcnR5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzE2LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0BBdWRpbycsICdAZXh0ZW5kJyxcclxuICAgICAgICBmdW5jdGlvbiBEZWxheU5vZGUoYXVkaW8sIGV4dGVuZCkge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckQXVkaW9Ob2RlJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgdGltZUNGRyA9IDAsIGZvcmNlQ0ZHID0gMCwga2lsbERlbGF5ID0gMTAwMDAsXHJcbiAgICAgICAgICAgICAgICBnbG9iYWxHYWluID0gYXVkaW8uY29udGV4dCgpLmNyZWF0ZUdhaW4oKSxcclxuICAgICAgICAgICAgICAgIGRlbGF5ID0gYXVkaW8uY29udGV4dCgpLmNyZWF0ZURlbGF5KCksXHJcbiAgICAgICAgICAgICAgICBmZWVkYmFjayA9IGF1ZGlvLmNvbnRleHQoKS5jcmVhdGVHYWluKCksXHJcbiAgICAgICAgICAgICAgICBicSA9IGF1ZGlvLmNvbnRleHQoKS5jcmVhdGVCaXF1YWRGaWx0ZXIoKTtcclxuXHJcbiAgICAgICAgICAgIGdsb2JhbEdhaW4uZ2Fpbi52YWx1ZSA9IDE7XHJcbiAgICAgICAgICAgIGJxLmZyZXF1ZW5jeS52YWx1ZSA9IDIwMDA7XHJcbiAgICAgICAgICAgIGZlZWRiYWNrLmdhaW4udmFsdWUgPSBmb3JjZUNGRztcclxuICAgICAgICAgICAgZGVsYXkuZGVsYXlUaW1lLnZhbHVlID0gdGltZUNGRztcclxuXHJcbiAgICAgICAgICAgIGRlbGF5LmNvbm5lY3QoZmVlZGJhY2spO1xyXG4gICAgICAgICAgICBmZWVkYmFjay5jb25uZWN0KGJxKTtcclxuICAgICAgICAgICAgYnEuY29ubmVjdChkZWxheSk7XHJcbiAgICAgICAgICAgIGZlZWRiYWNrLmNvbm5lY3QoZ2xvYmFsR2Fpbik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkKCdkZWxheScsIFtnbG9iYWxHYWluLCBmZWVkYmFja10sIGdsb2JhbEdhaW4pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eSgnZGVsYXknLCBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmxlbmd0aCA9PSAyICYmIHR5cGVvZiB2YWx1ZVswXSA9PSBcIm51bWJlclwiICYmIHR5cGVvZiB2YWx1ZVsxXSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lID0gdmFsdWVbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JjZSA9IHZhbHVlWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWUgPiAxKSB0aW1lID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWUgPCAwKSB0aW1lID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcmNlID4gLjgpIGZvcmNlID0gLjg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JjZSA8IDApIGZvcmNlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZUNGRyA9IHRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlQ0ZHID0gZm9yY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5LmRlbGF5VGltZS52YWx1ZSA9IHRpbWVDRkc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZlZWRiYWNrLmdhaW4udmFsdWUgPSBmb3JjZUNGRztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtmb3JjZSwgdGltZV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWVbMF0sIHZhbHVlWzFdXTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZSA9IHZhbHVlWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZSA9IHZhbHVlWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGltZSA+IDEpIHRpbWUgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aW1lIDwgMCkgdGltZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcmNlID4gLjgpIGZvcmNlID0gLjg7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcmNlIDwgMCkgZm9yY2UgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2ZvcmNlLCB0aW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTYvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnQEF1ZGlvJywgJ0BleHRlbmQnLFxyXG4gICAgICAgIGZ1bmN0aW9uIERlc3RpbmF0aW9uTm9kZShhdWRpbywgZXh0ZW5kKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRBdWRpb05vZGUnKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQoJ2Rlc3RpbmF0aW9uJywgYXVkaW8uY29udGV4dCgpLmRlc3RpbmF0aW9uLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAQXVkaW8nLCAnQGV4dGVuZCcsXHJcbiAgICAgICAgZnVuY3Rpb24gR2Fpbk5vZGUoYXVkaW8sIGV4dGVuZCkge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckQXVkaW9Ob2RlJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgdm9sdW1lID0gMSxcclxuICAgICAgICAgICAgICAgIGdhaW4gPSBhdWRpby5jb250ZXh0KCkuY3JlYXRlR2FpbigpO1xyXG5cclxuICAgICAgICAgICAgZ2Fpbi5nYWluLnZhbHVlID0gdm9sdW1lO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5idWlsZCgnZ2FpbicsIGdhaW4sIGdhaW4pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eSgndm9sdW1lJywgMSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDEpIHZhbHVlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm9sdW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi52YWx1ZSA9IHZvbHVtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDEpIHZhbHVlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAQXVkaW8nLCAnQGV4dGVuZCcsXHJcbiAgICAgICAgZnVuY3Rpb24gTG93cGFzc05vZGUoYXVkaW8sIGV4dGVuZCkge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckQXVkaW9Ob2RlJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgYnFmID0gYXVkaW8uY29udGV4dCgpLmNyZWF0ZUJpcXVhZEZpbHRlcigpLFxyXG5cclxuICAgICAgICAgICAgICAgIGZyZXF1ZW5jeSA9IDIyMDUwO1xyXG5cclxuICAgICAgICAgICAgYnFmLnR5cGUgPSAnbG93cGFzcyc7XHJcbiAgICAgICAgICAgIGJxZi5mcmVxdWVuY3kudmFsdWUgPSBmcmVxdWVuY3k7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkKCdsb3dwYXNzJywgYnFmLCBicWYpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eSgnbG93cGFzcycsIDIyMDUwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDIyMDUwKSB2YWx1ZSA9IDIyMDUwO1xyXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJxZi5mcmVxdWVuY3kudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAyMjA1MCkgdmFsdWUgPSAyMjA1MDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzE2LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0BpbmplY3QnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEF1ZGlvTm9kZShpbmplY3QsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGlucHV0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIG5leHROb2RlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGJ1aWxkRiA9IGZ1bmN0aW9uIChzb3VuZCwgb3V0cHV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvdXRwdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5pbnB1dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VuZC5jb25uZWN0KGlucHV0W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vdXRwdXQoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzb3VuZHMgPSBbXSxcclxuICAgICAgICAgICAgICAgIGV2ZW50cyA9IGluamVjdCgnJEV2ZW50UHJvdmlkZXInKSxcclxuICAgICAgICAgICAgICAgIG5vZGVuYW1lID0gJyc7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhcmdzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtuZXh0Tm9kZV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGV2ZW50cy53cmFwKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdyZWFkeScsIGFyZ3MsIHRydWUpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ3BsYXknLCBhcmdzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnZW5kJywgYXJncywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Nvbm5lY3QnLCBhcmdzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnZGlzY29ubmVjdCcsIGFyZ3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdwcm9wZXJ0eScsIGFyZ3MsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0Tm9kZSAmJiBvdXRwdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2lucEFycmF5ID0gbmV4dE5vZGUuaW5wdXQoKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG91dHB1dC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IF9pbnBBcnJheS5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W2ldLmRpc2Nvbm5lY3QoX2lucEFycmF5W25dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Rpc2Nvbm5lY3QnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0ID0gZnVuY3Rpb24gKG91dCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG91dDtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0Tm9kZSAmJiBvdXRwdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2lucEFyciA9IG5leHROb2RlLmlucHV0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvdXRwdXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBfaW5wQXJyLmxlbmd0aDsgbisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbaV0uY29ubmVjdChfaW5wQXJyW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdjb25uZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQgPSBmdW5jdGlvbiAobmFtZSwgaW5wLCBvdXQsIGYpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0ID0gdHlwZW9mIGlucCA9PSBcIm9iamVjdFwiICYmIGlucC5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgPyBpbnAgOiBbaW5wXTtcclxuICAgICAgICAgICAgICAgIG91dHB1dCA9IHR5cGVvZiBvdXQgPT0gXCJvYmplY3RcIiAmJiBvdXQuY29uc3RydWN0b3IgPT09IEFycmF5ID8gb3V0IDogW291dF07XHJcbiAgICAgICAgICAgICAgICBub2RlbmFtZSA9IG5hbWU7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGYgPT0gXCJmdW5jdGlvblwiKSBidWlsZEYgPSBmO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuYnVpbGQ7XHJcbiAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgncmVhZHknKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbnB1dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3V0cHV0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlbmFtZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxheSA9IGZ1bmN0aW9uIChzb3VuZCwgb3V0cHV0KSB7XHJcbiAgICAgICAgICAgICAgICBzb3VuZHMucHVzaChzb3VuZCk7XHJcbiAgICAgICAgICAgICAgICBzb3VuZC5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgc291bmQuJCRTRUFSQ0ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291bmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc291bmRzLiQkU0VBUkNIKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzb3VuZHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzb3VuZC4kJFNFQVJDSDtcclxuICAgICAgICAgICAgICAgICAgICBzb3VuZHMgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dE5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZS5wbGF5KHNvdW5kLCBidWlsZEYuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIG1vZGVsID0ge307XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb3BlcnR5ID0gZnVuY3Rpb24gKG5hbWUsIGRlZlZhbCwgc2V0dGVyLCBnZXR0ZXIsIG5vcm1saXplcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR0ZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZXI6IG5vcm1saXplcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZWQ6IHR5cGVvZiBub3JtbGl6ZXIgPT09IFwiZnVuY3Rpb25cIiA/IHRydWUgOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZ2V0dGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuZ2V0dGVyID0gZ2V0dGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNldHRlciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnNldHRlciA9IHNldHRlcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnZhbHVlID0gZGVmVmFsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVmVmFsICYmIHR5cGVvZiBwcm9wZXJ0eS5nZXR0ZXIgJiYgcHJvcGVydHkuc2V0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbW9kZWxbcHJvcGVydHkubmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5Lm5hbWVdID0gcHJvcGVydHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtwcm9wZXJ0eTogcHJvcGVydHl9LCAnRHVwbGljYXRlZCBwcm9wZXJ0eSBbe3Byb3BlcnR5fV0nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe25hbWU6IG5hbWV9LCAnUHJvcGVydHkgbmFtZSBbe25hbWV9XSBpcyBub3QgdmFsaWQhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldCA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09IFwic3RyaW5nXCIgJiYgbmFtZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG1vZGVsW25hbWVdLnNldHRlcih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsW25hbWVdLnZhbHVlID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7cHJvcDogbmFtZSwgdmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlbiBmb3IgW3twcm9wfV0uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09IFwic3RyaW5nXCIgJiYgbmFtZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbFtuYW1lXS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe25hbWU6IG5hbWV9LCAnT2JqZWN0IGhhcyBubyBwcm9wZXJ0eSBbe25hbWV9XS4gVW5hYmxlIHRvIGdldCB2YWx1ZS4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdQcm9wZXJ0eSBuYW1lIGhhcyB0byBiZSBhIHN0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9wcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIG1vZGVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG1vZGVsW3Byb3BdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaGFzID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhIW1vZGVsW25hbWVdO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMjIvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIGZ1bmN0aW9uIEF1ZGlvTm9kZVNvdW5kRGlzcGF0Y2hlcigpIHtcclxuXHJcbiAgICAgICAgdmFyIHNvdW5kcyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLnJlZ2lzdGVyID0gZnVuY3Rpb24gKHNvdW5kKSB7XHJcbiAgICAgICAgICAgIHNvdW5kLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHNvdW5kLiQkU0VBUkNIID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VuZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNvdW5kc1tpXS4kJFNFQVJDSCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzb3VuZHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNvdW5kcyA9IHJlc3VsdDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBzb3VuZHMucHVzaChzb3VuZCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWNvbm5lY3QgPSBmdW5jdGlvbiAoZGVzdGluYXRpb24pIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VuZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHNvdW5kc1tpXS5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBzb3VuZHNbaV0uY29ubmVjdChkZXN0aW5hdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzE2LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0BBdWRpbycsICdAaW5qZWN0JywgJ1Jlc291cmNlJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBBdWRpb1NvdXJjZShhdWRpbywgaW5qZWN0LCBSZXNvdXJjZSwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciB1cmwgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgYnVmZmVyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIG91dHB1dCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBldmVudHMgPSBpbmplY3QoJyRFdmVudFByb3ZpZGVyJyksXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgICAgIHNvdW5kcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gYXJncygpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbcmVzb3VyY2UsIGJ1ZmZlciwgb3V0cHV0XTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZXZlbnRzLndyYXAodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ3JlYWR5JywgYXJncywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnbG9hZCcsIGFyZ3MsIHRydWUpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Vycm9yJywgYXJncywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnY29ubmVjdCcsIGFyZ3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdkaXNjb25uZWN0JywgYXJncywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ3BsYXknLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnZW5kJywgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5idWlsZCA9IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgICAgIHJlc291cmNlID0gUmVzb3VyY2UuYXVkaW8oc3JjKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5vbignbG9hZCcsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvLmNvbnRleHQoKS5kZWNvZGVBdWRpb0RhdGEoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnbG9hZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7c3JjOiBzcmN9LCAnW3tzcmN9XSBhdWRpbyBidWZmZXIgY2FuIG5vdCBiZSBkZWNvZGVkLiBSZXNvdXJjZSBub3QgZm91bmQsIG9yIG9mIHdyb25nIGZvcm1hdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5vbignZXJyb3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3NyYzogc3JjfSwgJ1VuYWJsZSB0byBsb2FkIGF1ZGlvIGZpbGUnKTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZShlcnJvcilcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuYnVpbGQ7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnZGlzY29ubmVjdCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3QgPSBmdW5jdGlvbiAob3V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgICAgIG91dHB1dCA9IG91dDtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdjb25uZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxheSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvdXRwdXQgJiYgdGhpcy5zdGF0dXMoJ2xvYWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhdWRpby5jb250ZXh0KCkuY3JlYXRlQnVmZmVyU291cmNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLmJ1ZmZlciA9IGJ1ZmZlcjtcclxuICAgICAgICAgICAgICAgICAgICBzb3VuZHMucHVzaChzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dC5wbGF5KHNvdXJjZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5zdGFydCgwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VuZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VuZHNbaV0uc3RvcCgwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNvdW5kcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gRXZlbnQoRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBjYiA9IFtdLFxyXG4gICAgICAgICAgICAgICAgc3RhdGUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG5hbWUgPSAnZGVmYXVsdCcsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZXZhbCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBhcmdGdW5jdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5idWlsZCA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGFyZ0YsIGlzU3RhdGVFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgc3RhdGUgPSAhIWlzU3RhdGVFdmVudDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ0YgPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJnRnVuY3QgPSBhcmdGO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnROYW1lID09IFwic3RyaW5nXCIgJiYgZXZlbnROYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lID0gZXZlbnROYW1lXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuYnVpbGQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuYW1lO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGV2YWw7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlc29sdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUpIHN0YXRldmFsID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ0Z1bmN0KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3MgIT09IFwib2JqZWN0XCIgfHwgYXJncy5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIGFyZ3MgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNiLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jYWxsYmFjayA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5hY3RpdmUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJnRnVuY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3MgIT09IFwib2JqZWN0XCIgfHwgYXJncy5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNiLnB1c2goYXJndW1lbnRzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNiLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzE2LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0BpbmplY3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEV2ZW50UHJvdmlkZXIoaW5qZWN0KSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZXZlbnRzID0gW107XHJcblxyXG4gICAgICAgICAgICB0aGlzLmV2ZW50ID0gZnVuY3Rpb24gKG5hbWUsIGFyZ0YsIHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBpbmplY3QoJyRFdmVudCcpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuYnVpbGQuYXBwbHkoZXZlbnQsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICBldmVudHNbbmFtZV0gPSBldmVudDtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudHNbbmFtZV0pIGV2ZW50c1tuYW1lXS5yZXNvbHZlLmNhbGwoZXZlbnRzW25hbWVdKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy53cmFwID0gZnVuY3Rpb24gKG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0Lm9uID0gZnVuY3Rpb24gKG5hbWUsIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50c1tuYW1lXS5jYWxsYmFjay5jYWxsKG9iamVjdCwgZnVuYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBvYmplY3Quc3RhdHVzID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRzW25hbWVdKSByZXR1cm4gZXZlbnRzW25hbWVdLmFjdGl2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIiRSLnNlcnZpY2UuY2xhc3MoJ1N0YXRlcycsIFsnRGVidWcnLCBmdW5jdGlvbiBTdGF0ZShEZWJ1Zykge1xyXG5cclxuICAgIHZhciBzdGF0ZXMgPSB7fSxcclxuICAgICAgICBlbWl0dGVyID0gbnVsbCxcclxuICAgICAgICB0YXJnZXQgPSBudWxsLFxyXG4gICAgICAgIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgIHN0YXRlX3N0cmluZ19yZWdleHAgPSAvW0EtWmEtei0wLTldKy9nO1xyXG5cclxuICAgIGZ1bmN0aW9uIGlzSW5TdGF0ZShzdGF0ZSkge1xyXG4gICAgICAgIGlmIChzdGF0ZXNbc3RhdGVdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZXNbc3RhdGVdLnZhbHVlXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IHN0YXRlLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQuY29uc3RydWN0b3IubmFtZVxyXG4gICAgICAgICAgICB9LCAnU3RhdGUge3N0YXRlfSBpZiB7dGFyZ2V0fSBkb2VzIG5vdCBleGlzdCcsIHRhcmdldClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNCb3VuZFByb3BlcnR5KHByb3BlcnR5KSB7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdGF0ZXNbcHJvcGVydHldICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgdHlwZW9mIHN0YXRlc1twcm9wZXJ0eV0uYm91bmQgPT09IFwib2JqZWN0XCIgJiZcclxuICAgICAgICAgICAgc3RhdGVzW3Byb3BlcnR5XS5ib3VuZC5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgJiZcclxuICAgICAgICAgICAgc3RhdGVzW3Byb3BlcnR5XS5ib3VuZC5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0UHJvcGVydHlFdmVudENhbGxiYWNrKHByb3BlcnR5LCB2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNldFByb3BlcnR5VmFsdWUocHJvcGVydHksIHZhbHVlLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlUHJvcGVydHkocHJvcGVydHksIHZhbHVlLCBlbmFibGVyLCBkaXNhYmxlcikge1xyXG4gICAgICAgIGlmIChzdGF0ZXNbcHJvcGVydHldID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgc3RhdGVzW3Byb3BlcnR5XSA9IHt2YWx1ZTogISF2YWx1ZX07XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZW5hYmxlciA9PT0gXCJzdHJpbmdcIiAmJiBlbmFibGVyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGVuYWJsZXIgPSBlbmFibGVyLm1hdGNoKHN0YXRlX3N0cmluZ19yZWdleHApO1xyXG4gICAgICAgICAgICAgICAgaWYoZW5hYmxlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhdGVzW3Byb3BlcnR5XS5ib3VuZCkgc3RhdGVzW3Byb3BlcnR5XS5ib3VuZCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDAgOyBpIDwgZW5hYmxlci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZXNbcHJvcGVydHldLmJvdW5kLnB1c2goZW5hYmxlcltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIub24oZW5hYmxlcltpXSwgZ2V0UHJvcGVydHlFdmVudENhbGxiYWNrKHByb3BlcnR5LCB0cnVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlcjogdHlwZW9mIGVuYWJsZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVyOiB0eXBlb2YgZGlzYWJsZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgICAgIH0sICdFbmFibGVyIGlzIG5vdCBhIHZhbGlkIGV2ZW50IHN0cmluZy4gVW5hYmxlIHRvIGNyZWF0ZSBib3VuZCBwcm9wZXJ0eSB7cHJvcGVydHl9IDogZW5hYmxlciB7ZW5hYmxlcn0sIGRpc2FibGVyIC0ge2Rpc2FibGVyfScsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkaXNhYmxlciA9PT0gXCJzdHJpbmdcIiAmJiBkaXNhYmxlci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlciA9IGRpc2FibGVyLm1hdGNoKHN0YXRlX3N0cmluZ19yZWdleHApWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkaXNhYmxlciA9PT0gXCJzdHJpbmdcIiAmJiBkaXNhYmxlci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGF0ZXNbcHJvcGVydHldLmJvdW5kKSBzdGF0ZXNbcHJvcGVydHldLmJvdW5kID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZXIgPSBkaXNhYmxlci5tYXRjaChzdGF0ZV9zdHJpbmdfcmVnZXhwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZihkaXNhYmxlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YXRlc1twcm9wZXJ0eV0uYm91bmQpIHN0YXRlc1twcm9wZXJ0eV0uYm91bmQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBmID0gMCA7IGYgPCBkaXNhYmxlci5sZW5ndGg7IGYrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVzW3Byb3BlcnR5XS5ib3VuZC5wdXNoKGRpc2FibGVyW2ZdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIub24oZGlzYWJsZXJbZl0sIGdldFByb3BlcnR5RXZlbnRDYWxsYmFjayhwcm9wZXJ0eSwgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlcjogdHlwZW9mIGVuYWJsZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlcjogdHlwZW9mIGRpc2FibGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sICdEaXNhYmxlciBpcyBub3QgYSB2YWxpZCBldmVudCBzdHJpbmcuIFVuYWJsZSB0byBjcmVhdGUgYm91bmQgcHJvcGVydHkge3Byb3BlcnR5fSA6IGVuYWJsZXIge2VuYWJsZXJ9LCBkaXNhYmxlciAtIHtkaXNhYmxlcn0nLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVyOiB0eXBlb2YgZW5hYmxlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZXI6IHR5cGVvZiBkaXNhYmxlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgJ0Rpc2FibGVyIGlzIG5vdCBhIHZhbGlkIGV2ZW50IHN0cmluZy4gVW5hYmxlIHRvIGNyZWF0ZSBib3VuZCBwcm9wZXJ0eSB7cHJvcGVydHl9IDogZW5hYmxlciB7ZW5hYmxlcn0sIGRpc2FibGVyIC0ge2Rpc2FibGVyfScsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eSwgdmFsdWUsIHRydXN0ZWQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0YXRlc1twcm9wZXJ0eV0gPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpc19ib3VuZCA9IGlzQm91bmRQcm9wZXJ0eShwcm9wZXJ0eSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzX2JvdW5kIHx8IChpc19ib3VuZCAmJiB0cnVzdGVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlc1twcm9wZXJ0eV0udmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sICdBdHRlbXB0IHRvIHNldCBzdGF0ZSBvZiBib3VuZCBwcm9wZXJ0eSBkaXJlY3RseS4gVW5hYmxlIHRvIHNldCB2YWx1ZSB7dmFsdWV9IG9mIHByb3BlcnR5IHtwcm9wZXJ0eX0uJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIERlYnVnLmVycm9yKHtcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcclxuICAgICAgICAgICAgICAgIHZhbDogdHlwZW9mIHZhbHVlXHJcbiAgICAgICAgICAgIH0sICdVbmFibGUgdG8gc2V0IHtwcm9wZXJ0eX0gdmFsdWUgYXMge3ZhbH0uIE11c3QgYmUgYm9vbGVhbi4gJywgdGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5kZWNvcmF0ZSA9IGZ1bmN0aW9uIChvYmplY3QsIGV2ZW50X2VtaXR0ZXIpIHtcclxuICAgICAgICB0YXJnZXQgPSBvYmplY3Q7XHJcblxyXG4gICAgICAgIGlmIChldmVudF9lbWl0dGVyKSB7XHJcbiAgICAgICAgICAgIGVtaXR0ZXIgPSBldmVudF9lbWl0dGVyO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbiAocHJvcGVydHksIHZhbHVlLCBlbmFibGVyLCBkaXNhYmxlcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBwcm9wZXJ0eS5tYXRjaChzdGF0ZV9zdHJpbmdfcmVnZXhwKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmFibGVyID0gcHJvcGVydHk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVByb3BlcnR5KG1hdGNoZXNbaV0sIHZhbHVlLCBlbmFibGVyLCBkaXNhYmxlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldCA9IGZ1bmN0aW9uIChwcm9wZXJ0eSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzID0gcHJvcGVydHkubWF0Y2goc3RhdGVfc3RyaW5nX3JlZ2V4cCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hdGNoZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UHJvcGVydHlWYWx1ZShtYXRjaGVzW2ldLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGFyZ2V0LmlzID0gZnVuY3Rpb24gKHN0YXRlLCBzdHJpY3QpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuJFNUQVRFU1BST1RFQ1RFRENPTlRFWFQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLiRTVEFURVNQUk9URUNURURIQVNFTUlUVEVSU0VUKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWV2ZW50X2VtaXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbWl0dGVyID0gc3RhdGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBzdGF0ZS5tYXRjaChzdGF0ZV9zdHJpbmdfcmVnZXhwKSxcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgc3RyaWN0ID0gdHlwZW9mIHN0cmljdCA9PT0gXCJ1bmRlZmluZWRcIiA/IHRydWUgOiB0eXBlb2Ygc3RyaWN0ID09PSBcImJvb2xlYW5cIiA/IHN0cmljdCA6IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hdGNoZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gaXNJblN0YXRlKG1hdGNoZXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RyaWN0ICYmICFyZXN1bHQpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0cmljdCAmJiByZXN1bHQpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7c3RhdGU6IHN0YXRlfSwgJ0ludmFsaWQgc3RhdGUgc3RyaW5nLiBVbmFibGUgdG8gcGFyc2Uge3N0YXRlfSBhbmQgY2hlY2sgc3RhdGUuJywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaXNJblN0YXRlKHN0YXRlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRhcmdldC5pcy4kJFNUQVRFU1BST1RFQ1RFRCA9IHRydWU7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuZGVjb3JhdGU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA1LzEvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAaW5qZWN0JywgJytEcmF3ZXInLCAnK1BhdGgnLCAnK01vZGVsJyxcclxuICAgICAgICBmdW5jdGlvbiBBcmVhT2JqZWN0RHJhd2VyKGluamVjdCwgRHJhd2VySGVscGVyLCBQYXRoSGVscGVyLCBNb2RlbEhlbHBlcikge1xyXG5cclxuICAgICAgICAgICAgdmFyIGFzc2VtYmxlciA9IGluamVjdCgnJEdyYXBoaWNzQXNzZW1ibGVyJyksXHJcbiAgICAgICAgICAgICAgICBib3ggPSB0aGlzLmV4dGVuc2lvbignQm94JyksXHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gdGhpcy5leHRlbnNpb24oJ01hdHJpeCcpLFxyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXggPSAxLCBpbnRlcnBvbGF0aW9uZml4ID0gMCxcclxuICAgICAgICAgICAgICAgIHhzaGlmdCA9IDAsIHlzaGlmdCA9IDA7XHJcblxyXG5cclxuICAgICAgICAgICAgLy9UT0RPIDogQXBwbHkgaW50ZXJwb2xhdGlvbiB0byBwYXRoIVxyXG5cclxuICAgICAgICAgICAgYXNzZW1ibGVyLmxheWVyKDAsICdmaWxsJywgVXBkYXRlRmlsbC5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLmxheWVyKDEsICdiZycsIFVwZGF0ZUJnLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBhc3NlbWJsZXIubGF5ZXIoMiwgJ3N0cm9rZScsIFVwZGF0ZVN0cm9rZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLmJveChib3gpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlRmlsbChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3ByaXRlID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLnNwcml0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoc3ByaXRlLm1hcmdpblszXSAtIHhzaGlmdCwgc3ByaXRlLm1hcmdpblswXSAtIHlzaGlmdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGludGVycG9sYXRpb24gPSBzdHlsZS5nZXQoJ2ludGVycG9sYXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWludGVycG9sYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFBhdGhIZWxwZXIuaW50ZXJwb2xhdGUocGF0aCwgaW50ZXJwb2xhdGlvbiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJwb2xhdGlvbikgRHJhd2VySGVscGVyLmRyYXdCZXppZXJQYXRoRmlsbChjb250ZXh0LCBwYXRoLCBzdHlsZSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIERyYXdlckhlbHBlci5kcmF3TGluZVBhdGhGaWxsKGNvbnRleHQsIHBhdGgsIHN0eWxlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlU3Ryb2tlKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzcHJpdGUgPSB0aGlzLmV4dGVuc2lvbignQm94JykuYm94KCkuc3ByaXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgICAgICBwYXRoID0gTW9kZWxIZWxwZXIuY2xvbmVBcnJheShzdHlsZS5nZXQoJ3BhdGgnKSksXHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGlvbiA9IHN0eWxlLmdldCgnaW50ZXJwb2xhdGlvbicpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShzcHJpdGUubWFyZ2luWzNdIC0geHNoaWZ0LCBzcHJpdGUubWFyZ2luWzBdIC0geXNoaWZ0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWludGVycG9sYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFBhdGhIZWxwZXIuaW50ZXJwb2xhdGUocGF0aCwgaW50ZXJwb2xhdGlvbiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJwb2xhdGlvbikgRHJhd2VySGVscGVyLmRyYXdMaW5lUGF0aChjb250ZXh0LCBwYXRoLCBzdHlsZSk7XHJcbiAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIuZHJhd0JlemllclBhdGgoY29udGV4dCwgcGF0aCwgc3R5bGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVCZyhjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgICAgICBzcHJpdGUgPSB0aGlzLmV4dGVuc2lvbignQm94JykuYm94KCkuc3ByaXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aCA9IE1vZGVsSGVscGVyLmNsb25lQXJyYXkoc3R5bGUuZ2V0KCdwYXRoJykpLFxyXG4gICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRpb24gPSBzdHlsZS5nZXQoJ2ludGVycG9sYXRpb24nKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoc3ByaXRlLm1hcmdpblszXSAtIHhzaGlmdCwgc3ByaXRlLm1hcmdpblswXSAtIHlzaGlmdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnRlcnBvbGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBQYXRoSGVscGVyLmludGVycG9sYXRlKHBhdGgsIGludGVycG9sYXRpb24sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGludGVycG9sYXRpb24pIERyYXdlckhlbHBlci5kcmF3TGluZUJnQ2xpcFBhdGgoY29udGV4dCwgcGF0aCwgc3R5bGUsIGFzc2VtYmxlciwgc3ByaXRlKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgRHJhd2VySGVscGVyLmRyYXdCZXppZXJCZ0NsaXBQYXRoKGNvbnRleHQsIHBhdGgsIHN0eWxlLCBhc3NlbWJsZXIsIHNwcml0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdwYXRoJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGludGVycG9sYXRpb24gPSBzdHlsZS5nZXQoJ2ludGVycG9sYXRpb24nKTtcclxuICAgICAgICAgICAgICAgIGludGVycG9sYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci5yZXNpemUoKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdpbnRlcnBvbGF0aW9uJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGludGVycG9sYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGlvbmZpeCA9IE1hdGgucm91bmQoNDAgKiBuKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci5yZXNpemUoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdwb3NpdGlvbicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaChbJ3N0cm9rZVN0eWxlJywgJ3N0cm9rZUNvbG9yJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnJlc2l6ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ2ZpbGwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaChbJ2JnJywgJ2JnU2l6ZScsICdiZ1Bvc2l0aW9uJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnc3Ryb2tlV2lkdGgnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpeCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5baV0gPiBmaXgpIGZpeCA9IG5baV07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4ID0gZml4IC8gMjtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpO1xyXG4gICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci5yZXNpemUoKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgYm94LmYoZnVuY3Rpb24gKGJveENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gc3R5bGUuZ2V0KCdwb3NpdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBzdHlsZS5nZXQoJ2FuY2hvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgIHggPSBwb3NpdGlvblswXSxcclxuICAgICAgICAgICAgICAgICAgICB5ID0gcG9zaXRpb25bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWlueCA9IEluZmluaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbnkgPSBJbmZpbml0eSxcclxuICAgICAgICAgICAgICAgICAgICBtYXh4ID0gLUluZmluaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIG1heHkgPSAtSW5maW5pdHk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMF0gPCBtaW54KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnggPSBwYXRoW2ldWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzJdIDwgbWlueCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW54ID0gcGF0aFtpXVsyXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVsxXSA8IG1pbnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlueSA9IHBhdGhbaV1bMV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bM10gPCBtaW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnkgPSBwYXRoW2ldWzNdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzBdID4gbWF4eCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXh4ID0gcGF0aFtpXVswXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVsyXSA+IG1heHgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4eCA9IHBhdGhbaV1bMl1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMV0gPiBtYXh5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heHkgPSBwYXRoW2ldWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzNdID4gbWF4eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXh5ID0gcGF0aFtpXVszXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobWlueCA9PT0gSW5maW5pdHkpIG1pbnggPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1pbnkgPT09IEluZmluaXR5KSBtaW55ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChtYXh4ID09PSAtSW5maW5pdHkpIG1heHggPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1heHkgPT09IC1JbmZpbml0eSkgbWF4eCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgeHNoaWZ0ID0gbWlueDtcclxuICAgICAgICAgICAgICAgIHlzaGlmdCA9IG1pbnk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGZpeCA9IHN0cm9rZWZpeCArIGludGVycG9sYXRpb25maXgsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBNYXRoLmFicyhtYXh4IC0gbWlueCksXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5hYnMobWF4eSAtIG1pbnkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdjZW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSB3aWR0aCA/IHdpZHRoIC8gMiA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSB3aWR0aCA/IHdpZHRoIDogMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdtaWRkbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBoZWlnaHQgPyBoZWlnaHQgLyAyIDogMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdib3R0b20nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBoZWlnaHQgPyBoZWlnaHQgOiAwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBib3hDb250YWluZXIuc2V0KFxyXG4gICAgICAgICAgICAgICAgICAgIHggKyB4c2hpZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgeSArIHlzaGlmdCxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgZml4LFxyXG4gICAgICAgICAgICAgICAgICAgIGZpeCxcclxuICAgICAgICAgICAgICAgICAgICBmaXgsXHJcbiAgICAgICAgICAgICAgICAgICAgZml4XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5leHBvcnQoYXNzZW1ibGVyLmV4cG9ydCk7XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZHJhd0Z1bmN0aW9uKGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIudHJhbnNmb3JtKHRoaXMsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoZHJhd2VyLmV4cG9ydCgpLCAwLCAwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGRyYXdlci5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlciA9IGFzc2VtYmxlci5kZXN0cm95KCksXHJcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZWQgPSB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXggPSB1bmRlZmluZWQsIGludGVycG9sYXRpb25maXggPSB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICB4c2hpZnQgPSB1bmRlZmluZWQsIHlzaGlmdCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEzLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnK0RyYXdlcicsICdEZWJ1ZycsICdAaW5qZWN0JyxcclxuICAgICAgICBmdW5jdGlvbiBDaXJjbGVPYmplY3REcmF3ZXIoRHJhd2VySGVscGVyLCBEZWJ1ZywgaW5qZWN0KSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgYXNzZW1ibGVyID0gaW5qZWN0KCckR3JhcGhpY3NBc3NlbWJsZXInKSxcclxuICAgICAgICAgICAgICAgIGRyYXdlciA9IHRoaXMuZXh0ZW5zaW9uKCdEcmF3ZXInKSxcclxuICAgICAgICAgICAgICAgIGJveEV4dCA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKSxcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB0aGlzLmV4dGVuc2lvbignTWF0cml4JyksXHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXggPSAxO1xyXG5cclxuICAgICAgICAgICAgYXNzZW1ibGVyLmxheWVyKDAsICdmaWxsJywgVXBkYXRlRmlsbC5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLmxheWVyKDEsICdiZycsIFVwZGF0ZUJnLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBhc3NlbWJsZXIubGF5ZXIoMiwgJ3N0cm9rZScsIFVwZGF0ZVN0cm9rZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLmJveChib3hFeHQpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlU3Ryb2tlKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzcHJpdGUgPSBib3hFeHQuYm94KCkuc3ByaXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyhzcHJpdGUuc2l6ZVswXSAvIDIsIHNwcml0ZS5zaXplWzFdIC8gMiwgc3R5bGUuZ2V0KCdyYWRpdXMnKSwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFVwZGF0ZUZpbGwoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGJveEV4dC5ib3goKS5zcHJpdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBzdHlsZS5nZXQoJ2ZpbGwnKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKHNwcml0ZS5zaXplWzBdIC8gMiwgc3ByaXRlLnNpemVbMV0gLyAyLCBzdHlsZS5nZXQoJ3JhZGl1cycpLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlQmcoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGJveEV4dC5ib3goKS5zcHJpdGUoKSxcclxuICAgICAgICAgICAgICAgICAgICBib3ggPSBib3hFeHQuYm94KCkudmFsdWUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMoc3ByaXRlLnNpemVbMF0gLyAyLCBzcHJpdGUuc2l6ZVsxXSAvIDIsIHN0eWxlLmdldCgncmFkaXVzJyksIDAsIE1hdGguUEkgLyAyKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xpcCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBiZ3Bvc2l0aW9uID0gc3R5bGUuZ2V0KCdiZ1Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYmdzaXplID0gc3R5bGUuZ2V0KCdiZ1NpemUnKSxcclxuICAgICAgICAgICAgICAgICAgICBiZyA9IHN0eWxlLmdldCgnYmcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJnLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYmdbaV0ubG9hZGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmdbaV0ub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJnd2lkdGggPSBib3guc2l6ZVswXSAqIGJnc2l6ZVtpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnaGVpZ2h0ID0gYm94LnNpemVbMV0gKiBiZ3NpemVbaV1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9ueCA9IGJveC5zaXplWzBdICogYmdwb3NpdGlvbltpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb255ID0gYm94LnNpemVbMV0gKiBiZ3Bvc2l0aW9uW2ldWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoc3ByaXRlLm1hcmdpblszXSArIGJncG9zaXRpb254LCBzcHJpdGUubWFyZ2luWzBdICsgYmdwb3NpdGlvbnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShiZ1tpXS5leHBvcnQoKSwgMCwgMCwgYmd3aWR0aCwgYmdoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJveEV4dC5mKGZ1bmN0aW9uIChib3hDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciByYWRpdXMgPSBzdHlsZS5nZXQoJ3JhZGl1cycpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gc3R5bGUuZ2V0KCdwb3NpdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvciA9IHN0eWxlLmdldCgnYW5jaG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgZCA9IHJhZGl1cyAqIDI7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHggPSBwb3NpdGlvblswXSxcclxuICAgICAgICAgICAgICAgICAgICB5ID0gcG9zaXRpb25bMV07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ2NlbnRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IHJhZGl1c1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PT0gJ21pZGRsZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IHJhZGl1c1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PT0gJ2JvdHRvbScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IGQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYm94Q29udGFpbmVyLnNldCh4LCB5LCBkLCBkLCBzdHJva2VmaXgsIHN0cm9rZWZpeCwgc3Ryb2tlZml4LCBzdHJva2VmaXgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3JhZGl1cycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKTtcclxuICAgICAgICAgICAgICAgIGJveEV4dC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIucmVzaXplKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnZmlsbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdwb3NpdGlvbicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGJveEV4dC5wdXJnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3N0cm9rZVdpZHRoJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChuICE9PSBvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlZml4ID0gbjtcclxuICAgICAgICAgICAgICAgICAgICBib3hFeHQucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBhc3NlbWJsZXIucmVzaXplKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaChbJ3N0cm9rZVN0eWxlJywgJ3N0cm9rZUNvbG9yJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0b2tlJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaChbJ2JnJywgJ2JnUG9zaXRpb24nLCAnYmdTaXplJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmV4cG9ydChhc3NlbWJsZXIuZXhwb3J0KTtcclxuICAgICAgICAgICAgZHJhd2VyLmRyYXdGdW5jdGlvbihmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLnRyYW5zZm9ybSh0aGlzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGRyYXdlci5leHBvcnQoKSwgMCwgMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkcmF3ZXIuZGVzdHJveShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIgPSBhc3NlbWJsZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgYm94RXh0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS81LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnRGVidWcnLCAnK01hdHJpeCcsXHJcbiAgICAgICAgZnVuY3Rpb24gRGVmYXVsdE9iamVjdERyYXdlcihEZWJ1ZywgTWF0cml4KSB7XHJcbiAgICAgICAgICAgIHZhciBtYXRyaXggPSB0aGlzLmV4dGVuc2lvbignTWF0cml4Jyk7XHJcblxyXG4gICAgICAgICAgICBtYXRyaXguZihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0cml4Lm9iamVjdE1hdHJpeCh0aGlzKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsncG9zaXRpb24nLCAncm90YXRlJywgJ3RyYW5zbGF0ZScsICdzY2FsZScsICdza2V3J10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbWF0cml4LmRlc3Ryb3koZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnK0RyYXdlcicsXHJcbiAgICAgICAgZnVuY3Rpb24gR3JvdXBPYmplY3REcmF3ZXIoRHJhd2VySGVscGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBkcmF3ZXIgPSB0aGlzLmV4dGVuc2lvbignRHJhd2VyJyksXHJcbiAgICAgICAgICAgICAgICBsYXllcnMgPSB0aGlzLmV4dGVuc2lvbignTGF5ZXJzJyksXHJcbiAgICAgICAgICAgICAgICBib3ggPSB0aGlzLmV4dGVuc2lvbignQm94JyksXHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgYm94LmYoZnVuY3Rpb24gKGJveENvbnRhaW5lcikge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBtaW54ID0gSW5maW5pdHksXHJcbiAgICAgICAgICAgICAgICAgICAgbWlueSA9IEluZmluaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIG1heHggPSAtSW5maW5pdHksXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4eSA9IC1JbmZpbml0eTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvYm94ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLnZhbHVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWlueCA9IE1hdGgubWluKG1pbngsIG9ib3gucG9zaXRpb25bMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbnkgPSBNYXRoLm1pbihtaW55LCBvYm94LnBvc2l0aW9uWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXh4ID0gTWF0aC5tYXgobWF4eCwgb2JveC5wb3NpdGlvblswXSArIG9ib3guc2l6ZVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4eSA9IE1hdGgubWF4KG1heHksIG9ib3gucG9zaXRpb25bMV0gKyBvYm94LnNpemVbMV0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gc3R5bGUuZ2V0KCdwb3NpdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtaW54ID09PSBJbmZpbml0eSkgbWlueCA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF4eCA9PT0gLUluZmluaXR5KSBtYXh4ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChtaW55ID09PSBJbmZpbml0eSkgbWlueSA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF4eSA9PT0gLUluZmluaXR5KSBtYXh5ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBib3hDb250YWluZXIuc2V0KFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbnggKyBwb3NpdGlvblswXSxcclxuICAgICAgICAgICAgICAgICAgICBtaW55ICsgcG9zaXRpb25bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4eCAtIG1pbngsXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4eSAtIG1pbnksXHJcbiAgICAgICAgICAgICAgICAgICAgMCwgMCwgMCwgMFxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncG9zaXRpb24nLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIF9hcmd1bW5ldHM7XHJcbiAgICAgICAgICAgIGRyYXdlci5kcmF3RnVuY3Rpb24oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX2FyZ3VtbmV0cyA9IGFyZ3VtZW50cztcclxuICAgICAgICAgICAgICAgIERyYXdlckhlbHBlci50cmFuc2Zvcm0odGhpcywgX2FyZ3VtbmV0c1swXSk7XHJcbiAgICAgICAgICAgICAgICBsYXllcnMuZm9yRWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2FyZ3VtbmV0c1swXS5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLmRyYXcuYXBwbHkodGhpcywgX2FyZ3VtbmV0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgX2FyZ3VtbmV0c1swXS5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGRyYXdlci5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGRyYXdlciA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGxheWVycyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGJveCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgX2FyZ3VtbmV0cyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrRHJhd2VyJywgJ1Jlc291cmNlJywgJ0BpbmplY3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEltYWdlT2JqZWN0RHJhd2VyKERyYXdlckhlbHBlciwgUmVzb3VyY2UsIGluamVjdCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBib3ggPSB0aGlzLmV4dGVuc2lvbignQm94JyksXHJcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBpbmplY3QoJyRDYW52YXMnKSxcclxuICAgICAgICAgICAgICAgIGRyYXdlciA9IHRoaXMuZXh0ZW5zaW9uKCdEcmF3ZXInKSxcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHRoaXMuZXh0ZW5zaW9uKCdNYXRyaXgnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IG51bGwsIGhlaWdodCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBpbWFnZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdzcmMnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG8gIT09IG4pIHtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZSA9IFJlc291cmNlLmltYWdlKG4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkdGggPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gc3R5bGUuZ2V0KCdzaXplJylbMF0gPyBzdHlsZS5nZXQoJ3NpemUnKVswXSA6IGltYWdlLndpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMud2lkdGgod2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoZWlnaHQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IHN0eWxlLmdldCgnc2l6ZScpWzFdID8gc3R5bGUuZ2V0KCdzaXplJylbMV0gOiBpbWFnZS5oZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQoaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuY29udGV4dCgpLmRyYXdJbWFnZShpbWFnZS5leHBvcnQoKSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd2VyLnNwcml0ZVVwZGF0ZWQuY2FsbCh7JCRDQUxMOiB0cnVlfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnc2l6ZScsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob1swXSAhPT0gblswXSB8fCBvWzFdICE9PSBuWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBuWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IG5bMV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLndpZHRoKHdpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0KGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLmNvbnRleHQoKS5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoKCksIGNhbnZhcy5oZWlnaHQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLmNvbnRleHQoKS5kcmF3SW1hZ2UoaW1hZ2UuZXhwb3J0KCksIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3Bvc2l0aW9uJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChvWzBdICE9PSBuWzBdIHx8IG9bMV0gIT09IG5bMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBib3guZihmdW5jdGlvbiAoYm94Q29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBzdHlsZS5nZXQoJ3Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gc3R5bGUuZ2V0KCdhbmNob3InKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IHBvc2l0aW9uWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkgPSBwb3NpdGlvblsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gd2lkdGggPyB3aWR0aCAvIDIgOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gd2lkdGggPyB3aWR0aCA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnbWlkZGxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gaGVpZ2h0ID8gaGVpZ2h0IC8gMiA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnYm90dG9tJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gaGVpZ2h0ID8gaGVpZ2h0IDogMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYm94Q29udGFpbmVyLnNldCh4LCB5LCB3aWR0aCA/IHdpZHRoIDogMCwgaGVpZ2h0ID8gaGVpZ2h0IDogMCwgMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmZpbHRlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW1hZ2UgJiYgaW1hZ2UubG9hZGVkKCkgJiYgIWltYWdlLmVycm9yKCkgJiZcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCAhPT0gbnVsbCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCAhPT0gbnVsbCAmJiB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZXhwb3J0KGNhbnZhcy5leHBvcnQpO1xyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmRyYXdGdW5jdGlvbihmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLnRyYW5zZm9ybSh0aGlzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGRyYXdlci5leHBvcnQoKSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmRlc3Ryb3koZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBib3ggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBjYW52YXMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgd2lkdGggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBpbWFnZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BpbmplY3QnLCAnRGVidWcnLCAnK0RyYXdlcicsICcrUGF0aCcsXHJcbiAgICAgICAgZnVuY3Rpb24gTGluZU9iamVjdERyYXdlcihpbmplY3QsIERlYnVnLCBEcmF3ZXJIZWxwZXIsIFBhdGhIZWxwZXIpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBib3ggPSB0aGlzLmV4dGVuc2lvbignQm94JyksXHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgY2FudmFzID0gaW5qZWN0KCckQ2FudmFzJyksXHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB0aGlzLmV4dGVuc2lvbignTWF0cml4JyksXHJcbiAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IGZhbHNlLCBpbnRlcnBvbGF0ZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeCA9IDEsIGludGVycG9sYXRpb25maXggPSAwLFxyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgICAgICAgICAgeHNoaWZ0ID0gMCwgeXNoaWZ0ID0gMDtcclxuXHJcbiAgICAgICAgICAgIGJveC5mKGZ1bmN0aW9uIChib3hDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gc3R5bGUuZ2V0KCdhbmNob3InKSxcclxuICAgICAgICAgICAgICAgICAgICB4ID0gcG9zaXRpb25bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeSA9IHBvc2l0aW9uWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbnggPSBJbmZpbml0eSxcclxuICAgICAgICAgICAgICAgICAgICBtaW55ID0gSW5maW5pdHksXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4eCA9IC1JbmZpbml0eSxcclxuICAgICAgICAgICAgICAgICAgICBtYXh5ID0gLUluZmluaXR5O1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzBdIDwgbWlueCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW54ID0gcGF0aFtpXVswXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVsyXSA8IG1pbngpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlueCA9IHBhdGhbaV1bMl1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMV0gPCBtaW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnkgPSBwYXRoW2ldWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzNdIDwgbWlueSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW55ID0gcGF0aFtpXVszXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVswXSA+IG1heHgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4eCA9IHBhdGhbaV1bMF1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMl0gPiBtYXh4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heHggPSBwYXRoW2ldWzJdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzFdID4gbWF4eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXh5ID0gcGF0aFtpXVsxXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVszXSA+IG1heHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4eSA9IHBhdGhbaV1bM11cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1pbnggPT09IEluZmluaXR5KSBtaW54ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChtaW55ID09PSBJbmZpbml0eSkgbWlueSA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF4eCA9PT0gLUluZmluaXR5KSBtYXh4ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChtYXh5ID09PSAtSW5maW5pdHkpIG1heHggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIHhzaGlmdCA9IG1pbng7XHJcbiAgICAgICAgICAgICAgICB5c2hpZnQgPSBtaW55O1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBmaXggPSBzdHJva2VmaXggKyBpbnRlcnBvbGF0aW9uZml4LFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gTWF0aC5hYnMobWF4eCAtIG1pbngpLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IE1hdGguYWJzKG1heHkgLSBtaW55KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gd2lkdGggPyB3aWR0aCAvIDIgOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gd2lkdGggPyB3aWR0aCA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnbWlkZGxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gaGVpZ2h0ID8gaGVpZ2h0IC8gMiA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnYm90dG9tJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gaGVpZ2h0ID8gaGVpZ2h0IDogMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYm94Q29udGFpbmVyLnNldChcclxuICAgICAgICAgICAgICAgICAgICB4ICsgeHNoaWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgIHkgKyB5c2hpZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgIGZpeCxcclxuICAgICAgICAgICAgICAgICAgICBmaXgsXHJcbiAgICAgICAgICAgICAgICAgICAgZml4LFxyXG4gICAgICAgICAgICAgICAgICAgIGZpeFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdwYXRoJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGludGVycG9sYXRpb24gPSBzdHlsZS5nZXQoJ2ludGVycG9sYXRpb24nKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0aW9uICE9PSAwKSBpbnRlcnBvbGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdwb3NpdGlvbicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3N0cm9rZVdpZHRoJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaXggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuW2ldID4gZml4KSBmaXggPSBuW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeCA9IGZpeCAvIDI7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ2ludGVycG9sYXRpb24nLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG8gIT09IG4pIGludGVycG9sYXRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGludGVycG9sYXRpb25maXggPSBNYXRoLnJvdW5kKDIwICogbik7XHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsnc3Ryb2tlU3R5bGUnLCAnc3Ryb2tlQ29sb3InXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmNvbnRleHQoKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFVwZGF0ZUNhbnZhcygpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzcHJpdGUgPSBib3guYm94KCkuc3ByaXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRpb24gPSBzdHlsZS5nZXQoJ2ludGVycG9sYXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY2FudmFzLndpZHRoKCkgIT09IHNwcml0ZS5zaXplWzBdIHx8IGNhbnZhcy5oZWlnaHQoKSAhPT0gc3ByaXRlLnNpemVbMV0pIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gc3ByaXRlLnNpemVbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IHNwcml0ZS5zaXplWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMud2lkdGgod2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQoaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHNwcml0ZS5zaXplWzBdLCBzcHJpdGUuc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghaW50ZXJwb2xhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUGF0aEhlbHBlci5pbnRlcnBvbGF0ZShwYXRoLCBpbnRlcnBvbGF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoc3ByaXRlLm1hcmdpblszXSAtIHhzaGlmdCwgc3ByaXRlLm1hcmdpblswXSAtIHlzaGlmdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGludGVycG9sYXRpb24gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIuZHJhd0JlemllclBhdGgoY3R4LCBwYXRoLCBzdHlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERyYXdlckhlbHBlci5kcmF3TGluZVBhdGgoY3R4LCBwYXRoLCBzdHlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmZpbHRlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVxdWlyZV91cGRhdGUpIFVwZGF0ZUNhbnZhcy5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkcmF3ZXIuZXhwb3J0KGNhbnZhcy5leHBvcnQpO1xyXG4gICAgICAgICAgICBkcmF3ZXIuZHJhd0Z1bmN0aW9uKGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIudHJhbnNmb3JtKHRoaXMsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoZHJhd2VyLmV4cG9ydCgpLCAwLCAwKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZGVzdHJveShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjdHggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBib3ggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGNhbnZhcyA9IGNhbnZhcy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uZml4ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgeHNoaWZ0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgeXNoaWZ0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTEvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAaW5qZWN0JywgJytEcmF3ZXInLFxyXG4gICAgICAgIGZ1bmN0aW9uIFJlY3RhbmdsZU9iamVjdERyYXdlcihpbmplY3QsIERyYXdlckhlbHBlcikge1xyXG5cclxuICAgICAgICAgICAgdmFyIGFzc2VtYmxlciA9IGluamVjdCgnJEdyYXBoaWNzQXNzZW1ibGVyJyksXHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgICAgICAgICAgYm94RXh0ZW5zaW9uID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLFxyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gdGhpcy5leHRlbnNpb24oJ01hdHJpeCcpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4ID0gWzIsIDIsIDIsIDJdLFxyXG4gICAgICAgICAgICAgICAgdmlld1NpemUgPSBbMCwgMF07XHJcblxyXG4gICAgICAgICAgICBhc3NlbWJsZXIubGF5ZXIoMCwgJ2ZpbGwnLCBVcGRhdGVGaWxsLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBhc3NlbWJsZXIubGF5ZXIoMSwgJ2JnJywgVXBkYXRlQmcuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5sYXllcigyLCAnc3Ryb2tlJywgVXBkYXRlU3Ryb2tlLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBhc3NlbWJsZXIuYm94KGJveEV4dGVuc2lvbik7XHJcblxyXG4gICAgICAgICAgICBib3hFeHRlbnNpb24uZihmdW5jdGlvbiAoYm94Q29udGFpbmVyKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gc3R5bGUuZ2V0KCdwb3NpdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemUgPSBzdHlsZS5nZXQoJ3NpemUnKSxcclxuICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBzdHlsZS5nZXQoJ2FuY2hvcicpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB4ID0gcG9zaXRpb25bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeSA9IHBvc2l0aW9uWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdjZW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSBzaXplWzBdIC8gMjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IHNpemVbMF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnbWlkZGxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gc2l6ZVsxXSAvIDI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnYm90dG9tJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gc2l6ZVsxXVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZpZXdTaXplWzBdID0gc2l6ZVswXTtcclxuICAgICAgICAgICAgICAgIHZpZXdTaXplWzFdID0gc2l6ZVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICBib3hDb250YWluZXIuc2V0KFxyXG4gICAgICAgICAgICAgICAgICAgIHgsIHksXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZVswXSwgc2l6ZVsxXSxcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VmaXhbMF0sIHN0cm9rZWZpeFsxXSwgc3Ryb2tlZml4WzJdLCBzdHJva2VmaXhbM11cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmV4cG9ydChhc3NlbWJsZXIuZXhwb3J0KTtcclxuICAgICAgICAgICAgZHJhd2VyLmRyYXdGdW5jdGlvbihmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLnRyYW5zZm9ybSh0aGlzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIGlmICh2aWV3U2l6ZVswXSA+PSAxICYmIHZpZXdTaXplWzFdID49IDApIGNvbnRleHQuZHJhd0ltYWdlKGRyYXdlci5leHBvcnQoKSwgMCwgMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnc2l6ZScsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIucmVzaXplKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIGJveEV4dGVuc2lvbi5wdXJnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3JhZGl1cycsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnc3Ryb2tlV2lkdGgnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4WzBdID0gblswXTtcclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeFsxXSA9IG5bMV07XHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXhbMl0gPSBuWzJdO1xyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4WzNdID0gblszXTtcclxuICAgICAgICAgICAgICAgIGJveEV4dGVuc2lvbi5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnJlc2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaChbJ3Bvc2l0aW9uJywgJ3NpemUnXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYm94RXh0ZW5zaW9uLnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsnYmcnLCAnYmdTaXplJywgJ2JnUG9zaXRpb24nXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsnc3Ryb2tlU3R5bGUnLCAnc3Ryb2tlQ29sb3InXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaChbJ2ZpbGwnXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZVJhZGl1cyhyYWRpdXMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW3JhZGl1c1swXSwgcmFkaXVzWzFdLCByYWRpdXNbMl0sIHJhZGl1c1szXV0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm94ID0gYm94RXh0ZW5zaW9uLmJveCgpLnZhbHVlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgaGFsZmJveCA9IFtib3guc2l6ZVswXSAvIDIsIGJveC5zaXplWzFdIC8gMl07XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0W2ldID4gaGFsZmJveFswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBoYWxmYm94WzBdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbaV0gPiBoYWxmYm94WzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IGhhbGZib3hbMV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZHJhd1JlY3RQYXRoKGNvbnRleHQsIHN0cm9rZSkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciByYWRpdXMgPSBub3JtYWxpemVSYWRpdXMoc3R5bGUuZ2V0KCdyYWRpdXMnKSksXHJcbiAgICAgICAgICAgICAgICAgICAgayA9IDAuNTUyMjg0NzQ5OCxcclxuICAgICAgICAgICAgICAgICAgICBib3ggPSBib3hFeHRlbnNpb24uYm94KCkudmFsdWUoKSxcclxuICAgICAgICAgICAgICAgICAgICBzcHJpdGUgPSBib3hFeHRlbnNpb24uYm94KCkuc3ByaXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHJva2VDb2xvciA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGggPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXAgPSBzdHlsZS5nZXQoJ2NhcCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBjYXA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyYWRpdXNbMF0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oc3ByaXRlLm1hcmdpblszXSArIHJhZGl1c1swXSwgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdHlsZVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGhbMF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmFkaXVzWzFdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGJveC5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSAtIHJhZGl1c1sxXSwgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnZlTW9kaWZpZXIgPSBrICogcmFkaXVzWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMF0gKyBzcHJpdGUubWFyZ2luWzNdIC0gcmFkaXVzWzFdICsgY3VydmVNb2RpZmllcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMF0gKyBzcHJpdGUubWFyZ2luWzNdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUubWFyZ2luWzBdICsgcmFkaXVzWzFdIC0gY3VydmVNb2RpZmllcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMF0gKyBzcHJpdGUubWFyZ2luWzNdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUubWFyZ2luWzBdICsgcmFkaXVzWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oYm94LnNpemVbMF0gKyBzcHJpdGUubWFyZ2luWzNdLCBzcHJpdGUubWFyZ2luWzBdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSBjb250ZXh0LnN0cm9rZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0cm9rZVN0eWxlWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3JbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VXaWR0aFsxXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChyYWRpdXNbMl0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnZlTW9kaWZpZXIgPSBrICogcmFkaXVzWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGJveC5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSwgYm94LnNpemVbMV0gKyBzcHJpdGUubWFyZ2luWzBdIC0gcmFkaXVzWzJdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdHlsZVsyXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvclsyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VXaWR0aFsyXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3guc2l6ZVswXSArIHNwcml0ZS5tYXJnaW5bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXSAtIHJhZGl1c1syXSArIGN1cnZlTW9kaWZpZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSAtIHJhZGl1c1syXSArIGN1cnZlTW9kaWZpZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMF0gKyBzcHJpdGUubWFyZ2luWzNdIC0gcmFkaXVzWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3guc2l6ZVsxXSArIHNwcml0ZS5tYXJnaW5bMF1cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGJveC5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSwgYm94LnNpemVbMV0gKyBzcHJpdGUubWFyZ2luWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0cm9rZVN0eWxlWzJdKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3JbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VXaWR0aFsyXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmFkaXVzWzNdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJ2ZU1vZGlmaWVyID0gayAqIHJhZGl1c1szXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhzcHJpdGUubWFyZ2luWzNdICsgcmFkaXVzWzNdLCBib3guc2l6ZVsxXSArIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bM10gKyByYWRpdXNbM10gLSBjdXJ2ZU1vZGlmaWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3guc2l6ZVsxXSArIHNwcml0ZS5tYXJnaW5bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXSAtIHJhZGl1c1szXSArIGN1cnZlTW9kaWZpZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXSAtIHJhZGl1c1szXVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHNwcml0ZS5tYXJnaW5bM10sIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkgY29udGV4dC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdHlsZVszXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yWzNdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGhbM107XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJhZGl1c1swXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VydmVNb2RpZmllciA9IGsgKiByYWRpdXNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oc3ByaXRlLm1hcmdpblszXSwgc3ByaXRlLm1hcmdpblswXSArIHJhZGl1c1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkgY29udGV4dC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0cm9rZVN0eWxlWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva1N0eWxlID0gc3Ryb2tlQ29sb3JbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGhbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblszXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblswXSArIHJhZGl1c1swXSAtIGN1cnZlTW9kaWZpZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bMF0gKyByYWRpdXNbMF0gLSBjdXJ2ZU1vZGlmaWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUubWFyZ2luWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUubWFyZ2luWzNdICsgcmFkaXVzWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUubWFyZ2luWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhzcHJpdGUubWFyZ2luWzNdLCBzcHJpdGUubWFyZ2luWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gaGFzUmFkaXVzKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJhZGl1cyA9IHN0eWxlLmdldCgncmFkaXVzJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYWRpdXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmFkaXVzW2ldID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBoYXNTdHJva2UoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3Ryb2tlID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3Ryb2tlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZVtpXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG1vbm9TdHJva2UoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3Ryb2tlQ29sb3IgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGggPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgZENvbG9yID0gc3Ryb2tlQ29sb3JbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgZFdpZHRoID0gc3Ryb2tlV2lkdGhbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgZFN0eWxlID0gc3Ryb2tlU3R5bGVbMF0sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCA0OyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRDb2xvciAhPT0gc3Ryb2tlQ29sb3JbaV0gfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZFdpZHRoICE9PSBzdHJva2VXaWR0aFtpXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAhKHN0cm9rZVN0eWxlW2ldWzBdID09PSBkU3R5bGVbMF0gJiYgc3Ryb2tlU3R5bGVbaV1bMV0gPT09IGRTdHlsZVsxXSlcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFVwZGF0ZUJnKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBib3hDb250YWluZXIgPSBib3hFeHRlbnNpb24uYm94KCksXHJcbiAgICAgICAgICAgICAgICAgICAgYm94ID0gYm94Q29udGFpbmVyLnZhbHVlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlID0gYm94Q29udGFpbmVyLnNwcml0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb24gPSBzdHlsZS5nZXQoJ2JnUG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICBiZ3NpemUgPSBzdHlsZS5nZXQoJ2JnU2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJnID0gc3R5bGUuZ2V0KCdiZycpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChoYXNSYWRpdXMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRyYXdSZWN0UGF0aChjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZWN0KHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0sIGJveC5zaXplWzBdLCBib3guc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5jbGlwKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiZy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWJnW2ldLmxvYWRlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJnW2ldLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZ3dpZHRoID0gYm94LnNpemVbMF0gKiBiZ3NpemVbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ2hlaWdodCA9IGJveC5zaXplWzFdICogYmdzaXplW2ldWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbnggPSBib3guc2l6ZVswXSAqIGJncG9zaXRpb25baV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9ueSA9IGJveC5zaXplWzFdICogYmdwb3NpdGlvbltpXVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHNwcml0ZS5tYXJnaW5bM10gKyBiZ3Bvc2l0aW9ueCwgc3ByaXRlLm1hcmdpblswXSArIGJncG9zaXRpb255KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoYmdbaV0uZXhwb3J0KCksIDAsIDAsIGJnd2lkdGgsIGJnaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVTdHJva2UoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGhhc1N0cm9rZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0cm9rZUNvbG9yID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveENvbnRhaW5lciA9IGJveEV4dGVuc2lvbi5ib3goKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94ID0gYm94Q29udGFpbmVyLnZhbHVlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZSA9IGJveENvbnRhaW5lci5zcHJpdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1JhZGl1cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdSZWN0UGF0aChjb250ZXh0LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9ub1N0cm9rZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FwID0gc3R5bGUuZ2V0KCdjYXAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZUNhcCA9IGNhcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VXaWR0aFswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhzcHJpdGUubWFyZ2luWzNdLCBzcHJpdGUubWFyZ2luWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHNwcml0ZS5tYXJnaW5bM10gKyBib3guc2l6ZVswXSwgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhzcHJpdGUubWFyZ2luWzNdICsgYm94LnNpemVbMF0sIHNwcml0ZS5tYXJnaW5bMF0gKyBib3guc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhzcHJpdGUubWFyZ2luWzNdLCBzcHJpdGUubWFyZ2luWzBdICsgYm94LnNpemVbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oc3ByaXRlLm1hcmdpblszXSwgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVGaWxsKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxsID0gc3R5bGUuZ2V0KCdmaWxsJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYm94Q29udGFpbmVyID0gYm94RXh0ZW5zaW9uLmJveCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJveCA9IGJveENvbnRhaW5lci52YWx1ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZSA9IGJveENvbnRhaW5lci5zcHJpdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzUmFkaXVzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkcmF3UmVjdFBhdGgoY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVjdChzcHJpdGUubWFyZ2luWzNdLCBzcHJpdGUubWFyZ2luWzBdLCBib3guc2l6ZVswXSwgYm94LnNpemVbMV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlciA9IGFzc2VtYmxlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGRyYXdlciA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGJveEV4dGVuc2lvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoc3Ryb2tlZml4WzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlZml4LnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAodmlld1NpemVbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2aWV3U2l6ZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgdmlld1NpemUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytEcmF3ZXInLCAnK01vZGVsJywgJ1Jlc291cmNlJywgJ0BpbmplY3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFNwcml0ZU9iamVjdERyYXdlcihEcmF3ZXJIZWxwZXIsIE1vZGVsSGVscGVyLCBSZXNvdXJjZSwgaW5qZWN0KSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGJveCA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKSxcclxuICAgICAgICAgICAgICAgIGRyYXdlciA9IHRoaXMuZXh0ZW5zaW9uKCdEcmF3ZXInKSxcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHRoaXMuZXh0ZW5zaW9uKCdNYXRyaXgnKSxcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gbnVsbCwgaGVpZ2h0ID0gbnVsbCwgaW1hZ2UgPSBpbmplY3QoJyRDYW52YXMnKTtcclxuXHJcbiAgICAgICAgICAgIGJveC5mKGZ1bmN0aW9uIChib3hDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBzdHlsZS5nZXQoJ2FuY2hvcicpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB4ID0gcG9zaXRpb25bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeSA9IHBvc2l0aW9uWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdjZW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSB3aWR0aCA/IHdpZHRoIC8gMiA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSB3aWR0aCA/IHdpZHRoIDogMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdtaWRkbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBoZWlnaHQgPyBoZWlnaHQgLyAyIDogMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdib3R0b20nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBoZWlnaHQgPyBoZWlnaHQgOiAwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBib3hDb250YWluZXIuc2V0KFxyXG4gICAgICAgICAgICAgICAgICAgIHgsXHJcbiAgICAgICAgICAgICAgICAgICAgeSxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA/IHdpZHRoIDogMCxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPyBoZWlnaHQgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgICAgICAgIDBcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5leHBvcnQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGltYWdlLmV4cG9ydCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZHJhd2VyLmRyYXdGdW5jdGlvbihmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLnRyYW5zZm9ybSh0aGlzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGRyYXdlci5leHBvcnQoKSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnc3JjJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChuICE9PSBvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBNb2RlbEhlbHBlci5yZWFkU3ByaXRlU3RyaW5nKG4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZSA9IFJlc291cmNlLnNwcml0ZShkYXRhLnVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2UuY29uZmlnKGRhdGEuZnJhbWVzKTtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpZHRoID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gaW1hZ2Uud2lkdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGVpZ2h0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IGltYWdlLmhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdzaXplJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChvWzBdICE9PSBuWzBdIHx8IG9bMV0gIT09IG5bMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IG5bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gblsxXTtcclxuICAgICAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3Bvc2l0aW9uJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChvWzBdICE9PSBuWzBdIHx8IG9bMV0gIT09IG5bMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZGVzdHJveShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGJveCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGRyYXdlciA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2UgPSBpbWFnZS5kZXN0cm95ID8gaW1hZ2UuZGVzdHJveSgpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMy8yNS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BpbmplY3QnLCAnK0RyYXdlcicsICdSZXNvdXJjZScsXHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dE9iamVjdERyYXdlcihpbmplY3QsIERyYXdlckhlbHBlciwgUmVzb3VyY2UpIHtcclxuICAgICAgICAgICAgdmFyIHRleHQgPSB0aGlzLmV4dGVuc2lvbignVGV4dCcpLFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGJveCA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKSxcclxuICAgICAgICAgICAgICAgIGRyYXdlciA9IHRoaXMuZXh0ZW5zaW9uKCdEcmF3ZXInKSxcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHRoaXMuZXh0ZW5zaW9uKCdNYXRyaXgnKSxcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBmb250ID0gc3R5bGUuZ2V0KCdmb250JyksXHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQgPSBzdHlsZS5nZXQoJ3dlaWdodCcpLFxyXG4gICAgICAgICAgICAgICAgZnN0eWxlID0gc3R5bGUuZ2V0KCdzdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyID0gaW5qZWN0KCckR3JhcGhpY3NBc3NlbWJsZXInKTtcclxuXHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5sYXllcigwLCAndGV4dCcsIFVwZGF0ZVRleHRMYXllcik7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVUZXh0TGF5ZXIoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdGV4dC51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbGluZUhlaWdodCA9IHN0eWxlLmdldCgnbGluZUhlaWdodCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yID0gc3R5bGUuZ2V0KCdjb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplID0gc3R5bGUuZ2V0KCdmb250U2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFsaWduID0gc3R5bGUuZ2V0KCdhbGlnbicpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHRvcFNwYW4gPSBsaW5lSGVpZ2h0IC0gKGZvbnRTaXplIC8gNSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGZvbnRTaXplIDwgbGluZUhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcFNwYW4gPSB0b3BTcGFuIC0gKGxpbmVIZWlnaHQgLSBmb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcFNwYW4gPSB0b3BTcGFuICsgKGZvbnRTaXplIC0gbGluZUhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0ZXh0LmZvckVhY2hMaW5lKGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeSA9IHRvcFNwYW4gKyBpICogbGluZUhlaWdodDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5mb250ID0gdGhpcy5leHRyYWN0Rm9udFN0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5jb2xvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGlnbiA9PT0gJ2NlbnRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dCh0aGlzLnN0cmluZygpLCAodGV4dC50ZXh0QmxvY2tXaWR0aCgpIC0gdGhpcy53aWR0aCgpKSAvIDIsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWxpZ24gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dCh0aGlzLnN0cmluZygpLCB0ZXh0LnRleHRCbG9ja1dpZHRoKCkgLSB0aGlzLndpZHRoKCkgLSAyLCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHRoaXMuc3RyaW5nKCksIDIsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRGb250RmlsZSgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfc3R5bGUgPSBmc3R5bGUgPT09ICdvYmxpcXVlJyA/ICdub3JtYWwnIDogZnN0eWxlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGYgPSBSZXNvdXJjZS5mb250KGZvbnQsIHdlaWdodCwgX3N0eWxlKTtcclxuICAgICAgICAgICAgICAgIGYub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQudXBkYXRlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZi5vbignZXJyb3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQudXBkYXRlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmZpbHRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXF1aXJlX3VwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2VtYmxlci5zaXplKHRleHQudGV4dEJsb2NrV2lkdGgoKSwgdGV4dC50ZXh0QmxvY2tIZWlnaHQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgndGV4dCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5leHBvcnQoYXNzZW1ibGVyLmV4cG9ydCk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBkcmF3VGV4dChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIudHJhbnNmb3JtKHRoaXMsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoZHJhd2VyLmV4cG9ydCgpLCAwLCAwKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaChbJ3N0cicsICdzdHlsZScsICdmb250JywgJ3dlaWdodCcsICdzaXplJywgJ2NvbG9yJywgJ2ZvbnRTaXplJywgJ2xpbmVIZWlnaHQnXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdmb250JywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGZvbnQgPSBuO1xyXG4gICAgICAgICAgICAgICAgZ2V0Rm9udEZpbGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3N0eWxlJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGZzdHlsZSA9IG47XHJcbiAgICAgICAgICAgICAgICBnZXRGb250RmlsZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnd2VpZ2h0JywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIHdlaWdodCA9IG47XHJcbiAgICAgICAgICAgICAgICBnZXRGb250RmlsZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ2FuY2hvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncG9zaXRpb24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGJveC5mKGZ1bmN0aW9uIChib3hDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBzdHlsZS5nZXQoJ2FuY2hvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgIHggPSBwb3NpdGlvblswXSxcclxuICAgICAgICAgICAgICAgICAgICB5ID0gcG9zaXRpb25bMV07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ2NlbnRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IHRleHQudGV4dEJsb2NrV2lkdGgoKSAvIDJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IHRleHQudGV4dEJsb2NrV2lkdGgoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdtaWRkbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSB0ZXh0LnRleHRCbG9ja0hlaWdodCgpIC8gMlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PT0gJ2JvdHRvbScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IHRleHQudGV4dEJsb2NrSGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBib3hDb250YWluZXIuc2V0KHgsIHksIHRleHQudGV4dEJsb2NrV2lkdGgoKSwgdGV4dC50ZXh0QmxvY2tIZWlnaHQoKSwgMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmRyYXdGdW5jdGlvbihkcmF3VGV4dCk7XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZGVzdHJveShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBib3ggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBkcmF3ZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGZvbnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBmc3R5bGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIgPSBhc3NlbWJsZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNS8xLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGV4dGVuZCcsICcrTW9kZWwnLCAnK1BhdGgnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEFyZWFPYmplY3RNb2RlbChleHRlbmQsIE1vZGVsSGVscGVyLCBQYXRoSGVscGVyLCBEZWJ1Zykge1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0TW9kZWwnKTtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckR2xvYmFsQmFja2dyb3VuZE1vZGVsJyk7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRGcmVlU3Ryb2tlTW9kZWwnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gdGhpcy5leHRlbnNpb24oJ0FuaW1hdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gU3luY1BhdGhQcm9wZXJ0eShwYXRoLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5wdXNoKHByb3BlcnR5W3Byb3BlcnR5Lmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoIDwgcHJvcGVydHkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuc3BsaWNlKHBhdGgubGVuZ3RoIC0gMSwgcHJvcGVydHkubGVuZ3RoIC0gcGF0aC5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdwYXRoJywgW1swLCAwLCAwLCAwLCAwLCAwLCAwLCAwXV0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoUGF0aEhlbHBlci5jaGVja1NpbXBsZVBhdGgodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGQgPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFBhdGhIZWxwZXIuY29udmVydFNpbXBsZVBhdGgodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0WzBdWzBdICE9PSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzJdIHx8IHJlc3VsdFswXVsxXSAhPT0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVszXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVszXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbMF1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0WzBdWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVszXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbMF1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0WzBdWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZC5sZW5ndGggIT09IHJlc3VsdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN5bmNQYXRoUHJvcGVydHkocmVzdWx0LCBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3luY1BhdGhQcm9wZXJ0eShyZXN1bHQsIHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeW5jUGF0aFByb3BlcnR5KHJlc3VsdCwgc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ0FyZWEgTW9kZWwgLyBJbnZhbGlkIHZhbHVlIGZvciBhcmVhIHBhdGghJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFBhdGhIZWxwZXIuY29udmVydENvbXBsZXhQYXRoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEzLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGV4dGVuZCcsICcrQ29sb3InLCAnK01vZGVsJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBDaXJjbGVPYmplY3RNb2RlbChleHRlbmQsIENvbG9ySGVscGVyLCBNb2RlbEhlbHBlciwgRGVidWcpIHtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdE9iamVjdE1vZGVsJyk7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJEdsb2JhbEJhY2tncm91bmRNb2RlbCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24gPSB0aGlzLmV4dGVuc2lvbignQW5pbWF0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3JhZGl1cycsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3JhZGl1cycsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgncmFkaXVzJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgcmFkaXVzIHZhbHVlJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnc3Ryb2tlV2lkdGgnLCAxLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnc3Ryb2tlV2lkdGgnLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3N0cm9rZVdpZHRoJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdzdHJva2VDb2xvcicsICdyZ2JhKDAsMCwwLDEpJyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VDb2xvciB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3JIZWxwZXIuYXJyYXlUb0NvbG9yKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VDb2xvciB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdzdHJva2VDb2xvcicsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc3Ryb2tlQ29sb3InKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQoY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3N0cm9rZUNvbG9yJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VDb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlQ29sb3InKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQ29sb3JIZWxwZXIubm9ybWFsaXplKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3N0cm9rZVN0eWxlJywgWzEsIDBdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY1ZhbHVlKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVbaV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVN0eWxlIHZhbHVlLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VTdHlsZSB2YWx1ZS4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVN0eWxlIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3N0cm9rZVN0eWxlJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VTdHlsZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlQ29sb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VDb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlQ29sb3InKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzBdIDwgMCkgdmFsdWVbMF0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVsxXSA8IDApIHZhbHVlWzFdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnK01vZGVsJywgJytQYXRoJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBEZWZhdWx0T2JqZWN0TW9kZWwoTW9kZWxIZWxwZXIsIFBhdGhIZWxwZXIsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbiA9IHRoaXMuZXh0ZW5zaW9uKCdBbmltYXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgyLCAncG9zaXRpb24nLCBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdJbnZhbGlkIG51bWVyaWMgYXJyYXkgZm9yIHBvc2l0aW9uIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgncG9zaXRpb24nLCAyLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgncG9zaXRpb24nKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdJbnZhbGlkIHZhbHVlIGZvciBwb3NpdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3JvdGF0ZScsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IC0zNjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKyAzNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMzYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlIC0gMzYwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKiBNYXRoLlBJIC8gMTgwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAqICgxODAgLyBNYXRoLlBJKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdyb3RhdGUnLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdyb3RhdGUnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdJcyBub3QgYSB2YWxpZCB2YWx1ZSB0byBhbmltYXRlIHJvdGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3RyYW5zbGF0ZScsIFswLCAwXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ0ludmFsaWQgbnVtZXJpYyBhcnJheSBmb3IgdHJhbnNsYXRlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCd0cmFuc2xhdGUnLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgndHJhbnNsYXRlJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnSW52YWxpZCB2YWx1ZSBmb3IgdHJhbnNsYXRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ29wYWNpdHknLCAxLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ09wYWNpdHkgdmFsdWUgaXMgbm90IGEgbnVtYmVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ29wYWNpdHknLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAxKSB2YWx1ZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ29wYWNpdHknKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdJbnZhbGlkIHZhbHVlIGZvciB0cmFuc2xhdGUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDEpIHZhbHVlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3NjYWxlJywgWzEsIDFdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlLCB2YWx1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzAsIDBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignVW5rbm93biB0eXBlIG9mIHZhbHVlIGZvciBzY2FsZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3NjYWxlJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc2NhbGUnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChbdmFsdWUsIHZhbHVlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc2NhbGUnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRBcnJheSA9IFt2YWx1ZVswXSx2YWx1ZVsxXV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVuZEFycmF5WzBdIDwgMCkgZW5kQXJyYXlbMF0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihlbmRBcnJheVsxXSA8IDApIGVuZEFycmF5WzFdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKGVuZEFycmF5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ0ludmFsaWQgdmFsdWUgZm9yIHNjYWxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVswXSA8IDApIHZhbHVlWzBdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMV0gPCAwKSB2YWx1ZVsxXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdza2V3JywgWzAsIDBdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAzNjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgLSAzNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgLTM2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSArIDM2MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkID0gdmFsdWUgKiBNYXRoLlBJIC8gMTgwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtyYWQsIHJhZF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzBdID4gMzYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVswXSA9IHZhbHVlWzFdIC0gMzYwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVsxXSA8IC0zNjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlWzFdID0gdmFsdWVbMV0gKyAzNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhZDEgPSB2YWx1ZVswXSAqIE1hdGguUEkgLyAxODAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWQyID0gdmFsdWVbMV0gKiBNYXRoLlBJIC8gMTgwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtyYWQxLCByYWQyXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1Via25vd24gdmFsdWUgZm9ybWF0IGZvciBza2V3LiBbe3Z9XScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3NrZXcnLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc2tldycpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKFt2YWx1ZSwgdmFsdWVdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdza2V3JykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnSW52YWxpZCB2YWx1ZSBmb3Igc2tldycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ29yaWdpbicsIFsuNSwgLjVdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWVbMF0sIHZhbHVlWzFdXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignVW5rbm93biBmb3JtYXQgb2YgdmFsdWUgZm9yIG9yaWdpbi4gSW52YWxpZCBBcnJheSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignVW5rbm93biB0eXBlIG9mIHZhbHVlIGZvciBvcmlnaW4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnb3JpZ2luJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ29yaWdpbicpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ0ludmFsaWQgdmFsdWUgZm9yIG9yaWdpbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMiwgJ2NhcCcsICdyb3VuZCcsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gJ3JvdW5kJyB8fCB2YWx1ZSA9PT0gJ2J1dHQnIHx8IHZhbHVlID09PSAnc3F1YXJlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3ZhbDogdmFsdWV9LCAne3ZhbH0gaXMgaW5jb3JyZWN0IHZhbHVlIGZvciBsaW5lIGNhcCBwcm9wZXJ0eSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0NhcCBwcm9wZXJ0eSBpcyBhIHN0cmluZyEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ2JsZW5kaW5nJywgJ3NvdXJjZS1vdmVyJyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZEJsZW5kaW5nKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJyBbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJsZW5kaW5nIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMudHlwZSgpICE9PSAnR3JvdXAnKSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ2FuY2hvcicsIFsnbGVmdCcsICd0b3AnXSxcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHZhbHVlWzBdID09PSAnbGVmdCcgfHwgdmFsdWVbMF0gPT09ICdjZW50ZXInIHx8IHZhbHVlWzBdID09PSAncmlnaHQnKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh2YWx1ZVsxXSA9PT0gJ3RvcCcgfHwgdmFsdWVbMV0gPT09ICdtaWRkbGUnIHx8IHZhbHVlWzFdID09PSAnYm90dG9tJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWVbMF0sIHZhbHVlWzFdXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlLiBBcnJheSBbXCJsZWZ0XCIgfHwgXCJjZW50ZXJcIiB8fCBcInJpZ2h0XCIgLCBcInRvcFwiIHx8IFwibWlkZGxlXCIgfHwgXCJib3R0b21cIiBdIGlzIHJlcXVpcmVkIGZvcm1hdC4nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIGFuY2hvciB2YWx1ZSBmb3IgdGV4dCBlbGVtZW50Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLCB2YWx1ZVsxXV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNS8zLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnK01vZGVsJywgJytDb2xvcicsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gRGVmYXVsdEZyZWVTdHJva2VNb2RlbChNb2RlbEhlbHBlciwgQ29sb3JIZWxwZXIsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnaW50ZXJwb2xhdGlvbicsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAuNCkgdmFsdWUgPSAuNDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDIsICdzdHJva2VDb2xvcicsIFsncmdiYSgwLDAsMCwxKSddLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZCA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIG1vIGNoYW5nZXMgbWFkZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCByZXBsYWNlIHdpdGggcmdiYSgwLDAsMCwxKSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwib2JqZWN0XCIgfHwgdmFsdWVbaV0uY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChDb2xvckhlbHBlci5hcnJheVRvQ29sb3IodmFsdWVbaV0pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIG1vIGNoYW5nZXMgbWFkZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCByZXBsYWNlIHdpdGggcmdiYSgwLDAsMCwxKSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCBtbyBjaGFuZ2VzIG1hZGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCByZXBsYWNlIHdpdGggcmdiYSgwLDAsMCwxKSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIG1vIGNoYW5nZXMgbWFkZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgcmVwbGFjZSB3aXRoIHJnYmEoMCwwLDAsMSkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCBtbyBjaGFuZ2VzIG1hZGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgcmVwbGFjZSB3aXRoIHJnYmEoMCwwLDAsMSkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcIm9iamVjdFwiIHx8IHZhbHVlW2ldLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goQ29sb3JIZWxwZXIuYXJyYXlUb0NvbG9yKHZhbHVlW2ldKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCBubyBjaGFuZ2VzIG1hZGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgcmVwbGFjZSB3aXRoIHJnYmEoMCwwLDAsMSkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgbm8gY2hhbmdlcyBtYWRlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgcmVwbGFjZSB3aXRoIHJnYmEoMCwwLDAsMSkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCBubyBjaGFuZ2VzIG1hZGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIHJlcGxhY2Ugd2l0aCByZ2JhKDAsMCwwLDEpIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignTGluZSBNb2RlbCAvIFdyb25nIHR5cGUgb2YgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgyLCAnc3Ryb2tlV2lkdGgnLCBbMV0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiAgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgbnVtYmVyIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIG51bWJlciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgbnVtYmVyIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBudW1iZXIhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIG51bWJlciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IHZhbGlkIHZhbHVlIGZvciBzdHJva2VXaWR0aCEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDIsICdzdHJva2VTdHlsZScsIFtbMSwgMF1dLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZCA9IHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VTdHlsZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlU3R5bGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEzLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnK01vZGVsJywgJytDb2xvcicsICdEZWJ1ZycsICdSZXNvdXJjZScsXHJcbiAgICAgICAgZnVuY3Rpb24gR2xvYmFsQmFja2dyb3VuZE1vZGVsKE1vZGVsSGVscGVyLCBDb2xvckhlbHBlciwgRGVidWcsIFJlc291cmNlKSB7XHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gdGhpcy5leHRlbnNpb24oJ0FuaW1hdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gU3luY0JnUHJvcGVydHkoYmcsIHByb3BlcnR5LCBkZWYpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXByb3BlcnR5W2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheShkZWYpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGJnLmxlbmd0aCA8IHByb3BlcnR5Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnNwbGljZShiZy5sZW5ndGggLSAxLCBwcm9wZXJ0eS5sZW5ndGggLSBwYXRoLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ2ZpbGwnLCAncmdiYSgwLDAsMCwxKScsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3JIZWxwZXIuYXJyYXlUb0NvbG9yKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBjb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ2ZpbGwnLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ2ZpbGwnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQoY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGF2YWxpZCBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdmaWxsJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIENvbG9ySGVscGVyLm5vcm1hbGl6ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdiZycsIFtdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci5pc1Nwcml0ZVN0cmluZyh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gTW9kZWxIZWxwZXIucmVhZFNwcml0ZVN0cmluZyh2YWx1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UgPSBSZXNvdXJjZS5zcHJpdGUoZGF0YS51cmwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmNvbmZpZyhkYXRhLmZyYW1lcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtyZXNvdXJjZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1Jlc291cmNlLmltYWdlKHZhbHVlKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgfHwgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIgJiYgdHlwZW9mIHZhbHVlWzBdID09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHZhbHVlWzFdID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVsxXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBSZXNvdXJjZS5zcHJpdGUodmFsdWVbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmNvbmZpZyh2YWx1ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtyZXNvdXJjZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIuaXNTcHJpdGVTdHJpbmcodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IE1vZGVsSGVscGVyLnJlYWRTcHJpdGVTdHJpbmcodmFsdWVbaV0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlID0gUmVzb3VyY2Uuc3ByaXRlKGRhdGEudXJsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5jb25maWcoZGF0YS5mcmFtZXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFJlc291cmNlLmltYWdlKHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwib2JqZWN0XCIgJiYgdmFsdWVbaV0uY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldLmxlbmd0aCA9PSAyICYmIHR5cGVvZiB2YWx1ZVtpXVswXSA9PSBcInN0cmluZ1wiICYmIHR5cGVvZiB2YWx1ZVtpXVsxXSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV1bMV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc291cmNlID0gUmVzb3VyY2Uuc3ByaXRlKHZhbHVlW2ldWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5jb25maWcodmFsdWVbaV1bMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJlc291cmNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbDogdmFsdWVbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGk6IGlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAnW3tpfV1be3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJnIHZhbHVlLiBTa2lwcGVkLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldLCBpOiBpfSwgJ1t7aX1dW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBiZyB2YWx1ZS4gU2tpcHBlZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZCA9IHN0eWxlLmdldCgnYmcnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJvYmplY3RcIiAmJiB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldWzBdID09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHZhbHVlW2ldWzFdID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IFJlc291cmNlLnNwcml0ZSh2YWx1ZVtpXVswXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuY29uZmlnKHZhbHVlW2ldWzFdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyZXNvdXJjZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldLCBpOiBpfSwgJ1t7aX1dW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBiZyBhcnJheSB2YWx1ZS4nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci5pc1Nwcml0ZVN0cmluZyh2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gTW9kZWxIZWxwZXIucmVhZFNwcml0ZVN0cmluZyh2YWx1ZVtpXSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UgPSBSZXNvdXJjZS5zcHJpdGUoZGF0YS51cmwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmNvbmZpZyhkYXRhLmZyYW1lcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goUmVzb3VyY2UuaW1hZ2UodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXSwgaTogaX0sICdbe2l9XVt7dmFsfV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIGJnLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IHZhbGlkIHZhbHVlIGZvciBiZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldLnR5cGUgPT0gJ0ltYWdlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0udXJsKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlW2ldLnR5cGUgPT0gJ1Nwcml0ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldLnVybCgpICsgJ1snICsgdmFsdWVbaV0uZnJhbWVzKCkgKyAnXScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWw6IHZhbHVlW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpOiBpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSArICdbe2l9XVt7dmFsfV0gVW5rbm93biB0eXBlIG9mIHRoZSBiYWNrZ3JvdW5kIG9iamVjdCBjb250YWluZXIuIENyaXRpY2FsIGVycm9yLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgdmFyIGRlZkJnUG9zdmFsID0gWzAsIDBdO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDIsICdiZ1Bvc2l0aW9uJywgW2RlZkJnUG9zdmFsXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmcgPSBzdHlsZS5nZXQoJ2JnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9yZXMgPSBbdmFsdWVbMF0sIHZhbHVlWzFdXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goX3Jlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZyA9IHN0eWxlLmdldCgnYmcnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9uID0gc3R5bGUuZ2V0KCdiZ1Bvc2l0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWVbaV0pICYmIHZhbHVlW2ldLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbdmFsdWVbMF0sIHZhbHVlWzFdXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmdwb3NpdGlvbltpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJncG9zaXRpb25baV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheShkZWZCZ1Bvc3ZhbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGk6IGksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsOiB2YWx1ZVtpXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ1t7aX1dW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBiZ3Bvc2l0aW9uIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZ3Bvc2l0aW9uW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiZ3Bvc2l0aW9uW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkoZGVmQmdQb3N2YWwpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbiA9IHN0eWxlLmdldCgnYmdQb3NpdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KGkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJncG9zaXRpb25baV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY1ZhbHVlKCkgJiYgdmFsdWVbaV0ubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFt2YWx1ZVswXSwgdmFsdWVbMV1dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJncG9zaXRpb25baV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaTogaSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWw6IHZhbHVlW2ldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAnW3tpfV1be3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJncG9zaXRpb24gdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheShkZWZCZ1Bvc3ZhbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZ3Bvc2l0aW9uW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJncG9zaXRpb25baV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheShkZWZCZ1Bvc3ZhbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBiZ3Bvc2l0aW9uIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBkZWZCZ1NpemVWYWwgPSBbMSwgMV07XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ2JnU2l6ZScsIFtkZWZCZ1NpemVWYWxdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMiAmJiBNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZyA9IHN0eWxlLmdldCgnYmcnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVzID0gW3ZhbHVlWzBdLCB2YWx1ZVsxXV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKF9yZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZyA9IHN0eWxlLmdldCgnYmcnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ3NpemUgPSBzdHlsZS5nZXQoJ2JnU2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0ubGVuZ3RoID09IDIgJiYgTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldWzBdLCB2YWx1ZVtpXVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmdzaXplW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiZ3NpemVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheShkZWZCZ1NpemVWYWwpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldLCBpOiBpfSwgJ1t7aX1dW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBiZ3NpemUgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmcgPSBzdHlsZS5nZXQoJ2JnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ3NpemUgPSBzdHlsZS5nZXQoJ2JnU2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwib2JqZWN0XCIgJiYgdmFsdWVbaV0uY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldLmxlbmd0aCA9PSAyICYmIE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW3ZhbHVlW2ldWzBdLCB2YWx1ZVtpXVsxXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJnc2l6ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJnc2l6ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZkJnU2l6ZVZhbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXSwgaTogaX0sICdbe2l9XVt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmdzaXplIHZhbHVlLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmdzaXplW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiZ3NpemVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheShkZWZCZ1NpemVWYWwpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldLCBpOiBpfSwgJ1t7aX1dW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBiZ3NpemUgdmFsdWUuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJnc2l6ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiZ3NpemVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheShkZWZCZ1NpemVWYWwpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ2JnJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChvLmxlbmd0aCAhPT0gbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBTeW5jQmdQcm9wZXJ0eShuLCBzdHlsZS5nZXQoJ2JnUG9zaXRpb24nKSwgZGVmQmdQb3N2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIFN5bmNCZ1Byb3BlcnR5KG4sIHN0eWxlLmdldCgnYmdTaXplJyksIGRlZkJnU2l6ZVZhbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMi84LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnK01vZGVsJyxcclxuICAgICAgICBmdW5jdGlvbiBHbG9iYWxTaXplTW9kZWwoTW9kZWxIZWxwZXIpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSB0aGlzLmV4dGVuc2lvbignQW5pbWF0aW9uJyksXHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdzaXplJywgMSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzaXplJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQoW3ZhbHVlLCB2YWx1ZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMF0gPCAwKSB2YWx1ZVswXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMV0gPCAwKSB2YWx1ZVsxXSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc2l6ZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgdmFsaWQgdmFsdWUgZm9yIHNpemUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IHZhbGlkIHZhbHVlIGZvciBzaXplJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVswXSA8IDApIHZhbHVlWzBdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMV0gPCAwKSB2YWx1ZVsxXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdzaXplJywgWzAsIDBdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09IDIgJiYgTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMF0gPCAwKSB2YWx1ZVswXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMV0gPCAwKSB2YWx1ZVsxXSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZVswXSwgdmFsdWVbMV1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCB2YWxpZCB2YWx1ZSBmb3Igc2l6ZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCB2YWxpZCB2YWx1ZSBmb3Igc2l6ZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG5cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BleHRlbmQnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEdyb3VwT2JqZWN0TW9kZWwoZXh0ZW5kKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0TW9kZWwnKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEzLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGV4dGVuZCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gSW1hZ2VPYmplY3RNb2RlbChleHRlbmQsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0TW9kZWwnKTtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckR2xvYmFsU2l6ZU1vZGVsJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnc3JjJywgbnVsbCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3JjIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjYvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAZXh0ZW5kJywgJytNb2RlbCcsICcrUGF0aCcsICcrQ29sb3InLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIExpbmVPYmplY3RNb2RlbChleHRlbmQsIE1vZGVsSGVscGVyLCBQYXRoSGVscGVyLCBDb2xvckhlbHBlciwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRPYmplY3RNb2RlbCcpO1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0RnJlZVN0cm9rZU1vZGVsJyk7XHJcblxyXG4gICAgICAgICAgICAvL1RPRE86IEFkZCBhbmltYXRpb24gbW9ycGhzISFcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gU3luY1BhdGhQcm9wZXJ0eShwYXRoLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5wdXNoKHByb3BlcnR5W3Byb3BlcnR5Lmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3BhdGgnLCBbWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQYXRoSGVscGVyLmNoZWNrU2ltcGxlUGF0aCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gUGF0aEhlbHBlci5jb252ZXJ0U2ltcGxlUGF0aCh2YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkLmxlbmd0aCAhPT0gcmVzdWx0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3luY1BhdGhQcm9wZXJ0eShyZXN1bHQsIHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeW5jUGF0aFByb3BlcnR5KHJlc3VsdCwgc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN5bmNQYXRoUHJvcGVydHkocmVzdWx0LCBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignTGluZSBNb2RlbCAvIEludmFsaWQgdmFsdWUgZm9yIHBhdGghJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFBhdGhIZWxwZXIuY29udmVydENvbXBsZXhQYXRoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTEvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAZXh0ZW5kJywgJytNb2RlbCcsICcrQ29sb3InLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFJlY3RhbmdsZU9iamVjdE1vZGVsKGV4dGVuZCwgTW9kZWxIZWxwZXIsIENvbG9ySGVscGVyLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdE9iamVjdE1vZGVsJyk7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJEdsb2JhbEJhY2tncm91bmRNb2RlbCcpO1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRHbG9iYWxTaXplTW9kZWwnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gdGhpcy5leHRlbnNpb24oJ0FuaW1hdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdyYWRpdXMnLCBbMCwgMCwgMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gTWF0aC5yb3VuZCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0gPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTWF0aC5yb3VuZCh2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gW10sIG9sZCA9IHRoaXMuc3R5bGUoJ3JhZGl1cycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbaV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsLnB1c2gocmVzdWx0W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGQgPSBzdHlsZS5nZXQoJ3JhZGl1cycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwucHVzaChNYXRoLnJvdW5kKHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdyYWRpdXMnLCAxLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3JhZGl1cycpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKFt2YWx1ZSwgdmFsdWUsIHZhbHVlLCB2YWx1ZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZCA9IHRoaXMuc3R5bGUoJ3JhZGl1cycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydChvbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2goMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQucHVzaChNYXRoLnJvdW5kKHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQodGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ3t2fSBpcyBub3QgYSB2YWxpZCByYWRpdXMgdmFsdWUgZm9yIHJlY3RhbmdsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3N0cm9rZUNvbG9yJywgWydyZ2JhKDAsMCwwLDEpJywgJ3JnYmEoMCwwLDAsMSknLCAncmdiYSgwLDAsMCwxKScsICdyZ2JhKDAsMCwwLDEpJ10sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlLCB2YWx1ZSwgdmFsdWUsIHZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbHVlOiB2YWx9LCAnIFt7dmFsfSBpcyBub3QgYSB2YWxpZCBzdHJva2Ugc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZSBjb2xvciB2YWx1ZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwib2JqZWN0XCIgJiYgdmFsdWVbaV0uY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goQ29sb3JIZWxwZXIuYXJyYXlUb0NvbG9yKHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZSBjb2xvciB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3IgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZCA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3IgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwib2JqZWN0XCIgJiYgdmFsdWVbaV0uY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goQ29sb3JIZWxwZXIuYXJyYXlUb0NvbG9yKHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIHZhbHVlJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VDb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnc3Ryb2tlQ29sb3InLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChbTW9kZWxIZWxwZXIuY2xvbmVBcnJheShjb2xvciksIE1vZGVsSGVscGVyLmNsb25lQXJyYXkoY29sb3IpLCBNb2RlbEhlbHBlci5jbG9uZUFycmF5KGNvbG9yKSwgTW9kZWxIZWxwZXIuY2xvbmVBcnJheShjb2xvcildKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3N0cm9rZUNvbG9yJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAne3Z9IGlzIG5vdCBhIHZhbGlkIGNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChbTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSldKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VDb2xvcicpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXVyZW50ID0gdGhpcy5zdHlsZSgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3V1cmVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50W2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldICYmIENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQoY3V1cmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlQ29sb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLnN0eWxlKCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwib2JqZWN0XCIgJiYgdmFsdWVbaV0uY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KGN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlQ29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDb2xvckhlbHBlci5ub3JtYWxpemUodmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3N0cm9rZVdpZHRoJywgWzEsIDEsIDEsIDFdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlLCB2YWx1ZSwgdmFsdWUsIHZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJyBbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZSB3aWR0aCB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlV2lkdGgnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICcgW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VXaWR0aCB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnc3Ryb2tlV2lkdGgnLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQoW3ZhbHVlLCB2YWx1ZSwgdmFsdWUsIHZhbHVlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3N0cm9rZVdpZHRoJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5zdHlsZSgnc3Ryb2tlV2lkdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0gJiYgdHlwZW9mIHZhbHVlW2ldID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KGN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLnN0eWxlKCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0gJiYgdHlwZW9mIHZhbHVlW2ldID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydChjdXJyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJyBbe3Z9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VXaWR0aCBvYmplY3QnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnIFt7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VXaWR0aCcpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnc3Ryb2tlU3R5bGUnLCBbWzEsIDBdLCBbMSwgMF0sIFsxLCAwXSwgWzEsIDBdXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWUsIHZhbHVlLCB2YWx1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICcgW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZSB3aWR0aCEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZCA9IHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWVbaV0pICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWVbaV0pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJyBbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZSBzdHlsZSB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZCA9IHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcIm9iamVjdFwiICYmIHZhbHVlW2ldLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlW2ldKSAmJiB2YWx1ZVtpXS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VTdHlsZSB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhdGNoKHt2YWw6IHZhbHVlW2ldfSwgJyBbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVN0eWxlIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnIFt7dmFsfV0gaXMgbm90IHZhbGlkIHN0cm9rZVN0eWxlIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdzdHJva2VTdHlsZScsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3N0cm9rZVN0eWxlJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSksIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpLCBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSwgTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnIFt7dn1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVN0eWxlIHZhbHVlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5zdHlsZSgnc3Ryb2tlU3R5bHInKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VycmVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0gJiYgTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWVbaV0pICYmIHZhbHVlW2ldLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZVtpXSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KGN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVN0eWxlIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLnN0eWxlKCdzdHJva2VTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldICYmIE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlW2ldKSAmJiB2YWx1ZVtpXS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZVtvXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydChjdXJyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVN0eWxlVmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGVWYWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAZXh0ZW5kJywgJytNb2RlbCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gU3ByaXRlT2JqZWN0TW9kZWwoZXh0ZW5kLCBNb2RlbEhlbHBlciwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRPYmplY3RNb2RlbCcpO1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRHbG9iYWxTaXplTW9kZWwnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdzcmMnLCBudWxsLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIuaXNTcHJpdGVTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHNwcml0ZSBzcmMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlWzBdID09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHZhbHVlWzFdID09IFwibnVtYmVyXCIgJiYgdmFsdWVbMV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVbMF0gKyAnWycgKyB2YWx1ZVsxXSArICddJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzcHJpdGUgc3JjJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzcHJpdGUgc3JjJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjUvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAZXh0ZW5kJywgJytNb2RlbCcsICcrQ29sb3InLCAnRGVidWcnLCAnQEZvbnRzJyxcclxuICAgICAgICBmdW5jdGlvbiBUZXh0T2JqZWN0TW9kZWwoZXh0ZW5kLCBNb2RlbEhlbHBlciwgQ29sb3JIZWxwZXIsIERlYnVnLCBGb250cykge1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0TW9kZWwnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgdGV4dCA9IHRoaXMuZXh0ZW5zaW9uKCdUZXh0JyksXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24gPSB0aGlzLmV4dGVuc2lvbignQW5pbWF0aW9uJyksXHJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdzaXplJywgWydhdXRvJywgJ2F1dG8nXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUgPT09ICdhdXRvJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LmxpbWl0cyhJbmZpbml0eSwgSW5maW5pdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlLCB2YWx1ZV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LmxpbWl0cyh2YWx1ZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlLCB2YWx1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWxpZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZVtpXSAhPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgdmFsdWVbaV0gIT09IFwibnVtYmVyXCIpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZVtpXSAhPT0gJ2F1dG8nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVswXSA9PT0gXCJudW1iZXJcIiAmJiB2YWx1ZVswXSA8IDApIHZhbHVlWzBdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbMV0gPT09IFwibnVtYmVyXCIgJiYgdmFsdWVbMV0gPCAwKSB2YWx1ZVsxXSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC5saW1pdHModmFsdWVbMF0gPT09ICdhdXRvJyA/IEluZmluaXR5IDogdmFsdWVbMF0sIHZhbHVlWzFdID09PSAnYXV0bycgPyBJbmZpbml0eSA6IHZhbHVlWzFdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLCB2YWx1ZVsxXV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCBzaXplIGFycmF5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHNpemUnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZVswXSwgdmFsdWVbMV1dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdzdHInLCAnJyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzeXN0ZW1Gb250ID0gJ3NhbnMtc2VyaWYnO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdmb250JywgJ3NhbnMtc2VyaWYnLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzeXN0ZW1Gb250ID0gRm9udHMuZm9ybWF0KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnN0eWxlKCdzeXN0ZW1Gb250JywgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdzeXN0ZW1Gb250Jywgc3lzdGVtRm9udCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3lzdGVtRm9udDtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN5c3RlbUZvbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ3dlaWdodCcsIDQwMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMTAwKSB2YWx1ZSA9IDEwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gOTAwKSB2YWx1ZSA9IDkwMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAlIDEwMCAhPT0gMCkgdmFsdWUgPSB2YWx1ZSAtICh2YWx1ZSAlIDEwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnc3R5bGUnLCAnbm9ybWFsJyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgKHZhbHVlID09PSAnbm9ybWFsJyB8fCB2YWx1ZSA9PT0gJ2l0YWxpYycgfHwgdmFsdWUgPT09ICdvYmxpcXVlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ2xpbmVIZWlnaHQnLCAxNCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ2ZvbnRTaXplJywgMTQsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ2NvbG9yJywgJ3JnYmEoMCwwLDAsMSknLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3JIZWxwZXIuYXJyYXlUb0NvbG9yKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBjb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ2FsaWduJywgJ2xlZnQnLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnY2VudGVyJyB8fCB2YWx1ZSA9PT0gJ2xlZnQnIHx8IHZhbHVlID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHByb3BlciB2YWx1ZSBmb3IgYWxpbmcgdGV4dCBwcm9wZXJ0eScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnY29sb3InLCAxLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdmaWxsJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKGNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhdmFsaWQgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ2ZpbGwnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQ29sb3JIZWxwZXIubm9ybWFsaXplKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWycrQW5pbWF0aW9uJywgJ01vcnBoaW5lJyxcclxuICAgICAgICBmdW5jdGlvbiBBbmltYXRpb24oQW5pbWF0aW9uSGVscGVyLCBNb3JwaGluZSkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gMCxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGVhc2luZyA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBkb25lID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzdGFjayA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBtb3JwaGluZSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3RlcHNDYiA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBxdWV1ZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBjbGVhciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdGVwVHlwZVN0ciA9ICd0eXBlJyxcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlVHlwZVN0ciA9ICdjb21wbGV0ZScsXHJcbiAgICAgICAgICAgICAgICBjb25maWcgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gUmVzb2x2ZSh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSBzdGVwVHlwZVN0cikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0ZXBzQ2IuaGFzT3duUHJvcGVydHkoc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBzQ2Jbc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKV0uYXBwbHkodGFyZ2V0LCBbcHJvZ3Jlc3MsIHN0YWNrW2ldLnJlc3VsdF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSBjb21wbGV0ZVR5cGVTdHIpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0cyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0c1tzdGFja1tpXS5tb3JwaC5wcm9wZXJ0eSgpXSA9IHN0YWNrW2ldLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmRvbmUoMSwgcmVzdWx0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kb25lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhhc1Byb3BlcnR5ID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKSA9PSBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydGllcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2goc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuaGFzUHJvcGVydHkocHJvcGVydHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGluZGV4IC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2suc3BsaWNlKGluZGV4LCAxKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YWNrID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIF9zdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9ycGggPSBzdGFja1tpXS5tb3JwaC5nZXQoc3RhY2tbaV0udmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAobW9ycGggIT09IHVuZGVmaW5lZCAmJiBtb3JwaC5zdGFydCgpICE9PSBmYWxzZSAmJiBtb3JwaC5lbmQoKSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3N0YWNrLnB1c2goc3RhY2tbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzdGFjayA9IF9zdGFjaztcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdGlja19mdW5jdGlvbiA9IEFuaW1hdGlvbkhlbHBlci5nZXRUaWNrRnVuY3Rpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICBtb3JwaGluZSA9IE1vcnBoaW5lLmNyZWF0ZSgwLCAxLCBmdW5jdGlvbiAoY29tcGxldGUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc29sdmUoY29tcGxldGVUeXBlU3RyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGhpbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2tbaV0ucmVzdWx0ID0gdGlja19mdW5jdGlvbih2YWx1ZSwgc3RhY2tbaV0ubW9ycGguc3RhcnQoKSwgc3RhY2tbaV0ubW9ycGguZW5kKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2tbaV0ubW9ycGguYXBwbHkoY29tcGxldGUsIHN0YWNrW2ldLnJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc29sdmUoc3RlcFR5cGVTdHIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc29sdmUoY29tcGxldGVUeXBlU3RyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBlYXNpbmcsIGR1cmF0aW9uLCAwKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKHQsIG0sIGNmZywgZikge1xyXG4gICAgICAgICAgICAgICAgQW5pbWF0aW9uSGVscGVyLm5vcm1hbGl6ZUNvbmZpZyhjZmcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gY2ZnLmR1cmF0aW9uO1xyXG5cclxuICAgICAgICAgICAgICAgIGVhc2luZyA9IGNmZy5lYXNpbmc7XHJcblxyXG4gICAgICAgICAgICAgICAgc3RlcHNDYiA9IGNmZy5zdGVwO1xyXG5cclxuICAgICAgICAgICAgICAgIHF1ZXVlID0gY2ZnLnF1ZXVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNsZWFyID0gZjtcclxuXHJcbiAgICAgICAgICAgICAgICBzdGFjayA9IG07XHJcblxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdDtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25maWcgPSBjZmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBNb3JwaChEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHNldHRlciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBnZXR0ZXIgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgYXBwbGllciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdGFydCwgZW5kLFxyXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBvcmRlcmluZyA9IDA7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTZXRTdGFydFZhbHVlKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQgPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFNldEVuZFZhbHVlKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgZW5kID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5lbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZW5kO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0eTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3JkZXJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JkZXJpbmc7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdldCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgc2V0dGVyLmFwcGx5KG9iamVjdCwgW1NldFN0YXJ0VmFsdWUsIFNldEVuZFZhbHVlLCB2YWx1ZV0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnZhbGlkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hcHBseSA9IGZ1bmN0aW9uIChwcm9ncmVzcywgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIG9iamVjdC5maWx0ZXIocHJvcGVydHksIGFwcGxpZXIuYXBwbHkob2JqZWN0LCBbdmFsdWUsIHByb2dyZXNzXSkpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb25maWcgPSBmdW5jdGlvbiAobmFtZSwgb2JqLCBvcmQsIHNldCwgYXBsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmcxIFt7bmFtZX1dIGlzIG5vdCBhIHN0cmluZyEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ1VuYWJsZSB0byBjb25maWcgTW9ycGguIGFyZzMgaXMgbm90IGFuIG9iamVjdCEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNldCAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnNCBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9yZCAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ1VuYWJsZSB0byBjb25maWcgTW9ycGguIGFyZzIgaXMgbm90IGEgbnVtYmVyIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXBsICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmc1IGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IG5hbWU7XHJcbiAgICAgICAgICAgICAgICBzZXR0ZXIgPSBzZXQ7XHJcbiAgICAgICAgICAgICAgICBhcHBsaWVyID0gYXBsO1xyXG4gICAgICAgICAgICAgICAgb3JkZXJpbmcgPSBvcmQ7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSBvYmo7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLmhlbHBlci5zeXN0ZW0oXHJcbiAgICBmdW5jdGlvbiBBbmltYXRpb24oKSB7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIFRpY2tWYWwoY29tcGxldGUsIHByb2dyZXNzLCBzdGFydCwgZW5kKSB7XHJcbiAgICAgICAgICAgIHZhciBsb2NzID0gZmFsc2UsIGxvY2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gXCJmdW5jdGlvblwiKSBsb2NzID0gc3RhcnQoKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBlbmQgPT09IFwiZnVuY3Rpb25cIikgbG9jZSA9IGVuZCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHN0YXJ0LmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFydC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFRpY2tWYWwoY29tcGxldGUsIHByb2dyZXNzLCBzdGFydFtpXSwgZW5kW2ldKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHN0YXJ0ID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtwcm9wXSA9IFRpY2tWYWwoY29tcGxldGUsIHByb2dyZXNzLCBzdGFydFtwcm9wXSwgZW5kW3Byb3BdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdudW1iZXInIHx8IHR5cGVvZiBzdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVuZHZhbCA9IGxvY2UgPT09IGZhbHNlID8gZW5kIDogbG9jZSxcclxuICAgICAgICAgICAgICAgICAgICBzdGFydHZhbCA9IGxvY3MgPT09IGZhbHNlID8gc3RhcnQgOiBsb2NzLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpZmZlcmVuY2UgPSBlbmR2YWwgLSBzdGFydHZhbCxcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBzdGFydHZhbCArIChkaWZmZXJlbmNlICogY29tcGxldGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzID49IDEpIHJlc3VsdCA9IGVuZHZhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ub3JtYWxpemVDb25maWcgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZy5kdXJhdGlvbiA9IHR5cGVvZiBjb25maWcuZHVyYXRpb24gPT09IFwibnVtYmVyXCIgJiYgY29uZmlnLmR1cmF0aW9uID4gMCA/IGNvbmZpZy5kdXJhdGlvbiA6IDEwMDA7XHJcbiAgICAgICAgICAgIGNvbmZpZy5xdWV1ZSA9ICEhY29uZmlnLnF1ZXVlO1xyXG4gICAgICAgICAgICBjb25maWcuc3RlcCA9IHR5cGVvZiBjb25maWcuc3RlcCA9PT0gXCJvYmplY3RcIiA/IGNvbmZpZy5zdGVwIDoge307XHJcbiAgICAgICAgICAgIGNvbmZpZy5lYXNpbmcgPSB0eXBlb2YgY29uZmlnLmVhc2luZyA9PT0gJ3N0cmluZycgPyBjb25maWcuZWFzaW5nIDogJ2xpbmVhcic7XHJcbiAgICAgICAgICAgIGNvbmZpZy5kb25lID0gdHlwZW9mIGNvbmZpZy5kb25lID09PSBcImZ1bmN0aW9uXCIgPyBjb25maWcuZG9uZSA6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmdldFRpY2tGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFRpY2tWYWw7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMC8yMDE3LlxyXG4gKi9cclxuJFIuaGVscGVyLnN5c3RlbShcclxuICAgIGZ1bmN0aW9uIENvbG9yKCkge1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBOb3JtYWxpemVDb2xvckFycmF5KGFycmF5KSB7XHJcbiAgICAgICAgICAgIGlmIChhcnJheSAhPT0gZmFsc2UgJiYgYXJyYXkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2ldID0gYXJyYXlbaV0gPD0gMjU1ID8gYXJyYXlbaV0gOiAyNTU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtpXSA+PSAwID8gYXJyYXlbaV0gOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2ldID0gKGkgIT09IDMgJiYgYXJyYXlbaV0gIT09IDApID8gcGFyc2VJbnQoYXJyYXlbaV0pIDogYXJyYXlbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbaV0gPSAoKGkgPT0gMykgJiYgYXJyYXlbaV0pIDw9IDEgPyBhcnJheVtpXSA6IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbaV0gPSBNYXRoLmFicyhhcnJheVtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIFBhcnNlQ29sb3VyKGNvbG9yKSB7XHJcbiAgICAgICAgICAgIHZhciBjYWNoZVxyXG4gICAgICAgICAgICAgICAgLCBwID0gcGFyc2VJbnQgLy8gVXNlIHAgYXMgYSBieXRlIHNhdmluZyByZWZlcmVuY2UgdG8gcGFyc2VJbnRcclxuICAgICAgICAgICAgICAgICwgY29sb3IgPSBjb2xvci5yZXBsYWNlKC9cXHNcXHMqL2csICcnKSAvLyBSZW1vdmUgYWxsIHNwYWNlc1xyXG4gICAgICAgICAgICA7Ly92YXJcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrcyBmb3IgNiBkaWdpdCBoZXggYW5kIGNvbnZlcnRzIHN0cmluZyB0byBpbnRlZ2VyXHJcbiAgICAgICAgICAgIGlmIChjYWNoZSA9IC9eIyhbXFxkYS1mQS1GXXsyfSkoW1xcZGEtZkEtRl17Mn0pKFtcXGRhLWZBLUZdezJ9KS8uZXhlYyhjb2xvcikpXHJcbiAgICAgICAgICAgICAgICBjYWNoZSA9IFtwKGNhY2hlWzFdLCAxNiksIHAoY2FjaGVbMl0sIDE2KSwgcChjYWNoZVszXSwgMTYpXTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrcyBmb3IgMyBkaWdpdCBoZXggYW5kIGNvbnZlcnRzIHN0cmluZyB0byBpbnRlZ2VyXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNhY2hlID0gL14jKFtcXGRhLWZBLUZdKShbXFxkYS1mQS1GXSkoW1xcZGEtZkEtRl0pLy5leGVjKGNvbG9yKSlcclxuICAgICAgICAgICAgICAgIGNhY2hlID0gW3AoY2FjaGVbMV0sIDE2KSAqIDE3LCBwKGNhY2hlWzJdLCAxNikgKiAxNywgcChjYWNoZVszXSwgMTYpICogMTddO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2tzIGZvciByZ2JhIGFuZCBjb252ZXJ0cyBzdHJpbmcgdG9cclxuICAgICAgICAgICAgLy8gaW50ZWdlci9mbG9hdCB1c2luZyB1bmFyeSArIG9wZXJhdG9yIHRvIHNhdmUgYnl0ZXNcclxuICAgICAgICAgICAgZWxzZSBpZiAoY2FjaGUgPSAvXnJnYmFcXCgoW1xcZF0rKSwoW1xcZF0rKSwoW1xcZF0rKSwoW1xcZF0rfFtcXGRdKi5bXFxkXSspXFwpLy5leGVjKGNvbG9yKSlcclxuICAgICAgICAgICAgICAgIGNhY2hlID0gWytjYWNoZVsxXSwgK2NhY2hlWzJdLCArY2FjaGVbM10sICtjYWNoZVs0XV07XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVja3MgZm9yIHJnYiBhbmQgY29udmVydHMgc3RyaW5nIHRvXHJcbiAgICAgICAgICAgIC8vIGludGVnZXIvZmxvYXQgdXNpbmcgdW5hcnkgKyBvcGVyYXRvciB0byBzYXZlIGJ5dGVzXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNhY2hlID0gL15yZ2JcXCgoW1xcZF0rKSwoW1xcZF0rKSwoW1xcZF0rKVxcKS8uZXhlYyhjb2xvcikpXHJcbiAgICAgICAgICAgICAgICBjYWNoZSA9IFsrY2FjaGVbMV0sICtjYWNoZVsyXSwgK2NhY2hlWzNdXTtcclxuXHJcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSB0aHJvdyBhbiBleGNlcHRpb24gdG8gbWFrZSBkZWJ1Z2dpbmcgZWFzaWVyXHJcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgLy8gUGVyZm9ybXMgUkdCQSBjb252ZXJzaW9uIGJ5IGRlZmF1bHRcclxuICAgICAgICAgICAgaXNOYU4oY2FjaGVbM10pICYmIChjYWNoZVszXSA9IDEpO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkcyBvciByZW1vdmVzIDR0aCB2YWx1ZSBiYXNlZCBvbiByZ2JhIHN1cHBvcnRcclxuICAgICAgICAgICAgLy8gU3VwcG9ydCBpcyBmbGlwcGVkIHR3aWNlIHRvIHByZXZlbnQgZXJyb3MgaWZcclxuICAgICAgICAgICAgLy8gaXQncyBub3QgZGVmaW5lZFxyXG4gICAgICAgICAgICByZXR1cm4gTm9ybWFsaXplQ29sb3JBcnJheShjYWNoZS5zbGljZSgwLCA0KSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbG9yVG9BcnJheSA9IFBhcnNlQ29sb3VyO1xyXG4gICAgICAgIHRoaXMubm9ybWFsaXplID0gTm9ybWFsaXplQ29sb3JBcnJheTtcclxuICAgICAgICB0aGlzLmlzQ29sb3IgPSBmdW5jdGlvbiAoYXJyYXkpIHtcclxuICAgICAgICAgICAgdmFyIGVycm9yID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChhcnJheS5sZW5ndGggPT09IDQpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFycmF5W2ldID09ICdudW1iZXInIHx8IHR5cGVvZiBhcnJheVtpXSA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mICBhcnJheVtpXSA9PSAnc3RyaW5nJyAmJiBpc05hTihhcnJheVtpXSAqIDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oe2FycmF5IDogYXJyYXl9LCAnSW52YWxpZCBDb2xvciB7YXJyYXl9LiBWYWx1ZSBpcyBub3QgYSBjb2xvciBBcnJheS4nLCB0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gIWVycm9yO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuYXJyYXlUb0NvbG9yID0gZnVuY3Rpb24gKGFycmF5KSB7XHJcbiAgICAgICAgICAgIGlmIChhcnJheSAmJiBhcnJheS5sZW5ndGggPT09IDQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHJpbmcgPSAncmdiYSgnO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBpID09PSAzID8gYXJyYXlbaV0gKyAnKScgOiBhcnJheVtpXSArICcsJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Vua25vd24gSW5wdXQgYXJyYXkgZm9ybWF0LiBTaG91bGQgYmUgW1IsRyxCLEFdOycpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTAvMjAxNy5cclxuICovXHJcbiRSLmhlbHBlci5zeXN0ZW0oXHJcbiAgICBmdW5jdGlvbiBEcmF3ZXIoRGVidWcpIHtcclxuICAgICAgICB2YXIgdGV4dERyYXdlckNvbnRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgICAgICB0aGlzLm1lYXN1cmVUZXh0ID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgdGV4dERyYXdlckNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBmdW5jKHRleHREcmF3ZXJDb250ZXh0KTtcclxuICAgICAgICAgICAgdGV4dERyYXdlckNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gd2lkdGg7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBmdW5jdGlvbiAob2JqZWN0LCBjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNmb3JtLmFwcGx5KGNvbnRleHQsIG9iamVjdC5tYXRyaXgoKS5leHRyYWN0KCkpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd0xpbmVCZ0NsaXBQYXRoID0gZnVuY3Rpb24gKGNvbnRleHQsIHBhdGgsIHN0eWxlLCBhc3NlbWJsZXIsIHNwcml0ZSkge1xyXG4gICAgICAgICAgICB2YXIgYmcgPSBzdHlsZS5nZXQoJ2JnJyksXHJcbiAgICAgICAgICAgICAgICBiZ3NpemUgPSBzdHlsZS5nZXQoJ2JnU2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgYmdwb3NpdGlvbiA9IHN0eWxlLmdldCgnYmdQb3NpdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhwYXRoWzBdWzBdLCBwYXRoWzBdWzFdKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHgxID0gcGF0aFtpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICB5MSA9IHBhdGhbaV1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgeDIgPSBwYXRoW2ldWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkyID0gcGF0aFtpXVszXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB4MiAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0ludmFsaWQgcGF0aCEnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh4MiwgeTIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmNsaXAoKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGIgPSAwOyBiIDwgYmcubGVuZ3RoOyBiKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWJnW2JdLmxvYWRlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmdbYl0ub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYmd3aWR0aCA9IGJveC5zaXplWzBdICogYmdzaXplW2JdWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZ2hlaWdodCA9IGJveC5zaXplWzFdICogYmdzaXplW2JdWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9ueCA9IGJveC5zaXplWzBdICogYmdwb3NpdGlvbltiXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbnkgPSBib3guc2l6ZVsxXSAqIGJncG9zaXRpb25bYl1bMV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHNwcml0ZS5tYXJnaW5bM10gKyBiZ3Bvc2l0aW9ueCwgc3ByaXRlLm1hcmdpblswXSArIGJncG9zaXRpb255KTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShiZ1tpXS5leHBvcnQoKSwgMCwgMCwgYmd3aWR0aCwgYmdoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd0JlemllckJnQ2xpcFBhdGggPSBmdW5jdGlvbiAoY29udGV4dCwgcGF0aCwgc3R5bGUsIGFzc2VtYmxlciwgc3ByaXRlKSB7XHJcbiAgICAgICAgICAgIHZhciBiZyA9IHN0eWxlLmdldCgnYmcnKSxcclxuICAgICAgICAgICAgICAgIGJnc2l6ZSA9IHN0eWxlLmdldCgnYmdTaXplJyksXHJcbiAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9uID0gc3R5bGUuZ2V0KCdiZ1Bvc2l0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHBhdGhbMF1bMF0sIHBhdGhbMF1bMV0pO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB4MSA9IHBhdGhbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeTEgPSBwYXRoW2ldWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIHgyID0gcGF0aFtpXVsyXSxcclxuICAgICAgICAgICAgICAgICAgICB5MiA9IHBhdGhbaV1bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgYXgxID0gcGF0aFtpXVs0XSxcclxuICAgICAgICAgICAgICAgICAgICBheTEgPSBwYXRoW2ldWzVdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF4MiA9IHBhdGhbaV1bNl0sXHJcbiAgICAgICAgICAgICAgICAgICAgYXkyID0gcGF0aFtpXVs3XTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB4MiAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0ludmFsaWQgcGF0aCEnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiAgYXgyICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBheTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mICBheTIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBjdXJ2ZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyhheDEsIGF5MSwgYXgyLCBheTIsIHgyLCB5Mik7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuY2xpcCgpO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgYiA9IDA7IGIgPCBiZy5sZW5ndGg7IGIrKykge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghYmdbYl0ubG9hZGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBiZ1tiXS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBiZ3dpZHRoID0gYm94LnNpemVbMF0gKiBiZ3NpemVbYl1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJnaGVpZ2h0ID0gYm94LnNpemVbMV0gKiBiZ3NpemVbYl1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb254ID0gYm94LnNpemVbMF0gKiBiZ3Bvc2l0aW9uW2JdWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9ueSA9IGJveC5zaXplWzFdICogYmdwb3NpdGlvbltiXVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoc3ByaXRlLm1hcmdpblszXSArIGJncG9zaXRpb254LCBzcHJpdGUubWFyZ2luWzBdICsgYmdwb3NpdGlvbnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGJnW2ldLmV4cG9ydCgpLCAwLCAwLCBiZ3dpZHRoLCBiZ2hlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdMaW5lUGF0aEZpbGwgPSBmdW5jdGlvbiAoY29udGV4dCwgcGF0aCwgc3R5bGUpIHtcclxuICAgICAgICAgICAgdmFyIGZpbGwgPSBzdHlsZS5nZXQoJ2ZpbGwnKSxcclxuICAgICAgICAgICAgICAgIGNhcCA9IHN0eWxlLmdldCgnY2FwJyk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgY29udGV4dC5saW5lQ2FwID0gY2FwO1xyXG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhwYXRoWzBdWzBdLCBwYXRoWzBdWzFdKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB4MSA9IHBhdGhbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeTEgPSBwYXRoW2ldWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIHgyID0gcGF0aFtpXVsyXSxcclxuICAgICAgICAgICAgICAgICAgICB5MiA9IHBhdGhbaV1bM107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB4MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeDIgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MiAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdJbnZhbGlkIHBhdGghJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh4MiwgeTIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGw7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3QmV6aWVyUGF0aEZpbGwgPSBmdW5jdGlvbiAoY29udGV4dCwgcGF0aCwgc3R5bGUpIHtcclxuICAgICAgICAgICAgdmFyIGZpbGwgPSBzdHlsZS5nZXQoJ2ZpbGwnKSxcclxuICAgICAgICAgICAgICAgIGNhcCA9IHN0eWxlLmdldCgnY2FwJyk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQubGluZUNhcCA9IGNhcDtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHBhdGhbMF1bMF0sIHBhdGhbMF1bMV0pO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeDEgPSBwYXRoW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkxID0gcGF0aFtpXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICB4MiA9IHBhdGhbaV1bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgeTIgPSBwYXRoW2ldWzNdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF4MSA9IHBhdGhbaV1bNF0sXHJcbiAgICAgICAgICAgICAgICAgICAgYXkxID0gcGF0aFtpXVs1XSxcclxuICAgICAgICAgICAgICAgICAgICBheDIgPSBwYXRoW2ldWzZdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF5MiA9IHBhdGhbaV1bN107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB4MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeDIgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MiAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdJbnZhbGlkIHBhdGghJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGF4MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgIGF4MiAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgYXkxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiAgYXkyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0ludmFsaWQgY3VydmUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKGF4MSwgYXkxLCBheDIsIGF5MiwgeDIsIHkyKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcclxuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsO1xyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcclxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd0xpbmVQYXRoID0gZnVuY3Rpb24gKGNvbnRleHQsIHBhdGgsIHN0eWxlKSB7XHJcbiAgICAgICAgICAgIHZhciBzdHJva2VDb2xvciA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBzdHJva2VDYXAgPSBzdHlsZS5nZXQoJ2NhcCcpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBzdHJva2VDYXA7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB4MSA9IHBhdGhbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeTEgPSBwYXRoW2ldWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIHgyID0gcGF0aFtpXVsyXSxcclxuICAgICAgICAgICAgICAgICAgICB5MiA9IHBhdGhbaV1bM107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB4MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeDIgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MiAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdJbnZhbGlkIHBhdGghJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZVdpZHRoW2ldIDwgLjEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4MiwgeTIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4MSwgeTEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvcltpXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVdpZHRoW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHgyLCB5Mik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3QmV6aWVyUGF0aCA9IGZ1bmN0aW9uIChjb250ZXh0LCBwYXRoLCBzdHlsZSkge1xyXG4gICAgICAgICAgICB2YXIgc3Ryb2tlQ29sb3IgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlQ2FwID0gc3R5bGUuZ2V0KCdjYXAnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5saW5lQ2FwID0gc3Ryb2tlQ2FwO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeDEgPSBwYXRoW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkxID0gcGF0aFtpXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICB4MiA9IHBhdGhbaV1bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgeTIgPSBwYXRoW2ldWzNdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF4MSA9IHBhdGhbaV1bNF0sXHJcbiAgICAgICAgICAgICAgICAgICAgYXkxID0gcGF0aFtpXVs1XSxcclxuICAgICAgICAgICAgICAgICAgICBheDIgPSBwYXRoW2ldWzZdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF5MiA9IHBhdGhbaV1bN107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB4MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeDIgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MiAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdJbnZhbGlkIHBhdGghJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGF4MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgIGF4MiAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgYXkxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiAgYXkyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0ludmFsaWQgY3VydmUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZVdpZHRoW2ldIDwgLjEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4MiwgeTIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4MSwgeTEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvcltpXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVdpZHRoW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyhheDEsIGF5MSwgYXgyLCBheTIsIHgyLCB5Mik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3UmVjdEZpbGwgPSBmdW5jdGlvbiAoY29udGV4dCwgc3R5bGUsIHgsIHksIHcsIGgpIHtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGZpbGwgPSBzdHlsZS5nZXQoJ2ZpbGwnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbDtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQucmVjdCh4LCB5LCB3LCBoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcblxyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdSZWN0U3Ryb2tlID0gZnVuY3Rpb24gKGNvbnRleHQsIHN0eWxlLCB4LCB5LCB3LCBoKSB7XHJcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZSA9IHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZUNvbG9yID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGggPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBfeCA9IDAsIF95ID0gMDtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yW2ldO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VXaWR0aCA9IHN0cm9rZVdpZHRoW2ldO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdHlsZVtpXSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3ggPSB4ICsgdztcclxuICAgICAgICAgICAgICAgICAgICBfeSA9IHk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF94ID0geCArIHc7XHJcbiAgICAgICAgICAgICAgICAgICAgX3kgPSB5ICsgaDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3ggPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgIF95ID0geSArIGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIF94ID0geDtcclxuICAgICAgICAgICAgICAgICAgICBfeSA9IHk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZVdpZHRoW2ldIDwgLjEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhfeCwgX3kpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oX3gsIF95KTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIuaGVscGVyLnN5c3RlbShcclxuICAgIFsnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEVhc2luZyhEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIGVhc2luZ3MgPSB7XHJcbiAgICAgICAgICAgICAgICAnXyc6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBsaW5lYXI6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdCAvPSBkO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiICsgYyAqICh0KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBsaW5lYXJTb2Z0OiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cyA9ICh0IC89IGQpICogdDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGMgPSB0cyAqIHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGIgKyBjICogKDQgKiB0YyAqIHRzICsgLTEwICogdHMgKiB0cyArIDggKiB0YyArIC0yICogdHMgKyB0KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBsaW5lYXJTb2Z0T3V0OiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cyA9ICh0IC89IGQpICogdDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGMgPSB0cyAqIHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGIgKyBjICogKC0zICogdGMgKiB0cyArIDExICogdHMgKiB0cyArIC0xNCAqIHRjICsgNiAqIHRzICsgdCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbGluZWFyU29mdEluOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cyA9ICh0IC89IGQpICogdDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGMgPSB0cyAqIHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGIgKyBjICogKC0xICogdGMgKiB0cyArIDIgKiB0Yyk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluUXVhZDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYyAqICh0IC89IGQpICogdCArIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VPdXRRdWFkOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtYyAqICh0IC89IGQpICogKHQgLSAyKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluT3V0UXVhZDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKyBiO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtYyAvIDIgKiAoKC0tdCkgKiAodCAtIDIpIC0gMSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJbkN1YmljOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZU91dEN1YmljOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICsgMSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJbk91dEN1YmljOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKyBiO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICsgMikgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJblF1YXJ0OiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VPdXRRdWFydDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLWMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0IC0gMSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJbk91dFF1YXJ0OiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICsgYjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLWMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0IC0gMikgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJblF1aW50OiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKiB0ICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlT3V0UXVpbnQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0ICogdCArIDEpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5PdXRRdWludDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCAqIHQgKyBiO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAqIHQgKyAyKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluU2luZTogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLWMgKiBNYXRoLmNvcyh0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYyArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZU91dFNpbmU6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiBNYXRoLnNpbih0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5PdXRTaW5lOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtYyAvIDIgKiAoTWF0aC5jb3MoTWF0aC5QSSAqIHQgLyBkKSAtIDEpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5FeHBvOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAodCA9PT0gMCkgPyBiIDogYyAqIE1hdGgucG93KDIsIDEwICogKHQgLyBkIC0gMSkpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlT3V0RXhwbzogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHQgPT09IGQpID8gYiArIGMgOiBjICogKC1NYXRoLnBvdygyLCAtMTAgKiB0IC8gZCkgKyAxKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluT3V0RXhwbzogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodCA9PT0gMCkgcmV0dXJuIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgPT09IGQpIHJldHVybiBiICsgYztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogTWF0aC5wb3coMiwgMTAgKiAodCAtIDEpKSArIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgLyAyICogKC1NYXRoLnBvdygyLCAtMTAgKiAtLXQpICsgMikgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJbkNpcmM6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1jICogKE1hdGguc3FydCgxIC0gKHQgLz0gZCkgKiB0KSAtIDEpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlT3V0Q2lyYzogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqIE1hdGguc3FydCgxIC0gKHQgPSB0IC8gZCAtIDEpICogdCkgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJbk91dENpcmM6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiAtYyAvIDIgKiAoTWF0aC5zcXJ0KDEgLSB0ICogdCkgLSAxKSArIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgLyAyICogKE1hdGguc3FydCgxIC0gKHQgLT0gMikgKiB0KSArIDEpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5CYWNrOiBmdW5jdGlvbiAodCwgYiwgYywgZCwgcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cyA9ICh0IC89IGQpICogdDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGMgPSB0cyAqIHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGIgKyBjICogKDE1LjI2ICogdGMgKiB0cyArIC00My41NiAqIHRzICogdHMgKyAzOS44ICogdGMgKyAtMTAuNiAqIHRzICsgMC4xICogdCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZU91dEJhY2s6IGZ1bmN0aW9uICh0LCBiLCBjLCBkLCBzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRzID0gKHQgLz0gZCkgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YyA9IHRzICogdDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYiArIGMgKiAoMTEuMjQgKiB0YyAqIHRzICsgLTIzLjk2ICogdHMgKiB0cyArIDEyLjI0ICogdGMgKyAxLjQ0ICogdHMgKyAwLjA0ICogdCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluT3V0QmFjazogZnVuY3Rpb24gKHQsIGIsIGMsIGQsIHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHMgPSAodCAvPSBkKSAqIHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRjID0gdHMgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiICsgYyAqICgyMi45MiAqIHRjICogdHMgKyAtNTcuNzggKiB0cyAqIHRzICsgNDUgKiB0YyArIC05LjI4ICogdHMgKyAwLjE0ICogdCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZU91dEJvdW5jZTogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHQgLz0gZCkgPCAoMSAvIDIuNzUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqIHQgKiB0KSArIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0IDwgKDIgLyAyLjc1KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAoMS41IC8gMi43NSkpICogdCArIC43NSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodCA8ICgyLjUgLyAyLjc1KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAoMi4yNSAvIDIuNzUpKSAqIHQgKyAuOTM3NSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09ICgyLjYyNSAvIDIuNzUpKSAqIHQgKyAuOTg0Mzc1KSArIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVhc2luZ3NbbmFtZV0pIHJldHVybiBlYXNpbmdzW25hbWVdO1xyXG4gICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnRWFzaW5ncyAvIFVuYWJsZSB0byBnZXQgdW5kZWZpbmVkIGVhc2luZyBbe25hbWV9XS4gTGluZWFyIGVhc2luZyBmdW5jdGlvbiBwcm92aWRlZC4nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlYXNpbmdzWydsaW5lYXInXTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDIvNi8yMDE3LlxyXG4gKi9cclxuJFIuaGVscGVyLnN5c3RlbShcclxuICAgIGZ1bmN0aW9uIE1hdHJpeCgpIHtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbXVsdGlwbHkobTEsIG0yKSB7XHJcbiAgICAgICAgICAgIHZhciBhMSA9IG0xWzBdICogbTJbMF0gKyBtMVsyXSAqIG0yWzFdLFxyXG4gICAgICAgICAgICAgICAgYTIgPSBtMVsxXSAqIG0yWzBdICsgbTFbM10gKiBtMlsxXSxcclxuICAgICAgICAgICAgICAgIGEzID0gbTFbMF0gKiBtMlsyXSArIG0xWzJdICogbTJbM10sXHJcbiAgICAgICAgICAgICAgICBhNCA9IG0xWzFdICogbTJbMl0gKyBtMVszXSAqIG0yWzNdLFxyXG4gICAgICAgICAgICAgICAgYTUgPSBtMVswXSAqIG0yWzRdICsgbTFbMl0gKiBtMls1XSArIG0xWzRdLFxyXG4gICAgICAgICAgICAgICAgYTYgPSBtMVsxXSAqIG0yWzRdICsgbTFbM10gKiBtMls1XSArIG0xWzVdO1xyXG4gICAgICAgICAgICBtMVswXSA9IGExO1xyXG4gICAgICAgICAgICBtMVsxXSA9IGEyO1xyXG4gICAgICAgICAgICBtMVsyXSA9IGEzO1xyXG4gICAgICAgICAgICBtMVszXSA9IGE0O1xyXG4gICAgICAgICAgICBtMVs0XSA9IGE1O1xyXG4gICAgICAgICAgICBtMVs1XSA9IGE2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYXBwbHlNYXRyaXhUb1BvaW50KG1hdHJpeCwgcG9pbnQpIHtcclxuICAgICAgICAgICAgdmFyIHggPSBwb2ludFswXSAqIG1hdHJpeFswXSArIHBvaW50WzFdICogbWF0cml4WzJdICsgbWF0cml4WzRdLFxyXG4gICAgICAgICAgICAgICAgeSA9IHBvaW50WzBdICogbWF0cml4WzFdICsgcG9pbnRbMV0gKiBtYXRyaXhbM10gKyBtYXRyaXhbNV07XHJcblxyXG4gICAgICAgICAgICBwb2ludFswXSA9IHg7XHJcbiAgICAgICAgICAgIHBvaW50WzFdID0geTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIEdyYXBoaWNzVHJhbnNmb3JtTWF0cml4KG9iamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBbMSwgMCwgMCwgMSwgMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBpbnZlcnNpb24gPSBbMSwgMCwgMCwgMSwgMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBnbG9iYWxJbnZlcnNpb24gPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgZ2xvYmFsVmFsdWUgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgaGlzdG9yeSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gaGlzdG9yeS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoaXN0b3J5W2ldLnJvdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2luQSA9IE1hdGguc2luKC1oaXN0b3J5W2ldLnJvdGF0ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3NBID0gTWF0aC5jb3MoLWhpc3RvcnlbaV0ucm90YXRlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGx5KGludmVyc2lvbiwgW2Nvc0EsIHNpbkEsIC1zaW5BLCBjb3NBLCAwLCAwXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoaXN0b3J5W2ldLnRyYW5zbGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBseShpbnZlcnNpb24sIFsxLCAwLCAwLCAxLCAtaGlzdG9yeVtpXS50cmFuc2xhdGVbMF0sIC1oaXN0b3J5W2ldLnRyYW5zbGF0ZVsxXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeVtpXS5za2V3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGx5KGludmVyc2lvbiwgWzEsIE1hdGgudGFuKC1oaXN0b3J5W2ldLnNrZXdbMV0pLCBNYXRoLnRhbigtaGlzdG9yeVtpXS5za2V3WzBdKSwgMSwgMCwgMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeVtpXS5zY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBseShpbnZlcnNpb24sIFsxIC8gaGlzdG9yeVtpXS5zY2FsZVswXSwgMCwgMCwgMSAvIGhpc3RvcnlbaV0uc2NhbGVbMV0sIDAsIDBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMucm90YXRlID0gZnVuY3Rpb24gKGFuZ2xlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2luQSA9IE1hdGguc2luKGFuZ2xlKSxcclxuICAgICAgICAgICAgICAgICAgICBjb3NBID0gTWF0aC5jb3MoYW5nbGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIG0gPSBbY29zQSwgc2luQSwgLXNpbkEsIGNvc0EsIDAsIDBdO1xyXG5cclxuICAgICAgICAgICAgICAgIG11bHRpcGx5KHZhbHVlLCBtKTtcclxuXHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5LnB1c2goeydyb3RhdGUnOiBhbmdsZX0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy50cmFuc2xhdGUgPSBmdW5jdGlvbiAoeCwgeSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG0gPSBbMSwgMCwgMCwgMSwgeCwgeV07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHggIT09IDAgfHwgeSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG11bHRpcGx5KHZhbHVlLCBtKTtcclxuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5LnB1c2goeyd0cmFuc2xhdGUnOiBbeCwgeV19KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NhbGUgPSBmdW5jdGlvbiAoeCwgeSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHggIT09IDEgfHwgeSAhPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtID0gW3gsIDAsIDAsIHksIDAsIDBdO1xyXG4gICAgICAgICAgICAgICAgICAgIG11bHRpcGx5KHZhbHVlLCBtKTtcclxuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5LnB1c2goeydzY2FsZSc6IFt4LCB5XX0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5za2V3ID0gZnVuY3Rpb24gKHgsIHkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4ICE9PSAwIHx8IHkgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFuQSA9IE1hdGgudGFuKHgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YW5CID0gTWF0aC50YW4oeSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG0gPSBbMSwgdGFuQiwgdGFuQSwgMSwgMCwgMF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG11bHRpcGx5KHZhbHVlLCBtKTtcclxuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5LnB1c2goeydza2V3JzogW3gsIHldfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmV4dHJhY3RHbG9iYWxJbnZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZihnbG9iYWxJbnZlcnNpb24pIHJldHVybiBnbG9iYWxJbnZlcnNpb247XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IG9iamVjdC5wYXJlbnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWdsb2JhbEludmVyc2lvbikgZ2xvYmFsSW52ZXJzaW9uID0gW2ludmVyc2lvblswXSwgaW52ZXJzaW9uWzFdLCBpbnZlcnNpb25bMl0sIGludmVyc2lvblszXSwgaW52ZXJzaW9uWzRdLCBpbnZlcnNpb25bNV1dO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBtdWx0aXBseShnbG9iYWxJbnZlcnNpb24sIHBhcmVudC5tYXRyaXgoKS5leHRyYWN0R2xvYmFsSW52ZXJzaW9uKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICBnbG9iYWxJbnZlcnNpb247XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdsb2JhbEN1cnNvclByb2plY3Rpb24gPSBmdW5jdGlvbiAocG9pbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXh0cmFjdEdsb2JhbEludmVyc2lvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGFwcGx5TWF0cml4VG9Qb2ludChnbG9iYWxJbnZlcnNpb24sIHBvaW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9pbnQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmN1cnNvclByb2plY3Rpb24gPSBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBhcHBseU1hdHJpeFRvUG9pbnQoaW52ZXJzaW9uLCBwb2ludCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy50cmFja0xvY2FsUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQsIGV4Y2x1ZGVfc2VsZikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IG9iamVjdC5wYXJlbnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQubWF0cml4KCkudHJhY2tMb2NhbFBvaW50KHBvaW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKCFleGNsdWRlX3NlbGYpIGFwcGx5TWF0cml4VG9Qb2ludCh2YWx1ZSwgcG9pbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBwb2ludDtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmV4dHJhY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuZXh0cmFjdEludmVyc2lvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbnZlcnNpb247XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm9iamVjdE1hdHJpeCA9IGZ1bmN0aW9uIChvYmplY3QpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBtYXRyaXggPSBuZXcgR3JhcGhpY3NUcmFuc2Zvcm1NYXRyaXgob2JqZWN0KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IG9iamVjdC5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBib3hDb250YWluZXIgPSBvYmplY3QuZXh0ZW5zaW9uKCdCb3gnKS5ib3goKSxcclxuICAgICAgICAgICAgICAgIHNwcml0ZSA9IGJveENvbnRhaW5lci5zcHJpdGUoKSxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gc3R5bGUuZ2V0KCdwb3NpdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgb3JpZ2luID0gc3R5bGUuZ2V0KCdvcmlnaW4nKSxcclxuICAgICAgICAgICAgICAgIHNrZXcgPSBzdHlsZS5nZXQoJ3NrZXcnKSxcclxuICAgICAgICAgICAgICAgIHJvdGF0ZSA9IHN0eWxlLmdldCgncm90YXRlJyksXHJcbiAgICAgICAgICAgICAgICBzY2FsZSA9IHN0eWxlLmdldCgnc2NhbGUnKSxcclxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZSA9IHN0eWxlLmdldCgndHJhbnNsYXRlJyksXHJcblxyXG4gICAgICAgICAgICAgICAgX3RyYW5zbGF0ZSA9IG9iamVjdC50eXBlKCdHcm91cCcpID8gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblswXSArIHRyYW5zbGF0ZVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25bMV0gKyB0cmFuc2xhdGVbMV1cclxuICAgICAgICAgICAgICAgICAgICBdIDpcclxuICAgICAgICAgICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5wb3NpdGlvblswXSArIHRyYW5zbGF0ZVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnBvc2l0aW9uWzFdICsgdHJhbnNsYXRlWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIF9vcmlnaW4gPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luWzBdICogc3ByaXRlLnNpemVbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luWzFdICogc3ByaXRlLnNpemVbMV1cclxuICAgICAgICAgICAgICAgIF07XHJcblxyXG5cclxuICAgICAgICAgICAgbWF0cml4LnRyYW5zbGF0ZShfb3JpZ2luWzBdLCBfb3JpZ2luWzFdKTtcclxuICAgICAgICAgICAgaWYgKF90cmFuc2xhdGVbMF0gIT09IDAgfHwgX3RyYW5zbGF0ZVsxXSAhPT0gMCkgbWF0cml4LnRyYW5zbGF0ZShfdHJhbnNsYXRlWzBdLCBfdHJhbnNsYXRlWzFdKTtcclxuICAgICAgICAgICAgaWYgKHJvdGF0ZSAhPT0gMCkgbWF0cml4LnJvdGF0ZShyb3RhdGUpO1xyXG4gICAgICAgICAgICBpZiAoc2tld1swXSAhPT0gMCB8fCBza2V3WzFdICE9PSAwKSBtYXRyaXguc2tldyhza2V3WzBdLCBza2V3WzFdKTtcclxuICAgICAgICAgICAgaWYgKHNjYWxlWzBdICE9PSAxIHx8IHNjYWxlWzFdICE9PSAxKSBtYXRyaXguc2NhbGUoc2NhbGVbMF0sIHNjYWxlWzFdKTtcclxuICAgICAgICAgICAgbWF0cml4LnRyYW5zbGF0ZSgtX29yaWdpblswXSwgLV9vcmlnaW5bMV0pO1xyXG4gICAgICAgICAgICBtYXRyaXguaW52ZXJ0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXRyaXg7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjkvMjAxNi5cclxuICovXHJcbiRSLmhlbHBlci5zeXN0ZW0oXHJcbiAgICBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBNb2RlbChEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jbG9uZUhhc2ggPSBmdW5jdGlvbiAoaGFzaCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBoYXNoICE9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0hhc2ggaXMgbm90IGFuIG9iamVjdCEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShoYXNoKSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNsb25lQXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJyYXkgIT09IFwib2JqZWN0XCIgfHwgYXJyYXkuY29uc3RydWN0b3IgIT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ2FycmF5IGlzIG5vdCBhbiBhcnJheSEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFycmF5W2ldID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5W2ldLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5jbG9uZUFycmF5KGFycmF5W2ldKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuY2xvbmVIYXNoKGFycmF5W2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFycmF5W2ldID09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IGFycmF5W2ldLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGV2YWwodGV4dCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdZb3VcXCd2ZSBqdXN0IGNsb25lZCBhIGZ1bmN0aW9uLiBJdCBtYXkgYmUgc2xvdycsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYXJyYXlbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy52YWxpZE51bWVyaWNBcnJheSA9IGZ1bmN0aW9uIChhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcnJheSAhPT0gXCJvYmplY3RcIiB8fCBhcnJheS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcnJheVtpXSAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgYmxlbmRpbmdzID0gWydzb3VyY2Utb3ZlcicsICdzb3VyY2UtaW4nLCAnc291cmNlLW91dCcsICdzb3VyY2UtYXRvcCcsICdkZXN0aW5hdGlvbi1vdmVyJyxcclxuICAgICAgICAgICAgICAgICdkZXN0aW5hdGlvbi1pbicsICdkZXN0aW5hdGlvbi1vdXQnLCAnZGVzdGluYXRpb24tYXRvcCcsICdsaWdodGVyJywgJ2NvcHknLCAneG9yJywgJ211bHRpcGx5JyxcclxuICAgICAgICAgICAgICAgICdzY3JlZW4nLCAnb3ZlcmxheScsICdkYXJrZW4nLCAnbGlnaHRlbicsICdjb2xvci1kb2RnZScsICdjb2xvci1idXJuJywgJ2hhcmQtbGlnaHQnLFxyXG4gICAgICAgICAgICAgICAgJ3NvZnQtbGlnaHQnLCAnZGlmZmVyZW5jZScsICdleGNsdXNpb24nLCAnaHVlJywgJ3NhdHVyYXRpb24nLCAnY29sb3InLCAnbHVtaW5vc2l0eSdcclxuICAgICAgICAgICAgXTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudmFsaWRCbGVuZGluZyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmxlbmRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJsZW5kaW5nc1tpXSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgc3ByaXRlX3JlZ2V4cCA9IC9eKFsuL1xcLV9cXGQwLTlhLXpBLVpdKykoXFxbKFxcZCspXFxdKSQvO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pc1Nwcml0ZVN0cmluZyA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzcHJpdGVfcmVnZXhwLnRlc3Qoc3RyKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVhZFNwcml0ZVN0cmluZyA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBzdHIubWF0Y2goc3ByaXRlX3JlZ2V4cCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IHJlc3VsdFsxXSxcclxuICAgICAgICAgICAgICAgICAgICBmcmFtZXM6IHBhcnNlSW50KHJlc3VsdFszXSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzMvMjAxNy5cclxuICovXHJcbiRSLmhlbHBlci5zeXN0ZW0oXHJcbiAgICBmdW5jdGlvbiBNb3VzZSgpIHtcclxuICAgICAgICB0aGlzLmNpcmNsZVVzZXJDaGVja0Z1bmN0aW9uID0gZnVuY3Rpb24gKGN1cnNvcikge1xyXG4gICAgICAgICAgICB2YXIgY29vcmRzID0gdGhpcy5tYXRyaXgoKS5nbG9iYWxDdXJzb3JQcm9qZWN0aW9uKFtjdXJzb3JbMF0sIGN1cnNvclsxXV0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvb3JkcyA8IFswXSB8fCBjb29yZHNbMV0gPCAwKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLnNwcml0ZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvb3Jkc1swXSA+IHNwcml0ZS5zaXplWzBdKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29vcmRzWzFdID4gc3ByaXRlLnNpemVbMV0pIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHZhciByYWRpdXMgPSBzcHJpdGUuc2l6ZVswXSAvIDIsXHJcbiAgICAgICAgICAgICAgICBjeCA9IHJhZGl1cyxcclxuICAgICAgICAgICAgICAgIGN5ID0gc3ByaXRlLnNpemVbMV0gLyAyO1xyXG5cclxuICAgICAgICAgICAgaWYgKE1hdGgucG93KGNvb3Jkc1swXSAtIGN4LCAyKSArIE1hdGgucG93KGNvb3Jkc1sxXSAtIGN5LCAyKSA8PSBNYXRoLnBvdyhyYWRpdXMsIDIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc3F1YXJlVXNlckNoZWNrRnVuY3Rpb24gPSBmdW5jdGlvbiAoY3Vyc29yKSB7XHJcbiAgICAgICAgICAgIHZhciBjb29yZHMgPSB0aGlzLm1hdHJpeCgpLmdsb2JhbEN1cnNvclByb2plY3Rpb24oW2N1cnNvclswXSwgY3Vyc29yWzFdXSksXHJcbiAgICAgICAgICAgICAgICBzcHJpdGUgPSB0aGlzLmV4dGVuc2lvbignQm94JykuYm94KCkuc3ByaXRlKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29vcmRzWzBdID4gMCAmJiBjb29yZHNbMF0gPCBzcHJpdGUuc2l6ZVswXSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvb3Jkc1sxXSA+IDAgJiYgY29vcmRzWzFdIDwgc3ByaXRlLnNpemVbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmNpcmNsZUNoZWNrRnVuY3Rpb24gPSBmdW5jdGlvbiAoY3Vyc29yKSB7XHJcbiAgICAgICAgICAgIHZhciBjb29yZHMgPSB0aGlzLm1hdHJpeCgpLmdsb2JhbEN1cnNvclByb2plY3Rpb24oW2N1cnNvclswXSwgY3Vyc29yWzFdXSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29vcmRzIDwgWzBdIHx8IGNvb3Jkc1sxXSA8IDApIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSB0aGlzLmV4dGVuc2lvbignQm94JykuYm94KCkuc3ByaXRlKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29vcmRzWzBdID4gc3ByaXRlLnNpemVbMF0pIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb29yZHNbMV0gPiBzcHJpdGUuc2l6ZVsxXSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNlbnRlciA9IHNwcml0ZS5zaXplWzBdIC8gMixcclxuICAgICAgICAgICAgICAgIHJhZGl1cyA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLmdldCgncmFkaXVzJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoTWF0aC5wb3coKGNvb3Jkc1swXSAtIGNlbnRlciksIDIpICsgTWF0aC5wb3coKGNvb3Jkc1sxXSAtIGNlbnRlciksIDIpIDwgTWF0aC5wb3cocmFkaXVzLCAyKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnJlY3RDaGVja0Z1bmN0aW9uID0gZnVuY3Rpb24gKGN1cnNvcikge1xyXG4gICAgICAgICAgICB2YXIgY29vcmRzID0gdGhpcy5tYXRyaXgoKS5nbG9iYWxDdXJzb3JQcm9qZWN0aW9uKFtjdXJzb3JbMF0sIGN1cnNvclsxXV0pLFxyXG4gICAgICAgICAgICAgICAgc3ByaXRlID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLnNwcml0ZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvb3Jkc1swXSA+IDAgJiYgY29vcmRzWzBdIDwgc3ByaXRlLnNpemVbMF0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb29yZHNbMV0gPiAwICYmIGNvb3Jkc1sxXSA8IHNwcml0ZS5zaXplWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjkvMjAxNi5cclxuICovXHJcbiRSLmhlbHBlci5zeXN0ZW0oXHJcbiAgICBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBQYXRoKERlYnVnKSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldENvbnRyb2xQb2ludHMoeDAsIHkwLCB4MSwgeTEsIHgyLCB5MiwgdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGQwMSA9IE1hdGguc3FydChNYXRoLnBvdyh4MSAtIHgwLCAyKSArIE1hdGgucG93KHkxIC0geTAsIDIpKTtcclxuICAgICAgICAgICAgICAgIHZhciBkMTIgPSBNYXRoLnNxcnQoTWF0aC5wb3coeDIgLSB4MSwgMikgKyBNYXRoLnBvdyh5MiAtIHkxLCAyKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmEgPSB0ICogZDAxIC8gKGQwMSArIGQxMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmIgPSB0ICogZDEyIC8gKGQwMSArIGQxMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgcDF4ID0geDEgLSBmYSAqICh4MiAtIHgwKTtcclxuICAgICAgICAgICAgICAgIHZhciBwMXkgPSB5MSAtIGZhICogKHkyIC0geTApO1xyXG4gICAgICAgICAgICAgICAgdmFyIHAyeCA9IHgxICsgZmIgKiAoeDIgLSB4MCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcDJ5ID0geTEgKyBmYiAqICh5MiAtIHkwKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbcDF4LCBwMXksIHAyeCwgcDJ5XTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jb252ZXJ0Q29tcGxleFBhdGggPSBmdW5jdGlvbiAocGF0aCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtpXVsxXVxyXG4gICAgICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbnZlcnRTaW1wbGVQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ1BhdGggc2hvdWxkIGNvbnNpc3Qgb2YgYXQgbGVhc3QgdHdvIHBvaW50cyEnLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB4ID0gcGF0aFtpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHBhdGhbaV1bMV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeCAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgIHkgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0luY29ycmVjdCBQYXRoIScsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCBwYXRoLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXN1bHRbaV0pIHJlc3VsdC5wdXNoKFtdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2ldLnB1c2goeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpXS5wdXNoKHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2kgLSAxXS5wdXNoKHgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaSAtIDFdLnB1c2goeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpIC0gMV0ucHVzaChyZXN1bHRbaSAtIDFdWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2kgLSAxXS5wdXNoKHJlc3VsdFtpIC0gMV1bMV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2kgLSAxXS5wdXNoKHgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaSAtIDFdLnB1c2goeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmludGVycG9sYXRlID0gZnVuY3Rpb24gKHBhdGgsIHNtb290aGluZywgY2xvc2VkKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmV2ID0gW10sIG1pZCA9IFtwYXRoW2ldWzBdLCBwYXRoW2ldWzFdXSwgbmV4dCA9IFtwYXRoW2ldWzJdLCBwYXRoW2ldWzNdXSwgcHRzID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldiA9IG1pZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXYgPSBbcGF0aFtpIC0gMV1bMF0sIHBhdGhbaSAtIDFdWzFdXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBwdHMgPSBnZXRDb250cm9sUG9pbnRzKHByZXZbMF0sIHByZXZbMV0sIG1pZFswXSwgbWlkWzFdLCBuZXh0WzBdLCBuZXh0WzFdLCBzbW9vdGhpbmcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoW2ldWzRdID0gcHRzWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoW2ldWzVdID0gcHRzWzNdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtpIC0gMV1bNl0gPSBwdHNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbaSAtIDFdWzddID0gcHRzWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoW2ldWzRdID0gcHRzWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoW2ldWzVdID0gcHRzWzNdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IHBhdGgubGVuZ3RoIC0gMSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldiA9IFtwYXRoW2ldWzBdLCBwYXRoW2ldWzFdXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlkID0gW3BhdGhbaV1bMl0sIHBhdGhbaV1bM11dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0ID0gbWlkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHRzID0gZ2V0Q29udHJvbFBvaW50cyhwcmV2WzBdLCBwcmV2WzFdLCBtaWRbMF0sIG1pZFsxXSwgbmV4dFswXSwgbmV4dFsxXSwgc21vb3RoaW5nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbaV1bNl0gPSBwdHNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbaV1bN10gPSBwdHNbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzMSA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMyID0gcGF0aFswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfc2VnbWVudCA9IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzMVswXSwgczFbMV0sIHMxWzJdLCBzMVszXSwgczFbNF0sIHMxWzVdLCBzMVs2XSwgczFbN11dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3MyWzBdLCBzMlsxXSwgczJbMl0sIHMyWzNdLCBzMls0XSwgczJbNV0sIHMyWzZdLCBzMls3XV1dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcnBvbGF0ZShfc2VnbWVudCwgc21vb3RoaW5nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbMF1bNF0gPSBfc2VnbWVudFsxXVs0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFswXVs1XSA9IF9zZWdtZW50WzFdWzVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoW3BhdGgubGVuZ3RoIC0gMV1bNl0gPSBfc2VnbWVudFswXVs2XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtwYXRoLmxlbmd0aCAtIDFdWzddID0gX3NlZ21lbnRbMF1bN107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tTaW1wbGVQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gXCJvYmplY3RcIiB8fCBwYXRoLmNvbnN0cnVjdG9yICE9PSBBcnJheSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHBhdGhbaV0gIT09IFwib2JqZWN0XCIgfHwgcGF0aFtpXS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkgfHwgcGF0aFtpXS5sZW5ndGggIT09IDIgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHBhdGhbaV1bMF0gIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mICBwYXRoW2ldWzFdICE9PSBcIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29tcGFyZVBhdGhzID0gZnVuY3Rpb24gKHBhdGgxLCBwYXRoMikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGgxLmxlbmd0aCAhPT0gcGF0aDIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aDEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHBhdGgxW2ldLmxlbmd0aDsgbisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXRoMVtpXVtuXSAhPT0gcGF0aDJbaV1bbl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
