!function(){function Reflect(){function CoreInjection(){var r=[],o=null;this.name=function(){return o.name},this.dependencies=function(){return r},this.instance=null,this.build=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return t.unshift(null),this.instance=new(Function.prototype.bind.apply(o,t)),n[this.name()]=this,this};for(var i=0;i<arguments.length;i++)if("string"==typeof arguments[i]&&arguments[i].length&&r.push(arguments[i]),"function"==typeof arguments[i]){o=arguments[i];break}if(!o||!o.name||0==o.name.length)throw new Error("Unable to create core injection. Constructor is undefined!");e[o.name]=this,t[o.name]=!0}function createDefineFunction(t){return function define(e,i){void 0===r[e]&&(r[e]={value:i,targetname:t,wrap:function(){void 0===o[i]&&("function"==typeof i?n[t]&&(o[e]=function(){var e=i.apply(n[t].instance,arguments);return void 0!==e?e:o}):o[e]=i)}})}}function resolve(t){for(var r=t.dependencies(),o=[],i=0;i<r.length;i++){var a=r[i];if("@define"===a)o.push(createDefineFunction(t.name()));else{if("string"!=typeof a)throw o.push(void 0),new Error("Unable to resolve injection ["+a+"]. Unknown type of injection request.");if(n[a])o.push(n[a].instance);else{if(!e[a])throw o.push(void 0),new Error("Unable to resolve injection ["+a+"]. Mo such core module found!");o.push(resolve(e[a]).instance)}}}return t.build.apply(t,o)}function buildCore(){for(var o in t)n[o]||(n[o]=resolve(e[o]));for(var i in r)r.hasOwnProperty(i)&&r[i].wrap()}function check(){var e=!0;for(var n in t)if(t.hasOwnProperty(n)&&!t[n]){e=!1;break}e&&buildCore()}var t={},e={},n={},r={},o=this,i=[];this.$=function(){var t=[];if("object"==typeof arguments[0]&&arguments[0].constructor==Array)for(var e=0;e<arguments[0].length;e++)t.push(arguments[0][e]);else"function"==typeof arguments[0]&&arguments[0].name&&t.push(arguments[0]);return t.unshift(null),new(Function.prototype.bind.apply(CoreInjection,t)),check(),this},this.modules=function(){for(var e=0;e<arguments.length;e++)t[arguments[e]]||(t[arguments[e]]=!1);check()},document.addEventListener("DOMContentLoaded",function(){for(var t=0;t<i.length;t++)i[t].call(this)}),this.on=function(t,e){if(!t||"string"!=typeof t)throw new Error("Unable to add event listener. unknown event name type.");if("function"!=typeof e)throw new Error("Unable to add event listener. func is not a function");if("build"!=t)throw new Error("Unable to add event listener. Unknown event");i.push(e)}}window.$R=new Reflect}(),$R.modules("ApplicationCanvasProvider","ApplicationHTMLRootProvider","ApplicationProvider","ApplicationTickerProvider","ApplicationConfigProvider","InjectionContainerProvider","ExtensionsProvider","FontFamilyManager"),$R.$(function ApplicationAudioContextProvider(){function getAppContext(e){return{context:new AudioContext,constructor:function audio(){this.context=function(){return t[e].context}}}}var t={};this.getApplicationAudioContext=function(e){return t[e]=getAppContext(e),t[e].constructor}}),$R.$([function ApplicationCanvasProvider(){function getCanvasConstructor(e){return function Canvas(){var n=t[e].element,r=n.getContext("2d");this.element=function(){return n},this.context=function(){return r}}}var t={};this.canvasInjectionConstructor=function(e){return t[e]={appname:e,element:document.createElement("canvas"),constructor:getCanvasConstructor(e)},t[e].constructor},this.getApplicationCanvas=function(e){return t[e].element}}]),$R.$(["@define",function ApplicationConfigProvider(t){function createExtensionConfig(t){return function config(){for(var e in t)if(t.hasOwnProperty(e))if("string"==typeof t[e]||"number"==typeof t[e]||"boolean"==typeof t[e])this[e]=t[e];else if("object"==typeof t[e]&&t[e].constructor===Array){for(var n=[],r=0;r<t[e].length;r++)"boolean"!=typeof t[e][r]&&"string"!=typeof t[e][r]&&"number"!=typeof t[e][r]||n.push(t[e][r]);this[e]=n}}}function getAppConfig(t){var e={};for(var n in t)t.hasOwnProperty(n)&&"object"==typeof t[n]&&t[n].constructor!==Array&&(e[n]=createExtensionConfig(t[n]));return e}var e={},n=function config(){};t("cfg",function(t,n){"object"==typeof n&&(e[t]=getAppConfig(n))}),this.getExtensionConfig=function(t,r){return e[t]&&e[t][r]?e[t][r]:n}}]),$R.$(function ApplicationHTMLRootProvider(){function getHTmlRootConstructor(n,r){var o=null;return t[r]={element:document.createElement("div"),$constructor:function HTMLRoot(){function resolve(t,e){var n=a[t],r=e&&"object"==typeof e&&e.constructor==Array?e:[];if(n)for(var o=0;o<n.length;o++){n[o].apply(this,r)}}function checkElementResize(t,e){t===s&&e===u||(s=t,u=e,n.setAttribute("width",s),n.setAttribute("height",u),resolve("resize",[t,e]))}var i=t[r].element,a={resize:[]},s=0,u=0;this.element=function(){return i},this.on=function(t,e){if(!("string"==typeof t&&t.length>0))throw new Error("Unable to set event. Event name is not a string or empty.");if(!a[t])throw new Error("Unable to set event ["+t+"]. No such event.");if("function"!=typeof e)throw new Error("Unable to set event ["+t+"] callback. Not a function");a[t].push(e)},this.hide=function(){o=this.element().parentNode,e.appendChild(this.element())},this.show=function(){o&&(o.appendChild(this.element()),o=null)},document.addEventListener("DOMContentLoaded",function(){checkElementResize(i.offsetWidth,i.offsetHeight)}),window.addEventListener("resize",function(){checkElementResize(i.offsetWidth,i.offsetHeight)})}},t[r].element.setAttribute("class","reflect-canvas-wrapper"),t[r].element.setAttribute("style","position:absolute; left:0;top:0;width:100%;height:100%;"),n.setAttribute("style","position:absolute; left:0;top:0;"),n.setAttribute("id","reflect-canvas-"+r),n.setAttribute("class","reflect-canvas-output"),t[r].element.appendChild(n),document.getElementsByTagName("body")[0].appendChild(t[r].element),t[r].$constructor}var t={},e=document.createElement("div");this.HTMLRootConstructor=function(t,e){return getHTmlRootConstructor(t,e)}}),$R.$(["@define","ExtensionsProvider","InjectionContainerProvider","ApplicationCanvasProvider","ApplicationHTMLRootProvider","ApplicationTickerProvider","ApplicationConfigProvider","ApplicationAudioContextProvider",function ApplicationProvider(t,e,n,r,o,i,a,s){function getAppSources(t){var e=n.container({app:n.injection(getRApp(t))});return e.injection(r.canvasInjectionConstructor(t)),e.injection(o.HTMLRootConstructor(r.getApplicationCanvas(t),t)),e.injection(s.getApplicationAudioContext(t)),e.source(e,!1),e}function getRApp(t){return function ReflectApplication(){function resolve(t,n){if("string"!=typeof t||!t.length)throw new Error("Unable to resolve event. Event argument is not a string.");if(!a[t])throw new Error("Unable to resolve event ["+t+"]. No such event.");var r=[];"object"==typeof n&&n.constructor==Array?r=n:void 0!==n&&(r=[n]);for(var o=0;o<a[t].length;o++)a[t][o].apply(e,r)}var e=this,n=i.createTicker(t,r.getApplicationCanvas(t),e),o={start:{target:n,func:"start"},stop:{target:n,func:"stop"},fps:{target:n,func:"fps"},tick:{target:n,func:"callback"}};this.$=function(t,e){if("string"==typeof t&&t.length&&o[t])return void 0===e?e=[]:"object"==typeof e&&e.constructor===Array||(e=[e]),o[t].target[o[t].func].apply(o[t].target,e)};var a={stop:[],start:[],error:[]};n.on("stop",function(){resolve("stop",e)}),n.on("start",function(){resolve("start",e)}),n.on("error",function(){resolve("error",e)}),this.$on=function(t,e){if("string"!=typeof t||!t.length)throw new Error("Unable to set handler. Event string is undefined or empty.");if(!a[t])throw new Error("Unable to set event ["+t+"]. No such event.");if("function"!=typeof e)throw new Error("Unable to set event ["+t+"]. Callback func is not a function.");a[t].push(e)},this.$define=function(t,e){void 0===this[t]&&"$"!==t.charAt(0)&&(this[t]=e)},f[t]=this}}var u={},l={},c=[],f={},h={};t("app",function(t){if("function"==typeof t&&t.name)u[t.name]=n.container(),u[t.name].injection(t);else{if("object"!=typeof t||t.constructor!==Array)throw new Error("Invalid application injection config");for(var e=null,r=[],o=0;o<t.length;o++)"string"==typeof t[o]&&t[o].length>0?r.push(t[o]):"function"==typeof t[o]&&t[o].name&&(e=t[o]);if(!e)throw new Error("Unable to create application. Constructor not found!");r.push(e),u[e.name]=n.container(),u[e.name].injection(r)}}),t("mod",function(t,e){if("string"==typeof t&&t.length)if(l[t]||(l[t]=n.container(),l[t].source(l[t],"$")),"function"==typeof e)l[t].injection(e);else if("object"==typeof e&&e.constructor==Array){for(var r=null,o=[],i=0;i<e.length;i++){if("string"!=typeof e[i]||!e[i].length){if("function"==typeof e[i]&&e[i].name){r=e[i];break}throw new Error("Unknown type of module constructor parameter")}o.push(e[i])}if(!r)throw new Error("Unable to create module. No constructor found!");o.push(r),l[t].injection(o)}}),t("run",function(){for(var t=0;t<arguments.length;t++)if("string"==typeof arguments[t]&&arguments[t].length){for(var e=!1,n=0;n<c.length;n++)if(c[n]==arguments[t]){e=!0;break}e||c.push(arguments[t])}}),t("application",function(t){if("string"==typeof t&&t.length){if(f[t])return f[t];if(u[t]){var r=e.extensions(),o=getAppSources(t),i=[];for(var s in r)if(r.hasOwnProperty(s)){i.push(r[s]);var c=a.getExtensionConfig(t,s),p=n.container();p.injection(c);var v=[];for(var g in r)r.hasOwnProperty(g)&&g!==s&&v.push(r[g]);r[s].source(v,!1),r[s].source(o,"@"),r[s].source(p,"$$");var d=r[s].findSourceByPrefix("$");d&&(d.source(v,!1),d.source(d.containers(),"$"),d.source(o,"@"),d.source(p,"$$"))}for(var s in r)r.hasOwnProperty(s)&&r[s].resolve(s);var y=n.container();for(var b in h)h.hasOwnProperty(b)&&y.injection(h[b]);return y.source(y,"."),l[t]&&(u[t].source(l[t],"$"),l[t].source(o,"@"),l[t].source(y,"."),l[t].source(i,!1)),u[t].source(y,"."),u[t].source(o,"@"),u[t].source(i,!1),u[t].resolve(t),f[t]}throw new Error("Unable to run app ["+t+"]. No such app registered.")}throw new Error("Unable to run app. App name (id) is not a string or empty.")}),t("cls",function(t){if("function"==typeof t&&t.name&&t.name.length){if(h[t.name])throw new Error("Duplicate or invalid class name ["+t.name+"]");h[t.name]=t}else{if("object"!=typeof t||t.constructor!=Array)throw new Error("Class func should be a named function");for(var e=!0,n=null,r=0;r<t.length;r++)if("string"==typeof t[r]){if("@extend"!==t[r]&&"@inject"!==t[r]){e=!1;break}}else if("function"==typeof t[r]){n=t[r];break}if(!e)throw new Error("Unable to add dependencies. Only @extend and @inject are possible for cls");if(!n)throw new Error("Class constructor is undefined");if(!n.name)throw new Error("Unable to create class. Constructor is not a named function.");if(h[n.name])throw new Error("Duplicate or invalid class name ["+t.name+"]");h[n.name]=t}}),$R.on("build",function(){var t=[];if(c.length)t=c;else for(var e in u)t.push(e);for(var n=0;n<t.length;n++)$R.application(t[n])})}]),$R.$(function ApplicationTickerProvider(){function Ticker(t,e){function resolve(t,e){var n=[];if("object"==typeof e&&e.constructor==Array?n=e:void 0!==e&&n.push(e),"string"!=typeof t||!t.length)throw new Error("Unable to resolve event. Event parameter is not a string or empty");if(!l[t])throw new Error("Unable to resolve event ["+t+"]. No such event.");for(var r=0;r<l[t].length;r++)l[t][r].apply(c,n)}var n=(1e3/58.8).toFixed(2),r={},o=t.getContext("2d"),i=0,a=[null,t,o,0],s=function(){a[0]=new Date,a[3]=i;try{for(var t in r)for(var n=0;n<r[t].length;n++)r[t][n].apply(e,a);i++}catch(o){throw clearInterval(u),resolve("error",o),console.error("Unable to run ticker anymore. Error emerged during app ticker progress."),o}},u=null,l={stop:[],start:[],error:[]},c=this;this.on=function(t,e){if("string"!=typeof t||!t.length)throw new Error("Unable to set event. Event argument is not a string or empty.");if(!l[t])throw new Error("Unable to set event ["+t+"] handler. No such event.");if("function"!=typeof e)throw new Error("Unable to set event ["+t+"]. Callback is not a function.");l[t].push(e)},this.stop=function(){u&&(i=0,clearInterval(u),u=null,resolve("stop",this))},this.start=function(){u||(u=setInterval(s,n),resolve("start",this))},this.fps=function(t){return"number"!=typeof t?(1e3/n).toFixed(2):(t>60&&(t=60),t<=0&&(t=1),n=(1e3/t).toFixed(2),this.stop(),this.start(),void 0)},this.callback=function(t,e){if("function"==typeof t)r[0]||(r[0]=[]),r[0].push(t);else{if("number"!=typeof t)throw new Error("Unable to create callback. Wrong arguments passed");if("function"!=typeof e)throw new Error("Unable to queue. callback is not a function");r[t]||(r[t]=[]),r[t].push(e)}}}var t={};this.createTicker=function(e,n,r){return t[e]&&t[e].stop(),t[e]=new Ticker(n,r),t[e]}}),$R.$(["@define","InjectionContainerProvider",function ExtensionsProvider(t,e){function createExtensionContainer(t){return n[t]?n[t]:(n[t]=e.container(),n[t])}function createPartContainer(t){return r[t]?r[t]:(r[t]=e.container(),createExtensionContainer(t).source(r[t],"$"),r[t])}var n={},r={};this.extensions=function(){var t={};for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e].clone());return t},t("ext",function(t){if("function"==typeof t&&t.name)createExtensionContainer(t.name).injection(t);else{if("object"!=typeof t||t.constructor!==Array)throw new Error("Wrong arguments");for(var e=null,n=0;n<t.length;n++)if("function"==typeof t[n]&&t[n].name){e=t[n].name;break}if(!e)throw new Error("Constructor not found.");createExtensionContainer(e).injection(t)}}),t("part",function(t,e){if(!("string"==typeof t&&t.length>0))throw new Error("Host extension was not specified!");if("function"==typeof e&&e.name)createPartContainer(t).injection(e);else if("object"==typeof e&&e.constructor==Array){for(var n=null,r=0;r<e.length;r++)if("function"==typeof e[r]&&e[r].name){n=e[r].name;break}if(!n)throw new Error("Extension ["+t+"] part Constructor was not found.");createPartContainer(t).injection(e)}})}]),$R.$(["@define",function FontFamilyManager(t){function fontString(t,e){for(var n="",i=0;i<t.weight.length;i++)for(var a=0;a<t.style.length;a++){if(!t[t.weight[i]+"-"+t.style[a]]){for(var s=e+"/"+t.name+"-"+t.weight[i]+"-"+t.style[a],u='@font-face {font-family: "'+t.name+"-"+t.weight[i]+'";src:',l=0;l<r.length;l++)u+=o[r[l]](s,t.name,t.style[a]),u+=l<r.length-1?",":";";u+="font-weight: "+t.weight[i]+";",u+="font-style:"+t.style[a]+";}",t[t.weight[i]+"-"+t.style[a]]=u}n+=t[t.weight[i]+"-"+t.style[a]]}return n}function update(t){var r="";for(var o in n)n.hasOwnProperty(o)&&(r+=fontString(n[o],t));e.innerHTML=r}function inArray(t,e){for(var n=!1,r=0;r<t.length;r++)if(t[r]===e){n=!0;break}return n}var e=document.createElement("style"),n={},r=["eot","svg","ttf","woff"];document.getElementsByTagName("head")[0].appendChild(e);var o={eot:function(t){return'url("'+t+'.eot?#iefix") format("embedded-opentype")'},woff:function(t){return'url("'+t+'.woff") format("woff")'},ttf:function(t){return'url("'+t+'.ttf") format("truetype")'},svg:function(t,e,n){return'url("'+t+".svg#"+e+"-"+(n.charAt(0).toUpperCase()+n.slice(1))+'") format("svg")'}};t("font",function(t,e,r,o){n[e]||(n[e]={name:e}),n[e][r+"-"+o]||(n[e].weight||(n[e].weight=[]),n[e].style||(n[e].style=[]),inArray(n[e].weight,r)||n[e].weight.push(r),inArray(n[e].style,o)||n[e].style.push(o),update(t))}),t("fontFormats",function(){for(var t=[],e=0;e<r.length;e++)t.push(r[e]);return t})}]),$R.$([function InjectionContainerProvider(){function Injection(t){var e=t,n=null,r=[];if("function"==typeof t&&t.name)e=t;else if("object"==typeof t&&t.constructor===Array)for(var o=0;o<t.length;o++)if("string"==typeof t[o]&&t[o].length)r.push(t[o]);else if("function"==typeof t[o]&&t[o].name){e=t[o];break}if(!e)throw new Error("Injection constructor undefined!");this.name=function(){return e.name},this.dependencies=function(){for(var t=[],e=0;e<r.length;e++)t.push(r[e]);return t},this.extend=function(t){return function(e,n){if("object"!=typeof e)throw new Error("Extend target should be an object!");if("string"!=typeof n)throw new Error("Extend class name should be a string!");var r=t.findSourceByInjectionName(n);if(!r)throw new Error("Unable to find injection ["+n+"]");var o=r.resolveInjectionDependancies(n);o.$constructor.apply(e,o.dependencies)}},this.inject=function(t){return function(e){return t.resolveDirectInjection(e)}},this.create=function(t,r){return r?(t.unshift(null),new(Function.prototype.bind.apply(e,t))):(n||(t.unshift(null),n=new(Function.prototype.bind.apply(e,t))),n)},this.$constructor=function(){return e},this.clone=function(){return new Injection(t)}}function SourceContainer(t,e,n){function stripPrefix(e){if(t){for(var n="",o=0;o<e.length;o++)o>=r.length&&(n+=e[o]);return n}return e}var r=!!t&&t,o=[];if("object"==typeof e)if(e.constructor===InjectionContainer)o=[e];else{if(e.constructor!=Array)throw new Error("Invalid type if container!");for(var i=!0,a=0;a<e.length;a++){if(e[a].constructor!==InjectionContainer){i=!1;break}o.push(e[a])}if(0==e.length&&(i=!1),!i)throw new Error("Container array is empty!")}this.check=function(e){var n=!0;if(t)for(var r=0;r<t.length;r++)e[r]&&e[r]===t[r]||(n=!1);return n},this.has=function(t){var e=!1;if(this.check(t))for(var n=0;n<o.length;n++){var r=stripPrefix(t);if(o[n].has(r)){e=!0;break}}return e},this.loop=function(){return n},this.containers=function(){return o},this.source=function(){for(var t=0;t<o.length;t++)o[t].source.apply(o[t],arguments)},this.prefix=function(t){return void 0!==t?t===r:r},this.resolve=function(t,e){var n=null;if(this.has(t)){for(var r=null,i=stripPrefix(t),a=0;a<o.length;a++)o[a].has(i)&&(r=o[a]);r&&(n=r.resolve(i,e))}return n},this.resolveInjectionDependancies=function(t){if(this.has(t)){for(var e=null,n=stripPrefix(t),r=0;r<o.length;r++)o[r].has(n)&&(e=o[r]);if(e)return e.resolve(n,"extend")}}}function InjectionContainer(t){var e="object"==typeof t?t:{},n={};this.list=function(){return e},this.injection=function(t){var n=null,r=[];if("function"==typeof t){if(!t.name||!t.name.length)throw new Error("Anonymous function can not be injection constructor.");n=t}else{if("object"!=typeof t||t.constructor!==Array)throw new Error("Unknown type of injection config.");for(var o=0;o<t.length;o++){if("string"!=typeof t[o]||!t[o].length){if("function"==typeof t[o]&&t[o].name){n=t[o];break}throw new Error("Unknown type of injection name or constructor.")}r.push(t[o])}}r.push(n),e[n.name]=new Injection(r)},this.source=function(t,e){if(t&&"object"==typeof t)if(t.constructor===InjectionContainer){if(e||(e=!1),"string"==typeof e&&e.length||e===!1){t.$$LOOP=!0;var r=!1;this.$LOOP&&(r=!0),delete t.$$LOOOP,n[e?e:"$$noprefix"]=new SourceContainer(e,[t],[r])}}else if(t.constructor===Array){for(var o=!0,r=[],i=0;i<t.length;i++)"object"==typeof t[i]&&t[i].constructor==InjectionContainer?(t[i].$$LOOOP=!0,this.$$LOOOP?r.push(!0):r.push(!1),delete t[i].$$LOOOP):o=!1;if(!o)throw new Error("Source container config is not valid. One of the containers provided is not an InjectionContainer instance");e||(e=!1),("string"==typeof e&&e.length||e===!1)&&(n[e?e:"$$noprefix"]=new SourceContainer(e,t,r))}},this.clone=function(){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r].clone());var o=new InjectionContainer(t);for(var i in n){for(var a=n[i].containers(),s=n[i].loop(),u=n[i].prefix(),l=[],c=0;c<a.length;c++)s[c]?l.push(o):l.push(a[c].clone());o.source(l,u)}return o},this.findSourceByPrefix=function(t){return t===!1?n.$$noprefix:"string"==typeof t?n[t]:null},this.findSourceByInjectionName=function(t){var e=null;for(var r in n)if(n.hasOwnProperty(r)&&n[r].prefix()&&n[r].has(t)){e=n[r];break}return!e&&n.$$noprefix&&n.$$noprefix.has(t)&&(e=n.$$noprefix),e},this.resolve=function(t,n){if("extend"===n){if(e[t]){for(var r={dependencies:[],$constructor:e[t].$constructor()},o=e[t].dependencies(),i=0;i<o.length;i++)if("@extend"==o[i])r.dependencies.push(e[t].extend(this));else if("@inject"==o[i])r.dependencies.push(e[t].inject(this));else{var a=this.findSourceByInjectionName(o[i]);if(!a)throw new Error("Unable to inject ["+o[i]+"] while direct injection process.");r.dependencies.push(a.resolve(o[i]))}return r}throw new Error("Unable to inject ["+t+"] no such injection found")}if(this.has(t)){for(var o=e[t].dependencies(),s=[],u=0;u<o.length;u++)if("@extend"==o[u])s.push(e[t].extend(this));else if("@inject"==o[u])s.push(e[t].inject(this));else if("."===o[u].charAt(0))s.push(e[t].$constructor);else{var l=this.findSourceByInjectionName(o[u]);if(!l)throw new Error("Injection ["+o[u]+"] source was not found.");s.push(l.resolve(o[u]))}return e[t].create(s,n)}throw new Error("Injection ["+t+"] was not found in library!")},this.resolveDirectInjection=function(t){var e=this.findSourceByInjectionName(t);return e?e.resolve(t,!0):e},this.has=function(t){return!!e[t]},this.get=function(t){return e[t]?e[t]:null}}this.container=function(t){return new InjectionContainer(t)},this.injection=function(t){return new Injection(t)}}]),$R.$(["@define","InjectionContainerProvider","ApplicationProvider",function Injector(t,e,n){function createExtensionContainer(t){return r[t]?r[t]:(r[t]=e.container(),r[t])}function createPartContainer(t){return o[t]?o[t]:(o[t]=e.container(),createExtensionContainer(t).source(o[t],"$"),o[t])}var r={},o={};this.extensions=function(){var t=[];for(var e in r)r.hasOwnProperty(e)&&t.push(r[e].clone());return t},t("ext",function(t){if("function"==typeof t&&t.name){if(r[t.name])throw new Error("Extension constuctor is not a named function");createExtensionContainer(t.name).injection(t)}else{if("object"!=typeof t||t.constructor!==Array)throw new Error("Wrong arguments");for(var e=null,n=0;n<t.length;n++)if("function"==typeof t[n]&&t[n].name){e=t[n].name;break}if(!e)throw new Error("Constructor not found.");if(r[e])throw new Error("Extension constructor was not found!");createExtensionContainer(t.name).injection(t)}}),t("part",function(t,e){if(!("string"==typeof t&&t.length>0))throw new Error("Host extension was not specified!");if("function"==typeof e&&e.name)createPartContainer(t).injection(e);else if("object"==typeof e&&e.constructor==Array){for(var n=null,r=0;r<e.length;r++)if("function"==typeof e[r]&&e[r].name){n=e.name;break}if(!n)throw new Error("Extension ["+t+"] part Constructor was not found.");createPartContainer(t).injection(e)}})}]),$R.part("Morphine",[function Morphine(){function Tick(f){if(!c){if(l)return void(o=(new Date).getTime()-e*u);o||(o=(new Date).getTime()),u=(f-o)/e,u>1&&(u=1),1==u&&(n&&r>0?(r!==1/0&&r--,o=(new Date).getTime()):c=!0),i.apply(null,[u,t((f-o)/1e3,a,s-a,e/1e3),o])}}var t=null,e=1,n=!1,r=1,o=null,i=null,a=0,s=0;this.done=function(){return c},this.pause=function(){l=!0},this.paused=function(){return l},this.stop=function(){c=!0};var u=0,l=!1,c=!1;this.config=function(r,o,u,l,c,f){if(!("number"!=typeof r||"number"!=typeof o||"number"!=typeof l||l<0)&&"function"==typeof c&&"function"==typeof u)return"number"==typeof f&&(n=f),a=r,s=o,t=c,i=u,e=l>0?l:1,delete this.config,Tick}}]),$R.part("Objects",["Debug","@app","$$config",function Tree(t,e,n){var r=null,o=null,i=null,a=null;this.root=function(e){if(r)return r;if(!e.type||"function"!=typeof e.type||"Group"!==e.type())return void t.error({},"Tree / Unable to set tree root! Wrong object type!");r=e;var n=r.extension("Drawer");return n?n.draw&&"function"==typeof n.draw?(i=n,a=r.extension("Style"),r):void t.error({},"Tree / Unable to register root Drawer. Drawer.draw is not a function!"):void t.error({},"Tree / Unable to get Drawer extension!")},e.$("tick",function(t,e){r&&i&&(o||(o=e.getContext("2d")),n.clear===!0&&o.clearRect(0,0,e.offsetWidth,e.offsetHeight),i.draw.call(r,o))})}]),$R.part("Objects",[function Canvas(){var t=document.createElement("canvas"),e=t.getContext("2d"),n=0,r=0;this.context=function(){return e},this.width=function(e){return"number"!=typeof e?n:(n=e,void t.setAttribute("width",n))},this.height=function(e){return"number"!=typeof e?r:(r=e,void t.setAttribute("height",r))},this["export"]=function(){return t}}]),$R.part("Objects",function ColorHelper(){function NormalizeColorArray(t){if(t!==!1&&void 0!==t){for(var e=0;e<t.length;e++)t[e]=t[e]<=255?t[e]:255,t[e]=t[e]>=0?t[e]:0,t[e]=3!==e&&0!==t[e]?parseInt(t[e]):t[e],t[e]=(3==e&&t[e])<=1?t[e]:1,t[e]=Math.abs(t[e]);return t}return!1}function ParseColour(t){var e,n=parseInt,t=t.replace(/\s\s*/g,"");if(e=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})/.exec(t))e=[n(e[1],16),n(e[2],16),n(e[3],16)];else if(e=/^#([\da-fA-F])([\da-fA-F])([\da-fA-F])/.exec(t))e=[17*n(e[1],16),17*n(e[2],16),17*n(e[3],16)];else if(e=/^rgba\(([\d]+),([\d]+),([\d]+),([\d]+|[\d]*.[\d]+)\)/.exec(t))e=[+e[1],+e[2],+e[3],+e[4]];else{if(!(e=/^rgb\(([\d]+),([\d]+),([\d]+)\)/.exec(t)))return!1;e=[+e[1],+e[2],+e[3]]}return isNaN(e[3])&&(e[3]=1),NormalizeColorArray(e.slice(0,4))}this.colorToArray=ParseColour,this.normalize=NormalizeColorArray,this.isColor=function(t){var e=!1;if(4==t.length)for(var n=0;n<t.length;n++)"number"==typeof t[n]||"string"==typeof t[n]?"string"==typeof t[n]&&isNaN(1*t[n])&&(e=!0):e=!0;else e=!0;return e&&console.warn('Silk : Check for color unsuccessful. "'+t+'" is not a color Array.'),!e},this.arrayToColor=function(t){if(t&&4==t.length){for(var e="rgba(",n=0;n<t.length;n++)e+=3==n?t[n]+")":t[n]+",";return e}return console.warn("Unknown Input array format. Should be [R,G,B,A];"),!1}}),$R.part("Objects",["Debug",function DrawerHelper(t){var e=document.createElement("canvas").getContext("2d");this.measureText=function(t){e.save();var n=t(e);return e.restore(),n},this.transform=function(t,e){e.transform.apply(e,t.matrix().extract())},this.drawLineBgClipPath=function(e,n,r,o,i){var a=r.get("bg"),s=r.get("bgSize"),u=r.get("bgPosition");e.save(),e.beginPath(),e.moveTo(n[0][0],n[0][1]);for(var l=0;l<n.length;l++){var c=n[l][0],f=n[l][1],h=n[l][2],p=n[l][3];if("number"!=typeof c||"number"!=typeof h||"number"!=typeof f||"number"!=typeof p){t.error("Invalid path!");break}e.lineTo(h,p)}e.closePath(),e.clip();for(var v=0;v<a.length;v++)if(a[v].loaded()){e.save();var g=box.size[0]*s[v][0],d=box.size[1]*s[v][1],y=box.size[0]*u[v][0],b=box.size[1]*u[v][1];e.translate(i.margin[3]+y,i.margin[0]+b),e.drawImage(a[l]["export"](),0,0,g,d),e.restore()}else a[v].on("load",function(){o.update("bg")});e.restore()},this.drawBezierBgClipPath=function(e,n,r,o,i){var a=r.get("bg"),s=r.get("bgSize"),u=r.get("bgPosition");e.save(),e.beginPath(),e.moveTo(n[0][0],n[0][1]);for(var l=0;l<n.length;l++){var c=n[l][0],f=n[l][1],h=n[l][2],p=n[l][3],v=n[l][4],g=n[l][5],d=n[l][6],y=n[l][7];if("number"!=typeof c||"number"!=typeof h||"number"!=typeof f||"number"!=typeof p){t.error("Invalid path!");break}if("number"!=typeof v||"number"!=typeof d||"number"!=typeof g||"number"!=typeof y){t.error("Invalid curve!");break}e.bezierCurveTo(v,g,d,y,h,p)}e.closePath(),e.clip();for(var b=0;b<a.length;b++)if(a[b].loaded()){e.save();var m=box.size[0]*s[b][0],w=box.size[1]*s[b][1],A=box.size[0]*u[b][0],x=box.size[1]*u[b][1];e.translate(i.margin[3]+A,i.margin[0]+x),e.drawImage(a[l]["export"](),0,0,m,w),e.restore()}else a[b].on("load",function(){o.update("bg")});e.restore()},this.drawLinePathFill=function(e,n,r){var o=r.get("fill"),i=r.get("cap");e.save(),e.lineCap=i,e.moveTo(n[0][0],n[0][1]),e.beginPath(),console.log(n);for(var a=0;a<n.length;a++){var s=n[a][0],u=n[a][1],l=n[a][2],c=n[a][3];if("number"!=typeof s||"number"!=typeof l||"number"!=typeof u||"number"!=typeof c){t.error("Invalid path!");break}e.lineTo(l,c)}e.closePath(),e.fillStyle=o,e.fill(),e.restore()},this.drawBezierPathFill=function(e,n,r){var o=r.get("fill"),i=r.get("cap");e.save(),e.lineCap=i,e.beginPath(),e.moveTo(n[0][0],n[0][1]);for(var a=0;a<n.length;a++){var s=n[a][0],u=n[a][1],l=n[a][2],c=n[a][3],f=n[a][4],h=n[a][5],p=n[a][6],v=n[a][7];if("number"!=typeof s||"number"!=typeof l||"number"!=typeof u||"number"!=typeof c){t.error("Invalid path!");break}if("number"!=typeof f||"number"!=typeof p||"number"!=typeof h||"number"!=typeof v){t.error("Invalid curve!");break}e.bezierCurveTo(f,h,p,v,l,c)}e.closePath(),e.fillStyle=o,e.fill(),e.restore()},this.drawLinePath=function(e,n,r){var o=r.get("strokeColor"),i=r.get("strokeWidth"),a=r.get("strokeStyle"),s=r.get("cap");e.save(),e.lineCap=s;for(var u=0;u<n.length;u++){var l=n[u][0],c=n[u][1],f=n[u][2],h=n[u][3];if("number"!=typeof l||"number"!=typeof f||"number"!=typeof c||"number"!=typeof h){t.error("Invalid path!");break}i[u]<.1?e.moveTo(f,h):(e.moveTo(l,c),e.beginPath(),e.strokeStyle=o[u],e.lineWidth=i[u],e.setLineDash(a[u]),e.lineTo(f,h),e.stroke())}e.restore()},this.drawBezierPath=function(e,n,r){var o=r.get("strokeColor"),i=r.get("strokeWidth"),a=r.get("strokeStyle"),s=r.get("cap");e.save(),e.lineCap=s;for(var u=0;u<n.length;u++){var l=n[u][0],c=n[u][1],f=n[u][2],h=n[u][3],p=n[u][4],v=n[u][5],g=n[u][6],d=n[u][7];if("number"!=typeof l||"number"!=typeof f||"number"!=typeof c||"number"!=typeof h){t.error("Invalid path!");break}if("number"!=typeof p||"number"!=typeof g||"number"!=typeof v||"number"!=typeof d){t.error("Invalid curve!");break}i[u]<.1?e.moveTo(f,h):(e.beginPath(),e.moveTo(l,c),e.strokeStyle=o[u],e.lineWidth=i[u],e.setLineDash(a[u]),e.bezierCurveTo(p,v,g,d,f,h),e.stroke())}e.restore()},this.drawRectFill=function(t,e,n,r,o,i){t.save();var a=e.get("fill");t.fillStyle=a,t.rect(n,r,o,i),t.fill(),t.restore()},this.drawRectStroke=function(t,e,n,r,o,i){var a=e.get("strokeStyle"),s=e.get("strokeColor"),u=e.get("strokeWidth");t.save();for(var l=0,c=0,f=0;f<4;f++)t.beginPath(),t.strokeStyle=s[f],t.strokeWidth=u[f],t.setLineDash(a[f]),0==f&&(l=n+o,c=r),1==f&&(l=n+o,c=r+i),2==f&&(l=n,c=r+i),3==f&&(l=n,c=r),u[f]<.1?t.moveTo(l,c):(t.lineTo(l,c),t.stroke());t.restore()}}]),$R.part("Objects",function Extension(){var t={},e={},n=null,r=[];this.defineObject=function(t){n=t,delete this.defineObject},this.object=function(){return n},this.matchType=function(t){if(0==r.length)return!0;for(var e=!1,n=0;n<r.length;n++)if(r[n]===t){e=!0;break}return this.applyTo&&(delete this.applyTo,delete this.matchType),e},this.applyTo=function(t){if("string"==typeof t)r.push(t);else if("object"==typeof t&&t.constructor===Array)for(var e=0;e<t.length;e++)"string"==typeof t[e]&&r.push(t[e]);delete this.applyTo},this.register=function(n,r,o){t[n]||(t[n]=r),o&&(e[n]=!0)},this.wrap=function(e){for(var n in t)t.hasOwnProperty(n)&&(e[n]||(e[n]=t[n]));delete this.wrap,delete this.register,delete this.clear},this.hasProperty=function(e){var n=!1;for(var r in t)if(t.hasOwnProperty(r)&&e==r){n=!0;break}return n},this.clear=function(t){for(var n in e)e.hasOwnProperty(n)&&delete t[n]}}),$R.part("Objects",["@inject","Debug",function GraphicsAssembler(t,e){function SetSize(t,e){for(var r=0;r<o.length;r++)o[r].size(t,e);n.width(t),n.height(e),a=t,s=e}function compose(t){if(!l){if(u){var e=u.box().sprite();e.size[0]===a&&e.size[1]===s||SetSize(e.size[0],e.size[1])}l=!0}if(!c){r.clearRect(0,0,a,s);for(var i=0;i<o.length;i++)o[i].draw(r);c=!0}t.drawImage(n["export"](),0,0)}var n=t("$Canvas"),r=n.context(),o=[],i={},a=0,s=0,u=null,l=!1,c=!1;this.layer=function(n,r,a){return"number"!=typeof n?void e.warn({o:n},"Invalid order argument [{o}] is not a number."):"string"!=typeof r?void e.warn({n:r},"[{n}] is not valid name for layer"):"function"!=typeof a?void e.warn("updateFunc is not a function!"):(i[r]=t("$GraphicsAssemblerLayer"),i[r].f(a),i[r].ordering(n),i[r].update(),o.push(i[r]),o.sort(function(t,e){return t.ordering()-e.ordering()}),void(c=!1))},this.ready=function(){return c},this.box=function(t){u=t},this.size=function(t,e){t===a&&e===s||(SetSize(t,e),c=!1)},this.resize=function(){l=!1,c=!1},this.update=function(t){c=!1,i[t].update()},this.draw=compose}]),$R.part("Objects",["@inject","Debug",function GraphicsAssemblerLayer(t,e){function updateCanvas(t){s||(r.save(),r.clearRect(0,0,o,i),a&&a(r),s=!0,r.restore()),t.drawImage(n["export"](),0,0)}var n=t("$Canvas"),r=n.context(),o=0,i=0,a=null,s=!1,u=0;this.f=function(t){"function"==typeof t?(a=t,delete this.f):e.warn({f:t},"[{f}] is not a function")},this.size=function(t,e){o===t&&e===e||(n.width(t),n.height(e),o=t,i=e,s=!1)},this.ordering=function(t){return t&&"number"==typeof t&&(u=t),
u},this.update=function(){s=!1},this.draw=updateCanvas}]),$R.part("Objects",function MatrixHelper(){function GrapthicsTransformMatrix(t){function multiply(t,e){var n=t[0]*e[0]+t[2]*e[1],r=t[1]*e[0]+t[3]*e[1],o=t[0]*e[2]+t[2]*e[3],i=t[1]*e[2]+t[3]*e[3],a=t[0]*e[4]+t[2]*e[5]+t[4],s=t[1]*e[4]+t[3]*e[5]+t[5];t[0]=n,t[1]=r,t[2]=o,t[3]=i,t[4]=a,t[5]=s}function invert(){for(var t=o.length-1;t>=0;t--){if(o[t].rotate){var e=Math.sin(-o[t].rotate),r=Math.cos(-o[t].rotate);multiply(n,[r,e,-e,r,0,0])}o[t].translate&&multiply(n,[1,0,0,1,-o[t].translate[0],-o[t].translate[1]]),o[t].skew&&multiply(n,[1,Math.tan(-o[t].skew[1]),Math.tan(-o[t].skew[0]),1,0,0]),o[t].scale&&multiply(n,[1/o[t].scale[0],0,0,1/o[t].scale[1],0,0])}i=!0,o=null}function invertGlobal(){var e=t.parent();if(i||invert(),e){if(r)return r;r=[n[0],n[1],n[2],n[3],n[4],n[5]],multiply(r,e.matrix().globalInversionMatrix())}else r=n;return r}var e=[1,0,0,1,0,0],n=[1,0,0,1,0,0],r=null,o=[],i=!1;this.rotate=function(t){var n=Math.sin(t),r=Math.cos(t),i=[r,n,-n,r,0,0];return multiply(e,i),o.push({rotate:t}),this},this.translate=function(t,n){var r=[1,0,0,1,t,n];return 0===t&&0===n||(multiply(e,r),o.push({translate:[t,n]})),this},this.scale=function(t,n){if(1!==t||1!==n){var r=[t,0,0,n,0,0];multiply(e,r),o.push({scale:[t,n]})}return this},this.skew=function(t,n){if(0!==t||0!==n){var r=Math.tan(t),i=Math.tan(n),a=[1,i,r,1,0,0];multiply(e,a),o.push({skew:[t,n]})}return this},this.extract=function(){return e},this.globalInversionMatrix=invertGlobal,this.globalCursorProjection=function(t){r||invertGlobal();var e=t[0]*r[0]+t[1]*r[2]+r[4],n=t[0]*r[1]+t[1]*r[3]+r[5];return t[0]=e,t[1]=n,t},this.cursorProjection=function(t){i||invert();var e=t[0]*n[0]+t[1]*n[2]+n[4],r=t[0]*n[1]+t[1]*n[3]+n[5];return t[0]=e,t[1]=r,t}}this.objectMatrix=function(t){var e=new GrapthicsTransformMatrix(t),n=t.extension("Style"),r=t.extension("Box").box(),o=r.sprite(),i=n.get("position"),a=n.get("origin"),s=n.get("skew"),u=n.get("rotate"),l=n.get("scale"),c=n.get("translate"),f="Group"==t.type()?[i[0]+c[0]-o.margin[3],i[1]+c[1]-o.margin[0]]:[o.position[0]+c[0],o.position[1]+c[1]],h=[a[0]*o.size[0]+o.margin[3],a[1]*o.size[1]+o.margin[0]];return e.translate(h[0],h[1]),0===f[0]&&0===f[1]||e.translate(f[0],f[1]),0!==u&&e.rotate(u),0===s[0]&&0===s[1]||e.skew(s[0],s[1]),1===l[0]&&1===l[1]||e.scale(l[0],l[1]),e.translate(-h[0],-h[1]),e}}),$R.part("Objects",["Debug",function ModelHelper(Debug){this.cloneHash=function(t){return"object"!=typeof t?void Debug.error("Hash is not an object!"):JSON.parse(JSON.stringify(t))},this.cloneArray=function(array){if("object"!=typeof array||array.constructor!==Array)return void Debug.error("array is not an array!");for(var result=[],i=0;i<array.length;i++)if("object"==typeof array[i])array[i].constructor==Array?result.push(this.cloneArray(array[i])):result.push(this.cloneHash(array[i]));else if("function"==typeof array[i]){var text=array[i].toString();result.push(eval(text)),Debug.warn("You clone functions! It can be slow!")}else result.push(array[i]);return result},this.validNumericArray=function(t){var e=!0;if("object"!=typeof t||t.constructor!==Array)return!1;for(var n=0;n<t.length;n++)if("number"!=typeof t[n]){e=!1;break}return e};var blendings=["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"];this.validBlending=function(t){for(var e=!1,n=0;n<blendings.length;n++)if(blendings[n]==t){e=!0;break}return e};var sprite_regexp=/^([.\/_\da-zA-Z]+)(\[(\d+)\])$/;this.isSpriteString=function(t){return sprite_regexp.test(t)},this.readSpriteString=function(t){var e=t.match(sprite_regexp);return{url:e[1],frames:parseInt(e[3])}}}]),$R.part("Objects",[function MouseHelper(){this.circleUserCheckFunction=function(t){var e=this.matrix().globalCursorProjection([t[0],t[1]]);if(e<[0]||e[1]<0)return!1;var n=this.extension("Box").box().sprite();if(e[0]>n.size[0])return!1;if(e[1]>n.size[1])return!1;var r=n.size[0]/2,o=r,i=n.size[1]/2;return Math.pow(e[0]-o,2)+Math.pow(e[1]-i,2)<=Math.pow(r,2)&&this},this.squareUserCheckFunction=function(t){var e=this.matrix().globalCursorProjection([t[0],t[1]]),n=this.extension("Box").box().sprite();return e[0]>0&&e[0]<n.size[0]&&(e[1]>0&&e[1]<n.size[1]&&this)},this.circleCheckFunction=function(t){var e=this.matrix().globalCursorProjection([t[0],t[1]]);if(e<[0]||e[1]<0)return!1;var n=this.extension("Box").box().sprite();if(e[0]>n.size[0])return!1;if(e[1]>n.size[1])return!1;var r=n.size[0]/2,o=this.extension("Style").get("radius");return Math.pow(e[0]-r,2)+Math.pow(e[1]-r,2)<Math.pow(o,2)&&this},this.rectCheckFunction=function(t){var e=this.matrix().globalCursorProjection([t[0],t[1]]),n=this.extension("Box").box().sprite();return e[0]>0&&e[0]<n.size[0]&&(e[1]>0&&e[1]<n.size[1]&&this)}}]),$R.part("Objects",["Debug",function PathHelper(t){function getControlPoints(t,e,n,r,o,i,a){var s=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),u=Math.sqrt(Math.pow(o-n,2)+Math.pow(i-r,2)),l=a*s/(s+u),c=a*u/(s+u),f=n-l*(o-t),h=r-l*(i-e),p=n+c*(o-t),v=r+c*(i-e);return[f,h,p,v]}this.convertComplexPath=function(t){for(var e=[],n=0;n<t.length;n++)e.push([t[n][0],t[n][1]]);return e},this.convertSimplePath=function(e){if(e.length<2)return void t.error("Path should consist of at least two points!");for(var n=[],r=0;r<e.length;r++){var o=e[r][0],i=e[r][1];if("number"!=typeof o||"number"!=typeof i){t.error("Incorrect Path!"),n=void 0;break}r<e.length-1&&(n[r]||n.push([]),n[r].push(o),n[r].push(i)),0!==r&&(n[r-1].push(o),n[r-1].push(i),n[r-1].push(n[r-1][0]),n[r-1].push(n[r-1][1]),n[r-1].push(o),n[r-1].push(i))}return n},this.interpolate=function(t,e,n){for(var r=0;r<t.length;r++){var o=[],i=[t[r][0],t[r][1]],a=[t[r][2],t[r][3]],s=null;if(o=0==r?i:[t[r-1][0],t[r-1][1]],s=getControlPoints(o[0],o[1],i[0],i[1],a[0],a[1],e),0==r?(t[r][4]=s[2],t[r][5]=s[3]):(t[r-1][6]=s[0],t[r-1][7]=s[1],t[r][4]=s[2],t[r][5]=s[3]),r==t.length-1&&(o=[t[r][0],t[r][1]],i=[t[r][2],t[r][3]],a=i,s=getControlPoints(o[0],o[1],i[0],i[1],a[0],a[1],e),t[r][6]=s[0],t[r][7]=s[1]),n){var u=t[t.length-1],l=t[0],c=[[u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7]],[l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7]]];this.interpolate(c,e),t[0][4]=c[1][4],t[0][5]=c[1][5],t[t.length-1][6]=c[0][6],t[t.length-1][7]=c[0][7]}}},this.checkSimplePath=function(t){if("object"!=typeof t||t.constructor!==Array)return!1;for(var e=!0,n=0;n<t.length;n++)if("object"!=typeof t[n]||t[n].constructor!==Array||2!==t[n].length||"number"!=typeof t[n][0]||"number"!=typeof t[n][1]){e=!1;break}return e},this.comparePaths=function(t,e){var n=!0;if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)for(var o=0;o<t[r].length;o++)if(t[r][o]!==e[r][o]){n=!1;break}return n}}]),$R.part("Objects",[function AreaObjectClass(){}]),$R.part("Objects",["$MouseHelper",function CircleObjectClass(t){this.mouseCheckFunction(t.circleCheckFunction)}]),$R.part("Objects",["$Tree",function DefaultObjectType(t){t.root(this).append(this)}]),$R.part("Objects",function GroupObjectClass(){}),$R.part("Objects",["$MouseHelper",function ImageObjectClass(t){this.mouseCheckFunction(t.rectCheckFunction)}]),$R.part("Objects",function LineObjectClass(){}),$R.part("Objects",["$MouseHelper",function RectangleObjectClass(t){this.mouseCheckFunction(t.rectCheckFunction);var e=this.extension("Mouse");e.cursorTransformFunction(t.rectCursorTransformFunction)}]),$R.part("Objects",["$MouseHelper",function SpriteObjectClass(t){this.mouseCheckFunction(t.rectCheckFunction)}]),$R.part("Objects",["$MouseHelper",function TextObjectClass(t){this.mouseCheckFunction(t.rectCheckFunction)}]),$R.part("Resource",["@extend","Debug",function Audio(t,e){function createAudio(){var t=new XMLHttpRequest;t.open("GET",o,!0),t.responseType="arraybuffer",t.onload=function(t){r(1),i=this.response,n("load",[i])},t.onerror=function(){r(-2),n("error",[]),e.error({url:o},"Unable to load audio [{url}].")},t.send()}t(this,"$ResourceClass"),this.type="Audio";var n=null,r=null,o=null,i=null;this.on("init",function(t,e,i){n=e,r=i,o=t,createAudio()}),this["export"]=function(){return i}}]),$R.part("Resource",["@extend","Debug","$$config","@HTMLRoot",function Font(t,e,n,r){function getFont(){$R.font(s,a,u,l);var t=null,n=1e3,f=0,h=[c.offsetWidth,c.offsetHeight];c.style.fontFamily='"'+a+"-"+u+'", sans-serif',t=setInterval(function(){c.offsetWidth===h[0]&&c.offsetHeight===h[1]||(r.element().removeChild(c),clearInterval(t),o(1),i("load",[])),f++,f>n&&(o(-2),i("error",[]),e.warn({font:a+"-"+u},"Unable to load font [{font}]. Font pending timed out..."),r.element().removeChild(c),clearInterval(t))},50)}t(this,"$ResourceClass"),this.type="Font";var o=null,i=null,a=null,s=n.dir&&"string"==typeof n.dir?n.dir:"./fonts",u=($R.fontFormats(),null),l=null,c=document.createElement("div");c.style.fontFamily="sans-serif",c.style.fontSize="12px",c.style.lineHeight="12px",c.style.position="absolute",c.style.left="-9999px",c.style.top="-9999px",c.innerText='abcdefghijklmnopqrstuvwxyz 1234567890[!?,.<>"Â£$%^&*()~@#-=]',this.on("init",function(t,e,n){i=e,o=n,a=t[0],u=t[1],l=t[2],c.style.fontStyle=l,r.element().appendChild(c),getFont()}),this["export"]=function(){return a}}]),$R.part("Resource",["@extend","Debug",function Image(t,e){function CreateImage(){i=document.createElement("img"),i.addEventListener("load",function(){o(1),a=i.width,s=i.height,r("load",[])}),i.addEventListener("error",function(){o(-2),r("error",[]),e.error({url:n},"Unable to load image [{url}].")}),i.setAttribute("src",n)}t(this,"$ResourceClass");var n=null,r=null,o=null,i=null,a=0,s=0;this.type="Image",this.on("init",function(t,e,i){r=e,o=i,n=t,CreateImage()}),this.width=function(){return a},this.height=function(){return s},this["export"]=function(){return i}}]),$R.part("Resource",["@extend","Debug",function ResourceClass(t,e){function setStatus(t){return"number"!=typeof t?void e.error({val:t},"[{val}] is not valid value for status"):t>1||t<-2?void e.error({val:t},"[{val}] no such status possible!"):void(i=t)}function ResolveEvent(t,n){if(a[t]){n="object"==typeof n&&n.constructor==Array?n:[];for(var o=0;o<a[t].length;o++)a[t][o].apply(r,n)}else e.warn({e:t},"Unable to set event {e}. No such event!")}var n=null,r=this,o=!1,i=-1;this.loaded=function(){return 1==i},this.error=function(){return i==-2},this.loading=function(){return 0==i},this.url=function(t){return void 0==t?n:(void 0==n&&(n=t,i=0,o?ResolveEvent("init",[n]):(ResolveEvent("init",[n,ResolveEvent,setStatus]),o=!0)),n)};var a={init:[],load:[],error:[],loading:[]};this.on=function(t,n){var r=a[t],n="function"==typeof n&&n;return"load"==t&&1==i&&n.call(this),"error"==t&&i==-2&&n.call(this),r&&n?void a[t].push(n):void e.warn({e:t},"Unable to set handler for event [{e}].")}}]),$R.part("Resource",["@extend","Debug",function Sprite(t,e){function CreateCanvasArray(){for(var t=0,e=0;e<o;e++){g.push([]);for(var n=0;n<o;n++)t++,t<i&&g[e].push(document.createElement("canvas"))}}function SetCanvasSize(){l=Math.round(u/o),c=Math.round(s/o);for(var t=0;t<o;t++)for(var e=0;e<o;e++)if(g[t][e]){g[t][e].setAttribute("width",c),g[t][e].setAttribute("height",l);var n=g[t][e].getContext("2d");n.translate(-c*e,-l*t),n.drawImage(r,0,0)}}t(this,"$ResourceClass");var n=null,r=null,o=0,i=0,a=0,s=0,u=0,l=0,c=0,f=12,h=null,p=null,v=!1,g=[];this.type="Sprite",this.on("init",function(t,e,o){h=o,p=e,n=t,r=document.createElement("img"),r.addEventListener("load",function(){h(1),s=r.width,u=r.height,v&&(CreateCanvasArray(),SetCanvasSize()),p("load",[])}),r.addEventListener("error",function(){h(-2),p("error",[])}),r.setAttribute("src",n)}),this.ready=function(){return v},this.width=function(){return c},this.height=function(){return l},this.spriteWidth=function(){return s},this.spriteHeight=function(){return u},this.fps=function(t){return"number"!=typeof t||t<=0?(e.warn({n:t},"[{n}] is not a correct fps number"),!1):(f=t,void(a=Math.round(i/f*1e3)))};var d=!1;this.pause=function(){d=!0},this.play=function(){d=!1},this.config=function(t){if(!v){if("number"!=typeof t||t<=0)return void e.warn({rows:t},"[{rows}] is not a valid frames number");o=Math.ceil(Math.sqrt(t)),i=t,a=Math.round(i/f*1e3),v=!0,CreateCanvasArray()}},this.frames=function(){return i};var y=0,b=0,m=(new Date).getTime();this.tick=function(t){if(!d){var e=(t-m)/a;e>1&&(e=1,m=(new Date).getTime()),e<0&&(e=0);var n=Math.floor((i-1)*e);b=Math.floor(n/o),y=n-b*o}},this["export"]=function(){if(g[b][y])return g[b][y]}}]),$R.part("Sound",["@inject","Debug",function AnimationProvider(t,e){function findCompetitor(t,e){e.$$SELF=!0;for(var r=null,o=0;o<n.length;o++)if(!n[o].$$SELF&&n[o].active()&&!n[o].done()){for(var i=!1,a=0;a<t.length;a++)if(n[o].hasProperty(t[a])){i=!0;break}i&&(r||(r=[]),r.push(n[o]))}return delete e.$$SELF,r}function CheckAnimationQueue(){for(var t=[],e=0;e<n.length;e++)if(n[e].active())n[e].done()||t.push(n[e]);else{var r=n[e].properties();if(n[e].queue())findCompetitor(r,n[e])||n[e].start();else{var o=findCompetitor(r,n[e]);if(o)for(var i=0;i<o.length;i++)for(var a=0;a<r.length;a++)o[i].stop(r[a]);n[e].start()}t.push(n[e])}n=t}function CreateAnimationType1(e,r,i,a){var s={};if(s[e]=r,o[e]){var u=[{ordering:o[e].ordering(),morph:o[e],value:r}],l={};i&&"number"==typeof i&&(l.duration=i),a&&"string"==typeof a&&(l.easing=a);var c=t("$Animation");c.config(this,u,l,CheckAnimationQueue),n.push(c)}}function CreateAnimationType2(r,i,a){var s={};"object"==typeof i?s=i:"number"==typeof i?(s={duration:i},"string"==typeof a&&(s.easing=a)):"string"==typeof i&&(s={easing:i});var u={};for(var l in r)r.hasOwnProperty(l)&&(o[l]?u[l]={ordering:o[l].ordering(),morph:o[l],value:r[l]}:e.warn({type:this.type(),property:l},"Property {property} of {type} can not be animated!"));var c=[];for(var f in u)c.push(u[f]);if(c.length){c.sort(function(t,e){return t.ordering-e.ordering});var h=t("$Animation");h.config(this,c,s,CheckAnimationQueue),n.push(h)}else e.warn("No properties to animate!")}var n=[],r=!1,o={};this.morph=function(e,n,r,i){var a=t("$Morph");a.config(e,this,n,r,i),a.valid()&&(o[e]=a)},this.extractMorph=function(t){return o[t]},this.animate=function(t,n,r,o){"string"==typeof t&&n?CreateAnimationType1.apply(this,arguments):"object"==typeof t&&t.constructor!==Array?CreateAnimationType2.apply(this,arguments):e.warn("Unable to create animation. Wrong arguments"),CheckAnimationQueue()},this.animated=function(){return r},this.stop=function(t){if("string"==typeof t&&0!=t.length)for(var e=0;e<n.length;e++)n[e].stop(t)}}]),$R.part("Sound",["@inject","Debug",function Audio(t,e){function eventArgs(){return[s,u,r,o]}function createAnimationMorph(t,e){a.morph.apply(this,[e.name,0,function(n,r,o){o=e.normalizer(o),void 0!==o&&(r(o),n(t.get(e.name)))},function(n){return n=e.normalizer(n),t.set(e.name,n)}])}var n=null,r=null,o=null,i=t("$EventProvider"),a=t("$AnimationProvider"),s=this,u=null,l="";i.wrap(this),i.event("ready",eventArgs,!0),i.event("load",eventArgs,!0),i.event("error",eventArgs,!0),i.event("play",eventArgs,!1),i.event("connect",eventArgs,!1),i.event("disconnect",eventArgs,!1),i.event("end",eventArgs,!1),this.build=function(a,s){if("string"==typeof a&&a.length>0){"string"==typeof s&&"destination"!==s&&s.length>0?(r=s,n=t("$UserAudioSource").build(s),o="Sample",n.on("load",function(){i.resolve("load")}),this.play=function(){return n.play(),this},this.terminate=function(){return n.stop(),this}):"destination"===s?(n=t("$UserAudioMixer").build(a,s),this.connect=function(){return arguments[0]&&"object"==typeof arguments[0]&&arguments[0].$$SOURCE?n:this},r="["+a+"]AudioChannel",o="Channel",i.resolve("load")):void 0===s&&(n=t("$UserAudioMixer").build(a),r="["+a+"]AudioChannel",o="Channel",i.resolve("load")),n.on("error",function(){i.resolve("error")}),n.on("play",function(){i.resolve("play")}),n.on("end",function(){i.resolve("end")}),n.on("connect",function(){i.resolve("connect")}),n.on("disconnect",function(){i.resolve("disconnect")});for(var u=n.filters(),c=0;c<u.length;c++)for(var f=u[c].props(),h=0;h<f.length;h++)f[h].animated&&createAnimationMorph.apply(this,[u[c],f[h]]);l=a,i.resolve("ready")}else e.warn("Audio mixer have no name! Should be a string");return this},this.filter=function(t,r){if("string"==typeof t&&t.length>0){for(var o=null,i=n.filters(),a=0;a<i.length;a++)i[a].has(t)&&(o=i[a]);if(o){if(void 0===r)return o.get(t);o.set(t,r)}else e.warn({name:t},"Unable to set filter property [{name}]. No filter with that param!")}return this},this.connect=function(t){if(t&&"object"==typeof t&&t.$$SOURCE)return n;if("object"==typeof t&&t.type&&"function"==typeof t.type){var r=t.type();if("Channel"==o&&"Sample"==r)return e.error("Trying to connect Channel with Sample!"),this;if(t.connect&&"function"==typeof t.connect){var i=t.connect({$$SOURCE:!0});return u=t,n.connect(i),t}e.error("Unknown type of  object passed as output!")}else e.error("Unknown type of  object passed as output!");return this},this.output=function(){return u},this.animate=function(){return a.animate.apply(this,arguments),this},this.type=function(t){return"string"==typeof t?t===o:o},this.url=function(){return r},this.name=function(){return l},this.stop=function(){return a.stop.apply(this,arguments),this}}]),$R.part("Sound",["@inject","$$config","Debug",function UserAudioMixer(t,e,n){function argF(){return[this]}var r=t("$EventProvider"),o=[],i=null,a="";r.wrap(this),r.event("play",argF,!1),r.event("connect",argF,!1),r.event("ready",argF,!0),r.event("error",argF,!0),this.build=function(i,s){for(var u=e.filters&&"object"==typeof e.filters&&e.filters.constructor==Array&&e.filters.length>0?e.filters:["Delay","Gain"],l=0;l<u.length;l++){var c=t("$"+u[l]+"Node");o[o.length-1]&&o[o.length-1].connect(c),o.push(c)}if("string"==typeof i&&i.length>0?a=i:(n.warn({n:i},"[{n}] is not a valid name for channel"),r.resolve("error")),s&&"object"==typeof s&&s.connect&&"function"==typeof s.connect)this.connect(s);else if("destination"===s){var f=t("$DestinationNode");o[o.length-1].connect(f),this.connect=function(t){if(t.$$AUDIONODE)return o[0]}}return delete this.build,this},this.connect=function(t){if(t.$$AUDIONODE)return o[0];var e=t.connect({$$AUDIONODE:!0});return o[o.length-1].connect(e),i=t,this},this.output=function(){return i},this.filters=function(){return o},this.name=function(){return a}}]),$R.part("Sound",["@extend","@inject","Debug",function UserAudioSource(t,e,n){function cbArgs(){return[this]}function connectCbArgs(){return[this,a]}var r=e("$AudioSource"),o=e("$EventProvider"),i=null,a=null,s="";o.wrap(this),o.event("ready",cbArgs,!0),o.event("load",cbArgs,!0),o.event("error",cbArgs,!0),o.event("connect",connectCbArgs,!1),o.event("play",cbArgs,!1),o.event("stop",cbArgs,!1),r.on("ready",function(){o.resolve("ready")}),r.on("load",function(){o.resolve("load")}),r.on("error",function(){o.resolve("error")}),this.build=function(t){return"string"==typeof t&&t.length>0?(s=t,r.build(t),i=e("$UserAudioMixer").build("source-built-in-filter"),i.on("connect",function(){o.resolve("connect")}),r.connect(i.connect({$$AUDIONODE:!0})),delete this.build,o.resolve("ready")):(delete this.build,o.resolve("error")),this},this.filters=function(){return i?i.filters():[]},this.play=function(){return this.status("error")||this.status("ready")&&(this.status("load")?r.play():this.on("load",function(){r.play()})),this},this.stop=function(){return r.stop(),this},this.output=function(){return a},this.connect=function(t){return t&&t.constructor===i.constructor&&(a=t,i.connect(t)),this}}]),$R.part("Sound",["@audio","@extend",function DelayNode(t,e){e(this,"$AudioNode");var n=0,r=0,o=t.context().createGain(),i=t.context().createDelay(),a=t.context().createGain(),s=t.context().createBiquadFilter();o.gain.value=1,s.frequency.value=2e3,a.gain.value=r,i.delayTime.value=n,i.connect(a),a.connect(s),s.connect(i),a.connect(o),this.build("delay",[o,a],o),this.property("delay",[0,0],function(t){if("object"==typeof t&&t.constructor===Array&&2==t.length&&"number"==typeof t[0]&&"number"==typeof t[1]){var e=t[0],o=t[1];return e>1&&(e=1),e<0&&(e=0),o>.8&&(o=.8),o<0&&(o=0),n=e,r=o,i.delayTime.value=n,a.gain.value=r,[o,e]}},function(t){return[t[0],t[1]]},function(t){var e=t[0],n=t[1];return e>1&&(e=1),e<0&&(e=0),n>.8&&(n=.8),n<0&&(n=0),[n,e]})}]),$R.part("Sound",["@audio","@extend",function DestinationNode(t,e){e(this,"$AudioNode"),this.build("destination",t.context().destination,!1)}]),$R.part("Sound",["@audio","@extend",function GainNode(t,e){e(this,"$AudioNode");var n=1,r=t.context().createGain();r.gain.value=n,this.build("gain",r,r),this.property("volume",1,function(t){if("number"==typeof t)return t<0&&(t=0),t>1&&(t=1),n=t,r.gain.value=n,t},function(t){return t},function(t){return t<0&&(t=0),t>1&&(t=1),t})}]),$R.part("Sound",["@audio","@extend",function LowpassNode(t,e){e(this,"$AudioNode");var n=t.context().createBiquadFilter(),r=22050;n.type="lowpass",n.frequency.value=r,this.build("lowpass",n,n),this.property("lowpass",22050,function(t){return t<0&&(t=0),t>22050&&(t=22050),r=t,n.frequency.value=t,t},function(t){return t},function(t){return t<0&&(t=0),t>22050&&(t=22050),t})}]),$R.part("Sound",["@inject","Debug",function AudioNode(t,e){function args(){return[o]}var n=null,r=null,o=null,i=function(t,e){if(!e)for(var n=this.input(),r=0;r<n.length;r++)t.connect(n[r]);return this.output()},a=[],s=t("$EventProvider"),u="";s.wrap(this),s.event("ready",args,!0),s.event("play",args,!1),s.event("end",args,!1),s.event("connect",args,!1),s.event("disconnect",args,!1),s.event("property",args,!1),this.disconnect=function(){if(o&&n){for(var t=o.input(),e=0;e<n.length;e++)for(var r=0;r<t.length;r++)n[e].disconnect(t[r]);o=null,s.resolve("disconnect")}return this},this.connect=function(t){if(this.disconnect(),o=t,o&&n)for(var e=o.input(),r=0;r<n.length;r++)for(var i=0;i<e.length;i++)n[r].connect(e[r]);return s.resolve("connect"),this},this.build=function(t,e,o,a){return r="object"==typeof e&&e.constructor===Array?e:[e],n="object"==typeof o&&o.constructor===Array?o:[o],u=t,"function"==typeof a&&(i=a),delete this.build,s.resolve("ready"),this},this.input=function(){return r},this.output=function(){return n},this.name=function(){return u},this.play=function(t,e){a.push(t),t.addEventListener("ended",function(){var e=[];t.$$SEARCH=!0;for(var n=0;n<a.length;n++)a.$$SEARCH||e.push(a[n]);delete t.$$SEARCH,a=e}),o&&o.play(t,i.apply(this,arguments))};var l={};this.property=function(t,n,r,o,i){if("string"==typeof t){var a={name:t,value:null,getter:null,setter:null,normalizer:i,animated:"function"==typeof i};"function"==typeof o&&(a.getter=o),"function"==typeof r&&(a.setter=r),a.value=n,n&&a.setter&&(l[a.name]?e.warn({property:a},"Duplicated property [{property}]"):l[a.name]=a)}else e.warn({name:t},"Property name [{name}] is not valid!")},this.set=function(t,n){if("string"==typeof t&&t.length>0){var r=l[t].setter(n);void 0!==r?l[t].value=r:e.warn({prop:t,val:n},"[{val}] is not a valid valuen for [{prop}].")}},this.get=function(t){if("string"==typeof t&&t.length>0){if(l[t])return l[t].value;e.warn({name:t},"Object has no property [{name}]. Unable to get value.")}else e.warn("Property name has to be a string")},this.props=function(){var t=[];for(var e in l)l.hasOwnProperty(e)&&t.push(l[e]);return t},this.has=function(t){return!!l[t]}}]),$R.part("Sound",function AudioNodeSoundDispatcher(){var t=[];this.register=function(e){e.addEventListener("end",function(){e.$$SEARCH=!0;for(var n=[],r=0;r<t.length;r++)t[r].$$SEARCH||n.push(t[r]);t=n}),t.push(e)},this.reconnect=function(e){for(var n=0;n<t.length;n++)t[n].disconnect(),t[n].connect(e)}}),$R.part("Sound",["@audio","@inject","Resource","Debug",function AudioSource(t,e,n,r){function args(){return[o,i,a]}var o=null,i=null,a=null,s=e("$EventProvider"),u=[];s.wrap(this),s.event("ready",args,!0),s.event("load",args,!0),s.event("error",args,!0),s.event("connect",args,!1),s.event("disconnect",args,!1),s.event("play",!1),s.event("end",!1),this.build=function(e){return o=n.audio(e),o.on("load",function(n){t.context().decodeAudioData(n,function(t){i=t,s.resolve("load")},function(){r.error({src:e},"[{src}] audio buffer can not be decoded."),s.resolve("error")})}),o.on("error",function(){r.error({src:e},"Unable to load audio file"),s.resolve(error)}),delete this.build,this},this.disconnect=function(){return a&&(a=null,s.resolve("disconnect")),this},this.connect=function(t){return this.disconnect(),a=t,s.resolve("connect"),this},this.play=function(){if(a&&this.status("load")){var e=t.context().createBufferSource();e.buffer=i,u.push(e),a.play(e,!1),e.start(0)}return this},this.stop=function(){for(var t=0;t<u.length;t++)u[t].stop(0);return u=[],this}}]),$R.part("Sound",["Debug",function Event(t){var e=[],n=!1,r="default",o=!1,i=this;argFunct=function(){return[]},this.build=function(t,e,o){return n=!!o,"function"==typeof e&&(argFunct=e),"string"==typeof t&&t.length>0&&(r=t),delete this.build,this},this.name=function(){return r},this.active=function(){return o},this.resolve=function(){n&&(o=!0);var t=argFunct();if("object"!=typeof t||t.constructor!==Array)t=[];else for(var r=0;r<e.length;r++)e[r].apply(this,t);return this},this.callback=function(t){if("function"!=typeof t)return this;if(i.active()){var n=argFunct();return"object"==typeof n&&n.constructor===Array||(n=[]),t.apply(this,n),e.push(arguments[0]),this}return e.push(t),this}}]),$R.part("Sound",["@inject",function EventProvider(t){var e=[];this.event=function(n,r,o){var i=t("$Event");return i.build.apply(i,arguments),e[n]=i,this},this.resolve=function(t){return"object"==typeof args&&args.constructor===Array||(args=[]),e[t]&&e[t].resolve.call(e[t]),this},this.wrap=function(t){return t.on=function(n,r){e[n]&&e[n].callback.call(t,r)},t.status=function(t){return!!e[t]&&e[t].active()},this}}]),$R.part("State",function Property(){var t=null,e=[];this.set=function(n){for(var r=0;r<e.length;r++)e[r](n,t);t=n},this.onset=function(t){"function"==typeof t&&e.push(t)}}),$R.part("State",["@inject",function State(t){function GetPropertyCallback(t){return function(n,r){if(e[t])for(var o=0;o<e.length;o++)e[t][o](n,r)}}var e={},n={};this.define=function(e,r){return n[e]?void n[e].set(r):(n[e]=t("$Property"),n[e].onset(GetPropertyCallback(e)),void n[e].set(r))},this.watch=function(t,r){"string"==typeof t&&"function"==typeof r&&(e[t]||(e[t]=[]),n[t]||this.def(t,null),e[t].push(r))}}]),$R.part("Objects",["@inject","Debug",function AnimationObjectExtension(t,e){function findCompetitor(t,e){e.$$SELF=!0;for(var r=null,o=0;o<n.length;o++)if(!n[o].$$SELF&&n[o].active()&&!n[o].done()){for(var i=!1,a=0;a<t.length;a++)if(n[o].hasProperty(t[a])){i=!0;break}i&&(r||(r=[]),r.push(n[o]))}return delete e.$$SELF,r}function CheckAnimationQueue(){for(var t=[],e=0;e<n.length;e++)if(n[e].active())n[e].done()||t.push(n[e]);else{var r=n[e].properties();if(n[e].queue())findCompetitor(r,n[e])||n[e].start();else{var o=findCompetitor(r,n[e]);if(o)for(var i=0;i<o.length;i++)for(var a=0;a<r.length;a++)o[i].stop(r[a]);n[e].start()}t.push(n[e])}n=t}function CreateAnimationType1(e,r,i,a){var s=this.extension("Style"),u={};if(u[e]=r,o[e]){var l=[{ordering:s.ordering(e),morph:o[e],value:r}],c={};i&&"number"==typeof i&&(c.duration=i),a&&"string"==typeof a&&(c.easing=a);var f=t("$Animation");f.config(this,l,c,CheckAnimationQueue),n.push(f)}}function CreateAnimationType2(r,i,a){var s=this.extension("Style"),u={};"object"==typeof i?u=i:"number"==typeof i?(u={duration:i},"string"==typeof a&&(u.easing=a)):"string"==typeof i&&(u={easing:i});var l={};for(var c in r)r.hasOwnProperty(c)&&(o[c]?l[c]={ordering:s.ordering(c),morph:o[c],value:r[c]}:e.warn({type:this.type(),property:c},"Property {property} of {type} can not be animated!"));var f=[];for(var h in l)f.push(l[h]);if(f.sort(function(t,e){return t.ordering-e.ordering}),f.length){var p=t("$Animation");p.config(this,f,u,CheckAnimationQueue),n.push(p)}else e.warn("No properties to animate!")}var n=[],r=!1,o={};this.morph=function(e,n,r,i){var a=t("$Morph");a.config(e,this.object(),n,r,i),a.valid()&&(o[e]=a)},this.extractMorph=function(t){return o[t]},this.register("animate",function(t,n,r,o){"string"==typeof t&&n?CreateAnimationType1.apply(this,arguments):"object"==typeof t&&t.constructor!==Array?CreateAnimationType2.apply(this,arguments):e.warn("Unable to create animation. Wrong arguments"),CheckAnimationQueue()}),this.register("animated",function(){return r}),this.register("stop",function(t){for(var e=0;e<n.length;e++)n[e].stop(t)})}]),$R.part("Objects",["Debug","@inject",function BoxObjectExtension(t,e){function BoxWrapperFunc(){if(n&&o)return n.call(o,r),r}var n=null,r=e("$GraphicsBox");this.f=function(e){return"function"!=typeof e?void t.error("Box Extension / Box function is not a function!"):(n=e,void delete this.f)};var o=this.object();this.box=function(){return o.extension("Cache").value("box",BoxWrapperFunc)},this.purge=function(){o.extension("Cache").purge("box");var t=o.parent();t&&t.extension("Box").purge()},this.register("box",function(){return this.extension("Cache").value("box",BoxWrapperFunc).get()})}]),$R.part("Objects",["Debug",function CacheObjectExtension(t){var e={};this.value=function(n,r){return"string"!=typeof n?void t.error("Object Value Cache / name is not a string!"):"function"!=typeof r?void t.error("Object Value Cache / func is not a function"):(e[n]||(e[n]={value:r(),func:r,relevant:!0}),this.get(n))},this.purge=function(n){return"string"!=typeof n?void t.error("Object Value Cache / Can not purge cache of non string name"):void(e[n]&&(e[n].relevant=!1))},this.get=function(n){return"string"!=typeof n?void t.error("Object Value Cache / Can not get value of non-string name"):e[n]?(e[n].relevant||(e[n].value=e[n].func(),e[n].relevant=!0),e[n].value):void 0}}]),$R.part("Objects",["Debug",function DrawerObjectExtension(t){function resolve(t,e){for(var n=0;n<r[t].length;n++)r[t].apply(o,e)}var e=null,n=null,r={before:[],after:[]},o=this.object();this.f=function(n){return"function"!=typeof n?(t.error({},"ObjectDrawer / func is not a function!"),void delete this.f):(e=n,void delete this.f)},this.register("before",function(e){"function"==typeof e?r.before.push(e):t.warn("Unable to set event [before Render]. func is not a Function")}),this.register("after",function(e){"function"==typeof e?r.after.push(e):t.warn("Unable to set event [after Render]. func is not a Function")}),this.matrix=function(){return n},this.draw=function(){resolve("before",arguments),e&&e.apply(this,arguments),resolve("after",arguments)}}]),$R.part("Objects",["Debug",function LayersObjectExtension(t){var e={0:[]},n=0;this.register("layer",function(e){if(void 0===e)return n;if("number"!=typeof e||e<0)return t.warn({n:e},"Value {n} is not a number or less than 0"),this;var r=this.parent();if(r){var o=r.extension("Layers");n=e,o.place(e,this)}else t.warn({},"You try to set layer of root group!");return this}),this.place=function(t,n){n.$$LAYERSEARCHVALUE=!0;for(var r in e)if(e.hasOwnProperty(r)){for(var o=!1,i=0;i<e[r].length;i++)if(e[r][i].$$LAYERSEARCHVALUE){e[r].splice(i,1),o=!0;break}if(o)break}delete n.$$LAYERSEARCHVALUE,e[t]||(e[t]=[]),e[t].push(n)},this.remove=function(t){t.$$LAYERSEARCHVALUE=!0;for(var n in e)if(e.hasOwnProperty(n)){for(var r=!1,o=0;o<e[n].length;o++)if(e[n][o].$$LAYERSEARCHVALUE){r=!0,e[n].splice(o,1);break}if(r)break}},this.forEach=function(t){for(var n in e)for(var r=0;r<e[n].length;r++)t.apply(e[n][r],[r,n])},this.layers=function(){return e}}]),$R.part("Objects",["Debug",function MatrixObjectExtension(t){function MatrixWrapper(){return e.call(n)}var e=null,n=this.object();this.f=function(t){"function"==typeof t&&(e=t,delete this.f)},this.register("matrix",function(){return this.extension("Cache").value("transformMatrix",MatrixWrapper)}),this.purge=function(){if(n.extension("Cache").purge("transformMatrix"),"Group"==n.type()){var t=n.extension("Layers");
t.forEach(function(){this.extension("Cache").purge("transformMatrix")})}}}]),$R.part("Objects",["$MouseHelper","$MouseEventDispatcher","$MouseObjectFinder","$Tree","Debug",function MouseObjectExtension(t,e,n,r,o){function GetEventArray(t){return i[t]}var i={drag:[],dragstart:[],dragend:[],mousemove:[],mouseup:[],mousedown:[],mouseenter:[],mouseleave:[]},a=!1,s=function(){return!1};this.register("on",function(t,e){if(void 0==typeof t&&void 0==typeof e){for(var n in i)i[n].$OFF=!1;return this}if("string"==typeof t&&void 0==e){var r=GetEventArray(t);return r&&(r[n].$OFF=!1),this}if("string"==typeof t&&"function"==typeof e){var r=GetEventArray(t);return r?r.push(e):o.warn({e:t},"There is no event [{e}]"),this}return GetEventArray(t)?"function"!=typeof e?(o.warn({e:t,f:e},"Unable to set event handler for {[e]}. {[f]} is not a function!"),this):this:(o.warn({e:t},"Unable to set event handler for {[e]}. No such event found!"),this)}),this.register("off",function(t,e){if(void 0===t&&void 0===e){for(var n in i)i[n].$$OFF=!0;return this}if("string"==typeof t&&void 0===e){var r=GetEventArray(t);return r&&(r.$$OFF=!0),this}if("string"==typeof t&&"function"==typeof e){var r=GetEventArray(t);if(e.$$MOUSEFUNCSEARCH=!0,r){for(var a=null,n=0;n<r.length;n++)if(r[n].$$MOUSEFUNCSEARCH){a=n;break}return null!==a&&r.splice(a,1),this}}return GetEventArray(t)||o.warn({e:t},"Unable to uset event handler for {[e]}. no such event"),"function"!=typeof e&&o.warn({e:t,f:e},"Unable to unset function {[f]} from event {[e]}. Not a function!"),this}),this.register("mouseCheckFunction",function(e){return"string"==typeof e?(t[e+"CheckFunction"]&&(s=t[e+"UserCheckFunction"]),this):"function"!=typeof e?(o.warn({f:e},"Unable to set check function! {[f]} is not a function!"),this):(s=e,this)}),this.register("disable",function(){return a=!0,this}),this.register("enable",function(){return a=!1,this}),this.register("disabled",function(){return a}),this.check=function(t,e){return!a&&s.call(t,[e[0],e[1]])};var u=null;this.cursorTransformFunction=function(t){"function"==typeof t&&(u=t)},this.applyCursorTransform=function(t){return u?u.call(this,t):t},this.hasEvent=function(t){return i[t]&&i[t].length&&!i[t].$$OFF},this.propagate=function(t,e){var n=t.parent();if(n){var r=n.extension("Mouse");if(r.hasEvent(e.type())){var o=e.type(),i=e.originalTarget.call({$$MOUSEPROPAGATIONSETTER:n});r.resolve(n,o,i)}}},this.resolve=function(t,e,n){if(!a){var r=GetEventArray(e);if(r){if(r.$OFF)return;for(var i=0;i<r.length;i++)r[i].call(t,n);n.propagate()&&this.propagate(t,n)}else o.warn({e:e},"Unable to resolve event [{e}]. No such event!")}};for(var l in i)i[l].$$OFF=!1}]),$R.part("Objects",["Debug",function OffsetObjectExtension(t){function ObjectOffsetFunction(){var t=n.get("position"),r=[t[0],t[1]],o=e.parent();if(o){var i=o.offset();r[0]+=i[0],r[1]+=i[1]}return r}var e=this.object(),n=null,r=null;this.purge=function(){if(n&&r||(n=e.extension("Style"),r=e.extension("Cache")),r.purge("offset"),"Group"==e.type()){var t=e.extension("Layers");t.forEach(function(){this.extension("Offset").purge()})}},this.register("offset",function(){return n||(n=this.extension("Style"),r=this.extension("Cache")),r.value("offset",ObjectOffsetFunction)})}]),$R.part("Objects",["Debug",function StyleObjectExtension(t){function GetSetterFunction(r,o){return function(i){var a=o.apply(this,[i,e[r].value]),s=e[r].value;if(a||"boolean"!=typeof a){var u=[s,a];e[r].value=a,n[r]||(n[r]=[]);for(var l=0;l<n[r].length;l++)n[r][l].apply(this,u)}else t.warn("Unable to set property ["+r+"]. Invalid value!")}}function GetGetterFunction(t,n){return function(){return n.call(null,e[t].value)}}function StyleType1(e,n){var o=this;r[e]?r[e].apply(o,[n]):t.warn({property:e,type:o.type()},"Style / Object type {type} has no property {property}")}function StyleType2(n){var o=this,i=[];for(var a in n)n.hasOwnProperty(a)&&r[a]&&(r[a]?i.push({ordering:e[a].ordering,property:a,setter:r[a]}):t.warn({property:a,type:o.type()},"Style / Object type {type} has no property {property}"));if(i.length){i.sort(function(t,e){return t.ordering-e.ordering});for(var s=0;s<i.length;s++)i[s].setter.apply(o,[n[i[s].property]])}else t.warn("Style / No properties to be applied!")}function StyleType3(n){var r=this;return o[n]?o[n].apply(r,[e[n].value]):(t.warn({property:property,type:r.type()},"Style / Object type {type} has no property {property}"),this)}var e={},n=[],r={},o={};this.register("style",function(e,n){if("string"==typeof e&&void 0!==n)StyleType1.apply(this,[e,n]);else if("object"==typeof e)StyleType2.apply(this,[e]);else{if("string"==typeof e&&void 0==n)return StyleType3.apply(this,[e]);t.error("Style / Invalid style function arguments!")}return this}),this.register("watch",function(e,r){if("string"!=typeof e){if("object"!=typeof e||e.constructor!==Array)return void t.error("Style / Property is not an array or string")}else if("function"!=typeof r)return void t.error("Style / Callback is not a function!");if(e.constructor==Array)for(var o=0;o<e.length;o++)"string"==typeof e[o]?(n[e[o]]&&"object"==typeof n[e[o]]&&n[e[o]].constructor===Array||(n[e[o]]=[]),n[e[o]].push(r)):t.error({i:o},"Style / Property {i} is not a string!");else"string"==typeof e?(n[e]&&n[e].constructor===Array||(n[e]=[]),n[e].push(r)):t.error("Style / Property is not an array or string")}),this.define=function(n,i,a,s,u){return e[i]?void t.error({name:i},"Style / Duplicated Property [{name}]"):"string"!=typeof i||0==i.length?void t.error("Style / Property name is not a string!"):"function"!=typeof u||"function"!=typeof s?void t.error("Style / Unable to define property. Getter or setter is undefined!"):("number"!=typeof n&&t.error("Style / Unable to define property setter ordering!"),e[i]={ordering:n,value:a},r[i]=GetSetterFunction(i,s),void(o[i]=GetGetterFunction(i,u)))},this.get=function(n){return e[n]?e[n].value:(t.warn("Getting value of property that does not exist!"),!1)},this.ordering=function(n){return e[n]?e[n].ordering:(t.warn("Getting ordering of property that does not exist!"),!1)}}]),$R.part("Objects",["Debug","$ModelHelper","@inject","$DrawerHelper",function TextObjectExtension(t,e,n,r){this.applyTo("Text");var o=this.object();if("Text"===o.type()){var a=[],s=/((\S+\s+)|(\S+$))/g,u=o.extension("Style"),l="",c=!1,f=[1/0,1/0],h=0,p=0;this.register("lines",function(){this.update();for(var t=[],e=0;e<a.length;e++)t.push(a[e].string())}),this.register("words",function(){this.update();for(var t=[],e=0;e<a.length;e++)for(var n=a[i].words(),r=0;r<n.length;r++)t.push(n.string());return t}),this.limits=function(t,e){f[0]=t,f[1]=e,c=!0},o.watch("str",function(t,e){e!==l&&(l=e)}),o.watch(["str","fontSize","lineHeight","color","weight","style"],function(){c=!0}),this.update=function(t){if(c||t){var e=l.match(s),r=0,o=0,i=u.get("size"),f=0,v=u.get("font"),g=u.get("fontSize"),d=u.get("lineHeight"),y=u.get("weight"),b=u.get("color"),m=u.get("style");a=[];for(var w=0;w<e.length;w++){var A=e[w].match(/\n/g),x=e[w].match(/\S+/g),$=n("$TextWordClass").string(x[0]);a[o]||(a[o]=n("$TextLineClass").font(v).size(g).height(d).color(b).style(m).weight(y)),a[o].push($),r=a[o].width(),(r>=i[0]||A)&&o++,r>f&&(f=r+4)}p=a.length*u.get("lineHeight"),g>d?p+=g-d:g<d&&(p-=d-g),h=f,c=!1}return this},this.textBlockHeight=function(){return this.update(),p},this.textBlockWidth=function(){return this.update(),h},this.forEachLine=function(t){this.update();for(var e=0;e<a.length;e++)t.apply(a[e],[e,a[e]])}}}]),$R.part("Objects",["Debug",function TreeObjectExtension(t){function checkTree(t){return!!t.$$TREESEARCHVALUE||!!t.parent()&&!!checkTree(t.parent())}function treeViolation(e,n){return"Group"==e.type()?(n.$$TREESEARCHVALUE=!0,checkTree(e)?(e.$$TREESEARCHVALUE?e.parent()&&t.warn({},"You try to append group parent into itself."):t.warn({},"You try to append group parent into it's children."),delete n.$$TREESEARCHVALUE,!0):(delete n.$$TREESEARCHVALUE,!1)):"Group"!=e.type()?(t.warn({target:e.type(),object:n.type()},"Yoy try to append [{object}] into [{target}]."),!0):void 0}var e=null,n=null;this.register("append",function(e){if("Group"!==this.type())t.watch({type:this.type()}," Can not append. type[{type}] of parent is not allowed!");else if(!treeViolation(this,e)){n||(n=this.extension("Layers"));var r=e.parent(),o=e.extension("Tree");if(r){var i=r.extension("Layers"),a=e.layer();i.remove(e),n.place(a,e),o.parent(this)}else{var a=e.layer();n.place(a,e),o.parent(this)}var s=this.extension("Box");s.purge()}return this}),this.register("appendTo",function(t){return t.append(this),this}),this.register("parent",function(){return e}),this.parent=function(n){return n.type&&"Group"===n.type()||t.error("Object Tree Extension / Unable to set object as parent. Not a group!"),n?void(e=n):e}}]),$R.part("Objects",["@inject","$DrawerHelper","$PathHelper","$ModelHelper",function AreaObjectDrawer(t,e,n,r){function UpdateFill(t){var r=this.extension("Box").box().sprite(),o=this.extension("Style"),i=o.get("path");t.save(),t.translate(r.margin[3]-h,r.margin[0]-p);var a=o.get("interpolation");l||(n.interpolate(i,a,!0),l=!0),a?e.drawBezierPathFill(t,i,o):e.drawLinePathFill(t,i,o),t.restore()}function UpdateStroke(t){var o=this.extension("Box").box().sprite(),i=this.extension("Style"),a=r.cloneArray(i.get("path")),s=i.get("interpolation");t.translate(o.margin[3]-h,o.margin[0]-p),l||(n.interpolate(a,s,!0),l=!0),s&&e.drawLinePath(t,a,i),e.drawBezierPath(t,a,i)}function UpdateBg(t){var i=this.extension("Style"),a=this.extension("Box").box().sprite(),s=r.cloneArray(i.get("path")),u=i.get("interpolation");t.translate(a.margin[3]-h,a.margin[0]-p),l||(n.interpolate(s,u,!0),l=!0),u?e.drawLineBgClipPath(t,s,i,o,a):e.drawBezierBgClipPath(t,s,i,o,a)}var o=t("$GraphicsAssembler"),i=this.extension("Box"),a=this.extension("Style"),s=this.extension("Matrix"),u=this.extension("Drawer"),l=!1,c=1,f=0,h=0,p=0;o.layer(0,"fill",UpdateFill.bind(this)),o.layer(1,"bg",UpdateBg.bind(this)),o.layer(2,"stroke",UpdateStroke.bind(this)),o.box(i),this.watch("path",function(){a.get("interpolation");l=!1,i.purge(),s.purge(),o.resize(),o.update("fill"),o.update("stroke"),o.update("bg")}),this.watch("interpolation",function(t,e){l=!1,f=Math.round(40*e),o.update("fill"),o.update("stroke"),o.update("bg"),o.resize()}),this.watch("position",function(){i.purge(),s.purge()}),this.watch(["strokeStyle","strokeColor"],function(){o.update("stroke"),o.resize()}),this.watch("fill",function(){o.update("fill")}),this.watch(["bg","bgSize","bgPosition"],function(){o.update("bg")}),this.watch("strokeWidth",function(t,e){for(var n=0,r=0;r<e.length;r++)e[r]>n&&(n=e[r]);c=n/2,o.update("stroke"),i.purge(),s.purge(),o.resize()}),i.f(function(t){for(var e=a.get("position"),n=a.get("path"),r=a.get("anchor"),o=e[0],i=e[1],s=1/0,u=1/0,l=-(1/0),v=-(1/0),g=0;g<n.length;g++)n[g][0]<s&&(s=n[g][0]),n[g][2]<s&&(s=n[g][2]),n[g][1]<u&&(u=n[g][1]),n[g][3]<u&&(u=n[g][3]),n[g][0]>l&&(l=n[g][0]),n[g][2]>l&&(l=n[g][2]),n[g][1]>v&&(v=n[g][1]),n[g][3]>v&&(v=n[g][3]);s==1/0&&(s=0),u==1/0&&(u=0),l==-(1/0)&&(l=0),v==-(1/0)&&(l=0),h=s,p=u;var d=c+f,y=Math.abs(l-s),b=Math.abs(v-u);"center"==r[0]&&(o-=y?y/2:0),"right"==r[0]&&(o-=y?y:0),"middle"==r[1]&&(i-=b?b/2:0),"bottom"==r[1]&&(i-=b?b:0),t.set(o+h,i+p,y,b,d,d,d,d)}),u.f(function(t){e.transform(this,t),o.draw(t)})}]),$R.part("Objects",["$DrawerHelper","Debug","@inject",function CircleObjectDrawer(t,e,n){function UpdateStroke(t){var e=i.box().sprite();t.beginPath(),t.strokeStyle=a.get("strokeColor"),t.lineWidth=a.get("strokeWidth"),t.setLineDash(a.get("strokeStyle")),t.arc(e.size[0]/2,e.size[1]/2,a.get("radius"),0,2*Math.PI),t.stroke()}function UpdateFill(t){var e=i.box().sprite();t.beginPath(),t.fillStyle=a.get("fill"),t.arc(e.size[0]/2,e.size[1]/2,a.get("radius"),0,2*Math.PI),t.fill()}function UpdateBg(t){var e=i.box().sprite(),n=i.box().value();t.beginPath(),t.arc(e.size[0]/2,e.size[1]/2,a.get("radius"),0,Math.PI/2),t.clip();for(var o=a.get("bgPosition"),s=a.get("bgSize"),u=a.get("bg"),l=0;l<u.length;l++)if(u[l].loaded()){t.save();var c=n.size[0]*s[l][0],f=n.size[1]*s[l][1],h=n.size[0]*o[l][0],p=n.size[1]*o[l][1];t.translate(e.margin[3]+h,e.margin[0]+p),t.drawImage(u[l]["export"](),0,0,c,f),t.restore()}else u[l].on("load",function(){r.update("bg")})}var r=n("$GraphicsAssembler"),o=this.extension("Drawer"),i=this.extension("Box"),a=this.extension("Style"),s=this.extension("Matrix"),u=1;r.layer(0,"fill",UpdateFill.bind(this)),r.layer(1,"bg",UpdateBg.bind(this)),r.layer(2,"stroke",UpdateStroke.bind(this)),r.box(i),i.f(function(t){var e=a.get("radius"),n=a.get("position"),r=a.get("anchor"),o=2*e,i=n[0],s=n[1];"center"==r[0]&&(i-=e),"right"==r[0]&&(i-=o),"middle"==r[1]&&(s-=e),"bottom"==r[1]&&(s-=o),t.set(i,s,o,o,u,u,u,u)}),this.watch("radius",function(){r.update("stroke"),r.update("bg"),r.update("fill"),i.purge(),s.purge(),r.resize()}),this.watch("fill",function(){r.update("fill")}),this.watch("position",function(){i.purge()}),this.watch("strokeWidth",function(t,e){e!==t&&(u=e,i.purge(),r.update("stroke"),s.purge(),r.resize())}),this.watch(["strokeStyle","strokeColor"],function(){r.update("stoke")}),this.watch(["bg","bgPosition","bgSize"],function(){r.update("bg")}),o.f(function(e){t.transform(this,e),r.draw(e)})}]),$R.part("Objects",["Debug","$MatrixHelper",function DefaultObjectDrawer(t,e){var n=this.extension("Matrix");n.f(function(){return e.objectMatrix(this)}),this.watch(["position","rotate","translate","scale","skew"],function(){n.purge()})}]),$R.part("Objects",["$DrawerHelper",function GroupObjectDrawer(t){var e=this.extension("Drawer"),n=this.extension("Layers"),r=this.extension("Box"),o=this.extension("Style");r.f(function(t){var e=1/0,r=1/0,i=-(1/0),a=-(1/0);n.forEach(function(){var t=this.extension("Box").box().value();t.position[0]<e&&(e=t.position[0]),t.position[1]<r&&(r=t.position[1]),t.position[0]+t.size[0]>i&&(i=t.position[0]+t.size[0]),t.position[1]+t.size[1]>a&&(a=t.position[1]+t.size[1])});var s=o.get("position");e===1/0&&(e=0),i===-(1/0)&&(i=0),r===1/0&&(r=0),a===-(1/0)&&(a=0),t.set(e+s[0],r+s[1],i-e,a-r,0,0,0,0)});var i=[0,0];this.watch("position",function(t,e){i=e,r.purge()}),e.f(function(e){e.save(),e.globalAlpha*=o.get("opacity"),t.transform(this,e),n.forEach(function(){var t=this.extension("Drawer"),n=this.type();if("Group"==n)t.draw.call(this,e);else{var r=this.extension("Style");e.save(),e.globalCompositeOperation=r.get("blending"),e.globalAlpha*=r.get("opacity"),t.draw.call(this,e),e.restore()}}),e.restore()})}]),$R.part("Objects",["$DrawerHelper","Resource",function ImageObjectDrawer(t,e){var n=this.extension("Style"),r=this.extension("Box"),o=this.extension("Drawer"),i=this.extension("Matrix"),a=null,s=null,u=null;this.watch("src",function(t,n){t!==n&&(u=e.image(n),u.on("load",function(){null==a&&(a=u.width()),null==s&&(s=u.height()),i.purge(),r.purge()}))}),this.watch("size",function(t,e){t[0]===e[0]&&t[1]===e[1]||(a=e[0],s=e[1],r.purge())}),this.watch("position",function(t,e){t[0]===e[0]&&t[1]===e[1]||r.purge()}),r.f(function(t){var e=n.get("position"),r=n.get("anchor"),o=e[0],i=e[1];"center"==r[0]&&(o-=a?a/2:0),"right"==r[0]&&(o-=a?a:0),"middle"==r[1]&&(i-=s?s/2:0),"bottom"==r[1]&&(i-=s?s:0),t.set(o,i,a?a:0,s?s:0,0,0,0,0)}),o.f(function(e){u&&u.loaded()&&!u.error()&&null!==a&&null!==s&&a>0&&s>0&&(t.transform(this,e),e.drawImage(u["export"](),0,0,a,s))})}]),$R.part("Objects",["@inject","Debug","$DrawerHelper","$PathHelper",function LineObjectDrawer(t,e,n,r){function UpdateCanvas(){var t=o.box().sprite(),e=i.get("path"),s=i.get("interpolation");if(a.width()!==t.size[0]||a.height()!==t.size[1]){var c=t.size[0],f=t.size[1];a.width(c),a.height(f)}g.clearRect(0,0,t.size[0],t.size[1]),g.save(),g.fillStyle="rgba(255,0,0,.5)",g.beginPath(),g.rect(0,0,t.size[0],t.size[1]),g.fill(),g.restore(),l||(r.interpolate(e,s),l=!0),g.save(),g.translate(t.margin[3]-p,t.margin[0]-v),s>0?e.length>0&&n.drawBezierPath(g,e,i):e.length>0&&n.drawLinePath(g,e,i),g.restore(),u=!1}var o=this.extension("Box"),i=this.extension("Style"),a=t("$Canvas"),s=this.extension("Matrix"),u=!1,l=!1,c=1,f=0,h=this.extension("Drawer"),p=0,v=0;o.f(function(t){for(var e=i.get("position"),n=i.get("path"),r=i.get("anchor"),o=e[0],a=e[1],s=1/0,u=1/0,l=-(1/0),h=-(1/0),g=0;g<n.length;g++)n[g][0]<s&&(s=n[g][0]),n[g][2]<s&&(s=n[g][2]),n[g][1]<u&&(u=n[g][1]),n[g][3]<u&&(u=n[g][3]),n[g][0]>l&&(l=n[g][0]),n[g][2]>l&&(l=n[g][2]),n[g][1]>h&&(h=n[g][1]),n[g][3]>h&&(h=n[g][3]);s==1/0&&(s=0),u==1/0&&(u=0),l==-(1/0)&&(l=0),h==-(1/0)&&(l=0),p=s,v=u;var d=c+f,y=Math.abs(l-s),b=Math.abs(h-u);"center"==r[0]&&(o-=y?y/2:0),"right"==r[0]&&(o-=y?y:0),"middle"==r[1]&&(a-=b?b/2:0),"bottom"==r[1]&&(a-=b?b:0),t.set(o+p,a+v,y,b,d,d,d,d)}),this.watch("path",function(){var t=i.get("interpolation");0!==t&&(l=!1),o.purge(),s.purge(),u=!0}),this.watch("position",function(){o.purge()}),this.watch("strokeWidth",function(t,e){for(var n=0,r=0;r<e.length;r++)e[r]>n&&(n=e[r]);c=n/2,u=!0,o.purge(),s.purge()}),this.watch("interpolation",function(t,e){t!==e&&(l=!1),f=Math.round(20*e),o.purge(),s.purge(),u=!0}),this.watch(["strokeStyle","strokeColor"],function(){u=!0});var g=a.context();h.f(function(t){u&&UpdateCanvas.call(this),n.transform(this,t),t.drawImage(a["export"](),0,0)})}]),$R.part("Objects",["@inject","$DrawerHelper",function RectangleObjectDrawer(t,e){function UpdateBg(t){var e=i.box(),o=e.value(),a=e.sprite();t.moveTo(a.margin[3],a.margin[0]),t.beginPath(),t.lineTo(o.size[0]+a.margin[3],a.margin[0]),t.lineTo(o.size[0]+a.margin[3],o.size[1]+a.margin[0]),t.lineTo(a.margin[3],o.size[1]+a.margin[0]),t.lineTo(a.margin[3],a.margin[0]),t.clip();for(var s=r.get("bgPosition"),u=r.get("bgSize"),l=r.get("bg"),c=0;c<l.length;c++)if(l[c].loaded()){t.save();var f=o.size[0]*u[c][0],h=o.size[1]*u[c][1],p=o.size[0]*s[c][0],v=o.size[1]*s[c][1];t.translate(a.margin[3]+p,a.margin[0]+v),t.drawImage(l[c]["export"](),0,0,f,h),t.restore()}else l[c].on("load",function(){n.update("bg")})}function UpdateStroke(t){var e=r.get("strokeColor"),n=r.get("strokeWidth"),o=r.get("strokeStyle"),a=r.get("cap"),s=i.box(),u=s.value(),l=s.sprite();t.moveTo(l.margin[3],l.margin[0]),t.lineCap=a,t.strokeStyle=e[0],t.lineWidth=n[0],t.setLineDash(o[0]),t.lineTo(u.size[0]+l.margin[3],l.margin[0]),t.stroke(),t.strokeStyle=e[1],t.lineWidth=n[1],t.setLineDash(o[1]),t.lineTo(u.size[0]+l.margin[3],u.size[1]+l.margin[0]),t.stroke(),t.strokeStyle=e[2],t.lineWidth=n[2],t.setLineDash(o[2]),t.lineTo(l.margin[3],u.size[1]+l.margin[0]),t.stroke(),t.strokeStyle=e[3],t.lineWidth=n[3],t.setLineDash(o[3]),t.lineTo(l.margin[3],l.margin[0]),t.stroke()}function UpdateFill(t){var e=r.get("fill"),n=i.box(),o=n.value(),a=n.sprite();t.rect(a.margin[3],a.margin[0],o.size[0],o.size[1]),t.fillStyle=e,t.fill()}var n=t("$GraphicsAssembler"),r=this.extension("Style"),o=this.extension("Drawer"),i=this.extension("Box"),a=this.extension("Matrix"),s=[2,2,2,2];n.layer(0,"fill",UpdateFill.bind(this)),n.layer(1,"bg",UpdateBg.bind(this)),n.layer(2,"stroke",UpdateStroke.bind(this)),n.box(i),i.f(function(t){var e=r.get("position"),n=r.get("size"),o=r.get("anchor"),i=e[0],a=e[1];"center"==o[0]&&(i-=n[0]/2),"right"==o[0]&&(i-=n[0]),"middle"==o[1]&&(a-=n[1]/2),"bottom"==o[1]&&(a-=n[1]),t.set(i,a,n[0],n[1],s[0],s[1],s[2],s[3])}),o.f(function(t){e.transform(this,t),n.draw(t)}),this.watch("size",function(t,e){n.update("fill"),n.update("stroke"),n.update("bg"),n.resize(),a.purge()}),this.watch("strokeWidth",function(t,e){s[0]=e[0],s[1]=e[1],s[2]=e[2],s[3]=e[3],i.purge(),n.resize(),n.update("stroke"),a.purge()}),this.watch(["position","size"],function(){i.purge(),a.purge()}),this.watch(["bg","bgSize","bgPosition"],function(){n.update("bg")}),this.watch(["strokeStyle","strokeColor"],function(){n.update("stroke")}),this.watch(["fill"],function(){n.update("fill")})}]),$R.part("Objects",["$DrawerHelper","$ModelHelper","Resource",function SpriteObjectDrawer(t,e,n){var r=this.extension("Style"),o=this.extension("Box"),i=this.extension("Drawer"),a=this.extension("Matrix"),s=null,u=null,l=null;o.f(function(t){var e=r.get("position"),n=r.get("anchor"),o=e[0],i=e[1];"center"==n[0]&&(o-=s?s/2:0),"right"==n[0]&&(o-=s?s:0),"middle"==n[1]&&(i-=u?u/2:0),"bottom"==n[1]&&(i-=u?u:0),t.set(o,i,s?s:0,u?u:0,0,0,0,0)}),i.f(function(e){l&&l.loaded()&&!l.error()&&l.ready()&&null!==s&&null!==u&&s>0&&u>0&&(t.transform(this,e),e.drawImage(l["export"](),0,0,s,u))}),this.watch("src",function(t,r){if(r!==t){var i=e.readSpriteString(r);l=n.sprite(i.url),l.config(i.frames),l.on("load",function(){null==s&&(s=l.width()),null==u&&(u=l.height()),a.purge(),o.purge()})}}),this.watch("size",function(t,e){t[0]===e[0]&&t[1]===e[1]||(s=e[0],u=e[1],o.purge())}),this.watch("position",function(t,e){t[0]===e[0]&&t[1]===e[1]||o.purge()})}]),$R.part("Objects",["@inject","$DrawerHelper","Resource",function TextObjectDrawer(t,e,n){function UpdateTextLayer(t){r.update();var e=o.get("lineHeight"),n=(o.get("color"),o.get("fontSize")),i=o.get("align");t.beginPath();var a=e-n/5;n<e?a-=e-n:a+=n-e,r.forEachLine(function(n){t.beginPath();var o=a+n*e;t.font=this.extractFontString(),t.fillStyle=this.color(),"center"==i?t.fillText(this.string(),(r.textBlockWidth()-this.width())/2,o):"right"==i?t.fillText(this.string(),r.textBlockWidth()-this.width()-2,o):t.fillText(this.string(),2,o)})}function getFontFile(){var t="oblique"===f?"normal":f,e=n.font(l,c,t);e.on("load",function(){u=!0,i.purge(),s.purge(),r.update(!0)}),e.on("error",function(){u=!0,i.purge(),s.purge(),r.update(!0)})}function drawText(t){u&&(h.size(r.textBlockWidth(),r.textBlockHeight()),h.update("text"),u=!1),e.transform(this,t),h.draw(t)}var r=this.extension("Text"),o=this.extension("Style"),i=this.extension("Box"),a=this.extension("Drawer"),s=this.extension("Matrix"),u=!1,l=o.get("font"),c=o.get("weight"),f=o.get("style"),h=t("$GraphicsAssembler");h.layer(0,"text",UpdateTextLayer),this.watch(["str","style","font","weight","size","color","fontSize","lineHeight"],function(){u=!0,i.purge(),s.purge()}),this.watch("font",function(t,e){l=e,getFontFile()}),this.watch("style",function(t,e){f=e,getFontFile()}),this.watch("weight",function(t,e){c=e,getFontFile()}),this.watch("anchor",function(){i.purge(),s.purge()}),i.f(function(t){var e=o.get("position"),n=o.get("anchor"),i=e[0],a=e[1];"center"==n[0]&&(i-=r.textBlockWidth()/2),"right"==n[0]&&(i-=r.textBlockWidth()),"middle"==n[1]&&(a-=r.textBlockHeight()/2),"bottom"==n[1]&&(a-=r.textBlockHeight()),t.set(i,a,r.textBlockWidth(),r.textBlockHeight(),0,0,0,0)}),a.f(drawText)}]),$R.part("Objects",["@extend","$ModelHelper","$PathHelper","Debug",function AreaObjectModel(t,e,n,r){function SyncPathProperty(t,e){for(var n=0;n<t.length;n++)e[n]||e.push(e[e.length-1]);t.length<e.length&&e.splice(t.length-1,e.length-t.length)}t(this,"$DefaultObjectModel"),t(this,"$GlobalBackgroundModel"),t(this,"$DefaultFreeStrokeModel");var o=this.extension("Style");this.extension("Animation");o.define(0,"path",[[0,0,0,0,0,0,0,0]],function(t){if(n.checkSimplePath(t)){var e=o.get("path"),i=n.convertSimplePath(t);return i[0][0]===i[i.length-1][2]&&i[0][1]===i[i.length-1][3]||i.push([i[i.length-1][2],i[i.length-1][3],i[0][0],i[0][1],i[i.length-1][2],i[i.length-1][3],i[0][0],i[0][1]]),e.length!==i.length&&(SyncPathProperty(i,o.get("strokeStyle")),SyncPathProperty(i,o.get("strokeWidth")),SyncPathProperty(i,o.get("strokeColor"))),i}return r.warn("Area Model / Invalid value for area path!"),!1},function(t){return n.convertComplexPath(t)})}]),$R.part("Objects",["@extend","$ColorHelper","$ModelHelper","Debug",function CircleObjectModel(t,e,n,r){t(this,"$DefaultObjectModel"),t(this,"$GlobalBackgroundModel");var o=this.extension("Style"),i=this.extension("Animation");o.define(0,"radius",0,function(t){if("number"==typeof t)return t<0&&(t=0),t},function(t){return t}),i.morph("radius",0,function(t,e,n){"number"==typeof n?(n<0&&(n=0),t(this.style("radius")),e(n)):r.warn({v:n},"[{v}] is not a valid radius value")},function(t){return t<0&&(t=0),t}),o.define(0,"strokeWidth",1,function(t){if("number"==typeof t)return t<0&&(t=0),t},function(t){return t}),i.morph("strokeWidth",0,function(t,e,n){"number"==typeof n&&(n<0&&(n=0),t(this.style("strokeWidth")),e(n))},function(t){return t<0&&(t=0),t}),o.define(0,"strokeColor","rgba(0,0,0,1)",function(t){return"string"==typeof t?e.colorToArray(t)?t:(r.warn({val:t},"[{val}] is not a valid strokeColor value"),!1):"object"==typeof t&&t.constructor==Array?e.isColor(t)?e.arrayToColor(t):(r.warn({val:t},"[{val}] is not a valid strokeColor value"),!1):void 0},function(t){return e.colorToArray(t)}),i.morph("strokeColor",0,function(t,o,i){if("string"==typeof i){var a=e.colorToArray(i);a?(t(this.style("strokeColor")),o(a)):r.warn({v:i},"[{v}] is not a valid value for strokeColor")}else"object"==typeof i&&i.constructor==Array&&e.isColor(i)?(t(this.style("strokeColor")),o(n.cloneArray(i))):r.warn({v:i},"[{v}] is not a valid value for strokeColor")},function(t){return e.normalize(t),t}),o.define(0,"strokeStyle",[1,0],function(t){if("object"==typeof t&&t.constructor==Array){if(n.validNumericValue(t)){if(2!=t.length)return r.warn({val:t},"[{val}] is not a valid strokeStyle value."),!1;for(var e=0;e<t.length;e++)t[e]<0&&(t[e]=0);return n.cloneArray(t)}return r.warn({val:t},"[{val}] is not a valid strokeStyle value."),!1}return r.warn({val:t},"[{val}] is not a valid strokeStyle value"),!1},function(t){return n.cloneArray(t)}),i.morph("strokeStyle",0,function(t,e,o){"object"==typeof o&&o.constructor===Array&&n.validNumericArray(o)&&2==o.length?(t(this.style("strokeStyle")),e(n.cloneArray(o))):r.warn({v:o},"[{v}] is not a valid value for strokeColor")},function(t){return t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),t})}]),$R.part("Objects",["$ModelHelper","$PathHelper","Debug",function DefaultObjectModel(t,e,n){var r=this.extension("Style"),o=this.extension("Animation");r.define(2,"position",[0,0],function(e){return t.validNumericArray(e)&&2==e.length?t.cloneArray(e):(n.warn("Invalid numeric array for position!"),!1)},function(e){return t.cloneArray(e)}),o.morph("position",2,function(e,r,o){t.validNumericArray(o)&&2==o.length?(e(this.style("position")),r(t.cloneArray(o))):n.warn({v:o},"Invalid value for position")},function(t){return t}),r.define(0,"rotate",0,function(t){if("number"==typeof t)return t<-360&&(t+=360),t>360?(t-=360,t=t*Math.PI/180):t*Math.PI/180},function(t){return t*(180/Math.PI)}),o.morph("rotate",0,function(t,e,r){"number"==typeof r?(t(this.style("rotate")),e(r)):n.warn({v:r},"Is not a valid value to animate rotate")},function(t){return t}),r.define(0,"translate",[0,0],function(e){return t.validNumericArray(e)&&2==e.length?t.cloneArray(e):(n.warn("Invalid numeric array for translate!"),!1)},function(e){return t.cloneArray(e)}),o.morph("translate",0,function(e,r,o){t.validNumericArray(o)&&2==o.length?(e(this.style("translate")),r(t.cloneArray(o))):n.warn({v:o},"Invalid value for translate")},function(t){return t}),r.define(0,"opacity",1,function(t){return"number"==typeof t?(t<0&&(t=0),t>1&&(t=1),t):(n.warn("Opacity value is not a number"),!1)},function(t){return t}),o.morph("opacity",0,function(t,e,r){"number"==typeof r?(r<0&&(r=0),r>1&&(r=1),t(this.style("opacity")),e(r)):n.warn({v:r},"Invalid value for translate")},function(t){return t<0&&(t=0),t>1&&(t=1),t}),r.define(0,"scale",[1,1],function(e){return"number"==typeof e?e>0?[e,e]:[0,0]:t.validNumericArray(e)&&2==e.length?t.cloneArray(e):(n.warn("Unknown type of value for scale!"),!1)},function(e){return t.cloneArray(e)}),o.morph("scale",0,function(e,r,o){"number"==typeof o?(o<0&&(o=0),o>1&&(o=1),e(this.style("scale")),r([o,o])):t.validNumericArray(o)&&2==o.length?(e(this.style("scale")),r(t.cloneArray(o))):n.warn({v:o},"Invalid value for scale")},function(t){return t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),t}),r.define(0,"skew",[0,0],function(e){if("number"==typeof e){e>360&&(e-=360),e<-360&&(e+=360);var r=e*Math.PI/180;return console.log(e,r),[r,r]}if(t.validNumericArray(e)&&2==e.length){e[0]>360&&(e[0]=e[1]-360),e[1]<-360&&(e[1]=e[1]+360);var o=e[0]*Math.PI/180,i=e[1]*Math.PI/180;return[o,i]}n.warn({v:e},"Ubknown value format for skew. [{v}]")},function(e){return t.cloneArray(e)}),o.morph("skew",0,function(e,r,o){"number"==typeof o?(e(this.style("skew")),r([o,o])):t.validNumericArray(o)&&2==o.length?(e(this.style("skew")),r(t.cloneArray(o))):n.warn({v:o},"Invalid value for skew")},function(t){return t}),r.define(0,"origin",[.5,.5],function(e){return"object"==typeof e&&e.constructor==Array?t.validNumericArray(e)&&2==e.length?[e[0],e[1]]:(n.warn("Unknown format of value for origin. Invalid Array!"),!1):(n.warn("Unknown type of value for origin"),!1)},function(e){t.cloneArray(e)}),o.morph("origin",0,function(e,r,o){t.validNumericArray(o)&&2==o.length?(e(this.style("origin")),r(t.cloneArray(o))):n.warn({v:o},"Invalid value for origin")},function(t){return t}),r.define(2,"cap","round",function(t){return"string"==typeof t?"round"==t||"butt"==t||"square"==t?t:(n.error({val:t},"{val} is incorrect value for line cap property!"),!1):void n.error("Cap property is a string!")},function(t){return t}),"Group"!==this.type()&&(r.define(0,"blending","source-over",function(e){return t.validBlending(e)?e:(n.warn({val:e}," [{val}] is not a valid blending!"),!1)},function(t){return t}),r.define(1,"anchor",["left","top"],function(t){return"object"==typeof t&&t.constructor==Array&&2==t.length?"left"!=t[0]&&"center"!=t[0]&&"right"!=t[0]||"top"!=t[1]&&"middle"!=t[1]&&"bottom"!=t[1]?(n.warn({v:t},'[{v}] is not a valid value. Array ["left" || "center" || "right" , "top" || "middle" || "bottom" ] is required format.'),!1):[t[0],t[1]]:(n.warn({v:t},"[{v}] is not a valid anchor value for text element"),!1)},function(t){return[t[0],t[1]]}))}]),$R.part("Objects",["$ModelHelper","$ColorHelper","Debug",function DefaultFreeStrokeModel(t,e,n){var r=this.extension("Style");r.define(1,"interpolation",0,function(t){return t>.4&&(t=.4),t<0&&(t=0),t},function(t){return t}),r.define(2,"strokeColor",["rgba(0,0,0,1)"],function(t){if("string"==typeof t){if(e.colorToArray(t)){for(var o=r.get("path"),i=[],a=0;a<o.length;a++)i[a]=t;return i}return n.warn({val:t},"Line Model / {val} is not a color!"),!1}if("object"==typeof t&&t.constructor==Array){for(var o=r.get("path"),s=r.get("strokeColor"),i=[],a=0;a<o.length;a++)t[a]?"string"==typeof t[a]?e.colorToArray(t[a])?i.push(t[a]):s[a]?(i.push(s[a]),n.warn({val:t[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:t[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):("object"==typeof t[a]||t[a].constructor==Array)&&e.isColor(t[a])?i.push(e.arrayToColor(t[a])):s[a]?(i.push(s[a]),n.warn({val:t[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:t[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):s[a]?(i.push(s[a]),n.warn({val:t[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:t[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!"));return i.length?i:(n.warn({val:t},"Line Model / {val} is not a color!"),!1)}if("object"==typeof t){for(var o=r.get("path"),s=r.get("strokeColor"),i=[],a=0;a<o.length;a++)t[a]?"string"==typeof t[a]?e.colorToArray(t[a])?i.push(t[a]):s[a]?(i.push(s[a]),n.warn({val:t[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:t[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):("object"==typeof t[a]||t[a].constructor==Array)&&e.isColor(t[a])?i.push(e.arrayToColor(t[a])):s[a]?(i.push(s[a]),n.warn({val:t[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:t[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):s[a]?(i.push(s[a]),n.warn({val:t[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:t[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!"));return i.length?i:(n.warn({val:t},"Line Model / {val} is not a color!"),
!1)}return n.warn("Line Model / Wrong type of value"),!1},function(t){for(var n=[],r=0;r<t.length;r++)n.push(e.colorToArray(t[r]));return n}),r.define(2,"strokeWidth",[1],function(t){if("number"==typeof t){for(var e=r.get("path"),o=[],i=0;i<e.length;i++)o.push(t);return o}if("object"==typeof t&&t.constructor==Array){for(var e=r.get("path"),a=r.get("strokeWidth"),o=[],i=0;i<e.length;i++)"number"==typeof t[i]?o.push(t[i]):a[i]?(o.push(a[i]),n.warn({val:t[i]},"Line Model / {val} is not a number!")):(o.push(a[a.length-1]),n.warn({val:t[i]},"Line Model / {val} is not a number!"));return o}if("object"==typeof t){for(var e=r.get("path"),a=r.get("strokeWidth"),o=[],i=0;i<e.length;i++)t[i]?"number"==typeof t[i]?o.push(t[i]):a[i]?(o.push(a[i]),n.warn({val:t[i]},"Line Model / {val} is not a number!")):(o.push(a[a.length-1]),n.warn({val:t[i]},"Line Model / {val} is not a number!")):a[i]?(o.push(a[i]),n.warn({val:t[i]},"Line Model / {val} is not a number!")):o.push(a[a.length-1]);return o}n.warn({val:t},"Line Model / {val} is not valid value for strokeWidth!")},function(e){return t.cloneArray(e)}),r.define(2,"strokeStyle",[[1,0]],function(e){if("object"==typeof e&&e.constructor==Array){if(t.validNumericArray(e)){for(var o=[],i=r.get("path"),a=0;a<i.length;a++)o.push(t.cloneArray(e));return o}for(var o=[],i=r.get("path"),s=r.get("strokeStyle"),a=0;a<i.length;a++)e[a]?t.validNumericArray(e[a])?o.push(e[a]):(s[a]?o.push(s[a]):o.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a valid value for strokeStyle!")):s[a]?o.push(s[a]):o.push(s[s.length-1]);return o}if("object"==typeof e){for(var o=[],s=r.get("strokeStyle"),i=r.get("path"),a=0;a<i.length;a++)e[a]?t.validNumericArray(e[a])?o.push(e[a]):(s[a]?o.push(s[a]):o.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a valid value for strokeStyle!")):s[a]?o.push(s[a]):o.push(s[s.length-1]);return o}},function(e){return t.cloneArray(e)})}]),$R.part("Objects",["$ModelHelper","$ColorHelper","Debug","Resource",function GlobalBackgroundModel(t,e,n,r){function SyncBgProperty(e,n,r){for(var o=0;o<e.length;o++)n[o]||n.push(t.cloneArray(r));e.length<n.length&&n.splice(e.length-1,n.length-path.length)}var o=this.extension("Style"),i=this.extension("Animation");o.define(0,"fill","rgba(0,0,0,1)",function(t){return"string"==typeof t?e.colorToArray(t)?t:(n.warn({val:t},"[{val}] is not a valid color!"),!1):"object"==typeof t&&t.constructor==Array?e.isColor(t)?e.arrayToColor(t):(n.warn({val:t},"[{val}] is not a valid color"),!1):(n.warn({val:t},"[{val}] is not a valid color!"),!1)},function(t){return e.colorToArray(t)}),i.morph("fill",0,function(r,o,i){if("string"==typeof i){var a=e.colorToArray(i);a?(r(this.style("fill")),o(a)):n.warn({v:i},"[{v}] is not avalid color!")}else"object"==typeof i&&i.constructor===Array?e.isColor(i)&&(r(this.style("fill")),o(t.cloneArray(i))):n.warn({v:i},"[{v}] is not a valid color!")},function(t){return e.normalize(t),t}),o.define(0,"bg",[],function(e){if("string"==typeof e){if(t.isSpriteString(e)){var i=t.readSpriteString(e),a=r.sprite(i.url);return a.config(i.frames),[a]}return[r.image(e)]}if("object"==typeof e||e.constructor==Array){if(2==e.length&&"string"==typeof e[0]&&"number"==typeof e[1]){if(e[1]>0){var a=r.sprite(e[0]);return a.config(e[1]),[a]}return!1}for(var s=[],u=0;u<e.length;u++)if("string"==typeof e[u])if(t.isSpriteString(e[u])){var i=t.readSpriteString(e[u]),a=r.sprite(i.url);a.config(i.frames),s.push(e)}else s.push(r.image(e[u]));else if("object"==typeof e[u]&&e[u].constructor==Array){if(2==e[u].length&&"string"==typeof e[u][0]&&"number"==typeof e[u][1])if(e[u][1]>0){var a=r.sprite(e[u][0]);a.config(e[u][1]),s.push(a)}else n.warn({val:e[u],i:u},"[{i}][{val}] is not a valid bg value. Skipped.")}else n.warn({val:e[u],i:u},"[{i}][{val}] is not a valid bg value. Skipped");return s}if("object"==typeof e){for(var l=o.get("bg"),s=[],u=0;u<l.length;u++)if(e[u])if("object"==typeof e[u]&&e[u].constructor==Array)if("string"==typeof e[u][0]&&"number"==typeof e[u][1]){var a=r.sprite(e[u][0]);a.config(e[u][1]),s.push(a)}else n.warn({val:e[u],i:u},"[{i}][{val}] is not a valid bg array value.");else if("string"==typeof e[u])if(t.isSpriteString(e[u])){var i=t.readSpriteString(e[u]),a=r.sprite(i.url);a.config(i.frames),s.push(e)}else s.push(r.image(e[u]));else s.push(l[u]),n.warn({val:e[u],i:u},"[{i}][{val}] is not a valid value for bg.");else s.push(l[u]);return s}return n.warn({val:e},"[{val}] is not valid value for bg"),!1},function(t){for(var e=[],r=0;r<t.length;r++)"Image"==t[r].type?e.push(t[r].url()):"Sprite"==t[r].type?e.push(t[r].url()+"["+t[r].frames()+"]"):n.error({val:t[r],i:r}+"[{i}][{val}] Unknown type of the background object container. Critical error.");return e});var a=[0,0];o.define(2,"bgPosition",[a],function(e){if("object"==typeof e&&e.constructor==Array){if(t.validNumericArray(e)&&2==e.length){for(var r=o.get("bg"),i=[],s=[e[0],e[1]],u=0;u<r.length;u++)i.push(s);return i}for(var i=[],r=o.get("bg"),l=o.get("bgPosition"),u=0;u<r.length;u++)e[u]?t.validNumericArray(e[u])&&2==e[u].length?i.push([e[0],e[1]]):(l[u]?i.push(l[u]):i.push(t.cloneArray(a)),n.warn({i:u,val:e[u]},"[{i}][{val}] is not a valid bgposition value")):l[u]?i.push(l[u]):i.push(t.cloneArray(a));return i}if("object"==typeof e){for(var i=[],r=o.get("bg"),l=o.get("bgPosition"),u=0;u<r.length;u++)e.hasOwnProperty(u)?l[u]?t.validNumericValue()&&2==e[u].length?i.push([e[0],e[1]]):(i.push(l[u]),n.warn({i:u,val:e[u]},"[{i}][{val}] is not a valid bgposition value")):i.push(t.cloneArray(a)):l[u]?i.push(l[u]):i.push(t.cloneArray(a));return i}n.warn({val:e},"[{val}] is not a valid bgposition value")},function(e){return t.cloneArray(e)});var s=[1,1];o.define(1,"bgSize",[s],function(e){if("object"==typeof e&&e.constructor==Array){if(2==e.length&&t.validNumericArray(e)){for(var r=o.get("bg"),i=[],a=[e[0],e[1]],u=0;u<r.length;u++)i.push(a);return i}for(var r=o.get("bg"),l=o.get("bgSize"),i=[],u=0;u<r.length;u++)2==e[u].length&&t.validNumericArray(e[u])?i.push(e[u][0],e[u][1]):(l[u]?i.push(l[u]):i.push(t.cloneArray(s)),n.warn({val:e[u],i:u},"[{i}][{val}] is not a valid bgsize value"));return i}if("object"==typeof e){for(var r=o.get("bg"),l=o.get("bgSize"),i=[],u=0;u<r.length;u++)e.hasOwnProperty(u)?"object"==typeof e[u]&&e[u].constructor==Array&&2==e[u].length&&t.validNumericArray(e[u])?i.push([e[u][0],e[u][1]]):(l[u]?i.push(l[u]):i.push(t.cloneArray(s)),n.warn({val:e[u],i:u},"[{i}][{val}] is not a valid bgsize value.")):l[u]?i.push(l[u]):i.push(t.cloneArray(s));return i}},function(e){return t.cloneArray(e)}),this.watch("bg",function(t,e){t.length!==e.length&&(SyncBgProperty(e,o.get("bgPosition"),a),SyncBgProperty(e,o.get("bgSize"),s))})}]),$R.part("Objects",["$ModelHelper",function GlobalSizeModel(t){var e=this.extension("Animation"),n=this.extension("Style");e.morph("size",1,function(e,n,r){"number"==typeof r?(r<0&&(r=0),e(this.style("size")),n([r,r])):"object"==typeof r&&r.constructor==Array&&t.validNumericArray(r)&&2==r.length?(r[0]<0&&(r[0]=0),r[1]<0&&(r[1]=0),e(this.style("size")),n(t.cloneArray(r))):Debug.warn({v:r},"[{v}] is not valid value for size")},function(t){return t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),t}),n.define(1,"size",[0,0],function(e){return"number"==typeof e?(e<0&&(e=0),[e,e]):"object"==typeof e&&e.constructor==Array&&2==e.length&&t.validNumericArray(e)?(e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),[e[0],e[1]]):(Debug.warn({val:e},"[{val}] is not valid value for size!"),!1)},function(e){return t.cloneArray(e)})}]),$R.part("Objects",["@extend",function GroupObjectModel(t){t(this,"$DefaultObjectModel")}]),$R.part("Objects",["@extend","Debug",function ImageObjectModel(t,e){t(this,"$DefaultObjectModel"),t(this,"$GlobalSizeModel");var n=this.extension("Style");n.define(0,"src",null,function(t){return"string"==typeof t?t:(e.warn({val:t},"[{val}] is not a valid src value"),!1)},function(t){return t})}]),$R.part("Objects",["@extend","$ModelHelper","$PathHelper","$ColorHelper","Debug",function LineObjectModel(t,e,n,r,o){function SyncPathProperty(t,e){for(var n=0;n<t.length;n++)e[n]||e.push(e[e.length-1])}t(this,"$DefaultObjectModel"),t(this,"$DefaultFreeStrokeModel");var i=this.extension("Style");i.define(0,"path",[[0,0,0,0,0,0,0,0]],function(t){if(n.checkSimplePath(t)){var e=i.get("path"),r=n.convertSimplePath(t);return e.length!==r.length&&(SyncPathProperty(r,i.get("strokeStyle")),SyncPathProperty(r,i.get("strokeWidth")),SyncPathProperty(r,i.get("strokeColor"))),r}return o.warn("Line Model / Invalid value for path!"),!1},function(t){return n.convertComplexPath(t)})}]),$R.part("Objects",["@extend","$ModelHelper","$ColorHelper","Debug",function RectangleObjectModel(t,e,n,r){t(this,"$DefaultObjectModel"),t(this,"$GlobalBackgroundModel"),t(this,"$GlobalSizeModel");var i=this.extension("Style"),a=this.extension("Animation");i.define(0,"strokeColor",["rgba(0,0,0,1)","rgba(0,0,0,1)","rgba(0,0,0,1)","rgba(0,0,0,1)"],function(t){if("string"==typeof t)return n.colorToArray(t)?[t,t,t,t]:(r.warn({value:val}," [{val} is not a valid stroke string"),!1);if("object"==typeof t&&t.constructor==Array){for(var e=i.get("strokeColor"),o=[],a=0;a<e.length;a++)t[a]?"string"==typeof t[a]?n.colorToArray(t[a])?o.push(t[a]):(o.push(e[a]),r.warn({val:t[a]},"[{val}] is not a valid stroke color value!")):"object"==typeof t[a]&&t[a].constructor==Array?n.isColor(t[a])?o.push(n.arrayToColor(t[a])):(o.push(e[a]),r.warn({val:t[a]},"[{val}] is not a valid stroke color value")):(o.push(e[a]),r.warn({val:t[a]},"[{val}] is not a valid color value")):o.push(e[a]);return o}if("object"==typeof t){for(var e=i.get("strokeColor"),o=[],a=0;a<e.length;a++)t.hasOwnProperty(a)?"string"==typeof t[a]?n.colorToArray(t[a])?o.push(t[a]):(o.push(e[a]),r.warn({val:t[a]},"[{val}] is not a valid color value")):"object"==typeof t[a]&&t[a].constructor===Array&&n.isColor(t[a])?o.push(n.arrayToColor(t[a])):(o.push(e[a]),r.warn({val:t[a]},"[{val}] is not a valid color value")):o.push(e[a]);return o}return r.warn({val:t},"[{val}] is not a valid value for strokeColor!"),!1},function(t){for(var e=[],r=0;r<t.length;r++)e.push(n.colorToArray(t[r]));return e}),a.morph("strokeColor",0,function(t,o,i){if("string"==typeof i){var a=n.colorToArray(i[c]);a?(o([e.cloneArray(a),e.cloneArray(a),e.cloneArray(a),e.cloneArray(a)]),t(this.style("strokeColor"))):r.warn({v:i},"{v} is not a valid color!")}else if("object"==typeof i&&i.constructor==Array)if(n.isColor(i))o([e.cloneArray(i),e.cloneArray(i),e.cloneArray(i),e.cloneArray(i)]),t(this.style("strokeColor"));else{for(var s=this.style("strokeColor"),u=[],l=!1,c=0;c<s.length;c++)if("string"==typeof i[c]){var a=n.colorToArray(i[c]);a?(u.push(a),l=!0):u.push(f[c])}else"object"==typeof i[c]&&i[c].constructor==Array&&i[c]&&n.isColor(i[c])?(u.push(e.cloneArray(i[c])),l=!0):u.push(f[c]);l?(t(s),o(u)):r.warn({v:i},"[{v}] is not a valid value for strokeColor")}else if("object"==typeof i){for(var f=this.style("strokeColor"),u=[],l=!1,c=0;c<f.length;c++)if("string"==typeof i[c]){var a=n.colorToArray(i[c]);a?(u.push(a),l=!0):u.push(f[c])}else"object"==typeof i[c]&&i[c].constructor==Array&&n.isColor(i[c])?(u.push(e.cloneArray(i[c])),l=!0):u.push(f[c]);l?(t(f),o(u)):r.warn({v:i},"[{v}] is not a valid value for strokeColor!")}},function(t){for(var e=0;e<t.length;e++)n.normalize(t[e]);return t}),i.define(0,"strokeWidth",[1,1,1,1],function(t){if("number"==typeof t)return[t,t,t,t];if("object"==typeof t&&t.constructor==Array){for(var e=i.get("strokeWidth"),n=[],o=0;o<e.length;o++)t[o]?"number"==typeof t[o]?n.push(t[o]):(n.push(e[o]),r.warn({val:t}," [{val}] is not a valid stroke width value")):n.push(e[o]);return n}if("object"==typeof t){for(var n=[],e=i.get("strokeWidth"),o=0;o<e.length;o++)t.hasOwnProperty(o)?"number"==typeof t[o]?n.push(t[o]):(r.warn({val:t},"[{val}] is not a valid value for strokeWidth"),n.push(e[o])):n.push(e[o]);return n}return r.warn({val:t}," [{val}] is not a valid strokeWidth value"),!1},function(t){return e.cloneArray(t)}),a.morph("strokeWidth",0,function(t,e,n){if("number"==typeof n)e([n,n,n,n]),t(this.style("strokeWidth"));else if("object"==typeof n&&n.constructor==Array){for(var o=this.style("strokeWidth"),i=[],a=0;a<o.length;a++)n[a]&&"number"==typeof n[a]?i.push(n[a]):i.push(o[a]);e(i),t(o)}else if("object"==typeof n){for(var o=this.style("strokeWidth"),i=[],s=!1,a=0;a<o.length;a++)n[a]&&"number"==typeof n[a]?(i.push(n),s=!0):i.push(o[a]);s?(e(i),t(o)):r.warn({v:n}," [{v}] is not a valid strokeWidth object")}else r.warn({v:n}," [{v}] is not a valid value for strokeWidth")},function(t){return t}),i.define(0,"strokeStyle",[[1,0],[1,0],[1,0],[1,0]],function(t){if("object"!=typeof t)return r.warn({val:t}," [{val}] is not valid strokeStyle value"),!1;if(t.constructor!=Array){for(var n=[],o=i.get("strokeStyle"),a=0;a<o.length;a++)t.hasOwnProperty(a)?"object"==typeof t[a]&&t[a].constructor==Array?e.validNumericArray(t[a])&&2==t[a].length?n.push(e.cloneArray(t[a])):(n.push(o[a]),r.warn({val:t[a]},"[{val}] is not a valid strokeStyle value")):(n.push(o[a]),r.watch({val:t[a]}," [{val}] is not a valid strokeStyle value")):n.push(o[a]);return n}if(!e.validNumericArray(t)){for(var n=[],o=i.get("strokeStyle"),a=0;a<o.length;a++)t[a]?e.validNumericArray(t[a])&&2==t.length?n.push(e.cloneArray(t[a])):(n.push(o[a]),r.warn({val:t[a]}," [{val}] is not a valid stroke style value")):n.push(o[a]);return n}return 2==t.length?[t,t,t,t]:void r.warn({v:t}," [{v}] is not a valid value for stroke width!")},function(t){return e.cloneArray(t)}),a.morph("strokeStyle",0,function(t,n,i){if("object"==typeof i)if(i.constructor==Array)if(e.validNumericArray(i))2==i.length?(t(this.style("strokeStyle")),n(e.cloneArray(i),e.cloneArray(i),e.cloneArray(i),e.cloneArray(i))):r.warn({v:i}," [{v}] is not a valid strokeStyle value!");else{for(var a=this.style("strokeStylr"),s=[],u=!1,l=0;l<a.length;l++)i[l]&&e.validNumericArray(i[l])&&2==i[l].length?(s.push(e.cloneArray(i[l])),u=!0):s.push(a[l]);u?(t(a),n(s)):r.warn({v:i},"[{v}] is not a valid strokeStyle value")}else{for(var a=this.style("strokeStyle"),s=[],u=!1,l=0;l<a.length;l++)i[l]&&e.validNumericArray(i[l])&&2==i[l].length?(s.push(e.cloneArray(i[o])),u=!0):s.push(a[l]);u?(t(a),n(s)):r.warn({v:i},"[{v}] is not a valid strokeStyleValue")}else r.warn({v:i},"[{v}] is not a valid strokeStyleValue")},function(t){return t})}]),$R.part("Objects",["@extend","$ModelHelper","Debug",function SpriteObjectModel(t,e,n){t(this,"$DefaultObjectModel"),t(this,"$GlobalSizeModel");var r=this.extension("Style");r.define(0,"src",null,function(t){return"string"==typeof t?e.isSpriteString(t)?t:(n.warn({val:t},"[{val}] is not a valid value for sprite src"),!1):"object"==typeof t&&t.constructor==Array?"string"==typeof t[0]&&"number"==typeof t[1]&&t[1]>0?t[0]+"["+t[1]+"]":(n.warn({val:t},"[{val}] is not a valid sprite src"),!1):void n.warn({val:t},"[{val}] is not a valid sprite src")},function(t){return t})}]),$R.part("Objects",["@extend","$ModelHelper","$ColorHelper","Debug",function TextObjectModel(t,e,n,r){t(this,"$DefaultObjectModel");var o=this.extension("Style"),i=this.extension("Text"),a=this.extension("Animation");o.define(1,"size",["auto","auto"],function(t){if("string"==typeof t&&"auto"==t)return i.limits(1/0,1/0),[t,t];if("number"==typeof t)return i.limits(t,t),[t,t];if("object"==typeof t&&t.constructor===Array&&2==t.length){for(var e=!0,n=0;n<t.length;n++)if("string"!=typeof t[n]&&"number"!=typeof t[n]||"string"==typeof t[n]&&"auto"!==t[n]){e=!1;break}return e?("number"==typeof t[0]&&t[0]<0&&(t[0]=0),"number"==typeof t[1]&&t[1]<0&&(t[1]=0),i.limits("auto"===t[0]?1/0:t[0],"auto"===t[1]?1/0:t[1]),[t[0],t[1]]):(r.warn({v:t},"[{v}] is not a valid size array"),!1)}return r.warn({v:t},"[{v}] is not a valid value for size"),!1},function(t){return[t[0],t[1]]}),o.define(1,"str","",function(t){return"string"==typeof t&&t},function(t){return t}),o.define(1,"font","sans-serif",function(t){if("string"==typeof t)return t},function(t){return t}),o.define(1,"weight",400,function(t){return"number"==typeof t&&(t<100&&(t=100),t>900&&(t=900),t%100!==0&&(t-=t%100),t)},function(t){return t}),o.define(1,"style","normal",function(t){return"string"==typeof t&&("normal"==t||"italic"==t||"oblique"==t)&&t},function(t){return t}),o.define(1,"lineHeight",14,function(t){if("number"==typeof t)return t<0&&(t=0),t},function(t){return t}),o.define(1,"fontSize",14,function(t){if("number"==typeof t)return t<0&&(t=0),t},function(t){return t}),o.define(1,"color","rgba(0,0,0,1)",function(t){return"string"==typeof t?n.colorToArray(t)?t:(r.warn({val:t},"[{val}] is not a valid color!"),!1):"object"==typeof t&&t.constructor==Array?n.isColor(t)?n.arrayToColor(t):(r.warn({val:t},"[{val}] is not a valid color"),!1):(r.warn({val:t},"[{val}] is not a valid color!"),!1)},function(t){return n.colorToArray(t)}),o.define(1,"align","left",function(t){return"center"===t||"left"===t||"right"===t?t:(r.warn({v:t},"[{v}] is not a proper value for aling text property"),!1)},function(t){return t}),a.morph("color",1,function(t,o,i){if("string"==typeof i){var a=n.colorToArray(i);a?(t(this.style("fill")),o(a)):r.warn({v:i},"[{v}] is not avalid color!")}else"object"==typeof i&&i.constructor===Array?n.isColor(i)&&(t(this.style("fill")),o(e.cloneArray(i))):r.warn({v:i},"[{v}] is not a valid color!")},function(t){return n.normalize(t),t})}]),$R.part("Sound",["$AnimationHelper","Morphine",function Animation(t,e){function Resolve(t){if(t==p)for(var e=0;e<a.length;e++)l.hasOwnProperty(a[e].morph.property())&&l[a[e].morph.property()].apply(u,[n,a[e].result]);else if(t==v){i=!0;for(var r={},e=0;e<a.length;e++)r[a[e].morph.property()]=a[e].result;g.done(1,r),h()}}var n=0,r=null,o=null,i=!1,a=null,s=null,u=null,l=null,c=!1,f=!1,h=null,p="type",v="complete",g=null;this.target=function(){return u},this.queue=function(){return c},this.active=function(){return f},this.done=function(){return i},this.hasProperty=function(t){for(var e=0,n=0;n<a.length;n++)if(a[n].morph.property()==t){e=n+1;break}return e},this.properties=function(){for(var t=[],e=0;e<a.length;e++)t.push(a[e].morph.property());return t},this.stop=function(t){if(t){var e=this.hasProperty(t);e&&(e-=1,a.splice(e,1))}else a=[]},this.start=function(){f=!0;for(var n=[],i=0;i<a.length;i++){var u=a[i].morph.get(a[i].value);void 0!==u&&u.start()!==!1&&u.end()!==!1&&n.push(a[i])}a=n;var l=t.getTickFunction();s=e.create(0,1,function(t,e){if(0==a.length)Resolve(v),s.stop();else{for(var n=0;n<a.length;n++)a[n].result=l(e,a[n].morph.start(),a[n].morph.end()),a[n].morph.apply(t,a[n].result);Resolve(p),1==t&&Resolve(v)}},o,r,0)},this.config=function(e,n,i,s){t.normalizeConfig(i),r=i.duration,o=i.easing,l=i.step,c=i.queue,h=s,a=n,u=e,g=i}}]),$R.part("Sound",function AnimationHelper(){function TickVal(t,e,n){var r=!1,o=!1;if("function"==typeof e&&(r=e()),"function"==typeof n&&(o=n()),e.constructor===Array)for(var i=[],a=0;a<e.length;a++)i.push(TickVal(t,e[a],n[a]));else if("object"==typeof e){var i={};for(var s in e)i[s]=TickVal(t,e[s],n[s])}else if("number"==typeof e||"function"==typeof e){var u=o===!1?n:o,l=r===!1?e:r,c=u-l;if(t>=1)var f=u;else var f=l+c*t;var i=f}return i}this.normalizeConfig=function(t){t.duration="number"==typeof t.duration&&t.duration>0?t.duration:1e3,t.queue=!!t.queue,t.step="object"==typeof t.step?t.step:{},t.easing="string"==typeof t.easing?t.easing:"linear",t.done="function"==typeof t.done?t.done:function(){}},this.getTickFunction=function(){return TickVal}}),$R.part("Sound",["Debug",function Morph(t){function SetStartValue(t){e=t}function SetEndValue(t){n=t}var e,n,r=null,o=null,i=null,a=null,s=!1,u=0;this.start=function(){return e},this.end=function(){return n},this.property=function(){return r},this.ordering=function(){return u},this.get=function(t){return o.apply(a,[SetStartValue,SetEndValue,t]),this},this.valid=function(){return s},this.apply=function(t,e){a.filter(r,i.apply(a,[e,t]))},this.config=function(e,n,l,c,f){return"string"!=typeof e?void t.error({name:e},"Unable to config Morph. arg1 [{name}] is not a string!"):"object"!=typeof n?void t.error({name:e},"Unable to config Morph. arg3 is not an object!"):"function"!=typeof c?void t.error({name:e},"Unable to config Morph. arg4 is not a function!"):"number"!=typeof l?void t.error({name:e},"Unable to config Morph. arg2 is not a number!"):"function"!=typeof f?void t.error({name:e},"Unable to config Morph. arg5 is not a function!"):(r=e,o=c,i=f,u=l,a=n,void(s=!0))}}]),$R.part("Objects",["$AnimationHelper","Morphine",function Animation(t,e){function Resolve(t){if(t==p)for(var e=0;e<a.length;e++)l.hasOwnProperty(a[e].morph.property())&&l[a[e].morph.property()].apply(u,[n,a[e].result]);else if(t==v){i=!0;for(var r={},e=0;e<a.length;e++)r[a[e].morph.property()]=a[e].result;g.done(1,r),h()}}var n=0,r=null,o=null,i=!1,a=null,s=null,u=null,l=null,c=!1,f=!1,h=null,p="type",v="complete",g=null;this.target=function(){return u},this.queue=function(){return c},this.active=function(){return f},this.done=function(){return i},this.hasProperty=function(t){for(var e=0,n=0;n<a.length;n++)if(a[n].morph.property()==t){e=n+1;break}return e},this.properties=function(){for(var t=[],e=0;e<a.length;e++)t.push(a[e].morph.property());return t},this.stop=function(t){if(t){var e=this.hasProperty(t);e&&(e-=1,a.splice(e,1))}else a=[]},this.start=function(){f=!0;for(var n=[],i=0;i<a.length;i++){var u=a[i].morph.get(a[i].value);void 0!==u&&u.start()!==!1&&u.end()!==!1&&n.push(a[i])}a=n;var l=t.getTickFunction();s=e.create(0,1,function(t,e){if(0==a.length)Resolve(v),s.stop();else{for(var n=0;n<a.length;n++)a[n].result=l(e,a[n].morph.start(),a[n].morph.end()),a[n].morph.apply(t,a[n].result);Resolve(p),1==t&&Resolve(v)}},o,r,0)},this.config=function(e,n,i,s){t.normalizeConfig(i),r=i.duration,o=i.easing,l=i.step,c=i.queue,h=s,a=n,u=e,g=i}}]),$R.part("Objects",function AnimationHelper(){function TickVal(t,e,n){var r=!1,o=!1;if("function"==typeof e&&(r=e()),"function"==typeof n&&(o=n()),e.constructor===Array)for(var i=[],a=0;a<e.length;a++)i.push(TickVal(t,e[a],n[a]));else if("object"==typeof e){var i={};for(var s in e)i[s]=TickVal(t,e[s],n[s])}else if("number"==typeof e||"function"==typeof e){var u=o===!1?n:o,l=r===!1?e:r,c=u-l;if(t>=1)var f=u;else var f=l+c*t;var i=f}return i}this.normalizeConfig=function(t){t.duration="number"==typeof t.duration&&t.duration>0?t.duration:1e3,t.queue=!!t.queue,t.step="object"==typeof t.step?t.step:{},t.easing="string"==typeof t.easing?t.easing:"linear",t.done="function"==typeof t.done?t.done:function(){}},this.getTickFunction=function(){return TickVal}}),$R.part("Objects",["Debug",function Morph(t){function SetStartValue(t){e=t}function SetEndValue(t){n=t}var e,n,r=null,o=null,i=null,a=null,s=!1,u=0;this.start=function(){return e},this.end=function(){return n},this.property=function(){return r},this.ordering=function(){return u},this.get=function(t){return o.apply(a,[SetStartValue,SetEndValue,t]),this},this.valid=function(){return s},this.apply=function(t,e){a.style(r,i.apply(a,[e,t]))},this.config=function(e,n,l,c,f){return"string"!=typeof e?void t.error({name:e},"Unable to config Morph. arg1 [{name}] is not a string!"):"object"!=typeof n?void t.error({name:e},"Unable to config Morph. arg3 is not an object!"):"function"!=typeof c?void t.error({name:e},"Unable to config Morph. arg4 is not a function!"):"number"!=typeof l?void t.error({name:e},"Unable to config Morph. arg2 is not a number!"):"function"!=typeof f?void t.error({name:e},"Unable to config Morph. arg5 is not a function!"):(r=e,o=c,i=f,u=l,a=n,void(s=!0))}}]),$R.part("Objects",function GraphicsBox(){var t={size:[0,0],position:[0,0]},e={margin:[0,0,0,0],position:[0,0],size:[0,0]};this.get=function(){return{size:[t.size[0],t.size[1]],position:[t.position[0],t.position[1]]}},this.set=function(n,r,o,i,a,s,u,l){t.size[0]=o,t.size[1]=i,t.position[0]=n,t.position[1]=r,e.margin[0]=a,e.margin[1]=s,e.margin[2]=u,e.margin[3]=l,e.size[0]=l+o+s,e.size[1]=a+i+u,e.position[0]=n-l,e.position[1]=r-a},this.value=function(){return t},this.sprite=function(){return e}}),$R.part("Objects",["Canvas","@app","$MouseObjectFinder",function MouseEventDispatcher(t,e,n){function DefaultREvent(t,e){var n=t,r=!0,o=e,i=e;this.type=function(){return n},this.date=new Date,this.stopPropagation=function(){r=!1},this.propagate=function(){return r},this.target=function(){return o},this.propagated=function(){o.$$PROPAGATIONSEARCH=!0;var t=i.$$PROPAGATIONSEARCH;return delete o.$$PROPAGATIONSEARCH,!!t&&t},this.originalTarget=function(){if(this.$$MOUSEPROPAGATIONSETTER){var t=getEventByType(n,o);return t.originalTarget.call({$$RESETTARGET:this.$$MOUSEPROPAGATIONSETTER}),t}return this.$$RESETTARGET&&(o=this.$$RESETTARGET),i}}function MouseEvent(t,e){DefaultREvent.apply(this,[t,e]),this.cursor=[i.current[0],i.current[1]]}function DragEvent(t,e){DefaultREvent.apply(this,[t,e]),this.drag={start:[a.start[0],a.start[1]],current:[a.current[0],a.current[1]],delta:[a.delta[0],a.delta[1]]}}function getEventByType(t,e){return"mousemove"==t||"mouseleave"==t||"mouseenter"==t||"mousedown"==t||"mouseup"==t?new MouseEvent(t,e):"dragstart"==t||"dragend"==t||"dragmove"==t?new DragEvent(t,e):void 0}function Dispatch(t,e){var n=e.extension("Mouse");n&&n.hasEvent(t)&&n.resolve(e,t,getEventByType(t))}function resolveEventByType(t){"mouseenter"!=t&&"drastart"!=t&&"dragend"!=t&&"dragmove"!=t&&"mousemove"!=t&&"mouseup"!=t&&"mousedown"!=t||!r.current||Dispatch(t,r.current),"mouseleave"==t&&r.previous&&Dispatch(t,r.previous)}function DispatchEvents(){if(o.current!==o.old&&o.current&&resolveEventByType("mousedown"),i.old[0]!==i.current[0]||i.old[1]!==i.current[1]){if(r.current&&!r.previous)resolveEventByType("mouseenter");else if(!r.current&&r.previous)resolveEventByType("mouseleave");else if(r.current&&r.previous){r.current.$$MOUSESEARCH=!0;var t=!1;r.previous.$$MOUSESEARCH||(t=!0),delete r.current.$$MOUSESEARCH,t&&(resolveEventByType("mouseleave"),resolveEventByType("mouseenter"))}o.current&&o.current!==o.old?(a.start[0]=i[0],a.start[1]=i[1],resolveEventByType("dragstart")):o.current&&o.current==o.old?(a.current[0]=i[0],a.current[1]=i[1],a.delta[0]=a.start[0]-a.current[0],a.delta[1]=a.start[1]-a.current[1],resolveEventByType("dragmove")):o.current||o.current===o.old?o.current||o.current!=o.old||resolveEventByType("mousemove"):(a.current[0]=i[0],a.current[1]=i[1],a.delta[0]=a.start[0]-a.current[0],a.delta[1]=a.start[1]-a.current[1],resolveEventByType("dragend"))}o.current===o.old||o.current||resolveEventByType("mouseup"),r.previous=r.current,o.old=o.current,i.old[0]=i.current[0],i.old[1]=i.current[1]}function UpdateTargets(){r.previous=r.current,r.current=n.check(i.current)}function onAppTick(){if(c=!c){if(s)return;UpdateTargets(),DispatchEvents()}}var r={current:null,previous:null},o={current:!1,previous:!1},i={old:[0,0],current:[0,0]},a={start:[0,0],current:[0,0],delta:[0,0]},s=!0,u=!1,l=!1;t.on("mousedown",function(){u&&l&&(o.previous=o.current,o.current=!0,s=!1)}),t.on("mouseup",function(){u&&l&&(o.previous=o.current,o.current=!1,s=!1)}),t.on("mousemove",function(t){u&&l&&(i.current[0]=t.mouse.position[0],i.current[1]=t.mouse.position[1],s=!1)}),t.on("mouseleave",function(){l=!1}),t.on("mouseenter",function(){l=!0});var c=!1;e.$("tick",onAppTick),e.$on("start",function(){u=!0}),e.$on("stop",function(){u=!1}),e.$on("error",function(){u=!1})}]),$R.part("Objects",["$Tree","Debug",function MouseObjectFinder(t,e){function CheckElement(t,e){if("Group"==t.type()){var n=null,r=t.extension("Layers");return r.forEach(function(){if(!this.disabled())if("Group"==this.type()){var t=CheckElement(this,e);t&&(n=t)}else{var r=this.extension("Mouse"),t=r.check(this,e);t&&(n=t)}}),n}}this.check=function(n){var r=t.root();return r?"object"!=typeof n||n.constructor!==Array||2!==n.length||"number"!=typeof n[0]||"number"!=typeof n[1]?(e.warn({c:n},"ObjectFinder ; {[c]} is not a valid cursor value."),null):CheckElement(r,n):null}}]),$R.part("Objects",["@extend","@inject","$DrawerHelper",function TextLineClass(t,e,n){function getWidth(){if(s){r=0;for(var t=0;t<o.length;t++)r+=o[t].width();return s=!1,r}return r}t(this,"$TextElementClass");var r=0,o=[],i=e("$TextSpaceClass"),a=0,s=!1;this.width=function(){return n.measureText(getWidth)},this.length=function(){return a},this.words=function(t){if(t&&"object"==typeof t&&t.constructor==Array){for(var e=0;e<t.length;e++)o.push(t[e].size(this.size()).height(this.height()).style(this.style()).weight(this.weight()).color(this.color()).font(this.font()));a=o.length;for(var n=[],e=0;e<o.length;e++)n.push(o[e]);return this.propertyChanged("string",n),this}return s=!0,o},this.push=function(t){return o.length>0&&o.push(i),o.push(t.size(this.size()).height(this.height()).style(this.style()).weight(this.weight()).color(this.color()).font(this.font())),s=!0,this},this.string=function(){for(var t="",e=0;e<o.length;e++)t+=o[e].string();return t},this.onPropertyChange(function(t,e){"string"!==t&&i[t](e)})}]),$R.part("Objects",["@extend","$DrawerHelper",function TextSpaceClass(t,e){function getWidth(t){return t.font=r.extractFontString(),t.measureText(n).width}t(this,"$TextElementClass");var n=" ",r=this;this.string=function(){return n},this.width=function(t){return e.measureText(getWidth)}}]),$R.part("Objects",["$ColorHelper",function TextElementClass(t){function resolve(t,e){for(var n=0;n<s.length;n++)s[n].apply(u,[t,e])}var e="rgba(0,0,0,1)",n="sans-serif",r=400,o=14,i=14,a="normal",s=[],u=this;this.size=function(t){return"number"==typeof t?(t<0&&(t=0),o=t,resolve("size",o),this):o},this.height=function(t){return"number"==typeof t?(t<0&&(t=0),i=t,resolve("height",i),this):i},this.weight=function(t){return"number"==typeof t?(t<100&&(t=100),t>900&&(t=900),t%100!==0&&(t-=t%100),r=t,resolve("weight",r),this):r},this.font=function(t){return"string"==typeof t&&t.length>0?(n=t,resolve("font",n),this):n},this.color=function(n){return"string"==typeof n?(t.colorToArray(n)&&(e=n,resolve("color",e)),this):e},this.style=function(t){return"normal"===t||"italic"===t||"oblique"===t?(a=t,resolve("style",a),this):a},this.extractFontString=function(){return a+" "+o+'px "'+n+"-"+r+'"'},this.onPropertyChange=function(t){"function"==typeof t&&s.push(t)},this.propertyChanged=function(t,e){resolve(t,e)}}]),$R.part("Objects",["$ColorHelper","@extend","$DrawerHelper",function TextWordClass(t,e,n){function getWidth(t){return t.font=o.extractFontString(),t.measureText(r).width}e(this,"$TextElementClass");var r="",o=this;this.string=function(t){return"string"==typeof t?(r=t,this.propertyChanged("string",t),this):r},this.width=function(){return n.measureText(getWidth)},this.draw=function(t,e,n){return"number"!=typeof e&&(e=0),"number"!=typeof n&&(n=0),t.save(),t.fillStyle=this.color(),t.font=this.extractFontString(),t.fillText(r,e,n),t.restore(),this}}]),$R.ext(["@Canvas","@HTMLRoot","$$config","Debug","Container",function Canvas(t,e,n,r,o){function GetParentSize(){t.element().setAttribute("width",0),t.element().setAttribute("height",0);var n=window.getComputedStyle(e.element(),null);v=parseInt(n.getPropertyValue("height")),p=parseInt(n.getPropertyValue("width"))}function CompareOnResize(){if("%"==u||"%"==l){var e=!1;return GetParentSize(),"%"==u&&(t.element().setAttribute("width",Math.floor(p*(a/100))),e=!0),"%"==l&&(t.element().setAttribute("height",Math.floor(v*(s/100))),e=!0),"px"==u&&t.element().setAttribute("width",a),"px"==l&&t.element().setAttribute("height",s),e}return t.element().setAttribute("width",a),t.element().setAttribute("height",s),!1}function GetCanvasOffset(e){var n=e?"offsetLeft":"offsetTop",r=0,o=t.element();do isNaN(o[n])||(r+=o[n]);while(o=o.offsetParent);return r}function WindowResizeCallback(){if(CompareOnResize()){c[0]=GetCanvasOffset(0),c[1]=GetCanvasOffset(1);for(var t=0;t<i.length;t++)i[t](a,s);ResolveCanvasEventArray("canvasresize",[new RCanvasResizeEvent])}}function GetCanvasEventArray(t){return g[t]}function ResolveCanvasEventArray(e,n){if("object"!=typeof n||n.constructor!==Array)return void r.warn({e:e},"Canvas : unable to resolve event array [{e}]. Data is not an array!");
var o=GetCanvasEventArray(e);if(!o)return void r.warn({e:e},"Unable to resolve event [{e}] no such event!");for(var i=0;i<o.length;i++)o[i].apply(t.element(),n)}function GetMouseRelativePosition(t){return[t.pageX-c[0]-f[0],t.pageY-c[1]-f[1]]}function RCanvasMouse(t){this.page=[t.pageX,t.pageY],this.sceen=[t.pageX-f[0],t.pageY-f[1]],this.position=GetMouseRelativePosition(t)}function RCanvasMouseEvent(e){this.original=e,this.type=e.type,this.mouse=new RCanvasMouse(e),this.canvas=t.element()}function RCanvasResizeEvent(){this.type="canvasresize",this.canvas=t.element(),this.offset=[c[0],c[1]],this.size=[a,s],this.original=[a,s],this.units=[u,l],"%"==u&&(this.size[0]=p*(a/100)),"%"==l&&(this.size[1]=v*(s/100))}var i=[],a=0,s=0,u="px",l="px",c=[0,0],f=[0,0];if(n){var h=[n.width?n.width:1e3,n.height?n.height:800];"number"==typeof h[0]?a=h[0]:"string"==typeof h[0]?h[0].match(/^[\d]+%$/)?(a=parseInt(h[0]),u="%"):(a=1e3,u="px",r.warn({width:h[0]},"{width} is not a valid value for canvas.size[0]. Width set as 1000px")):(a=1e3,r.warn({width:h[0]},"{width} is not a valid value for canvas.size[0]. Width set as 1000px")),"number"==typeof h[1]?s=h[1]:"string"==typeof h[1]&&h[1].match(/^[\d]+%$/)?(s=parseInt(h[1]),l="%"):(s=800,r.warn({height:h[1]},"{height} is not a valid value for canvas.size[1]. Width set as 800px"))}var p=0,v=0;this.resize=function(t){"function"==typeof t&&i.push(t)},this.width=function(){return"%"==u?p*(a/100):a},this.height=function(){return"%"==u?v*(s/100):s};var g={mousemove:[],mousedown:[],mouseup:[],mouseleave:[],mouseenter:[],canvasresize:[]};this.on=function(t,e){var n=GetCanvasEventArray(t);return n?("function"!=typeof e&&r.warn({f:t},"Canvas : Unable to set event handler [{f}]"),void n.push(e)):void r.warn({e:t},"Canvas : Unable to set event handler for event [{e}]")},t.element().addEventListener("mousemove",function(t){ResolveCanvasEventArray("mousemove",[new RCanvasMouseEvent(t)])}),t.element().addEventListener("mousedown",function(t){ResolveCanvasEventArray("mousedown",[new RCanvasMouseEvent(t)])}),t.element().addEventListener("mouseup",function(t){ResolveCanvasEventArray("mouseup",[new RCanvasMouseEvent(t)])}),t.element().addEventListener("mouseleave",function(t){ResolveCanvasEventArray("mouseleave",[new RCanvasMouseEvent(t)])}),t.element().addEventListener("mouseenter",function(t){ResolveCanvasEventArray("mouseenter",[new RCanvasMouseEvent(t)])}),window.addEventListener("scroll",function(){f[1]=window.pageXOffset||document.documentElement.scrollLeft,f[0]=window.pageYOffset||document.documentElement.scrollTop}),window.addEventListener("resize",WindowResizeCallback),o.on("hide",WindowResizeCallback),o.on("show",WindowResizeCallback),WindowResizeCallback()}]),$R.ext(["@HTMLRoot","$$config","Debug",function Container(t,e,n){function resolve(t){if(u[t])for(var e=0;e<u[t].length;e++)u[t][e].call(c)}function hide(){style({display:!1}),f=null}function style(e){e.display&&(e.display===!0&&t.show(),e.display===!1&&t.hide()),(e.blur||void 0!==e.opacity)&&setTimeout(function(){void 0!==e.blur&&(r.style.filter="blur("+e.blur+"px)"),void 0!==e.opacity&&(r.style.opacity=e.opacity)},1)}var r=t.element(),o=!1,i=!1,a=1e3,s="ease",u={show:[],hide:[],blurout:[],blurin:[]},l=e.z&&"number"==typeof e.z&&e.z>0?e.z:0,c=this,f=null;r.style.transition="opacity "+a+"s "+s+",filter "+a+"s",r.style.zIndex=l,style({display:"none",blur:0,opacity:0}),this.on=function(t,e){"string"==typeof t&&t.length>0?"object"==typeof u[t]&&u[t].constructor===Array?"function"==typeof e?u[t].push(e):n.warn({event:t},"Unable to set callback for [{event}]. Func is not a function"):n.warn({event:t},"Unable to set callback for event [{event}]. No such event"):n.warn("Unable to set event. Event identifier is not a string or empty")},this.show=function(){this.visible()||(f&&clearTimeout(f),style({display:!0,opacity:1}),o=!0,resolve("show"))},this.hide=function(){this.visible()&&(f&&clearTimeout(f),style({display:!0,opacity:0}),f=setTimeout(hide,1e3*a),o=!1,resolve("hide"))},this.blur=function(){this.blurred()||(style({blur:5}),i=!0)},this.focus=function(){this.blurred()&&(style({blur:0}),i=!1)},this.visible=function(){return o},this.blurred=function(){return i},this.background=function(t){"string"==typeof t&&t.length&&(r.style.background=t)}}]),$R.ext(["$$config",function Debug(t){function ResolveEvent(t,e){var n=null;"error"==t&&(n=o),"message"==t&&(n=i);for(var r=0;r<n.length;r++)n[r](e)}function GetMessage(t,o){o=o.toString();var i=o.match(n),a={};if(i)for(var s=0;s<i.length;s++){var u=i[s].match(r)[0];u&&(a[u]={replace:i[s],data:t[u].toString()})}for(var l in a)a.hasOwnProperty(l)&&(o=o.replace(a[l].replace,a[l].data));return o=e+o}var e="$R [Debug] : ",n=/{[a-zA-Z]+}/g,r=/[a-zA-Z]+/g;warnings=void 0==t.warnings||!!t.warnings;var o=[],i=[];this.on=function(t,e){"function"==typeof e&&("error"==t&&o.push(e),"message"==t&&i.push(e))},this.error=function(t,e){throw"string"==typeof t&&(e=t,t={}),e=GetMessage(t,e),ResolveEvent("error",e),new Error(e)},this.warn=function(t,e){warnings&&("string"==typeof t&&(e=t,t={}),e=GetMessage(t,e),ResolveEvent("message",e),console.warn(e))}}]),$R.ext(["Debug",function Easings(t){var e={_:function(t,e,n,r){return n*(t/=r)*t*t+e},linear:function(t,e,n,r){return t/=r,e+n*t},linearSoft:function(t,e,n,r){var o=(t/=r)*t,i=o*t;return e+n*(4*i*o+-10*o*o+8*i+-2*o+t)},linearSoftOut:function(t,e,n,r){var o=(t/=r)*t,i=o*t;return e+n*(-3*i*o+11*o*o+-14*i+6*o+t)},linearSoftIn:function(t,e,n,r){var o=(t/=r)*t,i=o*t;return e+n*(-1*i*o+2*i)},easeInQuad:function(t,e,n,r){n*(t/=r)*t+e;return n*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){return n*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){return n*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){return-n*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){return 0==t?e:n*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){return t==r?e+n:n*(-Math.pow(2,-10*t/r)+1)+e},easeInOutExpo:function(t,e,n,r){return 0==t?e:t==r?e+n:(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,n,r){return-n*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){return n*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInBack:function(t,e,n,r,o){return void 0==o&&(o=1.70158),n*(t/=r)*t*((o+1)*t-o)+e},easeOutBack:function(t,e,n,r,o){return void 0==o&&(o=1.70158),n*((t=t/r-1)*t*((o+1)*t+o)+1)+e},easeInOutBack:function(t,e,n,r,o){return void 0==o&&(o=1.70158),(t/=r/2)<1?n/2*(t*t*(((o*=1.525)+1)*t-o))+e:n/2*((t-=2)*t*(((o*=1.525)+1)*t+o)+2)+e},easeOutBounce:function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e}};this.get=function(n){return e[n]?e[n]:(t.error({name:n},"Easings / Unable to get undefined easing [{name}]. Linear easing function provided."),e.linear)}}]),$R.ext(["@app","@Canvas","@inject","Debug",function Keyboard(t,e,n,r){function OnAppTick(){for(var t=0;t<u.length;t++)u[t]();u=[]}function getQueueFunc(t){return function(){var e=t.keyCode;if(o[e]&&o[e][t.type])for(var r=0;r<o[e][t.type].length;r++){var i=n("$KeyboardEvent").build(t);o[e][t.type][r].apply(i,[e,t.type])}}}var o={},i=!1,a=!0,s=!0,u=[];this.keydown=function(t,e){return this.on(t,"keydown",e)},this.keyup=function(t,e){return this.on(t,"keyup",e)},this.disable=function(){return a=!1,this},this.enable=function(){return a=!0,this},this.on=function(t,e,n){return"number"==typeof t&&"string"==typeof e?"keyup"===e||"keydown"===e?"function"==typeof n?(o[t]||(o[t]={}),o[e]||(o[t][e]=[]),o[t][e].push(n)):r.warn("Event callback is not a function"):r.warn({e:e},"No such type of event as [{e}]"):r.warn({c:t},"Wrong key code [{c}]"),this};var l=!1;e.element().addEventListener("mousedown",function(){l=!0}),window.addEventListener("mousedown",function(){s=!!l,l=!1}),window.addEventListener("keydown",function(t){i&&a&&s&&u.push(getQueueFunc(t))}),window.addEventListener("keyup",function(t){i&&a&&s&&u.push(getQueueFunc(t))}),t.$on("start",function(){i=!0}),t.$on("stop",function(){i=!1}),t.$("tick",OnAppTick)}]),$R.part("Keyboard",[function KeyboardEvent(){var t=null,e=!1,n=!1,r=!1,o=!1,i=null;this.build=function(a){return t=a.keyCode,e=a.ctrlKey,n=a.altKey,r=a.shiftKey,o=a,i=a.type,delete this.build,this},this.type=function(t){return"string"==typeof t?i===t:i},this.code=function(){return t},this.shift=function(){return r},this.alt=function(){return n},this.ctrl=function(){return e},this.original=function(){return o}}]),$R.ext(["@inject","Easings","@app","Debug",function Morphine(t,e,n,r){var o=[];this.create=function(n,i,a,s,u,l){if("number"!=typeof n||"number"!=typeof i)return void r.error({},"Morphine / Unable to create. Start value is wrong!");if("function"!=typeof a)return void r.error({},"Morphine / Unable to create. End value is wrong!");if("string"!=typeof s)return void r.error({},"Morphine / Unable to create. Easing is not a string!");("number"!=typeof u||u<=0)&&r.error({},"Morphine / Unable to create. Duration is less than 0 or not a number");var c=e.get(s);c||r.error({easing:s}," Morphine / Unable to create. No such easing {easing}");var f=t("$Morphine"),h=f.config(n,i,a,u,c,l);return h&&"function"==typeof h?(h.$m=f,o.push(h),f):void r.error({},"Morphine / Unable to config morphine. Due to some error.")},n.$("tick",function(t){for(var t=t.getTime(),e=[],n=0;n<o.length;n++)o[n].$m.done()||(o[n](t),e.push(o[n]));o=e})}]),$R.part("Objects",["@extend","@inject",function Graphics(t,e){var n=null,r=["Cache","Style","Box","Animation","Matrix","Drawer","Layers","Tree","Mouse","Text"],o={};this.extension=function(t){return o[t]},this.type=function(){return n},this.defineType=function(i){if("string"==typeof i){delete this.defineType,n=i;for(var a=0;a<r.length;a++)o[r[a]]=e("$Extension"),o[r[a]].defineObject(this),t(o[r[a]],"$"+r[a]+"ObjectExtension"),o[r[a]].matchType(n)?o[r[a]].wrap(this):delete o[r[a]];t(this,"$"+i+"ObjectModel"),t(this,"$DefaultObjectDrawer"),t(this,"$"+i+"ObjectDrawer"),t(this,"$DefaultObjectType"),t(this,"$"+i+"ObjectClass")}}}]),$R.ext(["@inject","$Tree","@app",function Objects(t,e,n){function InjectByType(e){var n=t("$Graphics");return n.defineType(e),n}this.group=function(){return InjectByType("Group")},this.line=function(){return InjectByType("Line")},this.rect=function(){return InjectByType("Rectangle")},this.circle=function(){return InjectByType("Circle")},this.image=function(){return InjectByType("Image")},this.sprite=function(){return InjectByType("Sprite")},this.text=function(){return InjectByType("Text")},this.area=function(){return InjectByType("Area")},this.group()}]),$R.ext(["@app","@inject","Debug",function Resource(t,e,n){function GetResourceByURL(t,e){"font"===t&&(e=e[0]);var n=null,r=o[t+"s"];if(!r)return n;for(var i=0;i<r.length;i++)if(r[i].url()===e){n=r[i];break}return n}function InjectByType(t,n){var a=GetResourceByURL(t,n);if(a)return a;var s=t,u=e("$"+t.charAt(0).toUpperCase()+t.slice(1));return u.on("load",function(){i--,ResolveEvent("load",[this,i,r.length])}),u.on("error",function(){i--,ResolveEvent("error",[this,i,r.length])}),u.url(n),o[s+"s"].push(u),r.push(u),i++,ResolveEvent("add",[u,i,r.length]),u}function preloadRequest(t){if(t.images&&t.images.constructor==Array)for(var e=0;e<t.images.length;e++)"string"==typeof t.images[e]&&(/^([.\/_\da-zA-Z]+)(\[(\d+)\])$/.test(t.images[e])?a.sprite(t.images[e]):a.image(t.images[e]));if(t.audio&&t.constructor==Array)for(var e=0;e<t.audio.length;e++)"string"==typeof t.audio[e]&&a.audio(t.audio[e]);if(t.fonts&&t.fonts.constructor==Array)for(var e=0;e<t.fonts.length;e++)if(t.fonts[e]&&"object"==typeof t.fonts[e]&&"string"==typeof t.fonts[e].name&&t.fonts[e].name.length){var n=t.fonts[e].weight&&"number"==typeof t.fonts[e].weight?t.fonts[e].weight:400,r="italic"==t.fonts[e].style?t.fonts[e].style:"normal";a.font(t.fonts[e].name,n,r)}}function ResolveEvent(t,e){var n=u[t];if(n)for(var r=0;r<n.length;r++)n[r].apply(a,e)}var r=[],o={images:[],sprites:[],fonts:[],audios:[]},i=0,a=this,s=null;this.image=function(t){return InjectByType("image",t)},this.sprite=function(t){return InjectByType("sprite",t)},this.audio=function(t){return InjectByType("audio",t)},this.preload=function(t){preloadRequest(t)},this.preloadByUrl=function(t){s&&s.abort(),"string"==typeof t&&t.length>0&&(s=new XMLHttpRequest,s.addEventListener("load",function(){var e={};try{e=JSON.parse(response.responseText)}catch(r){n.error({url:t},"Unable to parse JSON from [{url}]. Unknown response format.")}preloadRequest(e)}),s.addEventListener("error",function(){n.error({url:t},"Unable to get resources from [{url}] to preload. Server error."),preloadRequest({})}),s.addEventListener("abort",function(){n.warn({url:t},"Unable to get resources from [{url}] to preload. Request aborted."),preloadRequest({})}),s.open("GET",t,!0),s.setRequestHeader("Content-Type","application/json"),s.send())},this.font=function(t,e,n){return InjectByType("font",[t,e,n])};var u={load:[],error:[],add:[]};this.on=function(t,e){if("string"==typeof t){var r=u[t];r?"function"==typeof e?r.push(e):n.warn({event:t},"Unable to set event [{event}] callback. func is not a function!"):n.warn({event:t},"Unable to set event [{event}]. No such event")}else n.warn("Unable to set event callback. Event name is not a string")},this.off=function(t,e){if("string"==typeof t){var r=u[t];if(r){if("function"==typeof e){var o=[];e.$$SEARCH=!0;for(var i=0;i<r.length;i++)r[i].$$SEARCH||o.push(r[i]);delete e.$$SEARCH,u[t]=o}}else n.warn({event:t},"Unable to unset callback for event [{event}]. No such event")}else n.warn("Unable to unset event. Event is not a string")},this.list=function(){return[].concat(o.images).concat(o.audios).concat(o.fonts).concat(o.sprites)},t.$("tick",function(t){t=t.getTime();for(var e=0;e<o.sprites.length;e++)o.sprites[e].ready()&&1==o.sprites[e].loaded()&&o.sprites[e].tick(t)})}]),$R.ext(["@audio","@inject","Debug",function Sound(t,e,n){var r=e("$Audio").build("$$DESTINATION","destination"),o={},i=0,a=0,s={$$DESTINATION:r};this.sample=function(t,r,a){if("string"==typeof t&&t.length>0){if(o[t])return o[t];"string"==typeof a&&0!=a.length||(a="UserSound["+i+"]"),i++;var s=e("$Audio").build(a,t);"string"==typeof r&&0!=r.length||(r="$$DESTINATION");var u=this.channel(r);return s.connect(u),o[s.url()]=s,s}n.warn({url:t},"[{url}] is not valid audio url or empty.")},this.channel=function(t){if("string"==typeof t&&t.length>0){if(s[t])return s[t];var n=e("$Audio").build(t);return n.connect(r),s[t]=n,a++,n}},this.channels=function(t){var e={},t=!!t;for(var n in s)s.hasOwnProperty(n)&&"$$DESTINATION"!==n&&(t?e[n.url()]=n[n]:e[n]=s[n]);return e},this.sounds=function(t){var e={},t=!!t;for(var n in o)o.hasOwnProperty(n)&&(t?e[n]=o[n]:e[o[n].name()]=o[n]);return e},this.destination=function(){return s.$$DESTINATION}}]),$R.ext(["@inject",function State(t){function ParseAddress(t){var e=t.match(/^([a-zA-Z]+).([a-zA-Z]+)$/),n=e[0],r=e[1];if(n&&r)return{state:n,prop:r}}var e={};this.watch=function(n,r){"function"==typeof r&&(n=ParseAddress(n),n&&(e[n.state]||(e[n.state]=t("$State")),e[n.prop].when(n.prop,r)))},this.define=function(n,r){n=ParseAddress(n),n&&(e[n.state]||(e[n.state]=t("$State")),e[n.state].define(n.prop,r))}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlZmxlY3QuanMiLCJSZWZsZWN0Q29uZmlnLmpzIiwibW9kdWxlcy9BcHBsaWNhdGlvbkF1ZGlvQ29udGV4dFByb3ZpZGVyLmpzIiwibW9kdWxlcy9BcHBsaWNhdGlvbkNhbnZhc1Byb3ZpZGVyLmpzIiwibW9kdWxlcy9BcHBsaWNhdGlvbkNvbmZpZ1Byb3ZpZGVyLmpzIiwibW9kdWxlcy9BcHBsaWNhdGlvbkhUTUxSb290UHJvdmlkZXIuanMiLCJtb2R1bGVzL0FwcGxpY2F0aW9uUHJvdmlkZXIuanMiLCJtb2R1bGVzL0FwcGxpY2F0aW9uVGlja2VyUHJvdmlkZXIuanMiLCJtb2R1bGVzL0V4dGVuc2lvbnNQcm92aWRlci5qcyIsIm1vZHVsZXMvRm9udEZhbWlseU1hbmFnZXIuanMiLCJtb2R1bGVzL0luamVjdGlvbkNvbnRhaW5lclByb3ZpZGVyLmpzIiwibW9kdWxlcy9JbmplY3Rvci5qcyIsIk1vcnBoaW5lL3BhcnRzL01vcnBoaW5lLmpzIiwiT2JqZWN0cy9jbGFzc2VzL1RyZWUuanMiLCJPYmplY3RzL3BhcnRzL0NhbnZhcy5qcyIsIk9iamVjdHMvcGFydHMvQ29sb3JIZWxwZXIuanMiLCJPYmplY3RzL3BhcnRzL0RyYXdlckhlbHBlci5qcyIsIk9iamVjdHMvcGFydHMvRXh0ZW5zaW9uLmpzIiwiT2JqZWN0cy9wYXJ0cy9HcmFwaGljc0Fzc2VtYmxlci5qcyIsIk9iamVjdHMvcGFydHMvR3JhcGhpY3NBc3NlbWJsZXJMYXllci5qcyIsIk9iamVjdHMvcGFydHMvTWF0cml4SGVscGVyLmpzIiwiT2JqZWN0cy9wYXJ0cy9Nb2RlbEhlbHBlci5qcyIsIk9iamVjdHMvcGFydHMvTW91c2VIZWxwZXIuanMiLCJPYmplY3RzL3BhcnRzL1BhdGhIZWxwZXIuanMiLCJPYmplY3RzL3R5cGVzL0FyZWEuanMiLCJPYmplY3RzL3R5cGVzL0NpcmNsZS5qcyIsIk9iamVjdHMvdHlwZXMvRGVmYXVsdC5qcyIsIk9iamVjdHMvdHlwZXMvR3JvdXAuanMiLCJPYmplY3RzL3R5cGVzL0ltYWdlLmpzIiwiT2JqZWN0cy90eXBlcy9MaW5lLmpzIiwiT2JqZWN0cy90eXBlcy9SZWN0YW5nbGUuanMiLCJPYmplY3RzL3R5cGVzL1Nwcml0ZS5qcyIsIk9iamVjdHMvdHlwZXMvVGV4dC5qcyIsIlJlc291cmNlL2NsYXNzZXMvQXVkaW9DbGFzcy5qcyIsIlJlc291cmNlL2NsYXNzZXMvRm9udENsYXNzLmpzIiwiUmVzb3VyY2UvY2xhc3Nlcy9JbWFnZUNsYXNzLmpzIiwiUmVzb3VyY2UvY2xhc3Nlcy9SZXNvdXJjZUNsYXNzLmpzIiwiUmVzb3VyY2UvY2xhc3Nlcy9TcHJpdGVDbGFzcy5qcyIsIlNvdW5kL2FuaW1hdGlvbi9BbmltYXRpb25Qcm92aWRlci5qcyIsIlNvdW5kL2NsYXNzZXMvQXVkaW8uanMiLCJTb3VuZC9jbGFzc2VzL1VzZXJBdWRpb01peGVyLmpzIiwiU291bmQvY2xhc3Nlcy9Vc2VyQXVkaW9Tb3VyY2UuanMiLCJTb3VuZC9maWx0ZXJzL0RlbGF5Tm9kZS5qcyIsIlNvdW5kL2ZpbHRlcnMvRGVzdGluYXRpb25Ob2RlLmpzIiwiU291bmQvZmlsdGVycy9HYWluTm9kZS5qcyIsIlNvdW5kL2ZpbHRlcnMvTG93cGFzc05vZGUuanMiLCJTb3VuZC9wYXJ0cy9BdWRpb05vZGUuanMiLCJTb3VuZC9wYXJ0cy9BdWRpb05vZGVTb3VuZHNEaXNwYXRjaGVyLmpzIiwiU291bmQvcGFydHMvQXVkaW9Tb3VyY2UuanMiLCJTb3VuZC9wYXJ0cy9FdmVudC5qcyIsIlNvdW5kL3BhcnRzL0V2ZW50UHJvdmlkZXIuanMiLCJTdGF0ZS9wYXJ0cy9Qcm9wZXJ0eS5qcyIsIlN0YXRlL3BhcnRzL1N0YXRlLmpzIiwiT2JqZWN0cy9leHRlbnNpb25zL0FuaW1hdGlvbi9BbmltYXRpb24uanMiLCJPYmplY3RzL2V4dGVuc2lvbnMvQm94L0JveC5qcyIsIk9iamVjdHMvZXh0ZW5zaW9ucy9DYWNoZS9DYWNoZS5qcyIsIk9iamVjdHMvZXh0ZW5zaW9ucy9EcmF3ZXIvRHJhd2VyLmpzIiwiT2JqZWN0cy9leHRlbnNpb25zL0xheWVycy9MYXllcnMuanMiLCJPYmplY3RzL2V4dGVuc2lvbnMvTWF0cml4L01hdHJpeC5qcyIsIk9iamVjdHMvZXh0ZW5zaW9ucy9Nb3VzZS9Nb3VzZS5qcyIsIk9iamVjdHMvZXh0ZW5zaW9ucy9PZmZzZXQvT2Zmc2V0LmpzIiwiT2JqZWN0cy9leHRlbnNpb25zL1N0eWxlL1N0eWxlLmpzIiwiT2JqZWN0cy9leHRlbnNpb25zL1RleHQvVGV4dC5qcyIsIk9iamVjdHMvZXh0ZW5zaW9ucy9UcmVlL1RyZWUuanMiLCJPYmplY3RzL3R5cGVzL2RyYXdlcnMvQXJlYS5qcyIsIk9iamVjdHMvdHlwZXMvZHJhd2Vycy9DaXJjbGUuanMiLCJPYmplY3RzL3R5cGVzL2RyYXdlcnMvRGVmYXVsdC5qcyIsIk9iamVjdHMvdHlwZXMvZHJhd2Vycy9Hcm91cC5qcyIsIk9iamVjdHMvdHlwZXMvZHJhd2Vycy9JbWFnZS5qcyIsIk9iamVjdHMvdHlwZXMvZHJhd2Vycy9MaW5lLmpzIiwiT2JqZWN0cy90eXBlcy9kcmF3ZXJzL1JlY3RhbmdsZS5qcyIsIk9iamVjdHMvdHlwZXMvZHJhd2Vycy9TcHJpdGUuanMiLCJPYmplY3RzL3R5cGVzL2RyYXdlcnMvVGV4dC5qcyIsIk9iamVjdHMvdHlwZXMvbW9kZWxzL0FyZWEuanMiLCJPYmplY3RzL3R5cGVzL21vZGVscy9DaXJjbGUuanMiLCJPYmplY3RzL3R5cGVzL21vZGVscy9EZWZhdWx0LmpzIiwiT2JqZWN0cy90eXBlcy9tb2RlbHMvRGVmYXVsdEZyZWVTdHJva2VNb2RlbC5qcyIsIk9iamVjdHMvdHlwZXMvbW9kZWxzL0dsb2JhbEJhY2tncm91bmRNb2RlbC5qcyIsIk9iamVjdHMvdHlwZXMvbW9kZWxzL0dsb2JhbFNpemVNb2RlbC5qcyIsIk9iamVjdHMvdHlwZXMvbW9kZWxzL0dyb3VwLmpzIiwiT2JqZWN0cy90eXBlcy9tb2RlbHMvSW1hZ2UuanMiLCJPYmplY3RzL3R5cGVzL21vZGVscy9MaW5lLmpzIiwiT2JqZWN0cy90eXBlcy9tb2RlbHMvUmVjYXRhbmdsZS5qcyIsIk9iamVjdHMvdHlwZXMvbW9kZWxzL1Nwcml0ZS5qcyIsIk9iamVjdHMvdHlwZXMvbW9kZWxzL1RleHQuanMiLCJTb3VuZC9hbmltYXRpb24vcGFydHMvQW5pbWF0aW9uLmpzIiwiU291bmQvYW5pbWF0aW9uL3BhcnRzL0FuaW1hdGlvbkhlbHBlci5qcyIsIlNvdW5kL2FuaW1hdGlvbi9wYXJ0cy9Nb3JwaC5qcyIsIk9iamVjdHMvZXh0ZW5zaW9ucy9BbmltYXRpb24vcGFydHMvQW5pbWF0aW9uLmpzIiwiT2JqZWN0cy9leHRlbnNpb25zL0FuaW1hdGlvbi9wYXJ0cy9BbmltYXRpb25IZWxwZXIuanMiLCJPYmplY3RzL2V4dGVuc2lvbnMvQW5pbWF0aW9uL3BhcnRzL01vcnBoLmpzIiwiT2JqZWN0cy9leHRlbnNpb25zL0JveC9wYXJ0L0dyYXBoaWNzQm94LmpzIiwiT2JqZWN0cy9leHRlbnNpb25zL01vdXNlL3BhcnRzL0V2ZW50RGlzcGF0Y2hlci5qcyIsIk9iamVjdHMvZXh0ZW5zaW9ucy9Nb3VzZS9wYXJ0cy9PYmplY3RGaW5kZXIuanMiLCJPYmplY3RzL2V4dGVuc2lvbnMvVGV4dC9DbGFzc2VzL0xpbmVDbGFzcy5qcyIsIk9iamVjdHMvZXh0ZW5zaW9ucy9UZXh0L0NsYXNzZXMvU3BhY2VDbGFzcy5qcyIsIk9iamVjdHMvZXh0ZW5zaW9ucy9UZXh0L0NsYXNzZXMvVGV4dEVsZW1lbnRDbGFzcy5qcyIsIk9iamVjdHMvZXh0ZW5zaW9ucy9UZXh0L0NsYXNzZXMvV29yZENsYXNzLmpzIiwiQ2FudmFzL0NhbnZhcy5qcyIsIkNvbnRhaW5lci9Db250YWluZXIuanMiLCJEZWJ1Zy9EZWJ1Zy5qcyIsIkVhc2luZ3MvRWFzaW5ncy5qcyIsIktleWJvYXJkL0tleWJvYXJkLmpzIiwiS2V5Ym9hcmQvS2V5Ym9hcmRFdmVudC5qcyIsIk1vcnBoaW5lL01vcnBoaW5lLmpzIiwiT2JqZWN0cy9HcmFwaGljcy5qcyIsIk9iamVjdHMvT2JqZWN0cy5qcyIsIlJlc291cmNlL1Jlc291cmNlLmpzIiwiU291bmQvU291bmQuanMiLCJTdGF0ZS9TdGF0ZS5qcyJdLCJuYW1lcyI6WyJSZWZsZWN0IiwiQ29yZUluamVjdGlvbiIsImRlcGVuZGVuY2llcyIsImNvbnN0cnVjdG9yIiwidGhpcyIsIm5hbWUiLCJpbnN0YW5jZSIsImJ1aWxkIiwiYXJncyIsImkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJwdXNoIiwidW5zaGlmdCIsIkZ1bmN0aW9uIiwicHJvdG90eXBlIiwiYmluZCIsImFwcGx5IiwicmVzb2x2ZWQiLCJFcnJvciIsImluamVjdGlvbnMiLCJjb25maWciLCJjcmVhdGVEZWZpbmVGdW5jdGlvbiIsInRhcmdldG5hbWUiLCJkZWZpbmUiLCJwcm9wZXJ0eSIsInZhbHVlIiwidW5kZWZpbmVkIiwicHJvcGVydGllcyIsIndyYXAiLCJyZWZsZWN0IiwicmVzdWx0IiwicmVzb2x2ZSIsImluamVjdGlvbiIsImFyZ25hbWUiLCJidWlsZENvcmUiLCJtb2R1bGUiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJjaGVjayIsInJlYWR5IiwiYnVpbGRDQiIsIiQiLCJBcnJheSIsIm1vZHVsZXMiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjYWxsIiwib24iLCJldmVudCIsImZ1bmMiLCJ3aW5kb3ciLCIkUiIsIkFwcGxpY2F0aW9uQXVkaW9Db250ZXh0UHJvdmlkZXIiLCJnZXRBcHBDb250ZXh0IiwiYXBwbmFtZSIsImNvbnRleHQiLCJBdWRpb0NvbnRleHQiLCJhdWRpbyIsImNvbnRleHRzIiwiZ2V0QXBwbGljYXRpb25BdWRpb0NvbnRleHQiLCJBcHBsaWNhdGlvbkNhbnZhc1Byb3ZpZGVyIiwiZ2V0Q2FudmFzQ29uc3RydWN0b3IiLCJDYW52YXMiLCJjYW52YXMiLCJjYW52YXNlcyIsImVsZW1lbnQiLCJnZXRDb250ZXh0IiwiY2FudmFzSW5qZWN0aW9uQ29uc3RydWN0b3IiLCJjcmVhdGVFbGVtZW50IiwiZ2V0QXBwbGljYXRpb25DYW52YXMiLCJhcHAiLCJBcHBsaWNhdGlvbkNvbmZpZ1Byb3ZpZGVyIiwiY3JlYXRlRXh0ZW5zaW9uQ29uZmlnIiwicHZhbHVlIiwiZ2V0QXBwQ29uZmlnIiwiY2ZnIiwiY29uZmlncyIsImRlZmF1bHRDb25maWciLCJnZXRFeHRlbnNpb25Db25maWciLCJleHRuYW1lIiwiQXBwbGljYXRpb25IVE1MUm9vdFByb3ZpZGVyIiwiZ2V0SFRtbFJvb3RDb25zdHJ1Y3RvciIsImxhc3RwYXJlbnQiLCJlbGVtZW50cyIsIiRjb25zdHJ1Y3RvciIsIkhUTUxSb290IiwiYXJnYXJyYXkiLCJhcnIiLCJjYiIsImYiLCJjaGVja0VsZW1lbnRSZXNpemUiLCJ3IiwiaCIsIndpZHRoIiwiaGVpZ2h0Iiwic2V0QXR0cmlidXRlIiwicmVzaXplIiwiaGlkZSIsInBhcmVudE5vZGUiLCJoaWRkZW5kaXYiLCJhcHBlbmRDaGlsZCIsInNob3ciLCJvZmZzZXRXaWR0aCIsIm9mZnNldEhlaWdodCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiSFRNTFJvb3RDb25zdHJ1Y3RvciIsIkFwcGxpY2F0aW9uUHJvdmlkZXIiLCJJbmplY3RvciIsIlByb3ZpZGVyIiwiQ2FudmFzUHJvdmlkZXIiLCJIVE1MUm9vdFByb3ZpZGVyIiwiVGlja2VyUHJvdmlkZXIiLCJBcHBDb25maWdQcm92aWRlciIsIkF1ZGlvUHJvdmlkZXIiLCJnZXRBcHBTb3VyY2VzIiwiY29udGFpbmVyIiwiZ2V0UkFwcCIsInNvdXJjZSIsIlJlZmxlY3RBcHBsaWNhdGlvbiIsInBhc3NBcmdzIiwic2VsZiIsInRpY2tlciIsImNyZWF0ZVRpY2tlciIsIm1ldGhvZHMiLCJzdGFydCIsInRhcmdldCIsInN0b3AiLCJmcHMiLCJ0aWNrIiwiZXJyb3IiLCIkb24iLCIkZGVmaW5lIiwiY2hhckF0IiwicmVmbGVjdEFwcHMiLCJhcHBzIiwiYXV0b3J1biIsImNsYXNzZXMiLCJkZXBlbmRhbmNpZXMiLCJjZnVuYyIsInByZXNlbnQiLCJhIiwiZXh0ZW5zaW9ucyIsInNvdXJjZXMiLCJleHRzQXJyYXkiLCJleHRlbnNpb24iLCJjZmdDb25zdHJ1Y3RvciIsImNmZ1NvdXJjZSIsImV4dHNTb3VyY2UiLCJfZXh0IiwiZXh0ZW5zaW9ucGFydHMiLCJmaW5kU291cmNlQnlQcmVmaXgiLCJjb250YWluZXJzIiwiY2xhc3NDb250YWluZXIiLCJ2YWxpZCIsInJ1bmFwcHMiLCJhcHBsaWNhdGlvbiIsIkFwcGxpY2F0aW9uVGlja2VyUHJvdmlkZXIiLCJUaWNrZXIiLCJfY2FsbF9hcmdzIiwiZXZlbnRDYiIsInRpY2t0aW1lIiwidG9GaXhlZCIsImNhbGxiYWNrcyIsImZyYW1lIiwidGlja2Z1bmN0aW9uIiwiRGF0ZSIsIm9yZGVyaW5nIiwiZSIsImNsZWFySW50ZXJ2YWwiLCJpbnRlcnZhbCIsImNvbnNvbGUiLCJzZXRJbnRlcnZhbCIsIm51bWJlciIsImNhbGxiYWNrIiwiYiIsInRpY2tlcnMiLCJFeHRlbnNpb25zUHJvdmlkZXIiLCJwcm92aWRlciIsImNyZWF0ZUV4dGVuc2lvbkNvbnRhaW5lciIsImNyZWF0ZVBhcnRDb250YWluZXIiLCJwYXJ0cyIsImV4dCIsImNsb25lIiwiRm9udEZhbWlseU1hbmFnZXIiLCJmb250U3RyaW5nIiwiZm9udCIsInJvb3QiLCJ3ZWlnaHQiLCJzIiwic3R5bGUiLCJmaWxlc3RyaW5nIiwic3RyaW5nIiwiZm9ybWF0IiwiZm9ybWF0U3RyIiwidXBkYXRlIiwicGF0aCIsImZhbWlseSIsImZhbWlsaWVzIiwiaW5uZXJIVE1MIiwiaW5BcnJheSIsImFycmF5IiwiZW90IiwidXJsIiwid29mZiIsInR0ZiIsInN2ZyIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJJbmplY3Rpb25Db250YWluZXJQcm92aWRlciIsIkluamVjdGlvbiIsImNvbiIsImV4dGVuZCIsImluamVjdGlvbk5hbWUiLCJmaW5kU291cmNlQnlJbmplY3Rpb25OYW1lIiwicmVzb2x2ZUluamVjdGlvbkRlcGVuZGFuY2llcyIsImluamVjdCIsInJlc29sdmVEaXJlY3RJbmplY3Rpb24iLCJjcmVhdGUiLCJkaXJlY3QiLCJTb3VyY2VDb250YWluZXIiLCJwcmVmaXgiLCJsb29wIiwic3RyaXBQcmVmaXgiLCJwZngiLCJJbmplY3Rpb25Db250YWluZXIiLCJoYXMiLCJzdHJpcE5hbWUiLCJzdHIiLCJsaWIiLCJsaWJyYXJ5IiwibGlzdCIsInByZWZpeGtleSIsIiQkTE9PUCIsIiRMT09QIiwiJCRMT09PUCIsIm5ld0xpYnJhcnkiLCJuZXdDb250YWluZXIiLCJzb3VyY2Vsb29wIiwic291cmNlcHJlZml4IiwibmV3Y29udGFpbmVycyIsIiQkbm9wcmVmaXgiLCJkIiwic3JjIiwiZ2V0IiwiY29uc3R1Y3RvciIsImFwcGxpY2F0aW9ucyIsInBhcnQiLCJNb3JwaGluZSIsIlRpY2siLCJ0aW1lIiwiZG9uZSIsInBhc3VlZCIsInN0YXJ0X3RpbWUiLCJnZXRUaW1lIiwiZHVyYXRpb24iLCJwcm9ncmVzcyIsInJlcGVhdCIsInJlcGVhdENvdW50IiwiSW5maW5pdHkiLCJlYXNpbmciLCJlbmQiLCJwYXVzZSIsInBhdXNlZCIsImR1ciIsImVhc2UiLCJycHQiLCJUcmVlIiwiRGVidWciLCJyb290RHJhd2VyIiwicm9vdFN0eWxlIiwib2JqZWN0IiwidHlwZSIsImRyYXdlciIsImRyYXciLCJkYXRlIiwiY2xlYXIiLCJjbGVhclJlY3QiLCJDb2xvckhlbHBlciIsIk5vcm1hbGl6ZUNvbG9yQXJyYXkiLCJwYXJzZUludCIsIk1hdGgiLCJhYnMiLCJQYXJzZUNvbG91ciIsImNvbG9yIiwiY2FjaGUiLCJwIiwicmVwbGFjZSIsImV4ZWMiLCJpc05hTiIsImNvbG9yVG9BcnJheSIsIm5vcm1hbGl6ZSIsImlzQ29sb3IiLCJ3YXJuIiwiYXJyYXlUb0NvbG9yIiwiRHJhd2VySGVscGVyIiwidGV4dERyYXdlckNvbnRleHQiLCJtZWFzdXJlVGV4dCIsInNhdmUiLCJyZXN0b3JlIiwidHJhbnNmb3JtIiwibWF0cml4IiwiZXh0cmFjdCIsImRyYXdMaW5lQmdDbGlwUGF0aCIsImFzc2VtYmxlciIsInNwcml0ZSIsImJnIiwiYmdzaXplIiwiYmdwb3NpdGlvbiIsImJlZ2luUGF0aCIsIm1vdmVUbyIsIngxIiwieTEiLCJ4MiIsInkyIiwibGluZVRvIiwiY2xvc2VQYXRoIiwiY2xpcCIsImxvYWRlZCIsImJnd2lkdGgiLCJib3giLCJzaXplIiwiYmdoZWlnaHQiLCJiZ3Bvc2l0aW9ueCIsImJncG9zaXRpb255IiwidHJhbnNsYXRlIiwibWFyZ2luIiwiZHJhd0ltYWdlIiwiZHJhd0JlemllckJnQ2xpcFBhdGgiLCJheDEiLCJheTEiLCJheDIiLCJheTIiLCJiZXppZXJDdXJ2ZVRvIiwiZHJhd0xpbmVQYXRoRmlsbCIsImZpbGwiLCJjYXAiLCJsaW5lQ2FwIiwibG9nIiwiZmlsbFN0eWxlIiwiZHJhd0JlemllclBhdGhGaWxsIiwiZHJhd0xpbmVQYXRoIiwic3Ryb2tlQ29sb3IiLCJzdHJva2VXaWR0aCIsInN0cm9rZVN0eWxlIiwic3Ryb2tlQ2FwIiwibGluZVdpZHRoIiwic2V0TGluZURhc2giLCJzdHJva2UiLCJkcmF3QmV6aWVyUGF0aCIsImRyYXdSZWN0RmlsbCIsIngiLCJ5IiwicmVjdCIsImRyYXdSZWN0U3Ryb2tlIiwiX3giLCJfeSIsIkV4dGVuc2lvbiIsImFwcGxpZXMiLCJkZWZpbmVPYmplY3QiLCJvIiwibWF0Y2hUeXBlIiwiYXBwbHlUbyIsInR5cGVzIiwicmVnaXN0ZXIiLCJ0ZW1wIiwiaGFzUHJvcGVydHkiLCJHcmFwaGljc0Fzc2VtYmxlciIsIlNldFNpemUiLCJwaXBlIiwib3V0cHV0IiwiY29tcG9zZSIsImN0eCIsInJlc2l6ZWQiLCJib3hFeHQiLCJsYXllcnMiLCJsYXllciIsIm9yZGVyIiwidXBkYXRlRnVuYyIsIm4iLCJzb3J0IiwiYm94UHJvdmlkZXIiLCJHcmFwaGljc0Fzc2VtYmxlckxheWVyIiwidXBkYXRlQ2FudmFzIiwiTWF0cml4SGVscGVyIiwiR3JhcHRoaWNzVHJhbnNmb3JtTWF0cml4IiwibXVsdGlwbHkiLCJtMSIsIm0yIiwiYTEiLCJhMiIsImEzIiwiYTQiLCJhNSIsImE2IiwiaW52ZXJ0IiwiaGlzdG9yeSIsInJvdGF0ZSIsInNpbkEiLCJzaW4iLCJjb3NBIiwiY29zIiwiaW52ZXJzaW9uIiwic2tldyIsInRhbiIsInNjYWxlIiwiaW52ZXJ0ZWQiLCJpbnZlcnRHbG9iYWwiLCJwYXJlbnQiLCJnbG9iYWxJbnZlcnNpb24iLCJnbG9iYWxJbnZlcnNpb25NYXRyaXgiLCJhbmdsZSIsIm0iLCJ0YW5BIiwidGFuQiIsImdsb2JhbEN1cnNvclByb2plY3Rpb24iLCJjdXJzb3IiLCJjdXJzb3JQcm9qZWN0aW9uIiwib2JqZWN0TWF0cml4IiwiYm94Q29udGFpbmVyIiwicG9zaXRpb24iLCJvcmlnaW4iLCJfdHJhbnNsYXRlIiwiX29yaWdpbiIsIk1vZGVsSGVscGVyIiwiY2xvbmVIYXNoIiwiaGFzaCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImNsb25lQXJyYXkiLCJ0ZXh0IiwidG9TdHJpbmciLCJldmFsIiwidmFsaWROdW1lcmljQXJyYXkiLCJibGVuZGluZ3MiLCJ2YWxpZEJsZW5kaW5nIiwic3ByaXRlX3JlZ2V4cCIsImlzU3ByaXRlU3RyaW5nIiwidGVzdCIsInJlYWRTcHJpdGVTdHJpbmciLCJtYXRjaCIsImZyYW1lcyIsIk1vdXNlSGVscGVyIiwiY2lyY2xlVXNlckNoZWNrRnVuY3Rpb24iLCJjb29yZHMiLCJyYWRpdXMiLCJjeCIsImN5IiwicG93Iiwic3F1YXJlVXNlckNoZWNrRnVuY3Rpb24iLCJjaXJjbGVDaGVja0Z1bmN0aW9uIiwiY2VudGVyIiwicmVjdENoZWNrRnVuY3Rpb24iLCJQYXRoSGVscGVyIiwiZ2V0Q29udHJvbFBvaW50cyIsIngwIiwieTAiLCJ0IiwiZDAxIiwic3FydCIsImQxMiIsImZhIiwiZmIiLCJwMXgiLCJwMXkiLCJwMngiLCJwMnkiLCJjb252ZXJ0Q29tcGxleFBhdGgiLCJjb252ZXJ0U2ltcGxlUGF0aCIsImludGVycG9sYXRlIiwic21vb3RoaW5nIiwiY2xvc2VkIiwicHJldiIsIm1pZCIsIm5leHQiLCJwdHMiLCJzMSIsInMyIiwiX3NlZ21lbnQiLCJjaGVja1NpbXBsZVBhdGgiLCJkZWVwY2hlY2siLCJjb21wYXJlUGF0aHMiLCJwYXRoMSIsInBhdGgyIiwiQXJlYU9iamVjdENsYXNzIiwiQ2lyY2xlT2JqZWN0Q2xhc3MiLCJtb3VzZUNoZWNrRnVuY3Rpb24iLCJEZWZhdWx0T2JqZWN0VHlwZSIsImFwcGVuZCIsIkdyb3VwT2JqZWN0Q2xhc3MiLCJJbWFnZU9iamVjdENsYXNzIiwiTGluZU9iamVjdENsYXNzIiwiUmVjdGFuZ2xlT2JqZWN0Q2xhc3MiLCJtb3VzZSIsImN1cnNvclRyYW5zZm9ybUZ1bmN0aW9uIiwicmVjdEN1cnNvclRyYW5zZm9ybUZ1bmN0aW9uIiwiU3ByaXRlT2JqZWN0Q2xhc3MiLCJUZXh0T2JqZWN0Q2xhc3MiLCJBdWRpbyIsImNyZWF0ZUF1ZGlvIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwicmVzcG9uc2VUeXBlIiwib25sb2FkIiwic3RhdGVGdW5jIiwicmVzcG9uc2UiLCJyZXNvbHZlRXZlbnRGdW5jIiwib25lcnJvciIsInNlbmQiLCJfdXJsIiwicmVzb2x2ZUZ1bmMiLCJzZXRTdGF0ZUZ1bmMiLCJGb250IiwiaHRtbCIsImdldEZvbnQiLCJjaGVja0ludGVydmFsIiwicmVwZWF0VW50aWxsRXJyb3IiLCJpbml0aWFsIiwiZm9udExvYWRlckVsZW1lbnQiLCJmb250RmFtaWx5IiwicmVtb3ZlQ2hpbGQiLCJzdGF0ZSIsImRpciIsImZvbnRGb3JtYXRzIiwiZm9udFNpemUiLCJsaW5lSGVpZ2h0IiwibGVmdCIsInRvcCIsImlubmVyVGV4dCIsInIiLCJmb250U3R5bGUiLCJJbWFnZSIsIkNyZWF0ZUltYWdlIiwiaW1hZ2UiLCJSZXNvdXJjZUNsYXNzIiwic2V0U3RhdHVzIiwidmFsIiwic3RhdHVzIiwiUmVzb2x2ZUV2ZW50IiwiZGF0YSIsImNiQ29udGFpbmVyIiwicmVzb2x2ZUZ1bmN0aW9uUGFzc2VkIiwibG9hZGluZyIsImluaXQiLCJsb2FkIiwiU3ByaXRlIiwiQ3JlYXRlQ2FudmFzQXJyYXkiLCJlbGVtcyIsImMiLCJTZXRDYW52YXNTaXplIiwiZnJhbWVIZWlnaHQiLCJyb3VuZCIsImZyYW1lV2lkdGgiLCJfY3R4Iiwic2V0U3RhdXNGdW5jIiwidSIsImV2ZW50RiIsInN0YXR1c0YiLCJzcHJpdGVXaWR0aCIsInNwcml0ZUhlaWdodCIsInBsYXkiLCJyb3dzIiwiY2VpbCIsImN1cnJlbnRYIiwiY3VycmVudFkiLCJfdGltZSIsImZsb29yIiwiQW5pbWF0aW9uUHJvdmlkZXIiLCJmaW5kQ29tcGV0aXRvciIsImFuaW1hdGlvbiIsIiQkU0VMRiIsImNvbXBldGl0b3IiLCJhbmltYXRpb25zIiwiYWN0aXZlIiwiQ2hlY2tBbmltYXRpb25RdWV1ZSIsIl9hbmltYXRpb25zIiwicHJvcHMiLCJxdWV1ZSIsImNvbXBldGl0b3JzIiwiQ3JlYXRlQW5pbWF0aW9uVHlwZTEiLCJwYWlyIiwibW9ycGhzIiwic3RhY2siLCJtb3JwaCIsIkNyZWF0ZUFuaW1hdGlvblR5cGUyIiwicGFpcnMiLCJhcmcyIiwiYXJnMyIsIm1vcnBoX3N0YWNrIiwiaXRlbSIsImFuaW1hdGVkIiwic2V0dGVyIiwiYXBwbGllciIsImV4dHJhY3RNb3JwaCIsImFuaW1hdGUiLCJhcmcxIiwiYXJnNCIsImV2ZW50QXJncyIsImNyZWF0ZUFuaW1hdGlvbk1vcnBoIiwiZmlsdGVyIiwibm9ybWFsaXplciIsInNldCIsImV2ZW50cyIsIm5vZGVuYW1lIiwidGVybWluYXRlIiwiY29ubmVjdCIsIiQkU09VUkNFIiwiZmlsdGVycyIsIm91dCIsImN0eXBlIiwib3V0c291cmNlIiwiVXNlckF1ZGlvTWl4ZXIiLCJhcmdGIiwiY2hhbm5lbCIsImZjZmciLCJub2RlIiwiZGVzdGluYXRpb24iLCIkJEFVRElPTk9ERSIsImlucHV0IiwiVXNlckF1ZGlvU291cmNlIiwiY2JBcmdzIiwiY29ubmVjdENiQXJncyIsIm1peGVyIiwiRGVsYXlOb2RlIiwidGltZUNGRyIsImZvcmNlQ0ZHIiwiZ2xvYmFsR2FpbiIsImNyZWF0ZUdhaW4iLCJkZWxheSIsImNyZWF0ZURlbGF5IiwiZmVlZGJhY2siLCJicSIsImNyZWF0ZUJpcXVhZEZpbHRlciIsImdhaW4iLCJmcmVxdWVuY3kiLCJkZWxheVRpbWUiLCJmb3JjZSIsIkRlc3RpbmF0aW9uTm9kZSIsIkdhaW5Ob2RlIiwidm9sdW1lIiwiTG93cGFzc05vZGUiLCJicWYiLCJBdWRpb05vZGUiLCJuZXh0Tm9kZSIsImJ1aWxkRiIsInNvdW5kIiwic291bmRzIiwiZGlzY29ubmVjdCIsIl9pbnBBcnJheSIsIl9pbnBBcnIiLCJpbnAiLCIkJFNFQVJDSCIsIm1vZGVsIiwiZGVmVmFsIiwiZ2V0dGVyIiwibm9ybWxpemVyIiwiQXVkaW9Ob2RlU291bmREaXNwYXRjaGVyIiwicmVjb25uZWN0IiwiQXVkaW9Tb3VyY2UiLCJSZXNvdXJjZSIsInJlc291cmNlIiwiYnVmZmVyIiwiZGVjb2RlQXVkaW9EYXRhIiwiY3JlYXRlQnVmZmVyU291cmNlIiwiRXZlbnQiLCJzdGF0ZXZhbCIsImFyZ0Z1bmN0IiwiZXZlbnROYW1lIiwiaXNTdGF0ZUV2ZW50IiwiRXZlbnRQcm92aWRlciIsIlByb3BlcnR5Iiwib25zZXQiLCJTdGF0ZSIsIkdldFByb3BlcnR5Q2FsbGJhY2siLCJ3YXRjaCIsImRlZiIsIkFuaW1hdGlvbk9iamVjdEV4dGVuc2lvbiIsIkJveE9iamVjdEV4dGVuc2lvbiIsIkJveFdyYXBwZXJGdW5jIiwicHVyZ2UiLCJDYWNoZU9iamVjdEV4dGVuc2lvbiIsInZhbHVlcyIsInJlbGV2YW50IiwiRHJhd2VyT2JqZWN0RXh0ZW5zaW9uIiwiYmVmb3JlIiwiYWZ0ZXIiLCJMYXllcnNPYmplY3RFeHRlbnNpb24iLCIwIiwicGFyZW50X2xheWVyX2V4dCIsInBsYWNlIiwiJCRMQVlFUlNFQVJDSFZBTFVFIiwic3BsaWNlIiwicmVtb3ZlIiwiZm9yRWFjaCIsIk1hdHJpeE9iamVjdEV4dGVuc2lvbiIsIk1hdHJpeFdyYXBwZXIiLCJNb3VzZU9iamVjdEV4dGVuc2lvbiIsIkRpc3BhdGNoZXIiLCJGaW5kZXIiLCJHZXRFdmVudEFycmF5IiwiZHJhZyIsImRyYWdzdGFydCIsImRyYWdlbmQiLCJtb3VzZW1vdmUiLCJtb3VzZXVwIiwibW91c2Vkb3duIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiLCJkaXNhYmxlZCIsIiRPRkYiLCIkJE9GRiIsIiQkTU9VU0VGVU5DU0VBUkNIIiwiaW5kZXgiLCJhcHBseUN1cnNvclRyYW5zZm9ybSIsImhhc0V2ZW50IiwicHJvcGFnYXRlIiwiZXZlbnRPYmoiLCJfZXZlbnRPYmoiLCJvcmlnaW5hbFRhcmdldCIsIiQkTU9VU0VQUk9QQUdBVElPTlNFVFRFUiIsIk9mZnNldE9iamVjdEV4dGVuc2lvbiIsIk9iamVjdE9mZnNldEZ1bmN0aW9uIiwicGFyZW50X29mZnNldCIsIm9mZnNldCIsIlN0eWxlT2JqZWN0RXh0ZW5zaW9uIiwiR2V0U2V0dGVyRnVuY3Rpb24iLCJvbGQiLCJHZXRHZXR0ZXJGdW5jdGlvbiIsIlN0eWxlVHlwZTEiLCJzZXR0ZXJzIiwiU3R5bGVUeXBlMiIsInNldHRlcnN0YWNrIiwiU3R5bGVUeXBlMyIsImdldHRlcnMiLCJUZXh0T2JqZWN0RXh0ZW5zaW9uIiwibGluZXMiLCJ3b3JkQnlXb3JkUmVnRXhwIiwibGltaXRzIiwid29yZHMiLCJsIiwiX3ciLCJmb3JjZWQiLCJwaWVjZXMiLCJmb250V2VpZ2h0IiwidXNlcm5ld2xpbmUiLCJ3b3JkIiwidGV4dEJsb2NrSGVpZ2h0IiwidGV4dEJsb2NrV2lkdGgiLCJmb3JFYWNoTGluZSIsIlRyZWVPYmplY3RFeHRlbnNpb24iLCJjaGVja1RyZWUiLCIkJFRSRUVTRUFSQ0hWQUxVRSIsInRyZWVWaW9sYXRpb24iLCJvYmplY3Rfb2xkX3BhcmVudCIsIm9iamVjdF90cmVlX2V4dCIsIm9sZF9vYmplY3RfcGFyZW50X2xheWVycyIsIm9iamVjdF9sYXllciIsImdyb3VwIiwiQXJlYU9iamVjdERyYXdlciIsIlVwZGF0ZUZpbGwiLCJ4c2hpZnQiLCJ5c2hpZnQiLCJpbnRlcnBvbGF0aW9uIiwiaW50ZXJwb2xhdGVkIiwiVXBkYXRlU3Ryb2tlIiwiVXBkYXRlQmciLCJzdHJva2VmaXgiLCJpbnRlcnBvbGF0aW9uZml4IiwiZml4IiwiYW5jaG9yIiwibWlueCIsIm1pbnkiLCJtYXh4IiwibWF4eSIsIkNpcmNsZU9iamVjdERyYXdlciIsImFyYyIsIlBJIiwiRGVmYXVsdE9iamVjdERyYXdlciIsIk1hdHJpeCIsIkdyb3VwT2JqZWN0RHJhd2VyIiwib2JveCIsImdsb2JhbEFscGhhIiwib2RyYXdlciIsIm9zdHlsZSIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsIkltYWdlT2JqZWN0RHJhd2VyIiwiTGluZU9iamVjdERyYXdlciIsIlVwZGF0ZUNhbnZhcyIsInJlcXVpcmVfdXBkYXRlIiwiUmVjdGFuZ2xlT2JqZWN0RHJhd2VyIiwiYm94RXh0ZW5zaW9uIiwiU3ByaXRlT2JqZWN0RHJhd2VyIiwiVGV4dE9iamVjdERyYXdlciIsIlVwZGF0ZVRleHRMYXllciIsImFsaWduIiwidG9wU3BhbiIsImV4dHJhY3RGb250U3RyaW5nIiwiZmlsbFRleHQiLCJnZXRGb250RmlsZSIsIl9zdHlsZSIsImZzdHlsZSIsImRyYXdUZXh0IiwiQXJlYU9iamVjdE1vZGVsIiwiU3luY1BhdGhQcm9wZXJ0eSIsIkNpcmNsZU9iamVjdE1vZGVsIiwidiIsInZhbGlkTnVtZXJpY1ZhbHVlIiwiRGVmYXVsdE9iamVjdE1vZGVsIiwicmFkIiwicmFkMSIsInJhZDIiLCJEZWZhdWx0RnJlZVN0cm9rZU1vZGVsIiwiR2xvYmFsQmFja2dyb3VuZE1vZGVsIiwiU3luY0JnUHJvcGVydHkiLCJkZWZCZ1Bvc3ZhbCIsIl9yZXMiLCJkZWZCZ1NpemVWYWwiLCJHbG9iYWxTaXplTW9kZWwiLCJHcm91cE9iamVjdE1vZGVsIiwiSW1hZ2VPYmplY3RNb2RlbCIsIkxpbmVPYmplY3RNb2RlbCIsIlJlY3RhbmdsZU9iamVjdE1vZGVsIiwiY3V1cmVudCIsImN1cnJlbnQiLCJTcHJpdGVPYmplY3RNb2RlbCIsIlRleHRPYmplY3RNb2RlbCIsIkFuaW1hdGlvbiIsIkFuaW1hdGlvbkhlbHBlciIsIlJlc29sdmUiLCJzdGVwVHlwZVN0ciIsInN0ZXBzQ2IiLCJjb21wbGV0ZVR5cGVTdHIiLCJyZXN1bHRzIiwibW9ycGhpbmUiLCJfc3RhY2siLCJ0aWNrX2Z1bmN0aW9uIiwiZ2V0VGlja0Z1bmN0aW9uIiwiY29tcGxldGUiLCJub3JtYWxpemVDb25maWciLCJzdGVwIiwiVGlja1ZhbCIsImxvY3MiLCJsb2NlIiwiZW5kdmFsIiwic3RhcnR2YWwiLCJkaWZmZXJlbmNlIiwiTW9ycGgiLCJTZXRTdGFydFZhbHVlIiwiU2V0RW5kVmFsdWUiLCJvYmoiLCJvcmQiLCJhcGwiLCJHcmFwaGljc0JveCIsInJpZ2h0IiwiYm90dG9tIiwiTW91c2VFdmVudERpc3BhdGNoZXIiLCJEZWZhdWx0UkV2ZW50IiwiX3R5cGUiLCJfdGFyZ2V0IiwiX29yaWdpbmFsVGFyZ2V0Iiwic3RvcFByb3BhZ2F0aW9uIiwicHJvcGFnYXRlZCIsIiQkUFJPUEFHQVRJT05TRUFSQ0giLCJnZXRFdmVudEJ5VHlwZSIsIiQkUkVTRVRUQVJHRVQiLCJNb3VzZUV2ZW50IiwiRHJhZ0V2ZW50IiwiZGVsdGEiLCJEaXNwYXRjaCIsInRhcmdldE1vdXNlIiwicmVzb2x2ZUV2ZW50QnlUeXBlIiwicHJldmlvdXMiLCJEaXNwYXRjaEV2ZW50cyIsIiQkTU9VU0VTRUFSQ0giLCJVcGRhdGVUYXJnZXRzIiwib25BcHBUaWNrIiwiY2hlY2tlZCIsImZvY3VzZWQiLCJNb3VzZU9iamVjdEZpbmRlciIsIkNoZWNrRWxlbWVudCIsIl9yZXN1bHQiLCJtb3VzZWV4dCIsIlRleHRMaW5lQ2xhc3MiLCJnZXRXaWR0aCIsIndpZHRoVXBkYXRlZCIsInNwYWNlIiwiX2FyciIsInByb3BlcnR5Q2hhbmdlZCIsIm9uUHJvcGVydHlDaGFuZ2UiLCJUZXh0U3BhY2VDbGFzcyIsIlRleHRFbGVtZW50Q2xhc3MiLCJUZXh0V29yZENsYXNzIiwiQ29udGFpbmVyIiwiR2V0UGFyZW50U2l6ZSIsImdldENvbXB1dGVkU3R5bGUiLCJwSCIsImdldFByb3BlcnR5VmFsdWUiLCJwVyIsIkNvbXBhcmVPblJlc2l6ZSIsInh1bml0cyIsInl1bml0cyIsImNoYW5nZSIsIkdldENhbnZhc09mZnNldCIsIm9mZnNldFByb3AiLCJvZmZzZXRQYXJlbnQiLCJXaW5kb3dSZXNpemVDYWxsYmFjayIsIlJlc29sdmVDYW52YXNFdmVudEFycmF5IiwiUkNhbnZhc1Jlc2l6ZUV2ZW50IiwiR2V0Q2FudmFzRXZlbnRBcnJheSIsImNhbnZhc0V2ZW50Q2FsbGJhY2tzIiwiR2V0TW91c2VSZWxhdGl2ZVBvc2l0aW9uIiwicGFnZVgiLCJzY3JvbGwiLCJwYWdlWSIsIlJDYW52YXNNb3VzZSIsInBhZ2UiLCJzY2VlbiIsIlJDYW52YXNNb3VzZUV2ZW50Iiwib3JpZ2luYWwiLCJ1bml0cyIsImNhbnZhc3Jlc2l6ZSIsInBhZ2VYT2Zmc2V0IiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsTGVmdCIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG9wIiwiZGlzcGxheSIsImRpc3BsYXlUbyIsImJsdXIiLCJvcGFjaXR5Iiwic2V0VGltZW91dCIsInZpc2libGUiLCJzcGVlZCIsImJsdXJvdXQiLCJibHVyaW4iLCJ6aW5kZXgiLCJ6IiwidHJhbnNpdGlvbiIsInpJbmRleCIsImNsZWFyVGltZW91dCIsImJsdXJyZWQiLCJmb2N1cyIsImJhY2tncm91bmQiLCJlcnJvckNiIiwibWVzc2FnZUNiIiwiR2V0TWVzc2FnZSIsIm1lc3NhZ2UiLCJtYXRjaGVzIiwicmVnZXhwIiwibWF0Y2huYW1lIiwicmVnZXhwbmFtZSIsIndhcm5pbmdzIiwiRWFzaW5ncyIsImVhc2luZ3MiLCJfIiwibGluZWFyIiwibGluZWFyU29mdCIsInRzIiwidGMiLCJsaW5lYXJTb2Z0T3V0IiwibGluZWFyU29mdEluIiwiZWFzZUluUXVhZCIsImVhc2VPdXRRdWFkIiwiZWFzZUluT3V0UXVhZCIsImVhc2VJbkN1YmljIiwiZWFzZU91dEN1YmljIiwiZWFzZUluT3V0Q3ViaWMiLCJlYXNlSW5RdWFydCIsImVhc2VPdXRRdWFydCIsImVhc2VJbk91dFF1YXJ0IiwiZWFzZUluUXVpbnQiLCJlYXNlT3V0UXVpbnQiLCJlYXNlSW5PdXRRdWludCIsImVhc2VJblNpbmUiLCJlYXNlT3V0U2luZSIsImVhc2VJbk91dFNpbmUiLCJlYXNlSW5FeHBvIiwiZWFzZU91dEV4cG8iLCJlYXNlSW5PdXRFeHBvIiwiZWFzZUluQ2lyYyIsImVhc2VPdXRDaXJjIiwiZWFzZUluT3V0Q2lyYyIsImVhc2VJbkJhY2siLCJlYXNlT3V0QmFjayIsImVhc2VJbk91dEJhY2siLCJlYXNlT3V0Qm91bmNlIiwiS2V5Ym9hcmQiLCJPbkFwcFRpY2siLCJnZXRRdWV1ZUZ1bmMiLCJrZXljb2RlIiwia2V5Q29kZSIsImVuYWJsZWQiLCJrZXlkb3duIiwiY29kZSIsImtleXVwIiwiZGlzYWJsZSIsImVuYWJsZSIsImNhbnZhc0NsaWNrZWQiLCJLZXlib2FyZEV2ZW50IiwiY3RybFByZXNzZWQiLCJhbHRQcmVzc2VkIiwic2hpZnRQcmVzc2VkIiwiY3RybEtleSIsImFsdEtleSIsInNoaWZ0S2V5Iiwic2hpZnQiLCJhbHQiLCJjdHJsIiwibW9ycGhpbmVzIiwiZWZ1bmMiLCJ0aWNrRiIsIiRtIiwiX21vcnBoaW5lcyIsIkdyYXBoaWNzIiwicmVzb2x2ZWRfZXh0ZW5zaW9ucyIsImRlZmluZVR5cGUiLCJPYmplY3RzIiwiSW5qZWN0QnlUeXBlIiwibGluZSIsImNpcmNsZSIsImFyZWEiLCJHZXRSZXNvdXJjZUJ5VVJMIiwic2VhcmNoIiwiZXhpc3RlZCIsImxvYWRDb3VudGVyIiwiYWxsIiwicHJlbG9hZFJlcXVlc3QiLCJpbWFnZXMiLCJmb250cyIsImNCQ29udGFpbmVyIiwic3ByaXRlcyIsImF1ZGlvcyIsInJlcXVlc3QiLCJwcmVsb2FkIiwicHJlbG9hZEJ5VXJsIiwiYWJvcnQiLCJyZXNwb25zZVRleHQiLCJzZXRSZXF1ZXN0SGVhZGVyIiwiYWRkIiwib2ZmIiwibmFycmF5IiwiY29uY2F0IiwiU291bmQiLCJzb3VuZGNvdW50IiwiY2hhbm5lbGNvdW50IiwiY2hhbm5lbHMiLCIkJERFU1RJTkFUSU9OIiwic2FtcGxlIiwiYnl1cmwiLCJQYXJzZUFkZHJlc3MiLCJhZGRyZXNzIiwic3RhdGVzIiwid2hlbiJdLCJtYXBwaW5ncyI6IkNBR0EsV0FHQSxRQUFBQSxXQVNBLFFBQUFDLGlCQUVBLEdBQUFDLE1BQ0FDLEVBQUEsSUFFQUMsTUFBQUMsS0FBQSxXQUNBLE1BQUFGLEdBQUFFLE1BR0FELEtBQUFGLGFBQUEsV0FDQSxNQUFBQSxJQUdBRSxLQUFBRSxTQUFBLEtBRUFGLEtBQUFHLE1BQUEsV0FHQSxJQUFBLEdBRkFDLE1BRUFDLEVBQUEsRUFBQUEsRUFBQUMsVUFBQUMsT0FBQUYsSUFDQUQsRUFBQUksS0FBQUYsVUFBQUQsR0FLQSxPQUhBRCxHQUFBSyxRQUFBLE1BQ0FULEtBQUFFLFNBQUEsSUFBQVEsU0FBQUMsVUFBQUMsS0FBQUMsTUFBQWQsRUFBQUssSUFDQVUsRUFBQWQsS0FBQUMsUUFBQUQsS0FDQUEsS0FJQSxLQUFBLEdBQUFLLEdBQUEsRUFBQUEsRUFBQUMsVUFBQUMsT0FBQUYsSUFLQSxHQUhBLGdCQUFBQyxXQUFBRCxJQUFBQyxVQUFBRCxHQUFBRSxRQUNBVCxFQUFBVSxLQUFBRixVQUFBRCxJQUVBLGtCQUFBQyxXQUFBRCxHQUFBLENBQ0FOLEVBQUFPLFVBQUFELEVBQ0EsT0FJQSxJQUFBTixJQUFBQSxFQUFBRSxNQUFBLEdBQUFGLEVBQUFFLEtBQUFNLE9BQ0EsS0FBQSxJQUFBUSxPQUFBLDZEQUdBQyxHQUFBakIsRUFBQUUsTUFBQUQsS0FDQWlCLEVBQUFsQixFQUFBRSxPQUFBLEVBR0EsUUFBQWlCLHNCQUFBQyxHQUNBLE1BQUEsU0FBQUMsUUFBQUMsRUFBQUMsR0FDQUMsU0FBQUMsRUFBQUgsS0FDQUcsRUFBQUgsSUFDQUMsTUFBQUEsRUFDQUgsV0FBQUEsRUFDQU0sS0FBQSxXQUNBRixTQUFBRyxFQUFBSixLQUNBLGtCQUFBQSxHQUNBUixFQUFBSyxLQUNBTyxFQUFBTCxHQUFBLFdBQ0EsR0FBQU0sR0FBQUwsRUFBQVQsTUFBQUMsRUFBQUss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LEtBQUFzbUIsWUFBQSxXQUNBLE1BQUE2YSxHQUFBQyxrQkNoRkFwK0IsR0FBQWtJLEtBQUEsVUFBQSxRQUFBNGUsT0FBQTFjLEdBS0EsUUFBQW0wQixjQUFBQyxHQUNBLEdBQUE3L0IsR0FBQTYvQixFQUFBbm1CLE1BQUEsNkJBQ0FrRixFQUFBNWUsRUFBQSxHQUNBTSxFQUFBTixFQUFBLEVBRUEsSUFBQTRlLEdBQUF0ZSxFQUFBLE9BQUFzZSxNQUFBQSxFQUFBdGUsS0FBQUEsR0FSQSxHQUFBdy9CLEtBYUF6aEMsTUFBQWdxQixNQUFBLFNBQUF3WCxFQUFBMStCLEdBRUEsa0JBQUFBLEtBRUEwK0IsRUFBQUQsYUFBQUMsR0FFQUEsSUFFQUMsRUFBQUQsRUFBQWpoQixTQUFBa2hCLEVBQUFELEVBQUFqaEIsT0FBQW5ULEVBQUEsV0FFQXEwQixFQUFBRCxFQUFBdi9CLE1BQUF5L0IsS0FBQUYsRUFBQXYvQixLQUFBYSxNQUlBOUMsS0FBQW9CLE9BQUEsU0FBQW9nQyxFQUFBbGdDLEdBRUFrZ0MsRUFBQUQsYUFBQUMsR0FFQUEsSUFFQUMsRUFBQUQsRUFBQWpoQixTQUFBa2hCLEVBQUFELEVBQUFqaEIsT0FBQW5ULEVBQUEsV0FFQXEwQixFQUFBRCxFQUFBamhCLE9BQUFuZixPQUFBb2dDLEVBQUF2L0IsS0FBQVgiLCJmaWxlIjoicmVmbGVjdC1lbmdpbmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8yNC8yMDE3LlxyXG4gKi9cclxuKGZ1bmN0aW9uICgpIHtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gUmVmbGVjdCgpIHtcclxuXHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHt9LFxyXG4gICAgICAgICAgICBpbmplY3Rpb25zID0ge30sXHJcbiAgICAgICAgICAgIHJlc29sdmVkID0ge30sXHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMgPSB7fSxcclxuICAgICAgICAgICAgcmVmbGVjdCA9IHRoaXMsXHJcbiAgICAgICAgICAgIGJ1aWxkQ0IgPSBbXTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gQ29yZUluamVjdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBkZXBlbmRlbmNpZXMgPSBbXSxcclxuICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5uYW1lO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVwZW5kZW5jaWVzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYXJncy51bnNoaWZ0KG51bGwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoY29uc3RydWN0b3IsIGFyZ3MpKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmVkW3RoaXMubmFtZSgpXSA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzW2ldID09IFwic3RyaW5nXCIgJiYgYXJndW1lbnRzW2ldLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llcy5wdXNoKGFyZ3VtZW50c1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1tpXSA9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvciA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFjb25zdHJ1Y3RvciB8fCAhY29uc3RydWN0b3IubmFtZSB8fCBjb25zdHJ1Y3Rvci5uYW1lLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgY29yZSBpbmplY3Rpb24uIENvbnN0cnVjdG9yIGlzIHVuZGVmaW5lZCEnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaW5qZWN0aW9uc1tjb25zdHJ1Y3Rvci5uYW1lXSA9IHRoaXM7XHJcbiAgICAgICAgICAgIGNvbmZpZ1tjb25zdHJ1Y3Rvci5uYW1lXSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVEZWZpbmVGdW5jdGlvbih0YXJnZXRuYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBkZWZpbmUocHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1twcm9wZXJ0eV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXNbcHJvcGVydHldID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldG5hbWU6IHRhcmdldG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXA6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWZsZWN0W3ZhbHVlXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc29sdmVkW3RhcmdldG5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZsZWN0W3Byb3BlcnR5XSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdmFsdWUuYXBwbHkocmVzb2x2ZWRbdGFyZ2V0bmFtZV0uaW5zdGFuY2UsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVmbGVjdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZmxlY3RbcHJvcGVydHldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZShpbmplY3Rpb24pIHtcclxuICAgICAgICAgICAgdmFyIGRlcGVuZGVuY2llcyA9IGluamVjdGlvbi5kZXBlbmRlbmNpZXMoKSxcclxuICAgICAgICAgICAgICAgIGFyZ3MgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJnbmFtZSA9IGRlcGVuZGVuY2llc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmIChhcmduYW1lID09PSAnQGRlZmluZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2goY3JlYXRlRGVmaW5lRnVuY3Rpb24oaW5qZWN0aW9uLm5hbWUoKSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFyZ25hbWUgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNvbHZlZFthcmduYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2gocmVzb2x2ZWRbYXJnbmFtZV0uaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmplY3Rpb25zW2FyZ25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChyZXNvbHZlKGluamVjdGlvbnNbYXJnbmFtZV0pLmluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaCh1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byByZXNvbHZlIGluamVjdGlvbiBbJyArIGFyZ25hbWUgKyAnXS4gTW8gc3VjaCBjb3JlIG1vZHVsZSBmb3VuZCEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2godW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byByZXNvbHZlIGluamVjdGlvbiBbJyArIGFyZ25hbWUgKyAnXS4gVW5rbm93biB0eXBlIG9mIGluamVjdGlvbiByZXF1ZXN0LicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gaW5qZWN0aW9uLmJ1aWxkLmFwcGx5KGluamVjdGlvbiwgYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkQ29yZSgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgbW9kdWxlIGluIGNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyZXNvbHZlZFttb2R1bGVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRbbW9kdWxlXSA9IHJlc29sdmUoaW5qZWN0aW9uc1ttb2R1bGVdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllc1twcm9wXS53cmFwKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrKCkge1xyXG4gICAgICAgICAgICB2YXIgcmVhZHkgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBtb2R1bGUgaW4gY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmhhc093blByb3BlcnR5KG1vZHVsZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbmZpZ1ttb2R1bGVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocmVhZHkpIHtcclxuICAgICAgICAgICAgICAgIGJ1aWxkQ29yZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuJCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT0gXCJvYmplY3RcIiAmJiBhcmd1bWVudHNbMF0uY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzWzBdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1swXVtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PSBcImZ1bmN0aW9uXCIgJiYgYXJndW1lbnRzWzBdLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbMF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFyZ3MudW5zaGlmdChudWxsKTtcclxuICAgICAgICAgICAgbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShDb3JlSW5qZWN0aW9uLCBhcmdzKSk7XHJcbiAgICAgICAgICAgIGNoZWNrKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5tb2R1bGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjb25maWdbYXJndW1lbnRzW2ldXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ1thcmd1bWVudHNbaV1dID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hlY2soKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1aWxkQ0IubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGJ1aWxkQ0JbaV0uY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudCAmJiB0eXBlb2YgZXZlbnQgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudCA9PSAnYnVpbGQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkQ0IucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGFkZCBldmVudCBsaXN0ZW5lci4gVW5rbm93biBldmVudCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGFkZCBldmVudCBsaXN0ZW5lci4gZnVuYyBpcyBub3QgYSBmdW5jdGlvbicpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBhZGQgZXZlbnQgbGlzdGVuZXIuIHVua25vd24gZXZlbnQgbmFtZSB0eXBlLicpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cuJFIgPSBuZXcgUmVmbGVjdCgpO1xyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzI0LzIwMTcuXHJcbiAqL1xyXG4kUi5tb2R1bGVzKFxyXG4gICAgJ0FwcGxpY2F0aW9uQ2FudmFzUHJvdmlkZXInLFxyXG4gICAgJ0FwcGxpY2F0aW9uSFRNTFJvb3RQcm92aWRlcicsXHJcbiAgICAnQXBwbGljYXRpb25Qcm92aWRlcicsXHJcbiAgICAnQXBwbGljYXRpb25UaWNrZXJQcm92aWRlcicsXHJcbiAgICAnQXBwbGljYXRpb25Db25maWdQcm92aWRlcicsXHJcbiAgICAnSW5qZWN0aW9uQ29udGFpbmVyUHJvdmlkZXInLFxyXG4gICAgJ0V4dGVuc2lvbnNQcm92aWRlcicsXHJcbiAgICAnRm9udEZhbWlseU1hbmFnZXInXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDUvMS8yMDE3LlxyXG4gKi9cclxuJFIuJChmdW5jdGlvbiBBcHBsaWNhdGlvbkF1ZGlvQ29udGV4dFByb3ZpZGVyKCkge1xyXG5cclxuXHJcbiAgICB2YXIgY29udGV4dHMgPSB7fTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRBcHBDb250ZXh0KGFwcG5hbWUpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjb250ZXh0IDogbmV3IEF1ZGlvQ29udGV4dCgpLFxyXG4gICAgICAgICAgICBjb25zdHJ1Y3RvciA6IGZ1bmN0aW9uIGF1ZGlvICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dHNbYXBwbmFtZV0uY29udGV4dDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5nZXRBcHBsaWNhdGlvbkF1ZGlvQ29udGV4dCA9IGZ1bmN0aW9uIChhcHBuYW1lKSB7XHJcbiAgICAgICAgY29udGV4dHNbYXBwbmFtZV0gPSBnZXRBcHBDb250ZXh0KGFwcG5hbWUpO1xyXG4gICAgICAgIHJldHVybiBjb250ZXh0c1thcHBuYW1lXS5jb25zdHJ1Y3RvcjtcclxuICAgIH1cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMjcvMjAxNy5cclxuICovXHJcbiRSLiQoW2Z1bmN0aW9uIEFwcGxpY2F0aW9uQ2FudmFzUHJvdmlkZXIoKSB7XHJcblxyXG4gICAgdmFyIGNhbnZhc2VzID0ge307XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGdldENhbnZhc0NvbnN0cnVjdG9yKGFwcG5hbWUpIHtcclxuICAgICAgIHJldHVybiBmdW5jdGlvbiBDYW52YXMoKSB7XHJcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSBjYW52YXNlc1thcHBuYW1lXS5lbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbnZhcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNhbnZhc0luamVjdGlvbkNvbnN0cnVjdG9yID0gZnVuY3Rpb24gKGFwcG5hbWUpIHtcclxuICAgICAgICBjYW52YXNlc1thcHBuYW1lXSA9IHtcclxuICAgICAgICAgICAgYXBwbmFtZSA6IGFwcG5hbWUsXHJcbiAgICAgICAgICAgIGVsZW1lbnQgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSxcclxuICAgICAgICAgICAgY29uc3RydWN0b3IgOiBnZXRDYW52YXNDb25zdHJ1Y3RvcihhcHBuYW1lKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGNhbnZhc2VzW2FwcG5hbWVdLmNvbnN0cnVjdG9yO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldEFwcGxpY2F0aW9uQ2FudmFzID0gZnVuY3Rpb24gKGFwcCkge1xyXG4gICAgICAgIHJldHVybiBjYW52YXNlc1thcHBdLmVsZW1lbnQ7XHJcbiAgICB9O1xyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMjgvMjAxNy5cclxuICovXHJcbiRSLiQoWydAZGVmaW5lJywgZnVuY3Rpb24gQXBwbGljYXRpb25Db25maWdQcm92aWRlcihkZWZpbmUpIHtcclxuXHJcbiAgICB2YXIgY29uZmlncyA9IHt9LFxyXG4gICAgICAgIGRlZnMgPSB7fTtcclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVFeHRlbnNpb25Db25maWcodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gY29uZmlnKCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW3Byb3BdID09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlW3Byb3BdID09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHZhbHVlW3Byb3BdID09IFwiYm9vbGVhblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbcHJvcF0gPSB2YWx1ZVtwcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW3Byb3BdID09IFwib2JqZWN0XCIgJiYgdmFsdWVbcHJvcF0uY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwdmFsdWUgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVbcHJvcF0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbcHJvcF1baV0gPT0gXCJib29sZWFuXCIgfHwgdHlwZW9mIHZhbHVlW3Byb3BdW2ldID09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlW3Byb3BdW2ldID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdmFsdWUucHVzaCh2YWx1ZVtwcm9wXVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1twcm9wXSA9IHB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0QXBwQ29uZmlnKGNmZykge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIGNmZykge1xyXG4gICAgICAgICAgICBpZiAoY2ZnLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNmZ1twcm9wXSA9PSBcIm9iamVjdFwiICYmIGNmZ1twcm9wXS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRbcHJvcF0gPSBjcmVhdGVFeHRlbnNpb25Db25maWcoY2ZnW3Byb3BdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkZWZhdWx0Q29uZmlnID0gZnVuY3Rpb24gY29uZmlnKCkge1xyXG4gICAgfTtcclxuXHJcbiAgICBkZWZpbmUoJ2NmZycsIGZ1bmN0aW9uIChhcHAsIGNmZykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgY2ZnID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZ3NbYXBwXSA9IGdldEFwcENvbmZpZyhjZmcpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuZ2V0RXh0ZW5zaW9uQ29uZmlnID0gZnVuY3Rpb24gKGFwcCwgZXh0bmFtZSkge1xyXG4gICAgICAgIGlmIChjb25maWdzW2FwcF0pIHtcclxuICAgICAgICAgICAgaWYgKGNvbmZpZ3NbYXBwXVtleHRuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpZ3NbYXBwXVtleHRuYW1lXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdENvbmZpZztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRDb25maWc7XHJcbiAgICB9O1xyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzI3LzIwMTcuXHJcbiAqL1xyXG4kUi4kKGZ1bmN0aW9uIEFwcGxpY2F0aW9uSFRNTFJvb3RQcm92aWRlcigpIHtcclxuXHJcblxyXG4gICAgdmFyIGVsZW1lbnRzID0ge30sXHJcbiAgICAgICAgaGlkZGVuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0SFRtbFJvb3RDb25zdHJ1Y3RvcihjYW52YXMsIGFwcG5hbWUpIHtcclxuICAgICAgICB2YXIgbGFzdHBhcmVudCA9IG51bGw7XHJcblxyXG4gICAgICAgIGVsZW1lbnRzW2FwcG5hbWVdID0ge1xyXG4gICAgICAgICAgICBlbGVtZW50OiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcclxuICAgICAgICAgICAgJGNvbnN0cnVjdG9yOiBmdW5jdGlvbiBIVE1MUm9vdCgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZWxlbWVudHNbYXBwbmFtZV0uZWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICBjYiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBbXVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gMCxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZShldmVudCwgYXJnYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXJyID0gY2JbZXZlbnRdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gYXJnYXJyYXkgJiYgdHlwZW9mIGFyZ2FycmF5ID09IFwib2JqZWN0XCIgJiYgYXJnYXJyYXkuY29uc3RydWN0b3IgPT0gQXJyYXkgPyBhcmdhcnJheSA6IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGYgPSAwOyBmIDwgYXJyLmxlbmd0aDsgZisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2FyZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycltmXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PSBcInN0cmluZ1wiICYmIGV2ZW50Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNiW2V2ZW50XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNiW2V2ZW50XS5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IGV2ZW50IFsnICsgZXZlbnQgKyAnXSBjYWxsYmFjay4gTm90IGEgZnVuY3Rpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBldmVudCBbJyArIGV2ZW50ICsgJ10uIE5vIHN1Y2ggZXZlbnQuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBldmVudC4gRXZlbnQgbmFtZSBpcyBub3QgYSBzdHJpbmcgb3IgZW1wdHkuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdHBhcmVudCA9IHRoaXMuZWxlbWVudCgpLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZGVuZGl2LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCgpKTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGxhc3RwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdHBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RwYXJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tFbGVtZW50UmVzaXplKHcsIGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodyAhPT0gd2lkdGggfHwgaCAhPT0gaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gdztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3aWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3Jlc2l6ZScsIFt3LCBoXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tFbGVtZW50UmVzaXplKGVsZW1lbnQub2Zmc2V0V2lkdGgsIGVsZW1lbnQub2Zmc2V0SGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tFbGVtZW50UmVzaXplKGVsZW1lbnQub2Zmc2V0V2lkdGgsIGVsZW1lbnQub2Zmc2V0SGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBlbGVtZW50c1thcHBuYW1lXS5lbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncmVmbGVjdC1jYW52YXMtd3JhcHBlcicpO1xyXG4gICAgICAgIGVsZW1lbnRzW2FwcG5hbWVdLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdHlsZScsICdwb3NpdGlvbjphYnNvbHV0ZTsgbGVmdDowO3RvcDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7Jyk7XHJcbiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAncG9zaXRpb246YWJzb2x1dGU7IGxlZnQ6MDt0b3A6MDsnKTtcclxuICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlKCdpZCcsJ3JlZmxlY3QtY2FudmFzLScrYXBwbmFtZSk7XHJcbiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncmVmbGVjdC1jYW52YXMtb3V0cHV0Jyk7XHJcbiAgICAgICAgZWxlbWVudHNbYXBwbmFtZV0uZWxlbWVudC5hcHBlbmRDaGlsZChjYW52YXMpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0uYXBwZW5kQ2hpbGQoZWxlbWVudHNbYXBwbmFtZV0uZWxlbWVudCk7XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzW2FwcG5hbWVdLiRjb25zdHJ1Y3RvcjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLkhUTUxSb290Q29uc3RydWN0b3IgPSBmdW5jdGlvbiAoY2FudmFzLGFwcG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gZ2V0SFRtbFJvb3RDb25zdHJ1Y3RvcihjYW52YXMsYXBwbmFtZSk7XHJcbiAgICB9XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzI2LzIwMTcuXHJcbiAqL1xyXG4kUi4kKFsnQGRlZmluZScsICdFeHRlbnNpb25zUHJvdmlkZXInLFxyXG4gICAgICAgICdJbmplY3Rpb25Db250YWluZXJQcm92aWRlcicsICdBcHBsaWNhdGlvbkNhbnZhc1Byb3ZpZGVyJyxcclxuICAgICAgICAnQXBwbGljYXRpb25IVE1MUm9vdFByb3ZpZGVyJywgJ0FwcGxpY2F0aW9uVGlja2VyUHJvdmlkZXInLCAnQXBwbGljYXRpb25Db25maWdQcm92aWRlcicsXHJcbiAgICAgICAgJ0FwcGxpY2F0aW9uQXVkaW9Db250ZXh0UHJvdmlkZXInLFxyXG5cclxuICAgICAgICBmdW5jdGlvbiBBcHBsaWNhdGlvblByb3ZpZGVyKGRlZmluZSwgSW5qZWN0b3IsIFByb3ZpZGVyLCBDYW52YXNQcm92aWRlciwgSFRNTFJvb3RQcm92aWRlciwgVGlja2VyUHJvdmlkZXIsIEFwcENvbmZpZ1Byb3ZpZGVyLCBBdWRpb1Byb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBhcHBzID0ge30sXHJcbiAgICAgICAgICAgICAgICBtb2R1bGVzID0ge30sXHJcbiAgICAgICAgICAgICAgICBhdXRvcnVuID0gW10sXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZXMgPSB7fSxcclxuICAgICAgICAgICAgICAgIHJlZmxlY3RBcHBzID0ge30sXHJcbiAgICAgICAgICAgICAgICBjbGFzc2VzID0ge307XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRBcHBTb3VyY2VzKGFwcG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBQcm92aWRlci5jb250YWluZXIoeydhcHAnOiBQcm92aWRlci5pbmplY3Rpb24oZ2V0UkFwcChhcHBuYW1lKSl9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuaW5qZWN0aW9uKENhbnZhc1Byb3ZpZGVyLmNhbnZhc0luamVjdGlvbkNvbnN0cnVjdG9yKGFwcG5hbWUpKTtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5pbmplY3Rpb24oXHJcbiAgICAgICAgICAgICAgICAgICAgSFRNTFJvb3RQcm92aWRlci5IVE1MUm9vdENvbnN0cnVjdG9yKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW52YXNQcm92aWRlci5nZXRBcHBsaWNhdGlvbkNhbnZhcyhhcHBuYW1lKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwbmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmluamVjdGlvbihBdWRpb1Byb3ZpZGVyLmdldEFwcGxpY2F0aW9uQXVkaW9Db250ZXh0KGFwcG5hbWUpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuc291cmNlKGNvbnRhaW5lciwgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRSQXBwKGFwcG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBSZWZsZWN0QXBwbGljYXRpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aWNrZXIgPSBUaWNrZXJQcm92aWRlci5jcmVhdGVUaWNrZXIoYXBwbmFtZSwgQ2FudmFzUHJvdmlkZXIuZ2V0QXBwbGljYXRpb25DYW52YXMoYXBwbmFtZSksIHNlbGYpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcHMgPSA1OC44LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRpY2tlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jOiAnc3RhcnQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGlja2VyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmM6ICdzdG9wJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZwczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGlja2VyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmM6ICdmcHMnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGljazoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGlja2VyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmM6ICdjYWxsYmFjaydcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0gZnVuY3Rpb24gKGZ1bmMsIGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09IFwic3RyaW5nXCIgJiYgZnVuYy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXRob2RzW2Z1bmNdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gW11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFyZ3MgIT09IFwib2JqZWN0XCIgfHwgYXJncy5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncyA9IFthcmdzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ldGhvZHNbZnVuY10udGFyZ2V0W21ldGhvZHNbZnVuY10uZnVuY10uYXBwbHkobWV0aG9kc1tmdW5jXS50YXJnZXQsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNiID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogW11cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiByZXNvbHZlKGV2ZW50LCBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT0gXCJzdHJpbmdcIiAmJiBldmVudC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYltldmVudF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFzc0FyZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3MgPT0gXCJvYmplY3RcIiAmJiBhcmdzLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NBcmdzID0gYXJncztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYXJncyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NBcmdzID0gW2FyZ3NdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYltldmVudF0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2JbZXZlbnRdW2ldLmFwcGx5KHNlbGYsIHBhc3NBcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byByZXNvbHZlIGV2ZW50IFsnICsgZXZlbnQgKyAnXS4gTm8gc3VjaCBldmVudC4nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcmVzb2x2ZSBldmVudC4gRXZlbnQgYXJndW1lbnQgaXMgbm90IGEgc3RyaW5nLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aWNrZXIub24oJ3N0b3AnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3N0b3AnLCBzZWxmKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGlja2VyLm9uKCdzdGFydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnc3RhcnQnLCBzZWxmKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGlja2VyLm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnZXJyb3InLCBzZWxmKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kb24gPSBmdW5jdGlvbiAoZXZlbnQsIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PSBcInN0cmluZ1wiICYmIGV2ZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNiW2V2ZW50XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2JbZXZlbnRdLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgZXZlbnQgWycgKyBldmVudCArICddLiBDYWxsYmFjayBmdW5jIGlzIG5vdCBhIGZ1bmN0aW9uLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBldmVudCBbJyArIGV2ZW50ICsgJ10uIE5vIHN1Y2ggZXZlbnQuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgaGFuZGxlci4gRXZlbnQgc3RyaW5nIGlzIHVuZGVmaW5lZCBvciBlbXB0eS4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGRlZmluZSA9IGZ1bmN0aW9uIChwcm9wZXJ0eSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNbcHJvcGVydHldID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eS5jaGFyQXQoMCkgIT09ICckJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbcHJvcGVydHldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZWZsZWN0QXBwc1thcHBuYW1lXSA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBkZWZpbmUoJ2FwcCcsIGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09IFwiZnVuY3Rpb25cIiAmJiBjb25maWcubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcHNbY29uZmlnLm5hbWVdID0gUHJvdmlkZXIuY29udGFpbmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwc1tjb25maWcubmFtZV0uaW5qZWN0aW9uKGNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29uZmlnID09IFwib2JqZWN0XCIgJiYgY29uZmlnLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb25zdHJ1Y3RvciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGFuY2llcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbmZpZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZ1tpXSA9PSBcInN0cmluZ1wiICYmIGNvbmZpZ1tpXS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRhbmNpZXMucHVzaChjb25maWdbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjb25maWdbaV0gPT0gXCJmdW5jdGlvblwiICYmIGNvbmZpZ1tpXS5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvciA9IGNvbmZpZ1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29uc3RydWN0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kYW5jaWVzLnB1c2goY29uc3RydWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBzW2NvbnN0cnVjdG9yLm5hbWVdID0gUHJvdmlkZXIuY29udGFpbmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcHNbY29uc3RydWN0b3IubmFtZV0uaW5qZWN0aW9uKGRlcGVuZGFuY2llcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgYXBwbGljYXRpb24uIENvbnN0cnVjdG9yIG5vdCBmb3VuZCEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXBwbGljYXRpb24gaW5qZWN0aW9uIGNvbmZpZycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGRlZmluZSgnbW9kJywgZnVuY3Rpb24gKGFwcCwgY29uc3RydWN0b3IpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXBwID09IFwic3RyaW5nXCIgJiYgYXBwLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbW9kdWxlc1thcHBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZXNbYXBwXSA9IFByb3ZpZGVyLmNvbnRhaW5lcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVzW2FwcF0uc291cmNlKG1vZHVsZXNbYXBwXSwgJyQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc3RydWN0b3IgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVzW2FwcF0uaW5qZWN0aW9uKGNvbnN0cnVjdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNvbnN0cnVjdG9yID09PSBcIm9iamVjdFwiICYmIGNvbnN0cnVjdG9yLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjZnVuYyA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uc3RydWN0b3IubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc3RydWN0b3JbaV0gPT09IFwic3RyaW5nXCIgJiYgY29uc3RydWN0b3JbaV0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jaWVzLnB1c2goY29uc3RydWN0b3JbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNvbnN0cnVjdG9yW2ldID09PSBcImZ1bmN0aW9uXCIgJiYgY29uc3RydWN0b3JbaV0ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNmdW5jID0gY29uc3RydWN0b3JbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdHlwZSBvZiBtb2R1bGUgY29uc3RydWN0b3IgcGFyYW1ldGVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjZnVuYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jaWVzLnB1c2goY2Z1bmMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlc1thcHBdLmluamVjdGlvbihkZXBlbmRlbmNpZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIG1vZHVsZS4gTm8gY29uc3RydWN0b3IgZm91bmQhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGRlZmluZSgncnVuJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1tpXSA9PSBcInN0cmluZ1wiICYmIGFyZ3VtZW50c1tpXS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZXNlbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCBhdXRvcnVuLmxlbmd0aDsgYSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXV0b3J1blthXSA9PSBhcmd1bWVudHNbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVzZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByZXNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9ydW4ucHVzaChhcmd1bWVudHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGRlZmluZSgnYXBwbGljYXRpb24nLCBmdW5jdGlvbiAoYXBwbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcHBuYW1lID09IFwic3RyaW5nXCIgJiYgYXBwbmFtZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVmbGVjdEFwcHNbYXBwbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZmxlY3RBcHBzW2FwcG5hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhcHBzW2FwcG5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHRlbnNpb25zID0gSW5qZWN0b3IuZXh0ZW5zaW9ucygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlcyA9IGdldEFwcFNvdXJjZXMoYXBwbmFtZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRzQXJyYXkgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGV4dGVuc2lvbiBpbiBleHRlbnNpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXh0ZW5zaW9ucy5oYXNPd25Qcm9wZXJ0eShleHRlbnNpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0c0FycmF5LnB1c2goZXh0ZW5zaW9uc1tleHRlbnNpb25dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2ZnQ29uc3RydWN0b3IgPSBBcHBDb25maWdQcm92aWRlci5nZXRFeHRlbnNpb25Db25maWcoYXBwbmFtZSwgZXh0ZW5zaW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2ZnU291cmNlID0gUHJvdmlkZXIuY29udGFpbmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2ZnU291cmNlLmluamVjdGlvbihjZmdDb25zdHJ1Y3Rvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHRzU291cmNlID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2V4dCBpbiBleHRlbnNpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleHRlbnNpb25zLmhhc093blByb3BlcnR5KF9leHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2V4dCAhPT0gZXh0ZW5zaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0c1NvdXJjZS5wdXNoKGV4dGVuc2lvbnNbX2V4dF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25dLnNvdXJjZShleHRzU291cmNlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25dLnNvdXJjZShzb3VyY2VzLCAnQCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uXS5zb3VyY2UoY2ZnU291cmNlLCAnJCQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4dGVuc2lvbnBhcnRzID0gZXh0ZW5zaW9uc1tleHRlbnNpb25dLmZpbmRTb3VyY2VCeVByZWZpeCgnJCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXh0ZW5zaW9ucGFydHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9ucGFydHMuc291cmNlKGV4dHNTb3VyY2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9ucGFydHMuc291cmNlKGV4dGVuc2lvbnBhcnRzLmNvbnRhaW5lcnMoKSwgJyQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9ucGFydHMuc291cmNlKHNvdXJjZXMsICdAJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbnBhcnRzLnNvdXJjZShjZmdTb3VyY2UsICckJCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZXh0ZW5zaW9uIGluIGV4dGVuc2lvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleHRlbnNpb25zLmhhc093blByb3BlcnR5KGV4dGVuc2lvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbl0ucmVzb2x2ZShleHRlbnNpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xhc3NDb250YWluZXIgPSBQcm92aWRlci5jb250YWluZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG5hbWUgaW4gY2xhc3Nlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsYXNzZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc0NvbnRhaW5lci5pbmplY3Rpb24oY2xhc3Nlc1tuYW1lXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzQ29udGFpbmVyLnNvdXJjZShjbGFzc0NvbnRhaW5lciwgJy4nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2R1bGVzW2FwcG5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBzW2FwcG5hbWVdLnNvdXJjZShtb2R1bGVzW2FwcG5hbWVdLCAnJCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlc1thcHBuYW1lXS5zb3VyY2Uoc291cmNlcywgJ0AnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZXNbYXBwbmFtZV0uc291cmNlKGNsYXNzQ29udGFpbmVyLCAnLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlc1thcHBuYW1lXS5zb3VyY2UoZXh0c0FycmF5LCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwc1thcHBuYW1lXS5zb3VyY2UoY2xhc3NDb250YWluZXIsICcuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcHNbYXBwbmFtZV0uc291cmNlKHNvdXJjZXMsICdAJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcHNbYXBwbmFtZV0uc291cmNlKGV4dHNBcnJheSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBzW2FwcG5hbWVdLnJlc29sdmUoYXBwbmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVmbGVjdEFwcHNbYXBwbmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBydW4gYXBwIFsnICsgYXBwbmFtZSArICddLiBObyBzdWNoIGFwcCByZWdpc3RlcmVkLicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHJ1biBhcHAuIEFwcCBuYW1lIChpZCkgaXMgbm90IGEgc3RyaW5nIG9yIGVtcHR5LicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGRlZmluZSgnY2xzJywgZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiICYmIGZ1bmMubmFtZSAmJiBmdW5jLm5hbWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjbGFzc2VzW2Z1bmMubmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlc1tmdW5jLm5hbWVdID0gZnVuYztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRHVwbGljYXRlIG9yIGludmFsaWQgY2xhc3MgbmFtZSBbJyArIGZ1bmMubmFtZSArICddJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGZ1bmMgPT0gXCJvYmplY3RcIiAmJiBmdW5jLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkID0gdHJ1ZSwgY29uc3RydWN0b3IgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZ1bmMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jW2ldID09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnVuY1tpXSAhPT0gJ0BleHRlbmQnICYmIGZ1bmNbaV0gIT09ICdAaW5qZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGZ1bmNbaV0gPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvciA9IGZ1bmNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnN0cnVjdG9yLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNsYXNzZXNbY29uc3RydWN0b3IubmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlc1tjb25zdHJ1Y3Rvci5uYW1lXSA9IGZ1bmM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0R1cGxpY2F0ZSBvciBpbnZhbGlkIGNsYXNzIG5hbWUgWycgKyBmdW5jLm5hbWUgKyAnXScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBjbGFzcy4gQ29uc3RydWN0b3IgaXMgbm90IGEgbmFtZWQgZnVuY3Rpb24uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NsYXNzIGNvbnN0cnVjdG9yIGlzIHVuZGVmaW5lZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBhZGQgZGVwZW5kZW5jaWVzLiBPbmx5IEBleHRlbmQgYW5kIEBpbmplY3QgYXJlIHBvc3NpYmxlIGZvciBjbHMnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NsYXNzIGZ1bmMgc2hvdWxkIGJlIGEgbmFtZWQgZnVuY3Rpb24nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkUi5vbignYnVpbGQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcnVuYXBwcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGF1dG9ydW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnVuYXBwcyA9IGF1dG9ydW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhcHAgaW4gYXBwcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBydW5hcHBzLnB1c2goYXBwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJ1bmFwcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAkUi5hcHBsaWNhdGlvbihydW5hcHBzW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzI4LzIwMTcuXHJcbiAqL1xyXG4kUi4kKGZ1bmN0aW9uIEFwcGxpY2F0aW9uVGlja2VyUHJvdmlkZXIoKSB7XHJcblxyXG4gICAgdmFyIHRpY2tlcnMgPSB7fTtcclxuXHJcbiAgICBmdW5jdGlvbiBUaWNrZXIoY2FudmFzLCB0YXJnZXQpIHtcclxuICAgICAgICB2YXIgdGlja3RpbWUgPSAoMTAwMCAvIDU4LjgpLnRvRml4ZWQoMiksXHJcbiAgICAgICAgICAgIGNhbGxiYWNrcyA9IHt9LFxyXG4gICAgICAgICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyksXHJcbiAgICAgICAgICAgIGZyYW1lID0gMCxcclxuICAgICAgICAgICAgYXJncyA9IFtudWxsLCBjYW52YXMsIGNvbnRleHQsIDBdLFxyXG4gICAgICAgICAgICB0aWNrZnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhcmdzWzBdID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgIGFyZ3NbM10gPSBmcmFtZTtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgb3JkZXJpbmcgaW4gY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzW29yZGVyaW5nXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW29yZGVyaW5nXVtpXS5hcHBseSh0YXJnZXQsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZyYW1lKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ2Vycm9yJywgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIHJ1biB0aWNrZXIgYW55bW9yZS4gRXJyb3IgZW1lcmdlZCBkdXJpbmcgYXBwIHRpY2tlciBwcm9ncmVzcy4nKTtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW50ZXJ2YWwgPSBudWxsLFxyXG4gICAgICAgICAgICBldmVudENiID0ge1xyXG4gICAgICAgICAgICAgICAgc3RvcDogW10sXHJcbiAgICAgICAgICAgICAgICBzdGFydDogW10sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogW11cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmUoZXZlbnQsIGFyZ3MpIHtcclxuICAgICAgICAgICAgdmFyIF9jYWxsX2FyZ3MgPSBbXTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzID09IFwib2JqZWN0XCIgJiYgYXJncy5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgX2NhbGxfYXJncyA9IGFyZ3M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoYXJncyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBfY2FsbF9hcmdzLnB1c2goYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT0gXCJzdHJpbmdcIiAmJiBldmVudC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudENiW2V2ZW50XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRDYltldmVudF0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRDYltldmVudF1baV0uYXBwbHkoc2VsZiwgX2NhbGxfYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcmVzb2x2ZSBldmVudCBbJyArIGV2ZW50ICsgJ10uIE5vIHN1Y2ggZXZlbnQuJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHJlc29sdmUgZXZlbnQuIEV2ZW50IHBhcmFtZXRlciBpcyBub3QgYSBzdHJpbmcgb3IgZW1wdHknKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiBldmVudCA9PSBcInN0cmluZ1wiICYmIGV2ZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgaWYoZXZlbnRDYltldmVudF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgZnVuYyA9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRDYltldmVudF0ucHVzaChmdW5jKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IGV2ZW50IFsnK2V2ZW50KyddLiBDYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbi4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgZXZlbnQgWycrZXZlbnQrJ10gaGFuZGxlci4gTm8gc3VjaCBldmVudC4nKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IGV2ZW50LiBFdmVudCBhcmd1bWVudCBpcyBub3QgYSBzdHJpbmcgb3IgZW1wdHkuJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGludGVydmFsKSB7XHJcbiAgICAgICAgICAgICAgICBmcmFtZSA9IDA7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuICAgICAgICAgICAgICAgIGludGVydmFsID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoJ3N0b3AnLCB0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghaW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwodGlja2Z1bmN0aW9uLCB0aWNrdGltZSk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCdzdGFydCcsIHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5mcHMgPSBmdW5jdGlvbiAobnVtYmVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbnVtYmVyID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChudW1iZXIgPiA2MCkgbnVtYmVyID0gNjA7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVtYmVyIDw9IDApIG51bWJlciA9IDE7XHJcbiAgICAgICAgICAgICAgICB0aWNrdGltZSA9ICgxMDAwIC8gbnVtYmVyKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKDEwMDAgLyB0aWNrdGltZSkudG9GaXhlZCgyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGEgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFja3NbMF0pIGNhbGxiYWNrc1swXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzWzBdLnB1c2goYSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGEgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiID09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2tzW2FdKSBjYWxsYmFja3NbYV0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbYV0ucHVzaChiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHF1ZXVlLiBjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbicpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgY2FsbGJhY2suIFdyb25nIGFyZ3VtZW50cyBwYXNzZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNyZWF0ZVRpY2tlciA9IGZ1bmN0aW9uIChhcHAsIGNhbnZhcywgdGFyZ2V0KSB7XHJcbiAgICAgICAgaWYgKHRpY2tlcnNbYXBwXSkgdGlja2Vyc1thcHBdLnN0b3AoKTtcclxuXHJcbiAgICAgICAgdGlja2Vyc1thcHBdID0gbmV3IFRpY2tlcihjYW52YXMsIHRhcmdldCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aWNrZXJzW2FwcF07XHJcbiAgICB9XHJcblxyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8yNi8yMDE3LlxyXG4gKi9cclxuJFIuJChbJ0BkZWZpbmUnLCAnSW5qZWN0aW9uQ29udGFpbmVyUHJvdmlkZXInLCBmdW5jdGlvbiBFeHRlbnNpb25zUHJvdmlkZXIoZGVmaW5lLCBwcm92aWRlcikge1xyXG5cclxuICAgIC8vVE9ETzogb25Jbml0IGV2ZW50IGhhbmRsaW5nIGZvciBwcm92aWRlcnMgcmVxdWlyaW5nIGNvcmUgdG8gYmUgYnVpbHQgZm9yIHNvbWUgZnVuY3Rpb25hbGl0eVxyXG5cclxuICAgIHZhciBleHRlbnNpb25zID0ge30sXHJcbiAgICAgICAgcGFydHMgPSB7fTtcclxuXHJcbiAgICB0aGlzLmV4dGVuc2lvbnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgICAgIGZvcih2YXIgZXh0IGluIGV4dGVuc2lvbnMpIHtcclxuICAgICAgICAgICAgaWYoZXh0ZW5zaW9ucy5oYXNPd25Qcm9wZXJ0eShleHQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRbZXh0XSA9IGV4dGVuc2lvbnNbZXh0XS5jbG9uZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUV4dGVuc2lvbkNvbnRhaW5lcihuYW1lKSB7XHJcbiAgICAgICAgaWYgKCFleHRlbnNpb25zW25hbWVdKSB7XHJcbiAgICAgICAgICAgIGV4dGVuc2lvbnNbbmFtZV0gPSBwcm92aWRlci5jb250YWluZXIoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGV4dGVuc2lvbnNbbmFtZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZXh0ZW5zaW9uc1tuYW1lXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFydENvbnRhaW5lcihleHRlbnNpb24pIHtcclxuICAgICAgICBpZiAoIXBhcnRzW2V4dGVuc2lvbl0pIHtcclxuICAgICAgICAgICAgcGFydHNbZXh0ZW5zaW9uXSA9IHByb3ZpZGVyLmNvbnRhaW5lcigpO1xyXG4gICAgICAgICAgICBjcmVhdGVFeHRlbnNpb25Db250YWluZXIoZXh0ZW5zaW9uKS5zb3VyY2UocGFydHNbZXh0ZW5zaW9uXSwnJCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gcGFydHNbZXh0ZW5zaW9uXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJ0c1tleHRlbnNpb25dO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZWZpbmUoJ2V4dCcsIGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PSBcImZ1bmN0aW9uXCIgJiYgY29uZmlnLm5hbWUpIHtcclxuICAgICAgICAgICAgY3JlYXRlRXh0ZW5zaW9uQ29udGFpbmVyKGNvbmZpZy5uYW1lKS5pbmplY3Rpb24oY29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNvbmZpZyA9PSBcIm9iamVjdFwiICYmIGNvbmZpZy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgdmFyIG5hbWUgPSBudWxsO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbmZpZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWdbaV0gPT09IFwiZnVuY3Rpb25cIiAmJiBjb25maWdbaV0ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWUgPSBjb25maWdbaV0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVFeHRlbnNpb25Db250YWluZXIobmFtZSkuaW5qZWN0aW9uKGNvbmZpZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnN0cnVjdG9yIG5vdCBmb3VuZC4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXcm9uZyBhcmd1bWVudHMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgZGVmaW5lKCdwYXJ0JywgZnVuY3Rpb24gKGV4dCwgY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBleHQgPT0gXCJzdHJpbmdcIiAmJiBleHQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PSBcImZ1bmN0aW9uXCIgJiYgY29uZmlnLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGNyZWF0ZVBhcnRDb250YWluZXIoZXh0KS5pbmplY3Rpb24oY29uZmlnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29uZmlnID09IFwib2JqZWN0XCIgJiYgY29uZmlnLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbmZpZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnW2ldID09IFwiZnVuY3Rpb25cIiAmJiBjb25maWdbaV0ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gY29uZmlnW2ldLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUGFydENvbnRhaW5lcihleHQpLmluamVjdGlvbihjb25maWcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHRlbnNpb24gWycgKyBleHQgKyAnXSBwYXJ0IENvbnN0cnVjdG9yIHdhcyBub3QgZm91bmQuJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSG9zdCBleHRlbnNpb24gd2FzIG5vdCBzcGVjaWZpZWQhJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDYvMi8yMDE3LlxyXG4gKi9cclxuJFIuJChbJ0BkZWZpbmUnLCBmdW5jdGlvbiBGb250RmFtaWx5TWFuYWdlcihkZWZpbmUpIHtcclxuXHJcbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XHJcblxyXG4gICAgdmFyIGZhbWlsaWVzID0ge30sXHJcbiAgICAgICAgZm9ybWF0ID0gWydlb3QnLCAnc3ZnJywgJ3R0ZicsICd3b2ZmJ107XHJcblxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuXHJcbiAgICB2YXIgZm9ybWF0U3RyID0ge1xyXG4gICAgICAgIGVvdDogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ3VybChcIicgKyB1cmwgKyAnLmVvdD8jaWVmaXhcIikgZm9ybWF0KFwiZW1iZWRkZWQtb3BlbnR5cGVcIiknO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgd29mZjogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ3VybChcIicgKyB1cmwgKyAnLndvZmZcIikgZm9ybWF0KFwid29mZlwiKSc7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0dGY6IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICAgICAgcmV0dXJuICd1cmwoXCInICsgdXJsICsgJy50dGZcIikgZm9ybWF0KFwidHJ1ZXR5cGVcIiknO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3ZnOiBmdW5jdGlvbiAodXJsLCBmb250LCBzdHlsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ3VybChcIicgKyB1cmwgKyAnLnN2ZyMnICsgZm9udCArICctJyArIChzdHlsZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0eWxlLnNsaWNlKDEpKSArICdcIikgZm9ybWF0KFwic3ZnXCIpJztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGZvbnRTdHJpbmcoZm9udCwgcm9vdCkge1xyXG5cclxuICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XHJcblxyXG4gICAgICAgIGZvciAodmFyIHcgPSAwOyB3IDwgZm9udC53ZWlnaHQubGVuZ3RoOyB3KyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBmb250LnN0eWxlLmxlbmd0aDsgcysrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZvbnRbZm9udC53ZWlnaHRbd10gKyAnLScgKyBmb250LnN0eWxlW3NdXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWxlc3RyaW5nID0gcm9vdCArICcvJyArIGZvbnQubmFtZSArICctJyArIGZvbnQud2VpZ2h0W3ddICsgJy0nICsgZm9udC5zdHlsZVtzXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RyaW5nID0gJ0Bmb250LWZhY2UgeycgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZm9udC1mYW1pbHk6IFwiJyArIGZvbnQubmFtZSArICctJyArIGZvbnQud2VpZ2h0W3ddICsgJ1wiOycgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3JjOic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGYgPSAwOyBmIDwgZm9ybWF0Lmxlbmd0aDsgZisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBmb3JtYXRTdHJbZm9ybWF0W2ZdXShmaWxlc3RyaW5nLCBmb250Lm5hbWUsIGZvbnQuc3R5bGVbc10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZiA8IGZvcm1hdC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gJywnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gJzsnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9ICdmb250LXdlaWdodDogJyArIGZvbnQud2VpZ2h0W3ddICsgJzsnO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSAnZm9udC1zdHlsZTonICsgZm9udC5zdHlsZVtzXSArICc7fSc7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFtmb250LndlaWdodFt3XSArICctJyArIGZvbnQuc3R5bGVbc11dID0gc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBmb250W2ZvbnQud2VpZ2h0W3ddICsgJy0nICsgZm9udC5zdHlsZVtzXV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlKHBhdGgpIHtcclxuICAgICAgICB2YXIgc3RyaW5nID0gJyc7XHJcbiAgICAgICAgZm9yICh2YXIgZmFtaWx5IGluIGZhbWlsaWVzKSB7XHJcbiAgICAgICAgICAgIGlmIChmYW1pbGllcy5oYXNPd25Qcm9wZXJ0eShmYW1pbHkpKSB7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZm9udFN0cmluZyhmYW1pbGllc1tmYW1pbHldLCBwYXRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHN0cmluZztcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gaW5BcnJheShhcnJheSwgdmFsdWUpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoYXJyYXlbaV0gPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgZGVmaW5lKCdmb250JywgZnVuY3Rpb24gKHBhdGgsIGZvbnQsIHdlaWdodCwgc3R5bGUpIHtcclxuICAgICAgICBpZiAoIWZhbWlsaWVzW2ZvbnRdKSB7XHJcbiAgICAgICAgICAgIGZhbWlsaWVzW2ZvbnRdID0ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogZm9udFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZmFtaWxpZXNbZm9udF1bd2VpZ2h0ICsgJy0nICsgc3R5bGVdKSByZXR1cm47XHJcbiAgICAgICAgaWYgKCFmYW1pbGllc1tmb250XS53ZWlnaHQpIGZhbWlsaWVzW2ZvbnRdLndlaWdodCA9IFtdO1xyXG4gICAgICAgIGlmICghZmFtaWxpZXNbZm9udF0uc3R5bGUpIGZhbWlsaWVzW2ZvbnRdLnN0eWxlID0gW107XHJcbiAgICAgICAgaWYgKCFpbkFycmF5KGZhbWlsaWVzW2ZvbnRdLndlaWdodCwgd2VpZ2h0KSkgZmFtaWxpZXNbZm9udF0ud2VpZ2h0LnB1c2god2VpZ2h0KTtcclxuICAgICAgICBpZiAoIWluQXJyYXkoZmFtaWxpZXNbZm9udF0uc3R5bGUsIHN0eWxlKSkgZmFtaWxpZXNbZm9udF0uc3R5bGUucHVzaChzdHlsZSk7XHJcbiAgICAgICAgdXBkYXRlKHBhdGgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZGVmaW5lKCdmb250Rm9ybWF0cycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb3JtYXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goZm9ybWF0W2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH0pXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8yNi8yMDE3LlxyXG4gKi9cclxuJFIuJChbZnVuY3Rpb24gSW5qZWN0aW9uQ29udGFpbmVyUHJvdmlkZXIoKSB7XHJcblxyXG4gICAgZnVuY3Rpb24gSW5qZWN0aW9uKGNvbikge1xyXG4gICAgICAgIHZhciBjb25zdHJ1Y3RvciA9IGNvbiwgaW5zdGFuY2UgPSBudWxsLFxyXG4gICAgICAgICAgICBkZXBlbmRlbmNpZXMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb24gPT09IFwiZnVuY3Rpb25cIiAmJiBjb24ubmFtZSkge1xyXG4gICAgICAgICAgICBjb25zdHJ1Y3RvciA9IGNvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNvbiA9PSBcIm9iamVjdFwiICYmIGNvbi5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uW2ldID09IFwic3RyaW5nXCIgJiYgY29uW2ldLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llcy5wdXNoKGNvbltpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29uW2ldID09IFwiZnVuY3Rpb25cIiAmJiBjb25baV0ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gY29uW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWNvbnN0cnVjdG9yKSB0aHJvdyBuZXcgRXJyb3IoJ0luamVjdGlvbiBjb25zdHJ1Y3RvciB1bmRlZmluZWQhJyk7XHJcblxyXG4gICAgICAgIHRoaXMubmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLm5hbWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGRlcGVuZGVuY2llc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmV4dGVuZCA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGluamVjdGlvbk5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGluamVjdGlvbk5hbWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGNvbnRhaW5lci5maW5kU291cmNlQnlJbmplY3Rpb25OYW1lKGluamVjdGlvbk5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlnID0gc291cmNlLnJlc29sdmVJbmplY3Rpb25EZXBlbmRhbmNpZXMoaW5qZWN0aW9uTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuJGNvbnN0cnVjdG9yLmFwcGx5KHRhcmdldCwgY29uZmlnLmRlcGVuZGVuY2llcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBmaW5kIGluamVjdGlvbiBbJyArIGluamVjdGlvbk5hbWUgKyAnXScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4dGVuZCBjbGFzcyBuYW1lIHNob3VsZCBiZSBhIHN0cmluZyEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4dGVuZCB0YXJnZXQgc2hvdWxkIGJlIGFuIG9iamVjdCEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuaW5qZWN0ID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGluamVjdGlvbk5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb250YWluZXIucmVzb2x2ZURpcmVjdEluamVjdGlvbihpbmplY3Rpb25OYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24gKGFyZ3MsIGRpcmVjdCkge1xyXG4gICAgICAgICAgICBpZiAoZGlyZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBhcmdzLnVuc2hpZnQobnVsbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShjb25zdHJ1Y3RvciwgYXJncykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3MudW5zaGlmdChudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoY29uc3RydWN0b3IsIGFyZ3MpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuJGNvbnN0cnVjdG9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29uc3RydWN0b3I7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbmplY3Rpb24oY29uKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIFNvdXJjZUNvbnRhaW5lcihwcmVmaXgsIGNvbnRhaW5lciwgbG9vcCkge1xyXG4gICAgICAgIHZhciBwZnggPSBwcmVmaXggPyBwcmVmaXggOiBmYWxzZSxcclxuICAgICAgICAgICAgY29udGFpbmVycyA9IFtdO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGNvbnRhaW5lciA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIGlmIChjb250YWluZXIuY29uc3RydWN0b3IgPT09IEluamVjdGlvbkNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVycyA9IFtjb250YWluZXJdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY29udGFpbmVyLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250YWluZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyW2ldLmNvbnN0cnVjdG9yID09PSBJbmplY3Rpb25Db250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVycy5wdXNoKGNvbnRhaW5lcltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyLmxlbmd0aCA9PSAwKSB2YWxpZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHRocm93IG5ldyBFcnJvcignQ29udGFpbmVyIGFycmF5IGlzIGVtcHR5IScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHR5cGUgaWYgY29udGFpbmVyIScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc3RyaXBQcmVmaXgobmFtZSkge1xyXG4gICAgICAgICAgICBpZiAocHJlZml4KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RyaW5nID0gJyc7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+PSBwZngubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBuYW1lW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5hbWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNoZWNrID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChwcmVmaXgpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlZml4Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuYW1lW2ldIHx8IG5hbWVbaV0gIT09IHByZWZpeFtpXSkgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmhhcyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2sobmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHJpcE5hbWUgPSBzdHJpcFByZWZpeChuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyc1tpXS5oYXMoc3RyaXBOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmxvb3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsb29wO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuY29udGFpbmVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcnM7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyc1tpXS5zb3VyY2UuYXBwbHkoY29udGFpbmVyc1tpXSwgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucHJlZml4ID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgICAgICBpZiAoc3RyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHIgPT09IHBmeDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcGZ4O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucmVzb2x2ZSA9IGZ1bmN0aW9uIChuYW1lLCBkaXJlY3QpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RyaXBOYW1lID0gc3RyaXBQcmVmaXgobmFtZSk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRhaW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyc1tpXS5oYXMoc3RyaXBOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBjb250YWluZXJzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzb3VyY2UpIHJlc3VsdCA9IHNvdXJjZS5yZXNvbHZlKHN0cmlwTmFtZSwgZGlyZWN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucmVzb2x2ZUluamVjdGlvbkRlcGVuZGFuY2llcyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHZhciBzdHJpcE5hbWUgPSBzdHJpcFByZWZpeChuYW1lKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXJzW2ldLmhhcyhzdHJpcE5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IGNvbnRhaW5lcnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5yZXNvbHZlKHN0cmlwTmFtZSwnZXh0ZW5kJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIEluamVjdGlvbkNvbnRhaW5lcihsaWIpIHtcclxuICAgICAgICB2YXIgbGlicmFyeSA9IHR5cGVvZiBsaWIgPT0gXCJvYmplY3RcIiA/IGxpYiA6IHt9LFxyXG4gICAgICAgICAgICBzb3VyY2VzID0ge307XHJcblxyXG4gICAgICAgIHRoaXMubGlzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxpYnJhcnk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5pbmplY3Rpb24gPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHZhciBjb25zdHJ1Y3RvciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5uYW1lICYmIGNvbmZpZy5uYW1lLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gY29uZmlnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbm9ueW1vdXMgZnVuY3Rpb24gY2FuIG5vdCBiZSBpbmplY3Rpb24gY29uc3RydWN0b3IuJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNvbmZpZyA9PSBcIm9iamVjdFwiICYmIGNvbmZpZy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWdbaV0gPT0gXCJzdHJpbmdcIiAmJiBjb25maWdbaV0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llcy5wdXNoKGNvbmZpZ1tpXSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNvbmZpZ1tpXSA9PSBcImZ1bmN0aW9uXCIgJiYgY29uZmlnW2ldLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RydWN0b3IgPSBjb25maWdbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHR5cGUgb2YgaW5qZWN0aW9uIG5hbWUgb3IgY29uc3RydWN0b3IuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHR5cGUgb2YgaW5qZWN0aW9uIGNvbmZpZy4nKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGVwZW5kZW5jaWVzLnB1c2goY29uc3RydWN0b3IpO1xyXG5cclxuICAgICAgICAgICAgbGlicmFyeVtjb25zdHJ1Y3Rvci5uYW1lXSA9IG5ldyBJbmplY3Rpb24oZGVwZW5kZW5jaWVzKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnNvdXJjZSA9IGZ1bmN0aW9uIChjb250YWluZXIsIHByZWZpeGtleSkge1xyXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyICYmIHR5cGVvZiBjb250YWluZXIgPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5jb25zdHJ1Y3RvciA9PT0gSW5qZWN0aW9uQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmVmaXhrZXkpIHByZWZpeGtleSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIHByZWZpeGtleSA9PSBcInN0cmluZ1wiICYmIHByZWZpeGtleS5sZW5ndGgpIHx8IHByZWZpeGtleSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLiQkTE9PUCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb29wID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiRMT09QKSBsb29wID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGNvbnRhaW5lci4kJExPT09QO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzW3ByZWZpeGtleSA/IHByZWZpeGtleSA6ICckJG5vcHJlZml4J10gPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNvdXJjZUNvbnRhaW5lcihwcmVmaXhrZXksIFtjb250YWluZXJdLCBbbG9vcF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb250YWluZXIuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkID0gdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9vcCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRhaW5lci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRhaW5lcltpXSA9PSBcIm9iamVjdFwiICYmIGNvbnRhaW5lcltpXS5jb25zdHJ1Y3RvciA9PSBJbmplY3Rpb25Db250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcltpXS4kJExPT09QID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiQkTE9PT1ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb29wLnB1c2godHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb29wLnB1c2goZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlICBjb250YWluZXJbaV0uJCRMT09PUDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJlZml4a2V5KSBwcmVmaXhrZXkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIHByZWZpeGtleSA9PSBcInN0cmluZ1wiICYmIHByZWZpeGtleS5sZW5ndGgpIHx8IHByZWZpeGtleSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXNbcHJlZml4a2V5ID8gcHJlZml4a2V5IDogJyQkbm9wcmVmaXgnXSA9IG5ldyBTb3VyY2VDb250YWluZXIocHJlZml4a2V5LCBjb250YWluZXIsIGxvb3ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvdXJjZSBjb250YWluZXIgY29uZmlnIGlzIG5vdCB2YWxpZC4gT25lIG9mIHRoZSBjb250YWluZXJzIHByb3ZpZGVkIGlzIG5vdCBhbiBJbmplY3Rpb25Db250YWluZXIgaW5zdGFuY2UnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmNsb25lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3TGlicmFyeSA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpbmplY3Rpb24gaW4gbGlicmFyeSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxpYnJhcnkuaGFzT3duUHJvcGVydHkoaW5qZWN0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0xpYnJhcnlbaW5qZWN0aW9uXSA9IGxpYnJhcnlbaW5qZWN0aW9uXS5jbG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBuZXdDb250YWluZXIgPSBuZXcgSW5qZWN0aW9uQ29udGFpbmVyKG5ld0xpYnJhcnkpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBzb3VyY2UgaW4gc291cmNlcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lcnMgPSBzb3VyY2VzW3NvdXJjZV0uY29udGFpbmVycygpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZWxvb3AgPSBzb3VyY2VzW3NvdXJjZV0ubG9vcCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZXByZWZpeCA9IHNvdXJjZXNbc291cmNlXS5wcmVmaXgoKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXdjb250YWluZXJzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250YWluZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZWxvb3BbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Y29udGFpbmVycy5wdXNoKG5ld0NvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdjb250YWluZXJzLnB1c2goY29udGFpbmVyc1tpXS5jbG9uZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbmV3Q29udGFpbmVyLnNvdXJjZShuZXdjb250YWluZXJzLCBzb3VyY2VwcmVmaXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBuZXdDb250YWluZXI7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5maW5kU291cmNlQnlQcmVmaXggPSBmdW5jdGlvbiAocHJlZml4KSB7XHJcbiAgICAgICAgICAgIGlmIChwcmVmaXggPT09IGZhbHNlKSByZXR1cm4gc291cmNlcy4kJG5vcHJlZml4O1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwcmVmaXggPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2VzW3ByZWZpeF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZmluZFNvdXJjZUJ5SW5qZWN0aW9uTmFtZSA9IGZ1bmN0aW9uIChpbmplY3Rpb25OYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgcHJlZml4IGluIHNvdXJjZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VzLmhhc093blByb3BlcnR5KHByZWZpeCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlc1twcmVmaXhdLnByZWZpeCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VzW3ByZWZpeF0uaGFzKGluamVjdGlvbk5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBzb3VyY2VzW3ByZWZpeF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXNvdXJjZSAmJiBzb3VyY2VzLiQkbm9wcmVmaXggJiYgc291cmNlcy4kJG5vcHJlZml4LmhhcyhpbmplY3Rpb25OYW1lKSkgc291cmNlID0gc291cmNlcy4kJG5vcHJlZml4O1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnJlc29sdmUgPSBmdW5jdGlvbiAobmFtZSwgZGlyZWN0KSB7XHJcbiAgICAgICAgICAgIGlmIChkaXJlY3QgPT09ICdleHRlbmQnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYobGlicmFyeVtuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llcyA6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkY29uc3RydWN0b3IgOiBsaWJyYXJ5W25hbWVdLiRjb25zdHJ1Y3RvcigpXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jaWVzID0gbGlicmFyeVtuYW1lXS5kZXBlbmRlbmNpZXMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBkID0gMCA7IGQgPCBkZXBlbmRlbmNpZXMubGVuZ3RoOyBkKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcGVuZGVuY2llc1tkXSA9PSAnQGV4dGVuZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5kZXBlbmRlbmNpZXMucHVzaChsaWJyYXJ5W25hbWVdLmV4dGVuZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGVwZW5kZW5jaWVzW2RdID09ICdAaW5qZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlcGVuZGVuY2llcy5wdXNoKGxpYnJhcnlbbmFtZV0uaW5qZWN0KHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcmMgPSB0aGlzLmZpbmRTb3VyY2VCeUluamVjdGlvbk5hbWUoZGVwZW5kZW5jaWVzW2RdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNyYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5kZXBlbmRlbmNpZXMucHVzaChzcmMucmVzb2x2ZShkZXBlbmRlbmNpZXNbZF0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGluamVjdCBbJyArIGRlcGVuZGVuY2llc1tkXSArICddIHdoaWxlIGRpcmVjdCBpbmplY3Rpb24gcHJvY2Vzcy4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGluamVjdCBbJyArIG5hbWUgKyAnXSBubyBzdWNoIGluamVjdGlvbiBmb3VuZCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzKG5hbWUpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZXBlbmRlbmNpZXMgPSBsaWJyYXJ5W25hbWVdLmRlcGVuZGVuY2llcygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVwZW5kZW5jaWVzW2ldID09ICdAZXh0ZW5kJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGxpYnJhcnlbbmFtZV0uZXh0ZW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkZXBlbmRlbmNpZXNbaV0gPT0gJ0BpbmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2gobGlicmFyeVtuYW1lXS5pbmplY3QodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoZGVwZW5kZW5jaWVzW2ldLmNoYXJBdCgwKSA9PT0gJy4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2gobGlicmFyeVtuYW1lXS4kY29uc3RydWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZmluZFNvdXJjZUJ5SW5qZWN0aW9uTmFtZShkZXBlbmRlbmNpZXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChzb3VyY2UucmVzb2x2ZShkZXBlbmRlbmNpZXNbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5qZWN0aW9uIFsnICsgZGVwZW5kZW5jaWVzW2ldICsgJ10gc291cmNlIHdhcyBub3QgZm91bmQuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsaWJyYXJ5W25hbWVdLmNyZWF0ZShhcmdzLCBkaXJlY3QpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5qZWN0aW9uIFsnICsgbmFtZSArICddIHdhcyBub3QgZm91bmQgaW4gbGlicmFyeSEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucmVzb2x2ZURpcmVjdEluamVjdGlvbiA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmZpbmRTb3VyY2VCeUluamVjdGlvbk5hbWUobmFtZSk7XHJcbiAgICAgICAgICAgIGlmKHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5yZXNvbHZlKG5hbWUsdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5oYXMgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gISFsaWJyYXJ5W25hbWVdO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgaWYgKGxpYnJhcnlbbmFtZV0pIHJldHVybiBsaWJyYXJ5W25hbWVdO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY29udGFpbmVyID0gZnVuY3Rpb24gKGxpYikge1xyXG4gICAgICAgIHJldHVybiBuZXcgSW5qZWN0aW9uQ29udGFpbmVyKGxpYik7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaW5qZWN0aW9uID0gZnVuY3Rpb24gKGNvbnN0dWN0b3IpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEluamVjdGlvbihjb25zdHVjdG9yKTtcclxuICAgIH07XHJcblxyXG59XSk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzI2LzIwMTcuXG4gKi9cbiRSLiQoWydAZGVmaW5lJywgJ0luamVjdGlvbkNvbnRhaW5lclByb3ZpZGVyJywnQXBwbGljYXRpb25Qcm92aWRlcicsIGZ1bmN0aW9uIEluamVjdG9yKGRlZmluZSwgcHJvdmlkZXIsIGFwcGxpY2F0aW9ucykge1xuXG4gICAgLy9UT0RPOiBvbkluaXQgZXZlbnQgaGFuZGxpbmcgZm9yIHByb3ZpZGVycyByZXF1aXJpbmcgY29yZSB0byBiZSBidWlsdCBmb3Igc29tZSBmdW5jdGlvbmFsaXR5XG5cbiAgICB2YXIgZXh0ZW5zaW9ucyA9IHt9LFxuICAgICAgICBwYXJ0cyA9IHt9O1xuXG4gICAgdGhpcy5leHRlbnNpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIGZvcih2YXIgZXh0IGluIGV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgIGlmKGV4dGVuc2lvbnMuaGFzT3duUHJvcGVydHkoZXh0KSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGV4dGVuc2lvbnNbZXh0XS5jbG9uZSgpKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUV4dGVuc2lvbkNvbnRhaW5lcihuYW1lKSB7XG4gICAgICAgIGlmICghZXh0ZW5zaW9uc1tuYW1lXSkge1xuICAgICAgICAgICAgZXh0ZW5zaW9uc1tuYW1lXSA9IHByb3ZpZGVyLmNvbnRhaW5lcigpO1xuICAgICAgICAgICAgcmV0dXJuIGV4dGVuc2lvbnNbbmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZXh0ZW5zaW9uc1tuYW1lXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhcnRDb250YWluZXIoZXh0ZW5zaW9uKSB7XG4gICAgICAgIGlmICghcGFydHNbZXh0ZW5zaW9uXSkge1xuICAgICAgICAgICAgcGFydHNbZXh0ZW5zaW9uXSA9IHByb3ZpZGVyLmNvbnRhaW5lcigpO1xuICAgICAgICAgICAgY3JlYXRlRXh0ZW5zaW9uQ29udGFpbmVyKGV4dGVuc2lvbikuc291cmNlKHBhcnRzW2V4dGVuc2lvbl0sJyQnKTtcbiAgICAgICAgICAgIHJldHVybiBwYXJ0c1tleHRlbnNpb25dO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnRzW2V4dGVuc2lvbl07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZWZpbmUoJ2V4dCcsIGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT0gXCJmdW5jdGlvblwiICYmIGNvbmZpZy5uYW1lKSB7XG4gICAgICAgICAgICBpZiAoIWV4dGVuc2lvbnNbY29uZmlnLm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlRXh0ZW5zaW9uQ29udGFpbmVyKGNvbmZpZy5uYW1lKS5pbmplY3Rpb24oY29uZmlnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXh0ZW5zaW9uIGNvbnN0dWN0b3IgaXMgbm90IGEgbmFtZWQgZnVuY3Rpb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29uZmlnID09IFwib2JqZWN0XCIgJiYgY29uZmlnLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBudWxsO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZ1tpXSA9PT0gXCJmdW5jdGlvblwiICYmIGNvbmZpZ1tpXS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWUgPSBjb25maWdbaV0ubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgIGlmICghZXh0ZW5zaW9uc1tuYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVFeHRlbnNpb25Db250YWluZXIoY29uZmlnLm5hbWUpLmluamVjdGlvbihjb25maWcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHRlbnNpb24gY29uc3RydWN0b3Igd2FzIG5vdCBmb3VuZCEnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnN0cnVjdG9yIG5vdCBmb3VuZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV3JvbmcgYXJndW1lbnRzJyk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgZGVmaW5lKCdwYXJ0JywgZnVuY3Rpb24gKGV4dCwgY29uZmlnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZXh0ID09IFwic3RyaW5nXCIgJiYgZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09IFwiZnVuY3Rpb25cIiAmJiBjb25maWcubmFtZSkge1xuICAgICAgICAgICAgICAgIGNyZWF0ZVBhcnRDb250YWluZXIoZXh0KS5pbmplY3Rpb24oY29uZmlnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjb25maWcgPT0gXCJvYmplY3RcIiAmJiBjb25maWcuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWdbaV0gPT0gXCJmdW5jdGlvblwiICYmIGNvbmZpZ1tpXS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gY29uZmlnLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVQYXJ0Q29udGFpbmVyKGV4dCkuaW5qZWN0aW9uKGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4dGVuc2lvbiBbJyArIGV4dCArICddIHBhcnQgQ29uc3RydWN0b3Igd2FzIG5vdCBmb3VuZC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hvc3QgZXh0ZW5zaW9uIHdhcyBub3Qgc3BlY2lmaWVkIScpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnBhcnQoJ01vcnBoaW5lJywgW2Z1bmN0aW9uIE1vcnBoaW5lICgpIHtcclxuXHJcbiAgICB2YXIgZWFzaW5nID0gbnVsbCxcclxuICAgICAgICBkdXJhdGlvbiA9IDEsXHJcbiAgICAgICAgcmVwZWF0ID0gZmFsc2UsXHJcbiAgICAgICAgcmVwZWF0Q291bnQgPSAxLFxyXG4gICAgICAgIHN0YXJ0X3RpbWUgPSBudWxsLFxyXG4gICAgICAgIGZ1bmMgPSBudWxsLFxyXG4gICAgICAgIHN0YXJ0ID0gMCxcclxuICAgICAgICBlbmQgPSAwO1xyXG5cclxuICAgIHRoaXMuZG9uZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gZG9uZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5wYXVzZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwYXN1ZWQgPSB0cnVlO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnBhdXNlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gcGFzdWVkO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZG9uZSA9IHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBwcm9ncmVzcyA9IDAsXHJcbiAgICAgICAgcGFzdWVkID0gZmFsc2UsXHJcbiAgICAgICAgZG9uZSA9IGZhbHNlO1xyXG5cclxuICAgIGZ1bmN0aW9uIFRpY2sodGltZSkge1xyXG4gICAgICAgIGlmKCFkb25lKSB7XHJcbiAgICAgICAgICAgIGlmKHBhc3VlZCkge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRfdGltZSAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIChkdXJhdGlvbipwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoIXN0YXJ0X3RpbWUpIHN0YXJ0X3RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgICAgIHByb2dyZXNzID0gKHRpbWUgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uO1xyXG5cclxuICAgICAgICAgICAgaWYocHJvZ3Jlc3MgPiAxKSBwcm9ncmVzcyA9IDE7XHJcbiAgICAgICAgICAgIGlmKHByb2dyZXNzID09IDEpIHtcclxuICAgICAgICAgICAgICAgIGlmKCFyZXBlYXQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocmVwZWF0Q291bnQgPiAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihyZXBlYXRDb3VudCAhPT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdENvdW50IC0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydF90aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuYy5hcHBseShudWxsLCBbcHJvZ3Jlc3MsIGVhc2luZygodGltZSAtIHN0YXJ0X3RpbWUpIC8gMTAwMCwgc3RhcnQsIGVuZCAtIHN0YXJ0LCBkdXJhdGlvbiAvIDEwMDApLCBzdGFydF90aW1lXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKHMsZSxmLGR1cixlYXNlLHJwdCkge1xyXG5cclxuICAgICAgICBpZih0eXBlb2YgcyAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgZSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgZHVyICE9PSBcIm51bWJlclwiIHx8IGR1ciA8IDAgKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmKHR5cGVvZiBlYXNlICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybjtcclxuICAgICAgICBpZih0eXBlb2YgZiAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmKHR5cGVvZiBycHQgPT0gXCJudW1iZXJcIikgcmVwZWF0ID0gcnB0O1xyXG5cclxuICAgICAgICBzdGFydCA9IHM7XHJcbiAgICAgICAgZW5kID0gZTtcclxuICAgICAgICBlYXNpbmcgPSBlYXNlO1xyXG4gICAgICAgIGZ1bmMgPSBmO1xyXG4gICAgICAgIGR1cmF0aW9uID0gZHVyID4gMCA/IGR1ciA6IDE7XHJcblxyXG4gICAgICAgIGRlbGV0ZSB0aGlzLmNvbmZpZztcclxuXHJcbiAgICAgICAgcmV0dXJuIFRpY2s7XHJcbiAgICB9XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJywgWydEZWJ1ZycsICdAYXBwJywgJyQkY29uZmlnJywgZnVuY3Rpb24gVHJlZShEZWJ1ZywgYXBwLCBjb25maWcpIHtcclxuXHJcbiAgICB2YXIgcm9vdCA9IG51bGwsIGNvbnRleHQgPSBudWxsLCByb290RHJhd2VyID0gbnVsbCwgcm9vdFN0eWxlID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLnJvb3QgPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICAgICAgaWYgKCFyb290KSB7XHJcbiAgICAgICAgICAgIGlmICghb2JqZWN0LnR5cGUgfHwgdHlwZW9mIG9iamVjdC50eXBlICE9PSBcImZ1bmN0aW9uXCIgfHwgb2JqZWN0LnR5cGUoKSAhPT0gJ0dyb3VwJykge1xyXG4gICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe30sICdUcmVlIC8gVW5hYmxlIHRvIHNldCB0cmVlIHJvb3QhIFdyb25nIG9iamVjdCB0eXBlIScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByb290ID0gb2JqZWN0O1xyXG5cclxuICAgICAgICAgICAgdmFyIGRyYXdlciA9IHJvb3QuZXh0ZW5zaW9uKCdEcmF3ZXInKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghZHJhd2VyKSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7fSwgJ1RyZWUgLyBVbmFibGUgdG8gZ2V0IERyYXdlciBleHRlbnNpb24hJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFkcmF3ZXIuZHJhdyB8fCB0eXBlb2YgZHJhd2VyLmRyYXcgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe30sICdUcmVlIC8gVW5hYmxlIHRvIHJlZ2lzdGVyIHJvb3QgRHJhd2VyLiBEcmF3ZXIuZHJhdyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcm9vdERyYXdlciA9IGRyYXdlcjtcclxuXHJcbiAgICAgICAgICAgIHJvb3RTdHlsZSA9IHJvb3QuZXh0ZW5zaW9uKCdTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJvb3Q7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcm9vdDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGFwcC4kKCd0aWNrJywgZnVuY3Rpb24gKGRhdGUsIGNhbnZhcykge1xyXG4gICAgICAgIGlmICghcm9vdCB8fCAhcm9vdERyYXdlcikgcmV0dXJuO1xyXG4gICAgICAgIGlmICghY29udGV4dCkgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIGlmIChjb25maWcuY2xlYXIgPT09IHRydWUpIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy5vZmZzZXRXaWR0aCwgY2FudmFzLm9mZnNldEhlaWdodCk7XHJcbiAgICAgICAgcm9vdERyYXdlci5kcmF3LmNhbGwocm9vdCwgY29udGV4dCk7XHJcblxyXG4gICAgfSk7XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTAvMjAxNy5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnLCBbZnVuY3Rpb24gQ2FudmFzKCkge1xyXG5cclxuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSxcclxuICAgICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG4gICAgdmFyIHcgPSAwLCBoID0gMDtcclxuXHJcbiAgICB0aGlzLmNvbnRleHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgdyA9IHZhbHVlO1xyXG4gICAgICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHc7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmhlaWdodCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBoID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGg7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmV4cG9ydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY2FudmFzO1xyXG4gICAgfTtcclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMC8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnT2JqZWN0cycsIGZ1bmN0aW9uIENvbG9ySGVscGVyICgpIHtcclxuXHJcbiAgICBmdW5jdGlvbiBOb3JtYWxpemVDb2xvckFycmF5IChhcnJheSkge1xyXG4gICAgICAgIGlmKGFycmF5ICE9PSBmYWxzZSAmJiBhcnJheSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9MCA7aSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhcnJheVtpXSA9IGFycmF5W2ldIDw9IDI1NSA/IGFycmF5W2ldIDogMjU1O1xyXG4gICAgICAgICAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtpXSA+PSAwID8gYXJyYXlbaV0gOjA7XHJcbiAgICAgICAgICAgICAgICBhcnJheVtpXSA9IChpICE9PSAzICYmIGFycmF5W2ldICE9PSAwKSA/IHBhcnNlSW50KGFycmF5W2ldKSA6IGFycmF5W2ldO1xyXG4gICAgICAgICAgICAgICAgYXJyYXlbaV0gPSAoKGkgPT0gMykgJiYgYXJyYXlbaV0pIDw9MSA/IGFycmF5W2ldIDogMTtcclxuICAgICAgICAgICAgICAgIGFycmF5W2ldID0gTWF0aC5hYnMoYXJyYXlbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhcnJheTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gUGFyc2VDb2xvdXIgKGNvbG9yKSB7XHJcbiAgICAgICAgdmFyIGNhY2hlXHJcbiAgICAgICAgICAgICwgcCA9IHBhcnNlSW50IC8vIFVzZSBwIGFzIGEgYnl0ZSBzYXZpbmcgcmVmZXJlbmNlIHRvIHBhcnNlSW50XHJcbiAgICAgICAgICAgICwgY29sb3IgPSBjb2xvci5yZXBsYWNlKC9cXHNcXHMqL2csJycpIC8vIFJlbW92ZSBhbGwgc3BhY2VzXHJcbiAgICAgICAgICAgIDsvL3ZhclxyXG5cclxuICAgICAgICAvLyBDaGVja3MgZm9yIDYgZGlnaXQgaGV4IGFuZCBjb252ZXJ0cyBzdHJpbmcgdG8gaW50ZWdlclxyXG4gICAgICAgIGlmIChjYWNoZSA9IC9eIyhbXFxkYS1mQS1GXXsyfSkoW1xcZGEtZkEtRl17Mn0pKFtcXGRhLWZBLUZdezJ9KS8uZXhlYyhjb2xvcikpXHJcbiAgICAgICAgICAgIGNhY2hlID0gW3AoY2FjaGVbMV0sIDE2KSwgcChjYWNoZVsyXSwgMTYpLCBwKGNhY2hlWzNdLCAxNildO1xyXG5cclxuICAgICAgICAvLyBDaGVja3MgZm9yIDMgZGlnaXQgaGV4IGFuZCBjb252ZXJ0cyBzdHJpbmcgdG8gaW50ZWdlclxyXG4gICAgICAgIGVsc2UgaWYgKGNhY2hlID0gL14jKFtcXGRhLWZBLUZdKShbXFxkYS1mQS1GXSkoW1xcZGEtZkEtRl0pLy5leGVjKGNvbG9yKSlcclxuICAgICAgICAgICAgY2FjaGUgPSBbcChjYWNoZVsxXSwgMTYpICogMTcsIHAoY2FjaGVbMl0sIDE2KSAqIDE3LCBwKGNhY2hlWzNdLCAxNikgKiAxN107XHJcblxyXG4gICAgICAgIC8vIENoZWNrcyBmb3IgcmdiYSBhbmQgY29udmVydHMgc3RyaW5nIHRvXHJcbiAgICAgICAgLy8gaW50ZWdlci9mbG9hdCB1c2luZyB1bmFyeSArIG9wZXJhdG9yIHRvIHNhdmUgYnl0ZXNcclxuICAgICAgICBlbHNlIGlmIChjYWNoZSA9IC9ecmdiYVxcKChbXFxkXSspLChbXFxkXSspLChbXFxkXSspLChbXFxkXSt8W1xcZF0qLltcXGRdKylcXCkvLmV4ZWMoY29sb3IpKVxyXG4gICAgICAgICAgICBjYWNoZSA9IFsrY2FjaGVbMV0sICtjYWNoZVsyXSwgK2NhY2hlWzNdLCArY2FjaGVbNF1dO1xyXG5cclxuICAgICAgICAvLyBDaGVja3MgZm9yIHJnYiBhbmQgY29udmVydHMgc3RyaW5nIHRvXHJcbiAgICAgICAgLy8gaW50ZWdlci9mbG9hdCB1c2luZyB1bmFyeSArIG9wZXJhdG9yIHRvIHNhdmUgYnl0ZXNcclxuICAgICAgICBlbHNlIGlmIChjYWNoZSA9IC9ecmdiXFwoKFtcXGRdKyksKFtcXGRdKyksKFtcXGRdKylcXCkvLmV4ZWMoY29sb3IpKVxyXG4gICAgICAgICAgICBjYWNoZSA9IFsrY2FjaGVbMV0sICtjYWNoZVsyXSwgK2NhY2hlWzNdXTtcclxuXHJcbiAgICAgICAgLy8gT3RoZXJ3aXNlIHRocm93IGFuIGV4Y2VwdGlvbiB0byBtYWtlIGRlYnVnZ2luZyBlYXNpZXJcclxuICAgICAgICBlbHNlIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gUGVyZm9ybXMgUkdCQSBjb252ZXJzaW9uIGJ5IGRlZmF1bHRcclxuICAgICAgICBpc05hTihjYWNoZVszXSkgJiYgKGNhY2hlWzNdID0gMSk7XHJcblxyXG4gICAgICAgIC8vIEFkZHMgb3IgcmVtb3ZlcyA0dGggdmFsdWUgYmFzZWQgb24gcmdiYSBzdXBwb3J0XHJcbiAgICAgICAgLy8gU3VwcG9ydCBpcyBmbGlwcGVkIHR3aWNlIHRvIHByZXZlbnQgZXJyb3MgaWZcclxuICAgICAgICAvLyBpdCdzIG5vdCBkZWZpbmVkXHJcbiAgICAgICAgcmV0dXJuIE5vcm1hbGl6ZUNvbG9yQXJyYXkgKGNhY2hlLnNsaWNlKDAsNCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY29sb3JUb0FycmF5ID0gUGFyc2VDb2xvdXI7XHJcbiAgICB0aGlzLm5vcm1hbGl6ZSA9IE5vcm1hbGl6ZUNvbG9yQXJyYXk7XHJcbiAgICB0aGlzLmlzQ29sb3IgPSBmdW5jdGlvbiAoYXJyYXkpIHtcclxuICAgICAgICB2YXIgZXJyb3IgPSBmYWxzZTtcclxuICAgICAgICBpZihhcnJheS5sZW5ndGggPT0gNCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsZXJyb3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZih0eXBlb2YgYXJyYXlbaV0gPT0gJ251bWJlcid8fCB0eXBlb2YgYXJyYXlbaV0gPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgIGFycmF5W2ldID09ICdzdHJpbmcnICYmIGlzTmFOKGFycmF5W2ldKjEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVycm9yID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdTaWxrIDogQ2hlY2sgZm9yIGNvbG9yIHVuc3VjY2Vzc2Z1bC4gXCInK2FycmF5KydcIiBpcyBub3QgYSBjb2xvciBBcnJheS4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICFlcnJvcjtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5hcnJheVRvQ29sb3IgPSBmdW5jdGlvbiAoYXJyYXkpIHtcclxuICAgICAgICBpZihhcnJheSAmJiBhcnJheS5sZW5ndGggPT00KSB7XHJcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSAncmdiYSgnO1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgPTA7IGk8IGFycmF5Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIHN0cmluZys9IGk9PTMgPyBhcnJheVtpXSArICcpJyA6IGFycmF5W2ldKycsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlICB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignVW5rbm93biBJbnB1dCBhcnJheSBmb3JtYXQuIFNob3VsZCBiZSBbUixHLEIsQV07Jyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTAvMjAxNy5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnLCBbJ0RlYnVnJywgZnVuY3Rpb24gRHJhd2VySGVscGVyKERlYnVnKSB7XHJcblxyXG4gICAgdmFyIHRleHREcmF3ZXJDb250ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICB0aGlzLm1lYXN1cmVUZXh0ID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICB0ZXh0RHJhd2VyQ29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgdmFyIHdpZHRoID0gZnVuYyh0ZXh0RHJhd2VyQ29udGV4dCk7XHJcbiAgICAgICAgdGV4dERyYXdlckNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy50cmFuc2Zvcm0gPSBmdW5jdGlvbiAob2JqZWN0LCBjb250ZXh0KSB7XHJcbiAgICAgICAgY29udGV4dC50cmFuc2Zvcm0uYXBwbHkoY29udGV4dCwgb2JqZWN0Lm1hdHJpeCgpLmV4dHJhY3QoKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZHJhd0xpbmVCZ0NsaXBQYXRoID0gZnVuY3Rpb24gKGNvbnRleHQsIHBhdGgsIHN0eWxlLCBhc3NlbWJsZXIsIHNwcml0ZSkge1xyXG4gICAgICAgIHZhciBiZyA9IHN0eWxlLmdldCgnYmcnKSxcclxuICAgICAgICAgICAgYmdzaXplID0gc3R5bGUuZ2V0KCdiZ1NpemUnKSxcclxuICAgICAgICAgICAgYmdwb3NpdGlvbiA9IHN0eWxlLmdldCgnYmdQb3NpdGlvbicpO1xyXG5cclxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjb250ZXh0Lm1vdmVUbyhwYXRoWzBdWzBdLCBwYXRoWzBdWzFdKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB4MSA9IHBhdGhbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICB5MSA9IHBhdGhbaV1bMV0sXHJcbiAgICAgICAgICAgICAgICB4MiA9IHBhdGhbaV1bMl0sXHJcbiAgICAgICAgICAgICAgICB5MiA9IHBhdGhbaV1bM107XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB4MiAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHgyLCB5Mik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIGNvbnRleHQuY2xpcCgpO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBiID0gMDsgYiA8IGJnLmxlbmd0aDsgYisrKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWJnW2JdLmxvYWRlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICBiZ1tiXS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgIHZhciBiZ3dpZHRoID0gYm94LnNpemVbMF0gKiBiZ3NpemVbYl1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgYmdoZWlnaHQgPSBib3guc2l6ZVsxXSAqIGJnc2l6ZVtiXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9ueCA9IGJveC5zaXplWzBdICogYmdwb3NpdGlvbltiXVswXSxcclxuICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9ueSA9IGJveC5zaXplWzFdICogYmdwb3NpdGlvbltiXVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShzcHJpdGUubWFyZ2luWzNdICsgYmdwb3NpdGlvbngsIHNwcml0ZS5tYXJnaW5bMF0gKyBiZ3Bvc2l0aW9ueSk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShiZ1tpXS5leHBvcnQoKSwgMCwgMCwgYmd3aWR0aCwgYmdoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZHJhd0JlemllckJnQ2xpcFBhdGggPSBmdW5jdGlvbiAoY29udGV4dCwgcGF0aCwgc3R5bGUsIGFzc2VtYmxlciwgc3ByaXRlKSB7XHJcbiAgICAgICAgdmFyIGJnID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICBiZ3NpemUgPSBzdHlsZS5nZXQoJ2JnU2l6ZScpLFxyXG4gICAgICAgICAgICBiZ3Bvc2l0aW9uID0gc3R5bGUuZ2V0KCdiZ1Bvc2l0aW9uJyk7XHJcblxyXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG5cclxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGNvbnRleHQubW92ZVRvKHBhdGhbMF1bMF0sIHBhdGhbMF1bMV0pO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgeDEgPSBwYXRoW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgeTEgPSBwYXRoW2ldWzFdLFxyXG4gICAgICAgICAgICAgICAgeDIgPSBwYXRoW2ldWzJdLFxyXG4gICAgICAgICAgICAgICAgeTIgPSBwYXRoW2ldWzNdLFxyXG4gICAgICAgICAgICAgICAgYXgxID0gcGF0aFtpXVs0XSxcclxuICAgICAgICAgICAgICAgIGF5MSA9IHBhdGhbaV1bNV0sXHJcbiAgICAgICAgICAgICAgICBheDIgPSBwYXRoW2ldWzZdLFxyXG4gICAgICAgICAgICAgICAgYXkyID0gcGF0aFtpXVs3XTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgeDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHgyICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdJbnZhbGlkIHBhdGghJyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGF4MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgIGF4MiAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgYXkxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiAgYXkyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBjdXJ2ZSEnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyhheDEsIGF5MSwgYXgyLCBheTIsIHgyLCB5Mik7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIGNvbnRleHQuY2xpcCgpO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBiID0gMDsgYiA8IGJnLmxlbmd0aDsgYisrKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWJnW2JdLmxvYWRlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICBiZ1tiXS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgIHZhciBiZ3dpZHRoID0gYm94LnNpemVbMF0gKiBiZ3NpemVbYl1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgYmdoZWlnaHQgPSBib3guc2l6ZVsxXSAqIGJnc2l6ZVtiXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9ueCA9IGJveC5zaXplWzBdICogYmdwb3NpdGlvbltiXVswXSxcclxuICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9ueSA9IGJveC5zaXplWzFdICogYmdwb3NpdGlvbltiXVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShzcHJpdGUubWFyZ2luWzNdICsgYmdwb3NpdGlvbngsIHNwcml0ZS5tYXJnaW5bMF0gKyBiZ3Bvc2l0aW9ueSk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShiZ1tpXS5leHBvcnQoKSwgMCwgMCwgYmd3aWR0aCwgYmdoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kcmF3TGluZVBhdGhGaWxsID0gZnVuY3Rpb24gKGNvbnRleHQsIHBhdGgsIHN0eWxlKSB7XHJcbiAgICAgICAgdmFyIGZpbGwgPSBzdHlsZS5nZXQoJ2ZpbGwnKSxcclxuICAgICAgICAgICAgY2FwID0gc3R5bGUuZ2V0KCdjYXAnKTtcclxuXHJcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgY29udGV4dC5saW5lQ2FwID0gY2FwO1xyXG4gICAgICAgIGNvbnRleHQubW92ZVRvKHBhdGhbMF1bMF0sIHBhdGhbMF1bMV0pO1xyXG5cclxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhwYXRoKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB4MSA9IHBhdGhbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICB5MSA9IHBhdGhbaV1bMV0sXHJcbiAgICAgICAgICAgICAgICB4MiA9IHBhdGhbaV1bMl0sXHJcbiAgICAgICAgICAgICAgICB5MiA9IHBhdGhbaV1bM107XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB4MiAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29udGV4dC5saW5lVG8oeDIsIHkyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsO1xyXG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xyXG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kcmF3QmV6aWVyUGF0aEZpbGwgPSBmdW5jdGlvbiAoY29udGV4dCwgcGF0aCwgc3R5bGUpIHtcclxuICAgICAgICB2YXIgZmlsbCA9IHN0eWxlLmdldCgnZmlsbCcpLFxyXG4gICAgICAgICAgICBjYXAgPSBzdHlsZS5nZXQoJ2NhcCcpO1xyXG5cclxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgY29udGV4dC5saW5lQ2FwID0gY2FwO1xyXG5cclxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGNvbnRleHQubW92ZVRvKHBhdGhbMF1bMF0sIHBhdGhbMF1bMV0pO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHgxID0gcGF0aFtpXVswXSxcclxuICAgICAgICAgICAgICAgIHkxID0gcGF0aFtpXVsxXSxcclxuICAgICAgICAgICAgICAgIHgyID0gcGF0aFtpXVsyXSxcclxuICAgICAgICAgICAgICAgIHkyID0gcGF0aFtpXVszXSxcclxuICAgICAgICAgICAgICAgIGF4MSA9IHBhdGhbaV1bNF0sXHJcbiAgICAgICAgICAgICAgICBheTEgPSBwYXRoW2ldWzVdLFxyXG4gICAgICAgICAgICAgICAgYXgyID0gcGF0aFtpXVs2XSxcclxuICAgICAgICAgICAgICAgIGF5MiA9IHBhdGhbaV1bN107XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB4MiAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBheDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mICBheDIgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIGF5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgIGF5MiAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0ludmFsaWQgY3VydmUhJyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKGF4MSwgYXkxLCBheDIsIGF5MiwgeDIsIHkyKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsO1xyXG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xyXG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kcmF3TGluZVBhdGggPSBmdW5jdGlvbiAoY29udGV4dCwgcGF0aCwgc3R5bGUpIHtcclxuICAgICAgICB2YXIgc3Ryb2tlQ29sb3IgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICBzdHJva2VTdHlsZSA9IHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSxcclxuICAgICAgICAgICAgc3Ryb2tlQ2FwID0gc3R5bGUuZ2V0KCdjYXAnKTtcclxuXHJcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgIGNvbnRleHQubGluZUNhcCA9IHN0cm9rZUNhcDtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB4MSA9IHBhdGhbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICB5MSA9IHBhdGhbaV1bMV0sXHJcbiAgICAgICAgICAgICAgICB4MiA9IHBhdGhbaV1bMl0sXHJcbiAgICAgICAgICAgICAgICB5MiA9IHBhdGhbaV1bM107XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB4MiAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChzdHJva2VXaWR0aFtpXSA8IC4xKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4MiwgeTIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeDEsIHkxKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3JbaV07XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVdpZHRoW2ldO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdHlsZVtpXSk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh4MiwgeTIpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZHJhd0JlemllclBhdGggPSBmdW5jdGlvbiAoY29udGV4dCwgcGF0aCwgc3R5bGUpIHtcclxuICAgICAgICB2YXIgc3Ryb2tlQ29sb3IgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICBzdHJva2VTdHlsZSA9IHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSxcclxuICAgICAgICAgICAgc3Ryb2tlQ2FwID0gc3R5bGUuZ2V0KCdjYXAnKTtcclxuXHJcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgIGNvbnRleHQubGluZUNhcCA9IHN0cm9rZUNhcDtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB4MSA9IHBhdGhbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICB5MSA9IHBhdGhbaV1bMV0sXHJcbiAgICAgICAgICAgICAgICB4MiA9IHBhdGhbaV1bMl0sXHJcbiAgICAgICAgICAgICAgICB5MiA9IHBhdGhbaV1bM10sXHJcbiAgICAgICAgICAgICAgICBheDEgPSBwYXRoW2ldWzRdLFxyXG4gICAgICAgICAgICAgICAgYXkxID0gcGF0aFtpXVs1XSxcclxuICAgICAgICAgICAgICAgIGF4MiA9IHBhdGhbaV1bNl0sXHJcbiAgICAgICAgICAgICAgICBheTIgPSBwYXRoW2ldWzddO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB4MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeDIgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MiAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0ludmFsaWQgcGF0aCEnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiAgYXgyICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBheTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mICBheTIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdJbnZhbGlkIGN1cnZlIScpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChzdHJva2VXaWR0aFtpXSA8IC4xKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4MiwgeTIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHgxLCB5MSk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3JbaV07XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVdpZHRoW2ldO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdHlsZVtpXSk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oYXgxLCBheTEsIGF4MiwgYXkyLCB4MiwgeTIpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZHJhd1JlY3RGaWxsID0gZnVuY3Rpb24gKGNvbnRleHQsIHN0eWxlLCB4LCB5LCB3LCBoKSB7XHJcblxyXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG5cclxuICAgICAgICB2YXIgZmlsbCA9IHN0eWxlLmdldCgnZmlsbCcpO1xyXG5cclxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGw7XHJcblxyXG4gICAgICAgIGNvbnRleHQucmVjdCh4LCB5LCB3LCBoKTtcclxuXHJcbiAgICAgICAgY29udGV4dC5maWxsKCk7XHJcblxyXG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG5cclxuXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZHJhd1JlY3RTdHJva2UgPSBmdW5jdGlvbiAoY29udGV4dCwgc3R5bGUsIHgsIHksIHcsIGgpIHtcclxuICAgICAgICB2YXIgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJyksXHJcbiAgICAgICAgICAgIHN0cm9rZUNvbG9yID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICBzdHJva2VXaWR0aCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKTtcclxuXHJcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgIHZhciBfeCA9IDAsIF95ID0gMDtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcclxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yW2ldO1xyXG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVdpZHRoID0gc3Ryb2tlV2lkdGhbaV07XHJcbiAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbaV0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGlmIChpID09IDApIHtcclxuICAgICAgICAgICAgICAgIF94ID0geCArIHc7XHJcbiAgICAgICAgICAgICAgICBfeSA9IHk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGkgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgX3ggPSB4ICsgdztcclxuICAgICAgICAgICAgICAgIF95ID0geSArIGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGkgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgX3ggPSB4O1xyXG4gICAgICAgICAgICAgICAgX3kgPSB5ICsgaDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaSA9PSAzKSB7XHJcbiAgICAgICAgICAgICAgICBfeCA9IHg7XHJcbiAgICAgICAgICAgICAgICBfeSA9IHk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChzdHJva2VXaWR0aFtpXSA8IC4xKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhfeCwgX3kpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oX3gsIF95KTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnLCBmdW5jdGlvbiBFeHRlbnNpb24oKSB7XHJcblxyXG4gICAgdmFyIHByb3BlcnRpZXMgPSB7fSwgY2xlYXIgPSB7fSwgb2JqZWN0ID0gbnVsbCxcclxuICAgICAgICBhcHBsaWVzID0gW107XHJcblxyXG4gICAgdGhpcy5kZWZpbmVPYmplY3QgPSBmdW5jdGlvbiAobykge1xyXG4gICAgICAgIG9iamVjdCA9IG87XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuZGVmaW5lT2JqZWN0O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLm9iamVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gb2JqZWN0O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLm1hdGNoVHlwZSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgaWYgKGFwcGxpZXMubGVuZ3RoID09IDApIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXBwbGllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoYXBwbGllc1tpXSA9PT0gdHlwZSkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmFwcGx5VG8pIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYXBwbHlUbztcclxuICAgICAgICAgICAgZGVsZXRlICB0aGlzLm1hdGNoVHlwZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5hcHBseVRvID0gZnVuY3Rpb24gKHR5cGVzKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlcyA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGFwcGxpZXMucHVzaCh0eXBlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB0eXBlcyA9PSBcIm9iamVjdFwiICYmIHR5cGVzLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHR5cGVzW2ldID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHBsaWVzLnB1c2godHlwZXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlbGV0ZSB0aGlzLmFwcGx5VG87XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucmVnaXN0ZXIgPSBmdW5jdGlvbiAocHJvcGVydHksIGZ1bmMsIHRlbXApIHtcclxuICAgICAgICBpZiAoIXByb3BlcnRpZXNbcHJvcGVydHldKSBwcm9wZXJ0aWVzW3Byb3BlcnR5XSA9IGZ1bmM7XHJcbiAgICAgICAgaWYgKHRlbXApIGNsZWFyW3Byb3BlcnR5XSA9IHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMud3JhcCA9IGZ1bmN0aW9uIChvYmplY3QpIHtcclxuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgIGlmICghcHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBpZiAob2JqZWN0W3Byb3BlcnR5XSkgY29udGludWU7XHJcbiAgICAgICAgICAgIG9iamVjdFtwcm9wZXJ0eV0gPSBwcm9wZXJ0aWVzW3Byb3BlcnR5XTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRlbGV0ZSAgdGhpcy53cmFwO1xyXG4gICAgICAgIGRlbGV0ZSAgdGhpcy5yZWdpc3RlcjtcclxuICAgICAgICBkZWxldGUgIHRoaXMuY2xlYXI7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaGFzUHJvcGVydHkgPSBmdW5jdGlvbiAocHJvcCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcykge1xyXG4gICAgICAgICAgICBpZiAoIXByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwcm9wID09IHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY2xlYXIgPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBjbGVhcikge1xyXG4gICAgICAgICAgICBpZiAoIWNsZWFyLmhhc093blByb3BlcnR5KHByb3ApKSBjb250aW51ZTtcclxuICAgICAgICAgICAgZGVsZXRlICBvYmplY3RbcHJvcF07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDIvNy8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnT2JqZWN0cycsIFsnQGluamVjdCcsICdEZWJ1ZycsIGZ1bmN0aW9uIEdyYXBoaWNzQXNzZW1ibGVyKGluamVjdCwgRGVidWcpIHtcclxuXHJcbiAgICB2YXIgb3V0cHV0ID0gaW5qZWN0KCckQ2FudmFzJyksXHJcbiAgICAgICAgY29udGV4dCA9IG91dHB1dC5jb250ZXh0KCksXHJcbiAgICAgICAgcGlwZSA9IFtdLFxyXG4gICAgICAgIGxheWVycyA9IHt9LFxyXG4gICAgICAgIHcgPSAwLFxyXG4gICAgICAgIGggPSAwLFxyXG4gICAgICAgIGJveEV4dCA9IG51bGwsXHJcbiAgICAgICAgcmVzaXplZCA9IGZhbHNlLFxyXG4gICAgICAgIHJlYWR5ID0gZmFsc2U7XHJcblxyXG4gICAgZnVuY3Rpb24gU2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaXBlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHBpcGVbaV0uc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgb3V0cHV0LndpZHRoKHdpZHRoKTtcclxuICAgICAgICBvdXRwdXQuaGVpZ2h0KGhlaWdodCk7XHJcbiAgICAgICAgdyA9IHdpZHRoO1xyXG4gICAgICAgIGggPSBoZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29tcG9zZShjdHgpIHtcclxuICAgICAgICBpZighcmVzaXplZCkge1xyXG4gICAgICAgICAgICBpZihib3hFeHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzcHJpdGUgPSBib3hFeHQuYm94KCkuc3ByaXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZihzcHJpdGUuc2l6ZVswXSAhPT0gdyB8fCBzcHJpdGUuc2l6ZVsxXSAhPT0gaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFNldFNpemUoc3ByaXRlLnNpemVbMF0sc3ByaXRlLnNpemVbMV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc2l6ZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZighcmVhZHkpIHtcclxuICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwwLHcsaCk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGlwZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcGlwZVtpXS5kcmF3KGNvbnRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlYWR5ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZShvdXRwdXQuZXhwb3J0KCksMCwwKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmxheWVyID0gZnVuY3Rpb24gKG9yZGVyLCBuYW1lLCB1cGRhdGVGdW5jKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcmRlciAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBEZWJ1Zy53YXJuKHtvOiBvcmRlcn0sICdJbnZhbGlkIG9yZGVyIGFyZ3VtZW50IFt7b31dIGlzIG5vdCBhIG51bWJlci4nKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7bjogbmFtZX0sICdbe259XSBpcyBub3QgdmFsaWQgbmFtZSBmb3IgbGF5ZXInKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZUZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBEZWJ1Zy53YXJuKCd1cGRhdGVGdW5jIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsYXllcnNbbmFtZV0gPSBpbmplY3QoJyRHcmFwaGljc0Fzc2VtYmxlckxheWVyJyk7XHJcbiAgICAgICAgbGF5ZXJzW25hbWVdLmYodXBkYXRlRnVuYyk7XHJcbiAgICAgICAgbGF5ZXJzW25hbWVdLm9yZGVyaW5nKG9yZGVyKTtcclxuICAgICAgICBsYXllcnNbbmFtZV0udXBkYXRlKCk7XHJcbiAgICAgICAgcGlwZS5wdXNoKGxheWVyc1tuYW1lXSk7XHJcbiAgICAgICAgcGlwZS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLm9yZGVyaW5nKCkgLSBiLm9yZGVyaW5nKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZWFkeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gcmVhZHk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuYm94ID0gZnVuY3Rpb24gKGJveFByb3ZpZGVyKSB7XHJcbiAgICAgICAgYm94RXh0ID0gYm94UHJvdmlkZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgaWYgKHdpZHRoICE9PSB3IHx8IGhlaWdodCAhPT0gaCkge1xyXG4gICAgICAgICAgICBTZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICByZWFkeSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZXNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmVzaXplZCA9IGZhbHNlO1xyXG4gICAgICAgIHJlYWR5ID0gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICByZWFkeSA9IGZhbHNlO1xyXG4gICAgICAgIGxheWVyc1tuYW1lXS51cGRhdGUoKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kcmF3ID0gY29tcG9zZTtcclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMi83LzIwMTcuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJywgWydAaW5qZWN0JywgJ0RlYnVnJywgZnVuY3Rpb24gR3JhcGhpY3NBc3NlbWJsZXJMYXllcihpbmplY3QsIERlYnVnKSB7XHJcbiAgICB2YXIgY2FudmFzID0gaW5qZWN0KCckQ2FudmFzJyksXHJcbiAgICAgICAgY29udGV4dCA9IGNhbnZhcy5jb250ZXh0KCksXHJcbiAgICAgICAgd2lkdGggPSAwLFxyXG4gICAgICAgIGhlaWdodCA9IDAsXHJcbiAgICAgICAgZnVuYyA9IG51bGwsXHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZSxcclxuICAgICAgICBvcmRlcmluZyA9IDA7XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlQ2FudmFzKGN0eCkge1xyXG4gICAgICAgIGlmICghcmVhZHkpIHtcclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICBpZiAoZnVuYykgZnVuYyhjb250ZXh0KTtcclxuICAgICAgICAgICAgcmVhZHkgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZShjYW52YXMuZXhwb3J0KCksIDAsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZiA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmID09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBmdW5jID0gZjtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIERlYnVnLndhcm4oe2Y6IGZ9LCAnW3tmfV0gaXMgbm90IGEgZnVuY3Rpb24nKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2l6ZSA9IGZ1bmN0aW9uICh3LCBoKSB7XHJcbiAgICAgICAgaWYgKHdpZHRoICE9PSB3IHx8IGggIT09IGgpIHtcclxuICAgICAgICAgICAgY2FudmFzLndpZHRoKHcpO1xyXG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0KGgpO1xyXG4gICAgICAgICAgICB3aWR0aCA9IHc7XHJcbiAgICAgICAgICAgIGhlaWdodCA9IGg7XHJcbiAgICAgICAgICAgIHJlYWR5ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLm9yZGVyaW5nID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIG9yZGVyaW5nID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvcmRlcmluZztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kcmF3ID0gdXBkYXRlQ2FudmFzO1xyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDIvNi8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnT2JqZWN0cycsIGZ1bmN0aW9uIE1hdHJpeEhlbHBlcigpIHtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gR3JhcHRoaWNzVHJhbnNmb3JtTWF0cml4KG9iamVjdCkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IFsxLCAwLCAwLCAxLCAwLCAwXSxcclxuICAgICAgICAgICAgaW52ZXJzaW9uID0gWzEsIDAsIDAsIDEsIDAsIDBdLFxyXG4gICAgICAgICAgICBnbG9iYWxJbnZlcnNpb24gPSBudWxsLFxyXG4gICAgICAgICAgICBoaXN0b3J5ID0gW10sIGludmVydGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG11bHRpcGx5KG0xLCBtMikge1xyXG4gICAgICAgICAgICB2YXIgYTEgPSBtMVswXSAqIG0yWzBdICsgbTFbMl0gKiBtMlsxXSxcclxuICAgICAgICAgICAgICAgIGEyID0gbTFbMV0gKiBtMlswXSArIG0xWzNdICogbTJbMV0sXHJcbiAgICAgICAgICAgICAgICBhMyA9IG0xWzBdICogbTJbMl0gKyBtMVsyXSAqIG0yWzNdLFxyXG4gICAgICAgICAgICAgICAgYTQgPSBtMVsxXSAqIG0yWzJdICsgbTFbM10gKiBtMlszXSxcclxuICAgICAgICAgICAgICAgIGE1ID0gbTFbMF0gKiBtMls0XSArIG0xWzJdICogbTJbNV0gKyBtMVs0XSxcclxuICAgICAgICAgICAgICAgIGE2ID0gbTFbMV0gKiBtMls0XSArIG0xWzNdICogbTJbNV0gKyBtMVs1XTtcclxuICAgICAgICAgICAgbTFbMF0gPSBhMTtcclxuICAgICAgICAgICAgbTFbMV0gPSBhMjtcclxuICAgICAgICAgICAgbTFbMl0gPSBhMztcclxuICAgICAgICAgICAgbTFbM10gPSBhNDtcclxuICAgICAgICAgICAgbTFbNF0gPSBhNTtcclxuICAgICAgICAgICAgbTFbNV0gPSBhNjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGludmVydCgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGhpc3RvcnkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChoaXN0b3J5W2ldLnJvdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzaW5BID0gTWF0aC5zaW4oLWhpc3RvcnlbaV0ucm90YXRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29zQSA9IE1hdGguY29zKC1oaXN0b3J5W2ldLnJvdGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG11bHRpcGx5KGludmVyc2lvbiwgW2Nvc0EsIHNpbkEsIC1zaW5BLCBjb3NBLCAwLCAwXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeVtpXS50cmFuc2xhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBtdWx0aXBseShpbnZlcnNpb24sIFsxLCAwLCAwLCAxLCAtaGlzdG9yeVtpXS50cmFuc2xhdGVbMF0sIC1oaXN0b3J5W2ldLnRyYW5zbGF0ZVsxXV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGhpc3RvcnlbaV0uc2tldykge1xyXG4gICAgICAgICAgICAgICAgICAgIG11bHRpcGx5KGludmVyc2lvbiwgWzEsIE1hdGgudGFuKC1oaXN0b3J5W2ldLnNrZXdbMV0pLCBNYXRoLnRhbigtaGlzdG9yeVtpXS5za2V3WzBdKSwgMSwgMCwgMF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGhpc3RvcnlbaV0uc2NhbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBtdWx0aXBseShpbnZlcnNpb24sIFsxIC8gaGlzdG9yeVtpXS5zY2FsZVswXSwgMCwgMCwgMSAvIGhpc3RvcnlbaV0uc2NhbGVbMV0sIDAsIDBdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbnZlcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGhpc3RvcnkgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5yb3RhdGUgPSBmdW5jdGlvbiAoYW5nbGUpIHtcclxuICAgICAgICAgICAgdmFyIHNpbkEgPSBNYXRoLnNpbihhbmdsZSksXHJcbiAgICAgICAgICAgICAgICBjb3NBID0gTWF0aC5jb3MoYW5nbGUpLFxyXG4gICAgICAgICAgICAgICAgbSA9IFtjb3NBLCBzaW5BLCAtc2luQSwgY29zQSwgMCwgMF07XHJcblxyXG4gICAgICAgICAgICBtdWx0aXBseSh2YWx1ZSwgbSk7XHJcblxyXG4gICAgICAgICAgICBoaXN0b3J5LnB1c2goeydyb3RhdGUnOiBhbmdsZX0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy50cmFuc2xhdGUgPSBmdW5jdGlvbiAoeCwgeSkge1xyXG4gICAgICAgICAgICB2YXIgbSA9IFsxLCAwLCAwLCAxLCB4LCB5XTtcclxuXHJcbiAgICAgICAgICAgIGlmICh4ICE9PSAwIHx8IHkgIT09IDApIHtcclxuICAgICAgICAgICAgICAgIG11bHRpcGx5KHZhbHVlLCBtKTtcclxuICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaCh7J3RyYW5zbGF0ZSc6IFt4LCB5XX0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnNjYWxlID0gZnVuY3Rpb24gKHgsIHkpIHtcclxuICAgICAgICAgICAgaWYgKHggIT09IDEgfHwgeSAhPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG0gPSBbeCwgMCwgMCwgeSwgMCwgMF07XHJcbiAgICAgICAgICAgICAgICBtdWx0aXBseSh2YWx1ZSwgbSk7XHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5LnB1c2goeydzY2FsZSc6IFt4LCB5XX0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnNrZXcgPSBmdW5jdGlvbiAoeCwgeSkge1xyXG4gICAgICAgICAgICBpZiAoeCAhPT0gMCB8fCB5ICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGFuQSA9IE1hdGgudGFuKHgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhbkIgPSBNYXRoLnRhbih5KSxcclxuICAgICAgICAgICAgICAgICAgICBtID0gWzEsIHRhbkIsIHRhbkEsIDEsIDAsIDBdO1xyXG5cclxuICAgICAgICAgICAgICAgIG11bHRpcGx5KHZhbHVlLCBtKTtcclxuICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaCh7J3NrZXcnOiBbeCwgeV19KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5leHRyYWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW52ZXJ0R2xvYmFsKCkge1xyXG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gb2JqZWN0LnBhcmVudCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFpbnZlcnRlZCkgaW52ZXJ0KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWdsb2JhbEludmVyc2lvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbEludmVyc2lvbiA9IFtpbnZlcnNpb25bMF0sIGludmVyc2lvblsxXSwgaW52ZXJzaW9uWzJdLCBpbnZlcnNpb25bM10sIGludmVyc2lvbls0XSwgaW52ZXJzaW9uWzVdXTtcclxuICAgICAgICAgICAgICAgICAgICBtdWx0aXBseShnbG9iYWxJbnZlcnNpb24sIHBhcmVudC5tYXRyaXgoKS5nbG9iYWxJbnZlcnNpb25NYXRyaXgoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2xvYmFsSW52ZXJzaW9uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZ2xvYmFsSW52ZXJzaW9uID0gaW52ZXJzaW9uO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsSW52ZXJzaW9uO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5nbG9iYWxJbnZlcnNpb25NYXRyaXggPSBpbnZlcnRHbG9iYWw7XHJcblxyXG4gICAgICAgIHRoaXMuZ2xvYmFsQ3Vyc29yUHJvamVjdGlvbiA9IGZ1bmN0aW9uIChjdXJzb3IpIHtcclxuICAgICAgICAgICAgaWYgKCFnbG9iYWxJbnZlcnNpb24pIGludmVydEdsb2JhbCgpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHggPSBjdXJzb3JbMF0gKiBnbG9iYWxJbnZlcnNpb25bMF0gKyBjdXJzb3JbMV0gKiBnbG9iYWxJbnZlcnNpb25bMl0gKyBnbG9iYWxJbnZlcnNpb25bNF0sXHJcbiAgICAgICAgICAgICAgICB5ID0gY3Vyc29yWzBdICogZ2xvYmFsSW52ZXJzaW9uWzFdICsgY3Vyc29yWzFdICogZ2xvYmFsSW52ZXJzaW9uWzNdICsgZ2xvYmFsSW52ZXJzaW9uWzVdO1xyXG5cclxuICAgICAgICAgICAgY3Vyc29yWzBdID0geDtcclxuICAgICAgICAgICAgY3Vyc29yWzFdID0geTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjdXJzb3I7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jdXJzb3JQcm9qZWN0aW9uID0gZnVuY3Rpb24gKGN1cnNvcikge1xyXG4gICAgICAgICAgICBpZiAoIWludmVydGVkKSBpbnZlcnQoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB4ID0gY3Vyc29yWzBdICogaW52ZXJzaW9uWzBdICsgY3Vyc29yWzFdICogaW52ZXJzaW9uWzJdICsgaW52ZXJzaW9uWzRdLFxyXG4gICAgICAgICAgICAgICAgeSA9IGN1cnNvclswXSAqIGludmVyc2lvblsxXSArIGN1cnNvclsxXSAqIGludmVyc2lvblszXSArIGludmVyc2lvbls1XTtcclxuXHJcbiAgICAgICAgICAgIGN1cnNvclswXSA9IHg7XHJcbiAgICAgICAgICAgIGN1cnNvclsxXSA9IHk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY3Vyc29yO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub2JqZWN0TWF0cml4ID0gZnVuY3Rpb24gKG9iamVjdCkge1xyXG5cclxuICAgICAgICB2YXIgbWF0cml4ID0gbmV3IEdyYXB0aGljc1RyYW5zZm9ybU1hdHJpeChvYmplY3QpO1xyXG5cclxuICAgICAgICB2YXIgc3R5bGUgPSBvYmplY3QuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICBib3hDb250YWluZXIgPSBvYmplY3QuZXh0ZW5zaW9uKCdCb3gnKS5ib3goKSxcclxuICAgICAgICAgICAgc3ByaXRlID0gYm94Q29udGFpbmVyLnNwcml0ZSgpLFxyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgb3JpZ2luID0gc3R5bGUuZ2V0KCdvcmlnaW4nKSxcclxuICAgICAgICAgICAgc2tldyA9IHN0eWxlLmdldCgnc2tldycpLFxyXG4gICAgICAgICAgICByb3RhdGUgPSBzdHlsZS5nZXQoJ3JvdGF0ZScpLFxyXG4gICAgICAgICAgICBzY2FsZSA9IHN0eWxlLmdldCgnc2NhbGUnKSxcclxuICAgICAgICAgICAgdHJhbnNsYXRlID0gc3R5bGUuZ2V0KCd0cmFuc2xhdGUnKSxcclxuXHJcbiAgICAgICAgICAgIF90cmFuc2xhdGUgPSBvYmplY3QudHlwZSgpID09ICdHcm91cCcgPyBbXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25bMF0gKyB0cmFuc2xhdGVbMF0gLSBzcHJpdGUubWFyZ2luWzNdLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uWzFdICsgdHJhbnNsYXRlWzFdIC0gc3ByaXRlLm1hcmdpblswXVxyXG4gICAgICAgICAgICAgICAgXSA6XHJcbiAgICAgICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnBvc2l0aW9uWzBdICsgdHJhbnNsYXRlWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZS5wb3NpdGlvblsxXSArIHRyYW5zbGF0ZVsxXVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgX29yaWdpbiA9IFtcclxuICAgICAgICAgICAgICAgIG9yaWdpblswXSAqIHNwcml0ZS5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSxcclxuICAgICAgICAgICAgICAgIG9yaWdpblsxXSAqIHNwcml0ZS5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXVxyXG4gICAgICAgICAgICBdO1xyXG5cclxuXHJcbiAgICAgICAgbWF0cml4LnRyYW5zbGF0ZShfb3JpZ2luWzBdLCBfb3JpZ2luWzFdKTtcclxuICAgICAgICBpZiAoX3RyYW5zbGF0ZVswXSAhPT0gMCB8fCBfdHJhbnNsYXRlWzFdICE9PSAwKSBtYXRyaXgudHJhbnNsYXRlKF90cmFuc2xhdGVbMF0sIF90cmFuc2xhdGVbMV0pO1xyXG4gICAgICAgIGlmIChyb3RhdGUgIT09IDApIG1hdHJpeC5yb3RhdGUocm90YXRlKTtcclxuICAgICAgICBpZiAoc2tld1swXSAhPT0gMCB8fCBza2V3WzFdICE9PSAwKSBtYXRyaXguc2tldyhza2V3WzBdLCBza2V3WzFdKTtcclxuICAgICAgICBpZiAoc2NhbGVbMF0gIT09IDEgfHwgc2NhbGVbMV0gIT09IDEpIG1hdHJpeC5zY2FsZShzY2FsZVswXSwgc2NhbGVbMV0pO1xyXG4gICAgICAgIG1hdHJpeC50cmFuc2xhdGUoLV9vcmlnaW5bMF0sIC1fb3JpZ2luWzFdKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcclxuICAgIH07XHJcblxyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjkvMjAxNi5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnLCBbJ0RlYnVnJywgZnVuY3Rpb24gTW9kZWxIZWxwZXIoRGVidWcpIHtcclxuXHJcbiAgICB0aGlzLmNsb25lSGFzaCA9IGZ1bmN0aW9uIChoYXNoKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBoYXNoICE9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIERlYnVnLmVycm9yKCdIYXNoIGlzIG5vdCBhbiBvYmplY3QhJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaGFzaCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNsb25lQXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGFycmF5ICE9PSBcIm9iamVjdFwiIHx8IGFycmF5LmNvbnN0cnVjdG9yICE9PSBBcnJheSkge1xyXG4gICAgICAgICAgICBEZWJ1Zy5lcnJvcignYXJyYXkgaXMgbm90IGFuIGFycmF5IScpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBhcnJheVtpXSA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJyYXlbaV0uY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmNsb25lQXJyYXkoYXJyYXlbaV0pKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5jbG9uZUhhc2goYXJyYXlbaV0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJyYXlbaV0gPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IGFycmF5W2ldLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChldmFsKHRleHQpKTtcclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1lvdSBjbG9uZSBmdW5jdGlvbnMhIEl0IGNhbiBiZSBzbG93IScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYXJyYXlbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnZhbGlkTnVtZXJpY0FycmF5ID0gZnVuY3Rpb24gKGFycmF5KSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgYXJyYXkgIT09IFwib2JqZWN0XCIgfHwgYXJyYXkuY29uc3RydWN0b3IgIT09IEFycmF5KSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBhcnJheVtpXSAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGJsZW5kaW5ncyA9IFsnc291cmNlLW92ZXInLCAnc291cmNlLWluJywgJ3NvdXJjZS1vdXQnLCAnc291cmNlLWF0b3AnLCAnZGVzdGluYXRpb24tb3ZlcicsXHJcbiAgICAgICAgJ2Rlc3RpbmF0aW9uLWluJywgJ2Rlc3RpbmF0aW9uLW91dCcsICdkZXN0aW5hdGlvbi1hdG9wJywgJ2xpZ2h0ZXInLCAnY29weScsICd4b3InLCAnbXVsdGlwbHknLFxyXG4gICAgICAgICdzY3JlZW4nLCAnb3ZlcmxheScsICdkYXJrZW4nLCAnbGlnaHRlbicsICdjb2xvci1kb2RnZScsICdjb2xvci1idXJuJywgJ2hhcmQtbGlnaHQnLFxyXG4gICAgICAgICdzb2Z0LWxpZ2h0JywgJ2RpZmZlcmVuY2UnLCAnZXhjbHVzaW9uJywgJ2h1ZScsICdzYXR1cmF0aW9uJywgJ2NvbG9yJywgJ2x1bWlub3NpdHknXHJcbiAgICBdO1xyXG5cclxuICAgIHRoaXMudmFsaWRCbGVuZGluZyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBibGVuZGluZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGJsZW5kaW5nc1tpXSA9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgc3ByaXRlX3JlZ2V4cCA9IC9eKFsuL19cXGRhLXpBLVpdKykoXFxbKFxcZCspXFxdKSQvO1xyXG5cclxuICAgIHRoaXMuaXNTcHJpdGVTdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgcmV0dXJuIHNwcml0ZV9yZWdleHAudGVzdChzdHIpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnJlYWRTcHJpdGVTdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHN0ci5tYXRjaChzcHJpdGVfcmVnZXhwKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdXJsOiByZXN1bHRbMV0sXHJcbiAgICAgICAgICAgIGZyYW1lcyAgOiBwYXJzZUludChyZXN1bHRbM10pXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMi8zLzIwMTcuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJywgW2Z1bmN0aW9uIE1vdXNlSGVscGVyKCkge1xyXG5cclxuICAgIHRoaXMuY2lyY2xlVXNlckNoZWNrRnVuY3Rpb24gPSBmdW5jdGlvbiAoY3Vyc29yKSB7XHJcbiAgICAgICAgdmFyIGNvb3JkcyA9IHRoaXMubWF0cml4KCkuZ2xvYmFsQ3Vyc29yUHJvamVjdGlvbihbY3Vyc29yWzBdLCBjdXJzb3JbMV1dKTtcclxuXHJcbiAgICAgICAgaWYgKGNvb3JkcyA8IFswXSB8fCBjb29yZHNbMV0gPCAwKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHZhciBzcHJpdGUgPSB0aGlzLmV4dGVuc2lvbignQm94JykuYm94KCkuc3ByaXRlKCk7XHJcblxyXG4gICAgICAgIGlmIChjb29yZHNbMF0gPiBzcHJpdGUuc2l6ZVswXSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAoY29vcmRzWzFdID4gc3ByaXRlLnNpemVbMV0pIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgdmFyIHJhZGl1cyA9IHNwcml0ZS5zaXplWzBdIC8gMixcclxuICAgICAgICAgICAgY3ggPSByYWRpdXMsXHJcbiAgICAgICAgICAgIGN5ID0gc3ByaXRlLnNpemVbMV0gLyAyO1xyXG5cclxuICAgICAgICBpZiAoTWF0aC5wb3coY29vcmRzWzBdIC0gY3gsIDIpICsgTWF0aC5wb3coY29vcmRzWzFdIC0gY3ksIDIpIDw9IE1hdGgucG93KHJhZGl1cywgMikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc3F1YXJlVXNlckNoZWNrRnVuY3Rpb24gPSBmdW5jdGlvbiAoY3Vyc29yKSB7XHJcbiAgICAgICAgdmFyIGNvb3JkcyA9IHRoaXMubWF0cml4KCkuZ2xvYmFsQ3Vyc29yUHJvamVjdGlvbihbY3Vyc29yWzBdLCBjdXJzb3JbMV1dKSxcclxuICAgICAgICAgICAgc3ByaXRlID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLnNwcml0ZSgpO1xyXG5cclxuICAgICAgICBpZiAoY29vcmRzWzBdID4gMCAmJiBjb29yZHNbMF0gPCBzcHJpdGUuc2l6ZVswXSkge1xyXG4gICAgICAgICAgICBpZiAoY29vcmRzWzFdID4gMCAmJiBjb29yZHNbMV0gPCBzcHJpdGUuc2l6ZVsxXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5jaXJjbGVDaGVja0Z1bmN0aW9uID0gZnVuY3Rpb24gKGN1cnNvcikge1xyXG4gICAgICAgIHZhciBjb29yZHMgPSB0aGlzLm1hdHJpeCgpLmdsb2JhbEN1cnNvclByb2plY3Rpb24oW2N1cnNvclswXSwgY3Vyc29yWzFdXSk7XHJcblxyXG4gICAgICAgIGlmIChjb29yZHMgPCBbMF0gfHwgY29vcmRzWzFdIDwgMCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB2YXIgc3ByaXRlID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLnNwcml0ZSgpO1xyXG5cclxuICAgICAgICBpZiAoY29vcmRzWzBdID4gc3ByaXRlLnNpemVbMF0pIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKGNvb3Jkc1sxXSA+IHNwcml0ZS5zaXplWzFdKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHZhciBjZW50ZXIgPSBzcHJpdGUuc2l6ZVswXSAvIDIsXHJcbiAgICAgICAgICAgIHJhZGl1cyA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLmdldCgncmFkaXVzJyk7XHJcblxyXG4gICAgICAgIGlmIChNYXRoLnBvdygoY29vcmRzWzBdIC0gY2VudGVyKSwgMikgKyBNYXRoLnBvdygoY29vcmRzWzFdIC0gY2VudGVyKSwgMikgPCBNYXRoLnBvdyhyYWRpdXMsIDIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnJlY3RDaGVja0Z1bmN0aW9uID0gZnVuY3Rpb24gKGN1cnNvcikge1xyXG4gICAgICAgIHZhciBjb29yZHMgPSB0aGlzLm1hdHJpeCgpLmdsb2JhbEN1cnNvclByb2plY3Rpb24oW2N1cnNvclswXSwgY3Vyc29yWzFdXSksXHJcbiAgICAgICAgICAgIHNwcml0ZSA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKS5ib3goKS5zcHJpdGUoKTtcclxuXHJcbiAgICAgICAgaWYgKGNvb3Jkc1swXSA+IDAgJiYgY29vcmRzWzBdIDwgc3ByaXRlLnNpemVbMF0pIHtcclxuICAgICAgICAgICAgaWYgKGNvb3Jkc1sxXSA+IDAgJiYgY29vcmRzWzFdIDwgc3ByaXRlLnNpemVbMV0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI5LzIwMTYuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJywgWydEZWJ1ZycsIGZ1bmN0aW9uIFBhdGhIZWxwZXIoRGVidWcpIHtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRDb250cm9sUG9pbnRzKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHQpIHtcclxuICAgICAgICB2YXIgZDAxID0gTWF0aC5zcXJ0KE1hdGgucG93KHgxIC0geDAsIDIpICsgTWF0aC5wb3coeTEgLSB5MCwgMikpO1xyXG4gICAgICAgIHZhciBkMTIgPSBNYXRoLnNxcnQoTWF0aC5wb3coeDIgLSB4MSwgMikgKyBNYXRoLnBvdyh5MiAtIHkxLCAyKSk7XHJcbiAgICAgICAgdmFyIGZhID0gdCAqIGQwMSAvIChkMDEgKyBkMTIpO1xyXG4gICAgICAgIHZhciBmYiA9IHQgKiBkMTIgLyAoZDAxICsgZDEyKTtcclxuICAgICAgICB2YXIgcDF4ID0geDEgLSBmYSAqICh4MiAtIHgwKTtcclxuICAgICAgICB2YXIgcDF5ID0geTEgLSBmYSAqICh5MiAtIHkwKTtcclxuICAgICAgICB2YXIgcDJ4ID0geDEgKyBmYiAqICh4MiAtIHgwKTtcclxuICAgICAgICB2YXIgcDJ5ID0geTEgKyBmYiAqICh5MiAtIHkwKTtcclxuICAgICAgICByZXR1cm4gW3AxeCwgcDF5LCBwMngsIHAyeV07XHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgICBwYXRoID0gW3gxLHkxLHgyLHkyLGF4MSxheTEsYXgyLGF5Ml1cclxuICAgICAqL1xyXG5cclxuICAgIHRoaXMuY29udmVydENvbXBsZXhQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChbXHJcbiAgICAgICAgICAgICAgICBwYXRoW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgcGF0aFtpXVsxXVxyXG4gICAgICAgICAgICBdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY29udmVydFNpbXBsZVBhdGggPSBmdW5jdGlvbiAocGF0aCkge1xyXG5cclxuICAgICAgICBpZiAocGF0aC5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgIERlYnVnLmVycm9yKCdQYXRoIHNob3VsZCBjb25zaXN0IG9mIGF0IGxlYXN0IHR3byBwb2ludHMhJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB4ID0gcGF0aFtpXVswXSxcclxuICAgICAgICAgICAgICAgIHkgPSBwYXRoW2ldWzFdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB4ICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiAgeSAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0luY29ycmVjdCBQYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpIDwgcGF0aC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdFtpXSkgcmVzdWx0LnB1c2goW10pO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0W2ldLnB1c2goeCk7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0ucHVzaCh5KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGkgIT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtpIC0gMV0ucHVzaCh4KTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtpIC0gMV0ucHVzaCh5KTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtpIC0gMV0ucHVzaChyZXN1bHRbaSAtIDFdWzBdKTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtpIC0gMV0ucHVzaChyZXN1bHRbaSAtIDFdWzFdKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXN1bHRbaSAtIDFdLnB1c2goeCk7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRbaSAtIDFdLnB1c2goeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaW50ZXJwb2xhdGUgPSBmdW5jdGlvbiAocGF0aCwgc21vb3RoaW5nLCBjbG9zZWQpIHtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcHJldiA9IFtdLCBtaWQgPSBbcGF0aFtpXVswXSwgcGF0aFtpXVsxXV0sIG5leHQgPSBbcGF0aFtpXVsyXSwgcGF0aFtpXVszXV0sIHB0cyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBpZiAoaSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2ID0gbWlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcHJldiA9IFtwYXRoW2kgLSAxXVswXSwgcGF0aFtpIC0gMV1bMV1dO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcHRzID0gZ2V0Q29udHJvbFBvaW50cyhwcmV2WzBdLCBwcmV2WzFdLCBtaWRbMF0sIG1pZFsxXSwgbmV4dFswXSwgbmV4dFsxXSwgc21vb3RoaW5nKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpID09IDApIHtcclxuICAgICAgICAgICAgICAgIHBhdGhbaV1bNF0gPSBwdHNbMl07XHJcbiAgICAgICAgICAgICAgICBwYXRoW2ldWzVdID0gcHRzWzNdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGF0aFtpIC0gMV1bNl0gPSBwdHNbMF07XHJcbiAgICAgICAgICAgICAgICBwYXRoW2kgLSAxXVs3XSA9IHB0c1sxXTtcclxuICAgICAgICAgICAgICAgIHBhdGhbaV1bNF0gPSBwdHNbMl07XHJcbiAgICAgICAgICAgICAgICBwYXRoW2ldWzVdID0gcHRzWzNdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoaSA9PSBwYXRoLmxlbmd0aCAtIDEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBwcmV2ID0gW3BhdGhbaV1bMF0sIHBhdGhbaV1bMV1dO1xyXG4gICAgICAgICAgICAgICAgbWlkID0gW3BhdGhbaV1bMl0sIHBhdGhbaV1bM11dO1xyXG4gICAgICAgICAgICAgICAgbmV4dCA9IG1pZDtcclxuXHJcbiAgICAgICAgICAgICAgICBwdHMgPSBnZXRDb250cm9sUG9pbnRzKHByZXZbMF0sIHByZXZbMV0sIG1pZFswXSwgbWlkWzFdLCBuZXh0WzBdLCBuZXh0WzFdLCBzbW9vdGhpbmcpO1xyXG5cclxuICAgICAgICAgICAgICAgIHBhdGhbaV1bNl0gPSBwdHNbMF07XHJcbiAgICAgICAgICAgICAgICBwYXRoW2ldWzddID0gcHRzWzFdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoY2xvc2VkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgczEgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgczIgPSBwYXRoWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBfc2VnbWVudCA9IFtcclxuICAgICAgICAgICAgICAgICAgICBbczFbMF0sIHMxWzFdLCBzMVsyXSwgczFbM10sIHMxWzRdLCBzMVs1XSwgczFbNl0sIHMxWzddXSxcclxuICAgICAgICAgICAgICAgICAgICBbczJbMF0sIHMyWzFdLCBzMlsyXSwgczJbM10sIHMyWzRdLCBzMls1XSwgczJbNl0sIHMyWzddXV07XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcnBvbGF0ZShfc2VnbWVudCwgc21vb3RoaW5nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBwYXRoWzBdWzRdID0gX3NlZ21lbnRbMV1bNF07XHJcbiAgICAgICAgICAgICAgICBwYXRoWzBdWzVdID0gX3NlZ21lbnRbMV1bNV07XHJcbiAgICAgICAgICAgICAgICBwYXRoW3BhdGgubGVuZ3RoIC0gMV1bNl0gPSBfc2VnbWVudFswXVs2XTtcclxuICAgICAgICAgICAgICAgIHBhdGhbcGF0aC5sZW5ndGggLSAxXVs3XSA9IF9zZWdtZW50WzBdWzddO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5jaGVja1NpbXBsZVBhdGggPSBmdW5jdGlvbiAocGF0aCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gXCJvYmplY3RcIiB8fCBwYXRoLmNvbnN0cnVjdG9yICE9PSBBcnJheSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB2YXIgZGVlcGNoZWNrID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBwYXRoW2ldICE9PSBcIm9iamVjdFwiIHx8IHBhdGhbaV0uY29uc3RydWN0b3IgIT09IEFycmF5IHx8IHBhdGhbaV0ubGVuZ3RoICE9PSAyIHx8XHJcbiAgICAgICAgICAgICAgICB0eXBlb2YgcGF0aFtpXVswXSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgIHBhdGhbaV1bMV0gIT09IFwibnVtYmVyXCJcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBkZWVwY2hlY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZGVlcGNoZWNrO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNvbXBhcmVQYXRocyA9IGZ1bmN0aW9uIChwYXRoMSwgcGF0aDIpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYgKHBhdGgxLmxlbmd0aCAhPT0gcGF0aDIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aDEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBwYXRoMVtpXS5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGgxW2ldW25dICE9PSBwYXRoMltpXVtuXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNS8xLzIwMTcuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJywgW2Z1bmN0aW9uIEFyZWFPYmplY3RDbGFzcygpIHtcclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnT2JqZWN0cycsIFsnJE1vdXNlSGVscGVyJyxmdW5jdGlvbiBDaXJjbGVPYmplY3RDbGFzcyAoTW91c2VIZWxwZXIpIHtcclxuICAgIHRoaXMubW91c2VDaGVja0Z1bmN0aW9uKE1vdXNlSGVscGVyLmNpcmNsZUNoZWNrRnVuY3Rpb24pO1xyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJyAsIFsnJFRyZWUnLCBmdW5jdGlvbiBEZWZhdWx0T2JqZWN0VHlwZShUcmVlKSB7XHJcbiAgICBUcmVlLnJvb3QodGhpcykuYXBwZW5kKHRoaXMpO1xyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJywgZnVuY3Rpb24gR3JvdXBPYmplY3RDbGFzcygpIHtcclxuXHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEzLzIwMTcuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJywgWyckTW91c2VIZWxwZXInLGZ1bmN0aW9uIEltYWdlT2JqZWN0Q2xhc3MoTW91c2VIZWxwZXIpIHtcclxuICAgIHRoaXMubW91c2VDaGVja0Z1bmN0aW9uKE1vdXNlSGVscGVyLnJlY3RDaGVja0Z1bmN0aW9uKTtcclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIucGFydCgnT2JqZWN0cycsIGZ1bmN0aW9uIExpbmVPYmplY3RDbGFzcygpIHtcclxuXHJcbn0pOyIsIiRSLnBhcnQoJ09iamVjdHMnLFsnJE1vdXNlSGVscGVyJywgZnVuY3Rpb24gUmVjdGFuZ2xlT2JqZWN0Q2xhc3MgKE1vdXNlSGVscGVyKSB7XHJcbiAgICB0aGlzLm1vdXNlQ2hlY2tGdW5jdGlvbihNb3VzZUhlbHBlci5yZWN0Q2hlY2tGdW5jdGlvbik7XHJcbiAgICB2YXIgbW91c2UgPSB0aGlzLmV4dGVuc2lvbignTW91c2UnKTtcclxuICAgIG1vdXNlLmN1cnNvclRyYW5zZm9ybUZ1bmN0aW9uKE1vdXNlSGVscGVyLnJlY3RDdXJzb3JUcmFuc2Zvcm1GdW5jdGlvbik7XHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnT2JqZWN0cycsIFsnJE1vdXNlSGVscGVyJyxmdW5jdGlvbiBTcHJpdGVPYmplY3RDbGFzcyhNb3VzZUhlbHBlcikge1xyXG4gICAgdGhpcy5tb3VzZUNoZWNrRnVuY3Rpb24oTW91c2VIZWxwZXIucmVjdENoZWNrRnVuY3Rpb24pO1xyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjUvMjAxNy5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnLCBbJyRNb3VzZUhlbHBlcicsZnVuY3Rpb24gVGV4dE9iamVjdENsYXNzKE1vdXNlSGVscGVyKSB7XHJcbiAgICB0aGlzLm1vdXNlQ2hlY2tGdW5jdGlvbihNb3VzZUhlbHBlci5yZWN0Q2hlY2tGdW5jdGlvbik7XHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xMC8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnUmVzb3VyY2UnLCBbJ0BleHRlbmQnLCAnRGVidWcnLCBmdW5jdGlvbiBBdWRpbyAoZXh0ZW5kLCBEZWJ1Zykge1xyXG4gICAgZXh0ZW5kKHRoaXMsJyRSZXNvdXJjZUNsYXNzJyk7XHJcblxyXG5cclxuICAgIHRoaXMudHlwZSA9ICdBdWRpbyc7XHJcblxyXG5cclxuICAgIHZhciByZXNvbHZlRXZlbnRGdW5jID0gbnVsbCwgc3RhdGVGdW5jID0gbnVsbCwgdXJsID0gbnVsbCwgcmVzcG9uc2UgPSBudWxsO1xyXG5cclxuICAgIHRoaXMub24oJ2luaXQnLCBmdW5jdGlvbiAoX3VybCwgcmVzb2x2ZUZ1bmMsIHNldFN0YXRlRnVuYykge1xyXG4gICAgICAgIHJlc29sdmVFdmVudEZ1bmMgPSByZXNvbHZlRnVuYztcclxuICAgICAgICBzdGF0ZUZ1bmMgPSBzZXRTdGF0ZUZ1bmM7XHJcbiAgICAgICAgdXJsID0gX3VybDtcclxuICAgICAgICBjcmVhdGVBdWRpbygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlQXVkaW8oKSB7XHJcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xyXG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xyXG4gICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHN0YXRlRnVuYygxKTtcclxuICAgICAgICAgICAgcmVzcG9uc2UgPSB0aGlzLnJlc3BvbnNlO1xyXG4gICAgICAgICAgICByZXNvbHZlRXZlbnRGdW5jKCdsb2FkJyxbcmVzcG9uc2VdKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzdGF0ZUZ1bmMoLTIpO1xyXG4gICAgICAgICAgICByZXNvbHZlRXZlbnRGdW5jKCdlcnJvcicsIFtdKTtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3VybDogdXJsfSwgJ1VuYWJsZSB0byBsb2FkIGF1ZGlvIFt7dXJsfV0uJyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB4aHIuc2VuZCgpO1xyXG5cclxuICAgIH1cclxuICAgIHRoaXMuZXhwb3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgIH1cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAzLzI2LzIwMTcuXHJcbiAqL1xyXG4kUi5wYXJ0KCdSZXNvdXJjZScsIFsnQGV4dGVuZCcsICdEZWJ1ZycsICckJGNvbmZpZycsICdASFRNTFJvb3QnLCBmdW5jdGlvbiBGb250KGV4dGVuZCwgRGVidWcsIGNvbmZpZywgaHRtbCkge1xyXG5cclxuICAgIGV4dGVuZCh0aGlzLCAnJFJlc291cmNlQ2xhc3MnKTtcclxuXHJcbiAgICB0aGlzLnR5cGUgPSAnRm9udCc7XHJcbiAgICB2YXIgc3RhdGUgPSBudWxsLCByZXNvbHZlID0gbnVsbCwgZm9udCA9IG51bGwsXHJcbiAgICAgICAgcm9vdCA9IGNvbmZpZy5kaXIgJiYgdHlwZW9mIGNvbmZpZy5kaXIgPT09IFwic3RyaW5nXCIgPyBjb25maWcuZGlyIDogJy4vZm9udHMnLFxyXG4gICAgICAgIGZvcm1hdCA9ICRSLmZvbnRGb3JtYXRzKCksXHJcbiAgICAgICAgd2VpZ2h0ID0gbnVsbCxcclxuICAgICAgICBzdHlsZSA9IG51bGwsXHJcbiAgICAgICAgcmVzcG9uc2UgPSBudWxsLFxyXG4gICAgICAgIGZvbnRMb2FkZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgZm9udExvYWRlckVsZW1lbnQuc3R5bGUuZm9udEZhbWlseSA9ICdzYW5zLXNlcmlmJztcclxuICAgIGZvbnRMb2FkZXJFbGVtZW50LnN0eWxlLmZvbnRTaXplID0gJzEycHgnO1xyXG4gICAgZm9udExvYWRlckVsZW1lbnQuc3R5bGUubGluZUhlaWdodCA9ICcxMnB4JztcclxuICAgIGZvbnRMb2FkZXJFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgIGZvbnRMb2FkZXJFbGVtZW50LnN0eWxlLmxlZnQgPSAnLTk5OTlweCc7XHJcbiAgICBmb250TG9hZGVyRWxlbWVudC5zdHlsZS50b3AgPSAnLTk5OTlweCc7XHJcbiAgICBmb250TG9hZGVyRWxlbWVudC5pbm5lclRleHQgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXogMTIzNDU2Nzg5MFshPywuPD5cIsKjJCVeJiooKX5AIy09XSc7XHJcblxyXG4gICAgdGhpcy5vbignaW5pdCcsIGZ1bmN0aW9uICh1cmwsIHIsIHMpIHtcclxuICAgICAgICByZXNvbHZlID0gcjtcclxuICAgICAgICBzdGF0ZSA9IHM7XHJcbiAgICAgICAgZm9udCA9IHVybFswXTtcclxuICAgICAgICB3ZWlnaHQgPSB1cmxbMV07XHJcbiAgICAgICAgc3R5bGUgPSB1cmxbMl07XHJcbiAgICAgICAgZm9udExvYWRlckVsZW1lbnQuc3R5bGUuZm9udFN0eWxlID0gc3R5bGU7XHJcbiAgICAgICAgaHRtbC5lbGVtZW50KCkuYXBwZW5kQ2hpbGQoZm9udExvYWRlckVsZW1lbnQpO1xyXG4gICAgICAgIGdldEZvbnQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldEZvbnQoKSB7XHJcbiAgICAgICAgJFIuZm9udChyb290LCBmb250LCB3ZWlnaHQsIHN0eWxlKTtcclxuXHJcbiAgICAgICAgdmFyIGNoZWNrSW50ZXJ2YWwgPSBudWxsLFxyXG4gICAgICAgICAgICByZXBlYXRVbnRpbGxFcnJvciA9IDEwMDAsXHJcbiAgICAgICAgICAgIHJlcGVhdENvdW50ID0gMCxcclxuICAgICAgICAgICAgaW5pdGlhbCA9IFtmb250TG9hZGVyRWxlbWVudC5vZmZzZXRXaWR0aCwgZm9udExvYWRlckVsZW1lbnQub2Zmc2V0SGVpZ2h0XTtcclxuXHJcbiAgICAgICAgZm9udExvYWRlckVsZW1lbnQuc3R5bGUuZm9udEZhbWlseSA9ICdcIicgKyBmb250ICsgJy0nICsgd2VpZ2h0ICsgJ1wiLCBzYW5zLXNlcmlmJztcclxuICAgICAgICBjaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoZm9udExvYWRlckVsZW1lbnQub2Zmc2V0V2lkdGggIT09IGluaXRpYWxbMF0gfHwgZm9udExvYWRlckVsZW1lbnQub2Zmc2V0SGVpZ2h0ICE9PSBpbml0aWFsWzFdKSB7XHJcbiAgICAgICAgICAgICAgICBodG1sLmVsZW1lbnQoKS5yZW1vdmVDaGlsZChmb250TG9hZGVyRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGNoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUoMSk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCdsb2FkJywgW10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlcGVhdENvdW50Kys7XHJcbiAgICAgICAgICAgIGlmIChyZXBlYXRDb3VudCA+IHJlcGVhdFVudGlsbEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSgtMik7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCdlcnJvcicsIFtdKTtcclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2ZvbnQ6IGZvbnQgKyAnLScgKyB3ZWlnaHR9LCAnVW5hYmxlIHRvIGxvYWQgZm9udCBbe2ZvbnR9XS4gRm9udCBwZW5kaW5nIHRpbWVkIG91dC4uLicpO1xyXG4gICAgICAgICAgICAgICAgaHRtbC5lbGVtZW50KCkucmVtb3ZlQ2hpbGQoZm9udExvYWRlckVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0ludGVydmFsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDUwKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmV4cG9ydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gZm9udDtcclxuICAgIH07XHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMi8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnUmVzb3VyY2UnLCBbJ0BleHRlbmQnLCAnRGVidWcnLCBmdW5jdGlvbiBJbWFnZShleHRlbmQsIERlYnVnKSB7XHJcblxyXG4gICAgZXh0ZW5kKHRoaXMsICckUmVzb3VyY2VDbGFzcycpO1xyXG5cclxuICAgIHZhciB1cmwgPSBudWxsLCByZXNvbHZlRXZlbnRGdW5jID0gbnVsbCwgc3RhdGVGdW5jID0gbnVsbCwgaW1hZ2UgPSBudWxsLCB3aWR0aCA9IDAsIGhlaWdodCA9IDA7XHJcblxyXG4gICAgdGhpcy50eXBlID0gJ0ltYWdlJztcclxuXHJcbiAgICB0aGlzLm9uKCdpbml0JywgZnVuY3Rpb24gKF91cmwsIHJlc29sdmVGdW5jLCBzZXRTdGF0ZUZ1bmMpIHtcclxuICAgICAgICByZXNvbHZlRXZlbnRGdW5jID0gcmVzb2x2ZUZ1bmM7XHJcbiAgICAgICAgc3RhdGVGdW5jID0gc2V0U3RhdGVGdW5jO1xyXG4gICAgICAgIHVybCA9IF91cmw7XHJcbiAgICAgICAgQ3JlYXRlSW1hZ2UoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIENyZWF0ZUltYWdlKCkge1xyXG4gICAgICAgIGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc3RhdGVGdW5jKDEpO1xyXG5cclxuICAgICAgICAgICAgd2lkdGggPSBpbWFnZS53aWR0aDtcclxuICAgICAgICAgICAgaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgcmVzb2x2ZUV2ZW50RnVuYygnbG9hZCcsIFtdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc3RhdGVGdW5jKC0yKTtcclxuICAgICAgICAgICAgcmVzb2x2ZUV2ZW50RnVuYygnZXJyb3InLCBbXSk7XHJcbiAgICAgICAgICAgIERlYnVnLmVycm9yKHt1cmw6IHVybH0sICdVbmFibGUgdG8gbG9hZCBpbWFnZSBbe3VybH1dLicpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHVybCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy53aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gd2lkdGg7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBoZWlnaHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZXhwb3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBpbWFnZTtcclxuICAgIH07XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTIvMjAxNy5cclxuICovXHJcbiRSLnBhcnQoJ1Jlc291cmNlJywgWydAZXh0ZW5kJywgJ0RlYnVnJywgZnVuY3Rpb24gUmVzb3VyY2VDbGFzcyhleHRlbmQsIERlYnVnKSB7XHJcblxyXG4gICAgdmFyIHVybCA9IG51bGwsXHJcbiAgICAgICAgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgcmVzb2x2ZUZ1bmN0aW9uUGFzc2VkID0gZmFsc2UsXHJcbiAgICAgICAgc3RhdHVzID0gLTE7IC8vIC0xIGluaXQsIDAgbG9hZGluZywgMSBsb2FkZWQsIC0yIGVycm9yXHJcblxyXG4gICAgdGhpcy5sb2FkZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0YXR1cyA9PSAxO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBzdGF0dXMgPT0gLTI7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMubG9hZGluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gc3RhdHVzID09IDA7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudXJsID0gZnVuY3Rpb24gKF91cmwpIHtcclxuICAgICAgICBpZiAoX3VybCA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVybDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh1cmwgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB1cmwgPSBfdXJsO1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNvbHZlRnVuY3Rpb25QYXNzZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBSZXNvbHZlRXZlbnQoJ2luaXQnLCBbdXJsXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBSZXNvbHZlRXZlbnQoJ2luaXQnLCBbdXJsLCBSZXNvbHZlRXZlbnQsIHNldFN0YXR1c10pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVGdW5jdGlvblBhc3NlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1cmw7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBjYkNvbnRhaW5lciA9IHtcclxuICAgICAgICBpbml0OiBbXSxcclxuICAgICAgICBsb2FkOiBbXSxcclxuICAgICAgICBlcnJvcjogW10sXHJcbiAgICAgICAgbG9hZGluZzogW11cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0U3RhdHVzKHZhbCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIERlYnVnLmVycm9yKHt2YWw6IHZhbH0sICdbe3ZhbH1dIGlzIG5vdCB2YWxpZCB2YWx1ZSBmb3Igc3RhdHVzJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZhbCA+IDEgfHwgdmFsIDwgLTIpIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3ZhbDogdmFsfSwgJ1t7dmFsfV0gbm8gc3VjaCBzdGF0dXMgcG9zc2libGUhJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RhdHVzID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIFJlc29sdmVFdmVudChldmVudCwgZGF0YSkge1xyXG4gICAgICAgIGlmIChjYkNvbnRhaW5lcltldmVudF0pIHtcclxuICAgICAgICAgICAgZGF0YSA9IHR5cGVvZiBkYXRhID09IFwib2JqZWN0XCIgJiYgZGF0YS5jb25zdHJ1Y3RvciA9PSBBcnJheSA/IGRhdGEgOiBbXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2JDb250YWluZXJbZXZlbnRdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjYkNvbnRhaW5lcltldmVudF1baV0uYXBwbHkoc2VsZiwgZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIERlYnVnLndhcm4oe2U6IGV2ZW50fSwgJ1VuYWJsZSB0byBzZXQgZXZlbnQge2V9LiBObyBzdWNoIGV2ZW50IScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgdmFyIGFycmF5ID0gY2JDb250YWluZXJbZXZlbnRdLFxyXG4gICAgICAgICAgICBmdW5jID0gdHlwZW9mIGZ1bmMgPT0gXCJmdW5jdGlvblwiID8gZnVuYyA6IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAoZXZlbnQgPT0gJ2xvYWQnICYmIHN0YXR1cyA9PSAxKSB7XHJcbiAgICAgICAgICAgIGZ1bmMuY2FsbCh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGV2ZW50ID09ICdlcnJvcicgJiYgc3RhdHVzID09IC0yKSB7XHJcbiAgICAgICAgICAgIGZ1bmMuY2FsbCh0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghYXJyYXkgfHwgIWZ1bmMpIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnVW5hYmxlIHRvIHNldCBoYW5kbGVyIGZvciBldmVudCBbe2V9XS4nKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2JDb250YWluZXJbZXZlbnRdLnB1c2goZnVuYyk7XHJcbiAgICB9O1xyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEyLzIwMTcuXHJcbiAqL1xyXG4kUi5wYXJ0KCdSZXNvdXJjZScsIFsnQGV4dGVuZCcsICdEZWJ1ZycsIGZ1bmN0aW9uIFNwcml0ZShleHRlbmQsIERlYnVnKSB7XHJcblxyXG4gICAgZXh0ZW5kKHRoaXMsICckUmVzb3VyY2VDbGFzcycpO1xyXG5cclxuICAgIHZhciB1cmwgPSBudWxsLCBpbWFnZSA9IG51bGwsIHNpemUgPSAwLCBmcmFtZXMgPSAwLCBkdXJhdGlvbiA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCxcclxuICAgICAgICBmcmFtZUhlaWdodCA9IDAsIGZyYW1lV2lkdGggPSAwLCBmcHMgPSAxMixcclxuICAgICAgICBzZXRTdGF1c0Z1bmMgPSBudWxsLCByZXNvbHZlRXZlbnRGdW5jID0gbnVsbCwgcmVhZHkgPSBmYWxzZSxcclxuICAgICAgICBtYXRyaXggPSBbXTtcclxuXHJcbiAgICB0aGlzLnR5cGUgPSAnU3ByaXRlJztcclxuXHJcbiAgICB0aGlzLm9uKCdpbml0JywgZnVuY3Rpb24gKHUsIGV2ZW50Riwgc3RhdHVzRikge1xyXG4gICAgICAgIHNldFN0YXVzRnVuYyA9IHN0YXR1c0Y7XHJcbiAgICAgICAgcmVzb2x2ZUV2ZW50RnVuYyA9IGV2ZW50RjtcclxuICAgICAgICB1cmwgPSB1O1xyXG5cclxuICAgICAgICBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNldFN0YXVzRnVuYygxKTtcclxuXHJcbiAgICAgICAgICAgIHdpZHRoID0gaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgICAgIGhlaWdodCA9IGltYWdlLmhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZWFkeSkge1xyXG4gICAgICAgICAgICAgICAgQ3JlYXRlQ2FudmFzQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgIFNldENhbnZhc1NpemUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXNvbHZlRXZlbnRGdW5jKCdsb2FkJywgW10pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZXRTdGF1c0Z1bmMoLTIpO1xyXG4gICAgICAgICAgICByZXNvbHZlRXZlbnRGdW5jKCdlcnJvcicsIFtdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHVybCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBDcmVhdGVDYW52YXNBcnJheSgpIHtcclxuXHJcbiAgICAgICAgdmFyIGVsZW1zID0gMDtcclxuICAgICAgICBmb3IgKHZhciByID0gMDsgciA8IHNpemU7IHIrKykge1xyXG4gICAgICAgICAgICBtYXRyaXgucHVzaChbXSk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgc2l6ZTsgYysrKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtcysrO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1zIDwgZnJhbWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4W3JdLnB1c2goZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIFNldENhbnZhc1NpemUoKSB7XHJcbiAgICAgICAgZnJhbWVIZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCAvIHNpemUpO1xyXG4gICAgICAgIGZyYW1lV2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoIC8gc2l6ZSk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgc2l6ZTsgcisrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgc2l6ZTsgYysrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF0cml4W3JdW2NdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4W3JdW2NdLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBmcmFtZVdpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXhbcl1bY10uc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBmcmFtZUhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9jdHggPSBtYXRyaXhbcl1bY10uZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgICAgICAgICBfY3R4LnRyYW5zbGF0ZSgtZnJhbWVXaWR0aCAqIGMsIC1mcmFtZUhlaWdodCAqIHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9jdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5yZWFkeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gcmVhZHk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZyYW1lV2lkdGg7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5oZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZyYW1lSGVpZ2h0O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNwcml0ZVdpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zcHJpdGVIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGhlaWdodDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5mcHMgPSBmdW5jdGlvbiAobnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBudW1iZXIgIT09IFwibnVtYmVyXCIgfHwgbnVtYmVyIDw9IDApIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7bjogbnVtYmVyfSwgJ1t7bn1dIGlzIG5vdCBhIGNvcnJlY3QgZnBzIG51bWJlcicpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZwcyA9IG51bWJlcjtcclxuXHJcbiAgICAgICAgZHVyYXRpb24gPSBNYXRoLnJvdW5kKChmcmFtZXMgLyBmcHMpICogMTAwMCk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgcGF1c2UgPSBmYWxzZTtcclxuXHJcbiAgICB0aGlzLnBhdXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHBhdXNlID0gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5wbGF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHBhdXNlID0gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICBpZihyZWFkeSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGYgIT09IFwibnVtYmVyXCIgfHwgZiA8PSAwKSB7XHJcbiAgICAgICAgICAgIERlYnVnLndhcm4oe3Jvd3M6IGZ9LCAnW3tyb3dzfV0gaXMgbm90IGEgdmFsaWQgZnJhbWVzIG51bWJlcicpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzaXplID0gTWF0aC5jZWlsKE1hdGguc3FydChmKSk7XHJcblxyXG4gICAgICAgIGZyYW1lcyA9IGY7XHJcblxyXG4gICAgICAgIGR1cmF0aW9uID0gTWF0aC5yb3VuZCgoZnJhbWVzIC8gZnBzKSAqIDEwMDApO1xyXG5cclxuICAgICAgICByZWFkeSA9IHRydWU7XHJcblxyXG4gICAgICAgIENyZWF0ZUNhbnZhc0FycmF5KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZnJhbWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBmcmFtZXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBjdXJyZW50WCA9IDAsIGN1cnJlbnRZID0gMDtcclxuXHJcbiAgICB2YXIgX3RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcbiAgICB0aGlzLnRpY2sgPSBmdW5jdGlvbiAodGltZSkge1xyXG5cclxuICAgICAgICBpZihwYXVzZSkgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBwcm9ncmVzcyA9ICh0aW1lIC0gX3RpbWUpIC8gZHVyYXRpb247XHJcblxyXG4gICAgICAgIGlmIChwcm9ncmVzcyA+IDEpIHtcclxuICAgICAgICAgICAgcHJvZ3Jlc3MgPSAxO1xyXG4gICAgICAgICAgICBfdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHByb2dyZXNzIDwgMCkge1xyXG4gICAgICAgICAgICBwcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgZnJhbWUgPSBNYXRoLmZsb29yKChmcmFtZXMgLSAxKSAqIHByb2dyZXNzKTtcclxuXHJcbiAgICAgICAgY3VycmVudFkgPSBNYXRoLmZsb29yKGZyYW1lIC8gc2l6ZSk7XHJcbiAgICAgICAgY3VycmVudFggPSBmcmFtZSAtIGN1cnJlbnRZICogc2l6ZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5leHBvcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKG1hdHJpeFtjdXJyZW50WV1bY3VycmVudFhdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXRyaXhbY3VycmVudFldW2N1cnJlbnRYXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnBhcnQoJ1NvdW5kJywgWydAaW5qZWN0JywgJ0RlYnVnJywgZnVuY3Rpb24gQW5pbWF0aW9uUHJvdmlkZXIoaW5qZWN0LCBEZWJ1Zykge1xyXG5cclxuICAgIHZhciBhbmltYXRpb25zID0gW10sXHJcbiAgICAgICAgYW5pbWF0ZWQgPSBmYWxzZSxcclxuICAgICAgICBtb3JwaHMgPSB7fTtcclxuXHJcbiAgICB0aGlzLm1vcnBoID0gZnVuY3Rpb24gKG5hbWUsIG9yZGVyaW5nLCBzZXR0ZXIsIGFwcGxpZXIpIHtcclxuICAgICAgICB2YXIgbW9ycGggPSBpbmplY3QoJyRNb3JwaCcpO1xyXG4gICAgICAgIG1vcnBoLmNvbmZpZyhuYW1lLCB0aGlzLCBvcmRlcmluZywgc2V0dGVyLCBhcHBsaWVyKTtcclxuICAgICAgICBpZiAobW9ycGgudmFsaWQoKSkge1xyXG4gICAgICAgICAgICBtb3JwaHNbbmFtZV0gPSBtb3JwaDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZXh0cmFjdE1vcnBoID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gbW9ycGhzW25hbWVdO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBmaW5kQ29tcGV0aXRvcihwcm9wZXJ0aWVzLCBhbmltYXRpb24pIHtcclxuICAgICAgICBhbmltYXRpb24uJCRTRUxGID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdmFyIGNvbXBldGl0b3IgPSBudWxsO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKCFhbmltYXRpb25zW2ldLiQkU0VMRikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbnNbaV0uYWN0aXZlKCkgJiYgIWFuaW1hdGlvbnNbaV0uZG9uZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoZWNrID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBwcm9wZXJ0aWVzLmxlbmd0aDsgbisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25zW2ldLmhhc1Byb3BlcnR5KHByb3BlcnRpZXNbbl0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVjayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb21wZXRpdG9yKSBjb21wZXRpdG9yID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBldGl0b3IucHVzaChhbmltYXRpb25zW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRlbGV0ZSBhbmltYXRpb24uJCRTRUxGO1xyXG5cclxuICAgICAgICByZXR1cm4gY29tcGV0aXRvcjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBDaGVja0FuaW1hdGlvblF1ZXVlKCkge1xyXG4gICAgICAgIHZhciBfYW5pbWF0aW9ucyA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKCFhbmltYXRpb25zW2ldLmFjdGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvcHMgPSBhbmltYXRpb25zW2ldLnByb3BlcnRpZXMoKTtcclxuICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25zW2ldLnF1ZXVlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbmRDb21wZXRpdG9yKHByb3BzLCBhbmltYXRpb25zW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zW2ldLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBldGl0b3JzID0gZmluZENvbXBldGl0b3IocHJvcHMsIGFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNvbXBldGl0b3JzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgY29tcGV0aXRvcnMubGVuZ3RoOyBuKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHAgPSAwOyBwIDwgcHJvcHMubGVuZ3RoOyBwKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wZXRpdG9yc1tuXS5zdG9wKHByb3BzW3BdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zW2ldLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhbmltYXRpb25zW2ldLmRvbmUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9hbmltYXRpb25zLnB1c2goYW5pbWF0aW9uc1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFuaW1hdGlvbnMgPSBfYW5pbWF0aW9ucztcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gQ3JlYXRlQW5pbWF0aW9uVHlwZTEocHJvcGVydHksIHZhbHVlLCBkdXJhdGlvbiwgZWFzaW5nKSB7XHJcbiAgICAgICAgdmFyIHBhaXIgPSB7fTtcclxuXHJcbiAgICAgICAgcGFpcltwcm9wZXJ0eV0gPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKG1vcnBoc1twcm9wZXJ0eV0pIHtcclxuICAgICAgICAgICAgdmFyIHN0YWNrID0gW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJpbmc6IG1vcnBoc1twcm9wZXJ0eV0ub3JkZXJpbmcoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGg6IG1vcnBoc1twcm9wZXJ0eV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBjb25maWcgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkdXJhdGlvbiAmJiB0eXBlb2YgZHVyYXRpb24gPT0gXCJudW1iZXJcIikgY29uZmlnLmR1cmF0aW9uID0gZHVyYXRpb247XHJcbiAgICAgICAgICAgIGlmIChlYXNpbmcgJiYgdHlwZW9mIGVhc2luZyA9PSBcInN0cmluZ1wiKSBjb25maWcuZWFzaW5nID0gZWFzaW5nO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBpbmplY3QoJyRBbmltYXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5jb25maWcodGhpcywgc3RhY2ssIGNvbmZpZywgQ2hlY2tBbmltYXRpb25RdWV1ZSk7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gQ3JlYXRlQW5pbWF0aW9uVHlwZTIocGFpcnMsYXJnMixhcmczKSB7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHt9O1xyXG5cclxuICAgICAgICBpZih0eXBlb2YgYXJnMiA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZyA9IGFyZzI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYodHlwZW9mIGFyZzIgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBjb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA6IGFyZzJcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYodHlwZW9mIGFyZzMgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgY29uZmlnLmVhc2luZyA9IGFyZzNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKHR5cGVvZiBhcmcyID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgY29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgZWFzaW5nIDogYXJnMlxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xyXG5cclxuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwYWlycykge1xyXG4gICAgICAgICAgICBpZiAoIXBhaXJzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkgY29udGludWU7XHJcbiAgICAgICAgICAgIGlmICghbW9ycGhzW3Byb3BlcnR5XSkge1xyXG4gICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5XHJcbiAgICAgICAgICAgICAgICB9LCAnUHJvcGVydHkge3Byb3BlcnR5fSBvZiB7dHlwZX0gY2FuIG5vdCBiZSBhbmltYXRlZCEnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtwcm9wZXJ0eV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JkZXJpbmc6IG1vcnBoc1twcm9wZXJ0eV0ub3JkZXJpbmcoKSxcclxuICAgICAgICAgICAgICAgICAgICBtb3JwaDogbW9ycGhzW3Byb3BlcnR5XSxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcGFpcnNbcHJvcGVydHldXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBtb3JwaF9zdGFjayA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpdGVtIGluIHJlc3VsdCkge1xyXG4gICAgICAgICAgICBtb3JwaF9zdGFjay5wdXNoKHJlc3VsdFtpdGVtXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobW9ycGhfc3RhY2subGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIG1vcnBoX3N0YWNrLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhLm9yZGVyaW5nIC0gYi5vcmRlcmluZztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gaW5qZWN0KCckQW5pbWF0aW9uJyk7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5jb25maWcodGhpcywgbW9ycGhfc3RhY2ssIGNvbmZpZywgQ2hlY2tBbmltYXRpb25RdWV1ZSk7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcud2FybignTm8gcHJvcGVydGllcyB0byBhbmltYXRlIScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmFuaW1hdGUgPSBmdW5jdGlvbiAoYXJnMSwgYXJnMiwgYXJnMywgYXJnNCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXJnMSA9PSAnc3RyaW5nJyAmJiBhcmcyKSB7XHJcbiAgICAgICAgICAgIENyZWF0ZUFuaW1hdGlvblR5cGUxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhcmcxID09IFwib2JqZWN0XCIgJiYgYXJnMS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgQ3JlYXRlQW5pbWF0aW9uVHlwZTIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIERlYnVnLndhcm4oJ1VuYWJsZSB0byBjcmVhdGUgYW5pbWF0aW9uLiBXcm9uZyBhcmd1bWVudHMnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgQ2hlY2tBbmltYXRpb25RdWV1ZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmFuaW1hdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBhbmltYXRlZDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgaWYodHlwZW9mIHByb3BlcnR5ICE9PSBcInN0cmluZ1wiIHx8IHByb3BlcnR5Lmxlbmd0aCA9PSAwKSByZXR1cm47XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbnNbaV0uc3RvcChwcm9wZXJ0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8yMy8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnU291bmQnLCBbJ0BpbmplY3QnLCAnRGVidWcnLCBmdW5jdGlvbiBBdWRpbyhpbmplY3QsIERlYnVnKSB7XHJcblxyXG4gICAgdmFyIHNvdXJjZSA9IG51bGwsXHJcbiAgICAgICAgdXJsID0gbnVsbCxcclxuICAgICAgICB0eXBlID0gbnVsbCxcclxuICAgICAgICBldmVudHMgPSBpbmplY3QoJyRFdmVudFByb3ZpZGVyJyksXHJcbiAgICAgICAgYW5pbWF0aW9ucyA9IGluamVjdCgnJEFuaW1hdGlvblByb3ZpZGVyJyksXHJcbiAgICAgICAgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgb3V0cHV0ID0gbnVsbCxcclxuICAgICAgICBub2RlbmFtZSA9ICcnO1xyXG5cclxuICAgIGV2ZW50cy53cmFwKHRoaXMpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGV2ZW50QXJncygpIHtcclxuICAgICAgICByZXR1cm4gW3NlbGYsIG91dHB1dCwgdXJsLCB0eXBlXTtcclxuICAgIH1cclxuXHJcbiAgICBldmVudHMuZXZlbnQoJ3JlYWR5JywgZXZlbnRBcmdzLCB0cnVlKTtcclxuICAgIGV2ZW50cy5ldmVudCgnbG9hZCcsIGV2ZW50QXJncywgdHJ1ZSk7XHJcbiAgICBldmVudHMuZXZlbnQoJ2Vycm9yJywgZXZlbnRBcmdzLCB0cnVlKTtcclxuICAgIGV2ZW50cy5ldmVudCgncGxheScsIGV2ZW50QXJncywgZmFsc2UpO1xyXG4gICAgZXZlbnRzLmV2ZW50KCdjb25uZWN0JywgZXZlbnRBcmdzLCBmYWxzZSk7XHJcbiAgICBldmVudHMuZXZlbnQoJ2Rpc2Nvbm5lY3QnLCBldmVudEFyZ3MsIGZhbHNlKTtcclxuICAgIGV2ZW50cy5ldmVudCgnZW5kJywgZXZlbnRBcmdzLCBmYWxzZSk7XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlQW5pbWF0aW9uTW9ycGgoZmlsdGVyLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgIGFuaW1hdGlvbnMubW9ycGguYXBwbHkodGhpcywgW3Byb3BlcnR5Lm5hbWUsIDAsXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwcm9wZXJ0eS5ub3JtYWxpemVyKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydChmaWx0ZXIuZ2V0KHByb3BlcnR5Lm5hbWUpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3BlcnR5Lm5vcm1hbGl6ZXIodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlci5zZXQocHJvcGVydHkubmFtZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5idWlsZCA9IGZ1bmN0aW9uIChuYW1lLCBzcmMpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT0gXCJzdHJpbmdcIiAmJiBuYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzcmMgPT0gXCJzdHJpbmdcIiAmJiBzcmMgIT09ICdkZXN0aW5hdGlvbicgJiYgc3JjLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHVybCA9IHNyYztcclxuICAgICAgICAgICAgICAgIHNvdXJjZSA9IGluamVjdCgnJFVzZXJBdWRpb1NvdXJjZScpLmJ1aWxkKHNyYyk7XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gJ1NhbXBsZSc7XHJcbiAgICAgICAgICAgICAgICBzb3VyY2Uub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2xvYWQnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucGxheSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlcm1pbmF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2Uuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNyYyA9PT0gJ2Rlc3RpbmF0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgc291cmNlID0gaW5qZWN0KCckVXNlckF1ZGlvTWl4ZXInKS5idWlsZChuYW1lLCBzcmMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHNbMF0gJiYgdHlwZW9mIGFyZ3VtZW50c1swXSA9PSBcIm9iamVjdFwiICYmIGFyZ3VtZW50c1swXS4kJFNPVVJDRSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgdXJsID0gJ1snICsgbmFtZSArICddJyArICdBdWRpb0NoYW5uZWwnO1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9ICdDaGFubmVsJztcclxuICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdsb2FkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3JjID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHNvdXJjZSA9IGluamVjdCgnJFVzZXJBdWRpb01peGVyJykuYnVpbGQobmFtZSk7XHJcbiAgICAgICAgICAgICAgICB1cmwgPSAnWycgKyBuYW1lICsgJ10nICsgJ0F1ZGlvQ2hhbm5lbCc7XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gJ0NoYW5uZWwnO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2xvYWQnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc291cmNlLm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdlcnJvcicpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHNvdXJjZS5vbigncGxheScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdwbGF5Jyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc291cmNlLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnZW5kJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc291cmNlLm9uKCdjb25uZWN0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Nvbm5lY3QnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBzb3VyY2Uub24oJ2Rpc2Nvbm5lY3QnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnZGlzY29ubmVjdCcpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJzID0gc291cmNlLmZpbHRlcnMoKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb3BzID0gZmlsdGVyc1tpXS5wcm9wcygpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCBwcm9wcy5sZW5ndGg7IG0rKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wc1ttXS5hbmltYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVBbmltYXRpb25Nb3JwaC5hcHBseSh0aGlzLCBbZmlsdGVyc1tpXSwgcHJvcHNbbV1dKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5vZGVuYW1lID0gbmFtZTtcclxuXHJcbiAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdyZWFkeScpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIERlYnVnLndhcm4oJ0F1ZGlvIG1peGVyIGhhdmUgbm8gbmFtZSEgU2hvdWxkIGJlIGEgc3RyaW5nJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5maWx0ZXIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT0gXCJzdHJpbmdcIiAmJiBuYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdmFyIGZpbHRlciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJzID0gc291cmNlLmZpbHRlcnMoKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcnNbaV0uaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyID0gZmlsdGVyc1tpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGZpbHRlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXIuc2V0KG5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXIuZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgRGVidWcud2Fybih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gc2V0IGZpbHRlciBwcm9wZXJ0eSBbe25hbWV9XS4gTm8gZmlsdGVyIHdpdGggdGhhdCBwYXJhbSEnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5jb25uZWN0ID0gZnVuY3Rpb24gKG91dCkge1xyXG4gICAgICAgIGlmIChvdXQgJiYgdHlwZW9mIG91dCA9PSBcIm9iamVjdFwiICYmIG91dC4kJFNPVVJDRSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBvdXQgPT0gXCJvYmplY3RcIiAmJiBvdXQudHlwZSAmJiB0eXBlb2Ygb3V0LnR5cGUgPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIHZhciBjdHlwZSA9IG91dC50eXBlKCk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlID09ICdDaGFubmVsJyAmJiBjdHlwZSA9PSAnU2FtcGxlJykge1xyXG4gICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ1RyeWluZyB0byBjb25uZWN0IENoYW5uZWwgd2l0aCBTYW1wbGUhJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChvdXQuY29ubmVjdCAmJiB0eXBlb2Ygb3V0LmNvbm5lY3QgPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3V0c291cmNlID0gb3V0LmNvbm5lY3QoeyQkU09VUkNFOiB0cnVlfSk7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBvdXQ7XHJcbiAgICAgICAgICAgICAgICBzb3VyY2UuY29ubmVjdChvdXRzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdVbmtub3duIHR5cGUgb2YgIG9iamVjdCBwYXNzZWQgYXMgb3V0cHV0IScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBEZWJ1Zy5lcnJvcignVW5rbm93biB0eXBlIG9mICBvYmplY3QgcGFzc2VkIGFzIG91dHB1dCEnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLm91dHB1dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmFuaW1hdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgYW5pbWF0aW9ucy5hbmltYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudHlwZSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHN0ciA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdHIgPT09IHR5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0eXBlO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnVybCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLm5hbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5vZGVuYW1lO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgYW5pbWF0aW9ucy5zdG9wLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMjEvMjAxNy5cclxuICovXHJcbiRSLnBhcnQoJ1NvdW5kJywgWydAaW5qZWN0JywgJyQkY29uZmlnJywgJ0RlYnVnJywgZnVuY3Rpb24gVXNlckF1ZGlvTWl4ZXIoaW5qZWN0LCBjb25maWcsIERlYnVnKSB7XHJcblxyXG4gICAgdmFyIGV2ZW50cyA9IGluamVjdCgnJEV2ZW50UHJvdmlkZXInKSxcclxuICAgICAgICBmaWx0ZXJzID0gW10sXHJcbiAgICAgICAgb3V0cHV0ID0gbnVsbCxcclxuICAgICAgICBuYW1lID0gJyc7XHJcblxyXG5cclxuICAgIGV2ZW50cy53cmFwKHRoaXMpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFyZ0YoKSB7XHJcbiAgICAgICAgcmV0dXJuIFt0aGlzXTtcclxuICAgIH1cclxuXHJcbiAgICBldmVudHMuZXZlbnQoJ3BsYXknLCBhcmdGLCBmYWxzZSk7XHJcbiAgICBldmVudHMuZXZlbnQoJ2Nvbm5lY3QnLCBhcmdGLCBmYWxzZSk7XHJcbiAgICBldmVudHMuZXZlbnQoJ3JlYWR5JywgYXJnRiwgdHJ1ZSk7XHJcbiAgICBldmVudHMuZXZlbnQoJ2Vycm9yJywgYXJnRiwgdHJ1ZSk7XHJcblxyXG4gICAgdGhpcy5idWlsZCA9IGZ1bmN0aW9uIChuLCBjaGFubmVsKSB7XHJcblxyXG4gICAgICAgIHZhciBmY2ZnID0gY29uZmlnLmZpbHRlcnMgJiZcclxuICAgICAgICB0eXBlb2YgY29uZmlnLmZpbHRlcnMgPT0gXCJvYmplY3RcIlxyXG4gICAgICAgICYmIGNvbmZpZy5maWx0ZXJzLmNvbnN0cnVjdG9yID09IEFycmF5XHJcbiAgICAgICAgJiYgY29uZmlnLmZpbHRlcnMubGVuZ3RoID4gMCA/IGNvbmZpZy5maWx0ZXJzIDogWydEZWxheScsICdHYWluJ107XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmNmZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbm9kZSA9IGluamVjdCgnJCcgKyBmY2ZnW2ldICsgJ05vZGUnKTtcclxuICAgICAgICAgICAgaWYgKGZpbHRlcnNbZmlsdGVycy5sZW5ndGggLSAxXSkge1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyc1tmaWx0ZXJzLmxlbmd0aCAtIDFdLmNvbm5lY3Qobm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmlsdGVycy5wdXNoKG5vZGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBuID09IFwic3RyaW5nXCIgJiYgbi5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSBuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7bjogbn0sICdbe259XSBpcyBub3QgYSB2YWxpZCBuYW1lIGZvciBjaGFubmVsJyk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdlcnJvcicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYW5uZWwgJiYgdHlwZW9mIGNoYW5uZWwgPT0gXCJvYmplY3RcIiAmJiBjaGFubmVsLmNvbm5lY3QgJiYgdHlwZW9mIGNoYW5uZWwuY29ubmVjdCA9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0KGNoYW5uZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjaGFubmVsID09PSAnZGVzdGluYXRpb24nKSB7XHJcbiAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IGluamVjdCgnJERlc3RpbmF0aW9uTm9kZScpO1xyXG4gICAgICAgICAgICBmaWx0ZXJzW2ZpbHRlcnMubGVuZ3RoIC0gMV0uY29ubmVjdChkZXN0aW5hdGlvbik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3QgPSBmdW5jdGlvbiAob3V0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3V0LiQkQVVESU9OT0RFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcnNbMF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBkZWxldGUgIHRoaXMuYnVpbGQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY29ubmVjdCA9IGZ1bmN0aW9uIChvdXQpIHtcclxuICAgICAgICBpZiAob3V0LiQkQVVESU9OT0RFKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gb3V0LmNvbm5lY3QoeyQkQVVESU9OT0RFOiB0cnVlfSk7XHJcbiAgICAgICAgICAgIGZpbHRlcnNbZmlsdGVycy5sZW5ndGggLSAxXS5jb25uZWN0KGlucHV0KTtcclxuICAgICAgICAgICAgb3V0cHV0ID0gb3V0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMub3V0cHV0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZmlsdGVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gZmlsdGVycztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5uYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuYW1lO1xyXG4gICAgfVxyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzE5LzIwMTcuXHJcbiAqL1xyXG4kUi5wYXJ0KCdTb3VuZCcsIFsnQGV4dGVuZCcsICdAaW5qZWN0JywgJ0RlYnVnJywgZnVuY3Rpb24gVXNlckF1ZGlvU291cmNlKGV4dGVuZCwgaW5qZWN0LCBEZWJ1Zykge1xyXG5cclxuICAgIHZhciBub2RlID0gaW5qZWN0KCckQXVkaW9Tb3VyY2UnKSxcclxuICAgICAgICBldmVudHMgPSBpbmplY3QoJyRFdmVudFByb3ZpZGVyJyksXHJcbiAgICAgICAgbWl4ZXIgPSBudWxsLFxyXG4gICAgICAgIG91dHB1dCA9IG51bGwsXHJcbiAgICAgICAgdXJsID0gJyc7XHJcblxyXG4gICAgZnVuY3Rpb24gY2JBcmdzKCkge1xyXG4gICAgICAgIHJldHVybiBbdGhpc107XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29ubmVjdENiQXJncygpIHtcclxuICAgICAgICByZXR1cm4gW3RoaXMsIG91dHB1dF07XHJcbiAgICB9XHJcblxyXG4gICAgZXZlbnRzLndyYXAodGhpcyk7XHJcblxyXG4gICAgZXZlbnRzLmV2ZW50KCdyZWFkeScsIGNiQXJncywgdHJ1ZSk7XHJcbiAgICBldmVudHMuZXZlbnQoJ2xvYWQnLCBjYkFyZ3MsIHRydWUpO1xyXG4gICAgZXZlbnRzLmV2ZW50KCdlcnJvcicsIGNiQXJncywgdHJ1ZSk7XHJcbiAgICBldmVudHMuZXZlbnQoJ2Nvbm5lY3QnLCBjb25uZWN0Q2JBcmdzLCBmYWxzZSk7XHJcbiAgICBldmVudHMuZXZlbnQoJ3BsYXknLCBjYkFyZ3MsIGZhbHNlKTtcclxuICAgIGV2ZW50cy5ldmVudCgnc3RvcCcsIGNiQXJncywgZmFsc2UpO1xyXG5cclxuICAgIG5vZGUub24oJ3JlYWR5JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGV2ZW50cy5yZXNvbHZlKCdyZWFkeScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbm9kZS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBldmVudHMucmVzb2x2ZSgnbG9hZCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbm9kZS5vbignZXJyb3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Vycm9yJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmJ1aWxkID0gZnVuY3Rpb24gKHNyYykge1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHNyYyA9PSBcInN0cmluZ1wiICYmIHNyYy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHVybCA9IHNyYztcclxuICAgICAgICAgICAgbm9kZS5idWlsZChzcmMpO1xyXG4gICAgICAgICAgICBtaXhlciA9IGluamVjdCgnJFVzZXJBdWRpb01peGVyJykuYnVpbGQoJ3NvdXJjZS1idWlsdC1pbi1maWx0ZXInKTtcclxuICAgICAgICAgICAgbWl4ZXIub24oJ2Nvbm5lY3QnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnY29ubmVjdCcpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbm9kZS5jb25uZWN0KG1peGVyLmNvbm5lY3QoeyQkQVVESU9OT0RFOiB0cnVlfSkpO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5idWlsZDtcclxuICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ3JlYWR5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkZWxldGUgIHRoaXMuYnVpbGQ7XHJcbiAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdlcnJvcicpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmZpbHRlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYobWl4ZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1peGVyLmZpbHRlcnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgdGhpcy5wbGF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5zdGF0dXMoJ2Vycm9yJykpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzKCdyZWFkeScpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0dXMoJ2xvYWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbm9kZS5zdG9wKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMub3V0cHV0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY29ubmVjdCA9IGZ1bmN0aW9uIChvdXQpIHtcclxuICAgICAgICBpZiAob3V0ICYmIG91dC5jb25zdHJ1Y3RvciA9PT0gbWl4ZXIuY29uc3RydWN0b3IpIHtcclxuICAgICAgICAgICAgb3V0cHV0ID0gb3V0O1xyXG4gICAgICAgICAgICBtaXhlci5jb25uZWN0KG91dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnU291bmQnLCBbJ0BhdWRpbycsICdAZXh0ZW5kJywgZnVuY3Rpb24gRGVsYXlOb2RlKGF1ZGlvLCBleHRlbmQpIHtcclxuXHJcbiAgICBleHRlbmQodGhpcywgJyRBdWRpb05vZGUnKTtcclxuXHJcbiAgICB2YXIgdGltZUNGRyA9IDAsIGZvcmNlQ0ZHID0gMCwga2lsbERlbGF5ID0gMTAwMDAsXHJcbiAgICAgICAgZ2xvYmFsR2FpbiA9IGF1ZGlvLmNvbnRleHQoKS5jcmVhdGVHYWluKCksXHJcbiAgICAgICAgZGVsYXkgPSBhdWRpby5jb250ZXh0KCkuY3JlYXRlRGVsYXkoKSxcclxuICAgICAgICBmZWVkYmFjayA9IGF1ZGlvLmNvbnRleHQoKS5jcmVhdGVHYWluKCksXHJcbiAgICAgICAgYnEgPSBhdWRpby5jb250ZXh0KCkuY3JlYXRlQmlxdWFkRmlsdGVyKCk7XHJcblxyXG4gICAgZ2xvYmFsR2Fpbi5nYWluLnZhbHVlID0gMTtcclxuICAgIGJxLmZyZXF1ZW5jeS52YWx1ZSA9IDIwMDA7XHJcbiAgICBmZWVkYmFjay5nYWluLnZhbHVlID0gZm9yY2VDRkc7XHJcbiAgICBkZWxheS5kZWxheVRpbWUudmFsdWUgPSB0aW1lQ0ZHO1xyXG5cclxuICAgIGRlbGF5LmNvbm5lY3QoZmVlZGJhY2spO1xyXG4gICAgZmVlZGJhY2suY29ubmVjdChicSk7XHJcbiAgICBicS5jb25uZWN0KGRlbGF5KTtcclxuICAgIGZlZWRiYWNrLmNvbm5lY3QoZ2xvYmFsR2Fpbik7XHJcblxyXG4gICAgdGhpcy5idWlsZCgnZGVsYXknLCBbZ2xvYmFsR2FpbiwgZmVlZGJhY2tdLCBnbG9iYWxHYWluKTtcclxuXHJcbiAgICB0aGlzLnByb3BlcnR5KCdkZWxheScsIFswLCAwXSxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSAmJlxyXG4gICAgICAgICAgICAgICAgdmFsdWUubGVuZ3RoID09IDIgJiYgdHlwZW9mIHZhbHVlWzBdID09IFwibnVtYmVyXCIgJiYgdHlwZW9mIHZhbHVlWzFdID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aW1lID0gdmFsdWVbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yY2UgPSB2YWx1ZVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGltZSA+IDEpIHRpbWUgPSAxO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRpbWUgPCAwKSB0aW1lID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChmb3JjZSA+IC44KSBmb3JjZSA9IC44O1xyXG4gICAgICAgICAgICAgICAgaWYgKGZvcmNlIDwgMCkgZm9yY2UgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGltZUNGRyA9IHRpbWU7XHJcbiAgICAgICAgICAgICAgICBmb3JjZUNGRyA9IGZvcmNlO1xyXG4gICAgICAgICAgICAgICAgZGVsYXkuZGVsYXlUaW1lLnZhbHVlID0gdGltZUNGRztcclxuICAgICAgICAgICAgICAgIGZlZWRiYWNrLmdhaW4udmFsdWUgPSBmb3JjZUNGRztcclxuICAgICAgICAgICAgICAgIHJldHVybiBbZm9yY2UsIHRpbWVdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZVswXSwgdmFsdWVbMV1dO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhciB0aW1lID0gdmFsdWVbMF0sXHJcbiAgICAgICAgICAgICAgICBmb3JjZSA9IHZhbHVlWzFdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRpbWUgPiAxKSB0aW1lID0gMTtcclxuICAgICAgICAgICAgaWYgKHRpbWUgPCAwKSB0aW1lID0gMDtcclxuICAgICAgICAgICAgaWYgKGZvcmNlID4gLjgpIGZvcmNlID0gLjg7XHJcbiAgICAgICAgICAgIGlmIChmb3JjZSA8IDApIGZvcmNlID0gMDtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBbZm9yY2UsIHRpbWVdO1xyXG4gICAgICAgIH1cclxuICAgICk7XHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnU291bmQnLCBbJ0BhdWRpbycsICdAZXh0ZW5kJywgZnVuY3Rpb24gRGVzdGluYXRpb25Ob2RlKGF1ZGlvLCBleHRlbmQpIHtcclxuXHJcbiAgICBleHRlbmQodGhpcywgJyRBdWRpb05vZGUnKTtcclxuXHJcbiAgICB0aGlzLmJ1aWxkKCdkZXN0aW5hdGlvbicsIGF1ZGlvLmNvbnRleHQoKS5kZXN0aW5hdGlvbiwgZmFsc2UpO1xyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzE2LzIwMTcuXHJcbiAqL1xyXG4kUi5wYXJ0KCdTb3VuZCcsIFsnQGF1ZGlvJywgJ0BleHRlbmQnLCBmdW5jdGlvbiBHYWluTm9kZShhdWRpbywgZXh0ZW5kKSB7XHJcblxyXG4gICAgZXh0ZW5kKHRoaXMsICckQXVkaW9Ob2RlJyk7XHJcblxyXG4gICAgdmFyIHZvbHVtZSA9IDEsXHJcbiAgICAgICAgZ2FpbiA9IGF1ZGlvLmNvbnRleHQoKS5jcmVhdGVHYWluKCk7XHJcblxyXG4gICAgZ2Fpbi5nYWluLnZhbHVlID0gdm9sdW1lO1xyXG5cclxuICAgIHRoaXMuYnVpbGQoJ2dhaW4nLCBnYWluLCBnYWluKTtcclxuXHJcbiAgICB0aGlzLnByb3BlcnR5KCd2b2x1bWUnLCAxLFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDEpIHZhbHVlID0gMTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgZ2Fpbi5nYWluLnZhbHVlID0gdm9sdW1lO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID4gMSkgdmFsdWUgPSAxO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnU291bmQnLCBbJ0BhdWRpbycsICdAZXh0ZW5kJywgZnVuY3Rpb24gTG93cGFzc05vZGUoYXVkaW8sIGV4dGVuZCkge1xyXG5cclxuICAgIGV4dGVuZCh0aGlzLCAnJEF1ZGlvTm9kZScpO1xyXG5cclxuICAgIHZhciBicWYgID0gYXVkaW8uY29udGV4dCgpLmNyZWF0ZUJpcXVhZEZpbHRlcigpLFxyXG5cclxuICAgICAgICBmcmVxdWVuY3kgPSAyMjA1MDtcclxuXHJcbiAgICBicWYudHlwZSA9ICdsb3dwYXNzJztcclxuICAgIGJxZi5mcmVxdWVuY3kudmFsdWUgPSBmcmVxdWVuY3k7XHJcblxyXG4gICAgdGhpcy5idWlsZCgnbG93cGFzcycsIGJxZiwgYnFmKTtcclxuXHJcbiAgICB0aGlzLnByb3BlcnR5KCdsb3dwYXNzJywgMjIwNTAsXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID4gMjIwNTApIHZhbHVlID0gMjIwNTA7XHJcbiAgICAgICAgICAgIGZyZXF1ZW5jeSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBicWYuZnJlcXVlbmN5LnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPiAyMjA1MCkgdmFsdWUgPSAyMjA1MDtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICk7XHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnU291bmQnLCBbJ0BpbmplY3QnLCAnRGVidWcnLCBmdW5jdGlvbiBBdWRpb05vZGUoaW5qZWN0LCBEZWJ1Zykge1xyXG5cclxuICAgIHZhciBvdXRwdXQgPSBudWxsLFxyXG4gICAgICAgIGlucHV0ID0gbnVsbCxcclxuICAgICAgICBuZXh0Tm9kZSA9IG51bGwsXHJcbiAgICAgICAgYnVpbGRGID0gZnVuY3Rpb24gKHNvdW5kLCBvdXRwdXQpIHtcclxuICAgICAgICAgICAgaWYoIW91dHB1dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5pbnB1dCgpO1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc291bmQuY29ubmVjdChpbnB1dFtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzb3VuZHMgPSBbXSxcclxuICAgICAgICBldmVudHMgPSBpbmplY3QoJyRFdmVudFByb3ZpZGVyJyksXHJcbiAgICAgICAgbm9kZW5hbWUgPSAnJztcclxuXHJcbiAgICBmdW5jdGlvbiBhcmdzKCkge1xyXG4gICAgICAgIHJldHVybiBbbmV4dE5vZGVdO1xyXG4gICAgfVxyXG5cclxuICAgIGV2ZW50cy53cmFwKHRoaXMpO1xyXG5cclxuICAgIGV2ZW50cy5ldmVudCgncmVhZHknLCBhcmdzLCB0cnVlKTtcclxuICAgIGV2ZW50cy5ldmVudCgncGxheScsIGFyZ3MsIGZhbHNlKTtcclxuICAgIGV2ZW50cy5ldmVudCgnZW5kJywgYXJncywgZmFsc2UpO1xyXG4gICAgZXZlbnRzLmV2ZW50KCdjb25uZWN0JywgYXJncywgZmFsc2UpO1xyXG4gICAgZXZlbnRzLmV2ZW50KCdkaXNjb25uZWN0JywgYXJncywgZmFsc2UpO1xyXG4gICAgZXZlbnRzLmV2ZW50KCdwcm9wZXJ0eScsIGFyZ3MsIGZhbHNlKTtcclxuXHJcbiAgICB0aGlzLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKG5leHROb2RlICYmIG91dHB1dCkge1xyXG4gICAgICAgICAgICB2YXIgX2lucEFycmF5ID0gbmV4dE5vZGUuaW5wdXQoKTtcclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMCA7IGkgPCBvdXRwdXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGZvcih2YXIgbiA9IDA7IG4gPF9pbnBBcnJheS5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFtpXS5kaXNjb25uZWN0KF9pbnBBcnJheVtuXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV4dE5vZGUgPSBudWxsO1xyXG4gICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnZGlzY29ubmVjdCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5jb25uZWN0ID0gZnVuY3Rpb24gKG91dCkge1xyXG4gICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgIG5leHROb2RlID0gb3V0O1xyXG4gICAgICAgIGlmIChuZXh0Tm9kZSAmJiBvdXRwdXQpIHtcclxuICAgICAgICAgICAgdmFyIF9pbnBBcnIgPSBuZXh0Tm9kZS5pbnB1dCgpO1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwIDsgaSA8IG91dHB1dC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBuID0gMCA7IG4gPCBfaW5wQXJyLmxlbmd0aDsgbisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W2ldLmNvbm5lY3QoX2lucEFycltpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Nvbm5lY3QnKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5idWlsZCA9IGZ1bmN0aW9uIChuYW1lLCBpbnAsIG91dCwgZikge1xyXG4gICAgICAgIGlucHV0ID0gdHlwZW9mIGlucCA9PSBcIm9iamVjdFwiICYmIGlucC5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgPyBpbnAgOiBbaW5wXTtcclxuICAgICAgICBvdXRwdXQgPSB0eXBlb2Ygb3V0ID09IFwib2JqZWN0XCIgJiYgb3V0LmNvbnN0cnVjdG9yID09PSBBcnJheSA/IG91dCA6IFtvdXRdO1xyXG4gICAgICAgIG5vZGVuYW1lID0gbmFtZTtcclxuICAgICAgICBpZiAodHlwZW9mIGYgPT0gXCJmdW5jdGlvblwiKSBidWlsZEYgPSBmO1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLmJ1aWxkO1xyXG4gICAgICAgIGV2ZW50cy5yZXNvbHZlKCdyZWFkeScpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmlucHV0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBpbnB1dDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5vdXRwdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5uYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBub2RlbmFtZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5wbGF5ID0gZnVuY3Rpb24gKHNvdW5kLCBvdXRwdXQpIHtcclxuICAgICAgICBzb3VuZHMucHVzaChzb3VuZCk7XHJcbiAgICAgICAgc291bmQuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICAgICAgc291bmQuJCRTRUFSQ0ggPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdW5kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzb3VuZHMuJCRTRUFSQ0gpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzb3VuZHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlbGV0ZSBzb3VuZC4kJFNFQVJDSDtcclxuICAgICAgICAgICAgc291bmRzID0gcmVzdWx0O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAobmV4dE5vZGUpIHtcclxuICAgICAgICAgICAgbmV4dE5vZGUucGxheShzb3VuZCwgYnVpbGRGLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBtb2RlbCA9IHt9O1xyXG5cclxuICAgIHRoaXMucHJvcGVydHkgPSBmdW5jdGlvbiAobmFtZSwgZGVmVmFsLCBzZXR0ZXIsIGdldHRlciwgbm9ybWxpemVyKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgZ2V0dGVyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgc2V0dGVyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplciA6IG5vcm1saXplcixcclxuICAgICAgICAgICAgICAgIGFuaW1hdGVkIDogdHlwZW9mIG5vcm1saXplciA9PSBcImZ1bmN0aW9uXCIgPyB0cnVlIDogZmFsc2VcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZ2V0dGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5LmdldHRlciA9IGdldHRlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNldHRlciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS5zZXR0ZXIgPSBzZXR0ZXI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHByb3BlcnR5LnZhbHVlID0gZGVmVmFsO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRlZlZhbCAmJiB0eXBlb2YgcHJvcGVydHkuZ2V0dGVyICYmIHByb3BlcnR5LnNldHRlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFtb2RlbFtwcm9wZXJ0eS5uYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5Lm5hbWVdID0gcHJvcGVydHk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtwcm9wZXJ0eTogcHJvcGVydHl9LCAnRHVwbGljYXRlZCBwcm9wZXJ0eSBbe3Byb3BlcnR5fV0nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7bmFtZTogbmFtZX0sICdQcm9wZXJ0eSBuYW1lIFt7bmFtZX1dIGlzIG5vdCB2YWxpZCEnKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2V0ID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09IFwic3RyaW5nXCIgJiYgbmFtZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBtb2RlbFtuYW1lXS5zZXR0ZXIodmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIG1vZGVsW25hbWVdLnZhbHVlID0gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgRGVidWcud2Fybih7cHJvcDogbmFtZSwgdmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlbiBmb3IgW3twcm9wfV0uJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT0gXCJzdHJpbmdcIiAmJiBuYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgaWYgKG1vZGVsW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWxbbmFtZV0udmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtuYW1lOiBuYW1lfSwgJ09iamVjdCBoYXMgbm8gcHJvcGVydHkgW3tuYW1lfV0uIFVuYWJsZSB0byBnZXQgdmFsdWUuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIERlYnVnLndhcm4oJ1Byb3BlcnR5IG5hbWUgaGFzIHRvIGJlIGEgc3RyaW5nJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnByb3BzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBtb2RlbCkge1xyXG4gICAgICAgICAgICBpZiAobW9kZWwuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG1vZGVsW3Byb3BdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5oYXMgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIHJldHVybiAhIW1vZGVsW25hbWVdO1xyXG4gICAgfTtcclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8yMi8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnU291bmQnLCBmdW5jdGlvbiBBdWRpb05vZGVTb3VuZERpc3BhdGNoZXIoKSB7XHJcblxyXG4gICAgdmFyIHNvdW5kcyA9IFtdO1xyXG5cclxuICAgIHRoaXMucmVnaXN0ZXIgPSBmdW5jdGlvbiAoc291bmQpIHtcclxuICAgICAgICBzb3VuZC5hZGRFdmVudExpc3RlbmVyKCdlbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNvdW5kLiQkU0VBUkNIID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBzb3VuZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmKCFzb3VuZHNbaV0uJCRTRUFSQ0gpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzb3VuZHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNvdW5kcyA9IHJlc3VsdDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc291bmRzLnB1c2goc291bmQpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5yZWNvbm5lY3QgPSBmdW5jdGlvbiAoZGVzdGluYXRpb24pIHtcclxuICAgICAgICBmb3IodmFyIGkgPSAwIDsgaSA8IHNvdW5kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzb3VuZHNbaV0uZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICBzb3VuZHNbaV0uY29ubmVjdChkZXN0aW5hdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTYvMjAxNy5cclxuICovXHJcbiRSLnBhcnQoJ1NvdW5kJywgWydAYXVkaW8nLCAnQGluamVjdCcsICdSZXNvdXJjZScsICdEZWJ1ZycsIGZ1bmN0aW9uIEF1ZGlvU291cmNlKGF1ZGlvLCBpbmplY3QsIFJlc291cmNlLCBEZWJ1Zykge1xyXG5cclxuICAgIHZhciB1cmwgPSBudWxsLFxyXG4gICAgICAgIHJlc291cmNlID0gbnVsbCxcclxuICAgICAgICBidWZmZXIgPSBudWxsLFxyXG4gICAgICAgIG91dHB1dCA9IG51bGwsXHJcbiAgICAgICAgZXZlbnRzID0gaW5qZWN0KCckRXZlbnRQcm92aWRlcicpLFxyXG4gICAgICAgIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgIHNvdW5kcyA9IFtdO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFyZ3MoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtyZXNvdXJjZSwgYnVmZmVyLCBvdXRwdXRdO1xyXG4gICAgfVxyXG5cclxuICAgIGV2ZW50cy53cmFwKHRoaXMpO1xyXG5cclxuICAgIGV2ZW50cy5ldmVudCgncmVhZHknLCBhcmdzLCB0cnVlKTtcclxuICAgIGV2ZW50cy5ldmVudCgnbG9hZCcsIGFyZ3MsIHRydWUpO1xyXG4gICAgZXZlbnRzLmV2ZW50KCdlcnJvcicsIGFyZ3MsIHRydWUpO1xyXG4gICAgZXZlbnRzLmV2ZW50KCdjb25uZWN0JywgYXJncywgZmFsc2UpO1xyXG4gICAgZXZlbnRzLmV2ZW50KCdkaXNjb25uZWN0JywgYXJncywgZmFsc2UpO1xyXG4gICAgZXZlbnRzLmV2ZW50KCdwbGF5JywgZmFsc2UpO1xyXG4gICAgZXZlbnRzLmV2ZW50KCdlbmQnLCBmYWxzZSk7XHJcblxyXG4gICAgdGhpcy5idWlsZCA9IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICByZXNvdXJjZSA9IFJlc291cmNlLmF1ZGlvKHNyYyk7XHJcblxyXG4gICAgICAgIHJlc291cmNlLm9uKCdsb2FkJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIGF1ZGlvLmNvbnRleHQoKS5kZWNvZGVBdWRpb0RhdGEoXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2xvYWQnKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3NyYzogc3JjfSwgJ1t7c3JjfV0gYXVkaW8gYnVmZmVyIGNhbiBub3QgYmUgZGVjb2RlZC4nKTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXNvdXJjZS5vbignZXJyb3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIERlYnVnLmVycm9yKHtzcmM6IHNyY30sICdVbmFibGUgdG8gbG9hZCBhdWRpbyBmaWxlJyk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKGVycm9yKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLmJ1aWxkO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChvdXRwdXQpIHtcclxuICAgICAgICAgICAgb3V0cHV0ID0gbnVsbDtcclxuICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Rpc2Nvbm5lY3QnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY29ubmVjdCA9IGZ1bmN0aW9uIChvdXQpIHtcclxuICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICBvdXRwdXQgPSBvdXQ7XHJcbiAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Nvbm5lY3QnKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5wbGF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChvdXRwdXQgJiYgdGhpcy5zdGF0dXMoJ2xvYWQnKSkge1xyXG4gICAgICAgICAgICB2YXIgc291cmNlID0gYXVkaW8uY29udGV4dCgpLmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xyXG4gICAgICAgICAgICBzb3VyY2UuYnVmZmVyID0gYnVmZmVyO1xyXG4gICAgICAgICAgICBzb3VuZHMucHVzaChzb3VyY2UpO1xyXG4gICAgICAgICAgICBvdXRwdXQucGxheShzb3VyY2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgc291cmNlLnN0YXJ0KDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291bmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNvdW5kc1tpXS5zdG9wKDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzb3VuZHMgPSBbXTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTYvMjAxNy5cclxuICovXHJcbiRSLnBhcnQoJ1NvdW5kJywgWydEZWJ1ZycsIGZ1bmN0aW9uIEV2ZW50KERlYnVnKSB7XHJcblxyXG4gICAgdmFyIGNiID0gW10sXHJcbiAgICAgICAgc3RhdGUgPSBmYWxzZSxcclxuICAgICAgICBuYW1lID0gJ2RlZmF1bHQnLFxyXG4gICAgICAgIHN0YXRldmFsID0gZmFsc2UsXHJcbiAgICAgICAgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgYXJnRnVuY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9O1xyXG5cclxuICAgIHRoaXMuYnVpbGQgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBhcmdGLCBpc1N0YXRlRXZlbnQpIHtcclxuICAgICAgICBzdGF0ZSA9ICEhaXNTdGF0ZUV2ZW50O1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGFyZ0YgPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIGFyZ0Z1bmN0ID0gYXJnRjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgZXZlbnROYW1lID09IFwic3RyaW5nXCIgJiYgZXZlbnROYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbmFtZSA9IGV2ZW50TmFtZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGVsZXRlIHRoaXMuYnVpbGQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMubmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmFtZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5hY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0YXRldmFsO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnJlc29sdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHN0YXRlKSBzdGF0ZXZhbCA9IHRydWU7XHJcblxyXG4gICAgICAgIHZhciBhcmdzID0gYXJnRnVuY3QoKTtcclxuICAgICAgICBpZih0eXBlb2YgYXJncyAhPT0gXCJvYmplY3RcIiB8fCBhcmdzLmNvbnN0cnVjdG9yICE9PSBBcnJheSkgYXJncyA9IFtdO1xyXG5cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY2JbaV0uYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY2FsbGJhY2sgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdGhpcztcclxuICAgICAgICBpZihzZWxmLmFjdGl2ZSgpKSB7XHJcbiAgICAgICAgICAgIHZhciBhcmdzID0gYXJnRnVuY3QoKTtcclxuICAgICAgICAgICAgaWYodHlwZW9mIGFyZ3MgIT09IFwib2JqZWN0XCIgfHwgYXJncy5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgY2IucHVzaChhcmd1bWVudHNbMF0pO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2IucHVzaChmdW5jKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTYvMjAxNy5cclxuICovXHJcbiRSLnBhcnQoJ1NvdW5kJywgWydAaW5qZWN0JywgZnVuY3Rpb24gRXZlbnRQcm92aWRlcihpbmplY3QpIHtcclxuXHJcbiAgICB2YXIgZXZlbnRzID0gW107XHJcblxyXG4gICAgdGhpcy5ldmVudCA9IGZ1bmN0aW9uIChuYW1lLCBhcmdGLCBzdGF0ZSkge1xyXG4gICAgICAgIHZhciBldmVudCA9IGluamVjdCgnJEV2ZW50Jyk7XHJcbiAgICAgICAgZXZlbnQuYnVpbGQuYXBwbHkoZXZlbnQsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgZXZlbnRzW25hbWVdID0gZXZlbnQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucmVzb2x2ZSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzICE9PSBcIm9iamVjdFwiIHx8IGFyZ3MuY29uc3RydWN0b3IgIT09IEFycmF5KSBhcmdzID0gW107XHJcbiAgICAgICAgaWYgKGV2ZW50c1tuYW1lXSkgZXZlbnRzW25hbWVdLnJlc29sdmUuY2FsbChldmVudHNbbmFtZV0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLndyYXAgPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICAgICAgb2JqZWN0Lm9uID0gZnVuY3Rpb24gKG5hbWUsIGZ1bmMpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50c1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzW25hbWVdLmNhbGxiYWNrLmNhbGwob2JqZWN0LCBmdW5jKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIG9iamVjdC5zdGF0dXMgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnRzW25hbWVdKSByZXR1cm4gZXZlbnRzW25hbWVdLmFjdGl2ZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI0LzIwMTYuXHJcbiAqL1xyXG4kUi5wYXJ0KCdTdGF0ZScgLCBmdW5jdGlvbiBQcm9wZXJ0eSAoKSB7XHJcblxyXG4gICAgdmFyIHZhbHVlID0gbnVsbCwgY2FsbGJhY2tzID0gW107XHJcblxyXG5cclxuICAgIHRoaXMuc2V0ID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjYWxsYmFja3NbaV0odmFsLHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFsdWUgPSB2YWw7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMub25zZXQgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgIGlmKHR5cGVvZiAgZnVuYyAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuO1xyXG4gICAgICAgIGNhbGxiYWNrcy5wdXNoKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI0LzIwMTYuXHJcbiAqL1xyXG4kUi5wYXJ0KCdTdGF0ZScgLCBbJ0BpbmplY3QnLCBmdW5jdGlvbiBTdGF0ZSAoaW5qZWN0KSB7XHJcblxyXG5cclxuICAgIHZhciBjYWxsYmFja3MgPSB7fSwgcHJvcHMgPSB7fTtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gR2V0UHJvcGVydHlDYWxsYmFjayhuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuLG8pIHtcclxuICAgICAgICAgICAgaWYoIWNhbGxiYWNrc1tuYW1lXSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwIDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzW25hbWVdW2ldKG4sbyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHRoaXMuZGVmaW5lID0gZnVuY3Rpb24gKG5hbWUsdmFsKSB7XHJcbiAgICAgICAgaWYocHJvcHNbbmFtZV0pIHtcclxuICAgICAgICAgICAgcHJvcHNbbmFtZV0uc2V0KHZhbCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3BzW25hbWVdID0gaW5qZWN0KCckUHJvcGVydHknKTtcclxuICAgICAgICBwcm9wc1tuYW1lXS5vbnNldChHZXRQcm9wZXJ0eUNhbGxiYWNrKG5hbWUpKTtcclxuICAgICAgICBwcm9wc1tuYW1lXS5zZXQodmFsKTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMud2F0Y2ggPSBmdW5jdGlvbiAocHJvcGVydHksZnVuYykge1xyXG4gICAgICAgIGlmKHR5cGVvZiBwcm9wZXJ0eSAhPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmKCFjYWxsYmFja3NbcHJvcGVydHldKSBjYWxsYmFja3NbcHJvcGVydHldID0gW107XHJcblxyXG4gICAgICAgIGlmKCFwcm9wc1twcm9wZXJ0eV0pIHRoaXMuZGVmKHByb3BlcnR5LG51bGwpO1xyXG5cclxuICAgICAgICBjYWxsYmFja3NbcHJvcGVydHldLnB1c2goZnVuYyk7XHJcbiAgICB9O1xyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIucGFydCgnT2JqZWN0cycsIFsnQGluamVjdCcsICdEZWJ1ZycsIGZ1bmN0aW9uIEFuaW1hdGlvbk9iamVjdEV4dGVuc2lvbihpbmplY3QsIERlYnVnKSB7XHJcblxyXG4gICAgdmFyIGFuaW1hdGlvbnMgPSBbXSxcclxuICAgICAgICBhbmltYXRlZCA9IGZhbHNlLFxyXG4gICAgICAgIG1vcnBocyA9IHt9O1xyXG5cclxuICAgIHRoaXMubW9ycGggPSBmdW5jdGlvbiAobmFtZSwgb3JkZXJpbmcsIHNldHRlciwgYXBwbGllcikge1xyXG4gICAgICAgIHZhciBtb3JwaCA9IGluamVjdCgnJE1vcnBoJyk7XHJcbiAgICAgICAgbW9ycGguY29uZmlnKG5hbWUsIHRoaXMub2JqZWN0KCksIG9yZGVyaW5nLCBzZXR0ZXIsIGFwcGxpZXIpO1xyXG4gICAgICAgIGlmIChtb3JwaC52YWxpZCgpKSB7XHJcbiAgICAgICAgICAgIG1vcnBoc1tuYW1lXSA9IG1vcnBoO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5leHRyYWN0TW9ycGggPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIHJldHVybiBtb3JwaHNbbmFtZV07XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGZpbmRDb21wZXRpdG9yKHByb3BlcnRpZXMsIGFuaW1hdGlvbikge1xyXG4gICAgICAgIGFuaW1hdGlvbi4kJFNFTEYgPSB0cnVlO1xyXG5cclxuICAgICAgICB2YXIgY29tcGV0aXRvciA9IG51bGw7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoIWFuaW1hdGlvbnNbaV0uJCRTRUxGKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uc1tpXS5hY3RpdmUoKSAmJiAhYW5pbWF0aW9uc1tpXS5kb25lKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2hlY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHByb3BlcnRpZXMubGVuZ3RoOyBuKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbnNbaV0uaGFzUHJvcGVydHkocHJvcGVydGllc1tuXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbXBldGl0b3IpIGNvbXBldGl0b3IgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGV0aXRvci5wdXNoKGFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGVsZXRlIGFuaW1hdGlvbi4kJFNFTEY7XHJcblxyXG4gICAgICAgIHJldHVybiBjb21wZXRpdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIENoZWNrQW5pbWF0aW9uUXVldWUoKSB7XHJcbiAgICAgICAgdmFyIF9hbmltYXRpb25zID0gW107XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoIWFuaW1hdGlvbnNbaV0uYWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IGFuaW1hdGlvbnNbaV0ucHJvcGVydGllcygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbnNbaV0ucXVldWUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZmluZENvbXBldGl0b3IocHJvcHMsIGFuaW1hdGlvbnNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnNbaV0uc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tcGV0aXRvcnMgPSBmaW5kQ29tcGV0aXRvcihwcm9wcywgYW5pbWF0aW9uc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY29tcGV0aXRvcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBjb21wZXRpdG9ycy5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcCA9IDA7IHAgPCBwcm9wcy5sZW5ndGg7IHArKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBldGl0b3JzW25dLnN0b3AocHJvcHNbcF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnNbaV0uc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF9hbmltYXRpb25zLnB1c2goYW5pbWF0aW9uc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGlvbnNbaV0uZG9uZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2FuaW1hdGlvbnMucHVzaChhbmltYXRpb25zW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYW5pbWF0aW9ucyA9IF9hbmltYXRpb25zO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBDcmVhdGVBbmltYXRpb25UeXBlMShwcm9wZXJ0eSwgdmFsdWUsIGR1cmF0aW9uLCBlYXNpbmcpIHtcclxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKTtcclxuXHJcbiAgICAgICAgdmFyIHBhaXIgPSB7fTtcclxuXHJcbiAgICAgICAgcGFpcltwcm9wZXJ0eV0gPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKG1vcnBoc1twcm9wZXJ0eV0pIHtcclxuICAgICAgICAgICAgdmFyIHN0YWNrID0gW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJpbmc6IHN0eWxlLm9yZGVyaW5nKHByb3BlcnR5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGg6IG1vcnBoc1twcm9wZXJ0eV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBjb25maWcgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkdXJhdGlvbiAmJiB0eXBlb2YgZHVyYXRpb24gPT0gXCJudW1iZXJcIikgY29uZmlnLmR1cmF0aW9uID0gZHVyYXRpb247XHJcbiAgICAgICAgICAgIGlmIChlYXNpbmcgJiYgdHlwZW9mIGVhc2luZyA9PSBcInN0cmluZ1wiKSBjb25maWcuZWFzaW5nID0gZWFzaW5nO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBpbmplY3QoJyRBbmltYXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5jb25maWcodGhpcywgc3RhY2ssIGNvbmZpZywgQ2hlY2tBbmltYXRpb25RdWV1ZSk7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gQ3JlYXRlQW5pbWF0aW9uVHlwZTIocGFpcnMsYXJnMixhcmczKSB7XHJcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgIGNvbmZpZyA9IHt9O1xyXG5cclxuICAgICAgICBpZih0eXBlb2YgYXJnMiA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZyA9IGFyZzI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYodHlwZW9mIGFyZzIgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBjb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA6IGFyZzJcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYodHlwZW9mIGFyZzMgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgY29uZmlnLmVhc2luZyA9IGFyZzNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKHR5cGVvZiBhcmcyID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgY29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgZWFzaW5nIDogYXJnMlxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xyXG5cclxuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwYWlycykge1xyXG4gICAgICAgICAgICBpZiAoIXBhaXJzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkgY29udGludWU7XHJcbiAgICAgICAgICAgIGlmICghbW9ycGhzW3Byb3BlcnR5XSkge1xyXG4gICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5XHJcbiAgICAgICAgICAgICAgICB9LCAnUHJvcGVydHkge3Byb3BlcnR5fSBvZiB7dHlwZX0gY2FuIG5vdCBiZSBhbmltYXRlZCEnKTtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0W3Byb3BlcnR5XSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBvcmRlcmluZzogc3R5bGUub3JkZXJpbmcocHJvcGVydHkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vcnBoOiBtb3JwaHNbcHJvcGVydHldLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwYWlyc1twcm9wZXJ0eV1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG1vcnBoX3N0YWNrID0gW107XHJcblxyXG4gICAgICAgIGZvciAodmFyIGl0ZW0gaW4gcmVzdWx0KSB7XHJcbiAgICAgICAgICAgIG1vcnBoX3N0YWNrLnB1c2gocmVzdWx0W2l0ZW1dKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1vcnBoX3N0YWNrLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGEub3JkZXJpbmcgLSBiLm9yZGVyaW5nO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAobW9ycGhfc3RhY2subGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBpbmplY3QoJyRBbmltYXRpb24nKTtcclxuICAgICAgICAgICAgYW5pbWF0aW9uLmNvbmZpZyh0aGlzLCBtb3JwaF9zdGFjaywgY29uZmlnLCBDaGVja0FuaW1hdGlvblF1ZXVlKTtcclxuICAgICAgICAgICAgYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBEZWJ1Zy53YXJuKCdObyBwcm9wZXJ0aWVzIHRvIGFuaW1hdGUhJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucmVnaXN0ZXIoJ2FuaW1hdGUnLCBmdW5jdGlvbiAoYXJnMSwgYXJnMiwgYXJnMywgYXJnNCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXJnMSA9PSAnc3RyaW5nJyAmJiBhcmcyKSB7XHJcbiAgICAgICAgICAgIENyZWF0ZUFuaW1hdGlvblR5cGUxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhcmcxID09IFwib2JqZWN0XCIgJiYgYXJnMS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgQ3JlYXRlQW5pbWF0aW9uVHlwZTIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIERlYnVnLndhcm4oJ1VuYWJsZSB0byBjcmVhdGUgYW5pbWF0aW9uLiBXcm9uZyBhcmd1bWVudHMnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgQ2hlY2tBbmltYXRpb25RdWV1ZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5yZWdpc3RlcignYW5pbWF0ZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGFuaW1hdGVkO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5yZWdpc3Rlcignc3RvcCcsIGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBhbmltYXRpb25zW2ldLnN0b3AocHJvcGVydHkpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzUvMjAxNy5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnLCBbJ0RlYnVnJywgJ0BpbmplY3QnLCBmdW5jdGlvbiBCb3hPYmplY3RFeHRlbnNpb24oRGVidWcsIGluamVjdCkge1xyXG5cclxuICAgIHZhciBmID0gbnVsbCwgYm94ID0gaW5qZWN0KCckR3JhcGhpY3NCb3gnKTtcclxuXHJcbiAgICB0aGlzLmYgPSBmdW5jdGlvbiAoZnVuYykge1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBEZWJ1Zy5lcnJvcignQm94IEV4dGVuc2lvbiAvIEJveCBmdW5jdGlvbiBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmID0gZnVuYztcclxuXHJcbiAgICAgICAgZGVsZXRlIHRoaXMuZjtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0KCk7XHJcblxyXG4gICAgZnVuY3Rpb24gQm94V3JhcHBlckZ1bmMoKSB7XHJcbiAgICAgICAgaWYgKCFmIHx8ICFvYmplY3QpIHJldHVybjtcclxuICAgICAgICBmLmNhbGwob2JqZWN0LCBib3gpO1xyXG4gICAgICAgIHJldHVybiBib3g7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5ib3ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iamVjdC5leHRlbnNpb24oJ0NhY2hlJykudmFsdWUoJ2JveCcsIEJveFdyYXBwZXJGdW5jKVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnB1cmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG9iamVjdC5leHRlbnNpb24oJ0NhY2hlJykucHVyZ2UoJ2JveCcpO1xyXG4gICAgICAgIHZhciBwYXJlbnQgPSBvYmplY3QucGFyZW50KCk7XHJcbiAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICBwYXJlbnQuZXh0ZW5zaW9uKCdCb3gnKS5wdXJnZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZWdpc3RlcignYm94JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbignQ2FjaGUnKS52YWx1ZSgnYm94JywgQm94V3JhcHBlckZ1bmMpLmdldCgpO1xyXG4gICAgfSk7XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvNS8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnT2JqZWN0cycgLFsnRGVidWcnICwgZnVuY3Rpb24gQ2FjaGVPYmplY3RFeHRlbnNpb24gKERlYnVnKSB7XHJcblxyXG4gICAgdmFyIHZhbHVlcyA9IHt9O1xyXG5cclxuICAgIHRoaXMudmFsdWUgPSBmdW5jdGlvbiAobmFtZSAsIGZ1bmMpIHtcclxuICAgICAgICBpZih0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBEZWJ1Zy5lcnJvcignT2JqZWN0IFZhbHVlIENhY2hlIC8gbmFtZSBpcyBub3QgYSBzdHJpbmchJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBEZWJ1Zy5lcnJvcignT2JqZWN0IFZhbHVlIENhY2hlIC8gZnVuYyBpcyBub3QgYSBmdW5jdGlvbicpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZighdmFsdWVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgIHZhbHVlc1tuYW1lXSA9IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlIDogZnVuYygpLFxyXG4gICAgICAgICAgICAgICAgZnVuYyA6IGZ1bmMsXHJcbiAgICAgICAgICAgICAgICByZWxldmFudCA6IHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KG5hbWUpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnB1cmdlID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICBpZih0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBEZWJ1Zy5lcnJvcignT2JqZWN0IFZhbHVlIENhY2hlIC8gQ2FuIG5vdCBwdXJnZSBjYWNoZSBvZiBub24gc3RyaW5nIG5hbWUnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih2YWx1ZXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgdmFsdWVzW25hbWVdLnJlbGV2YW50ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgaWYodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3IoJ09iamVjdCBWYWx1ZSBDYWNoZSAvIENhbiBub3QgZ2V0IHZhbHVlIG9mIG5vbi1zdHJpbmcgbmFtZScpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHZhbHVlc1tuYW1lXSkge1xyXG4gICAgICAgICAgICBpZighdmFsdWVzW25hbWVdLnJlbGV2YW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZXNbbmFtZV0udmFsdWUgPSB2YWx1ZXNbbmFtZV0uZnVuYygpO1xyXG4gICAgICAgICAgICAgICAgdmFsdWVzW25hbWVdLnJlbGV2YW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlc1tuYW1lXS52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJywgWydEZWJ1ZycsIGZ1bmN0aW9uIERyYXdlck9iamVjdEV4dGVuc2lvbihEZWJ1Zykge1xyXG5cclxuICAgIHZhciBmID0gbnVsbCwgbWF0cml4ID0gbnVsbCxcclxuICAgICAgICBjYiA9IHtcclxuICAgICAgICAgICAgYmVmb3JlOiBbXSxcclxuICAgICAgICAgICAgYWZ0ZXI6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvYmplY3QgPSB0aGlzLm9iamVjdCgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJlc29sdmUoZXZlbnQsIGFyZ3MpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNiW2V2ZW50XS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjYltldmVudF0uYXBwbHkob2JqZWN0LCBhcmdzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5mID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBEZWJ1Zy5lcnJvcih7fSwgJ09iamVjdERyYXdlciAvIGZ1bmMgaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmY7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZiA9IGZ1bmM7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuZjtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZWdpc3RlcignYmVmb3JlJywgZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICBpZih0eXBlb2YgZnVuYyA9PSBcImZ1bmN0aW9uXCIpe1xyXG4gICAgICAgICAgICBjYi5iZWZvcmUucHVzaChmdW5jKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIERlYnVnLndhcm4oJ1VuYWJsZSB0byBzZXQgZXZlbnQgW2JlZm9yZSBSZW5kZXJdLiBmdW5jIGlzIG5vdCBhIEZ1bmN0aW9uJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnJlZ2lzdGVyKCdhZnRlcicsIGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgaWYodHlwZW9mIGZ1bmMgPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIGNiLmFmdGVyLnB1c2goZnVuYyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmFibGUgdG8gc2V0IGV2ZW50IFthZnRlciBSZW5kZXJdLiBmdW5jIGlzIG5vdCBhIEZ1bmN0aW9uJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLm1hdHJpeCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbWF0cml4O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmVzb2x2ZSgnYmVmb3JlJywgYXJndW1lbnRzKTtcclxuICAgICAgICBpZiAoZikgZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIHJlc29sdmUoJ2FmdGVyJywgYXJndW1lbnRzKTtcclxuICAgIH07XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJyAsWydEZWJ1ZycsIGZ1bmN0aW9uIExheWVyc09iamVjdEV4dGVuc2lvbihEZWJ1Zykge1xyXG4gICAgdmFyIGxheWVycyA9IHtcclxuICAgICAgICAgICAgMCA6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBsYXllciA9IDA7XHJcblxyXG4gICAgdGhpcy5yZWdpc3RlcignbGF5ZXInICwgZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgIGlmKHZhbCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gbGF5ZXI7XHJcbiAgICAgICAgZWxzZSBpZih0eXBlb2YgdmFsICE9PSBcIm51bWJlclwiIHx8IHZhbCA8IDApIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7biA6IHZhbH0sICdWYWx1ZSB7bn0gaXMgbm90IGEgbnVtYmVyIG9yIGxlc3MgdGhhbiAwJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50KCk7XHJcblxyXG4gICAgICAgIGlmKHBhcmVudCkge1xyXG4gICAgICAgICAgICB2YXIgcGFyZW50X2xheWVyX2V4dCA9IHBhcmVudC5leHRlbnNpb24oJ0xheWVycycpO1xyXG4gICAgICAgICAgICBsYXllciA9IHZhbDtcclxuICAgICAgICAgICAgcGFyZW50X2xheWVyX2V4dC5wbGFjZSh2YWwsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7fSwgJ1lvdSB0cnkgdG8gc2V0IGxheWVyIG9mIHJvb3QgZ3JvdXAhJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnBsYWNlID0gZnVuY3Rpb24odmFsLG9iamVjdCkge1xyXG4gICAgICAgIG9iamVjdC4kJExBWUVSU0VBUkNIVkFMVUUgPSB0cnVlO1xyXG5cclxuICAgICAgICBmb3IodmFyIGxheWVyIGluIGxheWVycykge1xyXG5cclxuICAgICAgICAgICAgaWYobGF5ZXJzLmhhc093blByb3BlcnR5KGxheWVyKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRvbmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDAgOyBpIDwgbGF5ZXJzW2xheWVyXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGxheWVyc1tsYXllcl1baV0uJCRMQVlFUlNFQVJDSFZBTFVFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyc1tsYXllcl0uc3BsaWNlKGksMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihkb25lKSBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRlbGV0ZSBvYmplY3QuJCRMQVlFUlNFQVJDSFZBTFVFO1xyXG5cclxuICAgICAgICBpZighbGF5ZXJzW3ZhbF0pIGxheWVyc1t2YWxdID0gW107XHJcbiAgICAgICAgbGF5ZXJzW3ZhbF0ucHVzaChvYmplY3QpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZW1vdmUgPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcblxyXG4gICAgICAgIG9iamVjdC4kJExBWUVSU0VBUkNIVkFMVUUgPSB0cnVlO1xyXG5cclxuICAgICAgICBmb3IodmFyIGxheWVyIGluIGxheWVycykge1xyXG4gICAgICAgICAgICBpZihsYXllcnMuaGFzT3duUHJvcGVydHkobGF5ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZG9uZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMCA7IGkgPCBsYXllcnNbbGF5ZXJdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYobGF5ZXJzW2xheWVyXVtpXS4kJExBWUVSU0VBUkNIVkFMVUUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyc1tsYXllcl0uc3BsaWNlKGksMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKGRvbmUpIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmZvckVhY2ggPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgIGZvcih2YXIgbGF5ZXIgaW4gbGF5ZXJzKSB7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAgOyBpIDwgbGF5ZXJzW2xheWVyXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgZnVuYy5hcHBseShsYXllcnNbbGF5ZXJdW2ldLFtpLGxheWVyXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMubGF5ZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBsYXllcnM7XHJcbiAgICB9XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDIvNi8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnT2JqZWN0cycsIFsnRGVidWcnLCBmdW5jdGlvbiBNYXRyaXhPYmplY3RFeHRlbnNpb24oRGVidWcpIHtcclxuXHJcbiAgICB2YXIgZiA9IG51bGwsIG9iamVjdCA9IHRoaXMub2JqZWN0KCk7XHJcblxyXG4gICAgdGhpcy5mID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIGYgPSBmdW5jO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5mO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gTWF0cml4V3JhcHBlcigpIHtcclxuICAgICAgICByZXR1cm4gZi5jYWxsKG9iamVjdCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5yZWdpc3RlcignbWF0cml4JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbignQ2FjaGUnKS52YWx1ZSgndHJhbnNmb3JtTWF0cml4JywgTWF0cml4V3JhcHBlcik7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnB1cmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG9iamVjdC5leHRlbnNpb24oJ0NhY2hlJykucHVyZ2UoJ3RyYW5zZm9ybU1hdHJpeCcpO1xyXG4gICAgICAgIGlmKG9iamVjdC50eXBlKCkgPT0gJ0dyb3VwJykge1xyXG4gICAgICAgICAgICB2YXIgbGF5ZXJzID0gb2JqZWN0LmV4dGVuc2lvbignTGF5ZXJzJyk7XHJcbiAgICAgICAgICAgIGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXh0ZW5zaW9uKCdDYWNoZScpLnB1cmdlKCd0cmFuc2Zvcm1NYXRyaXgnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzIvMjAxNy5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnLCBbJyRNb3VzZUhlbHBlcicsICckTW91c2VFdmVudERpc3BhdGNoZXInLCAnJE1vdXNlT2JqZWN0RmluZGVyJywgJyRUcmVlJywgJ0RlYnVnJyxcclxuICAgIGZ1bmN0aW9uIE1vdXNlT2JqZWN0RXh0ZW5zaW9uKE1vdXNlSGVscGVyLCBEaXNwYXRjaGVyLCBGaW5kZXIsIFRyZWUsIERlYnVnKSB7XHJcblxyXG4gICAgICAgIHZhciBjYWxsYmFja3MgPSB7XHJcbiAgICAgICAgICAgICAgICBkcmFnOiBbXSxcclxuICAgICAgICAgICAgICAgIGRyYWdzdGFydDogW10sXHJcbiAgICAgICAgICAgICAgICBkcmFnZW5kOiBbXSxcclxuICAgICAgICAgICAgICAgIG1vdXNlbW92ZTogW10sXHJcbiAgICAgICAgICAgICAgICBtb3VzZXVwOiBbXSxcclxuICAgICAgICAgICAgICAgIG1vdXNlZG93bjogW10sXHJcbiAgICAgICAgICAgICAgICBtb3VzZWVudGVyOiBbXSxcclxuICAgICAgICAgICAgICAgIG1vdXNlbGVhdmU6IFtdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRpc2FibGVkID0gZmFsc2UsXHJcbiAgICAgICAgICAgIG1vdXNlQ2hlY2tGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIEdldEV2ZW50QXJyYXkoZXZlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrc1tldmVudF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlZ2lzdGVyKCdvbicsIGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZnVuYyA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW2ldLiRPRkYgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT0gXCJzdHJpbmdcIiAmJiBmdW5jID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gR2V0RXZlbnRBcnJheShldmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbaV0uJE9GRiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgZnVuYyA9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IEdldEV2ZW50QXJyYXkoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2U6IGV2ZW50fSwgJ1RoZXJlIGlzIG5vIGV2ZW50IFt7ZX1dJylcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFHZXRFdmVudEFycmF5KGV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnVW5hYmxlIHRvIHNldCBldmVudCBoYW5kbGVyIGZvciB7W2VdfS4gTm8gc3VjaCBldmVudCBmb3VuZCEnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mICBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2U6IGV2ZW50LCBmOiBmdW5jfSwgJ1VuYWJsZSB0byBzZXQgZXZlbnQgaGFuZGxlciBmb3Ige1tlXX0uIHtbZl19IGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucmVnaXN0ZXIoJ29mZicsIGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQgPT09IHVuZGVmaW5lZCAmJiBmdW5jID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW2ldLiQkT0ZGID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT0gXCJzdHJpbmdcIiAmJiBmdW5jID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IEdldEV2ZW50QXJyYXkoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXkuJCRPRkYgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PSBcInN0cmluZ1wiICYmIHR5cGVvZiBmdW5jID09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gR2V0RXZlbnRBcnJheShldmVudCk7XHJcbiAgICAgICAgICAgICAgICBmdW5jLiQkTU9VU0VGVU5DU0VBUkNIID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXlbaV0uJCRNT1VTRUZVTkNTRUFSQ0gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFHZXRFdmVudEFycmF5KGV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnVW5hYmxlIHRvIHVzZXQgZXZlbnQgaGFuZGxlciBmb3Ige1tlXX0uIG5vIHN1Y2ggZXZlbnQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnQsIGY6IGZ1bmN9LCAnVW5hYmxlIHRvIHVuc2V0IGZ1bmN0aW9uIHtbZl19IGZyb20gZXZlbnQge1tlXX0uIE5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnJlZ2lzdGVyKCdtb3VzZUNoZWNrRnVuY3Rpb24nLCBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKE1vdXNlSGVscGVyW2Z1bmMgKyAnQ2hlY2tGdW5jdGlvbiddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW91c2VDaGVja0Z1bmN0aW9uID0gTW91c2VIZWxwZXJbZnVuYyArICdVc2VyQ2hlY2tGdW5jdGlvbiddO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2Y6IGZ1bmN9LCAnVW5hYmxlIHRvIHNldCBjaGVjayBmdW5jdGlvbiEge1tmXX0gaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtb3VzZUNoZWNrRnVuY3Rpb24gPSBmdW5jO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcignZGlzYWJsZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcignZW5hYmxlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBkaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyKCdkaXNhYmxlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRpc2FibGVkO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmNoZWNrID0gZnVuY3Rpb24gKHRhcmdldCwgY3Vyc29yKSB7XHJcbiAgICAgICAgICAgIGlmIChkaXNhYmxlZCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gbW91c2VDaGVja0Z1bmN0aW9uLmNhbGwodGFyZ2V0LCBbY3Vyc29yWzBdLCBjdXJzb3JbMV1dKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgY3Vyc29yVHJhbnNmb3JtRnVuY3Rpb24gPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLmN1cnNvclRyYW5zZm9ybUZ1bmN0aW9uID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09IFwiZnVuY3Rpb25cIikgY3Vyc29yVHJhbnNmb3JtRnVuY3Rpb24gPSBmdW5jO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuYXBwbHlDdXJzb3JUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoY3Vyc29yKSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJzb3JUcmFuc2Zvcm1GdW5jdGlvbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnNvclRyYW5zZm9ybUZ1bmN0aW9uLmNhbGwodGhpcywgY3Vyc29yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmhhc0V2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFja3NbZXZlbnRdICYmIGNhbGxiYWNrc1tldmVudF0ubGVuZ3RoICYmICFjYWxsYmFja3NbZXZlbnRdLiQkT0ZGO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucHJvcGFnYXRlID0gZnVuY3Rpb24gKHRhcmdldCwgZXZlbnRPYmopIHtcclxuICAgICAgICAgICAgdmFyIHBhcmVudCA9IHRhcmdldC5wYXJlbnQoKTtcclxuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vdXNlID0gcGFyZW50LmV4dGVuc2lvbignTW91c2UnKTtcclxuICAgICAgICAgICAgICAgIGlmIChtb3VzZS5oYXNFdmVudChldmVudE9iai50eXBlKCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBldmVudE9iai50eXBlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9ldmVudE9iaiA9IGV2ZW50T2JqLm9yaWdpbmFsVGFyZ2V0LmNhbGwoeyQkTU9VU0VQUk9QQUdBVElPTlNFVFRFUjogcGFyZW50fSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlLnJlc29sdmUocGFyZW50LCB0eXBlLCBfZXZlbnRPYmopO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5yZXNvbHZlID0gZnVuY3Rpb24gKHRhcmdldCwgZXZlbnQsIGV2ZW50T2JqKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHZhciBhcnJheSA9IEdldEV2ZW50QXJyYXkoZXZlbnQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJyYXkuJE9GRikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheVtpXS5jYWxsKHRhcmdldCwgZXZlbnRPYmopO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChldmVudE9iai5wcm9wYWdhdGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcGFnYXRlKHRhcmdldCwgZXZlbnRPYmopO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnVW5hYmxlIHRvIHJlc29sdmUgZXZlbnQgW3tlfV0uIE5vIHN1Y2ggZXZlbnQhJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpIGluIGNhbGxiYWNrcykge1xyXG4gICAgICAgICAgICBjYWxsYmFja3NbaV0uJCRPRkYgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzUvMjAxNy5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnICwgWydEZWJ1ZycsIGZ1bmN0aW9uIE9mZnNldE9iamVjdEV4dGVuc2lvbiggRGVidWcpIHtcclxuICAgIHZhciBvYmplY3QgPSB0aGlzLm9iamVjdCgpLFxyXG4gICAgICAgIHN0eWxlID0gbnVsbCxcclxuICAgICAgICBjYWNoZSA9IG51bGw7XHJcblxyXG4gICAgZnVuY3Rpb24gT2JqZWN0T2Zmc2V0RnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gc3R5bGUuZ2V0KCdwb3NpdGlvbicpLFxyXG4gICAgICAgICAgICByZXN1bHQgPSBbcG9zaXRpb25bMF0scG9zaXRpb25bMV1dO1xyXG5cclxuICAgICAgICB2YXIgcGFyZW50ID0gb2JqZWN0LnBhcmVudCgpO1xyXG5cclxuICAgICAgICBpZihwYXJlbnQpIHtcclxuICAgICAgICAgICAgdmFyIHBhcmVudF9vZmZzZXQgPSBwYXJlbnQub2Zmc2V0KCk7XHJcblxyXG4gICAgICAgICAgICByZXN1bHRbMF0gKz0gcGFyZW50X29mZnNldFswXTtcclxuICAgICAgICAgICAgcmVzdWx0WzFdICs9IHBhcmVudF9vZmZzZXRbMV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucHVyZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYoIXN0eWxlIHx8ICFjYWNoZSkge1xyXG4gICAgICAgICAgICBzdHlsZSA9IG9iamVjdC5leHRlbnNpb24oJ1N0eWxlJyk7XHJcbiAgICAgICAgICAgIGNhY2hlID0gb2JqZWN0LmV4dGVuc2lvbignQ2FjaGUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNhY2hlLnB1cmdlKCdvZmZzZXQnKTtcclxuXHJcbiAgICAgICAgaWYob2JqZWN0LnR5cGUoKSA9PSAnR3JvdXAnKSB7XHJcbiAgICAgICAgICAgIHZhciBsYXllcnMgPSBvYmplY3QuZXh0ZW5zaW9uKCdMYXllcnMnKTtcclxuICAgICAgICAgICAgbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5leHRlbnNpb24oJ09mZnNldCcpLnB1cmdlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZWdpc3Rlcignb2Zmc2V0JyAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZighc3R5bGUpIHtcclxuICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKTtcclxuICAgICAgICAgICAgY2FjaGUgPSB0aGlzLmV4dGVuc2lvbignQ2FjaGUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNhY2hlLnZhbHVlKCdvZmZzZXQnICwgT2JqZWN0T2Zmc2V0RnVuY3Rpb24pO1xyXG4gICAgfSk7XHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnLCBbJ0RlYnVnJywgZnVuY3Rpb24gU3R5bGVPYmplY3RFeHRlbnNpb24oRGVidWcpIHtcclxuXHJcbiAgICB2YXIgcHJvcGVydGllcyA9IHt9LFxyXG4gICAgICAgIGNhbGxiYWNrcyA9IFtdLFxyXG4gICAgICAgIHNldHRlcnMgPSB7fSxcclxuICAgICAgICBnZXR0ZXJzID0ge307XHJcblxyXG4gICAgZnVuY3Rpb24gR2V0U2V0dGVyRnVuY3Rpb24obmFtZSwgc2V0dGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gc2V0dGVyLmFwcGx5KHRoaXMsIFt2YWx1ZSwgcHJvcGVydGllc1tuYW1lXS52YWx1ZV0pLFxyXG4gICAgICAgICAgICAgICAgb2xkID0gcHJvcGVydGllc1tuYW1lXS52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICghcmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT0gXCJib29sZWFuXCIpIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1VuYWJsZSB0byBzZXQgcHJvcGVydHkgWycgKyBuYW1lICsgJ10uIEludmFsaWQgdmFsdWUhJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtvbGQsIHJlc3VsdF07XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllc1tuYW1lXS52YWx1ZSA9IHJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWNhbGxiYWNrc1tuYW1lXSkgY2FsbGJhY2tzW25hbWVdID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3NbbmFtZV0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbbmFtZV1baV0uYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIEdldEdldHRlckZ1bmN0aW9uKG5hbWUsIGdldHRlcikge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnZXR0ZXIuY2FsbChudWxsLCBwcm9wZXJ0aWVzW25hbWVdLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gU3R5bGVUeXBlMShhLCBiKSB7XHJcblxyXG4gICAgICAgIHZhciB0YXJnZXQgPSB0aGlzO1xyXG5cclxuICAgICAgICBpZiAoIXNldHRlcnNbYV0pIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7cHJvcGVydHk6IGEsIHR5cGU6IHRhcmdldC50eXBlKCl9LCAnU3R5bGUgLyBPYmplY3QgdHlwZSB7dHlwZX0gaGFzIG5vIHByb3BlcnR5IHtwcm9wZXJ0eX0nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNldHRlcnNbYV0uYXBwbHkodGFyZ2V0LCBbYl0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBTdHlsZVR5cGUyKG9iamVjdCkge1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSB0aGlzO1xyXG5cclxuICAgICAgICB2YXIgc2V0dGVyc3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gb2JqZWN0KSB7XHJcbiAgICAgICAgICAgIGlmICghb2JqZWN0Lmhhc093blByb3BlcnR5KHByb3BlcnR5KSB8fCAhc2V0dGVyc1twcm9wZXJ0eV0pIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFzZXR0ZXJzW3Byb3BlcnR5XSkge1xyXG4gICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHRhcmdldC50eXBlKClcclxuICAgICAgICAgICAgICAgIH0sICdTdHlsZSAvIE9iamVjdCB0eXBlIHt0eXBlfSBoYXMgbm8gcHJvcGVydHkge3Byb3BlcnR5fScpO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZXR0ZXJzdGFjay5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBvcmRlcmluZzogcHJvcGVydGllc1twcm9wZXJ0eV0ub3JkZXJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgIHNldHRlcjogc2V0dGVyc1twcm9wZXJ0eV1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzZXR0ZXJzdGFjay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgc2V0dGVyc3RhY2suc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGEub3JkZXJpbmcgLSBiLm9yZGVyaW5nO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXR0ZXJzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgc2V0dGVyc3RhY2tbaV0uc2V0dGVyLmFwcGx5KHRhcmdldCwgW29iamVjdFtzZXR0ZXJzdGFja1tpXS5wcm9wZXJ0eV1dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcud2FybignU3R5bGUgLyBObyBwcm9wZXJ0aWVzIHRvIGJlIGFwcGxpZWQhJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIFN0eWxlVHlwZTMobmFtZSkge1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSB0aGlzO1xyXG5cclxuICAgICAgICBpZiAoIWdldHRlcnNbbmFtZV0pIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHksXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0YXJnZXQudHlwZSgpXHJcbiAgICAgICAgICAgIH0sICdTdHlsZSAvIE9iamVjdCB0eXBlIHt0eXBlfSBoYXMgbm8gcHJvcGVydHkge3Byb3BlcnR5fScpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnZXR0ZXJzW25hbWVdLmFwcGx5KHRhcmdldCwgW3Byb3BlcnRpZXNbbmFtZV0udmFsdWVdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucmVnaXN0ZXIoJ3N0eWxlJywgZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGEgPT0gXCJzdHJpbmdcIiAmJiBiICE9PSB1bmRlZmluZWQpIFN0eWxlVHlwZTEuYXBwbHkodGhpcywgW2EsIGJdKTtcclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgYSA9PSBcIm9iamVjdFwiKSBTdHlsZVR5cGUyLmFwcGx5KHRoaXMsIFthXSk7XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGEgPT0gJ3N0cmluZycgJiYgYiA9PSB1bmRlZmluZWQpIHJldHVybiBTdHlsZVR5cGUzLmFwcGx5KHRoaXMsIFthXSk7XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIERlYnVnLmVycm9yKCdTdHlsZSAvIEludmFsaWQgc3R5bGUgZnVuY3Rpb24gYXJndW1lbnRzIScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMucmVnaXN0ZXIoJ3dhdGNoJywgZnVuY3Rpb24gKHByb3BlcnR5LCBjYWxsYmFjaykge1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHkgIT09IFwib2JqZWN0XCIgfHwgcHJvcGVydHkuY29uc3RydWN0b3IgIT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignU3R5bGUgLyBQcm9wZXJ0eSBpcyBub3QgYW4gYXJyYXkgb3Igc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3IoJ1N0eWxlIC8gQ2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwcm9wZXJ0eS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0eS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eVtpXSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtpOiBpfSwgJ1N0eWxlIC8gUHJvcGVydHkge2l9IGlzIG5vdCBhIHN0cmluZyEnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2tzW3Byb3BlcnR5W2ldXSB8fCB0eXBlb2YgY2FsbGJhY2tzW3Byb3BlcnR5W2ldXSAhPT0gXCJvYmplY3RcIiB8fCBjYWxsYmFja3NbcHJvcGVydHlbaV1dLmNvbnN0cnVjdG9yICE9PSBBcnJheSkgY2FsbGJhY2tzW3Byb3BlcnR5W2ldXSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbcHJvcGVydHlbaV1dLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBwcm9wZXJ0eSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmICghY2FsbGJhY2tzW3Byb3BlcnR5XSB8fCBjYWxsYmFja3NbcHJvcGVydHldLmNvbnN0cnVjdG9yICE9PSBBcnJheSkgY2FsbGJhY2tzW3Byb3BlcnR5XSA9IFtdO1xyXG4gICAgICAgICAgICBjYWxsYmFja3NbcHJvcGVydHldLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3IoJ1N0eWxlIC8gUHJvcGVydHkgaXMgbm90IGFuIGFycmF5IG9yIHN0cmluZycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmRlZmluZSA9IGZ1bmN0aW9uIChvcmRlcmluZywgbmFtZSwgdmFsdWUsIHNldHRlciwgZ2V0dGVyKSB7XHJcbiAgICAgICAgaWYgKHByb3BlcnRpZXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnU3R5bGUgLyBEdXBsaWNhdGVkIFByb3BlcnR5IFt7bmFtZX1dJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIiB8fCBuYW1lLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIERlYnVnLmVycm9yKCdTdHlsZSAvIFByb3BlcnR5IG5hbWUgaXMgbm90IGEgc3RyaW5nIScpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGdldHRlciAhPT0gXCJmdW5jdGlvblwiIHx8IHR5cGVvZiBzZXR0ZXIgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBEZWJ1Zy5lcnJvcignU3R5bGUgLyBVbmFibGUgdG8gZGVmaW5lIHByb3BlcnR5LiBHZXR0ZXIgb3Igc2V0dGVyIGlzIHVuZGVmaW5lZCEnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiAgb3JkZXJpbmcgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3IoJ1N0eWxlIC8gVW5hYmxlIHRvIGRlZmluZSBwcm9wZXJ0eSBzZXR0ZXIgb3JkZXJpbmchJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm9wZXJ0aWVzW25hbWVdID0ge29yZGVyaW5nOiBvcmRlcmluZywgdmFsdWU6IHZhbHVlfTtcclxuXHJcbiAgICAgICAgc2V0dGVyc1tuYW1lXSA9IEdldFNldHRlckZ1bmN0aW9uKG5hbWUsIHNldHRlcik7XHJcblxyXG4gICAgICAgIGdldHRlcnNbbmFtZV0gPSBHZXRHZXR0ZXJGdW5jdGlvbihuYW1lLCBnZXR0ZXIpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgaWYgKHByb3BlcnRpZXNbbmFtZV0pIHJldHVybiBwcm9wZXJ0aWVzW25hbWVdLnZhbHVlO1xyXG5cclxuICAgICAgICBEZWJ1Zy53YXJuKCdHZXR0aW5nIHZhbHVlIG9mIHByb3BlcnR5IHRoYXQgZG9lcyBub3QgZXhpc3QhJyk7XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5vcmRlcmluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgaWYgKHByb3BlcnRpZXNbbmFtZV0pIHJldHVybiBwcm9wZXJ0aWVzW25hbWVdLm9yZGVyaW5nO1xyXG5cclxuICAgICAgICBEZWJ1Zy53YXJuKCdHZXR0aW5nIG9yZGVyaW5nIG9mIHByb3BlcnR5IHRoYXQgZG9lcyBub3QgZXhpc3QhJyk7XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMy8yNS8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnT2JqZWN0cycsIFsnRGVidWcnLCAnJE1vZGVsSGVscGVyJywgJ0BpbmplY3QnLCAnJERyYXdlckhlbHBlcicsIGZ1bmN0aW9uIFRleHRPYmplY3RFeHRlbnNpb24oRGVidWcsIE1vZGVsSGVscGVyLCBpbmplY3QsIERyYXdlckhlbHBlcikge1xyXG5cclxuICAgIHRoaXMuYXBwbHlUbygnVGV4dCcpO1xyXG5cclxuICAgIHZhciBvYmplY3QgPSB0aGlzLm9iamVjdCgpO1xyXG5cclxuICAgIGlmIChvYmplY3QudHlwZSgpICE9PSAnVGV4dCcpIHJldHVybjtcclxuXHJcbiAgICB2YXIgbGluZXMgPSBbXSxcclxuICAgICAgICB3b3JkQnlXb3JkUmVnRXhwID0gLygoXFxTK1xccyspfChcXFMrJCkpL2csXHJcbiAgICAgICAgc3R5bGUgPSBvYmplY3QuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgIHN0cmluZyA9ICcnLFxyXG4gICAgICAgIHVwZGF0ZSA9IGZhbHNlLFxyXG4gICAgICAgIGxpbWl0cyA9IFtJbmZpbml0eSwgSW5maW5pdHldLFxyXG4gICAgICAgIHdpZHRoID0gMCxcclxuICAgICAgICBoZWlnaHQgPSAwO1xyXG5cclxuICAgIHRoaXMucmVnaXN0ZXIoJ2xpbmVzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgdmFyIGFycmF5ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBhcnJheS5wdXNoKGxpbmVzW2ldLnN0cmluZygpKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnJlZ2lzdGVyKCd3b3JkcycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgIHZhciB3b3JkcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgbGluZXMubGVuZ3RoOyBsKyspIHtcclxuICAgICAgICAgICAgdmFyIF93ID0gbGluZXNbaV0ud29yZHMoKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgdyA9IDA7IHcgPCBfdy5sZW5ndGg7IHcrKykge1xyXG4gICAgICAgICAgICAgICAgd29yZHMucHVzaChfdy5zdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHdvcmRzO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5saW1pdHMgPSBmdW5jdGlvbiAodywgaCkge1xyXG4gICAgICAgIGxpbWl0c1swXSA9IHc7XHJcbiAgICAgICAgbGltaXRzWzFdID0gaDtcclxuICAgICAgICB1cGRhdGUgPSB0cnVlO1xyXG4gICAgfTtcclxuXHJcbiAgICBvYmplY3Qud2F0Y2goJ3N0cicsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgaWYgKG4gIT09IHN0cmluZykge1xyXG4gICAgICAgICAgICBzdHJpbmcgPSBuO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIG9iamVjdC53YXRjaChbJ3N0cicsICdmb250U2l6ZScsICdsaW5lSGVpZ2h0JywgJ2NvbG9yJywgJ3dlaWdodCcsICdzdHlsZSddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdXBkYXRlID0gdHJ1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKGZvcmNlZCkge1xyXG4gICAgICAgIGlmICh1cGRhdGUgfHwgZm9yY2VkKSB7XHJcbiAgICAgICAgICAgIHZhciBwaWVjZXMgPSBzdHJpbmcubWF0Y2god29yZEJ5V29yZFJlZ0V4cCksXHJcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSAwLFxyXG4gICAgICAgICAgICAgICAgbCA9IDAsXHJcbiAgICAgICAgICAgICAgICBsaW1pdHMgPSBzdHlsZS5nZXQoJ3NpemUnKSxcclxuICAgICAgICAgICAgICAgIHcgPSAwLFxyXG4gICAgICAgICAgICAgICAgaCA9IDA7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIGZvbnQgPSBzdHlsZS5nZXQoJ2ZvbnQnKSxcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplID0gc3R5bGUuZ2V0KCdmb250U2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgbGluZUhlaWdodCA9IHN0eWxlLmdldCgnbGluZUhlaWdodCcpLFxyXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodCA9IHN0eWxlLmdldCgnd2VpZ2h0JyksXHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IHN0eWxlLmdldCgnY29sb3InKSxcclxuICAgICAgICAgICAgICAgIGZvbnRTdHlsZSA9IHN0eWxlLmdldCgnc3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgIGxpbmVzID0gW107XHJcblxyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaWVjZXMubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdXNlcm5ld2xpbmUgPSBwaWVjZXNbaV0ubWF0Y2goL1xcbi9nKSxcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBwaWVjZXNbaV0ubWF0Y2goL1xcUysvZyksXHJcbiAgICAgICAgICAgICAgICAgICAgd29yZCA9IGluamVjdCgnJFRleHRXb3JkQ2xhc3MnKS5zdHJpbmcoc3RyWzBdKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWxpbmVzW2xdKSBsaW5lc1tsXSA9IGluamVjdCgnJFRleHRMaW5lQ2xhc3MnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5mb250KGZvbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNpemUoZm9udFNpemUpXHJcbiAgICAgICAgICAgICAgICAgICAgLmhlaWdodChsaW5lSGVpZ2h0KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb2xvcihjb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoZm9udFN0eWxlKVxyXG4gICAgICAgICAgICAgICAgICAgIC53ZWlnaHQoZm9udFdlaWdodCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGluZXNbbF0ucHVzaCh3b3JkKTtcclxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IGxpbmVzW2xdLndpZHRoKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGxpbmVXaWR0aCA+PSBsaW1pdHNbMF0gfHwgdXNlcm5ld2xpbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobGluZVdpZHRoID4gdykgdyA9IGxpbmVXaWR0aCArIDQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaGVpZ2h0ID0gbGluZXMubGVuZ3RoICogc3R5bGUuZ2V0KCdsaW5lSGVpZ2h0Jyk7XHJcbiAgICAgICAgICAgIGlmKGZvbnRTaXplID4gbGluZUhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0ICs9IGZvbnRTaXplIC0gbGluZUhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKCBmb250U2l6ZSA8IGxpbmVIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIGhlaWdodCAtPSBsaW5lSGVpZ2h0LWZvbnRTaXplO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHdpZHRoID0gdztcclxuICAgICAgICAgICAgdXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnRleHRCbG9ja0hlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgIHJldHVybiBoZWlnaHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudGV4dEJsb2NrV2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICByZXR1cm4gd2lkdGg7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZm9yRWFjaExpbmUgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBmdW5jLmFwcGx5KGxpbmVzW2ldLCBbaSwgbGluZXNbaV1dKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIucGFydCgnT2JqZWN0cycsIFsnRGVidWcnLCBmdW5jdGlvbiBUcmVlT2JqZWN0RXh0ZW5zaW9uKERlYnVnKSB7XHJcblxyXG4gICAgdmFyIHBhcmVudCA9IG51bGw7XHJcblxyXG4gICAgZnVuY3Rpb24gY2hlY2tUcmVlIChvYmplY3QpIHtcclxuICAgICAgICBpZiAob2JqZWN0LiQkVFJFRVNFQVJDSFZBTFVFKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKG9iamVjdC5wYXJlbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYoY2hlY2tUcmVlKG9iamVjdC5wYXJlbnQoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdHJlZVZpb2xhdGlvbiAodGFyZ2V0LG9iamVjdCkge1xyXG4gICAgICAgIGlmKHRhcmdldC50eXBlKCkgPT0gJ0dyb3VwJykge1xyXG5cclxuICAgICAgICAgICAgb2JqZWN0LiQkVFJFRVNFQVJDSFZBTFVFID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmKCFjaGVja1RyZWUodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIG9iamVjdC4kJFRSRUVTRUFSQ0hWQUxVRTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmKHRhcmdldC4kJFRSRUVTRUFSQ0hWQUxVRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRhcmdldC5wYXJlbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt9LCdZb3UgdHJ5IHRvIGFwcGVuZCBncm91cCBwYXJlbnQgaW50byBpdHNlbGYuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7fSwnWW91IHRyeSB0byBhcHBlbmQgZ3JvdXAgcGFyZW50IGludG8gaXRcXCdzIGNoaWxkcmVuLicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIG9iamVjdC4kJFRSRUVTRUFSQ0hWQUxVRTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZih0YXJnZXQudHlwZSgpICE9ICdHcm91cCcpIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3RhcmdldCA6IHRhcmdldC50eXBlKCksIG9iamVjdCA6IG9iamVjdC50eXBlKCl9LCdZb3kgdHJ5IHRvIGFwcGVuZCBbe29iamVjdH1dIGludG8gW3t0YXJnZXR9XS4nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBsYXllcnMgPSBudWxsO1xyXG5cclxuICAgIHRoaXMucmVnaXN0ZXIoJ2FwcGVuZCcgLCBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICAgICAgaWYodGhpcy50eXBlKCkgIT09ICdHcm91cCcpIHtcclxuICAgICAgICAgICAgRGVidWcud2F0Y2goe3R5cGUgOiB0aGlzLnR5cGUoKX0sICcgQ2FuIG5vdCBhcHBlbmQuIHR5cGVbe3R5cGV9XSBvZiBwYXJlbnQgaXMgbm90IGFsbG93ZWQhJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoIXRyZWVWaW9sYXRpb24odGhpcyxvYmplY3QpKSB7XHJcblxyXG4gICAgICAgICAgICBpZighbGF5ZXJzKSBsYXllcnMgPSB0aGlzLmV4dGVuc2lvbignTGF5ZXJzJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgb2JqZWN0X29sZF9wYXJlbnQgPSBvYmplY3QucGFyZW50KCksXHJcbiAgICAgICAgICAgICAgICBvYmplY3RfdHJlZV9leHQgPSBvYmplY3QuZXh0ZW5zaW9uKCdUcmVlJyk7XHJcblxyXG4gICAgICAgICAgICBpZihvYmplY3Rfb2xkX3BhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9sZF9vYmplY3RfcGFyZW50X2xheWVycyA9IG9iamVjdF9vbGRfcGFyZW50LmV4dGVuc2lvbignTGF5ZXJzJyksXHJcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0X2xheWVyID0gb2JqZWN0LmxheWVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgb2xkX29iamVjdF9wYXJlbnRfbGF5ZXJzLnJlbW92ZShvYmplY3QpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxheWVycy5wbGFjZShvYmplY3RfbGF5ZXIsb2JqZWN0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBvYmplY3RfdHJlZV9leHQucGFyZW50KHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgb2JqZWN0X2xheWVyID0gb2JqZWN0LmxheWVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGF5ZXJzLnBsYWNlKG9iamVjdF9sYXllcixvYmplY3QpO1xyXG5cclxuICAgICAgICAgICAgICAgIG9iamVjdF90cmVlX2V4dC5wYXJlbnQodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBib3ggPSB0aGlzLmV4dGVuc2lvbignQm94Jyk7XHJcbiAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMucmVnaXN0ZXIoJ2FwcGVuZFRvJyAsIGZ1bmN0aW9uIChvYmplY3QpIHtcclxuICAgICAgICBvYmplY3QuYXBwZW5kKHRoaXMpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5yZWdpc3RlcigncGFyZW50JyAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gcGFyZW50O1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIHRoaXMucGFyZW50ID0gZnVuY3Rpb24gKGdyb3VwKSB7XHJcbiAgICAgICAgaWYoIWdyb3VwLnR5cGUgfHwgZ3JvdXAudHlwZSgpICE9PSAnR3JvdXAnKSB7XHJcbiAgICAgICAgICAgIERlYnVnLmVycm9yKCdPYmplY3QgVHJlZSBFeHRlbnNpb24gLyBVbmFibGUgdG8gc2V0IG9iamVjdCBhcyBwYXJlbnQuIE5vdCBhIGdyb3VwIScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihncm91cCkge1xyXG4gICAgICAgICAgICBwYXJlbnQgPSBncm91cDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNS8xLzIwMTcuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJywgWydAaW5qZWN0JywgJyREcmF3ZXJIZWxwZXInLCAnJFBhdGhIZWxwZXInLCAnJE1vZGVsSGVscGVyJywgZnVuY3Rpb24gQXJlYU9iamVjdERyYXdlcihpbmplY3QsIERyYXdlckhlbHBlciwgUGF0aEhlbHBlciwgTW9kZWxIZWxwZXIpIHtcclxuXHJcbiAgICB2YXIgYXNzZW1ibGVyID0gaW5qZWN0KCckR3JhcGhpY3NBc3NlbWJsZXInKSxcclxuICAgICAgICBib3ggPSB0aGlzLmV4dGVuc2lvbignQm94JyksXHJcbiAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICBtYXRyaXggPSB0aGlzLmV4dGVuc2lvbignTWF0cml4JyksXHJcbiAgICAgICAgZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgIGludGVycG9sYXRlZCA9IGZhbHNlLFxyXG4gICAgICAgIHN0cm9rZWZpeCA9IDEsIGludGVycG9sYXRpb25maXggPSAwLFxyXG4gICAgICAgIHhzaGlmdCA9IDAsIHlzaGlmdCA9IDA7XHJcblxyXG5cclxuICAgIC8vVE9ETyA6IEFwcGx5IGludGVycG9sYXRpb24gdG8gcGF0aCFcclxuXHJcbiAgICBhc3NlbWJsZXIubGF5ZXIoMCwgJ2ZpbGwnLCBVcGRhdGVGaWxsLmJpbmQodGhpcykpO1xyXG4gICAgYXNzZW1ibGVyLmxheWVyKDEsICdiZycsIFVwZGF0ZUJnLmJpbmQodGhpcykpO1xyXG4gICAgYXNzZW1ibGVyLmxheWVyKDIsICdzdHJva2UnLCBVcGRhdGVTdHJva2UuYmluZCh0aGlzKSk7XHJcbiAgICBhc3NlbWJsZXIuYm94KGJveCk7XHJcblxyXG4gICAgZnVuY3Rpb24gVXBkYXRlRmlsbChjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIHNwcml0ZSA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKS5ib3goKS5zcHJpdGUoKSxcclxuICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpO1xyXG5cclxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShzcHJpdGUubWFyZ2luWzNdIC0geHNoaWZ0LCBzcHJpdGUubWFyZ2luWzBdIC0geXNoaWZ0KTtcclxuXHJcbiAgICAgICAgdmFyIGludGVycG9sYXRpb24gPSBzdHlsZS5nZXQoJ2ludGVycG9sYXRpb24nKTtcclxuXHJcbiAgICAgICAgaWYgKCFpbnRlcnBvbGF0ZWQpIHtcclxuICAgICAgICAgICAgUGF0aEhlbHBlci5pbnRlcnBvbGF0ZShwYXRoLCBpbnRlcnBvbGF0aW9uLCB0cnVlKTtcclxuICAgICAgICAgICAgaW50ZXJwb2xhdGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpbnRlcnBvbGF0aW9uKSBEcmF3ZXJIZWxwZXIuZHJhd0JlemllclBhdGhGaWxsKGNvbnRleHQsIHBhdGgsIHN0eWxlKTtcclxuICAgICAgICBlbHNlIERyYXdlckhlbHBlci5kcmF3TGluZVBhdGhGaWxsKGNvbnRleHQsIHBhdGgsIHN0eWxlKTtcclxuXHJcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gVXBkYXRlU3Ryb2tlKGNvbnRleHQpIHtcclxuICAgICAgICB2YXIgc3ByaXRlID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLnNwcml0ZSgpLFxyXG4gICAgICAgICAgICBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICBwYXRoID0gTW9kZWxIZWxwZXIuY2xvbmVBcnJheShzdHlsZS5nZXQoJ3BhdGgnKSksXHJcbiAgICAgICAgICAgIGludGVycG9sYXRpb24gPSBzdHlsZS5nZXQoJ2ludGVycG9sYXRpb24nKTtcclxuXHJcblxyXG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHNwcml0ZS5tYXJnaW5bM10gLSB4c2hpZnQsIHNwcml0ZS5tYXJnaW5bMF0gLSB5c2hpZnQpO1xyXG5cclxuICAgICAgICBpZiAoIWludGVycG9sYXRlZCkge1xyXG4gICAgICAgICAgICBQYXRoSGVscGVyLmludGVycG9sYXRlKHBhdGgsIGludGVycG9sYXRpb24sIHRydWUpO1xyXG4gICAgICAgICAgICBpbnRlcnBvbGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGludGVycG9sYXRpb24pIERyYXdlckhlbHBlci5kcmF3TGluZVBhdGgoY29udGV4dCwgcGF0aCwgc3R5bGUpO1xyXG4gICAgICAgIERyYXdlckhlbHBlci5kcmF3QmV6aWVyUGF0aChjb250ZXh0LCBwYXRoLCBzdHlsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gVXBkYXRlQmcoY29udGV4dCkge1xyXG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICBzcHJpdGUgPSB0aGlzLmV4dGVuc2lvbignQm94JykuYm94KCkuc3ByaXRlKCksXHJcbiAgICAgICAgICAgIHBhdGggPSBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHN0eWxlLmdldCgncGF0aCcpKSxcclxuICAgICAgICAgICAgaW50ZXJwb2xhdGlvbiA9IHN0eWxlLmdldCgnaW50ZXJwb2xhdGlvbicpO1xyXG5cclxuXHJcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoc3ByaXRlLm1hcmdpblszXSAtIHhzaGlmdCwgc3ByaXRlLm1hcmdpblswXSAtIHlzaGlmdCk7XHJcblxyXG4gICAgICAgIGlmICghaW50ZXJwb2xhdGVkKSB7XHJcbiAgICAgICAgICAgIFBhdGhIZWxwZXIuaW50ZXJwb2xhdGUocGF0aCwgaW50ZXJwb2xhdGlvbiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGludGVycG9sYXRlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaW50ZXJwb2xhdGlvbikgRHJhd2VySGVscGVyLmRyYXdMaW5lQmdDbGlwUGF0aChjb250ZXh0LCBwYXRoLCBzdHlsZSwgYXNzZW1ibGVyLCBzcHJpdGUpO1xyXG4gICAgICAgIGVsc2UgRHJhd2VySGVscGVyLmRyYXdCZXppZXJCZ0NsaXBQYXRoKGNvbnRleHQsIHBhdGgsIHN0eWxlLCBhc3NlbWJsZXIsIHNwcml0ZSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHRoaXMud2F0Y2goJ3BhdGgnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGludGVycG9sYXRpb24gPSBzdHlsZS5nZXQoJ2ludGVycG9sYXRpb24nKTtcclxuICAgICAgICBpbnRlcnBvbGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICBhc3NlbWJsZXIucmVzaXplKCk7XHJcbiAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpO1xyXG4gICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpO1xyXG4gICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLndhdGNoKCdpbnRlcnBvbGF0aW9uJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICBpbnRlcnBvbGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICBpbnRlcnBvbGF0aW9uZml4ID0gTWF0aC5yb3VuZCg0MCAqIG4pO1xyXG4gICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKTtcclxuICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgIGFzc2VtYmxlci5yZXNpemUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMud2F0Y2goJ3Bvc2l0aW9uJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy53YXRjaChbJ3N0cm9rZVN0eWxlJywgJ3N0cm9rZUNvbG9yJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICBhc3NlbWJsZXIucmVzaXplKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLndhdGNoKCdmaWxsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMud2F0Y2goWydiZycsICdiZ1NpemUnLCAnYmdQb3NpdGlvbiddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMud2F0Y2goJ3N0cm9rZVdpZHRoJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICB2YXIgZml4ID0gMDtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChuW2ldID4gZml4KSBmaXggPSBuW2ldO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3Ryb2tlZml4ID0gZml4IC8gMjtcclxuICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICBhc3NlbWJsZXIucmVzaXplKCk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgYm94LmYoZnVuY3Rpb24gKGJveENvbnRhaW5lcikge1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICBhbmNob3IgPSBzdHlsZS5nZXQoJ2FuY2hvcicpLFxyXG4gICAgICAgICAgICB4ID0gcG9zaXRpb25bMF0sXHJcbiAgICAgICAgICAgIHkgPSBwb3NpdGlvblsxXSxcclxuICAgICAgICAgICAgbWlueCA9IEluZmluaXR5LFxyXG4gICAgICAgICAgICBtaW55ID0gSW5maW5pdHksXHJcbiAgICAgICAgICAgIG1heHggPSAtSW5maW5pdHksXHJcbiAgICAgICAgICAgIG1heHkgPSAtSW5maW5pdHk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAocGF0aFtpXVswXSA8IG1pbngpIHtcclxuICAgICAgICAgICAgICAgIG1pbnggPSBwYXRoW2ldWzBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHBhdGhbaV1bMl0gPCBtaW54KSB7XHJcbiAgICAgICAgICAgICAgICBtaW54ID0gcGF0aFtpXVsyXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwYXRoW2ldWzFdIDwgbWlueSkge1xyXG4gICAgICAgICAgICAgICAgbWlueSA9IHBhdGhbaV1bMV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocGF0aFtpXVszXSA8IG1pbnkpIHtcclxuICAgICAgICAgICAgICAgIG1pbnkgPSBwYXRoW2ldWzNdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHBhdGhbaV1bMF0gPiBtYXh4KSB7XHJcbiAgICAgICAgICAgICAgICBtYXh4ID0gcGF0aFtpXVswXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwYXRoW2ldWzJdID4gbWF4eCkge1xyXG4gICAgICAgICAgICAgICAgbWF4eCA9IHBhdGhbaV1bMl1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocGF0aFtpXVsxXSA+IG1heHkpIHtcclxuICAgICAgICAgICAgICAgIG1heHkgPSBwYXRoW2ldWzFdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHBhdGhbaV1bM10gPiBtYXh5KSB7XHJcbiAgICAgICAgICAgICAgICBtYXh5ID0gcGF0aFtpXVszXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobWlueCA9PSBJbmZpbml0eSkgbWlueCA9IDA7XHJcbiAgICAgICAgaWYgKG1pbnkgPT0gSW5maW5pdHkpIG1pbnkgPSAwO1xyXG4gICAgICAgIGlmIChtYXh4ID09IC1JbmZpbml0eSkgbWF4eCA9IDA7XHJcbiAgICAgICAgaWYgKG1heHkgPT0gLUluZmluaXR5KSBtYXh4ID0gMDtcclxuXHJcbiAgICAgICAgeHNoaWZ0ID0gbWlueDtcclxuICAgICAgICB5c2hpZnQgPSBtaW55O1xyXG5cclxuICAgICAgICB2YXIgZml4ID0gc3Ryb2tlZml4ICsgaW50ZXJwb2xhdGlvbmZpeCxcclxuICAgICAgICAgICAgd2lkdGggPSBNYXRoLmFicyhtYXh4IC0gbWlueCksXHJcbiAgICAgICAgICAgIGhlaWdodCA9IE1hdGguYWJzKG1heHkgLSBtaW55KTtcclxuXHJcbiAgICAgICAgaWYgKGFuY2hvclswXSA9PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICB4IC09IHdpZHRoID8gd2lkdGggLyAyIDogMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFuY2hvclswXSA9PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgIHggLT0gd2lkdGggPyB3aWR0aCA6IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhbmNob3JbMV0gPT0gJ21pZGRsZScpIHtcclxuICAgICAgICAgICAgeSAtPSBoZWlnaHQgPyBoZWlnaHQgLyAyIDogMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFuY2hvclsxXSA9PSAnYm90dG9tJykge1xyXG4gICAgICAgICAgICB5IC09IGhlaWdodCA/IGhlaWdodCA6IDBcclxuICAgICAgICB9XHJcbiAgICAgICAgYm94Q29udGFpbmVyLnNldChcclxuICAgICAgICAgICAgeCArIHhzaGlmdCxcclxuICAgICAgICAgICAgeSArIHlzaGlmdCxcclxuICAgICAgICAgICAgd2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodCxcclxuICAgICAgICAgICAgZml4LFxyXG4gICAgICAgICAgICBmaXgsXHJcbiAgICAgICAgICAgIGZpeCxcclxuICAgICAgICAgICAgZml4XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICBkcmF3ZXIuZihmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgIERyYXdlckhlbHBlci50cmFuc2Zvcm0odGhpcywgY29udGV4dCk7XHJcbiAgICAgICAgYXNzZW1ibGVyLmRyYXcoY29udGV4dCk7XHJcbiAgICB9KTtcclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEzLzIwMTcuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJywgWyckRHJhd2VySGVscGVyJywgJ0RlYnVnJywgJ0BpbmplY3QnLCBmdW5jdGlvbiBDaXJjbGVPYmplY3REcmF3ZXIoRHJhd2VySGVscGVyLCBEZWJ1ZywgaW5qZWN0KSB7XHJcblxyXG4gICAgdmFyIGFzc2VtYmxlciA9IGluamVjdCgnJEdyYXBoaWNzQXNzZW1ibGVyJyksXHJcbiAgICAgICAgZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgIGJveEV4dCA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKSxcclxuICAgICAgICBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgIG1hdHJpeCA9IHRoaXMuZXh0ZW5zaW9uKCdNYXRyaXgnKSxcclxuICAgICAgICBzdHJva2VmaXggPSAxO1xyXG5cclxuICAgIGFzc2VtYmxlci5sYXllcigwLCAnZmlsbCcsIFVwZGF0ZUZpbGwuYmluZCh0aGlzKSk7XHJcbiAgICBhc3NlbWJsZXIubGF5ZXIoMSwgJ2JnJywgVXBkYXRlQmcuYmluZCh0aGlzKSk7XHJcbiAgICBhc3NlbWJsZXIubGF5ZXIoMiwgJ3N0cm9rZScsIFVwZGF0ZVN0cm9rZS5iaW5kKHRoaXMpKTtcclxuICAgIGFzc2VtYmxlci5ib3goYm94RXh0KTtcclxuXHJcbiAgICBmdW5jdGlvbiBVcGRhdGVTdHJva2UoY29udGV4dCkge1xyXG4gICAgICAgIHZhciBzcHJpdGUgPSBib3hFeHQuYm94KCkuc3ByaXRlKCk7XHJcblxyXG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKTtcclxuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKTtcclxuICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSk7XHJcblxyXG4gICAgICAgIGNvbnRleHQuYXJjKHNwcml0ZS5zaXplWzBdIC8gMiwgc3ByaXRlLnNpemVbMV0gLyAyLCBzdHlsZS5nZXQoJ3JhZGl1cycpLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgY29udGV4dC5zdHJva2UoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gVXBkYXRlRmlsbChjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIHNwcml0ZSA9IGJveEV4dC5ib3goKS5zcHJpdGUoKTtcclxuXHJcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHN0eWxlLmdldCgnZmlsbCcpO1xyXG4gICAgICAgIGNvbnRleHQuYXJjKHNwcml0ZS5zaXplWzBdIC8gMiwgc3ByaXRlLnNpemVbMV0gLyAyLCBzdHlsZS5nZXQoJ3JhZGl1cycpLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgY29udGV4dC5maWxsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gVXBkYXRlQmcoY29udGV4dCl7XHJcbiAgICAgICAgdmFyIHNwcml0ZSA9IGJveEV4dC5ib3goKS5zcHJpdGUoKSxcclxuICAgICAgICAgICAgYm94ID0gYm94RXh0LmJveCgpLnZhbHVlKCk7XHJcblxyXG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY29udGV4dC5hcmMoc3ByaXRlLnNpemVbMF0gLyAyLCBzcHJpdGUuc2l6ZVsxXSAvIDIsIHN0eWxlLmdldCgncmFkaXVzJyksIDAsIE1hdGguUEkgLyAyKTtcclxuICAgICAgICBjb250ZXh0LmNsaXAoKTtcclxuXHJcbiAgICAgICAgdmFyIGJncG9zaXRpb24gPSBzdHlsZS5nZXQoJ2JnUG9zaXRpb24nKSxcclxuICAgICAgICAgICAgYmdzaXplID0gc3R5bGUuZ2V0KCdiZ1NpemUnKSxcclxuICAgICAgICAgICAgYmcgPSBzdHlsZS5nZXQoJ2JnJyk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmcubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgIGlmICghYmdbaV0ubG9hZGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIGJnW2ldLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge2Fzc2VtYmxlci51cGRhdGUoJ2JnJyl9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBiZ3dpZHRoID0gYm94LnNpemVbMF0gKiBiZ3NpemVbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgYmdoZWlnaHQgPSBib3guc2l6ZVsxXSAqIGJnc2l6ZVtpXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9ueCA9IGJveC5zaXplWzBdICogYmdwb3NpdGlvbltpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9ueSA9IGJveC5zaXplWzFdICogYmdwb3NpdGlvbltpXVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShzcHJpdGUubWFyZ2luWzNdICsgYmdwb3NpdGlvbngsIHNwcml0ZS5tYXJnaW5bMF0gKyBiZ3Bvc2l0aW9ueSk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShiZ1tpXS5leHBvcnQoKSwgMCwgMCwgYmd3aWR0aCwgYmdoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYm94RXh0LmYoZnVuY3Rpb24gKGJveENvbnRhaW5lcikge1xyXG4gICAgICAgIHZhciByYWRpdXMgPSBzdHlsZS5nZXQoJ3JhZGl1cycpLFxyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgYW5jaG9yID0gc3R5bGUuZ2V0KCdhbmNob3InKSxcclxuICAgICAgICAgICAgZCA9IHJhZGl1cyAqIDI7XHJcblxyXG4gICAgICAgIHZhciB4ID0gcG9zaXRpb25bMF0sXHJcbiAgICAgICAgICAgIHkgPSBwb3NpdGlvblsxXTtcclxuXHJcbiAgICAgICAgaWYgKGFuY2hvclswXSA9PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICB4IC09IHJhZGl1c1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYW5jaG9yWzBdID09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgeCAtPSBkXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhbmNob3JbMV0gPT0gJ21pZGRsZScpIHtcclxuICAgICAgICAgICAgeSAtPSByYWRpdXNcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFuY2hvclsxXSA9PSAnYm90dG9tJykge1xyXG4gICAgICAgICAgICB5IC09IGQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBib3hDb250YWluZXIuc2V0KHgsIHksIGQsIGQsIHN0cm9rZWZpeCwgc3Ryb2tlZml4LCBzdHJva2VmaXgsIHN0cm9rZWZpeCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLndhdGNoKCdyYWRpdXMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJyk7XHJcbiAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICAgICAgYm94RXh0LnB1cmdlKCk7XHJcbiAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgYXNzZW1ibGVyLnJlc2l6ZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy53YXRjaCgnZmlsbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLndhdGNoKCdwb3NpdGlvbicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBib3hFeHQucHVyZ2UoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMud2F0Y2goJ3N0cm9rZVdpZHRoJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICBpZiAobiAhPT0gbykge1xyXG4gICAgICAgICAgICBzdHJva2VmaXggPSBuO1xyXG4gICAgICAgICAgICBib3hFeHQucHVyZ2UoKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJyk7XHJcbiAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICBhc3NlbWJsZXIucmVzaXplKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy53YXRjaChbJ3N0cm9rZVN0eWxlJywgJ3N0cm9rZUNvbG9yJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdG9rZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy53YXRjaChbJ2JnJywgJ2JnUG9zaXRpb24nLCAnYmdTaXplJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZHJhd2VyLmYoZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICBEcmF3ZXJIZWxwZXIudHJhbnNmb3JtKHRoaXMsIGNvbnRleHQpO1xyXG4gICAgICAgIGFzc2VtYmxlci5kcmF3KGNvbnRleHQpO1xyXG4gICAgfSk7XHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS81LzIwMTcuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJyAsIFsnRGVidWcnICwgJyRNYXRyaXhIZWxwZXInLCBmdW5jdGlvbiBEZWZhdWx0T2JqZWN0RHJhd2VyIChEZWJ1ZyxNYXRyaXgpIHtcclxuICAgIHZhciBtYXRyaXggPSB0aGlzLmV4dGVuc2lvbignTWF0cml4Jyk7XHJcblxyXG4gICAgbWF0cml4LmYoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBNYXRyaXgub2JqZWN0TWF0cml4KHRoaXMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy53YXRjaChbJ3Bvc2l0aW9uJywgJ3JvdGF0ZScsICd0cmFuc2xhdGUnLCAnc2NhbGUnLCAnc2tldyddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICB9KTtcclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIucGFydCgnT2JqZWN0cycsIFsnJERyYXdlckhlbHBlcicsIGZ1bmN0aW9uIEdyb3VwT2JqZWN0RHJhd2VyKERyYXdlckhlbHBlcikge1xyXG4gICAgdmFyIGRyYXdlciA9IHRoaXMuZXh0ZW5zaW9uKCdEcmF3ZXInKSxcclxuICAgICAgICBsYXllcnMgPSB0aGlzLmV4dGVuc2lvbignTGF5ZXJzJyksXHJcbiAgICAgICAgYm94ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLFxyXG4gICAgICAgIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyk7XHJcblxyXG4gICAgYm94LmYoZnVuY3Rpb24gKGJveENvbnRhaW5lcikge1xyXG5cclxuICAgICAgICB2YXIgbWlueCA9IEluZmluaXR5LFxyXG4gICAgICAgICAgICBtaW55ID0gSW5maW5pdHksXHJcbiAgICAgICAgICAgIG1heHggPSAtSW5maW5pdHksXHJcbiAgICAgICAgICAgIG1heHkgPSAtSW5maW5pdHk7XHJcblxyXG5cclxuICAgICAgICBsYXllcnMuZm9yRWFjaChmdW5jdGlvbiAoKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIG9ib3ggPSB0aGlzLmV4dGVuc2lvbignQm94JykuYm94KCkudmFsdWUoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChvYm94LnBvc2l0aW9uWzBdIDwgbWlueCkge1xyXG4gICAgICAgICAgICAgICAgbWlueCA9IG9ib3gucG9zaXRpb25bMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9ib3gucG9zaXRpb25bMV0gPCBtaW55KSB7XHJcbiAgICAgICAgICAgICAgICBtaW55ID0gb2JveC5wb3NpdGlvblsxXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvYm94LnBvc2l0aW9uWzBdICsgb2JveC5zaXplWzBdID4gbWF4eCkge1xyXG4gICAgICAgICAgICAgICAgbWF4eCA9IG9ib3gucG9zaXRpb25bMF0gKyBvYm94LnNpemVbMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9ib3gucG9zaXRpb25bMV0gKyBvYm94LnNpemVbMV0gPiBtYXh5KSB7XHJcbiAgICAgICAgICAgICAgICBtYXh5ID0gb2JveC5wb3NpdGlvblsxXSArIG9ib3guc2l6ZVsxXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gc3R5bGUuZ2V0KCdwb3NpdGlvbicpO1xyXG5cclxuICAgICAgICBpZiAobWlueCA9PT0gSW5maW5pdHkpIG1pbnggPSAwO1xyXG4gICAgICAgIGlmIChtYXh4ID09PSAtSW5maW5pdHkpIG1heHggPSAwO1xyXG4gICAgICAgIGlmIChtaW55ID09PSBJbmZpbml0eSkgbWlueSA9IDA7XHJcbiAgICAgICAgaWYgKG1heHkgPT09IC1JbmZpbml0eSkgbWF4eSA9IDA7XHJcblxyXG4gICAgICAgIGJveENvbnRhaW5lci5zZXQoXHJcbiAgICAgICAgICAgIG1pbnggKyBwb3NpdGlvblswXSxcclxuICAgICAgICAgICAgbWlueSArIHBvc2l0aW9uWzFdLFxyXG4gICAgICAgICAgICBtYXh4IC0gbWlueCxcclxuICAgICAgICAgICAgbWF4eSAtIG1pbnksXHJcbiAgICAgICAgICAgIDAsIDAsIDAsIDBcclxuICAgICAgICApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIHBvc2l0aW9uID0gWzAsIDBdO1xyXG5cclxuICAgIHRoaXMud2F0Y2goJ3Bvc2l0aW9uJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICBwb3NpdGlvbiA9IG47XHJcbiAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkcmF3ZXIuZihmdW5jdGlvbiAoY29udGV4dCkge1xyXG5cclxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSAqPSBzdHlsZS5nZXQoJ29wYWNpdHknKTtcclxuXHJcbiAgICAgICAgRHJhd2VySGVscGVyLnRyYW5zZm9ybSh0aGlzLCBjb250ZXh0KTtcclxuXHJcbiAgICAgICAgbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIG9kcmF3ZXIgPSB0aGlzLmV4dGVuc2lvbignRHJhd2VyJyksXHJcbiAgICAgICAgICAgICAgICB0eXBlID0gdGhpcy50eXBlKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZSA9PSAnR3JvdXAnKSB7XHJcbiAgICAgICAgICAgICAgICBvZHJhd2VyLmRyYXcuY2FsbCh0aGlzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBvc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gb3N0eWxlLmdldCgnYmxlbmRpbmcnKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgKj0gb3N0eWxlLmdldCgnb3BhY2l0eScpO1xyXG4gICAgICAgICAgICAgICAgb2RyYXdlci5kcmF3LmNhbGwodGhpcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcblxyXG4gICAgfSk7XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTMvMjAxNy5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnLCBbJyREcmF3ZXJIZWxwZXInLCAnUmVzb3VyY2UnLCBmdW5jdGlvbiBJbWFnZU9iamVjdERyYXdlcihEcmF3ZXJIZWxwZXIsIFJlc291cmNlKSB7XHJcblxyXG4gICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgYm94ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLFxyXG4gICAgICAgIGRyYXdlciA9IHRoaXMuZXh0ZW5zaW9uKCdEcmF3ZXInKSxcclxuICAgICAgICBtYXRyaXggPSB0aGlzLmV4dGVuc2lvbignTWF0cml4Jyk7XHJcblxyXG4gICAgdmFyIHdpZHRoID0gbnVsbCwgaGVpZ2h0ID0gbnVsbCxcclxuICAgICAgICBpbWFnZSA9IG51bGw7XHJcblxyXG5cclxuICAgIHRoaXMud2F0Y2goJ3NyYycsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgaWYgKG8gIT09IG4pIHtcclxuICAgICAgICAgICAgaW1hZ2UgPSBSZXNvdXJjZS5pbWFnZShuKTtcclxuICAgICAgICAgICAgaW1hZ2Uub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZih3aWR0aCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBpbWFnZS53aWR0aCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoaGVpZ2h0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBpbWFnZS5oZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMud2F0Y2goJ3NpemUnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgIGlmIChvWzBdICE9PSBuWzBdIHx8IG9bMV0gIT09IG5bMV0pIHtcclxuICAgICAgICAgICAgd2lkdGggPSBuWzBdO1xyXG4gICAgICAgICAgICBoZWlnaHQgPSBuWzFdO1xyXG4gICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLndhdGNoKCdwb3NpdGlvbicsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgaWYgKG9bMF0gIT09IG5bMF0gfHwgb1sxXSAhPT0gblsxXSkge1xyXG4gICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBib3guZihmdW5jdGlvbiAoYm94Q29udGFpbmVyKSB7XHJcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gc3R5bGUuZ2V0KCdwb3NpdGlvbicpLFxyXG4gICAgICAgICAgICBhbmNob3IgPSBzdHlsZS5nZXQoJ2FuY2hvcicpO1xyXG5cclxuICAgICAgICB2YXIgeCA9IHBvc2l0aW9uWzBdLFxyXG4gICAgICAgICAgICB5ID0gcG9zaXRpb25bMV07XHJcblxyXG4gICAgICAgIGlmIChhbmNob3JbMF0gPT0gJ2NlbnRlcicpIHtcclxuICAgICAgICAgICAgeCAtPSB3aWR0aCA/IHdpZHRoIC8yIDogMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFuY2hvclswXSA9PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgIHggLT0gd2lkdGggPyB3aWR0aCA6IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhbmNob3JbMV0gPT0gJ21pZGRsZScpIHtcclxuICAgICAgICAgICAgeSAtPSBoZWlnaHQgPyBoZWlnaHQgLzIgOiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYW5jaG9yWzFdID09ICdib3R0b20nKSB7XHJcbiAgICAgICAgICAgIHkgLT0gaGVpZ2h0ID8gaGVpZ2h0IDogMFxyXG4gICAgICAgIH1cclxuICAgICAgICBib3hDb250YWluZXIuc2V0KHgsIHksIHdpZHRoID8gd2lkdGggOiAwLCBoZWlnaHQgPyBoZWlnaHQgOiAwLCAwLCAwLCAwLCAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRyYXdlci5mKGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgaWYgKGltYWdlICYmIGltYWdlLmxvYWRlZCgpICYmICFpbWFnZS5lcnJvcigpICYmXHJcbiAgICAgICAgICAgIHdpZHRoICE9PSBudWxsICYmXHJcbiAgICAgICAgICAgIGhlaWdodCAhPT0gbnVsbCAmJiB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMCkge1xyXG4gICAgICAgICAgICBEcmF3ZXJIZWxwZXIudHJhbnNmb3JtKHRoaXMsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZS5leHBvcnQoKSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG59XSk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxuICovXG4kUi5wYXJ0KCdPYmplY3RzJywgWydAaW5qZWN0JywgJ0RlYnVnJywgJyREcmF3ZXJIZWxwZXInLCAnJFBhdGhIZWxwZXInLFxuICAgIGZ1bmN0aW9uIExpbmVPYmplY3REcmF3ZXIoaW5qZWN0LCBEZWJ1ZywgRHJhd2VySGVscGVyLCBQYXRoSGVscGVyKSB7XG5cbiAgICAgICAgdmFyIGJveCA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKSxcbiAgICAgICAgICAgIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXG4gICAgICAgICAgICBjYW52YXMgPSBpbmplY3QoJyRDYW52YXMnKSxcbiAgICAgICAgICAgIG1hdHJpeCA9IHRoaXMuZXh0ZW5zaW9uKCdNYXRyaXgnKSxcbiAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gZmFsc2UsIGludGVycG9sYXRlZCA9IGZhbHNlLFxuICAgICAgICAgICAgc3Ryb2tlZml4ID0gMSwgaW50ZXJwb2xhdGlvbmZpeCA9IDA7XG5cbiAgICAgICAgdmFyIGRyYXdlciA9IHRoaXMuZXh0ZW5zaW9uKCdEcmF3ZXInKTtcblxuICAgICAgICB2YXIgeHNoaWZ0ID0gMCwgeXNoaWZ0ID0gMDtcblxuICAgICAgICBib3guZihmdW5jdGlvbiAoYm94Q29udGFpbmVyKSB7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBzdHlsZS5nZXQoJ3Bvc2l0aW9uJyksXG4gICAgICAgICAgICAgICAgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpLFxuICAgICAgICAgICAgICAgIGFuY2hvciA9IHN0eWxlLmdldCgnYW5jaG9yJyksXG4gICAgICAgICAgICAgICAgeCA9IHBvc2l0aW9uWzBdLFxuICAgICAgICAgICAgICAgIHkgPSBwb3NpdGlvblsxXSxcbiAgICAgICAgICAgICAgICBtaW54ID0gSW5maW5pdHksXG4gICAgICAgICAgICAgICAgbWlueSA9IEluZmluaXR5LFxuICAgICAgICAgICAgICAgIG1heHggPSAtSW5maW5pdHksXG4gICAgICAgICAgICAgICAgbWF4eSA9IC1JbmZpbml0eTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMF0gPCBtaW54KSB7XG4gICAgICAgICAgICAgICAgICAgIG1pbnggPSBwYXRoW2ldWzBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzJdIDwgbWlueCkge1xuICAgICAgICAgICAgICAgICAgICBtaW54ID0gcGF0aFtpXVsyXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVsxXSA8IG1pbnkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWlueSA9IHBhdGhbaV1bMV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bM10gPCBtaW55KSB7XG4gICAgICAgICAgICAgICAgICAgIG1pbnkgPSBwYXRoW2ldWzNdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzBdID4gbWF4eCkge1xuICAgICAgICAgICAgICAgICAgICBtYXh4ID0gcGF0aFtpXVswXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVsyXSA+IG1heHgpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4eCA9IHBhdGhbaV1bMl1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMV0gPiBtYXh5KSB7XG4gICAgICAgICAgICAgICAgICAgIG1heHkgPSBwYXRoW2ldWzFdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzNdID4gbWF4eSkge1xuICAgICAgICAgICAgICAgICAgICBtYXh5ID0gcGF0aFtpXVszXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1pbnggPT0gSW5maW5pdHkpIG1pbnggPSAwO1xuICAgICAgICAgICAgaWYgKG1pbnkgPT0gSW5maW5pdHkpIG1pbnkgPSAwO1xuICAgICAgICAgICAgaWYgKG1heHggPT0gLUluZmluaXR5KSBtYXh4ID0gMDtcbiAgICAgICAgICAgIGlmIChtYXh5ID09IC1JbmZpbml0eSkgbWF4eCA9IDA7XG5cbiAgICAgICAgICAgIHhzaGlmdCA9IG1pbng7XG4gICAgICAgICAgICB5c2hpZnQgPSBtaW55O1xuXG4gICAgICAgICAgICB2YXIgZml4ID0gc3Ryb2tlZml4ICsgaW50ZXJwb2xhdGlvbmZpeCxcbiAgICAgICAgICAgICAgICB3aWR0aCA9IE1hdGguYWJzKG1heHggLSBtaW54KSxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBNYXRoLmFicyhtYXh5IC0gbWlueSk7XG5cbiAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICB4IC09IHdpZHRoID8gd2lkdGggLyAyIDogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgIHggLT0gd2lkdGggPyB3aWR0aCA6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09ICdtaWRkbGUnKSB7XG4gICAgICAgICAgICAgICAgeSAtPSBoZWlnaHQgPyBoZWlnaHQgLyAyIDogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT0gJ2JvdHRvbScpIHtcbiAgICAgICAgICAgICAgICB5IC09IGhlaWdodCA/IGhlaWdodCA6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJveENvbnRhaW5lci5zZXQoXG4gICAgICAgICAgICAgICAgeCArIHhzaGlmdCxcbiAgICAgICAgICAgICAgICB5ICsgeXNoaWZ0LFxuICAgICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgICAgICBmaXgsXG4gICAgICAgICAgICAgICAgZml4LFxuICAgICAgICAgICAgICAgIGZpeCxcbiAgICAgICAgICAgICAgICBmaXhcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy53YXRjaCgncGF0aCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpbnRlcnBvbGF0aW9uID0gc3R5bGUuZ2V0KCdpbnRlcnBvbGF0aW9uJyk7XG4gICAgICAgICAgICBpZiAoaW50ZXJwb2xhdGlvbiAhPT0gMCkgaW50ZXJwb2xhdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBib3gucHVyZ2UoKTtcbiAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xuICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53YXRjaCgncG9zaXRpb24nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBib3gucHVyZ2UoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy53YXRjaCgnc3Ryb2tlV2lkdGgnLCBmdW5jdGlvbiAobywgbikge1xuICAgICAgICAgICAgdmFyIGZpeCA9IDA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChuW2ldID4gZml4KSBmaXggPSBuW2ldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdHJva2VmaXggPSBmaXggLyAyO1xuXG4gICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IHRydWU7XG5cbiAgICAgICAgICAgIGJveC5wdXJnZSgpO1xuICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy53YXRjaCgnaW50ZXJwb2xhdGlvbicsIGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgICAgICAgICBpZiAobyAhPT0gbikgaW50ZXJwb2xhdGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGludGVycG9sYXRpb25maXggPSBNYXRoLnJvdW5kKDIwICogbik7XG4gICAgICAgICAgICBib3gucHVyZ2UoKTtcbiAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xuICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSB0cnVlO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMud2F0Y2goWydzdHJva2VTdHlsZScsICdzdHJva2VDb2xvciddLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IHRydWU7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5jb250ZXh0KCk7XG5cbiAgICAgICAgZnVuY3Rpb24gVXBkYXRlQ2FudmFzKCkge1xuICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGJveC5ib3goKS5zcHJpdGUoKSxcbiAgICAgICAgICAgICAgICBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGlvbiA9IHN0eWxlLmdldCgnaW50ZXJwb2xhdGlvbicpO1xuXG4gICAgICAgICAgICBpZiAoY2FudmFzLndpZHRoKCkgIT09IHNwcml0ZS5zaXplWzBdIHx8IGNhbnZhcy5oZWlnaHQoKSAhPT0gc3ByaXRlLnNpemVbMV0pIHtcblxuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHNwcml0ZS5zaXplWzBdLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBzcHJpdGUuc2l6ZVsxXTtcblxuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCh3aWR0aCk7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodChoZWlnaHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHNwcml0ZS5zaXplWzBdLCBzcHJpdGUuc2l6ZVsxXSk7XG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwwLDAsLjUpJztcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5yZWN0KDAsIDAsIHNwcml0ZS5zaXplWzBdLCBzcHJpdGUuc2l6ZVsxXSk7XG4gICAgICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcblxuICAgICAgICAgICAgaWYgKCFpbnRlcnBvbGF0ZWQpIHtcbiAgICAgICAgICAgICAgICBQYXRoSGVscGVyLmludGVycG9sYXRlKHBhdGgsIGludGVycG9sYXRpb24pO1xuICAgICAgICAgICAgICAgIGludGVycG9sYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG5cbiAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoc3ByaXRlLm1hcmdpblszXSAtIHhzaGlmdCwgc3ByaXRlLm1hcmdpblswXSAtIHlzaGlmdCk7XG5cbiAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0aW9uID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLmRyYXdCZXppZXJQYXRoKGN0eCwgcGF0aCwgc3R5bGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLmRyYXdMaW5lUGF0aChjdHgsIHBhdGgsIHN0eWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG5cbiAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBkcmF3ZXIuZihmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICAgICAgaWYgKHJlcXVpcmVfdXBkYXRlKSBVcGRhdGVDYW52YXMuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIERyYXdlckhlbHBlci50cmFuc2Zvcm0odGhpcywgY29udGV4dCk7XG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShjYW52YXMuZXhwb3J0KCksIDAsIDApO1xuICAgICAgICB9KTtcblxuICAgIH1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMS8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnT2JqZWN0cycsIFsnQGluamVjdCcsICckRHJhd2VySGVscGVyJyxcclxuICAgIGZ1bmN0aW9uIFJlY3RhbmdsZU9iamVjdERyYXdlcihpbmplY3QsIERyYXdlckhlbHBlcikge1xyXG5cclxuICAgICAgICB2YXIgYXNzZW1ibGVyID0gaW5qZWN0KCckR3JhcGhpY3NBc3NlbWJsZXInKSxcclxuICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgICAgICBib3hFeHRlbnNpb24gPSB0aGlzLmV4dGVuc2lvbignQm94JyksXHJcbiAgICAgICAgICAgIG1hdHJpeCA9IHRoaXMuZXh0ZW5zaW9uKCdNYXRyaXgnKSxcclxuICAgICAgICAgICAgc3Ryb2tlZml4ID0gWzIsIDIsIDIsIDJdO1xyXG5cclxuICAgICAgICBhc3NlbWJsZXIubGF5ZXIoMCwgJ2ZpbGwnLCBVcGRhdGVGaWxsLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGFzc2VtYmxlci5sYXllcigxLCAnYmcnLCBVcGRhdGVCZy5iaW5kKHRoaXMpKTtcclxuICAgICAgICBhc3NlbWJsZXIubGF5ZXIoMiwgJ3N0cm9rZScsIFVwZGF0ZVN0cm9rZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICBhc3NlbWJsZXIuYm94KGJveEV4dGVuc2lvbik7XHJcblxyXG4gICAgICAgIGJveEV4dGVuc2lvbi5mKGZ1bmN0aW9uIChib3hDb250YWluZXIpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgIHNpemUgPSBzdHlsZS5nZXQoJ3NpemUnKSxcclxuICAgICAgICAgICAgICAgIGFuY2hvciA9IHN0eWxlLmdldCgnYW5jaG9yJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgeCA9IHBvc2l0aW9uWzBdLFxyXG4gICAgICAgICAgICAgICAgeSA9IHBvc2l0aW9uWzFdO1xyXG5cclxuICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgeCAtPSBzaXplWzBdLzI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICB4IC09IHNpemVbMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PSAnbWlkZGxlJykge1xyXG4gICAgICAgICAgICAgICAgeSAtPSBzaXplWzFdLzI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PSAnYm90dG9tJykge1xyXG4gICAgICAgICAgICAgICAgeSAtPSBzaXplWzFdXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJveENvbnRhaW5lci5zZXQoXHJcbiAgICAgICAgICAgICAgICB4LCB5LFxyXG4gICAgICAgICAgICAgICAgc2l6ZVswXSwgc2l6ZVsxXSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeFswXSwgc3Ryb2tlZml4WzFdLCBzdHJva2VmaXhbMl0sIHN0cm9rZWZpeFszXVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkcmF3ZXIuZihmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICBEcmF3ZXJIZWxwZXIudHJhbnNmb3JtKHRoaXMsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICBhc3NlbWJsZXIuZHJhdyhjb250ZXh0KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy53YXRjaCgnc2l6ZScsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJyk7XHJcbiAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5yZXNpemUoKTtcclxuICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMud2F0Y2goJ3N0cm9rZVdpZHRoJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgc3Ryb2tlZml4WzBdID0gblswXTtcclxuICAgICAgICAgICAgc3Ryb2tlZml4WzFdID0gblsxXTtcclxuICAgICAgICAgICAgc3Ryb2tlZml4WzJdID0gblsyXTtcclxuICAgICAgICAgICAgc3Ryb2tlZml4WzNdID0gblszXTtcclxuICAgICAgICAgICAgYm94RXh0ZW5zaW9uLnB1cmdlKCk7XHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5yZXNpemUoKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJyk7XHJcbiAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLndhdGNoKFsncG9zaXRpb24nLCAnc2l6ZSddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGJveEV4dGVuc2lvbi5wdXJnZSgpO1xyXG4gICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy53YXRjaChbJ2JnJywgJ2JnU2l6ZScsICdiZ1Bvc2l0aW9uJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy53YXRjaChbJ3N0cm9rZVN0eWxlJywgJ3N0cm9rZUNvbG9yJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMud2F0Y2goWydmaWxsJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBVcGRhdGVCZyhjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIHZhciBib3hDb250YWluZXIgPSBib3hFeHRlbnNpb24uYm94KCksXHJcbiAgICAgICAgICAgICAgICBib3ggPSBib3hDb250YWluZXIudmFsdWUoKSxcclxuICAgICAgICAgICAgICAgIHNwcml0ZSA9IGJveENvbnRhaW5lci5zcHJpdGUoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhib3guc2l6ZVswXSArIHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhib3guc2l6ZVswXSArIHNwcml0ZS5tYXJnaW5bM10sIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHNwcml0ZS5tYXJnaW5bM10sIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICBjb250ZXh0LmNsaXAoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBiZ3Bvc2l0aW9uID0gc3R5bGUuZ2V0KCdiZ1Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICBiZ3NpemUgPSBzdHlsZS5nZXQoJ2JnU2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgYmcgPSBzdHlsZS5nZXQoJ2JnJyk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJnLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFiZ1tpXS5sb2FkZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJnW2ldLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJnd2lkdGggPSBib3guc2l6ZVswXSAqIGJnc2l6ZVtpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmdoZWlnaHQgPSBib3guc2l6ZVsxXSAqIGJnc2l6ZVtpXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbnggPSBib3guc2l6ZVswXSAqIGJncG9zaXRpb25baV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb255ID0gYm94LnNpemVbMV0gKiBiZ3Bvc2l0aW9uW2ldWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShzcHJpdGUubWFyZ2luWzNdICsgYmdwb3NpdGlvbngsIHNwcml0ZS5tYXJnaW5bMF0gKyBiZ3Bvc2l0aW9ueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoYmdbaV0uZXhwb3J0KCksIDAsIDAsIGJnd2lkdGgsIGJnaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gVXBkYXRlU3Ryb2tlKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgdmFyIHN0cm9rZUNvbG9yID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGggPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZSA9IHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGNhcCA9IHN0eWxlLmdldCgnY2FwJyksXHJcbiAgICAgICAgICAgICAgICBib3hDb250YWluZXIgPSBib3hFeHRlbnNpb24uYm94KCksXHJcbiAgICAgICAgICAgICAgICBib3ggPSBib3hDb250YWluZXIudmFsdWUoKSxcclxuICAgICAgICAgICAgICAgIHNwcml0ZSA9IGJveENvbnRhaW5lci5zcHJpdGUoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBjYXA7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvclswXTtcclxuICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VXaWR0aFswXTtcclxuICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdHlsZVswXSk7XHJcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGJveC5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSwgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3JbMV07XHJcbiAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGhbMV07XHJcbiAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbMV0pO1xyXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhib3guc2l6ZVswXSArIHNwcml0ZS5tYXJnaW5bM10sIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3JbMl07XHJcbiAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGhbMl07XHJcbiAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbMl0pO1xyXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhzcHJpdGUubWFyZ2luWzNdLCBib3guc2l6ZVsxXSArIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yWzNdO1xyXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVdpZHRoWzNdO1xyXG4gICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0cm9rZVN0eWxlWzNdKTtcclxuICAgICAgICAgICAgY29udGV4dC5saW5lVG8oc3ByaXRlLm1hcmdpblszXSwgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBVcGRhdGVGaWxsKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgdmFyIGZpbGwgPSBzdHlsZS5nZXQoJ2ZpbGwnKSxcclxuICAgICAgICAgICAgICAgIGJveENvbnRhaW5lciA9IGJveEV4dGVuc2lvbi5ib3goKSxcclxuICAgICAgICAgICAgICAgIGJveCA9IGJveENvbnRhaW5lci52YWx1ZSgpLFxyXG4gICAgICAgICAgICAgICAgc3ByaXRlID0gYm94Q29udGFpbmVyLnNwcml0ZSgpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5yZWN0KHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0sIGJveC5zaXplWzBdLCBib3guc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbDtcclxuICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnT2JqZWN0cycsIFsnJERyYXdlckhlbHBlcicsICckTW9kZWxIZWxwZXInLCAnUmVzb3VyY2UnLFxyXG4gICAgZnVuY3Rpb24gU3ByaXRlT2JqZWN0RHJhd2VyKERyYXdlckhlbHBlciwgTW9kZWxIZWxwZXIsIFJlc291cmNlKSB7XHJcblxyXG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICBib3ggPSB0aGlzLmV4dGVuc2lvbignQm94JyksXHJcbiAgICAgICAgICAgIGRyYXdlciA9IHRoaXMuZXh0ZW5zaW9uKCdEcmF3ZXInKSxcclxuICAgICAgICAgICAgbWF0cml4ID0gdGhpcy5leHRlbnNpb24oJ01hdHJpeCcpLFxyXG4gICAgICAgICAgICB3aWR0aCA9IG51bGwsIGhlaWdodCA9IG51bGwsIGltYWdlID0gbnVsbDtcclxuXHJcbiAgICAgICAgYm94LmYoZnVuY3Rpb24gKGJveENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBzdHlsZS5nZXQoJ3Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICBhbmNob3IgPSBzdHlsZS5nZXQoJ2FuY2hvcicpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHggPSBwb3NpdGlvblswXSxcclxuICAgICAgICAgICAgICAgIHkgPSBwb3NpdGlvblsxXTtcclxuXHJcbiAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT0gJ2NlbnRlcicpIHtcclxuICAgICAgICAgICAgICAgIHggLT0gd2lkdGggPyB3aWR0aCAvIDIgOiAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgeCAtPSB3aWR0aCA/IHdpZHRoIDogMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09ICdtaWRkbGUnKSB7XHJcbiAgICAgICAgICAgICAgICB5IC09IGhlaWdodCA/IGhlaWdodCAvIDIgOiAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT0gJ2JvdHRvbScpIHtcclxuICAgICAgICAgICAgICAgIHkgLT0gaGVpZ2h0ID8gaGVpZ2h0IDogMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJveENvbnRhaW5lci5zZXQoXHJcbiAgICAgICAgICAgICAgICB4LFxyXG4gICAgICAgICAgICAgICAgeSxcclxuICAgICAgICAgICAgICAgIHdpZHRoID8gd2lkdGggOiAwLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID8gaGVpZ2h0IDogMCxcclxuICAgICAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICAgIDBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZHJhd2VyLmYoZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgaWYgKGltYWdlICYmIGltYWdlLmxvYWRlZCgpICYmICFpbWFnZS5lcnJvcigpXHJcbiAgICAgICAgICAgICAgICAmJiBpbWFnZS5yZWFkeSgpXHJcbiAgICAgICAgICAgICAgICAmJiB3aWR0aCAhPT0gbnVsbCAmJiBoZWlnaHQgIT09IG51bGxcclxuICAgICAgICAgICAgICAgICYmIHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIudHJhbnNmb3JtKHRoaXMsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UuZXhwb3J0KCksIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMud2F0Y2goJ3NyYycsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgIGlmIChuICE9PSBvKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IE1vZGVsSGVscGVyLnJlYWRTcHJpdGVTdHJpbmcobik7XHJcbiAgICAgICAgICAgICAgICBpbWFnZSA9IFJlc291cmNlLnNwcml0ZShkYXRhLnVybCk7XHJcbiAgICAgICAgICAgICAgICBpbWFnZS5jb25maWcoZGF0YS5mcmFtZXMpO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2Uub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpZHRoID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBpbWFnZS53aWR0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGVpZ2h0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy53YXRjaCgnc2l6ZScsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgIGlmIChvWzBdICE9PSBuWzBdIHx8IG9bMV0gIT09IG5bMV0pIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gblswXTtcclxuICAgICAgICAgICAgICAgIGhlaWdodCA9IG5bMV07XHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMud2F0Y2goJ3Bvc2l0aW9uJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgaWYgKG9bMF0gIT09IG5bMF0gfHwgb1sxXSAhPT0gblsxXSkge1xyXG4gICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjUvMjAxNy5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnLCBbJ0BpbmplY3QnLCAnJERyYXdlckhlbHBlcicsICdSZXNvdXJjZScsXHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dE9iamVjdERyYXdlcihpbmplY3QsIERyYXdlckhlbHBlciwgUmVzb3VyY2UpIHtcclxuICAgICAgICAgICAgdmFyIHRleHQgPSB0aGlzLmV4dGVuc2lvbignVGV4dCcpLFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGJveCA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKSxcclxuICAgICAgICAgICAgICAgIGRyYXdlciA9IHRoaXMuZXh0ZW5zaW9uKCdEcmF3ZXInKSxcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHRoaXMuZXh0ZW5zaW9uKCdNYXRyaXgnKSxcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBmb250ID0gc3R5bGUuZ2V0KCdmb250JyksXHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQgPSBzdHlsZS5nZXQoJ3dlaWdodCcpLFxyXG4gICAgICAgICAgICAgICAgZnN0eWxlID0gc3R5bGUuZ2V0KCdzdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyID0gaW5qZWN0KCckR3JhcGhpY3NBc3NlbWJsZXInKSxcclxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICBhc3NlbWJsZXIubGF5ZXIoMCwgJ3RleHQnLCBVcGRhdGVUZXh0TGF5ZXIpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlVGV4dExheWVyKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHRleHQudXBkYXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBzdHlsZS5nZXQoJ2xpbmVIZWlnaHQnKSxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvciA9IHN0eWxlLmdldCgnY29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZSA9IHN0eWxlLmdldCgnZm9udFNpemUnKSxcclxuICAgICAgICAgICAgICAgICAgICBhbGlnbiA9IHN0eWxlLmdldCgnYWxpZ24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0b3BTcGFuID0gbGluZUhlaWdodCAtIChmb250U2l6ZSAvIDUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChmb250U2l6ZSA8IGxpbmVIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b3BTcGFuID0gdG9wU3BhbiAtIChsaW5lSGVpZ2h0IC0gZm9udFNpemUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wU3BhbiA9IHRvcFNwYW4gKyAoZm9udFNpemUgLSBsaW5lSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRleHQuZm9yRWFjaExpbmUoZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB5ID0gdG9wU3BhbiArIGkgKiBsaW5lSGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZvbnQgPSB0aGlzLmV4dHJhY3RGb250U3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsaWduID09ICdjZW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy5zdHJpbmcoKSwgKHRleHQudGV4dEJsb2NrV2lkdGgoKSAtIHRoaXMud2lkdGgoKSkgLyAyLCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYWxpZ24gPT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHRoaXMuc3RyaW5nKCksIHRleHQudGV4dEJsb2NrV2lkdGgoKSAtIHRoaXMud2lkdGgoKSAtIDIsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dCh0aGlzLnN0cmluZygpLCAyLCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Rm9udEZpbGUoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3N0eWxlID0gZnN0eWxlID09PSAnb2JsaXF1ZScgPyAnbm9ybWFsJyA6IGZzdHlsZTtcclxuICAgICAgICAgICAgICAgIHZhciBmID0gUmVzb3VyY2UuZm9udChmb250LCB3ZWlnaHQsIF9zdHlsZSk7XHJcbiAgICAgICAgICAgICAgICBmLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LnVwZGF0ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGYub24oJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LnVwZGF0ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRyYXdUZXh0KGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXF1aXJlX3VwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2VtYmxlci5zaXplKHRleHQudGV4dEJsb2NrV2lkdGgoKSwgdGV4dC50ZXh0QmxvY2tIZWlnaHQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgndGV4dCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIudHJhbnNmb3JtKHRoaXMsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLmRyYXcoY29udGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goWydzdHInLCAnc3R5bGUnLCAnZm9udCcsICd3ZWlnaHQnLCAnc2l6ZScsICdjb2xvcicsICdmb250U2l6ZScsICdsaW5lSGVpZ2h0J10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnZm9udCcsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBmb250ID0gbjtcclxuICAgICAgICAgICAgICAgIGdldEZvbnRGaWxlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdzdHlsZScsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBmc3R5bGUgPSBuO1xyXG4gICAgICAgICAgICAgICAgZ2V0Rm9udEZpbGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3dlaWdodCcsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQgPSBuO1xyXG4gICAgICAgICAgICAgICAgZ2V0Rm9udEZpbGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdhbmNob3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGJveC5mKGZ1bmN0aW9uIChib3hDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBzdHlsZS5nZXQoJ2FuY2hvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgIHggPSBwb3NpdGlvblswXSxcclxuICAgICAgICAgICAgICAgICAgICB5ID0gcG9zaXRpb25bMV07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gdGV4dC50ZXh0QmxvY2tXaWR0aCgpIC8gMlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSB0ZXh0LnRleHRCbG9ja1dpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09ICdtaWRkbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSB0ZXh0LnRleHRCbG9ja0hlaWdodCgpIC8gMlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PSAnYm90dG9tJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gdGV4dC50ZXh0QmxvY2tIZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJveENvbnRhaW5lci5zZXQoeCwgeSwgdGV4dC50ZXh0QmxvY2tXaWR0aCgpLCB0ZXh0LnRleHRCbG9ja0hlaWdodCgpLCAwLCAwLCAwLCAwKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZihkcmF3VGV4dCk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNS8xLzIwMTcuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJyxcclxuICAgIFsnQGV4dGVuZCcsICckTW9kZWxIZWxwZXInLCAnJFBhdGhIZWxwZXInLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEFyZWFPYmplY3RNb2RlbChleHRlbmQsIE1vZGVsSGVscGVyLCBQYXRoSGVscGVyLCBEZWJ1Zykge1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0TW9kZWwnKTtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckR2xvYmFsQmFja2dyb3VuZE1vZGVsJyk7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRGcmVlU3Ryb2tlTW9kZWwnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gdGhpcy5leHRlbnNpb24oJ0FuaW1hdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gU3luY1BhdGhQcm9wZXJ0eShwYXRoLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5wdXNoKHByb3BlcnR5W3Byb3BlcnR5Lmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoIDwgcHJvcGVydHkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuc3BsaWNlKHBhdGgubGVuZ3RoIC0gMSwgcHJvcGVydHkubGVuZ3RoIC0gcGF0aC5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdwYXRoJywgW1swLCAwLCAwLCAwLCAwLCAwLCAwLCAwXV0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoUGF0aEhlbHBlci5jaGVja1NpbXBsZVBhdGgodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGQgPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFBhdGhIZWxwZXIuY29udmVydFNpbXBsZVBhdGgodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0WzBdWzBdICE9PSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzJdIHx8IHJlc3VsdFswXVsxXSAhPT0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVszXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVszXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbMF1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0WzBdWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVszXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbMF1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0WzBdWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZC5sZW5ndGggIT09IHJlc3VsdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN5bmNQYXRoUHJvcGVydHkocmVzdWx0LCBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3luY1BhdGhQcm9wZXJ0eShyZXN1bHQsIHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeW5jUGF0aFByb3BlcnR5KHJlc3VsdCwgc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ0FyZWEgTW9kZWwgLyBJbnZhbGlkIHZhbHVlIGZvciBhcmVhIHBhdGghJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFBhdGhIZWxwZXIuY29udmVydENvbXBsZXhQYXRoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEzLzIwMTcuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJywgWydAZXh0ZW5kJywgJyRDb2xvckhlbHBlcicsICckTW9kZWxIZWxwZXInLCAnRGVidWcnLCBmdW5jdGlvbiBDaXJjbGVPYmplY3RNb2RlbChleHRlbmQsIENvbG9ySGVscGVyLCBNb2RlbEhlbHBlciwgRGVidWcpIHtcclxuICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRPYmplY3RNb2RlbCcpO1xyXG4gICAgZXh0ZW5kKHRoaXMsICckR2xvYmFsQmFja2dyb3VuZE1vZGVsJyk7XHJcblxyXG4gICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgYW5pbWF0aW9uID0gdGhpcy5leHRlbnNpb24oJ0FuaW1hdGlvbicpO1xyXG5cclxuICAgIHN0eWxlLmRlZmluZSgwLCAncmFkaXVzJywgMCxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICk7XHJcbiAgICBhbmltYXRpb24ubW9ycGgoJ3JhZGl1cycsIDAsXHJcbiAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgncmFkaXVzJykpO1xyXG4gICAgICAgICAgICAgICAgZW5kKHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHJhZGl1cyB2YWx1ZScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHN0eWxlLmRlZmluZSgwLCAnc3Ryb2tlV2lkdGgnLCAxLFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBhbmltYXRpb24ubW9ycGgoJ3N0cm9rZVdpZHRoJywgMCxcclxuICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VXaWR0aCcpKTtcclxuICAgICAgICAgICAgICAgIGVuZCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHN0eWxlLmRlZmluZSgwLCAnc3Ryb2tlQ29sb3InLCAncmdiYSgwLDAsMCwxKScsXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlQ29sb3IgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDb2xvckhlbHBlci5hcnJheVRvQ29sb3IodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZUNvbG9yIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBhbmltYXRpb24ubW9ycGgoJ3N0cm9rZUNvbG9yJywgMCxcclxuICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc3Ryb2tlQ29sb3InKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kKGNvbG9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VDb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VDb2xvcicpKTtcclxuICAgICAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlQ29sb3InKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIENvbG9ySGVscGVyLm5vcm1hbGl6ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHN0eWxlLmRlZmluZSgwLCAnc3Ryb2tlU3R5bGUnLCBbMSwgMF0sXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY1ZhbHVlKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0gPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVbaV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGUgdmFsdWUuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVN0eWxlIHZhbHVlLicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VTdHlsZSB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICk7XHJcbiAgICBhbmltYXRpb24ubW9ycGgoJ3N0cm9rZVN0eWxlJywgMCxcclxuICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VTdHlsZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlQ29sb3InKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZVswXSA8IDApIHZhbHVlWzBdID0gMDtcclxuICAgICAgICAgICAgaWYgKHZhbHVlWzFdIDwgMCkgdmFsdWVbMV0gPSAwO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJywgWyckTW9kZWxIZWxwZXInLCAnJFBhdGhIZWxwZXInLCAnRGVidWcnLCBmdW5jdGlvbiBEZWZhdWx0T2JqZWN0TW9kZWwoTW9kZWxIZWxwZXIsIFBhdGhIZWxwZXIsIERlYnVnKSB7XHJcblxyXG4gICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgYW5pbWF0aW9uID0gdGhpcy5leHRlbnNpb24oJ0FuaW1hdGlvbicpO1xyXG5cclxuICAgIHN0eWxlLmRlZmluZSgyLCAncG9zaXRpb24nLCBbMCwgMF0sXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ0ludmFsaWQgbnVtZXJpYyBhcnJheSBmb3IgcG9zaXRpb24hJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBhbmltYXRpb24ubW9ycGgoJ3Bvc2l0aW9uJywgMixcclxuICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgncG9zaXRpb24nKSk7XHJcbiAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnSW52YWxpZCB2YWx1ZSBmb3IgcG9zaXRpb24nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHN0eWxlLmRlZmluZSgwLCAncm90YXRlJywgMCxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAtMzYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSArIDM2MDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDM2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgLSAzNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICogTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSAqICgxODAgLyBNYXRoLlBJKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBhbmltYXRpb24ubW9ycGgoJ3JvdGF0ZScsIDAsXHJcbiAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgncm90YXRlJykpO1xyXG4gICAgICAgICAgICAgICAgZW5kKHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ0lzIG5vdCBhIHZhbGlkIHZhbHVlIHRvIGFuaW1hdGUgcm90YXRlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBzdHlsZS5kZWZpbmUoMCwgJ3RyYW5zbGF0ZScsIFswLCAwXSxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgRGVidWcud2FybignSW52YWxpZCBudW1lcmljIGFycmF5IGZvciB0cmFuc2xhdGUhJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSlcclxuICAgICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIGFuaW1hdGlvbi5tb3JwaCgndHJhbnNsYXRlJywgMCxcclxuICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgndHJhbnNsYXRlJykpO1xyXG4gICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ0ludmFsaWQgdmFsdWUgZm9yIHRyYW5zbGF0ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICk7XHJcblxyXG5cclxuICAgIHN0eWxlLmRlZmluZSgwLCAnb3BhY2l0eScsIDEsXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdPcGFjaXR5IHZhbHVlIGlzIG5vdCBhIG51bWJlcicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICk7XHJcbiAgICBhbmltYXRpb24ubW9ycGgoJ29wYWNpdHknLCAwLFxyXG4gICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mICB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAxKSB2YWx1ZSA9IDE7XHJcbiAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdvcGFjaXR5JykpO1xyXG4gICAgICAgICAgICAgICAgZW5kKHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ0ludmFsaWQgdmFsdWUgZm9yIHRyYW5zbGF0ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPiAxKSB2YWx1ZSA9IDE7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHN0eWxlLmRlZmluZSgwLCAnc2NhbGUnLCBbMSwgMV0sXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMCwgMF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmtub3duIHR5cGUgb2YgdmFsdWUgZm9yIHNjYWxlIScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgYW5pbWF0aW9uLm1vcnBoKCdzY2FsZScsIDAsXHJcbiAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgIHZhbHVlID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDEpIHZhbHVlID0gMTtcclxuICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3NjYWxlJykpO1xyXG4gICAgICAgICAgICAgICAgZW5kKFt2YWx1ZSwgdmFsdWVdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3NjYWxlJykpO1xyXG4gICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ0ludmFsaWQgdmFsdWUgZm9yIHNjYWxlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWVbMF0gPCAwKSB2YWx1ZVswXSA9IDA7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZVsxXSA8IDApIHZhbHVlWzFdID0gMDtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgc3R5bGUuZGVmaW5lKDAsICdza2V3JywgWzAsIDBdLFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDM2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgLSAzNjA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAtMzYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSArIDM2MDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciByYWQgPSB2YWx1ZSAqIE1hdGguUEkgLyAxODA7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codmFsdWUsIHJhZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtyYWQsIHJhZF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVbMF0gPiAzNjApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVswXSA9IHZhbHVlWzFdIC0gMzYwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlWzFdIDwgLTM2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlWzFdID0gdmFsdWVbMV0gKyAzNjA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgcmFkMSA9IHZhbHVlWzBdICogTWF0aC5QSSAvIDE4MCxcclxuICAgICAgICAgICAgICAgICAgICByYWQyID0gdmFsdWVbMV0gKiBNYXRoLlBJIC8gMTgwO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBbcmFkMSwgcmFkMl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdVYmtub3duIHZhbHVlIGZvcm1hdCBmb3Igc2tldy4gW3t2fV0nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIGFuaW1hdGlvbi5tb3JwaCgnc2tldycsIDAsXHJcbiAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgIHZhbHVlID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3NrZXcnKSk7XHJcbiAgICAgICAgICAgICAgICBlbmQoW3ZhbHVlLCB2YWx1ZV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc2tldycpKTtcclxuICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdJbnZhbGlkIHZhbHVlIGZvciBza2V3Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBzdHlsZS5kZWZpbmUoMCwgJ29yaWdpbicsIFsuNSwgLjVdLFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLCB2YWx1ZVsxXV1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1Vua25vd24gZm9ybWF0IG9mIHZhbHVlIGZvciBvcmlnaW4uIEludmFsaWQgQXJyYXkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgRGVidWcud2FybignVW5rbm93biB0eXBlIG9mIHZhbHVlIGZvciBvcmlnaW4nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgYW5pbWF0aW9uLm1vcnBoKCdvcmlnaW4nLCAwLFxyXG4gICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ29yaWdpbicpKTtcclxuICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdJbnZhbGlkIHZhbHVlIGZvciBvcmlnaW4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHN0eWxlLmRlZmluZSgyLCAnY2FwJywgJ3JvdW5kJyxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gJ3JvdW5kJyB8fCB2YWx1ZSA9PSAnYnV0dCcgfHwgdmFsdWUgPT0gJ3NxdWFyZScpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7dmFsOiB2YWx1ZX0sICd7dmFsfSBpcyBpbmNvcnJlY3QgdmFsdWUgZm9yIGxpbmUgY2FwIHByb3BlcnR5IScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdDYXAgcHJvcGVydHkgaXMgYSBzdHJpbmchJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAodGhpcy50eXBlKCkgIT09ICdHcm91cCcpIHtcclxuICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ2JsZW5kaW5nJywgJ3NvdXJjZS1vdmVyJyxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWRCbGVuZGluZyh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJyBbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJsZW5kaW5nIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICAgIHN0eWxlLmRlZmluZSgxLCAnYW5jaG9yJywgWydsZWZ0JywndG9wJ10sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5ICYmIHZhbHVlLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICh2YWx1ZVswXSA9PSAnbGVmdCcgfHwgdmFsdWVbMF0gPT0gJ2NlbnRlcicgfHwgdmFsdWVbMF0gPT0gJ3JpZ2h0JykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHZhbHVlWzFdID09ICd0b3AnIHx8IHZhbHVlWzFdID09ICdtaWRkbGUnIHx8IHZhbHVlWzFdID09ICdib3R0b20nKVxyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLHZhbHVlWzFdXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6dmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUuIEFycmF5IFtcImxlZnRcIiB8fCBcImNlbnRlclwiIHx8IFwicmlnaHRcIiAsIFwidG9wXCIgfHwgXCJtaWRkbGVcIiB8fCBcImJvdHRvbVwiIF0gaXMgcmVxdWlyZWQgZm9ybWF0LicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OnZhbHVlfSwnW3t2fV0gaXMgbm90IGEgdmFsaWQgYW5jaG9yIHZhbHVlIGZvciB0ZXh0IGVsZW1lbnQnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZVswXSx2YWx1ZVsxXV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDUvMy8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnT2JqZWN0cycsIFsnJE1vZGVsSGVscGVyJywgJyRDb2xvckhlbHBlcicsICdEZWJ1ZycsIGZ1bmN0aW9uIERlZmF1bHRGcmVlU3Ryb2tlTW9kZWwoTW9kZWxIZWxwZXIsIENvbG9ySGVscGVyLCBEZWJ1Zykge1xyXG5cclxuICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpO1xyXG5cclxuICAgIHN0eWxlLmRlZmluZSgxLCAnaW50ZXJwb2xhdGlvbicsIDAsXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA+IC40KSB2YWx1ZSA9IC40O1xyXG5cclxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHN0eWxlLmRlZmluZSgyLCAnc3Ryb2tlQ29sb3InLCBbJ3JnYmEoMCwwLDAsMSknXSxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIG1vIGNoYW5nZXMgbWFkZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgcmVwbGFjZSB3aXRoIHJnYmEoMCwwLDAsMSkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJvYmplY3RcIiB8fCB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goQ29sb3JIZWxwZXIuYXJyYXlUb0NvbG9yKHZhbHVlW2ldKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIG1vIGNoYW5nZXMgbWFkZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgcmVwbGFjZSB3aXRoIHJnYmEoMCwwLDAsMSkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIG1vIGNoYW5nZXMgbWFkZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCByZXBsYWNlIHdpdGggcmdiYSgwLDAsMCwxKSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCBtbyBjaGFuZ2VzIG1hZGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCByZXBsYWNlIHdpdGggcmdiYSgwLDAsMCwxKSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCBtbyBjaGFuZ2VzIG1hZGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIHJlcGxhY2Ugd2l0aCByZ2JhKDAsMCwwLDEpIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwib2JqZWN0XCIgfHwgdmFsdWVbaV0uY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKENvbG9ySGVscGVyLmFycmF5VG9Db2xvcih2YWx1ZVtpXSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCBtbyBjaGFuZ2VzIG1hZGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIHJlcGxhY2Ugd2l0aCByZ2JhKDAsMCwwLDEpIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCBtbyBjaGFuZ2VzIG1hZGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgcmVwbGFjZSB3aXRoIHJnYmEoMCwwLDAsMSkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgbW8gY2hhbmdlcyBtYWRlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgcmVwbGFjZSB3aXRoIHJnYmEoMCwwLDAsMSkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgRGVidWcud2FybignTGluZSBNb2RlbCAvIFdyb25nIHR5cGUgb2YgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBzdHlsZS5kZWZpbmUoMiwgJ3N0cm9rZVdpZHRoJywgWzFdLFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mICB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIG9sZCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIG51bWJlciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgbnVtYmVyIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBudW1iZXIhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBudW1iZXIhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBudW1iZXIhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZVdpZHRoIScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgc3R5bGUuZGVmaW5lKDIsICdzdHJva2VTdHlsZScsIFtbMSwgMF1dLFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VTdHlsZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZVN0eWxlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICApO1xyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTMvMjAxNy5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnLCBbJyRNb2RlbEhlbHBlcicsICckQ29sb3JIZWxwZXInLCAnRGVidWcnLCAnUmVzb3VyY2UnLCBmdW5jdGlvbiBHbG9iYWxCYWNrZ3JvdW5kTW9kZWwoTW9kZWxIZWxwZXIsIENvbG9ySGVscGVyLCBEZWJ1ZywgUmVzb3VyY2UpIHtcclxuICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgIGFuaW1hdGlvbiA9IHRoaXMuZXh0ZW5zaW9uKCdBbmltYXRpb24nKTtcclxuXHJcbiAgICBmdW5jdGlvbiBTeW5jQmdQcm9wZXJ0eShiZywgcHJvcGVydHksIGRlZikge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eVtpXSkge1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydHkucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYmcubGVuZ3RoIDwgcHJvcGVydHkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHByb3BlcnR5LnNwbGljZShiZy5sZW5ndGggLSAxLCBwcm9wZXJ0eS5sZW5ndGggLSBwYXRoLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzdHlsZS5kZWZpbmUoMCwgJ2ZpbGwnLCAncmdiYSgwLDAsMCwxKScsXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3JIZWxwZXIuYXJyYXlUb0NvbG9yKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBjb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgYW5pbWF0aW9uLm1vcnBoKCdmaWxsJywgMCxcclxuICAgICAgICBmdW5jdGlvbiAoc3RhcnQsZW5kLHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGlmKGNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnZmlsbCcpKTtcclxuICAgICAgICAgICAgICAgICAgICBlbmQoY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djp2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYXZhbGlkIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgaWYoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdmaWxsJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2IDogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgY29sb3IhJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBDb2xvckhlbHBlci5ub3JtYWxpemUodmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBzdHlsZS5kZWZpbmUoMCwgJ2JnJywgW10sXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLmlzU3ByaXRlU3RyaW5nKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gTW9kZWxIZWxwZXIucmVhZFNwcml0ZVN0cmluZyh2YWx1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlID0gUmVzb3VyY2Uuc3ByaXRlKGRhdGEudXJsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuY29uZmlnKGRhdGEuZnJhbWVzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtyZXNvdXJjZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1Jlc291cmNlLmltYWdlKHZhbHVlKV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgfHwgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMiAmJiB0eXBlb2YgdmFsdWVbMF0gPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgdmFsdWVbMV0gPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVsxXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc291cmNlID0gUmVzb3VyY2Uuc3ByaXRlKHZhbHVlWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuY29uZmlnKHZhbHVlWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtyZXNvdXJjZV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLmlzU3ByaXRlU3RyaW5nKHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gTW9kZWxIZWxwZXIucmVhZFNwcml0ZVN0cmluZyh2YWx1ZVtpXSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlID0gUmVzb3VyY2Uuc3ByaXRlKGRhdGEudXJsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuY29uZmlnKGRhdGEuZnJhbWVzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goUmVzb3VyY2UuaW1hZ2UodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJvYmplY3RcIiAmJiB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldLmxlbmd0aCA9PSAyICYmIHR5cGVvZiB2YWx1ZVtpXVswXSA9PSBcInN0cmluZ1wiICYmIHR5cGVvZiB2YWx1ZVtpXVsxXSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldWzFdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBSZXNvdXJjZS5zcHJpdGUodmFsdWVbaV1bMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5jb25maWcodmFsdWVbaV1bMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyZXNvdXJjZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsOiB2YWx1ZVtpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGk6IGlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ1t7aX1dW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBiZyB2YWx1ZS4gU2tpcHBlZC4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldLCBpOiBpfSwgJ1t7aX1dW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBiZyB2YWx1ZS4gU2tpcHBlZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvbGQgPSBzdHlsZS5nZXQoJ2JnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcIm9iamVjdFwiICYmIHZhbHVlW2ldLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldWzBdID09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHZhbHVlW2ldWzFdID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBSZXNvdXJjZS5zcHJpdGUodmFsdWVbaV1bMF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5jb25maWcodmFsdWVbaV1bMV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyZXNvdXJjZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldLCBpOiBpfSwgJ1t7aX1dW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBiZyBhcnJheSB2YWx1ZS4nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIuaXNTcHJpdGVTdHJpbmcodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBNb2RlbEhlbHBlci5yZWFkU3ByaXRlU3RyaW5nKHZhbHVlW2ldKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UgPSBSZXNvdXJjZS5zcHJpdGUoZGF0YS51cmwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5jb25maWcoZGF0YS5mcmFtZXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChSZXNvdXJjZS5pbWFnZSh2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV0sIGk6IGl9LCAnW3tpfV1be3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBiZy4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgdmFsaWQgdmFsdWUgZm9yIGJnJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldLnR5cGUgPT0gJ0ltYWdlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldLnVybCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlW2ldLnR5cGUgPT0gJ1Nwcml0ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXS51cmwoKSArICdbJyArIHZhbHVlW2ldLmZyYW1lcygpICsgJ10nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbDogdmFsdWVbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpOiBpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKyAnW3tpfV1be3ZhbH1dIFVua25vd24gdHlwZSBvZiB0aGUgYmFja2dyb3VuZCBvYmplY3QgY29udGFpbmVyLiBDcml0aWNhbCBlcnJvci4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHZhciBkZWZCZ1Bvc3ZhbCA9IFswLCAwXTtcclxuXHJcbiAgICBzdHlsZS5kZWZpbmUoMiwgJ2JnUG9zaXRpb24nLCBbZGVmQmdQb3N2YWxdLFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYmcgPSBzdHlsZS5nZXQoJ2JnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgX3JlcyA9IFt2YWx1ZVswXSwgdmFsdWVbMV1dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKF9yZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmcgPSBzdHlsZS5nZXQoJ2JnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb24gPSBzdHlsZS5nZXQoJ2JnUG9zaXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkgJiYgdmFsdWVbaV0ubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbdmFsdWVbMF0sIHZhbHVlWzFdXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmdwb3NpdGlvbltpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiZ3Bvc2l0aW9uW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkoZGVmQmdQb3N2YWwpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2k6IGksIHZhbDogdmFsdWVbaV19LCAnW3tpfV1be3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJncG9zaXRpb24gdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZ3Bvc2l0aW9uW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYmdwb3NpdGlvbltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZkJnUG9zdmFsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICBiZyA9IHN0eWxlLmdldCgnYmcnKSxcclxuICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9uID0gc3R5bGUuZ2V0KCdiZ1Bvc2l0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmdwb3NpdGlvbltpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY1ZhbHVlKCkgJiYgdmFsdWVbaV0ubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbdmFsdWVbMF0sIHZhbHVlWzFdXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiZ3Bvc2l0aW9uW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtpOiBpLCB2YWw6IHZhbHVlW2ldfSwgJ1t7aX1dW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBiZ3Bvc2l0aW9uIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZkJnUG9zdmFsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZ3Bvc2l0aW9uW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiZ3Bvc2l0aW9uW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkoZGVmQmdQb3N2YWwpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJncG9zaXRpb24gdmFsdWUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHZhciBkZWZCZ1NpemVWYWwgPSBbMSwgMV07XHJcblxyXG4gICAgc3R5bGUuZGVmaW5lKDEsICdiZ1NpemUnLCBbZGVmQmdTaXplVmFsXSxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09IDIgJiYgTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJnID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlcyA9IFt2YWx1ZVswXSwgdmFsdWVbMV1dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKF9yZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJnID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZ3NpemUgPSBzdHlsZS5nZXQoJ2JnU2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0ubGVuZ3RoID09IDIgJiYgTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXVswXSwgdmFsdWVbaV1bMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJnc2l6ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJnc2l6ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZkJnU2l6ZVZhbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXSwgaTogaX0sICdbe2l9XVt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmdzaXplIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBiZyA9IHN0eWxlLmdldCgnYmcnKSxcclxuICAgICAgICAgICAgICAgICAgICBiZ3NpemUgPSBzdHlsZS5nZXQoJ2JnU2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcIm9iamVjdFwiICYmIHZhbHVlW2ldLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0ubGVuZ3RoID09IDIgJiYgTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW3ZhbHVlW2ldWzBdLCB2YWx1ZVtpXVsxXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJnc2l6ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiZ3NpemVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheShkZWZCZ1NpemVWYWwpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXSwgaTogaX0sICdbe2l9XVt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmdzaXplIHZhbHVlLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJnc2l6ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJnc2l6ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZkJnU2l6ZVZhbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXSwgaTogaX0sICdbe2l9XVt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmdzaXplIHZhbHVlLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmdzaXplW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiZ3NpemVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheShkZWZCZ1NpemVWYWwpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICk7XHJcbiAgICBcclxuICAgIHRoaXMud2F0Y2goJ2JnJyAsIGZ1bmN0aW9uIChvLG4pIHtcclxuICAgICAgICBpZihvLmxlbmd0aCAhPT0gbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgU3luY0JnUHJvcGVydHkobiwgc3R5bGUuZ2V0KCdiZ1Bvc2l0aW9uJyksIGRlZkJnUG9zdmFsKTtcclxuICAgICAgICAgICAgU3luY0JnUHJvcGVydHkobiwgc3R5bGUuZ2V0KCdiZ1NpemUnKSwgZGVmQmdTaXplVmFsKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzgvMjAxNy5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnLFsnJE1vZGVsSGVscGVyJywgZnVuY3Rpb24gR2xvYmFsU2l6ZU1vZGVsKE1vZGVsSGVscGVyKSB7XHJcblxyXG4gICAgdmFyIGFuaW1hdGlvbiA9IHRoaXMuZXh0ZW5zaW9uKCdBbmltYXRpb24nKSxcclxuICAgICAgICBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpO1xyXG5cclxuICAgIGFuaW1hdGlvbi5tb3JwaCgnc2l6ZScgLCAxICxcclxuICAgICAgICBmdW5jdGlvbiAoc3RhcnQsZW5kLHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZih2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzaXplJykpO1xyXG4gICAgICAgICAgICAgICAgZW5kKFt2YWx1ZSx2YWx1ZV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBpZihNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZVswXSA8IDApIHZhbHVlWzBdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZVsxXSA8IDApIHZhbHVlWzFdID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc2l6ZScpKTtcclxuICAgICAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djp2YWx1ZX0sICdbe3Z9XSBpcyBub3QgdmFsaWQgdmFsdWUgZm9yIHNpemUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6dmFsdWV9LCAnW3t2fV0gaXMgbm90IHZhbGlkIHZhbHVlIGZvciBzaXplJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZih2YWx1ZVswXSA8IDApIHZhbHVlWzBdID0gMDtcclxuICAgICAgICAgICAgaWYodmFsdWVbMV0gPCAwKSB2YWx1ZVsxXSA9IDA7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHN0eWxlLmRlZmluZSgxLCAnc2l6ZScsIFswLCAwXSxcclxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlLCB2YWx1ZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMiAmJiBNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMF0gPCAwKSB2YWx1ZVswXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzFdIDwgMCkgdmFsdWVbMV0gPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLCB2YWx1ZVsxXV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IHZhbGlkIHZhbHVlIGZvciBzaXplIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgdmFsaWQgdmFsdWUgZm9yIHNpemUhJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG5cclxuJFIucGFydCgnT2JqZWN0cycsIFsnQGV4dGVuZCcsIGZ1bmN0aW9uIEdyb3VwT2JqZWN0TW9kZWwoZXh0ZW5kKSB7XHJcblxyXG4gICAgZXh0ZW5kKHRoaXMsJyREZWZhdWx0T2JqZWN0TW9kZWwnKTtcclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnT2JqZWN0cycsIFsnQGV4dGVuZCcsICdEZWJ1ZycsIGZ1bmN0aW9uIEltYWdlT2JqZWN0TW9kZWwoZXh0ZW5kLCBEZWJ1Zykge1xyXG5cclxuICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRPYmplY3RNb2RlbCcpO1xyXG4gICAgZXh0ZW5kKHRoaXMsICckR2xvYmFsU2l6ZU1vZGVsJyk7XHJcblxyXG4gICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyk7XHJcblxyXG4gICAgc3R5bGUuZGVmaW5lKDAsICdzcmMnLCBudWxsLFxyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzcmMgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICApO1xyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJywgWydAZXh0ZW5kJywgJyRNb2RlbEhlbHBlcicsICckUGF0aEhlbHBlcicsICckQ29sb3JIZWxwZXInLCAnRGVidWcnLFxyXG4gICAgZnVuY3Rpb24gTGluZU9iamVjdE1vZGVsKGV4dGVuZCwgTW9kZWxIZWxwZXIsIFBhdGhIZWxwZXIsIENvbG9ySGVscGVyLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0TW9kZWwnKTtcclxuICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0RnJlZVN0cm9rZU1vZGVsJyk7XHJcblxyXG4gICAgICAgIC8vVE9ETzogQWRkIGFuaW1hdGlvbiBtb3JwaHMhIVxyXG5cclxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gU3luY1BhdGhQcm9wZXJ0eShwYXRoLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghcHJvcGVydHlbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5wdXNoKHByb3BlcnR5W3Byb3BlcnR5Lmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0eWxlLmRlZmluZSgwLCAncGF0aCcsIFtbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF1dLFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChQYXRoSGVscGVyLmNoZWNrU2ltcGxlUGF0aCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb2xkID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFBhdGhIZWxwZXIuY29udmVydFNpbXBsZVBhdGgodmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAob2xkLmxlbmd0aCAhPT0gcmVzdWx0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTeW5jUGF0aFByb3BlcnR5KHJlc3VsdCwgc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU3luY1BhdGhQcm9wZXJ0eShyZXN1bHQsIHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFN5bmNQYXRoUHJvcGVydHkocmVzdWx0LCBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ0xpbmUgTW9kZWwgLyBJbnZhbGlkIHZhbHVlIGZvciBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUGF0aEhlbHBlci5jb252ZXJ0Q29tcGxleFBhdGgodmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMS8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnT2JqZWN0cycsIFsnQGV4dGVuZCcsICckTW9kZWxIZWxwZXInLCAnJENvbG9ySGVscGVyJywgJ0RlYnVnJyxcclxuICAgIGZ1bmN0aW9uIFJlY3RhbmdsZU9iamVjdE1vZGVsKGV4dGVuZCwgTW9kZWxIZWxwZXIsIENvbG9ySGVscGVyLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0TW9kZWwnKTtcclxuICAgICAgICBleHRlbmQodGhpcywgJyRHbG9iYWxCYWNrZ3JvdW5kTW9kZWwnKTtcclxuICAgICAgICBleHRlbmQodGhpcywgJyRHbG9iYWxTaXplTW9kZWwnKTtcclxuXHJcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbiA9IHRoaXMuZXh0ZW5zaW9uKCdBbmltYXRpb24nKTtcclxuXHJcbiAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdzdHJva2VDb2xvcicsIFsncmdiYSgwLDAsMCwxKScsICdyZ2JhKDAsMCwwLDEpJywgJ3JnYmEoMCwwLDAsMSknLCAncmdiYSgwLDAsMCwxKSddLFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsdWU6IHZhbH0sICcgW3t2YWx9IGlzIG5vdCBhIHZhbGlkIHN0cm9rZSBzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9sZCA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlIGNvbG9yIHZhbHVlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcIm9iamVjdFwiICYmIHZhbHVlW2ldLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKENvbG9ySGVscGVyLmFycmF5VG9Db2xvcih2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZSBjb2xvciB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KGkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3IgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJvYmplY3RcIiAmJiB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goQ29sb3JIZWxwZXIuYXJyYXlUb0NvbG9yKHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3IgdmFsdWUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdzdHJva2VDb2xvcicsIDAsXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKFtNb2RlbEhlbHBlci5jbG9uZUFycmF5KGNvbG9yKSwgTW9kZWxIZWxwZXIuY2xvbmVBcnJheShjb2xvciksIE1vZGVsSGVscGVyLmNsb25lQXJyYXkoY29sb3IpLCBNb2RlbEhlbHBlci5jbG9uZUFycmF5KGNvbG9yKV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VDb2xvcicpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ3t2fSBpcyBub3QgYSB2YWxpZCBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQoW01vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VDb2xvcicpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXVyZW50ID0gdGhpcy5zdHlsZSgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3V1cmVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50W2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcIm9iamVjdFwiICYmIHZhbHVlW2ldLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldICYmIENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydChjdXVyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5zdHlsZSgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VycmVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwib2JqZWN0XCIgJiYgdmFsdWVbaV0uY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KGN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VDb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIENvbG9ySGVscGVyLm5vcm1hbGl6ZSh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3N0cm9rZVdpZHRoJywgWzEsIDEsIDEsIDFdLFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnIFt7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlIHdpZHRoIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlV2lkdGgnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnIFt7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlV2lkdGggdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdzdHJva2VXaWR0aCcsIDAsXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kKFt2YWx1ZSwgdmFsdWUsIHZhbHVlLCB2YWx1ZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3N0cm9rZVdpZHRoJykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuc3R5bGUoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJlbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldICYmIHR5cGVvZiB2YWx1ZVtpXSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbmQocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydChjdXJyZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLnN0eWxlKCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSAmJiB0eXBlb2YgdmFsdWVbaV0gPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydChjdXJyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJyBbe3Z9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VXaWR0aCBvYmplY3QnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICcgW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZVdpZHRoJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3N0cm9rZVN0eWxlJywgW1sxLCAwXSwgWzEsIDBdLCBbMSwgMF0sIFsxLCAwXV0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnIFt7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2Ugd2lkdGghJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkgJiYgdmFsdWUubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWVbaV0pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnIFt7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlIHN0eWxlIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJvYmplY3RcIiAmJiB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWVbaV0pICYmIHZhbHVlW2ldLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVN0eWxlIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhdGNoKHt2YWw6IHZhbHVlW2ldfSwgJyBbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVN0eWxlIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJyBbe3ZhbH1dIGlzIG5vdCB2YWxpZCBzdHJva2VTdHlsZSB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3N0cm9rZVN0eWxlJywgMCxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZih0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodmFsdWUubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VTdHlsZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSksTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSksTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSksTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djp2YWx1ZX0sICcgW3t2fV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGUgdmFsdWUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuc3R5bGUoJ3N0cm9rZVN0eWxyJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwIDsgaSA8IGN1cnJlbnQubGVuZ3RoIDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodmFsdWVbaV0gJiYgTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWVbaV0pICYmIHZhbHVlW2ldLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWVbaV0pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydChjdXJyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6dmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGUgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLnN0eWxlKCdzdHJva2VTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMCA7IGkgPCBjdXJyZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZVtpXSAmJiBNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkgJiYgdmFsdWVbaV0ubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlW29dKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KGN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OnZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVN0eWxlVmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6dmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGVWYWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuXHJcblxyXG4gICAgfV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEzLzIwMTcuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJywgWydAZXh0ZW5kJywgJyRNb2RlbEhlbHBlcicsICdEZWJ1ZycsIGZ1bmN0aW9uIFNwcml0ZU9iamVjdE1vZGVsKGV4dGVuZCwgTW9kZWxIZWxwZXIsIERlYnVnKSB7XHJcblxyXG4gICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdE9iamVjdE1vZGVsJyk7XHJcbiAgICBleHRlbmQodGhpcywgJyRHbG9iYWxTaXplTW9kZWwnKTtcclxuXHJcbiAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKTtcclxuXHJcbiAgICBzdHlsZS5kZWZpbmUoMCwgJ3NyYycsIG51bGwsXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci5pc1Nwcml0ZVN0cmluZyh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHNwcml0ZSBzcmMnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbMF0gPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgdmFsdWVbMV0gPT0gXCJudW1iZXJcIiAmJiB2YWx1ZVsxXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVbMF0gKyAnWycgKyB2YWx1ZVsxXSArICddJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzcHJpdGUgc3JjJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHNwcml0ZSBzcmMnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICApO1xyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjUvMjAxNy5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnLCBbJ0BleHRlbmQnLCAnJE1vZGVsSGVscGVyJywgJyRDb2xvckhlbHBlcicsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dE9iamVjdE1vZGVsKGV4dGVuZCwgTW9kZWxIZWxwZXIsIENvbG9ySGVscGVyLCBEZWJ1Zykge1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0TW9kZWwnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgdGV4dCA9IHRoaXMuZXh0ZW5zaW9uKCdUZXh0JyksXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24gPSB0aGlzLmV4dGVuc2lvbignQW5pbWF0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ3NpemUnLCBbJ2F1dG8nLCAnYXV0byddLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiICYmIHZhbHVlID09ICdhdXRvJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LmxpbWl0cyhJbmZpbml0eSwgSW5maW5pdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlLCB2YWx1ZV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQubGltaXRzKHZhbHVlLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5ICYmIHZhbHVlLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWxpZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZVtpXSAhPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgdmFsdWVbaV0gIT09IFwibnVtYmVyXCIpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcInN0cmluZ1wiICYmIHZhbHVlW2ldICE9PSAnYXV0bycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlWzBdID09IFwibnVtYmVyXCIgJiYgdmFsdWVbMF0gPCAwKSB2YWx1ZVswXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlWzFdID09IFwibnVtYmVyXCIgJiYgdmFsdWVbMV0gPCAwKSB2YWx1ZVsxXSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC5saW1pdHModmFsdWVbMF0gPT09ICdhdXRvJyA/IEluZmluaXR5IDogdmFsdWVbMF0sIHZhbHVlWzFdID09PSAnYXV0bycgPyBJbmZpbml0eSA6IHZhbHVlWzFdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLCB2YWx1ZVsxXV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCBzaXplIGFycmF5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHNpemUnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZVswXSwgdmFsdWVbMV1dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdzdHInLCAnJyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdmb250JywgJ3NhbnMtc2VyaWYnLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICd3ZWlnaHQnLCA0MDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDEwMCkgdmFsdWUgPSAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDkwMCkgdmFsdWUgPSA5MDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgJSAxMDAgIT09IDApIHZhbHVlID0gdmFsdWUgLSAodmFsdWUgJSAxMDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ3N0eWxlJywgJ25vcm1hbCcsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIgJiYgKHZhbHVlID09ICdub3JtYWwnIHx8IHZhbHVlID09ICdpdGFsaWMnIHx8IHZhbHVlID09ICdvYmxpcXVlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ2xpbmVIZWlnaHQnLCAxNCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnZm9udFNpemUnLCAxNCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdjb2xvcicsICdyZ2JhKDAsMCwwLDEpJyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbG9ySGVscGVyLmFycmF5VG9Db2xvcih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdhbGlnbicsICdsZWZ0JyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlID09PSAnY2VudGVyJyB8fCB2YWx1ZSA9PT0gJ2xlZnQnIHx8IHZhbHVlID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6dmFsdWV9LCdbe3Z9XSBpcyBub3QgYSBwcm9wZXIgdmFsdWUgZm9yIGFsaW5nIHRleHQgcHJvcGVydHknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ2NvbG9yJywgMSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCxlbmQsdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ2ZpbGwnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQoY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djp2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYXZhbGlkIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnZmlsbCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3YgOiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQ29sb3JIZWxwZXIubm9ybWFsaXplKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIucGFydCgnU291bmQnLCBbJyRBbmltYXRpb25IZWxwZXInLCAnTW9ycGhpbmUnLCBmdW5jdGlvbiBBbmltYXRpb24oQW5pbWF0aW9uSGVscGVyLCBNb3JwaGluZSkge1xyXG5cclxuICAgIHZhciBwcm9ncmVzcyA9IDAsXHJcbiAgICAgICAgZHVyYXRpb24gPSBudWxsLFxyXG4gICAgICAgIGVhc2luZyA9IG51bGwsXHJcbiAgICAgICAgZG9uZSA9IGZhbHNlLFxyXG4gICAgICAgIHN0YWNrID0gbnVsbCxcclxuICAgICAgICBtb3JwaGluZSA9IG51bGwsXHJcbiAgICAgICAgdGFyZ2V0ID0gbnVsbCxcclxuICAgICAgICBzdGVwc0NiID0gbnVsbCxcclxuICAgICAgICBxdWV1ZSA9IGZhbHNlLFxyXG4gICAgICAgIGFjdGl2ZSA9IGZhbHNlLFxyXG4gICAgICAgIGNsZWFyID0gbnVsbCxcclxuICAgICAgICBzdGVwVHlwZVN0ciA9ICd0eXBlJyxcclxuICAgICAgICBjb21wbGV0ZVR5cGVTdHIgPSAnY29tcGxldGUnLFxyXG4gICAgICAgIGNvbmZpZyA9IG51bGw7XHJcblxyXG4gICAgZnVuY3Rpb24gUmVzb2x2ZSh0eXBlKSB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gc3RlcFR5cGVTdHIpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0ZXBzQ2IuaGFzT3duUHJvcGVydHkoc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGVwc0NiW3N0YWNrW2ldLm1vcnBoLnByb3BlcnR5KCldLmFwcGx5KHRhcmdldCwgW3Byb2dyZXNzLCBzdGFja1tpXS5yZXN1bHRdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlID09IGNvbXBsZXRlVHlwZVN0cikge1xyXG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0c1tzdGFja1tpXS5tb3JwaC5wcm9wZXJ0eSgpXSA9IHN0YWNrW2ldLnJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25maWcuZG9uZSgxLCByZXN1bHRzKTtcclxuICAgICAgICAgICAgY2xlYXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy50YXJnZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldFxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnF1ZXVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBxdWV1ZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5hY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGFjdGl2ZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kb25lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBkb25lO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmhhc1Byb3BlcnR5ID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IDA7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKSA9PSBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gaSArIDE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnByb3BlcnRpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFycmF5ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBhcnJheS5wdXNoKHN0YWNrW2ldLm1vcnBoLnByb3BlcnR5KCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xyXG4gICAgICAgIGlmIChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmhhc1Byb3BlcnR5KHByb3BlcnR5KTtcclxuICAgICAgICAgICAgaWYgKGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IGluZGV4IC0gMTtcclxuICAgICAgICAgICAgICAgIHN0YWNrLnNwbGljZShpbmRleCwgMSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc3RhY2sgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHZhciBfc3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbW9ycGggPSBzdGFja1tpXS5tb3JwaC5nZXQoc3RhY2tbaV0udmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1vcnBoICE9PSB1bmRlZmluZWQgJiYgbW9ycGguc3RhcnQoKSAhPT0gZmFsc2UgJiYgbW9ycGguZW5kKCkgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBfc3RhY2sucHVzaChzdGFja1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YWNrID0gX3N0YWNrO1xyXG5cclxuICAgICAgICB2YXIgdGlja19mdW5jdGlvbiA9IEFuaW1hdGlvbkhlbHBlci5nZXRUaWNrRnVuY3Rpb24oKTtcclxuXHJcbiAgICAgICAgbW9ycGhpbmUgPSBNb3JwaGluZS5jcmVhdGUoMCwgMSwgZnVuY3Rpb24gKGNvbXBsZXRlLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoc3RhY2subGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgIFJlc29sdmUoY29tcGxldGVUeXBlU3RyKTtcclxuICAgICAgICAgICAgICAgIG1vcnBoaW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFja1tpXS5yZXN1bHQgPSB0aWNrX2Z1bmN0aW9uKHZhbHVlLCBzdGFja1tpXS5tb3JwaC5zdGFydCgpLCBzdGFja1tpXS5tb3JwaC5lbmQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhY2tbaV0ubW9ycGguYXBwbHkoY29tcGxldGUsIHN0YWNrW2ldLnJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgUmVzb2x2ZShzdGVwVHlwZVN0cik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBSZXNvbHZlKGNvbXBsZXRlVHlwZVN0cik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZWFzaW5nLCBkdXJhdGlvbiwgMCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKHQsIG0sIGNmZywgZikge1xyXG4gICAgICAgIEFuaW1hdGlvbkhlbHBlci5ub3JtYWxpemVDb25maWcoY2ZnKTtcclxuXHJcbiAgICAgICAgZHVyYXRpb24gPSBjZmcuZHVyYXRpb247XHJcblxyXG4gICAgICAgIGVhc2luZyA9IGNmZy5lYXNpbmc7XHJcblxyXG4gICAgICAgIHN0ZXBzQ2IgPSBjZmcuc3RlcDtcclxuXHJcbiAgICAgICAgcXVldWUgPSBjZmcucXVldWU7XHJcblxyXG4gICAgICAgIGNsZWFyID0gZjtcclxuXHJcbiAgICAgICAgc3RhY2sgPSBtO1xyXG5cclxuICAgICAgICB0YXJnZXQgPSB0O1xyXG5cclxuICAgICAgICBjb25maWcgPSBjZmc7XHJcbiAgICB9XHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnBhcnQoJ1NvdW5kJywgZnVuY3Rpb24gQW5pbWF0aW9uSGVscGVyICgpIHtcclxuXHJcbiAgICBmdW5jdGlvbiBUaWNrVmFsKGNvbXBsZXRlLCBzdGFydCwgZW5kKSB7XHJcbiAgICAgICAgdmFyIGxvY3MgPSBmYWxzZSwgbG9jZSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0eXBlb2Ygc3RhcnQgPT0gXCJmdW5jdGlvblwiKSBsb2NzID0gc3RhcnQoKTtcclxuICAgICAgICBpZiAodHlwZW9mIGVuZCA9PSBcImZ1bmN0aW9uXCIpIGxvY2UgPSBlbmQoKTtcclxuXHJcbiAgICAgICAgaWYgKHN0YXJ0LmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhcnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFRpY2tWYWwoY29tcGxldGUsIHN0YXJ0W2ldLCBlbmRbaV0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc3RhcnQgPT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRbcHJvcF0gPSBUaWNrVmFsKGNvbXBsZXRlLCBzdGFydFtwcm9wXSwgZW5kW3Byb3BdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc3RhcnQgPT0gJ251bWJlcicgfHwgdHlwZW9mIHN0YXJ0ID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgdmFyIGVuZHZhbCAgICAgPSBsb2NlID09PSBmYWxzZSA/IGVuZCA6IGxvY2U7XHJcbiAgICAgICAgICAgIHZhciBzdGFydHZhbCAgID0gbG9jcyA9PT0gZmFsc2UgPyBzdGFydCA6IGxvY3M7XHJcbiAgICAgICAgICAgIHZhciBkaWZmZXJlbmNlID0gZW5kdmFsIC0gc3RhcnR2YWw7XHJcbiAgICAgICAgICAgIGlmIChjb21wbGV0ZSA+PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBlbmR2YWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gc3RhcnR2YWwgKyAoZGlmZmVyZW5jZSAqIGNvbXBsZXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5ub3JtYWxpemVDb25maWcgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICBjb25maWcuZHVyYXRpb24gPSB0eXBlb2YgY29uZmlnLmR1cmF0aW9uID09IFwibnVtYmVyXCIgJiYgY29uZmlnLmR1cmF0aW9uID4gMCA/IGNvbmZpZy5kdXJhdGlvbiA6IDEwMDA7XHJcbiAgICAgICAgY29uZmlnLnF1ZXVlICAgID0gISFjb25maWcucXVldWU7XHJcbiAgICAgICAgY29uZmlnLnN0ZXAgICAgID0gdHlwZW9mIGNvbmZpZy5zdGVwID09IFwib2JqZWN0XCIgPyBjb25maWcuc3RlcCA6IHt9O1xyXG4gICAgICAgIGNvbmZpZy5lYXNpbmcgICA9IHR5cGVvZiBjb25maWcuZWFzaW5nID09ICdzdHJpbmcnID8gY29uZmlnLmVhc2luZyA6ICdsaW5lYXInO1xyXG4gICAgICAgIGNvbmZpZy5kb25lICAgICA9IHR5cGVvZiBjb25maWcuZG9uZSA9PT0gXCJmdW5jdGlvblwiID8gY29uZmlnLmRvbmUgOiBmdW5jdGlvbiAoKSB7fTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5nZXRUaWNrRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIFRpY2tWYWw7XHJcbiAgICB9O1xyXG5cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5wYXJ0KCdTb3VuZCcsIFsnRGVidWcnLCBmdW5jdGlvbiBNb3JwaChEZWJ1Zykge1xyXG5cclxuICAgIHZhciBwcm9wZXJ0eSA9IG51bGwsXHJcbiAgICAgICAgc2V0dGVyID0gbnVsbCxcclxuICAgICAgICBnZXR0ZXIgPSBudWxsLFxyXG4gICAgICAgIGFwcGxpZXIgPSBudWxsLFxyXG4gICAgICAgIHN0YXJ0LCBlbmQsXHJcbiAgICAgICAgb2JqZWN0ID0gbnVsbCxcclxuICAgICAgICB2YWxpZCA9IGZhbHNlLFxyXG4gICAgICAgIG9yZGVyaW5nID0gMDtcclxuXHJcbiAgICBmdW5jdGlvbiBTZXRTdGFydFZhbHVlKHZhbCkge1xyXG4gICAgICAgIHN0YXJ0ID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIFNldEVuZFZhbHVlKHZhbCkge1xyXG4gICAgICAgIGVuZCA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBzdGFydDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5lbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGVuZDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5wcm9wZXJ0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gcHJvcGVydHk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMub3JkZXJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG9yZGVyaW5nO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHNldHRlci5hcHBseShvYmplY3QsIFtTZXRTdGFydFZhbHVlLCBTZXRFbmRWYWx1ZSwgdmFsdWVdKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy52YWxpZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdmFsaWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuYXBwbHkgPSBmdW5jdGlvbiAocHJvZ3Jlc3MsIHZhbHVlKSB7XHJcbiAgICAgICAgb2JqZWN0LmZpbHRlcihwcm9wZXJ0eSwgYXBwbGllci5hcHBseShvYmplY3QsIFt2YWx1ZSwgcHJvZ3Jlc3NdKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKG5hbWUsIG9iaiwgb3JkICwgc2V0LCBhcGwpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnMSBbe25hbWV9XSBpcyBub3QgYSBzdHJpbmchJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnMyBpcyBub3QgYW4gb2JqZWN0IScpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2Ygc2V0ICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnNCBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG9yZCAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmcyIGlzIG5vdCBhIG51bWJlciEnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGFwbCAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ1VuYWJsZSB0byBjb25maWcgTW9ycGguIGFyZzUgaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3BlcnR5ID0gbmFtZTtcclxuICAgICAgICBzZXR0ZXIgPSBzZXQ7XHJcbiAgICAgICAgYXBwbGllciA9IGFwbDtcclxuICAgICAgICBvcmRlcmluZyA9IG9yZDtcclxuICAgICAgICBvYmplY3QgPSBvYmo7XHJcblxyXG4gICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnLCBbJyRBbmltYXRpb25IZWxwZXInLCAnTW9ycGhpbmUnLCBmdW5jdGlvbiBBbmltYXRpb24oQW5pbWF0aW9uSGVscGVyLCBNb3JwaGluZSkge1xyXG5cclxuICAgIHZhciBwcm9ncmVzcyA9IDAsXHJcbiAgICAgICAgZHVyYXRpb24gPSBudWxsLFxyXG4gICAgICAgIGVhc2luZyA9IG51bGwsXHJcbiAgICAgICAgZG9uZSA9IGZhbHNlLFxyXG4gICAgICAgIHN0YWNrID0gbnVsbCxcclxuICAgICAgICBtb3JwaGluZSA9IG51bGwsXHJcbiAgICAgICAgdGFyZ2V0ID0gbnVsbCxcclxuICAgICAgICBzdGVwc0NiID0gbnVsbCxcclxuICAgICAgICBxdWV1ZSA9IGZhbHNlLFxyXG4gICAgICAgIGFjdGl2ZSA9IGZhbHNlLFxyXG4gICAgICAgIGNsZWFyID0gbnVsbCxcclxuICAgICAgICBzdGVwVHlwZVN0ciA9ICd0eXBlJyxcclxuICAgICAgICBjb21wbGV0ZVR5cGVTdHIgPSAnY29tcGxldGUnLFxyXG4gICAgICAgIGNvbmZpZyA9IG51bGw7XHJcblxyXG4gICAgZnVuY3Rpb24gUmVzb2x2ZSh0eXBlKSB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gc3RlcFR5cGVTdHIpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0ZXBzQ2IuaGFzT3duUHJvcGVydHkoc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGVwc0NiW3N0YWNrW2ldLm1vcnBoLnByb3BlcnR5KCldLmFwcGx5KHRhcmdldCwgW3Byb2dyZXNzLCBzdGFja1tpXS5yZXN1bHRdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlID09IGNvbXBsZXRlVHlwZVN0cikge1xyXG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0c1tzdGFja1tpXS5tb3JwaC5wcm9wZXJ0eSgpXSA9IHN0YWNrW2ldLnJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25maWcuZG9uZSgxLCByZXN1bHRzKTtcclxuICAgICAgICAgICAgY2xlYXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy50YXJnZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldFxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnF1ZXVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBxdWV1ZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5hY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGFjdGl2ZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kb25lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBkb25lO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmhhc1Byb3BlcnR5ID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IDA7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKSA9PSBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gaSArIDE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnByb3BlcnRpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFycmF5ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBhcnJheS5wdXNoKHN0YWNrW2ldLm1vcnBoLnByb3BlcnR5KCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xyXG4gICAgICAgIGlmIChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmhhc1Byb3BlcnR5KHByb3BlcnR5KTtcclxuICAgICAgICAgICAgaWYgKGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IGluZGV4IC0gMTtcclxuICAgICAgICAgICAgICAgIHN0YWNrLnNwbGljZShpbmRleCwgMSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc3RhY2sgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHZhciBfc3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbW9ycGggPSBzdGFja1tpXS5tb3JwaC5nZXQoc3RhY2tbaV0udmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1vcnBoICE9PSB1bmRlZmluZWQgJiYgbW9ycGguc3RhcnQoKSAhPT0gZmFsc2UgJiYgbW9ycGguZW5kKCkgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBfc3RhY2sucHVzaChzdGFja1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YWNrID0gX3N0YWNrO1xyXG5cclxuICAgICAgICB2YXIgdGlja19mdW5jdGlvbiA9IEFuaW1hdGlvbkhlbHBlci5nZXRUaWNrRnVuY3Rpb24oKTtcclxuXHJcbiAgICAgICAgbW9ycGhpbmUgPSBNb3JwaGluZS5jcmVhdGUoMCwgMSwgZnVuY3Rpb24gKGNvbXBsZXRlLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoc3RhY2subGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgIFJlc29sdmUoY29tcGxldGVUeXBlU3RyKTtcclxuICAgICAgICAgICAgICAgIG1vcnBoaW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFja1tpXS5yZXN1bHQgPSB0aWNrX2Z1bmN0aW9uKHZhbHVlLCBzdGFja1tpXS5tb3JwaC5zdGFydCgpLCBzdGFja1tpXS5tb3JwaC5lbmQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhY2tbaV0ubW9ycGguYXBwbHkoY29tcGxldGUsIHN0YWNrW2ldLnJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgUmVzb2x2ZShzdGVwVHlwZVN0cik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBSZXNvbHZlKGNvbXBsZXRlVHlwZVN0cik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZWFzaW5nLCBkdXJhdGlvbiwgMCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKHQsIG0sIGNmZywgZikge1xyXG4gICAgICAgIEFuaW1hdGlvbkhlbHBlci5ub3JtYWxpemVDb25maWcoY2ZnKTtcclxuXHJcbiAgICAgICAgZHVyYXRpb24gPSBjZmcuZHVyYXRpb247XHJcblxyXG4gICAgICAgIGVhc2luZyA9IGNmZy5lYXNpbmc7XHJcblxyXG4gICAgICAgIHN0ZXBzQ2IgPSBjZmcuc3RlcDtcclxuXHJcbiAgICAgICAgcXVldWUgPSBjZmcucXVldWU7XHJcblxyXG4gICAgICAgIGNsZWFyID0gZjtcclxuXHJcbiAgICAgICAgc3RhY2sgPSBtO1xyXG5cclxuICAgICAgICB0YXJnZXQgPSB0O1xyXG5cclxuICAgICAgICBjb25maWcgPSBjZmc7XHJcbiAgICB9XHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnLCBmdW5jdGlvbiBBbmltYXRpb25IZWxwZXIgKCkge1xyXG5cclxuICAgIGZ1bmN0aW9uIFRpY2tWYWwoY29tcGxldGUsIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICB2YXIgbG9jcyA9IGZhbHNlLCBsb2NlID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBzdGFydCA9PSBcImZ1bmN0aW9uXCIpIGxvY3MgPSBzdGFydCgpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgZW5kID09IFwiZnVuY3Rpb25cIikgbG9jZSA9IGVuZCgpO1xyXG5cclxuICAgICAgICBpZiAoc3RhcnQuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFydC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goVGlja1ZhbChjb21wbGV0ZSwgc3RhcnRbaV0sIGVuZFtpXSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBzdGFydCA9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gc3RhcnQpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtwcm9wXSA9IFRpY2tWYWwoY29tcGxldGUsIHN0YXJ0W3Byb3BdLCBlbmRbcHJvcF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBzdGFydCA9PSAnbnVtYmVyJyB8fCB0eXBlb2Ygc3RhcnQgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICB2YXIgZW5kdmFsICAgICA9IGxvY2UgPT09IGZhbHNlID8gZW5kIDogbG9jZTtcclxuICAgICAgICAgICAgdmFyIHN0YXJ0dmFsICAgPSBsb2NzID09PSBmYWxzZSA/IHN0YXJ0IDogbG9jcztcclxuICAgICAgICAgICAgdmFyIGRpZmZlcmVuY2UgPSBlbmR2YWwgLSBzdGFydHZhbDtcclxuICAgICAgICAgICAgaWYgKGNvbXBsZXRlID49IDEpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGVuZHZhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBzdGFydHZhbCArIChkaWZmZXJlbmNlICogY29tcGxldGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm5vcm1hbGl6ZUNvbmZpZyA9IGZ1bmN0aW9uKGNvbmZpZykge1xyXG4gICAgICAgIGNvbmZpZy5kdXJhdGlvbiA9IHR5cGVvZiBjb25maWcuZHVyYXRpb24gPT0gXCJudW1iZXJcIiAmJiBjb25maWcuZHVyYXRpb24gPiAwID8gY29uZmlnLmR1cmF0aW9uIDogMTAwMDtcclxuICAgICAgICBjb25maWcucXVldWUgICAgPSAhIWNvbmZpZy5xdWV1ZTtcclxuICAgICAgICBjb25maWcuc3RlcCAgICAgPSB0eXBlb2YgY29uZmlnLnN0ZXAgPT0gXCJvYmplY3RcIiA/IGNvbmZpZy5zdGVwIDoge307XHJcbiAgICAgICAgY29uZmlnLmVhc2luZyAgID0gdHlwZW9mIGNvbmZpZy5lYXNpbmcgPT0gJ3N0cmluZycgPyBjb25maWcuZWFzaW5nIDogJ2xpbmVhcic7XHJcbiAgICAgICAgY29uZmlnLmRvbmUgICAgID0gdHlwZW9mIGNvbmZpZy5kb25lID09PSBcImZ1bmN0aW9uXCIgPyBjb25maWcuZG9uZSA6IGZ1bmN0aW9uICgpIHt9O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldFRpY2tGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gVGlja1ZhbDtcclxuICAgIH07XHJcblxyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnLCBbJ0RlYnVnJywgZnVuY3Rpb24gTW9ycGgoRGVidWcpIHtcclxuXHJcbiAgICB2YXIgcHJvcGVydHkgPSBudWxsLFxyXG4gICAgICAgIHNldHRlciA9IG51bGwsXHJcbiAgICAgICAgZ2V0dGVyID0gbnVsbCxcclxuICAgICAgICBhcHBsaWVyID0gbnVsbCxcclxuICAgICAgICBzdGFydCwgZW5kLFxyXG4gICAgICAgIG9iamVjdCA9IG51bGwsXHJcbiAgICAgICAgdmFsaWQgPSBmYWxzZSxcclxuICAgICAgICBvcmRlcmluZyA9IDA7XHJcblxyXG4gICAgZnVuY3Rpb24gU2V0U3RhcnRWYWx1ZSh2YWwpIHtcclxuICAgICAgICBzdGFydCA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBTZXRFbmRWYWx1ZSh2YWwpIHtcclxuICAgICAgICBlbmQgPSB2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gc3RhcnQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBlbmQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucHJvcGVydHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLm9yZGVyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBvcmRlcmluZztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBzZXR0ZXIuYXBwbHkob2JqZWN0LCBbU2V0U3RhcnRWYWx1ZSwgU2V0RW5kVmFsdWUsIHZhbHVlXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudmFsaWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbGlkO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmFwcGx5ID0gZnVuY3Rpb24gKHByb2dyZXNzLCB2YWx1ZSkge1xyXG4gICAgICAgIG9iamVjdC5zdHlsZShwcm9wZXJ0eSwgYXBwbGllci5hcHBseShvYmplY3QsIFt2YWx1ZSwgcHJvZ3Jlc3NdKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKG5hbWUsIG9iaiwgb3JkICwgc2V0LCBhcGwpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnMSBbe25hbWV9XSBpcyBub3QgYSBzdHJpbmchJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnMyBpcyBub3QgYW4gb2JqZWN0IScpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2Ygc2V0ICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnNCBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG9yZCAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmcyIGlzIG5vdCBhIG51bWJlciEnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGFwbCAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ1VuYWJsZSB0byBjb25maWcgTW9ycGguIGFyZzUgaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3BlcnR5ID0gbmFtZTtcclxuICAgICAgICBzZXR0ZXIgPSBzZXQ7XHJcbiAgICAgICAgYXBwbGllciA9IGFwbDtcclxuICAgICAgICBvcmRlcmluZyA9IG9yZDtcclxuICAgICAgICBvYmplY3QgPSBvYmo7XHJcblxyXG4gICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMi83LzIwMTcuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJywgZnVuY3Rpb24gR3JhcGhpY3NCb3goKSB7XHJcblxyXG4gICAgdmFyIGNvbnRhaW5lciA9IHtcclxuICAgICAgICAgICAgc2l6ZTogWzAsIDBdLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogWzAsIDBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzcHJpdGUgPSB7XHJcbiAgICAgICAgICAgIG1hcmdpbjogWzAsIDAsIDAsIDBdLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogWzAsIDBdLFxyXG4gICAgICAgICAgICBzaXplOiBbMCwgMF1cclxuICAgICAgICB9O1xyXG5cclxuICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHNpemU6IFtjb250YWluZXIuc2l6ZVswXSwgY29udGFpbmVyLnNpemVbMV1dLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogW2NvbnRhaW5lci5wb3NpdGlvblswXSwgY29udGFpbmVyLnBvc2l0aW9uWzFdXVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zZXQgPSBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0KSB7XHJcbiAgICAgICAgY29udGFpbmVyLnNpemVbMF0gPSB3aWR0aDtcclxuICAgICAgICBjb250YWluZXIuc2l6ZVsxXSA9IGhlaWdodDtcclxuICAgICAgICBjb250YWluZXIucG9zaXRpb25bMF0gPSB4O1xyXG4gICAgICAgIGNvbnRhaW5lci5wb3NpdGlvblsxXSA9IHk7XHJcbiAgICAgICAgc3ByaXRlLm1hcmdpblswXSA9IHRvcDtcclxuICAgICAgICBzcHJpdGUubWFyZ2luWzFdID0gcmlnaHQ7XHJcbiAgICAgICAgc3ByaXRlLm1hcmdpblsyXSA9IGJvdHRvbTtcclxuICAgICAgICBzcHJpdGUubWFyZ2luWzNdID0gbGVmdDtcclxuICAgICAgICBzcHJpdGUuc2l6ZVswXSA9IGxlZnQgKyB3aWR0aCArIHJpZ2h0O1xyXG4gICAgICAgIHNwcml0ZS5zaXplWzFdID0gdG9wICsgaGVpZ2h0ICsgYm90dG9tO1xyXG4gICAgICAgIHNwcml0ZS5wb3NpdGlvblswXSA9IHggLSBsZWZ0O1xyXG4gICAgICAgIHNwcml0ZS5wb3NpdGlvblsxXSA9IHkgLSB0b3A7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudmFsdWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgIH07XHJcbiAgICB0aGlzLnNwcml0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gc3ByaXRlO1xyXG4gICAgfTtcclxuXHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzIvMjAxNy5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnLCBbJ0NhbnZhcycsICdAYXBwJywgJyRNb3VzZU9iamVjdEZpbmRlcicsIGZ1bmN0aW9uIE1vdXNlRXZlbnREaXNwYXRjaGVyKENhbnZhcywgYXBwLCBGaW5kZXIpIHtcclxuICAgIHZhciB0YXJnZXQgPSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQ6IG51bGwsXHJcbiAgICAgICAgICAgIHByZXZpb3VzOiBudWxsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBtb3VzZWRvd24gPSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBwcmV2aW91czogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgIGN1cnNvciA9IHtcclxuICAgICAgICAgICAgb2xkOiBbMCwgMF0sXHJcbiAgICAgICAgICAgIGN1cnJlbnQ6IFswLCAwXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZHJhZyA9IHtcclxuICAgICAgICAgICAgc3RhcnQ6IFswLCAwXSxcclxuICAgICAgICAgICAgY3VycmVudDogWzAsIDBdLFxyXG4gICAgICAgICAgICBkZWx0YTogWzAsIDBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjaGVja2VkID0gdHJ1ZSxcclxuICAgICAgICBhY3RpdmUgPSBmYWxzZSxcclxuICAgICAgICBmb2N1c2VkID0gZmFsc2U7XHJcblxyXG4gICAgQ2FudmFzLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCFhY3RpdmUgfHwgIWZvY3VzZWQpIHJldHVybjtcclxuICAgICAgICBtb3VzZWRvd24ucHJldmlvdXMgPSBtb3VzZWRvd24uY3VycmVudDtcclxuICAgICAgICBtb3VzZWRvd24uY3VycmVudCA9IHRydWU7XHJcbiAgICAgICAgY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgfSk7XHJcbiAgICBDYW52YXMub24oJ21vdXNldXAnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCFhY3RpdmUgfHwgIWZvY3VzZWQpIHJldHVybjtcclxuICAgICAgICBtb3VzZWRvd24ucHJldmlvdXMgPSBtb3VzZWRvd24uY3VycmVudDtcclxuICAgICAgICBtb3VzZWRvd24uY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICAgIGNoZWNrZWQgPSBmYWxzZTtcclxuICAgIH0pO1xyXG4gICAgQ2FudmFzLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmICghYWN0aXZlIHx8ICFmb2N1c2VkKSByZXR1cm47XHJcbiAgICAgICAgY3Vyc29yLmN1cnJlbnRbMF0gPSBlLm1vdXNlLnBvc2l0aW9uWzBdO1xyXG4gICAgICAgIGN1cnNvci5jdXJyZW50WzFdID0gZS5tb3VzZS5wb3NpdGlvblsxXTtcclxuICAgICAgICBjaGVja2VkID0gZmFsc2U7XHJcbiAgICB9KTtcclxuXHJcbiAgICBDYW52YXMub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZm9jdXNlZCA9IGZhbHNlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgQ2FudmFzLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZvY3VzZWQgPSB0cnVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gRGVmYXVsdFJFdmVudCh0eXBlLCB0YXJnZXQpIHtcclxuICAgICAgICB2YXIgX3R5cGUgPSB0eXBlLCBwcm9wYWdhdGUgPSB0cnVlLCBfdGFyZ2V0ID0gdGFyZ2V0LCBfb3JpZ2luYWxUYXJnZXQgPSB0YXJnZXQ7XHJcbiAgICAgICAgdGhpcy50eXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX3R5cGU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHByb3BhZ2F0ZSA9IGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5wcm9wYWdhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9wYWdhdGU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90YXJnZXQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnByb3BhZ2F0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90YXJnZXQuJCRQUk9QQUdBVElPTlNFQVJDSCA9IHRydWU7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBfb3JpZ2luYWxUYXJnZXQuJCRQUk9QQUdBVElPTlNFQVJDSDtcclxuICAgICAgICAgICAgZGVsZXRlIF90YXJnZXQuJCRQUk9QQUdBVElPTlNFQVJDSDtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCA/IHJlc3VsdCA6IGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbFRhcmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuJCRNT1VTRVBST1BBR0FUSU9OU0VUVEVSKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBnZXRFdmVudEJ5VHlwZShfdHlwZSwgX3RhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5vcmlnaW5hbFRhcmdldC5jYWxsKHskJFJFU0VUVEFSR0VUOiB0aGlzLiQkTU9VU0VQUk9QQUdBVElPTlNFVFRFUn0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLiQkUkVTRVRUQVJHRVQpIHtcclxuICAgICAgICAgICAgICAgIF90YXJnZXQgPSB0aGlzLiQkUkVTRVRUQVJHRVQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIF9vcmlnaW5hbFRhcmdldDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gTW91c2VFdmVudCh0eXBlLCB0YXJnZXQpIHtcclxuICAgICAgICBEZWZhdWx0UkV2ZW50LmFwcGx5KHRoaXMsIFt0eXBlLCB0YXJnZXRdKTtcclxuICAgICAgICB0aGlzLmN1cnNvciA9IFtjdXJzb3IuY3VycmVudFswXSwgY3Vyc29yLmN1cnJlbnRbMV1dO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIERyYWdFdmVudCh0eXBlLCB0YXJnZXQpIHtcclxuICAgICAgICBEZWZhdWx0UkV2ZW50LmFwcGx5KHRoaXMsIFt0eXBlLCB0YXJnZXRdKTtcclxuICAgICAgICB0aGlzLmRyYWcgPSB7XHJcbiAgICAgICAgICAgIHN0YXJ0OiBbZHJhZy5zdGFydFswXSwgZHJhZy5zdGFydFsxXV0sXHJcbiAgICAgICAgICAgIGN1cnJlbnQ6IFtkcmFnLmN1cnJlbnRbMF0sIGRyYWcuY3VycmVudFsxXV0sXHJcbiAgICAgICAgICAgIGRlbHRhOiBbZHJhZy5kZWx0YVswXSwgZHJhZy5kZWx0YVsxXV1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEV2ZW50QnlUeXBlKHR5cGUsIHRhcmdldCkge1xyXG4gICAgICAgIGlmICh0eXBlID09ICdtb3VzZW1vdmUnIHx8IHR5cGUgPT0gJ21vdXNlbGVhdmUnXHJcbiAgICAgICAgICAgIHx8IHR5cGUgPT0gJ21vdXNlZW50ZXInIHx8IHR5cGUgPT0gJ21vdXNlZG93bidcclxuICAgICAgICAgICAgfHwgdHlwZSA9PSAnbW91c2V1cCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBNb3VzZUV2ZW50KHR5cGUsIHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlID09ICdkcmFnc3RhcnQnIHx8IHR5cGUgPT0gJ2RyYWdlbmQnIHx8IHR5cGUgPT0gJ2RyYWdtb3ZlJykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERyYWdFdmVudCh0eXBlLCB0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBEaXNwYXRjaChldmVudCwgdGFyZ2V0KSB7XHJcblxyXG4gICAgICAgIHZhciB0YXJnZXRNb3VzZSA9IHRhcmdldC5leHRlbnNpb24oJ01vdXNlJyk7XHJcblxyXG4gICAgICAgIGlmICghdGFyZ2V0TW91c2UpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRhcmdldE1vdXNlLmhhc0V2ZW50KGV2ZW50KSkge1xyXG4gICAgICAgICAgICB0YXJnZXRNb3VzZS5yZXNvbHZlKHRhcmdldCwgZXZlbnQsIGdldEV2ZW50QnlUeXBlKGV2ZW50KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc29sdmVFdmVudEJ5VHlwZSh0eXBlKSB7XHJcbiAgICAgICAgaWYgKCh0eXBlID09ICdtb3VzZWVudGVyJyB8fCB0eXBlID09ICdkcmFzdGFydCcgfHwgdHlwZSA9PSAnZHJhZ2VuZCcgfHwgdHlwZSA9PSAnZHJhZ21vdmUnIHx8XHJcbiAgICAgICAgICAgIHR5cGUgPT0gJ21vdXNlbW92ZScgfHwgdHlwZSA9PSAnbW91c2V1cCcgfHwgdHlwZSA9PSAnbW91c2Vkb3duJykgJiYgdGFyZ2V0LmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgRGlzcGF0Y2godHlwZSwgdGFyZ2V0LmN1cnJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZSA9PSAnbW91c2VsZWF2ZScgJiYgdGFyZ2V0LnByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgIERpc3BhdGNoKHR5cGUsIHRhcmdldC5wcmV2aW91cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIERpc3BhdGNoRXZlbnRzKCkge1xyXG4gICAgICAgIGlmIChtb3VzZWRvd24uY3VycmVudCAhPT0gbW91c2Vkb3duLm9sZCAmJiBtb3VzZWRvd24uY3VycmVudCkge1xyXG4gICAgICAgICAgICByZXNvbHZlRXZlbnRCeVR5cGUoJ21vdXNlZG93bicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGN1cnNvci5vbGRbMF0gIT09IGN1cnNvci5jdXJyZW50WzBdIHx8IGN1cnNvci5vbGRbMV0gIT09IGN1cnNvci5jdXJyZW50WzFdKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0LmN1cnJlbnQgJiYgIXRhcmdldC5wcmV2aW91cykge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdtb3VzZWVudGVyJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIXRhcmdldC5jdXJyZW50ICYmIHRhcmdldC5wcmV2aW91cykge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdtb3VzZWxlYXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGFyZ2V0LmN1cnJlbnQgJiYgdGFyZ2V0LnByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuY3VycmVudC4kJE1PVVNFU0VBUkNIID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldC5wcmV2aW91cy4kJE1PVVNFU0VBUkNIKSByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRhcmdldC5jdXJyZW50LiQkTU9VU0VTRUFSQ0g7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnbW91c2VsZWF2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnbW91c2VlbnRlcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobW91c2Vkb3duLmN1cnJlbnQgJiYgbW91c2Vkb3duLmN1cnJlbnQgIT09IG1vdXNlZG93bi5vbGQpIHtcclxuICAgICAgICAgICAgICAgIGRyYWcuc3RhcnRbMF0gPSBjdXJzb3JbMF07XHJcbiAgICAgICAgICAgICAgICBkcmFnLnN0YXJ0WzFdID0gY3Vyc29yWzFdO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdkcmFnc3RhcnQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChtb3VzZWRvd24uY3VycmVudCAmJiBtb3VzZWRvd24uY3VycmVudCA9PSBtb3VzZWRvd24ub2xkKSB7XHJcbiAgICAgICAgICAgICAgICBkcmFnLmN1cnJlbnRbMF0gPSBjdXJzb3JbMF07XHJcbiAgICAgICAgICAgICAgICBkcmFnLmN1cnJlbnRbMV0gPSBjdXJzb3JbMV07XHJcbiAgICAgICAgICAgICAgICBkcmFnLmRlbHRhWzBdID0gZHJhZy5zdGFydFswXSAtIGRyYWcuY3VycmVudFswXTtcclxuICAgICAgICAgICAgICAgIGRyYWcuZGVsdGFbMV0gPSBkcmFnLnN0YXJ0WzFdIC0gZHJhZy5jdXJyZW50WzFdO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdkcmFnbW92ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFtb3VzZWRvd24uY3VycmVudCAmJiBtb3VzZWRvd24uY3VycmVudCAhPT0gbW91c2Vkb3duLm9sZCkge1xyXG4gICAgICAgICAgICAgICAgZHJhZy5jdXJyZW50WzBdID0gY3Vyc29yWzBdO1xyXG4gICAgICAgICAgICAgICAgZHJhZy5jdXJyZW50WzFdID0gY3Vyc29yWzFdO1xyXG4gICAgICAgICAgICAgICAgZHJhZy5kZWx0YVswXSA9IGRyYWcuc3RhcnRbMF0gLSBkcmFnLmN1cnJlbnRbMF07XHJcbiAgICAgICAgICAgICAgICBkcmFnLmRlbHRhWzFdID0gZHJhZy5zdGFydFsxXSAtIGRyYWcuY3VycmVudFsxXTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnZHJhZ2VuZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFtb3VzZWRvd24uY3VycmVudCAmJiBtb3VzZWRvd24uY3VycmVudCA9PSBtb3VzZWRvd24ub2xkKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRCeVR5cGUoJ21vdXNlbW92ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobW91c2Vkb3duLmN1cnJlbnQgIT09IG1vdXNlZG93bi5vbGQgJiYgIW1vdXNlZG93bi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnbW91c2V1cCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGFyZ2V0LnByZXZpb3VzID0gdGFyZ2V0LmN1cnJlbnQ7XHJcbiAgICAgICAgbW91c2Vkb3duLm9sZCA9IG1vdXNlZG93bi5jdXJyZW50O1xyXG4gICAgICAgIGN1cnNvci5vbGRbMF0gPSBjdXJzb3IuY3VycmVudFswXTtcclxuICAgICAgICBjdXJzb3Iub2xkWzFdID0gY3Vyc29yLmN1cnJlbnRbMV07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gVXBkYXRlVGFyZ2V0cygpIHtcclxuICAgICAgICB0YXJnZXQucHJldmlvdXMgPSB0YXJnZXQuY3VycmVudDtcclxuICAgICAgICB0YXJnZXQuY3VycmVudCA9IEZpbmRlci5jaGVjayhjdXJzb3IuY3VycmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRpY2sgPSBmYWxzZTtcclxuXHJcbiAgICBmdW5jdGlvbiBvbkFwcFRpY2soKSB7XHJcbiAgICAgICAgdGljayA9ICF0aWNrO1xyXG4gICAgICAgIGlmICh0aWNrKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGVja2VkKSByZXR1cm47XHJcbiAgICAgICAgICAgIFVwZGF0ZVRhcmdldHMoKTtcclxuICAgICAgICAgICAgRGlzcGF0Y2hFdmVudHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXBwLiQoJ3RpY2snLCBvbkFwcFRpY2spO1xyXG5cclxuICAgIGFwcC4kb24oJ3N0YXJ0JyAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBhY3RpdmUgPSB0cnVlO1xyXG4gICAgfSk7XHJcbiAgICBhcHAuJG9uKCdzdG9wJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfSk7XHJcbiAgICBhcHAuJG9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBhY3RpdmUgPSBmYWxzZTtcclxuICAgIH0pO1xyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDIvMi8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnT2JqZWN0cycsIFsnJFRyZWUnLCAnRGVidWcnLCBmdW5jdGlvbiBNb3VzZU9iamVjdEZpbmRlcihUcmVlLCBEZWJ1Zykge1xyXG5cclxuICAgIGZ1bmN0aW9uIENoZWNrRWxlbWVudChlLCBjdXJzb3IpIHtcclxuICAgICAgICBpZiAoZS50eXBlKCkgPT0gJ0dyb3VwJykge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGxheWVycyA9IGUuZXh0ZW5zaW9uKCdMYXllcnMnKTtcclxuXHJcbiAgICAgICAgICAgIGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5kaXNhYmxlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHlwZSgpID09ICdHcm91cCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9yZXN1bHQgPSBDaGVja0VsZW1lbnQodGhpcywgY3Vyc29yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9yZXN1bHQpIHJlc3VsdCA9IF9yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW91c2VleHQgPSB0aGlzLmV4dGVuc2lvbignTW91c2UnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXN1bHQgPSBtb3VzZWV4dC5jaGVjayh0aGlzLCBjdXJzb3IpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9yZXN1bHQpIHtyZXN1bHQgPSBfcmVzdWx0fVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY2hlY2sgPSBmdW5jdGlvbiAoY3Vyc29yKSB7XHJcbiAgICAgICAgdmFyIHJvb3QgPSBUcmVlLnJvb3QoKTtcclxuICAgICAgICBpZiAoIXJvb3QpIHJldHVybiBudWxsO1xyXG4gICAgICAgIGlmICh0eXBlb2YgY3Vyc29yICE9PSBcIm9iamVjdFwiIHx8IGN1cnNvci5jb25zdHJ1Y3RvciAhPT0gQXJyYXkgfHwgY3Vyc29yLmxlbmd0aCAhPT0gMiB8fCB0eXBlb2YgY3Vyc29yWzBdICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBjdXJzb3JbMV0gIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7YzogY3Vyc29yfSwgJ09iamVjdEZpbmRlciA7IHtbY119IGlzIG5vdCBhIHZhbGlkIGN1cnNvciB2YWx1ZS4nKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBDaGVja0VsZW1lbnQocm9vdCwgY3Vyc29yKTtcclxuICAgIH1cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAzLzI4LzIwMTcuXHJcbiAqL1xyXG4kUi5wYXJ0KCdPYmplY3RzJywgWydAZXh0ZW5kJywgJ0BpbmplY3QnLCAnJERyYXdlckhlbHBlcicsIGZ1bmN0aW9uIFRleHRMaW5lQ2xhc3MoZXh0ZW5kLCBpbmplY3QsRHJhd2VySGVscGVyKSB7XHJcbiAgICBleHRlbmQodGhpcywgJyRUZXh0RWxlbWVudENsYXNzJyk7XHJcblxyXG4gICAgdmFyIHdpZHRoID0gMCxcclxuICAgICAgICB3b3JkcyA9IFtdLFxyXG4gICAgICAgIHNwYWNlID0gaW5qZWN0KCckVGV4dFNwYWNlQ2xhc3MnKSxcclxuICAgICAgICBsZW5ndGggPSAwLFxyXG4gICAgICAgIHdpZHRoVXBkYXRlZCA9IGZhbHNlO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldFdpZHRoKCkge1xyXG4gICAgICAgIGlmKHdpZHRoVXBkYXRlZCkge1xyXG4gICAgICAgICAgICB3aWR0aCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoICs9IHdvcmRzW2ldLndpZHRoKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgd2lkdGhVcGRhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIERyYXdlckhlbHBlci5tZWFzdXJlVGV4dChnZXRXaWR0aClcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5sZW5ndGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGxlbmd0aDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy53b3JkcyA9IGZ1bmN0aW9uIChhcnJheSkge1xyXG4gICAgICAgIGlmIChhcnJheSAmJiB0eXBlb2YgYXJyYXkgPT0gXCJvYmplY3RcIiAmJiBhcnJheS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB3b3Jkcy5wdXNoKGFycmF5W2ldXHJcbiAgICAgICAgICAgICAgICAgICAgLnNpemUodGhpcy5zaXplKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgLmhlaWdodCh0aGlzLmhlaWdodCgpKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSh0aGlzLnN0eWxlKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgLndlaWdodCh0aGlzLndlaWdodCgpKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb2xvcih0aGlzLmNvbG9yKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZvbnQodGhpcy5mb250KCkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZW5ndGggPSB3b3Jkcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciBfYXJyID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIF9hcnIucHVzaCh3b3Jkc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eUNoYW5nZWQoJ3N0cmluZycsIF9hcnIpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgd2lkdGhVcGRhdGVkID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gd29yZHM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucHVzaCA9IGZ1bmN0aW9uICh3b3JkKSB7XHJcbiAgICAgICAgaWYod29yZHMubGVuZ3RoID4gMCkgd29yZHMucHVzaChzcGFjZSk7XHJcbiAgICAgICAgd29yZHMucHVzaChcclxuICAgICAgICAgICAgd29yZC5zaXplKHRoaXMuc2l6ZSgpKVxyXG4gICAgICAgICAgICAuaGVpZ2h0KHRoaXMuaGVpZ2h0KCkpXHJcbiAgICAgICAgICAgIC5zdHlsZSh0aGlzLnN0eWxlKCkpXHJcbiAgICAgICAgICAgIC53ZWlnaHQodGhpcy53ZWlnaHQoKSlcclxuICAgICAgICAgICAgLmNvbG9yKHRoaXMuY29sb3IoKSlcclxuICAgICAgICAgICAgLmZvbnQodGhpcy5mb250KCkpXHJcbiAgICAgICAgKTtcclxuICAgICAgICB3aWR0aFVwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnN0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc3RyaW5nID0gJyc7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgc3RyaW5nICs9IHdvcmRzW2ldLnN0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RyaW5nO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLm9uUHJvcGVydHlDaGFuZ2UoZnVuY3Rpb24gKHByb3BlcnR5LCB2YWwpIHtcclxuICAgICAgICBpZihwcm9wZXJ0eSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgc3BhY2VbcHJvcGVydHldKHZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjgvMjAxNy5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnLCBbJ0BleHRlbmQnLCAnJERyYXdlckhlbHBlcicsIGZ1bmN0aW9uIFRleHRTcGFjZUNsYXNzKGV4dGVuZCwgRHJhd2VySGVscGVyKSB7XHJcbiAgICBleHRlbmQodGhpcywnJFRleHRFbGVtZW50Q2xhc3MnKTtcclxuXHJcbiAgICB2YXIgc3RyaW5nID0gJyAnLFxyXG4gICAgICAgIHdpZHRoID0gMCxcclxuICAgICAgICBzZWxmID0gdGhpcztcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRXaWR0aChjb250ZXh0KSB7XHJcbiAgICAgICAgY29udGV4dC5mb250ID0gc2VsZi5leHRyYWN0Rm9udFN0cmluZygpO1xyXG4gICAgICAgIHJldHVybiBjb250ZXh0Lm1lYXN1cmVUZXh0KHN0cmluZykud2lkdGg7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy53aWR0aCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIERyYXdlckhlbHBlci5tZWFzdXJlVGV4dChnZXRXaWR0aCk7XHJcbiAgICB9XHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMy8yOC8yMDE3LlxyXG4gKi9cclxuJFIucGFydCgnT2JqZWN0cycsIFsnJENvbG9ySGVscGVyJywgZnVuY3Rpb24gVGV4dEVsZW1lbnRDbGFzcyhDb2xvckhlbHBlcikge1xyXG4gICAgdmFyIGNvbG9yID0gJ3JnYmEoMCwwLDAsMSknLFxyXG4gICAgICAgIGZvbnQgPSAnc2Fucy1zZXJpZicsXHJcbiAgICAgICAgZm9udFdlaWdodCA9IDQwMCxcclxuICAgICAgICBmb250U2l6ZSA9IDE0LFxyXG4gICAgICAgIGxpbmVIZWlnaHQgPSAxNCxcclxuICAgICAgICBmb250U3R5bGUgPSAnbm9ybWFsJyxcclxuICAgICAgICBjYiA9IFtdLFxyXG4gICAgICAgIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJlc29sdmUocHJvcGVydHksIHZhbCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2IubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY2JbaV0uYXBwbHkoc2VsZiwgW3Byb3BlcnR5LCB2YWxdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zaXplID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgaWYgKHZhbCA8IDApIHZhbCA9IDA7XHJcbiAgICAgICAgICAgIGZvbnRTaXplID0gdmFsO1xyXG4gICAgICAgICAgICByZXNvbHZlKCdzaXplJywgZm9udFNpemUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmb250U2l6ZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaGVpZ2h0ID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgaWYgKHZhbCA8IDApIHZhbCA9IDA7XHJcbiAgICAgICAgICAgIGxpbmVIZWlnaHQgPSB2YWw7XHJcbiAgICAgICAgICAgIHJlc29sdmUoJ2hlaWdodCcsIGxpbmVIZWlnaHQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsaW5lSGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy53ZWlnaHQgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBpZiAodmFsIDwgMTAwKSB2YWwgPSAxMDA7XHJcbiAgICAgICAgICAgIGlmICh2YWwgPiA5MDApIHZhbCA9IDkwMDtcclxuICAgICAgICAgICAgaWYgKHZhbCAlIDEwMCAhPT0gMCkgdmFsID0gdmFsIC0gKHZhbCAlIDEwMCk7XHJcbiAgICAgICAgICAgIGZvbnRXZWlnaHQgPSB2YWw7XHJcbiAgICAgICAgICAgIHJlc29sdmUoJ3dlaWdodCcsIGZvbnRXZWlnaHQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZvbnRXZWlnaHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZm9udCA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbCA9PSBcInN0cmluZ1wiICYmIHZhbC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZvbnQgPSB2YWw7XHJcbiAgICAgICAgICAgIHJlc29sdmUoJ2ZvbnQnLCBmb250KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmb250O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNvbG9yID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWwpKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IHZhbDtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoJ2NvbG9yJywgY29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc3R5bGUgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgaWYgKHZhbCA9PT0gJ25vcm1hbCcgfHwgdmFsID09PSAnaXRhbGljJyB8fCB2YWwgPT09ICdvYmxpcXVlJykge1xyXG4gICAgICAgICAgICBmb250U3R5bGUgPSB2YWw7XHJcbiAgICAgICAgICAgIHJlc29sdmUoJ3N0eWxlJywgZm9udFN0eWxlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmb250U3R5bGU7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZXh0cmFjdEZvbnRTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZvbnRTdHlsZSArICcgJyArIGZvbnRTaXplICsgJ3B4IFwiJyArIGZvbnQgKyAnLScgKyBmb250V2VpZ2h0ICsgJ1wiJztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5vblByb3BlcnR5Q2hhbmdlID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIGNiLnB1c2goZnVuYyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnByb3BlcnR5Q2hhbmdlZCA9IGZ1bmN0aW9uIChuYW1lLCB2YWwpIHtcclxuICAgICAgICByZXNvbHZlKG5hbWUsIHZhbCk7XHJcbiAgICB9XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjYvMjAxNy5cclxuICovXHJcbiRSLnBhcnQoJ09iamVjdHMnLCBbJyRDb2xvckhlbHBlcicsICdAZXh0ZW5kJywgJyREcmF3ZXJIZWxwZXInLCBmdW5jdGlvbiBUZXh0V29yZENsYXNzKENvbG9ySGVscGVyLCBleHRlbmQsIERyYXdlckhlbHBlcikge1xyXG5cclxuICAgIGV4dGVuZCh0aGlzLCAnJFRleHRFbGVtZW50Q2xhc3MnKTtcclxuXHJcbiAgICB2YXIgc3RyaW5nID0gJycsXHJcbiAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgdGhpcy5zdHJpbmcgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgc3RyaW5nID0gdmFsO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BlcnR5Q2hhbmdlZCgnc3RyaW5nJyx2YWwpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0V2lkdGgoY29udGV4dCkge1xyXG4gICAgICAgIGNvbnRleHQuZm9udCA9IHNlbGYuZXh0cmFjdEZvbnRTdHJpbmcoKTtcclxuICAgICAgICByZXR1cm4gY29udGV4dC5tZWFzdXJlVGV4dChzdHJpbmcpLndpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIERyYXdlckhlbHBlci5tZWFzdXJlVGV4dChnZXRXaWR0aCk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICB0aGlzLmRyYXcgPSBmdW5jdGlvbiAoY29udGV4dCwgeCwgeSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgeCAhPT0gXCJudW1iZXJcIikgeCA9IDA7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB5ICE9PSBcIm51bWJlclwiKSB5ID0gMDtcclxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuY29sb3IoKTtcclxuICAgICAgICBjb250ZXh0LmZvbnQgPSB0aGlzLmV4dHJhY3RGb250U3RyaW5nKCk7XHJcbiAgICAgICAgY29udGV4dC5maWxsVGV4dChzdHJpbmcsIHgsIHkpO1xyXG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5leHQoWydAQ2FudmFzJywgJ0BIVE1MUm9vdCcsICckJGNvbmZpZycsICdEZWJ1ZycsICdDb250YWluZXInLCBmdW5jdGlvbiBDYW52YXMoY2FudmFzLCBodG1sLCBjb25maWcsIERlYnVnLCBDb250YWluZXIpIHtcclxuXHJcbiAgICB2YXIgY2FsbGJhY2tzID0gW10sIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgeHVuaXRzID0gJ3B4JywgeXVuaXRzID0gJ3B4JyxcclxuICAgICAgICBvZmZzZXQgPSBbMCwgMF0sIHNjcm9sbCA9IFswLCAwXTtcclxuXHJcbiAgICBpZiAoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIHNpemUgPSBbY29uZmlnLndpZHRoID8gY29uZmlnLndpZHRoIDogMTAwMCwgY29uZmlnLmhlaWdodCA/IGNvbmZpZy5oZWlnaHQgOiA4MDBdO1xyXG4gICAgICAgIGlmICh0eXBlb2Ygc2l6ZVswXSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIHdpZHRoID0gc2l6ZVswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHNpemVbMF0gPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAoc2l6ZVswXS5tYXRjaCgvXltcXGRdKyUkLykpIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gcGFyc2VJbnQoc2l6ZVswXSk7XHJcbiAgICAgICAgICAgICAgICB4dW5pdHMgPSAnJSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IDEwMDA7XHJcbiAgICAgICAgICAgICAgICB4dW5pdHMgPSAncHgnO1xyXG4gICAgICAgICAgICAgICAgRGVidWcud2Fybih7d2lkdGg6IHNpemVbMF19LCAne3dpZHRofSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgY2FudmFzLnNpemVbMF0uIFdpZHRoIHNldCBhcyAxMDAwcHgnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgd2lkdGggPSAxMDAwO1xyXG4gICAgICAgICAgICBEZWJ1Zy53YXJuKHt3aWR0aDogc2l6ZVswXX0sICd7d2lkdGh9IGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBjYW52YXMuc2l6ZVswXS4gV2lkdGggc2V0IGFzIDEwMDBweCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBzaXplWzFdID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgaGVpZ2h0ID0gc2l6ZVsxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHNpemVbMV0gPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAoc2l6ZVsxXS5tYXRjaCgvXltcXGRdKyUkLykpIHtcclxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHBhcnNlSW50KHNpemVbMV0pO1xyXG4gICAgICAgICAgICAgICAgeXVuaXRzID0gJyUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gODAwO1xyXG4gICAgICAgICAgICAgICAgRGVidWcud2Fybih7aGVpZ2h0OiBzaXplWzFdfSwgJ3toZWlnaHR9IGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBjYW52YXMuc2l6ZVsxXS4gV2lkdGggc2V0IGFzIDgwMHB4Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGhlaWdodCA9IDgwMDtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7aGVpZ2h0OiBzaXplWzFdfSwgJ3toZWlnaHR9IGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBjYW52YXMuc2l6ZVsxXS4gV2lkdGggc2V0IGFzIDgwMHB4Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBwVyA9IDAsIHBIID0gMDtcclxuXHJcbiAgICBmdW5jdGlvbiBHZXRQYXJlbnRTaXplKCkge1xyXG4gICAgICAgIGNhbnZhcy5lbGVtZW50KCkuc2V0QXR0cmlidXRlKCd3aWR0aCcsIDApO1xyXG4gICAgICAgIGNhbnZhcy5lbGVtZW50KCkuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCAwKTtcclxuICAgICAgICB2YXIgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShodG1sLmVsZW1lbnQoKSwgbnVsbCk7XHJcbiAgICAgICAgcEggPSBwYXJzZUludChzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKFwiaGVpZ2h0XCIpKTtcclxuICAgICAgICBwVyA9IHBhcnNlSW50KHN0eWxlLmdldFByb3BlcnR5VmFsdWUoXCJ3aWR0aFwiKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gQ29tcGFyZU9uUmVzaXplKCkge1xyXG4gICAgICAgIGlmICh4dW5pdHMgPT0gJyUnIHx8IHl1bml0cyA9PSAnJScpIHtcclxuICAgICAgICAgICAgdmFyIF9wVyA9IHBXLCBfcEggPSBwSCxcclxuICAgICAgICAgICAgICAgIGNoYW5nZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgR2V0UGFyZW50U2l6ZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHh1bml0cyA9PSAnJScpIHtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5lbGVtZW50KCkuc2V0QXR0cmlidXRlKCd3aWR0aCcsIE1hdGguZmxvb3IocFcgKiAod2lkdGggLyAxMDApKSk7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh5dW5pdHMgPT0gJyUnKSB7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMuZWxlbWVudCgpLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgTWF0aC5mbG9vcihwSCAqIChoZWlnaHQgLyAxMDApKSk7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh4dW5pdHMgPT0gJ3B4Jykge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLmVsZW1lbnQoKS5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgd2lkdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh5dW5pdHMgPT0gJ3B4Jykge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLmVsZW1lbnQoKS5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNoYW5nZTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjYW52YXMuZWxlbWVudCgpLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3aWR0aCk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5lbGVtZW50KCkuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIEdldENhbnZhc09mZnNldCh4KSB7XHJcbiAgICAgICAgdmFyIG9mZnNldFByb3AgPSB4ID8gJ29mZnNldExlZnQnIDogJ29mZnNldFRvcCc7XHJcblxyXG4gICAgICAgIHZhciByZXN1bHQgPSAwLCBlbGVtZW50ID0gY2FudmFzLmVsZW1lbnQoKTtcclxuXHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICBpZiAoIWlzTmFOKGVsZW1lbnRbb2Zmc2V0UHJvcF0pKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gZWxlbWVudFtvZmZzZXRQcm9wXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gd2hpbGUgKGVsZW1lbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudCk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gV2luZG93UmVzaXplQ2FsbGJhY2soKSB7XHJcbiAgICAgICAgaWYgKENvbXBhcmVPblJlc2l6ZSgpKSB7XHJcbiAgICAgICAgICAgIG9mZnNldFswXSA9IEdldENhbnZhc09mZnNldCgwKTtcclxuICAgICAgICAgICAgb2Zmc2V0WzFdID0gR2V0Q2FudmFzT2Zmc2V0KDEpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzW2ldKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFJlc29sdmVDYW52YXNFdmVudEFycmF5KCdjYW52YXNyZXNpemUnLCBbbmV3IFJDYW52YXNSZXNpemVFdmVudCgpXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnJlc2l6ZSA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybjtcclxuXHJcbiAgICAgICAgY2FsbGJhY2tzLnB1c2goZnVuYyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHh1bml0cyA9PSAnJScpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBXICogKHdpZHRoIC8gMTAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoeHVuaXRzID09ICclJykge1xyXG4gICAgICAgICAgICByZXR1cm4gcEggKiAoaGVpZ2h0IC8gMTAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBoZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgY2FudmFzRXZlbnRDYWxsYmFja3MgPSB7XHJcbiAgICAgICAgbW91c2Vtb3ZlOiBbXSxcclxuICAgICAgICBtb3VzZWRvd246IFtdLFxyXG4gICAgICAgIG1vdXNldXA6IFtdLFxyXG4gICAgICAgIG1vdXNlbGVhdmU6IFtdLFxyXG4gICAgICAgIG1vdXNlZW50ZXI6IFtdLFxyXG4gICAgICAgIGNhbnZhc3Jlc2l6ZTogW11cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gR2V0Q2FudmFzRXZlbnRBcnJheShldmVudCkge1xyXG4gICAgICAgIHJldHVybiBjYW52YXNFdmVudENhbGxiYWNrc1tldmVudF07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkoZXZlbnQsIGRhdGEpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGRhdGEgIT09IFwib2JqZWN0XCIgfHwgZGF0YS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnQ2FudmFzIDogdW5hYmxlIHRvIHJlc29sdmUgZXZlbnQgYXJyYXkgW3tlfV0uIERhdGEgaXMgbm90IGFuIGFycmF5IScpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgYXJyYXkgPSBHZXRDYW52YXNFdmVudEFycmF5KGV2ZW50KTtcclxuXHJcbiAgICAgICAgaWYgKCFhcnJheSkge1xyXG4gICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudH0sICdVbmFibGUgdG8gcmVzb2x2ZSBldmVudCBbe2V9XSBubyBzdWNoIGV2ZW50IScpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYXJyYXlbaV0uYXBwbHkoY2FudmFzLmVsZW1lbnQoKSwgZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub24gPSBmdW5jdGlvbiAoZXZlbnQsIGZ1bmMpIHtcclxuICAgICAgICB2YXIgYXJyYXkgPSBHZXRDYW52YXNFdmVudEFycmF5KGV2ZW50KTtcclxuICAgICAgICBpZiAoIWFycmF5KSB7XHJcbiAgICAgICAgICAgIERlYnVnLndhcm4oe2U6IGV2ZW50fSwgJ0NhbnZhcyA6IFVuYWJsZSB0byBzZXQgZXZlbnQgaGFuZGxlciBmb3IgZXZlbnQgW3tlfV0nKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBEZWJ1Zy53YXJuKHtmOiBldmVudH0sICdDYW52YXMgOiBVbmFibGUgdG8gc2V0IGV2ZW50IGhhbmRsZXIgW3tmfV0nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXJyYXkucHVzaChmdW5jKTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gR2V0TW91c2VSZWxhdGl2ZVBvc2l0aW9uKGUpIHtcclxuICAgICAgICByZXR1cm4gW2UucGFnZVggLSBvZmZzZXRbMF0gLSBzY3JvbGxbMF0sIGUucGFnZVkgLSBvZmZzZXRbMV0gLSBzY3JvbGxbMV1dO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIFJDYW52YXNNb3VzZShlKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlID0gW2UucGFnZVgsIGUucGFnZVldO1xyXG4gICAgICAgIHRoaXMuc2NlZW4gPSBbZS5wYWdlWCAtIHNjcm9sbFswXSwgZS5wYWdlWSAtIHNjcm9sbFsxXV07XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IEdldE1vdXNlUmVsYXRpdmVQb3NpdGlvbihlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBSQ2FudmFzTW91c2VFdmVudChlKSB7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbCA9IGU7XHJcbiAgICAgICAgdGhpcy50eXBlID0gZS50eXBlO1xyXG4gICAgICAgIHRoaXMubW91c2UgPSBuZXcgUkNhbnZhc01vdXNlKGUpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzLmVsZW1lbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBSQ2FudmFzUmVzaXplRXZlbnQoKSB7XHJcbiAgICAgICAgdGhpcy50eXBlID0gJ2NhbnZhc3Jlc2l6ZSc7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXMuZWxlbWVudCgpO1xyXG4gICAgICAgIHRoaXMub2Zmc2V0ID0gW29mZnNldFswXSwgb2Zmc2V0WzFdXTtcclxuICAgICAgICB0aGlzLnNpemUgPSBbd2lkdGgsIGhlaWdodF07XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbCA9IFt3aWR0aCwgaGVpZ2h0XTtcclxuICAgICAgICB0aGlzLnVuaXRzID0gW3h1bml0cywgeXVuaXRzXTtcclxuICAgICAgICBpZiAoeHVuaXRzID09ICclJykge1xyXG4gICAgICAgICAgICB0aGlzLnNpemVbMF0gPSBwVyAqICh3aWR0aCAvIDEwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh5dW5pdHMgPT0gJyUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2l6ZVsxXSA9IHBIICogKGhlaWdodCAvIDEwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNhbnZhcy5lbGVtZW50KCkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBSZXNvbHZlQ2FudmFzRXZlbnRBcnJheSgnbW91c2Vtb3ZlJywgW25ldyBSQ2FudmFzTW91c2VFdmVudChlKV0pO1xyXG4gICAgfSk7XHJcbiAgICBjYW52YXMuZWxlbWVudCgpLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkoJ21vdXNlZG93bicsIFtuZXcgUkNhbnZhc01vdXNlRXZlbnQoZSldKTtcclxuICAgIH0pO1xyXG4gICAgY2FudmFzLmVsZW1lbnQoKS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBSZXNvbHZlQ2FudmFzRXZlbnRBcnJheSgnbW91c2V1cCcsIFtuZXcgUkNhbnZhc01vdXNlRXZlbnQoZSldKTtcclxuICAgIH0pO1xyXG4gICAgY2FudmFzLmVsZW1lbnQoKS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBSZXNvbHZlQ2FudmFzRXZlbnRBcnJheSgnbW91c2VsZWF2ZScsIFtuZXcgUkNhbnZhc01vdXNlRXZlbnQoZSldKTtcclxuICAgIH0pO1xyXG4gICAgY2FudmFzLmVsZW1lbnQoKS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBSZXNvbHZlQ2FudmFzRXZlbnRBcnJheSgnbW91c2VlbnRlcicsIFtuZXcgUkNhbnZhc01vdXNlRXZlbnQoZSldKTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNjcm9sbFsxXSA9IHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtcclxuICAgICAgICBzY3JvbGxbMF0gPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuICAgIH0pO1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBXaW5kb3dSZXNpemVDYWxsYmFjayk7XHJcbiAgICBDb250YWluZXIub24oJ2hpZGUnLCBXaW5kb3dSZXNpemVDYWxsYmFjayk7XHJcbiAgICBDb250YWluZXIub24oJ3Nob3cnLCBXaW5kb3dSZXNpemVDYWxsYmFjayk7XHJcblxyXG4gICAgV2luZG93UmVzaXplQ2FsbGJhY2soKTtcclxufVxyXG5cclxuXSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDUvMzEvMjAxNy5cclxuICovXHJcbiRSLmV4dChbJ0BIVE1MUm9vdCcsICckJGNvbmZpZycsICdEZWJ1ZycsIGZ1bmN0aW9uIENvbnRhaW5lcihodG1sLCBjb25maWcsIERlYnVnKSB7XHJcbiAgICB2YXIgZWxlbWVudCA9IGh0bWwuZWxlbWVudCgpLFxyXG4gICAgICAgIHZpc2libGUgPSBmYWxzZSxcclxuICAgICAgICBibHVyID0gZmFsc2UsXHJcbiAgICAgICAgc3BlZWQgPSAxMDAwLFxyXG4gICAgICAgIGVhc2luZyA9ICdlYXNlJyxcclxuICAgICAgICBjYiA9IHtcclxuICAgICAgICAgICAgc2hvdzogW10sXHJcbiAgICAgICAgICAgIGhpZGU6IFtdLFxyXG4gICAgICAgICAgICBibHVyb3V0OiBbXSxcclxuICAgICAgICAgICAgYmx1cmluOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgemluZGV4ID0gY29uZmlnLnogJiYgdHlwZW9mIGNvbmZpZy56ID09IFwibnVtYmVyXCIgJiYgY29uZmlnLnogPiAwID8gY29uZmlnLnogOiAwLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IHRoaXMsXHJcbiAgICAgICAgZGlzcGxheVRvID0gbnVsbDtcclxuXHJcbiAgICBmdW5jdGlvbiByZXNvbHZlKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGNiW2V2ZW50XSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNiW2V2ZW50XS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY2JbZXZlbnRdW2ldLmNhbGwoY29udGFpbmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBoaWRlKCkge1xyXG4gICAgICAgIHN0eWxlKHtkaXNwbGF5OiBmYWxzZX0pO1xyXG4gICAgICAgIGRpc3BsYXlUbyA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gJ29wYWNpdHkgJyArIHNwZWVkICsgJ3MgJyArIGVhc2luZyArICcsJyArXHJcbiAgICAgICAgJ2ZpbHRlciAnICsgc3BlZWQgKyAncyc7XHJcblxyXG4gICAgZWxlbWVudC5zdHlsZS56SW5kZXggPSB6aW5kZXg7XHJcblxyXG4gICAgc3R5bGUoe2Rpc3BsYXk6ICdub25lJywgYmx1cjogMCwgb3BhY2l0eTogMH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHN0eWxlKHNvdXJjZSkge1xyXG4gICAgICAgIGlmIChzb3VyY2UuZGlzcGxheSkge1xyXG4gICAgICAgICAgICBpZiAoc291cmNlLmRpc3BsYXkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGh0bWwuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzb3VyY2UuZGlzcGxheSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGh0bWwuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzb3VyY2UuYmx1ciB8fCBzb3VyY2Uub3BhY2l0eSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZS5ibHVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmZpbHRlciA9ICdibHVyKCcgKyBzb3VyY2UuYmx1ciArICdweCknO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZS5vcGFjaXR5ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSBzb3VyY2Uub3BhY2l0eTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub24gPSBmdW5jdGlvbiAoZXZlbnQsIGZ1bmMpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09IFwic3RyaW5nXCIgJiYgZXZlbnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNiW2V2ZW50XSA9PSBcIm9iamVjdFwiICYmIGNiW2V2ZW50XS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2JbZXZlbnRdLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtldmVudDogZXZlbnR9LCAnVW5hYmxlIHRvIHNldCBjYWxsYmFjayBmb3IgW3tldmVudH1dLiBGdW5jIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtldmVudDogZXZlbnR9LCAnVW5hYmxlIHRvIHNldCBjYWxsYmFjayBmb3IgZXZlbnQgW3tldmVudH1dLiBObyBzdWNoIGV2ZW50Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIERlYnVnLndhcm4oJ1VuYWJsZSB0byBzZXQgZXZlbnQuIEV2ZW50IGlkZW50aWZpZXIgaXMgbm90IGEgc3RyaW5nIG9yIGVtcHR5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNob3cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUoKSkge1xyXG4gICAgICAgICAgICBpZiAoZGlzcGxheVRvKSBjbGVhclRpbWVvdXQoZGlzcGxheVRvKTtcclxuICAgICAgICAgICAgc3R5bGUoe1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXNvbHZlKCdzaG93Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmhpZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSgpKSB7XHJcbiAgICAgICAgICAgIGlmIChkaXNwbGF5VG8pIGNsZWFyVGltZW91dChkaXNwbGF5VG8pO1xyXG4gICAgICAgICAgICBzdHlsZSh7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZGlzcGxheVRvID0gc2V0VGltZW91dChoaWRlLCBzcGVlZCAqIDEwMDApO1xyXG4gICAgICAgICAgICB2aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJlc29sdmUoJ2hpZGUnKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuYmx1ciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuYmx1cnJlZCgpKSB7XHJcbiAgICAgICAgICAgIHN0eWxlKHtibHVyOiA1fSk7XHJcbiAgICAgICAgICAgIGJsdXIgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5mb2N1cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5ibHVycmVkKCkpIHtcclxuICAgICAgICAgICAgc3R5bGUoe2JsdXI6IDB9KTtcclxuICAgICAgICAgICAgYmx1ciA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy52aXNpYmxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB2aXNpYmxlO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmJsdXJyZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGJsdXI7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuYmFja2dyb3VuZCA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHN0cmluZyA9PT0gXCJzdHJpbmdcIiAmJiBzdHJpbmcubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZCA9IHN0cmluZztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIuZXh0KFsnJCRjb25maWcnLCBmdW5jdGlvbiBEZWJ1Zyhjb25maWcpIHtcclxuXHJcbiAgICB2YXIgc3RyaW5nID0gJyRSIFtEZWJ1Z10gOiAnLFxyXG4gICAgICAgIHJlZ2V4cCA9IC97W2EtekEtWl0rfS9nLFxyXG4gICAgICAgIHJlZ2V4cG5hbWUgPSAvW2EtekEtWl0rL2c7XHJcblxyXG4gICAgd2FybmluZ3MgPSBjb25maWcud2FybmluZ3MgPT0gdW5kZWZpbmVkID8gdHJ1ZSA6ICEhY29uZmlnLndhcm5pbmdzO1xyXG5cclxuXHJcbiAgICB2YXIgZXJyb3JDYiA9IFtdLCBtZXNzYWdlQ2IgPSBbXTtcclxuXHJcbiAgICBmdW5jdGlvbiBSZXNvbHZlRXZlbnQodHlwZSwgZGF0YSkge1xyXG4gICAgICAgIHZhciBhcnJheSA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09ICdlcnJvcicpIGFycmF5ID0gZXJyb3JDYjtcclxuICAgICAgICBpZiAodHlwZSA9PSAnbWVzc2FnZScpIGFycmF5ID0gbWVzc2FnZUNiO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGFycmF5W2ldKGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybjtcclxuICAgICAgICBpZiAoZXZlbnQgPT0gJ2Vycm9yJykgZXJyb3JDYi5wdXNoKGZ1bmMpO1xyXG4gICAgICAgIGlmIChldmVudCA9PSAnbWVzc2FnZScpIG1lc3NhZ2VDYi5wdXNoKGZ1bmMpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gR2V0TWVzc2FnZShkYXRhLCBtZXNzYWdlKSB7XHJcbiAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgdmFyIG1hdGNoZXMgPSBtZXNzYWdlLm1hdGNoKHJlZ2V4cCk7XHJcbiAgICAgICAgdmFyIHByb3BzID0ge307XHJcblxyXG4gICAgICAgIGlmIChtYXRjaGVzKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hdGNobmFtZSA9IG1hdGNoZXNbaV0ubWF0Y2gocmVnZXhwbmFtZSlbMF07XHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2huYW1lKSBwcm9wc1ttYXRjaG5hbWVdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcGxhY2U6IG1hdGNoZXNbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YVttYXRjaG5hbWVdLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIHByb3BzKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXByb3BzLmhhc093blByb3BlcnR5KHByb3ApKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlLnJlcGxhY2UocHJvcHNbcHJvcF0ucmVwbGFjZSwgcHJvcHNbcHJvcF0uZGF0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtZXNzYWdlID0gc3RyaW5nICsgbWVzc2FnZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5lcnJvciA9IGZ1bmN0aW9uIChkYXRhLCBtZXNzYWdlKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgbWVzc2FnZSA9IGRhdGE7XHJcbiAgICAgICAgICAgIGRhdGEgPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1lc3NhZ2UgPSBHZXRNZXNzYWdlKGRhdGEsIG1lc3NhZ2UpO1xyXG5cclxuICAgICAgICBSZXNvbHZlRXZlbnQoJ2Vycm9yJywgbWVzc2FnZSk7XHJcblxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy53YXJuID0gZnVuY3Rpb24gKGRhdGEsIG1lc3NhZ2UpIHtcclxuXHJcbiAgICAgICAgaWYgKCF3YXJuaW5ncykgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBtZXNzYWdlID0gZGF0YTtcclxuICAgICAgICAgICAgZGF0YSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBtZXNzYWdlID0gR2V0TWVzc2FnZShkYXRhLCBtZXNzYWdlKTtcclxuXHJcbiAgICAgICAgUmVzb2x2ZUV2ZW50KCdtZXNzYWdlJywgbWVzc2FnZSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKVxyXG4gICAgfVxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5leHQoWydEZWJ1ZycsIGZ1bmN0aW9uIEVhc2luZ3MoRGVidWcpIHtcclxuXHJcbiAgICB2YXIgZWFzaW5ncyA9IHtcclxuICAgICAgICAnXyc6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCArIGI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsaW5lYXI6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgIHQgLz0gZDtcclxuICAgICAgICAgICAgcmV0dXJuIGIgKyBjICogKHQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGluZWFyU29mdDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgdmFyIHRzID0gKHQgLz0gZCkgKiB0O1xyXG4gICAgICAgICAgICB2YXIgdGMgPSB0cyAqIHQ7XHJcbiAgICAgICAgICAgIHJldHVybiBiICsgYyAqICg0ICogdGMgKiB0cyArIC0xMCAqIHRzICogdHMgKyA4ICogdGMgKyAtMiAqIHRzICsgdCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsaW5lYXJTb2Z0T3V0OiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICB2YXIgdHMgPSAodCAvPSBkKSAqIHQ7XHJcbiAgICAgICAgICAgIHZhciB0YyA9IHRzICogdDtcclxuICAgICAgICAgICAgcmV0dXJuIGIgKyBjICogKC0zICogdGMgKiB0cyArIDExICogdHMgKiB0cyArIC0xNCAqIHRjICsgNiAqIHRzICsgdCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsaW5lYXJTb2Z0SW46IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgIHZhciB0cyA9ICh0IC89IGQpICogdDtcclxuICAgICAgICAgICAgdmFyIHRjID0gdHMgKiB0O1xyXG4gICAgICAgICAgICByZXR1cm4gYiArIGMgKiAoLTEgKiB0YyAqIHRzICsgMiAqIHRjKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVhc2VJblF1YWQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBjICogKHQgLz0gZCkgKiB0ICsgYjtcclxuICAgICAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKyBiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWFzZU91dFF1YWQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAtYyAqICh0IC89IGQpICogKHQgLSAyKSArIGI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlYXNlSW5PdXRRdWFkOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKyBiO1xyXG4gICAgICAgICAgICByZXR1cm4gLWMgLyAyICogKCgtLXQpICogKHQgLSAyKSAtIDEpICsgYjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVhc2VJbkN1YmljOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKyBiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWFzZU91dEN1YmljOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCArIDEpICsgYjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVhc2VJbk91dEN1YmljOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICsgYjtcclxuICAgICAgICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKyAyKSArIGI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlYXNlSW5RdWFydDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCArIGI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlYXNlT3V0UXVhcnQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAtYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgLSAxKSArIGI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlYXNlSW5PdXRRdWFydDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKyBiO1xyXG4gICAgICAgICAgICByZXR1cm4gLWMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0IC0gMikgKyBiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWFzZUluUXVpbnQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKiB0ICsgYjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVhc2VPdXRRdWludDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0ICogdCArIDEpICsgYjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVhc2VJbk91dFF1aW50OiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCAqIHQgKyBiO1xyXG4gICAgICAgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgKiB0ICsgMikgKyBiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWFzZUluU2luZTogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIC1jICogTWF0aC5jb3ModCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGMgKyBiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWFzZU91dFNpbmU6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjICogTWF0aC5zaW4odCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlYXNlSW5PdXRTaW5lOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gLWMgLyAyICogKE1hdGguY29zKE1hdGguUEkgKiB0IC8gZCkgLSAxKSArIGI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlYXNlSW5FeHBvOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHQgPT0gMCkgPyBiIDogYyAqIE1hdGgucG93KDIsIDEwICogKHQgLyBkIC0gMSkpICsgYjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVhc2VPdXRFeHBvOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHQgPT0gZCkgPyBiICsgYyA6IGMgKiAoLU1hdGgucG93KDIsIC0xMCAqIHQgLyBkKSArIDEpICsgYjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVhc2VJbk91dEV4cG86IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgIGlmICh0ID09IDApIHJldHVybiBiO1xyXG4gICAgICAgICAgICBpZiAodCA9PSBkKSByZXR1cm4gYiArIGM7XHJcbiAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpICsgYjtcclxuICAgICAgICAgICAgcmV0dXJuIGMgLyAyICogKC1NYXRoLnBvdygyLCAtMTAgKiAtLXQpICsgMikgKyBiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWFzZUluQ2lyYzogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIC1jICogKE1hdGguc3FydCgxIC0gKHQgLz0gZCkgKiB0KSAtIDEpICsgYjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVhc2VPdXRDaXJjOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYyAqIE1hdGguc3FydCgxIC0gKHQgPSB0IC8gZCAtIDEpICogdCkgKyBiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWFzZUluT3V0Q2lyYzogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiAtYyAvIDIgKiAoTWF0aC5zcXJ0KDEgLSB0ICogdCkgLSAxKSArIGI7XHJcbiAgICAgICAgICAgIHJldHVybiBjIC8gMiAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKSArIGI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlYXNlSW5CYWNrOiBmdW5jdGlvbiAodCwgYiwgYywgZCwgcykge1xyXG4gICAgICAgICAgICBpZiAocyA9PSB1bmRlZmluZWQpIHMgPSAxLjcwMTU4O1xyXG4gICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqICgocyArIDEpICogdCAtIHMpICsgYjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVhc2VPdXRCYWNrOiBmdW5jdGlvbiAodCwgYiwgYywgZCwgcykge1xyXG4gICAgICAgICAgICBpZiAocyA9PSB1bmRlZmluZWQpIHMgPSAxLjcwMTU4O1xyXG4gICAgICAgICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogKChzICsgMSkgKiB0ICsgcykgKyAxKSArIGI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlYXNlSW5PdXRCYWNrOiBmdW5jdGlvbiAodCwgYiwgYywgZCwgcykge1xyXG4gICAgICAgICAgICBpZiAocyA9PSB1bmRlZmluZWQpIHMgPSAxLjcwMTU4O1xyXG4gICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogKHQgKiB0ICogKCgocyAqPSAoMS41MjUpKSArIDEpICogdCAtIHMpKSArIGI7XHJcbiAgICAgICAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiAoKChzICo9ICgxLjUyNSkpICsgMSkgKiB0ICsgcykgKyAyKSArIGI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlYXNlT3V0Qm91bmNlOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICBpZiAoKHQgLz0gZCkgPCAoMSAvIDIuNzUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiB0ICogdCkgKyBiO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHQgPCAoMiAvIDIuNzUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAoMS41IC8gMi43NSkpICogdCArIC43NSkgKyBiO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHQgPCAoMi41IC8gMi43NSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09ICgyLjI1IC8gMi43NSkpICogdCArIC45Mzc1KSArIGI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAoMi42MjUgLyAyLjc1KSkgKiB0ICsgLjk4NDM3NSkgKyBiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgaWYgKGVhc2luZ3NbbmFtZV0pIHJldHVybiBlYXNpbmdzW25hbWVdO1xyXG5cclxuICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdFYXNpbmdzIC8gVW5hYmxlIHRvIGdldCB1bmRlZmluZWQgZWFzaW5nIFt7bmFtZX1dLiBMaW5lYXIgZWFzaW5nIGZ1bmN0aW9uIHByb3ZpZGVkLicpO1xyXG4gICAgICAgIHJldHVybiBlYXNpbmdzWydsaW5lYXInXTtcclxuICAgIH07XHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNS8xMS8yMDE3LlxyXG4gKi9cclxuJFIuZXh0KFsnQGFwcCcsICdAQ2FudmFzJywgJ0BpbmplY3QnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEtleWJvYXJkKGFwcCwgY2FudmFzLCBpbmplY3QsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgY2FsbGJhY2tzID0ge30sXHJcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGVuYWJsZWQgPSB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZm9jdXNlZCA9IHRydWUsXHJcbiAgICAgICAgICAgICAgICBxdWV1ZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5rZXlkb3duID0gZnVuY3Rpb24gKGNvZGUsIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9uKGNvZGUsICdrZXlkb3duJywgZnVuYyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmtleXVwID0gZnVuY3Rpb24gKGNvZGUsIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9uKGNvZGUsICdrZXl1cCcsIGZ1bmMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kaXNhYmxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVuYWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGNvZGUsIGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvZGUgPT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgZXZlbnQgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ2tleXVwJyB8fCBldmVudCA9PT0gJ2tleWRvd24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbGxiYWNrc1tjb2RlXSkgY2FsbGJhY2tzW2NvZGVdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbGxiYWNrc1tldmVudF0pIGNhbGxiYWNrc1tjb2RlXVtldmVudF0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tjb2RlXVtldmVudF0ucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ0V2ZW50IGNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2U6IGV2ZW50fSwgJ05vIHN1Y2ggdHlwZSBvZiBldmVudCBhcyBbe2V9XScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2M6IGNvZGV9LCAnV3Jvbmcga2V5IGNvZGUgW3tjfV0nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gT25BcHBUaWNrKCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlW2ldKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBxdWV1ZSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRRdWV1ZUZ1bmMoZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5Y29kZSA9IGUua2V5Q29kZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tzW2tleWNvZGVdICYmIGNhbGxiYWNrc1trZXljb2RlXVtlLnR5cGVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzW2tleWNvZGVdW2UudHlwZV0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudCA9IGluamVjdCgnJEtleWJvYXJkRXZlbnQnKS5idWlsZChlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1trZXljb2RlXVtlLnR5cGVdW2ldLmFwcGx5KGV2ZW50LCBba2V5Y29kZSwgZS50eXBlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBjYW52YXNDbGlja2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBjYW52YXMuZWxlbWVudCgpLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNhbnZhc0NsaWNrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FudmFzQ2xpY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvY3VzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9jdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FudmFzQ2xpY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghYWN0aXZlIHx8ICFlbmFibGVkIHx8ICFmb2N1c2VkKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGdldFF1ZXVlRnVuYyhlKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhY3RpdmUgfHwgIWVuYWJsZWQgfHwgIWZvY3VzZWQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goZ2V0UXVldWVGdW5jKGUpKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBhcHAuJG9uKCdzdGFydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBhcHAuJG9uKCdzdG9wJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBhcHAuJCgndGljaycsIE9uQXBwVGljayk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA1LzExLzIwMTcuXHJcbiAqL1xyXG4kUi5wYXJ0KCdLZXlib2FyZCcsIFtmdW5jdGlvbiBLZXlib2FyZEV2ZW50KCkge1xyXG5cclxuICAgIHZhciBrZXljb2RlID0gbnVsbCxcclxuICAgICAgICBjdHJsUHJlc3NlZCA9IGZhbHNlLFxyXG4gICAgICAgIGFsdFByZXNzZWQgPSBmYWxzZSxcclxuICAgICAgICBzaGlmdFByZXNzZWQgPSBmYWxzZSxcclxuICAgICAgICBldmVudCA9IGZhbHNlLFxyXG4gICAgICAgIHR5cGUgPSBudWxsO1xyXG5cclxuICAgIHRoaXMuYnVpbGQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGtleWNvZGUgPSBlLmtleUNvZGU7XHJcbiAgICAgICAgY3RybFByZXNzZWQgPSBlLmN0cmxLZXk7XHJcbiAgICAgICAgYWx0UHJlc3NlZCA9IGUuYWx0S2V5O1xyXG4gICAgICAgIHNoaWZ0UHJlc3NlZCA9IGUuc2hpZnRLZXk7XHJcbiAgICAgICAgZXZlbnQgPSBlO1xyXG4gICAgICAgIHR5cGUgPSBlLnR5cGU7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuYnVpbGQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudHlwZSA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcclxuICAgICAgICBpZih0eXBlb2Ygc3RyaW5nID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGUgPT09IHN0cmluZztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSAgcmV0dXJuIHR5cGU7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY29kZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ga2V5Y29kZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zaGlmdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gc2hpZnRQcmVzc2VkO1xyXG4gICAgfTtcclxuICAgIHRoaXMuYWx0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBhbHRQcmVzc2VkO1xyXG4gICAgfTtcclxuICAgIHRoaXMuY3RybCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY3RybFByZXNzZWQ7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5vcmlnaW5hbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gZXZlbnQ7XHJcbiAgICB9O1xyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5leHQoWydAaW5qZWN0JywgJ0Vhc2luZ3MnLCAnQGFwcCcsICdEZWJ1ZycsIGZ1bmN0aW9uIE1vcnBoaW5lKGluamVjdCwgRWFzaW5ncywgYXBwLCBEZWJ1Zykge1xyXG5cclxuICAgIHZhciBtb3JwaGluZXMgPSBbXTtcclxuXHJcbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uIChzdGFydCwgZW5kLCBmdW5jLCBlYXNpbmcsIGR1cmF0aW9uLCBycHQpIHtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBzdGFydCAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgZW5kICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIERlYnVnLmVycm9yKHt9LCAnTW9ycGhpbmUgLyBVbmFibGUgdG8gY3JlYXRlLiBTdGFydCB2YWx1ZSBpcyB3cm9uZyEnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe30sICdNb3JwaGluZSAvIFVuYWJsZSB0byBjcmVhdGUuIEVuZCB2YWx1ZSBpcyB3cm9uZyEnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBlYXNpbmcgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe30sICdNb3JwaGluZSAvIFVuYWJsZSB0byBjcmVhdGUuIEVhc2luZyBpcyBub3QgYSBzdHJpbmchJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgIGR1cmF0aW9uICE9PSBcIm51bWJlclwiIHx8IGR1cmF0aW9uIDw9IDApIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe30sICdNb3JwaGluZSAvIFVuYWJsZSB0byBjcmVhdGUuIER1cmF0aW9uIGlzIGxlc3MgdGhhbiAwIG9yIG5vdCBhIG51bWJlcicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGVmdW5jID0gRWFzaW5ncy5nZXQoZWFzaW5nKTtcclxuXHJcbiAgICAgICAgaWYgKCFlZnVuYykge1xyXG4gICAgICAgICAgICBEZWJ1Zy5lcnJvcih7ZWFzaW5nOiBlYXNpbmd9LCAnIE1vcnBoaW5lIC8gVW5hYmxlIHRvIGNyZWF0ZS4gTm8gc3VjaCBlYXNpbmcge2Vhc2luZ30nKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB2YXIgbW9ycGhpbmUgPSBpbmplY3QoJyRNb3JwaGluZScpO1xyXG5cclxuICAgICAgICB2YXIgdGlja0YgPSBtb3JwaGluZS5jb25maWcoc3RhcnQsIGVuZCwgZnVuYywgZHVyYXRpb24sIGVmdW5jLCBycHQpO1xyXG5cclxuICAgICAgICBpZiAoIXRpY2tGIHx8IHR5cGVvZiB0aWNrRiAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIERlYnVnLmVycm9yKHt9LCAnTW9ycGhpbmUgLyBVbmFibGUgdG8gY29uZmlnIG1vcnBoaW5lLiBEdWUgdG8gc29tZSBlcnJvci4nKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGlja0YuJG0gPSBtb3JwaGluZTtcclxuXHJcbiAgICAgICAgbW9ycGhpbmVzLnB1c2godGlja0YpO1xyXG5cclxuICAgICAgICByZXR1cm4gbW9ycGhpbmU7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICBhcHAuJCgndGljaycsIGZ1bmN0aW9uIChkYXRlKSB7XHJcbiAgICAgICAgdmFyIGRhdGUgPSBkYXRlLmdldFRpbWUoKSxcclxuICAgICAgICAgICAgX21vcnBoaW5lcyA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vcnBoaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoIW1vcnBoaW5lc1tpXS4kbS5kb25lKCkpIHtcclxuICAgICAgICAgICAgICAgIG1vcnBoaW5lc1tpXShkYXRlKTtcclxuICAgICAgICAgICAgICAgIF9tb3JwaGluZXMucHVzaChtb3JwaGluZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1vcnBoaW5lcyA9IF9tb3JwaGluZXM7XHJcbiAgICB9KTtcclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuXHJcbiRSLnBhcnQoJ09iamVjdHMnLCBbJ0BleHRlbmQnLCAnQGluamVjdCcsIGZ1bmN0aW9uIEdyYXBoaWNzKGV4dGVuZCwgaW5qZWN0KSB7XHJcblxyXG4gICAgdmFyIHR5cGUgPSBudWxsLFxyXG4gICAgICAgIGV4dGVuc2lvbnMgPSBbJ0NhY2hlJywgJ1N0eWxlJywgJ0JveCcsICdBbmltYXRpb24nLCAnTWF0cml4JywgJ0RyYXdlcicsICdMYXllcnMnLCAnVHJlZScsICdNb3VzZScsICdUZXh0J10sXHJcbiAgICAgICAgcmVzb2x2ZWRfZXh0ZW5zaW9ucyA9IHt9O1xyXG5cclxuICAgIHRoaXMuZXh0ZW5zaW9uID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gcmVzb2x2ZWRfZXh0ZW5zaW9uc1tuYW1lXTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy50eXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0eXBlO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmRlZmluZVR5cGUgPSBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdCAhPT0gXCJzdHJpbmdcIikgcmV0dXJuO1xyXG5cclxuICAgICAgICBkZWxldGUgdGhpcy5kZWZpbmVUeXBlO1xyXG5cclxuICAgICAgICB0eXBlID0gdDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4dGVuc2lvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmVzb2x2ZWRfZXh0ZW5zaW9uc1tleHRlbnNpb25zW2ldXSA9IGluamVjdCgnJEV4dGVuc2lvbicpO1xyXG4gICAgICAgICAgICByZXNvbHZlZF9leHRlbnNpb25zW2V4dGVuc2lvbnNbaV1dLmRlZmluZU9iamVjdCh0aGlzKTtcclxuICAgICAgICAgICAgZXh0ZW5kKHJlc29sdmVkX2V4dGVuc2lvbnNbZXh0ZW5zaW9uc1tpXV0sICckJyArIGV4dGVuc2lvbnNbaV0gKyAnT2JqZWN0RXh0ZW5zaW9uJyk7XHJcbiAgICAgICAgICAgIGlmIChyZXNvbHZlZF9leHRlbnNpb25zW2V4dGVuc2lvbnNbaV1dLm1hdGNoVHlwZSh0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRfZXh0ZW5zaW9uc1tleHRlbnNpb25zW2ldXS53cmFwKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlc29sdmVkX2V4dGVuc2lvbnNbZXh0ZW5zaW9uc1tpXV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZXh0ZW5kKHRoaXMsICckJyArIHQgKyAnT2JqZWN0TW9kZWwnKTtcclxuICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0RHJhd2VyJyk7XHJcbiAgICAgICAgZXh0ZW5kKHRoaXMsICckJyArIHQgKyAnT2JqZWN0RHJhd2VyJyk7XHJcbiAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdE9iamVjdFR5cGUnKTtcclxuICAgICAgICBleHRlbmQodGhpcywgJyQnICsgdCArICdPYmplY3RDbGFzcycpO1xyXG5cclxuICAgIH07XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5leHQoWydAaW5qZWN0JywgJyRUcmVlJywgJ0BhcHAnLCBmdW5jdGlvbiBPYmplY3RzKGluamVjdCwgVHJlZSwgYXBwKSB7XHJcblxyXG4gICAgZnVuY3Rpb24gSW5qZWN0QnlUeXBlKHR5cGUpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gaW5qZWN0KCckR3JhcGhpY3MnKTtcclxuXHJcbiAgICAgICAgcmVzdWx0LmRlZmluZVR5cGUodHlwZSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5ncm91cCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gSW5qZWN0QnlUeXBlKCdHcm91cCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmxpbmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnTGluZScpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnJlY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnUmVjdGFuZ2xlJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY2lyY2xlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBJbmplY3RCeVR5cGUoJ0NpcmNsZScpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmltYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBJbmplY3RCeVR5cGUoJ0ltYWdlJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc3ByaXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBJbmplY3RCeVR5cGUoJ1Nwcml0ZScpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnRleHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnVGV4dCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmFyZWEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnQXJlYScpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdyb3VwKCk7XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTIvMjAxNy5cclxuICovXHJcbiRSLmV4dChbJ0BhcHAnLCAnQGluamVjdCcsICdEZWJ1ZycsIGZ1bmN0aW9uIFJlc291cmNlKGFwcCwgaW5qZWN0LCBEZWJ1Zykge1xyXG5cclxuICAgIHZhciBhbGwgPSBbXSxcclxuICAgICAgICBjb250YWluZXIgPSB7XHJcbiAgICAgICAgICAgIGltYWdlczogW10sXHJcbiAgICAgICAgICAgIHNwcml0ZXM6IFtdLFxyXG4gICAgICAgICAgICBmb250czogW10sXHJcbiAgICAgICAgICAgIGF1ZGlvczogW11cclxuICAgICAgICB9LFxyXG4gICAgICAgIGxvYWRDb3VudGVyID0gMCxcclxuICAgICAgICBzZWxmID0gdGhpcyxcclxuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcclxuXHJcbiAgICBmdW5jdGlvbiBHZXRSZXNvdXJjZUJ5VVJMKHR5cGUsIHNlYXJjaCkge1xyXG4gICAgICAgIGlmICh0eXBlID09PSAnZm9udCcpIHNlYXJjaCA9IHNlYXJjaFswXTtcclxuXHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IG51bGwsXHJcbiAgICAgICAgICAgIGFycmF5ID0gY29udGFpbmVyW3R5cGUgKyAncyddO1xyXG5cclxuICAgICAgICBpZiAoIWFycmF5KSByZXR1cm4gcmVzdWx0O1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChhcnJheVtpXS51cmwoKSA9PT0gc2VhcmNoKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBhcnJheVtpXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIEluamVjdEJ5VHlwZSh0eXBlLCBzcmMpIHtcclxuICAgICAgICB2YXIgZXhpc3RlZCA9IEdldFJlc291cmNlQnlVUkwodHlwZSwgc3JjKTtcclxuICAgICAgICBpZiAoZXhpc3RlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhpc3RlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBfdHlwZSA9IHR5cGU7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gaW5qZWN0KCckJyArIHR5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0eXBlLnNsaWNlKDEpKTtcclxuXHJcbiAgICAgICAgICAgIHJlc3VsdC5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGxvYWRDb3VudGVyLS07XHJcbiAgICAgICAgICAgICAgICBSZXNvbHZlRXZlbnQoJ2xvYWQnLCBbdGhpcywgbG9hZENvdW50ZXIsIGFsbC5sZW5ndGhdKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXN1bHQub24oJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbG9hZENvdW50ZXItLTtcclxuICAgICAgICAgICAgICAgIFJlc29sdmVFdmVudCgnZXJyb3InLCBbdGhpcywgbG9hZENvdW50ZXIsIGFsbC5sZW5ndGhdKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXN1bHQudXJsKHNyYyk7XHJcblxyXG5cclxuICAgICAgICAgICAgY29udGFpbmVyW190eXBlICsgJ3MnXS5wdXNoKHJlc3VsdCk7XHJcblxyXG4gICAgICAgICAgICBhbGwucHVzaChyZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgbG9hZENvdW50ZXIrKztcclxuXHJcbiAgICAgICAgICAgIFJlc29sdmVFdmVudCgnYWRkJywgW3Jlc3VsdCwgbG9hZENvdW50ZXIsIGFsbC5sZW5ndGhdKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaW1hZ2UgPSBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnaW1hZ2UnLCBzcmMpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNwcml0ZSA9IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICByZXR1cm4gSW5qZWN0QnlUeXBlKCdzcHJpdGUnLCBzcmMpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmF1ZGlvID0gZnVuY3Rpb24gKHNyYykge1xyXG4gICAgICAgIHJldHVybiBJbmplY3RCeVR5cGUoJ2F1ZGlvJywgc3JjKTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gcHJlbG9hZFJlcXVlc3QoZGF0YSkge1xyXG4gICAgICAgIGlmIChkYXRhLmltYWdlcyAmJiBkYXRhLmltYWdlcy5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuaW1hZ2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEuaW1hZ2VzW2ldID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoL14oWy4vX1xcZGEtekEtWl0rKShcXFsoXFxkKylcXF0pJC8udGVzdChkYXRhLmltYWdlc1tpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zcHJpdGUoZGF0YS5pbWFnZXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pbWFnZShkYXRhLmltYWdlc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGF0YS5hdWRpbyAmJiBkYXRhLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5hdWRpby5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhLmF1ZGlvW2ldID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmF1ZGlvKGRhdGEuYXVkaW9baV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhLmZvbnRzICYmIGRhdGEuZm9udHMuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmZvbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5mb250c1tpXSAmJiB0eXBlb2YgZGF0YS5mb250c1tpXSA9PSBcIm9iamVjdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgdHlwZW9mIGRhdGEuZm9udHNbaV0ubmFtZSA9PSBcInN0cmluZ1wiICYmIGRhdGEuZm9udHNbaV0ubmFtZS5sZW5ndGgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdlaWdodCA9IGRhdGEuZm9udHNbaV0ud2VpZ2h0ICYmIHR5cGVvZiBkYXRhLmZvbnRzW2ldLndlaWdodCA9PSBcIm51bWJlclwiID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZm9udHNbaV0ud2VpZ2h0IDogNDAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IGRhdGEuZm9udHNbaV0uc3R5bGUgPT0gJ2l0YWxpYycgPyBkYXRhLmZvbnRzW2ldLnN0eWxlIDogJ25vcm1hbCc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZm9udChkYXRhLmZvbnRzW2ldLm5hbWUsIHdlaWdodCwgc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucHJlbG9hZCA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICBwcmVsb2FkUmVxdWVzdChjb25maWcpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnByZWxvYWRCeVVybCA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICBpZiAocmVxdWVzdCkgcmVxdWVzdC5hYm9ydCgpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdXJsID09IFwic3RyaW5nXCIgJiYgdXJsLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt1cmw6IHVybH0sICdVbmFibGUgdG8gcGFyc2UgSlNPTiBmcm9tIFt7dXJsfV0uIFVua25vd24gcmVzcG9uc2UgZm9ybWF0LicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcHJlbG9hZFJlcXVlc3QocmVzdWx0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7dXJsOiB1cmx9LCAnVW5hYmxlIHRvIGdldCByZXNvdXJjZXMgZnJvbSBbe3VybH1dIHRvIHByZWxvYWQuIFNlcnZlciBlcnJvci4nKTtcclxuICAgICAgICAgICAgICAgIHByZWxvYWRSZXF1ZXN0KHt9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt1cmw6IHVybH0sICdVbmFibGUgdG8gZ2V0IHJlc291cmNlcyBmcm9tIFt7dXJsfV0gdG8gcHJlbG9hZC4gUmVxdWVzdCBhYm9ydGVkLicpO1xyXG4gICAgICAgICAgICAgICAgcHJlbG9hZFJlcXVlc3Qoe30pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcXVlc3Qub3BlbignR0VUJywgdXJsLCB0cnVlKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xyXG4gICAgICAgICAgICByZXF1ZXN0LnNlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZm9udCA9IGZ1bmN0aW9uIChzcmMsIHdlaWdodCwgc3R5bGUpIHtcclxuICAgICAgICByZXR1cm4gSW5qZWN0QnlUeXBlKCdmb250JywgW3NyYywgd2VpZ2h0LCBzdHlsZV0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgY0JDb250YWluZXIgPSB7XHJcbiAgICAgICAgbG9hZDogW10sXHJcbiAgICAgICAgZXJyb3I6IFtdLFxyXG4gICAgICAgIGFkZDogW11cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5vbiA9IGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICB2YXIgYXJyYXkgPSBjQkNvbnRhaW5lcltldmVudF07XHJcbiAgICAgICAgICAgIGlmIChhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtldmVudDogZXZlbnR9LCAnVW5hYmxlIHRvIHNldCBldmVudCBbe2V2ZW50fV0gY2FsbGJhY2suIGZ1bmMgaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtldmVudDogZXZlbnR9LCAnVW5hYmxlIHRvIHNldCBldmVudCBbe2V2ZW50fV0uIE5vIHN1Y2ggZXZlbnQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcud2FybignVW5hYmxlIHRvIHNldCBldmVudCBjYWxsYmFjay4gRXZlbnQgbmFtZSBpcyBub3QgYSBzdHJpbmcnKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMub2ZmID0gZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICB2YXIgYXJyYXkgPSBjQkNvbnRhaW5lcltldmVudF07XHJcbiAgICAgICAgICAgIGlmIChhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuYXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jLiQkU0VBUkNIID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXJyYXlbaV0uJCRTRUFSQ0gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hcnJheS5wdXNoKGFycmF5W2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmdW5jLiQkU0VBUkNIO1xyXG4gICAgICAgICAgICAgICAgICAgIGNCQ29udGFpbmVyW2V2ZW50XSA9IG5hcnJheTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2V2ZW50OiBldmVudH0sICdVbmFibGUgdG8gdW5zZXQgY2FsbGJhY2sgZm9yIGV2ZW50IFt7ZXZlbnR9XS4gTm8gc3VjaCBldmVudCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmFibGUgdG8gdW5zZXQgZXZlbnQuIEV2ZW50IGlzIG5vdCBhIHN0cmluZycpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5saXN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBbXS5jb25jYXQoY29udGFpbmVyLmltYWdlcykuY29uY2F0KGNvbnRhaW5lci5hdWRpb3MpLmNvbmNhdChjb250YWluZXIuZm9udHMpLmNvbmNhdChjb250YWluZXIuc3ByaXRlcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIFJlc29sdmVFdmVudCh0eXBlLCBkYXRhKSB7XHJcbiAgICAgICAgdmFyIGFycmF5ID0gY0JDb250YWluZXJbdHlwZV07XHJcbiAgICAgICAgaWYgKCFhcnJheSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGFycmF5W2ldLmFwcGx5KHNlbGYsIGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhcHAuJCgndGljaycsIGZ1bmN0aW9uICh0aW1lKSB7XHJcbiAgICAgICAgdGltZSA9IHRpbWUuZ2V0VGltZSgpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVyLnNwcml0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5zcHJpdGVzW2ldLnJlYWR5KCkgJiYgY29udGFpbmVyLnNwcml0ZXNbaV0ubG9hZGVkKCkgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnNwcml0ZXNbaV0udGljayh0aW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTYvMjAxNy5cclxuICovXHJcbiRSLmV4dChbJ0BhdWRpbycsICdAaW5qZWN0JywgJ0RlYnVnJywgZnVuY3Rpb24gU291bmQoY29udGV4dCwgaW5qZWN0LCBEZWJ1Zykge1xyXG5cclxuICAgIHZhciBkZXN0aW5hdGlvbiA9IGluamVjdCgnJEF1ZGlvJykuYnVpbGQoJyQkREVTVElOQVRJT04nLCAnZGVzdGluYXRpb24nKSxcclxuICAgICAgICBzb3VuZHMgPSB7fSxcclxuICAgICAgICBzb3VuZGNvdW50ID0gMCxcclxuICAgICAgICBjaGFubmVsY291bnQgPSAwLFxyXG4gICAgICAgIGNoYW5uZWxzID0ge1xyXG4gICAgICAgICAgICAkJERFU1RJTkFUSU9OOiBkZXN0aW5hdGlvblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgdGhpcy5zYW1wbGUgPSBmdW5jdGlvbiAodXJsLCBjaGFubmVsLCBuYW1lKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT0gXCJzdHJpbmdcIiAmJiB1cmwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBpZiAoc291bmRzW3VybF0pIHJldHVybiBzb3VuZHNbdXJsXTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiIHx8IG5hbWUubGVuZ3RoID09IDApIG5hbWUgPSAnVXNlclNvdW5kWycgKyBzb3VuZGNvdW50ICsgJ10nO1xyXG4gICAgICAgICAgICBzb3VuZGNvdW50Kys7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBpbmplY3QoJyRBdWRpbycpLmJ1aWxkKG5hbWUsIHVybCk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2hhbm5lbCAhPT0gXCJzdHJpbmdcIiB8fCBjaGFubmVsLmxlbmd0aCA9PSAwKSBjaGFubmVsID0gJyQkREVTVElOQVRJT04nO1xyXG4gICAgICAgICAgICB2YXIgb3V0ID0gdGhpcy5jaGFubmVsKGNoYW5uZWwpO1xyXG4gICAgICAgICAgICByZXN1bHQuY29ubmVjdChvdXQpO1xyXG4gICAgICAgICAgICBzb3VuZHNbcmVzdWx0LnVybCgpXSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIERlYnVnLndhcm4oe3VybDogdXJsfSwgJ1t7dXJsfV0gaXMgbm90IHZhbGlkIGF1ZGlvIHVybCBvciBlbXB0eS4nKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY2hhbm5lbCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09IFwic3RyaW5nXCIgJiYgbmFtZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFubmVsc1tuYW1lXSkgcmV0dXJuIGNoYW5uZWxzW25hbWVdO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGluamVjdCgnJEF1ZGlvJykuYnVpbGQobmFtZSk7XHJcblxyXG4gICAgICAgICAgICByZXN1bHQuY29ubmVjdChkZXN0aW5hdGlvbik7XHJcbiAgICAgICAgICAgIGNoYW5uZWxzW25hbWVdID0gcmVzdWx0O1xyXG4gICAgICAgICAgICBjaGFubmVsY291bnQgKys7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNoYW5uZWxzID0gZnVuY3Rpb24gKGJ5dXJsKSB7XHJcbiAgICAgICAgdmFyIGxpc3QgPSB7fSxcclxuICAgICAgICAgICAgYnl1cmwgPSAhIWJ5dXJsO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBjaGFubmVsIGluIGNoYW5uZWxzKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFubmVscy5oYXNPd25Qcm9wZXJ0eShjaGFubmVsKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYW5uZWwgIT09ICckJERFU1RJTkFUSU9OJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChieXVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0W2NoYW5uZWwudXJsKCldID0gY2hhbm5lbFtjaGFubmVsXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RbY2hhbm5lbF0gPSBjaGFubmVsc1tjaGFubmVsXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbGlzdDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zb3VuZHMgPSBmdW5jdGlvbiAoYnl1cmwpIHtcclxuICAgICAgICB2YXIgbGlzdCA9IHt9LFxyXG4gICAgICAgICAgICBieXVybCA9ICEhYnl1cmw7XHJcblxyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gc291bmRzKSB7XHJcbiAgICAgICAgICAgIGlmIChzb3VuZHMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChieXVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3RbcHJvcF0gPSBzb3VuZHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsaXN0W3NvdW5kc1twcm9wXS5uYW1lKCldID0gc291bmRzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbGlzdDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kZXN0aW5hdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY2hhbm5lbHMuJCRERVNUSU5BVElPTjtcclxuICAgIH07XHJcblxyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNC8yMDE2LlxyXG4gKi9cclxuJFIuZXh0KFsnQGluamVjdCcsIGZ1bmN0aW9uIFN0YXRlKGluamVjdCkge1xyXG5cclxuICAgIHZhciBzdGF0ZXMgPSB7fTtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gUGFyc2VBZGRyZXNzKGFkZHJlc3MpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gYWRkcmVzcy5tYXRjaCgvXihbYS16QS1aXSspLihbYS16QS1aXSspJC8pLFxyXG4gICAgICAgICAgICBzdGF0ZSA9IHJlc3VsdFswXSxcclxuICAgICAgICAgICAgcHJvcCA9IHJlc3VsdFsxXTtcclxuXHJcbiAgICAgICAgaWYoc3RhdGUgJiYgcHJvcCkgcmV0dXJuIHtzdGF0ZSA6IHN0YXRlLCBwcm9wIDogcHJvcH07XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICB0aGlzLndhdGNoID0gZnVuY3Rpb24gKGFkZHJlc3MsIGZ1bmMpIHtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybjtcclxuXHJcbiAgICAgICAgYWRkcmVzcyA9IFBhcnNlQWRkcmVzcyhhZGRyZXNzKTtcclxuXHJcbiAgICAgICAgaWYoIWFkZHJlc3MpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYoIXN0YXRlc1thZGRyZXNzLnN0YXRlXSkgc3RhdGVzW2FkZHJlc3Muc3RhdGVdID0gaW5qZWN0KCckU3RhdGUnKTtcclxuXHJcbiAgICAgICAgc3RhdGVzW2FkZHJlc3MucHJvcF0ud2hlbihhZGRyZXNzLnByb3AsIGZ1bmMpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kZWZpbmUgPSBmdW5jdGlvbiAoYWRkcmVzcywgdmFsdWUpIHtcclxuXHJcbiAgICAgICAgYWRkcmVzcyA9IFBhcnNlQWRkcmVzcyhhZGRyZXNzKTtcclxuXHJcbiAgICAgICAgaWYoIWFkZHJlc3MpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYoIXN0YXRlc1thZGRyZXNzLnN0YXRlXSkgc3RhdGVzW2FkZHJlc3Muc3RhdGVdID0gaW5qZWN0KCckU3RhdGUnKTtcclxuXHJcbiAgICAgICAgc3RhdGVzW2FkZHJlc3Muc3RhdGVdLmRlZmluZShhZGRyZXNzLnByb3AsIHZhbHVlKTtcclxuICAgIH07XHJcblxyXG59XSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
