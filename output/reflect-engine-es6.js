function Reflect(){}function Core(e){new Injection(e);for(var t=!0,n=0;n<expect.length;n++)if(!modules[expect[n]]){t=!1;break}return t&&BuildCore(),Core}function getRouteFunction(e){return function routeFunction(){var t=e.apply(Reflect,arguments);return void 0!==t?Reflect:t}.bind(core)}function BuildCore(){Core.get("Root");for(var e in properties)properties.hasOwnProperty(e)&&(core[e]=properties[e])}function Injection(e){if("function"!=typeof e||!e.name)throw new Error("Unable to createinjection. Constructor is not a named function!");modules[e.name]=this;var t=null;this.create=function(t){var n=[null];if(t&&"object"==typeof t&&t.constructor===Array)for(var r=0;r<t.length;r++)n.push(t[r]);return new(Function.prototype.bind.apply(e,n))},this.get=function(){if(t)return t;var e=this.create.apply(this,arguments[0]);return t=e,e},this.is=function(t){return t.constructor===e},this.extend=function(t,n){return"object"==typeof n&&n.constructor===Array?(e.apply(t,n),t):(e.call(t),t)}}var modules={},properties={},core=new Reflect,expect=["Application","Audio","Canvas","Classes","Config","Container","Fonts","Helpers","Injection","Root","Services","Source","Ticker"];Core.get=function(e,t){if("string"==typeof e){if(modules[e])return modules[e].get.apply(modules[e],t);throw new Error("Module ["+e+"] was not found")}throw new Error("Module name is not a string. Wrong arguments")},Core.is=function(e,t){if("string"==typeof t&&modules[t])return modules[t].is(e)},Core.inject=function(e,t){if("string"==typeof e){if(modules[e])return modules[e].create(t);throw new Error("Nodule ["+e+"] was not found.")}throw new Error("Module name is not a string. Wrong Arguments")},Core.extend=function(e,t,n){if("string"==typeof modules[e]){if("object"==typeof t)return modules[e].extend(t,n);throw new Error("Unable to extend target of tyoe ["+typeof t+"] bu module constructor ["+e+"].")}},Core.define=function(e,t){if(core||(core=new Reflect),"string"==typeof e){if(void 0!==properties[e])throw new Error("Unable to define property ["+e+"]. Already defined!");return"function"==typeof e?properties[e]=getRouteFunction(t):null===e&&"undefined"==typeof e&&"object"==typeof e||(properties[e]=t),core}};var $R=core;Core(function Application(e,t,n){var r=this;n.define("fps",58.8,{isNumber:!0,greater:0,under:61}).watch(function(e){t.fps(e)}),n.define("canvas",null,{isString:!0}).watch(function(t){e.element(t)}),this.$=function(e,t){if("string"!=typeof e)throw new Error("Unable to set API method. Name is not a string.");if("$"===e.charAt(0))throw new Error("Unable to set API function. Function name starts with $");if(this[e])throw new Error("Application API property ["+e+"] duplication!");if("function"!=typeof t)throw new Error("Application API property ["+e+"] value is not a function");this[e]=function(){var e=t.apply(this,arguments);return void 0===e?r:e}},this.config=function(e,t){if("string"==typeof e)if("undefined"!=typeof t&&"function"!=typeof t)n.set(e,t);else{if("function"!=typeof t)return n.get(e);n.watch(e,t)}else{if("object"!=typeof e||e.constructor===Array)throw new Error("Unable to config application. Config format is invalid");for(var r in e)e.hasOwnProperty(r)&&n.set(r,e[r])}return this}}),Core(function Audio(){var e=new AudioContext;this.context=function(){return e}}),Core(function Canvas(e){function DrawScene(e,t){if(u){c[0]=n,c[1]=e,c[2]=t;for(var r=0;r<s.length;r++)try{s[r].f.apply(a,c)}catch(o){throw console.error(o),new Error("Error emerged while drawing. \nQueue          : ["+s[r].o+"]\nQueue Ordering : ["+r+"]\nQueue Member   : ["+s[r].f.name+"]\nMessage        : "+o.message)}}}function resolve(e){for(var t=0;t<e.length;t++)e[t].call(a)}var t=null,n=null,r=[800,600],o=[],i=[],a=this,s=[],u=!1,c=[null,null,null];e.queue(0,DrawScene),this.element=function(e){if("string"==typeof e){var o=document.getElementById(e);if(!o||!o.getContext)throw new Error("Element with id [#"+e+"] was not found or not a canvas");var a=o.getContext("2d");if(!a)throw new Error("Element with id [#"+e+"] is not a canvas. Can not get 2d context.");o.setAttribute("width",r[0]),o.setAttribute("height",r[1]),n=a,t=o,u=!0,resolve(i)}else{if(!(e instanceof HTMLElement))return t;if(!e.getContext)throw new Error("Element is not a Canvas");var a=e.getContext("2d");if(!a)throw new Error("Element is not a Canvas. Can not get 2d context.");e.setAttribute("width",r[0]),e.setAttribute("height",r[1]),t=e,n=a,u=!0,resolve(i)}},this.queue=function(e,t){if("function"==typeof e){if(!e.name)throw new Error("Unable to enqueue callback. Provide a named function");s.push({o:0,f:t})}else{if("number"!=typeof e)throw new Error("Unable to enqueue callback. Wrong arguments.");if("function"!=typeof t)throw new Error("Unable to enqueue callback. Provide a named function");if(!t.name)throw new Error("Unable to enqueue callback. Provide a named function.");s.push({o:e,f:t})}return s.sort(function(e,t){return e.o-t.o}),this},this.size=function(e,n){return"number"==typeof e&&"number"==typeof n&&(e<0&&(e=0),n<0&&(n=0),r[0]===e&&r[1]===e||(r[0]=e,r[1]=n,t.setAttribute("width",e),t.setAttribute("height",n),resolve(o))),[r[0],r[1]]},this.resize=function(e){if("function"==typeof e)return o.push(e),this;throw new Error("Unable to set resize callback. f argument is not a function")},this.offresize=function(e){if("function"==typeof e)return o=o.filter(function(t){return t!==e}),o.push(e),this;throw new Error("Unable to set resize callback. f argument is not a function")},this["switch"]=function(e){if("function"==typeof e)return i.push(e),this;throw new Error("Unable to set switch callback. f argument is not a function")},this.ready=function(){return u}}),Core(function Classes(){function cls(e){try{var r=Core.inject("Injection",[e]);n[r.name()]&&console.warn("Global Class Library class ["+r.name()+"] has been overwritten.");for(var o in t)t.hasOwnProperty(o)&&t[o][r.name()]&&console.warn("Application ["+o+"] Class ["+r.name()+"] overrides global class.");n[r.name()]=r}catch(i){throw new Error("Unable to create class injection.")}}var e={},t={},n={};cls.app=function(e,r){if("string"!=typeof e)throw new Error("Unable to register ApplicationClass injection. App id is not a string.");t[e]||(t[e]={});try{var o=Core.inject("Injection",[r]);n[o.name()]&&console.warn("Application ["+e+"] Class ["+o.name()+"] overrides global class."),t[e][o.name()]=o}catch(i){throw new Error("Unable to create and register ApplicationClass for sources ["+e+"].")}},cls.sys=function(t){try{var n=Core.inject("Injection",[t]);e[n.name()]&&console.warn("System Class ["+n.name()+"] override."),e[n.name()]=n}catch(r){throw new Error("Unable to register SystemClass injection")}},this.getApplicationClasses=function(e){if("string"==typeof e){var r=Core.inject("Container",[n]);return t[e]?(r.source(r,"."),r.merge(t),r):(r.source(r,"."),r)}throw new Error("Unable to get application classes container. App id is not a string.")},this.getSystemClasses=function(){var t=Core.inject("Container",[e]);return t.source(t,"."),t},Core.define("class",cls)}),Core(function Config(){function Property(e,n,r){function checkValue(e){for(var n=!0,r=0;r<o;r++)if(!t[o[r].f](e,o.args)){n=!1;break}return n}var o=[],i=[];this.get=function(){var e=n;if(t.isArray(e)){e=[];for(var r=0;r<n.length;r++)e.push(n[r])}return e},this.name=function(){return e},this.set=function(e){if(checkValue(e))if(t.isArray(e)){n=[];for(var r=0;r<e.length;r++)n.push(e[r])}else n=e;for(var r=0;r<i.length;r++)i[r].call(this,this.get());return this.get()},this.watch=function(e){if("function"!=typeof e)throw new Error("Can not set config property watcher. Argument f is not a function.");return i.push(e),n};for(var a in r)if(r.hasOwnProperty(a)){if(void 0===r[a])throw new Error("Wrong parameter for config property ["+a+"]");if(!t[a])throw new Error("No such config value checker as ["+a+"]");o.push({f:a,args:[r[a]]})}if("object"==typeof n&&null!==n&&!t.isArray(n))throw new Error("Objects are not supported as config property value!");if(!checkValue(n))throw new Error("Initial ["+e+"]'s value does not meet config requirements.")}var e={},t={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isArray:function(e){return"object"==typeof e&&e.constructor===Array},custom:function(e,t){if("function"==typeof t[0])return t[0](e)},under:function(e,n){return t.isNumber(e)&&e<n[0]},greater:function(e,n){return t.isNumber(e)&&e>n[0]},eq:function(e,n){return t.isNumber(e)&&e===n[0]},isBool:function(e){return"boolean"==typeof e}};this.define=function(t,n,r){if("string"!=typeof t)throw new Error("Unable to define config property. Property name is not a string.");if(void 0===n)throw new Error("Config property value can not be undefined.");if(e[t])console.warn("Config property duplication on property name ["+t+"]");else try{e[t]=new Property(t,n,r)}catch(o){throw console.error("Unable to create config property ["+t+"]"),o}return e[t]},this.set=function(t,n){if("string"==typeof t&&e[t])return e[t].set(n);throw new Error("Unable to set property ["+t+"]. No such property.")},this.get=function(t){if("string"==typeof t)return e[t].get();throw new Error("Unable to get property ["+t+"]. No such property.")},this.watch=function(t,n){if("string"==typeof t){if("function"==typeof n){if(e[t])return e[t].watch(n);throw new Error("No such property as ["+t+"] to watch.")}throw new Error("Watcher callback is not a function")}throw new Error("Unable to watch config property. Property name is invalid or undefined")}}),Core(function Container(e,t){var n={},r={},o={};if(this.list=function(){return n},this.injection=function(e){var t=null,r=[];if("function"==typeof e){if(!e.name||!e.name.length)throw new Error("Anonymous function can not be injection constructor.");t=e}else{if("object"!=typeof e||e.constructor!==Array)throw new Error("Unknown type of injection config.");for(var o=0;o<e.length;o++){if("string"!=typeof e[o]||!e[o].length){if("function"==typeof e[o]&&e[o].name){t=e[o];break}throw new Error("Unknown type of injection name or constructor.")}r.push(e[o])}}r.push(t),n[t.name]&&console.warn("Injection ["+t.name+"] duplicated and has been overwritten"),n[t.name]=Core.inject("Injection",[r])},this.merge=function(t,r){if(t)try{for(var o in t)t.hasOwnProperty(o)&&Core.is(t[o],"Injection")&&(n[t[o].name()]&&console.warn("Injection ["+o+"] has been merged.s"),r?n[e[o].name()]=e[o].clone():n[e[o].name()]=e[o])}catch(i){throw new Error("Unable to merge libs.")}},this.source=function(e,t){if(e&&"object"==typeof e)if(Core.is(e,"Container")){if(t||(t=!1),"string"==typeof t&&t.length||t===!1){e.$$LOOP=!0;var n=!1;this.$LOOP&&(n=!0),delete e.$$LOOOP,r[t?t:"$$noprefix"]=Core.inject("Source",[t,e,n])}}else if(e.constructor===Array){for(var o=!0,n=[],i=0;i<e.length;i++)"object"==typeof e[i]&&Core.is(e[i],"Container")?(e[i].$$LOOOP=!0,this.$$LOOOP?n.push(!0):n.push(!1),delete e[i].$$LOOOP):o=!1;if(!o)throw new Error("Source container config is not valid. One of the containers provided is not an InjectionContainer instance");t||(t=!1),("string"==typeof t&&t.length||t===!1)&&(r[t?t:"$$noprefix"]=Core.inject("Source",[t,e,n]))}},this.clone=function(){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t].clone());var o=Core.inject("Container",[e]);for(var i in r){for(var a=r[i].containers(),s=r[i].loop(),u=r[i].prefix(),c=[],l=0;l<a.length;l++)s[l]?c.push(o):c.push(a[l].clone());o.source(c,u)}return o},this.findSourceByPrefix=function(e){return e===!1?r.$$noprefix:"string"==typeof e?r[e]:null},this.findSourceByInjectionName=function(e){var t=null;if(o[e])return o[e];for(var n in r)if(r.hasOwnProperty(n)&&r[n].prefix()&&r[n].has(e)){t=r[n],o[e]=t;break}if(!t&&r.$$noprefix&&r.$$noprefix.has(e)&&(t=r.$$noprefix,o[e]=t),!t)throw new Error("Unable to find source containing injection ["+e+"]. ");return t},this.resolve=function(e,t){if("extend"===t){if(n[e]){for(var r={dependencies:[],$constructor:n[e].$constructor()},o=n[e].dependencies(),i=0;i<o.length;i++)if("@extend"===o[i])r.dependencies.push(n[e].extend(this));else if("@inject"===o[i])r.dependencies.push(n[e].inject(this));else{var a=this.findSourceByInjectionName(o[i]);if(!a)throw new Error("No source found containing ["+o[i]+"] for ["+e+"].");r.dependencies.push(a.resolve(o[i]))}return r}throw new Error("Unable to inject ["+e+"] no such injection found")}if(this.has(e)){for(var o=n[e].dependencies(),s=[],u=0;u<o.length;u++)if("@extend"===o[u])s.push(n[e].extend(this));else if("@inject"===o[u])s.push(n[e].inject(this));else{var c=this.findSourceByInjectionName(o[u]);if(!c)throw new Error("Injection ["+o[u]+"] for ["+e+"] source was not found.");s.push(c.resolve(o[u]))}return n[e].create(s,t)}throw new Error("Injection ["+e+"] was not found in library!")},this.resolveDirectInjection=function(e){var t=this.findSourceByInjectionName(e);return t?t.resolve(e,!0):t},this.has=function(e){return!!n[e]},this.get=function(e){return n[e]?n[e]:null},Core.is(e,"Injection"))n[e.name()]=e.clone();else if("object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&Core.is(e[i],"Injection")&&(t?n[e[i].name()]=e[i]:n[e[i].name()]=e[i].clone());else if(void 0!==e)throw new Error("Unable to create container. Wrong arguments. Lib is Injection or object")}),Core(function Fonts(e,t){function fontString(t){if(!o)return!1;for(var n="",r=0;r<t.weight.length;r++)for(var u=0;u<t.style.length;u++){for(var c=e.get("fontDir")+"/"+t.name+"-"+t.weight[r]+"-"+t.style[u],l='@font-face {font-family: "'+s.format(t.name)+"-"+t.weight[r]+'";src:',f=0;f<i.length;f++)l+=a[i[f]](c,t.name,t.style[u]),l+=f<i.length-1?",":";";l+="font-weight: "+t.weight[r]+";",l+="font-style:"+t.style[u]+";}",t[t.weight[r]+"-"+t.style[u]]=l,n+=t[t.weight[r]+"-"+t.style[u]]}return n}function update(e){var t="";for(var o in r)r.hasOwnProperty(o)&&(t+=fontString(r[o],e));n.innerHTML=t}function inArray(e,t){for(var n=!1,r=0;r<e.length;r++)if(e[r]===t){n=!0;break}return n}var n=document.createElement("style"),r={},o=!1,i=e.define("fontFormats",["eot","svg","ttf","woff"],{isArray:!0,custom:function(e){for(var t=!0,n=0;n<e.length();n++)if("eot"!==e[n]||"svg"!==e[n]||"ttf"!==e[n]||"woff"!==e[n]){t=!1;break}return t}}).watch(function(e){o=!0,i=e,update()}),a={eot:function(e){return'url("'+e+'.eot?#iefix") format("embedded-opentype")'},woff:function(e){return'url("'+e+'.woff") format("woff")'},ttf:function(e){return'url("'+e+'.ttf") format("truetype")'},svg:function(e,t,n){return'url("'+e+".svg#"+t+"-"+(n.charAt(0).toUpperCase()+n.slice(1))+'") format("svg")'}},s=this;e.define("fontDir","./fonts",{isString:!0}),document.getElementsByTagName("head")[0].appendChild(n),this.font=function(e,t,n,o){r[t]||(r[t]={name:t}),r[t].weight||(r[t].weight=[]),r[t].style||(r[t].style=[]),inArray(r[t].weight,n)||r[t].weight.push(n),inArray(r[t].style,o)||r[t].style.push(o),update(e)},this.format=function(e){return t+"-"+e},this.formats=function(){for(var e=[],t=0;t<i.length;t++)e.push(i[t]);return e}}),Core(function Helpers(){function helper(t){try{var n=Core.inject("Injection",[t]);e[n.name()]&&console.warn("helper ["+n.name()+"] override."),e[n.name()]=n}catch(r){throw new Error("Unable to create Helper.")}}var e={},t={};Core.define("helper",helper),helper.system=function(n,r){try{var o=Core.inject("Injection",[n]);t[o.name()]&&console.warn("System Helper ["+o.name()+"] Duplicate declaration override."),t[o.name()]=o,r&&(e[o.name()]?console.warn("System Helper ["+o.name()+"] overrides user helper. Skipped system helper."):e[o.name()]=o)}catch(i){}},this.getSystemHelpers=function(e){var n=Core.inject("Container",[t]);return n.source(n,"+"),n.source(e,"@"),n},this.getPublicHelpers=function(t){var n=Core.inject("Container",[e]);return n.source(n,"+"),n.source(t,"@"),n}}),Core(function Injection(e,t){var n=e,r=null,o=[],i=this;if(t){if("object"!=typeof e)throw new Error("Unable to create PreResolvedInjection! con argument is not an object!");n=e.constructor,r=e,o=[]}else{if("function"==typeof e&&e.name)n=e;else if("object"==typeof e&&e.constructor===Array)for(var a=0;a<e.length;a++)if("string"==typeof e[a]&&e[a].length)o.push(e[a]);else if("function"==typeof e[a]&&e[a].name){n=e[a];break}if(!n)throw new Error("Injection constructor undefined!")}this.name=function(){return n.name},this.dependencies=function(){for(var e=[],t=0;t<o.length;t++)e.push(o[t]);return e},this.extend=function(e){if(t)throw new Error("You can not extend with ["+n.name+"]!");return function(t,n){if("object"!=typeof t)throw new Error("Extend target should be an object!");if("string"!=typeof n)throw new Error("Extend class name should be a string!");var r=e.findSourceByInjectionName(n);if(!r)throw new Error("Unable to find injection ["+n+"] for ["+i.name()+"]");var o=r.resolveInjectionDependancies(n);o.$constructor.apply(t,o.dependencies)}},this.inject=function(e){if(t)throw new Error("You can not inject ["+n.name+"] directly");return function(t){return e.resolveDirectInjection(t)}},this.create=function(e,o){return t?r:o?(e.unshift(null),new(Function.prototype.bind.apply(n,e))):(r||(e.unshift(null),r=new(Function.prototype.bind.apply(n,e))),r)},this.$constructor=function(){return n},this.clone=function(){return new Injection(e,t)}}),Core(function Root(){function createApplication(o){var i=Core.inject("Container",[e[o]]),a=Core.inject("Ticker"),s=Core.inject("Canvas",[a]),u=Core.inject("Audio",[]),c=Core.inject("Config",[o]),l=Core.inject("Fonts",[c,o]),f=Core.inject("Application",[s,a,c]),h={};h.Ticker=Core.inject("Injection",[a,!0]),h.Canvas=Core.inject("Injection",[s,!0]),h.API=Core.inject("Injection",[f,!0]),h.Fonts=Core.inject("Injection",[l,!0]),h.Config=Core.inject("Injection",[c,!0]),h.Audio=Core.inject("Injection",[u,!0]);var p=Core.inject("Container",[h]),v=r.getSystemHelpers(p),d=r.getPublicHelpers(p),g=n.getApplicationClasses(o),y=n.getSystemClasses(o),b=t.getApplicationServices(v,y,p);i.source(b,!1),i.source(g,"."),i.source(d,"+"),i.source(p,"@"),g.source(b,!1),g.source(p,"@"),g.source(v,"+");for(var m=0;m<b.length;m++){var w=b[m].list();for(var C in w)w.hasOwnProperty(C)&&b[m].resolve(C)}return i.resolve(o),f}var e={},t=Core.get("Services"),n=Core.get("Classes"),r=Core.get("Helpers");Core.define("app",function(t){try{var n=Core.inject("Injection",[t]);e[n.name()]&&console.warn("Application ["+n.name()+"] override. Remove duplicates"),e[n.name()]=n}catch(r){throw console.error("Unable to register Application constructor."),r}}),Core.define("run",function(t){if("string"==typeof t){if(e[t])return createApplication(t);throw new Error("Application ["+t+"] not found.")}throw new Error("Unable to get sources. App Id is not a string")})}),Core(function Services(){function service(t){if("object"==typeof t&&t.constructor===Array){for(var n=null,r=0;r<t.length;r++)if("function"==typeof t[r])n=t[r].name;else if("string"!=typeof t[r])throw new Error("Unable to create service. Invalid config");n&&(e[n]&&console.warn("Duplicate declaration. Service ["+n+"] has been overwritten"),e[n]=Core.inject("Injection",[t]))}else if("function"==typeof t){if(!t.name)throw new Error("Unable to create service. Constructor is not a named function.");e[t.name]&&console.warn("Duplicate declaration. Service ["+n+"] has been overwritten"),e[t.name]=Core.inject("Injection",[t])}}function plugin(e,t){if("string"!=typeof e)throw new Error("Unable to create plugin. Invalid arguments.");if("object"==typeof t&&t.constructor===Array){for(var r=null,o=0;o<t.length;o++)if("function"==typeof t[o])r=t[o].name;else if("string"!=typeof t[o])throw new Error("Unable to create plugin. Invalid constructor arguments");if(!r)throw new Error("Unable to create plugin. Constructor is not a named function");n[e]||(n[e]={}),n[e][r]&&console.warn("Plugin duplicated. ["+r+"] has been overwritten"),n[e][r]=Core.inject("Injection",[t])}}function getPluginManager(e){function Plugins(){for(var t=[],n=0;n<e.length;n++){var r=e[n].list();for(var o in r)r[o].$constructor()!==Plugins&&t.push(o)}this.each=function(e){for(var n=0;n<t.length;n++)e(t[n]);return this},this.list=function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}}return Core.inject("Container",[Core.inject("Injection",[Plugins])])}var e={},t={},n={},r={};plugin["class"]=function(e,t,n){if("string"==typeof e){if("string"!=typeof t)throw new Error("Unable to create plugin. Invalid arguments.");if("object"==typeof n&&n.constructor===Array){for(var o=null,i=0;i<n.length;i++)if("function"==typeof n[i])o=n[i].name;else if("string"!=typeof n[i])throw new Error("Unable to create plugin class. Invalid constructor arguments");if(!o)throw new Error("Unable to create plugin. Constructor is not a named function");r[e]||(r[e]={}),r[e][t]||(r[e][t]={}),r[e][t][o]&&console.warn("Plugin class duplicated. ["+o+"] has been overwritten"),r[e][t][o]=Core.inject("Injection",[n])}else{if("function"!=typeof n)throw new Error("Unable to register plugin class. Invalid arguments");n.name&&(r[e]||(r[e]={}),r[e][t]||(r[e][t]={}),r[e][t][n.name]&&console.warn("Plugin class duplicated. ["+n.name+"] has been overwritten"),r[e][t][n.name]=Core.inject("Injection",[n]))}}},service["class"]=function(e,n){var r=null;if("string"!=typeof e)throw new Error("Unable to create class. Invalid arguments");if("function"==typeof n){if(!n.name)throw new Error("Unable to create class for extension ["+e+"]. Constructor is not a named function");t[e]||(t[e]={}),t[e][n.name]=Core.inject("Injection",[n])}else if("object"==typeof n&&n.constructor===Array){for(var o=0;o<n.length;o++)if("function"==typeof n[o])r=n[o].name;else if("string"!=typeof n[o])throw new Error("Unable to create class for service["+e+"]. Invalid config.");r&&(t[e]||(t[e]={}),t[e][r]&&console.warn("Duplicate declaration. Class ["+r+"] for extension ["+e+"] has been overwritten"),t[e][r]=Core.inject("Injection",[n]))}},Core.define("service",service),Core.define("plugin",plugin),this.getApplicationServices=function(o,i,a){var s,u,c={},l={},f={},h={};for(var p in e)if(e.hasOwnProperty(p)){s=Core.inject("Container",[e[p]]);var v=[];if(n[p])for(var d in n[p])if(n[p].hasOwnProperty(d)){if(u=Core.inject("Container",[n[p][d]]),f[p]||(f[p]={}),f[p][d]=u,r[p][d]){var g=Core.inject("Container",[r[p][d]]);h[p]||(h[p]={}),h[p][d]=g,u.source(g,"$"),g.source(g,"$"),g.source(i,"."),g.source(o,"+")}u.source(a,"@"),u.source(i,"."),u.source(o,"+"),v.push(u)}if(v.push(getPluginManager(v)),s.source(v,"<"),s.source(i,"."),s.source(o,"+"),s.source(a,"@"),t[p]){var y=Core.inject("Container",[t[p]]);s.source(y,"$"),y.source(y,"$"),y.source(i,"."),y.source(v,"<"),y.source(o,"+"),y.source(a,"@"),l[p]=y}else l[p]=null;c[p]=s}for(var b in c)if(c.hasOwnProperty(b)){var m=[];for(var w in c)c.hasOwnProperty(w)&&b!==w&&m.push(c[w]);if(c[b].source(m,!1),l[b]&&l[b].source(m,!1),f[b])for(var C in f[b])f[b].hasOwnProperty(C)&&f[b][C].source(m,!1);if(h[b])for(var x in h[b])h[b].hasOwnProperty(x)&&h[b][x].source(m,!1)}var A=[];for(var j in c)c.hasOwnProperty(j)&&A.push(c[j]);return o.source(A,!1),A}}),Core(function Source(e,t,n){function stripPrefix(t){if(e){for(var n="",o=0;o<t.length;o++)o>=r.length&&(n+=t[o]);return n}return t}var r=!!e&&e,o=[],i={},a={};if("object"==typeof t)if(Core.is(t,"Container"))o=[t];else{if(t.constructor!==Array)throw new Error("Invalid type if container!");for(var s=!0,u=0;u<t.length;u++){if(!Core.is(t[u],"Container")){s=!1;break}o.push(t[u])}if(0===t.length&&(s=!1),!s)throw new Error("Container array is empty!")}this.check=function(t){if(a[t])return a[t];var n=!0;if(e)for(var r=0;r<e.length;r++)t[r]&&t[r]===e[r]||(n=!1);return a[t]=n,n},this.has=function(e){var t=!1;if(i[e])return!0;if(this.check(e))for(var n=0;n<o.length;n++){var r=stripPrefix(e);if(o[n].has(r)){t=!0,i[e]=o[n];break}}return t},this.loop=function(){return n},this.containers=function(){return o},this.source=function(){for(var e=0;e<o.length;e++)o[e].source.apply(o[e],arguments)},this.prefix=function(e){return void 0!==e?e===r:r},this.resolve=function(e,t){var n=null;if(this.has(e)){var r=null,a=stripPrefix(e);i[e]&&(r=i[e]);for(var s=0;s<o.length;s++)o[s].has(a)&&(r=o[s]);r&&(n=r.resolve(a,t))}return n},this.resolveInjectionDependancies=function(e){var t=null,n=null;if(i[e])return n=stripPrefix(e),i[e].resolve(n,"extend");if(this.has(e)){n=stripPrefix(e);for(var r=0;r<o.length;r++)o[r].has(n)&&(t=o[r],i[e]=o[r]);if(t)return t.resolve(n,"extend")}}}),Core(function Ticker(){function resolve(e,t){var n=[];if("object"==typeof t&&t.constructor===Array?n=t:void 0!==t&&n.push(t),"string"!=typeof e||!e.length)throw new Error("Unable to resolve event. Event parameter is not a string or empty");if(!s[e])throw new Error("Unable to resolve event ["+e+"]. No such event.");for(var r=0;r<s[e].length;r++)s[e][r].apply(u,n)}var e=(1e3/58.8).toFixed(2),t=[],n=0,r=[null,0],o=function(){for(var e=0;e<t.length;e++)try{t[e].f.apply(u,r)}catch(o){throw new Error("Error emerged while resolving callbacks.\nQueue   : ["+t[e].o+"]\nOrder   : ["+e+"]\nName    : ["+t[e].f.name+"].\nMessage : "+o.message)}n++},i=function(){r[0]=new Date,r[1]=n;try{o()}catch(e){throw clearInterval(a),resolve("error",e),new Error("Unable to run ticker anymore. Error emerged during sources ticker progress.\n Frame :"+n+"\nDate  : "+r[0]+"\n"+e.message)}},a=null,s={stop:[],start:[],error:[]},u=this;this.on=function(e,t){if("string"!=typeof e||!e.length)throw new Error("Unable to set event. Event argument is not a string or empty.");if(!s[e])throw new Error("Unable to set event ["+e+"] handler. No such event.");if("function"!=typeof t)throw new Error("Unable to set event ["+e+"]. Callback is not a function.");return s[e].push(t),this},this.stop=function(){return a&&(n=0,clearInterval(a),a=null,resolve("stop",this)),this},this.start=function(){return a||(a=setInterval(i,e),resolve("start",this)),this},this.fps=function(t){return"number"!=typeof t?(1e3/e).toFixed(2):(t>60&&(t=60),t<=0&&(t=1),e=(1e3/t).toFixed(2),a&&(this.stop(),this.start()),this)},this.queue=function(e,n){if("function"==typeof e){if(!e.name)throw new Error("Unable to set callback. Callback is not a named function.");t.push({o:0,f:n})}else{if("number"!=typeof e)throw new Error("Unable to create callback. Wrong arguments passed");if("function"!=typeof n)throw new Error("Unable to queue. callback is not a function");if(!n.name)throw new Error("Unable to set callback. Callback is not a named function.");t.push({o:e,f:n})}return t.sort(function(e,t){return e.o>t.o}),this}}),$R.plugin("Objects",["@inject","Debug",function Animation(e,t){function findCompetitor(e,t){t.$$SELF=!0;for(var r=null,o=0;o<n.length;o++)if(!n[o].$$SELF&&n[o].active()&&!n[o].done()){for(var i=!1,a=0;a<e.length;a++)if(n[o].hasProperty(e[a])){i=!0;break}i&&(r||(r=[]),r.push(n[o]))}return delete t.$$SELF,r}function CheckAnimationQueue(){for(var e=[],t=0;t<n.length;t++)if(n[t].active())n[t].done()||e.push(n[t]);else{var r=n[t].properties();if(n[t].queue())findCompetitor(r,n[t])||n[t].start();else{var o=findCompetitor(r,n[t]);if(o)for(var i=0;i<o.length;i++)for(var a=0;a<r.length;a++)o[i].stop(r[a]);n[t].start()}e.push(n[t])}n=e}function CreateAnimationType1(t,r,i,a){var s=this.extension("Style"),u={};if(u[t]=r,o[t]){var c=[{ordering:s.ordering(t),morph:o[t],value:r}],l={};i&&"number"==typeof i&&(l.duration=i),a&&"string"==typeof a&&(l.easing=a);var f=e("$Animation");f.config(this,c,l,CheckAnimationQueue),n.push(f)}}function CreateAnimationType2(r,i,a){var s=this.extension("Style"),u={};"object"==typeof i?u=i:"number"==typeof i?(u={duration:i},"string"==typeof a&&(u.easing=a)):"string"==typeof i&&(u={easing:i});var c={};for(var l in r)r.hasOwnProperty(l)&&(o[l]?c[l]={ordering:s.ordering(l),morph:o[l],value:r[l]}:t.warn({type:this.type(),property:l},"Property {property} of {type} can not be animated!"));var f=[];for(var h in c)f.push(c[h]);if(f.sort(function(e,t){return e.ordering-t.ordering}),f.length){var p=e("$Animation");p.config(this,f,u,CheckAnimationQueue),n.push(p)}else t.warn("No properties to animate!")}var n=[],r=!1,o={};this.morph=function(t,n,r,i){var a=e("$Morph");a.config(t,this.object(),n,r,i),a.valid()&&(o[t]=a)},this.extractMorph=function(e){return o[e]},this.register("animate",function(e,n,r,o){return"string"==typeof e&&n?CreateAnimationType1.apply(this,arguments):"object"==typeof e&&e.constructor!==Array?CreateAnimationType2.apply(this,arguments):t.warn("Unable to create animation. Wrong arguments"),CheckAnimationQueue(),this}),this.register("animated",function(){return r}),this.register("stop",function(e){for(var t=0;t<n.length;t++)n[t].stop(e);return this}),this.destroy(function(){for(;n[0];)n[0].stop(),n.unshift();n=void 0,r=void 0;for(var e in o)o.hasOwnProperty(e)&&delete o[e]})}]),$R.plugin("Objects",["Debug","@inject",function Box(e,t){function BoxWrapperFunc(){if(n&&o)return n.call(o,r),r}var n=null,r=t("$Box");this.f=function(t){return"function"!=typeof t?void e.error("Box Extension / Box function is not a function!"):(n=t,void delete this.f)};var o=this.object();this.box=function(){return o.extension("Cache").value("box",BoxWrapperFunc)},this.purge=function(){o.extension("Cache").purge("box");var e=o.parent();e&&e.extension("Box").purge()},this.register("box",function(){return this.extension("Cache").value("box",BoxWrapperFunc).get()}),this.register("width",function(){return this.extension("Cache").value("box",BoxWrapperFunc).get().size[0]}),this.register("height",function(){return this.extension("Cache").value("box",BoxWrapperFunc).get().size[1]}),this.register("left",function(){return this.extension("Cache").value("box",BoxWrapperFunc).get().position[0]}),this.register("top",function(){return this.extension("Cache").value("box",BoxWrapperFunc).get().position[1]}),this.destroy(function(){n=void 0,r=void 0})}]),$R.plugin("Objects",["Debug",function Cache(e){var t={};this.value=function(n,r){return"string"!=typeof n?void e.error("Object Value Cache / name is not a string!"):"function"!=typeof r?void e.error("Object Value Cache / func is not a function"):(t[n]||(t[n]={value:r(),func:r,relevant:!0}),this.get(n))},this.purge=function(n){return"string"!=typeof n?void e.error("Object Value Cache / Can not purge cache of non string name"):void(t[n]&&(t[n].relevant=!1))},this.get=function(n){return"string"!=typeof n?void e.error("Object Value Cache / Can not get value of non-string name"):t[n]?(t[n].relevant||(t[n].value=t[n].func(),t[n].relevant=!0),t[n].value):void 0},this.destroy=function(){var e;for(e in t)t.hasOwnProperty(e)&&delete t[e]}}]),$R.plugin("Objects",["Debug",function Drawer(e){function renderAllowed(e){if(i.length>0){for(d=0;d<i.length&&(a=i[d].apply(r,e),a!==!1);d++);return a}return!0}var t=null,n=null,r=this.object(),o=0,i=[],a=!0,s=null,u=[],c=0,l=!1,f={},h={},p=0,v=0;this.spriteUpdated=function(t){this.$$CALL?l=!0:"function"==typeof t?u.push(t):e.error({cb:typeof t},"Sprite update callback {cb} is not a function.",this)};var d=0;this.drawFunction=function(n){return"function"!=typeof n?(e.error({},"ObjectDrawer / func is not a function!"),void delete this.drawFunction):(t=n,void delete this.drawFunction)},this.updateFunction=function(t){return"function"!=typeof t?(e.error({},"ObjectDrawer / func is not a function!"),void delete this.updateFunction):(n=t,void delete this.updateFunction)},this["export"]=function(){if(null===s)return s=arguments[0],this["export"]=function(){if(l){for(c=0;c<u.length;c++)u[c].call(r);l=!1}return"function"==typeof s?s():s},delete this.exports,this},this.filter=function(t){"function"==typeof t?i.push(t):e.error({tfunc:typeof t},"Drawer Filter callback {tfunc} is not a function",this)},this.pipe=function(t,n){return n=void 0===n?0:n,"number"==typeof n?"function"==typeof t?(n>100?(h[n]||(h[n]=[]),h[n].push(t),v++):(f[n]||(f[n]=[]),f[n].push(t),p++),o++):e.error({ftype:typeof t},"Pipe callback {ftype} is not a function",this):e.error({order:n},"Invalid pipe function ordering {order}",this),r},this.unpipe=function(e){if("function"==typeof e){var t;for(t in f)f.hasOwnProperty(t)&&(f[t]=f[t].filter(function(t){return t!==e||(o--,
p--,!1)}));for(t in h)h.hasOwnProperty(t)&&(h[t]=h[t].filter(function(t){return t!==e||(o--,v--,!1)}))}return r},this.register("pipe",this.pipe),this.register("unpipe",this.unpipe);var g=0,y=0,b=null,m=null,w=null,C=[null,null,null];this.draw=function(){if(l){for(c=0;c<u.length;c++)u[c].call(r);l=!1}if(a=!0,renderAllowed(arguments)){if(C[0]=arguments[0],C[1]=arguments[1],C[2]=arguments[2],b=C[0],b.save(),n&&n.apply(this,C),p)for(y in f){if(f.hasOwnProperty(y))for(g=0;g<f[y].length&&(C[0].save(),w=f[y][g].apply(this,C),C[0].restore(),m=!!w&&w,C[0]=m,m);g++);if(!m)break}if(C[0]&&(C[0]===b?(C[0].globalCompositeOperation=r.extension("Style").get("blending"),C[0].globalAlpha*=r.extension("Style").get("opacity"),t&&t.apply(this,C)):(b.globalCompositeOperation=r.extension("Style").get("blending"),b.globalAlpha*=r.extension("Style").get("opacity"),t&&t.apply(this,C),b.drawImage(C[0].canvas,0,0,C[0].canvas.width,C[0].canvas.height),C[0]=b),v))for(y in h){if(h.hasOwnProperty(y))for(g=0;g<h[y].length&&(C[0].save(),w=h[y][g].apply(this,C),C[0].restore(),m=!!w&&w,C[0]=m,m);g++);if(!m)break}b.restore()}},this.destroy(function(){t=void 0,n=void 0,r=void 0,o=void 0,i=[],a=void 0,s=void 0,u=[],c=void 0,l=void 0,f={},h={},p=void 0,v=void 0,g=void 0,y=void 0,b=void 0,m=void 0,w=void 0,C=[null,null,null],d=void 0;for(var e;i[0];)i.shift();for(i=void 0;u[0];)u.shift();for(u=void 0;C[0];)C.shift();C=void 0;for(e in f)if(f.hasOwnProperty(e)){for(;f[e][0];)f[e].unshift();delete f[e]}for(e in h)if(h.hasOwnProperty(e)){for(;h[e][0];)h[e].unshift();delete h[e]}f=void 0,h=void 0})}]),$R.plugin("Objects",["Debug",function Layers(e){function removeObjectFromLayers(e){var n=!1;for(var r in t)if(t.hasOwnProperty(r)){n=!1;for(var o=0;o<t[r].length;o++)if(t[r][o]===e){n=!0,t[r].splice(o,1);break}if(n)break}}var t={0:[]},n=0;this.register("layer",function(t){if(void 0===t)return n;if("number"!=typeof t||t<0)return e.warn({n:t},"Value {n} is not a number or less than 0",this),this;if(this.parent()){var r=this.parent().extension("Layers");r.place(t,this)}return n=t,this}),this.place=function(e,n){removeObjectFromLayers(n),t[e]||(t[e]=[]),t[e].push(n)},this.remove=function(e){removeObjectFromLayers(e)},this.forEach=function(e){var n=0,r=null;for(r in t)for(n=0;n<t[r].length;n++)e.call(t[r][n],t[r][n])},this.layers=function(){return t},this.destroy(function(){var e;n=void 0;for(e in t)if(t.hasOwnProperty(e)){for(;t[e][0];)t[e][0].destroy(),t[e].shift();delete t[e]}})}]),$R.plugin("Objects",["Debug",function Matrix(e){function MatrixWrapper(){return t.call(n)}var t=null,n=this.object();this.f=function(e){"function"==typeof e&&(t=e,delete this.f)},this.register("matrix",function(){return this.extension("Cache").value("transformMatrix",MatrixWrapper)}),this.purge=function(){if(n.extension("Cache").purge("transformMatrix"),"Group"===n.type()){var e=n.extension("Layers");e.forEach(function(){this.extension("Cache").purge("transformMatrix")})}},this.destroy(function(){t=void 0,n=void 0})}]),$R.plugin("Objects",["+Mouse","Debug",function Mouse(e,t){function GetEventArray(e){return n[e]}var n={dragmove:[],dragstart:[],dragend:[],mousemove:[],mouseup:[],mousedown:[],mouseenter:[],mouseleave:[]},r=!1,o=function(){return!1};this.register("on",function(e,r){if(void 0===typeof e&&void 0===typeof r){for(var o in n)n[o].$OFF=!1;return this}if("string"==typeof e&&void 0===r){var i=GetEventArray(e);return i&&(i.$OFF=!1),this}if("string"==typeof e&&"function"==typeof r){var i=GetEventArray(e);return i?i.push(r):t.warn({e:e},"There is no event [{e}]"),this}return GetEventArray(e)?"function"!=typeof r?(t.warn({e:e,f:r},"Unable to set event handler for {[e]}. {[f]} is not a function!"),this):this:(t.warn({e:e},"Unable to set event handler for {[e]}. No such event found!"),this)}),this.register("off",function(e,r){if(void 0===e&&void 0===r){for(var o in n)n[o].$$OFF=!0;return this}if("string"==typeof e&&void 0===r){var i=GetEventArray(e);return i&&(i.$$OFF=!0),this}if("string"==typeof e&&"function"==typeof r){var i=GetEventArray(e);if(r.$$MOUSEFUNCSEARCH=!0,i){for(var a=null,o=0;o<i.length;o++)if(i[o].$$MOUSEFUNCSEARCH){a=o;break}return null!==a&&i.splice(a,1),this}}return GetEventArray(e)||t.warn({e:e},"Unable to uset event handler for {[e]}. no such event"),"function"!=typeof r&&t.warn({e:e,f:r},"Unable to unset function {[f]} from event {[e]}. Not a function!"),this}),this.register("mouseCheckFunction",function(n){return"string"==typeof n?(e[n+"CheckFunction"]&&(o=e[n+"UserCheckFunction"]),this):"function"!=typeof n?(t.warn({f:n},"Unable to set check function! {[f]} is not a function!",this),this):(o=n,this)}),this.register("disable",function(){return r=!0,this}),this.register("enable",function(){return r=!1,this}),this.register("disabled",function(){return r}),this.check=function(e,t){return!r&&o.call(e,[t[0],t[1]])};var i=null;this.cursorTransformFunction=function(e){"function"==typeof e&&(i=e)},this.applyCursorTransform=function(e){return i?i.call(this,e):e},this.hasEvent=function(e){return n[e]},this.propagate=function(e,t){var n=e.parent();if(n){var r=n.extension("Mouse");if(r.hasEvent(t.type())){var o=t.type(),i=t.originalTarget.call({$$MOUSEPROPAGATIONSETTER:n});r.resolve(n,o,i)}}},this.resolve=function(e,n,o){if(!r){var i=GetEventArray(n);if(i&&!i.$OFF)for(var a=0;a<i.length;a++)i[a].call(e,o);o.propagate()?this.propagate(e,o):t.warn({e:n},"Unable to resolve event [{e}]. No such event!")}};for(var a in n)n[a].$$OFF=!1;this.destroy(function(){var e;for(e in n)if(n.hasOwnProperty(e)){for(;n[e][0];)n[e].shift();delete n[e]}r=void 0,o=void 0})}]),$R.plugin("Objects",["@Canvas","+Drawer",function Offset(e,t){var n=[[0,0],[0,0],[0,0],[0,0]],r=e.size(),o=null,i=!1;this.register("beyond",function(t){i=!0,r=e.size(),o=this.extension("Box").box().get(),n[0]=this.matrix().trackLocalPoint([o.position[0],o.position[1]],!0),n[1]=this.matrix().trackLocalPoint([o.size[0]+o.position[0],o.position[1]],!0),n[2]=this.matrix().trackLocalPoint([o.size[0]+o.position[0],o.size[1]+o.position[1]],!0),n[3]=this.matrix().trackLocalPoint([o.position[0],o.size[1]+o.position[1]],!0);var a=Math.min(n[0][0],n[1][0],n[2][0],n[3][0]),s=Math.max(n[0][0],n[1][0],n[2][0],n[3][0]),u=Math.max(n[0][1],n[1][1],n[2][1],n[3][1]),c=Math.min(n[0][1],n[1][1],n[2][1],n[3][1]),l=s-a,f=u-c;return!(a>-l&&c>-f&&u<f+r[1]&&s<l+r[0])&&i}),this.destroy(function(){for(;n[0];){for(;n[0][0];)n[0].shift();n.shift()}for(n=void 0;r[0];)r.shift();r=void 0})}]),$R.plugin("Objects",["Debug",function Style(e){function GetSetterFunction(r,o){return function(a){var s=o.apply(this,[a,t[r].value]),u=t[r].value;if(s||"boolean"!=typeof s){var c=[u,s];t[r].value=s,n[r]||(n[r]=[]);for(var l=0;l<n[r].length;l++)n[r][l].apply(this,c)}else e.warn({n:r},"Unable to set property {n}. Invalid value!",i)}}function GetGetterFunction(e,n){return function(){return n.call(null,t[e].value)}}function StyleType1(t,n){var o=this;r[t]?r[t].apply(o,[n]):e.warn({property:t,type:o.type()},"Object type {type} has no property {property}",o)}function StyleType2(n){var o=this,i=[];for(var a in n)n.hasOwnProperty(a)&&r[a]&&(r[a]?i.push({ordering:t[a].ordering,property:a,setter:r[a]}):e.warn({property:a,type:o.type()},"Object type {type} has no style property {property}",o));if(i.length){i.sort(function(e,t){return e.ordering-t.ordering});for(var s=0;s<i.length;s++)i[s].setter.apply(o,[n[i[s].property]])}else e.warn({o:JSON.stringify(n),type:o.type()},"Object {type} has got no style properties to be applied in {o}",o)}function StyleType3(n){var r=this;return o[n]?o[n].apply(r,[t[n].value]):(e.warn({property:n,type:r.type()},"Object {type} has no property {property}",r),this)}var t={},n=[],r={},o={},i=this;this.register("style",function(t,n){if("string"==typeof t&&void 0!==n)StyleType1.apply(this,[t,n]);else if("object"==typeof t)StyleType2.apply(this,[t]);else{if("string"==typeof t&&void 0===n)return StyleType3.apply(this,[t]);e.error("Invalid .style() arguments",this)}return this}),this.register("watch",function(t,r){if("string"!=typeof t&&("object"!=typeof t||t.constructor!==Array))return void e.error("Property is not an array or string",this);if("function"!=typeof r)return void e.error({p:t},"Style change callback for property {p} is not a function",this);if(t.constructor===Array)for(var o=0;o<t.length;o++)"string"!=typeof t[o]?e.error({i:o,p:t[o]},"Property {i} is not a string {p}",this):(n[t[o]]&&"object"==typeof n[t[o]]&&n[t[o]].constructor===Array||(n[t[o]]=[]),n[t[o]].push(r));else"string"==typeof t?(n[t]&&n[t].constructor===Array||(n[t]=[]),n[t].push(r)):e.error({p:t},"Style property {p} is not an array or string",this)}),this.define=function(n,i,a,s,u){return t[i]?void e.error({name:i},"Duplicated Style Property {name}",this):"string"!=typeof i||0===i.length?void e.error({n:i},"Property {name} is not a string or empty"):"function"!=typeof u||"function"!=typeof s?void e.error({n:i},"Unable to define property {n}. Getter or setter is undefined"):("number"!=typeof n&&e.error({n:i},"Style property{n} application order in not a number"),t[i]={ordering:n,value:a},r[i]=GetSetterFunction(i,s),void(o[i]=GetGetterFunction(i,u)))},this.get=function(n){return t[n]?t[n].value:(e.warn({n:n},"Getting value of property {n} that does not exist"),!1)},this.ordering=function(n){return t[n]?t[n].ordering:(e.warn({n:n},"Getting ordering of property{n} that does not exist!"),!1)},this.destroy(function(){var e;i=void 0;for(e in t)t.hasOwnProperty(e)&&delete t[e];for(e in r)r.hasOwnProperty(e)&&delete r[e];for(e in o)o.hasOwnProperty(e)&&delete o[e];for(;n[0];)n.shift();n=void 0,r=void 0,o=void 0})}]),$R.plugin("Objects",["Debug","+Model","@inject",function Text(e,t,n,r){this.applyTo("Text");var o=this.object();if("Text"===o.type()){var a=[],s=/((\S+\s+)|(\S+$))/g,u=o.extension("Style"),c="",l=!1,f=[1/0,1/0],h=0,p=0;this.register("lines",function(){this.update();for(var e=[],t=0;t<a.length;t++)e.push(a[t].string())}),this.register("words",function(){this.update();for(var e=[],t=0;t<a.length;t++)for(var n=a[i].words(),r=0;r<n.length;r++)e.push(n.string());return e}),this.limits=function(e,t){f[0]=e,f[1]=t,l=!0},o.watch("str",function(e,t){t!==c&&(c=t)}),o.watch(["str","fontSize","lineHeight","color","weight","style"],function(){l=!0}),this.update=function(e){if(l||e){var t=c.match(s),r=0,o=0,i=u.get("size"),f=0;if(t){var v=u.get("systemFont"),d=u.get("fontSize"),g=u.get("lineHeight"),y=u.get("weight"),b=u.get("color"),m=u.get("style");a=[];for(var w=0;w<t.length;w++){var C=t[w].match(/\n/g),x=t[w].match(/\S+/g),A=n("$TextWordClass").string(x[0]);a[o]||(a[o]=n("$TextLineClass").font(v).size(d).height(g).color(b).style(m).weight(y)),a[o].push(A),r=a[o].width(),(r>=i[0]||C)&&o++,r>f&&(f=r+4)}p=a.length*u.get("lineHeight"),d>g?p+=d-g:d<g&&(p-=g-d),h=f,l=!1}}return this},this.textBlockHeight=function(){return this.update(),p},this.textBlockWidth=function(){return this.update(),h},this.forEachLine=function(e){this.update();for(var t=0;t<a.length;t++)e.apply(a[t],[t,a[t]])},this.destroy(function(){for(;a[0];)a.shift();for(a=void 0;f[0];)f.shift();f=void 0,o=void 0,c=void 0,h=void 0,p=void 0,s=void 0})}}]),$R.plugin("Objects",["Debug","Tree",function Tree(e,t){function normaliseIdentity(e){return e=e.replace(o,""),e=e.replace(i,function(e){return"-"+e.toUpperCase()}),e=e.replace("--","-"),e=e.replace(/(^-)|(-$)/g,"")}function checkTree(e,t){return e===t||!!e.parent()&&checkTree(e,e.parent())}function treeViolation(t,n){return t.type("Group")?!!checkTree(t,n)&&(t===n?t.parent()&&e.warn("You try to append group parent into itself."):e.warn("You try to append group parent into it's children."),!0):"Group"!==t.type()?(e.warn({target:t.type(),object:n.type()},"Yoy try to append [{object}] into [{target}]."),!0):void 0}var n=null,r=null,o=/[^a-zA-Z0-9-]+/gm,i=/[A-Z]/g,a=null;this.register("unmount",function(){return r?(this.parent()&&(this.parent().extension("Layers").remove(this),n=null),null):(e.warn("Unable to unmount a free object"),this)}),this.register("append",function(t){return r?(this.type("Group")?treeViolation(this,t)||(t.unmount(),a||(a=this.extension("Layers")),a.place(t.layer(),t),t.extension("Tree").parent(this),this.extension("Box").purge()):e.watch({type:this.type()}," Can not append. type[{type}] of parent is not allowed!"),this):(e.warn("Unable to append a free object"),this)}),this.register("appendTo",function(t){return r?(t.append(this),this):(e.warn("Unable to append a free object"),this)}),this.register("parent",function(){return n}),this.register("id",function(n){if(null===r)if("string"==typeof n){if(n=normaliseIdentity(n),n.length)return r=n,t.register(this),this;e.error("Normalised identity seems to be empty. Unable to register Graphics")}else{if(void 0===n)return r;e.error("Unable to set initial id. Id is not a string")}else if("string"==typeof n)n=normaliseIdentity(n),n.length?t.register(this,n):e.error("Normalised identity seems to be empty. Unable to register Graphics");else{if(void 0===n)return r;e.error("Id is not a string")}}),this.parent=function(t){return"function"==typeof t.type&&t.type("Group")||e.error({group:typeof t,type:t.type?t.type():"unknownType"},"Unable to set parent as {group}{type}. Object is not a group!",this),t?void(n=t):n},this.destroy(function(){t.unregister(this.object()),a=void 0})}]),$R.service(["@inject",function Api(e){this.control=function(t){var n=null;return"function"==typeof t.can&&t.can.$$APIPROTECTED&&(n=t.can.call({$$APIPROTECTED:!0})),n||(n=e("$ApiController"),n.wrap(t)),n}}]),$R.service["class"]("Api",["Debug","Is","Events",function ApiController(e,t,n){var r={},o=null,i=this;this.wrap=function(a){"undefined"!=typeof a.can&&e.error({target:a.constructor.name},"Target method collision. {target} already has .can field"),"undefined"!=typeof a["do"]&&e.error({target:a.constructor.name},"Target method collision. {target} already has .do field"),o=n.emitter(a),a.can=function(n){return this.$$APIPROTECTED?i:(t.properString(n)||e.error({t:a.constructor.name,n:typeof n},"{t}'s Api method {name} check failed. ActionName is not a string",this),!!r[n])},a.can.$$APIPROTECTED=!0,a.api=function(){var e=[];for(var t in r)e.push(r);return e},a["do"]=function(n,i){if(t.properString(n)||e.error({a:typeof n},"Invalid action parameter {a}. Action is not a string",this),a.can(n)){e.info({n:n},"Processing {n}",a),e.group(n);for(var s=0;s<r[n].length;s++)r[n][s].call(a,i);o&&o.resolve(n,i),e.groupEnd()}else e.warn({t:a.constructor.name,a:n},"{t} can not perform action {a}.",a)},this.define=function(n,i){t.properString(n)||e.error({n:typeof n},"Unable to define Api method {n}. Method name is not a string",this),a.can(n)?e.info({n:n},"Added api callback method for {n}",a):(r[n]=[],e.info({n:n},"Added API method {n}",a),o.register(n)),"function"==typeof i&&r[n].push(i)}}}]),$R.service(["@Canvas","@Config","Debug",function Canvas(Canvas,e,t){function compareOnResize(e){if("%"!==a&&"%"!==s)return i[0]=r,i[1]=o,Canvas.size(i[0],i[1]),!1;var t=p,n=v;Canvas.size(0,0),d&&clearTimeout(d),d=setTimeout(function(){var u=Canvas.element().parentNode,c=window.getComputedStyle(u,null);v=parseInt(c.getPropertyValue("height")),p=parseInt(c.getPropertyValue("width")),t!==p&&"%"===a&&t!==p&&(i[0]=Math.floor(p*(r/100))),n!==v&&"%"===s&&(i[1]=Math.floor(v*(o/100))),Canvas.size(i[0],i[1]),d=null,e()},200)}function GetCanvasOffset(e){var t=e?"offsetLeft":"offsetTop",n=0,r=Canvas.element();do isNaN(r[t])||(n+=r[t]);while(r=r.offsetParent);return n}function WindowResizeCallback(){l&&compareOnResize(function(){u[0]=GetCanvasOffset(0),u[1]=GetCanvasOffset(1);for(var e=0;e<n.length;e++)n[e](i[0],i[1]);ResolveCanvasEventArray("canvasresize",[new RCanvasResizeEvent])})}function CanvasSwitchCallback(){u[0]=GetCanvasOffset(0),u[1]=GetCanvasOffset(1),ResolveCanvasEventArray("canvasswitch",[new RCanvasSwitchEvent]),WindowResizeCallback()}function GetCanvasEventArray(e){return g[e]}function ResolveCanvasEventArray(e,n){if("object"!=typeof n||n.constructor!==Array)return void t.warn({e:e},"Canvas : unable to resolve event array [{e}]. Data is not an array!");var r=GetCanvasEventArray(e);if(!r)return void t.warn({e:e},"Unable to resolve event [{e}] no such event!");for(var o=0;o<r.length;o++)r[o].apply(f,n)}function GetMouseRelativePosition(e){return[e.pageX-u[0]-c[0],e.pageY-u[1]-c[1]]}function RCanvasMouse(e){this.page=[e.pageX,e.pageY],this.sceen=[e.pageX-c[0],e.pageY-c[1]],this.position=GetMouseRelativePosition(e)}function RCanvasMouseEvent(e){this.original=e,this.type=e.type,this.mouse=new RCanvasMouse(e),this.canvas=f}function RCanvasResizeEvent(){this.type="canvasresize",this.canvas=f,this.offset=[u[0],u[1]],this.size=[r,o],this.original=[r,o],this.units=[a,s],"%"===a&&(this.size[0]=p*(r/100)),"%"===s&&(this.size[1]=v*(o/100))}function RCanvasSwitchEvent(){this.type="canvasswitch",this.canvas=f,this.offset=[u[0],u[1]],this.size=[r,o],this.original=[r,o],this.units=[a,s],"%"===a&&(this.size[0]=p*(r/100)),"%"===s&&(this.size[1]=v*(o/100))}var n=[],r=0,o=0,i=[0,0],a="px",s="px",u=[0,0],c=[0,0],l=Canvas.element(),f=this,h=!1;e.define("size",[0,0],{isArray:!0,custom:function(e){if(!("string"!=typeof e[0]&&typeof e[0]!==Array||"string"!=typeof e[0]&&"number"!=typeof e[1]))return!0}}).watch(function(e){"number"==typeof e[0]?r=e[0]:"string"==typeof e[0]?e[0].match(/^[\d]+%$/)?(r=parseInt(e[0]),a="%"):(r=1e3,a="px",t.warn({width:e[0]},"{width} is not a valid value for canvas.size[0]. Width set as 1000px")):(r=1e3,t.warn({width:e[0]},"{width} is not a valid value for canvas.size[0]. Width set as 1000px")),"number"==typeof e[1]?o=e[1]:"string"==typeof e[1]&&e[1].match(/^[\d]+%$/)?(o=parseInt(e[1]),s="%"):(o=800,t.warn({height:e[1]},"{height} is not a valid value for canvas.size[1]. Width set as 800px")),WindowResizeCallback()});var p=0,v=0,d=null;this.resize=function(e){"function"==typeof e&&n.push(e)},this.offresize=function(e){"function"==typeof e&&n.filter(function(t){return t!==e})},this.width=function(){return"%"===a?p*(r/100):r},this.height=function(){return"%"===a?v*(o/100):o},this.hide=function(){h||(l&&(l.style.display="none"),h=!0)},this.show=function(){h&&(l&&(l.style.display=null),h=!1)};var g={mousemove:[],mousedown:[],mouseup:[],mouseleave:[],mouseenter:[],canvasresize:[],canvasswitch:[]};this.on=function(e,n){var r=GetCanvasEventArray(e);return r?("function"!=typeof n&&t.warn({f:e},"Canvas : Unable to set event handler [{f}]"),void r.push(n)):void t.warn({e:e},"Canvas : Unable to set event handler for event [{e}]")};var y={mousemove:function(e){ResolveCanvasEventArray("mousemove",[new RCanvasMouseEvent(e)])},mousedown:function(e){ResolveCanvasEventArray("mousedown",[new RCanvasMouseEvent(e)])},mouseup:function(e){ResolveCanvasEventArray("mouseup",[new RCanvasMouseEvent(e)])},mouseleave:function(e){ResolveCanvasEventArray("mouseleave",[new RCanvasMouseEvent(e)])},mouseenter:function(e){ResolveCanvasEventArray("mouseenter",[new RCanvasMouseEvent(e)])}};Canvas["switch"](function(){var e;if(l)for(e in y)y.hasOwnProperty(e)&&l.removeEventListener(e,y[e]);l=this.element(),h?l.style.display="none":l.style.display=null;for(e in y)y.hasOwnProperty(e)&&l.addEventListener(e,y[e]);CanvasSwitchCallback()}),window.addEventListener("scroll",function(){c[1]=window.pageXOffset||document.documentElement.scrollLeft,c[0]=window.pageYOffset||document.documentElement.scrollTop}),window.addEventListener("resize",WindowResizeCallback)}]),$R.service(["@Config",function Debug(e){function ResolveEvent(e,t){var n;"error"===e&&(n=s),"message"===e&&(n=u),"info"===e&&(n=c),"important"===e&&(n=l);for(var r=0;r<n.length;r++)n[r](t)}function GetMessage(e,o,i){o=o.toString();var a=o.match(n),s={};if(a)for(var u=0;u<a.length;u++){var c=a[u].match(r)[0];c&&(s[c]={replace:a[u],data:"["+(void 0===e[c]?"undefined":e[c].toString())+"]"})}for(var l in s)s.hasOwnProperty(l)&&(o=o.replace(s[l].replace,s[l].data));return i&&i.constructor&&i.constructor.name&&(o=" "+i.constructor.name+"  "+o),o=t+o}var t="",n=/{[a-zA-Z]+}/g,r=/[a-zA-Z]+/g,o=e.define("warnings",!1,{isBool:!0},function(e){o=e}),i=e.define("debugLevel",0,{isNumber:!0},function(e){e<0&&(e=0),o=e}),a=0,s=[],u=[],c=[],l=[];this.on=function(e,t){"function"==typeof t&&("error"===e&&s.push(t),"message"===e&&u.push(t),"info"===e&&u.push(t),"important"===e&&u.push(t))},this.error=function(e,t,n){throw"string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("error",t),console.trace(),new Error(t)},this.warn=function(e,t,n){o.get()&&("string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("message",t),console.log("%c"+t,"border-left:4px solid rgb(178,137,75); padding :2px 6px; background: rgba(131,138,0,.1); color: rgb(178,137,75)"))},this.info=function(e,t,n){o.get()&&("string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("info",t),console.log("%c"+t,"border-left:2px solid rgb(149,202,0); padding :2px 6px; background: rgba(255,255,255,.1);"))},this.message=function(e,t,n){o.get()&&("string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("info",t),console.log("%c"+t,"padding: 1px 10px; border-left:2px solid #10949C; font-weight:bold; background: rgba(0,175,231,.1); color: #10949C"))};var f={},h=0;this.separator=function(e,t,n){o.get()&&("string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),h++,f[h]=t,ResolveEvent("info",t),console.log("%c"+t+" ","padding: 4px 10px; border-left: 2px solid #10949C; background:rgba(16,148,156,0.1); color: #10949C"))},this.separatorEnd=function(){o.get()&&(f[h]&&(console.log("%c"+f[h]+" ","padding: 4px 10px; border-left: 2px solid #10949C; background:rgba(16,148,156,0.1); color: #10949C"),h--),0===h&&(f={}))},this.positive=function(e,t,n){o.get()&&("string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("info",t),console.log("%c"+t,"border-left: 2px solid rgb(149,202,0); background:rgba(149,202,0,.1); padding: 4px 10px; color:rgb(149,202,0)"))},this.negative=function(e,t,n){o.get()&&("string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("info",t),console.log("%c"+t,"border-left: 2px solid rgb(224,14,0); background:rgba(224,14,0,.1); padding: 4px 10px; color: rgb(224,14,0)"))},this.group=function(e){o.get()&&(a>=i.get()?console.groupCollapsed(e):console.group(e),a++)},this.groupEnd=function(){o.get()&&(a--,console.groupEnd())}}]),$R.service(["@Canvas","Canvas","@Ticker","$Finder",function Dispatcher(e,t,n,r){function DefaultREvent(e,t){var n=e,r=!0,o=t,i=t;this.type=function(){return n},this.date=new Date,this.stopPropagation=function(){r=!1},this.propagate=function(){return r},this.target=function(){return o},this.propagated=function(){o.$$PROPAGATIONSEARCH=!0;var e=i.$$PROPAGATIONSEARCH;return delete o.$$PROPAGATIONSEARCH,!!e&&e},this.originalTarget=function(){if(this.$$MOUSEPROPAGATIONSETTER){var e=getEventByType(n,o);return e.originalTarget.call({$$RESETTARGET:this.$$MOUSEPROPAGATIONSETTER}),e}return this.$$RESETTARGET&&(o=this.$$RESETTARGET),i}}function MouseEvent(e,t){DefaultREvent.apply(this,[e,t]),this.cursor=[a.current[0],a.current[1]],Object.freeze(this)}function DragEvent(e,t){DefaultREvent.apply(this,[e,t]),this.drag={start:[s.start[0],s.start[1]],current:[s.current[0],s.current[1]],delta:[s.delta[0],s.delta[1]]},Object.freeze(this)}function getEventByType(e,t){return"mousemove"===e||"mouseleave"===e||"mouseenter"===e||"mousedown"===e||"mouseup"===e?new MouseEvent(e,t):"dragstart"===e||"dragend"===e||"dragmove"===e?new DragEvent(e,t):void 0}function Dispatch(e,t){var n=t.extension("Mouse");n&&n.hasEvent(e)&&n.resolve(t,e,getEventByType(e,t))}function resolveEventByType(e){"mouseenter"!==e&&"dragstart"!==e&&"dragend"!==e&&"dragmove"!==e&&"mousemove"!==e&&"mouseup"!==e&&"mousedown"!==e||!o.current||Dispatch(e,o.current),"mouseleave"!==e&&"dragend"!==e||!o.previous||Dispatch(e,o.previous)}function resolveDragStart(){f=!0,s.start[0]=a.current[0],s.start[1]=a.current[1],resolveEventByType("dragstart")}function resolveDragEnd(){s.current[0]=a.current[0],s.current[1]=a.current[1],s.delta[0]=s.start[0]-s.current[0],s.delta[1]=s.start[1]-s.current[1],resolveEventByType("dragend"),f=!1}function DispatchEvents(){if(i.current!==i.old&&i.current&&resolveEventByType("mousedown"),i.current&&i.current!==i.old&&!f&&resolveDragStart(),a.old[0]!==a.current[0]||a.old[1]!==a.current[1]){if(o.current&&!o.previous&&resolveEventByType("mouseenter"),!o.current&&o.previous&&(resolveEventByType("mouseleave"),resolveDragEnd()),o.current&&o.previous){o.current.$$MOUSESEARCH=!0;var e=!1;o.previous.$$MOUSESEARCH||(e=!0),delete o.current.$$MOUSESEARCH,e&&(resolveDragEnd(),resolveEventByType("mouseleave"),resolveEventByType("mouseenter"),resolveDragStart())}i.current&&i.current===i.old&&f&&(s.current[0]=a.current[0],s.current[1]=a.current[1],s.delta[0]=s.start[0]-s.current[0],s.delta[1]=s.start[1]-s.current[1],resolveEventByType("dragmove")),i.current===i.old&&resolveEventByType("mousemove")}!i.current&&i.current!==i.old&&f&&resolveDragEnd(),i.current||i.current===i.old||(resolveEventByType("mouseup"),f=!1),o.previous=o.current,i.old=i.current,a.old[0]=a.current[0],a.old[1]=a.current[1]}function UpdateTargets(){o.previous=o.current,o.current=r.check(a.current)}function eventDispatcherTick(){if(h=!h){if(u)return;UpdateTargets(),DispatchEvents(),u=!0}}var o={current:null,previous:null},i={current:!1,previous:!1},a={old:[0,0],current:[0,0]},s={start:[0,0],current:[0,0],delta:[0,0]},u=!0,c=!1,l=!1,f=!1;t.on("mousedown",function(){c&&l&&(i.previous=i.current,i.current=!0,u=!1)}),t.on("mouseup",function(){c&&l&&(i.previous=i.current,i.current=!1,u=!1)}),t.on("mousemove",function(e){c&&l&&(a.current[0]=e.mouse.position[0],a.current[1]=e.mouse.position[1],u=!1)}),t.on("mouseleave",function(){l=!1}),t.on("mouseenter",function(){l=!0});var h=!1;e.queue(-1,eventDispatcherTick),n.on("start",function(){c=!0}),n.on("stop",function(){c=!1}),n.on("error",function(){c=!1})}]),$R.service(["@inject","Debug",function Events(e,t){this.emitter=function(n){return"object"==typeof n?"function"==typeof n.on&&n.on.$$EMITTERPROTECTED?n.on.call({$$EMITTERPROTECTEDCONTEXT:!0}):e("$EventEmitter").decorate(n):void t.error({type:typeof n},"Unable to create EventEmitter. Invalid target {type} for emitter.",this)},this.event=function(t,n,r){return e("$Event").init(t,n,r)}}]),$R.service(["@Ticker","Canvas","@inject","Debug",function Keyboard(e,t,n,r){function OnAppTick(){for(var e=0;e<u.length;e++)u[e]();u=[]}function getQueueFunc(e){return function(){var t=e.keyCode;if(o[t]&&o[t][e.type])for(var r=0;r<o[t][e.type].length;r++){var i=n("$KeyboardEvent").build(e);o[t][e.type][r].apply(i,[t,e.type])}}}var o={},i=!1,a=!0,s=!0,u=[];this.keydown=function(e,t){return this.on(e,"keydown",t)},this.keyup=function(e,t){return this.on(e,"keyup",t)},this.disable=function(){return a=!1,this},this.enable=function(){return a=!0,this},this.on=function(e,t,n){return"number"==typeof e&&"string"==typeof t?"keyup"===t||"keydown"===t?"function"==typeof n?(o[e]||(o[e]={}),o[t]||(o[e][t]=[]),o[e][t].push(n)):r.warn("Event callback is not a function"):r.warn({e:t},"No such type of event as [{e}]"):r.warn({c:e},"Wrong key code [{c}]"),this};var c=!1;t.on("mousedown",function(){c=!0}),window.addEventListener("mousedown",function(){s=!!c,c=!1}),window.addEventListener("keydown",function(e){i&&a&&s&&u.push(getQueueFunc(e))}),window.addEventListener("keyup",function(e){i&&a&&s&&u.push(getQueueFunc(e))}),e.queue(0,OnAppTick),e.on("start",function(){i=!0}),e.on("stop",function(){i=!1})}]),$R.service["class"]("Keyboard",[function KeyboardEvent(){var e=null,t=!1,n=!1,r=!1,o=!1,i=null;this.build=function(a){return e=a.keyCode,t=a.ctrlKey,n=a.altKey,r=a.shiftKey,o=a,i=a.type,delete this.build,this},this.type=function(e){return"string"==typeof e?i===e:i},this.code=function(){return e},this.shift=function(){return r},this.alt=function(){return n},this.ctrl=function(){return t},this.original=function(){return o}}]),$R.service(["@inject","+Easing","@Canvas","Debug",function Morphine(e,t,n,r){function check(e,n,o,i,a,s){if("number"!=typeof e||"number"!=typeof n)return r.error({},"Morphine / Unable to create. Start value is invalid"),!1;if("function"!=typeof o)return r.error({},"Morphine / Unable to create. End value is invalid"),!1;if("string"!=typeof i)return r.error({},"Morphine / Unable to create. Easing is not a string"),!1;if("number"!=typeof a||a<=0)return r.error({},"Morphine / Unable to create. Duration is less than 0 or not a number"),!1;var u=t.get(i);return u?u:(r.error({easing:i}," Morphine / Unable to create. No such easing {easing}"),!1)}var o=[];this.instance=function(t,n,o,i,a,s){i=check.apply(this,arguments);var u=e("$Morphine"),c=u.config(t,n,o,a,i,s);return c.morphine=u,c&&"function"==typeof c?c:(r.error({},"Unable to config morphine due to some config error."),null)},this.create=function(t,n,i,a,s,u){a=check.apply(this,arguments);var c=e("$Morphine"),l=c.config(t,n,i,s,a,u);return l&&"function"==typeof l?(l.$m=c,o.push(l),c):void r.error({},"Morphine / Unable to config morphine. Due to some error.")},n.queue(-2,function processMorphines(e,t){for(var t=t.getTime(),n=[],r=0;r<o.length;r++)o[r].$m.done()||(o[r](t),n.push(o[r]));o=n})}]),$R.service["class"]("Objects",["@extend","@inject","<Plugins",function Graphics(e,t,n){var r=null,o={};this.extension=function(e){return o[e]},this.type=function(e){return"string"==typeof e?r===e:r},this.define=function(i,a){if("string"==typeof i){delete this.define,r=i;for(var s=n.list(),u=0;u<s.length;u++)o[s[u]]=t("$Plugin"),o[s[u]].defineObject(this),e(o[s[u]],"<"+s[u]),o[s[u]].matchType(r)?o[s[u]].wrap(this):delete o[s[u]];return a&&this.id(a),e(this,"$"+i+"ObjectModel"),e(this,"$DefaultObjectDrawer"),e(this,"$"+i+"ObjectDrawer"),e(this,"$DefaultObjectType"),e(this,"$"+i+"ObjectClass"),this}},this.destroy=function(){var e;this.unmount();for(e in o)o.hasOwnProperty(e)&&(o[e].destroy(),delete o[e]);for(e in this)this.hasOwnProperty(e)&&delete this[e];o=void 0,r=void 0}}]),$R.service(["@inject","Tree","Debug",function Objects(e,t,n){function InjectByType(r,o){var i=o[0];if("string"==typeof i){if(i.length>0){var a=e("$Graphics").define(r,i);return t.root().append(a),o[1]&&a.style(o[1]),a}n.error({t:r},"Id is empty. Unable to create [t]")}else n.error({t:r},"Id is not a string. Unable to create [t]")}this.create=function(t){return e("$Graphics").define(t)},this.group=function(){return InjectByType("Group",arguments)},this.line=function(){return InjectByType("Line",arguments)},this.rect=function(){return InjectByType("Rectangle",arguments)},this.circle=function(){return InjectByType("Circle",arguments)},this.image=function(){return InjectByType("Image",arguments)},this.sprite=function(){return InjectByType("Sprite",arguments)},this.text=function(){return InjectByType("Text",arguments)},this.area=function(){return InjectByType("Area",arguments)},t.root(e("$Graphics").define("Group","root"))}]),$R.service(["@Canvas","@inject","Debug","@Config",function Resource(e,t,n,r){function getResourceByURL(e,t){"font"===e&&(t=t[0]);var n=null,r=i[e+"s"];if(!r)return n;for(var o=0;o<r.length;o++)if(r[o].url()===t){n=r[o];break}return n}function injectByType(e,n){var r=getResourceByURL(e,n);if(r)return r;var s=e,c=t("$"+e);return c.on("load",function(){a++,ResolveEvent("load",[this,a,o.length])}),c.on("error",function(){a++,ResolveEvent("error",[this,a,o.length])}),c.url(n),i[s+"s"].push(c),o.push(c),"auto"===u&&c.load(),ResolveEvent("add",[c,a,o.length]),c}function ResolveEvent(e,t){var n=c[e];if(n)for(var r=0;r<n.length;r++)n[r].apply(s,t)}function updateResources(e,t){for(var n=0;n<i.SpriteResources.length;n++)i.SpriteResources[n].ready()&&i.SpriteResources[n].loaded()&&i.SpriteResources[n].tick(t)}var o=[],i={ImageResources:[],SpriteResources:[],FontResources:[],AudioResources:[]},a=0,s=this,u="auto";r.define("loaderMode","auto",{isString:!0}).watch(function(e){u="manual"===e||"auto"===e?e:"auto"}),this.image=function(e){return injectByType("ImageResource",e)},this.sprite=function(e){
return injectByType("SpriteResource",e)},this.audio=function(e){return injectByType("AudioResource",e)},this.font=function(e,t,n){return injectByType("font",[e,t,n])},this.load=function(){if("manual"===u)for(var e=0;e<o.length;e++)o[e].load()};var c={load:[],error:[],add:[]};this.on=function(e,t){if("string"==typeof e){var r=c[e];r?"function"==typeof t?r.push(t):n.warn({event:e},"Unable to set event [{event}] callback. func is not a function!"):n.warn({event:e},"Unable to set event [{event}]. No such event")}else n.warn("Unable to set event callback. Event name is not a string")},this.off=function(e,t){if("string"==typeof e){var r=c[e];if(r){if("function"==typeof t){var o=[];t.$$SEARCH=!0;for(var i=0;i<r.length;i++)r[i].$$SEARCH||o.push(r[i]);delete t.$$SEARCH,c[e]=o}}else n.warn({event:e},"Unable to unset callback for event [{event}]. No such event")}else n.warn("Unable to unset event. Event is not a string")},this.data=function(){return{total:o.length,loaded:a}},this.list=function(){return[].concat(i.ImageResources).concat(i.AudioResources).concat(i.FontResources).concat(i.SpriteResources)},e.queue(-2,updateResources)}]),$R.service(["@Audio","@inject","@Config","Debug",function Sound(e,t,n,r){n.define("filters",["Delay","Gain"],{isArray:!0});var o=t("$Audio").build("$$DESTINATION","destination"),i={},a=0,s=0,u={$$DESTINATION:o};this.sample=function(e,n,o){if("string"==typeof e&&e.length>0){if(i[e])return i[e];"string"==typeof o&&0!==o.length||(o="UserSound["+a+"]"),a++;var s=t("$Audio").build(o,e);"string"==typeof n&&0!==n.length||(n="$$DESTINATION");var u=this.channel(n);return s.connect(u),i[s.url()]=s,s}r.warn({url:e},"[{url}] is not valid audio url or empty.")},this.channel=function(e){if("string"==typeof e&&e.length>0){if(u[e])return u[e];var n=t("$Audio").build(e);return n.connect(o),u[e]=n,s++,n}},this.channels=function(e){var t={},e=!!e;for(var n in u)u.hasOwnProperty(n)&&"$$DESTINATION"!==n&&(e?t[n.url()]=n[n]:t[n]=u[n]);return t},this.sounds=function(e){var t={},e=!!e;for(var n in i)i.hasOwnProperty(n)&&(e?t[n]=i[n]:t[i[n].name()]=i[n]);return t},this.destination=function(){return u.$$DESTINATION}}]),$R.service(["@inject","Debug",function States(e,t){this.container=function(n,r){if("object"==typeof n){if("function"==typeof n.is&&n.is.$$STATESPROTECTED===!0){var o=n.is.call({$STATESPROTECTEDCONTEXT:!0});return n.is.call({$STATESPROTECTEDHASEMITTERSET:!0},r),o}return e("$State").decorate(n,r)}t.error("States target is not an object",this)}}]),$R.service(["Debug","@Canvas","@Config",function Tree(e,t,n){function drawGraphicsTree(e,t,n){r&&o&&(a&&e.clearRect(0,0,e.canvas.offsetWidth,e.canvas.offsetHeight),o.draw.apply(r,arguments))}var r=null,o=null,i=null,a=n.define("clear",!1,{isBool:!0}).watch(function(e){a=e}),s={};this.register=function(t,n){if("Graphics"===t.constructor.name&&t.id&&"function"==typeof t.id)if("undefined"==typeof n){var r=t.id();"string"==typeof r&&r.length?s[r]?e.error({id:t.id()},"Unable to register Graphics [id]. Element already exists"):s[r]=t:e.error("Unable to register Graphics with no id")}else"string"===n?(s[t.id()]&&delete s[t.id()],s[n]=s[n]=t):e.error("Unable to set new id. new_id argument is not a valid string");else e.error({t:typeof t},"Unable to register [t]. Argument is not Graphics")},this.unregister=function(e){e.id()&&s[e.id()]&&delete s[e.id()]},this.get=function(e){return s[e]},this.get=function(e){return s[e]},this.root=function(t){if(r)return r;if(!t.type||"function"!=typeof t.type||"Group"!==t.type())return void e.error({object:t.constructor,type:"function"!=typeof t.type?t.type():"unknownType"},"Unable to set tree root as {object}{type}. Object is not a group.",this);r=t;var n=r.extension("Drawer");return n?n.draw&&"function"==typeof n.draw?(o=n,i=r.extension("Style"),r):void e.error({object:t.type()},"{object} incompatible drawer extension",this):void e.error({object:t.type()},"{object} has no drawer extension",this)},t.queue(0,drawGraphicsTree)}]),$R.plugin["class"]("Objects","Animation",["+Animation","Morphine",function Animation(e,t){function Resolve(e){if(e===p)for(var t=0;t<a.length;t++)c.hasOwnProperty(a[t].morph.property())&&c[a[t].morph.property()].apply(u,[n,a[t].result]);else if(e===v){i=!0;for(var r={},t=0;t<a.length;t++)r[a[t].morph.property()]=a[t].result;d.done(1,r),h()}}var n=0,r=null,o=null,i=!1,a=null,s=null,u=null,c=null,l=!1,f=!1,h=null,p="type",v="complete",d=null;this.target=function(){return u},this.queue=function(){return l},this.active=function(){return f},this.done=function(){return i},this.hasProperty=function(e){for(var t=0,n=0;n<a.length;n++)if(a[n].morph.property()==e){t=n+1;break}return t},this.properties=function(){for(var e=[],t=0;t<a.length;t++)e.push(a[t].morph.property());return e},this.stop=function(e){if(e){var t=this.hasProperty(e);t&&(t-=1,a.splice(t,1))}else a=[]},this.start=function(){if(!f){f=!0;for(var n=[],i=0;i<a.length;i++){var u=a[i].morph.get(a[i].value);void 0!==u&&u.start()!==!1&&u.end()!==!1&&n.push(a[i])}a=n;var c=e.getTickFunction();s=t.create(0,1,function(e,t){if(0===a.length)Resolve(v),s.stop();else{for(var n=0;n<a.length;n++)a[n].result=c(t,e,a[n].morph.start(),a[n].morph.end()),a[n].morph.apply(e,a[n].result);Resolve(p),1===e&&Resolve(v)}},o,r,0)}},this.config=function(t,n,i,s){e.normalizeConfig(i),r=i.duration,o=i.easing,c=i.step,l=i.queue,h=s,a=n,u=t,d=i}}]),$R.plugin["class"]("Objects","Animation",["Debug",function Morph(e){function SetStartValue(e){t=e}function SetEndValue(e){n=e}var t,n,r=null,o=null,i=null,a=null,s=!1,u=0;this.start=function(){return t},this.end=function(){return n},this.property=function(){return r},this.ordering=function(){return u},this.get=function(e){return o.apply(a,[SetStartValue,SetEndValue,e]),this},this.valid=function(){return s},this.apply=function(e,t){a.style(r,i.apply(a,[t,e]))},this.config=function(t,n,c,l,f){return"string"!=typeof t?void e.error({name:t},"Unable to config Morph. arg1 [{name}] is not a string!"):"object"!=typeof n?void e.error({name:t},"Unable to config Morph. arg3 is not an object!"):"function"!=typeof l?void e.error({name:t},"Unable to config Morph. arg4 is not a function!"):"number"!=typeof c?void e.error({name:t},"Unable to config Morph. arg2 is not a number!"):"function"!=typeof f?void e.error({name:t},"Unable to config Morph. arg5 is not a function!"):(r=t,o=l,i=f,u=c,a=n,void(s=!0))}}]),$R.plugin["class"]("Objects","Box",[function Box(){var e={size:[0,0],position:[0,0]},t={margin:[0,0,0,0],position:[0,0],size:[0,0]};this.get=function(){return{size:[e.size[0],e.size[1]],position:[e.position[0],e.position[1]]}},this.set=function(n,r,o,i,a,s,u,c){e.size[0]=o,e.size[1]=i,e.position[0]=n,e.position[1]=r,t.margin[0]=a,t.margin[1]=s,t.margin[2]=u,t.margin[3]=c,t.size[0]=c+o+s,t.size[1]=a+i+u,t.position[0]=n-c,t.position[1]=r-a},this.value=function(){return e},this.sprite=function(){return t}}]),$R.plugin["class"]("Objects","Text",["@extend","@inject","+Drawer",function TextLineClass(e,t,n){function getWidth(){if(s){r=0;for(var e=0;e<o.length;e++)r+=o[e].width();return s=!1,r}return r}e(this,"$TextElementClass");var r=0,o=[],i=t("$TextSpaceClass"),a=0,s=!1;this.width=function(){return n.measureText(getWidth)},this.length=function(){return a},this.words=function(e){if(e&&"object"==typeof e&&e.constructor===Array){for(var t=0;t<e.length;t++)o.push(e[t].size(this.size()).height(this.height()).style(this.style()).weight(this.weight()).color(this.color()).font(this.font()));a=o.length;for(var n=[],t=0;t<o.length;t++)n.push(o[t]);return this.propertyChanged("string",n),this}return s=!0,o},this.push=function(e){return o.length>0&&o.push(i),o.push(e.size(this.size()).height(this.height()).style(this.style()).weight(this.weight()).color(this.color()).font(this.font())),s=!0,this},this.string=function(){for(var e="",t=0;t<o.length;t++)e+=o[t].string();return e},this.onPropertyChange(function(e,t){"string"!==e&&i[e](t)})}]),$R.plugin["class"]("Objects","Text",["@extend","+Drawer",function TextSpaceClass(e,t){function getWidth(e){return e.font=r.extractFontString(),e.measureText(n).width}e(this,"$TextElementClass");var n=" ",r=this;this.string=function(){return n},this.width=function(e){return t.measureText(getWidth)}}]),$R.plugin["class"]("Objects","Text",["+Color",function TextElementClass(e){function resolve(e,t){for(var n=0;n<s.length;n++)s[n].apply(u,[e,t])}var t="rgba(0,0,0,1)",n="sans-serif",r=400,o=14,i=14,a="normal",s=[],u=this;this.size=function(e){return"number"==typeof e?(e<0&&(e=0),o=e,resolve("size",o),this):o},this.height=function(e){return"number"==typeof e?(e<0&&(e=0),i=e,resolve("height",i),this):i},this.weight=function(e){return"number"==typeof e?(e<100&&(e=100),e>900&&(e=900),e%100!==0&&(e-=e%100),r=e,resolve("weight",r),this):r},this.font=function(e){return"string"==typeof e&&e.length>0?(n=e,resolve("font",n),this):n},this.color=function(n){return"string"==typeof n?(e.colorToArray(n)&&(t=n,resolve("color",t)),this):t},this.style=function(e){return"normal"===e||"italic"===e||"oblique"===e?(a=e,resolve("style",a),this):a},this.extractFontString=function(){return a+" "+o+'px "'+n+"-"+r+'"'},this.onPropertyChange=function(e){"function"==typeof e&&s.push(e)},this.propertyChanged=function(e,t){resolve(e,t)}}]),$R.plugin["class"]("Objects","Text",["+Color","@extend","+Drawer",function TextWordClass(e,t,n){function getWidth(e){return e.font=o.extractFontString(),e.measureText(r).width}t(this,"$TextElementClass");var r="",o=this;this.string=function(e){return"string"==typeof e?(r=e,this.propertyChanged("string",e),this):r},this.width=function(){return n.measureText(getWidth)},this.draw=function(e,t,n){return"number"!=typeof t&&(t=0),"number"!=typeof n&&(n=0),e.save(),e.fillStyle=this.color(),e.font=this.extractFontString(),e.fillText(r,t,n),e.restore(),this}}]),$R.service["class"]("Events",["Debug",function Event(e){var t={type:void 0,props:{},target:null,event_time:new Date};this.init=function(n,r,o){if("string"==typeof n)if(t.type=n,"object"==typeof r){if(t.target=r,"object"==typeof o&&o.constructor===Array)for(var i=0;i<o.length;i++)"string"==typeof o[i].name&&o[i].name.length>0?this.hasOwnProperty(o[i].name)?e.error({type:n,name:o[i].name},"Duplicated method {name} for event {type}.",this):this[o[i].name]=o[i].bind(r):e.error({type:n},"Unable to create method for event object {type}. Method must be a named function.",this);"function"==typeof o&&("string"==typeof o.name&&o.name.length>0?this.hasOwnProperty(o[i].name)?e.error({type:n,name:o.name},"Duplicated method {name} for event {type}.",this):this[o.name]=o.bind(r):e.error({type:n},"Unable to create method for event object {type}. Method function must be a named function.",this))}else e.error({type:typeof r,val:r},"Invalid Event target {type}{val. Must be an object}",this);else e.error({type:typeof n,val:n},"Invalid type of event. {type}{val}. Must be string. ",this);delete this.init},this.time=function(){return t.event_time},this.target=function(){return t.target},this.type=function(){return t.type}}]),$R.service["class"]("Events",["Debug","@inject",function EventEmitter(e,t){function addCallback(t,r,o,i){if(n.hasOwnProperty(r))if("function"==typeof i)o?n[r].once.push(i):n[r].push(i);else if("object"==typeof i&&i.constructor===Array)for(var a=0;a<i.length;a++)addCallback(t,r,o,i[a]);else e.error({type:typeof i,event:r},"Callback is not a function. Unable to bind callback {type} to event {event}.",t);else e.error({event:r},"Event not found. Unable to bind callback[s] to event {event}.",t)}function removeCallback(t,r,o){if(n.hasOwnProperty(r))if("function"==typeof o){for(var i=[],a=0;a<n[r].length;a++)!n[r][a]===o&&i.push(n[r][a]);i.methods=n[r].methods,i.once=n[r].once,n[r]=i}else if("object"==typeof o&&o.constructor===Array)for(var s=0;s<o.length;s++)removeCallback(t,r,o[s]);else e.error({type:typeof o},"Callback is not a function. {tyoe} is not a function",t);else e.warn({event:r},"Event not found. Unable to unbind {event} callback. ",t)}function resolveEvent(r,o,i,a){if(n.hasOwnProperty(o)){"object"!=typeof i&&(i=r);var s=t("$Event");a="object"==typeof a&&a.constructor===Array?a:[a],a.unshift(s),s.init(o,i,n[o].methods);for(var u=0;u<n[o].length;u++)n[o][u].apply(i,a);for(;n[o].once[0];)n[o].once[0].apply(i,a),n[o].once.shift()}else e.error({event:o},"Event {event} not found. Unable to resolve event",r)}var n={},r=/[A-Za-z-0-9]+/g,o=this;this.decorate=function(t){return"object"==typeof t?(t.on=function(n,i){if(this.$$EMITTERPROTECTEDCONTEXT)return o;if("string"==typeof n&&n.length>0){var a=n.match(r);if(a&&a.length)for(var s=0;s<a.length;s++)addCallback(t,a[s],!1,i);else e.error({events:n},"Invalid event name value. Unable to subscribe to event[s] {events}.",t)}},t.on.$$EMITTERPROTECTED=!0,t.once=function(n,o){if("string"==typeof n&&n.length>0){var i=n.match(r);if(i&&i.length)for(var a=0;a<i.length;a++)addCallback(t,i[a],!0,o);else e.error({events:n},"Invalid event name value. Unable to subscribe to event[s] {events}.",t)}},t.off=function(n,o){if("string"==typeof n&&n.length>0){var i=n.match(r);if(i&&i.length)for(var a=0;a<i.length;a++)removeCallback(t,i[a],o);else e.warn({event:n},"Unable to unbind callback[s] from event[s] {event}. Invalid event name",t)}},this.target=function(){return t},this.on=function(){t.on.apply(t,arguments)},this.once=function(){t.once.apply(t,arguments)},this.off=function(){t.off.apply(t,arguments)},this.proxy=function(e,t,n,r){this.on(t,function(){e.resolve(n,r)})},this.resolve=function(n,o,i){if("string"==typeof n&&n.length>0){var a=n.match(r);if(a&&a.length){i||(i=t);for(var s=0;s<a.length;s++)resolveEvent(t,a[s],i,o)}else e.error({event:n},"Unable to resolve event {event}. Invalid event name",t)}},this.register=function(o,i){if("string"==typeof o)for(var a=o.match(r),s=0;s<a.length;s++)if(n.hasOwnProperty(a[s]))e.error({event:a[s]},"Duplicate event name. Unable to create event {event}. Event already exists.",t);else if(n[a[s]]=[],n[a[s]].once=[],"function"==typeof i&&(n[a[s]].methods=[i]),"object"==typeof i&&i.constructor===Array){n[a[s]].methods=[];for(var u=0;u<i.length;u++)"function"==typeof i[u]&&n[a[s]].methods.push(i[u])}return this},this.clear=function(){for(var e in n)delete n[e]},delete this.decorate,this):void e.error({type:t},"Unable to decorate object {type}. Target is not an object.",this)}}]),$R.service["class"]("Dispatcher",["Tree","Debug",function Finder(e,t){function checkElement(e,t){if("Group"===e.type()){var n=e.extension("Mouse").check(e,t),r=e.extension("Layers"),o=!1;return r.forEach(function(){this.disabled()||("Group"===this.type()?(o=checkElement(this,t),o&&(n=o)):(o=this.extension("Mouse").check(this,t),o&&(n=o)))}),n}}this.check=function(n){var r=e.root();return r?"object"!=typeof n||n.constructor!==Array||2!==n.length||"number"!=typeof n[0]||"number"!=typeof n[1]?(t.warn({c:n},"{c} is not a valid cursor value.",this),null):checkElement(r,n):null}}]),$R.service["class"]("Morphine",[function Morphine(){function Tick(f){if(!l){if(c)return void(o=(new Date).getTime()-t*u);o||(o=(new Date).getTime()),u=(f-o)/t,u>1&&(u=1),1===u&&(n&&r>0?(r!==1/0&&r--,o=(new Date).getTime()):l=!0),i.apply(null,[u,e((f-o)/1e3,a,s-a,t/1e3),o])}}var e=null,t=1,n=!1,r=1,o=null,i=null,a=0,s=0;this.done=function(){return l},this.pause=function(){c=!0},this.paused=function(){return c},this.stop=function(){l=!0};var u=0,c=!1,l=!1;this.config=function(r,o,u,c,l,f){if(!("number"!=typeof r||"number"!=typeof o||"number"!=typeof c||c<0)&&"function"==typeof l&&"function"==typeof u)return"number"==typeof f&&(n=f),a=r,s=o,e=l,i=u,t=c>0?c:1,delete this.config,Tick}}]),$R.service["class"]("Objects",[function Canvas(){var e=document.createElement("canvas"),t=e.getContext("2d"),n=0,r=0;this.context=function(){return t},this.width=function(t){return"number"!=typeof t?n:(n=t,void e.setAttribute("width",n))},this.height=function(t){return"number"!=typeof t?r:(r=t,void e.setAttribute("height",r))},this["export"]=function(){return e},this.destroy=function(){e=void 0,t=void 0,n=void 0,r=void 0;for(var o in this)this.hasOwnProperty(o)&&delete this[o]}}]),$R.service["class"]("Objects",["@inject","Debug",function GraphicsAssembler(e,t){function SetSize(e,t){for(var r=0;r<o.length;r++)o[r].size(e,t);n.width(e),n.height(t),a=e,s=t}function compose(){if(!c){if(u){var e=u.box().sprite();e.size[0]===a&&e.size[1]===s||SetSize(e.size[0],e.size[1])}c=!0}if(!l){r.clearRect(0,0,a,s);for(var t=0;t<o.length;t++)o[t].draw(r);l=!0}return n["export"]()}var n=e("$Canvas"),r=n.context(),o=[],i={},a=0,s=0,u=null,c=!1,l=!1;this.layer=function(n,r,a){return"number"!=typeof n?void t.warn({o:n},"Invalid order argument [{o}] is not a number."):"string"!=typeof r?void t.warn({n:r},"[{n}] is not valid name for layer"):"function"!=typeof a?void t.warn("updateFunc is not a function!"):(i[r]=e("$GraphicsAssemblerLayer"),i[r].f(a),i[r].ordering(n),i[r].update(),o.push(i[r]),o.sort(function(e,t){return e.ordering()-t.ordering()}),void(l=!1))},this.ready=function(){return l},this.box=function(e){u=e},this.size=function(e,t){e===a&&t===s||(SetSize(e,t),l=!1)},this.width=function(){return a},this.height=function(){return s},this.resize=function(){c=!1,l=!1},this.update=function(e){l=!1,i[e].update()},this.destroy=function(){n=n.destroy(),r=void 0,u=void 0,c=void 0,l=void 0;for(var e;o[0];)o[0].destroy(),o.shift();for(e in i)i.hasOwnProperty(e)&&delete i[e];i=void 0,o=void 0,a=void 0,s=void 0;for(e in this)this.hasOwnProperty(e)&&delete this[e]},this["export"]=compose}]),$R.service["class"]("Objects",["@inject","Debug",function GraphicsAssemblerLayer(e,t){function updateCanvas(e){s||(r.clearRect(0,0,o,i),r.save(),a&&a(r),s=!0,r.restore()),e.drawImage(n["export"](),0,0)}var n=e("$Canvas"),r=n.context(),o=0,i=0,a=null,s=!1,u=0;this.f=function(e){"function"==typeof e?(a=e,delete this.f):t.warn({f:e},"[{f}] is not a function")},this.size=function(e,t){o===e&&t===t||(n.width(e),n.height(t),o=e,i=t,s=!1)},this.ordering=function(e){return e&&"number"==typeof e&&(u=e),u},this.update=function(){s=!1},this.draw=updateCanvas,this.destroy=function(){n=n.destroy(),r=void 0,o=void 0,i=void 0,a=void 0,s=!1,u=void 0;for(var e in this)this.hasOwnProperty(e)&&delete this[e]}}]),$R.service["class"]("Objects",function Plugin(){var e={},t={},n=null,r=[],o=[];this.defineObject=function(e){n=e,delete this.defineObject},this.object=function(){return n},this.matchType=function(e){if(0===r.length)return!0;for(var t=!1,n=0;n<r.length;n++)if(r[n]===e){t=!0;break}return this.applyTo&&(delete this.applyTo,delete this.matchType),t},this.applyTo=function(e){if("string"==typeof e)r.push(e);else if("object"==typeof e&&e.constructor===Array)for(var t=0;t<e.length;t++)"string"==typeof e[t]&&r.push(e[t]);delete this.applyTo},this.register=function(n,r,o){e[n]||(e[n]=r),o&&(t[n]=!0)},this.wrap=function(t){for(var n in e)e.hasOwnProperty(n)&&!t[n]&&(t[n]=e[n]);delete this.wrap,delete this.register,delete this.clear},this.hasProperty=function(t){var n=!1;for(var r in e)if(e.hasOwnProperty(r)&&t===r){n=!0;break}return n},this.clear=function(e){for(var n in t)t.hasOwnProperty(n)&&delete e[n]},this.destroy=function(r){var i;if("function"==typeof r)return o.push(r),this;for(;o[0];)o[0].call(this),o.shift();o=void 0;for(i in e)n&&delete n[i],delete e[i];for(i in this)this.hasOwnProperty(i)&&delete this[i];e=void 0,t=void 0}}),$R.service["class"]("Objects",[function AreaObjectClass(){}]),$R.service["class"]("Objects",["+Mouse",function CircleObjectClass(e){this.mouseCheckFunction(e.circleCheckFunction)}]),$R.service["class"]("Objects",[function DefaultObjectType(){}]),$R.service["class"]("Objects",function GroupObjectClass(){}),$R.service["class"]("Objects",["+Mouse",function ImageObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction)}]),$R.service["class"]("Objects",function LineObjectClass(){}),$R.service["class"]("Objects",["+Mouse",function RectangleObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction);var t=this.extension("Mouse");t.cursorTransformFunction(e.rectCursorTransformFunction)}]),$R.service["class"]("Objects",["+Mouse",function SpriteObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction)}]),$R.service["class"]("Objects",["+Mouse",function TextObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction)}]),$R.service["class"]("Resource",["@extend","Debug",function AudioResource(e,t){function createAudio(){var e=new XMLHttpRequest;e.open("GET",o,!0),e.responseType="arraybuffer",e.onload=function(e){r(1),i=this.response,n("load",[i])},e.onerror=function(){r(2),n("error",[]),t.error({url:o},"Unable to load audio {url}.")},this.on("get",function(){e.send()})}e(this,"$Resource"),this.type="Audio";var n=null,r=null,o=null,i=null;this.on("init",function(e,t,i){n=t,r=i,o=e,createAudio.call(this)}),this["export"]=function(){return i}}]),$R.service["class"]("Resource",["@extend","Debug","@Config","@Fonts",function FontResource(e,t,n,r){function getFont(){r.font(s,a,u,c),document.getElementsByTagName("body")[0].appendChild(f),l=!0;var e=1e3,n=0,p=[f.offsetWidth,f.offsetHeight];f.style.fontFamily='"'+r.format(a)+"-"+u+'", sans-serif',h=setInterval(function(){f.offsetWidth===p[0]&&f.offsetHeight===p[1]||(document.getElementsByTagName("body")[0].removeChild(f),l=!1,clearInterval(h),o(1),i("load",[])),n++,n>e&&(o(2),i("error",[]),t.warn({font:a+"-"+u},"Unable to load font {font}. Font pending timed out..."),document.getElementsByTagName("body")[0].removeChild(f),l=!1,clearInterval(h))},50)}e(this,"$Resource"),this.type="Font";var o=null,i=null,a=null,s=n.watch("fontDir",function(e){s=e,l&&document.getElementsByTagName("body")[0].removeChild(f),h&&window.clearInterval(h),getFont()}),u=(r.formats(),null),c=null,l=!1,f=document.createElement("div");f.setAttribute("class","reflect-font-loader-element"),f.style.fontFamily="sans-serif",f.style.fontSize="12px",f.style.lineHeight="12px",f.style.position="absolute",f.style.left="-9999px",f.style.top="-9999px",f.innerText='abcdefghijklmnopqrstuvwxyz 1234567890[!?,.<>"$%^&*()~@#-=]',this.on("init",function(e,t,n){i=t,o=n,a=e[0],u=e[1],c=e[2],f.style.fontStyle=c,this.on("get",function(){getFont()})});var h=null;this["export"]=function(){return r.format(a)}}]),$R.service["class"]("Resource",["@extend","Debug",function ImageResource(e,t){function createImage(){i.addEventListener("load",function(){o(1),a=i.width,s=i.height,r("load",[])}),i.addEventListener("error",function(){o(2),r("error",[]),t.error({url:n},"Unable to load image {url}.")}),this.on("get",function(){i.setAttribute("src",n)})}e(this,"$Resource");var n=null,r=null,o=null,i=new Image,a=0,s=0;this.type="Image",this.on("init",function(e,t,i){r=t,o=i,n=e,createImage.call(this)}),this.width=function(){return a},this.height=function(){return s},this["export"]=function(){return i}}]),$R.service["class"]("Resource",["@extend","Debug",function Resource(e,t){function setStatus(e){return"number"!=typeof e?void t.error({val:e},"{val} is not valid value for status"):e<0||e>2?void t.error({val:e},"{val} no such status possible!"):void(a=e)}function resolveEvent(e,n){if(i[e]){n="object"==typeof n&&n.constructor===Array?n:[];for(var o=0;o<i[e].length;o++)i[e][o].apply(r,n)}else t.warn({e:e},"Unable to set event {e}. No such event!")}var n=null,r=this,o=!1,i={init:[],get:[],load:[],error:[],loading:[]},a=-1;this.loaded=function(){return 1===a},this.error=function(){return 2===a},this.loading=function(){return 0===a},this.load=function(){a<0&&(a=0,resolveEvent("get",[n]))},this.url=function(e){return void 0===e?n:(n=e,o?resolveEvent("init",[n]):(resolveEvent("init",[n,resolveEvent,setStatus]),o=!0),this)},this.on=function(e,n){var r=i[e];return n="function"==typeof n&&n,"load"===e&&1===a&&n.call(this),"error"===e&&2===a&&n.call(this),r&&n?void i[e].push(n):void t.warn({e:e},"Unable to set handler for event {e}.")}}]),$R.service["class"]("Resource",["@extend","Debug",function SpriteResource(e,t){function createCanvasArray(){for(var e=0,t=0;t<o;t++){d.push([]);for(var n=0;n<o;n++)e++,e<i&&d[t].push(document.createElement("canvas"))}}function setCanvasSize(){c=Math.round(u/o),l=Math.round(s/o);for(var e=0;e<o;e++)for(var t=0;t<o;t++)if(d[e][t]){d[e][t].setAttribute("width",l),d[e][t].setAttribute("height",c);var n=d[e][t].getContext("2d");n.translate(-l*t,-c*e),n.drawImage(r,0,0)}}e(this,"$Resource");var n=null,r=null,o=0,i=0,a=0,s=0,u=0,c=0,l=0,f=12,h=null,p=null,v=!1,d=[];this.type="Sprite",this.on("init",function(e,t,o){h=o,p=t,n=e,r=document.createElement("img"),r.addEventListener("load",function(){h(1),s=r.width,u=r.height,v&&(createCanvasArray(),setCanvasSize()),p("load",[])}),r.addEventListener("error",function(){h(2),p("error",[])}),this.on("get",function(){r.setAttribute("src",n)})}),this.ready=function(){return v},this.width=function(){return l},this.height=function(){return c},this.spriteWidth=function(){return s},this.spriteHeight=function(){return u},this.fps=function(e){return"number"!=typeof e||e<=0?(t.warn({n:e},"{n} is not a correct fps number"),!1):(f=e,void(a=Math.round(i/f*1e3)))};var g=!1;this.pause=function(){g=!0},this.play=function(){g=!1},this.config=function(e){if(!v){if("number"!=typeof e||e<=0)return void t.warn({rows:e},"{rows} is not a valid frames number");o=Math.ceil(Math.sqrt(e)),i=e,a=Math.round(i/f*1e3),v=!0,createCanvasArray()}},this.frames=function(){return i};var y=0,b=0,m=(new Date).getTime();this.tick=function(e){if(e=e.getTime(),!g){var t=(e-m)/a;t>1&&(t=1,m=(new Date).getTime()),t<0&&(t=0);var n=Math.floor((i-1)*t);b=Math.floor(n/o),y=n-b*o}},this["export"]=function(){if(d[b][y])return d[b][y]}}]),$R.service["class"]("Sound",["@inject","Debug",function Audio(e,t){function eventArgs(){return[s,u,r,o]}function createAnimationMorph(e,t){a.morph.apply(this,[t.name,0,function(n,r,o){o=t.normalizer(o),void 0!==o&&(r(o),n(e.get(t.name)))},function(n){return n=t.normalizer(n),e.set(t.name,n)}])}var n=null,r=null,o=null,i=e("$EventProvider"),a=e("$AnimationProvider"),s=this,u=null,c="";i.wrap(this),i.event("ready",eventArgs,!0),i.event("load",eventArgs,!0),i.event("error",eventArgs,!0),i.event("play",eventArgs,!1),i.event("connect",eventArgs,!1),i.event("disconnect",eventArgs,!1),i.event("end",eventArgs,!1),this.build=function(a,s){if("string"==typeof a&&a.length>0){"string"==typeof s&&"destination"!==s&&s.length>0?(r=s,n=e("$UserAudioSource").build(s),o="Sample",n.on("load",function(){i.resolve("load")}),this.play=function(){return n.play(),this},this.terminate=function(){return n.stop(),this}):"destination"===s?(n=e("$UserAudioMixer").build(a,s),this.connect=function(){return arguments[0]&&"object"==typeof arguments[0]&&arguments[0].$$SOURCE?n:this},r="["+a+"]AudioChannel",o="Channel",i.resolve("load")):void 0===s&&(n=e("$UserAudioMixer").build(a),r="["+a+"]AudioChannel",o="Channel",i.resolve("load")),n.on("error",function(){i.resolve("error")}),n.on("play",function(){i.resolve("play")}),n.on("end",function(){i.resolve("end")}),n.on("connect",function(){i.resolve("connect")}),n.on("disconnect",function(){i.resolve("disconnect")});for(var u=n.filters(),l=0;l<u.length;l++)for(var f=u[l].props(),h=0;h<f.length;h++)f[h].animated&&createAnimationMorph.apply(this,[u[l],f[h]]);c=a,i.resolve("ready")}else t.warn("Audio mixer have no name! Should be a string");return this},this.filter=function(e,r){if("string"==typeof e&&e.length>0){for(var o=null,i=n.filters(),a=0;a<i.length;a++)i[a].has(e)&&(o=i[a]);if(o){if(void 0===r)return o.get(e);o.set(e,r)}else t.warn({name:e},"Unable to set filter property [{name}]. No filter with that param!")}return this},this.connect=function(e){if(e&&"object"==typeof e&&e.$$SOURCE)return n;if("object"==typeof e&&e.type&&"function"==typeof e.type){var r=e.type();if("Channel"===o&&"Sample"===r)return t.error("Trying to connect Channel with Sample!"),this;if(e.connect&&"function"==typeof e.connect){var i=e.connect({$$SOURCE:!0});return u=e,n.connect(i),e}t.error("Unknown type of  object passed as output!")}else t.error("Unknown type of  object passed as output!");return this},this.output=function(){return u},this.animate=function(){return a.animate.apply(this,arguments),this},this.type=function(e){return"string"==typeof e?e===o:o},this.url=function(){return r},this.name=function(){return c},this.stop=function(){return a.stop.apply(this,arguments),this}}]),$R.service["class"]("Sound",["@inject","@Config","Debug",function UserAudioMixer(e,t,n){function argF(){return[this]}var r=e("$EventProvider"),o=[],i=null,a="",s=t.watch("filters",function(e){o=e});r.wrap(this),r.event("play",argF,!1),r.event("connect",argF,!1),r.event("ready",argF,!0),r.event("error",argF,!0),this.build=function(t,i){for(var u=0;u<s.length;u++){var c=e("$"+s[u]+"Node");o[o.length-1]&&o[o.length-1].connect(c),o.push(c)}if("string"==typeof t&&t.length>0?a=t:(n.warn({n:t},"[{n}] is not a valid name for channel"),r.resolve("error")),i&&"object"==typeof i&&i.connect&&"function"==typeof i.connect)this.connect(i);else if("destination"===i){var l=e("$DestinationNode");o[o.length-1].connect(l),this.connect=function(e){if(e.$$AUDIONODE)return o[0]}}return delete this.build,this},this.connect=function(e){if(e.$$AUDIONODE)return o[0];var t=e.connect({$$AUDIONODE:!0});return o[o.length-1].connect(t),i=e,this},this.output=function(){return i},this.filters=function(){return o},this.name=function(){return a}}]),$R.service["class"]("Sound",["@extend","@inject",function UserAudioSource(e,t){function cbArgs(){return[this]}function connectCbArgs(){return[this,i]}var n=t("$AudioSource"),r=t("$EventProvider"),o=null,i=null,a="";r.wrap(this),r.event("ready",cbArgs,!0),r.event("load",cbArgs,!0),r.event("error",cbArgs,!0),r.event("connect",connectCbArgs,!1),r.event("play",cbArgs,!1),r.event("stop",cbArgs,!1),n.on("ready",function(){r.resolve("ready")}),n.on("load",function(){r.resolve("load")}),n.on("error",function(){r.resolve("error")}),this.build=function(e){return"string"==typeof e&&e.length>0?(a=e,n.build(e),o=t("$UserAudioMixer").build("source-built-in-filter"),o.on("connect",function(){r.resolve("connect")}),n.connect(o.connect({$$AUDIONODE:!0})),delete this.build,r.resolve("ready")):(delete this.build,r.resolve("error")),this},this.filters=function(){return o?o.filters():[]},this.play=function(){return this.status("error")||this.status("ready")&&(this.status("load")?n.play():this.on("load",function(){n.play()})),this},this.stop=function(){return n.stop(),this},this.output=function(){return i},this.connect=function(e){return e&&e.constructor===o.constructor&&(i=e,o.connect(e)),this}}]),$R.service["class"]("Sound",["@inject","Debug",function AnimationProvider(e,t){function findCompetitor(e,t){t.$$SELF=!0;for(var r=null,o=0;o<n.length;o++)if(!n[o].$$SELF&&n[o].active()&&!n[o].done()){for(var i=!1,a=0;a<e.length;a++)if(n[o].hasProperty(e[a])){i=!0;break}i&&(r||(r=[]),r.push(n[o]))}return delete t.$$SELF,r}function CheckAnimationQueue(){for(var e=[],t=0;t<n.length;t++)if(n[t].active())n[t].done()||e.push(n[t]);else{var r=n[t].properties();if(n[t].queue())findCompetitor(r,n[t])||n[t].start();else{var o=findCompetitor(r,n[t]);if(o)for(var i=0;i<o.length;i++)for(var a=0;a<r.length;a++)o[i].stop(r[a]);n[t].start()}e.push(n[t])}n=e}function CreateAnimationType1(t,r,i,a){var s={};if(s[t]=r,o[t]){var u=[{ordering:o[t].ordering(),morph:o[t],value:r}],c={};i&&"number"==typeof i&&(c.duration=i),a&&"string"==typeof a&&(c.easing=a);var l=e("$Animation");l.config(this,u,c,CheckAnimationQueue),n.push(l)}}function CreateAnimationType2(r,i,a){var s={};"object"==typeof i?s=i:"number"==typeof i?(s={duration:i},"string"==typeof a&&(s.easing=a)):"string"==typeof i&&(s={easing:i});var u={};for(var c in r)r.hasOwnProperty(c)&&(o[c]?u[c]={ordering:o[c].ordering(),morph:o[c],value:r[c]}:t.warn({type:this.type(),property:c},"Property {property} of {type} can not be animated!"));var l=[];for(var f in u)l.push(u[f]);if(l.length){l.sort(function(e,t){return e.ordering-t.ordering});var h=e("$Animation");h.config(this,l,s,CheckAnimationQueue),n.push(h)}else t.warn("No properties to animate!");
}var n=[],r=!1,o={};this.morph=function(t,n,r,i){var a=e("$Morph");a.config(t,this,n,r,i),a.valid()&&(o[t]=a)},this.extractMorph=function(e){return o[e]},this.animate=function(e,n,r,o){"string"==typeof e&&n?CreateAnimationType1.apply(this,arguments):"object"==typeof e&&e.constructor!==Array?CreateAnimationType2.apply(this,arguments):t.warn("Unable to create animation. Wrong arguments"),CheckAnimationQueue()},this.animated=function(){return r},this.stop=function(e){if("string"==typeof e&&0!==e.length)for(var t=0;t<n.length;t++)n[t].stop(e)}}]),$R.service["class"]("Sound",["@Audio","@extend",function DelayNode(e,t){t(this,"$AudioNode");var n=0,r=0,o=e.context().createGain(),i=e.context().createDelay(),a=e.context().createGain(),s=e.context().createBiquadFilter();o.gain.value=1,s.frequency.value=2e3,a.gain.value=r,i.delayTime.value=n,i.connect(a),a.connect(s),s.connect(i),a.connect(o),this.build("delay",[o,a],o),this.property("delay",[0,0],function(e){if("object"==typeof e&&e.constructor===Array&&2==e.length&&"number"==typeof e[0]&&"number"==typeof e[1]){var t=e[0],o=e[1];return t>1&&(t=1),t<0&&(t=0),o>.8&&(o=.8),o<0&&(o=0),n=t,r=o,i.delayTime.value=n,a.gain.value=r,[o,t]}},function(e){return[e[0],e[1]]},function(e){var t=e[0],n=e[1];return t>1&&(t=1),t<0&&(t=0),n>.8&&(n=.8),n<0&&(n=0),[n,t]})}]),$R.service["class"]("Sound",["@Audio","@extend",function DestinationNode(e,t){t(this,"$AudioNode"),this.build("destination",e.context().destination,!1)}]),$R.service["class"]("Sound",["@Audio","@extend",function GainNode(e,t){t(this,"$AudioNode");var n=1,r=e.context().createGain();r.gain.value=n,this.build("gain",r,r),this.property("volume",1,function(e){if("number"==typeof e)return e<0&&(e=0),e>1&&(e=1),n=e,r.gain.value=n,e},function(e){return e},function(e){return e<0&&(e=0),e>1&&(e=1),e})}]),$R.service["class"]("Sound",["@Audio","@extend",function LowpassNode(e,t){t(this,"$AudioNode");var n=e.context().createBiquadFilter(),r=22050;n.type="lowpass",n.frequency.value=r,this.build("lowpass",n,n),this.property("lowpass",22050,function(e){return e<0&&(e=0),e>22050&&(e=22050),r=e,n.frequency.value=e,e},function(e){return e},function(e){return e<0&&(e=0),e>22050&&(e=22050),e})}]),$R.service["class"]("Sound",["@inject","Debug",function AudioNode(e,t){function args(){return[o]}var n=null,r=null,o=null,i=function(e,t){if(!t)for(var n=this.input(),r=0;r<n.length;r++)e.connect(n[r]);return this.output()},a=[],s=e("$EventProvider"),u="";s.wrap(this),s.event("ready",args,!0),s.event("play",args,!1),s.event("end",args,!1),s.event("connect",args,!1),s.event("disconnect",args,!1),s.event("property",args,!1),this.disconnect=function(){if(o&&n){for(var e=o.input(),t=0;t<n.length;t++)for(var r=0;r<e.length;r++)n[t].disconnect(e[r]);o=null,s.resolve("disconnect")}return this},this.connect=function(e){if(this.disconnect(),o=e,o&&n)for(var t=o.input(),r=0;r<n.length;r++)for(var i=0;i<t.length;i++)n[r].connect(t[r]);return s.resolve("connect"),this},this.build=function(e,t,o,a){return r="object"==typeof t&&t.constructor===Array?t:[t],n="object"==typeof o&&o.constructor===Array?o:[o],u=e,"function"==typeof a&&(i=a),delete this.build,s.resolve("ready"),this},this.input=function(){return r},this.output=function(){return n},this.name=function(){return u},this.play=function(e,t){a.push(e),e.addEventListener("ended",function(){var t=[];e.$$SEARCH=!0;for(var n=0;n<a.length;n++)a.$$SEARCH||t.push(a[n]);delete e.$$SEARCH,a=t}),o&&o.play(e,i.apply(this,arguments))};var c={};this.property=function(e,n,r,o,i){if("string"==typeof e){var a={name:e,value:null,getter:null,setter:null,normalizer:i,animated:"function"==typeof i};"function"==typeof o&&(a.getter=o),"function"==typeof r&&(a.setter=r),a.value=n,n&&a.setter&&(c[a.name]?t.warn({property:a},"Duplicated property [{property}]"):c[a.name]=a)}else t.warn({name:e},"Property name [{name}] is not valid!")},this.set=function(e,n){if("string"==typeof e&&e.length>0){var r=c[e].setter(n);void 0!==r?c[e].value=r:t.warn({prop:e,val:n},"[{val}] is not a valid valuen for [{prop}].")}},this.get=function(e){if("string"==typeof e&&e.length>0){if(c[e])return c[e].value;t.warn({name:e},"Object has no property [{name}]. Unable to get value.")}else t.warn("Property name has to be a string")},this.props=function(){var e=[];for(var t in c)c.hasOwnProperty(t)&&e.push(c[t]);return e},this.has=function(e){return!!c[e]}}]),$R.service["class"]("Sound",function AudioNodeSoundDispatcher(){var e=[];this.register=function(t){t.addEventListener("end",function(){t.$$SEARCH=!0;for(var n=[],r=0;r<e.length;r++)e[r].$$SEARCH||n.push(e[r]);e=n}),e.push(t)},this.reconnect=function(t){for(var n=0;n<e.length;n++)e[n].disconnect(),e[n].connect(t)}}),$R.service["class"]("Sound",["@Audio","@inject","Resource","Debug",function AudioSource(e,t,n,r){function args(){return[o,i,a]}var o=null,i=null,a=null,s=t("$EventProvider"),u=[];s.wrap(this),s.event("ready",args,!0),s.event("load",args,!0),s.event("error",args,!0),s.event("connect",args,!1),s.event("disconnect",args,!1),s.event("play",!1),s.event("end",!1),this.build=function(t){return o=n.audio(t),o.on("load",function(n){e.context().decodeAudioData(n,function(e){i=e,s.resolve("load")},function(){r.error({src:t},"[{src}] audio buffer can not be decoded. Resource not found, or of wrong format"),s.resolve("error")})}),o.on("error",function(){r.error({src:t},"Unable to load audio file"),s.resolve(error)}),delete this.build,this},this.disconnect=function(){return a&&(a=null,s.resolve("disconnect")),this},this.connect=function(e){return this.disconnect(),a=e,s.resolve("connect"),this},this.play=function(){if(a&&this.status("load")){var t=e.context().createBufferSource();t.buffer=i,u.push(t),a.play(t,!1),t.start(0)}return this},this.stop=function(){for(var e=0;e<u.length;e++)u[e].stop(0);return u=[],this}}]),$R.service["class"]("Sound",["Debug",function Event(e){var t=[],n=!1,r="default",o=!1,i=this,a=function(){return[]};this.build=function(e,t,o){return n=!!o,"function"==typeof t&&(a=t),"string"==typeof e&&e.length>0&&(r=e),delete this.build,this},this.name=function(){return r},this.active=function(){return o},this.resolve=function(){n&&(o=!0);var e=a();if("object"!=typeof e||e.constructor!==Array)e=[];else for(var r=0;r<t.length;r++)t[r].apply(this,e);return this},this.callback=function(e){if("function"!=typeof e)return this;if(i.active()){var n=a();return"object"==typeof n&&n.constructor===Array||(n=[]),e.apply(this,n),t.push(arguments[0]),this}return t.push(e),this}}]),$R.service["class"]("Sound",["@inject",function EventProvider(e){var t=[];this.event=function(n,r,o){var i=e("$Event");return i.build.apply(i,arguments),t[n]=i,this},this.resolve=function(e){return t[e]&&t[e].resolve.call(t[e]),this},this.wrap=function(e){return e.on=function(n,r){t[n]&&t[n].callback.call(e,r)},e.status=function(e){return!!t[e]&&t[e].active()},this}}]),$R.service["class"]("States",["Debug",function State(e){function isInState(n){return t[n]?t[n].value:void e.error({state:n,target:r.constructor.name},"State {state} if {target} does not exist",r)}function isBoundProperty(e){return void 0!==typeof t[e]&&"object"==typeof t[e].bound&&t[e].bound.constructor===Array&&t[e].bound.length}function getPropertyEventCallback(e,t){return function(){setPropertyValue(e,t,!0)}}function createProperty(o,a,s,u){if(void 0===t[o]){if(t[o]={value:!!a},"string"==typeof s&&s.length>0)if(s=s.match(i)){t[o].bound||(t[o].bound=[]);for(var c=0;c<s.length;c++)t[o].bound.push(s[c]),n.on(s[c],getPropertyEventCallback(o,!0))}else e.error({enabler:typeof s,disabler:typeof u,property:o},"Enabler is not a valid event string. Unable to create bound property {property} : enabler {enabler}, disabler - {disabler}",r);if("string"==typeof u&&u.length>0)if(u=u.match(i)[0],"string"==typeof u&&u.length>0)if(t[o].bound||(t[o].bound=[]),u=u.match(i)){t[o].bound||(t[o].bound=[]);for(var l=0;l<u.length;l++)t[o].bound.push(u[l]),n.on(u[l],getPropertyEventCallback(o,!1))}else e.error({enabler:typeof s,disabler:typeof u,property:o},"Disabler is not a valid event string. Unable to create bound property {property} : enabler {enabler}, disabler - {disabler}",r);else e.error({enabler:typeof s,disabler:typeof u,property:o},"Disabler is not a valid event string. Unable to create bound property {property} : enabler {enabler}, disabler - {disabler}",r)}}function setPropertyValue(n,o,i){if("boolean"==typeof o){if("object"==typeof t[n]){var a=isBoundProperty(n);!a||a&&i?t[n].value=o:e.error({property:n,value:o},"Attempt to set state of bound property directly. Unable to set value {value} of property {property}.")}}else e.error({property:n,val:typeof o},"Unable to set {property} value as {val}. Must be boolean. ",r)}var t={},n=null,r=null,o=this,i=/[A-Za-z-0-9]+/g;this.decorate=function(t,a){return r=t,a&&(n=a,this.create=function(e,t,n,r){var o=e.match(i);"undefined"==typeof t&&(n=e,t=!1);for(var a=0;a<o.length;a++)createProperty(o[a],t,n,r)},this.set=function(e,t){var n=e.match(i);if(n&&n.length)for(var r=0;r<n.length;r++)setPropertyValue(n[r],t)}),r.is=function(t,s){if(this.$STATESPROTECTEDCONTEXT)return o;if(this.$STATESPROTECTEDHASEMITTERSET)return a||(n=t),o;if("string"==typeof t){var u,c=t.match(i);if(s="undefined"==typeof s||("boolean"!=typeof s||s),c&&c.length){for(var l=0;l<c.length&&(u=isInState(c[l]),!s||u)&&(s||!u);l++);return u}e.error({state:t},"Invalid state string. Unable to parse {state} and check state.",r)}return isInState(t)},r.is.$$STATESPROTECTED=!0,delete this.decorate,this}}]),$R.service["class"]("Objects",["@inject","+Drawer","+Path","+Model",function AreaObjectDrawer(e,t,n,r){function UpdateFill(e){var r=this.extension("Box").box().sprite(),o=this.extension("Style"),i=o.get("path");e.save(),e.translate(r.margin[3]-h,r.margin[0]-p);var a=o.get("interpolation");c||(n.interpolate(i,a,!0),c=!0),a?t.drawBezierPathFill(e,i,o):t.drawLinePathFill(e,i,o),e.restore()}function UpdateStroke(e){var o=this.extension("Box").box().sprite(),i=this.extension("Style"),a=r.cloneArray(i.get("path")),s=i.get("interpolation");e.translate(o.margin[3]-h,o.margin[0]-p),c||(n.interpolate(a,s,!0),c=!0),s&&t.drawLinePath(e,a,i),t.drawBezierPath(e,a,i)}function UpdateBg(e){var i=this.extension("Style"),a=this.extension("Box").box().sprite(),s=r.cloneArray(i.get("path")),u=i.get("interpolation");e.translate(a.margin[3]-h,a.margin[0]-p),c||(n.interpolate(s,u,!0),c=!0),u?t.drawLineBgClipPath(e,s,i,o,a):t.drawBezierBgClipPath(e,s,i,o,a)}var o=e("$GraphicsAssembler"),i=this.extension("Box"),a=this.extension("Style"),s=this.extension("Matrix"),u=this.extension("Drawer"),c=!1,l=1,f=0,h=0,p=0;o.layer(0,"fill",UpdateFill.bind(this)),o.layer(1,"bg",UpdateBg.bind(this)),o.layer(2,"stroke",UpdateStroke.bind(this)),o.box(i),this.watch("path",function(){a.get("interpolation");c=!1,i.purge(),s.purge(),o.resize(),o.update("fill"),o.update("stroke"),o.update("bg")}),this.watch("interpolation",function(e,t){c=!1,f=Math.round(40*t),o.update("fill"),o.update("stroke"),o.update("bg"),o.resize()}),this.watch("position",function(){i.purge(),s.purge()}),this.watch(["strokeStyle","strokeColor"],function(){o.update("stroke"),o.resize()}),this.watch("fill",function(){o.update("fill")}),this.watch(["bg","bgSize","bgPosition"],function(){o.update("bg")}),this.watch("strokeWidth",function(e,t){for(var n=0,r=0;r<t.length;r++)t[r]>n&&(n=t[r]);l=n/2,o.update("stroke"),i.purge(),s.purge(),o.resize()}),i.f(function(e){for(var t=a.get("position"),n=a.get("path"),r=a.get("anchor"),o=t[0],i=t[1],s=1/0,u=1/0,c=-(1/0),v=-(1/0),d=0;d<n.length;d++)n[d][0]<s&&(s=n[d][0]),n[d][2]<s&&(s=n[d][2]),n[d][1]<u&&(u=n[d][1]),n[d][3]<u&&(u=n[d][3]),n[d][0]>c&&(c=n[d][0]),n[d][2]>c&&(c=n[d][2]),n[d][1]>v&&(v=n[d][1]),n[d][3]>v&&(v=n[d][3]);s===1/0&&(s=0),u===1/0&&(u=0),c===-(1/0)&&(c=0),v===-(1/0)&&(c=0),h=s,p=u;var g=l+f,y=Math.abs(c-s),b=Math.abs(v-u);"center"===r[0]&&(o-=y?y/2:0),"right"===r[0]&&(o-=y?y:0),"middle"===r[1]&&(i-=b?b/2:0),"bottom"===r[1]&&(i-=b?b:0),e.set(o+h,i+p,y,b,g,g,g,g)}),u["export"](o["export"]),u.drawFunction(function(e){t.transform(this,e),e.drawImage(u["export"](),0,0)}),u.destroy(function(){o=o.destroy(),c=void 0,l=void 0,f=void 0,h=void 0,p=void 0})}]),$R.service["class"]("Objects",["+Drawer","Debug","@inject",function CircleObjectDrawer(e,t,n){function UpdateStroke(e){var t=i.box().sprite();e.beginPath(),e.strokeStyle=a.get("strokeColor"),e.lineWidth=a.get("strokeWidth"),e.setLineDash(a.get("strokeStyle")),e.arc(t.size[0]/2,t.size[1]/2,a.get("radius"),0,2*Math.PI),e.stroke()}function UpdateFill(e){var t=i.box().sprite();e.beginPath(),e.fillStyle=a.get("fill"),e.arc(t.size[0]/2,t.size[1]/2,a.get("radius"),0,2*Math.PI),e.fill()}function UpdateBg(e){var t=i.box().sprite(),n=i.box().value();e.beginPath(),e.arc(t.size[0]/2,t.size[1]/2,a.get("radius"),0,Math.PI/2),e.clip();for(var o=a.get("bgPosition"),s=a.get("bgSize"),u=a.get("bg"),c=0;c<u.length;c++)if(u[c].loaded()){e.save();var l=n.size[0]*s[c][0],f=n.size[1]*s[c][1],h=n.size[0]*o[c][0],p=n.size[1]*o[c][1];e.translate(t.margin[3]+h,t.margin[0]+p),e.drawImage(u[c]["export"](),0,0,l,f),e.restore()}else u[c].on("load",function(){r.update("bg")})}var r=n("$GraphicsAssembler"),o=this.extension("Drawer"),i=this.extension("Box"),a=this.extension("Style"),s=this.extension("Matrix"),u=1;r.layer(0,"fill",UpdateFill.bind(this)),r.layer(1,"bg",UpdateBg.bind(this)),r.layer(2,"stroke",UpdateStroke.bind(this)),r.box(i),i.f(function(e){var t=a.get("radius"),n=a.get("position"),r=a.get("anchor"),o=2*t,i=n[0],s=n[1];"center"===r[0]&&(i-=t),"right"===r[0]&&(i-=o),"middle"===r[1]&&(s-=t),"bottom"===r[1]&&(s-=o),e.set(i,s,o,o,u,u,u,u)}),this.watch("radius",function(){r.update("stroke"),r.update("bg"),r.update("fill"),i.purge(),s.purge(),r.resize()}),this.watch("fill",function(){r.update("fill")}),this.watch("position",function(){i.purge()}),this.watch("strokeWidth",function(e,t){t!==e&&(u=t,i.purge(),r.update("stroke"),s.purge(),r.resize())}),this.watch(["strokeStyle","strokeColor"],function(){r.update("stoke")}),this.watch(["bg","bgPosition","bgSize"],function(){r.update("bg")}),o["export"](r["export"]),o.drawFunction(function(t){e.transform(this,t),t.drawImage(o["export"](),0,0)}),o.destroy(function(){r=r.destroy(),o=void 0,i=void 0,a=void 0,s=void 0,u=void 0})}]),$R.service["class"]("Objects",["Debug","+Matrix",function DefaultObjectDrawer(e,t){var n=this.extension("Matrix");n.f(function(){return t.objectMatrix(this)}),this.watch(["position","rotate","translate","scale","skew"],function(){n.purge()}),n.destroy(function(){n=void 0})}]),$R.service["class"]("Objects",["+Drawer",function GroupObjectDrawer(e){var t=this.extension("Drawer"),n=this.extension("Layers"),r=this.extension("Box"),o=this.extension("Style");r.f(function(e){var t=1/0,r=1/0,i=-(1/0),a=-(1/0);n.forEach(function(){var e=this.extension("Box").box().value();t=Math.min(t,e.position[0]),r=Math.min(r,e.position[1]),i=Math.max(i,e.position[0]+e.size[0]),a=Math.max(a,e.position[1]+e.size[1])});var s=o.get("position");t===1/0&&(t=0),i===-(1/0)&&(i=0),r===1/0&&(r=0),a===-(1/0)&&(a=0),e.set(t+s[0],r+s[1],i-t,a-r,0,0,0,0)}),this.watch("position",function(e,t){r.purge()});var i;t.drawFunction(function(){i=arguments,e.transform(this,i[0]),n.forEach(function(){i[0].save(),this.extension("Drawer").draw.apply(this,i),i[0].restore()})}),t.destroy(function(){t=void 0,n=void 0,r=void 0,o=void 0,i=void 0})}]),$R.service["class"]("Objects",["+Drawer","Resource","@inject",function ImageObjectDrawer(e,t,n){var r=this.extension("Style"),o=this.extension("Box"),i=n("$Canvas"),a=this.extension("Drawer"),s=this.extension("Matrix"),u=null,c=null,l=null;this.watch("src",function(e,n){e!==n&&(l=t.image(n),l.on("load",function(){null===u&&(u=r.get("size")[0]?r.get("size")[0]:l.width(),i.width(u)),null===c&&(c=r.get("size")[1]?r.get("size")[1]:l.height(),i.height(c)),i.context().drawImage(l["export"](),0,0,u,c),s.purge(),o.purge(),a.spriteUpdated.call({$$CALL:!0})}))}),this.watch("size",function(e,t){e[0]===t[0]&&e[1]===t[1]||(u=t[0],c=t[1],i.width(u),i.height(c),i.context().clearRect(0,0,i.width(),i.height()),i.context().drawImage(l["export"](),0,0,u,c),o.purge())}),this.watch("position",function(e,t){e[0]===t[0]&&e[1]===t[1]||o.purge()}),o.f(function(e){var t=r.get("position"),n=r.get("anchor"),o=t[0],i=t[1];"center"===n[0]&&(o-=u?u/2:0),"right"===n[0]&&(o-=u?u:0),"middle"===n[1]&&(i-=c?c/2:0),"bottom"===n[1]&&(i-=c?c:0),e.set(o,i,u?u:0,c?c:0,0,0,0,0)}),a.filter(function(){return l&&l.loaded()&&!l.error()&&null!==u&&null!==c&&u>0&&c>0}),a["export"](i["export"]),a.drawFunction(function(t){e.transform(this,t),t.drawImage(a["export"](),0,0,u,c)}),a.destroy(function(){r=void 0,o=void 0,i=i.destroy(),a=void 0,s=void 0,u=void 0,c=void 0,l=void 0})}]),$R.service["class"]("Objects",["@inject","Debug","+Drawer","+Path",function LineObjectDrawer(e,t,n,r){function UpdateCanvas(){var e=o.box().sprite(),t=i.get("path"),s=i.get("interpolation");if(a.width()!==e.size[0]||a.height()!==e.size[1]){var l=e.size[0],f=e.size[1];a.width(l),a.height(f)}d.clearRect(0,0,e.size[0],e.size[1]),d.save(),c||(r.interpolate(t,s),c=!0),d.translate(e.margin[3]-p,e.margin[0]-v),s>0?t.length>0&&n.drawBezierPath(d,t,i):t.length>0&&n.drawLinePath(d,t,i),d.restore(),u=!1}var o=this.extension("Box"),i=this.extension("Style"),a=e("$Canvas"),s=this.extension("Matrix"),u=!1,c=!1,l=1,f=0,h=this.extension("Drawer"),p=0,v=0;o.f(function(e){for(var t=i.get("position"),n=i.get("path"),r=i.get("anchor"),o=t[0],a=t[1],s=1/0,u=1/0,c=-(1/0),h=-(1/0),d=0;d<n.length;d++)n[d][0]<s&&(s=n[d][0]),n[d][2]<s&&(s=n[d][2]),n[d][1]<u&&(u=n[d][1]),n[d][3]<u&&(u=n[d][3]),n[d][0]>c&&(c=n[d][0]),n[d][2]>c&&(c=n[d][2]),n[d][1]>h&&(h=n[d][1]),n[d][3]>h&&(h=n[d][3]);s===1/0&&(s=0),u===1/0&&(u=0),c===-(1/0)&&(c=0),h===-(1/0)&&(c=0),p=s,v=u;var g=l+f,y=Math.abs(c-s),b=Math.abs(h-u);"center"===r[0]&&(o-=y?y/2:0),"right"===r[0]&&(o-=y?y:0),"middle"===r[1]&&(a-=b?b/2:0),"bottom"===r[1]&&(a-=b?b:0),e.set(o+p,a+v,y,b,g,g,g,g)}),this.watch("path",function(){var e=i.get("interpolation");0!==e&&(c=!1),o.purge(),s.purge(),u=!0}),this.watch("position",function(){o.purge()}),this.watch("strokeWidth",function(e,t){for(var n=0,r=0;r<t.length;r++)t[r]>n&&(n=t[r]);l=n/2,u=!0,o.purge(),s.purge()}),this.watch("interpolation",function(e,t){e!==t&&(c=!1),f=Math.round(20*t),o.purge(),s.purge(),u=!0}),this.watch(["strokeStyle","strokeColor"],function(){u=!0});var d=a.context();h.filter(function(){return u&&UpdateCanvas.call(this),!0}),h["export"](a["export"]),h.drawFunction(function(e){n.transform(this,e),e.drawImage(h["export"](),0,0)}),h.destroy(function(){d=void 0,o=void 0,i=void 0,a=a.destroy(),s=void 0,u=!1,c=!1,l=void 0,f=void 0,h=void 0,p=void 0,v=void 0})}]),$R.service["class"]("Objects",["@inject","+Drawer",function RectangleObjectDrawer(e,t){function normalizeRadius(e){for(var t=[e[0],e[1],e[2],e[3]],n=i.box().value(),r=[n.size[0]/2,n.size[1]/2],o=0;o<t.length;o++)t[o]>r[0]&&(t[o]=r[0]),t[o]>r[1]&&(t[o]=r[1]);return t}function drawRectPath(e,t){var n=normalizeRadius(r.get("radius")),o=.5522847498,a=i.box().value(),s=i.box().sprite();if(t){var u=r.get("strokeColor"),c=r.get("strokeWidth"),l=r.get("strokeStyle"),f=r.get("cap");e.lineCap=f}if(e.beginPath(),n[0]>0?e.moveTo(s.margin[3]+n[0],s.margin[0]):e.moveTo(s.margin[3],s.margin[0]),t&&(e.setLineDash(l[0]),e.strokeStyle=u[0],e.lineWidth=c[0]),n[1]>0){e.lineTo(a.size[0]+s.margin[3]-n[1],s.margin[0]);var h=o*n[1];e.bezierCurveTo(a.size[0]+s.margin[3]-n[1]+h,s.margin[0],a.size[0]+s.margin[3],s.margin[0]+n[1]-h,a.size[0]+s.margin[3],s.margin[0]+n[1])}else e.lineTo(a.size[0]+s.margin[3],s.margin[0]);if(t&&e.stroke(),t&&(e.setLineDash(l[1]),e.strokeStyle=u[1],e.lineWidth=c[1]),n[2]>0){var h=o*n[2];e.lineTo(a.size[0]+s.margin[3],a.size[1]+s.margin[0]-n[2]),t&&e.stroke(),t&&(e.setLineDash(l[2]),e.strokeStyle=u[2],e.lineWidth=c[2]),e.bezierCurveTo(a.size[0]+s.margin[3],a.size[1]+s.margin[0]-n[2]+h,a.size[0]+s.margin[3]-n[2]+h,a.size[1]+s.margin[0],a.size[0]+s.margin[3]-n[2],a.size[1]+s.margin[0]),t&&e.stroke()}else e.lineTo(a.size[0]+s.margin[3],a.size[1]+s.margin[0]),t&&e.stroke();if(t&&(e.setLineDash(l[2]),e.strokeStyle=u[2],e.lineWidth=c[2]),n[3]>0){var h=o*n[3];e.lineTo(s.margin[3]+n[3],a.size[1]+s.margin[0]),e.bezierCurveTo(s.margin[3]+n[3]-h,a.size[1]+s.margin[0],s.margin[3],a.size[1]+s.margin[0]-n[3]+h,s.margin[3],a.size[1]+s.margin[0]-n[3])}else e.lineTo(s.margin[3],a.size[1]+s.margin[0]);if(t&&e.stroke(),t&&(e.setLineDash(l[3]),e.strokeStyle=u[3],e.lineWidth=c[3]),n[0]>0){var h=o*n[0];e.lineTo(s.margin[3],s.margin[0]+n[0]),t&&e.stroke(),t&&(e.setLineDash(l[0]),e.strokStyle=u[0],e.lineWidth=c[0]),e.bezierCurveTo(s.margin[3],s.margin[0]+n[0]-h,s.margin[0]+n[0]-h,s.margin[0],s.margin[3]+n[0],s.margin[0]),t&&e.stroke()}else e.lineTo(s.margin[3],s.margin[0]),t&&e.stroke()}function hasRadius(){for(var e=!1,t=r.get("radius"),n=0;n<t.length;n++)if(t[n]>0){e=!0;break}return e}function hasStroke(){for(var e=r.get("strokeWidth"),t=!1,n=0;n<e.length;n++)if(e[n]>0){t=!0;break}return t}function monoStroke(){for(var e=r.get("strokeColor"),t=r.get("strokeWidth"),n=r.get("strokeStyle"),o=e[0],i=t[0],a=n[0],s=!0,u=1;u<4;u++)if(o!==e[u]||i!==t[u]||n[u][0]!==a[0]||n[u][1]!==a[1]){s=!1;break}return s}function UpdateBg(e){var t=i.box(),o=t.value(),a=t.sprite(),s=r.get("bgPosition"),u=r.get("bgSize"),c=r.get("bg");hasRadius()?drawRectPath(e):e.rect(a.margin[3],a.margin[0],o.size[0],o.size[1]),e.clip();for(var l=0;l<c.length;l++)if(c[l].loaded()){e.save();var f=o.size[0]*u[l][0],h=o.size[1]*u[l][1],p=o.size[0]*s[l][0],v=o.size[1]*s[l][1];e.translate(a.margin[3]+p,a.margin[0]+v),e.drawImage(c[l]["export"](),0,0,f,h),e.restore()}else c[l].on("load",function(){n.update("bg")})}function UpdateStroke(e){if(hasStroke()){var t=r.get("strokeColor"),n=r.get("strokeWidth"),o=r.get("strokeStyle"),a=i.box(),s=a.value(),u=a.sprite();if(hasRadius())drawRectPath(e,!0);else if(monoStroke()){var c=r.get("cap");e.lineCap=c,e.setLineDash(o[0]),e.strokeStyle=t[0],e.lineWidth=n[0],e.beginPath(),e.moveTo(u.margin[3],u.margin[0]),e.lineTo(u.margin[3]+s.size[0],u.margin[0]),e.lineTo(u.margin[3]+s.size[0],u.margin[0]+s.size[1]),e.lineTo(u.margin[3],u.margin[0]+s.size[1]),e.lineTo(u.margin[3],u.margin[0]),e.stroke()}}}function UpdateFill(e){var t=r.get("fill"),n=i.box(),o=n.value(),a=n.sprite();hasRadius()?drawRectPath(e):e.rect(a.margin[3],a.margin[0],o.size[0],o.size[1]),e.fillStyle=t,e.fill()}var n=e("$GraphicsAssembler"),r=this.extension("Style"),o=this.extension("Drawer"),i=this.extension("Box"),a=this.extension("Matrix"),s=[2,2,2,2],u=[0,0];n.layer(0,"fill",UpdateFill.bind(this)),n.layer(1,"bg",UpdateBg.bind(this)),n.layer(2,"stroke",UpdateStroke.bind(this)),n.box(i),i.f(function(e){var t=r.get("position"),n=r.get("size"),o=r.get("anchor"),i=t[0],a=t[1];"center"===o[0]&&(i-=n[0]/2),"right"===o[0]&&(i-=n[0]),"middle"===o[1]&&(a-=n[1]/2),"bottom"===o[1]&&(a-=n[1]),u[0]=n[0],u[1]=n[1],e.set(i,a,n[0],n[1],s[0],s[1],s[2],s[3])}),o["export"](n["export"]),o.drawFunction(function(e){t.transform(this,e),u[0]>=1&&u[1]>=0&&e.drawImage(o["export"](),0,0)}),this.watch("size",function(e,t){n.update("fill"),n.update("stroke"),n.update("bg"),n.resize(),a.purge(),i.purge()}),this.watch("radius",function(e,t){n.update("fill"),n.update("stroke"),n.update("bg")}),this.watch("strokeWidth",function(e,t){s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],i.purge(),n.resize(),a.purge(),n.update("fill"),n.update("stroke"),n.update("bg")}),this.watch(["position","size"],function(){i.purge(),a.purge()}),this.watch(["bg","bgSize","bgPosition"],function(){n.update("bg")}),this.watch(["strokeStyle","strokeColor"],function(){n.update("stroke")}),this.watch(["fill"],function(){n.update("fill")}),o.destroy(function(){for(n=n.destroy(),r=void 0,o=void 0,i=void 0,a=void 0;s[0];)s.shift();for(;u[0];)u.shift();s=void 0,u=void 0})}]),$R.service["class"]("Objects",["+Drawer","+Model","Resource","@inject",function SpriteObjectDrawer(e,t,n,r){var o=this.extension("Style"),i=this.extension("Box"),a=this.extension("Drawer"),s=this.extension("Matrix"),u=null,c=null,l=r("$Canvas");i.f(function(e){var t=o.get("position"),n=o.get("anchor"),r=t[0],i=t[1];"center"===n[0]&&(r-=u?u/2:0),"right"===n[0]&&(r-=u?u:0),"middle"===n[1]&&(i-=c?c/2:0),"bottom"===n[1]&&(i-=c?c:0),e.set(r,i,u?u:0,c?c:0,0,0,0,0)}),a["export"](function(){return l["export"]()}),a.drawFunction(function(t){e.transform(this,t),t.drawImage(a["export"](),0,0,u,c)}),this.watch("src",function(e,r){if(r!==e){var o=t.readSpriteString(r);l.destroy(),l=n.sprite(o.url),l.config(o.frames),l.on("load",function(){null==u&&(u=l.width()),null==c&&(c=l.height()),s.purge(),i.purge()})}}),this.watch("size",function(e,t){e[0]===t[0]&&e[1]===t[1]||(u=t[0],c=t[1],i.purge())}),this.watch("position",function(e,t){e[0]===t[0]&&e[1]===t[1]||i.purge()}),a.destroy(function(){o=void 0,i=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=l.destroy?l.destroy():void 0})}]),$R.service["class"]("Objects",["@inject","+Drawer","Resource",function TextObjectDrawer(e,t,n){function UpdateTextLayer(e){r.update();var t=o.get("lineHeight"),n=(o.get("color"),o.get("fontSize")),i=o.get("align");e.beginPath();var a=t-n/5;n<t?a-=t-n:a+=n-t,r.forEachLine(function(n){e.beginPath();var o=a+n*t;e.font=this.extractFontString(),e.fillStyle=this.color(),"center"===i?e.fillText(this.string(),(r.textBlockWidth()-this.width())/2,o):"right"===i?e.fillText(this.string(),r.textBlockWidth()-this.width()-2,o):e.fillText(this.string(),2,o)})}function getFontFile(){var e="oblique"===f?"normal":f,t=n.font(c,l,e);t.on("load",function(){u=!0,i.purge(),s.purge(),r.update(!0)}),t.on("error",function(){u=!0,i.purge(),s.purge(),r.update(!0)})}function drawText(e){t.transform(this,e),e.drawImage(a["export"](),0,0)}var r=this.extension("Text"),o=this.extension("Style"),i=this.extension("Box"),a=this.extension("Drawer"),s=this.extension("Matrix"),u=!1,c=o.get("font"),l=o.get("weight"),f=o.get("style"),h=e("$GraphicsAssembler");h.layer(0,"text",UpdateTextLayer),a.filter=function(){return u&&(h.size(r.textBlockWidth(),r.textBlockHeight()),h.update("text"),u=!1),!0},a["export"](h["export"]),this.watch(["str","style","font","weight","size","color","fontSize","lineHeight"],function(){u=!0,i.purge(),s.purge()}),this.watch("font",function(e,t){c=t,getFontFile()}),this.watch("style",function(e,t){f=t,getFontFile()}),this.watch("weight",function(e,t){l=t,getFontFile()}),this.watch("anchor",function(){i.purge(),s.purge()}),this.watch("position",function(){i.purge()}),i.f(function(e){var t=o.get("position"),n=o.get("anchor"),i=t[0],a=t[1];"center"===n[0]&&(i-=r.textBlockWidth()/2),"right"===n[0]&&(i-=r.textBlockWidth()),"middle"===n[1]&&(a-=r.textBlockHeight()/2),"bottom"===n[1]&&(a-=r.textBlockHeight()),e.set(i,a,r.textBlockWidth(),r.textBlockHeight(),0,0,0,0)}),a.drawFunction(drawText),a.destroy(function(){r=void 0,o=void 0,i=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,f=void 0,h=h.destroy()})}]),$R.service["class"]("Objects",["@extend","+Model","+Path","Debug",function AreaObjectModel(e,t,n,r){function SyncPathProperty(e,t){for(var n=0;n<e.length;n++)t[n]||t.push(t[t.length-1]);e.length<t.length&&t.splice(e.length-1,t.length-e.length)}e(this,"$DefaultObjectModel"),e(this,"$GlobalBackgroundModel"),e(this,"$DefaultFreeStrokeModel");var o=this.extension("Style");this.extension("Animation");o.define(0,"path",[[0,0,0,0,0,0,0,0]],function(e){if(n.checkSimplePath(e)){var t=o.get("path"),i=n.convertSimplePath(e);return i[0][0]===i[i.length-1][2]&&i[0][1]===i[i.length-1][3]||i.push([i[i.length-1][2],i[i.length-1][3],i[0][0],i[0][1],i[i.length-1][2],i[i.length-1][3],i[0][0],i[0][1]]),t.length!==i.length&&(SyncPathProperty(i,o.get("strokeStyle")),SyncPathProperty(i,o.get("strokeWidth")),SyncPathProperty(i,o.get("strokeColor"))),i}return r.warn("Area Model / Invalid value for area path!"),!1},function(e){return n.convertComplexPath(e)})}]),$R.service["class"]("Objects",["@extend","+Color","+Model","Debug",function CircleObjectModel(e,t,n,r){e(this,"$DefaultObjectModel"),e(this,"$GlobalBackgroundModel");var o=this.extension("Style"),i=this.extension("Animation");o.define(0,"radius",0,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.morph("radius",0,function(e,t,n){"number"==typeof n?(n<0&&(n=0),e(this.style("radius")),t(n)):r.warn({v:n},"[{v}] is not a valid radius value")},function(e){return e<0&&(e=0),e}),o.define(0,"strokeWidth",1,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.morph("strokeWidth",0,function(e,t,n){"number"==typeof n&&(n<0&&(n=0),e(this.style("strokeWidth")),t(n))},function(e){return e<0&&(e=0),e}),o.define(0,"strokeColor","rgba(0,0,0,1)",function(e){return"string"==typeof e?t.colorToArray(e)?e:(r.warn({val:e},"[{val}] is not a valid strokeColor value"),!1):"object"==typeof e&&e.constructor===Array?t.isColor(e)?t.arrayToColor(e):(r.warn({val:e},"[{val}] is not a valid strokeColor value"),!1):void 0},function(e){return t.colorToArray(e)}),i.morph("strokeColor",0,function(e,o,i){if("string"==typeof i){var a=t.colorToArray(i);a?(e(this.style("strokeColor")),o(a)):r.warn({v:i},"[{v}] is not a valid value for strokeColor")}else"object"==typeof i&&i.constructor===Array&&t.isColor(i)?(e(this.style("strokeColor")),o(n.cloneArray(i))):r.warn({v:i},"[{v}] is not a valid value for strokeColor")},function(e){return t.normalize(e),e}),o.define(0,"strokeStyle",[1,0],function(e){if("object"==typeof e&&e.constructor===Array){if(n.validNumericValue(e)){if(2!==e.length)return r.warn({val:e},"[{val}] is not a valid strokeStyle value."),!1;for(var t=0;t<e.length;t++)e[t]<0&&(e[t]=0);return n.cloneArray(e)}return r.warn({val:e},"[{val}] is not a valid strokeStyle value."),!1}return r.warn({val:e},"[{val}] is not a valid strokeStyle value"),!1},function(e){return n.cloneArray(e)}),i.morph("strokeStyle",0,function(e,t,o){"object"==typeof o&&o.constructor===Array&&n.validNumericArray(o)&&2===o.length?(e(this.style("strokeStyle")),t(n.cloneArray(o))):r.warn({v:o},"[{v}] is not a valid value for strokeColor")},function(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e})}]),$R.service["class"]("Objects",["+Model","+Path","Debug",function DefaultObjectModel(e,t,n){var r=this.extension("Style"),o=this.extension("Animation");r.define(2,"position",[0,0],function(t){return e.validNumericArray(t)&&2===t.length?e.cloneArray(t):(n.warn("Invalid numeric array for position!"),!1)},function(t){return e.cloneArray(t)}),o.morph("position",2,function(t,r,o){e.validNumericArray(o)&&2===o.length?(t(this.style("position")),r(e.cloneArray(o))):n.warn({v:o},"Invalid value for position")},function(e){return e}),r.define(0,"rotate",0,function(e){if("number"==typeof e)return e<-360&&(e+=360),e>360&&(e-=360),e=e*Math.PI/180},function(e){return e*(180/Math.PI)}),o.morph("rotate",0,function(e,t,r){"number"==typeof r?(e(this.style("rotate")),t(r)):n.warn({v:r},"Is not a valid value to animate rotate")},function(e){return e}),r.define(0,"translate",[0,0],function(t){return e.validNumericArray(t)&&2===t.length?e.cloneArray(t):(n.warn("Invalid numeric array for translate!"),!1)},function(t){return e.cloneArray(t)}),o.morph("translate",0,function(t,r,o){e.validNumericArray(o)&&2===o.length?(t(this.style("translate")),r(e.cloneArray(o))):n.warn({v:o},"Invalid value for translate")},function(e){return e}),r.define(0,"opacity",1,function(e){return"number"==typeof e?(e<0&&(e=0),e>1&&(e=1),e):(n.warn("Opacity value is not a number"),!1)},function(e){return e}),o.morph("opacity",0,function(e,t,r){"number"==typeof r?(r<0&&(r=0),r>1&&(r=1),e(this.style("opacity")),t(r)):n.warn({v:r},"Invalid value for translate")},function(e){return e<0&&(e=0),e>1&&(e=1),e}),r.define(0,"scale",[1,1],function(t){return"number"==typeof t?t>0?[t,t]:[0,0]:e.validNumericArray(t)&&2===t.length?e.cloneArray(t):(n.warn("Unknown type of value for scale!"),!1)},function(t){return e.cloneArray(t)}),o.morph("scale",0,function(t,r,o){if("number"==typeof o)o<0&&(o=0),t(this.style("scale")),
r([o,o]);else if(e.validNumericArray(o)&&2===o.length){t(this.style("scale"));var i=[o[0],o[1]];i[0]<0&&(i[0]=0),i[1]<0&&(i[1]=0),r(i)}else n.warn({v:o},"Invalid value for scale")},function(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e}),r.define(0,"skew",[0,0],function(t){if("number"==typeof t){t>360&&(t-=360),t<-360&&(t+=360);var r=t*Math.PI/180;return[r,r]}if(e.validNumericArray(t)&&2===t.length){t[0]>360&&(t[0]=t[1]-360),t[1]<-360&&(t[1]=t[1]+360);var o=t[0]*Math.PI/180,i=t[1]*Math.PI/180;return[o,i]}n.warn({v:t},"Ubknown value format for skew. [{v}]")},function(t){return e.cloneArray(t)}),o.morph("skew",0,function(t,r,o){"number"==typeof o?(t(this.style("skew")),r([o,o])):e.validNumericArray(o)&&2===o.length?(t(this.style("skew")),r(e.cloneArray(o))):n.warn({v:o},"Invalid value for skew")},function(e){return e}),r.define(0,"origin",[.5,.5],function(t){return"object"==typeof t&&t.constructor===Array?e.validNumericArray(t)&&2===t.length?[t[0],t[1]]:(n.warn("Unknown format of value for origin. Invalid Array!"),!1):(n.warn("Unknown type of value for origin"),!1)},function(t){e.cloneArray(t)}),o.morph("origin",0,function(t,r,o){e.validNumericArray(o)&&2===o.length?(t(this.style("origin")),r(e.cloneArray(o))):n.warn({v:o},"Invalid value for origin")},function(e){return e}),r.define(2,"cap","round",function(e){return"string"==typeof e?"round"===e||"butt"===e||"square"===e?e:(n.error({val:e},"{val} is incorrect value for line cap property!"),!1):void n.error("Cap property is a string!")},function(e){return e}),r.define(0,"blending","source-over",function(t){return e.validBlending(t)?t:(n.warn({val:t}," [{val}] is not a valid blending!"),!1)},function(e){return e}),"Group"!==this.type()&&r.define(1,"anchor",["left","top"],function(e){return"object"==typeof e&&e.constructor===Array&&2===e.length?"left"!==e[0]&&"center"!==e[0]&&"right"!==e[0]||"top"!==e[1]&&"middle"!==e[1]&&"bottom"!==e[1]?(n.warn({v:e},'[{v}] is not a valid value. Array ["left" || "center" || "right" , "top" || "middle" || "bottom" ] is required format.'),!1):[e[0],e[1]]:(n.warn({v:e},"[{v}] is not a valid anchor value for text element"),!1)},function(e){return[e[0],e[1]]})}]),$R.service["class"]("Objects",["+Model","+Color","Debug",function DefaultFreeStrokeModel(e,t,n){var r=this.extension("Style");r.define(1,"interpolation",0,function(e){return e>.4&&(e=.4),e<0&&(e=0),e},function(e){return e}),r.define(2,"strokeColor",["rgba(0,0,0,1)"],function(e){if("string"==typeof e){if(t.colorToArray(e)){for(var o=r.get("path"),i=[],a=0;a<o.length;a++)i[a]=e;return i}return n.warn({val:e},"Line Model / {val} is not a color!"),!1}if("object"==typeof e&&e.constructor==Array){for(var o=r.get("path"),s=r.get("strokeColor"),i=[],a=0;a<o.length;a++)e[a]?"string"==typeof e[a]?t.colorToArray(e[a])?i.push(e[a]):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):("object"==typeof e[a]||e[a].constructor==Array)&&t.isColor(e[a])?i.push(t.arrayToColor(e[a])):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!"));return i.length?i:(n.warn({val:e},"Line Model / {val} is not a color!"),!1)}if("object"==typeof e){for(var o=r.get("path"),s=r.get("strokeColor"),i=[],a=0;a<o.length;a++)e[a]?"string"==typeof e[a]?t.colorToArray(e[a])?i.push(e[a]):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):("object"==typeof e[a]||e[a].constructor==Array)&&t.isColor(e[a])?i.push(t.arrayToColor(e[a])):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, no changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, no changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!"));return i.length?i:(n.warn({val:e},"Line Model / {val} is not a color!"),!1)}return n.warn("Line Model / Wrong type of value"),!1},function(e){for(var n=[],r=0;r<e.length;r++)n.push(t.colorToArray(e[r]));return n}),r.define(2,"strokeWidth",[1],function(e){if("number"==typeof e){for(var t=r.get("path"),o=[],i=0;i<t.length;i++)o.push(e);return o}if("object"==typeof e&&e.constructor==Array){for(var t=r.get("path"),a=r.get("strokeWidth"),o=[],i=0;i<t.length;i++)"number"==typeof e[i]?o.push(e[i]):a[i]?(o.push(a[i]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):(o.push(a[a.length-1]),n.warn({val:e[i]},"Line Model / {val} is not a number!"));return o}if("object"==typeof e){for(var t=r.get("path"),a=r.get("strokeWidth"),o=[],i=0;i<t.length;i++)e[i]?"number"==typeof e[i]?o.push(e[i]):a[i]?(o.push(a[i]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):(o.push(a[a.length-1]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):a[i]?(o.push(a[i]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):o.push(a[a.length-1]);return o}n.warn({val:e},"Line Model / {val} is not valid value for strokeWidth!")},function(t){return e.cloneArray(t)}),r.define(2,"strokeStyle",[[1,0]],function(t){if("object"==typeof t&&t.constructor==Array){if(e.validNumericArray(t)){for(var o=[],i=r.get("path"),a=0;a<i.length;a++)o.push(e.cloneArray(t));return o}for(var o=[],i=r.get("path"),s=r.get("strokeStyle"),a=0;a<i.length;a++)t[a]?e.validNumericArray(t[a])?o.push(t[a]):(s[a]?o.push(s[a]):o.push(s[s.length-1]),n.warn({val:t[a]},"Line Model / {val} is not a valid value for strokeStyle!")):s[a]?o.push(s[a]):o.push(s[s.length-1]);return o}if("object"==typeof t){for(var o=[],s=r.get("strokeStyle"),i=r.get("path"),a=0;a<i.length;a++)t[a]?e.validNumericArray(t[a])?o.push(t[a]):(s[a]?o.push(s[a]):o.push(s[s.length-1]),n.warn({val:t[a]},"Line Model / {val} is not a valid value for strokeStyle!")):s[a]?o.push(s[a]):o.push(s[s.length-1]);return o}},function(t){return e.cloneArray(t)})}]),$R.service["class"]("Objects",["+Model","+Color","Debug","Resource",function GlobalBackgroundModel(e,t,n,r){function SyncBgProperty(t,n,r){for(var o=0;o<t.length;o++)n[o]||n.push(e.cloneArray(r));t.length<n.length&&n.splice(t.length-1,n.length-path.length)}var o=this.extension("Style"),i=this.extension("Animation");o.define(0,"fill","rgba(0,0,0,1)",function(e){return"string"==typeof e?t.colorToArray(e)?e:(n.warn({val:e},"[{val}] is not a valid color!"),!1):"object"==typeof e&&e.constructor===Array?t.isColor(e)?t.arrayToColor(e):(n.warn({val:e},"[{val}] is not a valid color"),!1):(n.warn({val:e},"[{val}] is not a valid color!"),!1)},function(e){return t.colorToArray(e)}),i.morph("fill",0,function(r,o,i){if("string"==typeof i){var a=t.colorToArray(i);a?(r(this.style("fill")),o(a)):n.warn({v:i},"[{v}] is not avalid color!")}else"object"==typeof i&&i.constructor===Array?t.isColor(i)&&(r(this.style("fill")),o(e.cloneArray(i))):n.warn({v:i},"[{v}] is not a valid color!")},function(e){return t.normalize(e),e}),o.define(0,"bg",[],function(t){if("string"==typeof t){if(e.isSpriteString(t)){var i=e.readSpriteString(t),a=r.sprite(i.url);return a.config(i.frames),[a]}return[r.image(t)]}if("object"==typeof t||t.constructor===Array){if(2===t.length&&"string"==typeof t[0]&&"number"==typeof t[1]){if(t[1]>0){var a=r.sprite(t[0]);return a.config(t[1]),[a]}return!1}for(var s=[],u=0;u<t.length;u++)if("string"==typeof t[u])if(e.isSpriteString(t[u])){var i=e.readSpriteString(t[u]),a=r.sprite(i.url);a.config(i.frames),s.push(t)}else s.push(r.image(t[u]));else if("object"==typeof t[u]&&t[u].constructor==Array){if(2==t[u].length&&"string"==typeof t[u][0]&&"number"==typeof t[u][1])if(t[u][1]>0){var a=r.sprite(t[u][0]);a.config(t[u][1]),s.push(a)}else n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bg value. Skipped.")}else n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bg value. Skipped");return s}if("object"==typeof t){for(var c=o.get("bg"),s=[],u=0;u<c.length;u++)if(t[u])if("object"==typeof t[u]&&t[u].constructor==Array)if("string"==typeof t[u][0]&&"number"==typeof t[u][1]){var a=r.sprite(t[u][0]);a.config(t[u][1]),s.push(a)}else n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bg array value.");else if("string"==typeof t[u])if(e.isSpriteString(t[u])){var i=e.readSpriteString(t[u]),a=r.sprite(i.url);a.config(i.frames),s.push(t)}else s.push(r.image(t[u]));else s.push(c[u]),n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid value for bg.");else s.push(c[u]);return s}return n.warn({val:t},"[{val}] is not valid value for bg"),!1},function(e){for(var t=[],r=0;r<e.length;r++)"Image"==e[r].type?t.push(e[r].url()):"Sprite"==e[r].type?t.push(e[r].url()+"["+e[r].frames()+"]"):n.error({val:e[r],i:r}+"[{i}][{val}] Unknown type of the background object container. Critical error.");return t});var a=[0,0];o.define(2,"bgPosition",[a],function(t){if("object"==typeof t&&t.constructor==Array){if(e.validNumericArray(t)&&2==t.length){for(var r=o.get("bg"),i=[],s=[t[0],t[1]],u=0;u<r.length;u++)i.push(s);return i}for(var i=[],r=o.get("bg"),c=o.get("bgPosition"),u=0;u<r.length;u++)t[u]?e.validNumericArray(t[u])&&2==t[u].length?i.push([t[0],t[1]]):(c[u]?i.push(c[u]):i.push(e.cloneArray(a)),n.warn({i:u,val:t[u]},"[{i}][{val}] is not a valid bgposition value")):c[u]?i.push(c[u]):i.push(e.cloneArray(a));return i}if("object"==typeof t){for(var i=[],r=o.get("bg"),c=o.get("bgPosition"),u=0;u<r.length;u++)t.hasOwnProperty(u)?c[u]?e.validNumericValue()&&2==t[u].length?i.push([t[0],t[1]]):(i.push(c[u]),n.warn({i:u,val:t[u]},"[{i}][{val}] is not a valid bgposition value")):i.push(e.cloneArray(a)):c[u]?i.push(c[u]):i.push(e.cloneArray(a));return i}n.warn({val:t},"[{val}] is not a valid bgposition value")},function(t){return e.cloneArray(t)});var s=[1,1];o.define(1,"bgSize",[s],function(t){if("object"==typeof t&&t.constructor==Array){if(2==t.length&&e.validNumericArray(t)){for(var r=o.get("bg"),i=[],a=[t[0],t[1]],u=0;u<r.length;u++)i.push(a);return i}for(var r=o.get("bg"),c=o.get("bgSize"),i=[],u=0;u<r.length;u++)2==t[u].length&&e.validNumericArray(t[u])?i.push(t[u][0],t[u][1]):(c[u]?i.push(c[u]):i.push(e.cloneArray(s)),n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bgsize value"));return i}if("object"==typeof t){for(var r=o.get("bg"),c=o.get("bgSize"),i=[],u=0;u<r.length;u++)t.hasOwnProperty(u)?"object"==typeof t[u]&&t[u].constructor==Array&&2==t[u].length&&e.validNumericArray(t[u])?i.push([t[u][0],t[u][1]]):(c[u]?i.push(c[u]):i.push(e.cloneArray(s)),n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bgsize value.")):c[u]?i.push(c[u]):i.push(e.cloneArray(s));return i}},function(t){return e.cloneArray(t)}),this.watch("bg",function(e,t){e.length!==t.length&&(SyncBgProperty(t,o.get("bgPosition"),a),SyncBgProperty(t,o.get("bgSize"),s))})}]),$R.service["class"]("Objects",["+Model",function GlobalSizeModel(e){var t=this.extension("Animation"),n=this.extension("Style");t.morph("size",1,function(t,n,r){"number"==typeof r?(r<0&&(r=0),t(this.style("size")),n([r,r])):"object"==typeof r&&r.constructor==Array&&e.validNumericArray(r)&&2==r.length?(r[0]<0&&(r[0]=0),r[1]<0&&(r[1]=0),t(this.style("size")),n(e.cloneArray(r))):Debug.warn({v:r},"[{v}] is not valid value for size")},function(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e}),n.define(1,"size",[0,0],function(t){return"number"==typeof t?(t<0&&(t=0),[t,t]):"object"==typeof t&&t.constructor==Array&&2==t.length&&e.validNumericArray(t)?(t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),[t[0],t[1]]):(Debug.warn({val:t},"[{val}] is not valid value for size!"),!1)},function(t){return e.cloneArray(t)})}]),$R.service["class"]("Objects",["@extend",function GroupObjectModel(e){e(this,"$DefaultObjectModel")}]),$R.service["class"]("Objects",["@extend","Debug",function ImageObjectModel(e,t){e(this,"$DefaultObjectModel"),e(this,"$GlobalSizeModel");var n=this.extension("Style");n.define(0,"src",null,function(e){return"string"==typeof e?e:(t.warn({val:e},"[{val}] is not a valid src value"),!1)},function(e){return e})}]),$R.service["class"]("Objects",["@extend","+Model","+Path","+Color","Debug",function LineObjectModel(e,t,n,r,o){function SyncPathProperty(e,t){for(var n=0;n<e.length;n++)t[n]||t.push(t[t.length-1])}e(this,"$DefaultObjectModel"),e(this,"$DefaultFreeStrokeModel");var i=this.extension("Style");i.define(0,"path",[[0,0,0,0,0,0,0,0]],function(e){if(n.checkSimplePath(e)){var t=i.get("path"),r=n.convertSimplePath(e);return t.length!==r.length&&(SyncPathProperty(r,i.get("strokeStyle")),SyncPathProperty(r,i.get("strokeWidth")),SyncPathProperty(r,i.get("strokeColor"))),r}return o.warn("Line Model / Invalid value for path!"),!1},function(e){return n.convertComplexPath(e)})}]),$R.service["class"]("Objects",["@extend","+Model","+Color","Debug",function RectangleObjectModel(e,t,n,r){e(this,"$DefaultObjectModel"),e(this,"$GlobalBackgroundModel"),e(this,"$GlobalSizeModel");var i=this.extension("Style"),a=this.extension("Animation");i.define(0,"radius",[0,0,0,0],function(e){if("number"==typeof e)return e=Math.round(e),[e,e,e,e];if("object"==typeof e){if(e.constructor!==Array){for(var t=i.get("radius"),n=[],r=0;r<t.length;r++)"number"==typeof e[r]?n.push(Math.round(e[r])):n.push(t[r]);return n}for(var o=[],a=!0,r=0;r<e.length;r++){if("number"!=typeof e[r]){a=!1;break}e[r]<0?o.push(0):o.push(Math.round(e[r]))}if(a){for(var n=[],t=this.style("radius"),r=0;r<t.length;r++)void 0!==o[r]?n.push(o[r]):n.push(t[r]);return n}}},function(e){return t.cloneArray(e)}),a.morph("radius",1,function(e,t,n){if("number"==typeof n)n<0&&(n=0),e(this.style("radius")),t([n,n,n,n]);else if("object"==typeof n){var o=this.style("radius"),i=[];e(o);for(var a=0;a<o.length;a++)"number"==typeof n[a]?n[a]<0?i.push(0):i.push(Math.round(n[a])):i.push(o[a]);t(i)}else r.warn({v:n},"{v} is not a valid radius value for rectangle")},function(e){return e}),i.define(0,"strokeColor",["rgba(0,0,0,1)","rgba(0,0,0,1)","rgba(0,0,0,1)","rgba(0,0,0,1)"],function(e){if("string"==typeof e)return n.colorToArray(e)?[e,e,e,e]:(r.warn({value:val}," [{val} is not a valid stroke string"),!1);if("object"==typeof e&&e.constructor===Array){for(var t=i.get("strokeColor"),o=[],a=0;a<t.length;a++)e[a]?"string"==typeof e[a]?n.colorToArray(e[a])?o.push(e[a]):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid stroke color value!")):"object"==typeof e[a]&&e[a].constructor===Array?n.isColor(e[a])?o.push(n.arrayToColor(e[a])):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid stroke color value")):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid color value")):o.push(t[a]);return o}if("object"==typeof e){for(var t=i.get("strokeColor"),o=[],a=0;a<t.length;a++)e.hasOwnProperty(a)?"string"==typeof e[a]?n.colorToArray(e[a])?o.push(e[a]):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid color value")):"object"==typeof e[a]&&e[a].constructor===Array&&n.isColor(e[a])?o.push(n.arrayToColor(e[a])):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid color value")):o.push(t[a]);return o}return r.warn({val:e},"[{val}] is not a valid value for strokeColor!"),!1},function(e){for(var t=[],r=0;r<e.length;r++)t.push(n.colorToArray(e[r]));return t}),a.morph("strokeColor",0,function(e,o,i){if("string"==typeof i){var a=n.colorToArray(i);a?(o([t.cloneArray(a),t.cloneArray(a),t.cloneArray(a),t.cloneArray(a)]),e(this.style("strokeColor"))):r.warn({v:i},"{v} is not a valid color")}else if("object"==typeof i&&i.constructor===Array)if(n.isColor(i))o([t.cloneArray(i),t.cloneArray(i),t.cloneArray(i),t.cloneArray(i)]),e(this.style("strokeColor"));else{for(var s=this.style("strokeColor"),u=[],c=!1,l=0;l<s.length;l++)if("string"==typeof i[l]){var a=n.colorToArray(i[l]);a?(u.push(a),c=!0):u.push(f[l])}else"object"==typeof i[l]&&i[l].constructor===Array&&i[l]&&n.isColor(i[l])?(u.push(t.cloneArray(i[l])),c=!0):u.push(f[l]);c?(e(s),o(u)):r.warn({v:i},"[{v}] is not a valid value for strokeColor")}else if("object"==typeof i){for(var f=this.style("strokeColor"),u=[],c=!1,l=0;l<f.length;l++)if("string"==typeof i[l]){var a=n.colorToArray(i[l]);a?(u.push(a),c=!0):u.push(f[l])}else"object"==typeof i[l]&&i[l].constructor===Array&&n.isColor(i[l])?(u.push(t.cloneArray(i[l])),c=!0):u.push(f[l]);c?(e(f),o(u)):r.warn({v:i},"[{v}] is not a valid value for strokeColor!")}},function(e){for(var t=0;t<e.length;t++)n.normalize(e[t]);return e}),i.define(0,"strokeWidth",[1,1,1,1],function(e){if("number"==typeof e)return[e,e,e,e];if("object"==typeof e&&e.constructor===Array){for(var t=i.get("strokeWidth"),n=[],o=0;o<t.length;o++)e[o]?"number"==typeof e[o]?n.push(e[o]):(n.push(t[o]),r.warn({val:e}," [{val}] is not a valid stroke width value")):n.push(t[o]);return n}if("object"==typeof e){for(var n=[],t=i.get("strokeWidth"),o=0;o<t.length;o++)e.hasOwnProperty(o)?"number"==typeof e[o]?n.push(e[o]):(r.warn({val:e},"[{val}] is not a valid value for strokeWidth"),n.push(t[o])):n.push(t[o]);return n}return r.warn({val:e}," [{val}] is not a valid strokeWidth value"),!1},function(e){return t.cloneArray(e)}),a.morph("strokeWidth",0,function(e,t,n){if("number"==typeof n)t([n,n,n,n]),e(this.style("strokeWidth"));else if("object"==typeof n&&n.constructor===Array){for(var o=this.style("strokeWidth"),i=[],a=0;a<o.length;a++)n[a]&&"number"==typeof n[a]?i.push(n[a]):i.push(o[a]);t(i),e(o)}else if("object"==typeof n){for(var o=this.style("strokeWidth"),i=[],s=!1,a=0;a<o.length;a++)n[a]&&"number"==typeof n[a]?(i.push(n),s=!0):i.push(o[a]);s?(t(i),e(o)):r.warn({v:n}," [{v}] is not a valid strokeWidth object")}else r.warn({v:n}," [{v}] is not a valid value for strokeWidth")},function(e){return e}),i.define(0,"strokeStyle",[[1,0],[1,0],[1,0],[1,0]],function(e){if("object"!=typeof e)return r.warn({val:e}," [{val}] is not valid strokeStyle value"),!1;if(e.constructor!==Array){for(var n=[],o=i.get("strokeStyle"),a=0;a<o.length;a++)e.hasOwnProperty(a)?"object"==typeof e[a]&&e[a].constructor===Array?t.validNumericArray(e[a])&&2===e[a].length?n.push(t.cloneArray(e[a])):(n.push(o[a]),r.warn({val:e[a]},"[{val}] is not a valid strokeStyle value")):(n.push(o[a]),r.watch({val:e[a]}," [{val}] is not a valid strokeStyle value")):n.push(o[a]);return n}if(!t.validNumericArray(e)){for(var n=[],o=i.get("strokeStyle"),a=0;a<o.length;a++)e[a]?t.validNumericArray(e[a])&&2===e.length?n.push(t.cloneArray(e[a])):(n.push(o[a]),r.warn({val:e[a]}," [{val}] is not a valid stroke style value")):n.push(o[a]);return n}return 2===e.length?[e,e,e,e]:void r.warn({v:e}," [{v}] is not a valid value for stroke width!")},function(e){return t.cloneArray(e)}),a.morph("strokeStyle",0,function(e,n,i){if("object"==typeof i)if(i.constructor===Array)if(t.validNumericArray(i))2===i.length?(e(this.style("strokeStyle")),n(t.cloneArray(i),t.cloneArray(i),t.cloneArray(i),t.cloneArray(i))):r.warn({v:i}," [{v}] is not a valid strokeStyle value!");else{for(var a=this.style("strokeStylr"),s=[],u=!1,c=0;c<a.length;c++)i[c]&&t.validNumericArray(i[c])&&2===i[c].length?(s.push(t.cloneArray(i[c])),u=!0):s.push(a[c]);u?(e(a),n(s)):r.warn({v:i},"[{v}] is not a valid strokeStyle value")}else{for(var a=this.style("strokeStyle"),s=[],u=!1,c=0;c<a.length;c++)i[c]&&t.validNumericArray(i[c])&&2===i[c].length?(s.push(t.cloneArray(i[o])),u=!0):s.push(a[c]);u?(e(a),n(s)):r.warn({v:i},"[{v}] is not a valid strokeStyleValue")}else r.warn({v:i},"[{v}] is not a valid strokeStyleValue")},function(e){return e})}]),$R.service["class"]("Objects",["@extend","+Model","Debug",function SpriteObjectModel(e,t,n){e(this,"$DefaultObjectModel"),e(this,"$GlobalSizeModel");var r=this.extension("Style");r.define(0,"src",null,function(e){return"string"==typeof e?t.isSpriteString(e)?e:(n.warn({val:e},"[{val}] is not a valid value for sprite src"),!1):"object"==typeof e&&e.constructor==Array?"string"==typeof e[0]&&"number"==typeof e[1]&&e[1]>0?e[0]+"["+e[1]+"]":(n.warn({val:e},"[{val}] is not a valid sprite src"),!1):void n.warn({val:e},"[{val}] is not a valid sprite src")},function(e){return e})}]),$R.service["class"]("Objects",["@extend","+Model","+Color","Debug","@Fonts",function TextObjectModel(e,t,n,r,o){e(this,"$DefaultObjectModel");var i=this.extension("Style"),a=this.extension("Text"),s=this.extension("Animation"),u=this;i.define(1,"size",["auto","auto"],function(e){if("string"==typeof e&&"auto"===e)return a.limits(1/0,1/0),[e,e];if("number"==typeof e)return a.limits(e,e),[e,e];if("object"==typeof e&&e.constructor===Array&&2===e.length){for(var t=!0,n=0;n<e.length;n++)if("string"!=typeof e[n]&&"number"!=typeof e[n]||"string"==typeof e[n]&&"auto"!==e[n]){t=!1;break}return t?("number"==typeof e[0]&&e[0]<0&&(e[0]=0),"number"==typeof e[1]&&e[1]<0&&(e[1]=0),a.limits("auto"===e[0]?1/0:e[0],"auto"===e[1]?1/0:e[1]),[e[0],e[1]]):(r.warn({v:e},"[{v}] is not a valid size array"),!1)}return r.warn({v:e},"[{v}] is not a valid value for size"),!1},function(e){return[e[0],e[1]]}),i.define(1,"str","",function(e){return"string"==typeof e&&e},function(e){return e});var c="sans-serif";i.define(1,"font","sans-serif",function(e){if("string"==typeof e)return c=o.format(e),u.style("systemFont",null),e},function(e){return e}),i.define(1,"systemFont",c,function(){return c},function(){return c}),i.define(1,"weight",400,function(e){return"number"==typeof e&&(e<100&&(e=100),e>900&&(e=900),e%100!==0&&(e-=e%100),e)},function(e){return e}),i.define(1,"style","normal",function(e){return"string"==typeof e&&("normal"===e||"italic"===e||"oblique"===e)&&e},function(e){return e}),i.define(1,"lineHeight",14,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.define(1,"fontSize",14,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.define(1,"color","rgba(0,0,0,1)",function(e){return"string"==typeof e?n.colorToArray(e)?e:(r.warn({val:e},"[{val}] is not a valid color!"),!1):"object"==typeof e&&e.constructor===Array?n.isColor(e)?n.arrayToColor(e):(r.warn({val:e},"[{val}] is not a valid color"),!1):(r.warn({val:e},"[{val}] is not a valid color!"),!1)},function(e){return n.colorToArray(e)}),i.define(1,"align","left",function(e){return"center"===e||"left"===e||"right"===e?e:(r.warn({v:e},"[{v}] is not a proper value for aling text property"),!1)},function(e){return e}),s.morph("color",1,function(e,o,i){if("string"==typeof i){var a=n.colorToArray(i);a?(e(this.style("fill")),o(a)):r.warn({v:i},"[{v}] is not avalid color!")}else"object"==typeof i&&i.constructor===Array?n.isColor(i)&&(e(this.style("fill")),o(t.cloneArray(i))):r.warn({v:i},"[{v}] is not a valid color!")},function(e){return n.normalize(e),e})}]),$R.service["class"]("Sound",["+Animation","Morphine",function Animation(e,t){function Resolve(e){if(e==p)for(var t=0;t<a.length;t++)c.hasOwnProperty(a[t].morph.property())&&c[a[t].morph.property()].apply(u,[n,a[t].result]);else if(e==v){i=!0;for(var r={},t=0;t<a.length;t++)r[a[t].morph.property()]=a[t].result;d.done(1,r),h()}}var n=0,r=null,o=null,i=!1,a=null,s=null,u=null,c=null,l=!1,f=!1,h=null,p="type",v="complete",d=null;this.target=function(){return u},this.queue=function(){return l},this.active=function(){return f},this.done=function(){return i},this.hasProperty=function(e){for(var t=0,n=0;n<a.length;n++)if(a[n].morph.property()==e){t=n+1;break}return t},this.properties=function(){for(var e=[],t=0;t<a.length;t++)e.push(a[t].morph.property());return e},this.stop=function(e){if(e){var t=this.hasProperty(e);t&&(t-=1,a.splice(t,1))}else a=[]},this.start=function(){f=!0;for(var n=[],i=0;i<a.length;i++){var u=a[i].morph.get(a[i].value);void 0!==u&&u.start()!==!1&&u.end()!==!1&&n.push(a[i])}a=n;var c=e.getTickFunction();s=t.create(0,1,function(e,t){if(0==a.length)Resolve(v),s.stop();else{for(var n=0;n<a.length;n++)a[n].result=c(t,a[n].morph.start(),a[n].morph.end()),a[n].morph.apply(e,a[n].result);Resolve(p),1==e&&Resolve(v)}},o,r,0)},this.config=function(t,n,i,s){e.normalizeConfig(i),r=i.duration,o=i.easing,c=i.step,l=i.queue,h=s,a=n,u=t,d=i}}]),$R.service["class"]("Sound",["Debug",function Morph(e){function SetStartValue(e){t=e}function SetEndValue(e){n=e}var t,n,r=null,o=null,i=null,a=null,s=!1,u=0;this.start=function(){return t},this.end=function(){return n},this.property=function(){return r},this.ordering=function(){return u},this.get=function(e){return o.apply(a,[SetStartValue,SetEndValue,e]),this},this.valid=function(){return s},this.apply=function(e,t){a.filter(r,i.apply(a,[t,e]))},this.config=function(t,n,c,l,f){return"string"!=typeof t?void e.error({name:t},"Unable to config Morph. arg1 [{name}] is not a string!"):"object"!=typeof n?void e.error({name:t},"Unable to config Morph. arg3 is not an object!"):"function"!=typeof l?void e.error({name:t},"Unable to config Morph. arg4 is not a function!"):"number"!=typeof c?void e.error({name:t},"Unable to config Morph. arg2 is not a number!"):"function"!=typeof f?void e.error({name:t},"Unable to config Morph. arg5 is not a function!"):(r=t,o=l,i=f,u=c,a=n,void(s=!0))}}]),$R.helper.system(function Animation(){function TickVal(e,t,n,r){var o=!1,i=!1;if("function"==typeof n&&(o=n()),"function"==typeof r&&(i=r()),n.constructor===Array)for(var a=[],s=0;s<n.length;s++)a.push(TickVal(e,t,n[s],r[s]));else if("object"==typeof n){var a={};for(var u in n)a[u]=TickVal(e,t,n[u],r[u])}else if("number"==typeof n||"function"==typeof n){var c=i===!1?r:i,l=o===!1?n:o,f=c-l,a=l+f*e;t>=1&&(a=c)}return a}this.normalizeConfig=function(e){e.duration="number"==typeof e.duration&&e.duration>0?e.duration:1e3,e.queue=!!e.queue,e.step="object"==typeof e.step?e.step:{},e.easing="string"==typeof e.easing?e.easing:"linear",e.done="function"==typeof e.done?e.done:function(){}},this.getTickFunction=function(){return TickVal}}),$R.helper.system(function Color(){function NormalizeColorArray(e){if(e!==!1&&void 0!==e){for(var t=0;t<e.length;t++)e[t]=e[t]<=255?e[t]:255,e[t]=e[t]>=0?e[t]:0,e[t]=3!==t&&0!==e[t]?parseInt(e[t]):e[t],e[t]=(3==t&&e[t])<=1?e[t]:1,e[t]=Math.abs(e[t]);return e}return!1}function ParseColour(e){var t,n=parseInt,e=e.replace(/\s\s*/g,"");if(t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})/.exec(e))t=[n(t[1],16),n(t[2],16),n(t[3],16)];else if(t=/^#([\da-fA-F])([\da-fA-F])([\da-fA-F])/.exec(e))t=[17*n(t[1],16),17*n(t[2],16),17*n(t[3],16)];else if(t=/^rgba\(([\d]+),([\d]+),([\d]+),([\d]+|[\d]*.[\d]+)\)/.exec(e))t=[+t[1],+t[2],+t[3],+t[4]];else{if(!(t=/^rgb\(([\d]+),([\d]+),([\d]+)\)/.exec(e)))return!1;t=[+t[1],+t[2],+t[3]]}return isNaN(t[3])&&(t[3]=1),NormalizeColorArray(t.slice(0,4))}this.colorToArray=ParseColour,this.normalize=NormalizeColorArray,this.isColor=function(e){var t=!1;if(4===e.length)for(var n=0;n<e.length;n++)"number"==typeof e[n]||"string"==typeof e[n]?"string"==typeof e[n]&&isNaN(1*e[n])&&(t=!0):t=!0;else t=!0;return t&&console.warn({array:e},"Invalid Color {array}. Value is not a color Array.",this),!t},this.arrayToColor=function(e){if(e&&4===e.length){for(var t="rgba(",n=0;n<e.length;n++)t+=3===n?e[n]+")":e[n]+",";return t}return console.warn("Unknown Input array format. Should be [R,G,B,A];"),!1}}),$R.helper.system(function Drawer(e){var t=document.createElement("canvas").getContext("2d");this.measureText=function(e){t.save();var n=e(t);return t.restore(),n},this.transform=function(e,t){t.transform.apply(t,e.matrix().extract())},this.drawLineBgClipPath=function(t,n,r,o,i){var a=r.get("bg"),s=r.get("bgSize"),u=r.get("bgPosition");t.save(),t.beginPath(),t.moveTo(n[0][0],n[0][1]);for(var c=0;c<n.length;c++){var l=n[c][0],f=n[c][1],h=n[c][2],p=n[c][3];if("number"!=typeof l||"number"!=typeof h||"number"!=typeof f||"number"!=typeof p){e.error("Invalid path!");break}t.lineTo(h,p)}t.closePath(),t.clip();for(var v=0;v<a.length;v++)if(a[v].loaded()){t.save();var d=box.size[0]*s[v][0],g=box.size[1]*s[v][1],y=box.size[0]*u[v][0],b=box.size[1]*u[v][1];t.translate(i.margin[3]+y,i.margin[0]+b),t.drawImage(a[c]["export"](),0,0,d,g),t.restore()}else a[v].on("load",function(){o.update("bg")});t.restore()},this.drawBezierBgClipPath=function(t,n,r,o,i){var a=r.get("bg"),s=r.get("bgSize"),u=r.get("bgPosition");t.save(),t.beginPath(),t.moveTo(n[0][0],n[0][1]);for(var c=0;c<n.length;c++){var l=n[c][0],f=n[c][1],h=n[c][2],p=n[c][3],v=n[c][4],d=n[c][5],g=n[c][6],y=n[c][7];if("number"!=typeof l||"number"!=typeof h||"number"!=typeof f||"number"!=typeof p){e.error("Invalid path!");break}if("number"!=typeof v||"number"!=typeof g||"number"!=typeof d||"number"!=typeof y){e.error("Invalid curve!");break}t.bezierCurveTo(v,d,g,y,h,p)}t.closePath(),t.clip();for(var b=0;b<a.length;b++)if(a[b].loaded()){t.save();var m=box.size[0]*s[b][0],w=box.size[1]*s[b][1],C=box.size[0]*u[b][0],x=box.size[1]*u[b][1];t.translate(i.margin[3]+C,i.margin[0]+x),t.drawImage(a[c]["export"](),0,0,m,w),t.restore()}else a[b].on("load",function(){o.update("bg")});t.restore()},this.drawLinePathFill=function(t,n,r){var o=r.get("fill"),i=r.get("cap");t.save(),t.lineCap=i,t.moveTo(n[0][0],n[0][1]),t.beginPath();for(var a=0;a<n.length;a++){var s=n[a][0],u=n[a][1],c=n[a][2],l=n[a][3];if("number"!=typeof s||"number"!=typeof c||"number"!=typeof u||"number"!=typeof l){e.error("Invalid path!");break}t.lineTo(c,l)}t.closePath(),t.fillStyle=o,t.fill(),t.restore()},this.drawBezierPathFill=function(t,n,r){var o=r.get("fill"),i=r.get("cap");t.save(),t.lineCap=i,t.beginPath(),t.moveTo(n[0][0],n[0][1]);for(var a=0;a<n.length;a++){var s=n[a][0],u=n[a][1],c=n[a][2],l=n[a][3],f=n[a][4],h=n[a][5],p=n[a][6],v=n[a][7];if("number"!=typeof s||"number"!=typeof c||"number"!=typeof u||"number"!=typeof l){e.error("Invalid path!");break}if("number"!=typeof f||"number"!=typeof p||"number"!=typeof h||"number"!=typeof v){e.error("Invalid curve!");break}t.bezierCurveTo(f,h,p,v,c,l)}t.closePath(),t.fillStyle=o,t.fill(),t.restore()},this.drawLinePath=function(t,n,r){var o=r.get("strokeColor"),i=r.get("strokeWidth"),a=r.get("strokeStyle"),s=r.get("cap");t.save(),t.lineCap=s;for(var u=0;u<n.length;u++){var c=n[u][0],l=n[u][1],f=n[u][2],h=n[u][3];if("number"!=typeof c||"number"!=typeof f||"number"!=typeof l||"number"!=typeof h){e.error("Invalid path!");break}i[u]<.1?t.moveTo(f,h):(t.beginPath(),t.moveTo(c,l),t.strokeStyle=o[u],t.lineWidth=i[u],t.setLineDash(a[u]),t.lineTo(f,h),t.stroke())}t.restore()},this.drawBezierPath=function(t,n,r){var o=r.get("strokeColor"),i=r.get("strokeWidth"),a=r.get("strokeStyle"),s=r.get("cap");t.save(),t.lineCap=s;for(var u=0;u<n.length;u++){var c=n[u][0],l=n[u][1],f=n[u][2],h=n[u][3],p=n[u][4],v=n[u][5],d=n[u][6],g=n[u][7];if("number"!=typeof c||"number"!=typeof f||"number"!=typeof l||"number"!=typeof h){e.error("Invalid path!");break}if("number"!=typeof p||"number"!=typeof d||"number"!=typeof v||"number"!=typeof g){e.error("Invalid curve!");break}i[u]<.1?t.moveTo(f,h):(t.beginPath(),t.moveTo(c,l),t.strokeStyle=o[u],t.lineWidth=i[u],t.setLineDash(a[u]),t.bezierCurveTo(p,v,d,g,f,h),t.stroke())}t.restore()},this.drawRectFill=function(e,t,n,r,o,i){e.save();var a=t.get("fill");e.fillStyle=a,e.rect(n,r,o,i),e.fill(),e.restore()},this.drawRectStroke=function(e,t,n,r,o,i){var a=t.get("strokeStyle"),s=t.get("strokeColor"),u=t.get("strokeWidth");e.save();for(var c=0,l=0,f=0;f<4;f++)e.beginPath(),e.strokeStyle=s[f],e.strokeWidth=u[f],e.setLineDash(a[f]),0===f&&(c=n+o,l=r),1===f&&(c=n+o,l=r+i),2===f&&(c=n,l=r+i),3===f&&(c=n,l=r),u[f]<.1?e.moveTo(c,l):(e.lineTo(c,l),e.stroke());e.restore()}}),$R.helper.system(["Debug",function Easing(e){var t={_:function(e,t,n,r){return n*(e/=r)*e*e+t},linear:function(e,t,n,r){return e/=r,t+n*e},linearSoft:function(e,t,n,r){var o=(e/=r)*e,i=o*e;return t+n*(4*i*o+-10*o*o+8*i+-2*o+e)},linearSoftOut:function(e,t,n,r){var o=(e/=r)*e,i=o*e;return t+n*(-3*i*o+11*o*o+-14*i+6*o+e)},linearSoftIn:function(e,t,n,r){
var o=(e/=r)*e,i=o*e;return t+n*(-1*i*o+2*i)},easeInQuad:function(e,t,n,r){n*(e/=r)*e+t;return n*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0===e?t:n*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){return e===r?t+n:n*(-Math.pow(2,-10*e/r)+1)+t},easeInOutExpo:function(e,t,n,r){return 0===e?t:e===r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInBack:function(e,t,n,r,o){var i=(e/=r)*e,a=i*e;return t+n*(15.26*a*i+-43.56*i*i+39.8*a+-10.6*i+.1*e)},easeOutBack:function(e,t,n,r,o){var i=(e/=r)*e,a=i*e;return t+n*(11.24*a*i+-23.96*i*i+12.24*a+1.44*i+.04*e)},easeInOutBack:function(e,t,n,r,o){var i=(e/=r)*e,a=i*e;return t+n*(22.92*a*i+-57.78*i*i+45*a+-9.28*i+.14*e)},easeOutBounce:function(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}};this.get=function(n){return t[n]?t[n]:(e.error({name:n},"Easings / Unable to get undefined easing [{name}]. Linear easing function provided."),t.linear)}}]),$R.helper.system(function Matrix(){function multiply(e,t){var n=e[0]*t[0]+e[2]*t[1],r=e[1]*t[0]+e[3]*t[1],o=e[0]*t[2]+e[2]*t[3],i=e[1]*t[2]+e[3]*t[3],a=e[0]*t[4]+e[2]*t[5]+e[4],s=e[1]*t[4]+e[3]*t[5]+e[5];e[0]=n,e[1]=r,e[2]=o,e[3]=i,e[4]=a,e[5]=s}function applyMatrixToPoint(e,t){var n=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];t[0]=n,t[1]=r}function GraphicsTransformMatrix(e){var t=[1,0,0,1,0,0],n=[1,0,0,1,0,0],r=null,o=[];this.invert=function(){for(var e=o.length-1;e>=0;e--){if(o[e].rotate){var t=Math.sin(-o[e].rotate),r=Math.cos(-o[e].rotate);multiply(n,[r,t,-t,r,0,0])}o[e].translate&&multiply(n,[1,0,0,1,-o[e].translate[0],-o[e].translate[1]]),o[e].skew&&multiply(n,[1,Math.tan(-o[e].skew[1]),Math.tan(-o[e].skew[0]),1,0,0]),o[e].scale&&multiply(n,[1/o[e].scale[0],0,0,1/o[e].scale[1],0,0])}},this.rotate=function(e){var n=Math.sin(e),r=Math.cos(e),i=[r,n,-n,r,0,0];return multiply(t,i),o.push({rotate:e}),this},this.translate=function(e,n){var r=[1,0,0,1,e,n];return 0===e&&0===n||(multiply(t,r),o.push({translate:[e,n]})),this},this.scale=function(e,n){if(1!==e||1!==n){var r=[e,0,0,n,0,0];multiply(t,r),o.push({scale:[e,n]})}return this},this.skew=function(e,n){if(0!==e||0!==n){var r=Math.tan(e),i=Math.tan(n),a=[1,i,r,1,0,0];multiply(t,a),o.push({skew:[e,n]})}return this},this.extractGlobalInversion=function(){if(r)return r;var t=e.parent();return r||(r=[n[0],n[1],n[2],n[3],n[4],n[5]]),t&&multiply(r,t.matrix().extractGlobalInversion()),r},this.globalCursorProjection=function(e){return this.extractGlobalInversion(),applyMatrixToPoint(r,e),e},this.cursorProjection=function(e){return applyMatrixToPoint(n,e),e},this.trackLocalPoint=function(n,r){var o=e.parent();return o&&o.matrix().trackLocalPoint(n),r||applyMatrixToPoint(t,n),n},this.extract=function(){return t},this.extractInversion=function(){return n}}this.objectMatrix=function(e){var t=new GraphicsTransformMatrix(e),n=e.extension("Style"),r=e.extension("Box").box(),o=r.sprite(),i=n.get("position"),a=n.get("origin"),s=n.get("skew"),u=n.get("rotate"),c=n.get("scale"),l=n.get("translate"),f=e.type("Group")?[i[0]+l[0],i[1]+l[1]]:[o.position[0]+l[0],o.position[1]+l[1]],h=[a[0]*o.size[0],a[1]*o.size[1]];return t.translate(h[0],h[1]),0===f[0]&&0===f[1]||t.translate(f[0],f[1]),0!==u&&t.rotate(u),0===s[0]&&0===s[1]||t.skew(s[0],s[1]),1===c[0]&&1===c[1]||t.scale(c[0],c[1]),t.translate(-h[0],-h[1]),t.invert(),t}}),$R.helper.system(["Debug",function Model(Debug){this.cloneHash=function(e){return"object"!=typeof e?void Debug.error("Hash is not an object!"):JSON.parse(JSON.stringify(e))},this.cloneArray=function(array){if("object"!=typeof array||array.constructor!==Array)return void Debug.error("array is not an array!");for(var result=[],i=0;i<array.length;i++)if("object"==typeof array[i])array[i].constructor===Array?result.push(this.cloneArray(array[i])):result.push(this.cloneHash(array[i]));else if("function"==typeof array[i]){var text=array[i].toString();result.push(eval(text)),Debug.warn("You've just cloned a function. It may be slow",this)}else result.push(array[i]);return result},this.validNumericArray=function(e){var t=!0;if("object"!=typeof e||e.constructor!==Array)return!1;for(var n=0;n<e.length;n++)if("number"!=typeof e[n]){t=!1;break}return t};var blendings=["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"];this.validBlending=function(e){for(var t=!1,n=0;n<blendings.length;n++)if(blendings[n]===e){t=!0;break}return t};var sprite_regexp=/^([./\-_\d0-9a-zA-Z]+)(\[(\d+)\])$/;this.isSpriteString=function(e){return sprite_regexp.test(e)},this.readSpriteString=function(e){var t=e.match(sprite_regexp);return{url:t[1],frames:parseInt(t[3])}}}]),$R.helper.system(function Mouse(){this.circleUserCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]);if(t<[0]||t[1]<0)return!1;var n=this.extension("Box").box().sprite();if(t[0]>n.size[0])return!1;if(t[1]>n.size[1])return!1;var r=n.size[0]/2,o=r,i=n.size[1]/2;return Math.pow(t[0]-o,2)+Math.pow(t[1]-i,2)<=Math.pow(r,2)&&this},this.squareUserCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]),n=this.extension("Box").box().sprite();return t[0]>0&&t[0]<n.size[0]&&(t[1]>0&&t[1]<n.size[1]&&this)},this.circleCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]);if(t<[0]||t[1]<0)return!1;var n=this.extension("Box").box().sprite();if(t[0]>n.size[0])return!1;if(t[1]>n.size[1])return!1;var r=n.size[0]/2,o=this.extension("Style").get("radius");return Math.pow(t[0]-r,2)+Math.pow(t[1]-r,2)<Math.pow(o,2)&&this},this.rectCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]),n=this.extension("Box").box().sprite();return t[0]>0&&t[0]<n.size[0]&&(t[1]>0&&t[1]<n.size[1]&&this)}}),$R.helper.system(["Debug",function Path(e){function getControlPoints(e,t,n,r,o,i,a){var s=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),u=Math.sqrt(Math.pow(o-n,2)+Math.pow(i-r,2)),c=a*s/(s+u),l=a*u/(s+u),f=n-c*(o-e),h=r-c*(i-t),p=n+l*(o-e),v=r+l*(i-t);return[f,h,p,v]}this.convertComplexPath=function(e){for(var t=[],n=0;n<e.length;n++)t.push([e[n][0],e[n][1]]);return t},this.convertSimplePath=function(t){if(t.length<2)return void e.error("Path should consist of at least two points!",this);for(var n=[],r=0;r<t.length;r++){var o=t[r][0],i=t[r][1];if("number"!=typeof o||"number"!=typeof i){e.error("Incorrect Path!",this),n=void 0;break}r<t.length-1&&(n[r]||n.push([]),n[r].push(o),n[r].push(i)),0!==r&&(n[r-1].push(o),n[r-1].push(i),n[r-1].push(n[r-1][0]),n[r-1].push(n[r-1][1]),n[r-1].push(o),n[r-1].push(i))}return n},this.interpolate=function(e,t,n){for(var r=0;r<e.length;r++){var o=[],i=[e[r][0],e[r][1]],a=[e[r][2],e[r][3]],s=null;if(o=0===r?i:[e[r-1][0],e[r-1][1]],s=getControlPoints(o[0],o[1],i[0],i[1],a[0],a[1],t),0===r?(e[r][4]=s[2],e[r][5]=s[3]):(e[r-1][6]=s[0],e[r-1][7]=s[1],e[r][4]=s[2],e[r][5]=s[3]),r===e.length-1&&(o=[e[r][0],e[r][1]],i=[e[r][2],e[r][3]],a=i,s=getControlPoints(o[0],o[1],i[0],i[1],a[0],a[1],t),e[r][6]=s[0],e[r][7]=s[1]),n){var u=e[e.length-1],c=e[0],l=[[u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7]],[c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7]]];this.interpolate(l,t),e[0][4]=l[1][4],e[0][5]=l[1][5],e[e.length-1][6]=l[0][6],e[e.length-1][7]=l[0][7]}}},this.checkSimplePath=function(e){if("object"!=typeof e||e.constructor!==Array)return!1;for(var t=!0,n=0;n<e.length;n++)if("object"!=typeof e[n]||e[n].constructor!==Array||2!==e[n].length||"number"!=typeof e[n][0]||"number"!=typeof e[n][1]){t=!1;break}return t},this.comparePaths=function(e,t){var n=!0;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)for(var o=0;o<e[r].length;o++)if(e[r][o]!==t[r][o]){n=!1;break}return n}}]); export default $R;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcmUvUmVmbGVjdC5qcyIsIm1vZHVsZXMvQXBwbGljYXRpb24uanMiLCJtb2R1bGVzL0F1ZGlvLmpzIiwibW9kdWxlcy9DYW52YXMuanMiLCJtb2R1bGVzL0NsYXNzZXMuanMiLCJtb2R1bGVzL0NvbmZpZy5qcyIsIm1vZHVsZXMvQ29udGFpbmVyLmpzIiwibW9kdWxlcy9Gb250cy5qcyIsIm1vZHVsZXMvSGVscGVycy5qcyIsIm1vZHVsZXMvSW5qZWN0aW9uLmpzIiwibW9kdWxlcy9Sb290LmpzIiwibW9kdWxlcy9TZXJ2aWNlcy5qcyIsIm1vZHVsZXMvU291cmNlLmpzIiwibW9kdWxlcy9UaWNrZXIuanMiLCJwbHVnaW5zL0FuaW1hdGlvbi9BbmltYXRpb24uanMiLCJwbHVnaW5zL0JveC9Cb3guanMiLCJwbHVnaW5zL0NhY2hlL0NhY2hlLmpzIiwicGx1Z2lucy9EcmF3ZXIvRHJhd2VyLmpzIiwicGx1Z2lucy9MYXllcnMvTGF5ZXJzLmpzIiwicGx1Z2lucy9NYXRyaXgvTWF0cml4LmpzIiwicGx1Z2lucy9Nb3VzZS9Nb3VzZS5qcyIsInBsdWdpbnMvT2Zmc2V0L09mZnNldC5qcyIsInBsdWdpbnMvU3R5bGUvU3R5bGUuanMiLCJwbHVnaW5zL1RleHQvVGV4dC5qcyIsInBsdWdpbnMvVHJlZS9UcmVlLmpzIiwic2VydmljZXMvQXBpL0FwaS5qcyIsInNlcnZpY2VzL0FwaS9BcGlDb250cm9sbGVyLmpzIiwic2VydmljZXMvQ2FudmFzL0NhbnZhcy5qcyIsInNlcnZpY2VzL0RlYnVnL0RlYnVnLmpzIiwic2VydmljZXMvRGlzcGF0Y2hlci9EaXNwYXRjaGVyLmpzIiwic2VydmljZXMvRXZlbnRzL0V2ZW50cy5qcyIsInNlcnZpY2VzL0tleWJvYXJkL0tleWJvYXJkLmpzIiwic2VydmljZXMvS2V5Ym9hcmQvS2V5Ym9hcmRFdmVudC5qcyIsInNlcnZpY2VzL01vcnBoaW5lL01vcnBoaW5lLmpzIiwic2VydmljZXMvT2JqZWN0cy9HcmFwaGljcy5qcyIsInNlcnZpY2VzL09iamVjdHMvT2JqZWN0cy5qcyIsInNlcnZpY2VzL1Jlc291cmNlL1Jlc291cmNlLmpzIiwic2VydmljZXMvU291bmQvU291bmQuanMiLCJzZXJ2aWNlcy9TdGF0ZXMvU3RhdGVzLmpzIiwic2VydmljZXMvVHJlZS9UcmVlLmpzIiwicGx1Z2lucy9BbmltYXRpb24vcGFydHMvQW5pbWF0aW9uLmpzIiwicGx1Z2lucy9BbmltYXRpb24vcGFydHMvTW9ycGguanMiLCJwbHVnaW5zL0JveC9wYXJ0L0JveC5qcyIsInBsdWdpbnMvVGV4dC9DbGFzc2VzL0xpbmVDbGFzcy5qcyIsInBsdWdpbnMvVGV4dC9DbGFzc2VzL1NwYWNlQ2xhc3MuanMiLCJwbHVnaW5zL1RleHQvQ2xhc3Nlcy9UZXh0RWxlbWVudENsYXNzLmpzIiwicGx1Z2lucy9UZXh0L0NsYXNzZXMvV29yZENsYXNzLmpzIiwic2VydmljZXMvRXZlbnRzL2NsYXNzZXMvRXZlbnQuanMiLCJzZXJ2aWNlcy9FdmVudHMvY2xhc3Nlcy9FdmVudEVtaXR0ZXIuanMiLCJzZXJ2aWNlcy9EaXNwYXRjaGVyL3BhcnRzL0ZpbmRlci5qcyIsInNlcnZpY2VzL01vcnBoaW5lL3BhcnRzL01vcnBoaW5lLmpzIiwic2VydmljZXMvT2JqZWN0cy9wYXJ0cy9DYW52YXMuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3BhcnRzL0dyYXBoaWNzQXNzZW1ibGVyLmpzIiwic2VydmljZXMvT2JqZWN0cy9wYXJ0cy9HcmFwaGljc0Fzc2VtYmxlckxheWVyLmpzIiwic2VydmljZXMvT2JqZWN0cy9wYXJ0cy9QbHVnaW4uanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL0FyZWEuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL0NpcmNsZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvRGVmYXVsdC5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvR3JvdXAuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL0ltYWdlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9MaW5lLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9SZWN0YW5nbGUuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL1Nwcml0ZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvVGV4dC5qcyIsInNlcnZpY2VzL1Jlc291cmNlL2NsYXNzZXMvQXVkaW9DbGFzcy5qcyIsInNlcnZpY2VzL1Jlc291cmNlL2NsYXNzZXMvRm9udENsYXNzLmpzIiwic2VydmljZXMvUmVzb3VyY2UvY2xhc3Nlcy9JbWFnZUNsYXNzLmpzIiwic2VydmljZXMvUmVzb3VyY2UvY2xhc3Nlcy9SZXNvdXJjZUNsYXNzLmpzIiwic2VydmljZXMvUmVzb3VyY2UvY2xhc3Nlcy9TcHJpdGVDbGFzcy5qcyIsInNlcnZpY2VzL1NvdW5kL2NsYXNzZXMvQXVkaW8uanMiLCJzZXJ2aWNlcy9Tb3VuZC9jbGFzc2VzL1VzZXJBdWRpb01peGVyLmpzIiwic2VydmljZXMvU291bmQvY2xhc3Nlcy9Vc2VyQXVkaW9Tb3VyY2UuanMiLCJzZXJ2aWNlcy9Tb3VuZC9hbmltYXRpb24vQW5pbWF0aW9uUHJvdmlkZXIuanMiLCJzZXJ2aWNlcy9Tb3VuZC9maWx0ZXJzL0RlbGF5Tm9kZS5qcyIsInNlcnZpY2VzL1NvdW5kL2ZpbHRlcnMvRGVzdGluYXRpb25Ob2RlLmpzIiwic2VydmljZXMvU291bmQvZmlsdGVycy9HYWluTm9kZS5qcyIsInNlcnZpY2VzL1NvdW5kL2ZpbHRlcnMvTG93cGFzc05vZGUuanMiLCJzZXJ2aWNlcy9Tb3VuZC9wYXJ0cy9BdWRpb05vZGUuanMiLCJzZXJ2aWNlcy9Tb3VuZC9wYXJ0cy9BdWRpb05vZGVTb3VuZHNEaXNwYXRjaGVyLmpzIiwic2VydmljZXMvU291bmQvcGFydHMvQXVkaW9Tb3VyY2UuanMiLCJzZXJ2aWNlcy9Tb3VuZC9wYXJ0cy9FdmVudC5qcyIsInNlcnZpY2VzL1NvdW5kL3BhcnRzL0V2ZW50UHJvdmlkZXIuanMiLCJzZXJ2aWNlcy9TdGF0ZXMvY2xhc3Nlcy9TdGF0ZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvZHJhd2Vycy9BcmVhLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0NpcmNsZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvZHJhd2Vycy9EZWZhdWx0LmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0dyb3VwLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0ltYWdlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0xpbmUuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL2RyYXdlcnMvUmVjdGFuZ2xlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL1Nwcml0ZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvZHJhd2Vycy9UZXh0LmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvQXJlYS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvbW9kZWxzL0NpcmNsZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvbW9kZWxzL0RlZmF1bHQuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL21vZGVscy9EZWZhdWx0RnJlZVN0cm9rZU1vZGVsLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvR2xvYmFsQmFja2dyb3VuZE1vZGVsLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvR2xvYmFsU2l6ZU1vZGVsLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvR3JvdXAuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL21vZGVscy9JbWFnZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvbW9kZWxzL0xpbmUuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL21vZGVscy9SZWNhdGFuZ2xlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvU3ByaXRlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvVGV4dC5qcyIsInNlcnZpY2VzL1NvdW5kL2FuaW1hdGlvbi9wYXJ0cy9BbmltYXRpb24uanMiLCJzZXJ2aWNlcy9Tb3VuZC9hbmltYXRpb24vcGFydHMvTW9ycGguanMiLCJoZWxwZXJzL0FuaW1hdGlvbi5qcyIsImhlbHBlcnMvQ29sb3IuanMiLCJoZWxwZXJzL0RyYXdlci5qcyIsImhlbHBlcnMvRWFzaW5nLmpzIiwiaGVscGVycy9NYXRyaXguanMiLCJoZWxwZXJzL01vZGVsLmpzIiwiaGVscGVycy9Nb3VzZS5qcyIsImhlbHBlcnMvUGF0aC5qcyJdLCJuYW1lcyI6WyJSZWZsZWN0IiwiQ29yZSIsImYiLCJJbmplY3Rpb24iLCJyZWFkeSIsImkiLCJleHBlY3QiLCJsZW5ndGgiLCJtb2R1bGVzIiwiQnVpbGRDb3JlIiwiZ2V0Um91dGVGdW5jdGlvbiIsInJvdXRlRnVuY3Rpb24iLCJyZXN1bHQiLCJhcHBseSIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsImJpbmQiLCJjb3JlIiwiZ2V0IiwicHJvcGVydHkiLCJwcm9wZXJ0aWVzIiwiaGFzT3duUHJvcGVydHkiLCJuYW1lIiwiRXJyb3IiLCJ0aGlzIiwiY2FjaGUiLCJjcmVhdGUiLCJwYXlsb2FkIiwiYXJncyIsImNvbnN0cnVjdG9yIiwiQXJyYXkiLCJwdXNoIiwiRnVuY3Rpb24iLCJwcm90b3R5cGUiLCJpcyIsInRhcmdldCIsImV4dGVuZCIsImNhbGwiLCJtb2R1bGUiLCJpbmplY3QiLCJkZWZpbmUiLCJ2YWx1ZSIsIiRSIiwiQXBwbGljYXRpb24iLCJDYW52YXMiLCJUaWNrZXIiLCJDb25maWciLCJzZWxmIiwiaXNOdW1iZXIiLCJncmVhdGVyIiwidW5kZXIiLCJ3YXRjaCIsInYiLCJmcHMiLCJpc1N0cmluZyIsImVsZW1lbnQiLCIkIiwibiIsImNoYXJBdCIsImNvbmZpZyIsImEiLCJiIiwic2V0IiwiQXVkaW8iLCJjb250ZXh0IiwiQXVkaW9Db250ZXh0IiwiRHJhd1NjZW5lIiwiZGF0ZSIsImZyYW1lIiwicXVldWUiLCJlIiwiY29uc29sZSIsImVycm9yIiwibyIsIm1lc3NhZ2UiLCJyZXNvbHZlIiwiYXJyYXkiLCJzaXplIiwicmVzaXplQ2IiLCJzd2l0Y2hDYiIsImlkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJjdHgiLCJzZXRBdHRyaWJ1dGUiLCJIVE1MRWxlbWVudCIsInNvcnQiLCJ3aWR0aCIsImhlaWdodCIsInJlc2l6ZSIsIm9mZnJlc2l6ZSIsImZpbHRlciIsIkNsYXNzZXMiLCJjbHMiLCJjZmciLCJpbmplY3Rpb24iLCJnbG9iYWxDbGFzc2VzIiwid2FybiIsImFwcCIsImFwcGxpY2F0aW9uQ2xhc3NlcyIsInN5c3RlbUNsYXNzZXMiLCJzeXMiLCJnZXRBcHBsaWNhdGlvbkNsYXNzZXMiLCJjb250YWluZXIiLCJzb3VyY2UiLCJtZXJnZSIsImdldFN5c3RlbUNsYXNzZXMiLCJQcm9wZXJ0eSIsImNoZWNrVmFsdWUiLCJjaGVja0FycmF5IiwiZnVuY3MiLCJjYiIsImFyZyIsImlzQXJyYXkiLCJwcm9wIiwiY3VzdG9tIiwiZXEiLCJpc0Jvb2wiLCJDb250YWluZXIiLCJsaWIiLCJkaXJlY3QiLCJsaWJyYXJ5Iiwic291cmNlcyIsImxpc3QiLCJkZXBlbmRlbmNpZXMiLCJjbG9uZSIsInByZWZpeGtleSIsIiQkTE9PUCIsImxvb3AiLCIkTE9PUCIsIiQkTE9PT1AiLCJ2YWxpZCIsIm5ld0xpYnJhcnkiLCJuZXdDb250YWluZXIiLCJjb250YWluZXJzIiwic291cmNlbG9vcCIsInNvdXJjZXByZWZpeCIsInByZWZpeCIsIm5ld2NvbnRhaW5lcnMiLCJmaW5kU291cmNlQnlQcmVmaXgiLCIkJG5vcHJlZml4IiwiZmluZFNvdXJjZUJ5SW5qZWN0aW9uTmFtZSIsImluamVjdGlvbk5hbWUiLCJoYXMiLCIkY29uc3RydWN0b3IiLCJkIiwic3JjIiwicmVzb2x2ZURpcmVjdEluamVjdGlvbiIsIkZvbnRzIiwiZm9udFN0cmluZyIsImZvbnQiLCJmb250c0RlZmluZWQiLCJ3Iiwid2VpZ2h0IiwicyIsInN0eWxlIiwiZmlsZXN0cmluZyIsInN0cmluZyIsImZvcm1hdCIsImZvcm1hdFN0ciIsInVwZGF0ZSIsInBhdGgiLCJmYW1pbHkiLCJmYW1pbGllcyIsImlubmVySFRNTCIsImluQXJyYXkiLCJjcmVhdGVFbGVtZW50IiwiZW90IiwidXJsIiwid29mZiIsInR0ZiIsInN2ZyIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImFwcGVuZENoaWxkIiwiZm9ybWF0cyIsIkhlbHBlcnMiLCJoZWxwZXIiLCJoZWxwZXJzIiwic3lzSGVscGVycyIsInN5c3RlbSIsImlzX3B1YmxpYyIsImdldFN5c3RlbUhlbHBlcnMiLCJkZWZhdWx0cyIsImdldFB1YmxpY0hlbHBlcnMiLCJjb24iLCJyZXNvbHZlZCIsImluc3RhbmNlIiwicmVzb2x2ZUluamVjdGlvbkRlcGVuZGFuY2llcyIsInVuc2hpZnQiLCJSb290IiwiY3JlYXRlQXBwbGljYXRpb24iLCJhcHBDb250YWluZXIiLCJhcHBzIiwiYXBwVGlja2VyIiwiYXBwQ2FudmFzIiwiYXBwQXVkaW8iLCJhcHBDb25maWciLCJhcHBGb250cyIsImFwcEFwaSIsImRlZmF1bHRzTGlicmFyeSIsIkFQSSIsImFwcERlZmF1bHRzIiwiYXBwU3lzSGVscGVycyIsImFwcFB1YkhlbHBlcnMiLCJhcHBDbGFzc2VzIiwiY2xhc3NlcyIsImFwcFN5c0NsYXNzZXMiLCJhcHBTZXJ2aWNlcyIsInNlcnZpY2VzIiwiZ2V0QXBwbGljYXRpb25TZXJ2aWNlcyIsImFwcGxpY2F0aW9uIiwiU2VydmljZXMiLCJzZXJ2aWNlIiwic2VydmljZU5hbWUiLCJwbHVnaW4iLCJwbHVnaW5OYW1lIiwicGx1Z2lucyIsImdldFBsdWdpbk1hbmFnZXIiLCJQbHVnaW5zIiwiZWFjaCIsInNlcnZpY2VDbGFzc2VzIiwicGx1Z2luc0NsYXNzZXMiLCJzdmMiLCJwbHVnaW5DbGFzc05hbWUiLCJjbGFzc05hbWUiLCJfaGVscGVycyIsIl9zeXNDbGFzc2VzIiwiX2VuZ2luZURlZmF1bHRzIiwiX3NlcnZpY2UiLCJfcGx1Z2luIiwiX3NlcnZpY2VzIiwiX3NlcnZpY2VzQ2xhc3NlcyIsIl9zZXJ2aWNlc1BsdWdpbnMiLCJfc2VydmljZXNQbHVnaW5zQ2xhc3NlcyIsIl9wbHVnaW5zIiwiX3BsdWdpbkNsYXNzZXNDb250YWluZXIiLCJzZXJ2aWNlQ2xhc3Nlc0NvbnRhaW5lciIsIl9zZXJ2aWNlc1NlcnZpY2VTb3VyY2UiLCJzMiIsInAiLCJwY2wiLCJTb3VyY2UiLCJzdHJpcFByZWZpeCIsInBmeCIsImNoZWNrQ2FjaGUiLCJjaGVjayIsInN0cmlwTmFtZSIsInN0ciIsImV2ZW50IiwiX2NhbGxfYXJncyIsImV2ZW50Q2IiLCJmcmFtZUR1cmF0aW9uIiwidG9GaXhlZCIsImRyYXciLCJ0aWNrIiwiRGF0ZSIsImNsZWFySW50ZXJ2YWwiLCJpbnRlcnZhbCIsInN0b3AiLCJzdGFydCIsIm9uIiwiZnVuYyIsInNldEludGVydmFsIiwibnVtYmVyIiwiQW5pbWF0aW9uIiwiRGVidWciLCJmaW5kQ29tcGV0aXRvciIsImFuaW1hdGlvbiIsIiQkU0VMRiIsImNvbXBldGl0b3IiLCJhbmltYXRpb25zIiwiYWN0aXZlIiwiZG9uZSIsImhhc1Byb3BlcnR5IiwiQ2hlY2tBbmltYXRpb25RdWV1ZSIsIl9hbmltYXRpb25zIiwicHJvcHMiLCJjb21wZXRpdG9ycyIsIkNyZWF0ZUFuaW1hdGlvblR5cGUxIiwiZHVyYXRpb24iLCJlYXNpbmciLCJleHRlbnNpb24iLCJwYWlyIiwibW9ycGhzIiwic3RhY2siLCJvcmRlcmluZyIsIm1vcnBoIiwiQ3JlYXRlQW5pbWF0aW9uVHlwZTIiLCJwYWlycyIsImFyZzIiLCJhcmczIiwidHlwZSIsIm1vcnBoX3N0YWNrIiwiaXRlbSIsImFuaW1hdGVkIiwic2V0dGVyIiwiYXBwbGllciIsIm9iamVjdCIsImV4dHJhY3RNb3JwaCIsInJlZ2lzdGVyIiwiYXJnMSIsImFyZzQiLCJkZXN0cm95IiwiQm94IiwiQm94V3JhcHBlckZ1bmMiLCJib3giLCJwdXJnZSIsInBhcmVudCIsInBvc2l0aW9uIiwiQ2FjaGUiLCJ2YWx1ZXMiLCJyZWxldmFudCIsIkRyYXdlciIsInJlbmRlckFsbG93ZWQiLCJjb25kaXRpb25zIiwicmVuZGVyQWxsb3dJdGVyYXRvciIsInJlbmRlcmluZyIsInBpcGVTaXplIiwiZXhwb3J0cyIsInVwZGF0ZUNiIiwiY2JJdGVyYXRvciIsImNhbGxVcGRhdGVDYiIsImRyYXdlclBpcGVCZWZvcmUiLCJkcmF3ZXJQaXBlQWZ0ZXIiLCJiZWZvcmVQaXBlU2l6ZSIsImFmdGVyUGlwZVNpemUiLCJzcHJpdGVVcGRhdGVkIiwiJCRDQUxMIiwiZHJhd0Z1bmN0aW9uIiwidXBkYXRlRnVuY3Rpb24iLCJ0ZnVuYyIsInBpcGUiLCJvcmRlciIsImZ0eXBlIiwidW5waXBlIiwiaW5kZXgiLCJwaXBlSW5kZXgiLCJwaXBlT3JkZXIiLCJvcmlnaW5hbENvbnRleHQiLCJjdXJyZW50Q29udGV4dCIsImNhbGxiYWNrc1Jlc3VsdCIsInNhdmUiLCJyZXN0b3JlIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwiZ2xvYmFsQWxwaGEiLCJkcmF3SW1hZ2UiLCJjYW52YXMiLCJzaGlmdCIsIkxheWVycyIsInJlbW92ZU9iamVjdEZyb21MYXllcnMiLCJsYXllciIsImxheWVycyIsInNwbGljZSIsIjAiLCJ2YWwiLCJwYXJlbnRfbGF5ZXJfZXh0IiwicGxhY2UiLCJyZW1vdmUiLCJmb3JFYWNoIiwiaXRlcmF0b3IiLCJNYXRyaXgiLCJNYXRyaXhXcmFwcGVyIiwiTW91c2UiLCJNb3VzZUhlbHBlciIsIkdldEV2ZW50QXJyYXkiLCJjYWxsYmFja3MiLCJkcmFnbW92ZSIsImRyYWdzdGFydCIsImRyYWdlbmQiLCJtb3VzZW1vdmUiLCJtb3VzZXVwIiwibW91c2Vkb3duIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiLCJkaXNhYmxlZCIsIm1vdXNlQ2hlY2tGdW5jdGlvbiIsIiRPRkYiLCIkJE9GRiIsIiQkTU9VU0VGVU5DU0VBUkNIIiwiY3Vyc29yIiwiY3Vyc29yVHJhbnNmb3JtRnVuY3Rpb24iLCJhcHBseUN1cnNvclRyYW5zZm9ybSIsImhhc0V2ZW50IiwicHJvcGFnYXRlIiwiZXZlbnRPYmoiLCJtb3VzZSIsIl9ldmVudE9iaiIsIm9yaWdpbmFsVGFyZ2V0IiwiJCRNT1VTRVBST1BBR0FUSU9OU0VUVEVSIiwiT2Zmc2V0IiwiRHJhd2VySGVscGVyIiwicG9pbnRzIiwibWFzayIsIm1hdHJpeCIsInRyYWNrTG9jYWxQb2ludCIsImxlZnQiLCJNYXRoIiwibWluIiwicmlnaHQiLCJtYXgiLCJib3R0b20iLCJ0b3AiLCJoIiwiU3R5bGUiLCJHZXRTZXR0ZXJGdW5jdGlvbiIsIm9sZCIsIkdldEdldHRlckZ1bmN0aW9uIiwiZ2V0dGVyIiwiU3R5bGVUeXBlMSIsInNldHRlcnMiLCJTdHlsZVR5cGUyIiwic2V0dGVyc3RhY2siLCJKU09OIiwic3RyaW5naWZ5IiwiU3R5bGVUeXBlMyIsImdldHRlcnMiLCJjYWxsYmFjayIsIlRleHQiLCJNb2RlbEhlbHBlciIsImFwcGx5VG8iLCJsaW5lcyIsIndvcmRCeVdvcmRSZWdFeHAiLCJsaW1pdHMiLCJJbmZpbml0eSIsIndvcmRzIiwibCIsIl93IiwiZm9yY2VkIiwicGllY2VzIiwibWF0Y2giLCJsaW5lV2lkdGgiLCJmb250U2l6ZSIsImxpbmVIZWlnaHQiLCJmb250V2VpZ2h0IiwiY29sb3IiLCJmb250U3R5bGUiLCJ1c2VybmV3bGluZSIsIndvcmQiLCJ0ZXh0QmxvY2tIZWlnaHQiLCJ0ZXh0QmxvY2tXaWR0aCIsImZvckVhY2hMaW5lIiwiVHJlZSIsIlRyZWVTZXJ2aWNlIiwibm9ybWFsaXNlSWRlbnRpdHkiLCJyZXBsYWNlIiwibm9uTGV0dGVycyIsImNhcGl0YWxzIiwiY2hlY2tUcmVlIiwidHJlZVZpb2xhdGlvbiIsImlkZW50aXR5IiwidW5tb3VudCIsImFwcGVuZCIsImdyb3VwIiwidW5yZWdpc3RlciIsIkFwaSIsImNvbnRyb2wiLCJhcGkiLCJjYW4iLCIkJEFQSVBST1RFQ1RFRCIsIndyYXAiLCJBcGlDb250cm9sbGVyIiwiSXMiLCJFdmVudHMiLCJtZXRob2RzIiwiZW1pdHRlciIsImFjdGlvbk5hbWUiLCJwcm9wZXJTdHJpbmciLCJ0IiwibSIsImFjdGlvbiIsImluZm8iLCJncm91cEVuZCIsImNvbXBhcmVPblJlc2l6ZSIsInN1Y2Nlc3MiLCJ4dW5pdHMiLCJ5dW5pdHMiLCJkaW1tcyIsIl9wVyIsInBXIiwiX3BIIiwicEgiLCJyZXNpemVUTyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJwYXJlbnROb2RlIiwic3R5bGVzIiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInBhcnNlSW50IiwiZ2V0UHJvcGVydHlWYWx1ZSIsImZsb29yIiwiR2V0Q2FudmFzT2Zmc2V0IiwieCIsIm9mZnNldFByb3AiLCJpc05hTiIsIm9mZnNldFBhcmVudCIsIldpbmRvd1Jlc2l6ZUNhbGxiYWNrIiwib3V0cHV0Iiwib2Zmc2V0IiwiUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkiLCJSQ2FudmFzUmVzaXplRXZlbnQiLCJDYW52YXNTd2l0Y2hDYWxsYmFjayIsIlJDYW52YXNTd2l0Y2hFdmVudCIsIkdldENhbnZhc0V2ZW50QXJyYXkiLCJjYW52YXNFdmVudENhbGxiYWNrcyIsImRhdGEiLCJHZXRNb3VzZVJlbGF0aXZlUG9zaXRpb24iLCJwYWdlWCIsInNjcm9sbCIsInBhZ2VZIiwiUkNhbnZhc01vdXNlIiwicGFnZSIsInNjZWVuIiwiUkNhbnZhc01vdXNlRXZlbnQiLCJvcmlnaW5hbCIsInVuaXRzIiwiaGlkZGVuIiwiaGlkZSIsImRpc3BsYXkiLCJzaG93IiwiY2FudmFzcmVzaXplIiwiY2FudmFzc3dpdGNoIiwibGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJwYWdlWE9mZnNldCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbExlZnQiLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsIlJlc29sdmVFdmVudCIsImVycm9yQ2IiLCJtZXNzYWdlQ2IiLCJpbmZvQ2IiLCJpbXBvcnRhbnRDYiIsIkdldE1lc3NhZ2UiLCJ0b1N0cmluZyIsIm1hdGNoZXMiLCJyZWdleHAiLCJtYXRjaG5hbWUiLCJyZWdleHBuYW1lIiwid2FybmluZ3MiLCJncm91cExldmVsIiwiY3VycmVudExldmVsIiwidHJhY2UiLCJsb2ciLCJjdXJyZW50U2VwYXJhdG9yTWVzc2FnZXMiLCJjdXJyZW50U2VwYXJhdG9yTGV2ZWwiLCJzZXBhcmF0b3IiLCJzZXBhcmF0b3JFbmQiLCJwb3NpdGl2ZSIsIm5lZ2F0aXZlIiwiZ3JvdXBDb2xsYXBzZWQiLCJEaXNwYXRjaGVyIiwiQ2FudmFzUm9vdCIsIkZpbmRlciIsIkRlZmF1bHRSRXZlbnQiLCJfdHlwZSIsIl90YXJnZXQiLCJfb3JpZ2luYWxUYXJnZXQiLCJzdG9wUHJvcGFnYXRpb24iLCJwcm9wYWdhdGVkIiwiJCRQUk9QQUdBVElPTlNFQVJDSCIsImdldEV2ZW50QnlUeXBlIiwiJCRSRVNFVFRBUkdFVCIsIk1vdXNlRXZlbnQiLCJjdXJyZW50IiwiT2JqZWN0IiwiZnJlZXplIiwiRHJhZ0V2ZW50IiwiZHJhZyIsImRlbHRhIiwiRGlzcGF0Y2giLCJ0YXJnZXRNb3VzZSIsInJlc29sdmVFdmVudEJ5VHlwZSIsInByZXZpb3VzIiwicmVzb2x2ZURyYWdTdGFydCIsImRyYWdnZWQiLCJyZXNvbHZlRHJhZ0VuZCIsIkRpc3BhdGNoRXZlbnRzIiwiJCRNT1VTRVNFQVJDSCIsIlVwZGF0ZVRhcmdldHMiLCJldmVudERpc3BhdGNoZXJUaWNrIiwiY2hlY2tlZCIsImZvY3VzZWQiLCIkJEVNSVRURVJQUk9URUNURUQiLCIkJEVNSVRURVJQUk9URUNURURDT05URVhUIiwiZGVjb3JhdGUiLCJpbml0IiwiS2V5Ym9hcmQiLCJPbkFwcFRpY2siLCJnZXRRdWV1ZUZ1bmMiLCJrZXljb2RlIiwia2V5Q29kZSIsImJ1aWxkIiwiZW5hYmxlZCIsImtleWRvd24iLCJjb2RlIiwia2V5dXAiLCJkaXNhYmxlIiwiZW5hYmxlIiwiYyIsImNhbnZhc0NsaWNrZWQiLCJLZXlib2FyZEV2ZW50IiwiY3RybFByZXNzZWQiLCJhbHRQcmVzc2VkIiwic2hpZnRQcmVzc2VkIiwiY3RybEtleSIsImFsdEtleSIsInNoaWZ0S2V5IiwiYWx0IiwiY3RybCIsIk1vcnBoaW5lIiwiRWFzaW5ncyIsImVuZCIsInJwdCIsImVmdW5jIiwibW9ycGhpbmVzIiwibW9ycGhpbmUiLCJ0aWNrRiIsIiRtIiwicHJvY2Vzc01vcnBoaW5lcyIsImdldFRpbWUiLCJfbW9ycGhpbmVzIiwiR3JhcGhpY3MiLCJyZXNvbHZlZF9wbHVnaW5zIiwiZGVmaW5lT2JqZWN0IiwibWF0Y2hUeXBlIiwiT2JqZWN0cyIsIkluamVjdEJ5VHlwZSIsInJvb3QiLCJsaW5lIiwicmVjdCIsImNpcmNsZSIsImltYWdlIiwic3ByaXRlIiwidGV4dCIsImFyZWEiLCJSZXNvdXJjZSIsImdldFJlc291cmNlQnlVUkwiLCJzZWFyY2giLCJpbmplY3RCeVR5cGUiLCJleGlzdGVkIiwibG9hZENvdW50ZXIiLCJhbGwiLCJsb2FkZXJNb2RlIiwibG9hZCIsImNCQ29udGFpbmVyIiwidXBkYXRlUmVzb3VyY2VzIiwiU3ByaXRlUmVzb3VyY2VzIiwibG9hZGVkIiwiSW1hZ2VSZXNvdXJjZXMiLCJGb250UmVzb3VyY2VzIiwiQXVkaW9SZXNvdXJjZXMiLCJhdWRpbyIsImFkZCIsIm9mZiIsIm5hcnJheSIsIiQkU0VBUkNIIiwidG90YWwiLCJjb25jYXQiLCJTb3VuZCIsImRlc3RpbmF0aW9uIiwic291bmRzIiwic291bmRjb3VudCIsImNoYW5uZWxjb3VudCIsImNoYW5uZWxzIiwiJCRERVNUSU5BVElPTiIsInNhbXBsZSIsImNoYW5uZWwiLCJvdXQiLCJjb25uZWN0IiwiYnl1cmwiLCJTdGF0ZXMiLCIkJFNUQVRFU1BST1RFQ1RFRCIsImN1cnJlbnRDb250YWluZXIiLCIkU1RBVEVTUFJPVEVDVEVEQ09OVEVYVCIsIiRTVEFURVNQUk9URUNURURIQVNFTUlUVEVSU0VUIiwiZHJhd0dyYXBoaWNzVHJlZSIsInJvb3REcmF3ZXIiLCJjbGVhciIsImNsZWFyUmVjdCIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0Iiwicm9vdFN0eWxlIiwiZWxlbWVudHMiLCJuZXdfaWQiLCJkcmF3ZXIiLCJBbmltYXRpb25IZWxwZXIiLCJSZXNvbHZlIiwic3RlcFR5cGVTdHIiLCJzdGVwc0NiIiwicHJvZ3Jlc3MiLCJjb21wbGV0ZVR5cGVTdHIiLCJyZXN1bHRzIiwiX3N0YWNrIiwidGlja19mdW5jdGlvbiIsImdldFRpY2tGdW5jdGlvbiIsImNvbXBsZXRlIiwibm9ybWFsaXplQ29uZmlnIiwic3RlcCIsIk1vcnBoIiwiU2V0U3RhcnRWYWx1ZSIsIlNldEVuZFZhbHVlIiwib2JqIiwib3JkIiwiYXBsIiwibWFyZ2luIiwieSIsIlRleHRMaW5lQ2xhc3MiLCJnZXRXaWR0aCIsIndpZHRoVXBkYXRlZCIsInNwYWNlIiwibWVhc3VyZVRleHQiLCJfYXJyIiwicHJvcGVydHlDaGFuZ2VkIiwib25Qcm9wZXJ0eUNoYW5nZSIsIlRleHRTcGFjZUNsYXNzIiwiZXh0cmFjdEZvbnRTdHJpbmciLCJUZXh0RWxlbWVudENsYXNzIiwiQ29sb3JIZWxwZXIiLCJjb2xvclRvQXJyYXkiLCJUZXh0V29yZENsYXNzIiwiZmlsbFN0eWxlIiwiZmlsbFRleHQiLCJFdmVudCIsImV2ZW50X3RpbWUiLCJ0aW1lIiwiRXZlbnRFbWl0dGVyIiwiYWRkQ2FsbGJhY2siLCJvbmNlIiwiZXZlbnRzIiwicmVtb3ZlQ2FsbGJhY2siLCJfY2xlYXJDYkFycmF5IiwiY2kiLCJyZXNvbHZlRXZlbnQiLCJldmVudF90YXJnZXQiLCJldmVudF9vYmplY3QiLCJldmVudF9zdHJpbmdfcmVnZXhwIiwicHJveHkiLCJmb3JlaWduX2VtaXR0ZXIiLCJmb3JlaWduX2V2ZW50IiwiY2hlY2tFbGVtZW50IiwibGF5ZXJfcmVzdWx0IiwiVGljayIsInBhdXNlZCIsInN0YXJ0X3RpbWUiLCJyZXBlYXQiLCJyZXBlYXRDb3VudCIsInBhdXNlIiwiZHVyIiwiZWFzZSIsIkdyYXBoaWNzQXNzZW1ibGVyIiwiU2V0U2l6ZSIsImNvbXBvc2UiLCJyZXNpemVkIiwiYm94RXh0IiwidXBkYXRlRnVuYyIsImJveFByb3ZpZGVyIiwiR3JhcGhpY3NBc3NlbWJsZXJMYXllciIsInVwZGF0ZUNhbnZhcyIsIlBsdWdpbiIsImFwcGxpZXMiLCJkZXN0cm95Q2IiLCJ0eXBlcyIsInRlbXAiLCJBcmVhT2JqZWN0Q2xhc3MiLCJDaXJjbGVPYmplY3RDbGFzcyIsImNpcmNsZUNoZWNrRnVuY3Rpb24iLCJEZWZhdWx0T2JqZWN0VHlwZSIsIkdyb3VwT2JqZWN0Q2xhc3MiLCJJbWFnZU9iamVjdENsYXNzIiwicmVjdENoZWNrRnVuY3Rpb24iLCJMaW5lT2JqZWN0Q2xhc3MiLCJSZWN0YW5nbGVPYmplY3RDbGFzcyIsInJlY3RDdXJzb3JUcmFuc2Zvcm1GdW5jdGlvbiIsIlNwcml0ZU9iamVjdENsYXNzIiwiVGV4dE9iamVjdENsYXNzIiwiQXVkaW9SZXNvdXJjZSIsImNyZWF0ZUF1ZGlvIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwicmVzcG9uc2VUeXBlIiwib25sb2FkIiwic3RhdGVGdW5jIiwicmVzcG9uc2UiLCJyZXNvbHZlRXZlbnRGdW5jIiwib25lcnJvciIsInNlbmQiLCJfdXJsIiwicmVzb2x2ZUZ1bmMiLCJzZXRTdGF0ZUZ1bmMiLCJGb250UmVzb3VyY2UiLCJnZXRGb250IiwiZm9udExvYWRlckVsZW1lbnQiLCJhcHBlbmRlZCIsInJlcGVhdFRpbGxFcnJvciIsImluaXRpYWwiLCJmb250RmFtaWx5IiwiY2hlY2tJbnRlcnZhbCIsInJlbW92ZUNoaWxkIiwic3RhdGUiLCJpbm5lclRleHQiLCJyIiwiSW1hZ2VSZXNvdXJjZSIsImNyZWF0ZUltYWdlIiwiSW1hZ2UiLCJzZXRTdGF0dXMiLCJzdGF0dXMiLCJjYkNvbnRhaW5lciIsInJlc29sdmVGdW5jdGlvblBhc3NlZCIsImxvYWRpbmciLCJTcHJpdGVSZXNvdXJjZSIsImNyZWF0ZUNhbnZhc0FycmF5IiwiZWxlbXMiLCJmcmFtZXMiLCJzZXRDYW52YXNTaXplIiwiZnJhbWVIZWlnaHQiLCJyb3VuZCIsImZyYW1lV2lkdGgiLCJfY3R4IiwidHJhbnNsYXRlIiwic2V0U3RhdXNGdW5jIiwidSIsImV2ZW50RiIsInN0YXR1c0YiLCJzcHJpdGVXaWR0aCIsInNwcml0ZUhlaWdodCIsInBsYXkiLCJyb3dzIiwiY2VpbCIsInNxcnQiLCJjdXJyZW50WCIsImN1cnJlbnRZIiwiX3RpbWUiLCJldmVudEFyZ3MiLCJjcmVhdGVBbmltYXRpb25Nb3JwaCIsIm5vcm1hbGl6ZXIiLCJub2RlbmFtZSIsInRlcm1pbmF0ZSIsIiQkU09VUkNFIiwiZmlsdGVycyIsImN0eXBlIiwib3V0c291cmNlIiwiYW5pbWF0ZSIsIlVzZXJBdWRpb01peGVyIiwiYXJnRiIsImZpbHRlcnNDZmciLCJub2RlIiwiJCRBVURJT05PREUiLCJpbnB1dCIsIlVzZXJBdWRpb1NvdXJjZSIsImNiQXJncyIsImNvbm5lY3RDYkFyZ3MiLCJtaXhlciIsIkFuaW1hdGlvblByb3ZpZGVyIiwiRGVsYXlOb2RlIiwidGltZUNGRyIsImZvcmNlQ0ZHIiwiZ2xvYmFsR2FpbiIsImNyZWF0ZUdhaW4iLCJkZWxheSIsImNyZWF0ZURlbGF5IiwiZmVlZGJhY2siLCJicSIsImNyZWF0ZUJpcXVhZEZpbHRlciIsImdhaW4iLCJmcmVxdWVuY3kiLCJkZWxheVRpbWUiLCJmb3JjZSIsIkRlc3RpbmF0aW9uTm9kZSIsIkdhaW5Ob2RlIiwidm9sdW1lIiwiTG93cGFzc05vZGUiLCJicWYiLCJBdWRpb05vZGUiLCJuZXh0Tm9kZSIsImJ1aWxkRiIsInNvdW5kIiwiZGlzY29ubmVjdCIsIl9pbnBBcnJheSIsIl9pbnBBcnIiLCJpbnAiLCJtb2RlbCIsImRlZlZhbCIsIm5vcm1saXplciIsIkF1ZGlvTm9kZVNvdW5kRGlzcGF0Y2hlciIsInJlY29ubmVjdCIsIkF1ZGlvU291cmNlIiwicmVzb3VyY2UiLCJidWZmZXIiLCJkZWNvZGVBdWRpb0RhdGEiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJzdGF0ZXZhbCIsImFyZ0Z1bmN0IiwiZXZlbnROYW1lIiwiaXNTdGF0ZUV2ZW50IiwiRXZlbnRQcm92aWRlciIsIlN0YXRlIiwiaXNJblN0YXRlIiwic3RhdGVzIiwiaXNCb3VuZFByb3BlcnR5IiwiYm91bmQiLCJnZXRQcm9wZXJ0eUV2ZW50Q2FsbGJhY2siLCJzZXRQcm9wZXJ0eVZhbHVlIiwiY3JlYXRlUHJvcGVydHkiLCJlbmFibGVyIiwiZGlzYWJsZXIiLCJzdGF0ZV9zdHJpbmdfcmVnZXhwIiwidHJ1c3RlZCIsImlzX2JvdW5kIiwiZXZlbnRfZW1pdHRlciIsInN0cmljdCIsIkFyZWFPYmplY3REcmF3ZXIiLCJQYXRoSGVscGVyIiwiVXBkYXRlRmlsbCIsInhzaGlmdCIsInlzaGlmdCIsImludGVycG9sYXRpb24iLCJpbnRlcnBvbGF0ZWQiLCJpbnRlcnBvbGF0ZSIsImRyYXdCZXppZXJQYXRoRmlsbCIsImRyYXdMaW5lUGF0aEZpbGwiLCJVcGRhdGVTdHJva2UiLCJjbG9uZUFycmF5IiwiZHJhd0xpbmVQYXRoIiwiZHJhd0JlemllclBhdGgiLCJVcGRhdGVCZyIsImRyYXdMaW5lQmdDbGlwUGF0aCIsImFzc2VtYmxlciIsImRyYXdCZXppZXJCZ0NsaXBQYXRoIiwic3Ryb2tlZml4IiwiaW50ZXJwb2xhdGlvbmZpeCIsImZpeCIsImJveENvbnRhaW5lciIsImFuY2hvciIsIm1pbngiLCJtaW55IiwibWF4eCIsIm1heHkiLCJhYnMiLCJ0cmFuc2Zvcm0iLCJDaXJjbGVPYmplY3REcmF3ZXIiLCJiZWdpblBhdGgiLCJzdHJva2VTdHlsZSIsInNldExpbmVEYXNoIiwiYXJjIiwiUEkiLCJzdHJva2UiLCJmaWxsIiwiY2xpcCIsImJncG9zaXRpb24iLCJiZ3NpemUiLCJiZyIsImJnd2lkdGgiLCJiZ2hlaWdodCIsImJncG9zaXRpb254IiwiYmdwb3NpdGlvbnkiLCJyYWRpdXMiLCJEZWZhdWx0T2JqZWN0RHJhd2VyIiwib2JqZWN0TWF0cml4IiwiR3JvdXBPYmplY3REcmF3ZXIiLCJvYm94IiwiX2FyZ3VtbmV0cyIsIkltYWdlT2JqZWN0RHJhd2VyIiwiTGluZU9iamVjdERyYXdlciIsIlVwZGF0ZUNhbnZhcyIsInJlcXVpcmVfdXBkYXRlIiwiUmVjdGFuZ2xlT2JqZWN0RHJhd2VyIiwibm9ybWFsaXplUmFkaXVzIiwiYm94RXh0ZW5zaW9uIiwiaGFsZmJveCIsImRyYXdSZWN0UGF0aCIsImsiLCJzdHJva2VDb2xvciIsInN0cm9rZVdpZHRoIiwiY2FwIiwibGluZUNhcCIsIm1vdmVUbyIsImxpbmVUbyIsImN1cnZlTW9kaWZpZXIiLCJiZXppZXJDdXJ2ZVRvIiwic3Ryb2tTdHlsZSIsImhhc1JhZGl1cyIsImhhc1N0cm9rZSIsIm1vbm9TdHJva2UiLCJkQ29sb3IiLCJkV2lkdGgiLCJkU3R5bGUiLCJ2aWV3U2l6ZSIsIlNwcml0ZU9iamVjdERyYXdlciIsInJlYWRTcHJpdGVTdHJpbmciLCJUZXh0T2JqZWN0RHJhd2VyIiwiVXBkYXRlVGV4dExheWVyIiwiYWxpZ24iLCJ0b3BTcGFuIiwiZ2V0Rm9udEZpbGUiLCJfc3R5bGUiLCJmc3R5bGUiLCJkcmF3VGV4dCIsIkFyZWFPYmplY3RNb2RlbCIsIlN5bmNQYXRoUHJvcGVydHkiLCJjaGVja1NpbXBsZVBhdGgiLCJjb252ZXJ0U2ltcGxlUGF0aCIsImNvbnZlcnRDb21wbGV4UGF0aCIsIkNpcmNsZU9iamVjdE1vZGVsIiwiaXNDb2xvciIsImFycmF5VG9Db2xvciIsIm5vcm1hbGl6ZSIsInZhbGlkTnVtZXJpY1ZhbHVlIiwidmFsaWROdW1lcmljQXJyYXkiLCJEZWZhdWx0T2JqZWN0TW9kZWwiLCJlbmRBcnJheSIsInJhZCIsInJhZDEiLCJyYWQyIiwidmFsaWRCbGVuZGluZyIsIkRlZmF1bHRGcmVlU3Ryb2tlTW9kZWwiLCJHbG9iYWxCYWNrZ3JvdW5kTW9kZWwiLCJTeW5jQmdQcm9wZXJ0eSIsImRlZiIsImlzU3ByaXRlU3RyaW5nIiwiZGVmQmdQb3N2YWwiLCJfcmVzIiwiZGVmQmdTaXplVmFsIiwiR2xvYmFsU2l6ZU1vZGVsIiwiR3JvdXBPYmplY3RNb2RlbCIsIkltYWdlT2JqZWN0TW9kZWwiLCJMaW5lT2JqZWN0TW9kZWwiLCJSZWN0YW5nbGVPYmplY3RNb2RlbCIsImN1dXJlbnQiLCJTcHJpdGVPYmplY3RNb2RlbCIsIlRleHRPYmplY3RNb2RlbCIsInN5c3RlbUZvbnQiLCJUaWNrVmFsIiwibG9jcyIsImxvY2UiLCJlbmR2YWwiLCJzdGFydHZhbCIsImRpZmZlcmVuY2UiLCJDb2xvciIsIk5vcm1hbGl6ZUNvbG9yQXJyYXkiLCJQYXJzZUNvbG91ciIsImV4ZWMiLCJ0ZXh0RHJhd2VyQ29udGV4dCIsImV4dHJhY3QiLCJ4MSIsInkxIiwieDIiLCJ5MiIsImNsb3NlUGF0aCIsImF4MSIsImF5MSIsImF4MiIsImF5MiIsInN0cm9rZUNhcCIsImRyYXdSZWN0RmlsbCIsImRyYXdSZWN0U3Ryb2tlIiwiX3giLCJfeSIsIkVhc2luZyIsImVhc2luZ3MiLCJfIiwibGluZWFyIiwibGluZWFyU29mdCIsInRzIiwidGMiLCJsaW5lYXJTb2Z0T3V0IiwibGluZWFyU29mdEluIiwiZWFzZUluUXVhZCIsImVhc2VPdXRRdWFkIiwiZWFzZUluT3V0UXVhZCIsImVhc2VJbkN1YmljIiwiZWFzZU91dEN1YmljIiwiZWFzZUluT3V0Q3ViaWMiLCJlYXNlSW5RdWFydCIsImVhc2VPdXRRdWFydCIsImVhc2VJbk91dFF1YXJ0IiwiZWFzZUluUXVpbnQiLCJlYXNlT3V0UXVpbnQiLCJlYXNlSW5PdXRRdWludCIsImVhc2VJblNpbmUiLCJjb3MiLCJlYXNlT3V0U2luZSIsInNpbiIsImVhc2VJbk91dFNpbmUiLCJlYXNlSW5FeHBvIiwicG93IiwiZWFzZU91dEV4cG8iLCJlYXNlSW5PdXRFeHBvIiwiZWFzZUluQ2lyYyIsImVhc2VPdXRDaXJjIiwiZWFzZUluT3V0Q2lyYyIsImVhc2VJbkJhY2siLCJlYXNlT3V0QmFjayIsImVhc2VJbk91dEJhY2siLCJlYXNlT3V0Qm91bmNlIiwibXVsdGlwbHkiLCJtMSIsIm0yIiwiYTEiLCJhMiIsImEzIiwiYTQiLCJhNSIsImE2IiwiYXBwbHlNYXRyaXhUb1BvaW50IiwicG9pbnQiLCJHcmFwaGljc1RyYW5zZm9ybU1hdHJpeCIsImludmVyc2lvbiIsImdsb2JhbEludmVyc2lvbiIsImhpc3RvcnkiLCJpbnZlcnQiLCJyb3RhdGUiLCJzaW5BIiwiY29zQSIsInNrZXciLCJ0YW4iLCJzY2FsZSIsImFuZ2xlIiwidGFuQSIsInRhbkIiLCJleHRyYWN0R2xvYmFsSW52ZXJzaW9uIiwiZ2xvYmFsQ3Vyc29yUHJvamVjdGlvbiIsImN1cnNvclByb2plY3Rpb24iLCJleGNsdWRlX3NlbGYiLCJleHRyYWN0SW52ZXJzaW9uIiwib3JpZ2luIiwiX3RyYW5zbGF0ZSIsIl9vcmlnaW4iLCJNb2RlbCIsImNsb25lSGFzaCIsImhhc2giLCJwYXJzZSIsImV2YWwiLCJibGVuZGluZ3MiLCJzcHJpdGVfcmVnZXhwIiwidGVzdCIsImNpcmNsZVVzZXJDaGVja0Z1bmN0aW9uIiwiY29vcmRzIiwiY3giLCJjeSIsInNxdWFyZVVzZXJDaGVja0Z1bmN0aW9uIiwiY2VudGVyIiwiUGF0aCIsImdldENvbnRyb2xQb2ludHMiLCJ4MCIsInkwIiwiZDAxIiwiZDEyIiwiZmEiLCJmYiIsInAxeCIsInAxeSIsInAyeCIsInAyeSIsInNtb290aGluZyIsImNsb3NlZCIsInByZXYiLCJtaWQiLCJuZXh0IiwicHRzIiwiczEiLCJfc2VnbWVudCIsImNvbXBhcmVQYXRocyIsInBhdGgxIiwicGF0aDIiXSwibWFwcGluZ3MiOiJBQUtBLFFBQUFBLFlBY0EsUUFBQUMsTUFBQUMsR0FDQSxHQUFBQyxXQUFBRCxFQUVBLEtBQUEsR0FEQUUsSUFBQSxFQUNBQyxFQUFBLEVBQUFBLEVBQUFDLE9BQUFDLE9BQUFGLElBQ0EsSUFBQUcsUUFBQUYsT0FBQUQsSUFBQSxDQUNBRCxHQUFBLENBQ0EsT0FNQSxNQUhBQSxJQUNBSyxZQUVBUixLQUdBLFFBQUFTLGtCQUFBUixHQUNBLE1BQUEsU0FBQVMsaUJBQ0EsR0FBQUMsR0FBQVYsRUFBQVcsTUFBQWIsUUFBQWMsVUFDQSxPQUFBQyxV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QUdBWSxLQUFBd25DLGFBQUEsU0FBQUMsRUFBQUMsR0FDQSxHQUFBdG9DLElBQUEsQ0FFQSxJQUFBcW9DLEVBQUExb0MsU0FBQTJvQyxFQUFBM29DLE9BQ0EsT0FBQSxDQUdBLEtBQUEsR0FBQUYsR0FBQSxFQUFBQSxFQUFBNG9DLEVBQUExb0MsT0FBQUYsSUFDQSxJQUFBLEdBQUFvRCxHQUFBLEVBQUFBLEVBQUF3bEMsRUFBQTVvQyxHQUFBRSxPQUFBa0QsSUFDQSxHQUFBd2xDLEVBQUE1b0MsR0FBQW9ELEtBQUF5bEMsRUFBQTdvQyxHQUFBb0QsR0FBQSxDQUNBN0MsR0FBQSxDQUNBLE9BS0EsTUFBQUEiLCJmaWxlIjoicmVmbGVjdC1lbmdpbmUtZXM2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5cclxuXHJcbmZ1bmN0aW9uIFJlZmxlY3QoKSB7XHJcbn1cclxuXHJcbnZhciBtb2R1bGVzID0ge30sXHJcbiAgICBwcm9wZXJ0aWVzID0ge30sXHJcbiAgICBjb3JlID0gbmV3IFJlZmxlY3QoKSxcclxuICAgIGV4cGVjdCA9XHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICAnQXBwbGljYXRpb24nLCAnQXVkaW8nLCAnQ2FudmFzJywgJ0NsYXNzZXMnLFxyXG4gICAgICAgICAgICAnQ29uZmlnJywgJ0NvbnRhaW5lcicsICdGb250cycsICdIZWxwZXJzJyxcclxuICAgICAgICAgICAgJ0luamVjdGlvbicsICdSb290JywgJ1NlcnZpY2VzJywgJ1NvdXJjZScsXHJcbiAgICAgICAgICAgICdUaWNrZXInXHJcbiAgICAgICAgXTtcclxuXHJcbmZ1bmN0aW9uIENvcmUoZikge1xyXG4gICAgbmV3IEluamVjdGlvbihmKTtcclxuICAgIHZhciByZWFkeSA9IHRydWU7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cGVjdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmICghbW9kdWxlc1tleHBlY3RbaV1dKSB7XHJcbiAgICAgICAgICAgIHJlYWR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChyZWFkeSkge1xyXG4gICAgICAgIEJ1aWxkQ29yZSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIENvcmU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFJvdXRlRnVuY3Rpb24oZikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJvdXRlRnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IGYuYXBwbHkoUmVmbGVjdCwgYXJndW1lbnRzKTtcclxuICAgICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHJldHVybiBSZWZsZWN0O1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9LmJpbmQoY29yZSk7XHJcbn1cclxuXHJcbkNvcmUuZ2V0ID0gZnVuY3Rpb24gKG1vZHVsZSwgcGF5bG9hZCkge1xyXG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICBpZiAobW9kdWxlc1ttb2R1bGVdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVzW21vZHVsZV0uZ2V0LmFwcGx5KG1vZHVsZXNbbW9kdWxlXSwgcGF5bG9hZCk7XHJcbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignTW9kdWxlIFsnICsgbW9kdWxlICsgJ10gd2FzIG5vdCBmb3VuZCcpO1xyXG4gICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignTW9kdWxlIG5hbWUgaXMgbm90IGEgc3RyaW5nLiBXcm9uZyBhcmd1bWVudHMnKTtcclxufTtcclxuXHJcbkNvcmUuaXMgPSBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lKSB7XHJcbiAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICBpZiAobW9kdWxlc1tuYW1lXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlc1tuYW1lXS5pcyh0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbkNvcmUuaW5qZWN0ID0gZnVuY3Rpb24gKG1vZHVsZSwgcGF5bG9hZCkge1xyXG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICBpZiAobW9kdWxlc1ttb2R1bGVdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVzW21vZHVsZV0uY3JlYXRlKHBheWxvYWQpO1xyXG4gICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ05vZHVsZSBbJyArIG1vZHVsZSArICddIHdhcyBub3QgZm91bmQuJyk7XHJcbiAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdNb2R1bGUgbmFtZSBpcyBub3QgYSBzdHJpbmcuIFdyb25nIEFyZ3VtZW50cycpO1xyXG59O1xyXG5cclxuQ29yZS5leHRlbmQgPSBmdW5jdGlvbiAobW9kdWxlLCB0YXJnZXQsIHBheWxvYWQpIHtcclxuICAgIGlmICh0eXBlb2YgbW9kdWxlc1ttb2R1bGVdID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZXNbbW9kdWxlXS5leHRlbmQodGFyZ2V0LCBwYXlsb2FkKTtcclxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZXh0ZW5kIHRhcmdldCBvZiB0eW9lIFsnICsgKHR5cGVvZiB0YXJnZXQpICsgJ10gYnUgbW9kdWxlIGNvbnN0cnVjdG9yIFsnICsgbW9kdWxlICsgJ10uJyk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5Db3JlLmRlZmluZSA9IGZ1bmN0aW9uIChwcm9wZXJ0eSwgdmFsdWUpIHtcclxuICAgIGlmICghY29yZSkgY29yZSA9IG5ldyBSZWZsZWN0KCk7XHJcbiAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgaWYgKHByb3BlcnRpZXNbcHJvcGVydHldICE9PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGRlZmluZSBwcm9wZXJ0eSBbJyArIHByb3BlcnR5ICsgJ10uIEFscmVhZHkgZGVmaW5lZCEnKTtcclxuICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSBcImZ1bmN0aW9uXCIpIHByb3BlcnRpZXNbcHJvcGVydHldID0gZ2V0Um91dGVGdW5jdGlvbih2YWx1ZSk7XHJcbiAgICAgICAgZWxzZSBpZiAocHJvcGVydHkgIT09IG51bGwgfHwgdHlwZW9mIHByb3BlcnR5ICE9PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBwcm9wZXJ0eSAhPT0gXCJvYmplY3RcIikgcHJvcGVydGllc1twcm9wZXJ0eV0gPSB2YWx1ZVxyXG4gICAgICAgIHJldHVybiBjb3JlO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gQnVpbGRDb3JlKCkge1xyXG4gICAgQ29yZS5nZXQoJ1Jvb3QnKTtcclxuICAgIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHtcclxuICAgICAgICBpZiAocHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgY29yZVtwcm9wZXJ0eV0gPSBwcm9wZXJ0aWVzW3Byb3BlcnR5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEluamVjdGlvbihmKSB7XHJcbiAgICBpZiAodHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIiB8fCAhZi5uYW1lKSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGVpbmplY3Rpb24uIENvbnN0cnVjdG9yIGlzIG5vdCBhIG5hbWVkIGZ1bmN0aW9uIScpO1xyXG4gICAgbW9kdWxlc1tmLm5hbWVdID0gdGhpcztcclxuICAgIHZhciBjYWNoZSA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbiAocGF5bG9hZCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW251bGxdO1xyXG4gICAgICAgIGlmIChwYXlsb2FkICYmIHR5cGVvZiBwYXlsb2FkID09PSBcIm9iamVjdFwiICYmIHBheWxvYWQuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF5bG9hZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKHBheWxvYWRbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KGYsIGFyZ3MpKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGNhY2hlKSByZXR1cm4gY2FjaGU7XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNyZWF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHNbMF0pO1xyXG4gICAgICAgICAgICBjYWNoZSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaXMgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldC5jb25zdHJ1Y3RvciA9PT0gZjtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5leHRlbmQgPSBmdW5jdGlvbiAodGFyZ2V0LCBwYXlsb2FkKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwYXlsb2FkID09PSBcIm9iamVjdFwiICYmIHBheWxvYWQuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgIGYuYXBwbHkodGFyZ2V0LCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmLmNhbGwodGFyZ2V0KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciAkUiA9IGNvcmU7XHJcblxyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMTQvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gQXBwbGljYXRpb24oQ2FudmFzLCBUaWNrZXIsIENvbmZpZykge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICBDb25maWcuZGVmaW5lKCdmcHMnLCA1OC44LCB7aXNOdW1iZXI6IHRydWUsIGdyZWF0ZXI6IDAsIHVuZGVyOiA2MX0pLndhdGNoKGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgVGlja2VyLmZwcyh2KTtcclxuICAgIH0pO1xyXG5cclxuICAgIENvbmZpZy5kZWZpbmUoJ2NhbnZhcycsIG51bGwsIHtpc1N0cmluZzogdHJ1ZX0pLndhdGNoKGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgQ2FudmFzLmVsZW1lbnQodik7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLiQgPSBmdW5jdGlvbiAobiwgZikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgbiA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAobi5jaGFyQXQoMCkgPT09ICckJykgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IEFQSSBmdW5jdGlvbi4gRnVuY3Rpb24gbmFtZSBzdGFydHMgd2l0aCAkJyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzW25dKSB0aHJvdyBuZXcgRXJyb3IoJ0FwcGxpY2F0aW9uIEFQSSBwcm9wZXJ0eSBbJyArIG4gKyAnXSBkdXBsaWNhdGlvbiEnKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcignQXBwbGljYXRpb24gQVBJIHByb3BlcnR5IFsnICsgbiArICddIHZhbHVlIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgICAgIHRoaXNbbl0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gc2VsZjogcmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBBUEkgbWV0aG9kLiBOYW1lIGlzIG5vdCBhIHN0cmluZy4nKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5jb25maWcgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgQ29uZmlnLnNldChhLCBiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBDb25maWcud2F0Y2goYSwgYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29uZmlnLmdldChhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgYSA9PT0gXCJvYmplY3RcIiAmJiBhLmNvbnN0cnVjdG9yICE9PSBBcnJheSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBDb25maWcuc2V0KHByb3BlcnR5LCBhW3Byb3BlcnR5XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNvbmZpZyBhcHBsaWNhdGlvbi4gQ29uZmlnIGZvcm1hdCBpcyBpbnZhbGlkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIEF1ZGlvICgpIHtcclxuICAgIHZhciBjb250ZXh0ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xyXG4gICAgdGhpcy5jb250ZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjb250ZXh0O1xyXG4gICAgfVxyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMTQvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gQ2FudmFzKFRpY2tlcikge1xyXG5cclxuICAgIHZhciBlbGVtZW50ID0gbnVsbCxcclxuICAgICAgICBjb250ZXh0ID0gbnVsbCxcclxuICAgICAgICBzaXplID0gWzgwMCwgNjAwXSxcclxuICAgICAgICByZXNpemVDYiA9IFtdLFxyXG4gICAgICAgIHN3aXRjaENiID0gW10sXHJcbiAgICAgICAgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgcXVldWUgPSBbXSxcclxuICAgICAgICByZWFkeSA9IGZhbHNlLFxyXG4gICAgICAgIGFyZ3MgPSBbbnVsbCwgbnVsbCwgbnVsbF07XHJcblxyXG4gICAgVGlja2VyLnF1ZXVlKDAsIERyYXdTY2VuZSk7XHJcblxyXG4gICAgZnVuY3Rpb24gRHJhd1NjZW5lKGRhdGUsIGZyYW1lKSB7XHJcbiAgICAgICAgaWYgKHJlYWR5KSB7XHJcbiAgICAgICAgICAgIGFyZ3NbMF0gPSBjb250ZXh0O1xyXG4gICAgICAgICAgICBhcmdzWzFdID0gZGF0ZTtcclxuICAgICAgICAgICAgYXJnc1syXSA9IGZyYW1lO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlW2ldLmYuYXBwbHkoc2VsZiwgYXJncyk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGVtZXJnZWQgd2hpbGUgZHJhd2luZy4gXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdRdWV1ZSAgICAgICAgICA6IFsnICsgcXVldWVbaV0ubyArICddXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdRdWV1ZSBPcmRlcmluZyA6IFsnICsgaSArICddXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdRdWV1ZSBNZW1iZXIgICA6IFsnICsgcXVldWVbaV0uZi5uYW1lICsgJ11cXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ01lc3NhZ2UgICAgICAgIDogJyArIGUubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzb2x2ZShhcnJheSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYXJyYXlbaV0uY2FsbChzZWxmKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5lbGVtZW50ID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICB2YXIgZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuICAgICAgICAgICAgaWYgKGUgJiYgZS5nZXRDb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3R4ID0gZS5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGN0eCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGUuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHNpemVbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGUuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBzaXplWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0gY3R4O1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlYWR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHN3aXRjaENiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ0VsZW1lbnQgd2l0aCBpZCBbIycgKyBpZCArICddIGlzIG5vdCBhIGNhbnZhcy4gQ2FuIG5vdCBnZXQgMmQgY29udGV4dC4nKVxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignRWxlbWVudCB3aXRoIGlkIFsjJyArIGlkICsgJ10gd2FzIG5vdCBmb3VuZCBvciBub3QgYSBjYW52YXMnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlkIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGlkLmdldENvbnRleHQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgY3R4ID0gaWQuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgICAgIGlmIChjdHgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgc2l6ZVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBzaXplWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IGN0eDtcclxuICAgICAgICAgICAgICAgICAgICByZWFkeSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzd2l0Y2hDYik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdFbGVtZW50IGlzIG5vdCBhIENhbnZhcy4gQ2FuIG5vdCBnZXQgMmQgY29udGV4dC4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignRWxlbWVudCBpcyBub3QgYSBDYW52YXMnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucXVldWUgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIGlmICghYS5uYW1lKSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBlbnF1ZXVlIGNhbGxiYWNrLiBQcm92aWRlIGEgbmFtZWQgZnVuY3Rpb24nKTtcclxuICAgICAgICAgICAgcXVldWUucHVzaCh7bzogMCwgZjogYn0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGEgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBiID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmICghYi5uYW1lKSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBlbnF1ZXVlIGNhbGxiYWNrLiBQcm92aWRlIGEgbmFtZWQgZnVuY3Rpb24uJyk7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHtvOiBhLCBmOiBifSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBlbnF1ZXVlIGNhbGxiYWNrLiBQcm92aWRlIGEgbmFtZWQgZnVuY3Rpb24nKTtcclxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZW5xdWV1ZSBjYWxsYmFjay4gV3JvbmcgYXJndW1lbnRzLicpO1xyXG5cclxuICAgICAgICBxdWV1ZS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLm8gLSBiLm87XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygd2lkdGggPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIGhlaWdodCA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBpZiAod2lkdGggPCAwKSB3aWR0aCA9IDA7XHJcbiAgICAgICAgICAgIGlmIChoZWlnaHQgPCAwKSBoZWlnaHQgPSAwO1xyXG4gICAgICAgICAgICBpZiAoc2l6ZVswXSAhPT0gd2lkdGggfHwgc2l6ZVsxXSAhPT0gd2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIHNpemVbMF0gPSB3aWR0aDtcclxuICAgICAgICAgICAgICAgIHNpemVbMV0gPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3aWR0aCk7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzaXplQ2IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbc2l6ZVswXSwgc2l6ZVsxXV07XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucmVzaXplID0gZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGYgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICByZXNpemVDYi5wdXNoKGYpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IHJlc2l6ZSBjYWxsYmFjay4gZiBhcmd1bWVudCBpcyBub3QgYSBmdW5jdGlvbicpO1xyXG4gICAgfTtcclxuICAgIHRoaXMub2ZmcmVzaXplID0gZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGYgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICByZXNpemVDYiA9IHJlc2l6ZUNiLmZpbHRlcihmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGUgIT09IGY7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXNpemVDYi5wdXNoKGYpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IHJlc2l6ZSBjYWxsYmFjay4gZiBhcmd1bWVudCBpcyBub3QgYSBmdW5jdGlvbicpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnN3aXRjaCA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgc3dpdGNoQ2IucHVzaChmKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBzd2l0Y2ggY2FsbGJhY2suIGYgYXJndW1lbnQgaXMgbm90IGEgZnVuY3Rpb24nKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZWFkeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gcmVhZHk7XHJcbiAgICB9O1xyXG5cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDI1LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIENsYXNzZXMoKSB7XHJcbiAgICB2YXIgc3lzdGVtQ2xhc3NlcyA9IHt9LFxyXG4gICAgICAgIGFwcGxpY2F0aW9uQ2xhc3NlcyA9IHt9LFxyXG4gICAgICAgIGdsb2JhbENsYXNzZXMgPSB7fTtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gY2xzKGNmZykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBpbmplY3Rpb24gPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2NmZ10pO1xyXG4gICAgICAgICAgICBpZiAoZ2xvYmFsQ2xhc3Nlc1tpbmplY3Rpb24ubmFtZSgpXSkgY29uc29sZS53YXJuKCdHbG9iYWwgQ2xhc3MgTGlicmFyeSBjbGFzcyBbJyArIGluamVjdGlvbi5uYW1lKCkgKyAnXSBoYXMgYmVlbiBvdmVyd3JpdHRlbi4nKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgYXBwIGluIGFwcGxpY2F0aW9uQ2xhc3Nlcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFwcGxpY2F0aW9uQ2xhc3Nlcy5oYXNPd25Qcm9wZXJ0eShhcHApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFwcGxpY2F0aW9uQ2xhc3Nlc1thcHBdW2luamVjdGlvbi5uYW1lKCldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignQXBwbGljYXRpb24gWycgKyBhcHAgKyAnXSBDbGFzcyBbJyArIGluamVjdGlvbi5uYW1lKCkgKyAnXSBvdmVycmlkZXMgZ2xvYmFsIGNsYXNzLicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBnbG9iYWxDbGFzc2VzW2luamVjdGlvbi5uYW1lKCldID0gaW5qZWN0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgY2xhc3MgaW5qZWN0aW9uLicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjbHMuYXBwID0gZnVuY3Rpb24gKGFwcCwgY2ZnKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcHAgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgaWYgKCFhcHBsaWNhdGlvbkNsYXNzZXNbYXBwXSkgYXBwbGljYXRpb25DbGFzc2VzW2FwcF0gPSB7fTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmplY3Rpb24gPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2NmZ10pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGdsb2JhbENsYXNzZXNbaW5qZWN0aW9uLm5hbWUoKV0pIGNvbnNvbGUud2FybignQXBwbGljYXRpb24gWycgKyBhcHAgKyAnXSBDbGFzcyBbJyArIGluamVjdGlvbi5uYW1lKCkgKyAnXSBvdmVycmlkZXMgZ2xvYmFsIGNsYXNzLicpO1xyXG4gICAgICAgICAgICAgICAgYXBwbGljYXRpb25DbGFzc2VzW2FwcF1baW5qZWN0aW9uLm5hbWUoKV0gPSBpbmplY3Rpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBhbmQgcmVnaXN0ZXIgQXBwbGljYXRpb25DbGFzcyBmb3Igc291cmNlcyBbJyArIGFwcCArICddLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byByZWdpc3RlciBBcHBsaWNhdGlvbkNsYXNzIGluamVjdGlvbi4gQXBwIGlkIGlzIG5vdCBhIHN0cmluZy4nKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNscy5zeXMgPSBmdW5jdGlvbiAoY2ZnKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGluamVjdGlvbiA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbY2ZnXSk7XHJcbiAgICAgICAgICAgIGlmIChzeXN0ZW1DbGFzc2VzW2luamVjdGlvbi5uYW1lKCldKSBjb25zb2xlLndhcm4oJ1N5c3RlbSBDbGFzcyBbJyArIGluamVjdGlvbi5uYW1lKCkgKyAnXSBvdmVycmlkZS4nKTtcclxuICAgICAgICAgICAgc3lzdGVtQ2xhc3Nlc1tpbmplY3Rpb24ubmFtZSgpXSA9IGluamVjdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcmVnaXN0ZXIgU3lzdGVtQ2xhc3MgaW5qZWN0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgdGhpcy5nZXRBcHBsaWNhdGlvbkNsYXNzZXMgPSBmdW5jdGlvbiAoYXBwKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcHAgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IENvcmUuaW5qZWN0KCdDb250YWluZXInLCBbZ2xvYmFsQ2xhc3Nlc10pO1xyXG4gICAgICAgICAgICBpZiAoYXBwbGljYXRpb25DbGFzc2VzW2FwcF0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zb3VyY2UoY29udGFpbmVyLCAnLicpO1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLm1lcmdlKGFwcGxpY2F0aW9uQ2xhc3Nlcyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnNvdXJjZShjb250YWluZXIsICcuJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBnZXQgYXBwbGljYXRpb24gY2xhc3NlcyBjb250YWluZXIuIEFwcCBpZCBpcyBub3QgYSBzdHJpbmcuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldFN5c3RlbUNsYXNzZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IENvcmUuaW5qZWN0KCdDb250YWluZXInLCBbc3lzdGVtQ2xhc3Nlc10pO1xyXG4gICAgICAgIGNvbnRhaW5lci5zb3VyY2UoY29udGFpbmVyLCAnLicpO1xyXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIENvcmUuZGVmaW5lKCdjbGFzcycsIGNscyk7XHJcblxyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMTQvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gQ29uZmlnKCkge1xyXG5cclxuICAgIHZhciBwcm9wZXJ0aWVzID0ge30sXHJcbiAgICAgICAgZnVuY3MgPSB7XHJcbiAgICAgICAgICAgIGlzTnVtYmVyOiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB2ID09PSBcIm51bWJlclwiO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpc1N0cmluZzogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaXNBcnJheTogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJiB2LmNvbnN0cnVjdG9yID09PSBBcnJheTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY3VzdG9tOiBmdW5jdGlvbiAodiwgYXJncykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJnc1swXSh2KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdW5kZXI6IGZ1bmN0aW9uICh2LCBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3MuaXNOdW1iZXIodikgJiYgdiA8IGFyZ3NbMF07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdyZWF0ZXI6IGZ1bmN0aW9uICh2LCBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3MuaXNOdW1iZXIodikgJiYgdiA+IGFyZ3NbMF07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVxOiBmdW5jdGlvbiAodiwgYXJncykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmNzLmlzTnVtYmVyKHYpICYmIHYgPT09IGFyZ3NbMF07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGlzQm9vbDogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgIHYgPT09IFwiYm9vbGVhblwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIFByb3BlcnR5KG5hbWUsIHZhbHVlLCBjZmcpIHtcclxuXHJcbiAgICAgICAgdmFyIGNoZWNrQXJyYXkgPSBbXSxcclxuICAgICAgICAgICAgY2IgPSBbXTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY2hlY2tWYWx1ZSh2KSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoZWNrQXJyYXk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFmdW5jc1tjaGVja0FycmF5W2ldLmZdKHYsIGNoZWNrQXJyYXkuYXJncykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBhcmcgPSB2YWx1ZTtcclxuICAgICAgICAgICAgaWYgKGZ1bmNzLmlzQXJyYXkoYXJnKSkge1xyXG4gICAgICAgICAgICAgICAgYXJnID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJnLnB1c2godmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhcmc7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5uYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmFtZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnNldCA9IGZ1bmN0aW9uIChuKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGVja1ZhbHVlKG4pKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZnVuY3MuaXNBcnJheShuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnB1c2gobltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2IubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNiW2ldLmNhbGwodGhpcywgdGhpcy5nZXQoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy53YXRjaCA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBjYi5wdXNoKGYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gbm90IHNldCBjb25maWcgcHJvcGVydHkgd2F0Y2hlci4gQXJndW1lbnQgZiBpcyBub3QgYSBmdW5jdGlvbi4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBjZmcpIHtcclxuICAgICAgICAgICAgaWYgKGNmZy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNmZ1twcm9wXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bmNzW3Byb3BdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrQXJyYXkucHVzaCh7ZjogcHJvcCwgYXJnczogW2NmZ1twcm9wXV19KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ05vIHN1Y2ggY29uZmlnIHZhbHVlIGNoZWNrZXIgYXMgWycgKyBwcm9wICsgJ10nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdXcm9uZyBwYXJhbWV0ZXIgZm9yIGNvbmZpZyBwcm9wZXJ0eSBbJyArIHByb3AgKyAnXScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsICYmICFmdW5jcy5pc0FycmF5KHZhbHVlKSkgdGhyb3cgbmV3IEVycm9yKCdPYmplY3RzIGFyZSBub3Qgc3VwcG9ydGVkIGFzIGNvbmZpZyBwcm9wZXJ0eSB2YWx1ZSEnKTtcclxuICAgICAgICBpZiAoIWNoZWNrVmFsdWUodmFsdWUpKSB0aHJvdyBuZXcgRXJyb3IoJ0luaXRpYWwgWycgKyBuYW1lICsgJ11cXCdzIHZhbHVlIGRvZXMgbm90IG1lZXQgY29uZmlnIHJlcXVpcmVtZW50cy4nKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRlZmluZSA9IGZ1bmN0aW9uIChwcm9wZXJ0eSwgdmFsdWUsIGNmZykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHkgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcHJvcGVydGllc1twcm9wZXJ0eV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzW3Byb3BlcnR5XSA9IG5ldyBQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUsIGNmZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgY29uZmlnIHByb3BlcnR5IFsnICsgcHJvcGVydHkgKyAnXScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdDb25maWcgcHJvcGVydHkgZHVwbGljYXRpb24gb24gcHJvcGVydHkgbmFtZSBbJyArIHByb3BlcnR5ICsgJ10nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignQ29uZmlnIHByb3BlcnR5IHZhbHVlIGNhbiBub3QgYmUgdW5kZWZpbmVkLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGRlZmluZSBjb25maWcgcHJvcGVydHkuIFByb3BlcnR5IG5hbWUgaXMgbm90IGEgc3RyaW5nLicpO1xyXG5cclxuICAgICAgICByZXR1cm4gcHJvcGVydGllc1twcm9wZXJ0eV07XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2V0ID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiICYmIHByb3BlcnRpZXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHByb3BlcnRpZXNbbmFtZV0uc2V0KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgcHJvcGVydHkgWycgKyBuYW1lICsgJ10uIE5vIHN1Y2ggcHJvcGVydHkuJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHByb3BlcnRpZXNbbmFtZV0uZ2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZ2V0IHByb3BlcnR5IFsnICsgbmFtZSArICddLiBObyBzdWNoIHByb3BlcnR5LicpXHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLndhdGNoID0gZnVuY3Rpb24gKG5hbWUsIGYpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBmID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3BlcnRpZXNbbmFtZV0ud2F0Y2goZik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignTm8gc3VjaCBwcm9wZXJ0eSBhcyBbJyArIG5hbWUgKyAnXSB0byB3YXRjaC4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignV2F0Y2hlciBjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHdhdGNoIGNvbmZpZyBwcm9wZXJ0eS4gUHJvcGVydHkgbmFtZSBpcyBpbnZhbGlkIG9yIHVuZGVmaW5lZCcpXHJcbiAgICB9XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNC8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBDb250YWluZXIobGliLCBkaXJlY3QpIHtcclxuICAgIHZhciBsaWJyYXJ5ID0ge30sXHJcbiAgICAgICAgc291cmNlcyA9IHt9LFxyXG4gICAgICAgIGNhY2hlID0ge307XHJcblxyXG4gICAgdGhpcy5saXN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBsaWJyYXJ5O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmluamVjdGlvbiA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICB2YXIgY29uc3RydWN0b3IgPSBudWxsLFxyXG4gICAgICAgICAgICBkZXBlbmRlbmNpZXMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBpZiAoY29uZmlnLm5hbWUgJiYgY29uZmlnLm5hbWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvciA9IGNvbmZpZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQW5vbnltb3VzIGZ1bmN0aW9uIGNhbiBub3QgYmUgaW5qZWN0aW9uIGNvbnN0cnVjdG9yLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjb25maWcgPT09IFwib2JqZWN0XCIgJiYgY29uZmlnLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbmZpZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWdbaV0gPT09IFwic3RyaW5nXCIgJiYgY29uZmlnW2ldLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llcy5wdXNoKGNvbmZpZ1tpXSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjb25maWdbaV0gPT09IFwiZnVuY3Rpb25cIiAmJiBjb25maWdbaV0ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gY29uZmlnW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHR5cGUgb2YgaW5qZWN0aW9uIG5hbWUgb3IgY29uc3RydWN0b3IuJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biB0eXBlIG9mIGluamVjdGlvbiBjb25maWcuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkZXBlbmRlbmNpZXMucHVzaChjb25zdHJ1Y3Rvcik7XHJcblxyXG4gICAgICAgIGlmIChsaWJyYXJ5W2NvbnN0cnVjdG9yLm5hbWVdKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignSW5qZWN0aW9uIFsnICsgY29uc3RydWN0b3IubmFtZSArICddIGR1cGxpY2F0ZWQgYW5kIGhhcyBiZWVuIG92ZXJ3cml0dGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxpYnJhcnlbY29uc3RydWN0b3IubmFtZV0gPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2RlcGVuZGVuY2llc10pO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLm1lcmdlID0gZnVuY3Rpb24gKGNmZywgY2xvbmUpIHtcclxuICAgICAgICBpZiAoY2ZnKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBjZmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2ZnLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29yZS5pcyhjZmdbcHJvcGVydHldLCAnSW5qZWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaWJyYXJ5W2NmZ1twcm9wZXJ0eV0ubmFtZSgpXSkgY29uc29sZS53YXJuKCdJbmplY3Rpb24gWycgKyBwcm9wZXJ0eSArICddIGhhcyBiZWVuIG1lcmdlZC5zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWJyYXJ5W2xpYltwcm9wZXJ0eV0ubmFtZSgpXSA9IGxpYltwcm9wZXJ0eV0uY2xvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYnJhcnlbbGliW3Byb3BlcnR5XS5uYW1lKCldID0gbGliW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gbWVyZ2UgbGlicy4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zb3VyY2UgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBwcmVmaXhrZXkpIHtcclxuICAgICAgICBpZiAoY29udGFpbmVyICYmIHR5cGVvZiBjb250YWluZXIgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgaWYgKENvcmUuaXMoY29udGFpbmVyLCAnQ29udGFpbmVyJykpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcHJlZml4a2V5KSBwcmVmaXhrZXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIHByZWZpeGtleSA9PT0gXCJzdHJpbmdcIiAmJiBwcmVmaXhrZXkubGVuZ3RoKSB8fCBwcmVmaXhrZXkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLiQkTE9PUCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvb3AgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kTE9PUCkgbG9vcCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGNvbnRhaW5lci4kJExPT09QO1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZXNbcHJlZml4a2V5ID8gcHJlZml4a2V5IDogJyQkbm9wcmVmaXgnXSA9IENvcmUuaW5qZWN0KCdTb3VyY2UnLCBbcHJlZml4a2V5LCBjb250YWluZXIsIGxvb3BdKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY29udGFpbmVyLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbGlkID0gdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBsb29wID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250YWluZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRhaW5lcltpXSA9PT0gXCJvYmplY3RcIiAmJiBDb3JlLmlzKGNvbnRhaW5lcltpXSwgJ0NvbnRhaW5lcicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcltpXS4kJExPT09QID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuJCRMT09PUCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9vcC5wdXNoKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9vcC5wdXNoKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgIGNvbnRhaW5lcltpXS4kJExPT09QO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXByZWZpeGtleSkgcHJlZml4a2V5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIHByZWZpeGtleSA9PT0gXCJzdHJpbmdcIiAmJiBwcmVmaXhrZXkubGVuZ3RoKSB8fCBwcmVmaXhrZXkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXNbcHJlZml4a2V5ID8gcHJlZml4a2V5IDogJyQkbm9wcmVmaXgnXSA9IENvcmUuaW5qZWN0KCdTb3VyY2UnLCBbcHJlZml4a2V5LCBjb250YWluZXIsIGxvb3BdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvdXJjZSBjb250YWluZXIgY29uZmlnIGlzIG5vdCB2YWxpZC4gT25lIG9mIHRoZSBjb250YWluZXJzIHByb3ZpZGVkIGlzIG5vdCBhbiBJbmplY3Rpb25Db250YWluZXIgaW5zdGFuY2UnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbmV3TGlicmFyeSA9IHt9O1xyXG4gICAgICAgIGZvciAodmFyIGluamVjdGlvbiBpbiBsaWJyYXJ5KSB7XHJcbiAgICAgICAgICAgIGlmIChsaWJyYXJ5Lmhhc093blByb3BlcnR5KGluamVjdGlvbikpIHtcclxuICAgICAgICAgICAgICAgIG5ld0xpYnJhcnlbaW5qZWN0aW9uXSA9IGxpYnJhcnlbaW5qZWN0aW9uXS5jbG9uZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBuZXdDb250YWluZXIgPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW25ld0xpYnJhcnldKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgc291cmNlIGluIHNvdXJjZXMpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRhaW5lcnMgPSBzb3VyY2VzW3NvdXJjZV0uY29udGFpbmVycygpLFxyXG4gICAgICAgICAgICAgICAgc291cmNlbG9vcCA9IHNvdXJjZXNbc291cmNlXS5sb29wKCksXHJcbiAgICAgICAgICAgICAgICBzb3VyY2VwcmVmaXggPSBzb3VyY2VzW3NvdXJjZV0ucHJlZml4KCksXHJcbiAgICAgICAgICAgICAgICBuZXdjb250YWluZXJzID0gW107XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRhaW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChzb3VyY2Vsb29wW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Y29udGFpbmVycy5wdXNoKG5ld0NvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdjb250YWluZXJzLnB1c2goY29udGFpbmVyc1tpXS5jbG9uZSgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmV3Q29udGFpbmVyLnNvdXJjZShuZXdjb250YWluZXJzLCBzb3VyY2VwcmVmaXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3Q29udGFpbmVyO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmZpbmRTb3VyY2VCeVByZWZpeCA9IGZ1bmN0aW9uIChwcmVmaXgpIHtcclxuICAgICAgICBpZiAocHJlZml4ID09PSBmYWxzZSkgcmV0dXJuIHNvdXJjZXMuJCRub3ByZWZpeDtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBwcmVmaXggPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZXNbcHJlZml4XTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmZpbmRTb3VyY2VCeUluamVjdGlvbk5hbWUgPSBmdW5jdGlvbiAoaW5qZWN0aW9uTmFtZSkge1xyXG4gICAgICAgIHZhciBzb3VyY2UgPSBudWxsO1xyXG4gICAgICAgIGlmKGNhY2hlW2luamVjdGlvbk5hbWVdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYWNoZVtpbmplY3Rpb25OYW1lXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHByZWZpeCBpbiBzb3VyY2VzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlcy5oYXNPd25Qcm9wZXJ0eShwcmVmaXgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZXNbcHJlZml4XS5wcmVmaXgoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlc1twcmVmaXhdLmhhcyhpbmplY3Rpb25OYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlID0gc291cmNlc1twcmVmaXhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVbaW5qZWN0aW9uTmFtZV0gPSBzb3VyY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXNvdXJjZSAmJiBzb3VyY2VzLiQkbm9wcmVmaXggJiYgc291cmNlcy4kJG5vcHJlZml4LmhhcyhpbmplY3Rpb25OYW1lKSkge1xyXG4gICAgICAgICAgICBzb3VyY2UgPSBzb3VyY2VzLiQkbm9wcmVmaXg7XHJcbiAgICAgICAgICAgIGNhY2hlW2luamVjdGlvbk5hbWVdID0gc291cmNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZighc291cmNlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGZpbmQgc291cmNlIGNvbnRhaW5pbmcgaW5qZWN0aW9uIFsnICsgaW5qZWN0aW9uTmFtZSsnXS4gJylcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZXNvbHZlID0gZnVuY3Rpb24gKG5hbWUsIGRpcmVjdCkge1xyXG4gICAgICAgIGlmIChkaXJlY3QgPT09ICdleHRlbmQnKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAobGlicmFyeVtuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jaWVzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGNvbnN0cnVjdG9yOiBsaWJyYXJ5W25hbWVdLiRjb25zdHJ1Y3RvcigpXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXMgPSBsaWJyYXJ5W25hbWVdLmRlcGVuZGVuY2llcygpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgZGVwZW5kZW5jaWVzLmxlbmd0aDsgZCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcGVuZGVuY2llc1tkXSA9PT0gJ0BleHRlbmQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5kZXBlbmRlbmNpZXMucHVzaChsaWJyYXJ5W25hbWVdLmV4dGVuZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRlcGVuZGVuY2llc1tkXSA9PT0gJ0BpbmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5kZXBlbmRlbmNpZXMucHVzaChsaWJyYXJ5W25hbWVdLmluamVjdCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3JjID0gdGhpcy5maW5kU291cmNlQnlJbmplY3Rpb25OYW1lKGRlcGVuZGVuY2llc1tkXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcmMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5kZXBlbmRlbmNpZXMucHVzaChzcmMucmVzb2x2ZShkZXBlbmRlbmNpZXNbZF0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc291cmNlIGZvdW5kIGNvbnRhaW5pbmcgWycgKyBkZXBlbmRlbmNpZXNbZF0gKyAnXSBmb3IgWycrbmFtZSsnXS4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gaW5qZWN0IFsnICsgbmFtZSArICddIG5vIHN1Y2ggaW5qZWN0aW9uIGZvdW5kJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhhcyhuYW1lKSkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBkZXBlbmRlbmNpZXMgPSBsaWJyYXJ5W25hbWVdLmRlcGVuZGVuY2llcygpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVwZW5kZW5jaWVzW2ldID09PSAnQGV4dGVuZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGxpYnJhcnlbbmFtZV0uZXh0ZW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGVwZW5kZW5jaWVzW2ldID09PSAnQGluamVjdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGxpYnJhcnlbbmFtZV0uaW5qZWN0KHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmZpbmRTb3VyY2VCeUluamVjdGlvbk5hbWUoZGVwZW5kZW5jaWVzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKHNvdXJjZS5yZXNvbHZlKGRlcGVuZGVuY2llc1tpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmplY3Rpb24gWycgKyBkZXBlbmRlbmNpZXNbaV0gKyAnXSBmb3IgWycgKyBuYW1lICsgJ10gc291cmNlIHdhcyBub3QgZm91bmQuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpYnJhcnlbbmFtZV0uY3JlYXRlKGFyZ3MsIGRpcmVjdCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmplY3Rpb24gWycgKyBuYW1lICsgJ10gd2FzIG5vdCBmb3VuZCBpbiBsaWJyYXJ5IScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnJlc29sdmVEaXJlY3RJbmplY3Rpb24gPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmZpbmRTb3VyY2VCeUluamVjdGlvbk5hbWUobmFtZSk7XHJcbiAgICAgICAgaWYgKHNvdXJjZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc291cmNlLnJlc29sdmUobmFtZSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5oYXMgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIHJldHVybiAhIWxpYnJhcnlbbmFtZV07XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICBpZiAobGlicmFyeVtuYW1lXSkgcmV0dXJuIGxpYnJhcnlbbmFtZV07XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBpZiAoQ29yZS5pcyhsaWIsICdJbmplY3Rpb24nKSkge1xyXG4gICAgICAgIGxpYnJhcnlbbGliLm5hbWUoKV0gPSBsaWIuY2xvbmUoKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiBsaWIgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBsaWIpIHtcclxuICAgICAgICAgICAgaWYgKGxpYi5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChDb3JlLmlzKGxpYltwcm9wZXJ0eV0sICdJbmplY3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlicmFyeVtsaWJbcHJvcGVydHldLm5hbWUoKV0gPSBsaWJbcHJvcGVydHldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlicmFyeVtsaWJbcHJvcGVydHldLm5hbWUoKV0gPSBsaWJbcHJvcGVydHldLmNsb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGxpYiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIGNvbnRhaW5lci4gV3JvbmcgYXJndW1lbnRzLiBMaWIgaXMgSW5qZWN0aW9uIG9yIG9iamVjdCcpXHJcbiAgICB9XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNC8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBGb250cyhDb25maWcsIGFwcCkge1xyXG5cclxuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuXHJcbiAgICB2YXIgZmFtaWxpZXMgPSB7fSxcclxuICAgICAgICBmb250c0RlZmluZWQgPSBmYWxzZSxcclxuICAgICAgICBmb3JtYXQgPSBDb25maWcuZGVmaW5lKCdmb250Rm9ybWF0cycsIFsnZW90JywgJ3N2ZycsICd0dGYnLCAnd29mZiddLCB7XHJcbiAgICAgICAgICAgIGlzQXJyYXk6IHRydWUsIGN1c3RvbTogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2Lmxlbmd0aCgpOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodltpXSAhPT0gJ2VvdCcgfHwgdltpXSAhPT0gJ3N2ZycgfHwgdltpXSAhPT0gJ3R0ZicgfHwgdltpXSAhPT0gJ3dvZmYnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkud2F0Y2goZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgZm9udHNEZWZpbmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9ybWF0ID0gdjtcclxuICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgZm9ybWF0U3RyID0ge1xyXG4gICAgICAgICAgICBlb3Q6IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAndXJsKFwiJyArIHVybCArICcuZW90PyNpZWZpeFwiKSBmb3JtYXQoXCJlbWJlZGRlZC1vcGVudHlwZVwiKSc7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHdvZmY6IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAndXJsKFwiJyArIHVybCArICcud29mZlwiKSBmb3JtYXQoXCJ3b2ZmXCIpJztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdHRmOiBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3VybChcIicgKyB1cmwgKyAnLnR0ZlwiKSBmb3JtYXQoXCJ0cnVldHlwZVwiKSc7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN2ZzogZnVuY3Rpb24gKHVybCwgZm9udCwgc3R5bGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAndXJsKFwiJyArIHVybCArICcuc3ZnIycgKyBmb250ICsgJy0nICsgKHN0eWxlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3R5bGUuc2xpY2UoMSkpICsgJ1wiKSBmb3JtYXQoXCJzdmdcIiknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZWxmID0gdGhpcztcclxuXHJcbiAgICBDb25maWcuZGVmaW5lKCdmb250RGlyJywgJy4vZm9udHMnLCB7aXNTdHJpbmc6IHRydWV9KTtcclxuXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGZvbnRTdHJpbmcoZm9udCkge1xyXG5cclxuICAgICAgICBpZighZm9udHNEZWZpbmVkKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xyXG5cclxuICAgICAgICBmb3IgKHZhciB3ID0gMDsgdyA8IGZvbnQud2VpZ2h0Lmxlbmd0aDsgdysrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgZm9udC5zdHlsZS5sZW5ndGg7IHMrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbGVzdHJpbmcgPSBDb25maWcuZ2V0KCdmb250RGlyJykgKyAnLycgKyBmb250Lm5hbWUgKyAnLScgKyBmb250LndlaWdodFt3XSArICctJyArIGZvbnQuc3R5bGVbc107XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RyaW5nID0gJ0Bmb250LWZhY2UgeycgK1xyXG4gICAgICAgICAgICAgICAgICAgICdmb250LWZhbWlseTogXCInICsgc2VsZi5mb3JtYXQoZm9udC5uYW1lKSArICctJyArIGZvbnQud2VpZ2h0W3ddICsgJ1wiOycgK1xyXG4gICAgICAgICAgICAgICAgICAgICdzcmM6JztcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBmID0gMDsgZiA8IGZvcm1hdC5sZW5ndGg7IGYrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBmb3JtYXRTdHJbZm9ybWF0W2ZdXShmaWxlc3RyaW5nLCBmb250Lm5hbWUsIGZvbnQuc3R5bGVbc10pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmIDwgZm9ybWF0Lmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9ICcsJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9ICc7J1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN0cmluZyArPSAnZm9udC13ZWlnaHQ6ICcgKyBmb250LndlaWdodFt3XSArICc7JztcclxuICAgICAgICAgICAgICAgIHN0cmluZyArPSAnZm9udC1zdHlsZTonICsgZm9udC5zdHlsZVtzXSArICc7fSc7XHJcbiAgICAgICAgICAgICAgICBmb250W2ZvbnQud2VpZ2h0W3ddICsgJy0nICsgZm9udC5zdHlsZVtzXV0gPSBzdHJpbmc7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IGZvbnRbZm9udC53ZWlnaHRbd10gKyAnLScgKyBmb250LnN0eWxlW3NdXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGUocGF0aCkge1xyXG4gICAgICAgIHZhciBzdHJpbmcgPSAnJztcclxuICAgICAgICBmb3IgKHZhciBmYW1pbHkgaW4gZmFtaWxpZXMpIHtcclxuICAgICAgICAgICAgaWYgKGZhbWlsaWVzLmhhc093blByb3BlcnR5KGZhbWlseSkpIHtcclxuICAgICAgICAgICAgICAgIHN0cmluZyArPSBmb250U3RyaW5nKGZhbWlsaWVzW2ZhbWlseV0sIHBhdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGluQXJyYXkoYXJyYXksIHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGFycmF5W2ldID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5mb250ID0gZnVuY3Rpb24gKHBhdGgsIGZvbnQsIHdlaWdodCwgc3R5bGUpIHtcclxuICAgICAgICBpZiAoIWZhbWlsaWVzW2ZvbnRdKSB7XHJcbiAgICAgICAgICAgIGZhbWlsaWVzW2ZvbnRdID0ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogZm9udFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWZhbWlsaWVzW2ZvbnRdLndlaWdodCkgZmFtaWxpZXNbZm9udF0ud2VpZ2h0ID0gW107XHJcbiAgICAgICAgaWYgKCFmYW1pbGllc1tmb250XS5zdHlsZSkgZmFtaWxpZXNbZm9udF0uc3R5bGUgPSBbXTtcclxuICAgICAgICBpZiAoIWluQXJyYXkoZmFtaWxpZXNbZm9udF0ud2VpZ2h0LCB3ZWlnaHQpKSBmYW1pbGllc1tmb250XS53ZWlnaHQucHVzaCh3ZWlnaHQpO1xyXG4gICAgICAgIGlmICghaW5BcnJheShmYW1pbGllc1tmb250XS5zdHlsZSwgc3R5bGUpKSBmYW1pbGllc1tmb250XS5zdHlsZS5wdXNoKHN0eWxlKTtcclxuICAgICAgICB1cGRhdGUocGF0aCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZm9ybWF0ID0gZnVuY3Rpb24gKGZvbnQpIHtcclxuICAgICAgICByZXR1cm4gYXBwICsgJy0nICsgZm9udDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5mb3JtYXRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcm1hdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChmb3JtYXRbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDI1LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIEhlbHBlcnMoKSB7XHJcblxyXG4gICAgdmFyIGhlbHBlcnMgPSB7fSxcclxuICAgICAgICBzeXNIZWxwZXJzID0ge307XHJcblxyXG4gICAgZnVuY3Rpb24gaGVscGVyKGNmZykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBoZWxwZXIgPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2NmZ10pO1xyXG4gICAgICAgICAgICBpZiAoaGVscGVyc1toZWxwZXIubmFtZSgpXSkgY29uc29sZS53YXJuKCdoZWxwZXIgWycgKyBoZWxwZXIubmFtZSgpICsgJ10gb3ZlcnJpZGUuJyk7XHJcbiAgICAgICAgICAgIGhlbHBlcnNbaGVscGVyLm5hbWUoKV0gPSBoZWxwZXI7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgSGVscGVyLicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBDb3JlLmRlZmluZSgnaGVscGVyJywgaGVscGVyKTtcclxuXHJcbiAgICBoZWxwZXIuc3lzdGVtID0gZnVuY3Rpb24gKGNmZywgaXNfcHVibGljKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGhlbHBlciA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbY2ZnXSk7XHJcbiAgICAgICAgICAgIGlmIChzeXNIZWxwZXJzW2hlbHBlci5uYW1lKCldKSBjb25zb2xlLndhcm4oJ1N5c3RlbSBIZWxwZXIgWycgKyBoZWxwZXIubmFtZSgpICsgJ10gRHVwbGljYXRlIGRlY2xhcmF0aW9uIG92ZXJyaWRlLicpO1xyXG4gICAgICAgICAgICBzeXNIZWxwZXJzW2hlbHBlci5uYW1lKCldID0gaGVscGVyO1xyXG4gICAgICAgICAgICBpZiAoaXNfcHVibGljKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGVscGVyc1toZWxwZXIubmFtZSgpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignU3lzdGVtIEhlbHBlciBbJyArIGhlbHBlci5uYW1lKCkgKyAnXSBvdmVycmlkZXMgdXNlciBoZWxwZXIuIFNraXBwZWQgc3lzdGVtIGhlbHBlci4nKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVscGVyc1toZWxwZXIubmFtZSgpXSA9IGhlbHBlcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZ2V0U3lzdGVtSGVscGVycyA9IGZ1bmN0aW9uIChkZWZhdWx0cykge1xyXG4gICAgICAgIHZhciBjb250YWluZXIgPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW3N5c0hlbHBlcnNdKTtcclxuICAgICAgICBjb250YWluZXIuc291cmNlKGNvbnRhaW5lciwgJysnKTtcclxuICAgICAgICBjb250YWluZXIuc291cmNlKGRlZmF1bHRzLCAnQCcpO1xyXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZ2V0UHVibGljSGVscGVycyA9IGZ1bmN0aW9uIChkZWZhdWx0cykge1xyXG4gICAgICAgIHZhciBjb250YWluZXIgPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW2hlbHBlcnNdKTtcclxuICAgICAgICBjb250YWluZXIuc291cmNlKGNvbnRhaW5lciwgJysnKTtcclxuICAgICAgICBjb250YWluZXIuc291cmNlKGRlZmF1bHRzLCAnQCcpO1xyXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgICB9O1xyXG5cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIEluamVjdGlvbihjb24sIHJlc29sdmVkKSB7XHJcbiAgICB2YXIgY29uc3RydWN0b3IgPSBjb24sIGluc3RhbmNlID0gbnVsbCxcclxuICAgICAgICBkZXBlbmRlbmNpZXMgPSBbXSxcclxuICAgICAgICBzZWxmID0gdGhpcztcclxuXHJcblxyXG4gICAgaWYgKHJlc29sdmVkKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb24gPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgY29uc3RydWN0b3IgPSBjb24uY29uc3RydWN0b3I7XHJcbiAgICAgICAgICAgIGluc3RhbmNlID0gY29uO1xyXG4gICAgICAgICAgICBkZXBlbmRlbmNpZXMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgUHJlUmVzb2x2ZWRJbmplY3Rpb24hIGNvbiBhcmd1bWVudCBpcyBub3QgYW4gb2JqZWN0IScpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb24gPT09IFwiZnVuY3Rpb25cIiAmJiBjb24ubmFtZSkge1xyXG4gICAgICAgICAgICBjb25zdHJ1Y3RvciA9IGNvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNvbiA9PT0gXCJvYmplY3RcIiAmJiBjb24uY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbltpXSA9PT0gXCJzdHJpbmdcIiAmJiBjb25baV0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jaWVzLnB1c2goY29uW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjb25baV0gPT09IFwiZnVuY3Rpb25cIiAmJiBjb25baV0ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gY29uW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWNvbnN0cnVjdG9yKSB0aHJvdyBuZXcgRXJyb3IoJ0luamVjdGlvbiBjb25zdHJ1Y3RvciB1bmRlZmluZWQhJyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHRoaXMubmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY29uc3RydWN0b3IubmFtZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kZXBlbmRlbmNpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGRlcGVuZGVuY2llc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZXh0ZW5kID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xyXG4gICAgICAgIGlmKHJlc29sdmVkKSB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBjYW4gbm90IGV4dGVuZCB3aXRoIFsnICsgY29uc3RydWN0b3IubmFtZSArICddIScpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBpbmplY3Rpb25OYW1lKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGluamVjdGlvbk5hbWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gY29udGFpbmVyLmZpbmRTb3VyY2VCeUluamVjdGlvbk5hbWUoaW5qZWN0aW9uTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlnID0gc291cmNlLnJlc29sdmVJbmplY3Rpb25EZXBlbmRhbmNpZXMoaW5qZWN0aW9uTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy4kY29uc3RydWN0b3IuYXBwbHkodGFyZ2V0LCBjb25maWcuZGVwZW5kZW5jaWVzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGZpbmQgaW5qZWN0aW9uIFsnICsgaW5qZWN0aW9uTmFtZSArICddIGZvciBbJyArIHNlbGYubmFtZSgpICsnXScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXh0ZW5kIGNsYXNzIG5hbWUgc2hvdWxkIGJlIGEgc3RyaW5nIScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHRlbmQgdGFyZ2V0IHNob3VsZCBiZSBhbiBvYmplY3QhJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaW5qZWN0ID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xyXG4gICAgICAgIGlmKHJlc29sdmVkKSB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBjYW4gbm90IGluamVjdCBbJyArIGNvbnN0cnVjdG9yLm5hbWUgKyddIGRpcmVjdGx5Jyk7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpbmplY3Rpb25OYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXIucmVzb2x2ZURpcmVjdEluamVjdGlvbihpbmplY3Rpb25OYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24gKGFyZ3MsIGRpcmVjdCkge1xyXG4gICAgICAgIGlmIChyZXNvbHZlZCkgcmV0dXJuIGluc3RhbmNlO1xyXG4gICAgICAgIGlmIChkaXJlY3QpIHtcclxuICAgICAgICAgICAgYXJncy51bnNoaWZ0KG51bGwpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShjb25zdHJ1Y3RvciwgYXJncykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgYXJncy51bnNoaWZ0KG51bGwpO1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KGNvbnN0cnVjdG9yLCBhcmdzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy4kY29uc3RydWN0b3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNsb25lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgSW5qZWN0aW9uKGNvbiwgcmVzb2x2ZWQpO1xyXG4gICAgfTtcclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIFJvb3QoKSB7XHJcbiAgICB2YXIgYXBwcyA9IHt9LFxyXG4gICAgICAgIHNlcnZpY2VzID0gQ29yZS5nZXQoJ1NlcnZpY2VzJyksXHJcbiAgICAgICAgY2xhc3NlcyA9IENvcmUuZ2V0KCdDbGFzc2VzJyksXHJcbiAgICAgICAgaGVscGVycyA9IENvcmUuZ2V0KCdIZWxwZXJzJyk7XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlQXBwbGljYXRpb24oYXBwKSB7XHJcbiAgICAgICAgdmFyIGFwcENvbnRhaW5lciA9IENvcmUuaW5qZWN0KCdDb250YWluZXInLCBbYXBwc1thcHBdXSksXHJcbiAgICAgICAgICAgIGFwcFRpY2tlciA9IENvcmUuaW5qZWN0KCdUaWNrZXInKSxcclxuICAgICAgICAgICAgYXBwQ2FudmFzID0gQ29yZS5pbmplY3QoJ0NhbnZhcycsIFthcHBUaWNrZXJdKSxcclxuICAgICAgICAgICAgYXBwQXVkaW8gPSBDb3JlLmluamVjdCgnQXVkaW8nLCBbXSksXHJcbiAgICAgICAgICAgIGFwcENvbmZpZyA9IENvcmUuaW5qZWN0KCdDb25maWcnLCBbYXBwXSksXHJcbiAgICAgICAgICAgIGFwcEZvbnRzID0gQ29yZS5pbmplY3QoJ0ZvbnRzJywgW2FwcENvbmZpZywgYXBwXSksXHJcbiAgICAgICAgICAgIGFwcEFwaSA9IENvcmUuaW5qZWN0KCdBcHBsaWNhdGlvbicsIFthcHBDYW52YXMsIGFwcFRpY2tlciwgYXBwQ29uZmlnXSk7XHJcblxyXG4gICAgICAgIHZhciBkZWZhdWx0c0xpYnJhcnkgPSB7fTtcclxuXHJcbiAgICAgICAgZGVmYXVsdHNMaWJyYXJ5LlRpY2tlciA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbYXBwVGlja2VyLCB0cnVlXSk7XHJcbiAgICAgICAgZGVmYXVsdHNMaWJyYXJ5LkNhbnZhcyA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbYXBwQ2FudmFzLCB0cnVlXSk7XHJcbiAgICAgICAgZGVmYXVsdHNMaWJyYXJ5LkFQSSA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbYXBwQXBpLCB0cnVlXSk7XHJcbiAgICAgICAgZGVmYXVsdHNMaWJyYXJ5LkZvbnRzID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFthcHBGb250cywgdHJ1ZV0pO1xyXG4gICAgICAgIGRlZmF1bHRzTGlicmFyeS5Db25maWcgPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2FwcENvbmZpZywgdHJ1ZV0pO1xyXG4gICAgICAgIGRlZmF1bHRzTGlicmFyeS5BdWRpbyA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbYXBwQXVkaW8sIHRydWVdKTtcclxuXHJcbiAgICAgICAgdmFyIGFwcERlZmF1bHRzID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtkZWZhdWx0c0xpYnJhcnldKSxcclxuICAgICAgICAgICAgYXBwU3lzSGVscGVycyA9IGhlbHBlcnMuZ2V0U3lzdGVtSGVscGVycyhhcHBEZWZhdWx0cyksXHJcbiAgICAgICAgICAgIGFwcFB1YkhlbHBlcnMgPSBoZWxwZXJzLmdldFB1YmxpY0hlbHBlcnMoYXBwRGVmYXVsdHMpLFxyXG4gICAgICAgICAgICBhcHBDbGFzc2VzID0gY2xhc3Nlcy5nZXRBcHBsaWNhdGlvbkNsYXNzZXMoYXBwKSxcclxuICAgICAgICAgICAgYXBwU3lzQ2xhc3NlcyA9IGNsYXNzZXMuZ2V0U3lzdGVtQ2xhc3NlcyhhcHApLFxyXG4gICAgICAgICAgICBhcHBTZXJ2aWNlcyA9IHNlcnZpY2VzLmdldEFwcGxpY2F0aW9uU2VydmljZXMoYXBwU3lzSGVscGVycywgYXBwU3lzQ2xhc3NlcywgYXBwRGVmYXVsdHMpO1xyXG5cclxuICAgICAgICAvL0FsbG93cyBhcHBsaWNhdGlvbiBjb25zdHJ1Y3RvciB0byBpbmplY3QgU2VydmljZXNcclxuICAgICAgICBhcHBDb250YWluZXIuc291cmNlKGFwcFNlcnZpY2VzLCBmYWxzZSk7XHJcbiAgICAgICAgLy9BbGxvd3MgYXBwbGljYXRpb24gY29uc3RydWN0b3IgdG8gaW5qZWN0IENsYXNzZXNcclxuICAgICAgICBhcHBDb250YWluZXIuc291cmNlKGFwcENsYXNzZXMsICcuJyk7XHJcbiAgICAgICAgLy9BbGxvd3MgYXBwbGljYXRpb24gY29uc3RydWN0b3IgdG8gaW5qZWN0IHB1YmxpYyBoZWxwZXJzXHJcbiAgICAgICAgYXBwQ29udGFpbmVyLnNvdXJjZShhcHBQdWJIZWxwZXJzLCAnKycpO1xyXG4gICAgICAgIC8vQWxsb3dzIGFwcGxpY2F0aW9uIGNvbnN0cnVjdG9yIHRvIGluamVjdCBzeXN0ZW0gaW5qZWN0aW9uIGZ1bmN0aW9uIGFuZCByb290IGVsZW1lbnRzIGNvbnRhaW5lcnNcclxuICAgICAgICBhcHBDb250YWluZXIuc291cmNlKGFwcERlZmF1bHRzLCAnQCcpO1xyXG4gICAgICAgIC8vQWxsb3dzIEFwcCBjbGFzc2VzIHRvIGluamVjdCBhcHAgc2VydmljZXNcclxuICAgICAgICBhcHBDbGFzc2VzLnNvdXJjZShhcHBTZXJ2aWNlcywgZmFsc2UpO1xyXG4gICAgICAgIC8vQWxsb3dzIEFwcCBjbGFzc2VzIHRvIGluamVjdCBhcHAgZGVmYXVsdHNcclxuICAgICAgICBhcHBDbGFzc2VzLnNvdXJjZShhcHBEZWZhdWx0cywgJ0AnKTtcclxuICAgICAgICAvL0FsbG93cyBBcHAgY2xhc3NlcyB0byBpbmplY3QgYXBwIGhlbHBlcnNcclxuICAgICAgICBhcHBDbGFzc2VzLnNvdXJjZShhcHBTeXNIZWxwZXJzLCAnKycpO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFwcFNlcnZpY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBsaXN0ID0gYXBwU2VydmljZXNbaV0ubGlzdCgpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGxpc3QpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsaXN0Lmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwU2VydmljZXNbaV0ucmVzb2x2ZShwcm9wKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBhcHBDb250YWluZXIucmVzb2x2ZShhcHApO1xyXG4gICAgICAgIHJldHVybiBhcHBBcGk7XHJcbiAgICB9XHJcblxyXG4gICAgQ29yZS5kZWZpbmUoJ2FwcCcsIGZ1bmN0aW9uIChjZmcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgYXBwbGljYXRpb24gPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2NmZ10pO1xyXG4gICAgICAgICAgICBpZiAoYXBwc1thcHBsaWNhdGlvbi5uYW1lKCldKSBjb25zb2xlLndhcm4oJ0FwcGxpY2F0aW9uIFsnICsgYXBwbGljYXRpb24ubmFtZSgpICsgJ10gb3ZlcnJpZGUuIFJlbW92ZSBkdXBsaWNhdGVzJyk7XHJcbiAgICAgICAgICAgIGFwcHNbYXBwbGljYXRpb24ubmFtZSgpXSA9IGFwcGxpY2F0aW9uO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIHJlZ2lzdGVyIEFwcGxpY2F0aW9uIGNvbnN0cnVjdG9yLicpO1xyXG4gICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIENvcmUuZGVmaW5lKCdydW4nLCBmdW5jdGlvbiAoYXBwKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcHAgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgaWYgKGFwcHNbYXBwXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFwcGxpY2F0aW9uKGFwcCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FwcGxpY2F0aW9uIFsnICsgYXBwICsgJ10gbm90IGZvdW5kLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZ2V0IHNvdXJjZXMuIEFwcCBJZCBpcyBub3QgYSBzdHJpbmcnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIFNlcnZpY2VzKCkge1xyXG5cclxuICAgIHZhciBzZXJ2aWNlcyA9IHt9LFxyXG4gICAgICAgIHNlcnZpY2VDbGFzc2VzID0ge30sXHJcbiAgICAgICAgcGx1Z2lucyA9IHt9LFxyXG4gICAgICAgIHBsdWdpbnNDbGFzc2VzID0ge307XHJcblxyXG4gICAgZnVuY3Rpb24gc2VydmljZShjZmcpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGNmZyA9PT0gXCJvYmplY3RcIiAmJiBjZmcuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgIHZhciBzZXJ2aWNlTmFtZSA9IG51bGw7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2ZnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNmZ1tpXSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZU5hbWUgPSBjZmdbaV0ubmFtZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjZmdbaV0gIT09IFwic3RyaW5nXCIpIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBzZXJ2aWNlLiBJbnZhbGlkIGNvbmZpZycpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2VydmljZU5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNlc1tzZXJ2aWNlTmFtZV0pIGNvbnNvbGUud2FybignRHVwbGljYXRlIGRlY2xhcmF0aW9uLiBTZXJ2aWNlIFsnICsgc2VydmljZU5hbWUgKyAnXSBoYXMgYmVlbiBvdmVyd3JpdHRlbicpO1xyXG4gICAgICAgICAgICAgICAgc2VydmljZXNbc2VydmljZU5hbWVdID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtjZmddKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgY2ZnID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgaWYgKGNmZy5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VydmljZXNbY2ZnLm5hbWVdKSBjb25zb2xlLndhcm4oJ0R1cGxpY2F0ZSBkZWNsYXJhdGlvbi4gU2VydmljZSBbJyArIHNlcnZpY2VOYW1lICsgJ10gaGFzIGJlZW4gb3ZlcndyaXR0ZW4nKTtcclxuICAgICAgICAgICAgICAgIHNlcnZpY2VzW2NmZy5uYW1lXSA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbY2ZnXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgc2VydmljZS4gQ29uc3RydWN0b3IgaXMgbm90IGEgbmFtZWQgZnVuY3Rpb24uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBsdWdpbihhLCBiKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYiA9PT0gXCJvYmplY3RcIiAmJiBiLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBsdWdpbk5hbWUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiW2ldID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luTmFtZSA9IGJbaV0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGJbaV0gIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIHBsdWdpbi4gSW52YWxpZCBjb25zdHJ1Y3RvciBhcmd1bWVudHMnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGx1Z2luc1thXSkgcGx1Z2luc1thXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW5zW2FdW3BsdWdpbk5hbWVdKSBjb25zb2xlLndhcm4oJ1BsdWdpbiBkdXBsaWNhdGVkLiBbJyArIHBsdWdpbk5hbWUgKyAnXSBoYXMgYmVlbiBvdmVyd3JpdHRlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbnNbYV1bcGx1Z2luTmFtZV0gPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2JdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBwbHVnaW4uIENvbnN0cnVjdG9yIGlzIG5vdCBhIG5hbWVkIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBwbHVnaW4uIEludmFsaWQgYXJndW1lbnRzLicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwbHVnaW4uY2xhc3MgPSBmdW5jdGlvbiAoc3ZjLCBhLCBiKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBzdmMgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBhID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGIgPT09IFwib2JqZWN0XCIgJiYgYi5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGx1Z2luQ2xhc3NOYW1lID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiW2ldID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbkNsYXNzTmFtZSA9IGJbaV0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYltpXSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIHBsdWdpbiBjbGFzcy4gSW52YWxpZCBjb25zdHJ1Y3RvciBhcmd1bWVudHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGx1Z2luQ2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGx1Z2luc0NsYXNzZXNbc3ZjXSkgcGx1Z2luc0NsYXNzZXNbc3ZjXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBsdWdpbnNDbGFzc2VzW3N2Y11bYV0pIHBsdWdpbnNDbGFzc2VzW3N2Y11bYV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBsdWdpbnNDbGFzc2VzW3N2Y11bYV1bcGx1Z2luQ2xhc3NOYW1lXSkgY29uc29sZS53YXJuKCdQbHVnaW4gY2xhc3MgZHVwbGljYXRlZC4gWycgKyBwbHVnaW5DbGFzc05hbWUgKyAnXSBoYXMgYmVlbiBvdmVyd3JpdHRlbicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luc0NsYXNzZXNbc3ZjXVthXVtwbHVnaW5DbGFzc05hbWVdID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtiXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgcGx1Z2luLiBDb25zdHJ1Y3RvciBpcyBub3QgYSBuYW1lZCBmdW5jdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBiID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYi5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGx1Z2luc0NsYXNzZXNbc3ZjXSkgcGx1Z2luc0NsYXNzZXNbc3ZjXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBsdWdpbnNDbGFzc2VzW3N2Y11bYV0pIHBsdWdpbnNDbGFzc2VzW3N2Y11bYV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBsdWdpbnNDbGFzc2VzW3N2Y11bYV1bYi5uYW1lXSkgY29uc29sZS53YXJuKCdQbHVnaW4gY2xhc3MgZHVwbGljYXRlZC4gWycgKyBiLm5hbWUgKyAnXSBoYXMgYmVlbiBvdmVyd3JpdHRlbicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luc0NsYXNzZXNbc3ZjXVthXVtiLm5hbWVdID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtiXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byByZWdpc3RlciBwbHVnaW4gY2xhc3MuIEludmFsaWQgYXJndW1lbnRzJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgcGx1Z2luLiBJbnZhbGlkIGFyZ3VtZW50cy4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9O1xyXG4gICAgc2VydmljZS5jbGFzcyA9IGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IG51bGw7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYi5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXJ2aWNlQ2xhc3Nlc1thXSkgc2VydmljZUNsYXNzZXNbYV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlQ2xhc3Nlc1thXVtiLm5hbWVdID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtiXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBjbGFzcyBmb3IgZXh0ZW5zaW9uIFsnICsgYSArICddLiBDb25zdHJ1Y3RvciBpcyBub3QgYSBuYW1lZCBmdW5jdGlvbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBiID09PSBcIm9iamVjdFwiICYmIGIuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGJbaV0gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBiW2ldLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBiW2ldICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBjbGFzcyBmb3Igc2VydmljZVsnICsgYSArICddLiBJbnZhbGlkIGNvbmZpZy4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXJ2aWNlQ2xhc3Nlc1thXSkgc2VydmljZUNsYXNzZXNbYV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VydmljZUNsYXNzZXNbYV1bY2xhc3NOYW1lXSkgY29uc29sZS53YXJuKCdEdXBsaWNhdGUgZGVjbGFyYXRpb24uIENsYXNzIFsnICsgY2xhc3NOYW1lICsgJ10gZm9yIGV4dGVuc2lvbiBbJyArIGEgKyAnXSBoYXMgYmVlbiBvdmVyd3JpdHRlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VDbGFzc2VzW2FdW2NsYXNzTmFtZV0gPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2JdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIGNsYXNzLiBJbnZhbGlkIGFyZ3VtZW50cycpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQ29yZS5kZWZpbmUoJ3NlcnZpY2UnLCBzZXJ2aWNlKTtcclxuICAgIENvcmUuZGVmaW5lKCdwbHVnaW4nLCBwbHVnaW4pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldFBsdWdpbk1hbmFnZXIobGliKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gUGx1Z2lucygpIHtcclxuICAgICAgICAgICAgdmFyIGxpYnJhcnkgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaWIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gbGliW2ldLmxpc3QoKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gbGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0W3Byb3BdLiRjb25zdHJ1Y3RvcigpICE9PSBQbHVnaW5zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpYnJhcnkucHVzaChwcm9wKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5lYWNoID0gZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlicmFyeS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGYobGlicmFyeVtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGlzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpYnJhcnkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2gobGlicmFyeVtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW0NvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbUGx1Z2luc10pXSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5nZXRBcHBsaWNhdGlvblNlcnZpY2VzID0gZnVuY3Rpb24gKF9oZWxwZXJzLCBfc3lzQ2xhc3NlcywgX2VuZ2luZURlZmF1bHRzKSB7XHJcblxyXG4gICAgICAgIHZhciBfc2VydmljZXMgPSB7fSxcclxuICAgICAgICAgICAgX3NlcnZpY2VzQ2xhc3NlcyA9IHt9LFxyXG4gICAgICAgICAgICBfc2VydmljZXNQbHVnaW5zID0ge30sXHJcbiAgICAgICAgICAgIF9zZXJ2aWNlc1BsdWdpbnNDbGFzc2VzID0ge30sXHJcbiAgICAgICAgICAgIF9zZXJ2aWNlLCBfcGx1Z2luO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBzZXJ2aWNlIGluIHNlcnZpY2VzKSB7XHJcbiAgICAgICAgICAgIGlmIChzZXJ2aWNlcy5oYXNPd25Qcm9wZXJ0eShzZXJ2aWNlKSkge1xyXG4gICAgICAgICAgICAgICAgX3NlcnZpY2UgPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW3NlcnZpY2VzW3NlcnZpY2VdXSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3BsdWdpbnMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luc1tzZXJ2aWNlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHBsdWdpbiBpbiBwbHVnaW5zW3NlcnZpY2VdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW5zW3NlcnZpY2VdLmhhc093blByb3BlcnR5KHBsdWdpbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wbHVnaW4gPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW3BsdWdpbnNbc2VydmljZV1bcGx1Z2luXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfc2VydmljZXNQbHVnaW5zW3NlcnZpY2VdKSBfc2VydmljZXNQbHVnaW5zW3NlcnZpY2VdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VydmljZXNQbHVnaW5zW3NlcnZpY2VdW3BsdWdpbl0gPSBfcGx1Z2luO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBsdWdpbnNDbGFzc2VzW3NlcnZpY2VdW3BsdWdpbl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3BsdWdpbkNsYXNzZXNDb250YWluZXIgPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW3BsdWdpbnNDbGFzc2VzW3NlcnZpY2VdW3BsdWdpbl1dKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfc2VydmljZXNQbHVnaW5zQ2xhc3Nlc1tzZXJ2aWNlXSkgX3NlcnZpY2VzUGx1Z2luc0NsYXNzZXNbc2VydmljZV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VydmljZXNQbHVnaW5zQ2xhc3Nlc1tzZXJ2aWNlXVtwbHVnaW5dID0gX3BsdWdpbkNsYXNzZXNDb250YWluZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wbHVnaW4uc291cmNlKF9wbHVnaW5DbGFzc2VzQ29udGFpbmVyLCAnJCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wbHVnaW5DbGFzc2VzQ29udGFpbmVyLnNvdXJjZShfcGx1Z2luQ2xhc3Nlc0NvbnRhaW5lciwgJyQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGx1Z2luQ2xhc3Nlc0NvbnRhaW5lci5zb3VyY2UoX3N5c0NsYXNzZXMsICcuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BsdWdpbkNsYXNzZXNDb250YWluZXIuc291cmNlKF9oZWxwZXJzLCAnKycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BsdWdpbi5zb3VyY2UoX2VuZ2luZURlZmF1bHRzLCAnQCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BsdWdpbi5zb3VyY2UoX3N5c0NsYXNzZXMsICcuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGx1Z2luLnNvdXJjZShfaGVscGVycywgJysnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wbHVnaW5zLnB1c2goX3BsdWdpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgX3BsdWdpbnMucHVzaChnZXRQbHVnaW5NYW5hZ2VyKF9wbHVnaW5zKSk7XHJcbiAgICAgICAgICAgICAgICBfc2VydmljZS5zb3VyY2UoX3BsdWdpbnMsICc8Jyk7XHJcbiAgICAgICAgICAgICAgICBfc2VydmljZS5zb3VyY2UoX3N5c0NsYXNzZXMsICcuJyk7XHJcbiAgICAgICAgICAgICAgICBfc2VydmljZS5zb3VyY2UoX2hlbHBlcnMsICcrJyk7XHJcbiAgICAgICAgICAgICAgICBfc2VydmljZS5zb3VyY2UoX2VuZ2luZURlZmF1bHRzLCAnQCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VDbGFzc2VzW3NlcnZpY2VdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlcnZpY2VDbGFzc2VzQ29udGFpbmVyID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtzZXJ2aWNlQ2xhc3Nlc1tzZXJ2aWNlXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zZXJ2aWNlLnNvdXJjZShzZXJ2aWNlQ2xhc3Nlc0NvbnRhaW5lciwgJyQnKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlQ2xhc3Nlc0NvbnRhaW5lci5zb3VyY2Uoc2VydmljZUNsYXNzZXNDb250YWluZXIsICckJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZUNsYXNzZXNDb250YWluZXIuc291cmNlKF9zeXNDbGFzc2VzLCAnLicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VDbGFzc2VzQ29udGFpbmVyLnNvdXJjZShfcGx1Z2lucywgJzwnKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlQ2xhc3Nlc0NvbnRhaW5lci5zb3VyY2UoX2hlbHBlcnMsICcrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZUNsYXNzZXNDb250YWluZXIuc291cmNlKF9lbmdpbmVEZWZhdWx0cywgJ0AnKTtcclxuICAgICAgICAgICAgICAgICAgICBfc2VydmljZXNDbGFzc2VzW3NlcnZpY2VdID0gc2VydmljZUNsYXNzZXNDb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBfc2VydmljZXNDbGFzc2VzW3NlcnZpY2VdID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF9zZXJ2aWNlc1tzZXJ2aWNlXSA9IF9zZXJ2aWNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKHZhciBzIGluIF9zZXJ2aWNlcykge1xyXG4gICAgICAgICAgICBpZiAoX3NlcnZpY2VzLmhhc093blByb3BlcnR5KHMpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3NlcnZpY2VzU2VydmljZVNvdXJjZSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgczIgaW4gX3NlcnZpY2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9zZXJ2aWNlcy5oYXNPd25Qcm9wZXJ0eShzMikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgIT09IHMyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VydmljZXNTZXJ2aWNlU291cmNlLnB1c2goX3NlcnZpY2VzW3MyXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfc2VydmljZXNbc10uc291cmNlKF9zZXJ2aWNlc1NlcnZpY2VTb3VyY2UsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoX3NlcnZpY2VzQ2xhc3Nlc1tzXSkgX3NlcnZpY2VzQ2xhc3Nlc1tzXS5zb3VyY2UoX3NlcnZpY2VzU2VydmljZVNvdXJjZSwgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChfc2VydmljZXNQbHVnaW5zW3NdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBfc2VydmljZXNQbHVnaW5zW3NdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfc2VydmljZXNQbHVnaW5zW3NdLmhhc093blByb3BlcnR5KHApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VydmljZXNQbHVnaW5zW3NdW3BdLnNvdXJjZShfc2VydmljZXNTZXJ2aWNlU291cmNlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKF9zZXJ2aWNlc1BsdWdpbnNDbGFzc2VzW3NdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcGNsIGluIF9zZXJ2aWNlc1BsdWdpbnNDbGFzc2VzW3NdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfc2VydmljZXNQbHVnaW5zQ2xhc3Nlc1tzXS5oYXNPd25Qcm9wZXJ0eShwY2wpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VydmljZXNQbHVnaW5zQ2xhc3Nlc1tzXVtwY2xdLnNvdXJjZShfc2VydmljZXNTZXJ2aWNlU291cmNlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBfc2VydmljZXMpIHtcclxuICAgICAgICAgICAgaWYgKF9zZXJ2aWNlcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goX3NlcnZpY2VzW3Byb3BdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBfaGVscGVycy5zb3VyY2UocmVzdWx0LCBmYWxzZSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcblxyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMTUvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gU291cmNlKHByZWZpeCwgY29udGFpbmVyLCBsb29wKSB7XHJcblxyXG4gICAgdmFyIHBmeCA9IHByZWZpeCA/IHByZWZpeCA6IGZhbHNlLFxyXG4gICAgICAgIGNvbnRhaW5lcnMgPSBbXSxcclxuICAgICAgICBjYWNoZSA9IHt9LFxyXG4gICAgICAgIGNoZWNrQ2FjaGUgPSB7fTtcclxuXHJcbiAgICBpZiAodHlwZW9mIGNvbnRhaW5lciA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgIGlmIChDb3JlLmlzKGNvbnRhaW5lciwgJ0NvbnRhaW5lcicpKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lcnMgPSBbY29udGFpbmVyXVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjb250YWluZXIuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgIHZhciB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQ29yZS5pcyhjb250YWluZXJbaV0sICdDb250YWluZXInKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcnMucHVzaChjb250YWluZXJbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLmxlbmd0aCA9PT0gMCkgdmFsaWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdmFsaWQpIHRocm93IG5ldyBFcnJvcignQ29udGFpbmVyIGFycmF5IGlzIGVtcHR5IScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHR5cGUgaWYgY29udGFpbmVyIScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gc3RyaXBQcmVmaXgobmFtZSkge1xyXG4gICAgICAgIGlmIChwcmVmaXgpIHtcclxuICAgICAgICAgICAgdmFyIHN0cmluZyA9ICcnO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChpID49IHBmeC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gbmFtZVtpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNoZWNrID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICBpZihjaGVja0NhY2hlW25hbWVdKSByZXR1cm4gY2hlY2tDYWNoZVtuYW1lXTtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICBpZiAocHJlZml4KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlZml4Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW5hbWVbaV0gfHwgbmFtZVtpXSAhPT0gcHJlZml4W2ldKSByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjaGVja0NhY2hlW25hbWVdID0gcmVzdWx0O1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaGFzID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgaWYoY2FjaGVbbmFtZV0pIHJldHVybiB0cnVlO1xyXG4gICAgICAgIGlmICh0aGlzLmNoZWNrKG5hbWUpKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0cmlwTmFtZSA9IHN0cmlwUHJlZml4KG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lcnNbaV0uaGFzKHN0cmlwTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlW25hbWVdID0gY29udGFpbmVyc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmxvb3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGxvb3A7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY29udGFpbmVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY29udGFpbmVycztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zb3VyY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250YWluZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lcnNbaV0uc291cmNlLmFwcGx5KGNvbnRhaW5lcnNbaV0sIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnByZWZpeCA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICBpZiAoc3RyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0ciA9PT0gcGZ4O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGZ4O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnJlc29sdmUgPSBmdW5jdGlvbiAobmFtZSwgZGlyZWN0KSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XHJcbiAgICAgICAgaWYgKHRoaXMuaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgc3RyaXBOYW1lID0gc3RyaXBQcmVmaXgobmFtZSk7XHJcbiAgICAgICAgICAgIGlmKGNhY2hlW25hbWVdKSBzb3VyY2UgPSBjYWNoZVtuYW1lXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250YWluZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyc1tpXS5oYXMoc3RyaXBOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IGNvbnRhaW5lcnNbaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNvdXJjZSkgcmVzdWx0ID0gc291cmNlLnJlc29sdmUoc3RyaXBOYW1lLCBkaXJlY3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnJlc29sdmVJbmplY3Rpb25EZXBlbmRhbmNpZXMgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIHZhciBzb3VyY2UgPSBudWxsLCBzdHJpcE5hbWUgPSBudWxsO1xyXG4gICAgICAgIGlmKGNhY2hlW25hbWVdKSB7XHJcbiAgICAgICAgICAgIHN0cmlwTmFtZSA9IHN0cmlwUHJlZml4KG5hbWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVbbmFtZV0ucmVzb2x2ZShzdHJpcE5hbWUsICdleHRlbmQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgc3RyaXBOYW1lID0gc3RyaXBQcmVmaXgobmFtZSk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRhaW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyc1tpXS5oYXMoc3RyaXBOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBjb250YWluZXJzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZVtuYW1lXSA9IGNvbnRhaW5lcnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzb3VyY2UpIHJldHVybiBzb3VyY2UucmVzb2x2ZShzdHJpcE5hbWUsICdleHRlbmQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMTQvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gVGlja2VyKCkge1xyXG4gICAgdmFyIGZyYW1lRHVyYXRpb24gPSAoMTAwMCAvIDU4LjgpLnRvRml4ZWQoMiksXHJcbiAgICAgICAgcXVldWUgPSBbXSxcclxuICAgICAgICBmcmFtZSA9IDAsXHJcbiAgICAgICAgYXJncyA9IFtudWxsLCAwXSxcclxuICAgICAgICBkcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlW2ldLmYuYXBwbHkoc2VsZiwgYXJncyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgZW1lcmdlZCB3aGlsZSByZXNvbHZpbmcgY2FsbGJhY2tzLlxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnUXVldWUgICA6IFsnICsgcXVldWVbaV0ubyArICddXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdPcmRlciAgIDogWycgKyBpICsgJ11cXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ05hbWUgICAgOiBbJyArIChxdWV1ZVtpXS5mLm5hbWUpICsgJ10uXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdNZXNzYWdlIDogJyArIGUubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnJhbWUrKztcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbMF0gPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICBhcmdzWzFdID0gZnJhbWU7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBkcmF3KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgnZXJyb3InLCBlKTtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHJ1biB0aWNrZXIgYW55bW9yZS4gJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ0Vycm9yIGVtZXJnZWQgZHVyaW5nIHNvdXJjZXMgdGlja2VyIHByb2dyZXNzLlxcbiAnICtcclxuICAgICAgICAgICAgICAgICAgICAnRnJhbWUgOicgKyBmcmFtZSArICdcXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAnRGF0ZSAgOiAnICsgYXJnc1swXSArICdcXG4nICtcclxuICAgICAgICAgICAgICAgICAgICBlLm1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICBpbnRlcnZhbCA9IG51bGwsXHJcbiAgICAgICAgZXZlbnRDYiA9IHtcclxuICAgICAgICAgICAgc3RvcDogW10sXHJcbiAgICAgICAgICAgIHN0YXJ0OiBbXSxcclxuICAgICAgICAgICAgZXJyb3I6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZWxmID0gdGhpcztcclxuXHJcbiAgICBmdW5jdGlvbiByZXNvbHZlKGV2ZW50LCBhcmdzKSB7XHJcbiAgICAgICAgdmFyIF9jYWxsX2FyZ3MgPSBbXTtcclxuICAgICAgICBpZiAodHlwZW9mIGFyZ3MgPT09IFwib2JqZWN0XCIgJiYgYXJncy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgX2NhbGxfYXJncyA9IGFyZ3M7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGFyZ3MgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBfY2FsbF9hcmdzLnB1c2goYXJncyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09PSBcInN0cmluZ1wiICYmIGV2ZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnRDYltldmVudF0pIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRDYltldmVudF0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudENiW2V2ZW50XVtpXS5hcHBseShzZWxmLCBfY2FsbF9hcmdzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHJlc29sdmUgZXZlbnQgWycgKyBldmVudCArICddLiBObyBzdWNoIGV2ZW50LicpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHJlc29sdmUgZXZlbnQuIEV2ZW50IHBhcmFtZXRlciBpcyBub3QgYSBzdHJpbmcgb3IgZW1wdHknKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIiAmJiBldmVudC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50Q2JbZXZlbnRdKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Q2JbZXZlbnRdLnB1c2goZnVuYylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBldmVudCBbJyArIGV2ZW50ICsgJ10uIENhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uLicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IGV2ZW50IFsnICsgZXZlbnQgKyAnXSBoYW5kbGVyLiBObyBzdWNoIGV2ZW50LicpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBldmVudC4gRXZlbnQgYXJndW1lbnQgaXMgbm90IGEgc3RyaW5nIG9yIGVtcHR5LicpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGZyYW1lID0gMDtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XHJcbiAgICAgICAgICAgIGludGVydmFsID0gbnVsbDtcclxuICAgICAgICAgICAgcmVzb2x2ZSgnc3RvcCcsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIWludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwodGljaywgZnJhbWVEdXJhdGlvbik7XHJcbiAgICAgICAgICAgIHJlc29sdmUoJ3N0YXJ0JywgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmZwcyA9IGZ1bmN0aW9uIChudW1iZXIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG51bWJlciA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBpZiAobnVtYmVyID4gNjApIG51bWJlciA9IDYwO1xyXG4gICAgICAgICAgICBpZiAobnVtYmVyIDw9IDApIG51bWJlciA9IDE7XHJcbiAgICAgICAgICAgIGZyYW1lRHVyYXRpb24gPSAoMTAwMCAvIG51bWJlcikudG9GaXhlZCgyKTtcclxuICAgICAgICAgICAgaWYgKGludGVydmFsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuICgxMDAwIC8gZnJhbWVEdXJhdGlvbikudG9GaXhlZCgyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucXVldWUgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIGlmICghYS5uYW1lKSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgY2FsbGJhY2suIENhbGxiYWNrIGlzIG5vdCBhIG5hbWVkIGZ1bmN0aW9uLicpO1xyXG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHtvOiAwLCBmOiBifSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWIubmFtZSkgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IGNhbGxiYWNrLiBDYWxsYmFjayBpcyBub3QgYSBuYW1lZCBmdW5jdGlvbi4nKTtcclxuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goe286IGEsIGY6IGJ9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHF1ZXVlLiBjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbicpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBjYWxsYmFjay4gV3JvbmcgYXJndW1lbnRzIHBhc3NlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBxdWV1ZS5zb3J0KGZ1bmN0aW9uIChhLGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGEubyA+IGIubztcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWydAaW5qZWN0JywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBBbmltYXRpb24oaW5qZWN0LCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbnMgPSBbXSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGVkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtb3JwaHMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubW9ycGggPSBmdW5jdGlvbiAobmFtZSwgb3JkZXJpbmcsIHNldHRlciwgYXBwbGllcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vcnBoID0gaW5qZWN0KCckTW9ycGgnKTtcclxuICAgICAgICAgICAgICAgIG1vcnBoLmNvbmZpZyhuYW1lLCB0aGlzLm9iamVjdCgpLCBvcmRlcmluZywgc2V0dGVyLCBhcHBsaWVyKTtcclxuICAgICAgICAgICAgICAgIGlmIChtb3JwaC52YWxpZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9ycGhzW25hbWVdID0gbW9ycGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmV4dHJhY3RNb3JwaCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9ycGhzW25hbWVdO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZmluZENvbXBldGl0b3IocHJvcGVydGllcywgYW5pbWF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uJCRTRUxGID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgY29tcGV0aXRvciA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbmltYXRpb25zW2ldLiQkU0VMRikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uc1tpXS5hY3RpdmUoKSAmJiAhYW5pbWF0aW9uc1tpXS5kb25lKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGVjayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBwcm9wZXJ0aWVzLmxlbmd0aDsgbisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbnNbaV0uaGFzUHJvcGVydHkocHJvcGVydGllc1tuXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2sgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbXBldGl0b3IpIGNvbXBldGl0b3IgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wZXRpdG9yLnB1c2goYW5pbWF0aW9uc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIGFuaW1hdGlvbi4kJFNFTEY7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBldGl0b3I7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIENoZWNrQW5pbWF0aW9uUXVldWUoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2FuaW1hdGlvbnMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGlvbnNbaV0uYWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BzID0gYW5pbWF0aW9uc1tpXS5wcm9wZXJ0aWVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25zW2ldLnF1ZXVlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmluZENvbXBldGl0b3IocHJvcHMsIGFuaW1hdGlvbnNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uc1tpXS5zdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBldGl0b3JzID0gZmluZENvbXBldGl0b3IocHJvcHMsIGFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBldGl0b3JzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBjb21wZXRpdG9ycy5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwID0gMDsgcCA8IHByb3BzLmxlbmd0aDsgcCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wZXRpdG9yc1tuXS5zdG9wKHByb3BzW3BdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnNbaV0uc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYW5pbWF0aW9uc1tpXS5kb25lKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hbmltYXRpb25zLnB1c2goYW5pbWF0aW9uc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9ucyA9IF9hbmltYXRpb25zO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlQW5pbWF0aW9uVHlwZTEocHJvcGVydHksIHZhbHVlLCBkdXJhdGlvbiwgZWFzaW5nKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcGFpciA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIHBhaXJbcHJvcGVydHldID0gdmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1vcnBoc1twcm9wZXJ0eV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhY2sgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJpbmc6IHN0eWxlLm9yZGVyaW5nKHByb3BlcnR5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JwaDogbW9ycGhzW3Byb3BlcnR5XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkdXJhdGlvbiAmJiB0eXBlb2YgZHVyYXRpb24gPT09IFwibnVtYmVyXCIpIGNvbmZpZy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlYXNpbmcgJiYgdHlwZW9mIGVhc2luZyA9PT0gXCJzdHJpbmdcIikgY29uZmlnLmVhc2luZyA9IGVhc2luZztcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBpbmplY3QoJyRBbmltYXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLmNvbmZpZyh0aGlzLCBzdGFjaywgY29uZmlnLCBDaGVja0FuaW1hdGlvblF1ZXVlKTtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zLnB1c2goYW5pbWF0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIENyZWF0ZUFuaW1hdGlvblR5cGUyKHBhaXJzLCBhcmcyLCBhcmczKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZzIgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSBhcmcyO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJnMiA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGFyZzJcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnMyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuZWFzaW5nID0gYXJnM1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZzIgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogYXJnMlxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIHBhaXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYWlycy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbW9ycGhzW3Byb3BlcnR5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sICdQcm9wZXJ0eSB7cHJvcGVydHl9IG9mIHt0eXBlfSBjYW4gbm90IGJlIGFuaW1hdGVkIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbcHJvcGVydHldID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJpbmc6IHN0eWxlLm9yZGVyaW5nKHByb3BlcnR5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoOiBtb3JwaHNbcHJvcGVydHldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHBhaXJzW3Byb3BlcnR5XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBtb3JwaF9zdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gaW4gcmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9ycGhfc3RhY2sucHVzaChyZXN1bHRbaXRlbV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG1vcnBoX3N0YWNrLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5vcmRlcmluZyAtIGIub3JkZXJpbmc7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobW9ycGhfc3RhY2subGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IGluamVjdCgnJEFuaW1hdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5jb25maWcodGhpcywgbW9ycGhfc3RhY2ssIGNvbmZpZywgQ2hlY2tBbmltYXRpb25RdWV1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ05vIHByb3BlcnRpZXMgdG8gYW5pbWF0ZSEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignYW5pbWF0ZScsIGZ1bmN0aW9uIChhcmcxLCBhcmcyLCBhcmczLCBhcmc0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZzEgPT09ICdzdHJpbmcnICYmIGFyZzIpIHtcclxuICAgICAgICAgICAgICAgICAgICBDcmVhdGVBbmltYXRpb25UeXBlMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJnMSA9PT0gXCJvYmplY3RcIiAmJiBhcmcxLmNvbnN0cnVjdG9yICE9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIENyZWF0ZUFuaW1hdGlvblR5cGUyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1VuYWJsZSB0byBjcmVhdGUgYW5pbWF0aW9uLiBXcm9uZyBhcmd1bWVudHMnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIENoZWNrQW5pbWF0aW9uUXVldWUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2FuaW1hdGVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuaW1hdGVkO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ3N0b3AnLCBmdW5jdGlvbiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnNbaV0uc3RvcChwcm9wZXJ0eSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGFuaW1hdGlvbnNbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zWzBdLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zLnVuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBhbmltYXRlZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gbW9ycGhzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vcnBocy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgbW9ycGhzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzUvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbignT2JqZWN0cycsXHJcbiAgICBbJ0RlYnVnJywgJ0BpbmplY3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEJveChEZWJ1ZywgaW5qZWN0KSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZiA9IG51bGwsIGJveCA9IGluamVjdCgnJEJveCcpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdCb3ggRXh0ZW5zaW9uIC8gQm94IGZ1bmN0aW9uIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGYgPSBmdW5jO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmY7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgb2JqZWN0ID0gdGhpcy5vYmplY3QoKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEJveFdyYXBwZXJGdW5jKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFmIHx8ICFvYmplY3QpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGYuY2FsbChvYmplY3QsIGJveCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJveCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3QuZXh0ZW5zaW9uKCdDYWNoZScpLnZhbHVlKCdib3gnLCBCb3hXcmFwcGVyRnVuYylcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHVyZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QuZXh0ZW5zaW9uKCdDYWNoZScpLnB1cmdlKCdib3gnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBvYmplY3QucGFyZW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmV4dGVuc2lvbignQm94JykucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignYm94JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZW5zaW9uKCdDYWNoZScpLnZhbHVlKCdib3gnLCBCb3hXcmFwcGVyRnVuYykuZ2V0KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCd3aWR0aCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbignQ2FjaGUnKS52YWx1ZSgnYm94JywgQm94V3JhcHBlckZ1bmMpLmdldCgpLnNpemVbMF07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdoZWlnaHQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5leHRlbnNpb24oJ0NhY2hlJykudmFsdWUoJ2JveCcsIEJveFdyYXBwZXJGdW5jKS5nZXQoKS5zaXplWzFdO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignbGVmdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbignQ2FjaGUnKS52YWx1ZSgnYm94JywgQm94V3JhcHBlckZ1bmMpLmdldCgpLnBvc2l0aW9uWzBdO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcigndG9wJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZW5zaW9uKCdDYWNoZScpLnZhbHVlKCdib3gnLCBCb3hXcmFwcGVyRnVuYykuZ2V0KCkucG9zaXRpb25bMV07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGJveCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzUvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbignT2JqZWN0cycsXHJcbiAgICBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBDYWNoZShEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGZ1bmN0aW9uIChuYW1lLCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignT2JqZWN0IFZhbHVlIENhY2hlIC8gbmFtZSBpcyBub3QgYSBzdHJpbmchJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignT2JqZWN0IFZhbHVlIENhY2hlIC8gZnVuYyBpcyBub3QgYSBmdW5jdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghdmFsdWVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW25hbWVdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuYygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jOiBmdW5jLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxldmFudDogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQobmFtZSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnB1cmdlID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdPYmplY3QgVmFsdWUgQ2FjaGUgLyBDYW4gbm90IHB1cmdlIGNhY2hlIG9mIG5vbiBzdHJpbmcgbmFtZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbbmFtZV0ucmVsZXZhbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdPYmplY3QgVmFsdWUgQ2FjaGUgLyBDYW4gbm90IGdldCB2YWx1ZSBvZiBub24tc3RyaW5nIG5hbWUnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZXNbbmFtZV0ucmVsZXZhbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW25hbWVdLnZhbHVlID0gdmFsdWVzW25hbWVdLmZ1bmMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW25hbWVdLnJlbGV2YW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXNbbmFtZV0udmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvcDtcclxuICAgICAgICAgICAgICAgIGZvcihwcm9wIGluIHZhbHVlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdmFsdWVzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gRHJhd2VyKERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZHJhdyA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICB1cGRhdGUgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gdGhpcy5vYmplY3QoKSxcclxuICAgICAgICAgICAgICAgIHBpcGVTaXplID0gMCxcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbnMgPSBbXSxcclxuICAgICAgICAgICAgICAgIHJlbmRlcmluZyA9IHRydWUsXHJcbiAgICAgICAgICAgICAgICBleHBvcnRzID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNiID0gW10sXHJcbiAgICAgICAgICAgICAgICBjYkl0ZXJhdG9yID0gMCxcclxuICAgICAgICAgICAgICAgIGNhbGxVcGRhdGVDYiA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZHJhd2VyUGlwZUJlZm9yZSA9IHt9LFxyXG4gICAgICAgICAgICAgICAgZHJhd2VyUGlwZUFmdGVyID0ge30sXHJcbiAgICAgICAgICAgICAgICBiZWZvcmVQaXBlU2l6ZSA9IDAsXHJcbiAgICAgICAgICAgICAgICBhZnRlclBpcGVTaXplID0gMDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlVXBkYXRlZCA9IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJCRDQUxMKSBjYWxsVXBkYXRlQ2IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNiLnB1c2goY2IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBEZWJ1Zy5lcnJvcih7Y2I6IHR5cGVvZiBjYn0sICdTcHJpdGUgdXBkYXRlIGNhbGxiYWNrIHtjYn0gaXMgbm90IGEgZnVuY3Rpb24uJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVuZGVyQWxsb3dJdGVyYXRvciA9IDA7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZW5kZXJBbGxvd2VkKGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb25kaXRpb25zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHJlbmRlckFsbG93SXRlcmF0b3IgPSAwOyByZW5kZXJBbGxvd0l0ZXJhdG9yIDwgY29uZGl0aW9ucy5sZW5ndGg7IHJlbmRlckFsbG93SXRlcmF0b3IrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJpbmcgPSBjb25kaXRpb25zW3JlbmRlckFsbG93SXRlcmF0b3JdLmFwcGx5KG9iamVjdCwgYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW5kZXJpbmcgPT09IGZhbHNlKSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbmRlcmluZztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZHJhd0Z1bmN0aW9uID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe30sICdPYmplY3REcmF3ZXIgLyBmdW5jIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmRyYXdGdW5jdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkcmF3ID0gZnVuYztcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmRyYXdGdW5jdGlvbjtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRnVuY3Rpb24gPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7fSwgJ09iamVjdERyYXdlciAvIGZ1bmMgaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMudXBkYXRlRnVuY3Rpb247XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdXBkYXRlID0gZnVuYztcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnVwZGF0ZUZ1bmN0aW9uO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5leHBvcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXhwb3J0cyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHMgPSBhcmd1bWVudHNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leHBvcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsVXBkYXRlQ2IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY2JJdGVyYXRvciA9IDA7IGNiSXRlcmF0b3IgPCB1cGRhdGVDYi5sZW5ndGg7IGNiSXRlcmF0b3IrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNiW2NiSXRlcmF0b3JdLmNhbGwob2JqZWN0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbFVwZGF0ZUNiID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBleHBvcnRzID09PSBcImZ1bmN0aW9uXCIgPyBleHBvcnRzKCkgOiBleHBvcnRzO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZXhwb3J0cztcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLmZpbHRlciA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3RmdW5jOiB0eXBlb2YgZnVuY30sICdEcmF3ZXIgRmlsdGVyIGNhbGxiYWNrIHt0ZnVuY30gaXMgbm90IGEgZnVuY3Rpb24nLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGlwZSA9IGZ1bmN0aW9uIChmLCBvcmRlcikge1xyXG4gICAgICAgICAgICAgICAgb3JkZXIgPSBvcmRlciA9PT0gdW5kZWZpbmVkID8gMCA6IG9yZGVyO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcmRlciA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmRlciA+IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkcmF3ZXJQaXBlQWZ0ZXJbb3JkZXJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd2VyUGlwZUFmdGVyW29yZGVyXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd2VyUGlwZUFmdGVyW29yZGVyXS5wdXNoKGYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJQaXBlU2l6ZSsrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRyYXdlclBpcGVCZWZvcmVbb3JkZXJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd2VyUGlwZUJlZm9yZVtvcmRlcl0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdlclBpcGVCZWZvcmVbb3JkZXJdLnB1c2goZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWZvcmVQaXBlU2l6ZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpcGVTaXplKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe2Z0eXBlOiB0eXBlb2YgZn0sICdQaXBlIGNhbGxiYWNrIHtmdHlwZX0gaXMgbm90IGEgZnVuY3Rpb24nLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtvcmRlcjogb3JkZXJ9LCAnSW52YWxpZCBwaXBlIGZ1bmN0aW9uIG9yZGVyaW5nIHtvcmRlcn0nLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVucGlwZSA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGYgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGluZGV4IGluIGRyYXdlclBpcGVCZWZvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRyYXdlclBpcGVCZWZvcmUuaGFzT3duUHJvcGVydHkoaW5kZXgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3ZXJQaXBlQmVmb3JlW2luZGV4XSA9IGRyYXdlclBpcGVCZWZvcmVbaW5kZXhdLmZpbHRlcihmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2IgPT09IGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGlwZVNpemUtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlUGlwZVNpemUtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaW5kZXggaW4gZHJhd2VyUGlwZUFmdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkcmF3ZXJQaXBlQWZ0ZXIuaGFzT3duUHJvcGVydHkoaW5kZXgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3ZXJQaXBlQWZ0ZXJbaW5kZXhdID0gZHJhd2VyUGlwZUFmdGVyW2luZGV4XS5maWx0ZXIoZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNiID09PSBmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpcGVTaXplLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyUGlwZVNpemUtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ3BpcGUnLCB0aGlzLnBpcGUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcigndW5waXBlJywgdGhpcy51bnBpcGUpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vRHJhdyBmdW5jdGlvbiB2YXJpYWJsZXNcclxuICAgICAgICAgICAgdmFyIHBpcGVJbmRleCA9IDAsXHJcbiAgICAgICAgICAgICAgICBwaXBlT3JkZXIgPSAwLFxyXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxDb250ZXh0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrc1Jlc3VsdCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBhcmdzID0gW251bGwsIG51bGwsIG51bGxdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxVcGRhdGVDYikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY2JJdGVyYXRvciA9IDA7IGNiSXRlcmF0b3IgPCB1cGRhdGVDYi5sZW5ndGg7IGNiSXRlcmF0b3IrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDYltjYkl0ZXJhdG9yXS5jYWxsKG9iamVjdClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbFVwZGF0ZUNiID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZW5kZXJpbmcgPSB0cnVlO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVuZGVyQWxsb3dlZChhcmd1bWVudHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJnc1swXSA9IGFyZ3VtZW50c1swXTtcclxuICAgICAgICAgICAgICAgICAgICBhcmdzWzFdID0gYXJndW1lbnRzWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbMl0gPSBhcmd1bWVudHNbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxDb250ZXh0ID0gYXJnc1swXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxDb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZSkgdXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYmVmb3JlUGlwZVNpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwaXBlT3JkZXIgaW4gZHJhd2VyUGlwZUJlZm9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRyYXdlclBpcGVCZWZvcmUuaGFzT3duUHJvcGVydHkocGlwZU9yZGVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocGlwZUluZGV4ID0gMDsgcGlwZUluZGV4IDwgZHJhd2VyUGlwZUJlZm9yZVtwaXBlT3JkZXJdLmxlbmd0aDsgcGlwZUluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1swXS5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1Jlc3VsdCA9IGRyYXdlclBpcGVCZWZvcmVbcGlwZU9yZGVyXVtwaXBlSW5kZXhdLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzWzBdLnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbnRleHQgPSBjYWxsYmFja3NSZXN1bHQgPyBjYWxsYmFja3NSZXN1bHQgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1swXSA9IGN1cnJlbnRDb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRDb250ZXh0KSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRDb250ZXh0KSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3NbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3NbMF0gPT09IG9yaWdpbmFsQ29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1swXS5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBvYmplY3QuZXh0ZW5zaW9uKCdTdHlsZScpLmdldCgnYmxlbmRpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0uZ2xvYmFsQWxwaGEgKj0gb2JqZWN0LmV4dGVuc2lvbignU3R5bGUnKS5nZXQoJ29wYWNpdHknKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHJhdykgZHJhdy5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBvYmplY3QuZXh0ZW5zaW9uKCdTdHlsZScpLmdldCgnYmxlbmRpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29udGV4dC5nbG9iYWxBbHBoYSAqPSBvYmplY3QuZXh0ZW5zaW9uKCdTdHlsZScpLmdldCgnb3BhY2l0eScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRyYXcpIGRyYXcuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbENvbnRleHQuZHJhd0ltYWdlKGFyZ3NbMF0uY2FudmFzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDAsIGFyZ3NbMF0uY2FudmFzLndpZHRoLCBhcmdzWzBdLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1swXSA9IG9yaWdpbmFsQ29udGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWZ0ZXJQaXBlU2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwaXBlT3JkZXIgaW4gZHJhd2VyUGlwZUFmdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRyYXdlclBpcGVBZnRlci5oYXNPd25Qcm9wZXJ0eShwaXBlT3JkZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocGlwZUluZGV4ID0gMDsgcGlwZUluZGV4IDwgZHJhd2VyUGlwZUFmdGVyW3BpcGVPcmRlcl0ubGVuZ3RoOyBwaXBlSW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1swXS5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NSZXN1bHQgPSBkcmF3ZXJQaXBlQWZ0ZXJbcGlwZU9yZGVyXVtwaXBlSW5kZXhdLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1swXS5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29udGV4dCA9IGNhbGxiYWNrc1Jlc3VsdCA/IGNhbGxiYWNrc1Jlc3VsdCA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1swXSA9IGN1cnJlbnRDb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50Q29udGV4dCkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50Q29udGV4dCkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29udGV4dC5yZXN0b3JlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZHJhdyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHBpcGVTaXplID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9ucyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyaW5nID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0cyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNiID0gW107XHJcbiAgICAgICAgICAgICAgICBjYkl0ZXJhdG9yID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgY2FsbFVwZGF0ZUNiID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgZHJhd2VyUGlwZUJlZm9yZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgZHJhd2VyUGlwZUFmdGVyID0ge307XHJcbiAgICAgICAgICAgICAgICBiZWZvcmVQaXBlU2l6ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGFmdGVyUGlwZVNpemUgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgcGlwZUluZGV4ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgcGlwZU9yZGVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxDb250ZXh0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudENvbnRleHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFja3NSZXN1bHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBhcmdzID0gW251bGwsIG51bGwsIG51bGxdO1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyQWxsb3dJdGVyYXRvciA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvcDtcclxuXHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoY29uZGl0aW9uc1swXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbnMuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbnMgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHVwZGF0ZUNiWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ2Iuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNiID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgICAgIHdoaWxlIChhcmdzWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJncy5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYXJncyA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHByb3AgaW4gZHJhd2VyUGlwZUJlZm9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkcmF3ZXJQaXBlQmVmb3JlLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChkcmF3ZXJQaXBlQmVmb3JlW3Byb3BdWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3ZXJQaXBlQmVmb3JlW3Byb3BdLnVuc2hpZnQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkcmF3ZXJQaXBlQmVmb3JlW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAocHJvcCBpbiBkcmF3ZXJQaXBlQWZ0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZHJhd2VyUGlwZUFmdGVyLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChkcmF3ZXJQaXBlQWZ0ZXJbcHJvcF1bMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdlclBpcGVBZnRlcltwcm9wXS51bnNoaWZ0KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZHJhd2VyUGlwZUFmdGVyW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRyYXdlclBpcGVCZWZvcmUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBkcmF3ZXJQaXBlQWZ0ZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjYvMjAxNi5cclxuICovXHJcbiRSLnBsdWdpbignT2JqZWN0cycsXHJcbiAgICBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBMYXllcnMoRGVidWcpIHtcclxuICAgICAgICAgICAgdmFyIGxheWVycyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAwOiBbXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGxheWVyID0gMDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2xheWVyJywgZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gbGF5ZXI7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsICE9PSBcIm51bWJlclwiIHx8IHZhbCA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtuOiB2YWx9LCAnVmFsdWUge259IGlzIG5vdCBhIG51bWJlciBvciBsZXNzIHRoYW4gMCcsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudF9sYXllcl9leHQgPSB0aGlzLnBhcmVudCgpLmV4dGVuc2lvbignTGF5ZXJzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50X2xheWVyX2V4dC5wbGFjZSh2YWwsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGF5ZXIgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlT2JqZWN0RnJvbUxheWVycyhvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkb25lID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBsYXllciBpbiBsYXllcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXJzLmhhc093blByb3BlcnR5KGxheWVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGF5ZXJzW2xheWVyXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYobGF5ZXJzW2xheWVyXVtpXSA9PT0gb2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzW2xheWVyXS5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5wbGFjZSA9IGZ1bmN0aW9uIChsYXllciwgb2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVPYmplY3RGcm9tTGF5ZXJzKG9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWxheWVyc1tsYXllcl0pIGxheWVyc1tsYXllcl0gPSBbXTtcclxuICAgICAgICAgICAgICAgIGxheWVyc1tsYXllcl0ucHVzaChvYmplY3QpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZW1vdmUgPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVPYmplY3RGcm9tTGF5ZXJzKG9iamVjdCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvckVhY2ggPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gMCxcclxuICAgICAgICAgICAgICAgICAgICBsYXllciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxheWVyIGluIGxheWVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaXRlcmF0b3IgPSAwOyBpdGVyYXRvciA8IGxheWVyc1tsYXllcl0ubGVuZ3RoOyBpdGVyYXRvcisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmMuY2FsbChsYXllcnNbbGF5ZXJdW2l0ZXJhdG9yXSwgbGF5ZXJzW2xheWVyXVtpdGVyYXRvcl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGF5ZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxheWVycztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwcm9wO1xyXG4gICAgICAgICAgICAgICAgbGF5ZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBmb3IocHJvcCBpbiBsYXllcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihsYXllcnMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGxheWVyc1twcm9wXVswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzW3Byb3BdWzBdLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyc1twcm9wXS5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBsYXllcnNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDIvNi8yMDE3LlxyXG4gKi9cclxuJFIucGx1Z2luKCdPYmplY3RzJyxcclxuICAgIFsnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIE1hdHJpeChEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIGYgPSBudWxsLCBvYmplY3QgPSB0aGlzLm9iamVjdCgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZiA9IGZ1bmM7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIE1hdHJpeFdyYXBwZXIoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZi5jYWxsKG9iamVjdCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ21hdHJpeCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbignQ2FjaGUnKS52YWx1ZSgndHJhbnNmb3JtTWF0cml4JywgTWF0cml4V3JhcHBlcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wdXJnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9iamVjdC5leHRlbnNpb24oJ0NhY2hlJykucHVyZ2UoJ3RyYW5zZm9ybU1hdHJpeCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdC50eXBlKCkgPT09ICdHcm91cCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGF5ZXJzID0gb2JqZWN0LmV4dGVuc2lvbignTGF5ZXJzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4dGVuc2lvbignQ2FjaGUnKS5wdXJnZSgndHJhbnNmb3JtTWF0cml4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBmID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDIvMi8yMDE3LlxyXG4gKi9cclxuJFIucGx1Z2luKCdPYmplY3RzJyxcclxuICAgIFsnK01vdXNlJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBNb3VzZShNb3VzZUhlbHBlciwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBjYWxsYmFja3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZ21vdmU6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGRyYWdzdGFydDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2VuZDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgbW91c2Vtb3ZlOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBtb3VzZXVwOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBtb3VzZWRvd246IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlZW50ZXI6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlbGVhdmU6IFtdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1vdXNlQ2hlY2tGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEdldEV2ZW50QXJyYXkoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFja3NbZXZlbnRdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdvbicsIGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBmdW5jID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIGNhbGxiYWNrcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbaV0uJE9GRiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT09IFwic3RyaW5nXCIgJiYgZnVuYyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gR2V0RXZlbnRBcnJheShldmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJheS4kT0ZGID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IEdldEV2ZW50QXJyYXkoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJheS5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnVGhlcmUgaXMgbm8gZXZlbnQgW3tlfV0nKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFHZXRFdmVudEFycmF5KGV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2U6IGV2ZW50fSwgJ1VuYWJsZSB0byBzZXQgZXZlbnQgaGFuZGxlciBmb3Ige1tlXX0uIE5vIHN1Y2ggZXZlbnQgZm91bmQhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnQsIGY6IGZ1bmN9LCAnVW5hYmxlIHRvIHNldCBldmVudCBoYW5kbGVyIGZvciB7W2VdfS4ge1tmXX0gaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdvZmYnLCBmdW5jdGlvbiAoZXZlbnQsIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gdW5kZWZpbmVkICYmIGZ1bmMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tpXS4kJE9GRiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIiAmJiBmdW5jID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBHZXRFdmVudEFycmF5KGV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXkuJCRPRkYgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IEdldEV2ZW50QXJyYXkoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmMuJCRNT1VTRUZVTkNTRUFSQ0ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXlbaV0uJCRNT1VTRUZVTkNTRUFSQ0gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIUdldEV2ZW50QXJyYXkoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnVW5hYmxlIHRvIHVzZXQgZXZlbnQgaGFuZGxlciBmb3Ige1tlXX0uIG5vIHN1Y2ggZXZlbnQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnQsIGY6IGZ1bmN9LCAnVW5hYmxlIHRvIHVuc2V0IGZ1bmN0aW9uIHtbZl19IGZyb20gZXZlbnQge1tlXX0uIE5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignbW91c2VDaGVja0Z1bmN0aW9uJywgZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChNb3VzZUhlbHBlcltmdW5jICsgJ0NoZWNrRnVuY3Rpb24nXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZUNoZWNrRnVuY3Rpb24gPSBNb3VzZUhlbHBlcltmdW5jICsgJ1VzZXJDaGVja0Z1bmN0aW9uJ107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtmOiBmdW5jfSwgJ1VuYWJsZSB0byBzZXQgY2hlY2sgZnVuY3Rpb24hIHtbZl19IGlzIG5vdCBhIGZ1bmN0aW9uIScsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbW91c2VDaGVja0Z1bmN0aW9uID0gZnVuYztcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2Rpc2FibGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdlbmFibGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdkaXNhYmxlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkaXNhYmxlZDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNoZWNrID0gZnVuY3Rpb24gKHRhcmdldCwgY3Vyc29yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtb3VzZUNoZWNrRnVuY3Rpb24uY2FsbCh0YXJnZXQsIFtjdXJzb3JbMF0sIGN1cnNvclsxXV0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIGN1cnNvclRyYW5zZm9ybUZ1bmN0aW9uID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yVHJhbnNmb3JtRnVuY3Rpb24gPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSBcImZ1bmN0aW9uXCIpIGN1cnNvclRyYW5zZm9ybUZ1bmN0aW9uID0gZnVuYztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlDdXJzb3JUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoY3Vyc29yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3Vyc29yVHJhbnNmb3JtRnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3Vyc29yVHJhbnNmb3JtRnVuY3Rpb24uY2FsbCh0aGlzLCBjdXJzb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnNvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaGFzRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFja3NbZXZlbnRdO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9wYWdhdGUgPSBmdW5jdGlvbiAodGFyZ2V0LCBldmVudE9iaikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IHRhcmdldC5wYXJlbnQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW91c2UgPSBwYXJlbnQuZXh0ZW5zaW9uKCdNb3VzZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3VzZS5oYXNFdmVudChldmVudE9iai50eXBlKCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZXZlbnRPYmoudHlwZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2V2ZW50T2JqID0gZXZlbnRPYmoub3JpZ2luYWxUYXJnZXQuY2FsbCh7JCRNT1VTRVBST1BBR0FUSU9OU0VUVEVSOiBwYXJlbnR9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlLnJlc29sdmUocGFyZW50LCB0eXBlLCBfZXZlbnRPYmopO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IGZ1bmN0aW9uICh0YXJnZXQsIGV2ZW50LCBldmVudE9iaikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpc2FibGVkKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gR2V0RXZlbnRBcnJheShldmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhcnJheS4kT0ZGKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5W2ldLmNhbGwodGFyZ2V0LCBldmVudE9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRPYmoucHJvcGFnYXRlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BhZ2F0ZSh0YXJnZXQsIGV2ZW50T2JqKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2U6IGV2ZW50fSwgJ1VuYWJsZSB0byByZXNvbHZlIGV2ZW50IFt7ZX1dLiBObyBzdWNoIGV2ZW50IScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBjYWxsYmFja3MpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tpXS4kJE9GRiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvcDtcclxuICAgICAgICAgICAgICAgIGZvcihwcm9wIGluIGNhbGxiYWNrcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY2FsbGJhY2tzW3Byb3BdWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbcHJvcF0uc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY2FsbGJhY2tzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRpc2FibGVkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgbW91c2VDaGVja0Z1bmN0aW9uPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS81LzIwMTcuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWydAQ2FudmFzJywgJytEcmF3ZXInLFxyXG4gICAgICAgIGZ1bmN0aW9uIE9mZnNldChDYW52YXMsIERyYXdlckhlbHBlcikge1xyXG4gICAgICAgICAgICB2YXIgcG9pbnRzID0gW1swLCAwXSwgWzAsIDBdLCBbMCwgMF0sIFswLCAwXV0sXHJcbiAgICAgICAgICAgICAgICBtYXNrID0gQ2FudmFzLnNpemUoKSxcclxuICAgICAgICAgICAgICAgIGJveCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGl0ZXJhdG9yID0gMDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2JleW9uZCcsIGZ1bmN0aW9uIChjdHgpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBtYXNrID0gQ2FudmFzLnNpemUoKTtcclxuICAgICAgICAgICAgICAgIGJveCA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKS5ib3goKS5nZXQoKTtcclxuICAgICAgICAgICAgICAgIHBvaW50c1swXSA9IHRoaXMubWF0cml4KCkudHJhY2tMb2NhbFBvaW50KFtib3gucG9zaXRpb25bMF0sIGJveC5wb3NpdGlvblsxXV0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgcG9pbnRzWzFdID0gdGhpcy5tYXRyaXgoKS50cmFja0xvY2FsUG9pbnQoW2JveC5zaXplWzBdICsgYm94LnBvc2l0aW9uWzBdLCBib3gucG9zaXRpb25bMV1dLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHBvaW50c1syXSA9IHRoaXMubWF0cml4KCkudHJhY2tMb2NhbFBvaW50KFtib3guc2l6ZVswXSArIGJveC5wb3NpdGlvblswXSwgYm94LnNpemVbMV0gKyBib3gucG9zaXRpb25bMV1dLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHBvaW50c1szXSA9IHRoaXMubWF0cml4KCkudHJhY2tMb2NhbFBvaW50KFtib3gucG9zaXRpb25bMF0sIGJveC5zaXplWzFdICsgYm94LnBvc2l0aW9uWzFdXSwgdHJ1ZSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBsZWZ0ID0gTWF0aC5taW4ocG9pbnRzWzBdWzBdLCBwb2ludHNbMV1bMF0sIHBvaW50c1syXVswXSwgcG9pbnRzWzNdWzBdKSxcclxuICAgICAgICAgICAgICAgICAgICByaWdodCA9IE1hdGgubWF4KHBvaW50c1swXVswXSwgcG9pbnRzWzFdWzBdLCBwb2ludHNbMl1bMF0sIHBvaW50c1szXVswXSksXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tID0gTWF0aC5tYXgocG9pbnRzWzBdWzFdLCBwb2ludHNbMV1bMV0sIHBvaW50c1syXVsxXSwgcG9pbnRzWzNdWzFdKSxcclxuICAgICAgICAgICAgICAgICAgICB0b3AgPSBNYXRoLm1pbihwb2ludHNbMF1bMV0sIHBvaW50c1sxXVsxXSwgcG9pbnRzWzJdWzFdLCBwb2ludHNbM11bMV0pLFxyXG4gICAgICAgICAgICAgICAgICAgIHcgPSAocmlnaHQgLSBsZWZ0KSxcclxuICAgICAgICAgICAgICAgICAgICBoID0gKGJvdHRvbSAtIHRvcCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYobGVmdCA+IC13ICYmIHRvcCA+IC1oICYmIGJvdHRvbSA8IGggKyBtYXNrWzFdICYmIHJpZ2h0IDwgdyArIG1hc2tbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSx1O1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHBvaW50c1swXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChwb2ludHNbMF1bMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzWzBdLnNoaWZ0KClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwb2ludHMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobWFza1swXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc2suc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1hc2sgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gU3R5bGUoRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0ge30sXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFja3MgPSBbXSxcclxuICAgICAgICAgICAgICAgIHNldHRlcnMgPSB7fSxcclxuICAgICAgICAgICAgICAgIGdldHRlcnMgPSB7fSxcclxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gR2V0U2V0dGVyRnVuY3Rpb24obmFtZSwgc2V0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHNldHRlci5hcHBseSh0aGlzLCBbdmFsdWUsIHByb3BlcnRpZXNbbmFtZV0udmFsdWVdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gcHJvcGVydGllc1tuYW1lXS52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gXCJib29sZWFuXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7biA6IG5hbWV9LCAnVW5hYmxlIHRvIHNldCBwcm9wZXJ0eSB7bn0uIEludmFsaWQgdmFsdWUhJywgc2VsZik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbb2xkLCByZXN1bHRdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllc1tuYW1lXS52YWx1ZSA9IHJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2tzW25hbWVdKSBjYWxsYmFja3NbbmFtZV0gPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzW25hbWVdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbbmFtZV1baV0uYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBHZXRHZXR0ZXJGdW5jdGlvbihuYW1lLCBnZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlci5jYWxsKG51bGwsIHByb3BlcnRpZXNbbmFtZV0udmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTdHlsZVR5cGUxKGEsIGIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXNldHRlcnNbYV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHRhcmdldC50eXBlKClcclxuICAgICAgICAgICAgICAgICAgICB9LCAnT2JqZWN0IHR5cGUge3R5cGV9IGhhcyBubyBwcm9wZXJ0eSB7cHJvcGVydHl9JywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dGVyc1thXS5hcHBseSh0YXJnZXQsIFtiXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFN0eWxlVHlwZTIob2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgc2V0dGVyc3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW9iamVjdC5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkgfHwgIXNldHRlcnNbcHJvcGVydHldKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXR0ZXJzW3Byb3BlcnR5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHRhcmdldC50eXBlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ09iamVjdCB0eXBlIHt0eXBlfSBoYXMgbm8gc3R5bGUgcHJvcGVydHkge3Byb3BlcnR5fScsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRlcnN0YWNrLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJpbmc6IHByb3BlcnRpZXNbcHJvcGVydHldLm9yZGVyaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGVyOiBzZXR0ZXJzW3Byb3BlcnR5XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGVyc3RhY2subGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dGVyc3RhY2suc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5vcmRlcmluZyAtIGIub3JkZXJpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXR0ZXJzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR0ZXJzdGFja1tpXS5zZXR0ZXIuYXBwbHkodGFyZ2V0LCBbb2JqZWN0W3NldHRlcnN0YWNrW2ldLnByb3BlcnR5XV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG86IEpTT04uc3RyaW5naWZ5KG9iamVjdCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHRhcmdldC50eXBlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgJ09iamVjdCB7dHlwZX0gaGFzIGdvdCBubyBzdHlsZSBwcm9wZXJ0aWVzIHRvIGJlIGFwcGxpZWQgaW4ge299JywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gU3R5bGVUeXBlMyhuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWdldHRlcnNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHRhcmdldC50eXBlKClcclxuICAgICAgICAgICAgICAgICAgICB9LCAnT2JqZWN0IHt0eXBlfSBoYXMgbm8gcHJvcGVydHkge3Byb3BlcnR5fScsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXR0ZXJzW25hbWVdLmFwcGx5KHRhcmdldCwgW3Byb3BlcnRpZXNbbmFtZV0udmFsdWVdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ3N0eWxlJywgZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIiAmJiBiICE9PSB1bmRlZmluZWQpIFN0eWxlVHlwZTEuYXBwbHkodGhpcywgW2EsIGJdKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhID09PSBcIm9iamVjdFwiKSBTdHlsZVR5cGUyLmFwcGx5KHRoaXMsIFthXSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYSA9PT0gJ3N0cmluZycgJiYgYiA9PT0gdW5kZWZpbmVkKSByZXR1cm4gU3R5bGVUeXBlMy5hcHBseSh0aGlzLCBbYV0pO1xyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0ludmFsaWQgLnN0eWxlKCkgYXJndW1lbnRzJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCd3YXRjaCcsIGZ1bmN0aW9uIChwcm9wZXJ0eSwgY2FsbGJhY2spIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSAhPT0gXCJvYmplY3RcIiB8fCBwcm9wZXJ0eS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ1Byb3BlcnR5IGlzIG5vdCBhbiBhcnJheSBvciBzdHJpbmcnLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtwOiBwcm9wZXJ0eX0sICdTdHlsZSBjaGFuZ2UgY2FsbGJhY2sgZm9yIHByb3BlcnR5IHtwfSBpcyBub3QgYSBmdW5jdGlvbicsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydHkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eVtpXSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe2k6IGksIHA6IHByb3BlcnR5W2ldfSwgJ1Byb3BlcnR5IHtpfSBpcyBub3QgYSBzdHJpbmcge3B9JywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbGxiYWNrc1twcm9wZXJ0eVtpXV0gfHwgdHlwZW9mIGNhbGxiYWNrc1twcm9wZXJ0eVtpXV0gIT09IFwib2JqZWN0XCIgfHwgY2FsbGJhY2tzW3Byb3BlcnR5W2ldXS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIGNhbGxiYWNrc1twcm9wZXJ0eVtpXV0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1twcm9wZXJ0eVtpXV0ucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9wZXJ0eSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2tzW3Byb3BlcnR5XSB8fCBjYWxsYmFja3NbcHJvcGVydHldLmNvbnN0cnVjdG9yICE9PSBBcnJheSkgY2FsbGJhY2tzW3Byb3BlcnR5XSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1twcm9wZXJ0eV0ucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtwOiBwcm9wZXJ0eX0sICdTdHlsZSBwcm9wZXJ0eSB7cH0gaXMgbm90IGFuIGFycmF5IG9yIHN0cmluZycsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRlZmluZSA9IGZ1bmN0aW9uIChvcmRlcmluZywgbmFtZSwgdmFsdWUsIHNldHRlciwgZ2V0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ0R1cGxpY2F0ZWQgU3R5bGUgUHJvcGVydHkge25hbWV9JywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIiB8fCBuYW1lLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuOiBuYW1lfSwgJ1Byb3BlcnR5IHtuYW1lfSBpcyBub3QgYSBzdHJpbmcgb3IgZW1wdHknKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBnZXR0ZXIgIT09IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2Ygc2V0dGVyICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bjogbmFtZX0sICdVbmFibGUgdG8gZGVmaW5lIHByb3BlcnR5IHtufS4gR2V0dGVyIG9yIHNldHRlciBpcyB1bmRlZmluZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcmRlcmluZyAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuOiBuYW1lfSwgJ1N0eWxlIHByb3BlcnR5e259IGFwcGxpY2F0aW9uIG9yZGVyIGluIG5vdCBhIG51bWJlcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXNbbmFtZV0gPSB7b3JkZXJpbmc6IG9yZGVyaW5nLCB2YWx1ZTogdmFsdWV9O1xyXG5cclxuICAgICAgICAgICAgICAgIHNldHRlcnNbbmFtZV0gPSBHZXRTZXR0ZXJGdW5jdGlvbihuYW1lLCBzZXR0ZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGdldHRlcnNbbmFtZV0gPSBHZXRHZXR0ZXJGdW5jdGlvbihuYW1lLCBnZXR0ZXIpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNbbmFtZV0pIHJldHVybiBwcm9wZXJ0aWVzW25hbWVdLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe246IG5hbWV9LCAnR2V0dGluZyB2YWx1ZSBvZiBwcm9wZXJ0eSB7bn0gdGhhdCBkb2VzIG5vdCBleGlzdCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3JkZXJpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNbbmFtZV0pIHJldHVybiBwcm9wZXJ0aWVzW25hbWVdLm9yZGVyaW5nO1xyXG5cclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe246IG5hbWV9LCAnR2V0dGluZyBvcmRlcmluZyBvZiBwcm9wZXJ0eXtufSB0aGF0IGRvZXMgbm90IGV4aXN0IScpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvcDtcclxuICAgICAgICAgICAgICAgIHNlbGYgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBmb3IocHJvcCBpbiBwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJvcGVydGllc1twcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IocHJvcCBpbiBzZXR0ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoc2V0dGVycy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2V0dGVyc1twcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IocHJvcCBpbiBnZXR0ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZ2V0dGVycy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZ2V0dGVyc1twcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoY2FsbGJhY2tzWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzLnNoaWZ0KClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrcyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHNldHRlcnMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBnZXR0ZXJzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAzLzI1LzIwMTcuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWydEZWJ1ZycsICcrTW9kZWwnLCAnQGluamVjdCcsXHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dChEZWJ1ZywgTW9kZWxIZWxwZXIsIGluamVjdCwgRm9udHMpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUbygnVGV4dCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAob2JqZWN0LnR5cGUoKSAhPT0gJ1RleHQnKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICB2YXIgbGluZXMgPSBbXSxcclxuICAgICAgICAgICAgICAgIHdvcmRCeVdvcmRSZWdFeHAgPSAvKChcXFMrXFxzKyl8KFxcUyskKSkvZyxcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gb2JqZWN0LmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIHN0cmluZyA9ICcnLFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBsaW1pdHMgPSBbSW5maW5pdHksIEluZmluaXR5XSxcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gMCxcclxuICAgICAgICAgICAgICAgIGhlaWdodCA9IDA7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdsaW5lcycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheS5wdXNoKGxpbmVzW2ldLnN0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCd3b3JkcycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgd29yZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgbGluZXMubGVuZ3RoOyBsKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX3cgPSBsaW5lc1tpXS53b3JkcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHcgPSAwOyB3IDwgX3cubGVuZ3RoOyB3KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd29yZHMucHVzaChfdy5zdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdvcmRzO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGltaXRzID0gZnVuY3Rpb24gKHcsIGgpIHtcclxuICAgICAgICAgICAgICAgIGxpbWl0c1swXSA9IHc7XHJcbiAgICAgICAgICAgICAgICBsaW1pdHNbMV0gPSBoO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIG9iamVjdC53YXRjaCgnc3RyJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChuICE9PSBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgPSBuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIG9iamVjdC53YXRjaChbJ3N0cicsICdmb250U2l6ZScsICdsaW5lSGVpZ2h0JywgJ2NvbG9yJywgJ3dlaWdodCcsICdzdHlsZSddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKGZvcmNlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZSB8fCBmb3JjZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGllY2VzID0gc3RyaW5nLm1hdGNoKHdvcmRCeVdvcmRSZWdFeHApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsID0gMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXRzID0gc3R5bGUuZ2V0KCdzaXplJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHcgPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYocGllY2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmb250ID0gc3R5bGUuZ2V0KCdzeXN0ZW1Gb250JyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZSA9IHN0eWxlLmdldCgnZm9udFNpemUnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQgPSBzdHlsZS5nZXQoJ2xpbmVIZWlnaHQnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQgPSBzdHlsZS5nZXQoJ3dlaWdodCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBzdHlsZS5nZXQoJ2NvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U3R5bGUgPSBzdHlsZS5nZXQoJ3N0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyA9IFtdO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGllY2VzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJuZXdsaW5lID0gcGllY2VzW2ldLm1hdGNoKC9cXG4vZyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gcGllY2VzW2ldLm1hdGNoKC9cXFMrL2cpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmQgPSBpbmplY3QoJyRUZXh0V29yZENsYXNzJykuc3RyaW5nKHN0clswXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsaW5lc1tsXSkgbGluZXNbbF0gPSBpbmplY3QoJyRUZXh0TGluZUNsYXNzJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9udChmb250KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zaXplKGZvbnRTaXplKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5oZWlnaHQobGluZUhlaWdodClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY29sb3IoY29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKGZvbnRTdHlsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAud2VpZ2h0KGZvbnRXZWlnaHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzW2xdLnB1c2god29yZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSBsaW5lc1tsXS53aWR0aCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lV2lkdGggPj0gbGltaXRzWzBdIHx8IHVzZXJuZXdsaW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmVXaWR0aCA+IHcpIHcgPSBsaW5lV2lkdGggKyA0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IGxpbmVzLmxlbmd0aCAqIHN0eWxlLmdldCgnbGluZUhlaWdodCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9udFNpemUgPiBsaW5lSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgKz0gZm9udFNpemUgLSBsaW5lSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZvbnRTaXplIDwgbGluZUhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0IC09IGxpbmVIZWlnaHQgLSBmb250U2l6ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy50ZXh0QmxvY2tIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhlaWdodDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGV4dEJsb2NrV2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mb3JFYWNoTGluZSA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmMuYXBwbHkobGluZXNbaV0sIFtpLCBsaW5lc1tpXV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChsaW5lc1swXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsaW5lcyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChsaW1pdHNbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW1pdHMuc2hpZnQoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGltaXRzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgc3RyaW5nID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgd2lkdGggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB3b3JkQnlXb3JkUmVnRXhwID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLCBbJ0RlYnVnJywgJ1RyZWUnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFRyZWUoRGVidWcsIFRyZWVTZXJ2aWNlKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGlkZW50aXR5ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIG5vbkxldHRlcnMgPSAvW15hLXpBLVowLTktXSsvZ20sXHJcbiAgICAgICAgICAgICAgICBjYXBpdGFscyA9IC9bQS1aXS9nO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gbm9ybWFsaXNlSWRlbnRpdHkoaWQpIHtcclxuICAgICAgICAgICAgICAgIGlkID0gaWQucmVwbGFjZShub25MZXR0ZXJzLCAnJyk7XHJcbiAgICAgICAgICAgICAgICBpZCA9IGlkLnJlcGxhY2UoY2FwaXRhbHMsIGZ1bmN0aW9uIChzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJy0nICsgc3RyaW5nLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgaWQgPSBpZC5yZXBsYWNlKCctLScsICctJyk7XHJcbiAgICAgICAgICAgICAgICBpZCA9IGlkLnJlcGxhY2UoLyheLSl8KC0kKS9nLCAnJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaWQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrVHJlZSh0YXJnZXQsIG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gb2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQucGFyZW50KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoZWNrVHJlZSh0YXJnZXQsIHRhcmdldC5wYXJlbnQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gdHJlZVZpb2xhdGlvbih0YXJnZXQsIG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC50eXBlKCdHcm91cCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVja1RyZWUodGFyZ2V0LCBvYmplY3QpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ID09PSBvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQucGFyZW50KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdZb3UgdHJ5IHRvIGFwcGVuZCBncm91cCBwYXJlbnQgaW50byBpdHNlbGYuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdZb3UgdHJ5IHRvIGFwcGVuZCBncm91cCBwYXJlbnQgaW50byBpdFxcJ3MgY2hpbGRyZW4uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnR5cGUoKSAhPT0gJ0dyb3VwJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0LnR5cGUoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdDogb2JqZWN0LnR5cGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAnWW95IHRyeSB0byBhcHBlbmQgW3tvYmplY3R9XSBpbnRvIFt7dGFyZ2V0fV0uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGxheWVycyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCd1bm1vdW50JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYoIWlkZW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignVW5hYmxlIHRvIHVubW91bnQgYSBmcmVlIG9iamVjdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCgpLmV4dGVuc2lvbignTGF5ZXJzJykucmVtb3ZlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdhcHBlbmQnLCBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZighaWRlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmFibGUgdG8gYXBwZW5kIGEgZnJlZSBvYmplY3QnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy50eXBlKCdHcm91cCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2F0Y2goe3R5cGU6IHRoaXMudHlwZSgpfSwgJyBDYW4gbm90IGFwcGVuZC4gdHlwZVt7dHlwZX1dIG9mIHBhcmVudCBpcyBub3QgYWxsb3dlZCEnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRyZWVWaW9sYXRpb24odGhpcywgb2JqZWN0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC51bm1vdW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsYXllcnMpIGxheWVycyA9IHRoaXMuZXh0ZW5zaW9uKCdMYXllcnMnKTtcclxuICAgICAgICAgICAgICAgICAgICBsYXllcnMucGxhY2Uob2JqZWN0LmxheWVyKCksIG9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmV4dGVuc2lvbignVHJlZScpLnBhcmVudCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4dGVuc2lvbignQm94JykucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2FwcGVuZFRvJywgZnVuY3Rpb24gKG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgaWYoIWlkZW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignVW5hYmxlIHRvIGFwcGVuZCBhIGZyZWUgb2JqZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvYmplY3QuYXBwZW5kKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcigncGFyZW50JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdpZCcsIGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlkZW50aXR5ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZCA9IG5vcm1hbGlzZUlkZW50aXR5KGlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRlbnRpdHkgPSBpZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRyZWVTZXJ2aWNlLnJlZ2lzdGVyKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBEZWJ1Zy5lcnJvcignTm9ybWFsaXNlZCBpZGVudGl0eSBzZWVtcyB0byBiZSBlbXB0eS4gVW5hYmxlIHRvIHJlZ2lzdGVyIEdyYXBoaWNzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpZGVudGl0eTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgRGVidWcuZXJyb3IoJ1VuYWJsZSB0byBzZXQgaW5pdGlhbCBpZC4gSWQgaXMgbm90IGEgc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaWQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQgPSBub3JtYWxpc2VJZGVudGl0eShpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRyZWVTZXJ2aWNlLnJlZ2lzdGVyKHRoaXMsIGlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIERlYnVnLmVycm9yKCdOb3JtYWxpc2VkIGlkZW50aXR5IHNlZW1zIHRvIGJlIGVtcHR5LiBVbmFibGUgdG8gcmVnaXN0ZXIgR3JhcGhpY3MnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpZGVudGl0eTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgRGVidWcuZXJyb3IoJ0lkIGlzIG5vdCBhIHN0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBmdW5jdGlvbiAoZ3JvdXApIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZ3JvdXAudHlwZSAhPT0gXCJmdW5jdGlvblwiIHx8ICFncm91cC50eXBlKCdHcm91cCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cDogdHlwZW9mIGdyb3VwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBncm91cC50eXBlID8gZ3JvdXAudHlwZSgpIDogJ3Vua25vd25UeXBlJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sICdVbmFibGUgdG8gc2V0IHBhcmVudCBhcyB7Z3JvdXB9e3R5cGV9LiBPYmplY3QgaXMgbm90IGEgZ3JvdXAhJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JvdXApIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBncm91cDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBUcmVlU2VydmljZS51bnJlZ2lzdGVyKHRoaXMub2JqZWN0KCkpO1xyXG4gICAgICAgICAgICAgICAgbGF5ZXJzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pO1xyXG4iLCIkUi5zZXJ2aWNlKFtcclxuICAgICdAaW5qZWN0JyxcclxuICAgIGZ1bmN0aW9uIEFwaShpbmplY3QpIHtcclxuICAgICAgICB0aGlzLmNvbnRyb2wgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHZhciBhcGkgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldC5jYW4gPT09IFwiZnVuY3Rpb25cIiAmJiB0YXJnZXQuY2FuLiQkQVBJUFJPVEVDVEVEKSB7XHJcbiAgICAgICAgICAgICAgICBhcGkgPSB0YXJnZXQuY2FuLmNhbGwoeyQkQVBJUFJPVEVDVEVEOiB0cnVlfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoIWFwaSkge1xyXG4gICAgICAgICAgICAgICAgYXBpID0gaW5qZWN0KCckQXBpQ29udHJvbGxlcicpO1xyXG4gICAgICAgICAgICAgICAgYXBpLndyYXAodGFyZ2V0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYXBpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXSk7IiwiJFIuc2VydmljZS5jbGFzcygnQXBpJyxcclxuICAgIFtcclxuICAgICAgICAnRGVidWcnLCAnSXMnLCAnRXZlbnRzJyxcclxuICAgICAgICBmdW5jdGlvbiBBcGlDb250cm9sbGVyKERlYnVnLCBJcywgRXZlbnRzKSB7XHJcbiAgICAgICAgICAgIHZhciBtZXRob2RzID0ge30sXHJcbiAgICAgICAgICAgICAgICBlbWl0dGVyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53cmFwID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQuY2FuICE9PSBcInVuZGVmaW5lZFwiKSBEZWJ1Zy5lcnJvcih7dGFyZ2V0OiB0YXJnZXQuY29uc3RydWN0b3IubmFtZX0sICdUYXJnZXQgbWV0aG9kIGNvbGxpc2lvbi4ge3RhcmdldH0gYWxyZWFkeSBoYXMgLmNhbiBmaWVsZCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQuZG8gIT09IFwidW5kZWZpbmVkXCIpIERlYnVnLmVycm9yKHt0YXJnZXQ6IHRhcmdldC5jb25zdHJ1Y3Rvci5uYW1lfSwgJ1RhcmdldCBtZXRob2QgY29sbGlzaW9uLiB7dGFyZ2V0fSBhbHJlYWR5IGhhcyAuZG8gZmllbGQnKTtcclxuICAgICAgICAgICAgICAgIGVtaXR0ZXIgPSBFdmVudHMuZW1pdHRlcih0YXJnZXQpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuY2FuID0gZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLiQkQVBJUFJPVEVDVEVEKSByZXR1cm4gc2VsZjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzLnByb3BlclN0cmluZyhhY3Rpb25OYW1lKSkgRGVidWcuZXJyb3Ioe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0OiB0YXJnZXQuY29uc3RydWN0b3IubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbjogdHlwZW9mIGFjdGlvbk5hbWVcclxuICAgICAgICAgICAgICAgICAgICB9LCAne3R9XFwncyBBcGkgbWV0aG9kIHtuYW1lfSBjaGVjayBmYWlsZWQuIEFjdGlvbk5hbWUgaXMgbm90IGEgc3RyaW5nJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEhbWV0aG9kc1thY3Rpb25OYW1lXTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuY2FuLiQkQVBJUFJPVEVDVEVEID0gdHJ1ZTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmFwaSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBtIGluIG1ldGhvZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobWV0aG9kcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmRvID0gZnVuY3Rpb24gKGFjdGlvbiwgcGF5bG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghSXMucHJvcGVyU3RyaW5nKGFjdGlvbikpIERlYnVnLmVycm9yKHthOiB0eXBlb2YgYWN0aW9ufSwgJ0ludmFsaWQgYWN0aW9uIHBhcmFtZXRlciB7YX0uIEFjdGlvbiBpcyBub3QgYSBzdHJpbmcnLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmNhbihhY3Rpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmluZm8oe24gOiBhY3Rpb259LCAnUHJvY2Vzc2luZyB7bn0nLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5ncm91cChhY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1ldGhvZHNbYWN0aW9uXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kc1thY3Rpb25dW2ldLmNhbGwodGFyZ2V0LCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW1pdHRlcikgZW1pdHRlci5yZXNvbHZlKGFjdGlvbiwgcGF5bG9hZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmdyb3VwRW5kKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIERlYnVnLndhcm4oe3Q6IHRhcmdldC5jb25zdHJ1Y3Rvci5uYW1lLCBhOiBhY3Rpb259LCAne3R9IGNhbiBub3QgcGVyZm9ybSBhY3Rpb24ge2F9LicsIHRhcmdldClcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlZmluZSA9IGZ1bmN0aW9uIChhY3Rpb25OYW1lLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghSXMucHJvcGVyU3RyaW5nKGFjdGlvbk5hbWUpKSBEZWJ1Zy5lcnJvcih7bjogdHlwZW9mIGFjdGlvbk5hbWV9LCAnVW5hYmxlIHRvIGRlZmluZSBBcGkgbWV0aG9kIHtufS4gTWV0aG9kIG5hbWUgaXMgbm90IGEgc3RyaW5nJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQuY2FuKGFjdGlvbk5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZHNbYWN0aW9uTmFtZV0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuaW5mbyh7biA6IGFjdGlvbk5hbWV9LCAnQWRkZWQgQVBJIG1ldGhvZCB7bn0nLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0dGVyLnJlZ2lzdGVyKGFjdGlvbk5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuaW5mbyh7biA6IGFjdGlvbk5hbWV9LCAnQWRkZWQgYXBpIGNhbGxiYWNrIG1ldGhvZCBmb3Ige259JywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kc1thY3Rpb25OYW1lXS5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZShcclxuICAgIFsnQENhbnZhcycsICdAQ29uZmlnJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBDYW52YXMoQ2FudmFzLCBDb25maWcsIERlYnVnKSB7XHJcbiAgICAgICAgICAgIHZhciBjYWxsYmFja3MgPSBbXSwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCBkaW1tcyA9IFswLCAwXSwgeHVuaXRzID0gJ3B4JywgeXVuaXRzID0gJ3B4JyxcclxuICAgICAgICAgICAgICAgIG9mZnNldCA9IFswLCAwXSwgc2Nyb2xsID0gWzAsIDBdLCBvdXRwdXQgPSBDYW52YXMuZWxlbWVudCgpLCBzZWxmID0gdGhpcywgaGlkZGVuID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBDb25maWcuZGVmaW5lKFxyXG4gICAgICAgICAgICAgICAgJ3NpemUnLFxyXG4gICAgICAgICAgICAgICAgWzAsIDBdLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tOiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHR5cGVvZiB2WzBdID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2WzBdID09PSBBcnJheSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIHZbMF0gPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZbMV0gPT09IFwibnVtYmVyXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAud2F0Y2goXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2WzBdID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHZbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZbMF0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2WzBdLm1hdGNoKC9eW1xcZF0rJSQvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gcGFyc2VJbnQodlswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeHVuaXRzID0gJyUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDEwMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeHVuaXRzID0gJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt3aWR0aDogdlswXX0sICd7d2lkdGh9IGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBjYW52YXMuc2l6ZVswXS4gV2lkdGggc2V0IGFzIDEwMDBweCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAxMDAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7d2lkdGg6IHZbMF19LCAne3dpZHRofSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgY2FudmFzLnNpemVbMF0uIFdpZHRoIHNldCBhcyAxMDAwcHgnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2WzFdID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSB2WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2WzFdID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodlsxXS5tYXRjaCgvXltcXGRdKyUkLykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBwYXJzZUludCh2WzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5dW5pdHMgPSAnJSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IDgwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtoZWlnaHQ6IHZbMV19LCAne2hlaWdodH0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIGNhbnZhcy5zaXplWzFdLiBXaWR0aCBzZXQgYXMgODAwcHgnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IDgwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2hlaWdodDogdlsxXX0sICd7aGVpZ2h0fSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgY2FudmFzLnNpemVbMV0uIFdpZHRoIHNldCBhcyA4MDBweCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFdpbmRvd1Jlc2l6ZUNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBwVyA9IDAsIHBIID0gMCwgcmVzaXplVE8gPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY29tcGFyZU9uUmVzaXplKHN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4dW5pdHMgPT09ICclJyB8fCB5dW5pdHMgPT09ICclJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfcFcgPSBwVywgX3BIID0gcEg7XHJcbiAgICAgICAgICAgICAgICAgICAgQ2FudmFzLnNpemUoMCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc2l6ZVRPKSBjbGVhclRpbWVvdXQocmVzaXplVE8pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXNpemVUTyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IENhbnZhcy5lbGVtZW50KCkucGFyZW50Tm9kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHBhcmVudE5vZGUsIG51bGwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcEggPSBwYXJzZUludChzdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgnaGVpZ2h0JykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwVyA9IHBhcnNlSW50KHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCd3aWR0aCcpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfcFcgIT09IHBXKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeHVuaXRzID09PSAnJScgJiYgX3BXICE9PSBwVykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbW1zWzBdID0gTWF0aC5mbG9vcihwVyAqICh3aWR0aCAvIDEwMCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfcEggIT09IHBIKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeXVuaXRzID09PSAnJScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1tc1sxXSA9IE1hdGguZmxvb3IocEggKiAoaGVpZ2h0IC8gMTAwKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FudmFzLnNpemUoZGltbXNbMF0sIGRpbW1zWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXplVE8gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGltbXNbMF0gPSB3aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBkaW1tc1sxXSA9IGhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICBDYW52YXMuc2l6ZShkaW1tc1swXSwgZGltbXNbMV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEdldENhbnZhc09mZnNldCh4KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0UHJvcCA9IHggPyAnb2Zmc2V0TGVmdCcgOiAnb2Zmc2V0VG9wJztcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gMCwgZWxlbWVudCA9IENhbnZhcy5lbGVtZW50KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4oZWxlbWVudFtvZmZzZXRQcm9wXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGVsZW1lbnRbb2Zmc2V0UHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSB3aGlsZSAoZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBXaW5kb3dSZXNpemVDYWxsYmFjaygpIHtcclxuICAgICAgICAgICAgICAgIGlmICghb3V0cHV0KSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjb21wYXJlT25SZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFswXSA9IEdldENhbnZhc09mZnNldCgwKTtcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRbMV0gPSBHZXRDYW52YXNPZmZzZXQoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW2ldKGRpbW1zWzBdLCBkaW1tc1sxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFJlc29sdmVDYW52YXNFdmVudEFycmF5KCdjYW52YXNyZXNpemUnLCBbbmV3IFJDYW52YXNSZXNpemVFdmVudCgpXSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIENhbnZhc1N3aXRjaENhbGxiYWNrKCkge1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0WzBdID0gR2V0Q2FudmFzT2Zmc2V0KDApO1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0WzFdID0gR2V0Q2FudmFzT2Zmc2V0KDEpO1xyXG4gICAgICAgICAgICAgICAgUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkoJ2NhbnZhc3N3aXRjaCcsIFtuZXcgUkNhbnZhc1N3aXRjaEV2ZW50KCldKTtcclxuICAgICAgICAgICAgICAgIFdpbmRvd1Jlc2l6ZUNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVzaXplID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFja3MucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5vZmZyZXNpemUgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5maWx0ZXIoZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZiAhPT0gZnVuYztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4dW5pdHMgPT09ICclJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwVyAqICh3aWR0aCAvIDEwMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4dW5pdHMgPT09ICclJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwSCAqIChoZWlnaHQgLyAxMDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5oaWRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFoaWRkZW4pIHtcclxuICAgICAgICAgICAgICAgICAgIGlmKG91dHB1dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNob3cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYob3V0cHV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgY2FudmFzRXZlbnRDYWxsYmFja3MgPSB7XHJcbiAgICAgICAgICAgICAgICBtb3VzZW1vdmU6IFtdLFxyXG4gICAgICAgICAgICAgICAgbW91c2Vkb3duOiBbXSxcclxuICAgICAgICAgICAgICAgIG1vdXNldXA6IFtdLFxyXG4gICAgICAgICAgICAgICAgbW91c2VsZWF2ZTogW10sXHJcbiAgICAgICAgICAgICAgICBtb3VzZWVudGVyOiBbXSxcclxuICAgICAgICAgICAgICAgIGNhbnZhc3Jlc2l6ZTogW10sXHJcbiAgICAgICAgICAgICAgICBjYW52YXNzd2l0Y2g6IFtdXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBHZXRDYW52YXNFdmVudEFycmF5KGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FudmFzRXZlbnRDYWxsYmFja3NbZXZlbnRdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBSZXNvbHZlQ2FudmFzRXZlbnRBcnJheShldmVudCwgZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhICE9PSBcIm9iamVjdFwiIHx8IGRhdGEuY29uc3RydWN0b3IgIT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnQ2FudmFzIDogdW5hYmxlIHRvIHJlc29sdmUgZXZlbnQgYXJyYXkgW3tlfV0uIERhdGEgaXMgbm90IGFuIGFycmF5IScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBHZXRDYW52YXNFdmVudEFycmF5KGV2ZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnVW5hYmxlIHRvIHJlc29sdmUgZXZlbnQgW3tlfV0gbm8gc3VjaCBldmVudCEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbaV0uYXBwbHkoc2VsZiwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMub24gPSBmdW5jdGlvbiAoZXZlbnQsIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IEdldENhbnZhc0V2ZW50QXJyYXkoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2U6IGV2ZW50fSwgJ0NhbnZhcyA6IFVuYWJsZSB0byBzZXQgZXZlbnQgaGFuZGxlciBmb3IgZXZlbnQgW3tlfV0nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2Y6IGV2ZW50fSwgJ0NhbnZhcyA6IFVuYWJsZSB0byBzZXQgZXZlbnQgaGFuZGxlciBbe2Z9XScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYXJyYXkucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEdldE1vdXNlUmVsYXRpdmVQb3NpdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW2UucGFnZVggLSBvZmZzZXRbMF0gLSBzY3JvbGxbMF0sIGUucGFnZVkgLSBvZmZzZXRbMV0gLSBzY3JvbGxbMV1dO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBSQ2FudmFzTW91c2UoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlID0gW2UucGFnZVgsIGUucGFnZVldO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VlbiA9IFtlLnBhZ2VYIC0gc2Nyb2xsWzBdLCBlLnBhZ2VZIC0gc2Nyb2xsWzFdXTtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBHZXRNb3VzZVJlbGF0aXZlUG9zaXRpb24oZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFJDYW52YXNNb3VzZUV2ZW50KGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luYWwgPSBlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gZS50eXBlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZSA9IG5ldyBSQ2FudmFzTW91c2UoZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcyA9IHNlbGY7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFJDYW52YXNSZXNpemVFdmVudCgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9ICdjYW52YXNyZXNpemUnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBzZWxmO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vZmZzZXQgPSBbb2Zmc2V0WzBdLCBvZmZzZXRbMV1dO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaXplID0gW3dpZHRoLCBoZWlnaHRdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbCA9IFt3aWR0aCwgaGVpZ2h0XTtcclxuICAgICAgICAgICAgICAgIHRoaXMudW5pdHMgPSBbeHVuaXRzLCB5dW5pdHNdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHh1bml0cyA9PT0gJyUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaXplWzBdID0gcFcgKiAod2lkdGggLyAxMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHl1bml0cyA9PT0gJyUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaXplWzFdID0gcEggKiAoaGVpZ2h0IC8gMTAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gUkNhbnZhc1N3aXRjaEV2ZW50KCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gJ2NhbnZhc3N3aXRjaCc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcyA9IHNlbGY7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9mZnNldCA9IFtvZmZzZXRbMF0sIG9mZnNldFsxXV07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpemUgPSBbd2lkdGgsIGhlaWdodF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbmFsID0gW3dpZHRoLCBoZWlnaHRdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51bml0cyA9IFt4dW5pdHMsIHl1bml0c107XHJcbiAgICAgICAgICAgICAgICBpZiAoeHVuaXRzID09PSAnJScpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNpemVbMF0gPSBwVyAqICh3aWR0aCAvIDEwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoeXVuaXRzID09PSAnJScpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNpemVbMV0gPSBwSCAqIChoZWlnaHQgLyAxMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0ge1xyXG4gICAgICAgICAgICAgICAgbW91c2Vtb3ZlOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIFJlc29sdmVDYW52YXNFdmVudEFycmF5KCdtb3VzZW1vdmUnLCBbbmV3IFJDYW52YXNNb3VzZUV2ZW50KGUpXSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbW91c2Vkb3duOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIFJlc29sdmVDYW52YXNFdmVudEFycmF5KCdtb3VzZWRvd24nLCBbbmV3IFJDYW52YXNNb3VzZUV2ZW50KGUpXSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbW91c2V1cDogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBSZXNvbHZlQ2FudmFzRXZlbnRBcnJheSgnbW91c2V1cCcsIFtuZXcgUkNhbnZhc01vdXNlRXZlbnQoZSldKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtb3VzZWxlYXZlOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIFJlc29sdmVDYW52YXNFdmVudEFycmF5KCdtb3VzZWxlYXZlJywgW25ldyBSQ2FudmFzTW91c2VFdmVudChlKV0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1vdXNlZW50ZXI6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkoJ21vdXNlZW50ZXInLCBbbmV3IFJDYW52YXNNb3VzZUV2ZW50KGUpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBDYW52YXMuc3dpdGNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBldmVudDtcclxuICAgICAgICAgICAgICAgIGlmIChvdXRwdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGV2ZW50IGluIGxpc3RlbmVycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXJzLmhhc093blByb3BlcnR5KGV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tldmVudF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG91dHB1dCA9IHRoaXMuZWxlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGhpZGRlbikgb3V0cHV0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICBlbHNlIG91dHB1dC5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGZvciAoZXZlbnQgaW4gbGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShldmVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tldmVudF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIENhbnZhc1N3aXRjaENhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxbMV0gPSB3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxbMF0gPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgV2luZG93UmVzaXplQ2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlKFxyXG4gICAgWydAQ29uZmlnJyxcclxuICAgICAgICBmdW5jdGlvbiBEZWJ1Zyhjb25maWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSAn8J2QkScsXHJcbiAgICAgICAgICAgICAgICByZWdleHAgPSAve1thLXpBLVpdK30vZyxcclxuICAgICAgICAgICAgICAgIHJlZ2V4cG5hbWUgPSAvW2EtekEtWl0rL2csXHJcbiAgICAgICAgICAgICAgICB3YXJuaW5ncyA9IGNvbmZpZy5kZWZpbmUoJ3dhcm5pbmdzJywgZmFsc2UsIHtpc0Jvb2w6IHRydWV9LCBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm5pbmdzID0gdjtcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgZ3JvdXBMZXZlbCA9IGNvbmZpZy5kZWZpbmUoJ2RlYnVnTGV2ZWwnLCAwLCB7aXNOdW1iZXI6IHRydWV9LCBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2IDwgMCkgdiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybmluZ3MgPSB2O1xyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50TGV2ZWwgPSAwO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBlcnJvckNiID0gW10sIG1lc3NhZ2VDYiA9IFtdLCBpbmZvQ2IgPSBbXSwgaW1wb3J0YW50Q2IgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFJlc29sdmVFdmVudCh0eXBlLCBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyYXk7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2Vycm9yJykgYXJyYXkgPSBlcnJvckNiO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdtZXNzYWdlJykgYXJyYXkgPSBtZXNzYWdlQ2I7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2luZm8nKSBhcnJheSA9IGluZm9DYjtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnaW1wb3J0YW50JykgYXJyYXkgPSBpbXBvcnRhbnRDYjtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbaV0oZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMub24gPSBmdW5jdGlvbiAoZXZlbnQsIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT09ICdlcnJvcicpIGVycm9yQ2IucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ21lc3NhZ2UnKSBtZXNzYWdlQ2IucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ2luZm8nKSBtZXNzYWdlQ2IucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ2ltcG9ydGFudCcpIG1lc3NhZ2VDYi5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEdldE1lc3NhZ2UoZGF0YSwgbWVzc2FnZSwgc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS50b1N0cmluZygpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzID0gbWVzc2FnZS5tYXRjaChyZWdleHApO1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb3BzID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hdGNoZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNobmFtZSA9IG1hdGNoZXNbaV0ubWF0Y2gocmVnZXhwbmFtZSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaG5hbWUpIHByb3BzW21hdGNobmFtZV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlOiBtYXRjaGVzW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogJ1snICsgKGRhdGFbbWF0Y2huYW1lXSA9PT0gdW5kZWZpbmVkID8gJ3VuZGVmaW5lZCcgOiBkYXRhW21hdGNobmFtZV0udG9TdHJpbmcoKSkgKyAnXSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlLnJlcGxhY2UocHJvcHNbcHJvcF0ucmVwbGFjZSwgcHJvcHNbcHJvcF0uZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZSAmJiBzb3VyY2UuY29uc3RydWN0b3IgJiYgc291cmNlLmNvbnN0cnVjdG9yLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gJyAnICsgc291cmNlLmNvbnN0cnVjdG9yLm5hbWUgKyAnIOKUgiAnICsgbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBzdHJpbmcgKyBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBmdW5jdGlvbiAoZGF0YSwgbWVzc2FnZSwgc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gR2V0TWVzc2FnZShkYXRhLCBtZXNzYWdlLCBzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgUmVzb2x2ZUV2ZW50KCdlcnJvcicsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS50cmFjZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXJuID0gZnVuY3Rpb24gKGRhdGEsIG1lc3NhZ2UsIHNvdXJjZSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghd2FybmluZ3MuZ2V0KCkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBHZXRNZXNzYWdlKGRhdGEsIG1lc3NhZ2UsIHNvdXJjZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgUmVzb2x2ZUV2ZW50KCdtZXNzYWdlJywgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnJWMnICsgbWVzc2FnZSwgJ2JvcmRlci1sZWZ0OjRweCBzb2xpZCByZ2IoMTc4LDEzNyw3NSk7IHBhZGRpbmcgOjJweCA2cHg7IGJhY2tncm91bmQ6IHJnYmEoMTMxLDEzOCwwLC4xKTsgY29sb3I6IHJnYigxNzgsMTM3LDc1KScpO1xyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5mbyA9IGZ1bmN0aW9uIChkYXRhLCBtZXNzYWdlLCBzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgIGlmICghd2FybmluZ3MuZ2V0KCkpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IEdldE1lc3NhZ2UoZGF0YSwgbWVzc2FnZSwgc291cmNlKTtcclxuICAgICAgICAgICAgICAgIFJlc29sdmVFdmVudCgnaW5mbycsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJyVjJyArIG1lc3NhZ2UsICdib3JkZXItbGVmdDoycHggc29saWQgcmdiKDE0OSwyMDIsMCk7IHBhZGRpbmcgOjJweCA2cHg7IGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsLjEpOycpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gZnVuY3Rpb24gKGRhdGEsIG1lc3NhZ2UsIHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF3YXJuaW5ncy5nZXQoKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlID0gbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gR2V0TWVzc2FnZShkYXRhLCBtZXNzYWdlLCBzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgUmVzb2x2ZUV2ZW50KCdpbmZvJywgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnJWMnICsgbWVzc2FnZSwgJ3BhZGRpbmc6IDFweCAxMHB4OyBib3JkZXItbGVmdDoycHggc29saWQgIzEwOTQ5QzsgZm9udC13ZWlnaHQ6Ym9sZDsgYmFja2dyb3VuZDogcmdiYSgwLDE3NSwyMzEsLjEpOyBjb2xvcjogIzEwOTQ5QycpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRTZXBhcmF0b3JNZXNzYWdlcyA9IHt9LFxyXG4gICAgICAgICAgICAgICAgY3VycmVudFNlcGFyYXRvckxldmVsID0gMDtcclxuICAgICAgICAgICAgdGhpcy5zZXBhcmF0b3IgPSBmdW5jdGlvbiAoZGF0YSwgbWVzc2FnZSwgc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXdhcm5pbmdzLmdldCgpKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBHZXRNZXNzYWdlKGRhdGEsIG1lc3NhZ2UsIHNvdXJjZSk7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2VwYXJhdG9yTGV2ZWwgKys7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2VwYXJhdG9yTWVzc2FnZXNbY3VycmVudFNlcGFyYXRvckxldmVsXSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICBSZXNvbHZlRXZlbnQoJ2luZm8nLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCclYycgKyBtZXNzYWdlKyAnIOKMmycsICdwYWRkaW5nOiA0cHggMTBweDsgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCAjMTA5NDlDOyBiYWNrZ3JvdW5kOnJnYmEoMTYsMTQ4LDE1NiwwLjEpOyBjb2xvcjogIzEwOTQ5QycpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLnNlcGFyYXRvckVuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghd2FybmluZ3MuZ2V0KCkpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGlmKGN1cnJlbnRTZXBhcmF0b3JNZXNzYWdlc1tjdXJyZW50U2VwYXJhdG9yTGV2ZWxdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJyVjJyAgK2N1cnJlbnRTZXBhcmF0b3JNZXNzYWdlc1tjdXJyZW50U2VwYXJhdG9yTGV2ZWxdICsgJyDinJQnLCAncGFkZGluZzogNHB4IDEwcHg7IGJvcmRlci1sZWZ0OiAycHggc29saWQgIzEwOTQ5QzsgYmFja2dyb3VuZDpyZ2JhKDE2LDE0OCwxNTYsMC4xKTsgY29sb3I6ICMxMDk0OUMnKTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2VwYXJhdG9yTGV2ZWwtLTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKGN1cnJlbnRTZXBhcmF0b3JMZXZlbCA9PT0gMCkgY3VycmVudFNlcGFyYXRvck1lc3NhZ2VzID0ge307XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBvc2l0aXZlID0gZnVuY3Rpb24gKGRhdGEsIG1lc3NhZ2UsIHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF3YXJuaW5ncy5nZXQoKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlID0gbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gR2V0TWVzc2FnZShkYXRhLCBtZXNzYWdlLCBzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgUmVzb2x2ZUV2ZW50KCdpbmZvJywgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnJWMnICsgbWVzc2FnZSwgJ2JvcmRlci1sZWZ0OiAycHggc29saWQgcmdiKDE0OSwyMDIsMCk7IGJhY2tncm91bmQ6cmdiYSgxNDksMjAyLDAsLjEpOyBwYWRkaW5nOiA0cHggMTBweDsgY29sb3I6cmdiKDE0OSwyMDIsMCknKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubmVnYXRpdmUgPSBmdW5jdGlvbiAoZGF0YSwgbWVzc2FnZSwgc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXdhcm5pbmdzLmdldCgpKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBHZXRNZXNzYWdlKGRhdGEsIG1lc3NhZ2UsIHNvdXJjZSk7XHJcbiAgICAgICAgICAgICAgICBSZXNvbHZlRXZlbnQoJ2luZm8nLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCclYycgKyBtZXNzYWdlLCAnYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCByZ2IoMjI0LDE0LDApOyBiYWNrZ3JvdW5kOnJnYmEoMjI0LDE0LDAsLjEpOyBwYWRkaW5nOiA0cHggMTBweDsgY29sb3I6IHJnYigyMjQsMTQsMCknKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdXAgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF3YXJuaW5ncy5nZXQoKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudExldmVsID49IGdyb3VwTGV2ZWwuZ2V0KCkgPyBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKG1lc3NhZ2UpIDogY29uc29sZS5ncm91cChtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRMZXZlbCsrO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmdyb3VwRW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF3YXJuaW5ncy5nZXQoKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudExldmVsLS07XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDIvMi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZShcclxuICAgIFsnQENhbnZhcycsICdDYW52YXMnLCAnQFRpY2tlcicsICckRmluZGVyJyxcclxuICAgICAgICBmdW5jdGlvbiBEaXNwYXRjaGVyKENhbnZhc1Jvb3QsIENhbnZhcywgVGlja2VyLCBGaW5kZXIpIHtcclxuICAgICAgICAgICAgdmFyIHRhcmdldCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzOiBudWxsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbW91c2Vkb3duID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGN1cnNvciA9IHtcclxuICAgICAgICAgICAgICAgICAgICBvbGQ6IFswLCAwXSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBbMCwgMF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkcmFnID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudDogWzAsIDBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhOiBbMCwgMF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjaGVja2VkID0gdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZm9jdXNlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZHJhZ2dlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgQ2FudmFzLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFjdGl2ZSB8fCAhZm9jdXNlZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgbW91c2Vkb3duLnByZXZpb3VzID0gbW91c2Vkb3duLmN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICBtb3VzZWRvd24uY3VycmVudCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBDYW52YXMub24oJ21vdXNldXAnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFjdGl2ZSB8fCAhZm9jdXNlZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgbW91c2Vkb3duLnByZXZpb3VzID0gbW91c2Vkb3duLmN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICBtb3VzZWRvd24uY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgQ2FudmFzLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhY3RpdmUgfHwgIWZvY3VzZWQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGN1cnNvci5jdXJyZW50WzBdID0gZS5tb3VzZS5wb3NpdGlvblswXTtcclxuICAgICAgICAgICAgICAgIGN1cnNvci5jdXJyZW50WzFdID0gZS5tb3VzZS5wb3NpdGlvblsxXTtcclxuICAgICAgICAgICAgICAgIGNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBDYW52YXMub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBmb2N1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgQ2FudmFzLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZm9jdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gRGVmYXVsdFJFdmVudCh0eXBlLCB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfdHlwZSA9IHR5cGUsIHByb3BhZ2F0ZSA9IHRydWUsIF90YXJnZXQgPSB0YXJnZXQsIF9vcmlnaW5hbFRhcmdldCA9IHRhcmdldDtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90eXBlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BhZ2F0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcGFnYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wYWdhdGU7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wYWdhdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90YXJnZXQuJCRQUk9QQUdBVElPTlNFQVJDSCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IF9vcmlnaW5hbFRhcmdldC4kJFBST1BBR0FUSU9OU0VBUkNIO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGFyZ2V0LiQkUFJPUEFHQVRJT05TRUFSQ0g7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCA/IHJlc3VsdCA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luYWxUYXJnZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuJCRNT1VTRVBST1BBR0FUSU9OU0VUVEVSKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudCA9IGdldEV2ZW50QnlUeXBlKF90eXBlLCBfdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQub3JpZ2luYWxUYXJnZXQuY2FsbCh7JCRSRVNFVFRBUkdFVDogdGhpcy4kJE1PVVNFUFJPUEFHQVRJT05TRVRURVJ9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kJFJFU0VUVEFSR0VUKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90YXJnZXQgPSB0aGlzLiQkUkVTRVRUQVJHRVQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfb3JpZ2luYWxUYXJnZXQ7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBNb3VzZUV2ZW50KHR5cGUsIHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgRGVmYXVsdFJFdmVudC5hcHBseSh0aGlzLCBbdHlwZSwgdGFyZ2V0XSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvciA9IFtjdXJzb3IuY3VycmVudFswXSwgY3Vyc29yLmN1cnJlbnRbMV1dO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gRHJhZ0V2ZW50KHR5cGUsIHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgRGVmYXVsdFJFdmVudC5hcHBseSh0aGlzLCBbdHlwZSwgdGFyZ2V0XSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFtkcmFnLnN0YXJ0WzBdLCBkcmFnLnN0YXJ0WzFdXSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBbZHJhZy5jdXJyZW50WzBdLCBkcmFnLmN1cnJlbnRbMV1dLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhOiBbZHJhZy5kZWx0YVswXSwgZHJhZy5kZWx0YVsxXV1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRFdmVudEJ5VHlwZSh0eXBlLCB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnbW91c2Vtb3ZlJyB8fCB0eXBlID09PSAnbW91c2VsZWF2ZSdcclxuICAgICAgICAgICAgICAgICAgICB8fCB0eXBlID09PSAnbW91c2VlbnRlcicgfHwgdHlwZSA9PT0gJ21vdXNlZG93bidcclxuICAgICAgICAgICAgICAgICAgICB8fCB0eXBlID09PSAnbW91c2V1cCcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE1vdXNlRXZlbnQodHlwZSwgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnZHJhZ3N0YXJ0JyB8fCB0eXBlID09PSAnZHJhZ2VuZCcgfHwgdHlwZSA9PT0gJ2RyYWdtb3ZlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRHJhZ0V2ZW50KHR5cGUsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIERpc3BhdGNoKGV2ZW50LCB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRNb3VzZSA9IHRhcmdldC5leHRlbnNpb24oJ01vdXNlJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldE1vdXNlKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldE1vdXNlLmhhc0V2ZW50KGV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldE1vdXNlLnJlc29sdmUodGFyZ2V0LCBldmVudCwgZ2V0RXZlbnRCeVR5cGUoZXZlbnQsIHRhcmdldCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZXNvbHZlRXZlbnRCeVR5cGUodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0eXBlID09PSAnbW91c2VlbnRlcicgfHwgdHlwZSA9PT0gJ2RyYWdzdGFydCcgfHwgdHlwZSA9PT0gJ2RyYWdlbmQnIHx8IHR5cGUgPT09ICdkcmFnbW92ZScgfHxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID09PSAnbW91c2Vtb3ZlJyB8fCB0eXBlID09PSAnbW91c2V1cCcgfHwgdHlwZSA9PT0gJ21vdXNlZG93bicpICYmIHRhcmdldC5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGlzcGF0Y2godHlwZSwgdGFyZ2V0LmN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCh0eXBlID09PSAnbW91c2VsZWF2ZScgfHwgdHlwZSA9PT0gJ2RyYWdlbmQnKSAmJiB0YXJnZXQucHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBEaXNwYXRjaCh0eXBlLCB0YXJnZXQucHJldmlvdXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZXNvbHZlRHJhZ1N0YXJ0KCkge1xyXG4gICAgICAgICAgICAgICAgZHJhZ2dlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBkcmFnLnN0YXJ0WzBdID0gY3Vyc29yLmN1cnJlbnRbMF07XHJcbiAgICAgICAgICAgICAgICBkcmFnLnN0YXJ0WzFdID0gY3Vyc29yLmN1cnJlbnRbMV07XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRCeVR5cGUoJ2RyYWdzdGFydCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZXNvbHZlRHJhZ0VuZCgpIHtcclxuICAgICAgICAgICAgICAgIGRyYWcuY3VycmVudFswXSA9IGN1cnNvci5jdXJyZW50WzBdO1xyXG4gICAgICAgICAgICAgICAgZHJhZy5jdXJyZW50WzFdID0gY3Vyc29yLmN1cnJlbnRbMV07XHJcbiAgICAgICAgICAgICAgICBkcmFnLmRlbHRhWzBdID0gZHJhZy5zdGFydFswXSAtIGRyYWcuY3VycmVudFswXTtcclxuICAgICAgICAgICAgICAgIGRyYWcuZGVsdGFbMV0gPSBkcmFnLnN0YXJ0WzFdIC0gZHJhZy5jdXJyZW50WzFdO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdkcmFnZW5kJyk7XHJcbiAgICAgICAgICAgICAgICBkcmFnZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIERpc3BhdGNoRXZlbnRzKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vdXNlZG93bi5jdXJyZW50ICE9PSBtb3VzZWRvd24ub2xkICYmIG1vdXNlZG93bi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdtb3VzZWRvd24nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChtb3VzZWRvd24uY3VycmVudCAmJiBtb3VzZWRvd24uY3VycmVudCAhPT0gbW91c2Vkb3duLm9sZCAmJiAhZHJhZ2dlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVEcmFnU3RhcnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjdXJzb3Iub2xkWzBdICE9PSBjdXJzb3IuY3VycmVudFswXSB8fCBjdXJzb3Iub2xkWzFdICE9PSBjdXJzb3IuY3VycmVudFsxXSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmN1cnJlbnQgJiYgIXRhcmdldC5wcmV2aW91cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRCeVR5cGUoJ21vdXNlZW50ZXInKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQuY3VycmVudCAmJiB0YXJnZXQucHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdtb3VzZWxlYXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVEcmFnRW5kKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY3VycmVudCAmJiB0YXJnZXQucHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmN1cnJlbnQuJCRNT1VTRVNFQVJDSCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0LnByZXZpb3VzLiQkTU9VU0VTRUFSQ0gpIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXQuY3VycmVudC4kJE1PVVNFU0VBUkNIO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZURyYWdFbmQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnbW91c2VsZWF2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdtb3VzZWVudGVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlRHJhZ1N0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdXNlZG93bi5jdXJyZW50ICYmIG1vdXNlZG93bi5jdXJyZW50ID09PSBtb3VzZWRvd24ub2xkICYmIGRyYWdnZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZy5jdXJyZW50WzBdID0gY3Vyc29yLmN1cnJlbnRbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWcuY3VycmVudFsxXSA9IGN1cnNvci5jdXJyZW50WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnLmRlbHRhWzBdID0gZHJhZy5zdGFydFswXSAtIGRyYWcuY3VycmVudFswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZy5kZWx0YVsxXSA9IGRyYWcuc3RhcnRbMV0gLSBkcmFnLmN1cnJlbnRbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnZHJhZ21vdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdXNlZG93bi5jdXJyZW50ID09PSBtb3VzZWRvd24ub2xkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnbW91c2Vtb3ZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFtb3VzZWRvd24uY3VycmVudCAmJiBtb3VzZWRvd24uY3VycmVudCAhPT0gbW91c2Vkb3duLm9sZCAmJiBkcmFnZ2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZURyYWdFbmQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghbW91c2Vkb3duLmN1cnJlbnQgJiYgbW91c2Vkb3duLmN1cnJlbnQgIT09IG1vdXNlZG93bi5vbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRCeVR5cGUoJ21vdXNldXAnKTtcclxuICAgICAgICAgICAgICAgICAgICBkcmFnZ2VkID0gZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQucHJldmlvdXMgPSB0YXJnZXQuY3VycmVudDtcclxuICAgICAgICAgICAgICAgIG1vdXNlZG93bi5vbGQgPSBtb3VzZWRvd24uY3VycmVudDtcclxuICAgICAgICAgICAgICAgIGN1cnNvci5vbGRbMF0gPSBjdXJzb3IuY3VycmVudFswXTtcclxuICAgICAgICAgICAgICAgIGN1cnNvci5vbGRbMV0gPSBjdXJzb3IuY3VycmVudFsxXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlVGFyZ2V0cygpIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5wcmV2aW91cyA9IHRhcmdldC5jdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmN1cnJlbnQgPSBGaW5kZXIuY2hlY2soY3Vyc29yLmN1cnJlbnQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgdGljayA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZXZlbnREaXNwYXRjaGVyVGljaygpIHtcclxuICAgICAgICAgICAgICAgIHRpY2sgPSAhdGljaztcclxuICAgICAgICAgICAgICAgIGlmICh0aWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICBVcGRhdGVUYXJnZXRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgRGlzcGF0Y2hFdmVudHMoKTtcclxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgQ2FudmFzUm9vdC5xdWV1ZSgtMSwgZXZlbnREaXNwYXRjaGVyVGljayk7XHJcblxyXG4gICAgICAgICAgICBUaWNrZXIub24oJ3N0YXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFRpY2tlci5vbignc3RvcCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgVGlja2VyLm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiJFIuc2VydmljZShbJ0BpbmplY3QnLCAnRGVidWcnLCBmdW5jdGlvbiBFdmVudHMoaW5qZWN0LCBEZWJ1Zykge1xyXG5cclxuICAgIHRoaXMuZW1pdHRlciA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldC5vbiA9PT0gXCJmdW5jdGlvblwiICYmIHRhcmdldC5vbi4kJEVNSVRURVJQUk9URUNURUQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQub24uY2FsbCh7JCRFTUlUVEVSUFJPVEVDVEVEQ09OVEVYVDogdHJ1ZX0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBpbmplY3QoJyRFdmVudEVtaXR0ZXInKS5kZWNvcmF0ZSh0YXJnZXQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIERlYnVnLmVycm9yKHt0eXBlOiB0eXBlb2YgdGFyZ2V0fSwgJ1VuYWJsZSB0byBjcmVhdGUgRXZlbnRFbWl0dGVyLiBJbnZhbGlkIHRhcmdldCB7dHlwZX0gZm9yIGVtaXR0ZXIuJywgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMuZXZlbnQgPSBmdW5jdGlvbiAodHlwZSwgdGFyZ2V0LCBtZXRob2RzKSB7XHJcbiAgICAgICAgcmV0dXJuIGluamVjdCgnJEV2ZW50JykuaW5pdCh0eXBlLCB0YXJnZXQsIG1ldGhvZHMpO1xyXG4gICAgfVxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDUvMTEvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UoXHJcbiAgICBbJ0BUaWNrZXInLCAnQ2FudmFzJywgJ0BpbmplY3QnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEtleWJvYXJkKFRpY2tlciwgQ2FudmFzLCBpbmplY3QsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgY2FsbGJhY2tzID0ge30sXHJcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGVuYWJsZWQgPSB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZm9jdXNlZCA9IHRydWUsXHJcbiAgICAgICAgICAgICAgICBxdWV1ZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5rZXlkb3duID0gZnVuY3Rpb24gKGNvZGUsIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9uKGNvZGUsICdrZXlkb3duJywgZnVuYyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmtleXVwID0gZnVuY3Rpb24gKGNvZGUsIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9uKGNvZGUsICdrZXl1cCcsIGZ1bmMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kaXNhYmxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVuYWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGNvZGUsIGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvZGUgPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIGV2ZW50ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSAna2V5dXAnIHx8IGV2ZW50ID09PSAna2V5ZG93bicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2tzW2NvZGVdKSBjYWxsYmFja3NbY29kZV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2tzW2V2ZW50XSkgY2FsbGJhY2tzW2NvZGVdW2V2ZW50XSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW2NvZGVdW2V2ZW50XS5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignRXZlbnQgY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnTm8gc3VjaCB0eXBlIG9mIGV2ZW50IGFzIFt7ZX1dJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7YzogY29kZX0sICdXcm9uZyBrZXkgY29kZSBbe2N9XScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBPbkFwcFRpY2soKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVbaV0oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHF1ZXVlID0gW107XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFF1ZXVlRnVuYyhlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXljb2RlID0gZS5rZXlDb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFja3Nba2V5Y29kZV0gJiYgY2FsbGJhY2tzW2tleWNvZGVdW2UudHlwZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3Nba2V5Y29kZV1bZS50eXBlXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gaW5qZWN0KCckS2V5Ym9hcmRFdmVudCcpLmJ1aWxkKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW2tleWNvZGVdW2UudHlwZV1baV0uYXBwbHkoZXZlbnQsIFtrZXljb2RlLCBlLnR5cGVdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGNhbnZhc0NsaWNrZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIENhbnZhcy5vbignbW91c2Vkb3duJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzQ2xpY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjYW52YXNDbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9jdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb2N1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYW52YXNDbGlja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhY3RpdmUgfHwgIWVuYWJsZWQgfHwgIWZvY3VzZWQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goZ2V0UXVldWVGdW5jKGUpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFjdGl2ZSB8fCAhZW5hYmxlZCB8fCAhZm9jdXNlZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgcXVldWUucHVzaChnZXRRdWV1ZUZ1bmMoZSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIFRpY2tlci5xdWV1ZSgwLCBPbkFwcFRpY2spO1xyXG4gICAgICAgICAgICBUaWNrZXIub24oJ3N0YXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFRpY2tlci5vbignc3RvcCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDUvMTEvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ0tleWJvYXJkJyxcclxuICAgIFtcclxuICAgICAgICBmdW5jdGlvbiBLZXlib2FyZEV2ZW50KCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGtleWNvZGUgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgY3RybFByZXNzZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGFsdFByZXNzZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNoaWZ0UHJlc3NlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZXZlbnQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHR5cGUgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5idWlsZCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBrZXljb2RlID0gZS5rZXlDb2RlO1xyXG4gICAgICAgICAgICAgICAgY3RybFByZXNzZWQgPSBlLmN0cmxLZXk7XHJcbiAgICAgICAgICAgICAgICBhbHRQcmVzc2VkID0gZS5hbHRLZXk7XHJcbiAgICAgICAgICAgICAgICBzaGlmdFByZXNzZWQgPSBlLnNoaWZ0S2V5O1xyXG4gICAgICAgICAgICAgICAgZXZlbnQgPSBlO1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9IGUudHlwZTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmJ1aWxkO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN0cmluZyA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGUgPT09IHN0cmluZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgIHJldHVybiB0eXBlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb2RlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleWNvZGU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNoaWZ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNoaWZ0UHJlc3NlZDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5hbHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWx0UHJlc3NlZDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5jdHJsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0cmxQcmVzc2VkO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLm9yaWdpbmFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UoXHJcbiAgICBbJ0BpbmplY3QnLCAnK0Vhc2luZycsICdAQ2FudmFzJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBNb3JwaGluZShpbmplY3QsIEVhc2luZ3MsIENhbnZhcywgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBtb3JwaGluZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrKHN0YXJ0LCBlbmQsIGZ1bmMsIGVhc2luZywgZHVyYXRpb24sIHJwdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGFydCAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgZW5kICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe30sICdNb3JwaGluZSAvIFVuYWJsZSB0byBjcmVhdGUuIFN0YXJ0IHZhbHVlIGlzIGludmFsaWQnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7fSwgJ01vcnBoaW5lIC8gVW5hYmxlIHRvIGNyZWF0ZS4gRW5kIHZhbHVlIGlzIGludmFsaWQnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlYXNpbmcgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7fSwgJ01vcnBoaW5lIC8gVW5hYmxlIHRvIGNyZWF0ZS4gRWFzaW5nIGlzIG5vdCBhIHN0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mICBkdXJhdGlvbiAhPT0gXCJudW1iZXJcIiB8fCBkdXJhdGlvbiA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe30sICdNb3JwaGluZSAvIFVuYWJsZSB0byBjcmVhdGUuIER1cmF0aW9uIGlzIGxlc3MgdGhhbiAwIG9yIG5vdCBhIG51bWJlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZWZ1bmMgPSBFYXNpbmdzLmdldChlYXNpbmcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghZWZ1bmMpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7ZWFzaW5nOiBlYXNpbmd9LCAnIE1vcnBoaW5lIC8gVW5hYmxlIHRvIGNyZWF0ZS4gTm8gc3VjaCBlYXNpbmcge2Vhc2luZ30nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWZ1bmM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgZnVuYywgZWFzaW5nLCBkdXJhdGlvbiwgcnB0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgZWFzaW5nID0gY2hlY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbW9ycGhpbmUgPSBpbmplY3QoJyRNb3JwaGluZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpY2tGID0gbW9ycGhpbmUuY29uZmlnKHN0YXJ0LCBlbmQsIGZ1bmMsIGR1cmF0aW9uLCBlYXNpbmcsIHJwdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGlja0YubW9ycGhpbmUgPSBtb3JwaGluZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRpY2tGIHx8IHR5cGVvZiB0aWNrRiAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe30sICdVbmFibGUgdG8gY29uZmlnIG1vcnBoaW5lIGR1ZSB0byBzb21lIGNvbmZpZyBlcnJvci4nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aWNrRjtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIGZ1bmMsIGVhc2luZywgZHVyYXRpb24sIHJwdCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGVhc2luZyA9IGNoZWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG1vcnBoaW5lID0gaW5qZWN0KCckTW9ycGhpbmUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdGlja0YgPSBtb3JwaGluZS5jb25maWcoc3RhcnQsIGVuZCwgZnVuYywgZHVyYXRpb24sIGVhc2luZywgcnB0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRpY2tGIHx8IHR5cGVvZiB0aWNrRiAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe30sICdNb3JwaGluZSAvIFVuYWJsZSB0byBjb25maWcgbW9ycGhpbmUuIER1ZSB0byBzb21lIGVycm9yLicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aWNrRi4kbSA9IG1vcnBoaW5lO1xyXG5cclxuICAgICAgICAgICAgICAgIG1vcnBoaW5lcy5wdXNoKHRpY2tGKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9ycGhpbmU7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgQ2FudmFzLnF1ZXVlKC0yLCBmdW5jdGlvbiBwcm9jZXNzTW9ycGhpbmVzKGNvbnRleHQsIGRhdGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRlID0gZGF0ZS5nZXRUaW1lKCksXHJcbiAgICAgICAgICAgICAgICAgICAgX21vcnBoaW5lcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbW9ycGhpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtb3JwaGluZXNbaV0uJG0uZG9uZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoaW5lc1tpXShkYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX21vcnBoaW5lcy5wdXNoKG1vcnBoaW5lc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbW9ycGhpbmVzID0gX21vcnBoaW5lcztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAZXh0ZW5kJywgJ0BpbmplY3QnLCAnPFBsdWdpbnMnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEdyYXBoaWNzKGV4dGVuZCwgaW5qZWN0LCBwbHVnaW5zKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdHlwZSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlZF9wbHVnaW5zID0ge307XHJcblxyXG4gICAgICAgICAgICB0aGlzLmV4dGVuc2lvbiA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZWRfcGx1Z2luc1tuYW1lXTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RyID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGUgPT09IHN0cjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZWZpbmUgPSBmdW5jdGlvbiAodCwgaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdCAhPT0gXCJzdHJpbmdcIikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmRlZmluZTtcclxuXHJcbiAgICAgICAgICAgICAgICB0eXBlID0gdDtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IHBsdWdpbnMubGlzdCgpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlZF9wbHVnaW5zW2xpc3RbaV1dID0gaW5qZWN0KCckUGx1Z2luJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRfcGx1Z2luc1tsaXN0W2ldXS5kZWZpbmVPYmplY3QodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZChyZXNvbHZlZF9wbHVnaW5zW2xpc3RbaV1dLCAnPCcgKyBsaXN0W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZWRfcGx1Z2luc1tsaXN0W2ldXS5tYXRjaFR5cGUodHlwZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRfcGx1Z2luc1tsaXN0W2ldXS53cmFwKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNvbHZlZF9wbHVnaW5zW2xpc3RbaV1dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKGlkKSB0aGlzLmlkKGlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBleHRlbmQodGhpcywgJyQnICsgdCArICdPYmplY3RNb2RlbCcpO1xyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdE9iamVjdERyYXdlcicpO1xyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckJyArIHQgKyAnT2JqZWN0RHJhd2VyJyk7XHJcbiAgICAgICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0VHlwZScpO1xyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckJyArIHQgKyAnT2JqZWN0Q2xhc3MnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvcDtcclxuICAgICAgICAgICAgICAgIHRoaXMudW5tb3VudCgpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChwcm9wIGluIHJlc29sdmVkX3BsdWdpbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZWRfcGx1Z2lucy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlZF9wbHVnaW5zW3Byb3BdLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlc29sdmVkX3BsdWdpbnNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yIChwcm9wIGluIHRoaXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1twcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlZF9wbHVnaW5zID0gdW5kZWZpbmVkOyB0eXBlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UoXHJcbiAgICBbJ0BpbmplY3QnLCAnVHJlZScsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gT2JqZWN0cyhpbmplY3QsIFRyZWUsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBJbmplY3RCeVR5cGUodHlwZSwgY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWQgPSBjb25maWdbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBpbmplY3QoJyRHcmFwaGljcycpLmRlZmluZSh0eXBlLCBpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRyZWUucm9vdCgpLmFwcGVuZChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihjb25maWdbMV0pIHJlc3VsdC5zdHlsZShjb25maWdbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBEZWJ1Zy5lcnJvcih7dDogdHlwZX0sICdJZCBpcyBlbXB0eS4gVW5hYmxlIHRvIGNyZWF0ZSBbdF0nKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBEZWJ1Zy5lcnJvcih7dDogdHlwZX0sICdJZCBpcyBub3QgYSBzdHJpbmcuIFVuYWJsZSB0byBjcmVhdGUgW3RdJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbmplY3QoJyRHcmFwaGljcycpLmRlZmluZSh0eXBlKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSW5qZWN0QnlUeXBlKCdHcm91cCcsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxpbmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSW5qZWN0QnlUeXBlKCdMaW5lJywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBJbmplY3RCeVR5cGUoJ1JlY3RhbmdsZScsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNpcmNsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBJbmplY3RCeVR5cGUoJ0NpcmNsZScsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmltYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnSW1hZ2UnLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSW5qZWN0QnlUeXBlKCdTcHJpdGUnLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnVGV4dCcsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFyZWEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSW5qZWN0QnlUeXBlKCdBcmVhJywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIFRyZWUucm9vdChpbmplY3QoJyRHcmFwaGljcycpLmRlZmluZSgnR3JvdXAnLCAncm9vdCcpKTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEyLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlKFxyXG4gICAgWydAQ2FudmFzJywgJ0BpbmplY3QnLCAnRGVidWcnLCAnQENvbmZpZycsXHJcbiAgICAgICAgZnVuY3Rpb24gUmVzb3VyY2UoQ2FudmFzLCBpbmplY3QsIERlYnVnLCBDb25maWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBhbGwgPSBbXSxcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IHtcclxuICAgICAgICAgICAgICAgICAgICBJbWFnZVJlc291cmNlczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgU3ByaXRlUmVzb3VyY2VzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBGb250UmVzb3VyY2VzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBBdWRpb1Jlc291cmNlczogW11cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBsb2FkQ291bnRlciA9IDAsXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgICAgIGxvYWRlck1vZGUgPSAnYXV0byc7XHJcblxyXG4gICAgICAgICAgICBDb25maWcuZGVmaW5lKCdsb2FkZXJNb2RlJywgJ2F1dG8nLCB7aXNTdHJpbmc6IHRydWV9KS53YXRjaChmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgbG9hZGVyTW9kZSA9IHYgPT09ICdtYW51YWwnIHx8IHYgPT09ICdhdXRvJyA/IHYgOiAnYXV0byc7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0UmVzb3VyY2VCeVVSTCh0eXBlLCBzZWFyY2gpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnZm9udCcpIHNlYXJjaCA9IHNlYXJjaFswXTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBhcnJheSA9IGNvbnRhaW5lclt0eXBlICsgJ3MnXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWFycmF5KSByZXR1cm4gcmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXlbaV0udXJsKCkgPT09IHNlYXJjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBhcnJheVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGluamVjdEJ5VHlwZSh0eXBlLCBzcmMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBleGlzdGVkID0gZ2V0UmVzb3VyY2VCeVVSTCh0eXBlLCBzcmMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhpc3RlZDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90eXBlID0gdHlwZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGluamVjdCgnJCcgKyB0eXBlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkQ291bnRlcisrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvbHZlRXZlbnQoJ2xvYWQnLCBbdGhpcywgbG9hZENvdW50ZXIsIGFsbC5sZW5ndGhdKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQub24oJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkQ291bnRlcisrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvbHZlRXZlbnQoJ2Vycm9yJywgW3RoaXMsIGxvYWRDb3VudGVyLCBhbGwubGVuZ3RoXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC51cmwoc3JjKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyW190eXBlICsgJ3MnXS5wdXNoKHJlc3VsdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGFsbC5wdXNoKHJlc3VsdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGxvYWRlck1vZGUgPT09ICdhdXRvJykgcmVzdWx0LmxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZUV2ZW50KCdhZGQnLCBbcmVzdWx0LCBsb2FkQ291bnRlciwgYWxsLmxlbmd0aF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmltYWdlID0gZnVuY3Rpb24gKHNyYykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluamVjdEJ5VHlwZSgnSW1hZ2VSZXNvdXJjZScsIHNyYyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbmplY3RCeVR5cGUoJ1Nwcml0ZVJlc291cmNlJywgc3JjKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW8gPSBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5qZWN0QnlUeXBlKCdBdWRpb1Jlc291cmNlJywgc3JjKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9udCA9IGZ1bmN0aW9uIChzcmMsIHdlaWdodCwgc3R5bGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbmplY3RCeVR5cGUoJ2ZvbnQnLCBbc3JjLCB3ZWlnaHQsIHN0eWxlXSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZihsb2FkZXJNb2RlID09PSAnbWFudWFsJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDAgOyBpIDwgYWxsLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFtpXS5sb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIGNCQ29udGFpbmVyID0ge1xyXG4gICAgICAgICAgICAgICAgbG9hZDogW10sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogW10sXHJcbiAgICAgICAgICAgICAgICBhZGQ6IFtdXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gY0JDb250YWluZXJbZXZlbnRdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2V2ZW50OiBldmVudH0sICdVbmFibGUgdG8gc2V0IGV2ZW50IFt7ZXZlbnR9XSBjYWxsYmFjay4gZnVuYyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2V2ZW50OiBldmVudH0sICdVbmFibGUgdG8gc2V0IGV2ZW50IFt7ZXZlbnR9XS4gTm8gc3VjaCBldmVudCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignVW5hYmxlIHRvIHNldCBldmVudCBjYWxsYmFjay4gRXZlbnQgbmFtZSBpcyBub3QgYSBzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub2ZmID0gZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gY0JDb250YWluZXJbZXZlbnRdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuYy4kJFNFQVJDSCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhcnJheVtpXS4kJFNFQVJDSCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXJyYXkucHVzaChhcnJheVtpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZnVuYy4kJFNFQVJDSDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNCQ29udGFpbmVyW2V2ZW50XSA9IG5hcnJheTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2V2ZW50OiBldmVudH0sICdVbmFibGUgdG8gdW5zZXQgY2FsbGJhY2sgZm9yIGV2ZW50IFt7ZXZlbnR9XS4gTm8gc3VjaCBldmVudCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignVW5hYmxlIHRvIHVuc2V0IGV2ZW50LiBFdmVudCBpcyBub3QgYSBzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWwgOiBhbGwubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvYWRlZCA6IGxvYWRDb3VudGVyXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMubGlzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXS5jb25jYXQoY29udGFpbmVyLkltYWdlUmVzb3VyY2VzKS5jb25jYXQoY29udGFpbmVyLkF1ZGlvUmVzb3VyY2VzKS5jb25jYXQoY29udGFpbmVyLkZvbnRSZXNvdXJjZXMpLmNvbmNhdChjb250YWluZXIuU3ByaXRlUmVzb3VyY2VzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFJlc29sdmVFdmVudCh0eXBlLCBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBjQkNvbnRhaW5lclt0eXBlXTtcclxuICAgICAgICAgICAgICAgIGlmICghYXJyYXkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbaV0uYXBwbHkoc2VsZiwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlUmVzb3VyY2VzKGNhbnZhcywgZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250YWluZXIuU3ByaXRlUmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5TcHJpdGVSZXNvdXJjZXNbaV0ucmVhZHkoKSAmJiBjb250YWluZXIuU3ByaXRlUmVzb3VyY2VzW2ldLmxvYWRlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5TcHJpdGVSZXNvdXJjZXNbaV0udGljayhkYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIENhbnZhcy5xdWV1ZSgtMiwgdXBkYXRlUmVzb3VyY2VzKTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTYvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UoXHJcbiAgICBbJ0BBdWRpbycsICdAaW5qZWN0JywgJ0BDb25maWcnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFNvdW5kKGNvbnRleHQsIGluamVjdCwgY29uZmlnLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgY29uZmlnLmRlZmluZSgnZmlsdGVycycsIFsnRGVsYXknLCAnR2FpbiddLCB7aXNBcnJheTogdHJ1ZX0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gaW5qZWN0KCckQXVkaW8nKS5idWlsZCgnJCRERVNUSU5BVElPTicsICdkZXN0aW5hdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgc291bmRzID0ge30sXHJcbiAgICAgICAgICAgICAgICBzb3VuZGNvdW50ID0gMCxcclxuICAgICAgICAgICAgICAgIGNoYW5uZWxjb3VudCA9IDAsXHJcbiAgICAgICAgICAgICAgICBjaGFubmVscyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAkJERFU1RJTkFUSU9OOiBkZXN0aW5hdGlvblxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLnNhbXBsZSA9IGZ1bmN0aW9uICh1cmwsIGNoYW5uZWwsIG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdXJsID09PSBcInN0cmluZ1wiICYmIHVybC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdW5kc1t1cmxdKSByZXR1cm4gc291bmRzW3VybF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiIHx8IG5hbWUubGVuZ3RoID09PSAwKSBuYW1lID0gJ1VzZXJTb3VuZFsnICsgc291bmRjb3VudCArICddJztcclxuICAgICAgICAgICAgICAgICAgICBzb3VuZGNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGluamVjdCgnJEF1ZGlvJykuYnVpbGQobmFtZSwgdXJsKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNoYW5uZWwgIT09IFwic3RyaW5nXCIgfHwgY2hhbm5lbC5sZW5ndGggPT09IDApIGNoYW5uZWwgPSAnJCRERVNUSU5BVElPTic7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG91dCA9IHRoaXMuY2hhbm5lbChjaGFubmVsKTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuY29ubmVjdChvdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdW5kc1tyZXN1bHQudXJsKCldID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt1cmw6IHVybH0sICdbe3VybH1dIGlzIG5vdCB2YWxpZCBhdWRpbyB1cmwgb3IgZW1wdHkuJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWwgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiICYmIG5hbWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVsc1tuYW1lXSkgcmV0dXJuIGNoYW5uZWxzW25hbWVdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaW5qZWN0KCckQXVkaW8nKS5idWlsZChuYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmNvbm5lY3QoZGVzdGluYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzW25hbWVdID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWxzID0gZnVuY3Rpb24gKGJ5dXJsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIGJ5dXJsID0gISFieXVybDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjaGFubmVsIGluIGNoYW5uZWxzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWxzLmhhc093blByb3BlcnR5KGNoYW5uZWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVsICE9PSAnJCRERVNUSU5BVElPTicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChieXVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RbY2hhbm5lbC51cmwoKV0gPSBjaGFubmVsW2NoYW5uZWxdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFtjaGFubmVsXSA9IGNoYW5uZWxzW2NoYW5uZWxdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc291bmRzID0gZnVuY3Rpb24gKGJ5dXJsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIGJ5dXJsID0gISFieXVybDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHNvdW5kcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VuZHMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ5dXJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0W3Byb3BdID0gc291bmRzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFtzb3VuZHNbcHJvcF0ubmFtZSgpXSA9IHNvdW5kc1twcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhbm5lbHMuJCRERVNUSU5BVElPTjtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiJFIuc2VydmljZShbJ0BpbmplY3QnLCAnRGVidWcnLCBmdW5jdGlvbiBTdGF0ZXMoaW5qZWN0LCBEZWJ1Zykge1xyXG5cclxuICAgIHRoaXMuY29udGFpbmVyID0gZnVuY3Rpb24gKHRhcmdldCwgZW1pdHRlcikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0LmlzID09PSBcImZ1bmN0aW9uXCIgJiYgdGFyZ2V0LmlzLiQkU1RBVEVTUFJPVEVDVEVEID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudENvbnRhaW5lciA9IHRhcmdldC5pcy5jYWxsKHskU1RBVEVTUFJPVEVDVEVEQ09OVEVYVDogdHJ1ZX0pO1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmlzLmNhbGwoeyRTVEFURVNQUk9URUNURURIQVNFTUlUVEVSU0VUOiB0cnVlfSwgZW1pdHRlcik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudENvbnRhaW5lcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaW5qZWN0KCckU3RhdGUnKS5kZWNvcmF0ZSh0YXJnZXQsIGVtaXR0ZXIpO1xyXG4gICAgICAgIH0gZWxzZSBEZWJ1Zy5lcnJvcignU3RhdGVzIHRhcmdldCBpcyBub3QgYW4gb2JqZWN0JywgdGhpcyk7XHJcbiAgICB9XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlKFxyXG4gICAgWydEZWJ1ZycsICdAQ2FudmFzJywgJ0BDb25maWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFRyZWUoRGVidWcsIENhbnZhcywgQ29uZmlnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcm9vdCA9IG51bGwsIHJvb3REcmF3ZXIgPSBudWxsLCByb290U3R5bGUgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgY2xlYXIgPSBDb25maWcuZGVmaW5lKCdjbGVhcicsIGZhbHNlLCB7aXNCb29sOiB0cnVlfSkud2F0Y2goZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhciA9IHY7XHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzID0ge307XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uIChvYmplY3QsIG5ld19pZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jb25zdHJ1Y3Rvci5uYW1lID09PSAnR3JhcGhpY3MnICYmIG9iamVjdC5pZCAmJiB0eXBlb2Ygb2JqZWN0LmlkID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5ld19pZCA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBvYmplY3QuaWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gXCJzdHJpbmdcIiAmJiBpZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZWxlbWVudHNbaWRdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHNbaWRdID0gb2JqZWN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIERlYnVnLmVycm9yKHtpZDogb2JqZWN0LmlkKCl9LCAnVW5hYmxlIHRvIHJlZ2lzdGVyIEdyYXBoaWNzIFtpZF0uIEVsZW1lbnQgYWxyZWFkeSBleGlzdHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIERlYnVnLmVycm9yKCdVbmFibGUgdG8gcmVnaXN0ZXIgR3JhcGhpY3Mgd2l0aCBubyBpZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobmV3X2lkID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudHNbb2JqZWN0LmlkKCldKSBkZWxldGUgZWxlbWVudHNbb2JqZWN0LmlkKCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50c1tuZXdfaWRdID0gZWxlbWVudHNbbmV3X2lkXSA9IG9iamVjdDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgRGVidWcuZXJyb3IoJ1VuYWJsZSB0byBzZXQgbmV3IGlkLiBuZXdfaWQgYXJndW1lbnQgaXMgbm90IGEgdmFsaWQgc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgRGVidWcuZXJyb3Ioe3Q6IHR5cGVvZiBvYmplY3R9LCAnVW5hYmxlIHRvIHJlZ2lzdGVyIFt0XS4gQXJndW1lbnQgaXMgbm90IEdyYXBoaWNzJylcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy51bnJlZ2lzdGVyID0gZnVuY3Rpb24gKG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgaWYoIW9iamVjdC5pZCgpKSByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgaWYoZWxlbWVudHNbb2JqZWN0LmlkKCldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGVsZW1lbnRzW29iamVjdC5pZCgpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50c1tpZF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudHNbaWRdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFyb290KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvYmplY3QudHlwZSB8fCB0eXBlb2Ygb2JqZWN0LnR5cGUgIT09IFwiZnVuY3Rpb25cIiB8fCBvYmplY3QudHlwZSgpICE9PSAnR3JvdXAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtvYmplY3Q6IG9iamVjdC5jb25zdHJ1Y3RvciwgdHlwZSA6IHR5cGVvZiBvYmplY3QudHlwZSAhPT0gXCJmdW5jdGlvblwiID8gb2JqZWN0LnR5cGUoKSA6ICd1bmtub3duVHlwZSd9LCAnVW5hYmxlIHRvIHNldCB0cmVlIHJvb3QgYXMge29iamVjdH17dHlwZX0uIE9iamVjdCBpcyBub3QgYSBncm91cC4nLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByb290ID0gb2JqZWN0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZHJhd2VyID0gcm9vdC5leHRlbnNpb24oJ0RyYXdlcicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRyYXdlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7b2JqZWN0IDogb2JqZWN0LnR5cGUoKX0sICd7b2JqZWN0fSBoYXMgbm8gZHJhd2VyIGV4dGVuc2lvbicsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZHJhd2VyLmRyYXcgfHwgdHlwZW9mIGRyYXdlci5kcmF3ICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe29iamVjdCA6IG9iamVjdC50eXBlKCl9LCAne29iamVjdH0gaW5jb21wYXRpYmxlIGRyYXdlciBleHRlbnNpb24nLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcm9vdERyYXdlciA9IGRyYXdlcjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcm9vdFN0eWxlID0gcm9vdC5leHRlbnNpb24oJ1N0eWxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvb3Q7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm9vdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gZHJhd0dyYXBoaWNzVHJlZShjb250ZXh0LCBkYXRlLCBmcmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyb290IHx8ICFyb290RHJhd2VyKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xlYXIpIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNvbnRleHQuY2FudmFzLm9mZnNldFdpZHRoLCBjb250ZXh0LmNhbnZhcy5vZmZzZXRIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgcm9vdERyYXdlci5kcmF3LmFwcGx5KHJvb3QsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgQ2FudmFzLnF1ZXVlKDAsIGRyYXdHcmFwaGljc1RyZWUpO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5wbHVnaW4uY2xhc3MoJ09iamVjdHMnLCAnQW5pbWF0aW9uJyxcclxuICAgIFsnK0FuaW1hdGlvbicsICdNb3JwaGluZScsXHJcbiAgICAgICAgZnVuY3Rpb24gQW5pbWF0aW9uKEFuaW1hdGlvbkhlbHBlciwgTW9ycGhpbmUpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBwcm9ncmVzcyA9IDAsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgZG9uZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc3RhY2sgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgbW9ycGhpbmUgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHN0ZXBzQ2IgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgcXVldWUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY2xlYXIgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3RlcFR5cGVTdHIgPSAndHlwZScsXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZVR5cGVTdHIgPSAnY29tcGxldGUnLFxyXG4gICAgICAgICAgICAgICAgY29uZmlnID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFJlc29sdmUodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IHN0ZXBUeXBlU3RyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RlcHNDYi5oYXNPd25Qcm9wZXJ0eShzdGFja1tpXS5tb3JwaC5wcm9wZXJ0eSgpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcHNDYltzdGFja1tpXS5tb3JwaC5wcm9wZXJ0eSgpXS5hcHBseSh0YXJnZXQsIFtwcm9ncmVzcywgc3RhY2tbaV0ucmVzdWx0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSBjb21wbGV0ZVR5cGVTdHIpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0cyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0c1tzdGFja1tpXS5tb3JwaC5wcm9wZXJ0eSgpXSA9IHN0YWNrW2ldLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmRvbmUoMSwgcmVzdWx0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kb25lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhhc1Byb3BlcnR5ID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKSA9PSBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydGllcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2goc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuaGFzUHJvcGVydHkocHJvcGVydHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGluZGV4IC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2suc3BsaWNlKGluZGV4LCAxKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YWNrID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIF9zdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9ycGggPSBzdGFja1tpXS5tb3JwaC5nZXQoc3RhY2tbaV0udmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAobW9ycGggIT09IHVuZGVmaW5lZCAmJiBtb3JwaC5zdGFydCgpICE9PSBmYWxzZSAmJiBtb3JwaC5lbmQoKSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3N0YWNrLnB1c2goc3RhY2tbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzdGFjayA9IF9zdGFjaztcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdGlja19mdW5jdGlvbiA9IEFuaW1hdGlvbkhlbHBlci5nZXRUaWNrRnVuY3Rpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICBtb3JwaGluZSA9IE1vcnBoaW5lLmNyZWF0ZSgwLCAxLCBmdW5jdGlvbiAoY29tcGxldGUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvbHZlKGNvbXBsZXRlVHlwZVN0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoaW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrW2ldLnJlc3VsdCA9IHRpY2tfZnVuY3Rpb24odmFsdWUsIGNvbXBsZXRlLCBzdGFja1tpXS5tb3JwaC5zdGFydCgpLCBzdGFja1tpXS5tb3JwaC5lbmQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFja1tpXS5tb3JwaC5hcHBseShjb21wbGV0ZSwgc3RhY2tbaV0ucmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZShzdGVwVHlwZVN0cik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGUgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc29sdmUoY29tcGxldGVUeXBlU3RyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBlYXNpbmcsIGR1cmF0aW9uLCAwKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKHQsIG0sIGNmZywgZikge1xyXG4gICAgICAgICAgICAgICAgQW5pbWF0aW9uSGVscGVyLm5vcm1hbGl6ZUNvbmZpZyhjZmcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gY2ZnLmR1cmF0aW9uO1xyXG5cclxuICAgICAgICAgICAgICAgIGVhc2luZyA9IGNmZy5lYXNpbmc7XHJcblxyXG4gICAgICAgICAgICAgICAgc3RlcHNDYiA9IGNmZy5zdGVwO1xyXG5cclxuICAgICAgICAgICAgICAgIHF1ZXVlID0gY2ZnLnF1ZXVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNsZWFyID0gZjtcclxuXHJcbiAgICAgICAgICAgICAgICBzdGFjayA9IG07XHJcblxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdDtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25maWcgPSBjZmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5wbHVnaW4uY2xhc3MoJ09iamVjdHMnLCAnQW5pbWF0aW9uJyxcclxuICAgIFsnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIE1vcnBoKERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc2V0dGVyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGdldHRlciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBhcHBsaWVyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHN0YXJ0LCBlbmQsXHJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG9yZGVyaW5nID0gMDtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFNldFN0YXJ0VmFsdWUodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydCA9IHZhbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gU2V0RW5kVmFsdWUodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBlbmQgPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbmQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb3BlcnR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3BlcnR5O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vcmRlcmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcmRlcmluZztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBzZXR0ZXIuYXBwbHkob2JqZWN0LCBbU2V0U3RhcnRWYWx1ZSwgU2V0RW5kVmFsdWUsIHZhbHVlXSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudmFsaWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFwcGx5ID0gZnVuY3Rpb24gKHByb2dyZXNzLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0LnN0eWxlKHByb3BlcnR5LCBhcHBsaWVyLmFwcGx5KG9iamVjdCwgW3ZhbHVlLCBwcm9ncmVzc10pKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKG5hbWUsIG9iaiwgb3JkLCBzZXQsIGFwbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnMSBbe25hbWV9XSBpcyBub3QgYSBzdHJpbmchJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmczIGlzIG5vdCBhbiBvYmplY3QhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXQgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ1VuYWJsZSB0byBjb25maWcgTW9ycGguIGFyZzQgaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcmQgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmcyIGlzIG5vdCBhIG51bWJlciEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFwbCAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnNSBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvcGVydHkgPSBuYW1lO1xyXG4gICAgICAgICAgICAgICAgc2V0dGVyID0gc2V0O1xyXG4gICAgICAgICAgICAgICAgYXBwbGllciA9IGFwbDtcclxuICAgICAgICAgICAgICAgIG9yZGVyaW5nID0gb3JkO1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gb2JqO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzcvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbi5jbGFzcygnT2JqZWN0cycsXHJcbiAgICAnQm94JyxcclxuICAgIFtmdW5jdGlvbiBCb3goKSB7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHtcclxuICAgICAgICAgICAgICAgIHNpemU6IFswLCAwXSxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgMF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3ByaXRlID0ge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luOiBbMCwgMCwgMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIDBdLFxyXG4gICAgICAgICAgICAgICAgc2l6ZTogWzAsIDBdXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc2l6ZTogW2NvbnRhaW5lci5zaXplWzBdLCBjb250YWluZXIuc2l6ZVsxXV0sXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogW2NvbnRhaW5lci5wb3NpdGlvblswXSwgY29udGFpbmVyLnBvc2l0aW9uWzFdXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXQgPSBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0KSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zaXplWzBdID0gd2lkdGg7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zaXplWzFdID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICBjb250YWluZXIucG9zaXRpb25bMF0gPSB4O1xyXG4gICAgICAgICAgICBjb250YWluZXIucG9zaXRpb25bMV0gPSB5O1xyXG4gICAgICAgICAgICBzcHJpdGUubWFyZ2luWzBdID0gdG9wO1xyXG4gICAgICAgICAgICBzcHJpdGUubWFyZ2luWzFdID0gcmlnaHQ7XHJcbiAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bMl0gPSBib3R0b207XHJcbiAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bM10gPSBsZWZ0O1xyXG4gICAgICAgICAgICBzcHJpdGUuc2l6ZVswXSA9IGxlZnQgKyB3aWR0aCArIHJpZ2h0O1xyXG4gICAgICAgICAgICBzcHJpdGUuc2l6ZVsxXSA9IHRvcCArIGhlaWdodCArIGJvdHRvbTtcclxuICAgICAgICAgICAgc3ByaXRlLnBvc2l0aW9uWzBdID0geCAtIGxlZnQ7XHJcbiAgICAgICAgICAgIHNwcml0ZS5wb3NpdGlvblsxXSA9IHkgLSB0b3A7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3ByaXRlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgfV1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMy8yOC8yMDE3LlxyXG4gKi9cclxuJFIucGx1Z2luLmNsYXNzKCdPYmplY3RzJywgJ1RleHQnLFxyXG4gICAgWydAZXh0ZW5kJywgJ0BpbmplY3QnLCAnK0RyYXdlcicsXHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dExpbmVDbGFzcyhleHRlbmQsIGluamVjdCwgRHJhd2VySGVscGVyKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJFRleHRFbGVtZW50Q2xhc3MnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IDAsXHJcbiAgICAgICAgICAgICAgICB3b3JkcyA9IFtdLFxyXG4gICAgICAgICAgICAgICAgc3BhY2UgPSBpbmplY3QoJyRUZXh0U3BhY2VDbGFzcycpLFxyXG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gMCxcclxuICAgICAgICAgICAgICAgIHdpZHRoVXBkYXRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0V2lkdGgoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAod2lkdGhVcGRhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gd29yZHNbaV0ud2lkdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGhVcGRhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIERyYXdlckhlbHBlci5tZWFzdXJlVGV4dChnZXRXaWR0aClcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlbmd0aDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud29yZHMgPSBmdW5jdGlvbiAoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcnJheSAmJiB0eXBlb2YgYXJyYXkgPT09IFwib2JqZWN0XCIgJiYgYXJyYXkuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3Jkcy5wdXNoKGFycmF5W2ldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2l6ZSh0aGlzLnNpemUoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5oZWlnaHQodGhpcy5oZWlnaHQoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSh0aGlzLnN0eWxlKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAud2VpZ2h0KHRoaXMud2VpZ2h0KCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY29sb3IodGhpcy5jb2xvcigpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvbnQodGhpcy5mb250KCkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoID0gd29yZHMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfYXJyID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYXJyLnB1c2god29yZHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BlcnR5Q2hhbmdlZCgnc3RyaW5nJywgX2Fycik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB3aWR0aFVwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdvcmRzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wdXNoID0gZnVuY3Rpb24gKHdvcmQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh3b3Jkcy5sZW5ndGggPiAwKSB3b3Jkcy5wdXNoKHNwYWNlKTtcclxuICAgICAgICAgICAgICAgIHdvcmRzLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgd29yZC5zaXplKHRoaXMuc2l6ZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuaGVpZ2h0KHRoaXMuaGVpZ2h0KCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSh0aGlzLnN0eWxlKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC53ZWlnaHQodGhpcy53ZWlnaHQoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNvbG9yKHRoaXMuY29sb3IoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZvbnQodGhpcy5mb250KCkpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgd2lkdGhVcGRhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RyaW5nID0gJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSB3b3Jkc1tpXS5zdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uUHJvcGVydHlDaGFuZ2UoZnVuY3Rpb24gKHByb3BlcnR5LCB2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBzcGFjZVtwcm9wZXJ0eV0odmFsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMy8yOC8yMDE3LlxyXG4gKi9cclxuJFIucGx1Z2luLmNsYXNzKCdPYmplY3RzJywgJ1RleHQnLFxyXG4gICAgWydAZXh0ZW5kJywgJytEcmF3ZXInLFxyXG4gICAgICAgIGZ1bmN0aW9uIFRleHRTcGFjZUNsYXNzKGV4dGVuZCwgRHJhd2VySGVscGVyKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJFRleHRFbGVtZW50Q2xhc3MnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSAnICcsXHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IDAsXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFdpZHRoKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IHNlbGYuZXh0cmFjdEZvbnRTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0Lm1lYXN1cmVUZXh0KHN0cmluZykud2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIERyYXdlckhlbHBlci5tZWFzdXJlVGV4dChnZXRXaWR0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjgvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbi5jbGFzcygnT2JqZWN0cycsICdUZXh0JyxcclxuICAgIFsnK0NvbG9yJyxcclxuICAgICAgICBmdW5jdGlvbiBUZXh0RWxlbWVudENsYXNzKENvbG9ySGVscGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBjb2xvciA9ICdyZ2JhKDAsMCwwLDEpJyxcclxuICAgICAgICAgICAgICAgIGZvbnQgPSAnc2Fucy1zZXJpZicsXHJcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0ID0gNDAwLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemUgPSAxNCxcclxuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQgPSAxNCxcclxuICAgICAgICAgICAgICAgIGZvbnRTdHlsZSA9ICdub3JtYWwnLFxyXG4gICAgICAgICAgICAgICAgY2IgPSBbXSxcclxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZShwcm9wZXJ0eSwgdmFsKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNiLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2JbaV0uYXBwbHkoc2VsZiwgW3Byb3BlcnR5LCB2YWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zaXplID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsIDwgMCkgdmFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZSA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdzaXplJywgZm9udFNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvbnRTaXplO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPCAwKSB2YWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnaGVpZ2h0JywgbGluZUhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGluZUhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2VpZ2h0ID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsIDwgMTAwKSB2YWwgPSAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA+IDkwMCkgdmFsID0gOTAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwgJSAxMDAgIT09IDApIHZhbCA9IHZhbCAtICh2YWwgJSAxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnd2VpZ2h0JywgZm9udFdlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9udFdlaWdodDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9udCA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiICYmIHZhbC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udCA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdmb250JywgZm9udCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9udDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29sb3IgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvciA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnY29sb3InLCBjb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdHlsZSA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwgPT09ICdub3JtYWwnIHx8IHZhbCA9PT0gJ2l0YWxpYycgfHwgdmFsID09PSAnb2JsaXF1ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb250U3R5bGUgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnc3R5bGUnLCBmb250U3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvbnRTdHlsZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXh0cmFjdEZvbnRTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9udFN0eWxlICsgJyAnICsgZm9udFNpemUgKyAncHggXCInICsgZm9udCArICctJyArIGZvbnRXZWlnaHQgKyAnXCInO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vblByb3BlcnR5Q2hhbmdlID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2IucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHlDaGFuZ2VkID0gZnVuY3Rpb24gKG5hbWUsIHZhbCkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShuYW1lLCB2YWwpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMy8yNi8yMDE3LlxyXG4gKi9cclxuJFIucGx1Z2luLmNsYXNzKCdPYmplY3RzJywgJ1RleHQnLFxyXG4gICAgWycrQ29sb3InLCAnQGV4dGVuZCcsICcrRHJhd2VyJyxcclxuICAgICAgICBmdW5jdGlvbiBUZXh0V29yZENsYXNzKENvbG9ySGVscGVyLCBleHRlbmQsIERyYXdlckhlbHBlcikge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckVGV4dEVsZW1lbnRDbGFzcycpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0cmluZyA9ICcnLFxyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0cmluZyA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcGVydHlDaGFuZ2VkKCdzdHJpbmcnLCB2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFdpZHRoKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IHNlbGYuZXh0cmFjdEZvbnRTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0Lm1lYXN1cmVUZXh0KHN0cmluZykud2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gRHJhd2VySGVscGVyLm1lYXN1cmVUZXh0KGdldFdpZHRoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLmRyYXcgPSBmdW5jdGlvbiAoY29udGV4dCwgeCwgeSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB4ICE9PSBcIm51bWJlclwiKSB4ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeSAhPT0gXCJudW1iZXJcIikgeSA9IDA7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5jb2xvcigpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5mb250ID0gdGhpcy5leHRyYWN0Rm9udFN0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dChzdHJpbmcsIHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIkUi5zZXJ2aWNlLmNsYXNzKCdFdmVudHMnLCBbJ0RlYnVnJywgZnVuY3Rpb24gRXZlbnQoRGVidWcpIHtcclxuXHJcbiAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICB0eXBlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgcHJvcHM6IHt9LFxyXG4gICAgICAgIHRhcmdldDogbnVsbCxcclxuICAgICAgICBldmVudF90aW1lIDogbmV3IERhdGUoKVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmluaXQgPSBmdW5jdGlvbiAodHlwZSwgdGFyZ2V0LCBtZXRob2RzKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGRhdGEudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnRhcmdldCA9IHRhcmdldDtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWV0aG9kcyA9PT0gXCJvYmplY3RcIiAmJiBtZXRob2RzLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWV0aG9kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1ldGhvZHNbaV0ubmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBtZXRob2RzW2ldLm5hbWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KG1ldGhvZHNbaV0ubmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW21ldGhvZHNbaV0ubmFtZV0gPSBtZXRob2RzW2ldLmJpbmQodGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBtZXRob2RzW2ldLm5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAnRHVwbGljYXRlZCBtZXRob2Qge25hbWV9IGZvciBldmVudCB7dHlwZX0uJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7dHlwZTogdHlwZX0sICdVbmFibGUgdG8gY3JlYXRlIG1ldGhvZCBmb3IgZXZlbnQgb2JqZWN0IHt0eXBlfS4gTWV0aG9kIG11c3QgYmUgYSBuYW1lZCBmdW5jdGlvbi4nLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWV0aG9kcyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXRob2RzLm5hbWUgPT0gXCJzdHJpbmdcIiAmJiBtZXRob2RzLm5hbWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkobWV0aG9kc1tpXS5uYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1ttZXRob2RzLm5hbWVdID0gbWV0aG9kcy5iaW5kKHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBtZXRob2RzLm5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICdEdXBsaWNhdGVkIG1ldGhvZCB7bmFtZX0gZm9yIGV2ZW50IHt0eXBlfS4nLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt0eXBlOiB0eXBlfSwgJ1VuYWJsZSB0byBjcmVhdGUgbWV0aG9kIGZvciBldmVudCBvYmplY3Qge3R5cGV9LiBNZXRob2QgZnVuY3Rpb24gbXVzdCBiZSBhIG5hbWVkIGZ1bmN0aW9uLicsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlb2YgdGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbDogdGFyZ2V0XHJcbiAgICAgICAgICAgICAgICB9LCAnSW52YWxpZCBFdmVudCB0YXJnZXQge3R5cGV9e3ZhbC4gTXVzdCBiZSBhbiBvYmplY3R9JywgdGhpcylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIERlYnVnLmVycm9yKHt0eXBlOiB0eXBlb2YgdHlwZSwgdmFsOiB0eXBlfSwgJ0ludmFsaWQgdHlwZSBvZiBldmVudC4ge3R5cGV9e3ZhbH0uIE11c3QgYmUgc3RyaW5nLiAnLCB0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRlbGV0ZSB0aGlzLmluaXQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudGltZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gZGF0YS5ldmVudF90aW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBkYXRhLnRhcmdldDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy50eXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBkYXRhLnR5cGU7XHJcbiAgICB9O1xyXG5cclxufV0pOyIsIiRSLnNlcnZpY2UuY2xhc3MoJ0V2ZW50cycsIFsnRGVidWcnLCAnQGluamVjdCcsIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcihEZWJ1ZywgaW5qZWN0KSB7XHJcblxyXG4gICAgdmFyIGV2ZW50cyA9IHt9LFxyXG4gICAgICAgIGV2ZW50X3N0cmluZ19yZWdleHAgPSAvW0EtWmEtei0wLTldKy9nLFxyXG4gICAgICAgIGVtaXR0ZXIgPSB0aGlzO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFkZENhbGxiYWNrKHRhcmdldCwgZXZlbnQsIG9uY2UsIGNiKSB7XHJcbiAgICAgICAgaWYgKGV2ZW50cy5oYXNPd25Qcm9wZXJ0eShldmVudCkpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob25jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50c1tldmVudF0ub25jZS5wdXNoKGNiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzW2V2ZW50XS5wdXNoKGNiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY2IgPT09IFwib2JqZWN0XCIgJiYgY2IuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNiLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2FsbGJhY2sodGFyZ2V0LCBldmVudCwgb25jZSwgY2JbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVvZiBjYixcclxuICAgICAgICAgICAgICAgICAgICBldmVudDogZXZlbnRcclxuICAgICAgICAgICAgICAgIH0sICdDYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbi4gVW5hYmxlIHRvIGJpbmQgY2FsbGJhY2sge3R5cGV9IHRvIGV2ZW50IHtldmVudH0uJywgdGFyZ2V0KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe2V2ZW50OiBldmVudH0sICdFdmVudCBub3QgZm91bmQuIFVuYWJsZSB0byBiaW5kIGNhbGxiYWNrW3NdIHRvIGV2ZW50IHtldmVudH0uJywgdGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlQ2FsbGJhY2sodGFyZ2V0LCBldmVudCwgY2IpIHtcclxuICAgICAgICBpZiAoZXZlbnRzLmhhc093blByb3BlcnR5KGV2ZW50KSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNiID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfY2xlYXJDYkFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50c1tldmVudF0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWV2ZW50c1tldmVudF1baV0gPT09IGNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jbGVhckNiQXJyYXkucHVzaChldmVudHNbZXZlbnRdW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfY2xlYXJDYkFycmF5Lm1ldGhvZHMgPSBldmVudHNbZXZlbnRdLm1ldGhvZHM7XHJcbiAgICAgICAgICAgICAgICBfY2xlYXJDYkFycmF5Lm9uY2UgPSBldmVudHNbZXZlbnRdLm9uY2U7XHJcbiAgICAgICAgICAgICAgICBldmVudHNbZXZlbnRdID0gX2NsZWFyQ2JBcnJheTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY2IgPT09IFwib2JqZWN0XCIgJiYgY2IuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjaSA9IDA7IGNpIDwgY2IubGVuZ3RoOyBjaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2FsbGJhY2sodGFyZ2V0LCBldmVudCwgY2JbY2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt0eXBlOiB0eXBlb2YgY2J9LCAnQ2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24uIHt0eW9lfSBpcyBub3QgYSBmdW5jdGlvbicsIHRhcmdldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBEZWJ1Zy53YXJuKHtldmVudDogZXZlbnR9LCAnRXZlbnQgbm90IGZvdW5kLiBVbmFibGUgdG8gdW5iaW5kIHtldmVudH0gY2FsbGJhY2suICcsIHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc29sdmVFdmVudCh0YXJnZXQsIGV2ZW50LCBldmVudF90YXJnZXQsIHBheWxvYWQpIHtcclxuICAgICAgICBpZiAoZXZlbnRzLmhhc093blByb3BlcnR5KGV2ZW50KSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50X3RhcmdldCAhPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgZXZlbnRfdGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgZXZlbnRfb2JqZWN0ID0gaW5qZWN0KCckRXZlbnQnKTtcclxuXHJcbiAgICAgICAgICAgIHBheWxvYWQgPSB0eXBlb2YgcGF5bG9hZCA9PT0gXCJvYmplY3RcIiAmJiBwYXlsb2FkLmNvbnN0cnVjdG9yID09PSBBcnJheSA/IHBheWxvYWQgOiBbcGF5bG9hZF07XHJcblxyXG4gICAgICAgICAgICBwYXlsb2FkLnVuc2hpZnQoZXZlbnRfb2JqZWN0KTtcclxuXHJcbiAgICAgICAgICAgIGV2ZW50X29iamVjdC5pbml0KGV2ZW50LCBldmVudF90YXJnZXQsIGV2ZW50c1tldmVudF0ubWV0aG9kcyk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50c1tldmVudF0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50c1tldmVudF1baV0uYXBwbHkoZXZlbnRfdGFyZ2V0LCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aGlsZSAoZXZlbnRzW2V2ZW50XS5vbmNlWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudHNbZXZlbnRdLm9uY2VbMF0uYXBwbHkoZXZlbnRfdGFyZ2V0LCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50c1tldmVudF0ub25jZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe2V2ZW50OiBldmVudH0sICdFdmVudCB7ZXZlbnR9IG5vdCBmb3VuZC4gVW5hYmxlIHRvIHJlc29sdmUgZXZlbnQnLCB0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRlY29yYXRlID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICB0YXJnZXQub24gPSBmdW5jdGlvbiAoZXZlbnQsIGNiKSB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLiQkRU1JVFRFUlBST1RFQ1RFRENPTlRFWFQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW1pdHRlcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT09IFwic3RyaW5nXCIgJiYgZXZlbnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzID0gZXZlbnQubWF0Y2goZXZlbnRfc3RyaW5nX3JlZ2V4cCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRjaGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRDYWxsYmFjayh0YXJnZXQsIG1hdGNoZXNbaV0sIGZhbHNlLCBjYik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7ZXZlbnRzOiBldmVudH0sICdJbnZhbGlkIGV2ZW50IG5hbWUgdmFsdWUuIFVuYWJsZSB0byBzdWJzY3JpYmUgdG8gZXZlbnRbc10ge2V2ZW50c30uJywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRhcmdldC5vbi4kJEVNSVRURVJQUk9URUNURUQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgdGFyZ2V0Lm9uY2UgPSBmdW5jdGlvbiAoZXZlbnQsIGNiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09PSBcInN0cmluZ1wiICYmIGV2ZW50Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IGV2ZW50Lm1hdGNoKGV2ZW50X3N0cmluZ19yZWdleHApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkQ2FsbGJhY2sodGFyZ2V0LCBtYXRjaGVzW2ldLCB0cnVlLCBjYik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7ZXZlbnRzOiBldmVudH0sICdJbnZhbGlkIGV2ZW50IG5hbWUgdmFsdWUuIFVuYWJsZSB0byBzdWJzY3JpYmUgdG8gZXZlbnRbc10ge2V2ZW50c30uJywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0YXJnZXQub2ZmID0gZnVuY3Rpb24gKGV2ZW50LCBjYikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIiAmJiBldmVudC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBldmVudC5tYXRjaChldmVudF9zdHJpbmdfcmVnZXhwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hdGNoZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNhbGxiYWNrKHRhcmdldCwgbWF0Y2hlc1tpXSwgY2IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZXZlbnQ6IGV2ZW50fSwgJ1VuYWJsZSB0byB1bmJpbmQgY2FsbGJhY2tbc10gZnJvbSBldmVudFtzXSB7ZXZlbnR9LiBJbnZhbGlkIGV2ZW50IG5hbWUnLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQub24uYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbmNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0Lm9uY2UuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vZmYgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQub2ZmLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJveHkgPSBmdW5jdGlvbiAoZm9yZWlnbl9lbWl0dGVyLCBldmVudCwgZm9yZWlnbl9ldmVudCwgcGF5bG9hZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbihldmVudCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcmVpZ25fZW1pdHRlci5yZXNvbHZlKGZvcmVpZ25fZXZlbnQsIHBheWxvYWQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlc29sdmUgPSBmdW5jdGlvbiAoZXZlbnQsIHBheWxvYWQsIGV2ZW50X3RhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIiAmJiBldmVudC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBldmVudC5tYXRjaChldmVudF9zdHJpbmdfcmVnZXhwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWV2ZW50X3RhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRfdGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50KHRhcmdldCwgbWF0Y2hlc1tpXSwgZXZlbnRfdGFyZ2V0LCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtldmVudDogZXZlbnR9LCAnVW5hYmxlIHRvIHJlc29sdmUgZXZlbnQge2V2ZW50fS4gSW52YWxpZCBldmVudCBuYW1lJywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyID0gZnVuY3Rpb24gKGV2ZW50LCBtZXRob2RzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBldmVudC5tYXRjaChldmVudF9zdHJpbmdfcmVnZXhwKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIG0gPSAwIDsgbSA8IG1hdGNoZXMubGVuZ3RoOyBtKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFldmVudHMuaGFzT3duUHJvcGVydHkobWF0Y2hlc1ttXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50c1ttYXRjaGVzW21dXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzW21hdGNoZXNbbV1dLm9uY2UgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1ldGhvZHMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50c1ttYXRjaGVzW21dXS5tZXRob2RzID0gW21ldGhvZHNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWV0aG9kcyA9PT0gXCJvYmplY3RcIiAmJiBtZXRob2RzLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50c1ttYXRjaGVzW21dXS5tZXRob2RzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWV0aG9kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1ldGhvZHNbaV0gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzW21hdGNoZXNbbV1dLm1ldGhvZHMucHVzaChtZXRob2RzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtldmVudDogbWF0Y2hlc1ttXX0sICdEdXBsaWNhdGUgZXZlbnQgbmFtZS4gVW5hYmxlIHRvIGNyZWF0ZSBldmVudCB7ZXZlbnR9LiBFdmVudCBhbHJlYWR5IGV4aXN0cy4nLCB0YXJnZXQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNsZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZXZlbnQgaW4gZXZlbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1tldmVudF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5kZWNvcmF0ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3R5cGU6IHRhcmdldH0sICdVbmFibGUgdG8gZGVjb3JhdGUgb2JqZWN0IHt0eXBlfS4gVGFyZ2V0IGlzIG5vdCBhbiBvYmplY3QuJywgdGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH07XHJcblxyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzIvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ0Rpc3BhdGNoZXInLFxyXG4gICAgWydUcmVlJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBGaW5kZXIoVHJlZSwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrRWxlbWVudChlLCBjdXJzb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLnR5cGUoKSA9PT0gJ0dyb3VwJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBlLmV4dGVuc2lvbignTW91c2UnKS5jaGVjayhlLCBjdXJzb3IpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcnMgPSBlLmV4dGVuc2lvbignTGF5ZXJzJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyX3Jlc3VsdCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsYXllcnMuZm9yRWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5kaXNhYmxlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50eXBlKCkgPT09ICdHcm91cCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcl9yZXN1bHQgPSBjaGVja0VsZW1lbnQodGhpcywgY3Vyc29yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXJfcmVzdWx0KSByZXN1bHQgPSBsYXllcl9yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyX3Jlc3VsdCA9IHRoaXMuZXh0ZW5zaW9uKCdNb3VzZScpLmNoZWNrKHRoaXMsIGN1cnNvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyX3Jlc3VsdCkgcmVzdWx0ID0gbGF5ZXJfcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2sgPSBmdW5jdGlvbiAoY3Vyc29yKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcm9vdCA9IFRyZWUucm9vdCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyb290KSByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3Vyc29yICE9PSBcIm9iamVjdFwiIHx8IGN1cnNvci5jb25zdHJ1Y3RvciAhPT0gQXJyYXkgfHwgY3Vyc29yLmxlbmd0aCAhPT0gMiB8fCB0eXBlb2YgY3Vyc29yWzBdICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBjdXJzb3JbMV0gIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtjOiBjdXJzb3J9LCAne2N9IGlzIG5vdCBhIHZhbGlkIGN1cnNvciB2YWx1ZS4nLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjaGVja0VsZW1lbnQocm9vdCwgY3Vyc29yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ01vcnBoaW5lJywgW1xyXG4gICAgICAgIGZ1bmN0aW9uIE1vcnBoaW5lKCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGVhc2luZyA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IDEsXHJcbiAgICAgICAgICAgICAgICByZXBlYXQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHJlcGVhdENvdW50ID0gMSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgZnVuYyA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdGFydCA9IDAsXHJcbiAgICAgICAgICAgICAgICBlbmQgPSAwO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kb25lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBhdXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGF1c2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhdXNlZDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gMCxcclxuICAgICAgICAgICAgICAgIHBhdXNlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZG9uZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVGljayh0aW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF1c2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIChkdXJhdGlvbiAqIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YXJ0X3RpbWUpIHN0YXJ0X3RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MgPSAodGltZSAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb247XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcyA+IDEpIHByb2dyZXNzID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXBlYXQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVwZWF0Q291bnQgPiAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXBlYXRDb3VudCAhPT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmMuYXBwbHkobnVsbCwgW3Byb2dyZXNzLCBlYXNpbmcoKHRpbWUgLSBzdGFydF90aW1lKSAvIDEwMDAsIHN0YXJ0LCBlbmQgLSBzdGFydCwgZHVyYXRpb24gLyAxMDAwKSwgc3RhcnRfdGltZV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGZ1bmN0aW9uIChzLCBlLCBmLCBkdXIsIGVhc2UsIHJwdCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcyAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgZSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgZHVyICE9PSBcIm51bWJlclwiIHx8IGR1ciA8IDApIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVhc2UgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJwdCA9PT0gXCJudW1iZXJcIikgcmVwZWF0ID0gcnB0O1xyXG5cclxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gcztcclxuICAgICAgICAgICAgICAgIGVuZCA9IGU7XHJcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSBlYXNlO1xyXG4gICAgICAgICAgICAgICAgZnVuYyA9IGY7XHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IGR1ciA+IDAgPyBkdXIgOiAxO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbmZpZztcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gVGljaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTAvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLCBbZnVuY3Rpb24gQ2FudmFzKCkge1xyXG5cclxuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSxcclxuICAgICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG4gICAgdmFyIHcgPSAwLCBoID0gMDtcclxuXHJcbiAgICB0aGlzLmNvbnRleHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgdyA9IHZhbHVlO1xyXG4gICAgICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHc7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmhlaWdodCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBoID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGg7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmV4cG9ydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY2FudmFzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY2FudmFzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGNvbnRleHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdyA9IHVuZGVmaW5lZDsgaCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBmb3IodmFyIHByb3AgaW4gdGhpcykge1xyXG4gICAgICAgICAgICBpZih0aGlzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1twcm9wXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzcvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLCBbJ0BpbmplY3QnLCAnRGVidWcnLCBmdW5jdGlvbiBHcmFwaGljc0Fzc2VtYmxlcihpbmplY3QsIERlYnVnKSB7XHJcblxyXG4gICAgdmFyIG91dHB1dCA9IGluamVjdCgnJENhbnZhcycpLFxyXG4gICAgICAgIGNvbnRleHQgPSBvdXRwdXQuY29udGV4dCgpLFxyXG4gICAgICAgIHBpcGUgPSBbXSxcclxuICAgICAgICBsYXllcnMgPSB7fSxcclxuICAgICAgICB3ID0gMCxcclxuICAgICAgICBoID0gMCxcclxuICAgICAgICBib3hFeHQgPSBudWxsLFxyXG4gICAgICAgIHJlc2l6ZWQgPSBmYWxzZSxcclxuICAgICAgICByZWFkeSA9IGZhbHNlO1xyXG5cclxuICAgIGZ1bmN0aW9uIFNldFNpemUod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGlwZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBwaXBlW2ldLnNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG91dHB1dC53aWR0aCh3aWR0aCk7XHJcbiAgICAgICAgb3V0cHV0LmhlaWdodChoZWlnaHQpO1xyXG4gICAgICAgIHcgPSB3aWR0aDtcclxuICAgICAgICBoID0gaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbXBvc2UoKSB7XHJcbiAgICAgICAgaWYgKCFyZXNpemVkKSB7XHJcbiAgICAgICAgICAgIGlmIChib3hFeHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzcHJpdGUgPSBib3hFeHQuYm94KCkuc3ByaXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3ByaXRlLnNpemVbMF0gIT09IHcgfHwgc3ByaXRlLnNpemVbMV0gIT09IGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBTZXRTaXplKHNwcml0ZS5zaXplWzBdLCBzcHJpdGUuc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzaXplZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcmVhZHkpIHtcclxuICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdywgaCk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGlwZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcGlwZVtpXS5kcmF3KGNvbnRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlYWR5ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dC5leHBvcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmxheWVyID0gZnVuY3Rpb24gKG9yZGVyLCBuYW1lLCB1cGRhdGVGdW5jKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcmRlciAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBEZWJ1Zy53YXJuKHtvOiBvcmRlcn0sICdJbnZhbGlkIG9yZGVyIGFyZ3VtZW50IFt7b31dIGlzIG5vdCBhIG51bWJlci4nKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7bjogbmFtZX0sICdbe259XSBpcyBub3QgdmFsaWQgbmFtZSBmb3IgbGF5ZXInKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZUZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBEZWJ1Zy53YXJuKCd1cGRhdGVGdW5jIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsYXllcnNbbmFtZV0gPSBpbmplY3QoJyRHcmFwaGljc0Fzc2VtYmxlckxheWVyJyk7XHJcbiAgICAgICAgbGF5ZXJzW25hbWVdLmYodXBkYXRlRnVuYyk7XHJcbiAgICAgICAgbGF5ZXJzW25hbWVdLm9yZGVyaW5nKG9yZGVyKTtcclxuICAgICAgICBsYXllcnNbbmFtZV0udXBkYXRlKCk7XHJcbiAgICAgICAgcGlwZS5wdXNoKGxheWVyc1tuYW1lXSk7XHJcbiAgICAgICAgcGlwZS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLm9yZGVyaW5nKCkgLSBiLm9yZGVyaW5nKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZWFkeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gcmVhZHk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuYm94ID0gZnVuY3Rpb24gKGJveFByb3ZpZGVyKSB7XHJcbiAgICAgICAgYm94RXh0ID0gYm94UHJvdmlkZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgaWYgKHdpZHRoICE9PSB3IHx8IGhlaWdodCAhPT0gaCkge1xyXG4gICAgICAgICAgICBTZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICByZWFkeSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy53aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdztcclxuICAgIH07XHJcbiAgICB0aGlzLmhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gaDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZXNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmVzaXplZCA9IGZhbHNlO1xyXG4gICAgICAgIHJlYWR5ID0gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICByZWFkeSA9IGZhbHNlO1xyXG4gICAgICAgIGxheWVyc1tuYW1lXS51cGRhdGUoKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG91dHB1dCA9IG91dHB1dC5kZXN0cm95KCk7XHJcbiAgICAgICAgY29udGV4dCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBib3hFeHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgcmVzaXplZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICByZWFkeSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB2YXIgcHJvcDtcclxuICAgICAgICB3aGlsZSAocGlwZVswXSkge1xyXG4gICAgICAgICAgICBwaXBlWzBdLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgcGlwZS5zaGlmdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHByb3AgaW4gbGF5ZXJzKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXllcnMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBsYXllcnNbcHJvcF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsYXllcnMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgcGlwZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgZm9yIChwcm9wIGluIHRoaXMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW3Byb3BdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZXhwb3J0ID0gY29tcG9zZTtcclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMi83LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJywgWydAaW5qZWN0JywgJ0RlYnVnJywgZnVuY3Rpb24gR3JhcGhpY3NBc3NlbWJsZXJMYXllcihpbmplY3QsIERlYnVnKSB7XHJcbiAgICB2YXIgY2FudmFzID0gaW5qZWN0KCckQ2FudmFzJyksXHJcbiAgICAgICAgY29udGV4dCA9IGNhbnZhcy5jb250ZXh0KCksXHJcbiAgICAgICAgd2lkdGggPSAwLFxyXG4gICAgICAgIGhlaWdodCA9IDAsXHJcbiAgICAgICAgZnVuYyA9IG51bGwsXHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZSxcclxuICAgICAgICBvcmRlcmluZyA9IDA7XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlQ2FudmFzKGN0eCkge1xyXG4gICAgICAgIGlmICghcmVhZHkpIHtcclxuICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICBpZiAoZnVuYykgZnVuYyhjb250ZXh0KTtcclxuICAgICAgICAgICAgcmVhZHkgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZShjYW52YXMuZXhwb3J0KCksIDAsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZiA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgZnVuYyA9IGY7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmY7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7ZjogZn0sICdbe2Z9XSBpcyBub3QgYSBmdW5jdGlvbicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zaXplID0gZnVuY3Rpb24gKHcsIGgpIHtcclxuICAgICAgICBpZiAod2lkdGggIT09IHcgfHwgaCAhPT0gaCkge1xyXG4gICAgICAgICAgICBjYW52YXMud2lkdGgodyk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQoaCk7XHJcbiAgICAgICAgICAgIHdpZHRoID0gdztcclxuICAgICAgICAgICAgaGVpZ2h0ID0gaDtcclxuICAgICAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMub3JkZXJpbmcgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIG9yZGVyaW5nID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvcmRlcmluZztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kcmF3ID0gdXBkYXRlQ2FudmFzO1xyXG5cclxuICAgIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjYW52YXMgPSBjYW52YXMuZGVzdHJveSgpO1xyXG4gICAgICAgIGNvbnRleHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgd2lkdGggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgaGVpZ2h0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGZ1bmMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgICAgICBvcmRlcmluZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICBmb3IodmFyIHByb3AgaW4gdGhpcykge1xyXG4gICAgICAgICAgICBpZih0aGlzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1twcm9wXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgZnVuY3Rpb24gUGx1Z2luKCkge1xyXG5cclxuICAgICAgICB2YXIgcHJvcGVydGllcyA9IHt9LCBjbGVhciA9IHt9LCBvYmplY3QgPSBudWxsLFxyXG4gICAgICAgICAgICBhcHBsaWVzID0gW10sIGRlc3Ryb3lDYiA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLmRlZmluZU9iamVjdCA9IGZ1bmN0aW9uIChvKSB7XHJcbiAgICAgICAgICAgIG9iamVjdCA9IG87XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmRlZmluZU9iamVjdDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLm9iamVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLm1hdGNoVHlwZSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGlmIChhcHBsaWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFwcGxpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcHBsaWVzW2ldID09PSB0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5hcHBseVRvKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5hcHBseVRvO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlICB0aGlzLm1hdGNoVHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuYXBwbHlUbyA9IGZ1bmN0aW9uICh0eXBlcykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHR5cGVzID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIGFwcGxpZXMucHVzaCh0eXBlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHR5cGVzID09IFwib2JqZWN0XCIgJiYgdHlwZXMuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0eXBlc1tpXSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpZXMucHVzaCh0eXBlc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFwcGx5VG87XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uIChwcm9wZXJ0eSwgZnVuYywgdGVtcCkge1xyXG4gICAgICAgICAgICBpZiAoIXByb3BlcnRpZXNbcHJvcGVydHldKSBwcm9wZXJ0aWVzW3Byb3BlcnR5XSA9IGZ1bmM7XHJcbiAgICAgICAgICAgIGlmICh0ZW1wKSBjbGVhcltwcm9wZXJ0eV0gPSB0cnVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3JhcCA9IGZ1bmN0aW9uIChvYmplY3QpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSB8fCBvYmplY3RbcHJvcGVydHldKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIG9iamVjdFtwcm9wZXJ0eV0gPSBwcm9wZXJ0aWVzW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGVsZXRlICB0aGlzLndyYXA7XHJcbiAgICAgICAgICAgIGRlbGV0ZSAgdGhpcy5yZWdpc3RlcjtcclxuICAgICAgICAgICAgZGVsZXRlICB0aGlzLmNsZWFyO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuaGFzUHJvcGVydHkgPSBmdW5jdGlvbiAocHJvcCkge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuY2xlYXIgPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gY2xlYXIpIHtcclxuICAgICAgICAgICAgICAgIGlmICghY2xlYXIuaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlICBvYmplY3RbcHJvcF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZikge1xyXG4gICAgICAgICAgICB2YXIgcHJvcDtcclxuICAgICAgICAgICAgaWYodHlwZW9mIGYgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgZGVzdHJveUNiLnB1c2goZik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aGlsZSAoZGVzdHJveUNiWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBkZXN0cm95Q2JbMF0uY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIGRlc3Ryb3lDYi5zaGlmdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlc3Ryb3lDYiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgZm9yKHByb3AgaW4gcHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgaWYob2JqZWN0KSBkZWxldGUgb2JqZWN0W3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHByb3BlcnRpZXNbcHJvcF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yKHByb3AgaW4gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMgPSB1bmRlZmluZWQ7IGNsZWFyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNS8xLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJywgW2Z1bmN0aW9uIEFyZWFPYmplY3RDbGFzcygpIHtcclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytNb3VzZScsXHJcbiAgICAgICAgZnVuY3Rpb24gQ2lyY2xlT2JqZWN0Q2xhc3MoTW91c2VIZWxwZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZUNoZWNrRnVuY3Rpb24oTW91c2VIZWxwZXIuY2lyY2xlQ2hlY2tGdW5jdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbXHJcbiAgICAgICAgZnVuY3Rpb25cclxuICAgICAgICAgICAgRGVmYXVsdE9iamVjdFR5cGUoKSB7XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjYvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgZnVuY3Rpb24gR3JvdXBPYmplY3RDbGFzcygpIHtcclxuXHJcbiAgICB9XHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrTW91c2UnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEltYWdlT2JqZWN0Q2xhc3MoTW91c2VIZWxwZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZUNoZWNrRnVuY3Rpb24oTW91c2VIZWxwZXIucmVjdENoZWNrRnVuY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgZnVuY3Rpb24gTGluZU9iamVjdENsYXNzKCkge1xyXG5cclxuICAgIH1cclxuKTsiLCIkUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnK01vdXNlJyxcclxuICAgICAgICBmdW5jdGlvbiBSZWN0YW5nbGVPYmplY3RDbGFzcyhNb3VzZUhlbHBlcikge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlQ2hlY2tGdW5jdGlvbihNb3VzZUhlbHBlci5yZWN0Q2hlY2tGdW5jdGlvbik7XHJcbiAgICAgICAgICAgIHZhciBtb3VzZSA9IHRoaXMuZXh0ZW5zaW9uKCdNb3VzZScpO1xyXG4gICAgICAgICAgICBtb3VzZS5jdXJzb3JUcmFuc2Zvcm1GdW5jdGlvbihNb3VzZUhlbHBlci5yZWN0Q3Vyc29yVHJhbnNmb3JtRnVuY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytNb3VzZScsXHJcbiAgICAgICAgZnVuY3Rpb24gU3ByaXRlT2JqZWN0Q2xhc3MoTW91c2VIZWxwZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZUNoZWNrRnVuY3Rpb24oTW91c2VIZWxwZXIucmVjdENoZWNrRnVuY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMy8yNS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytNb3VzZScsXHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dE9iamVjdENsYXNzKE1vdXNlSGVscGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VDaGVja0Z1bmN0aW9uKE1vdXNlSGVscGVyLnJlY3RDaGVja0Z1bmN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTAvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1Jlc291cmNlJyxcclxuICAgIFsnQGV4dGVuZCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQXVkaW9SZXNvdXJjZShleHRlbmQsIERlYnVnKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJFJlc291cmNlJyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSAnQXVkaW8nO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlc29sdmVFdmVudEZ1bmMgPSBudWxsLCBzdGF0ZUZ1bmMgPSBudWxsLCB1cmwgPSBudWxsLCByZXNwb25zZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uKCdpbml0JywgZnVuY3Rpb24gKF91cmwsIHJlc29sdmVGdW5jLCBzZXRTdGF0ZUZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEZ1bmMgPSByZXNvbHZlRnVuYztcclxuICAgICAgICAgICAgICAgIHN0YXRlRnVuYyA9IHNldFN0YXRlRnVuYztcclxuICAgICAgICAgICAgICAgIHVybCA9IF91cmw7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVBdWRpby5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUF1ZGlvKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcclxuICAgICAgICAgICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlRnVuYygxKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IHRoaXMucmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50RnVuYygnbG9hZCcsIFtyZXNwb25zZV0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlRnVuYygyKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRGdW5jKCdlcnJvcicsIFtdKTtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7dXJsOiB1cmx9LCAnVW5hYmxlIHRvIGxvYWQgYXVkaW8ge3VybH0uJyk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbignZ2V0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHhoci5zZW5kKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5leHBvcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjYvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1Jlc291cmNlJyxcclxuICAgIFsnQGV4dGVuZCcsICdEZWJ1ZycsICdAQ29uZmlnJywgJ0BGb250cycsXHJcbiAgICAgICAgZnVuY3Rpb24gRm9udFJlc291cmNlKGV4dGVuZCwgRGVidWcsIGNvbmZpZywgRm9udHMpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJFJlc291cmNlJyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSAnRm9udCc7XHJcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IG51bGwsIHJlc29sdmUgPSBudWxsLCBmb250ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHJvb3QgPSBjb25maWcud2F0Y2goJ2ZvbnREaXInLCBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm9vdCA9IHN0cjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXBwZW5kZWQpIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0ucmVtb3ZlQ2hpbGQoZm9udExvYWRlckVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVja0ludGVydmFsKSB3aW5kb3cuY2xlYXJJbnRlcnZhbChjaGVja0ludGVydmFsKTtcclxuICAgICAgICAgICAgICAgICAgICBnZXRGb250KCk7XHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIGZvcm1hdCA9IEZvbnRzLmZvcm1hdHMoKSxcclxuICAgICAgICAgICAgICAgIHdlaWdodCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBhcHBlbmRlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZm9udExvYWRlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICAgICAgICAgIGZvbnRMb2FkZXJFbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncmVmbGVjdC1mb250LWxvYWRlci1lbGVtZW50Jyk7XHJcbiAgICAgICAgICAgIGZvbnRMb2FkZXJFbGVtZW50LnN0eWxlLmZvbnRGYW1pbHkgPSAnc2Fucy1zZXJpZic7XHJcbiAgICAgICAgICAgIGZvbnRMb2FkZXJFbGVtZW50LnN0eWxlLmZvbnRTaXplID0gJzEycHgnO1xyXG4gICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudC5zdHlsZS5saW5lSGVpZ2h0ID0gJzEycHgnO1xyXG4gICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgICAgIGZvbnRMb2FkZXJFbGVtZW50LnN0eWxlLmxlZnQgPSAnLTk5OTlweCc7XHJcbiAgICAgICAgICAgIGZvbnRMb2FkZXJFbGVtZW50LnN0eWxlLnRvcCA9ICctOTk5OXB4JztcclxuICAgICAgICAgICAgZm9udExvYWRlckVsZW1lbnQuaW5uZXJUZXh0ID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6IDEyMzQ1Njc4OTBbIT8sLjw+XCLCoyQlXiYqKCl+QCMtPV0nO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbignaW5pdCcsIGZ1bmN0aW9uICh1cmwsIHIsIHMpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUgPSByO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUgPSBzO1xyXG4gICAgICAgICAgICAgICAgZm9udCA9IHVybFswXTtcclxuICAgICAgICAgICAgICAgIHdlaWdodCA9IHVybFsxXTtcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gdXJsWzJdO1xyXG4gICAgICAgICAgICAgICAgZm9udExvYWRlckVsZW1lbnQuc3R5bGUuZm9udFN0eWxlID0gc3R5bGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uKCdnZXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0Rm9udCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgY2hlY2tJbnRlcnZhbCA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRGb250KCkge1xyXG4gICAgICAgICAgICAgICAgRm9udHMuZm9udChyb290LCBmb250LCB3ZWlnaHQsIHN0eWxlKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0uYXBwZW5kQ2hpbGQoZm9udExvYWRlckVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgYXBwZW5kZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcGVhdFRpbGxFcnJvciA9IDEwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQgPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWwgPSBbZm9udExvYWRlckVsZW1lbnQub2Zmc2V0V2lkdGgsIGZvbnRMb2FkZXJFbGVtZW50Lm9mZnNldEhlaWdodF07XHJcblxyXG4gICAgICAgICAgICAgICAgZm9udExvYWRlckVsZW1lbnQuc3R5bGUuZm9udEZhbWlseSA9ICdcIicgKyBGb250cy5mb3JtYXQoZm9udCkgKyAnLScgKyB3ZWlnaHQgKyAnXCIsIHNhbnMtc2VyaWYnO1xyXG4gICAgICAgICAgICAgICAgY2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9udExvYWRlckVsZW1lbnQub2Zmc2V0V2lkdGggIT09IGluaXRpYWxbMF0gfHwgZm9udExvYWRlckVsZW1lbnQub2Zmc2V0SGVpZ2h0ICE9PSBpbml0aWFsWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0ucmVtb3ZlQ2hpbGQoZm9udExvYWRlckVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGNoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSgxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnbG9hZCcsIFtdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVwZWF0Q291bnQgPiByZXBlYXRUaWxsRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUoMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ2Vycm9yJywgW10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtmb250OiBmb250ICsgJy0nICsgd2VpZ2h0fSwgJ1VuYWJsZSB0byBsb2FkIGZvbnQge2ZvbnR9LiBGb250IHBlbmRpbmcgdGltZWQgb3V0Li4uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0ucmVtb3ZlQ2hpbGQoZm9udExvYWRlckVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGNoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIDUwKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5leHBvcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gRm9udHMuZm9ybWF0KGZvbnQpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEyLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdSZXNvdXJjZScsXHJcbiAgICBbJ0BleHRlbmQnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEltYWdlUmVzb3VyY2UoZXh0ZW5kLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckUmVzb3VyY2UnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB1cmwgPSBudWxsLCByZXNvbHZlRXZlbnRGdW5jID0gbnVsbCwgc3RhdGVGdW5jID0gbnVsbCwgaW1hZ2UgPSBuZXcgSW1hZ2UoKSwgd2lkdGggPSAwLCBoZWlnaHQgPSAwO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50eXBlID0gJ0ltYWdlJztcclxuXHJcbiAgICAgICAgICAgIHRoaXMub24oJ2luaXQnLCBmdW5jdGlvbiAoX3VybCwgcmVzb2x2ZUZ1bmMsIHNldFN0YXRlRnVuYykge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50RnVuYyA9IHJlc29sdmVGdW5jO1xyXG4gICAgICAgICAgICAgICAgc3RhdGVGdW5jID0gc2V0U3RhdGVGdW5jO1xyXG4gICAgICAgICAgICAgICAgdXJsID0gX3VybDtcclxuICAgICAgICAgICAgICAgIGNyZWF0ZUltYWdlLmNhbGwodGhpcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlSW1hZ2UoKSB7XHJcbiAgICAgICAgICAgICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlRnVuYygxKTtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IGltYWdlLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IGltYWdlLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRGdW5jKCdsb2FkJywgW10pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUZ1bmMoMik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50RnVuYygnZXJyb3InLCBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3VybDogdXJsfSwgJ1VuYWJsZSB0byBsb2FkIGltYWdlIHt1cmx9LicpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uKCdnZXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCB1cmwpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhlaWdodDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5leHBvcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW1hZ2U7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnUmVzb3VyY2UnLFxyXG4gICAgWydAZXh0ZW5kJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBSZXNvdXJjZShleHRlbmQsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdXJsID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZUZ1bmN0aW9uUGFzc2VkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBjYkNvbnRhaW5lciA9IHtcclxuICAgICAgICAgICAgICAgICAgICBpbml0OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBnZXQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiBbXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN0YXR1cyA9IC0xOyAvLyAtMSBpbml0LCAwIGxvYWRpbmcsIDEgbG9hZGVkLCAyIGVycm9yXHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvYWRlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0dXMgPT09IDE7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cyA9PT0gMjtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0dXMgPT09IDA7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50KCdnZXQnLCBbdXJsXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVybCA9IGZ1bmN0aW9uIChfdXJsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX3VybCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVybDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gX3VybDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZUZ1bmN0aW9uUGFzc2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudCgnaW5pdCcsIFt1cmxdKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnQoJ2luaXQnLCBbdXJsLCByZXNvbHZlRXZlbnQsIHNldFN0YXR1c10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlRnVuY3Rpb25QYXNzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldFN0YXR1cyh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3ZhbDogdmFsfSwgJ3t2YWx9IGlzIG5vdCB2YWxpZCB2YWx1ZSBmb3Igc3RhdHVzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbCA8IDAgfHwgdmFsID4gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt2YWw6IHZhbH0sICd7dmFsfSBubyBzdWNoIHN0YXR1cyBwb3NzaWJsZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzdGF0dXMgPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlc29sdmVFdmVudChldmVudCwgZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNiQ29udGFpbmVyW2V2ZW50XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB0eXBlb2YgZGF0YSA9PSBcIm9iamVjdFwiICYmIGRhdGEuY29uc3RydWN0b3IgPT09IEFycmF5ID8gZGF0YSA6IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNiQ29udGFpbmVyW2V2ZW50XS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYkNvbnRhaW5lcltldmVudF1baV0uYXBwbHkoc2VsZiwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudH0sICdVbmFibGUgdG8gc2V0IGV2ZW50IHtlfS4gTm8gc3VjaCBldmVudCEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5vbiA9IGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gY2JDb250YWluZXJbZXZlbnRdO1xyXG4gICAgICAgICAgICAgICAgZnVuYyA9IHR5cGVvZiBmdW5jID09IFwiZnVuY3Rpb25cIiA/IGZ1bmMgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT09ICdsb2FkJyAmJiBzdGF0dXMgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jLmNhbGwodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT09ICdlcnJvcicgJiYgc3RhdHVzID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuYy5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghYXJyYXkgfHwgIWZ1bmMpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudH0sICdVbmFibGUgdG8gc2V0IGhhbmRsZXIgZm9yIGV2ZW50IHtlfS4nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYkNvbnRhaW5lcltldmVudF0ucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEyLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdSZXNvdXJjZScsXHJcbiAgICBbJ0BleHRlbmQnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFNwcml0ZVJlc291cmNlKGV4dGVuZCwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJFJlc291cmNlJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgdXJsID0gbnVsbCwgaW1hZ2UgPSBudWxsLCBzaXplID0gMCwgZnJhbWVzID0gMCwgZHVyYXRpb24gPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDAsXHJcbiAgICAgICAgICAgICAgICBmcmFtZUhlaWdodCA9IDAsIGZyYW1lV2lkdGggPSAwLCBmcHMgPSAxMixcclxuICAgICAgICAgICAgICAgIHNldFN0YXVzRnVuYyA9IG51bGwsIHJlc29sdmVFdmVudEZ1bmMgPSBudWxsLCByZWFkeSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gW107XHJcblxyXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSAnU3ByaXRlJztcclxuXHJcbiAgICAgICAgICAgIHRoaXMub24oJ2luaXQnLCBmdW5jdGlvbiAodSwgZXZlbnRGLCBzdGF0dXNGKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRTdGF1c0Z1bmMgPSBzdGF0dXNGO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50RnVuYyA9IGV2ZW50RjtcclxuICAgICAgICAgICAgICAgIHVybCA9IHU7XHJcblxyXG4gICAgICAgICAgICAgICAgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICAgICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0U3RhdXNGdW5jKDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IGltYWdlLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IGltYWdlLmhlaWdodDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlYWR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUNhbnZhc0FycmF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENhbnZhc1NpemUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50RnVuYygnbG9hZCcsIFtdKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0U3RhdXNGdW5jKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEZ1bmMoJ2Vycm9yJywgW10pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5vbignZ2V0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgdXJsKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNhbnZhc0FycmF5KCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBlbGVtcyA9IDA7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciByID0gMDsgciA8IHNpemU7IHIrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5wdXNoKFtdKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IHNpemU7IGMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtcysrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbXMgPCBmcmFtZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeFtyXS5wdXNoKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0Q2FudmFzU2l6ZSgpIHtcclxuICAgICAgICAgICAgICAgIGZyYW1lSGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQgLyBzaXplKTtcclxuICAgICAgICAgICAgICAgIGZyYW1lV2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoIC8gc2l6ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgciA9IDA7IHIgPCBzaXplOyByKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IHNpemU7IGMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0cml4W3JdW2NdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRyaXhbcl1bY10uc2V0QXR0cmlidXRlKCd3aWR0aCcsIGZyYW1lV2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0cml4W3JdW2NdLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgZnJhbWVIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9jdHggPSBtYXRyaXhbcl1bY10uZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jdHgudHJhbnNsYXRlKC1mcmFtZVdpZHRoICogYywgLWZyYW1lSGVpZ2h0ICogcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlYWR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWR5O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmcmFtZVdpZHRoO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmcmFtZUhlaWdodDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlV2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gd2lkdGg7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZUhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBoZWlnaHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZwcyA9IGZ1bmN0aW9uIChudW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbnVtYmVyICE9PSBcIm51bWJlclwiIHx8IG51bWJlciA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7bjogbnVtYmVyfSwgJ3tufSBpcyBub3QgYSBjb3JyZWN0IGZwcyBudW1iZXInKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmcHMgPSBudW1iZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSBNYXRoLnJvdW5kKChmcmFtZXMgLyBmcHMpICogMTAwMCk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHBhdXNlID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBhdXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcGF1c2UgPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wbGF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcGF1c2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZWFkeSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZiAhPT0gXCJudW1iZXJcIiB8fCBmIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtyb3dzOiBmfSwgJ3tyb3dzfSBpcyBub3QgYSB2YWxpZCBmcmFtZXMgbnVtYmVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHNpemUgPSBNYXRoLmNlaWwoTWF0aC5zcXJ0KGYpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmcmFtZXMgPSBmO1xyXG5cclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gTWF0aC5yb3VuZCgoZnJhbWVzIC8gZnBzKSAqIDEwMDApO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlYWR5ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVDYW52YXNBcnJheSgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mcmFtZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJhbWVzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRYID0gMCwgY3VycmVudFkgPSAwO1xyXG5cclxuICAgICAgICAgICAgdmFyIF90aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRpY2sgPSBmdW5jdGlvbiAodGltZSkge1xyXG4gICAgICAgICAgICAgICAgdGltZSA9IHRpbWUuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhdXNlKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gKHRpbWUgLSBfdGltZSkgLyBkdXJhdGlvbjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZnJhbWUgPSBNYXRoLmZsb29yKChmcmFtZXMgLSAxKSAqIHByb2dyZXNzKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50WSA9IE1hdGguZmxvb3IoZnJhbWUgLyBzaXplKTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRYID0gZnJhbWUgLSBjdXJyZW50WSAqIHNpemU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmV4cG9ydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtYXRyaXhbY3VycmVudFldW2N1cnJlbnRYXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRyaXhbY3VycmVudFldW2N1cnJlbnRYXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8yMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAaW5qZWN0JywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBBdWRpbyhpbmplY3QsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgc291cmNlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHVybCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICB0eXBlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGV2ZW50cyA9IGluamVjdCgnJEV2ZW50UHJvdmlkZXInKSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMgPSBpbmplY3QoJyRBbmltYXRpb25Qcm92aWRlcicpLFxyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgbm9kZW5hbWUgPSAnJztcclxuXHJcbiAgICAgICAgICAgIGV2ZW50cy53cmFwKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZXZlbnRBcmdzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtzZWxmLCBvdXRwdXQsIHVybCwgdHlwZV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgncmVhZHknLCBldmVudEFyZ3MsIHRydWUpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2xvYWQnLCBldmVudEFyZ3MsIHRydWUpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Vycm9yJywgZXZlbnRBcmdzLCB0cnVlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdwbGF5JywgZXZlbnRBcmdzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnY29ubmVjdCcsIGV2ZW50QXJncywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Rpc2Nvbm5lY3QnLCBldmVudEFyZ3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdlbmQnLCBldmVudEFyZ3MsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUFuaW1hdGlvbk1vcnBoKGZpbHRlciwgcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMubW9ycGguYXBwbHkodGhpcywgW3Byb3BlcnR5Lm5hbWUsIDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvcGVydHkubm9ybWFsaXplcih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQoZmlsdGVyLmdldChwcm9wZXJ0eS5uYW1lKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3BlcnR5Lm5vcm1hbGl6ZXIodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyLnNldChwcm9wZXJ0eS5uYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQgPSBmdW5jdGlvbiAobmFtZSwgc3JjKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIgJiYgbmFtZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzcmMgPT09IFwic3RyaW5nXCIgJiYgc3JjICE9PSAnZGVzdGluYXRpb24nICYmIHNyYy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IHNyYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlID0gaW5qZWN0KCckVXNlckF1ZGlvU291cmNlJykuYnVpbGQoc3JjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdTYW1wbGUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2Uub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnbG9hZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGVybWluYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNyYyA9PT0gJ2Rlc3RpbmF0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBpbmplY3QoJyRVc2VyQXVkaW9NaXhlcicpLmJ1aWxkKG5hbWUsIHNyYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHNbMF0gJiYgdHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gXCJvYmplY3RcIiAmJiBhcmd1bWVudHNbMF0uJCRTT1VSQ0UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSAnWycgKyBuYW1lICsgJ10nICsgJ0F1ZGlvQ2hhbm5lbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnQ2hhbm5lbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdsb2FkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNyYyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IGluamVjdCgnJFVzZXJBdWRpb01peGVyJykuYnVpbGQobmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9ICdbJyArIG5hbWUgKyAnXScgKyAnQXVkaW9DaGFubmVsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdDaGFubmVsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2xvYWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5vbignZXJyb3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2Uub24oJ3BsYXknLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdwbGF5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5vbignZW5kJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnZW5kJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5vbignY29ubmVjdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Nvbm5lY3QnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLm9uKCdkaXNjb25uZWN0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnZGlzY29ubmVjdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVycyA9IHNvdXJjZS5maWx0ZXJzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcHMgPSBmaWx0ZXJzW2ldLnByb3BzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG0gPSAwOyBtIDwgcHJvcHMubGVuZ3RoOyBtKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wc1ttXS5hbmltYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUFuaW1hdGlvbk1vcnBoLmFwcGx5KHRoaXMsIFtmaWx0ZXJzW2ldLCBwcm9wc1ttXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBub2RlbmFtZSA9IG5hbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdyZWFkeScpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ0F1ZGlvIG1peGVyIGhhdmUgbm8gbmFtZSEgU2hvdWxkIGJlIGEgc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZpbHRlciA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiICYmIG5hbWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzID0gc291cmNlLmZpbHRlcnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJzW2ldLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyID0gZmlsdGVyc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyLnNldChuYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyLmdldChuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gc2V0IGZpbHRlciBwcm9wZXJ0eSBbe25hbWV9XS4gTm8gZmlsdGVyIHdpdGggdGhhdCBwYXJhbSEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdCA9IGZ1bmN0aW9uIChvdXQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvdXQgJiYgdHlwZW9mIG91dCA9PT0gXCJvYmplY3RcIiAmJiBvdXQuJCRTT1VSQ0UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3V0ID09PSBcIm9iamVjdFwiICYmIG91dC50eXBlICYmIHR5cGVvZiBvdXQudHlwZSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN0eXBlID0gb3V0LnR5cGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ0NoYW5uZWwnICYmIGN0eXBlID09PSAnU2FtcGxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignVHJ5aW5nIHRvIGNvbm5lY3QgQ2hhbm5lbCB3aXRoIFNhbXBsZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG91dC5jb25uZWN0ICYmIHR5cGVvZiBvdXQuY29ubmVjdCA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXRzb3VyY2UgPSBvdXQuY29ubmVjdCh7JCRTT1VSQ0U6IHRydWV9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UuY29ubmVjdChvdXRzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ1Vua25vd24gdHlwZSBvZiAgb2JqZWN0IHBhc3NlZCBhcyBvdXRwdXQhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ1Vua25vd24gdHlwZSBvZiAgb2JqZWN0IHBhc3NlZCBhcyBvdXRwdXQhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm91dHB1dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zLmFuaW1hdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy50eXBlID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdHIgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyID09PSB0eXBlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVybCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1cmw7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZW5hbWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zLnN0b3AuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8yMS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAaW5qZWN0JywgJ0BDb25maWcnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFVzZXJBdWRpb01peGVyKGluamVjdCwgY29uZmlnLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIGV2ZW50cyA9IGluamVjdCgnJEV2ZW50UHJvdmlkZXInKSxcclxuICAgICAgICAgICAgICAgIGZpbHRlcnMgPSBbXSxcclxuICAgICAgICAgICAgICAgIG91dHB1dCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBuYW1lID0gJycsXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJzQ2ZnID0gY29uZmlnLndhdGNoKCdmaWx0ZXJzJywgZnVuY3Rpb24gKHYpIHtmaWx0ZXJzID0gdn0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGV2ZW50cy53cmFwKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gYXJnRigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbdGhpc107XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgncGxheScsIGFyZ0YsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdjb25uZWN0JywgYXJnRiwgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ3JlYWR5JywgYXJnRiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnZXJyb3InLCBhcmdGLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQgPSBmdW5jdGlvbiAobiwgY2hhbm5lbCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVyc0NmZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBub2RlID0gaW5qZWN0KCckJyArIGZpbHRlcnNDZmdbaV0gKyAnTm9kZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJzW2ZpbHRlcnMubGVuZ3RoIC0gMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyc1tmaWx0ZXJzLmxlbmd0aCAtIDFdLmNvbm5lY3Qobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcnMucHVzaChub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG4gPT09IFwic3RyaW5nXCIgJiYgbi5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtuOiBufSwgJ1t7bn1dIGlzIG5vdCBhIHZhbGlkIG5hbWUgZm9yIGNoYW5uZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbCAmJiB0eXBlb2YgY2hhbm5lbCA9PT0gXCJvYmplY3RcIiAmJiBjaGFubmVsLmNvbm5lY3QgJiYgdHlwZW9mIGNoYW5uZWwuY29ubmVjdCA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0KGNoYW5uZWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hhbm5lbCA9PT0gJ2Rlc3RpbmF0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IGluamVjdCgnJERlc3RpbmF0aW9uTm9kZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcnNbZmlsdGVycy5sZW5ndGggLSAxXS5jb25uZWN0KGRlc3RpbmF0aW9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0ID0gZnVuY3Rpb24gKG91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3V0LiQkQVVESU9OT0RFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyc1swXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgZGVsZXRlICB0aGlzLmJ1aWxkO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3QgPSBmdW5jdGlvbiAob3V0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3V0LiQkQVVESU9OT0RFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcnNbMF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSBvdXQuY29ubmVjdCh7JCRBVURJT05PREU6IHRydWV9KTtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzW2ZpbHRlcnMubGVuZ3RoIC0gMV0uY29ubmVjdChpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vdXRwdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5maWx0ZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcnM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmFtZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTkvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnQGV4dGVuZCcsICdAaW5qZWN0JyxcclxuICAgICAgICBmdW5jdGlvbiBVc2VyQXVkaW9Tb3VyY2UoZXh0ZW5kLCBpbmplY3QpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBub2RlID0gaW5qZWN0KCckQXVkaW9Tb3VyY2UnKSxcclxuICAgICAgICAgICAgICAgIGV2ZW50cyA9IGluamVjdCgnJEV2ZW50UHJvdmlkZXInKSxcclxuICAgICAgICAgICAgICAgIG1peGVyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIG91dHB1dCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICB1cmwgPSAnJztcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNiQXJncygpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbdGhpc107XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNvbm5lY3RDYkFyZ3MoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW3RoaXMsIG91dHB1dF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGV2ZW50cy53cmFwKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdyZWFkeScsIGNiQXJncywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnbG9hZCcsIGNiQXJncywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnZXJyb3InLCBjYkFyZ3MsIHRydWUpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Nvbm5lY3QnLCBjb25uZWN0Q2JBcmdzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgncGxheScsIGNiQXJncywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ3N0b3AnLCBjYkFyZ3MsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIG5vZGUub24oJ3JlYWR5JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ3JlYWR5Jyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbm9kZS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdsb2FkJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbm9kZS5vbignZXJyb3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnZXJyb3InKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkID0gZnVuY3Rpb24gKHNyYykge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3JjID09PSBcInN0cmluZ1wiICYmIHNyYy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gc3JjO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUuYnVpbGQoc3JjKTtcclxuICAgICAgICAgICAgICAgICAgICBtaXhlciA9IGluamVjdCgnJFVzZXJBdWRpb01peGVyJykuYnVpbGQoJ3NvdXJjZS1idWlsdC1pbi1maWx0ZXInKTtcclxuICAgICAgICAgICAgICAgICAgICBtaXhlci5vbignY29ubmVjdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Nvbm5lY3QnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLmNvbm5lY3QobWl4ZXIuY29ubmVjdCh7JCRBVURJT05PREU6IHRydWV9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuYnVpbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ3JlYWR5Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgIHRoaXMuYnVpbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5maWx0ZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1peGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1peGVyLmZpbHRlcnMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLnBsYXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc3RhdHVzKCdlcnJvcicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzKCdyZWFkeScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cygnbG9hZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG5vZGUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm91dHB1dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3QgPSBmdW5jdGlvbiAob3V0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3V0ICYmIG91dC5jb25zdHJ1Y3RvciA9PT0gbWl4ZXIuY29uc3RydWN0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBvdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbWl4ZXIuY29ubmVjdChvdXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnQGluamVjdCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQW5pbWF0aW9uUHJvdmlkZXIoaW5qZWN0LCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbnMgPSBbXSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGVkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtb3JwaHMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubW9ycGggPSBmdW5jdGlvbiAobmFtZSwgb3JkZXJpbmcsIHNldHRlciwgYXBwbGllcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vcnBoID0gaW5qZWN0KCckTW9ycGgnKTtcclxuICAgICAgICAgICAgICAgIG1vcnBoLmNvbmZpZyhuYW1lLCB0aGlzLCBvcmRlcmluZywgc2V0dGVyLCBhcHBsaWVyKTtcclxuICAgICAgICAgICAgICAgIGlmIChtb3JwaC52YWxpZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9ycGhzW25hbWVdID0gbW9ycGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmV4dHJhY3RNb3JwaCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9ycGhzW25hbWVdO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZmluZENvbXBldGl0b3IocHJvcGVydGllcywgYW5pbWF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uJCRTRUxGID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgY29tcGV0aXRvciA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbmltYXRpb25zW2ldLiQkU0VMRikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uc1tpXS5hY3RpdmUoKSAmJiAhYW5pbWF0aW9uc1tpXS5kb25lKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGVjayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBwcm9wZXJ0aWVzLmxlbmd0aDsgbisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbnNbaV0uaGFzUHJvcGVydHkocHJvcGVydGllc1tuXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2sgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbXBldGl0b3IpIGNvbXBldGl0b3IgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wZXRpdG9yLnB1c2goYW5pbWF0aW9uc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIGFuaW1hdGlvbi4kJFNFTEY7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBldGl0b3I7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIENoZWNrQW5pbWF0aW9uUXVldWUoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2FuaW1hdGlvbnMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGlvbnNbaV0uYWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BzID0gYW5pbWF0aW9uc1tpXS5wcm9wZXJ0aWVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25zW2ldLnF1ZXVlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmluZENvbXBldGl0b3IocHJvcHMsIGFuaW1hdGlvbnNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uc1tpXS5zdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBldGl0b3JzID0gZmluZENvbXBldGl0b3IocHJvcHMsIGFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBldGl0b3JzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBjb21wZXRpdG9ycy5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwID0gMDsgcCA8IHByb3BzLmxlbmd0aDsgcCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wZXRpdG9yc1tuXS5zdG9wKHByb3BzW3BdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnNbaV0uc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhbmltYXRpb25zW2ldLmRvbmUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FuaW1hdGlvbnMucHVzaChhbmltYXRpb25zW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zID0gX2FuaW1hdGlvbnM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVBbmltYXRpb25UeXBlMShwcm9wZXJ0eSwgdmFsdWUsIGR1cmF0aW9uLCBlYXNpbmcpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYWlyID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgcGFpcltwcm9wZXJ0eV0gPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobW9ycGhzW3Byb3BlcnR5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGFjayA9IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcmluZzogbW9ycGhzW3Byb3BlcnR5XS5vcmRlcmluZygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoOiBtb3JwaHNbcHJvcGVydHldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGR1cmF0aW9uICYmIHR5cGVvZiBkdXJhdGlvbiA9PT0gXCJudW1iZXJcIikgY29uZmlnLmR1cmF0aW9uID0gZHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVhc2luZyAmJiB0eXBlb2YgZWFzaW5nID09PSBcInN0cmluZ1wiKSBjb25maWcuZWFzaW5nID0gZWFzaW5nO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IGluamVjdCgnJEFuaW1hdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uY29uZmlnKHRoaXMsIHN0YWNrLCBjb25maWcsIENoZWNrQW5pbWF0aW9uUXVldWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlQW5pbWF0aW9uVHlwZTIocGFpcnMsIGFyZzIsIGFyZzMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZzIgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSBhcmcyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFyZzIgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBhcmcyXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZzMgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLmVhc2luZyA9IGFyZzNcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJnMiA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBhcmcyXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcGFpcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhaXJzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtb3JwaHNbcHJvcGVydHldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ1Byb3BlcnR5IHtwcm9wZXJ0eX0gb2Yge3R5cGV9IGNhbiBub3QgYmUgYW5pbWF0ZWQhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbcHJvcGVydHldID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJpbmc6IG1vcnBoc1twcm9wZXJ0eV0ub3JkZXJpbmcoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoOiBtb3JwaHNbcHJvcGVydHldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHBhaXJzW3Byb3BlcnR5XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBtb3JwaF9zdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gaW4gcmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9ycGhfc3RhY2sucHVzaChyZXN1bHRbaXRlbV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtb3JwaF9zdGFjay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3JwaF9zdGFjay5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhLm9yZGVyaW5nIC0gYi5vcmRlcmluZztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IGluamVjdCgnJEFuaW1hdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5jb25maWcodGhpcywgbW9ycGhfc3RhY2ssIGNvbmZpZywgQ2hlY2tBbmltYXRpb25RdWV1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdObyBwcm9wZXJ0aWVzIHRvIGFuaW1hdGUhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZSA9IGZ1bmN0aW9uIChhcmcxLCBhcmcyLCBhcmczLCBhcmc0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZzEgPT09ICdzdHJpbmcnICYmIGFyZzIpIHtcclxuICAgICAgICAgICAgICAgICAgICBDcmVhdGVBbmltYXRpb25UeXBlMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFyZzEgPT09IFwib2JqZWN0XCIgJiYgYXJnMS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBDcmVhdGVBbmltYXRpb25UeXBlMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignVW5hYmxlIHRvIGNyZWF0ZSBhbmltYXRpb24uIFdyb25nIGFyZ3VtZW50cycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgQ2hlY2tBbmltYXRpb25RdWV1ZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hbmltYXRlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbmltYXRlZDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSAhPT0gXCJzdHJpbmdcIiB8fCBwcm9wZXJ0eS5sZW5ndGggPT09IDApIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnNbaV0uc3RvcChwcm9wZXJ0eSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAQXVkaW8nLCAnQGV4dGVuZCcsXHJcbiAgICAgICAgZnVuY3Rpb24gRGVsYXlOb2RlKGF1ZGlvLCBleHRlbmQpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJEF1ZGlvTm9kZScpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHRpbWVDRkcgPSAwLCBmb3JjZUNGRyA9IDAsIGtpbGxEZWxheSA9IDEwMDAwLFxyXG4gICAgICAgICAgICAgICAgZ2xvYmFsR2FpbiA9IGF1ZGlvLmNvbnRleHQoKS5jcmVhdGVHYWluKCksXHJcbiAgICAgICAgICAgICAgICBkZWxheSA9IGF1ZGlvLmNvbnRleHQoKS5jcmVhdGVEZWxheSgpLFxyXG4gICAgICAgICAgICAgICAgZmVlZGJhY2sgPSBhdWRpby5jb250ZXh0KCkuY3JlYXRlR2FpbigpLFxyXG4gICAgICAgICAgICAgICAgYnEgPSBhdWRpby5jb250ZXh0KCkuY3JlYXRlQmlxdWFkRmlsdGVyKCk7XHJcblxyXG4gICAgICAgICAgICBnbG9iYWxHYWluLmdhaW4udmFsdWUgPSAxO1xyXG4gICAgICAgICAgICBicS5mcmVxdWVuY3kudmFsdWUgPSAyMDAwO1xyXG4gICAgICAgICAgICBmZWVkYmFjay5nYWluLnZhbHVlID0gZm9yY2VDRkc7XHJcbiAgICAgICAgICAgIGRlbGF5LmRlbGF5VGltZS52YWx1ZSA9IHRpbWVDRkc7XHJcblxyXG4gICAgICAgICAgICBkZWxheS5jb25uZWN0KGZlZWRiYWNrKTtcclxuICAgICAgICAgICAgZmVlZGJhY2suY29ubmVjdChicSk7XHJcbiAgICAgICAgICAgIGJxLmNvbm5lY3QoZGVsYXkpO1xyXG4gICAgICAgICAgICBmZWVkYmFjay5jb25uZWN0KGdsb2JhbEdhaW4pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5idWlsZCgnZGVsYXknLCBbZ2xvYmFsR2FpbiwgZmVlZGJhY2tdLCBnbG9iYWxHYWluKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHkoJ2RlbGF5JywgWzAsIDBdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5sZW5ndGggPT0gMiAmJiB0eXBlb2YgdmFsdWVbMF0gPT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgdmFsdWVbMV0gPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZSA9IHZhbHVlWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2UgPSB2YWx1ZVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lID4gMSkgdGltZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lIDwgMCkgdGltZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JjZSA+IC44KSBmb3JjZSA9IC44O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9yY2UgPCAwKSBmb3JjZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVDRkcgPSB0aW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZUNGRyA9IGZvcmNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxheS5kZWxheVRpbWUudmFsdWUgPSB0aW1lQ0ZHO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmZWVkYmFjay5nYWluLnZhbHVlID0gZm9yY2VDRkc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbZm9yY2UsIHRpbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLCB2YWx1ZVsxXV07XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWUgPSB2YWx1ZVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2UgPSB2YWx1ZVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWUgPiAxKSB0aW1lID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGltZSA8IDApIHRpbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JjZSA+IC44KSBmb3JjZSA9IC44O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JjZSA8IDApIGZvcmNlID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtmb3JjZSwgdGltZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzE2LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0BBdWRpbycsICdAZXh0ZW5kJyxcclxuICAgICAgICBmdW5jdGlvbiBEZXN0aW5hdGlvbk5vZGUoYXVkaW8sIGV4dGVuZCkge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckQXVkaW9Ob2RlJyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkKCdkZXN0aW5hdGlvbicsIGF1ZGlvLmNvbnRleHQoKS5kZXN0aW5hdGlvbiwgZmFsc2UpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTYvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnQEF1ZGlvJywgJ0BleHRlbmQnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEdhaW5Ob2RlKGF1ZGlvLCBleHRlbmQpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJEF1ZGlvTm9kZScpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHZvbHVtZSA9IDEsXHJcbiAgICAgICAgICAgICAgICBnYWluID0gYXVkaW8uY29udGV4dCgpLmNyZWF0ZUdhaW4oKTtcclxuXHJcbiAgICAgICAgICAgIGdhaW4uZ2Fpbi52YWx1ZSA9IHZvbHVtZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQoJ2dhaW4nLCBnYWluLCBnYWluKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHkoJ3ZvbHVtZScsIDEsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAxKSB2YWx1ZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZvbHVtZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnYWluLmdhaW4udmFsdWUgPSB2b2x1bWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAxKSB2YWx1ZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTYvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnQEF1ZGlvJywgJ0BleHRlbmQnLFxyXG4gICAgICAgIGZ1bmN0aW9uIExvd3Bhc3NOb2RlKGF1ZGlvLCBleHRlbmQpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJEF1ZGlvTm9kZScpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGJxZiA9IGF1ZGlvLmNvbnRleHQoKS5jcmVhdGVCaXF1YWRGaWx0ZXIoKSxcclxuXHJcbiAgICAgICAgICAgICAgICBmcmVxdWVuY3kgPSAyMjA1MDtcclxuXHJcbiAgICAgICAgICAgIGJxZi50eXBlID0gJ2xvd3Bhc3MnO1xyXG4gICAgICAgICAgICBicWYuZnJlcXVlbmN5LnZhbHVlID0gZnJlcXVlbmN5O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5idWlsZCgnbG93cGFzcycsIGJxZiwgYnFmKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHkoJ2xvd3Bhc3MnLCAyMjA1MCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAyMjA1MCkgdmFsdWUgPSAyMjA1MDtcclxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3kgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicWYuZnJlcXVlbmN5LnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMjIwNTApIHZhbHVlID0gMjIwNTA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAaW5qZWN0JywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBBdWRpb05vZGUoaW5qZWN0LCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIG91dHB1dCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBpbnB1dCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBidWlsZEYgPSBmdW5jdGlvbiAoc291bmQsIG91dHB1dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghb3V0cHV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMuaW5wdXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291bmQuY29ubmVjdChpbnB1dFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0KCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc291bmRzID0gW10sXHJcbiAgICAgICAgICAgICAgICBldmVudHMgPSBpbmplY3QoJyRFdmVudFByb3ZpZGVyJyksXHJcbiAgICAgICAgICAgICAgICBub2RlbmFtZSA9ICcnO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gYXJncygpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbbmV4dE5vZGVdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBldmVudHMud3JhcCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgncmVhZHknLCBhcmdzLCB0cnVlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdwbGF5JywgYXJncywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2VuZCcsIGFyZ3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdjb25uZWN0JywgYXJncywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Rpc2Nvbm5lY3QnLCBhcmdzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgncHJvcGVydHknLCBhcmdzLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dE5vZGUgJiYgb3V0cHV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pbnBBcnJheSA9IG5leHROb2RlLmlucHV0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvdXRwdXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBfaW5wQXJyYXkubGVuZ3RoOyBuKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFtpXS5kaXNjb25uZWN0KF9pbnBBcnJheVtuXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdkaXNjb25uZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdCA9IGZ1bmN0aW9uIChvdXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvdXQ7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dE5vZGUgJiYgb3V0cHV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pbnBBcnIgPSBuZXh0Tm9kZS5pbnB1dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3V0cHV0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgX2lucEFyci5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W2ldLmNvbm5lY3QoX2lucEFycltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnY29ubmVjdCcpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkID0gZnVuY3Rpb24gKG5hbWUsIGlucCwgb3V0LCBmKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dCA9IHR5cGVvZiBpbnAgPT0gXCJvYmplY3RcIiAmJiBpbnAuY29uc3RydWN0b3IgPT09IEFycmF5ID8gaW5wIDogW2lucF07XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSB0eXBlb2Ygb3V0ID09IFwib2JqZWN0XCIgJiYgb3V0LmNvbnN0cnVjdG9yID09PSBBcnJheSA/IG91dCA6IFtvdXRdO1xyXG4gICAgICAgICAgICAgICAgbm9kZW5hbWUgPSBuYW1lO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmID09IFwiZnVuY3Rpb25cIikgYnVpbGRGID0gZjtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmJ1aWxkO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ3JlYWR5Jyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm91dHB1dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZW5hbWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBsYXkgPSBmdW5jdGlvbiAoc291bmQsIG91dHB1dCkge1xyXG4gICAgICAgICAgICAgICAgc291bmRzLnB1c2goc291bmQpO1xyXG4gICAgICAgICAgICAgICAgc291bmQuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdW5kLiQkU0VBUkNIID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdW5kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNvdW5kcy4kJFNFQVJDSCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goc291bmRzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc291bmQuJCRTRUFSQ0g7XHJcbiAgICAgICAgICAgICAgICAgICAgc291bmRzID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG5leHROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUucGxheShzb3VuZCwgYnVpbGRGLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciBtb2RlbCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eSA9IGZ1bmN0aW9uIChuYW1lLCBkZWZWYWwsIHNldHRlciwgZ2V0dGVyLCBub3JtbGl6ZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldHRlcjogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGVyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVyOiBub3JtbGl6ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGVkOiB0eXBlb2Ygbm9ybWxpemVyID09PSBcImZ1bmN0aW9uXCIgPyB0cnVlIDogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGdldHRlciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LmdldHRlciA9IGdldHRlcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXR0ZXIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5zZXR0ZXIgPSBzZXR0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS52YWx1ZSA9IGRlZlZhbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZlZhbCAmJiB0eXBlb2YgcHJvcGVydHkuZ2V0dGVyICYmIHByb3BlcnR5LnNldHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1vZGVsW3Byb3BlcnR5Lm5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eS5uYW1lXSA9IHByb3BlcnR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7cHJvcGVydHk6IHByb3BlcnR5fSwgJ0R1cGxpY2F0ZWQgcHJvcGVydHkgW3twcm9wZXJ0eX1dJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtuYW1lOiBuYW1lfSwgJ1Byb3BlcnR5IG5hbWUgW3tuYW1lfV0gaXMgbm90IHZhbGlkIScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXQgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PSBcInN0cmluZ1wiICYmIG5hbWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBtb2RlbFtuYW1lXS5zZXR0ZXIodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbFtuYW1lXS52YWx1ZSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Byb3A6IG5hbWUsIHZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZW4gZm9yIFt7cHJvcH1dLicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PSBcInN0cmluZ1wiICYmIG5hbWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbFtuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWxbbmFtZV0udmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtuYW1lOiBuYW1lfSwgJ09iamVjdCBoYXMgbm8gcHJvcGVydHkgW3tuYW1lfV0uIFVuYWJsZSB0byBnZXQgdmFsdWUuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignUHJvcGVydHkgbmFtZSBoYXMgdG8gYmUgYSBzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBtb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChtb2RlbFtwcm9wXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhhcyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gISFtb2RlbFtuYW1lXTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzIyLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBmdW5jdGlvbiBBdWRpb05vZGVTb3VuZERpc3BhdGNoZXIoKSB7XHJcblxyXG4gICAgICAgIHZhciBzb3VuZHMgPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uIChzb3VuZCkge1xyXG4gICAgICAgICAgICBzb3VuZC5hZGRFdmVudExpc3RlbmVyKCdlbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzb3VuZC4kJFNFQVJDSCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291bmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzb3VuZHNbaV0uJCRTRUFSQ0gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goc291bmRzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzb3VuZHMgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc291bmRzLnB1c2goc291bmQpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucmVjb25uZWN0ID0gZnVuY3Rpb24gKGRlc3RpbmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291bmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzb3VuZHNbaV0uZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgc291bmRzW2ldLmNvbm5lY3QoZGVzdGluYXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAQXVkaW8nLCAnQGluamVjdCcsICdSZXNvdXJjZScsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQXVkaW9Tb3VyY2UoYXVkaW8sIGluamVjdCwgUmVzb3VyY2UsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdXJsID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHJlc291cmNlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzID0gaW5qZWN0KCckRXZlbnRQcm92aWRlcicpLFxyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBzb3VuZHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGFyZ3MoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW3Jlc291cmNlLCBidWZmZXIsIG91dHB1dF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGV2ZW50cy53cmFwKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdyZWFkeScsIGFyZ3MsIHRydWUpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2xvYWQnLCBhcmdzLCB0cnVlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdlcnJvcicsIGFyZ3MsIHRydWUpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Nvbm5lY3QnLCBhcmdzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnZGlzY29ubmVjdCcsIGFyZ3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdwbGF5JywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2VuZCcsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQgPSBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvdXJjZSA9IFJlc291cmNlLmF1ZGlvKHNyYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2Uub24oJ2xvYWQnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBhdWRpby5jb250ZXh0KCkuZGVjb2RlQXVkaW9EYXRhKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2xvYWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3NyYzogc3JjfSwgJ1t7c3JjfV0gYXVkaW8gYnVmZmVyIGNhbiBub3QgYmUgZGVjb2RlZC4gUmVzb3VyY2Ugbm90IGZvdW5kLCBvciBvZiB3cm9uZyBmb3JtYXQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2Uub24oJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtzcmM6IHNyY30sICdVbmFibGUgdG8gbG9hZCBhdWRpbyBmaWxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoZXJyb3IpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmJ1aWxkO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Rpc2Nvbm5lY3QnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0ID0gZnVuY3Rpb24gKG91dCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBvdXQ7XHJcbiAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnY29ubmVjdCcpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBsYXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0ICYmIHRoaXMuc3RhdHVzKCdsb2FkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gYXVkaW8uY29udGV4dCgpLmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5idWZmZXIgPSBidWZmZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgc291bmRzLnB1c2goc291cmNlKTtcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQucGxheShzb3VyY2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2Uuc3RhcnQoMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291bmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc291bmRzW2ldLnN0b3AoMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzb3VuZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTYvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEV2ZW50KERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgY2IgPSBbXSxcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBuYW1lID0gJ2RlZmF1bHQnLFxyXG4gICAgICAgICAgICAgICAgc3RhdGV2YWwgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICAgICAgYXJnRnVuY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBhcmdGLCBpc1N0YXRlRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gISFpc1N0YXRlRXZlbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdGID09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ0Z1bmN0ID0gYXJnRjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50TmFtZSA9PSBcInN0cmluZ1wiICYmIGV2ZW50TmFtZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGV2ZW50TmFtZVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmJ1aWxkO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmFtZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRldmFsO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlKSBzdGF0ZXZhbCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmdGdW5jdCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzICE9PSBcIm9iamVjdFwiIHx8IGFyZ3MuY29uc3RydWN0b3IgIT09IEFycmF5KSBhcmdzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYltpXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuYWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ0Z1bmN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzICE9PSBcIm9iamVjdFwiIHx8IGFyZ3MuY29uc3RydWN0b3IgIT09IEFycmF5KSBhcmdzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICBjYi5wdXNoKGFyZ3VtZW50c1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYi5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAaW5qZWN0JyxcclxuICAgICAgICBmdW5jdGlvbiBFdmVudFByb3ZpZGVyKGluamVjdCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGV2ZW50cyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5ldmVudCA9IGZ1bmN0aW9uIChuYW1lLCBhcmdGLCBzdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gaW5qZWN0KCckRXZlbnQnKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LmJ1aWxkLmFwcGx5KGV2ZW50LCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzW25hbWVdID0gZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRzW25hbWVdKSBldmVudHNbbmFtZV0ucmVzb2x2ZS5jYWxsKGV2ZW50c1tuYW1lXSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud3JhcCA9IGZ1bmN0aW9uIChvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIG9iamVjdC5vbiA9IGZ1bmN0aW9uIChuYW1lLCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50c1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHNbbmFtZV0uY2FsbGJhY2suY2FsbChvYmplY3QsIGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgb2JqZWN0LnN0YXR1cyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50c1tuYW1lXSkgcmV0dXJuIGV2ZW50c1tuYW1lXS5hY3RpdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIkUi5zZXJ2aWNlLmNsYXNzKCdTdGF0ZXMnLCBbJ0RlYnVnJywgZnVuY3Rpb24gU3RhdGUoRGVidWcpIHtcclxuXHJcbiAgICB2YXIgc3RhdGVzID0ge30sXHJcbiAgICAgICAgZW1pdHRlciA9IG51bGwsXHJcbiAgICAgICAgdGFyZ2V0ID0gbnVsbCxcclxuICAgICAgICBzZWxmID0gdGhpcyxcclxuICAgICAgICBzdGF0ZV9zdHJpbmdfcmVnZXhwID0gL1tBLVphLXotMC05XSsvZztcclxuXHJcbiAgICBmdW5jdGlvbiBpc0luU3RhdGUoc3RhdGUpIHtcclxuICAgICAgICBpZiAoc3RhdGVzW3N0YXRlXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGVzW3N0YXRlXS52YWx1ZVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIERlYnVnLmVycm9yKHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBzdGF0ZSxcclxuICAgICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0LmNvbnN0cnVjdG9yLm5hbWVcclxuICAgICAgICAgICAgfSwgJ1N0YXRlIHtzdGF0ZX0gaWYge3RhcmdldH0gZG9lcyBub3QgZXhpc3QnLCB0YXJnZXQpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzQm91bmRQcm9wZXJ0eShwcm9wZXJ0eSkge1xyXG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3RhdGVzW3Byb3BlcnR5XSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIHR5cGVvZiBzdGF0ZXNbcHJvcGVydHldLmJvdW5kID09PSBcIm9iamVjdFwiICYmXHJcbiAgICAgICAgICAgIHN0YXRlc1twcm9wZXJ0eV0uYm91bmQuY29uc3RydWN0b3IgPT09IEFycmF5ICYmXHJcbiAgICAgICAgICAgIHN0YXRlc1twcm9wZXJ0eV0uYm91bmQubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFByb3BlcnR5RXZlbnRDYWxsYmFjayhwcm9wZXJ0eSwgdmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZXRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5LCB2YWx1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVByb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSwgZW5hYmxlciwgZGlzYWJsZXIpIHtcclxuICAgICAgICBpZiAoc3RhdGVzW3Byb3BlcnR5XSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHN0YXRlc1twcm9wZXJ0eV0gPSB7dmFsdWU6ICEhdmFsdWV9O1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGVuYWJsZXIgPT09IFwic3RyaW5nXCIgJiYgZW5hYmxlci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBlbmFibGVyID0gZW5hYmxlci5tYXRjaChzdGF0ZV9zdHJpbmdfcmVnZXhwKTtcclxuICAgICAgICAgICAgICAgIGlmKGVuYWJsZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YXRlc1twcm9wZXJ0eV0uYm91bmQpIHN0YXRlc1twcm9wZXJ0eV0uYm91bmQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwIDsgaSA8IGVuYWJsZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVzW3Byb3BlcnR5XS5ib3VuZC5wdXNoKGVuYWJsZXJbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0dGVyLm9uKGVuYWJsZXJbaV0sIGdldFByb3BlcnR5RXZlbnRDYWxsYmFjayhwcm9wZXJ0eSwgdHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZXI6IHR5cGVvZiBlbmFibGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlcjogdHlwZW9mIGRpc2FibGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHlcclxuICAgICAgICAgICAgICAgICAgICB9LCAnRW5hYmxlciBpcyBub3QgYSB2YWxpZCBldmVudCBzdHJpbmcuIFVuYWJsZSB0byBjcmVhdGUgYm91bmQgcHJvcGVydHkge3Byb3BlcnR5fSA6IGVuYWJsZXIge2VuYWJsZXJ9LCBkaXNhYmxlciAtIHtkaXNhYmxlcn0nLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGlzYWJsZXIgPT09IFwic3RyaW5nXCIgJiYgZGlzYWJsZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZGlzYWJsZXIgPSBkaXNhYmxlci5tYXRjaChzdGF0ZV9zdHJpbmdfcmVnZXhwKVswXTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGlzYWJsZXIgPT09IFwic3RyaW5nXCIgJiYgZGlzYWJsZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhdGVzW3Byb3BlcnR5XS5ib3VuZCkgc3RhdGVzW3Byb3BlcnR5XS5ib3VuZCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVyID0gZGlzYWJsZXIubWF0Y2goc3RhdGVfc3RyaW5nX3JlZ2V4cCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGlzYWJsZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGF0ZXNbcHJvcGVydHldLmJvdW5kKSBzdGF0ZXNbcHJvcGVydHldLmJvdW5kID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgZiA9IDAgOyBmIDwgZGlzYWJsZXIubGVuZ3RoOyBmKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlc1twcm9wZXJ0eV0uYm91bmQucHVzaChkaXNhYmxlcltmXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWl0dGVyLm9uKGRpc2FibGVyW2ZdLCBnZXRQcm9wZXJ0eUV2ZW50Q2FsbGJhY2socHJvcGVydHksIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZXI6IHR5cGVvZiBlbmFibGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZXI6IHR5cGVvZiBkaXNhYmxlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAnRGlzYWJsZXIgaXMgbm90IGEgdmFsaWQgZXZlbnQgc3RyaW5nLiBVbmFibGUgdG8gY3JlYXRlIGJvdW5kIHByb3BlcnR5IHtwcm9wZXJ0eX0gOiBlbmFibGVyIHtlbmFibGVyfSwgZGlzYWJsZXIgLSB7ZGlzYWJsZXJ9JywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlcjogdHlwZW9mIGVuYWJsZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVyOiB0eXBlb2YgZGlzYWJsZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgICAgIH0sICdEaXNhYmxlciBpcyBub3QgYSB2YWxpZCBldmVudCBzdHJpbmcuIFVuYWJsZSB0byBjcmVhdGUgYm91bmQgcHJvcGVydHkge3Byb3BlcnR5fSA6IGVuYWJsZXIge2VuYWJsZXJ9LCBkaXNhYmxlciAtIHtkaXNhYmxlcn0nLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldFByb3BlcnR5VmFsdWUocHJvcGVydHksIHZhbHVlLCB0cnVzdGVkKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGF0ZXNbcHJvcGVydHldID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNfYm91bmQgPSBpc0JvdW5kUHJvcGVydHkocHJvcGVydHkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc19ib3VuZCB8fCAoaXNfYm91bmQgJiYgdHJ1c3RlZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZXNbcHJvcGVydHldLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9LCAnQXR0ZW1wdCB0byBzZXQgc3RhdGUgb2YgYm91bmQgcHJvcGVydHkgZGlyZWN0bHkuIFVuYWJsZSB0byBzZXQgdmFsdWUge3ZhbHVlfSBvZiBwcm9wZXJ0eSB7cHJvcGVydHl9LicpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBEZWJ1Zy5lcnJvcih7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHksXHJcbiAgICAgICAgICAgICAgICB2YWw6IHR5cGVvZiB2YWx1ZVxyXG4gICAgICAgICAgICB9LCAnVW5hYmxlIHRvIHNldCB7cHJvcGVydHl9IHZhbHVlIGFzIHt2YWx9LiBNdXN0IGJlIGJvb2xlYW4uICcsIHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZGVjb3JhdGUgPSBmdW5jdGlvbiAob2JqZWN0LCBldmVudF9lbWl0dGVyKSB7XHJcbiAgICAgICAgdGFyZ2V0ID0gb2JqZWN0O1xyXG5cclxuICAgICAgICBpZiAoZXZlbnRfZW1pdHRlcikge1xyXG4gICAgICAgICAgICBlbWl0dGVyID0gZXZlbnRfZW1pdHRlcjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24gKHByb3BlcnR5LCB2YWx1ZSwgZW5hYmxlciwgZGlzYWJsZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzID0gcHJvcGVydHkubWF0Y2goc3RhdGVfc3RyaW5nX3JlZ2V4cCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlciA9IHByb3BlcnR5O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hdGNoZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVQcm9wZXJ0eShtYXRjaGVzW2ldLCB2YWx1ZSwgZW5hYmxlciwgZGlzYWJsZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXQgPSBmdW5jdGlvbiAocHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IHByb3BlcnR5Lm1hdGNoKHN0YXRlX3N0cmluZ19yZWdleHApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRjaGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFByb3BlcnR5VmFsdWUobWF0Y2hlc1tpXSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRhcmdldC5pcyA9IGZ1bmN0aW9uIChzdGF0ZSwgc3RyaWN0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLiRTVEFURVNQUk9URUNURURDT05URVhUKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy4kU1RBVEVTUFJPVEVDVEVESEFTRU1JVFRFUlNFVCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFldmVudF9lbWl0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW1pdHRlciA9IHN0YXRlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzID0gc3RhdGUubWF0Y2goc3RhdGVfc3RyaW5nX3JlZ2V4cCksXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgICAgIHN0cmljdCA9IHR5cGVvZiBzdHJpY3QgPT09IFwidW5kZWZpbmVkXCIgPyB0cnVlIDogdHlwZW9mIHN0cmljdCA9PT0gXCJib29sZWFuXCIgPyBzdHJpY3QgOiB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRjaGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGlzSW5TdGF0ZShtYXRjaGVzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmljdCAmJiAhcmVzdWx0KSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdHJpY3QgJiYgcmVzdWx0KSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3N0YXRlOiBzdGF0ZX0sICdJbnZhbGlkIHN0YXRlIHN0cmluZy4gVW5hYmxlIHRvIHBhcnNlIHtzdGF0ZX0gYW5kIGNoZWNrIHN0YXRlLicsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGlzSW5TdGF0ZShzdGF0ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0YXJnZXQuaXMuJCRTVEFURVNQUk9URUNURUQgPSB0cnVlO1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLmRlY29yYXRlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNS8xLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGluamVjdCcsICcrRHJhd2VyJywgJytQYXRoJywgJytNb2RlbCcsXHJcbiAgICAgICAgZnVuY3Rpb24gQXJlYU9iamVjdERyYXdlcihpbmplY3QsIERyYXdlckhlbHBlciwgUGF0aEhlbHBlciwgTW9kZWxIZWxwZXIpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBhc3NlbWJsZXIgPSBpbmplY3QoJyRHcmFwaGljc0Fzc2VtYmxlcicpLFxyXG4gICAgICAgICAgICAgICAgYm94ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHRoaXMuZXh0ZW5zaW9uKCdNYXRyaXgnKSxcclxuICAgICAgICAgICAgICAgIGRyYXdlciA9IHRoaXMuZXh0ZW5zaW9uKCdEcmF3ZXInKSxcclxuICAgICAgICAgICAgICAgIGludGVycG9sYXRlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4ID0gMSwgaW50ZXJwb2xhdGlvbmZpeCA9IDAsXHJcbiAgICAgICAgICAgICAgICB4c2hpZnQgPSAwLCB5c2hpZnQgPSAwO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vVE9ETyA6IEFwcGx5IGludGVycG9sYXRpb24gdG8gcGF0aCFcclxuXHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5sYXllcigwLCAnZmlsbCcsIFVwZGF0ZUZpbGwuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5sYXllcigxLCAnYmcnLCBVcGRhdGVCZy5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLmxheWVyKDIsICdzdHJva2UnLCBVcGRhdGVTdHJva2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5ib3goYm94KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFVwZGF0ZUZpbGwoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNwcml0ZSA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKS5ib3goKS5zcHJpdGUoKSxcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHNwcml0ZS5tYXJnaW5bM10gLSB4c2hpZnQsIHNwcml0ZS5tYXJnaW5bMF0gLSB5c2hpZnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBpbnRlcnBvbGF0aW9uID0gc3R5bGUuZ2V0KCdpbnRlcnBvbGF0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnRlcnBvbGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBQYXRoSGVscGVyLmludGVycG9sYXRlKHBhdGgsIGludGVycG9sYXRpb24sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGludGVycG9sYXRpb24pIERyYXdlckhlbHBlci5kcmF3QmV6aWVyUGF0aEZpbGwoY29udGV4dCwgcGF0aCwgc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBEcmF3ZXJIZWxwZXIuZHJhd0xpbmVQYXRoRmlsbChjb250ZXh0LCBwYXRoLCBzdHlsZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFVwZGF0ZVN0cm9rZShjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3ByaXRlID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLnNwcml0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aCA9IE1vZGVsSGVscGVyLmNsb25lQXJyYXkoc3R5bGUuZ2V0KCdwYXRoJykpLFxyXG4gICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRpb24gPSBzdHlsZS5nZXQoJ2ludGVycG9sYXRpb24nKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoc3ByaXRlLm1hcmdpblszXSAtIHhzaGlmdCwgc3ByaXRlLm1hcmdpblswXSAtIHlzaGlmdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnRlcnBvbGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBQYXRoSGVscGVyLmludGVycG9sYXRlKHBhdGgsIGludGVycG9sYXRpb24sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGludGVycG9sYXRpb24pIERyYXdlckhlbHBlci5kcmF3TGluZVBhdGgoY29udGV4dCwgcGF0aCwgc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLmRyYXdCZXppZXJQYXRoKGNvbnRleHQsIHBhdGgsIHN0eWxlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlQmcoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLnNwcml0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHN0eWxlLmdldCgncGF0aCcpKSxcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uID0gc3R5bGUuZ2V0KCdpbnRlcnBvbGF0aW9uJyk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHNwcml0ZS5tYXJnaW5bM10gLSB4c2hpZnQsIHNwcml0ZS5tYXJnaW5bMF0gLSB5c2hpZnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghaW50ZXJwb2xhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUGF0aEhlbHBlci5pbnRlcnBvbGF0ZShwYXRoLCBpbnRlcnBvbGF0aW9uLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0aW9uKSBEcmF3ZXJIZWxwZXIuZHJhd0xpbmVCZ0NsaXBQYXRoKGNvbnRleHQsIHBhdGgsIHN0eWxlLCBhc3NlbWJsZXIsIHNwcml0ZSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIERyYXdlckhlbHBlci5kcmF3QmV6aWVyQmdDbGlwUGF0aChjb250ZXh0LCBwYXRoLCBzdHlsZSwgYXNzZW1ibGVyLCBzcHJpdGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncGF0aCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbnRlcnBvbGF0aW9uID0gc3R5bGUuZ2V0KCdpbnRlcnBvbGF0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIucmVzaXplKCk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnaW50ZXJwb2xhdGlvbicsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGludGVycG9sYXRpb25maXggPSBNYXRoLnJvdW5kKDQwICogbik7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIucmVzaXplKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncG9zaXRpb24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goWydzdHJva2VTdHlsZScsICdzdHJva2VDb2xvciddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci5yZXNpemUoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdmaWxsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goWydiZycsICdiZ1NpemUnLCAnYmdQb3NpdGlvbiddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3N0cm9rZVdpZHRoJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaXggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuW2ldID4gZml4KSBmaXggPSBuW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeCA9IGZpeCAvIDI7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIucmVzaXplKCk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGJveC5mKGZ1bmN0aW9uIChib3hDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gc3R5bGUuZ2V0KCdhbmNob3InKSxcclxuICAgICAgICAgICAgICAgICAgICB4ID0gcG9zaXRpb25bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeSA9IHBvc2l0aW9uWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbnggPSBJbmZpbml0eSxcclxuICAgICAgICAgICAgICAgICAgICBtaW55ID0gSW5maW5pdHksXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4eCA9IC1JbmZpbml0eSxcclxuICAgICAgICAgICAgICAgICAgICBtYXh5ID0gLUluZmluaXR5O1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzBdIDwgbWlueCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW54ID0gcGF0aFtpXVswXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVsyXSA8IG1pbngpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlueCA9IHBhdGhbaV1bMl1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMV0gPCBtaW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnkgPSBwYXRoW2ldWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzNdIDwgbWlueSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW55ID0gcGF0aFtpXVszXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVswXSA+IG1heHgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4eCA9IHBhdGhbaV1bMF1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMl0gPiBtYXh4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heHggPSBwYXRoW2ldWzJdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzFdID4gbWF4eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXh5ID0gcGF0aFtpXVsxXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVszXSA+IG1heHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4eSA9IHBhdGhbaV1bM11cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1pbnggPT09IEluZmluaXR5KSBtaW54ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChtaW55ID09PSBJbmZpbml0eSkgbWlueSA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF4eCA9PT0gLUluZmluaXR5KSBtYXh4ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChtYXh5ID09PSAtSW5maW5pdHkpIG1heHggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIHhzaGlmdCA9IG1pbng7XHJcbiAgICAgICAgICAgICAgICB5c2hpZnQgPSBtaW55O1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBmaXggPSBzdHJva2VmaXggKyBpbnRlcnBvbGF0aW9uZml4LFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gTWF0aC5hYnMobWF4eCAtIG1pbngpLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IE1hdGguYWJzKG1heHkgLSBtaW55KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gd2lkdGggPyB3aWR0aCAvIDIgOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gd2lkdGggPyB3aWR0aCA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnbWlkZGxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gaGVpZ2h0ID8gaGVpZ2h0IC8gMiA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnYm90dG9tJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gaGVpZ2h0ID8gaGVpZ2h0IDogMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYm94Q29udGFpbmVyLnNldChcclxuICAgICAgICAgICAgICAgICAgICB4ICsgeHNoaWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgIHkgKyB5c2hpZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgIGZpeCxcclxuICAgICAgICAgICAgICAgICAgICBmaXgsXHJcbiAgICAgICAgICAgICAgICAgICAgZml4LFxyXG4gICAgICAgICAgICAgICAgICAgIGZpeFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZXhwb3J0KGFzc2VtYmxlci5leHBvcnQpO1xyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmRyYXdGdW5jdGlvbihmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLnRyYW5zZm9ybSh0aGlzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGRyYXdlci5leHBvcnQoKSwgMCwgMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkcmF3ZXIuZGVzdHJveShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIgPSBhc3NlbWJsZXIuZGVzdHJveSgpLFxyXG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVkID0gdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4ID0gdW5kZWZpbmVkLCBpbnRlcnBvbGF0aW9uZml4ID0gdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgeHNoaWZ0ID0gdW5kZWZpbmVkLCB5c2hpZnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytEcmF3ZXInLCAnRGVidWcnLCAnQGluamVjdCcsXHJcbiAgICAgICAgZnVuY3Rpb24gQ2lyY2xlT2JqZWN0RHJhd2VyKERyYXdlckhlbHBlciwgRGVidWcsIGluamVjdCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGFzc2VtYmxlciA9IGluamVjdCgnJEdyYXBoaWNzQXNzZW1ibGVyJyksXHJcbiAgICAgICAgICAgICAgICBkcmF3ZXIgPSB0aGlzLmV4dGVuc2lvbignRHJhd2VyJyksXHJcbiAgICAgICAgICAgICAgICBib3hFeHQgPSB0aGlzLmV4dGVuc2lvbignQm94JyksXHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gdGhpcy5leHRlbnNpb24oJ01hdHJpeCcpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4ID0gMTtcclxuXHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5sYXllcigwLCAnZmlsbCcsIFVwZGF0ZUZpbGwuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5sYXllcigxLCAnYmcnLCBVcGRhdGVCZy5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLmxheWVyKDIsICdzdHJva2UnLCBVcGRhdGVTdHJva2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5ib3goYm94RXh0KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFVwZGF0ZVN0cm9rZShjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3ByaXRlID0gYm94RXh0LmJveCgpLnNwcml0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMoc3ByaXRlLnNpemVbMF0gLyAyLCBzcHJpdGUuc2l6ZVsxXSAvIDIsIHN0eWxlLmdldCgncmFkaXVzJyksIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVGaWxsKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzcHJpdGUgPSBib3hFeHQuYm94KCkuc3ByaXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gc3R5bGUuZ2V0KCdmaWxsJyk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyhzcHJpdGUuc2l6ZVswXSAvIDIsIHNwcml0ZS5zaXplWzFdIC8gMiwgc3R5bGUuZ2V0KCdyYWRpdXMnKSwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFVwZGF0ZUJnKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzcHJpdGUgPSBib3hFeHQuYm94KCkuc3ByaXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgYm94ID0gYm94RXh0LmJveCgpLnZhbHVlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKHNwcml0ZS5zaXplWzBdIC8gMiwgc3ByaXRlLnNpemVbMV0gLyAyLCBzdHlsZS5nZXQoJ3JhZGl1cycpLCAwLCBNYXRoLlBJIC8gMik7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsaXAoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYmdwb3NpdGlvbiA9IHN0eWxlLmdldCgnYmdQb3NpdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJnc2l6ZSA9IHN0eWxlLmdldCgnYmdTaXplJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYmcgPSBzdHlsZS5nZXQoJ2JnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiZy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWJnW2ldLmxvYWRlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJnW2ldLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZ3dpZHRoID0gYm94LnNpemVbMF0gKiBiZ3NpemVbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ2hlaWdodCA9IGJveC5zaXplWzFdICogYmdzaXplW2ldWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbnggPSBib3guc2l6ZVswXSAqIGJncG9zaXRpb25baV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9ueSA9IGJveC5zaXplWzFdICogYmdwb3NpdGlvbltpXVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHNwcml0ZS5tYXJnaW5bM10gKyBiZ3Bvc2l0aW9ueCwgc3ByaXRlLm1hcmdpblswXSArIGJncG9zaXRpb255KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoYmdbaV0uZXhwb3J0KCksIDAsIDAsIGJnd2lkdGgsIGJnaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBib3hFeHQuZihmdW5jdGlvbiAoYm94Q29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gc3R5bGUuZ2V0KCdyYWRpdXMnKSxcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBzdHlsZS5nZXQoJ2FuY2hvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgIGQgPSByYWRpdXMgKiAyO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB4ID0gcG9zaXRpb25bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeSA9IHBvc2l0aW9uWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdjZW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSByYWRpdXNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IGRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdtaWRkbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSByYWRpdXNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdib3R0b20nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGJveENvbnRhaW5lci5zZXQoeCwgeSwgZCwgZCwgc3Ryb2tlZml4LCBzdHJva2VmaXgsIHN0cm9rZWZpeCwgc3Ryb2tlZml4KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdyYWRpdXMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICAgICAgICAgICAgICBib3hFeHQucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnJlc2l6ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ2ZpbGwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncG9zaXRpb24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBib3hFeHQucHVyZ2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdzdHJva2VXaWR0aCcsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobiAhPT0gbykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZWZpeCA9IG47XHJcbiAgICAgICAgICAgICAgICAgICAgYm94RXh0LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZW1ibGVyLnJlc2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goWydzdHJva2VTdHlsZScsICdzdHJva2VDb2xvciddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdG9rZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goWydiZycsICdiZ1Bvc2l0aW9uJywgJ2JnU2l6ZSddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5leHBvcnQoYXNzZW1ibGVyLmV4cG9ydCk7XHJcbiAgICAgICAgICAgIGRyYXdlci5kcmF3RnVuY3Rpb24oZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIERyYXdlckhlbHBlci50cmFuc2Zvcm0odGhpcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShkcmF3ZXIuZXhwb3J0KCksIDAsIDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZHJhd2VyLmRlc3Ryb3koZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyID0gYXNzZW1ibGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGRyYXdlciA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGJveEV4dCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvNS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0RlYnVnJywgJytNYXRyaXgnLFxyXG4gICAgICAgIGZ1bmN0aW9uIERlZmF1bHRPYmplY3REcmF3ZXIoRGVidWcsIE1hdHJpeCkge1xyXG4gICAgICAgICAgICB2YXIgbWF0cml4ID0gdGhpcy5leHRlbnNpb24oJ01hdHJpeCcpO1xyXG5cclxuICAgICAgICAgICAgbWF0cml4LmYoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdHJpeC5vYmplY3RNYXRyaXgodGhpcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaChbJ3Bvc2l0aW9uJywgJ3JvdGF0ZScsICd0cmFuc2xhdGUnLCAnc2NhbGUnLCAnc2tldyddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG1hdHJpeC5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytEcmF3ZXInLFxyXG4gICAgICAgIGZ1bmN0aW9uIEdyb3VwT2JqZWN0RHJhd2VyKERyYXdlckhlbHBlcikge1xyXG4gICAgICAgICAgICB2YXIgZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgICAgICAgICAgbGF5ZXJzID0gdGhpcy5leHRlbnNpb24oJ0xheWVycycpLFxyXG4gICAgICAgICAgICAgICAgYm94ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgIGJveC5mKGZ1bmN0aW9uIChib3hDb250YWluZXIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbWlueCA9IEluZmluaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbnkgPSBJbmZpbml0eSxcclxuICAgICAgICAgICAgICAgICAgICBtYXh4ID0gLUluZmluaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIG1heHkgPSAtSW5maW5pdHk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb2JveCA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKS5ib3goKS52YWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbnggPSBNYXRoLm1pbihtaW54LCBvYm94LnBvc2l0aW9uWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBtaW55ID0gTWF0aC5taW4obWlueSwgb2JveC5wb3NpdGlvblsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4eCA9IE1hdGgubWF4KG1heHgsIG9ib3gucG9zaXRpb25bMF0gKyBvYm94LnNpemVbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1heHkgPSBNYXRoLm1heChtYXh5LCBvYm94LnBvc2l0aW9uWzFdICsgb2JveC5zaXplWzFdKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobWlueCA9PT0gSW5maW5pdHkpIG1pbnggPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1heHggPT09IC1JbmZpbml0eSkgbWF4eCA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAobWlueSA9PT0gSW5maW5pdHkpIG1pbnkgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1heHkgPT09IC1JbmZpbml0eSkgbWF4eSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgYm94Q29udGFpbmVyLnNldChcclxuICAgICAgICAgICAgICAgICAgICBtaW54ICsgcG9zaXRpb25bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWlueSArIHBvc2l0aW9uWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1heHggLSBtaW54LFxyXG4gICAgICAgICAgICAgICAgICAgIG1heHkgLSBtaW55LFxyXG4gICAgICAgICAgICAgICAgICAgIDAsIDAsIDAsIDBcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3Bvc2l0aW9uJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBfYXJndW1uZXRzO1xyXG4gICAgICAgICAgICBkcmF3ZXIuZHJhd0Z1bmN0aW9uKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF9hcmd1bW5ldHMgPSBhcmd1bWVudHM7XHJcbiAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIudHJhbnNmb3JtKHRoaXMsIF9hcmd1bW5ldHNbMF0pO1xyXG4gICAgICAgICAgICAgICAgbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9hcmd1bW5ldHNbMF0uc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXh0ZW5zaW9uKCdEcmF3ZXInKS5kcmF3LmFwcGx5KHRoaXMsIF9hcmd1bW5ldHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9hcmd1bW5ldHNbMF0ucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkcmF3ZXIuZGVzdHJveShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBkcmF3ZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBsYXllcnMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBib3ggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIF9hcmd1bW5ldHMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEzLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnK0RyYXdlcicsICdSZXNvdXJjZScsICdAaW5qZWN0JyxcclxuICAgICAgICBmdW5jdGlvbiBJbWFnZU9iamVjdERyYXdlcihEcmF3ZXJIZWxwZXIsIFJlc291cmNlLCBpbmplY3QpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgYm94ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLFxyXG4gICAgICAgICAgICAgICAgY2FudmFzID0gaW5qZWN0KCckQ2FudmFzJyksXHJcbiAgICAgICAgICAgICAgICBkcmF3ZXIgPSB0aGlzLmV4dGVuc2lvbignRHJhd2VyJyksXHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB0aGlzLmV4dGVuc2lvbignTWF0cml4Jyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBudWxsLCBoZWlnaHQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgaW1hZ2UgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnc3JjJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChvICE9PSBuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2UgPSBSZXNvdXJjZS5pbWFnZShuKTtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpZHRoID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHN0eWxlLmdldCgnc2l6ZScpWzBdID8gc3R5bGUuZ2V0KCdzaXplJylbMF0gOiBpbWFnZS53aWR0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLndpZHRoKHdpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGVpZ2h0ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBzdHlsZS5nZXQoJ3NpemUnKVsxXSA/IHN0eWxlLmdldCgnc2l6ZScpWzFdIDogaW1hZ2UuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0KGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLmNvbnRleHQoKS5kcmF3SW1hZ2UoaW1hZ2UuZXhwb3J0KCksIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdlci5zcHJpdGVVcGRhdGVkLmNhbGwoeyQkQ0FMTDogdHJ1ZX0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3NpemUnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9bMF0gIT09IG5bMF0gfHwgb1sxXSAhPT0gblsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gblswXTtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBuWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCh3aWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodChoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5jb250ZXh0KCkuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCgpLCBjYW52YXMuaGVpZ2h0KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5jb250ZXh0KCkuZHJhd0ltYWdlKGltYWdlLmV4cG9ydCgpLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdwb3NpdGlvbicsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob1swXSAhPT0gblswXSB8fCBvWzFdICE9PSBuWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgYm94LmYoZnVuY3Rpb24gKGJveENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gc3R5bGUuZ2V0KCdwb3NpdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvciA9IHN0eWxlLmdldCgnYW5jaG9yJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHggPSBwb3NpdGlvblswXSxcclxuICAgICAgICAgICAgICAgICAgICB5ID0gcG9zaXRpb25bMV07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ2NlbnRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IHdpZHRoID8gd2lkdGggLyAyIDogMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IHdpZHRoID8gd2lkdGggOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PT0gJ21pZGRsZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IGhlaWdodCA/IGhlaWdodCAvIDIgOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PT0gJ2JvdHRvbScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IGhlaWdodCA/IGhlaWdodCA6IDBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJveENvbnRhaW5lci5zZXQoeCwgeSwgd2lkdGggPyB3aWR0aCA6IDAsIGhlaWdodCA/IGhlaWdodCA6IDAsIDAsIDAsIDAsIDApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5maWx0ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGltYWdlICYmIGltYWdlLmxvYWRlZCgpICYmICFpbWFnZS5lcnJvcigpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggIT09IG51bGwgJiZcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgIT09IG51bGwgJiYgd2lkdGggPiAwICYmIGhlaWdodCA+IDA7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmV4cG9ydChjYW52YXMuZXhwb3J0KTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5kcmF3RnVuY3Rpb24oZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIERyYXdlckhlbHBlci50cmFuc2Zvcm0odGhpcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShkcmF3ZXIuZXhwb3J0KCksIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5kZXN0cm95KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgYm94ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgY2FudmFzID0gY2FudmFzLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGRyYXdlciA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2UgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjYvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAaW5qZWN0JywgJ0RlYnVnJywgJytEcmF3ZXInLCAnK1BhdGgnLFxyXG4gICAgICAgIGZ1bmN0aW9uIExpbmVPYmplY3REcmF3ZXIoaW5qZWN0LCBEZWJ1ZywgRHJhd2VySGVscGVyLCBQYXRoSGVscGVyKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgYm94ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGNhbnZhcyA9IGluamVjdCgnJENhbnZhcycpLFxyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gdGhpcy5leHRlbnNpb24oJ01hdHJpeCcpLFxyXG4gICAgICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSBmYWxzZSwgaW50ZXJwb2xhdGVkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXggPSAxLCBpbnRlcnBvbGF0aW9uZml4ID0gMCxcclxuICAgICAgICAgICAgICAgIGRyYXdlciA9IHRoaXMuZXh0ZW5zaW9uKCdEcmF3ZXInKSxcclxuICAgICAgICAgICAgICAgIHhzaGlmdCA9IDAsIHlzaGlmdCA9IDA7XHJcblxyXG4gICAgICAgICAgICBib3guZihmdW5jdGlvbiAoYm94Q29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBzdHlsZS5nZXQoJ3Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvciA9IHN0eWxlLmdldCgnYW5jaG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgeCA9IHBvc2l0aW9uWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkgPSBwb3NpdGlvblsxXSxcclxuICAgICAgICAgICAgICAgICAgICBtaW54ID0gSW5maW5pdHksXHJcbiAgICAgICAgICAgICAgICAgICAgbWlueSA9IEluZmluaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIG1heHggPSAtSW5maW5pdHksXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4eSA9IC1JbmZpbml0eTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVswXSA8IG1pbngpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlueCA9IHBhdGhbaV1bMF1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMl0gPCBtaW54KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnggPSBwYXRoW2ldWzJdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzFdIDwgbWlueSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW55ID0gcGF0aFtpXVsxXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVszXSA8IG1pbnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlueSA9IHBhdGhbaV1bM11cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMF0gPiBtYXh4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heHggPSBwYXRoW2ldWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzJdID4gbWF4eCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXh4ID0gcGF0aFtpXVsyXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVsxXSA+IG1heHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4eSA9IHBhdGhbaV1bMV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bM10gPiBtYXh5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heHkgPSBwYXRoW2ldWzNdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtaW54ID09PSBJbmZpbml0eSkgbWlueCA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAobWlueSA9PT0gSW5maW5pdHkpIG1pbnkgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1heHggPT09IC1JbmZpbml0eSkgbWF4eCA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF4eSA9PT0gLUluZmluaXR5KSBtYXh4ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICB4c2hpZnQgPSBtaW54O1xyXG4gICAgICAgICAgICAgICAgeXNoaWZ0ID0gbWlueTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZml4ID0gc3Ryb2tlZml4ICsgaW50ZXJwb2xhdGlvbmZpeCxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IE1hdGguYWJzKG1heHggLSBtaW54KSxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBNYXRoLmFicyhtYXh5IC0gbWlueSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ2NlbnRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IHdpZHRoID8gd2lkdGggLyAyIDogMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IHdpZHRoID8gd2lkdGggOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PT0gJ21pZGRsZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IGhlaWdodCA/IGhlaWdodCAvIDIgOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PT0gJ2JvdHRvbScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IGhlaWdodCA/IGhlaWdodCA6IDBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJveENvbnRhaW5lci5zZXQoXHJcbiAgICAgICAgICAgICAgICAgICAgeCArIHhzaGlmdCxcclxuICAgICAgICAgICAgICAgICAgICB5ICsgeXNoaWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICBmaXgsXHJcbiAgICAgICAgICAgICAgICAgICAgZml4LFxyXG4gICAgICAgICAgICAgICAgICAgIGZpeCxcclxuICAgICAgICAgICAgICAgICAgICBmaXhcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncGF0aCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbnRlcnBvbGF0aW9uID0gc3R5bGUuZ2V0KCdpbnRlcnBvbGF0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJwb2xhdGlvbiAhPT0gMCkgaW50ZXJwb2xhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncG9zaXRpb24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdzdHJva2VXaWR0aCcsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZml4ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobltpXSA+IGZpeCkgZml4ID0gbltpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXggPSBmaXggLyAyO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdpbnRlcnBvbGF0aW9uJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChvICE9PSBuKSBpbnRlcnBvbGF0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uZml4ID0gTWF0aC5yb3VuZCgyMCAqIG4pO1xyXG4gICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaChbJ3N0cm9rZVN0eWxlJywgJ3N0cm9rZUNvbG9yJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5jb250ZXh0KCk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVDYW52YXMoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3ByaXRlID0gYm94LmJveCgpLnNwcml0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uID0gc3R5bGUuZ2V0KCdpbnRlcnBvbGF0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNhbnZhcy53aWR0aCgpICE9PSBzcHJpdGUuc2l6ZVswXSB8fCBjYW52YXMuaGVpZ2h0KCkgIT09IHNwcml0ZS5zaXplWzFdKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHNwcml0ZS5zaXplWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBzcHJpdGUuc2l6ZVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLndpZHRoKHdpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0KGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBzcHJpdGUuc2l6ZVswXSwgc3ByaXRlLnNpemVbMV0pO1xyXG4gICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWludGVycG9sYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFBhdGhIZWxwZXIuaW50ZXJwb2xhdGUocGF0aCwgaW50ZXJwb2xhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKHNwcml0ZS5tYXJnaW5bM10gLSB4c2hpZnQsIHNwcml0ZS5tYXJnaW5bMF0gLSB5c2hpZnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0aW9uID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLmRyYXdCZXppZXJQYXRoKGN0eCwgcGF0aCwgc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIuZHJhd0xpbmVQYXRoKGN0eCwgcGF0aCwgc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5maWx0ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcXVpcmVfdXBkYXRlKSBVcGRhdGVDYW52YXMuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZHJhd2VyLmV4cG9ydChjYW52YXMuZXhwb3J0KTtcclxuICAgICAgICAgICAgZHJhd2VyLmRyYXdGdW5jdGlvbihmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLnRyYW5zZm9ybSh0aGlzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGRyYXdlci5leHBvcnQoKSwgMCwgMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmRlc3Ryb3koZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY3R4ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgYm94ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBjYW52YXMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGludGVycG9sYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGlvbmZpeCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGRyYXdlciA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHhzaGlmdCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHlzaGlmdCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzExLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGluamVjdCcsICcrRHJhd2VyJyxcclxuICAgICAgICBmdW5jdGlvbiBSZWN0YW5nbGVPYmplY3REcmF3ZXIoaW5qZWN0LCBEcmF3ZXJIZWxwZXIpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBhc3NlbWJsZXIgPSBpbmplY3QoJyRHcmFwaGljc0Fzc2VtYmxlcicpLFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGRyYXdlciA9IHRoaXMuZXh0ZW5zaW9uKCdEcmF3ZXInKSxcclxuICAgICAgICAgICAgICAgIGJveEV4dGVuc2lvbiA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKSxcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHRoaXMuZXh0ZW5zaW9uKCdNYXRyaXgnKSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeCA9IFsyLCAyLCAyLCAyXSxcclxuICAgICAgICAgICAgICAgIHZpZXdTaXplID0gWzAsIDBdO1xyXG5cclxuICAgICAgICAgICAgYXNzZW1ibGVyLmxheWVyKDAsICdmaWxsJywgVXBkYXRlRmlsbC5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLmxheWVyKDEsICdiZycsIFVwZGF0ZUJnLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBhc3NlbWJsZXIubGF5ZXIoMiwgJ3N0cm9rZScsIFVwZGF0ZVN0cm9rZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLmJveChib3hFeHRlbnNpb24pO1xyXG5cclxuICAgICAgICAgICAgYm94RXh0ZW5zaW9uLmYoZnVuY3Rpb24gKGJveENvbnRhaW5lcikge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplID0gc3R5bGUuZ2V0KCdzaXplJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gc3R5bGUuZ2V0KCdhbmNob3InKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IHBvc2l0aW9uWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkgPSBwb3NpdGlvblsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gc2l6ZVswXSAvIDI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSBzaXplWzBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PT0gJ21pZGRsZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IHNpemVbMV0gLyAyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PT0gJ2JvdHRvbScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IHNpemVbMV1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2aWV3U2l6ZVswXSA9IHNpemVbMF07XHJcbiAgICAgICAgICAgICAgICB2aWV3U2l6ZVsxXSA9IHNpemVbMV07XHJcblxyXG4gICAgICAgICAgICAgICAgYm94Q29udGFpbmVyLnNldChcclxuICAgICAgICAgICAgICAgICAgICB4LCB5LFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemVbMF0sIHNpemVbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlZml4WzBdLCBzdHJva2VmaXhbMV0sIHN0cm9rZWZpeFsyXSwgc3Ryb2tlZml4WzNdXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5leHBvcnQoYXNzZW1ibGVyLmV4cG9ydCk7XHJcbiAgICAgICAgICAgIGRyYXdlci5kcmF3RnVuY3Rpb24oZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIERyYXdlckhlbHBlci50cmFuc2Zvcm0odGhpcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmlld1NpemVbMF0gPj0gMSAmJiB2aWV3U2l6ZVsxXSA+PSAwKSBjb250ZXh0LmRyYXdJbWFnZShkcmF3ZXIuZXhwb3J0KCksIDAsIDApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3NpemUnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnJlc2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBib3hFeHRlbnNpb24ucHVyZ2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdyYWRpdXMnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3N0cm9rZVdpZHRoJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeFswXSA9IG5bMF07XHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXhbMV0gPSBuWzFdO1xyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4WzJdID0gblsyXTtcclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeFszXSA9IG5bM107XHJcbiAgICAgICAgICAgICAgICBib3hFeHRlbnNpb24ucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci5yZXNpemUoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goWydwb3NpdGlvbicsICdzaXplJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGJveEV4dGVuc2lvbi5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaChbJ2JnJywgJ2JnU2l6ZScsICdiZ1Bvc2l0aW9uJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaChbJ3N0cm9rZVN0eWxlJywgJ3N0cm9rZUNvbG9yJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goWydmaWxsJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBub3JtYWxpemVSYWRpdXMocmFkaXVzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtyYWRpdXNbMF0sIHJhZGl1c1sxXSwgcmFkaXVzWzJdLCByYWRpdXNbM11dLFxyXG4gICAgICAgICAgICAgICAgICAgIGJveCA9IGJveEV4dGVuc2lvbi5ib3goKS52YWx1ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGhhbGZib3ggPSBbYm94LnNpemVbMF0gLyAyLCBib3guc2l6ZVsxXSAvIDJdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFtpXSA+IGhhbGZib3hbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gaGFsZmJveFswXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0W2ldID4gaGFsZmJveFsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBoYWxmYm94WzFdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRyYXdSZWN0UGF0aChjb250ZXh0LCBzdHJva2UpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gbm9ybWFsaXplUmFkaXVzKHN0eWxlLmdldCgncmFkaXVzJykpLFxyXG4gICAgICAgICAgICAgICAgICAgIGsgPSAwLjU1MjI4NDc0OTgsXHJcbiAgICAgICAgICAgICAgICAgICAgYm94ID0gYm94RXh0ZW5zaW9uLmJveCgpLnZhbHVlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlID0gYm94RXh0ZW5zaW9uLmJveCgpLnNwcml0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3Ryb2tlQ29sb3IgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VTdHlsZSA9IHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FwID0gc3R5bGUuZ2V0KCdjYXAnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lQ2FwID0gY2FwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmFkaXVzWzBdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHNwcml0ZS5tYXJnaW5bM10gKyByYWRpdXNbMF0sIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhzcHJpdGUubWFyZ2luWzNdLCBzcHJpdGUubWFyZ2luWzBdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvclswXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVdpZHRoWzBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHJhZGl1c1sxXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhib3guc2l6ZVswXSArIHNwcml0ZS5tYXJnaW5bM10gLSByYWRpdXNbMV0sIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJ2ZU1vZGlmaWVyID0gayAqIHJhZGl1c1sxXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSAtIHJhZGl1c1sxXSArIGN1cnZlTW9kaWZpZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblswXSArIHJhZGl1c1sxXSAtIGN1cnZlTW9kaWZpZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblswXSArIHJhZGl1c1sxXVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGJveC5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSwgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkgY29udGV4dC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdHlsZVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGhbMV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmFkaXVzWzJdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJ2ZU1vZGlmaWVyID0gayAqIHJhZGl1c1syXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhib3guc2l6ZVswXSArIHNwcml0ZS5tYXJnaW5bM10sIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXSAtIHJhZGl1c1syXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbMl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3JbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGhbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMF0gKyBzcHJpdGUubWFyZ2luWzNdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3guc2l6ZVsxXSArIHNwcml0ZS5tYXJnaW5bMF0gLSByYWRpdXNbMl0gKyBjdXJ2ZU1vZGlmaWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3guc2l6ZVswXSArIHNwcml0ZS5tYXJnaW5bM10gLSByYWRpdXNbMl0gKyBjdXJ2ZU1vZGlmaWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3guc2l6ZVsxXSArIHNwcml0ZS5tYXJnaW5bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSAtIHJhZGl1c1syXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMV0gKyBzcHJpdGUubWFyZ2luWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhib3guc2l6ZVswXSArIHNwcml0ZS5tYXJnaW5bM10sIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdHlsZVsyXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGhbMl07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJhZGl1c1szXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VydmVNb2RpZmllciA9IGsgKiByYWRpdXNbM107XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oc3ByaXRlLm1hcmdpblszXSArIHJhZGl1c1szXSwgYm94LnNpemVbMV0gKyBzcHJpdGUubWFyZ2luWzBdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUubWFyZ2luWzNdICsgcmFkaXVzWzNdIC0gY3VydmVNb2RpZmllcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMV0gKyBzcHJpdGUubWFyZ2luWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUubWFyZ2luWzNdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3guc2l6ZVsxXSArIHNwcml0ZS5tYXJnaW5bMF0gLSByYWRpdXNbM10gKyBjdXJ2ZU1vZGlmaWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUubWFyZ2luWzNdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3guc2l6ZVsxXSArIHNwcml0ZS5tYXJnaW5bMF0gLSByYWRpdXNbM11cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhzcHJpdGUubWFyZ2luWzNdLCBib3guc2l6ZVsxXSArIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIGNvbnRleHQuc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbM10pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvclszXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVdpZHRoWzNdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyYWRpdXNbMF0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnZlTW9kaWZpZXIgPSBrICogcmFkaXVzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0gKyByYWRpdXNbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIGNvbnRleHQuc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdHlsZVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tTdHlsZSA9IHN0cm9rZUNvbG9yWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVdpZHRoWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bMF0gKyByYWRpdXNbMF0gLSBjdXJ2ZU1vZGlmaWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUubWFyZ2luWzBdICsgcmFkaXVzWzBdIC0gY3VydmVNb2RpZmllcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblszXSArIHJhZGl1c1swXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblswXVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oc3ByaXRlLm1hcmdpblszXSwgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGhhc1JhZGl1cygpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICByYWRpdXMgPSBzdHlsZS5nZXQoJ3JhZGl1cycpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFkaXVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhZGl1c1tpXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gaGFzU3Ryb2tlKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0cm9rZSA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cm9rZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2VbaV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBtb25vU3Ryb2tlKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0cm9rZUNvbG9yID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRDb2xvciA9IHN0cm9rZUNvbG9yWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGRXaWR0aCA9IHN0cm9rZVdpZHRoWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGRTdHlsZSA9IHN0cm9rZVN0eWxlWzBdLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkQ29sb3IgIT09IHN0cm9rZUNvbG9yW2ldIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRXaWR0aCAhPT0gc3Ryb2tlV2lkdGhbaV0gfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgIShzdHJva2VTdHlsZVtpXVswXSA9PT0gZFN0eWxlWzBdICYmIHN0cm9rZVN0eWxlW2ldWzFdID09PSBkU3R5bGVbMV0pXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVCZyhjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYm94Q29udGFpbmVyID0gYm94RXh0ZW5zaW9uLmJveCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJveCA9IGJveENvbnRhaW5lci52YWx1ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZSA9IGJveENvbnRhaW5lci5zcHJpdGUoKSxcclxuICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9uID0gc3R5bGUuZ2V0KCdiZ1Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYmdzaXplID0gc3R5bGUuZ2V0KCdiZ1NpemUnKSxcclxuICAgICAgICAgICAgICAgICAgICBiZyA9IHN0eWxlLmdldCgnYmcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzUmFkaXVzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkcmF3UmVjdFBhdGgoY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVjdChzcHJpdGUubWFyZ2luWzNdLCBzcHJpdGUubWFyZ2luWzBdLCBib3guc2l6ZVswXSwgYm94LnNpemVbMV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xpcCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmcubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFiZ1tpXS5sb2FkZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZ1tpXS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmd3aWR0aCA9IGJveC5zaXplWzBdICogYmdzaXplW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdoZWlnaHQgPSBib3guc2l6ZVsxXSAqIGJnc2l6ZVtpXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb254ID0gYm94LnNpemVbMF0gKiBiZ3Bvc2l0aW9uW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbnkgPSBib3guc2l6ZVsxXSAqIGJncG9zaXRpb25baV1bMV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShzcHJpdGUubWFyZ2luWzNdICsgYmdwb3NpdGlvbngsIHNwcml0ZS5tYXJnaW5bMF0gKyBiZ3Bvc2l0aW9ueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGJnW2ldLmV4cG9ydCgpLCAwLCAwLCBiZ3dpZHRoLCBiZ2hlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlU3Ryb2tlKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChoYXNTdHJva2UoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHJva2VDb2xvciA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGggPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3hDb250YWluZXIgPSBib3hFeHRlbnNpb24uYm94KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveCA9IGJveENvbnRhaW5lci52YWx1ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUgPSBib3hDb250YWluZXIuc3ByaXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNSYWRpdXMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmF3UmVjdFBhdGgoY29udGV4dCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vbm9TdHJva2UoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhcCA9IHN0eWxlLmdldCgnY2FwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBjYXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0cm9rZVN0eWxlWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvclswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGhbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oc3ByaXRlLm1hcmdpblszXSwgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhzcHJpdGUubWFyZ2luWzNdICsgYm94LnNpemVbMF0sIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oc3ByaXRlLm1hcmdpblszXSArIGJveC5zaXplWzBdLCBzcHJpdGUubWFyZ2luWzBdICsgYm94LnNpemVbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oc3ByaXRlLm1hcmdpblszXSwgc3ByaXRlLm1hcmdpblswXSArIGJveC5zaXplWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlRmlsbChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsbCA9IHN0eWxlLmdldCgnZmlsbCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJveENvbnRhaW5lciA9IGJveEV4dGVuc2lvbi5ib3goKSxcclxuICAgICAgICAgICAgICAgICAgICBib3ggPSBib3hDb250YWluZXIudmFsdWUoKSxcclxuICAgICAgICAgICAgICAgICAgICBzcHJpdGUgPSBib3hDb250YWluZXIuc3ByaXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGhhc1JhZGl1cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhd1JlY3RQYXRoKGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlY3Qoc3ByaXRlLm1hcmdpblszXSwgc3ByaXRlLm1hcmdpblswXSwgYm94LnNpemVbMF0sIGJveC5zaXplWzFdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbDtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZGVzdHJveShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIgPSBhc3NlbWJsZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBkcmF3ZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBib3hFeHRlbnNpb24gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHN0cm9rZWZpeFswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZWZpeC5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHZpZXdTaXplWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlld1NpemUuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHZpZXdTaXplID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrRHJhd2VyJywgJytNb2RlbCcsICdSZXNvdXJjZScsICdAaW5qZWN0JyxcclxuICAgICAgICBmdW5jdGlvbiBTcHJpdGVPYmplY3REcmF3ZXIoRHJhd2VySGVscGVyLCBNb2RlbEhlbHBlciwgUmVzb3VyY2UsIGluamVjdCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBib3ggPSB0aGlzLmV4dGVuc2lvbignQm94JyksXHJcbiAgICAgICAgICAgICAgICBkcmF3ZXIgPSB0aGlzLmV4dGVuc2lvbignRHJhd2VyJyksXHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB0aGlzLmV4dGVuc2lvbignTWF0cml4JyksXHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IG51bGwsIGhlaWdodCA9IG51bGwsIGltYWdlID0gaW5qZWN0KCckQ2FudmFzJyk7XHJcblxyXG4gICAgICAgICAgICBib3guZihmdW5jdGlvbiAoYm94Q29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBzdHlsZS5nZXQoJ3Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gc3R5bGUuZ2V0KCdhbmNob3InKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IHBvc2l0aW9uWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkgPSBwb3NpdGlvblsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gd2lkdGggPyB3aWR0aCAvIDIgOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gd2lkdGggPyB3aWR0aCA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnbWlkZGxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gaGVpZ2h0ID8gaGVpZ2h0IC8gMiA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnYm90dG9tJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gaGVpZ2h0ID8gaGVpZ2h0IDogMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYm94Q29udGFpbmVyLnNldChcclxuICAgICAgICAgICAgICAgICAgICB4LFxyXG4gICAgICAgICAgICAgICAgICAgIHksXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPyB3aWR0aCA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID8gaGVpZ2h0IDogMCxcclxuICAgICAgICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICAgICAgICAwXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZXhwb3J0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbWFnZS5leHBvcnQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGRyYXdlci5kcmF3RnVuY3Rpb24oZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIERyYXdlckhlbHBlci50cmFuc2Zvcm0odGhpcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShkcmF3ZXIuZXhwb3J0KCksIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3NyYycsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobiAhPT0gbykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gTW9kZWxIZWxwZXIucmVhZFNwcml0ZVN0cmluZyhuKTtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2UgPSBSZXNvdXJjZS5zcHJpdGUoZGF0YS51cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlLmNvbmZpZyhkYXRhLmZyYW1lcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2Uub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWR0aCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IGltYWdlLndpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlaWdodCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBpbWFnZS5oZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnc2l6ZScsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob1swXSAhPT0gblswXSB8fCBvWzFdICE9PSBuWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBuWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IG5bMV07XHJcbiAgICAgICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdwb3NpdGlvbicsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob1swXSAhPT0gblswXSB8fCBvWzFdICE9PSBuWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmRlc3Ryb3koZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBib3ggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBkcmF3ZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGltYWdlID0gaW1hZ2UuZGVzdHJveSA/IGltYWdlLmRlc3Ryb3koKSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjUvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAaW5qZWN0JywgJytEcmF3ZXInLCAnUmVzb3VyY2UnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFRleHRPYmplY3REcmF3ZXIoaW5qZWN0LCBEcmF3ZXJIZWxwZXIsIFJlc291cmNlKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gdGhpcy5leHRlbnNpb24oJ1RleHQnKSxcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBib3ggPSB0aGlzLmV4dGVuc2lvbignQm94JyksXHJcbiAgICAgICAgICAgICAgICBkcmF3ZXIgPSB0aGlzLmV4dGVuc2lvbignRHJhd2VyJyksXHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB0aGlzLmV4dGVuc2lvbignTWF0cml4JyksXHJcbiAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZm9udCA9IHN0eWxlLmdldCgnZm9udCcpLFxyXG4gICAgICAgICAgICAgICAgd2VpZ2h0ID0gc3R5bGUuZ2V0KCd3ZWlnaHQnKSxcclxuICAgICAgICAgICAgICAgIGZzdHlsZSA9IHN0eWxlLmdldCgnc3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlciA9IGluamVjdCgnJEdyYXBoaWNzQXNzZW1ibGVyJyk7XHJcblxyXG4gICAgICAgICAgICBhc3NlbWJsZXIubGF5ZXIoMCwgJ3RleHQnLCBVcGRhdGVUZXh0TGF5ZXIpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlVGV4dExheWVyKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHRleHQudXBkYXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBzdHlsZS5nZXQoJ2xpbmVIZWlnaHQnKSxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvciA9IHN0eWxlLmdldCgnY29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZSA9IHN0eWxlLmdldCgnZm9udFNpemUnKSxcclxuICAgICAgICAgICAgICAgICAgICBhbGlnbiA9IHN0eWxlLmdldCgnYWxpZ24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0b3BTcGFuID0gbGluZUhlaWdodCAtIChmb250U2l6ZSAvIDUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChmb250U2l6ZSA8IGxpbmVIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b3BTcGFuID0gdG9wU3BhbiAtIChsaW5lSGVpZ2h0IC0gZm9udFNpemUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0b3BTcGFuID0gdG9wU3BhbiArIChmb250U2l6ZSAtIGxpbmVIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGV4dC5mb3JFYWNoTGluZShmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSB0b3BTcGFuICsgaSAqIGxpbmVIZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IHRoaXMuZXh0cmFjdEZvbnRTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuY29sb3IoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxpZ24gPT09ICdjZW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy5zdHJpbmcoKSwgKHRleHQudGV4dEJsb2NrV2lkdGgoKSAtIHRoaXMud2lkdGgoKSkgLyAyLCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFsaWduID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy5zdHJpbmcoKSwgdGV4dC50ZXh0QmxvY2tXaWR0aCgpIC0gdGhpcy53aWR0aCgpIC0gMiwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dCh0aGlzLnN0cmluZygpLCAyLCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Rm9udEZpbGUoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3N0eWxlID0gZnN0eWxlID09PSAnb2JsaXF1ZScgPyAnbm9ybWFsJyA6IGZzdHlsZTtcclxuICAgICAgICAgICAgICAgIHZhciBmID0gUmVzb3VyY2UuZm9udChmb250LCB3ZWlnaHQsIF9zdHlsZSk7XHJcbiAgICAgICAgICAgICAgICBmLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LnVwZGF0ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGYub24oJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LnVwZGF0ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5maWx0ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVxdWlyZV91cGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBhc3NlbWJsZXIuc2l6ZSh0ZXh0LnRleHRCbG9ja1dpZHRoKCksIHRleHQudGV4dEJsb2NrSGVpZ2h0KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3RleHQnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZXhwb3J0KGFzc2VtYmxlci5leHBvcnQpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZHJhd1RleHQoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLnRyYW5zZm9ybSh0aGlzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGRyYXdlci5leHBvcnQoKSwgMCwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goWydzdHInLCAnc3R5bGUnLCAnZm9udCcsICd3ZWlnaHQnLCAnc2l6ZScsICdjb2xvcicsICdmb250U2l6ZScsICdsaW5lSGVpZ2h0J10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnZm9udCcsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBmb250ID0gbjtcclxuICAgICAgICAgICAgICAgIGdldEZvbnRGaWxlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdzdHlsZScsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBmc3R5bGUgPSBuO1xyXG4gICAgICAgICAgICAgICAgZ2V0Rm9udEZpbGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3dlaWdodCcsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQgPSBuO1xyXG4gICAgICAgICAgICAgICAgZ2V0Rm9udEZpbGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdhbmNob3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3Bvc2l0aW9uJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYm94LnB1cmdlKClcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBib3guZihmdW5jdGlvbiAoYm94Q29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBzdHlsZS5nZXQoJ3Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gc3R5bGUuZ2V0KCdhbmNob3InKSxcclxuICAgICAgICAgICAgICAgICAgICB4ID0gcG9zaXRpb25bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeSA9IHBvc2l0aW9uWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdjZW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSB0ZXh0LnRleHRCbG9ja1dpZHRoKCkgLyAyXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSB0ZXh0LnRleHRCbG9ja1dpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnbWlkZGxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gdGV4dC50ZXh0QmxvY2tIZWlnaHQoKSAvIDJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdib3R0b20nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSB0ZXh0LnRleHRCbG9ja0hlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYm94Q29udGFpbmVyLnNldCh4LCB5LCB0ZXh0LnRleHRCbG9ja1dpZHRoKCksIHRleHQudGV4dEJsb2NrSGVpZ2h0KCksIDAsIDAsIDAsIDApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5kcmF3RnVuY3Rpb24oZHJhd1RleHQpO1xyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmRlc3Ryb3koZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdGV4dCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgYm94ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBmb250ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgd2VpZ2h0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgZnN0eWxlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyID0gYXNzZW1ibGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDUvMS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BleHRlbmQnLCAnK01vZGVsJywgJytQYXRoJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBBcmVhT2JqZWN0TW9kZWwoZXh0ZW5kLCBNb2RlbEhlbHBlciwgUGF0aEhlbHBlciwgRGVidWcpIHtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdE9iamVjdE1vZGVsJyk7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJEdsb2JhbEJhY2tncm91bmRNb2RlbCcpO1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0RnJlZVN0cm9rZU1vZGVsJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbiA9IHRoaXMuZXh0ZW5zaW9uKCdBbmltYXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFN5bmNQYXRoUHJvcGVydHkocGF0aCwgcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJvcGVydHlbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkucHVzaChwcm9wZXJ0eVtwcm9wZXJ0eS5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA8IHByb3BlcnR5Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnNwbGljZShwYXRoLmxlbmd0aCAtIDEsIHByb3BlcnR5Lmxlbmd0aCAtIHBhdGgubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAncGF0aCcsIFtbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF1dLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBhdGhIZWxwZXIuY2hlY2tTaW1wbGVQYXRoKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBQYXRoSGVscGVyLmNvbnZlcnRTaW1wbGVQYXRoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFswXVswXSAhPT0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVsyXSB8fCByZXN1bHRbMF1bMV0gIT09IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bM10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0WzBdWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFswXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0WzBdWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFswXVsxXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGQubGVuZ3RoICE9PSByZXN1bHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeW5jUGF0aFByb3BlcnR5KHJlc3VsdCwgc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN5bmNQYXRoUHJvcGVydHkocmVzdWx0LCBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3luY1BhdGhQcm9wZXJ0eShyZXN1bHQsIHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdBcmVhIE1vZGVsIC8gSW52YWxpZCB2YWx1ZSBmb3IgYXJlYSBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQYXRoSGVscGVyLmNvbnZlcnRDb21wbGV4UGF0aCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BleHRlbmQnLCAnK0NvbG9yJywgJytNb2RlbCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQ2lyY2xlT2JqZWN0TW9kZWwoZXh0ZW5kLCBDb2xvckhlbHBlciwgTW9kZWxIZWxwZXIsIERlYnVnKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRPYmplY3RNb2RlbCcpO1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRHbG9iYWxCYWNrZ3JvdW5kTW9kZWwnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gdGhpcy5leHRlbnNpb24oJ0FuaW1hdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdyYWRpdXMnLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdyYWRpdXMnLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3JhZGl1cycpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHJhZGl1cyB2YWx1ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3N0cm9rZVdpZHRoJywgMSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3N0cm9rZVdpZHRoJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VXaWR0aCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnc3Ryb2tlQ29sb3InLCAncmdiYSgwLDAsMCwxKScsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlQ29sb3IgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbG9ySGVscGVyLmFycmF5VG9Db2xvcih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlQ29sb3IgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnc3Ryb2tlQ29sb3InLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3N0cm9rZUNvbG9yJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKGNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VDb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VDb2xvcicpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlQ29sb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIENvbG9ySGVscGVyLm5vcm1hbGl6ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdzdHJva2VTdHlsZScsIFsxLCAwXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNWYWx1ZSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2ldID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VTdHlsZSB2YWx1ZS4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGUgdmFsdWUuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VTdHlsZSB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdzdHJva2VTdHlsZScsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc3Ryb2tlU3R5bGUnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlQ29sb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVswXSA8IDApIHZhbHVlWzBdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMV0gPCAwKSB2YWx1ZVsxXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytNb2RlbCcsICcrUGF0aCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gRGVmYXVsdE9iamVjdE1vZGVsKE1vZGVsSGVscGVyLCBQYXRoSGVscGVyLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24gPSB0aGlzLmV4dGVuc2lvbignQW5pbWF0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMiwgJ3Bvc2l0aW9uJywgWzAsIDBdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignSW52YWxpZCBudW1lcmljIGFycmF5IGZvciBwb3NpdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3Bvc2l0aW9uJywgMixcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3Bvc2l0aW9uJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnSW52YWxpZCB2YWx1ZSBmb3IgcG9zaXRpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdyb3RhdGUnLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAtMzYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICsgMzYwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDM2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAtIDM2MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICogTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgKiAoMTgwIC8gTWF0aC5QSSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgncm90YXRlJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgncm90YXRlJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnSXMgbm90IGEgdmFsaWQgdmFsdWUgdG8gYW5pbWF0ZSByb3RhdGUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICd0cmFuc2xhdGUnLCBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdJbnZhbGlkIG51bWVyaWMgYXJyYXkgZm9yIHRyYW5zbGF0ZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgndHJhbnNsYXRlJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3RyYW5zbGF0ZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ0ludmFsaWQgdmFsdWUgZm9yIHRyYW5zbGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdvcGFjaXR5JywgMSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdPcGFjaXR5IHZhbHVlIGlzIG5vdCBhIG51bWJlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdvcGFjaXR5JywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMSkgdmFsdWUgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdvcGFjaXR5JykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnSW52YWxpZCB2YWx1ZSBmb3IgdHJhbnNsYXRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAxKSB2YWx1ZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdzY2FsZScsIFsxLCAxXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFswLCAwXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1Vua25vd24gdHlwZSBvZiB2YWx1ZSBmb3Igc2NhbGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdzY2FsZScsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mICB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3NjYWxlJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQoW3ZhbHVlLCB2YWx1ZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3NjYWxlJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kQXJyYXkgPSBbdmFsdWVbMF0sdmFsdWVbMV1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihlbmRBcnJheVswXSA8IDApIGVuZEFycmF5WzBdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZW5kQXJyYXlbMV0gPCAwKSBlbmRBcnJheVsxXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChlbmRBcnJheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdJbnZhbGlkIHZhbHVlIGZvciBzY2FsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMF0gPCAwKSB2YWx1ZVswXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzFdIDwgMCkgdmFsdWVbMV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnc2tldycsIFswLCAwXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMzYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlIC0gMzYwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IC0zNjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKyAzNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhZCA9IHZhbHVlICogTWF0aC5QSSAvIDE4MDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbcmFkLCByYWRdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVswXSA+IDM2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVbMF0gPSB2YWx1ZVsxXSAtIDM2MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMV0gPCAtMzYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVsxXSA9IHZhbHVlWzFdICsgMzYwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYWQxID0gdmFsdWVbMF0gKiBNYXRoLlBJIC8gMTgwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFkMiA9IHZhbHVlWzFdICogTWF0aC5QSSAvIDE4MDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbcmFkMSwgcmFkMl07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdVYmtub3duIHZhbHVlIGZvcm1hdCBmb3Igc2tldy4gW3t2fV0nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdza2V3JywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3NrZXcnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChbdmFsdWUsIHZhbHVlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc2tldycpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ0ludmFsaWQgdmFsdWUgZm9yIHNrZXcnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdvcmlnaW4nLCBbLjUsIC41XSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLCB2YWx1ZVsxXV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1Vua25vd24gZm9ybWF0IG9mIHZhbHVlIGZvciBvcmlnaW4uIEludmFsaWQgQXJyYXkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1Vua25vd24gdHlwZSBvZiB2YWx1ZSBmb3Igb3JpZ2luJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ29yaWdpbicsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdvcmlnaW4nKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdJbnZhbGlkIHZhbHVlIGZvciBvcmlnaW4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDIsICdjYXAnLCAncm91bmQnLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09ICdyb3VuZCcgfHwgdmFsdWUgPT09ICdidXR0JyB8fCB2YWx1ZSA9PT0gJ3NxdWFyZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt2YWw6IHZhbHVlfSwgJ3t2YWx9IGlzIGluY29ycmVjdCB2YWx1ZSBmb3IgbGluZSBjYXAgcHJvcGVydHkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdDYXAgcHJvcGVydHkgaXMgYSBzdHJpbmchJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdibGVuZGluZycsICdzb3VyY2Utb3ZlcicsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWRCbGVuZGluZyh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICcgW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBibGVuZGluZyEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnR5cGUoKSAhPT0gJ0dyb3VwJykge1xyXG4gICAgICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdhbmNob3InLCBbJ2xlZnQnLCAndG9wJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5ICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh2YWx1ZVswXSA9PT0gJ2xlZnQnIHx8IHZhbHVlWzBdID09PSAnY2VudGVyJyB8fCB2YWx1ZVswXSA9PT0gJ3JpZ2h0JykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodmFsdWVbMV0gPT09ICd0b3AnIHx8IHZhbHVlWzFdID09PSAnbWlkZGxlJyB8fCB2YWx1ZVsxXSA9PT0gJ2JvdHRvbScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLCB2YWx1ZVsxXV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZS4gQXJyYXkgW1wibGVmdFwiIHx8IFwiY2VudGVyXCIgfHwgXCJyaWdodFwiICwgXCJ0b3BcIiB8fCBcIm1pZGRsZVwiIHx8IFwiYm90dG9tXCIgXSBpcyByZXF1aXJlZCBmb3JtYXQuJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCBhbmNob3IgdmFsdWUgZm9yIHRleHQgZWxlbWVudCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZVswXSwgdmFsdWVbMV1dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDUvMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytNb2RlbCcsICcrQ29sb3InLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIERlZmF1bHRGcmVlU3Ryb2tlTW9kZWwoTW9kZWxIZWxwZXIsIENvbG9ySGVscGVyLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ2ludGVycG9sYXRpb24nLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gLjQpIHZhbHVlID0gLjQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgyLCAnc3Ryb2tlQ29sb3InLCBbJ3JnYmEoMCwwLDAsMSknXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCBtbyBjaGFuZ2VzIG1hZGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgcmVwbGFjZSB3aXRoIHJnYmEoMCwwLDAsMSkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcIm9iamVjdFwiIHx8IHZhbHVlW2ldLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goQ29sb3JIZWxwZXIuYXJyYXlUb0NvbG9yKHZhbHVlW2ldKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCBtbyBjaGFuZ2VzIG1hZGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgcmVwbGFjZSB3aXRoIHJnYmEoMCwwLDAsMSkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgbW8gY2hhbmdlcyBtYWRlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgcmVwbGFjZSB3aXRoIHJnYmEoMCwwLDAsMSkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCBtbyBjaGFuZ2VzIG1hZGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIHJlcGxhY2Ugd2l0aCByZ2JhKDAsMCwwLDEpIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgbW8gY2hhbmdlcyBtYWRlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIHJlcGxhY2Ugd2l0aCByZ2JhKDAsMCwwLDEpIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJvYmplY3RcIiB8fCB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKENvbG9ySGVscGVyLmFycmF5VG9Db2xvcih2YWx1ZVtpXSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgbm8gY2hhbmdlcyBtYWRlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIHJlcGxhY2Ugd2l0aCByZ2JhKDAsMCwwLDEpIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIG5vIGNoYW5nZXMgbWFkZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIHJlcGxhY2Ugd2l0aCByZ2JhKDAsMCwwLDEpIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgbm8gY2hhbmdlcyBtYWRlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCByZXBsYWNlIHdpdGggcmdiYSgwLDAsMCwxKSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ0xpbmUgTW9kZWwgLyBXcm9uZyB0eXBlIG9mIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMiwgJ3N0cm9rZVdpZHRoJywgWzFdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIG51bWJlciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBudW1iZXIhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIG51bWJlciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgbnVtYmVyIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBudW1iZXIhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlV2lkdGghJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgyLCAnc3Ryb2tlU3R5bGUnLCBbWzEsIDBdXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlU3R5bGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZCA9IHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZVN0eWxlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytNb2RlbCcsICcrQ29sb3InLCAnRGVidWcnLCAnUmVzb3VyY2UnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEdsb2JhbEJhY2tncm91bmRNb2RlbChNb2RlbEhlbHBlciwgQ29sb3JIZWxwZXIsIERlYnVnLCBSZXNvdXJjZSkge1xyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbiA9IHRoaXMuZXh0ZW5zaW9uKCdBbmltYXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFN5bmNCZ1Byb3BlcnR5KGJnLCBwcm9wZXJ0eSwgZGVmKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkoZGVmKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChiZy5sZW5ndGggPCBwcm9wZXJ0eS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5zcGxpY2UoYmcubGVuZ3RoIC0gMSwgcHJvcGVydHkubGVuZ3RoIC0gcGF0aC5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdmaWxsJywgJ3JnYmEoMCwwLDAsMSknLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbG9ySGVscGVyLmFycmF5VG9Db2xvcih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdmaWxsJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdmaWxsJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKGNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhdmFsaWQgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnZmlsbCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBDb2xvckhlbHBlci5ub3JtYWxpemUodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnYmcnLCBbXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIuaXNTcHJpdGVTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IE1vZGVsSGVscGVyLnJlYWRTcHJpdGVTdHJpbmcodmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlID0gUmVzb3VyY2Uuc3ByaXRlKGRhdGEudXJsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5jb25maWcoZGF0YS5mcmFtZXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbcmVzb3VyY2VdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtSZXNvdXJjZS5pbWFnZSh2YWx1ZSldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiIHx8IHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAyICYmIHR5cGVvZiB2YWx1ZVswXSA9PSBcInN0cmluZ1wiICYmIHR5cGVvZiB2YWx1ZVsxXSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc291cmNlID0gUmVzb3VyY2Uuc3ByaXRlKHZhbHVlWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5jb25maWcodmFsdWVbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbcmVzb3VyY2VdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLmlzU3ByaXRlU3RyaW5nKHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBNb2RlbEhlbHBlci5yZWFkU3ByaXRlU3RyaW5nKHZhbHVlW2ldKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA9IFJlc291cmNlLnNwcml0ZShkYXRhLnVybCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuY29uZmlnKGRhdGEuZnJhbWVzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChSZXNvdXJjZS5pbWFnZSh2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcIm9iamVjdFwiICYmIHZhbHVlW2ldLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXS5sZW5ndGggPT0gMiAmJiB0eXBlb2YgdmFsdWVbaV1bMF0gPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgdmFsdWVbaV1bMV0gPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldWzFdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IFJlc291cmNlLnNwcml0ZSh2YWx1ZVtpXVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuY29uZmlnKHZhbHVlW2ldWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyZXNvdXJjZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWw6IHZhbHVlW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpOiBpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ1t7aX1dW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBiZyB2YWx1ZS4gU2tpcHBlZC4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXSwgaTogaX0sICdbe2l9XVt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmcgdmFsdWUuIFNraXBwZWQnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGQgPSBzdHlsZS5nZXQoJ2JnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwib2JqZWN0XCIgJiYgdmFsdWVbaV0uY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXVswXSA9PSBcInN0cmluZ1wiICYmIHR5cGVvZiB2YWx1ZVtpXVsxXSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBSZXNvdXJjZS5zcHJpdGUodmFsdWVbaV1bMF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmNvbmZpZyh2YWx1ZVtpXVsxXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocmVzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXSwgaTogaX0sICdbe2l9XVt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmcgYXJyYXkgdmFsdWUuJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIuaXNTcHJpdGVTdHJpbmcodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IE1vZGVsSGVscGVyLnJlYWRTcHJpdGVTdHJpbmcodmFsdWVbaV0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlID0gUmVzb3VyY2Uuc3ByaXRlKGRhdGEudXJsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5jb25maWcoZGF0YS5mcmFtZXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFJlc291cmNlLmltYWdlKHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV0sIGk6IGl9LCAnW3tpfV1be3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBiZy4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCB2YWxpZCB2YWx1ZSBmb3IgYmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXS50eXBlID09ICdJbWFnZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldLnVybCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZVtpXS50eXBlID09ICdTcHJpdGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXS51cmwoKSArICdbJyArIHZhbHVlW2ldLmZyYW1lcygpICsgJ10nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsOiB2YWx1ZVtpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaTogaVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKyAnW3tpfV1be3ZhbH1dIFVua25vd24gdHlwZSBvZiB0aGUgYmFja2dyb3VuZCBvYmplY3QgY29udGFpbmVyLiBDcml0aWNhbCBlcnJvci4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBkZWZCZ1Bvc3ZhbCA9IFswLCAwXTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgyLCAnYmdQb3NpdGlvbicsIFtkZWZCZ1Bvc3ZhbF0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJnID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfcmVzID0gW3ZhbHVlWzBdLCB2YWx1ZVsxXV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKF9yZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmcgPSBzdHlsZS5nZXQoJ2JnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbiA9IHN0eWxlLmdldCgnYmdQb3NpdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlW2ldKSAmJiB2YWx1ZVtpXS5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW3ZhbHVlWzBdLCB2YWx1ZVsxXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJncG9zaXRpb25baV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiZ3Bvc2l0aW9uW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkoZGVmQmdQb3N2YWwpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpOiBpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbDogdmFsdWVbaV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICdbe2l9XVt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmdwb3NpdGlvbiB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmdwb3NpdGlvbltpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYmdwb3NpdGlvbltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZkJnUG9zdmFsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZyA9IHN0eWxlLmdldCgnYmcnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb24gPSBzdHlsZS5nZXQoJ2JnUG9zaXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZ3Bvc2l0aW9uW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNWYWx1ZSgpICYmIHZhbHVlW2ldLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbdmFsdWVbMF0sIHZhbHVlWzFdXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiZ3Bvc2l0aW9uW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGk6IGksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsOiB2YWx1ZVtpXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ1t7aX1dW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBiZ3Bvc2l0aW9uIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkoZGVmQmdQb3N2YWwpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmdwb3NpdGlvbltpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiZ3Bvc2l0aW9uW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkoZGVmQmdQb3N2YWwpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmdwb3NpdGlvbiB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZGVmQmdTaXplVmFsID0gWzEsIDFdO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdiZ1NpemUnLCBbZGVmQmdTaXplVmFsXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09IDIgJiYgTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmcgPSBzdHlsZS5nZXQoJ2JnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlcyA9IFt2YWx1ZVswXSwgdmFsdWVbMV1dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChfcmVzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmcgPSBzdHlsZS5nZXQoJ2JnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdzaXplID0gc3R5bGUuZ2V0KCdiZ1NpemUnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldLmxlbmd0aCA9PSAyICYmIE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXVswXSwgdmFsdWVbaV1bMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJnc2l6ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYmdzaXplW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkoZGVmQmdTaXplVmFsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXSwgaTogaX0sICdbe2l9XVt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmdzaXplIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJnID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdzaXplID0gc3R5bGUuZ2V0KCdiZ1NpemUnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KGkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcIm9iamVjdFwiICYmIHZhbHVlW2ldLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXS5sZW5ndGggPT0gMiAmJiBNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFt2YWx1ZVtpXVswXSwgdmFsdWVbaV1bMV1dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZ3NpemVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiZ3NpemVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheShkZWZCZ1NpemVWYWwpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV0sIGk6IGl9LCAnW3tpfV1be3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJnc2l6ZSB2YWx1ZS4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJnc2l6ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYmdzaXplW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkoZGVmQmdTaXplVmFsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXSwgaTogaX0sICdbe2l9XVt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmdzaXplIHZhbHVlLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZ3NpemVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYmdzaXplW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkoZGVmQmdTaXplVmFsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdiZycsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoby5sZW5ndGggIT09IG4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgU3luY0JnUHJvcGVydHkobiwgc3R5bGUuZ2V0KCdiZ1Bvc2l0aW9uJyksIGRlZkJnUG9zdmFsKTtcclxuICAgICAgICAgICAgICAgICAgICBTeW5jQmdQcm9wZXJ0eShuLCBzdHlsZS5nZXQoJ2JnU2l6ZScpLCBkZWZCZ1NpemVWYWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDIvOC8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytNb2RlbCcsXHJcbiAgICAgICAgZnVuY3Rpb24gR2xvYmFsU2l6ZU1vZGVsKE1vZGVsSGVscGVyKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gdGhpcy5leHRlbnNpb24oJ0FuaW1hdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnc2l6ZScsIDEsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc2l6ZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKFt2YWx1ZSwgdmFsdWVdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzBdIDwgMCkgdmFsdWVbMF0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzFdIDwgMCkgdmFsdWVbMV0gPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3NpemUnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IHZhbGlkIHZhbHVlIGZvciBzaXplJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCB2YWxpZCB2YWx1ZSBmb3Igc2l6ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMF0gPCAwKSB2YWx1ZVswXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzFdIDwgMCkgdmFsdWVbMV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnc2l6ZScsIFswLCAwXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAyICYmIE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzBdIDwgMCkgdmFsdWVbMF0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzFdIDwgMCkgdmFsdWVbMV0gPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWVbMF0sIHZhbHVlWzFdXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgdmFsaWQgdmFsdWUgZm9yIHNpemUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgdmFsaWQgdmFsdWUgZm9yIHNpemUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAZXh0ZW5kJyxcclxuICAgICAgICBmdW5jdGlvbiBHcm91cE9iamVjdE1vZGVsKGV4dGVuZCkge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdE9iamVjdE1vZGVsJyk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BleHRlbmQnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEltYWdlT2JqZWN0TW9kZWwoZXh0ZW5kLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdE9iamVjdE1vZGVsJyk7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJEdsb2JhbFNpemVNb2RlbCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3NyYycsIG51bGwsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHNyYyB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGV4dGVuZCcsICcrTW9kZWwnLCAnK1BhdGgnLCAnK0NvbG9yJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBMaW5lT2JqZWN0TW9kZWwoZXh0ZW5kLCBNb2RlbEhlbHBlciwgUGF0aEhlbHBlciwgQ29sb3JIZWxwZXIsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0TW9kZWwnKTtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdEZyZWVTdHJva2VNb2RlbCcpO1xyXG5cclxuICAgICAgICAgICAgLy9UT0RPOiBBZGQgYW5pbWF0aW9uIG1vcnBocyEhXHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFN5bmNQYXRoUHJvcGVydHkocGF0aCwgcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJvcGVydHlbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkucHVzaChwcm9wZXJ0eVtwcm9wZXJ0eS5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdwYXRoJywgW1swLCAwLCAwLCAwLCAwLCAwLCAwLCAwXV0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoUGF0aEhlbHBlci5jaGVja1NpbXBsZVBhdGgodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGQgPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFBhdGhIZWxwZXIuY29udmVydFNpbXBsZVBhdGgodmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZC5sZW5ndGggIT09IHJlc3VsdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN5bmNQYXRoUHJvcGVydHkocmVzdWx0LCBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3luY1BhdGhQcm9wZXJ0eShyZXN1bHQsIHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeW5jUGF0aFByb3BlcnR5KHJlc3VsdCwgc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ0xpbmUgTW9kZWwgLyBJbnZhbGlkIHZhbHVlIGZvciBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQYXRoSGVscGVyLmNvbnZlcnRDb21wbGV4UGF0aCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzExLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGV4dGVuZCcsICcrTW9kZWwnLCAnK0NvbG9yJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBSZWN0YW5nbGVPYmplY3RNb2RlbChleHRlbmQsIE1vZGVsSGVscGVyLCBDb2xvckhlbHBlciwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRPYmplY3RNb2RlbCcpO1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRHbG9iYWxCYWNrZ3JvdW5kTW9kZWwnKTtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckR2xvYmFsU2l6ZU1vZGVsJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbiA9IHRoaXMuZXh0ZW5zaW9uKCdBbmltYXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAncmFkaXVzJywgWzAsIDAsIDAsIDBdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlLCB2YWx1ZSwgdmFsdWUsIHZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1hdGgucm91bmQodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IFtdLCBvbGQgPSB0aGlzLnN0eWxlKCdyYWRpdXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0W2ldICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbC5wdXNoKHJlc3VsdFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkID0gc3R5bGUuZ2V0KCdyYWRpdXMnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsLnB1c2goTWF0aC5yb3VuZCh2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsLnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgncmFkaXVzJywgMSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdyYWRpdXMnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGQgPSB0aGlzLnN0eWxlKCdyYWRpdXMnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQob2xkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0gPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2goTWF0aC5yb3VuZCh2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICd7dn0gaXMgbm90IGEgdmFsaWQgcmFkaXVzIHZhbHVlIGZvciByZWN0YW5nbGUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdzdHJva2VDb2xvcicsIFsncmdiYSgwLDAsMCwxKScsICdyZ2JhKDAsMCwwLDEpJywgJ3JnYmEoMCwwLDAsMSknLCAncmdiYSgwLDAsMCwxKSddLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWUsIHZhbHVlLCB2YWx1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWx1ZTogdmFsfSwgJyBbe3ZhbH0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlIHN0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZCA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2UgY29sb3IgdmFsdWUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcIm9iamVjdFwiICYmIHZhbHVlW2ldLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKENvbG9ySGVscGVyLmFycmF5VG9Db2xvcih2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2UgY29sb3IgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcIm9iamVjdFwiICYmIHZhbHVlW2ldLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKENvbG9ySGVscGVyLmFycmF5VG9Db2xvcih2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBjb2xvciB2YWx1ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBjb2xvciB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlQ29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3N0cm9rZUNvbG9yJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQoW01vZGVsSGVscGVyLmNsb25lQXJyYXkoY29sb3IpLCBNb2RlbEhlbHBlci5jbG9uZUFycmF5KGNvbG9yKSwgTW9kZWxIZWxwZXIuY2xvbmVBcnJheShjb2xvciksIE1vZGVsSGVscGVyLmNsb25lQXJyYXkoY29sb3IpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VDb2xvcicpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ3t2fSBpcyBub3QgYSB2YWxpZCBjb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQoW01vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc3Ryb2tlQ29sb3InKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3V1cmVudCA9IHRoaXMuc3R5bGUoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1dXJlbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwib2JqZWN0XCIgJiYgdmFsdWVbaV0uY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSAmJiBDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KGN1dXJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5zdHlsZSgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VycmVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcIm9iamVjdFwiICYmIHZhbHVlW2ldLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydChjdXJyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JIZWxwZXIubm9ybWFsaXplKHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdzdHJva2VXaWR0aCcsIFsxLCAxLCAxLCAxXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWUsIHZhbHVlLCB2YWx1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICcgW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2Ugd2lkdGggdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KGkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZVdpZHRoJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnIFt7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlV2lkdGggdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3N0cm9rZVdpZHRoJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKFt2YWx1ZSwgdmFsdWUsIHZhbHVlLCB2YWx1ZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VXaWR0aCcpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuc3R5bGUoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VycmVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldICYmIHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydChjdXJyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5zdHlsZSgnc3Ryb2tlV2lkdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VycmVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldICYmIHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQoY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICcgW3t2fV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlV2lkdGggb2JqZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJyBbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlV2lkdGgnKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3N0cm9rZVN0eWxlJywgW1sxLCAwXSwgWzEsIDBdLCBbMSwgMF0sIFsxLCAwXV0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnIFt7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2Ugd2lkdGghJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlW2ldKSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlW2ldKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICcgW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2Ugc3R5bGUgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkgJiYgdmFsdWVbaV0ubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGUgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXRjaCh7dmFsOiB2YWx1ZVtpXX0sICcgW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VTdHlsZSB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJyBbe3ZhbH1dIGlzIG5vdCB2YWxpZCBzdHJva2VTdHlsZSB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnc3Ryb2tlU3R5bGUnLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VTdHlsZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpLCBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSwgTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSksIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJyBbe3Z9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VTdHlsZSB2YWx1ZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuc3R5bGUoJ3N0cm9rZVN0eWxyJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJlbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldICYmIE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlW2ldKSAmJiB2YWx1ZVtpXS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWVbaV0pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydChjdXJyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VTdHlsZSB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5zdHlsZSgnc3Ryb2tlU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VycmVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSAmJiBNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkgJiYgdmFsdWVbaV0ubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWVbb10pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQoY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VTdHlsZVZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVN0eWxlVmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEzLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGV4dGVuZCcsICcrTW9kZWwnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFNwcml0ZU9iamVjdE1vZGVsKGV4dGVuZCwgTW9kZWxIZWxwZXIsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0TW9kZWwnKTtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckR2xvYmFsU2l6ZU1vZGVsJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnc3JjJywgbnVsbCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLmlzU3ByaXRlU3RyaW5nKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzcHJpdGUgc3JjJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVswXSA9PSBcInN0cmluZ1wiICYmIHR5cGVvZiB2YWx1ZVsxXSA9PSBcIm51bWJlclwiICYmIHZhbHVlWzFdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlWzBdICsgJ1snICsgdmFsdWVbMV0gKyAnXSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3ByaXRlIHNyYycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3ByaXRlIHNyYycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAzLzI1LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGV4dGVuZCcsICcrTW9kZWwnLCAnK0NvbG9yJywgJ0RlYnVnJywgJ0BGb250cycsXHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dE9iamVjdE1vZGVsKGV4dGVuZCwgTW9kZWxIZWxwZXIsIENvbG9ySGVscGVyLCBEZWJ1ZywgRm9udHMpIHtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdE9iamVjdE1vZGVsJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIHRleHQgPSB0aGlzLmV4dGVuc2lvbignVGV4dCcpLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gdGhpcy5leHRlbnNpb24oJ0FuaW1hdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnc2l6ZScsIFsnYXV0bycsICdhdXRvJ10sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlID09PSAnYXV0bycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC5saW1pdHMoSW5maW5pdHksIEluZmluaXR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWVdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC5saW1pdHModmFsdWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5ICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgdmFsdWVbaV0gIT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHZhbHVlW2ldICE9PSBcIm51bWJlclwiKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgdmFsdWVbaV0gPT09IFwic3RyaW5nXCIgJiYgdmFsdWVbaV0gIT09ICdhdXRvJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbMF0gPT09IFwibnVtYmVyXCIgJiYgdmFsdWVbMF0gPCAwKSB2YWx1ZVswXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlWzFdID09PSBcIm51bWJlclwiICYmIHZhbHVlWzFdIDwgMCkgdmFsdWVbMV0gPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQubGltaXRzKHZhbHVlWzBdID09PSAnYXV0bycgPyBJbmZpbml0eSA6IHZhbHVlWzBdLCB2YWx1ZVsxXSA9PT0gJ2F1dG8nID8gSW5maW5pdHkgOiB2YWx1ZVsxXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZVswXSwgdmFsdWVbMV1dXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgc2l6ZSBhcnJheScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzaXplJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWVbMF0sIHZhbHVlWzFdXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnc3RyJywgJycsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3lzdGVtRm9udCA9ICdzYW5zLXNlcmlmJztcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnZm9udCcsICdzYW5zLXNlcmlmJyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3lzdGVtRm9udCA9IEZvbnRzLmZvcm1hdCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zdHlsZSgnc3lzdGVtRm9udCcsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnc3lzdGVtRm9udCcsIHN5c3RlbUZvbnQsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN5c3RlbUZvbnQ7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzeXN0ZW1Gb250O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICd3ZWlnaHQnLCA0MDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDEwMCkgdmFsdWUgPSAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDkwMCkgdmFsdWUgPSA5MDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgJSAxMDAgIT09IDApIHZhbHVlID0gdmFsdWUgLSAodmFsdWUgJSAxMDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ3N0eWxlJywgJ25vcm1hbCcsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmICh2YWx1ZSA9PT0gJ25vcm1hbCcgfHwgdmFsdWUgPT09ICdpdGFsaWMnIHx8IHZhbHVlID09PSAnb2JsaXF1ZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdsaW5lSGVpZ2h0JywgMTQsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdmb250U2l6ZScsIDE0LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdjb2xvcicsICdyZ2JhKDAsMCwwLDEpJyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbG9ySGVscGVyLmFycmF5VG9Db2xvcih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdhbGlnbicsICdsZWZ0JyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gJ2NlbnRlcicgfHwgdmFsdWUgPT09ICdsZWZ0JyB8fCB2YWx1ZSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSBwcm9wZXIgdmFsdWUgZm9yIGFsaW5nIHRleHQgcHJvcGVydHknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ2NvbG9yJywgMSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnZmlsbCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChjb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYXZhbGlkIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdmaWxsJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIENvbG9ySGVscGVyLm5vcm1hbGl6ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnK0FuaW1hdGlvbicsICdNb3JwaGluZScsXHJcbiAgICAgICAgZnVuY3Rpb24gQW5pbWF0aW9uKEFuaW1hdGlvbkhlbHBlciwgTW9ycGhpbmUpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBwcm9ncmVzcyA9IDAsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgZG9uZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc3RhY2sgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgbW9ycGhpbmUgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHN0ZXBzQ2IgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgcXVldWUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY2xlYXIgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3RlcFR5cGVTdHIgPSAndHlwZScsXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZVR5cGVTdHIgPSAnY29tcGxldGUnLFxyXG4gICAgICAgICAgICAgICAgY29uZmlnID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFJlc29sdmUodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gc3RlcFR5cGVTdHIpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGVwc0NiLmhhc093blByb3BlcnR5KHN0YWNrW2ldLm1vcnBoLnByb3BlcnR5KCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwc0NiW3N0YWNrW2ldLm1vcnBoLnByb3BlcnR5KCldLmFwcGx5KHRhcmdldCwgW3Byb2dyZXNzLCBzdGFja1tpXS5yZXN1bHRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gY29tcGxldGVUeXBlU3RyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHNbc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKV0gPSBzdGFja1tpXS5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5kb25lKDEsIHJlc3VsdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5xdWV1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBxdWV1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZG9uZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkb25lO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5oYXNQcm9wZXJ0eSA9IGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IDA7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrW2ldLm1vcnBoLnByb3BlcnR5KCkgPT0gcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gaSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheS5wdXNoKHN0YWNrW2ldLm1vcnBoLnByb3BlcnR5KCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmhhc1Byb3BlcnR5KHByb3BlcnR5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBpbmRleCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnNwbGljZShpbmRleCwgMSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFjayA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBfc3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vcnBoID0gc3RhY2tbaV0ubW9ycGguZ2V0KHN0YWNrW2ldLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vcnBoICE9PSB1bmRlZmluZWQgJiYgbW9ycGguc3RhcnQoKSAhPT0gZmFsc2UgJiYgbW9ycGguZW5kKCkgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdGFjay5wdXNoKHN0YWNrW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc3RhY2sgPSBfc3RhY2s7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHRpY2tfZnVuY3Rpb24gPSBBbmltYXRpb25IZWxwZXIuZ2V0VGlja0Z1bmN0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbW9ycGhpbmUgPSBNb3JwaGluZS5jcmVhdGUoMCwgMSwgZnVuY3Rpb24gKGNvbXBsZXRlLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFjay5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvbHZlKGNvbXBsZXRlVHlwZVN0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoaW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrW2ldLnJlc3VsdCA9IHRpY2tfZnVuY3Rpb24odmFsdWUsIHN0YWNrW2ldLm1vcnBoLnN0YXJ0KCksIHN0YWNrW2ldLm1vcnBoLmVuZCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrW2ldLm1vcnBoLmFwcGx5KGNvbXBsZXRlLCBzdGFja1tpXS5yZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvbHZlKHN0ZXBUeXBlU3RyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXNvbHZlKGNvbXBsZXRlVHlwZVN0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgZWFzaW5nLCBkdXJhdGlvbiwgMCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGZ1bmN0aW9uICh0LCBtLCBjZmcsIGYpIHtcclxuICAgICAgICAgICAgICAgIEFuaW1hdGlvbkhlbHBlci5ub3JtYWxpemVDb25maWcoY2ZnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IGNmZy5kdXJhdGlvbjtcclxuXHJcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSBjZmcuZWFzaW5nO1xyXG5cclxuICAgICAgICAgICAgICAgIHN0ZXBzQ2IgPSBjZmcuc3RlcDtcclxuXHJcbiAgICAgICAgICAgICAgICBxdWV1ZSA9IGNmZy5xdWV1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBjbGVhciA9IGY7XHJcblxyXG4gICAgICAgICAgICAgICAgc3RhY2sgPSBtO1xyXG5cclxuICAgICAgICAgICAgICAgIHRhcmdldCA9IHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uZmlnID0gY2ZnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gTW9ycGgoRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzZXR0ZXIgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgZ2V0dGVyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGFwcGxpZXIgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3RhcnQsIGVuZCxcclxuICAgICAgICAgICAgICAgIG9iamVjdCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgb3JkZXJpbmcgPSAwO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gU2V0U3RhcnRWYWx1ZSh2YWwpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTZXRFbmRWYWx1ZSh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGVuZCA9IHZhbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGFydDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVuZDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcGVydHk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9yZGVyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yZGVyaW5nO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHNldHRlci5hcHBseShvYmplY3QsIFtTZXRTdGFydFZhbHVlLCBTZXRFbmRWYWx1ZSwgdmFsdWVdKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy52YWxpZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWxpZDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHkgPSBmdW5jdGlvbiAocHJvZ3Jlc3MsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QuZmlsdGVyKHByb3BlcnR5LCBhcHBsaWVyLmFwcGx5KG9iamVjdCwgW3ZhbHVlLCBwcm9ncmVzc10pKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKG5hbWUsIG9iaiwgb3JkLCBzZXQsIGFwbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnMSBbe25hbWV9XSBpcyBub3QgYSBzdHJpbmchJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmczIGlzIG5vdCBhbiBvYmplY3QhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXQgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ1VuYWJsZSB0byBjb25maWcgTW9ycGguIGFyZzQgaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcmQgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmcyIGlzIG5vdCBhIG51bWJlciEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFwbCAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnNSBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvcGVydHkgPSBuYW1lO1xyXG4gICAgICAgICAgICAgICAgc2V0dGVyID0gc2V0O1xyXG4gICAgICAgICAgICAgICAgYXBwbGllciA9IGFwbDtcclxuICAgICAgICAgICAgICAgIG9yZGVyaW5nID0gb3JkO1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gb2JqO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5oZWxwZXIuc3lzdGVtKFxyXG4gICAgZnVuY3Rpb24gQW5pbWF0aW9uKCkge1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBUaWNrVmFsKGNvbXBsZXRlLCBwcm9ncmVzcywgc3RhcnQsIGVuZCkge1xyXG4gICAgICAgICAgICB2YXIgbG9jcyA9IGZhbHNlLCBsb2NlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09IFwiZnVuY3Rpb25cIikgbG9jcyA9IHN0YXJ0KCk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZW5kID09PSBcImZ1bmN0aW9uXCIpIGxvY2UgPSBlbmQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzdGFydC5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhcnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChUaWNrVmFsKGNvbXBsZXRlLCBwcm9ncmVzcywgc3RhcnRbaV0sIGVuZFtpXSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gc3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRbcHJvcF0gPSBUaWNrVmFsKGNvbXBsZXRlLCBwcm9ncmVzcywgc3RhcnRbcHJvcF0sIGVuZFtwcm9wXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHN0YXJ0ID09PSAnbnVtYmVyJyB8fCB0eXBlb2Ygc3RhcnQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbmR2YWwgPSBsb2NlID09PSBmYWxzZSA/IGVuZCA6IGxvY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnR2YWwgPSBsb2NzID09PSBmYWxzZSA/IHN0YXJ0IDogbG9jcyxcclxuICAgICAgICAgICAgICAgICAgICBkaWZmZXJlbmNlID0gZW5kdmFsIC0gc3RhcnR2YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gc3RhcnR2YWwgKyAoZGlmZmVyZW5jZSAqIGNvbXBsZXRlKTtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcyA+PSAxKSByZXN1bHQgPSBlbmR2YWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubm9ybWFsaXplQ29uZmlnID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgICAgICBjb25maWcuZHVyYXRpb24gPSB0eXBlb2YgY29uZmlnLmR1cmF0aW9uID09PSBcIm51bWJlclwiICYmIGNvbmZpZy5kdXJhdGlvbiA+IDAgPyBjb25maWcuZHVyYXRpb24gOiAxMDAwO1xyXG4gICAgICAgICAgICBjb25maWcucXVldWUgPSAhIWNvbmZpZy5xdWV1ZTtcclxuICAgICAgICAgICAgY29uZmlnLnN0ZXAgPSB0eXBlb2YgY29uZmlnLnN0ZXAgPT09IFwib2JqZWN0XCIgPyBjb25maWcuc3RlcCA6IHt9O1xyXG4gICAgICAgICAgICBjb25maWcuZWFzaW5nID0gdHlwZW9mIGNvbmZpZy5lYXNpbmcgPT09ICdzdHJpbmcnID8gY29uZmlnLmVhc2luZyA6ICdsaW5lYXInO1xyXG4gICAgICAgICAgICBjb25maWcuZG9uZSA9IHR5cGVvZiBjb25maWcuZG9uZSA9PT0gXCJmdW5jdGlvblwiID8gY29uZmlnLmRvbmUgOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRUaWNrRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBUaWNrVmFsO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgfSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTAvMjAxNy5cclxuICovXHJcbiRSLmhlbHBlci5zeXN0ZW0oXHJcbiAgICBmdW5jdGlvbiBDb2xvcigpIHtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gTm9ybWFsaXplQ29sb3JBcnJheShhcnJheSkge1xyXG4gICAgICAgICAgICBpZiAoYXJyYXkgIT09IGZhbHNlICYmIGFycmF5ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheVtpXSA9IGFycmF5W2ldIDw9IDI1NSA/IGFycmF5W2ldIDogMjU1O1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2ldID0gYXJyYXlbaV0gPj0gMCA/IGFycmF5W2ldIDogMDtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheVtpXSA9IChpICE9PSAzICYmIGFycmF5W2ldICE9PSAwKSA/IHBhcnNlSW50KGFycmF5W2ldKSA6IGFycmF5W2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2ldID0gKChpID09IDMpICYmIGFycmF5W2ldKSA8PSAxID8gYXJyYXlbaV0gOiAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2ldID0gTWF0aC5hYnMoYXJyYXlbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBQYXJzZUNvbG91cihjb2xvcikge1xyXG4gICAgICAgICAgICB2YXIgY2FjaGVcclxuICAgICAgICAgICAgICAgICwgcCA9IHBhcnNlSW50IC8vIFVzZSBwIGFzIGEgYnl0ZSBzYXZpbmcgcmVmZXJlbmNlIHRvIHBhcnNlSW50XHJcbiAgICAgICAgICAgICAgICAsIGNvbG9yID0gY29sb3IucmVwbGFjZSgvXFxzXFxzKi9nLCAnJykgLy8gUmVtb3ZlIGFsbCBzcGFjZXNcclxuICAgICAgICAgICAgOy8vdmFyXHJcblxyXG4gICAgICAgICAgICAvLyBDaGVja3MgZm9yIDYgZGlnaXQgaGV4IGFuZCBjb252ZXJ0cyBzdHJpbmcgdG8gaW50ZWdlclxyXG4gICAgICAgICAgICBpZiAoY2FjaGUgPSAvXiMoW1xcZGEtZkEtRl17Mn0pKFtcXGRhLWZBLUZdezJ9KShbXFxkYS1mQS1GXXsyfSkvLmV4ZWMoY29sb3IpKVxyXG4gICAgICAgICAgICAgICAgY2FjaGUgPSBbcChjYWNoZVsxXSwgMTYpLCBwKGNhY2hlWzJdLCAxNiksIHAoY2FjaGVbM10sIDE2KV07XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVja3MgZm9yIDMgZGlnaXQgaGV4IGFuZCBjb252ZXJ0cyBzdHJpbmcgdG8gaW50ZWdlclxyXG4gICAgICAgICAgICBlbHNlIGlmIChjYWNoZSA9IC9eIyhbXFxkYS1mQS1GXSkoW1xcZGEtZkEtRl0pKFtcXGRhLWZBLUZdKS8uZXhlYyhjb2xvcikpXHJcbiAgICAgICAgICAgICAgICBjYWNoZSA9IFtwKGNhY2hlWzFdLCAxNikgKiAxNywgcChjYWNoZVsyXSwgMTYpICogMTcsIHAoY2FjaGVbM10sIDE2KSAqIDE3XTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrcyBmb3IgcmdiYSBhbmQgY29udmVydHMgc3RyaW5nIHRvXHJcbiAgICAgICAgICAgIC8vIGludGVnZXIvZmxvYXQgdXNpbmcgdW5hcnkgKyBvcGVyYXRvciB0byBzYXZlIGJ5dGVzXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNhY2hlID0gL15yZ2JhXFwoKFtcXGRdKyksKFtcXGRdKyksKFtcXGRdKyksKFtcXGRdK3xbXFxkXSouW1xcZF0rKVxcKS8uZXhlYyhjb2xvcikpXHJcbiAgICAgICAgICAgICAgICBjYWNoZSA9IFsrY2FjaGVbMV0sICtjYWNoZVsyXSwgK2NhY2hlWzNdLCArY2FjaGVbNF1dO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2tzIGZvciByZ2IgYW5kIGNvbnZlcnRzIHN0cmluZyB0b1xyXG4gICAgICAgICAgICAvLyBpbnRlZ2VyL2Zsb2F0IHVzaW5nIHVuYXJ5ICsgb3BlcmF0b3IgdG8gc2F2ZSBieXRlc1xyXG4gICAgICAgICAgICBlbHNlIGlmIChjYWNoZSA9IC9ecmdiXFwoKFtcXGRdKyksKFtcXGRdKyksKFtcXGRdKylcXCkvLmV4ZWMoY29sb3IpKVxyXG4gICAgICAgICAgICAgICAgY2FjaGUgPSBbK2NhY2hlWzFdLCArY2FjaGVbMl0sICtjYWNoZVszXV07XHJcblxyXG4gICAgICAgICAgICAvLyBPdGhlcndpc2UgdGhyb3cgYW4gZXhjZXB0aW9uIHRvIG1ha2UgZGVidWdnaW5nIGVhc2llclxyXG4gICAgICAgICAgICBlbHNlIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vIFBlcmZvcm1zIFJHQkEgY29udmVyc2lvbiBieSBkZWZhdWx0XHJcbiAgICAgICAgICAgIGlzTmFOKGNhY2hlWzNdKSAmJiAoY2FjaGVbM10gPSAxKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZHMgb3IgcmVtb3ZlcyA0dGggdmFsdWUgYmFzZWQgb24gcmdiYSBzdXBwb3J0XHJcbiAgICAgICAgICAgIC8vIFN1cHBvcnQgaXMgZmxpcHBlZCB0d2ljZSB0byBwcmV2ZW50IGVycm9zIGlmXHJcbiAgICAgICAgICAgIC8vIGl0J3Mgbm90IGRlZmluZWRcclxuICAgICAgICAgICAgcmV0dXJuIE5vcm1hbGl6ZUNvbG9yQXJyYXkoY2FjaGUuc2xpY2UoMCwgNCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb2xvclRvQXJyYXkgPSBQYXJzZUNvbG91cjtcclxuICAgICAgICB0aGlzLm5vcm1hbGl6ZSA9IE5vcm1hbGl6ZUNvbG9yQXJyYXk7XHJcbiAgICAgICAgdGhpcy5pc0NvbG9yID0gZnVuY3Rpb24gKGFycmF5KSB7XHJcbiAgICAgICAgICAgIHZhciBlcnJvciA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoYXJyYXkubGVuZ3RoID09PSA0KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcnJheVtpXSA9PSAnbnVtYmVyJyB8fCB0eXBlb2YgYXJyYXlbaV0gPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAgYXJyYXlbaV0gPT0gJ3N0cmluZycgJiYgaXNOYU4oYXJyYXlbaV0gKiAxKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKHthcnJheSA6IGFycmF5fSwgJ0ludmFsaWQgQ29sb3Ige2FycmF5fS4gVmFsdWUgaXMgbm90IGEgY29sb3IgQXJyYXkuJywgdGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICFlcnJvcjtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmFycmF5VG9Db2xvciA9IGZ1bmN0aW9uIChhcnJheSkge1xyXG4gICAgICAgICAgICBpZiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoID09PSA0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RyaW5nID0gJ3JnYmEoJztcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gaSA9PT0gMyA/IGFycmF5W2ldICsgJyknIDogYXJyYXlbaV0gKyAnLCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdVbmtub3duIElucHV0IGFycmF5IGZvcm1hdC4gU2hvdWxkIGJlIFtSLEcsQixBXTsnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEwLzIwMTcuXHJcbiAqL1xyXG4kUi5oZWxwZXIuc3lzdGVtKFxyXG4gICAgZnVuY3Rpb24gRHJhd2VyKERlYnVnKSB7XHJcbiAgICAgICAgdmFyIHRleHREcmF3ZXJDb250ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5tZWFzdXJlVGV4dCA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgIHRleHREcmF3ZXJDb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgdmFyIHdpZHRoID0gZnVuYyh0ZXh0RHJhd2VyQ29udGV4dCk7XHJcbiAgICAgICAgICAgIHRleHREcmF3ZXJDb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gZnVuY3Rpb24gKG9iamVjdCwgY29udGV4dCkge1xyXG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zZm9ybS5hcHBseShjb250ZXh0LCBvYmplY3QubWF0cml4KCkuZXh0cmFjdCgpKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdMaW5lQmdDbGlwUGF0aCA9IGZ1bmN0aW9uIChjb250ZXh0LCBwYXRoLCBzdHlsZSwgYXNzZW1ibGVyLCBzcHJpdGUpIHtcclxuICAgICAgICAgICAgdmFyIGJnID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICAgICAgYmdzaXplID0gc3R5bGUuZ2V0KCdiZ1NpemUnKSxcclxuICAgICAgICAgICAgICAgIGJncG9zaXRpb24gPSBzdHlsZS5nZXQoJ2JnUG9zaXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocGF0aFswXVswXSwgcGF0aFswXVsxXSk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB4MSA9IHBhdGhbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeTEgPSBwYXRoW2ldWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIHgyID0gcGF0aFtpXVsyXSxcclxuICAgICAgICAgICAgICAgICAgICB5MiA9IHBhdGhbaV1bM107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB4MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeDIgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MiAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdJbnZhbGlkIHBhdGghJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oeDIsIHkyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcclxuICAgICAgICAgICAgY29udGV4dC5jbGlwKCk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBiID0gMDsgYiA8IGJnLmxlbmd0aDsgYisrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFiZ1tiXS5sb2FkZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJnW2JdLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJnd2lkdGggPSBib3guc2l6ZVswXSAqIGJnc2l6ZVtiXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmdoZWlnaHQgPSBib3guc2l6ZVsxXSAqIGJnc2l6ZVtiXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbnggPSBib3guc2l6ZVswXSAqIGJncG9zaXRpb25bYl1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb255ID0gYm94LnNpemVbMV0gKiBiZ3Bvc2l0aW9uW2JdWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShzcHJpdGUubWFyZ2luWzNdICsgYmdwb3NpdGlvbngsIHNwcml0ZS5tYXJnaW5bMF0gKyBiZ3Bvc2l0aW9ueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoYmdbaV0uZXhwb3J0KCksIDAsIDAsIGJnd2lkdGgsIGJnaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdCZXppZXJCZ0NsaXBQYXRoID0gZnVuY3Rpb24gKGNvbnRleHQsIHBhdGgsIHN0eWxlLCBhc3NlbWJsZXIsIHNwcml0ZSkge1xyXG4gICAgICAgICAgICB2YXIgYmcgPSBzdHlsZS5nZXQoJ2JnJyksXHJcbiAgICAgICAgICAgICAgICBiZ3NpemUgPSBzdHlsZS5nZXQoJ2JnU2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgYmdwb3NpdGlvbiA9IHN0eWxlLmdldCgnYmdQb3NpdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhwYXRoWzBdWzBdLCBwYXRoWzBdWzFdKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeDEgPSBwYXRoW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkxID0gcGF0aFtpXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICB4MiA9IHBhdGhbaV1bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgeTIgPSBwYXRoW2ldWzNdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF4MSA9IHBhdGhbaV1bNF0sXHJcbiAgICAgICAgICAgICAgICAgICAgYXkxID0gcGF0aFtpXVs1XSxcclxuICAgICAgICAgICAgICAgICAgICBheDIgPSBwYXRoW2ldWzZdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF5MiA9IHBhdGhbaV1bN107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB4MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeDIgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MiAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdJbnZhbGlkIHBhdGghJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGF4MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgIGF4MiAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgYXkxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiAgYXkyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0ludmFsaWQgY3VydmUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oYXgxLCBheTEsIGF4MiwgYXkyLCB4MiwgeTIpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmNsaXAoKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGIgPSAwOyBiIDwgYmcubGVuZ3RoOyBiKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWJnW2JdLmxvYWRlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmdbYl0ub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYmd3aWR0aCA9IGJveC5zaXplWzBdICogYmdzaXplW2JdWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZ2hlaWdodCA9IGJveC5zaXplWzFdICogYmdzaXplW2JdWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9ueCA9IGJveC5zaXplWzBdICogYmdwb3NpdGlvbltiXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbnkgPSBib3guc2l6ZVsxXSAqIGJncG9zaXRpb25bYl1bMV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHNwcml0ZS5tYXJnaW5bM10gKyBiZ3Bvc2l0aW9ueCwgc3ByaXRlLm1hcmdpblswXSArIGJncG9zaXRpb255KTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShiZ1tpXS5leHBvcnQoKSwgMCwgMCwgYmd3aWR0aCwgYmdoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3TGluZVBhdGhGaWxsID0gZnVuY3Rpb24gKGNvbnRleHQsIHBhdGgsIHN0eWxlKSB7XHJcbiAgICAgICAgICAgIHZhciBmaWxsID0gc3R5bGUuZ2V0KCdmaWxsJyksXHJcbiAgICAgICAgICAgICAgICBjYXAgPSBzdHlsZS5nZXQoJ2NhcCcpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQubGluZUNhcCA9IGNhcDtcclxuICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocGF0aFswXVswXSwgcGF0aFswXVsxXSk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeDEgPSBwYXRoW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkxID0gcGF0aFtpXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICB4MiA9IHBhdGhbaV1bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgeTIgPSBwYXRoW2ldWzNdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHgyICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oeDIsIHkyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcclxuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsO1xyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcclxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd0JlemllclBhdGhGaWxsID0gZnVuY3Rpb24gKGNvbnRleHQsIHBhdGgsIHN0eWxlKSB7XHJcbiAgICAgICAgICAgIHZhciBmaWxsID0gc3R5bGUuZ2V0KCdmaWxsJyksXHJcbiAgICAgICAgICAgICAgICBjYXAgPSBzdHlsZS5nZXQoJ2NhcCcpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBjYXA7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhwYXRoWzBdWzBdLCBwYXRoWzBdWzFdKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHgxID0gcGF0aFtpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICB5MSA9IHBhdGhbaV1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgeDIgPSBwYXRoW2ldWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkyID0gcGF0aFtpXVszXSxcclxuICAgICAgICAgICAgICAgICAgICBheDEgPSBwYXRoW2ldWzRdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF5MSA9IHBhdGhbaV1bNV0sXHJcbiAgICAgICAgICAgICAgICAgICAgYXgyID0gcGF0aFtpXVs2XSxcclxuICAgICAgICAgICAgICAgICAgICBheTIgPSBwYXRoW2ldWzddO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHgyICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBheDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mICBheDIgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIGF5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgIGF5MiAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdJbnZhbGlkIGN1cnZlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyhheDEsIGF5MSwgYXgyLCBheTIsIHgyLCB5Mik7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbDtcclxuICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdMaW5lUGF0aCA9IGZ1bmN0aW9uIChjb250ZXh0LCBwYXRoLCBzdHlsZSkge1xyXG4gICAgICAgICAgICB2YXIgc3Ryb2tlQ29sb3IgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlQ2FwID0gc3R5bGUuZ2V0KCdjYXAnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5saW5lQ2FwID0gc3Ryb2tlQ2FwO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeDEgPSBwYXRoW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkxID0gcGF0aFtpXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICB4MiA9IHBhdGhbaV1bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgeTIgPSBwYXRoW2ldWzNdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHgyICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2VXaWR0aFtpXSA8IC4xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeDIsIHkyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeDEsIHkxKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3JbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VXaWR0aFtpXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0cm9rZVN0eWxlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh4MiwgeTIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd0JlemllclBhdGggPSBmdW5jdGlvbiAoY29udGV4dCwgcGF0aCwgc3R5bGUpIHtcclxuICAgICAgICAgICAgdmFyIHN0cm9rZUNvbG9yID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGggPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZSA9IHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZUNhcCA9IHN0eWxlLmdldCgnY2FwJyk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQubGluZUNhcCA9IHN0cm9rZUNhcDtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHgxID0gcGF0aFtpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICB5MSA9IHBhdGhbaV1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgeDIgPSBwYXRoW2ldWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkyID0gcGF0aFtpXVszXSxcclxuICAgICAgICAgICAgICAgICAgICBheDEgPSBwYXRoW2ldWzRdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF5MSA9IHBhdGhbaV1bNV0sXHJcbiAgICAgICAgICAgICAgICAgICAgYXgyID0gcGF0aFtpXVs2XSxcclxuICAgICAgICAgICAgICAgICAgICBheTIgPSBwYXRoW2ldWzddO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHgyICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBheDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mICBheDIgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIGF5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgIGF5MiAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdJbnZhbGlkIGN1cnZlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2VXaWR0aFtpXSA8IC4xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeDIsIHkyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeDEsIHkxKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3JbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VXaWR0aFtpXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0cm9rZVN0eWxlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oYXgxLCBheTEsIGF4MiwgYXkyLCB4MiwgeTIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd1JlY3RGaWxsID0gZnVuY3Rpb24gKGNvbnRleHQsIHN0eWxlLCB4LCB5LCB3LCBoKSB7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBmaWxsID0gc3R5bGUuZ2V0KCdmaWxsJyk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGw7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnJlY3QoeCwgeSwgdywgaCk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG5cclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3UmVjdFN0cm9rZSA9IGZ1bmN0aW9uIChjb250ZXh0LCBzdHlsZSwgeCwgeSwgdywgaCkge1xyXG4gICAgICAgICAgICB2YXIgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBzdHJva2VDb2xvciA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgX3ggPSAwLCBfeSA9IDA7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvcltpXTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlV2lkdGggPSBzdHJva2VXaWR0aFtpXTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbaV0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF94ID0geCArIHc7XHJcbiAgICAgICAgICAgICAgICAgICAgX3kgPSB5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBfeCA9IHggKyB3O1xyXG4gICAgICAgICAgICAgICAgICAgIF95ID0geSArIGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIF94ID0geDtcclxuICAgICAgICAgICAgICAgICAgICBfeSA9IHkgKyBoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICBfeCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgX3kgPSB5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2VXaWR0aFtpXSA8IC4xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oX3gsIF95KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKF94LCBfeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLmhlbHBlci5zeXN0ZW0oXHJcbiAgICBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBFYXNpbmcoRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBlYXNpbmdzID0ge1xyXG4gICAgICAgICAgICAgICAgJ18nOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbGluZWFyOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHQgLz0gZDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYiArIGMgKiAodCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbGluZWFyU29mdDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHMgPSAodCAvPSBkKSAqIHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRjID0gdHMgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiICsgYyAqICg0ICogdGMgKiB0cyArIC0xMCAqIHRzICogdHMgKyA4ICogdGMgKyAtMiAqIHRzICsgdCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbGluZWFyU29mdE91dDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHMgPSAodCAvPSBkKSAqIHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRjID0gdHMgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiICsgYyAqICgtMyAqIHRjICogdHMgKyAxMSAqIHRzICogdHMgKyAtMTQgKiB0YyArIDYgKiB0cyArIHQpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGxpbmVhclNvZnRJbjogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHMgPSAodCAvPSBkKSAqIHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRjID0gdHMgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiICsgYyAqICgtMSAqIHRjICogdHMgKyAyICogdGMpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJblF1YWQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGMgKiAodCAvPSBkKSAqIHQgKyBiO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlT3V0UXVhZDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLWMgKiAodCAvPSBkKSAqICh0IC0gMikgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJbk91dFF1YWQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIHQgKiB0ICsgYjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLWMgLyAyICogKCgtLXQpICogKHQgLSAyKSAtIDEpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5DdWJpYzogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VPdXRDdWJpYzogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCArIDEpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5PdXRDdWJpYzogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICsgYjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCArIDIpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5RdWFydDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlT3V0UXVhcnQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1jICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAtIDEpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5PdXRRdWFydDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCArIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1jIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAtIDIpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5RdWludDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICogdCArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZU91dFF1aW50OiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAqIHQgKyAxKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluT3V0UXVpbnQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKiB0ICsgYjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgKiB0ICsgMikgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJblNpbmU6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1jICogTWF0aC5jb3ModCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGMgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VPdXRTaW5lOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogTWF0aC5zaW4odCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluT3V0U2luZTogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLWMgLyAyICogKE1hdGguY29zKE1hdGguUEkgKiB0IC8gZCkgLSAxKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluRXhwbzogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHQgPT09IDApID8gYiA6IGMgKiBNYXRoLnBvdygyLCAxMCAqICh0IC8gZCAtIDEpKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZU91dEV4cG86IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh0ID09PSBkKSA/IGIgKyBjIDogYyAqICgtTWF0aC5wb3coMiwgLTEwICogdCAvIGQpICsgMSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJbk91dEV4cG86IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgPT09IDApIHJldHVybiBiO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ID09PSBkKSByZXR1cm4gYiArIGM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjIC8gMiAqICgtTWF0aC5wb3coMiwgLTEwICogLS10KSArIDIpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5DaXJjOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtYyAqIChNYXRoLnNxcnQoMSAtICh0IC89IGQpICogdCkgLSAxKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZU91dENpcmM6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiBNYXRoLnNxcnQoMSAtICh0ID0gdCAvIGQgLSAxKSAqIHQpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5PdXRDaXJjOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gLWMgLyAyICogKE1hdGguc3FydCgxIC0gdCAqIHQpIC0gMSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjIC8gMiAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluQmFjazogZnVuY3Rpb24gKHQsIGIsIGMsIGQsIHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHMgPSAodCAvPSBkKSAqIHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRjID0gdHMgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiICsgYyAqICgxNS4yNiAqIHRjICogdHMgKyAtNDMuNTYgKiB0cyAqIHRzICsgMzkuOCAqIHRjICsgLTEwLjYgKiB0cyArIDAuMSAqIHQpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VPdXRCYWNrOiBmdW5jdGlvbiAodCwgYiwgYywgZCwgcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cyA9ICh0IC89IGQpICogdDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGMgPSB0cyAqIHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGIgKyBjICogKDExLjI0ICogdGMgKiB0cyArIC0yMy45NiAqIHRzICogdHMgKyAxMi4yNCAqIHRjICsgMS40NCAqIHRzICsgMC4wNCAqIHQpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJbk91dEJhY2s6IGZ1bmN0aW9uICh0LCBiLCBjLCBkLCBzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRzID0gKHQgLz0gZCkgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YyA9IHRzICogdDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYiArIGMgKiAoMjIuOTIgKiB0YyAqIHRzICsgLTU3Ljc4ICogdHMgKiB0cyArIDQ1ICogdGMgKyAtOS4yOCAqIHRzICsgMC4xNCAqIHQpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VPdXRCb3VuY2U6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0IC89IGQpIDwgKDEgLyAyLjc1KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiB0ICogdCkgKyBiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodCA8ICgyIC8gMi43NSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDEuNSAvIDIuNzUpKSAqIHQgKyAuNzUpICsgYjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHQgPCAoMi41IC8gMi43NSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDIuMjUgLyAyLjc1KSkgKiB0ICsgLjkzNzUpICsgYjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAoMi42MjUgLyAyLjc1KSkgKiB0ICsgLjk4NDM3NSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlYXNpbmdzW25hbWVdKSByZXR1cm4gZWFzaW5nc1tuYW1lXTtcclxuICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ0Vhc2luZ3MgLyBVbmFibGUgdG8gZ2V0IHVuZGVmaW5lZCBlYXNpbmcgW3tuYW1lfV0uIExpbmVhciBlYXNpbmcgZnVuY3Rpb24gcHJvdmlkZWQuJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWFzaW5nc1snbGluZWFyJ107XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzYvMjAxNy5cclxuICovXHJcbiRSLmhlbHBlci5zeXN0ZW0oXHJcbiAgICBmdW5jdGlvbiBNYXRyaXgoKSB7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG11bHRpcGx5KG0xLCBtMikge1xyXG4gICAgICAgICAgICB2YXIgYTEgPSBtMVswXSAqIG0yWzBdICsgbTFbMl0gKiBtMlsxXSxcclxuICAgICAgICAgICAgICAgIGEyID0gbTFbMV0gKiBtMlswXSArIG0xWzNdICogbTJbMV0sXHJcbiAgICAgICAgICAgICAgICBhMyA9IG0xWzBdICogbTJbMl0gKyBtMVsyXSAqIG0yWzNdLFxyXG4gICAgICAgICAgICAgICAgYTQgPSBtMVsxXSAqIG0yWzJdICsgbTFbM10gKiBtMlszXSxcclxuICAgICAgICAgICAgICAgIGE1ID0gbTFbMF0gKiBtMls0XSArIG0xWzJdICogbTJbNV0gKyBtMVs0XSxcclxuICAgICAgICAgICAgICAgIGE2ID0gbTFbMV0gKiBtMls0XSArIG0xWzNdICogbTJbNV0gKyBtMVs1XTtcclxuICAgICAgICAgICAgbTFbMF0gPSBhMTtcclxuICAgICAgICAgICAgbTFbMV0gPSBhMjtcclxuICAgICAgICAgICAgbTFbMl0gPSBhMztcclxuICAgICAgICAgICAgbTFbM10gPSBhNDtcclxuICAgICAgICAgICAgbTFbNF0gPSBhNTtcclxuICAgICAgICAgICAgbTFbNV0gPSBhNjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFwcGx5TWF0cml4VG9Qb2ludChtYXRyaXgsIHBvaW50KSB7XHJcbiAgICAgICAgICAgIHZhciB4ID0gcG9pbnRbMF0gKiBtYXRyaXhbMF0gKyBwb2ludFsxXSAqIG1hdHJpeFsyXSArIG1hdHJpeFs0XSxcclxuICAgICAgICAgICAgICAgIHkgPSBwb2ludFswXSAqIG1hdHJpeFsxXSArIHBvaW50WzFdICogbWF0cml4WzNdICsgbWF0cml4WzVdO1xyXG5cclxuICAgICAgICAgICAgcG9pbnRbMF0gPSB4O1xyXG4gICAgICAgICAgICBwb2ludFsxXSA9IHk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBHcmFwaGljc1RyYW5zZm9ybU1hdHJpeChvYmplY3QpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gWzEsIDAsIDAsIDEsIDAsIDBdLFxyXG4gICAgICAgICAgICAgICAgaW52ZXJzaW9uID0gWzEsIDAsIDAsIDEsIDAsIDBdLFxyXG4gICAgICAgICAgICAgICAgZ2xvYmFsSW52ZXJzaW9uID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGdsb2JhbFZhbHVlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGhpc3RvcnkgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW52ZXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGhpc3RvcnkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeVtpXS5yb3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpbkEgPSBNYXRoLnNpbigtaGlzdG9yeVtpXS5yb3RhdGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29zQSA9IE1hdGguY29zKC1oaXN0b3J5W2ldLnJvdGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBseShpbnZlcnNpb24sIFtjb3NBLCBzaW5BLCAtc2luQSwgY29zQSwgMCwgMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeVtpXS50cmFuc2xhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbHkoaW52ZXJzaW9uLCBbMSwgMCwgMCwgMSwgLWhpc3RvcnlbaV0udHJhbnNsYXRlWzBdLCAtaGlzdG9yeVtpXS50cmFuc2xhdGVbMV1dKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhpc3RvcnlbaV0uc2tldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBseShpbnZlcnNpb24sIFsxLCBNYXRoLnRhbigtaGlzdG9yeVtpXS5za2V3WzFdKSwgTWF0aC50YW4oLWhpc3RvcnlbaV0uc2tld1swXSksIDEsIDAsIDBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhpc3RvcnlbaV0uc2NhbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbHkoaW52ZXJzaW9uLCBbMSAvIGhpc3RvcnlbaV0uc2NhbGVbMF0sIDAsIDAsIDEgLyBoaXN0b3J5W2ldLnNjYWxlWzFdLCAwLCAwXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLnJvdGF0ZSA9IGZ1bmN0aW9uIChhbmdsZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNpbkEgPSBNYXRoLnNpbihhbmdsZSksXHJcbiAgICAgICAgICAgICAgICAgICAgY29zQSA9IE1hdGguY29zKGFuZ2xlKSxcclxuICAgICAgICAgICAgICAgICAgICBtID0gW2Nvc0EsIHNpbkEsIC1zaW5BLCBjb3NBLCAwLCAwXTtcclxuXHJcbiAgICAgICAgICAgICAgICBtdWx0aXBseSh2YWx1ZSwgbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoKHsncm90YXRlJzogYW5nbGV9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlID0gZnVuY3Rpb24gKHgsIHkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtID0gWzEsIDAsIDAsIDEsIHgsIHldO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh4ICE9PSAwIHx8IHkgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBtdWx0aXBseSh2YWx1ZSwgbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoKHsndHJhbnNsYXRlJzogW3gsIHldfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjYWxlID0gZnVuY3Rpb24gKHgsIHkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4ICE9PSAxIHx8IHkgIT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IFt4LCAwLCAwLCB5LCAwLCAwXTtcclxuICAgICAgICAgICAgICAgICAgICBtdWx0aXBseSh2YWx1ZSwgbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoKHsnc2NhbGUnOiBbeCwgeV19KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2tldyA9IGZ1bmN0aW9uICh4LCB5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeCAhPT0gMCB8fCB5ICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhbkEgPSBNYXRoLnRhbih4KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFuQiA9IE1hdGgudGFuKHkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtID0gWzEsIHRhbkIsIHRhbkEsIDEsIDAsIDBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBtdWx0aXBseSh2YWx1ZSwgbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoKHsnc2tldyc6IFt4LCB5XX0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5leHRyYWN0R2xvYmFsSW52ZXJzaW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYoZ2xvYmFsSW52ZXJzaW9uKSByZXR1cm4gZ2xvYmFsSW52ZXJzaW9uO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBvYmplY3QucGFyZW50KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFnbG9iYWxJbnZlcnNpb24pIGdsb2JhbEludmVyc2lvbiA9IFtpbnZlcnNpb25bMF0sIGludmVyc2lvblsxXSwgaW52ZXJzaW9uWzJdLCBpbnZlcnNpb25bM10sIGludmVyc2lvbls0XSwgaW52ZXJzaW9uWzVdXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlwbHkoZ2xvYmFsSW52ZXJzaW9uLCBwYXJlbnQubWF0cml4KCkuZXh0cmFjdEdsb2JhbEludmVyc2lvbigpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAgZ2xvYmFsSW52ZXJzaW9uO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5nbG9iYWxDdXJzb3JQcm9qZWN0aW9uID0gZnVuY3Rpb24gKHBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4dHJhY3RHbG9iYWxJbnZlcnNpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICBhcHBseU1hdHJpeFRvUG9pbnQoZ2xvYmFsSW52ZXJzaW9uLCBwb2ludCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jdXJzb3JQcm9qZWN0aW9uID0gZnVuY3Rpb24gKHBvaW50KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgYXBwbHlNYXRyaXhUb1BvaW50KGludmVyc2lvbiwgcG9pbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBwb2ludDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHJhY2tMb2NhbFBvaW50ID0gZnVuY3Rpb24gKHBvaW50LCBleGNsdWRlX3NlbGYpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBvYmplY3QucGFyZW50KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Lm1hdHJpeCgpLnRyYWNrTG9jYWxQb2ludChwb2ludCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZighZXhjbHVkZV9zZWxmKSBhcHBseU1hdHJpeFRvUG9pbnQodmFsdWUsIHBvaW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9pbnQ7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5leHRyYWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmV4dHJhY3RJbnZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW52ZXJzaW9uO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5vYmplY3RNYXRyaXggPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgbWF0cml4ID0gbmV3IEdyYXBoaWNzVHJhbnNmb3JtTWF0cml4KG9iamVjdCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBvYmplY3QuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgYm94Q29udGFpbmVyID0gb2JqZWN0LmV4dGVuc2lvbignQm94JykuYm94KCksXHJcbiAgICAgICAgICAgICAgICBzcHJpdGUgPSBib3hDb250YWluZXIuc3ByaXRlKCksXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgIG9yaWdpbiA9IHN0eWxlLmdldCgnb3JpZ2luJyksXHJcbiAgICAgICAgICAgICAgICBza2V3ID0gc3R5bGUuZ2V0KCdza2V3JyksXHJcbiAgICAgICAgICAgICAgICByb3RhdGUgPSBzdHlsZS5nZXQoJ3JvdGF0ZScpLFxyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBzdHlsZS5nZXQoJ3NjYWxlJyksXHJcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGUgPSBzdHlsZS5nZXQoJ3RyYW5zbGF0ZScpLFxyXG5cclxuICAgICAgICAgICAgICAgIF90cmFuc2xhdGUgPSBvYmplY3QudHlwZSgnR3JvdXAnKSA/IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25bMF0gKyB0cmFuc2xhdGVbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uWzFdICsgdHJhbnNsYXRlWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgXSA6XHJcbiAgICAgICAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUucG9zaXRpb25bMF0gKyB0cmFuc2xhdGVbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5wb3NpdGlvblsxXSArIHRyYW5zbGF0ZVsxXVxyXG4gICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBfb3JpZ2luID0gW1xyXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpblswXSAqIHNwcml0ZS5zaXplWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpblsxXSAqIHNwcml0ZS5zaXplWzFdXHJcbiAgICAgICAgICAgICAgICBdO1xyXG5cclxuXHJcbiAgICAgICAgICAgIG1hdHJpeC50cmFuc2xhdGUoX29yaWdpblswXSwgX29yaWdpblsxXSk7XHJcbiAgICAgICAgICAgIGlmIChfdHJhbnNsYXRlWzBdICE9PSAwIHx8IF90cmFuc2xhdGVbMV0gIT09IDApIG1hdHJpeC50cmFuc2xhdGUoX3RyYW5zbGF0ZVswXSwgX3RyYW5zbGF0ZVsxXSk7XHJcbiAgICAgICAgICAgIGlmIChyb3RhdGUgIT09IDApIG1hdHJpeC5yb3RhdGUocm90YXRlKTtcclxuICAgICAgICAgICAgaWYgKHNrZXdbMF0gIT09IDAgfHwgc2tld1sxXSAhPT0gMCkgbWF0cml4LnNrZXcoc2tld1swXSwgc2tld1sxXSk7XHJcbiAgICAgICAgICAgIGlmIChzY2FsZVswXSAhPT0gMSB8fCBzY2FsZVsxXSAhPT0gMSkgbWF0cml4LnNjYWxlKHNjYWxlWzBdLCBzY2FsZVsxXSk7XHJcbiAgICAgICAgICAgIG1hdHJpeC50cmFuc2xhdGUoLV9vcmlnaW5bMF0sIC1fb3JpZ2luWzFdKTtcclxuICAgICAgICAgICAgbWF0cml4LmludmVydCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gbWF0cml4O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgfSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI5LzIwMTYuXHJcbiAqL1xyXG4kUi5oZWxwZXIuc3lzdGVtKFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gTW9kZWwoRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2xvbmVIYXNoID0gZnVuY3Rpb24gKGhhc2gpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaGFzaCAhPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdIYXNoIGlzIG5vdCBhbiBvYmplY3QhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaGFzaCkpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jbG9uZUFycmF5ID0gZnVuY3Rpb24gKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFycmF5ICE9PSBcIm9iamVjdFwiIHx8IGFycmF5LmNvbnN0cnVjdG9yICE9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdhcnJheSBpcyBub3QgYW4gYXJyYXkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcnJheVtpXSA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcnJheVtpXS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuY2xvbmVBcnJheShhcnJheVtpXSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmNsb25lSGFzaChhcnJheVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhcnJheVtpXSA9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHQgPSBhcnJheVtpXS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChldmFsKHRleHQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignWW91XFwndmUganVzdCBjbG9uZWQgYSBmdW5jdGlvbi4gSXQgbWF5IGJlIHNsb3cnLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGFycmF5W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudmFsaWROdW1lcmljQXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJyYXkgIT09IFwib2JqZWN0XCIgfHwgYXJyYXkuY29uc3RydWN0b3IgIT09IEFycmF5KSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJyYXlbaV0gIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIGJsZW5kaW5ncyA9IFsnc291cmNlLW92ZXInLCAnc291cmNlLWluJywgJ3NvdXJjZS1vdXQnLCAnc291cmNlLWF0b3AnLCAnZGVzdGluYXRpb24tb3ZlcicsXHJcbiAgICAgICAgICAgICAgICAnZGVzdGluYXRpb24taW4nLCAnZGVzdGluYXRpb24tb3V0JywgJ2Rlc3RpbmF0aW9uLWF0b3AnLCAnbGlnaHRlcicsICdjb3B5JywgJ3hvcicsICdtdWx0aXBseScsXHJcbiAgICAgICAgICAgICAgICAnc2NyZWVuJywgJ292ZXJsYXknLCAnZGFya2VuJywgJ2xpZ2h0ZW4nLCAnY29sb3ItZG9kZ2UnLCAnY29sb3ItYnVybicsICdoYXJkLWxpZ2h0JyxcclxuICAgICAgICAgICAgICAgICdzb2Z0LWxpZ2h0JywgJ2RpZmZlcmVuY2UnLCAnZXhjbHVzaW9uJywgJ2h1ZScsICdzYXR1cmF0aW9uJywgJ2NvbG9yJywgJ2x1bWlub3NpdHknXHJcbiAgICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnZhbGlkQmxlbmRpbmcgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJsZW5kaW5ncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChibGVuZGluZ3NbaV0gPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHNwcml0ZV9yZWdleHAgPSAvXihbLi9cXC1fXFxkMC05YS16QS1aXSspKFxcWyhcXGQrKVxcXSkkLztcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaXNTcHJpdGVTdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3ByaXRlX3JlZ2V4cC50ZXN0KHN0cik7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlYWRTcHJpdGVTdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gc3RyLm1hdGNoKHNwcml0ZV9yZWdleHApO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiByZXN1bHRbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVzOiBwYXJzZUludChyZXN1bHRbM10pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMi8zLzIwMTcuXHJcbiAqL1xyXG4kUi5oZWxwZXIuc3lzdGVtKFxyXG4gICAgZnVuY3Rpb24gTW91c2UoKSB7XHJcbiAgICAgICAgdGhpcy5jaXJjbGVVc2VyQ2hlY2tGdW5jdGlvbiA9IGZ1bmN0aW9uIChjdXJzb3IpIHtcclxuICAgICAgICAgICAgdmFyIGNvb3JkcyA9IHRoaXMubWF0cml4KCkuZ2xvYmFsQ3Vyc29yUHJvamVjdGlvbihbY3Vyc29yWzBdLCBjdXJzb3JbMV1dKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb29yZHMgPCBbMF0gfHwgY29vcmRzWzFdIDwgMCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdmFyIHNwcml0ZSA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKS5ib3goKS5zcHJpdGUoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb29yZHNbMF0gPiBzcHJpdGUuc2l6ZVswXSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvb3Jkc1sxXSA+IHNwcml0ZS5zaXplWzFdKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmFkaXVzID0gc3ByaXRlLnNpemVbMF0gLyAyLFxyXG4gICAgICAgICAgICAgICAgY3ggPSByYWRpdXMsXHJcbiAgICAgICAgICAgICAgICBjeSA9IHNwcml0ZS5zaXplWzFdIC8gMjtcclxuXHJcbiAgICAgICAgICAgIGlmIChNYXRoLnBvdyhjb29yZHNbMF0gLSBjeCwgMikgKyBNYXRoLnBvdyhjb29yZHNbMV0gLSBjeSwgMikgPD0gTWF0aC5wb3cocmFkaXVzLCAyKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnNxdWFyZVVzZXJDaGVja0Z1bmN0aW9uID0gZnVuY3Rpb24gKGN1cnNvcikge1xyXG4gICAgICAgICAgICB2YXIgY29vcmRzID0gdGhpcy5tYXRyaXgoKS5nbG9iYWxDdXJzb3JQcm9qZWN0aW9uKFtjdXJzb3JbMF0sIGN1cnNvclsxXV0pLFxyXG4gICAgICAgICAgICAgICAgc3ByaXRlID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLnNwcml0ZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvb3Jkc1swXSA+IDAgJiYgY29vcmRzWzBdIDwgc3ByaXRlLnNpemVbMF0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb29yZHNbMV0gPiAwICYmIGNvb3Jkc1sxXSA8IHNwcml0ZS5zaXplWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jaXJjbGVDaGVja0Z1bmN0aW9uID0gZnVuY3Rpb24gKGN1cnNvcikge1xyXG4gICAgICAgICAgICB2YXIgY29vcmRzID0gdGhpcy5tYXRyaXgoKS5nbG9iYWxDdXJzb3JQcm9qZWN0aW9uKFtjdXJzb3JbMF0sIGN1cnNvclsxXV0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvb3JkcyA8IFswXSB8fCBjb29yZHNbMV0gPCAwKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLnNwcml0ZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvb3Jkc1swXSA+IHNwcml0ZS5zaXplWzBdKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29vcmRzWzFdID4gc3ByaXRlLnNpemVbMV0pIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjZW50ZXIgPSBzcHJpdGUuc2l6ZVswXSAvIDIsXHJcbiAgICAgICAgICAgICAgICByYWRpdXMgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKS5nZXQoJ3JhZGl1cycpO1xyXG5cclxuICAgICAgICAgICAgaWYgKE1hdGgucG93KChjb29yZHNbMF0gLSBjZW50ZXIpLCAyKSArIE1hdGgucG93KChjb29yZHNbMV0gLSBjZW50ZXIpLCAyKSA8IE1hdGgucG93KHJhZGl1cywgMikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWN0Q2hlY2tGdW5jdGlvbiA9IGZ1bmN0aW9uIChjdXJzb3IpIHtcclxuICAgICAgICAgICAgdmFyIGNvb3JkcyA9IHRoaXMubWF0cml4KCkuZ2xvYmFsQ3Vyc29yUHJvamVjdGlvbihbY3Vyc29yWzBdLCBjdXJzb3JbMV1dKSxcclxuICAgICAgICAgICAgICAgIHNwcml0ZSA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKS5ib3goKS5zcHJpdGUoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb29yZHNbMF0gPiAwICYmIGNvb3Jkc1swXSA8IHNwcml0ZS5zaXplWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29vcmRzWzFdID4gMCAmJiBjb29yZHNbMV0gPCBzcHJpdGUuc2l6ZVsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI5LzIwMTYuXHJcbiAqL1xyXG4kUi5oZWxwZXIuc3lzdGVtKFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gUGF0aChEZWJ1Zykge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRDb250cm9sUG9pbnRzKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkMDEgPSBNYXRoLnNxcnQoTWF0aC5wb3coeDEgLSB4MCwgMikgKyBNYXRoLnBvdyh5MSAtIHkwLCAyKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZDEyID0gTWF0aC5zcXJ0KE1hdGgucG93KHgyIC0geDEsIDIpICsgTWF0aC5wb3coeTIgLSB5MSwgMikpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZhID0gdCAqIGQwMSAvIChkMDEgKyBkMTIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZiID0gdCAqIGQxMiAvIChkMDEgKyBkMTIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHAxeCA9IHgxIC0gZmEgKiAoeDIgLSB4MCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcDF5ID0geTEgLSBmYSAqICh5MiAtIHkwKTtcclxuICAgICAgICAgICAgICAgIHZhciBwMnggPSB4MSArIGZiICogKHgyIC0geDApO1xyXG4gICAgICAgICAgICAgICAgdmFyIHAyeSA9IHkxICsgZmIgKiAoeTIgLSB5MCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW3AxeCwgcDF5LCBwMngsIHAyeV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29udmVydENvbXBsZXhQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbaV1bMV1cclxuICAgICAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb252ZXJ0U2ltcGxlUGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoIDwgMikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdQYXRoIHNob3VsZCBjb25zaXN0IG9mIGF0IGxlYXN0IHR3byBwb2ludHMhJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IHBhdGhbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBwYXRoW2ldWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHggIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mICB5ICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdJbmNvcnJlY3QgUGF0aCEnLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpIDwgcGF0aC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0W2ldKSByZXN1bHQucHVzaChbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpXS5wdXNoKHgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaV0ucHVzaCh5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpIC0gMV0ucHVzaCh4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2kgLSAxXS5wdXNoKHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaSAtIDFdLnB1c2gocmVzdWx0W2kgLSAxXVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpIC0gMV0ucHVzaChyZXN1bHRbaSAtIDFdWzFdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpIC0gMV0ucHVzaCh4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2kgLSAxXS5wdXNoKHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uIChwYXRoLCBzbW9vdGhpbmcsIGNsb3NlZCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJldiA9IFtdLCBtaWQgPSBbcGF0aFtpXVswXSwgcGF0aFtpXVsxXV0sIG5leHQgPSBbcGF0aFtpXVsyXSwgcGF0aFtpXVszXV0sIHB0cyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXYgPSBtaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2ID0gW3BhdGhbaSAtIDFdWzBdLCBwYXRoW2kgLSAxXVsxXV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcHRzID0gZ2V0Q29udHJvbFBvaW50cyhwcmV2WzBdLCBwcmV2WzFdLCBtaWRbMF0sIG1pZFsxXSwgbmV4dFswXSwgbmV4dFsxXSwgc21vb3RoaW5nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtpXVs0XSA9IHB0c1syXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtpXVs1XSA9IHB0c1szXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbaSAtIDFdWzZdID0gcHRzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoW2kgLSAxXVs3XSA9IHB0c1sxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtpXVs0XSA9IHB0c1syXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtpXVs1XSA9IHB0c1szXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBwYXRoLmxlbmd0aCAtIDEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXYgPSBbcGF0aFtpXVswXSwgcGF0aFtpXVsxXV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pZCA9IFtwYXRoW2ldWzJdLCBwYXRoW2ldWzNdXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCA9IG1pZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHB0cyA9IGdldENvbnRyb2xQb2ludHMocHJldlswXSwgcHJldlsxXSwgbWlkWzBdLCBtaWRbMV0sIG5leHRbMF0sIG5leHRbMV0sIHNtb290aGluZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoW2ldWzZdID0gcHRzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoW2ldWzddID0gcHRzWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgczEgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMiA9IHBhdGhbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3NlZ21lbnQgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbczFbMF0sIHMxWzFdLCBzMVsyXSwgczFbM10sIHMxWzRdLCBzMVs1XSwgczFbNl0sIHMxWzddXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzMlswXSwgczJbMV0sIHMyWzJdLCBzMlszXSwgczJbNF0sIHMyWzVdLCBzMls2XSwgczJbN11dXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJwb2xhdGUoX3NlZ21lbnQsIHNtb290aGluZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoWzBdWzRdID0gX3NlZ21lbnRbMV1bNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbMF1bNV0gPSBfc2VnbWVudFsxXVs1XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtwYXRoLmxlbmd0aCAtIDFdWzZdID0gX3NlZ21lbnRbMF1bNl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbcGF0aC5sZW5ndGggLSAxXVs3XSA9IF9zZWdtZW50WzBdWzddO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNoZWNrU2ltcGxlUGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhdGggIT09IFwib2JqZWN0XCIgfHwgcGF0aC5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBwYXRoW2ldICE9PSBcIm9iamVjdFwiIHx8IHBhdGhbaV0uY29uc3RydWN0b3IgIT09IEFycmF5IHx8IHBhdGhbaV0ubGVuZ3RoICE9PSAyIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBwYXRoW2ldWzBdICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiAgcGF0aFtpXVsxXSAhPT0gXCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbXBhcmVQYXRocyA9IGZ1bmN0aW9uIChwYXRoMSwgcGF0aDIpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwYXRoMS5sZW5ndGggIT09IHBhdGgyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgxLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBwYXRoMVtpXS5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0aDFbaV1bbl0gIT09IHBhdGgyW2ldW25dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
