function Reflect(){}function Core(e){new Injection(e);for(var t=!0,n=0;n<expect.length;n++)if(!modules[expect[n]]){t=!1;break}return t&&BuildCore(),Core}function getRouteFunction(e){return function routeFunction(){var t=e.apply(Reflect,arguments);return void 0!==t?Reflect:t}.bind(core)}function BuildCore(){Core.get("Root");for(var e in properties)properties.hasOwnProperty(e)&&(core[e]=properties[e])}function Injection(e){if("function"!=typeof e||!e.name)throw new Error("Unable to createinjection. Constructor is not a named function!");modules[e.name]=this;var t=null;this.create=function(t){var n=[null];if(t&&"object"==typeof t&&t.constructor===Array)for(var r=0;r<t.length;r++)n.push(t[r]);return new(Function.prototype.bind.apply(e,n))},this.get=function(){if(t)return t;var e=this.create.apply(this,arguments[0]);return t=e,e},this.is=function(t){return t.constructor===e},this.extend=function(t,n){return"object"==typeof n&&n.constructor===Array?(e.apply(t,n),t):(e.call(t),t)}}var modules={},properties={},core=new Reflect,expect=["Application","Audio","Canvas","Classes","Config","Container","Fonts","Helpers","Injection","Root","Services","Source","Ticker"];Core.get=function(e,t){if("string"==typeof e){if(modules[e])return modules[e].get.apply(modules[e],t);throw new Error("Module ["+e+"] was not found")}throw new Error("Module name is not a string. Wrong arguments")},Core.is=function(e,t){if("string"==typeof t&&modules[t])return modules[t].is(e)},Core.inject=function(e,t){if("string"==typeof e){if(modules[e])return modules[e].create(t);throw new Error("Nodule ["+e+"] was not found.")}throw new Error("Module name is not a string. Wrong Arguments")},Core.extend=function(e,t,n){if("string"==typeof modules[e]){if("object"==typeof t)return modules[e].extend(t,n);throw new Error("Unable to extend target of tyoe ["+typeof t+"] bu module constructor ["+e+"].")}},Core.define=function(e,t){if(core||(core=new Reflect),"string"==typeof e){if(void 0!==properties[e])throw new Error("Unable to define property ["+e+"]. Already defined!");return"function"==typeof e?properties[e]=getRouteFunction(t):null===e&&"undefined"==typeof e&&"object"==typeof e||(properties[e]=t),core}},window.$R=core,Core(function Application(e,t,n){var r=this;n.define("fps",58.8,{isNumber:!0,greater:0,under:61}).watch(function(e){t.fps(e)}),n.define("canvas",null,{isString:!0}).watch(function(t){e.element(t)}),this.$=function(e,t){if("string"!=typeof e)throw new Error("Unable to set API method. Name is not a string.");if("$"===e.charAt(0))throw new Error("Unable to set API function. Function name starts with $");if(this[e])throw new Error("Application API property ["+e+"] duplication!");if("function"!=typeof t)throw new Error("Application API property ["+e+"] value is not a function");this[e]=function(){var e=t.apply(this,arguments);return void 0!==e?e:r}},this.stop=function(){return t.stop(),this},this.start=function(){return t.start(),this},this.config=function(e,t){if("string"==typeof e)if("undefined"!=typeof t&&"function"!=typeof t)n.set(e,t);else{if("function"!=typeof t)return n.get(e);n.watch(e,t)}else{if("object"!=typeof e||e.constructor===Array)throw new Error("Unable to config application. Config format is invalid");for(var r in e)e.hasOwnProperty(r)&&n.set(r,e[r])}return this}}),Core(function Audio(){var e=new AudioContext;this.context=function(){return e}}),Core(function Canvas(e){function DrawScene(e,t){if(u){for(var r=[n,e,t],o=0;o<s.length;o++)try{s[o].f.apply(a,r)}catch(i){throw console.error(i),new Error("Error emerged while drawing. \nQueue          : ["+s[o].o+"]\nQueue Ordering : ["+o+"]\nQueue Member   : ["+s[o].f.name+"]\nMessage        : "+i.message)}for(var c in s)for(var o=0;o<s[c].length;o++);}}function resolve(e){for(var t=0;t<e.length;t++)e[t].call(a)}var t=null,n=null,r=[800,600],o=[],i=[],a=this,s=[],u=!1;e.queue(0,DrawScene),this.element=function(e){if("string"==typeof e){var o=document.getElementById(e);if(!o||!o.getContext)throw new Error("Element with id [#"+e+"] was not found or not a canvas");var a=o.getContext("2d");if(!a)throw new Error("Element with id [#"+e+"] is not a canvas. Can not get 2d context.");o.setAttribute("width",r[0]),o.setAttribute("height",r[1]),n=a,t=o,u=!0,resolve(i)}else{if(!(e instanceof HTMLElement))return t;if(!e.getContext)throw new Error("Element is not a Canvas");var a=e.getContext("2d");if(!a)throw new Error("Element is not a Canvas. Can not get 2d context.");e.setAttribute("width",r[0]),e.setAttribute("height",r[1]),t=e,n=a,u=!0,resolve(i)}},this.queue=function(e,t){if("function"==typeof e){if(!e.name)throw new Error("Unable to enqueue callback. Provide a named function");s.push({o:0,f:t})}else{if("number"!=typeof e)throw new Error("Unable to enqueue callback. Wrong arguments.");if("function"!=typeof t)throw new Error("Unable to enqueue callback. Provide a named function");if(!t.name)throw new Error("Unable to enqueue callback. Provide a named function.");s.push({o:e,f:t})}return s.sort(function(e,t){return e.o>t.o}),this},this.size=function(e,n){return"number"==typeof e&&"number"==typeof n&&(e<0&&(e=0),n<0&&(n=0),r[0]===e&&r[1]===e||(r[0]=e,r[1]=n,t.setAttribute("width",e),t.setAttribute("height",n),resolve(o))),[r[0],r[1]]},this.resize=function(e){if("function"==typeof e)return o.push(e),this;throw new Error("Unable to set ressize callback. f argument is not a function")},this["switch"]=function(e){if("function"==typeof e)return i.push(e),this;throw new Error("Unable to set switch callback. f argument is not a function")},this.ready=function(){return u}}),Core(function Classes(){function cls(e){try{var r=Core.inject("Injection",[e]);n[r.name()]&&console.warn("Global Class Library class ["+r.name()+"] has been overwritten.");for(var o in t)t.hasOwnProperty(o)&&t[o][r.name()]&&console.warn("Application ["+o+"] Class ["+r.name()+"] overrides global class.");n[r.name()]=r}catch(i){throw new Error("Unable to create class injection.")}}var e={},t={},n={};cls.app=function(e,r){if("string"!=typeof e)throw new Error("Unable to register ApplicationClass injection. App id is not a string.");t[e]||(t[e]={});try{var o=Core.inject("Injection",[r]);n[o.name()]&&console.warn("Application ["+e+"] Class ["+o.name()+"] overrides global class."),t[e][o.name()]=o}catch(i){throw new Error("Unable to create and register ApplicationClass for app ["+e+"].")}},cls.sys=function(t){try{var n=Core.inject("Injection",[t]);e[n.name()]&&console.warn("System Class ["+n.name()+"] override."),e[n.name()]=n}catch(r){throw new Error("Unable to register SystemClass injection")}},this.getApplicationClasses=function(e){if("string"==typeof e){if(t[e]){var r=Core.inject("Container",[n]);return r.source(r,"."),r.merge(t),r}var r=Core.inject("Container",[n]);return r.source(r,"."),r}throw new Error("Unable to get application classes container. App id is not a string.")},this.getSystemClasses=function(){var t=Core.inject("Container",[e]);return t.source(t,"."),t},Core.define("class",cls)}),Core(function Config(){function Property(e,n,r){function checkValue(e){for(var n=!0,r=0;r<o;r++)if(!t[o[r].f](e,o.args)){n=!1;break}return n}var o=[],i=[];this.get=function(){var e=n;if(t.isArray(e)){e=[];for(var r=0;r<n.length;r++)e.push(n[r])}return e},this.name=function(){return e},this.set=function(e){if(checkValue(e))if(t.isArray(e)){n=[];for(var r=0;r<e.length;r++)n.push(e[r])}else n=e;for(var r=0;r<i.length;r++)i[r].call(this,this.get());return this.get()},this.watch=function(e){if("function"!=typeof e)throw new Error("Can not set config property watcher. Argument f is not a function.");return i.push(e),n};for(var a in r)if(r.hasOwnProperty(a)){if(void 0===r[a])throw new Error("Wrong parameter for config property ["+a+"]");if(!t[a])throw new Error("No such config value checker as ["+a+"]");o.push({f:a,args:[r[a]]})}if("object"==typeof n&&null!==n&&!t.isArray(n))throw new Error("Objects are not supported as config property value!");if(!checkValue(n))throw new Error("Initial ["+e+"]'s value does not meet config requirements.")}var e={},t={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isArray:function(e){return"object"==typeof e&&e.constructor===Array},custom:function(e,t){if("function"==typeof t[0])return t[0](e)},under:function(e,n){return t.isNumber(e)&&e<n[0]},greater:function(e,n){return t.isNumber(e)&&e>n[0]},eq:function(e,n){return t.isNumber(e)&&e===n[0]},isBool:function(e){return"boolean"==typeof e}};this.define=function(t,n,r){if("string"!=typeof t)throw new Error("Unable to define config property. Property name is not a string.");if(void 0===n)throw new Error("Config property value can not be undefined.");if(e[t])console.warn("Config property duplication on property name ["+t+"]");else try{e[t]=new Property(t,n,r)}catch(o){throw console.error("Unable to create config property ["+t+"]"),o}return e[t]},this.set=function(t,n){if("string"==typeof t&&e[t])return e[t].set(n);throw new Error("Unable to set property ["+t+"]. No such property.")},this.get=function(t){if("string"==typeof t)return e[t].get();throw new Error("Unable to get property ["+t+"]. No such property.")},this.watch=function(t,n){if("string"==typeof t){if("function"==typeof n){if(e[t])return e[t].watch(n);throw new Error("No such property as ["+t+"] to watch.")}throw new Error("Watcher callback is not a function")}throw new Error("Unable to watch config property. Property name is invalid or undefined")}}),Core(function Container(e,t){var n={},r={},o={};if(this.list=function(){return n},this.injection=function(e){var t=null,r=[];if("function"==typeof e){if(!e.name||!e.name.length)throw new Error("Anonymous function can not be injection constructor.");t=e}else{if("object"!=typeof e||e.constructor!==Array)throw new Error("Unknown type of injection config.");for(var o=0;o<e.length;o++){if("string"!=typeof e[o]||!e[o].length){if("function"==typeof e[o]&&e[o].name){t=e[o];break}throw new Error("Unknown type of injection name or constructor.")}r.push(e[o])}}r.push(t),n[t.name]&&console.warn("Injection ["+t.name+"] duplicated and has been overwritten"),n[t.name]=Core.inject("Injection",[r])},this.merge=function(t,r){if(t)try{for(var o in t)t.hasOwnProperty(o)&&Core.is(t[o],"Injection")&&(n[t[o].name()]&&console.warn("Injection ["+o+"] has been merged.s"),r?n[e[o].name()]=e[o].clone():n[e[o].name()]=e[o])}catch(i){throw new Error("Unable to merge libs.")}},this.source=function(e,t){if(e&&"object"==typeof e)if(Core.is(e,"Container")){if(t||(t=!1),"string"==typeof t&&t.length||t===!1){e.$$LOOP=!0;var n=!1;this.$LOOP&&(n=!0),delete e.$$LOOOP,r[t?t:"$$noprefix"]=Core.inject("Source",[t,e,n])}}else if(e.constructor===Array){for(var o=!0,n=[],i=0;i<e.length;i++)"object"==typeof e[i]&&Core.is(e[i],"Container")?(e[i].$$LOOOP=!0,this.$$LOOOP?n.push(!0):n.push(!1),delete e[i].$$LOOOP):o=!1;if(!o)throw new Error("Source container config is not valid. One of the containers provided is not an InjectionContainer instance");t||(t=!1),("string"==typeof t&&t.length||t===!1)&&(r[t?t:"$$noprefix"]=Core.inject("Source",[t,e,n]))}},this.clone=function(){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t].clone());var o=Core.inject("Container",[e]);for(var i in r){for(var a=r[i].containers(),s=r[i].loop(),u=r[i].prefix(),c=[],l=0;l<a.length;l++)s[l]?c.push(o):c.push(a[l].clone());o.source(c,u)}return o},this.findSourceByPrefix=function(e){return e===!1?r.$$noprefix:"string"==typeof e?r[e]:null},this.findSourceByInjectionName=function(e){var t=null;if(o[e])return o[e];for(var n in r)if(r.hasOwnProperty(n)&&r[n].prefix()&&r[n].has(e)){t=r[n],o[e]=t;break}if(!t&&r.$$noprefix&&r.$$noprefix.has(e)&&(t=r.$$noprefix,o[e]=t),!t)throw new Error("Unable to find source containing injection ["+e+"]. ");return t},this.resolve=function(e,t){if("extend"===t){if(n[e]){for(var r={dependencies:[],$constructor:n[e].$constructor()},o=n[e].dependencies(),i=0;i<o.length;i++)if("@extend"===o[i])r.dependencies.push(n[e].extend(this));else if("@inject"===o[i])r.dependencies.push(n[e].inject(this));else{var a=this.findSourceByInjectionName(o[i]);if(!a)throw new Error("No source found containing ["+o[i]+"] for ["+e+"].");r.dependencies.push(a.resolve(o[i]))}return r}throw new Error("Unable to inject ["+e+"] no such injection found")}if(this.has(e)){for(var o=n[e].dependencies(),s=[],u=0;u<o.length;u++)if("@extend"===o[u])s.push(n[e].extend(this));else if("@inject"===o[u])s.push(n[e].inject(this));else{var c=this.findSourceByInjectionName(o[u]);if(!c)throw new Error("Injection ["+o[u]+"] for ["+e+"] source was not found.");s.push(c.resolve(o[u]))}return n[e].create(s,t)}throw new Error("Injection ["+e+"] was not found in library!")},this.resolveDirectInjection=function(e){var t=this.findSourceByInjectionName(e);return t?t.resolve(e,!0):t},this.has=function(e){return!!n[e]},this.get=function(e){return n[e]?n[e]:null},Core.is(e,"Injection"))n[e.name()]=e.clone();else if("object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&Core.is(e[i],"Injection")&&(t?n[e[i].name()]=e[i]:n[e[i].name()]=e[i].clone());else if(void 0!==e)throw new Error("Unable to create container. Wrong arguments. Lib is Injection or object")}),Core(function Fonts(e,t){function fontString(e,t){for(var n="",r=0;r<e.weight.length;r++)for(var s=0;s<e.style.length;s++){for(var u=t+"/"+e.name+"-"+e.weight[r]+"-"+e.style[s],c='@font-face {font-family: "'+a.format(e.name)+"-"+e.weight[r]+'";src:',l=0;l<o.length;l++)c+=i[o[l]](u,e.name,e.style[s]),c+=l<o.length-1?",":";";c+="font-weight: "+e.weight[r]+";",c+="font-style:"+e.style[s]+";}",e[e.weight[r]+"-"+e.style[s]]=c,n+=e[e.weight[r]+"-"+e.style[s]]}return n}function update(e){var t="";for(var o in r)r.hasOwnProperty(o)&&(t+=fontString(r[o],e));n.innerHTML=t}function inArray(e,t){for(var n=!1,r=0;r<e.length;r++)if(e[r]===t){n=!0;break}return n}var n=document.createElement("style"),r={},o=e.define("fontFormats",["eot","svg","ttf","woff"],{isArray:!0,custom:function(e){for(var t=!0,n=0;n<e.length();n++)if("eot"!==e[n]||"svg"!==e[n]||"ttf"!==e[n]||"woff"!==e[n]){t=!1;break}return t}}).watch(function(e){o=e,update()}),i={eot:function(e){return'url("'+e+'.eot?#iefix") format("embedded-opentype")'},woff:function(e){return'url("'+e+'.woff") format("woff")'},ttf:function(e){return'url("'+e+'.ttf") format("truetype")'},svg:function(e,t,n){return'url("'+e+".svg#"+t+"-"+(n.charAt(0).toUpperCase()+n.slice(1))+'") format("svg")'}},a=this;e.define("fontDir","./fonts",{isString:!0}),document.getElementsByTagName("head")[0].appendChild(n),this.font=function(e,t,n,o){r[t]||(r[t]={name:t}),r[t].weight||(r[t].weight=[]),r[t].style||(r[t].style=[]),inArray(r[t].weight,n)||r[t].weight.push(n),inArray(r[t].style,o)||r[t].style.push(o),update(e)},this.format=function(e){return t+"-"+e},this.formats=function(){for(var e=[],t=0;t<o.length;t++)e.push(o[t]);return e}}),Core(function Helpers(){function helper(t){try{var n=Core.inject("Injection",[t]);e[n.name()]&&console.warn("helper ["+n.name()+"] override."),e[n.name()]=n}catch(r){throw new Error("Unable to create Helper.")}}var e={},t={};Core.define("helper",helper),helper.system=function(n,r){try{var o=Core.inject("Injection",[n]);t[o.name()]&&console.warn("System Helper ["+o.name()+"] Duplicate declaration override."),t[o.name()]=o,r&&(e[o.name()]?console.warn("System Helper ["+o.name()+"] overrides user helper. Skipped system helper."):e[o.name()]=o)}catch(i){}},this.getSystemHelpers=function(e){var n=Core.inject("Container",[t]);return n.source(n,"+"),n.source(e,"@"),n},this.getPublicHelpers=function(t){var n=Core.inject("Container",[e]);return n.source(n,"+"),n.source(t,"@"),n}}),Core(function Injection(e,t){var n=e,r=null,o=[],i=this;if(t){if("object"!=typeof e)throw new Error("Unable to create PreResolvedInjection! con argument is not an object!");n=e.constructor,r=e,o=[]}else{if("function"==typeof e&&e.name)n=e;else if("object"==typeof e&&e.constructor===Array)for(var a=0;a<e.length;a++)if("string"==typeof e[a]&&e[a].length)o.push(e[a]);else if("function"==typeof e[a]&&e[a].name){n=e[a];break}if(!n)throw new Error("Injection constructor undefined!")}this.name=function(){return n.name},this.dependencies=function(){for(var e=[],t=0;t<o.length;t++)e.push(o[t]);return e},this.extend=function(e){if(t)throw new Error("You can not extend with ["+n.name+"]!");return function(t,n){if("object"!=typeof t)throw new Error("Extend target should be an object!");if("string"!=typeof n)throw new Error("Extend class name should be a string!");var r=e.findSourceByInjectionName(n);if(!r)throw new Error("Unable to find injection ["+n+"] for ["+i.name()+"]");var o=r.resolveInjectionDependancies(n);o.$constructor.apply(t,o.dependencies)}},this.inject=function(e){if(t)throw new Error("You can not inject ["+n.name+"] directly");return function(t){return e.resolveDirectInjection(t)}},this.create=function(e,o){return t?r:o?(e.unshift(null),new(Function.prototype.bind.apply(n,e))):(r||(e.unshift(null),r=new(Function.prototype.bind.apply(n,e))),r)},this.$constructor=function(){return n},this.clone=function(){return new Injection(e,t)}}),Core(function Root(){function createApplication(o){var i=Core.inject("Container",[e[o]]),a=Core.inject("Ticker"),s=Core.inject("Canvas",[a]),u=Core.inject("Audio",[]),c=Core.inject("Config",[o]),l=Core.inject("Fonts",[c,o]),f=Core.inject("Application",[s,a,c]),h={};h.Ticker=Core.inject("Injection",[a,!0]),h.Canvas=Core.inject("Injection",[s,!0]),h.API=Core.inject("Injection",[f,!0]),h.Fonts=Core.inject("Injection",[l,!0]),h.Config=Core.inject("Injection",[c,!0]),h.Audio=Core.inject("Injection",[u,!0]);var p=Core.inject("Container",[h]),v=r.getSystemHelpers(p),g=r.getPublicHelpers(p),d=n.getApplicationClasses(o),y=n.getSystemClasses(o),m=t.getApplicationServices(v,y,p);i.source(m,!1),i.source(d,"."),i.source(g,"+"),i.source(p,"@");for(var b=0;b<m.length;b++)for(var w=m[b].list(),C=0;C<w.length;C++)m[b].resolve(w[C]);return i.resolve(o),f}var e={},t=Core.get("Services"),n=Core.get("Classes"),r=Core.get("Helpers");Core.define("app",function(t){try{var n=Core.inject("Injection",[t]);e[n.name()]&&console.warn("Application ["+n.name()+"] override. Remove duplicates"),e[n.name()]=n}catch(r){throw console.error("Unable to register Application constructor."),r}}),Core.define("run",function(t){if("string"==typeof t){if(e[t])return createApplication(t);throw new Error("Application ["+t+"] not found.")}throw new Error("Unable to get app. App Id is not a string")})}),Core(function Services(){function service(t){if("object"==typeof t&&t.constructor===Array){for(var n=null,r=0;r<t.length;r++)if("function"==typeof t[r])n=t[r].name;else if("string"!=typeof t[r])throw new Error("Unable to create service. Invalid config");n&&(e[n]&&console.warn("Duplicate declaration. Service ["+n+"] has been overwritten"),e[n]=Core.inject("Injection",[t]))}else if("function"==typeof t){if(!t.name)throw new Error("Unable to create service. Constructor is not a named function.");e[t.name]&&console.warn("Duplicate declaration. Service ["+n+"] has been overwritten"),e[t.name]=Core.inject("Injection",[t])}}function plugin(e,t){if("string"!=typeof e)throw new Error("Unable to create plugin. Invalid arguments.");if("object"==typeof t&&t.constructor===Array){for(var r=null,o=0;o<t.length;o++)if("function"==typeof t[o])r=t[o].name;else if("string"!=typeof t[o])throw new Error("Unable to create plugin. Invalid constructor arguments");if(!r)throw new Error("Unable to create plugin. Constructor is not a named function");n[e]||(n[e]={}),n[e][r]&&console.warn("Plugin duplicated. ["+r+"] has been overwritten"),n[e][r]=Core.inject("Injection",[t])}}function getPluginManager(e){function Plugins(){for(var t=[],n=0;n<e.length;n++){var r=e[n].list();for(var o in r)r[o].$constructor()!==Plugins&&t.push(o)}this.each=function(e){for(var n=0;n<t.length;n++)e(t[n]);return this},this.list=function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}}return Core.inject("Container",[Core.inject("Injection",[Plugins])])}var e={},t={},n={},r={};plugin["class"]=function(e,t,n){if("string"==typeof e){if("string"!=typeof t)throw new Error("Unable to create plugin. Invalid arguments.");if("object"==typeof n&&n.constructor===Array){for(var o=null,i=0;i<n.length;i++)if("function"==typeof n[i])o=n[i].name;else if("string"!=typeof n[i])throw new Error("Unable to create plugin class. Invalid constructor arguments");if(!o)throw new Error("Unable to create plugin. Constructor is not a named function");r[e]||(r[e]={}),r[e][t]||(r[e][t]={}),r[e][t][o]&&console.warn("Plugin class duplicated. ["+o+"] has been overwritten"),r[e][t][o]=Core.inject("Injection",[n])}else{if("function"!=typeof n)throw new Error("Unable to register plugin class. Invalid arguments");n.name&&(r[e]||(r[e]={}),r[e][t]||(r[e][t]={}),r[e][t][n.name]&&console.warn("Plugin class duplicated. ["+n.name+"] has been overwritten"),r[e][t][n.name]=Core.inject("Injection",[n]))}}},service["class"]=function(e,n){var r=null;if("string"!=typeof e)throw new Error("Unable to create class. Invalid arguments");if("function"==typeof n){if(!n.name)throw new Error("Unable to create class for extension ["+e+"]. Constructor is not a named function");t[e]||(t[e]={}),t[e][n.name]=Core.inject("Injection",[n])}else if("object"==typeof n&&n.constructor===Array){for(var o=0;o<n.length;o++)if("function"==typeof n[o])r=n[o].name;else if("string"!=typeof n[o])throw new Error("Unable to create class for service["+e+"]. Invalid config.");r&&(t[e]||(t[e]={}),t[e][r]&&console.warn("Duplicate declaration. Class ["+r+"] for extension ["+e+"] has been overwritten"),t[e][r]=Core.inject("Injection",[n]))}},Core.define("service",service),Core.define("plugin",plugin),this.getApplicationServices=function(o,i,a){var s,u,c={},l={},f={},h={};for(var p in e)if(e.hasOwnProperty(p)){s=Core.inject("Container",[e[p]]);var v=[];if(n[p])for(var g in n[p])if(n[p].hasOwnProperty(g)){if(u=Core.inject("Container",[n[p][g]]),f[p]||(f[p]={}),f[p][g]=u,r[p][g]){var d=Core.inject("Container",[r[p][g]]);h[p]||(h[p]={}),h[p][g]=d,u.source(d,"$"),d.source(d,"$"),d.source(i,"."),d.source(o,"+")}u.source(i,"."),u.source(o,"+"),v.push(u)}if(v.push(getPluginManager(v)),s.source(v,"<"),s.source(i,"."),s.source(o,"+"),s.source(a,"@"),t[p]){var y=Core.inject("Container",[t[p]]);s.source(y,"$"),y.source(y,"$"),y.source(i,"."),y.source(v,"<"),y.source(o,"+"),y.source(a,"@"),l[p]=y}else l[p]=null;c[p]=s}for(var m in c)if(c.hasOwnProperty(m)){var b=[];for(var w in c)c.hasOwnProperty(w)&&m!==w&&b.push(c[w]);if(c[m].source(b,!1),l[m]&&l[m].source(b,!1),f[m])for(var C in f[m])f[m].hasOwnProperty(C)&&f[m][C].source(b,!1);if(h[m])for(var A in h[m])h[m].hasOwnProperty(A)&&h[m][A].source(b,!1)}var x=[];for(var j in c)c.hasOwnProperty(j)&&x.push(c[j]);return o.source(x,!1),x}}),Core(function Source(e,t,n){function stripPrefix(t){if(e){for(var n="",o=0;o<t.length;o++)o>=r.length&&(n+=t[o]);return n}return t}var r=!!e&&e,o=[],i={},a={};if("object"==typeof t)if(Core.is(t,"Container"))o=[t];else{if(t.constructor!==Array)throw new Error("Invalid type if container!");for(var s=!0,u=0;u<t.length;u++){if(!Core.is(t[u],"Container")){s=!1;break}o.push(t[u])}if(0===t.length&&(s=!1),!s)throw new Error("Container array is empty!")}this.check=function(t){if(a[t])return a[t];var n=!0;if(e)for(var r=0;r<e.length;r++)t[r]&&t[r]===e[r]||(n=!1);return a[t]=n,n},this.has=function(e){var t=!1;if(i[e])return!0;if(this.check(e))for(var n=0;n<o.length;n++){var r=stripPrefix(e);if(o[n].has(r)){t=!0,i[e]=o[n];break}}return t},this.loop=function(){return n},this.containers=function(){return o},this.source=function(){for(var e=0;e<o.length;e++)o[e].source.apply(o[e],arguments)},this.prefix=function(e){return void 0!==e?e===r:r},this.resolve=function(e,t){var n=null;if(this.has(e)){var r=null,a=stripPrefix(e);i[e]&&(r=i[e]);for(var s=0;s<o.length;s++)o[s].has(a)&&(r=o[s]);r&&(n=r.resolve(a,t))}return n},this.resolveInjectionDependancies=function(e){var t=null,n=null;if(i[e])return n=stripPrefix(e),i[e].resolve(n,"extend");if(this.has(e)){n=stripPrefix(e);for(var r=0;r<o.length;r++)o[r].has(n)&&(t=o[r],i[e]=o[r]);if(t)return t.resolve(n,"extend")}}}),Core(function Ticker(){function resolve(e,t){var n=[];if("object"==typeof t&&t.constructor===Array?n=t:void 0!==t&&n.push(t),"string"!=typeof e||!e.length)throw new Error("Unable to resolve event. Event parameter is not a string or empty");if(!s[e])throw new Error("Unable to resolve event ["+e+"]. No such event.");for(var r=0;r<s[e].length;r++)s[e][r].apply(u,n)}var e=(1e3/58.8).toFixed(2),t=[],n=0,r=[null,0],o=function(){for(var e=0;e<t.length;e++)try{t[e].f.apply(u,r)}catch(o){throw new Error("Error emerged while resolving callbacks.\nQueue   : ["+t[e].o+"]\nOrder   : ["+e+"]\nName    : ["+t[e].f.name+"].\nMessage : "+o.message)}n++},i=function(){r[0]=new Date,r[1]=n;try{o()}catch(e){throw clearInterval(a),resolve("error",e),new Error("Unable to run ticker anymore. Error emerged during app ticker progress.\n Frame :"+n+"\nDate  : "+r[0]+"\n"+e.message)}},a=null,s={stop:[],start:[],error:[]},u=this;this.on=function(e,t){if("string"!=typeof e||!e.length)throw new Error("Unable to set event. Event argument is not a string or empty.");if(!s[e])throw new Error("Unable to set event ["+e+"] handler. No such event.");if("function"!=typeof t)throw new Error("Unable to set event ["+e+"]. Callback is not a function.");return s[e].push(t),this},this.stop=function(){return a&&(n=0,clearInterval(a),a=null,resolve("stop",this)),this},this.start=function(){return a||(a=setInterval(i,e),resolve("start",this)),this},this.fps=function(t){return"number"!=typeof t?(1e3/e).toFixed(2):(t>60&&(t=60),t<=0&&(t=1),e=(1e3/t).toFixed(2),a&&(this.stop(),this.start()),this)},this.queue=function(e,n){if("function"==typeof e){if(!e.name)throw new Error("Unable to set callback. Callback is not a named function.");t.push({o:0,f:n})}else{if("number"!=typeof e)throw new Error("Unable to create callback. Wrong arguments passed");if("function"!=typeof n)throw new Error("Unable to queue. callback is not a function");if(!n.name)throw new Error("Unable to set callback. Callback is not a named function.");t.push({o:e,f:n})}return t.sort(function(e,t){return e.o>t.o}),this}}),$R.plugin("Objects",["@inject","Debug",function Animation(e,t){function findCompetitor(e,t){t.$$SELF=!0;for(var r=null,o=0;o<n.length;o++)if(!n[o].$$SELF&&n[o].active()&&!n[o].done()){for(var i=!1,a=0;a<e.length;a++)if(n[o].hasProperty(e[a])){i=!0;break}i&&(r||(r=[]),r.push(n[o]))}return delete t.$$SELF,r}function CheckAnimationQueue(){for(var e=[],t=0;t<n.length;t++)if(n[t].active())n[t].done()||e.push(n[t]);else{var r=n[t].properties();if(n[t].queue())findCompetitor(r,n[t])||n[t].start();else{var o=findCompetitor(r,n[t]);if(o)for(var i=0;i<o.length;i++)for(var a=0;a<r.length;a++)o[i].stop(r[a]);n[t].start()}e.push(n[t])}n=e}function CreateAnimationType1(t,r,i,a){var s=this.extension("Style"),u={};if(u[t]=r,o[t]){var c=[{ordering:s.ordering(t),morph:o[t],value:r}],l={};i&&"number"==typeof i&&(l.duration=i),a&&"string"==typeof a&&(l.easing=a);var f=e("$Animation");f.config(this,c,l,CheckAnimationQueue),n.push(f)}}function CreateAnimationType2(r,i,a){var s=this.extension("Style"),u={};"object"==typeof i?u=i:"number"==typeof i?(u={duration:i},"string"==typeof a&&(u.easing=a)):"string"==typeof i&&(u={easing:i});var c={};for(var l in r)r.hasOwnProperty(l)&&(o[l]?c[l]={ordering:s.ordering(l),morph:o[l],value:r[l]}:t.warn({type:this.type(),property:l},"Property {property} of {type} can not be animated!"));var f=[];for(var h in c)f.push(c[h]);if(f.sort(function(e,t){return e.ordering-t.ordering}),f.length){var p=e("$Animation");p.config(this,f,u,CheckAnimationQueue),n.push(p)}else t.warn("No properties to animate!")}var n=[],r=!1,o={};this.morph=function(t,n,r,i){var a=e("$Morph");a.config(t,this.object(),n,r,i),a.valid()&&(o[t]=a)},this.extractMorph=function(e){return o[e]},this.register("animate",function(e,n,r,o){"string"==typeof e&&n?CreateAnimationType1.apply(this,arguments):"object"==typeof e&&e.constructor!==Array?CreateAnimationType2.apply(this,arguments):t.warn("Unable to create animation. Wrong arguments"),CheckAnimationQueue()}),this.register("animated",function(){return r}),this.register("stop",function(e){for(var t=0;t<n.length;t++)n[t].stop(e)})}]),$R.plugin("Objects",["Debug","@inject",function Box(e,t){function BoxWrapperFunc(){if(n&&o)return n.call(o,r),r}var n=null,r=t("$Box");this.f=function(t){return"function"!=typeof t?void e.error("Box Extension / Box function is not a function!"):(n=t,void delete this.f)};var o=this.object();this.box=function(){return o.extension("Cache").value("box",BoxWrapperFunc)},this.purge=function(){o.extension("Cache").purge("box");var e=o.parent();e&&e.extension("Box").purge()},this.register("box",function(){return this.extension("Cache").value("box",BoxWrapperFunc).get()})}]),$R.plugin("Objects",["Debug",function Cache(e){var t={};this.value=function(n,r){return"string"!=typeof n?void e.error("Object Value Cache / name is not a string!"):"function"!=typeof r?void e.error("Object Value Cache / func is not a function"):(t[n]||(t[n]={value:r(),func:r,relevant:!0}),this.get(n))},this.purge=function(n){return"string"!=typeof n?void e.error("Object Value Cache / Can not purge cache of non string name"):void(t[n]&&(t[n].relevant=!1))},this.get=function(n){return"string"!=typeof n?void e.error("Object Value Cache / Can not get value of non-string name"):t[n]?(t[n].relevant||(t[n].value=t[n].func(),t[n].relevant=!0),t[n].value):void 0}}]),$R.plugin("Objects",["Debug",function Drawer(e){function resolve(e,t){for(var n=0;n<r[e].length;n++)r[e].apply(o,t)}var t=null,n=null,r={before:[],after:[]},o=this.object();this.f=function(n){return"function"!=typeof n?(e.error({},"ObjectDrawer / func is not a function!"),void delete this.f):(t=n,void delete this.f)},this.register("before",function(t){"function"==typeof t?r.before.push(t):e.warn("Unable to set event [before Render]. func is not a Function")}),this.register("after",function(t){"function"==typeof t?r.after.push(t):e.warn("Unable to set event [after Render]. func is not a Function")}),this.matrix=function(){return n},this.draw=function(){resolve("before",arguments),t&&t.apply(this,arguments),resolve("after",arguments)}}]),$R.plugin("Objects",["Debug",function Layers(e){var t={0:[]},n=0;this.register("layer",function(t){if(void 0===t)return n;if("number"!=typeof t||t<0)return e.warn({n:t},"Value {n} is not a number or less than 0"),this;var r=this.parent();if(r){var o=r.extension("Layers");n=t,o.place(t,this)}else e.warn({},"You try to set layer of root group!");return this}),this.place=function(e,n){n.$$LAYERSEARCHVALUE=!0;for(var r in t)if(t.hasOwnProperty(r)){for(var o=!1,i=0;i<t[r].length;i++)if(t[r][i].$$LAYERSEARCHVALUE){t[r].splice(i,1),o=!0;break}if(o)break}delete n.$$LAYERSEARCHVALUE,t[e]||(t[e]=[]),t[e].push(n)},this.remove=function(e){e.$$LAYERSEARCHVALUE=!0;for(var n in t)if(t.hasOwnProperty(n)){for(var r=!1,o=0;o<t[n].length;o++)if(t[n][o].$$LAYERSEARCHVALUE){r=!0,t[n].splice(o,1);break}if(r)break}},this.forEach=function(e){for(var n in t)for(var r=0;r<t[n].length;r++)e.apply(t[n][r],[r,n])},this.layers=function(){return t}}]),$R.plugin("Objects",["Debug",function Matrix(e){function MatrixWrapper(){return t.call(n)}var t=null,n=this.object();this.f=function(e){"function"==typeof e&&(t=e,delete this.f)},this.register("matrix",function(){return this.extension("Cache").value("transformMatrix",MatrixWrapper)}),this.purge=function(){if(n.extension("Cache").purge("transformMatrix"),"Group"===n.type()){var e=n.extension("Layers");e.forEach(function(){this.extension("Cache").purge("transformMatrix")})}}}]),$R.plugin("Objects",["+Mouse","Dispatcher","Tree","Debug",function Mouse(e,t,n,r){function GetEventArray(e){return o[e]}var o={dragmove:[],dragstart:[],dragend:[],mousemove:[],mouseup:[],mousedown:[],mouseenter:[],mouseleave:[]},i=!1,a=function(){return!1;
};this.register("on",function(e,t){if(void 0===typeof e&&void 0===typeof t){for(var n in o)o[n].$OFF=!1;return this}if("string"==typeof e&&void 0===t){var i=GetEventArray(e);return i&&(i[n].$OFF=!1),this}if("string"==typeof e&&"function"==typeof t){var i=GetEventArray(e);return i?i.push(t):r.warn({e:e},"There is no event [{e}]"),this}return GetEventArray(e)?"function"!=typeof t?(r.warn({e:e,f:t},"Unable to set event handler for {[e]}. {[f]} is not a function!"),this):this:(r.warn({e:e},"Unable to set event handler for {[e]}. No such event found!"),this)}),this.register("off",function(e,t){if(void 0===e&&void 0===t){for(var n in o)o[n].$$OFF=!0;return this}if("string"==typeof e&&void 0===t){var i=GetEventArray(e);return i&&(i.$$OFF=!0),this}if("string"==typeof e&&"function"==typeof t){var i=GetEventArray(e);if(t.$$MOUSEFUNCSEARCH=!0,i){for(var a=null,n=0;n<i.length;n++)if(i[n].$$MOUSEFUNCSEARCH){a=n;break}return null!==a&&i.splice(a,1),this}}return GetEventArray(e)||r.warn({e:e},"Unable to uset event handler for {[e]}. no such event"),"function"!=typeof t&&r.warn({e:e,f:t},"Unable to unset function {[f]} from event {[e]}. Not a function!"),this}),this.register("mouseCheckFunction",function(t){return"string"==typeof t?(e[t+"CheckFunction"]&&(a=e[t+"UserCheckFunction"]),this):"function"!=typeof t?(r.warn({f:t},"Unable to set check function! {[f]} is not a function!"),this):(a=t,this)}),this.register("disable",function(){return i=!0,this}),this.register("enable",function(){return i=!1,this}),this.register("disabled",function(){return i}),this.check=function(e,t){return!i&&a.call(e,[t[0],t[1]])};var s=null;this.cursorTransformFunction=function(e){"function"==typeof e&&(s=e)},this.applyCursorTransform=function(e){return s?s.call(this,e):e},this.hasEvent=function(e){return o[e]&&o[e].length&&!o[e].$$OFF},this.propagate=function(e,t){var n=e.parent();if(n){var r=n.extension("Mouse");if(r.hasEvent(t.type())){var o=t.type(),i=t.originalTarget.call({$$MOUSEPROPAGATIONSETTER:n});r.resolve(n,o,i)}}},this.resolve=function(e,t,n){if(!i){var o=GetEventArray(t);if(o){if(o.$OFF)return;for(var a=0;a<o.length;a++)o[a].call(e,n);n.propagate()&&this.propagate(e,n)}else r.warn({e:t},"Unable to resolve event [{e}]. No such event!")}};for(var u in o)o[u].$$OFF=!1}]),$R.plugin("Objects",["Debug",function Offset(e){function ObjectOffsetFunction(){var e=n.get("position"),r=[e[0],e[1]],o=t.parent();if(o){var i=o.offset();r[0]+=i[0],r[1]+=i[1]}return r}var t=this.object(),n=null,r=null;this.purge=function(){if(n&&r||(n=t.extension("Style"),r=t.extension("Cache")),r.purge("offset"),"Group"==t.type()){var e=t.extension("Layers");e.forEach(function(){this.extension("Offset").purge()})}},this.register("offset",function(){return n||(n=this.extension("Style"),r=this.extension("Cache")),r.value("offset",ObjectOffsetFunction)})}]),$R.plugin("Objects",["Debug",function Style(e){function GetSetterFunction(r,o){return function(i){var a=o.apply(this,[i,t[r].value]),s=t[r].value;if(a||"boolean"!=typeof a){var u=[s,a];t[r].value=a,n[r]||(n[r]=[]);for(var c=0;c<n[r].length;c++)n[r][c].apply(this,u)}else e.warn("Unable to set property ["+r+"]. Invalid value!")}}function GetGetterFunction(e,n){return function(){return n.call(null,t[e].value)}}function StyleType1(t,n){var o=this;r[t]?r[t].apply(o,[n]):e.warn({property:t,type:o.type()},"Style / Object type {type} has no property {property}")}function StyleType2(n){var o=this,i=[];for(var a in n)n.hasOwnProperty(a)&&r[a]&&(r[a]?i.push({ordering:t[a].ordering,property:a,setter:r[a]}):e.warn({property:a,type:o.type()},"Style / Object type {type} has no property {property}"));if(i.length){i.sort(function(e,t){return e.ordering-t.ordering});for(var s=0;s<i.length;s++)i[s].setter.apply(o,[n[i[s].property]])}else e.warn("Style / No properties to be applied!")}function StyleType3(n){var r=this;return o[n]?o[n].apply(r,[t[n].value]):(e.warn({property:property,type:r.type()},"Style / Object type {type} has no property {property}"),this)}var t={},n=[],r={},o={};this.register("style",function(t,n){if("string"==typeof t&&void 0!==n)StyleType1.apply(this,[t,n]);else if("object"==typeof t)StyleType2.apply(this,[t]);else{if("string"==typeof t&&void 0===n)return StyleType3.apply(this,[t]);e.error("Style / Invalid style function arguments!")}return this}),this.register("watch",function(t,r){if("string"!=typeof t){if("object"!=typeof t||t.constructor!==Array)return void e.error("Style / Property is not an array or string")}else if("function"!=typeof r)return void e.error("Style / Callback is not a function!");if(t.constructor===Array)for(var o=0;o<t.length;o++)"string"==typeof t[o]?(n[t[o]]&&"object"==typeof n[t[o]]&&n[t[o]].constructor===Array||(n[t[o]]=[]),n[t[o]].push(r)):e.error({i:o},"Style / Property {i} is not a string!");else"string"==typeof t?(n[t]&&n[t].constructor===Array||(n[t]=[]),n[t].push(r)):e.error("Style / Property is not an array or string")}),this.define=function(n,i,a,s,u){return t[i]?void e.error({name:i},"Style / Duplicated Property [{name}]"):"string"!=typeof i||0===i.length?void e.error("Style / Property name is not a string!"):"function"!=typeof u||"function"!=typeof s?void e.error("Style / Unable to define property. Getter or setter is undefined!"):("number"!=typeof n&&e.error("Style / Unable to define property setter ordering!"),t[i]={ordering:n,value:a},r[i]=GetSetterFunction(i,s),void(o[i]=GetGetterFunction(i,u)))},this.get=function(n){return t[n]?t[n].value:(e.warn("Getting value of property that does not exist!"),!1)},this.ordering=function(n){return t[n]?t[n].ordering:(e.warn("Getting ordering of property that does not exist!"),!1)}}]),$R.plugin("Objects",["Debug","+Model","@inject",function Text(e,t,n,r){this.applyTo("Text");var o=this.object();if("Text"===o.type()){var a=[],s=/((\S+\s+)|(\S+$))/g,u=o.extension("Style"),c="",l=!1,f=[1/0,1/0],h=0,p=0;this.register("lines",function(){this.update();for(var e=[],t=0;t<a.length;t++)e.push(a[t].string())}),this.register("words",function(){this.update();for(var e=[],t=0;t<a.length;t++)for(var n=a[i].words(),r=0;r<n.length;r++)e.push(n.string());return e}),this.limits=function(e,t){f[0]=e,f[1]=t,l=!0},o.watch("str",function(e,t){t!==c&&(c=t)}),o.watch(["str","fontSize","lineHeight","color","weight","style"],function(){l=!0}),this.update=function(e){if(l||e){var t=c.match(s),r=0,o=0,i=u.get("size"),f=0,v=u.get("systemFont"),g=u.get("fontSize"),d=u.get("lineHeight"),y=u.get("weight"),m=u.get("color"),b=u.get("style");a=[];for(var w=0;w<t.length;w++){var C=t[w].match(/\n/g),A=t[w].match(/\S+/g),x=n("$TextWordClass").string(A[0]);a[o]||(a[o]=n("$TextLineClass").font(v).size(g).height(d).color(m).style(b).weight(y)),a[o].push(x),r=a[o].width(),(r>=i[0]||C)&&o++,r>f&&(f=r+4)}p=a.length*u.get("lineHeight"),g>d?p+=g-d:g<d&&(p-=d-g),h=f,l=!1}return this},this.textBlockHeight=function(){return this.update(),p},this.textBlockWidth=function(){return this.update(),h},this.forEachLine=function(e){this.update();for(var t=0;t<a.length;t++)e.apply(a[t],[t,a[t]])}}}]),$R.plugin("Objects",["Debug",function Tree(e){function checkTree(e){return!!e.$$TREESEARCHVALUE||!!e.parent()&&!!checkTree(e.parent())}function treeViolation(t,n){return"Group"===t.type()?(n.$$TREESEARCHVALUE=!0,checkTree(t)?(t.$$TREESEARCHVALUE?t.parent()&&e.warn({},"You try to append group parent into itself."):e.warn({},"You try to append group parent into it's children."),delete n.$$TREESEARCHVALUE,!0):(delete n.$$TREESEARCHVALUE,!1)):"Group"!==t.type()?(e.warn({target:t.type(),object:n.type()},"Yoy try to append [{object}] into [{target}]."),!0):void 0}var t=null,n=null;this.register("append",function(t){if("Group"!==this.type())e.watch({type:this.type()}," Can not append. type[{type}] of parent is not allowed!");else if(!treeViolation(this,t)){n||(n=this.extension("Layers"));var r=t.parent(),o=t.extension("Tree");if(r){var i=r.extension("Layers"),a=t.layer();i.remove(t),n.place(a,t),o.parent(this)}else{var a=t.layer();n.place(a,t),o.parent(this)}var s=this.extension("Box");s.purge()}return this}),this.register("appendTo",function(e){return e.append(this),this}),this.register("parent",function(){return t}),this.parent=function(n){return n.type&&"Group"===n.type()||e.error("Object Tree Extension / Unable to set object as parent. Not a group!"),n?void(t=n):t}}]),$R.service(["@Canvas","@Config","Debug",function Canvas(Canvas,e,t){function compareOnResize(e){if("%"!==a&&"%"!==s)return i[0]=r,i[1]=o,Canvas.size(i[0],i[1]),!1;var t=h,n=p;Canvas.size(0,0),v&&clearTimeout(v),v=setTimeout(function(){var u=Canvas.element().parentNode,c=window.getComputedStyle(u,null);p=parseInt(c.getPropertyValue("height")),h=parseInt(c.getPropertyValue("width")),t!==h&&"%"===a&&t!==h&&(i[0]=Math.floor(h*(r/100))),n!==p&&"%"===s&&(i[1]=Math.floor(p*(o/100))),Canvas.size(i[0],i[1]),v=null,e()},200)}function GetCanvasOffset(e){var t=e?"offsetLeft":"offsetTop",n=0,r=Canvas.element();do isNaN(r[t])||(n+=r[t]);while(r=r.offsetParent);return n}function WindowResizeCallback(){l&&compareOnResize(function(){u[0]=GetCanvasOffset(0),u[1]=GetCanvasOffset(1);for(var e=0;e<n.length;e++)n[e](i[0],i[1]);ResolveCanvasEventArray("canvasresize",[new RCanvasResizeEvent])})}function CanvasSwitchCallback(){u[0]=GetCanvasOffset(0),u[1]=GetCanvasOffset(1),ResolveCanvasEventArray("canvasswitch",[new RCanvasSwitchEvent]),WindowResizeCallback()}function GetCanvasEventArray(e){return g[e]}function ResolveCanvasEventArray(e,n){if("object"!=typeof n||n.constructor!==Array)return void t.warn({e:e},"Canvas : unable to resolve event array [{e}]. Data is not an array!");var r=GetCanvasEventArray(e);if(!r)return void t.warn({e:e},"Unable to resolve event [{e}] no such event!");for(var o=0;o<r.length;o++)r[o].apply(f,n)}function GetMouseRelativePosition(e){return[e.pageX-u[0]-c[0],e.pageY-u[1]-c[1]]}function RCanvasMouse(e){this.page=[e.pageX,e.pageY],this.sceen=[e.pageX-c[0],e.pageY-c[1]],this.position=GetMouseRelativePosition(e)}function RCanvasMouseEvent(e){this.original=e,this.type=e.type,this.mouse=new RCanvasMouse(e),this.canvas=f}function RCanvasResizeEvent(){this.type="canvasresize",this.canvas=f,this.offset=[u[0],u[1]],this.size=[r,o],this.original=[r,o],this.units=[a,s],"%"===a&&(this.size[0]=h*(r/100)),"%"===s&&(this.size[1]=p*(o/100))}function RCanvasSwitchEvent(){this.type="canvasswitch",this.canvas=f,this.offset=[u[0],u[1]],this.size=[r,o],this.original=[r,o],this.units=[a,s],"%"===a&&(this.size[0]=h*(r/100)),"%"===s&&(this.size[1]=p*(o/100))}var n=[],r=0,o=0,i=[0,0],a="px",s="px",u=[0,0],c=[0,0],l=Canvas.element(),f=this;e.define("size",[0,0],{isArray:!0,custom:function(e){if(!("string"!=typeof e[0]&&typeof e[0]!==Array||"string"!=typeof e[0]&&"number"!=typeof e[1]))return!0}}).watch(function(e){"number"==typeof e[0]?r=e[0]:"string"==typeof e[0]?e[0].match(/^[\d]+%$/)?(r=parseInt(e[0]),a="%"):(r=1e3,a="px",t.warn({width:e[0]},"{width} is not a valid value for canvas.size[0]. Width set as 1000px")):(r=1e3,t.warn({width:e[0]},"{width} is not a valid value for canvas.size[0]. Width set as 1000px")),"number"==typeof e[1]?o=e[1]:"string"==typeof e[1]&&e[1].match(/^[\d]+%$/)?(o=parseInt(e[1]),s="%"):(o=800,t.warn({height:e[1]},"{height} is not a valid value for canvas.size[1]. Width set as 800px")),WindowResizeCallback()});var h=0,p=0,v=null;this.resize=function(e){"function"==typeof e&&n.push(e)},this.width=function(){return"%"===a?h*(r/100):r},this.height=function(){return"%"===a?p*(o/100):o};var g={mousemove:[],mousedown:[],mouseup:[],mouseleave:[],mouseenter:[],canvasresize:[],canvasswitch:[]};this.on=function(e,n){var r=GetCanvasEventArray(e);return r?("function"!=typeof n&&t.warn({f:e},"Canvas : Unable to set event handler [{f}]"),void r.push(n)):void t.warn({e:e},"Canvas : Unable to set event handler for event [{e}]")};var d={mousemove:function(e){ResolveCanvasEventArray("mousemove",[new RCanvasMouseEvent(e)])},mousedown:function(e){ResolveCanvasEventArray("mousedown",[new RCanvasMouseEvent(e)])},mouseup:function(e){ResolveCanvasEventArray("mouseup",[new RCanvasMouseEvent(e)])},mouseleave:function(e){ResolveCanvasEventArray("mouseleave",[new RCanvasMouseEvent(e)])},mouseenter:function(e){ResolveCanvasEventArray("mouseenter",[new RCanvasMouseEvent(e)])}};Canvas["switch"](function(){if(l)for(var e in d)d.hasOwnProperty(e)&&l.removeEventListener(e,d[e]);l=this.element();for(var e in d)d.hasOwnProperty(e)&&l.addEventListener(e,d[e]);CanvasSwitchCallback()}),window.addEventListener("scroll",function(){c[1]=window.pageXOffset||document.documentElement.scrollLeft,c[0]=window.pageYOffset||document.documentElement.scrollTop}),window.addEventListener("resize",WindowResizeCallback)}]),$R.service(["@Config",function Debug(e){function ResolveEvent(e,t){var n=null;"error"===e&&(n=i),"message"===e&&(n=a);for(var r=0;r<n.length;r++)n[r](t)}function GetMessage(e,o){o=o.toString();var i=o.match(n),a={};if(i)for(var s=0;s<i.length;s++){var u=i[s].match(r)[0];u&&(a[u]={replace:i[s],data:e[u].toString()})}for(var c in a)a.hasOwnProperty(c)&&(o=o.replace(a[c].replace,a[c].data));return o=t+o}var t="$R [Debug] : ",n=/{[a-zA-Z]+}/g,r=/[a-zA-Z]+/g,o=e.define("warnings",!1,{isBool:!0},function(e){o=e}),i=[],a=[];this.on=function(e,t){"function"==typeof t&&("error"===e&&i.push(t),"message"===e&&a.push(t))},this.error=function(e,t){throw"string"==typeof e&&(t=e,e={}),t=GetMessage(e,t),ResolveEvent("error",t),new Error(t)},this.warn=function(e,t){o&&("string"==typeof e&&(t=e,e={}),t=GetMessage(e,t),ResolveEvent("message",t),console.warn(t))}}]),$R.service(["@Canvas","Canvas","@Ticker","$Finder",function Dispatcher(e,t,n,r){function DefaultREvent(e,t){var n=e,r=!0,o=t,i=t;this.type=function(){return n},this.date=new Date,this.stopPropagation=function(){r=!1},this.propagate=function(){return r},this.target=function(){return o},this.propagated=function(){o.$$PROPAGATIONSEARCH=!0;var e=i.$$PROPAGATIONSEARCH;return delete o.$$PROPAGATIONSEARCH,!!e&&e},this.originalTarget=function(){if(this.$$MOUSEPROPAGATIONSETTER){var e=getEventByType(n,o);return e.originalTarget.call({$$RESETTARGET:this.$$MOUSEPROPAGATIONSETTER}),e}return this.$$RESETTARGET&&(o=this.$$RESETTARGET),i}}function MouseEvent(e,t){DefaultREvent.apply(this,[e,t]),this.cursor=[a.current[0],a.current[1]]}function DragEvent(e,t){DefaultREvent.apply(this,[e,t]),this.drag={start:[s.start[0],s.start[1]],current:[s.current[0],s.current[1]],delta:[s.delta[0],s.delta[1]]}}function getEventByType(e,t){return"mousemove"===e||"mouseleave"===e||"mouseenter"===e||"mousedown"===e||"mouseup"===e?new MouseEvent(e,t):"dragstart"===e||"dragend"===e||"dragmove"===e?new DragEvent(e,t):void 0}function Dispatch(e,t){var n=t.extension("Mouse");n&&n.hasEvent(e)&&n.resolve(t,e,getEventByType(e))}function resolveEventByType(e){"mouseenter"!==e&&"drastart"!==e&&"dragend"!==e&&"dragmove"!==e&&"mousemove"!==e&&"mouseup"!==e&&"mousedown"!==e||!o.current||Dispatch(e,o.current),"mouseleave"!==e&&"dragend"!==e||!o.previous||Dispatch(e,o.previous)}function resolveDragStart(){f=!0,s.start[0]=a.current[0],s.start[1]=a.current[1],resolveEventByType("dragstart")}function resolveDragEnd(){s.current[0]=a.current[0],s.current[1]=a.current[1],s.delta[0]=s.start[0]-s.current[0],s.delta[1]=s.start[1]-s.current[1],resolveEventByType("dragend"),f=!1}function DispatchEvents(){if(i.current!==i.old&&i.current&&resolveEventByType("mousedown"),i.current&&i.current!==i.old&&!f&&resolveDragStart(),a.old[0]!==a.current[0]||a.old[1]!==a.current[1]){if(o.current&&!o.previous&&resolveEventByType("mouseenter"),!o.current&&o.previous&&(resolveEventByType("mouseleave"),resolveDragEnd()),o.current&&o.previous){o.current.$$MOUSESEARCH=!0;var e=!1;o.previous.$$MOUSESEARCH||(e=!0),delete o.current.$$MOUSESEARCH,e&&(resolveDragEnd(),resolveEventByType("mouseleave"),resolveEventByType("mouseenter"),resolveDragStart())}i.current&&i.current===i.old&&f&&(s.current[0]=a.current[0],s.current[1]=a.current[1],s.delta[0]=s.start[0]-s.current[0],s.delta[1]=s.start[1]-s.current[1],resolveEventByType("dragmove")),i.current||i.current!==i.old||resolveEventByType("mousemove")}!i.current&&i.current!==i.old&&f&&resolveDragEnd(),i.current||i.current===i.old||(resolveEventByType("mouseup"),f=!1),o.previous=o.current,i.old=i.current,a.old[0]=a.current[0],a.old[1]=a.current[1]}function UpdateTargets(){o.previous=o.current,o.current=r.check(a.current)}function eventDispatcherTick(){if(h=!h){if(u)return;UpdateTargets(),DispatchEvents()}}var o={current:null,previous:null},i={current:!1,previous:!1},a={old:[0,0],current:[0,0]},s={start:[0,0],current:[0,0],delta:[0,0]},u=!0,c=!1,l=!1,f=!1;t.on("mousedown",function(){c&&l&&(i.previous=i.current,i.current=!0,u=!1)}),t.on("mouseup",function(){c&&l&&(i.previous=i.current,i.current=!1,u=!1)}),t.on("mousemove",function(e){c&&l&&(a.current[0]=e.mouse.position[0],a.current[1]=e.mouse.position[1],u=!1)}),t.on("mouseleave",function(){l=!1}),t.on("mouseenter",function(){l=!0});var h=!1;e.queue(-1,eventDispatcherTick),n.on("start",function(){c=!0}),n.on("stop",function(){c=!1}),n.on("error",function(){c=!1})}]),$R.service(["@app","@Canvas","@inject","Debug",function Keyboard(e,t,n,r){function OnAppTick(){for(var e=0;e<u.length;e++)u[e]();u=[]}function getQueueFunc(e){return function(){var t=e.keyCode;if(o[t]&&o[t][e.type])for(var r=0;r<o[t][e.type].length;r++){var i=n("$KeyboardEvent").build(e);o[t][e.type][r].apply(i,[t,e.type])}}}var o={},i=!1,a=!0,s=!0,u=[];this.keydown=function(e,t){return this.on(e,"keydown",t)},this.keyup=function(e,t){return this.on(e,"keyup",t)},this.disable=function(){return a=!1,this},this.enable=function(){return a=!0,this},this.on=function(e,t,n){return"number"==typeof e&&"string"==typeof t?"keyup"===t||"keydown"===t?"function"==typeof n?(o[e]||(o[e]={}),o[t]||(o[e][t]=[]),o[e][t].push(n)):r.warn("Event callback is not a function"):r.warn({e:t},"No such type of event as [{e}]"):r.warn({c:e},"Wrong key code [{c}]"),this};var c=!1;t.element().addEventListener("mousedown",function(){c=!0}),window.addEventListener("mousedown",function(){s=!!c,c=!1}),window.addEventListener("keydown",function(e){i&&a&&s&&u.push(getQueueFunc(e))}),window.addEventListener("keyup",function(e){i&&a&&s&&u.push(getQueueFunc(e))}),e.$on("start",function(){i=!0}),e.$on("stop",function(){i=!1}),e.$("tick",OnAppTick)}]),$R.service["class"]("Keyboard",[function KeyboardEvent(){var e=null,t=!1,n=!1,r=!1,o=!1,i=null;this.build=function(a){return e=a.keyCode,t=a.ctrlKey,n=a.altKey,r=a.shiftKey,o=a,i=a.type,delete this.build,this},this.type=function(e){return"string"==typeof e?i===e:i},this.code=function(){return e},this.shift=function(){return r},this.alt=function(){return n},this.ctrl=function(){return t},this.original=function(){return o}}]),$R.service(["@inject","+Easing","@Canvas","Debug",function Morphine(e,t,n,r){var o=[];this.create=function(n,i,a,s,u,c){if("number"!=typeof n||"number"!=typeof i)return void r.error({},"Morphine / Unable to create. Start value is wrong!");if("function"!=typeof a)return void r.error({},"Morphine / Unable to create. End value is wrong!");if("string"!=typeof s)return void r.error({},"Morphine / Unable to create. Easing is not a string!");("number"!=typeof u||u<=0)&&r.error({},"Morphine / Unable to create. Duration is less than 0 or not a number");var l=t.get(s);l||r.error({easing:s}," Morphine / Unable to create. No such easing {easing}");var f=e("$Morphine"),h=f.config(n,i,a,u,l,c);return h&&"function"==typeof h?(h.$m=f,o.push(h),f):void r.error({},"Morphine / Unable to config morphine. Due to some error.")},n.queue(-2,function processMorphines(e,t){for(var t=t.getTime(),n=[],r=0;r<o.length;r++)o[r].$m.done()||(o[r](t),n.push(o[r]));o=n})}]),$R.service["class"]("Objects",["@extend","@inject","<Plugins",function Graphics(e,t,n){var r=null,o={};this.extension=function(e){return o[e]},this.type=function(){return r},this.defineType=function(i){if("string"==typeof i){delete this.defineType,r=i;for(var a=n.list(),s=0;s<a.length;s++)o[a[s]]=t("$Plugin"),o[a[s]].defineObject(this),e(o[a[s]],"<"+a[s]),o[a[s]].matchType(r)?o[a[s]].wrap(this):delete o[a[s]];e(this,"$"+i+"ObjectModel"),e(this,"$DefaultObjectDrawer"),e(this,"$"+i+"ObjectDrawer"),e(this,"$DefaultObjectType"),e(this,"$"+i+"ObjectClass")}}}]),$R.service(["@inject","Tree",function Objects(e,t){function InjectByType(t,n){var r=e("$Graphics");return r.defineType(t),n&&n.length&&r.style.apply(r,n),r}this.group=function(){return InjectByType("Group",arguments)},this.line=function(){return InjectByType("Line",arguments)},this.rect=function(){return InjectByType("Rectangle",arguments)},this.circle=function(){return InjectByType("Circle",arguments)},this.image=function(){return InjectByType("Image",arguments)},this.sprite=function(){return InjectByType("Sprite",arguments)},this.text=function(){return InjectByType("Text",arguments)},this.area=function(){return InjectByType("Area",arguments)},t.root(this.group())}]),$R.service(["@Canvas","@inject","Debug",function Resource(e,t,n){function GetResourceByURL(e,t){"font"===e&&(t=t[0]);var n=null,r=o[e+"s"];if(!r)return n;for(var i=0;i<r.length;i++)if(r[i].url()===t){n=r[i];break}return n}function InjectByType(e,n){var a=GetResourceByURL(e,n);if(a)return a;var s=e,u=t("$"+e.charAt(0).toUpperCase()+e.slice(1));return u.on("load",function(){i--,ResolveEvent("load",[this,i,r.length])}),u.on("error",function(){i--,ResolveEvent("error",[this,i,r.length])}),u.url(n),o[s+"s"].push(u),r.push(u),i++,ResolveEvent("add",[u,i,r.length]),u}function preloadRequest(e){if(e.images&&e.images.constructor===Array)for(var t=0;t<e.images.length;t++)"string"==typeof e.images[t]&&(/^([./_\da-zA-Z]+)(\[(\d+)\])$/.test(e.images[t])?a.sprite(e.images[t]):a.image(e.images[t]));if(e.audio&&e.constructor===Array)for(var t=0;t<e.audio.length;t++)"string"==typeof e.audio[t]&&a.audio(e.audio[t]);if(e.fonts&&e.fonts.constructor===Array)for(var t=0;t<e.fonts.length;t++)if(e.fonts[t]&&"object"==typeof e.fonts[t]&&"string"==typeof e.fonts[t].name&&e.fonts[t].name.length){var n=e.fonts[t].weight&&"number"==typeof e.fonts[t].weight?e.fonts[t].weight:400,r="italic"===e.fonts[t].style?e.fonts[t].style:"normal";a.font(e.fonts[t].name,n,r)}}function ResolveEvent(e,t){var n=u[e];if(n)for(var r=0;r<n.length;r++)n[r].apply(a,t)}var r=[],o={images:[],sprites:[],fonts:[],audios:[]},i=0,a=this,s=null;this.image=function(e){return InjectByType("image",e)},this.sprite=function(e){return InjectByType("sprite",e)},this.audio=function(e){return InjectByType("audio",e)},this.preload=function(e){preloadRequest(e)},this.preloadByUrl=function(e){s&&s.abort(),"string"==typeof e&&e.length>0&&(s=new XMLHttpRequest,s.addEventListener("load",function(){var t={};try{t=JSON.parse(response.responseText)}catch(r){n.error({url:e},"Unable to parse JSON from [{url}]. Unknown response format.")}preloadRequest(t)}),s.addEventListener("error",function(){n.error({url:e},"Unable to get resources from [{url}] to preload. Server error."),preloadRequest({})}),s.addEventListener("abort",function(){n.warn({url:e},"Unable to get resources from [{url}] to preload. Request aborted."),preloadRequest({})}),s.open("GET",e,!0),s.setRequestHeader("Content-Type","application/json"),s.send())},this.font=function(e,t,n){return InjectByType("font",[e,t,n])};var u={load:[],error:[],add:[]};this.on=function(e,t){if("string"==typeof e){var r=u[e];r?"function"==typeof t?r.push(t):n.warn({event:e},"Unable to set event [{event}] callback. func is not a function!"):n.warn({event:e},"Unable to set event [{event}]. No such event")}else n.warn("Unable to set event callback. Event name is not a string")},this.off=function(e,t){if("string"==typeof e){var r=u[e];if(r){if("function"==typeof t){var o=[];t.$$SEARCH=!0;for(var i=0;i<r.length;i++)r[i].$$SEARCH||o.push(r[i]);delete t.$$SEARCH,u[e]=o}}else n.warn({event:e},"Unable to unset callback for event [{event}]. No such event")}else n.warn("Unable to unset event. Event is not a string")},this.list=function(){return[].concat(o.images).concat(o.audios).concat(o.fonts).concat(o.sprites)},e.queue(-2,function updateResources(e,t){for(var n=t.getTime(),r=0;r<o.sprites.length;r++)o.sprites[r].ready()&&1===o.sprites[r].loaded()&&o.sprites[r].tick(n)})}]),$R.service(["@Audio","@inject","@Config","Debug",function Sound(e,t,n,r){n.define("filters",["Delay","Gain"],{isArray:!0});var o=t("$Audio").build("$$DESTINATION","destination"),i={},a=0,s=0,u={$$DESTINATION:o};this.sample=function(e,n,o){if("string"==typeof e&&e.length>0){if(i[e])return i[e];"string"==typeof o&&0!==o.length||(o="UserSound["+a+"]"),a++;var s=t("$Audio").build(o,e);"string"==typeof n&&0!==n.length||(n="$$DESTINATION");var u=this.channel(n);return s.connect(u),i[s.url()]=s,s}r.warn({url:e},"[{url}] is not valid audio url or empty.")},this.channel=function(e){if("string"==typeof e&&e.length>0){if(u[e])return u[e];var n=t("$Audio").build(e);return n.connect(o),u[e]=n,s++,n}},this.channels=function(e){var t={},e=!!e;for(var n in u)u.hasOwnProperty(n)&&"$$DESTINATION"!==n&&(e?t[n.url()]=n[n]:t[n]=u[n]);return t},this.sounds=function(e){var t={},e=!!e;for(var n in i)i.hasOwnProperty(n)&&(e?t[n]=i[n]:t[i[n].name()]=i[n]);return t},this.destination=function(){return u.$$DESTINATION}}]),$R.service(["@inject",function State(e){function ParseAddress(e){var t=e.match(/^([a-zA-Z]+).([a-zA-Z]+)$/),n=t[0],r=t[1];if(n&&r)return{state:n,prop:r}}var t={};this.watch=function(n,r){"function"==typeof r&&(n=ParseAddress(n),n&&(t[n.state]||(t[n.state]=e("$State")),t[n.prop].when(n.prop,r)))},this.define=function(n,r){n=ParseAddress(n),n&&(t[n.state]||(t[n.state]=e("$State")),t[n.state].define(n.prop,r))}}]),$R.service(["Debug","@Canvas","@Config",function Tree(e,t,n){var r=null,o=null,i=null,a=n.define("clear",!1,{isBool:!0}).watch(function(e){a=e});this.root=function(t){if(r)return r;if(!t.type||"function"!=typeof t.type||"Group"!==t.type())return void e.error({},"Tree / Unable to set tree root! Wrong object type!");r=t;var n=r.extension("Drawer");return n?n.draw&&"function"==typeof n.draw?(o=n,i=r.extension("Style"),r):void e.error({},"Tree / Unable to register root Drawer. Drawer.draw is not a function!"):void e.error({},"Tree / Unable to get Drawer extension!")},t.queue(0,function drawGraphicsTree(e,t,n){r&&o&&(a&&e.clearRect(0,0,e.canvas.offsetWidth,e.canvas.offsetHeight),o.draw.apply(r,arguments))})}]),$R.plugin["class"]("Objects","Animation",["+Animation","Morphine",function Animation(e,t){function Resolve(e){if(e==p)for(var t=0;t<a.length;t++)c.hasOwnProperty(a[t].morph.property())&&c[a[t].morph.property()].apply(u,[n,a[t].result]);else if(e==v){i=!0;for(var r={},t=0;t<a.length;t++)r[a[t].morph.property()]=a[t].result;g.done(1,r),h()}}var n=0,r=null,o=null,i=!1,a=null,s=null,u=null,c=null,l=!1,f=!1,h=null,p="type",v="complete",g=null;this.target=function(){return u},this.queue=function(){return l},this.active=function(){return f},this.done=function(){return i},this.hasProperty=function(e){for(var t=0,n=0;n<a.length;n++)if(a[n].morph.property()==e){t=n+1;break}return t},this.properties=function(){for(var e=[],t=0;t<a.length;t++)e.push(a[t].morph.property());return e},this.stop=function(e){if(e){var t=this.hasProperty(e);t&&(t-=1,a.splice(t,1))}else a=[]},this.start=function(){if(!f){f=!0;for(var n=[],i=0;i<a.length;i++){var u=a[i].morph.get(a[i].value);void 0!==u&&u.start()!==!1&&u.end()!==!1&&n.push(a[i])}a=n;var c=e.getTickFunction();s=t.create(0,1,function(e,t){if(0===a.length)Resolve(v),s.stop();else{for(var n=0;n<a.length;n++)a[n].result=c(t,e,a[n].morph.start(),a[n].morph.end()),a[n].morph.apply(e,a[n].result);Resolve(p),1===e&&Resolve(v)}},o,r,0)}},this.config=function(t,n,i,s){e.normalizeConfig(i),r=i.duration,o=i.easing,c=i.step,l=i.queue,h=s,a=n,u=t,g=i}}]),$R.plugin["class"]("Objects","Animation",["Debug",function Morph(e){function SetStartValue(e){t=e}function SetEndValue(e){n=e}var t,n,r=null,o=null,i=null,a=null,s=!1,u=0;this.start=function(){return t},this.end=function(){return n},this.property=function(){return r},this.ordering=function(){return u},this.get=function(e){return o.apply(a,[SetStartValue,SetEndValue,e]),this},this.valid=function(){return s},this.apply=function(e,t){a.style(r,i.apply(a,[t,e]))},this.config=function(t,n,c,l,f){return"string"!=typeof t?void e.error({name:t},"Unable to config Morph. arg1 [{name}] is not a string!"):"object"!=typeof n?void e.error({name:t},"Unable to config Morph. arg3 is not an object!"):"function"!=typeof l?void e.error({name:t},"Unable to config Morph. arg4 is not a function!"):"number"!=typeof c?void e.error({name:t},"Unable to config Morph. arg2 is not a number!"):"function"!=typeof f?void e.error({name:t},"Unable to config Morph. arg5 is not a function!"):(r=t,o=l,i=f,u=c,a=n,void(s=!0))}}]),$R.plugin["class"]("Objects","Box",[function Box(){var e={size:[0,0],position:[0,0]},t={margin:[0,0,0,0],position:[0,0],size:[0,0]};this.get=function(){return{size:[e.size[0],e.size[1]],position:[e.position[0],e.position[1]]}},this.set=function(n,r,o,i,a,s,u,c){e.size[0]=o,e.size[1]=i,e.position[0]=n,e.position[1]=r,t.margin[0]=a,t.margin[1]=s,t.margin[2]=u,t.margin[3]=c,t.size[0]=c+o+s,t.size[1]=a+i+u,t.position[0]=n-c,t.position[1]=r-a},this.value=function(){return e},this.sprite=function(){return t}}]),$R.plugin["class"]("Objects","Text",["@extend","@inject","+Drawer",function TextLineClass(e,t,n){function getWidth(){if(s){r=0;for(var e=0;e<o.length;e++)r+=o[e].width();return s=!1,r}return r}e(this,"$TextElementClass");var r=0,o=[],i=t("$TextSpaceClass"),a=0,s=!1;this.width=function(){return n.measureText(getWidth)},this.length=function(){return a},this.words=function(e){if(e&&"object"==typeof e&&e.constructor===Array){for(var t=0;t<e.length;t++)o.push(e[t].size(this.size()).height(this.height()).style(this.style()).weight(this.weight()).color(this.color()).font(this.font()));a=o.length;for(var n=[],t=0;t<o.length;t++)n.push(o[t]);return this.propertyChanged("string",n),this}return s=!0,o},this.push=function(e){return o.length>0&&o.push(i),o.push(e.size(this.size()).height(this.height()).style(this.style()).weight(this.weight()).color(this.color()).font(this.font())),s=!0,this},this.string=function(){for(var e="",t=0;t<o.length;t++)e+=o[t].string();return e},this.onPropertyChange(function(e,t){"string"!==e&&i[e](t)})}]),$R.plugin["class"]("Objects","Text",["@extend","+Drawer",function TextSpaceClass(e,t){function getWidth(e){return e.font=r.extractFontString(),e.measureText(n).width}e(this,"$TextElementClass");var n=" ",r=this;this.string=function(){return n},this.width=function(e){return t.measureText(getWidth)}}]),$R.plugin["class"]("Objects","Text",["+Color",function TextElementClass(e){function resolve(e,t){for(var n=0;n<s.length;n++)s[n].apply(u,[e,t])}var t="rgba(0,0,0,1)",n="sans-serif",r=400,o=14,i=14,a="normal",s=[],u=this;this.size=function(e){return"number"==typeof e?(e<0&&(e=0),o=e,resolve("size",o),this):o},this.height=function(e){return"number"==typeof e?(e<0&&(e=0),i=e,resolve("height",i),this):i},this.weight=function(e){return"number"==typeof e?(e<100&&(e=100),e>900&&(e=900),e%100!==0&&(e-=e%100),r=e,resolve("weight",r),this):r},this.font=function(e){return"string"==typeof e&&e.length>0?(n=e,resolve("font",n),this):n},this.color=function(n){return"string"==typeof n?(e.colorToArray(n)&&(t=n,resolve("color",t)),this):t},this.style=function(e){return"normal"===e||"italic"===e||"oblique"===e?(a=e,resolve("style",a),this):a},this.extractFontString=function(){return a+" "+o+'px "'+n+"-"+r+'"'},this.onPropertyChange=function(e){"function"==typeof e&&s.push(e)},this.propertyChanged=function(e,t){resolve(e,t)}}]),$R.plugin["class"]("Objects","Text",["+Color","@extend","+Drawer",function TextWordClass(e,t,n){function getWidth(e){return e.font=o.extractFontString(),e.measureText(r).width}t(this,"$TextElementClass");var r="",o=this;this.string=function(e){return"string"==typeof e?(r=e,this.propertyChanged("string",e),this):r},this.width=function(){return n.measureText(getWidth);
},this.draw=function(e,t,n){return"number"!=typeof t&&(t=0),"number"!=typeof n&&(n=0),e.save(),e.fillStyle=this.color(),e.font=this.extractFontString(),e.fillText(r,t,n),e.restore(),this}}]),$R.service["class"]("Dispatcher",["Tree","Debug",function Finder(e,t){function CheckElement(e,t){if("Group"===e.type()){var n=null,r=e.extension("Layers");return r.forEach(function(){if(!this.disabled())if("Group"===this.type()){var e=CheckElement(this,t);e&&(n=e)}else{var r=this.extension("Mouse"),e=r.check(this,t);e&&(n=e)}}),n}}this.check=function(n){var r=e.root();return r?"object"!=typeof n||n.constructor!==Array||2!==n.length||"number"!=typeof n[0]||"number"!=typeof n[1]?(t.warn({c:n},"ObjectFinder ; {[c]} is not a valid cursor value."),null):CheckElement(r,n):null}}]),$R.service["class"]("Morphine",[function Morphine(){function Tick(f){if(!l){if(c)return void(o=(new Date).getTime()-t*u);o||(o=(new Date).getTime()),u=(f-o)/t,u>1&&(u=1),1===u&&(n&&r>0?(r!==1/0&&r--,o=(new Date).getTime()):l=!0),i.apply(null,[u,e((f-o)/1e3,a,s-a,t/1e3),o])}}var e=null,t=1,n=!1,r=1,o=null,i=null,a=0,s=0;this.done=function(){return l},this.pause=function(){c=!0},this.paused=function(){return c},this.stop=function(){l=!0};var u=0,c=!1,l=!1;this.config=function(r,o,u,c,l,f){if(!("number"!=typeof r||"number"!=typeof o||"number"!=typeof c||c<0)&&"function"==typeof l&&"function"==typeof u)return"number"==typeof f&&(n=f),a=r,s=o,e=l,i=u,t=c>0?c:1,delete this.config,Tick}}]),$R.service["class"]("Objects",[function Canvas(){var e=document.createElement("canvas"),t=e.getContext("2d"),n=0,r=0;this.context=function(){return t},this.width=function(t){return"number"!=typeof t?n:(n=t,void e.setAttribute("width",n))},this.height=function(t){return"number"!=typeof t?r:(r=t,void e.setAttribute("height",r))},this["export"]=function(){return e}}]),$R.service["class"]("Objects",["@inject","Debug",function GraphicsAssembler(e,t){function SetSize(e,t){for(var r=0;r<o.length;r++)o[r].size(e,t);n.width(e),n.height(t),a=e,s=t}function compose(e){if(!c){if(u){var t=u.box().sprite();t.size[0]===a&&t.size[1]===s||SetSize(t.size[0],t.size[1])}c=!0}if(!l){r.clearRect(0,0,a,s);for(var i=0;i<o.length;i++)o[i].draw(r);l=!0}e.drawImage(n["export"](),0,0)}var n=e("$Canvas"),r=n.context(),o=[],i={},a=0,s=0,u=null,c=!1,l=!1;this.layer=function(n,r,a){return"number"!=typeof n?void t.warn({o:n},"Invalid order argument [{o}] is not a number."):"string"!=typeof r?void t.warn({n:r},"[{n}] is not valid name for layer"):"function"!=typeof a?void t.warn("updateFunc is not a function!"):(i[r]=e("$GraphicsAssemblerLayer"),i[r].f(a),i[r].ordering(n),i[r].update(),o.push(i[r]),o.sort(function(e,t){return e.ordering()-t.ordering()}),void(l=!1))},this.ready=function(){return l},this.box=function(e){u=e},this.size=function(e,t){e===a&&t===s||(SetSize(e,t),l=!1)},this.resize=function(){c=!1,l=!1},this.update=function(e){l=!1,i[e].update()},this.draw=compose}]),$R.service["class"]("Objects",["@inject","Debug",function GraphicsAssemblerLayer(e,t){function updateCanvas(e){s||(r.clearRect(0,0,o,i),r.save(),a&&a(r),s=!0,r.restore()),e.drawImage(n["export"](),0,0)}var n=e("$Canvas"),r=n.context(),o=0,i=0,a=null,s=!1,u=0;this.f=function(e){"function"==typeof e?(a=e,delete this.f):t.warn({f:e},"[{f}] is not a function")},this.size=function(e,t){o===e&&t===t||(n.width(e),n.height(t),o=e,i=t,s=!1)},this.ordering=function(e){return e&&"number"==typeof e&&(u=e),u},this.update=function(){s=!1},this.draw=updateCanvas}]),$R.service["class"]("Objects",function Plugin(){var e={},t={},n=null,r=[];this.defineObject=function(e){n=e,delete this.defineObject},this.object=function(){return n},this.matchType=function(e){if(0==r.length)return!0;for(var t=!1,n=0;n<r.length;n++)if(r[n]===e){t=!0;break}return this.applyTo&&(delete this.applyTo,delete this.matchType),t},this.applyTo=function(e){if("string"==typeof e)r.push(e);else if("object"==typeof e&&e.constructor===Array)for(var t=0;t<e.length;t++)"string"==typeof e[t]&&r.push(e[t]);delete this.applyTo},this.register=function(n,r,o){e[n]||(e[n]=r),o&&(t[n]=!0)},this.wrap=function(t){for(var n in e)e.hasOwnProperty(n)&&(t[n]||(t[n]=e[n]));delete this.wrap,delete this.register,delete this.clear},this.hasProperty=function(t){var n=!1;for(var r in e)if(e.hasOwnProperty(r)&&t==r){n=!0;break}return n},this.clear=function(e){for(var n in t)t.hasOwnProperty(n)&&delete e[n]}}),$R.service["class"]("Objects",[function AreaObjectClass(){}]),$R.service["class"]("Objects",["+Mouse",function CircleObjectClass(e){this.mouseCheckFunction(e.circleCheckFunction)}]),$R.service["class"]("Objects",["Tree",function DefaultObjectType(e){e.root(this).append(this)}]),$R.service["class"]("Objects",function GroupObjectClass(){}),$R.service["class"]("Objects",["+Mouse",function ImageObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction)}]),$R.service["class"]("Objects",function LineObjectClass(){}),$R.service["class"]("Objects",["+Mouse",function RectangleObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction);var t=this.extension("Mouse");t.cursorTransformFunction(e.rectCursorTransformFunction)}]),$R.service["class"]("Objects",["+Mouse",function SpriteObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction)}]),$R.service["class"]("Objects",["+Mouse",function TextObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction)}]),$R.service["class"]("Resource",["@extend","Debug",function Audio(e,t){function createAudio(){var e=new XMLHttpRequest;e.open("GET",o,!0),e.responseType="arraybuffer",e.onload=function(e){r(1),i=this.response,n("load",[i])},e.onerror=function(){r(-2),n("error",[]),t.error({url:o},"Unable to load audio [{url}].")},e.send()}e(this,"$Resource"),this.type="Audio";var n=null,r=null,o=null,i=null;this.on("init",function(e,t,i){n=t,r=i,o=e,createAudio()}),this["export"]=function(){return i}}]),$R.service["class"]("Resource",["@extend","Debug","@Config","@Fonts",function Font(e,t,n,r){function getFont(){r.font(s,a,u,c),document.getElementsByTagName("body")[0].appendChild(f),l=!0;var e=1e3,n=0,p=[f.offsetWidth,f.offsetHeight];f.style.fontFamily='"'+r.format(a)+"-"+u+'", sans-serif',h=setInterval(function(){f.offsetWidth===p[0]&&f.offsetHeight===p[1]||(document.getElementsByTagName("body")[0].removeChild(f),l=!1,clearInterval(h),o(1),i("load",[])),n++,n>e&&(o(-2),i("error",[]),t.warn({font:a+"-"+u},"Unable to load font [{font}]. Font pending timed out..."),document.getElementsByTagName("body")[0].removeChild(f),l=!1,clearInterval(h))},50)}e(this,"$Resource"),this.type="Font";var o=null,i=null,a=null,s=n.watch("fontDir",function(e){s=e,l&&document.getElementsByTagName("body")[0].removeChild(f),h&&window.clearInterval(h),getFont()}),u=(r.formats(),null),c=null,l=!1,f=document.createElement("div");f.setAttribute("class","reflect-font-loader-element"),f.style.fontFamily="sans-serif",f.style.fontSize="12px",f.style.lineHeight="12px",f.style.position="absolute",f.style.left="-9999px",f.style.top="-9999px",f.innerText='abcdefghijklmnopqrstuvwxyz 1234567890[!?,.<>"£$%^&*()~@#-=]',this.on("init",function(e,t,n){i=t,o=n,a=e[0],u=e[1],c=e[2],f.style.fontStyle=c,getFont()});var h=null;this["export"]=function(){return r.format(a)}}]),$R.service["class"]("Resource",["@extend","Debug",function Image(e,t){function CreateImage(){i=document.createElement("img"),i.addEventListener("load",function(){o(1),a=i.width,s=i.height,r("load",[])}),i.addEventListener("error",function(){o(-2),r("error",[]),t.error({url:n},"Unable to load image [{url}].")}),i.setAttribute("src",n)}e(this,"$Resource");var n=null,r=null,o=null,i=null,a=0,s=0;this.type="Image",this.on("init",function(e,t,i){r=t,o=i,n=e,CreateImage()}),this.width=function(){return a},this.height=function(){return s},this["export"]=function(){return i}}]),$R.service["class"]("Resource",["@extend","Debug",function Resource(e,t){function setStatus(e){return"number"!=typeof e?void t.error({val:e},"[{val}] is not valid value for status"):e>1||e<-2?void t.error({val:e},"[{val}] no such status possible!"):void(i=e)}function ResolveEvent(e,n){if(a[e]){n="object"==typeof n&&n.constructor==Array?n:[];for(var o=0;o<a[e].length;o++)a[e][o].apply(r,n)}else t.warn({e:e},"Unable to set event {e}. No such event!")}var n=null,r=this,o=!1,i=-1;this.loaded=function(){return 1==i},this.error=function(){return i==-2},this.loading=function(){return 0==i},this.url=function(e){return void 0==e?n:(void 0==n&&(n=e,i=0,o?ResolveEvent("init",[n]):(ResolveEvent("init",[n,ResolveEvent,setStatus]),o=!0)),n)};var a={init:[],load:[],error:[],loading:[]};this.on=function(e,n){var r=a[e],n="function"==typeof n&&n;return"load"==e&&1==i&&n.call(this),"error"==e&&i==-2&&n.call(this),r&&n?void a[e].push(n):void t.warn({e:e},"Unable to set handler for event [{e}].")}}]),$R.service["class"]("Resource",["@extend","Debug",function Sprite(e,t){function CreateCanvasArray(){for(var e=0,t=0;t<o;t++){g.push([]);for(var n=0;n<o;n++)e++,e<i&&g[t].push(document.createElement("canvas"))}}function SetCanvasSize(){c=Math.round(u/o),l=Math.round(s/o);for(var e=0;e<o;e++)for(var t=0;t<o;t++)if(g[e][t]){g[e][t].setAttribute("width",l),g[e][t].setAttribute("height",c);var n=g[e][t].getContext("2d");n.translate(-l*t,-c*e),n.drawImage(r,0,0)}}e(this,"$Resource");var n=null,r=null,o=0,i=0,a=0,s=0,u=0,c=0,l=0,f=12,h=null,p=null,v=!1,g=[];this.type="Sprite",this.on("init",function(e,t,o){h=o,p=t,n=e,r=document.createElement("img"),r.addEventListener("load",function(){h(1),s=r.width,u=r.height,v&&(CreateCanvasArray(),SetCanvasSize()),p("load",[])}),r.addEventListener("error",function(){h(-2),p("error",[])}),r.setAttribute("src",n)}),this.ready=function(){return v},this.width=function(){return l},this.height=function(){return c},this.spriteWidth=function(){return s},this.spriteHeight=function(){return u},this.fps=function(e){return"number"!=typeof e||e<=0?(t.warn({n:e},"[{n}] is not a correct fps number"),!1):(f=e,void(a=Math.round(i/f*1e3)))};var d=!1;this.pause=function(){d=!0},this.play=function(){d=!1},this.config=function(e){if(!v){if("number"!=typeof e||e<=0)return void t.warn({rows:e},"[{rows}] is not a valid frames number");o=Math.ceil(Math.sqrt(e)),i=e,a=Math.round(i/f*1e3),v=!0,CreateCanvasArray()}},this.frames=function(){return i};var y=0,m=0,b=(new Date).getTime();this.tick=function(e){if(e=e.getTime(),!d){var t=(e-b)/a;t>1&&(t=1,b=(new Date).getTime()),t<0&&(t=0);var n=Math.floor((i-1)*t);m=Math.floor(n/o),y=n-m*o}},this["export"]=function(){if(g[m][y])return g[m][y]}}]),$R.service["class"]("Sound",["@inject","Debug",function AnimationProvider(e,t){function findCompetitor(e,t){t.$$SELF=!0;for(var r=null,o=0;o<n.length;o++)if(!n[o].$$SELF&&n[o].active()&&!n[o].done()){for(var i=!1,a=0;a<e.length;a++)if(n[o].hasProperty(e[a])){i=!0;break}i&&(r||(r=[]),r.push(n[o]))}return delete t.$$SELF,r}function CheckAnimationQueue(){for(var e=[],t=0;t<n.length;t++)if(n[t].active())n[t].done()||e.push(n[t]);else{var r=n[t].properties();if(n[t].queue())findCompetitor(r,n[t])||n[t].start();else{var o=findCompetitor(r,n[t]);if(o)for(var i=0;i<o.length;i++)for(var a=0;a<r.length;a++)o[i].stop(r[a]);n[t].start()}e.push(n[t])}n=e}function CreateAnimationType1(t,r,i,a){var s={};if(s[t]=r,o[t]){var u=[{ordering:o[t].ordering(),morph:o[t],value:r}],c={};i&&"number"==typeof i&&(c.duration=i),a&&"string"==typeof a&&(c.easing=a);var l=e("$Animation");l.config(this,u,c,CheckAnimationQueue),n.push(l)}}function CreateAnimationType2(r,i,a){var s={};"object"==typeof i?s=i:"number"==typeof i?(s={duration:i},"string"==typeof a&&(s.easing=a)):"string"==typeof i&&(s={easing:i});var u={};for(var c in r)r.hasOwnProperty(c)&&(o[c]?u[c]={ordering:o[c].ordering(),morph:o[c],value:r[c]}:t.warn({type:this.type(),property:c},"Property {property} of {type} can not be animated!"));var l=[];for(var f in u)l.push(u[f]);if(l.length){l.sort(function(e,t){return e.ordering-t.ordering});var h=e("$Animation");h.config(this,l,s,CheckAnimationQueue),n.push(h)}else t.warn("No properties to animate!")}var n=[],r=!1,o={};this.morph=function(t,n,r,i){var a=e("$Morph");a.config(t,this,n,r,i),a.valid()&&(o[t]=a)},this.extractMorph=function(e){return o[e]},this.animate=function(e,n,r,o){"string"==typeof e&&n?CreateAnimationType1.apply(this,arguments):"object"==typeof e&&e.constructor!==Array?CreateAnimationType2.apply(this,arguments):t.warn("Unable to create animation. Wrong arguments"),CheckAnimationQueue()},this.animated=function(){return r},this.stop=function(e){if("string"==typeof e&&0!==e.length)for(var t=0;t<n.length;t++)n[t].stop(e)}}]),$R.service["class"]("Sound",["@inject","Debug",function Audio(e,t){function eventArgs(){return[s,u,r,o]}function createAnimationMorph(e,t){a.morph.apply(this,[t.name,0,function(n,r,o){o=t.normalizer(o),void 0!==o&&(r(o),n(e.get(t.name)))},function(n){return n=t.normalizer(n),e.set(t.name,n)}])}var n=null,r=null,o=null,i=e("$EventProvider"),a=e("$AnimationProvider"),s=this,u=null,c="";i.wrap(this),i.event("ready",eventArgs,!0),i.event("load",eventArgs,!0),i.event("error",eventArgs,!0),i.event("play",eventArgs,!1),i.event("connect",eventArgs,!1),i.event("disconnect",eventArgs,!1),i.event("end",eventArgs,!1),this.build=function(a,s){if("string"==typeof a&&a.length>0){"string"==typeof s&&"destination"!==s&&s.length>0?(r=s,n=e("$UserAudioSource").build(s),o="Sample",n.on("load",function(){i.resolve("load")}),this.play=function(){return n.play(),this},this.terminate=function(){return n.stop(),this}):"destination"===s?(n=e("$UserAudioMixer").build(a,s),this.connect=function(){return arguments[0]&&"object"==typeof arguments[0]&&arguments[0].$$SOURCE?n:this},r="["+a+"]AudioChannel",o="Channel",i.resolve("load")):void 0===s&&(n=e("$UserAudioMixer").build(a),r="["+a+"]AudioChannel",o="Channel",i.resolve("load")),n.on("error",function(){i.resolve("error")}),n.on("play",function(){i.resolve("play")}),n.on("end",function(){i.resolve("end")}),n.on("connect",function(){i.resolve("connect")}),n.on("disconnect",function(){i.resolve("disconnect")});for(var u=n.filters(),l=0;l<u.length;l++)for(var f=u[l].props(),h=0;h<f.length;h++)f[h].animated&&createAnimationMorph.apply(this,[u[l],f[h]]);c=a,i.resolve("ready")}else t.warn("Audio mixer have no name! Should be a string");return this},this.filter=function(e,r){if("string"==typeof e&&e.length>0){for(var o=null,i=n.filters(),a=0;a<i.length;a++)i[a].has(e)&&(o=i[a]);if(o){if(void 0===r)return o.get(e);o.set(e,r)}else t.warn({name:e},"Unable to set filter property [{name}]. No filter with that param!")}return this},this.connect=function(e){if(e&&"object"==typeof e&&e.$$SOURCE)return n;if("object"==typeof e&&e.type&&"function"==typeof e.type){var r=e.type();if("Channel"===o&&"Sample"===r)return t.error("Trying to connect Channel with Sample!"),this;if(e.connect&&"function"==typeof e.connect){var i=e.connect({$$SOURCE:!0});return u=e,n.connect(i),e}t.error("Unknown type of  object passed as output!")}else t.error("Unknown type of  object passed as output!");return this},this.output=function(){return u},this.animate=function(){return a.animate.apply(this,arguments),this},this.type=function(e){return"string"==typeof e?e===o:o},this.url=function(){return r},this.name=function(){return c},this.stop=function(){return a.stop.apply(this,arguments),this}}]),$R.service["class"]("Sound",["@inject","@Config","Debug",function UserAudioMixer(e,t,n){function argF(){return[this]}var r=e("$EventProvider"),o=[],i=null,a="",s=t.watch("filters",function(e){o=e});r.wrap(this),r.event("play",argF,!1),r.event("connect",argF,!1),r.event("ready",argF,!0),r.event("error",argF,!0),this.build=function(t,i){for(var u=0;u<s.length;u++){var c=e("$"+s[u]+"Node");o[o.length-1]&&o[o.length-1].connect(c),o.push(c)}if("string"==typeof t&&t.length>0?a=t:(n.warn({n:t},"[{n}] is not a valid name for channel"),r.resolve("error")),i&&"object"==typeof i&&i.connect&&"function"==typeof i.connect)this.connect(i);else if("destination"===i){var l=e("$DestinationNode");o[o.length-1].connect(l),this.connect=function(e){if(e.$$AUDIONODE)return o[0]}}return delete this.build,this},this.connect=function(e){if(e.$$AUDIONODE)return o[0];var t=e.connect({$$AUDIONODE:!0});return o[o.length-1].connect(t),i=e,this},this.output=function(){return i},this.filters=function(){return o},this.name=function(){return a}}]),$R.service["class"]("Sound",["@extend","@inject",function UserAudioSource(e,t){function cbArgs(){return[this]}function connectCbArgs(){return[this,i]}var n=t("$AudioSource"),r=t("$EventProvider"),o=null,i=null,a="";r.wrap(this),r.event("ready",cbArgs,!0),r.event("load",cbArgs,!0),r.event("error",cbArgs,!0),r.event("connect",connectCbArgs,!1),r.event("play",cbArgs,!1),r.event("stop",cbArgs,!1),n.on("ready",function(){r.resolve("ready")}),n.on("load",function(){r.resolve("load")}),n.on("error",function(){r.resolve("error")}),this.build=function(e){return"string"==typeof e&&e.length>0?(a=e,n.build(e),o=t("$UserAudioMixer").build("source-built-in-filter"),o.on("connect",function(){r.resolve("connect")}),n.connect(o.connect({$$AUDIONODE:!0})),delete this.build,r.resolve("ready")):(delete this.build,r.resolve("error")),this},this.filters=function(){return o?o.filters():[]},this.play=function(){return this.status("error")||this.status("ready")&&(this.status("load")?n.play():this.on("load",function(){n.play()})),this},this.stop=function(){return n.stop(),this},this.output=function(){return i},this.connect=function(e){return e&&e.constructor===o.constructor&&(i=e,o.connect(e)),this}}]),$R.service["class"]("Sound",["@Audio","@extend",function DelayNode(e,t){t(this,"$AudioNode");var n=0,r=0,o=e.context().createGain(),i=e.context().createDelay(),a=e.context().createGain(),s=e.context().createBiquadFilter();o.gain.value=1,s.frequency.value=2e3,a.gain.value=r,i.delayTime.value=n,i.connect(a),a.connect(s),s.connect(i),a.connect(o),this.build("delay",[o,a],o),this.property("delay",[0,0],function(e){if("object"==typeof e&&e.constructor===Array&&2==e.length&&"number"==typeof e[0]&&"number"==typeof e[1]){var t=e[0],o=e[1];return t>1&&(t=1),t<0&&(t=0),o>.8&&(o=.8),o<0&&(o=0),n=t,r=o,i.delayTime.value=n,a.gain.value=r,[o,t]}},function(e){return[e[0],e[1]]},function(e){var t=e[0],n=e[1];return t>1&&(t=1),t<0&&(t=0),n>.8&&(n=.8),n<0&&(n=0),[n,t]})}]),$R.service["class"]("Sound",["@Audio","@extend",function DestinationNode(e,t){t(this,"$AudioNode"),this.build("destination",e.context().destination,!1)}]),$R.service["class"]("Sound",["@Audio","@extend",function GainNode(e,t){t(this,"$AudioNode");var n=1,r=e.context().createGain();r.gain.value=n,this.build("gain",r,r),this.property("volume",1,function(e){if("number"==typeof e)return e<0&&(e=0),e>1&&(e=1),n=e,r.gain.value=n,e},function(e){return e},function(e){return e<0&&(e=0),e>1&&(e=1),e})}]),$R.service["class"]("Sound",["@Audio","@extend",function LowpassNode(e,t){t(this,"$AudioNode");var n=e.context().createBiquadFilter(),r=22050;n.type="lowpass",n.frequency.value=r,this.build("lowpass",n,n),this.property("lowpass",22050,function(e){return e<0&&(e=0),e>22050&&(e=22050),r=e,n.frequency.value=e,e},function(e){return e},function(e){return e<0&&(e=0),e>22050&&(e=22050),e})}]),$R.service["class"]("Sound",["@inject","Debug",function AudioNode(e,t){function args(){return[o]}var n=null,r=null,o=null,i=function(e,t){if(!t)for(var n=this.input(),r=0;r<n.length;r++)e.connect(n[r]);return this.output()},a=[],s=e("$EventProvider"),u="";s.wrap(this),s.event("ready",args,!0),s.event("play",args,!1),s.event("end",args,!1),s.event("connect",args,!1),s.event("disconnect",args,!1),s.event("property",args,!1),this.disconnect=function(){if(o&&n){for(var e=o.input(),t=0;t<n.length;t++)for(var r=0;r<e.length;r++)n[t].disconnect(e[r]);o=null,s.resolve("disconnect")}return this},this.connect=function(e){if(this.disconnect(),o=e,o&&n)for(var t=o.input(),r=0;r<n.length;r++)for(var i=0;i<t.length;i++)n[r].connect(t[r]);return s.resolve("connect"),this},this.build=function(e,t,o,a){return r="object"==typeof t&&t.constructor===Array?t:[t],n="object"==typeof o&&o.constructor===Array?o:[o],u=e,"function"==typeof a&&(i=a),delete this.build,s.resolve("ready"),this},this.input=function(){return r},this.output=function(){return n},this.name=function(){return u},this.play=function(e,t){a.push(e),e.addEventListener("ended",function(){var t=[];e.$$SEARCH=!0;for(var n=0;n<a.length;n++)a.$$SEARCH||t.push(a[n]);delete e.$$SEARCH,a=t}),o&&o.play(e,i.apply(this,arguments))};var c={};this.property=function(e,n,r,o,i){if("string"==typeof e){var a={name:e,value:null,getter:null,setter:null,normalizer:i,animated:"function"==typeof i};"function"==typeof o&&(a.getter=o),"function"==typeof r&&(a.setter=r),a.value=n,n&&a.setter&&(c[a.name]?t.warn({property:a},"Duplicated property [{property}]"):c[a.name]=a)}else t.warn({name:e},"Property name [{name}] is not valid!")},this.set=function(e,n){if("string"==typeof e&&e.length>0){var r=c[e].setter(n);void 0!==r?c[e].value=r:t.warn({prop:e,val:n},"[{val}] is not a valid valuen for [{prop}].")}},this.get=function(e){if("string"==typeof e&&e.length>0){if(c[e])return c[e].value;t.warn({name:e},"Object has no property [{name}]. Unable to get value.")}else t.warn("Property name has to be a string")},this.props=function(){var e=[];for(var t in c)c.hasOwnProperty(t)&&e.push(c[t]);return e},this.has=function(e){return!!c[e]}}]),$R.service["class"]("Sound",function AudioNodeSoundDispatcher(){var e=[];this.register=function(t){t.addEventListener("end",function(){t.$$SEARCH=!0;for(var n=[],r=0;r<e.length;r++)e[r].$$SEARCH||n.push(e[r]);e=n}),e.push(t)},this.reconnect=function(t){for(var n=0;n<e.length;n++)e[n].disconnect(),e[n].connect(t)}}),$R.service["class"]("Sound",["@Audio","@inject","Resource","Debug",function AudioSource(e,t,n,r){function args(){return[o,i,a]}var o=null,i=null,a=null,s=t("$EventProvider"),u=[];s.wrap(this),s.event("ready",args,!0),s.event("load",args,!0),s.event("error",args,!0),s.event("connect",args,!1),s.event("disconnect",args,!1),s.event("play",!1),s.event("end",!1),this.build=function(t){return o=n.audio(t),o.on("load",function(n){e.context().decodeAudioData(n,function(e){i=e,s.resolve("load")},function(){r.error({src:t},"[{src}] audio buffer can not be decoded. Resource not found, or of wrong format"),s.resolve("error")})}),o.on("error",function(){r.error({src:t},"Unable to load audio file"),s.resolve(error)}),delete this.build,this},this.disconnect=function(){return a&&(a=null,s.resolve("disconnect")),this},this.connect=function(e){return this.disconnect(),a=e,s.resolve("connect"),this},this.play=function(){if(a&&this.status("load")){var t=e.context().createBufferSource();t.buffer=i,u.push(t),a.play(t,!1),t.start(0)}return this},this.stop=function(){for(var e=0;e<u.length;e++)u[e].stop(0);return u=[],this}}]),$R.service["class"]("Sound",["Debug",function Event(e){var t=[],n=!1,r="default",o=!1,i=this,a=function(){return[]};this.build=function(e,t,o){return n=!!o,"function"==typeof t&&(a=t),"string"==typeof e&&e.length>0&&(r=e),delete this.build,this},this.name=function(){return r},this.active=function(){return o},this.resolve=function(){n&&(o=!0);var e=a();if("object"!=typeof e||e.constructor!==Array)e=[];else for(var r=0;r<t.length;r++)t[r].apply(this,e);return this},this.callback=function(e){if("function"!=typeof e)return this;if(i.active()){var n=a();return"object"==typeof n&&n.constructor===Array||(n=[]),e.apply(this,n),t.push(arguments[0]),this}return t.push(e),this}}]),$R.service["class"]("Sound",["@inject",function EventProvider(e){var t=[];this.event=function(n,r,o){var i=e("$Event");return i.build.apply(i,arguments),t[n]=i,this},this.resolve=function(e){return t[e]&&t[e].resolve.call(t[e]),this},this.wrap=function(e){return e.on=function(n,r){t[n]&&t[n].callback.call(e,r)},e.status=function(e){return!!t[e]&&t[e].active()},this}}]),$R.service["class"]("State",function Property(){var e=null,t=[];this.set=function(n){for(var r=0;r<t.length;r++)t[r](n,e);e=n},this.onset=function(e){"function"==typeof e&&t.push(e)}}),$R.service["class"]("State",["@inject",function State(e){function GetPropertyCallback(e){return function(n,r){if(t[e])for(var o=0;o<t.length;o++)t[e][o](n,r)}}var t={},n={};this.define=function(t,r){return n[t]?void n[t].set(r):(n[t]=e("$Property"),n[t].onset(GetPropertyCallback(t)),void n[t].set(r))},this.watch=function(e,r){"string"==typeof e&&"function"==typeof r&&(t[e]||(t[e]=[]),n[e]||this.def(e,null),t[e].push(r))}}]),$R.service["class"]("Objects",["@inject","+Drawer","+Path","+Model",function AreaObjectDrawer(e,t,n,r){function UpdateFill(e){var r=this.extension("Box").box().sprite(),o=this.extension("Style"),i=o.get("path");e.save(),e.translate(r.margin[3]-h,r.margin[0]-p);var a=o.get("interpolation");c||(n.interpolate(i,a,!0),c=!0),a?t.drawBezierPathFill(e,i,o):t.drawLinePathFill(e,i,o),e.restore()}function UpdateStroke(e){var o=this.extension("Box").box().sprite(),i=this.extension("Style"),a=r.cloneArray(i.get("path")),s=i.get("interpolation");e.translate(o.margin[3]-h,o.margin[0]-p),c||(n.interpolate(a,s,!0),c=!0),s&&t.drawLinePath(e,a,i),t.drawBezierPath(e,a,i)}function UpdateBg(e){var i=this.extension("Style"),a=this.extension("Box").box().sprite(),s=r.cloneArray(i.get("path")),u=i.get("interpolation");e.translate(a.margin[3]-h,a.margin[0]-p),c||(n.interpolate(s,u,!0),c=!0),u?t.drawLineBgClipPath(e,s,i,o,a):t.drawBezierBgClipPath(e,s,i,o,a)}var o=e("$GraphicsAssembler"),i=this.extension("Box"),a=this.extension("Style"),s=this.extension("Matrix"),u=this.extension("Drawer"),c=!1,l=1,f=0,h=0,p=0;o.layer(0,"fill",UpdateFill.bind(this)),o.layer(1,"bg",UpdateBg.bind(this)),o.layer(2,"stroke",UpdateStroke.bind(this)),o.box(i),this.watch("path",function(){a.get("interpolation");c=!1,i.purge(),s.purge(),o.resize(),o.update("fill"),o.update("stroke"),o.update("bg")}),this.watch("interpolation",function(e,t){c=!1,f=Math.round(40*t),o.update("fill"),o.update("stroke"),o.update("bg"),o.resize()}),this.watch("position",function(){i.purge(),s.purge()}),this.watch(["strokeStyle","strokeColor"],function(){o.update("stroke"),o.resize()}),this.watch("fill",function(){o.update("fill")}),this.watch(["bg","bgSize","bgPosition"],function(){o.update("bg")}),this.watch("strokeWidth",function(e,t){for(var n=0,r=0;r<t.length;r++)t[r]>n&&(n=t[r]);l=n/2,o.update("stroke"),i.purge(),s.purge(),o.resize()}),i.f(function(e){for(var t=a.get("position"),n=a.get("path"),r=a.get("anchor"),o=t[0],i=t[1],s=1/0,u=1/0,c=-(1/0),v=-(1/0),g=0;g<n.length;g++)n[g][0]<s&&(s=n[g][0]),n[g][2]<s&&(s=n[g][2]),n[g][1]<u&&(u=n[g][1]),n[g][3]<u&&(u=n[g][3]),n[g][0]>c&&(c=n[g][0]),n[g][2]>c&&(c=n[g][2]),n[g][1]>v&&(v=n[g][1]),n[g][3]>v&&(v=n[g][3]);s===1/0&&(s=0),u===1/0&&(u=0),c===-(1/0)&&(c=0),v===-(1/0)&&(c=0),h=s,p=u;var d=l+f,y=Math.abs(c-s),m=Math.abs(v-u);"center"===r[0]&&(o-=y?y/2:0),"right"===r[0]&&(o-=y?y:0),"middle"===r[1]&&(i-=m?m/2:0),"bottom"===r[1]&&(i-=m?m:0),e.set(o+h,i+p,y,m,d,d,d,d)}),u.f(function(e){t.transform(this,e),o.draw(e)})}]),$R.service["class"]("Objects",["+Drawer","Debug","@inject",function CircleObjectDrawer(e,t,n){function UpdateStroke(e){var t=i.box().sprite();e.beginPath(),e.strokeStyle=a.get("strokeColor"),e.lineWidth=a.get("strokeWidth"),e.setLineDash(a.get("strokeStyle")),e.arc(t.size[0]/2,t.size[1]/2,a.get("radius"),0,2*Math.PI),e.stroke()}function UpdateFill(e){var t=i.box().sprite();e.beginPath(),e.fillStyle=a.get("fill"),e.arc(t.size[0]/2,t.size[1]/2,a.get("radius"),0,2*Math.PI),e.fill()}function UpdateBg(e){var t=i.box().sprite(),n=i.box().value();e.beginPath(),e.arc(t.size[0]/2,t.size[1]/2,a.get("radius"),0,Math.PI/2),e.clip();for(var o=a.get("bgPosition"),s=a.get("bgSize"),u=a.get("bg"),c=0;c<u.length;c++)if(u[c].loaded()){e.save();var l=n.size[0]*s[c][0],f=n.size[1]*s[c][1],h=n.size[0]*o[c][0],p=n.size[1]*o[c][1];e.translate(t.margin[3]+h,t.margin[0]+p),e.drawImage(u[c]["export"](),0,0,l,f),e.restore()}else u[c].on("load",function(){r.update("bg")})}var r=n("$GraphicsAssembler"),o=this.extension("Drawer"),i=this.extension("Box"),a=this.extension("Style"),s=this.extension("Matrix"),u=1;r.layer(0,"fill",UpdateFill.bind(this)),r.layer(1,"bg",UpdateBg.bind(this)),r.layer(2,"stroke",UpdateStroke.bind(this)),r.box(i),i.f(function(e){var t=a.get("radius"),n=a.get("position"),r=a.get("anchor"),o=2*t,i=n[0],s=n[1];"center"===r[0]&&(i-=t),"right"===r[0]&&(i-=o),"middle"===r[1]&&(s-=t),"bottom"===r[1]&&(s-=o),e.set(i,s,o,o,u,u,u,u)}),this.watch("radius",function(){r.update("stroke"),r.update("bg"),r.update("fill"),i.purge(),s.purge(),r.resize()}),this.watch("fill",function(){r.update("fill")}),this.watch("position",function(){i.purge()}),this.watch("strokeWidth",function(e,t){t!==e&&(u=t,i.purge(),r.update("stroke"),s.purge(),r.resize())}),this.watch(["strokeStyle","strokeColor"],function(){r.update("stoke")}),this.watch(["bg","bgPosition","bgSize"],function(){r.update("bg")}),o.f(function(t){e.transform(this,t),r.draw(t)})}]),$R.service["class"]("Objects",["Debug","+Matrix",function DefaultObjectDrawer(e,t){var n=this.extension("Matrix");n.f(function(){return t.objectMatrix(this)}),this.watch(["position","rotate","translate","scale","skew"],function(){n.purge()})}]),$R.service["class"]("Objects",["+Drawer",function GroupObjectDrawer(e){var t=this.extension("Drawer"),n=this.extension("Layers"),r=this.extension("Box"),o=this.extension("Style");r.f(function(e){var t=1/0,r=1/0,i=-(1/0),a=-(1/0);n.forEach(function(){var e=this.extension("Box").box().value();e.position[0]<t&&(t=e.position[0]),e.position[1]<r&&(r=e.position[1]),e.position[0]+e.size[0]>i&&(i=e.position[0]+e.size[0]),e.position[1]+e.size[1]>a&&(a=e.position[1]+e.size[1])});var s=o.get("position");t===1/0&&(t=0),i===-(1/0)&&(i=0),r===1/0&&(r=0),a===-(1/0)&&(a=0),e.set(t+s[0],r+s[1],i-t,a-r,0,0,0,0)});var i=[0,0];this.watch("position",function(e,t){i=t,r.purge()}),t.f(function(t,r,i){var a=arguments;t.save(),t.globalAlpha*=o.get("opacity"),e.transform(this,t),n.forEach(function(){var e=this.extension("Drawer"),n=this.type();if("Group"===n)e.draw.apply(this,a);else{var r=this.extension("Style");t.save(),t.globalCompositeOperation=r.get("blending"),t.globalAlpha*=r.get("opacity"),e.draw.apply(this,a),t.restore()}}),t.restore()})}]),$R.service["class"]("Objects",["+Drawer","Resource",function ImageObjectDrawer(e,t){var n=this.extension("Style"),r=this.extension("Box"),o=this.extension("Drawer"),i=this.extension("Matrix"),a=null,s=null,u=null;this.watch("src",function(e,n){e!==n&&(u=t.image(n),u.on("load",function(){null===a&&(a=u.width()),null===s&&(s=u.height()),i.purge(),r.purge()}))}),this.watch("size",function(e,t){e[0]===t[0]&&e[1]===t[1]||(a=t[0],s=t[1],r.purge())}),this.watch("position",function(e,t){e[0]===t[0]&&e[1]===t[1]||r.purge()}),r.f(function(e){var t=n.get("position"),r=n.get("anchor"),o=t[0],i=t[1];"center"===r[0]&&(o-=a?a/2:0),"right"===r[0]&&(o-=a?a:0),"middle"===r[1]&&(i-=s?s/2:0),"bottom"===r[1]&&(i-=s?s:0),e.set(o,i,a?a:0,s?s:0,0,0,0,0)}),o.f(function(t){u&&u.loaded()&&!u.error()&&null!==a&&null!==s&&a>0&&s>0&&(e.transform(this,t),t.drawImage(u["export"](),0,0,a,s))})}]),$R.service["class"]("Objects",["@inject","Debug","+Drawer","+Path",function LineObjectDrawer(e,t,n,r){function UpdateCanvas(){var e=o.box().sprite(),t=i.get("path"),s=i.get("interpolation");if(a.width()!==e.size[0]||a.height()!==e.size[1]){var l=e.size[0],f=e.size[1];a.width(l),a.height(f)}g.clearRect(0,0,e.size[0],e.size[1]),g.save(),c||(r.interpolate(t,s),c=!0),g.translate(e.margin[3]-p,e.margin[0]-v),s>0?t.length>0&&n.drawBezierPath(g,t,i):t.length>0&&n.drawLinePath(g,t,i),g.restore(),u=!1}var o=this.extension("Box"),i=this.extension("Style"),a=e("$Canvas"),s=this.extension("Matrix"),u=!1,c=!1,l=1,f=0,h=this.extension("Drawer"),p=0,v=0;o.f(function(e){for(var t=i.get("position"),n=i.get("path"),r=i.get("anchor"),o=t[0],a=t[1],s=1/0,u=1/0,c=-(1/0),h=-(1/0),g=0;g<n.length;g++)n[g][0]<s&&(s=n[g][0]),n[g][2]<s&&(s=n[g][2]),n[g][1]<u&&(u=n[g][1]),n[g][3]<u&&(u=n[g][3]),n[g][0]>c&&(c=n[g][0]),n[g][2]>c&&(c=n[g][2]),
n[g][1]>h&&(h=n[g][1]),n[g][3]>h&&(h=n[g][3]);s===1/0&&(s=0),u===1/0&&(u=0),c===-(1/0)&&(c=0),h===-(1/0)&&(c=0),p=s,v=u;var d=l+f,y=Math.abs(c-s),m=Math.abs(h-u);"center"===r[0]&&(o-=y?y/2:0),"right"===r[0]&&(o-=y?y:0),"middle"===r[1]&&(a-=m?m/2:0),"bottom"===r[1]&&(a-=m?m:0),e.set(o+p,a+v,y,m,d,d,d,d)}),this.watch("path",function(){var e=i.get("interpolation");0!==e&&(c=!1),o.purge(),s.purge(),u=!0}),this.watch("position",function(){o.purge()}),this.watch("strokeWidth",function(e,t){for(var n=0,r=0;r<t.length;r++)t[r]>n&&(n=t[r]);l=n/2,u=!0,o.purge(),s.purge()}),this.watch("interpolation",function(e,t){e!==t&&(c=!1),f=Math.round(20*t),o.purge(),s.purge(),u=!0}),this.watch(["strokeStyle","strokeColor"],function(){u=!0});var g=a.context();h.f(function(e){u&&UpdateCanvas.call(this),n.transform(this,e),e.drawImage(a["export"](),0,0)})}]),$R.service["class"]("Objects",["@inject","+Drawer",function RectangleObjectDrawer(e,t){function normalizeRadius(e){for(var t=[e[0],e[1],e[2],e[3]],n=i.box().value(),r=[n.size[0]/2,n.size[1]/2],o=0;o<t.length;o++)t[o]>r[0]&&(t[o]=r[0]),t[o]>r[1]&&(t[o]=r[1]);return t}function drawRectPath(e,t){var n=normalizeRadius(r.get("radius")),o=.5522847498,a=i.box().value(),s=i.box().sprite();if(t){var u=r.get("strokeColor"),c=r.get("strokeWidth"),l=r.get("strokeStyle"),f=r.get("cap");e.lineCap=f}if(e.beginPath(),n[0]>0?e.moveTo(s.margin[3]+n[0],s.margin[0]):e.moveTo(s.margin[3],s.margin[0]),t&&(e.setLineDash(l[0]),e.strokeStyle=u[0],e.lineWidth=c[0]),n[1]>0){e.lineTo(a.size[0]+s.margin[3]-n[1],s.margin[0]);var h=o*n[1];e.bezierCurveTo(a.size[0]+s.margin[3]-n[1]+h,s.margin[0],a.size[0]+s.margin[3],s.margin[0]+n[1]-h,a.size[0]+s.margin[3],s.margin[0]+n[1])}else e.lineTo(a.size[0]+s.margin[3],s.margin[0]);if(t&&e.stroke(),t&&(e.setLineDash(l[1]),e.strokeStyle=u[1],e.lineWidth=c[1]),n[2]>0){var h=o*n[2];e.lineTo(a.size[0]+s.margin[3],a.size[1]+s.margin[0]-n[2]),t&&e.stroke(),t&&(e.setLineDash(l[2]),e.strokeStyle=u[2],e.lineWidth=c[2]),e.bezierCurveTo(a.size[0]+s.margin[3],a.size[1]+s.margin[0]-n[2]+h,a.size[0]+s.margin[3]-n[2]+h,a.size[1]+s.margin[0],a.size[0]+s.margin[3]-n[2],a.size[1]+s.margin[0]),t&&e.stroke()}else e.lineTo(a.size[0]+s.margin[3],a.size[1]+s.margin[0]),t&&e.stroke();if(t&&(e.setLineDash(l[2]),e.strokeStyle=u[2],e.lineWidth=c[2]),n[3]>0){var h=o*n[3];e.lineTo(s.margin[3]+n[3],a.size[1]+s.margin[0]),e.bezierCurveTo(s.margin[3]+n[3]-h,a.size[1]+s.margin[0],s.margin[3],a.size[1]+s.margin[0]-n[3]+h,s.margin[3],a.size[1]+s.margin[0]-n[3])}else e.lineTo(s.margin[3],a.size[1]+s.margin[0]);if(t&&e.stroke(),t&&(e.setLineDash(l[3]),e.strokeStyle=u[3],e.lineWidth=c[3]),n[0]>0){var h=o*n[0];e.lineTo(s.margin[3],s.margin[0]+n[0]),t&&e.stroke(),t&&(e.setLineDash(l[0]),e.strokStyle=u[0],e.lineWidth=c[0]),e.bezierCurveTo(s.margin[3],s.margin[0]+n[0]-h,s.margin[0]+n[0]-h,s.margin[0],s.margin[3]+n[0],s.margin[0]),t&&e.stroke()}else e.lineTo(s.margin[3],s.margin[0]),t&&e.stroke()}function hasRadius(){for(var e=!1,t=r.get("radius"),n=0;n<t.length;n++)if(t[n]>0){e=!0;break}return e}function hasStroke(){for(var e=r.get("strokeWidth"),t=!1,n=0;n<e.length;n++)if(e[n]>0){t=!0;break}return t}function monoStroke(){for(var e=r.get("strokeColor"),t=r.get("strokeWidth"),n=r.get("strokeStyle"),o=e[0],i=t[0],a=n[0],s=!0,u=1;u<4;u++)if(o!==e[u]||i!==t[u]||n[u][0]!==a[0]||n[u][1]!==a[1]){s=!1;break}return s}function UpdateBg(e){var t=i.box(),o=t.value(),a=t.sprite(),s=r.get("bgPosition"),u=r.get("bgSize"),c=r.get("bg");hasRadius()?drawRectPath(e):e.rect(a.margin[3],a.margin[0],o.size[0],o.size[1]),e.clip();for(var l=0;l<c.length;l++)if(c[l].loaded()){e.save();var f=o.size[0]*u[l][0],h=o.size[1]*u[l][1],p=o.size[0]*s[l][0],v=o.size[1]*s[l][1];e.translate(a.margin[3]+p,a.margin[0]+v),e.drawImage(c[l]["export"](),0,0,f,h),e.restore()}else c[l].on("load",function(){n.update("bg")})}function UpdateStroke(e){if(hasStroke()){var t=r.get("strokeColor"),n=r.get("strokeWidth"),o=r.get("strokeStyle"),a=i.box(),s=a.value(),u=a.sprite();if(hasRadius())drawRectPath(e,!0);else if(monoStroke()){var c=r.get("cap");e.lineCap=c,e.setLineDash(o[0]),e.strokeStyle=t[0],e.lineWidth=n[0],e.beginPath(),e.moveTo(u.margin[3],u.margin[0]),e.lineTo(u.margin[3]+s.size[0],u.margin[0]),e.lineTo(u.margin[3]+s.size[0],u.margin[0]+s.size[1]),e.lineTo(u.margin[3],u.margin[0]+s.size[1]),e.lineTo(u.margin[3],u.margin[0]),e.stroke()}}}function UpdateFill(e){var t=r.get("fill"),n=i.box(),o=n.value(),a=n.sprite();hasRadius()?drawRectPath(e):e.rect(a.margin[3],a.margin[0],o.size[0],o.size[1]),e.fillStyle=t,e.fill()}var n=e("$GraphicsAssembler"),r=this.extension("Style"),o=this.extension("Drawer"),i=this.extension("Box"),a=this.extension("Matrix"),s=[2,2,2,2];n.layer(0,"fill",UpdateFill.bind(this)),n.layer(1,"bg",UpdateBg.bind(this)),n.layer(2,"stroke",UpdateStroke.bind(this)),n.box(i),i.f(function(e){var t=r.get("position"),n=r.get("size"),o=r.get("anchor"),i=t[0],a=t[1];"center"===o[0]&&(i-=n[0]/2),"right"===o[0]&&(i-=n[0]),"middle"===o[1]&&(a-=n[1]/2),"bottom"===o[1]&&(a-=n[1]),e.set(i,a,n[0],n[1],s[0],s[1],s[2],s[3])}),o.f(function(e){t.transform(this,e),n.draw(e)}),this.watch("size",function(e,t){n.update("fill"),n.update("stroke"),n.update("bg"),n.resize(),a.purge(),i.purge()}),this.watch("radius",function(e,t){n.update("fill"),n.update("stroke"),n.update("bg")}),this.watch("strokeWidth",function(e,t){s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],i.purge(),n.resize(),a.purge(),n.update("fill"),n.update("stroke"),n.update("bg")}),this.watch(["position","size"],function(){i.purge(),a.purge()}),this.watch(["bg","bgSize","bgPosition"],function(){n.update("bg")}),this.watch(["strokeStyle","strokeColor"],function(){n.update("stroke")}),this.watch(["fill"],function(){n.update("fill")})}]),$R.service["class"]("Objects",["+Drawer","+Model","Resource",function SpriteObjectDrawer(e,t,n){var r=this.extension("Style"),o=this.extension("Box"),i=this.extension("Drawer"),a=this.extension("Matrix"),s=null,u=null,c=null;o.f(function(e){var t=r.get("position"),n=r.get("anchor"),o=t[0],i=t[1];"center"==n[0]&&(o-=s?s/2:0),"right"==n[0]&&(o-=s?s:0),"middle"==n[1]&&(i-=u?u/2:0),"bottom"==n[1]&&(i-=u?u:0),e.set(o,i,s?s:0,u?u:0,0,0,0,0)}),i.f(function(t,n,r){c&&c.loaded()&&!c.error()&&c.ready()&&null!==s&&null!==u&&s>0&&u>0&&(e.transform(this,t),c.tick(n),t.drawImage(c["export"](),0,0,s,u))}),this.watch("src",function(e,r){if(r!==e){var i=t.readSpriteString(r);c=n.sprite(i.url),c.config(i.frames),c.on("load",function(){null==s&&(s=c.width()),null==u&&(u=c.height()),a.purge(),o.purge()})}}),this.watch("size",function(e,t){e[0]===t[0]&&e[1]===t[1]||(s=t[0],u=t[1],o.purge())}),this.watch("position",function(e,t){e[0]===t[0]&&e[1]===t[1]||o.purge()})}]),$R.service["class"]("Objects",["@inject","+Drawer","Resource",function TextObjectDrawer(e,t,n){function UpdateTextLayer(e){r.update();var t=o.get("lineHeight"),n=(o.get("color"),o.get("fontSize")),i=o.get("align");e.beginPath();var a=t-n/5;n<t?a-=t-n:a+=n-t,r.forEachLine(function(n){e.beginPath();var o=a+n*t;e.font=this.extractFontString(),e.fillStyle=this.color(),"center"===i?e.fillText(this.string(),(r.textBlockWidth()-this.width())/2,o):"right"===i?e.fillText(this.string(),r.textBlockWidth()-this.width()-2,o):e.fillText(this.string(),2,o)})}function getFontFile(){var e="oblique"===f?"normal":f,t=n.font(c,l,e);t.on("load",function(){u=!0,i.purge(),s.purge(),r.update(!0)}),t.on("error",function(){u=!0,i.purge(),s.purge(),r.update(!0)})}function drawText(e){u&&(h.size(r.textBlockWidth(),r.textBlockHeight()),h.update("text"),u=!1),t.transform(this,e),h.draw(e)}var r=this.extension("Text"),o=this.extension("Style"),i=this.extension("Box"),a=this.extension("Drawer"),s=this.extension("Matrix"),u=!1,c=o.get("font"),l=o.get("weight"),f=o.get("style"),h=e("$GraphicsAssembler");h.layer(0,"text",UpdateTextLayer),this.watch(["str","style","font","weight","size","color","fontSize","lineHeight"],function(){u=!0,i.purge(),s.purge()}),this.watch("font",function(e,t){c=t,getFontFile()}),this.watch("style",function(e,t){f=t,getFontFile()}),this.watch("weight",function(e,t){l=t,getFontFile()}),this.watch("anchor",function(){i.purge(),s.purge()}),this.watch("position",function(){i.purge()}),i.f(function(e){var t=o.get("position"),n=o.get("anchor"),i=t[0],a=t[1];"center"===n[0]&&(i-=r.textBlockWidth()/2),"right"===n[0]&&(i-=r.textBlockWidth()),"middle"===n[1]&&(a-=r.textBlockHeight()/2),"bottom"===n[1]&&(a-=r.textBlockHeight()),e.set(i,a,r.textBlockWidth(),r.textBlockHeight(),0,0,0,0)}),a.f(drawText)}]),$R.service["class"]("Objects",["@extend","+Model","+Path","Debug",function AreaObjectModel(e,t,n,r){function SyncPathProperty(e,t){for(var n=0;n<e.length;n++)t[n]||t.push(t[t.length-1]);e.length<t.length&&t.splice(e.length-1,t.length-e.length)}e(this,"$DefaultObjectModel"),e(this,"$GlobalBackgroundModel"),e(this,"$DefaultFreeStrokeModel");var o=this.extension("Style");this.extension("Animation");o.define(0,"path",[[0,0,0,0,0,0,0,0]],function(e){if(n.checkSimplePath(e)){var t=o.get("path"),i=n.convertSimplePath(e);return i[0][0]===i[i.length-1][2]&&i[0][1]===i[i.length-1][3]||i.push([i[i.length-1][2],i[i.length-1][3],i[0][0],i[0][1],i[i.length-1][2],i[i.length-1][3],i[0][0],i[0][1]]),t.length!==i.length&&(SyncPathProperty(i,o.get("strokeStyle")),SyncPathProperty(i,o.get("strokeWidth")),SyncPathProperty(i,o.get("strokeColor"))),i}return r.warn("Area Model / Invalid value for area path!"),!1},function(e){return n.convertComplexPath(e)})}]),$R.service["class"]("Objects",["@extend","+Color","+Model","Debug",function CircleObjectModel(e,t,n,r){e(this,"$DefaultObjectModel"),e(this,"$GlobalBackgroundModel");var o=this.extension("Style"),i=this.extension("Animation");o.define(0,"radius",0,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.morph("radius",0,function(e,t,n){"number"==typeof n?(n<0&&(n=0),e(this.style("radius")),t(n)):r.warn({v:n},"[{v}] is not a valid radius value")},function(e){return e<0&&(e=0),e}),o.define(0,"strokeWidth",1,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.morph("strokeWidth",0,function(e,t,n){"number"==typeof n&&(n<0&&(n=0),e(this.style("strokeWidth")),t(n))},function(e){return e<0&&(e=0),e}),o.define(0,"strokeColor","rgba(0,0,0,1)",function(e){return"string"==typeof e?t.colorToArray(e)?e:(r.warn({val:e},"[{val}] is not a valid strokeColor value"),!1):"object"==typeof e&&e.constructor===Array?t.isColor(e)?t.arrayToColor(e):(r.warn({val:e},"[{val}] is not a valid strokeColor value"),!1):void 0},function(e){return t.colorToArray(e)}),i.morph("strokeColor",0,function(e,o,i){if("string"==typeof i){var a=t.colorToArray(i);a?(e(this.style("strokeColor")),o(a)):r.warn({v:i},"[{v}] is not a valid value for strokeColor")}else"object"==typeof i&&i.constructor===Array&&t.isColor(i)?(e(this.style("strokeColor")),o(n.cloneArray(i))):r.warn({v:i},"[{v}] is not a valid value for strokeColor")},function(e){return t.normalize(e),e}),o.define(0,"strokeStyle",[1,0],function(e){if("object"==typeof e&&e.constructor===Array){if(n.validNumericValue(e)){if(2!==e.length)return r.warn({val:e},"[{val}] is not a valid strokeStyle value."),!1;for(var t=0;t<e.length;t++)e[t]<0&&(e[t]=0);return n.cloneArray(e)}return r.warn({val:e},"[{val}] is not a valid strokeStyle value."),!1}return r.warn({val:e},"[{val}] is not a valid strokeStyle value"),!1},function(e){return n.cloneArray(e)}),i.morph("strokeStyle",0,function(e,t,o){"object"==typeof o&&o.constructor===Array&&n.validNumericArray(o)&&2===o.length?(e(this.style("strokeStyle")),t(n.cloneArray(o))):r.warn({v:o},"[{v}] is not a valid value for strokeColor")},function(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e})}]),$R.service["class"]("Objects",["+Model","+Path","Debug",function DefaultObjectModel(e,t,n){var r=this.extension("Style"),o=this.extension("Animation");r.define(2,"position",[0,0],function(t){return e.validNumericArray(t)&&2===t.length?e.cloneArray(t):(n.warn("Invalid numeric array for position!"),!1)},function(t){return e.cloneArray(t)}),o.morph("position",2,function(t,r,o){e.validNumericArray(o)&&2===o.length?(t(this.style("position")),r(e.cloneArray(o))):n.warn({v:o},"Invalid value for position")},function(e){return e}),r.define(0,"rotate",0,function(e){if("number"==typeof e)return e<-360&&(e+=360),e>360&&(e-=360),e=e*Math.PI/180},function(e){return e*(180/Math.PI)}),o.morph("rotate",0,function(e,t,r){"number"==typeof r?(e(this.style("rotate")),t(r)):n.warn({v:r},"Is not a valid value to animate rotate")},function(e){return e}),r.define(0,"translate",[0,0],function(t){return e.validNumericArray(t)&&2===t.length?e.cloneArray(t):(n.warn("Invalid numeric array for translate!"),!1)},function(t){return e.cloneArray(t)}),o.morph("translate",0,function(t,r,o){e.validNumericArray(o)&&2===o.length?(t(this.style("translate")),r(e.cloneArray(o))):n.warn({v:o},"Invalid value for translate")},function(e){return e}),r.define(0,"opacity",1,function(e){return"number"==typeof e?(e<0&&(e=0),e>1&&(e=1),e):(n.warn("Opacity value is not a number"),!1)},function(e){return e}),o.morph("opacity",0,function(e,t,r){"number"==typeof r?(r<0&&(r=0),r>1&&(r=1),e(this.style("opacity")),t(r)):n.warn({v:r},"Invalid value for translate")},function(e){return e<0&&(e=0),e>1&&(e=1),e}),r.define(0,"scale",[1,1],function(t){return"number"==typeof t?t>0?[t,t]:[0,0]:e.validNumericArray(t)&&2===t.length?e.cloneArray(t):(n.warn("Unknown type of value for scale!"),!1)},function(t){return e.cloneArray(t)}),o.morph("scale",0,function(t,r,o){if("number"==typeof o)o<0&&(o=0),t(this.style("scale")),r([o,o]);else if(e.validNumericArray(o)&&2===o.length){t(this.style("scale"));var i=[o[0],o[1]];i[0]<0&&(i[0]=0),i[1]<0&&(i[1]=0),r(i)}else n.warn({v:o},"Invalid value for scale")},function(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e}),r.define(0,"skew",[0,0],function(t){if("number"==typeof t){t>360&&(t-=360),t<-360&&(t+=360);var r=t*Math.PI/180;return[r,r]}if(e.validNumericArray(t)&&2===t.length){t[0]>360&&(t[0]=t[1]-360),t[1]<-360&&(t[1]=t[1]+360);var o=t[0]*Math.PI/180,i=t[1]*Math.PI/180;return[o,i]}n.warn({v:t},"Ubknown value format for skew. [{v}]")},function(t){return e.cloneArray(t)}),o.morph("skew",0,function(t,r,o){"number"==typeof o?(t(this.style("skew")),r([o,o])):e.validNumericArray(o)&&2===o.length?(t(this.style("skew")),r(e.cloneArray(o))):n.warn({v:o},"Invalid value for skew")},function(e){return e}),r.define(0,"origin",[.5,.5],function(t){return"object"==typeof t&&t.constructor===Array?e.validNumericArray(t)&&2===t.length?[t[0],t[1]]:(n.warn("Unknown format of value for origin. Invalid Array!"),!1):(n.warn("Unknown type of value for origin"),!1)},function(t){e.cloneArray(t)}),o.morph("origin",0,function(t,r,o){e.validNumericArray(o)&&2===o.length?(t(this.style("origin")),r(e.cloneArray(o))):n.warn({v:o},"Invalid value for origin")},function(e){return e}),r.define(2,"cap","round",function(e){return"string"==typeof e?"round"===e||"butt"===e||"square"===e?e:(n.error({val:e},"{val} is incorrect value for line cap property!"),!1):void n.error("Cap property is a string!")},function(e){return e}),"Group"!==this.type()&&(r.define(0,"blending","source-over",function(t){return e.validBlending(t)?t:(n.warn({val:t}," [{val}] is not a valid blending!"),!1)},function(e){return e}),r.define(1,"anchor",["left","top"],function(e){return"object"==typeof e&&e.constructor===Array&&2===e.length?"left"!==e[0]&&"center"!==e[0]&&"right"!==e[0]||"top"!==e[1]&&"middle"!==e[1]&&"bottom"!==e[1]?(n.warn({v:e},'[{v}] is not a valid value. Array ["left" || "center" || "right" , "top" || "middle" || "bottom" ] is required format.'),!1):[e[0],e[1]]:(n.warn({v:e},"[{v}] is not a valid anchor value for text element"),!1)},function(e){return[e[0],e[1]]}))}]),$R.service["class"]("Objects",["+Model","+Color","Debug",function DefaultFreeStrokeModel(e,t,n){var r=this.extension("Style");r.define(1,"interpolation",0,function(e){return e>.4&&(e=.4),e<0&&(e=0),e},function(e){return e}),r.define(2,"strokeColor",["rgba(0,0,0,1)"],function(e){if("string"==typeof e){if(t.colorToArray(e)){for(var o=r.get("path"),i=[],a=0;a<o.length;a++)i[a]=e;return i}return n.warn({val:e},"Line Model / {val} is not a color!"),!1}if("object"==typeof e&&e.constructor==Array){for(var o=r.get("path"),s=r.get("strokeColor"),i=[],a=0;a<o.length;a++)e[a]?"string"==typeof e[a]?t.colorToArray(e[a])?i.push(e[a]):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):("object"==typeof e[a]||e[a].constructor==Array)&&t.isColor(e[a])?i.push(t.arrayToColor(e[a])):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!"));return i.length?i:(n.warn({val:e},"Line Model / {val} is not a color!"),!1)}if("object"==typeof e){for(var o=r.get("path"),s=r.get("strokeColor"),i=[],a=0;a<o.length;a++)e[a]?"string"==typeof e[a]?t.colorToArray(e[a])?i.push(e[a]):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):("object"==typeof e[a]||e[a].constructor==Array)&&t.isColor(e[a])?i.push(t.arrayToColor(e[a])):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, no changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, no changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!"));return i.length?i:(n.warn({val:e},"Line Model / {val} is not a color!"),!1)}return n.warn("Line Model / Wrong type of value"),!1},function(e){for(var n=[],r=0;r<e.length;r++)n.push(t.colorToArray(e[r]));return n}),r.define(2,"strokeWidth",[1],function(e){if("number"==typeof e){for(var t=r.get("path"),o=[],i=0;i<t.length;i++)o.push(e);return o}if("object"==typeof e&&e.constructor==Array){for(var t=r.get("path"),a=r.get("strokeWidth"),o=[],i=0;i<t.length;i++)"number"==typeof e[i]?o.push(e[i]):a[i]?(o.push(a[i]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):(o.push(a[a.length-1]),n.warn({val:e[i]},"Line Model / {val} is not a number!"));return o}if("object"==typeof e){for(var t=r.get("path"),a=r.get("strokeWidth"),o=[],i=0;i<t.length;i++)e[i]?"number"==typeof e[i]?o.push(e[i]):a[i]?(o.push(a[i]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):(o.push(a[a.length-1]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):a[i]?(o.push(a[i]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):o.push(a[a.length-1]);return o}n.warn({val:e},"Line Model / {val} is not valid value for strokeWidth!")},function(t){return e.cloneArray(t)}),r.define(2,"strokeStyle",[[1,0]],function(t){if("object"==typeof t&&t.constructor==Array){if(e.validNumericArray(t)){for(var o=[],i=r.get("path"),a=0;a<i.length;a++)o.push(e.cloneArray(t));return o}for(var o=[],i=r.get("path"),s=r.get("strokeStyle"),a=0;a<i.length;a++)t[a]?e.validNumericArray(t[a])?o.push(t[a]):(s[a]?o.push(s[a]):o.push(s[s.length-1]),n.warn({val:t[a]},"Line Model / {val} is not a valid value for strokeStyle!")):s[a]?o.push(s[a]):o.push(s[s.length-1]);return o}if("object"==typeof t){for(var o=[],s=r.get("strokeStyle"),i=r.get("path"),a=0;a<i.length;a++)t[a]?e.validNumericArray(t[a])?o.push(t[a]):(s[a]?o.push(s[a]):o.push(s[s.length-1]),n.warn({val:t[a]},"Line Model / {val} is not a valid value for strokeStyle!")):s[a]?o.push(s[a]):o.push(s[s.length-1]);return o}},function(t){return e.cloneArray(t)})}]),$R.service["class"]("Objects",["+Model","+Color","Debug","Resource",function GlobalBackgroundModel(e,t,n,r){function SyncBgProperty(t,n,r){for(var o=0;o<t.length;o++)n[o]||n.push(e.cloneArray(r));t.length<n.length&&n.splice(t.length-1,n.length-path.length)}var o=this.extension("Style"),i=this.extension("Animation");o.define(0,"fill","rgba(0,0,0,1)",function(e){return"string"==typeof e?t.colorToArray(e)?e:(n.warn({val:e},"[{val}] is not a valid color!"),!1):"object"==typeof e&&e.constructor===Array?t.isColor(e)?t.arrayToColor(e):(n.warn({val:e},"[{val}] is not a valid color"),!1):(n.warn({val:e},"[{val}] is not a valid color!"),!1)},function(e){return t.colorToArray(e)}),i.morph("fill",0,function(r,o,i){if("string"==typeof i){var a=t.colorToArray(i);a?(r(this.style("fill")),o(a)):n.warn({v:i},"[{v}] is not avalid color!")}else"object"==typeof i&&i.constructor===Array?t.isColor(i)&&(r(this.style("fill")),o(e.cloneArray(i))):n.warn({v:i},"[{v}] is not a valid color!")},function(e){return t.normalize(e),e}),o.define(0,"bg",[],function(t){if("string"==typeof t){if(e.isSpriteString(t)){var i=e.readSpriteString(t),a=r.sprite(i.url);return a.config(i.frames),[a]}return[r.image(t)]}if("object"==typeof t||t.constructor===Array){if(2===t.length&&"string"==typeof t[0]&&"number"==typeof t[1]){if(t[1]>0){var a=r.sprite(t[0]);return a.config(t[1]),[a]}return!1}for(var s=[],u=0;u<t.length;u++)if("string"==typeof t[u])if(e.isSpriteString(t[u])){var i=e.readSpriteString(t[u]),a=r.sprite(i.url);a.config(i.frames),s.push(t)}else s.push(r.image(t[u]));else if("object"==typeof t[u]&&t[u].constructor==Array){if(2==t[u].length&&"string"==typeof t[u][0]&&"number"==typeof t[u][1])if(t[u][1]>0){var a=r.sprite(t[u][0]);a.config(t[u][1]),s.push(a)}else n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bg value. Skipped.")}else n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bg value. Skipped");return s}if("object"==typeof t){for(var c=o.get("bg"),s=[],u=0;u<c.length;u++)if(t[u])if("object"==typeof t[u]&&t[u].constructor==Array)if("string"==typeof t[u][0]&&"number"==typeof t[u][1]){var a=r.sprite(t[u][0]);a.config(t[u][1]),s.push(a)}else n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bg array value.");else if("string"==typeof t[u])if(e.isSpriteString(t[u])){var i=e.readSpriteString(t[u]),a=r.sprite(i.url);a.config(i.frames),s.push(t)}else s.push(r.image(t[u]));else s.push(c[u]),n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid value for bg.");else s.push(c[u]);return s}return n.warn({val:t},"[{val}] is not valid value for bg"),!1},function(e){for(var t=[],r=0;r<e.length;r++)"Image"==e[r].type?t.push(e[r].url()):"Sprite"==e[r].type?t.push(e[r].url()+"["+e[r].frames()+"]"):n.error({val:e[r],i:r}+"[{i}][{val}] Unknown type of the background object container. Critical error.");return t});var a=[0,0];o.define(2,"bgPosition",[a],function(t){if("object"==typeof t&&t.constructor==Array){if(e.validNumericArray(t)&&2==t.length){for(var r=o.get("bg"),i=[],s=[t[0],t[1]],u=0;u<r.length;u++)i.push(s);return i}for(var i=[],r=o.get("bg"),c=o.get("bgPosition"),u=0;u<r.length;u++)t[u]?e.validNumericArray(t[u])&&2==t[u].length?i.push([t[0],t[1]]):(c[u]?i.push(c[u]):i.push(e.cloneArray(a)),n.warn({i:u,val:t[u]},"[{i}][{val}] is not a valid bgposition value")):c[u]?i.push(c[u]):i.push(e.cloneArray(a));return i}if("object"==typeof t){for(var i=[],r=o.get("bg"),c=o.get("bgPosition"),u=0;u<r.length;u++)t.hasOwnProperty(u)?c[u]?e.validNumericValue()&&2==t[u].length?i.push([t[0],t[1]]):(i.push(c[u]),n.warn({i:u,val:t[u]},"[{i}][{val}] is not a valid bgposition value")):i.push(e.cloneArray(a)):c[u]?i.push(c[u]):i.push(e.cloneArray(a));return i}n.warn({val:t},"[{val}] is not a valid bgposition value")},function(t){return e.cloneArray(t)});var s=[1,1];o.define(1,"bgSize",[s],function(t){if("object"==typeof t&&t.constructor==Array){if(2==t.length&&e.validNumericArray(t)){for(var r=o.get("bg"),i=[],a=[t[0],t[1]],u=0;u<r.length;u++)i.push(a);return i}for(var r=o.get("bg"),c=o.get("bgSize"),i=[],u=0;u<r.length;u++)2==t[u].length&&e.validNumericArray(t[u])?i.push(t[u][0],t[u][1]):(c[u]?i.push(c[u]):i.push(e.cloneArray(s)),n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bgsize value"));return i}if("object"==typeof t){for(var r=o.get("bg"),c=o.get("bgSize"),i=[],u=0;u<r.length;u++)t.hasOwnProperty(u)?"object"==typeof t[u]&&t[u].constructor==Array&&2==t[u].length&&e.validNumericArray(t[u])?i.push([t[u][0],t[u][1]]):(c[u]?i.push(c[u]):i.push(e.cloneArray(s)),n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bgsize value.")):c[u]?i.push(c[u]):i.push(e.cloneArray(s));return i}},function(t){return e.cloneArray(t)}),this.watch("bg",function(e,t){e.length!==t.length&&(SyncBgProperty(t,o.get("bgPosition"),a),SyncBgProperty(t,o.get("bgSize"),s))})}]),$R.service["class"]("Objects",["+Model",function GlobalSizeModel(e){var t=this.extension("Animation"),n=this.extension("Style");t.morph("size",1,function(t,n,r){"number"==typeof r?(r<0&&(r=0),t(this.style("size")),n([r,r])):"object"==typeof r&&r.constructor==Array&&e.validNumericArray(r)&&2==r.length?(r[0]<0&&(r[0]=0),r[1]<0&&(r[1]=0),t(this.style("size")),n(e.cloneArray(r))):Debug.warn({v:r},"[{v}] is not valid value for size")},function(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e}),n.define(1,"size",[0,0],function(t){return"number"==typeof t?(t<0&&(t=0),[t,t]):"object"==typeof t&&t.constructor==Array&&2==t.length&&e.validNumericArray(t)?(t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),[t[0],t[1]]):(Debug.warn({val:t},"[{val}] is not valid value for size!"),!1)},function(t){return e.cloneArray(t)})}]),$R.service["class"]("Objects",["@extend",function GroupObjectModel(e){e(this,"$DefaultObjectModel")}]),$R.service["class"]("Objects",["@extend","Debug",function ImageObjectModel(e,t){e(this,"$DefaultObjectModel"),e(this,"$GlobalSizeModel");var n=this.extension("Style");n.define(0,"src",null,function(e){return"string"==typeof e?e:(t.warn({val:e},"[{val}] is not a valid src value"),!1)},function(e){return e})}]),$R.service["class"]("Objects",["@extend","+Model","+Path","+Color","Debug",function LineObjectModel(e,t,n,r,o){function SyncPathProperty(e,t){for(var n=0;n<e.length;n++)t[n]||t.push(t[t.length-1])}e(this,"$DefaultObjectModel"),e(this,"$DefaultFreeStrokeModel");var i=this.extension("Style");i.define(0,"path",[[0,0,0,0,0,0,0,0]],function(e){if(n.checkSimplePath(e)){var t=i.get("path"),r=n.convertSimplePath(e);return t.length!==r.length&&(SyncPathProperty(r,i.get("strokeStyle")),SyncPathProperty(r,i.get("strokeWidth")),SyncPathProperty(r,i.get("strokeColor"))),r}return o.warn("Line Model / Invalid value for path!"),!1},function(e){return n.convertComplexPath(e)})}]),$R.service["class"]("Objects",["@extend","+Model","+Color","Debug",function RectangleObjectModel(e,t,n,r){e(this,"$DefaultObjectModel"),e(this,"$GlobalBackgroundModel"),e(this,"$GlobalSizeModel");var i=this.extension("Style"),a=this.extension("Animation");i.define(0,"radius",[0,0,0,0],function(e){if("number"==typeof e)return e=Math.round(e),[e,e,e,e];if("object"==typeof e){if(e.constructor!==Array){for(var t=i.get("radius"),n=[],r=0;r<t.length;r++)"number"==typeof e[r]?n.push(Math.round(e[r])):n.push(t[r]);return n}for(var o=[],a=!0,r=0;r<e.length;r++){if("number"!=typeof e[r]){a=!1;break}e[r]<0?o.push(0):o.push(Math.round(e[r]))}if(a){for(var n=[],t=this.style("radius"),r=0;r<t.length;r++)void 0!==o[r]?n.push(o[r]):n.push(t[r]);return n}}},function(e){return t.cloneArray(e)}),a.morph("radius",1,function(e,t,n){if("number"==typeof n)n<0&&(n=0),e(this.style("radius")),t([n,n,n,n]);else if("object"==typeof n){var o=this.style("radius"),i=[];e(o);for(var a=0;a<o.length;a++)"number"==typeof n[a]?n[a]<0?i.push(0):i.push(Math.round(n[a])):i.push(o[a]);t(i)}else r.warn({v:n},"{v} is not a valid radius value for rectangle")},function(e){return e}),i.define(0,"strokeColor",["rgba(0,0,0,1)","rgba(0,0,0,1)","rgba(0,0,0,1)","rgba(0,0,0,1)"],function(e){if("string"==typeof e)return n.colorToArray(e)?[e,e,e,e]:(r.warn({value:val}," [{val} is not a valid stroke string"),!1);if("object"==typeof e&&e.constructor===Array){for(var t=i.get("strokeColor"),o=[],a=0;a<t.length;a++)e[a]?"string"==typeof e[a]?n.colorToArray(e[a])?o.push(e[a]):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid stroke color value!")):"object"==typeof e[a]&&e[a].constructor===Array?n.isColor(e[a])?o.push(n.arrayToColor(e[a])):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid stroke color value")):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid color value")):o.push(t[a]);return o}if("object"==typeof e){for(var t=i.get("strokeColor"),o=[],a=0;a<t.length;a++)e.hasOwnProperty(a)?"string"==typeof e[a]?n.colorToArray(e[a])?o.push(e[a]):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid color value")):"object"==typeof e[a]&&e[a].constructor===Array&&n.isColor(e[a])?o.push(n.arrayToColor(e[a])):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid color value")):o.push(t[a]);return o}return r.warn({val:e},"[{val}] is not a valid value for strokeColor!"),!1},function(e){for(var t=[],r=0;r<e.length;r++)t.push(n.colorToArray(e[r]));return t}),a.morph("strokeColor",0,function(e,o,i){if("string"==typeof i){var a=n.colorToArray(i);a?(o([t.cloneArray(a),t.cloneArray(a),t.cloneArray(a),t.cloneArray(a)]),e(this.style("strokeColor"))):r.warn({v:i},"{v} is not a valid color")}else if("object"==typeof i&&i.constructor===Array)if(n.isColor(i))o([t.cloneArray(i),t.cloneArray(i),t.cloneArray(i),t.cloneArray(i)]),e(this.style("strokeColor"));else{for(var s=this.style("strokeColor"),u=[],c=!1,l=0;l<s.length;l++)if("string"==typeof i[l]){var a=n.colorToArray(i[l]);a?(u.push(a),c=!0):u.push(f[l])}else"object"==typeof i[l]&&i[l].constructor===Array&&i[l]&&n.isColor(i[l])?(u.push(t.cloneArray(i[l])),c=!0):u.push(f[l]);c?(e(s),o(u)):r.warn({v:i},"[{v}] is not a valid value for strokeColor")}else if("object"==typeof i){for(var f=this.style("strokeColor"),u=[],c=!1,l=0;l<f.length;l++)if("string"==typeof i[l]){var a=n.colorToArray(i[l]);a?(u.push(a),c=!0):u.push(f[l])}else"object"==typeof i[l]&&i[l].constructor===Array&&n.isColor(i[l])?(u.push(t.cloneArray(i[l])),c=!0):u.push(f[l]);c?(e(f),o(u)):r.warn({v:i},"[{v}] is not a valid value for strokeColor!")}},function(e){for(var t=0;t<e.length;t++)n.normalize(e[t]);return e}),i.define(0,"strokeWidth",[1,1,1,1],function(e){if("number"==typeof e)return[e,e,e,e];if("object"==typeof e&&e.constructor===Array){for(var t=i.get("strokeWidth"),n=[],o=0;o<t.length;o++)e[o]?"number"==typeof e[o]?n.push(e[o]):(n.push(t[o]),r.warn({val:e}," [{val}] is not a valid stroke width value")):n.push(t[o]);return n}if("object"==typeof e){for(var n=[],t=i.get("strokeWidth"),o=0;o<t.length;o++)e.hasOwnProperty(o)?"number"==typeof e[o]?n.push(e[o]):(r.warn({val:e},"[{val}] is not a valid value for strokeWidth"),n.push(t[o])):n.push(t[o]);return n}return r.warn({val:e}," [{val}] is not a valid strokeWidth value"),!1},function(e){return t.cloneArray(e)}),a.morph("strokeWidth",0,function(e,t,n){if("number"==typeof n)t([n,n,n,n]),e(this.style("strokeWidth"));else if("object"==typeof n&&n.constructor===Array){for(var o=this.style("strokeWidth"),i=[],a=0;a<o.length;a++)n[a]&&"number"==typeof n[a]?i.push(n[a]):i.push(o[a]);t(i),e(o)}else if("object"==typeof n){for(var o=this.style("strokeWidth"),i=[],s=!1,a=0;a<o.length;a++)n[a]&&"number"==typeof n[a]?(i.push(n),s=!0):i.push(o[a]);s?(t(i),e(o)):r.warn({v:n}," [{v}] is not a valid strokeWidth object")}else r.warn({v:n}," [{v}] is not a valid value for strokeWidth")},function(e){return e}),i.define(0,"strokeStyle",[[1,0],[1,0],[1,0],[1,0]],function(e){if("object"!=typeof e)return r.warn({val:e}," [{val}] is not valid strokeStyle value"),!1;if(e.constructor!==Array){for(var n=[],o=i.get("strokeStyle"),a=0;a<o.length;a++)e.hasOwnProperty(a)?"object"==typeof e[a]&&e[a].constructor===Array?t.validNumericArray(e[a])&&2===e[a].length?n.push(t.cloneArray(e[a])):(n.push(o[a]),r.warn({val:e[a]},"[{val}] is not a valid strokeStyle value")):(n.push(o[a]),
r.watch({val:e[a]}," [{val}] is not a valid strokeStyle value")):n.push(o[a]);return n}if(!t.validNumericArray(e)){for(var n=[],o=i.get("strokeStyle"),a=0;a<o.length;a++)e[a]?t.validNumericArray(e[a])&&2===e.length?n.push(t.cloneArray(e[a])):(n.push(o[a]),r.warn({val:e[a]}," [{val}] is not a valid stroke style value")):n.push(o[a]);return n}return 2===e.length?[e,e,e,e]:void r.warn({v:e}," [{v}] is not a valid value for stroke width!")},function(e){return t.cloneArray(e)}),a.morph("strokeStyle",0,function(e,n,i){if("object"==typeof i)if(i.constructor===Array)if(t.validNumericArray(i))2===i.length?(e(this.style("strokeStyle")),n(t.cloneArray(i),t.cloneArray(i),t.cloneArray(i),t.cloneArray(i))):r.warn({v:i}," [{v}] is not a valid strokeStyle value!");else{for(var a=this.style("strokeStylr"),s=[],u=!1,c=0;c<a.length;c++)i[c]&&t.validNumericArray(i[c])&&2===i[c].length?(s.push(t.cloneArray(i[c])),u=!0):s.push(a[c]);u?(e(a),n(s)):r.warn({v:i},"[{v}] is not a valid strokeStyle value")}else{for(var a=this.style("strokeStyle"),s=[],u=!1,c=0;c<a.length;c++)i[c]&&t.validNumericArray(i[c])&&2===i[c].length?(s.push(t.cloneArray(i[o])),u=!0):s.push(a[c]);u?(e(a),n(s)):r.warn({v:i},"[{v}] is not a valid strokeStyleValue")}else r.warn({v:i},"[{v}] is not a valid strokeStyleValue")},function(e){return e})}]),$R.service["class"]("Objects",["@extend","+Model","Debug",function SpriteObjectModel(e,t,n){e(this,"$DefaultObjectModel"),e(this,"$GlobalSizeModel");var r=this.extension("Style");r.define(0,"src",null,function(e){return"string"==typeof e?t.isSpriteString(e)?e:(n.warn({val:e},"[{val}] is not a valid value for sprite src"),!1):"object"==typeof e&&e.constructor==Array?"string"==typeof e[0]&&"number"==typeof e[1]&&e[1]>0?e[0]+"["+e[1]+"]":(n.warn({val:e},"[{val}] is not a valid sprite src"),!1):void n.warn({val:e},"[{val}] is not a valid sprite src")},function(e){return e})}]),$R.service["class"]("Objects",["@extend","+Model","+Color","Debug","@Fonts",function TextObjectModel(e,t,n,r,o){e(this,"$DefaultObjectModel");var i=this.extension("Style"),a=this.extension("Text"),s=this.extension("Animation"),u=this;i.define(1,"size",["auto","auto"],function(e){if("string"==typeof e&&"auto"===e)return a.limits(1/0,1/0),[e,e];if("number"==typeof e)return a.limits(e,e),[e,e];if("object"==typeof e&&e.constructor===Array&&2===e.length){for(var t=!0,n=0;n<e.length;n++)if("string"!=typeof e[n]&&"number"!=typeof e[n]||"string"==typeof e[n]&&"auto"!==e[n]){t=!1;break}return t?("number"==typeof e[0]&&e[0]<0&&(e[0]=0),"number"==typeof e[1]&&e[1]<0&&(e[1]=0),a.limits("auto"===e[0]?1/0:e[0],"auto"===e[1]?1/0:e[1]),[e[0],e[1]]):(r.warn({v:e},"[{v}] is not a valid size array"),!1)}return r.warn({v:e},"[{v}] is not a valid value for size"),!1},function(e){return[e[0],e[1]]}),i.define(1,"str","",function(e){return"string"==typeof e&&e},function(e){return e});var c="sans-serif";i.define(1,"font","sans-serif",function(e){if("string"==typeof e)return c=o.format(e),u.style("systemFont",null),e},function(e){return e}),i.define(1,"systemFont",c,function(){return c},function(){return c}),i.define(1,"weight",400,function(e){return"number"==typeof e&&(e<100&&(e=100),e>900&&(e=900),e%100!==0&&(e-=e%100),e)},function(e){return e}),i.define(1,"style","normal",function(e){return"string"==typeof e&&("normal"===e||"italic"===e||"oblique"===e)&&e},function(e){return e}),i.define(1,"lineHeight",14,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.define(1,"fontSize",14,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.define(1,"color","rgba(0,0,0,1)",function(e){return"string"==typeof e?n.colorToArray(e)?e:(r.warn({val:e},"[{val}] is not a valid color!"),!1):"object"==typeof e&&e.constructor===Array?n.isColor(e)?n.arrayToColor(e):(r.warn({val:e},"[{val}] is not a valid color"),!1):(r.warn({val:e},"[{val}] is not a valid color!"),!1)},function(e){return n.colorToArray(e)}),i.define(1,"align","left",function(e){return"center"===e||"left"===e||"right"===e?e:(r.warn({v:e},"[{v}] is not a proper value for aling text property"),!1)},function(e){return e}),s.morph("color",1,function(e,o,i){if("string"==typeof i){var a=n.colorToArray(i);a?(e(this.style("fill")),o(a)):r.warn({v:i},"[{v}] is not avalid color!")}else"object"==typeof i&&i.constructor===Array?n.isColor(i)&&(e(this.style("fill")),o(t.cloneArray(i))):r.warn({v:i},"[{v}] is not a valid color!")},function(e){return n.normalize(e),e})}]),$R.service["class"]("Sound",["+Animation","Morphine",function Animation(e,t){function Resolve(e){if(e==p)for(var t=0;t<a.length;t++)c.hasOwnProperty(a[t].morph.property())&&c[a[t].morph.property()].apply(u,[n,a[t].result]);else if(e==v){i=!0;for(var r={},t=0;t<a.length;t++)r[a[t].morph.property()]=a[t].result;g.done(1,r),h()}}var n=0,r=null,o=null,i=!1,a=null,s=null,u=null,c=null,l=!1,f=!1,h=null,p="type",v="complete",g=null;this.target=function(){return u},this.queue=function(){return l},this.active=function(){return f},this.done=function(){return i},this.hasProperty=function(e){for(var t=0,n=0;n<a.length;n++)if(a[n].morph.property()==e){t=n+1;break}return t},this.properties=function(){for(var e=[],t=0;t<a.length;t++)e.push(a[t].morph.property());return e},this.stop=function(e){if(e){var t=this.hasProperty(e);t&&(t-=1,a.splice(t,1))}else a=[]},this.start=function(){f=!0;for(var n=[],i=0;i<a.length;i++){var u=a[i].morph.get(a[i].value);void 0!==u&&u.start()!==!1&&u.end()!==!1&&n.push(a[i])}a=n;var c=e.getTickFunction();s=t.create(0,1,function(e,t){if(0==a.length)Resolve(v),s.stop();else{for(var n=0;n<a.length;n++)a[n].result=c(t,a[n].morph.start(),a[n].morph.end()),a[n].morph.apply(e,a[n].result);Resolve(p),1==e&&Resolve(v)}},o,r,0)},this.config=function(t,n,i,s){e.normalizeConfig(i),r=i.duration,o=i.easing,c=i.step,l=i.queue,h=s,a=n,u=t,g=i}}]),$R.service["class"]("Sound",["Debug",function Morph(e){function SetStartValue(e){t=e}function SetEndValue(e){n=e}var t,n,r=null,o=null,i=null,a=null,s=!1,u=0;this.start=function(){return t},this.end=function(){return n},this.property=function(){return r},this.ordering=function(){return u},this.get=function(e){return o.apply(a,[SetStartValue,SetEndValue,e]),this},this.valid=function(){return s},this.apply=function(e,t){a.filter(r,i.apply(a,[t,e]))},this.config=function(t,n,c,l,f){return"string"!=typeof t?void e.error({name:t},"Unable to config Morph. arg1 [{name}] is not a string!"):"object"!=typeof n?void e.error({name:t},"Unable to config Morph. arg3 is not an object!"):"function"!=typeof l?void e.error({name:t},"Unable to config Morph. arg4 is not a function!"):"number"!=typeof c?void e.error({name:t},"Unable to config Morph. arg2 is not a number!"):"function"!=typeof f?void e.error({name:t},"Unable to config Morph. arg5 is not a function!"):(r=t,o=l,i=f,u=c,a=n,void(s=!0))}}]),$R.helper.system(function Animation(){function TickVal(e,t,n,r){var o=!1,i=!1;if("function"==typeof n&&(o=n()),"function"==typeof r&&(i=r()),n.constructor===Array)for(var a=[],s=0;s<n.length;s++)a.push(TickVal(e,t,n[s],r[s]));else if("object"==typeof n){var a={};for(var u in n)a[u]=TickVal(e,t,n[u],r[u])}else if("number"==typeof n||"function"==typeof n){var c=i===!1?r:i,l=o===!1?n:o,f=c-l,a=l+f*e;t>=1&&(a=c)}return a}this.normalizeConfig=function(e){e.duration="number"==typeof e.duration&&e.duration>0?e.duration:1e3,e.queue=!!e.queue,e.step="object"==typeof e.step?e.step:{},e.easing="string"==typeof e.easing?e.easing:"linear",e.done="function"==typeof e.done?e.done:function(){}},this.getTickFunction=function(){return TickVal}}),$R.helper.system(function Color(){function NormalizeColorArray(e){if(e!==!1&&void 0!==e){for(var t=0;t<e.length;t++)e[t]=e[t]<=255?e[t]:255,e[t]=e[t]>=0?e[t]:0,e[t]=3!==t&&0!==e[t]?parseInt(e[t]):e[t],e[t]=(3==t&&e[t])<=1?e[t]:1,e[t]=Math.abs(e[t]);return e}return!1}function ParseColour(e){var t,n=parseInt,e=e.replace(/\s\s*/g,"");if(t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})/.exec(e))t=[n(t[1],16),n(t[2],16),n(t[3],16)];else if(t=/^#([\da-fA-F])([\da-fA-F])([\da-fA-F])/.exec(e))t=[17*n(t[1],16),17*n(t[2],16),17*n(t[3],16)];else if(t=/^rgba\(([\d]+),([\d]+),([\d]+),([\d]+|[\d]*.[\d]+)\)/.exec(e))t=[+t[1],+t[2],+t[3],+t[4]];else{if(!(t=/^rgb\(([\d]+),([\d]+),([\d]+)\)/.exec(e)))return!1;t=[+t[1],+t[2],+t[3]]}return isNaN(t[3])&&(t[3]=1),NormalizeColorArray(t.slice(0,4))}this.colorToArray=ParseColour,this.normalize=NormalizeColorArray,this.isColor=function(e){var t=!1;if(4==e.length)for(var n=0;n<e.length;n++)"number"==typeof e[n]||"string"==typeof e[n]?"string"==typeof e[n]&&isNaN(1*e[n])&&(t=!0):t=!0;else t=!0;return t&&console.warn('Silk : Check for color unsuccessful. "'+e+'" is not a color Array.'),!t},this.arrayToColor=function(e){if(e&&4==e.length){for(var t="rgba(",n=0;n<e.length;n++)t+=3==n?e[n]+")":e[n]+",";return t}return console.warn("Unknown Input array format. Should be [R,G,B,A];"),!1}}),$R.helper.system(function Drawer(e){var t=document.createElement("canvas").getContext("2d");this.measureText=function(e){t.save();var n=e(t);return t.restore(),n},this.transform=function(e,t){t.transform.apply(t,e.matrix().extract())},this.drawLineBgClipPath=function(t,n,r,o,i){var a=r.get("bg"),s=r.get("bgSize"),u=r.get("bgPosition");t.save(),t.beginPath(),t.moveTo(n[0][0],n[0][1]);for(var c=0;c<n.length;c++){var l=n[c][0],f=n[c][1],h=n[c][2],p=n[c][3];if("number"!=typeof l||"number"!=typeof h||"number"!=typeof f||"number"!=typeof p){e.error("Invalid path!");break}t.lineTo(h,p)}t.closePath(),t.clip();for(var v=0;v<a.length;v++)if(a[v].loaded()){t.save();var g=box.size[0]*s[v][0],d=box.size[1]*s[v][1],y=box.size[0]*u[v][0],m=box.size[1]*u[v][1];t.translate(i.margin[3]+y,i.margin[0]+m),t.drawImage(a[c]["export"](),0,0,g,d),t.restore()}else a[v].on("load",function(){o.update("bg")});t.restore()},this.drawBezierBgClipPath=function(t,n,r,o,i){var a=r.get("bg"),s=r.get("bgSize"),u=r.get("bgPosition");t.save(),t.beginPath(),t.moveTo(n[0][0],n[0][1]);for(var c=0;c<n.length;c++){var l=n[c][0],f=n[c][1],h=n[c][2],p=n[c][3],v=n[c][4],g=n[c][5],d=n[c][6],y=n[c][7];if("number"!=typeof l||"number"!=typeof h||"number"!=typeof f||"number"!=typeof p){e.error("Invalid path!");break}if("number"!=typeof v||"number"!=typeof d||"number"!=typeof g||"number"!=typeof y){e.error("Invalid curve!");break}t.bezierCurveTo(v,g,d,y,h,p)}t.closePath(),t.clip();for(var m=0;m<a.length;m++)if(a[m].loaded()){t.save();var b=box.size[0]*s[m][0],w=box.size[1]*s[m][1],C=box.size[0]*u[m][0],A=box.size[1]*u[m][1];t.translate(i.margin[3]+C,i.margin[0]+A),t.drawImage(a[c]["export"](),0,0,b,w),t.restore()}else a[m].on("load",function(){o.update("bg")});t.restore()},this.drawLinePathFill=function(t,n,r){var o=r.get("fill"),i=r.get("cap");t.save(),t.lineCap=i,t.moveTo(n[0][0],n[0][1]),t.beginPath();for(var a=0;a<n.length;a++){var s=n[a][0],u=n[a][1],c=n[a][2],l=n[a][3];if("number"!=typeof s||"number"!=typeof c||"number"!=typeof u||"number"!=typeof l){e.error("Invalid path!");break}t.lineTo(c,l)}t.closePath(),t.fillStyle=o,t.fill(),t.restore()},this.drawBezierPathFill=function(t,n,r){var o=r.get("fill"),i=r.get("cap");t.save(),t.lineCap=i,t.beginPath(),t.moveTo(n[0][0],n[0][1]);for(var a=0;a<n.length;a++){var s=n[a][0],u=n[a][1],c=n[a][2],l=n[a][3],f=n[a][4],h=n[a][5],p=n[a][6],v=n[a][7];if("number"!=typeof s||"number"!=typeof c||"number"!=typeof u||"number"!=typeof l){e.error("Invalid path!");break}if("number"!=typeof f||"number"!=typeof p||"number"!=typeof h||"number"!=typeof v){e.error("Invalid curve!");break}t.bezierCurveTo(f,h,p,v,c,l)}t.closePath(),t.fillStyle=o,t.fill(),t.restore()},this.drawLinePath=function(t,n,r){var o=r.get("strokeColor"),i=r.get("strokeWidth"),a=r.get("strokeStyle"),s=r.get("cap");t.save(),t.lineCap=s;for(var u=0;u<n.length;u++){var c=n[u][0],l=n[u][1],f=n[u][2],h=n[u][3];if("number"!=typeof c||"number"!=typeof f||"number"!=typeof l||"number"!=typeof h){e.error("Invalid path!");break}i[u]<.1?t.moveTo(f,h):(t.beginPath(),t.moveTo(c,l),t.strokeStyle=o[u],t.lineWidth=i[u],t.setLineDash(a[u]),t.lineTo(f,h),t.stroke())}t.restore()},this.drawBezierPath=function(t,n,r){var o=r.get("strokeColor"),i=r.get("strokeWidth"),a=r.get("strokeStyle"),s=r.get("cap");t.save(),t.lineCap=s;for(var u=0;u<n.length;u++){var c=n[u][0],l=n[u][1],f=n[u][2],h=n[u][3],p=n[u][4],v=n[u][5],g=n[u][6],d=n[u][7];if("number"!=typeof c||"number"!=typeof f||"number"!=typeof l||"number"!=typeof h){e.error("Invalid path!");break}if("number"!=typeof p||"number"!=typeof g||"number"!=typeof v||"number"!=typeof d){e.error("Invalid curve!");break}i[u]<.1?t.moveTo(f,h):(t.beginPath(),t.moveTo(c,l),t.strokeStyle=o[u],t.lineWidth=i[u],t.setLineDash(a[u]),t.bezierCurveTo(p,v,g,d,f,h),t.stroke())}t.restore()},this.drawRectFill=function(e,t,n,r,o,i){e.save();var a=t.get("fill");e.fillStyle=a,e.rect(n,r,o,i),e.fill(),e.restore()},this.drawRectStroke=function(e,t,n,r,o,i){var a=t.get("strokeStyle"),s=t.get("strokeColor"),u=t.get("strokeWidth");e.save();for(var c=0,l=0,f=0;f<4;f++)e.beginPath(),e.strokeStyle=s[f],e.strokeWidth=u[f],e.setLineDash(a[f]),0===f&&(c=n+o,l=r),1===f&&(c=n+o,l=r+i),2===f&&(c=n,l=r+i),3===f&&(c=n,l=r),u[f]<.1?e.moveTo(c,l):(e.lineTo(c,l),e.stroke());e.restore()}}),$R.helper.system(["Debug",function Easing(e){var t={_:function(e,t,n,r){return n*(e/=r)*e*e+t},linear:function(e,t,n,r){return e/=r,t+n*e},linearSoft:function(e,t,n,r){var o=(e/=r)*e,i=o*e;return t+n*(4*i*o+-10*o*o+8*i+-2*o+e)},linearSoftOut:function(e,t,n,r){var o=(e/=r)*e,i=o*e;return t+n*(-3*i*o+11*o*o+-14*i+6*o+e)},linearSoftIn:function(e,t,n,r){var o=(e/=r)*e,i=o*e;return t+n*(-1*i*o+2*i)},easeInQuad:function(e,t,n,r){n*(e/=r)*e+t;return n*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0===e?t:n*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){return e===r?t+n:n*(-Math.pow(2,-10*e/r)+1)+t},easeInOutExpo:function(e,t,n,r){return 0===e?t:e===r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInBack:function(e,t,n,r,o){var i=(e/=r)*e,a=i*e;return t+n*(15.26*a*i+-43.56*i*i+39.8*a+-10.6*i+.1*e)},easeOutBack:function(e,t,n,r,o){var i=(e/=r)*e,a=i*e;return t+n*(11.24*a*i+-23.96*i*i+12.24*a+1.44*i+.04*e)},easeInOutBack:function(e,t,n,r,o){var i=(e/=r)*e,a=i*e;return t+n*(22.92*a*i+-57.78*i*i+45*a+-9.28*i+.14*e)},easeOutBounce:function(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}};this.get=function(n){return t[n]?t[n]:(e.error({name:n},"Easings / Unable to get undefined easing [{name}]. Linear easing function provided."),t.linear)}}]),$R.helper.system(function Matrix(){function GraphicsTransformMatrix(e){function multiply(e,t){var n=e[0]*t[0]+e[2]*t[1],r=e[1]*t[0]+e[3]*t[1],o=e[0]*t[2]+e[2]*t[3],i=e[1]*t[2]+e[3]*t[3],a=e[0]*t[4]+e[2]*t[5]+e[4],s=e[1]*t[4]+e[3]*t[5]+e[5];e[0]=n,e[1]=r,e[2]=o,e[3]=i,e[4]=a,e[5]=s}function invert(){for(var e=o.length-1;e>=0;e--){if(o[e].rotate){var t=Math.sin(-o[e].rotate),r=Math.cos(-o[e].rotate);multiply(n,[r,t,-t,r,0,0])}o[e].translate&&multiply(n,[1,0,0,1,-o[e].translate[0],-o[e].translate[1]]),o[e].skew&&multiply(n,[1,Math.tan(-o[e].skew[1]),Math.tan(-o[e].skew[0]),1,0,0]),o[e].scale&&multiply(n,[1/o[e].scale[0],0,0,1/o[e].scale[1],0,0])}i=!0,o=null}function invertGlobal(){var t=e.parent();if(i||invert(),t){if(r)return r;r=[n[0],n[1],n[2],n[3],n[4],n[5]],multiply(r,t.matrix().globalInversionMatrix())}else r=n;return r}var t=[1,0,0,1,0,0],n=[1,0,0,1,0,0],r=null,o=[],i=!1;this.rotate=function(e){var n=Math.sin(e),r=Math.cos(e),i=[r,n,-n,r,0,0];return multiply(t,i),o.push({rotate:e}),this},this.translate=function(e,n){var r=[1,0,0,1,e,n];return 0===e&&0===n||(multiply(t,r),o.push({translate:[e,n]})),this},this.scale=function(e,n){if(1!==e||1!==n){var r=[e,0,0,n,0,0];multiply(t,r),o.push({scale:[e,n]})}return this},this.skew=function(e,n){if(0!==e||0!==n){var r=Math.tan(e),i=Math.tan(n),a=[1,i,r,1,0,0];multiply(t,a),o.push({skew:[e,n]})}return this},this.extract=function(){return t},this.globalInversionMatrix=invertGlobal,this.globalCursorProjection=function(e){r||invertGlobal();var t=e[0]*r[0]+e[1]*r[2]+r[4],n=e[0]*r[1]+e[1]*r[3]+r[5];return e[0]=t,e[1]=n,e},this.cursorProjection=function(e){i||invert();var t=e[0]*n[0]+e[1]*n[2]+n[4],r=e[0]*n[1]+e[1]*n[3]+n[5];return e[0]=t,e[1]=r,e}}this.objectMatrix=function(e){var t=new GraphicsTransformMatrix(e),n=e.extension("Style"),r=e.extension("Box").box(),o=r.sprite(),i=n.get("position"),a=n.get("origin"),s=n.get("skew"),u=n.get("rotate"),c=n.get("scale"),l=n.get("translate"),f="Group"===e.type()?[i[0]+l[0]-o.margin[3],i[1]+l[1]-o.margin[0]]:[o.position[0]+l[0],o.position[1]+l[1]],h=[a[0]*o.size[0],a[1]*o.size[1]];return t.translate(h[0],h[1]),0===f[0]&&0===f[1]||t.translate(f[0],f[1]),0!==u&&t.rotate(u),0===s[0]&&0===s[1]||t.skew(s[0],s[1]),1===c[0]&&1===c[1]||t.scale(c[0],c[1]),t.translate(-h[0],-h[1]),t}}),$R.helper.system(["Debug",function Model(Debug){this.cloneHash=function(e){return"object"!=typeof e?void Debug.error("Hash is not an object!"):JSON.parse(JSON.stringify(e))},this.cloneArray=function(array){if("object"!=typeof array||array.constructor!==Array)return void Debug.error("array is not an array!");for(var result=[],i=0;i<array.length;i++)if("object"==typeof array[i])array[i].constructor==Array?result.push(this.cloneArray(array[i])):result.push(this.cloneHash(array[i]));else if("function"==typeof array[i]){var text=array[i].toString();result.push(eval(text)),Debug.warn("You clone functions! It can be slow!")}else result.push(array[i]);return result},this.validNumericArray=function(e){var t=!0;if("object"!=typeof e||e.constructor!==Array)return!1;for(var n=0;n<e.length;n++)if("number"!=typeof e[n]){t=!1;break}return t};var blendings=["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"];this.validBlending=function(e){for(var t=!1,n=0;n<blendings.length;n++)if(blendings[n]==e){t=!0;break}return t};var sprite_regexp=/^([./_\da-zA-Z]+)(\[(\d+)\])$/;this.isSpriteString=function(e){return sprite_regexp.test(e)},this.readSpriteString=function(e){var t=e.match(sprite_regexp);return{url:t[1],frames:parseInt(t[3])}}}]),$R.helper.system(function Mouse(){this.circleUserCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]);if(t<[0]||t[1]<0)return!1;var n=this.extension("Box").box().sprite();if(t[0]>n.size[0])return!1;if(t[1]>n.size[1])return!1;var r=n.size[0]/2,o=r,i=n.size[1]/2;return Math.pow(t[0]-o,2)+Math.pow(t[1]-i,2)<=Math.pow(r,2)&&this},this.squareUserCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]),n=this.extension("Box").box().sprite();return t[0]>0&&t[0]<n.size[0]&&(t[1]>0&&t[1]<n.size[1]&&this)},this.circleCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]);if(t<[0]||t[1]<0)return!1;var n=this.extension("Box").box().sprite();if(t[0]>n.size[0])return!1;if(t[1]>n.size[1])return!1;var r=n.size[0]/2,o=this.extension("Style").get("radius");return Math.pow(t[0]-r,2)+Math.pow(t[1]-r,2)<Math.pow(o,2)&&this},this.rectCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]),n=this.extension("Box").box().sprite();return t[0]>0&&t[0]<n.size[0]&&(t[1]>0&&t[1]<n.size[1]&&this)}}),$R.helper.system(["Debug",function Path(e){function getControlPoints(e,t,n,r,o,i,a){var s=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),u=Math.sqrt(Math.pow(o-n,2)+Math.pow(i-r,2)),c=a*s/(s+u),l=a*u/(s+u),f=n-c*(o-e),h=r-c*(i-t),p=n+l*(o-e),v=r+l*(i-t);return[f,h,p,v]}this.convertComplexPath=function(e){for(var t=[],n=0;n<e.length;n++)t.push([e[n][0],e[n][1]]);return t},this.convertSimplePath=function(t){if(t.length<2)return void e.error("Path should consist of at least two points!");for(var n=[],r=0;r<t.length;r++){var o=t[r][0],i=t[r][1];if("number"!=typeof o||"number"!=typeof i){e.error("Incorrect Path!"),n=void 0;break}r<t.length-1&&(n[r]||n.push([]),n[r].push(o),n[r].push(i)),0!==r&&(n[r-1].push(o),n[r-1].push(i),n[r-1].push(n[r-1][0]),n[r-1].push(n[r-1][1]),n[r-1].push(o),n[r-1].push(i))}return n},this.interpolate=function(e,t,n){for(var r=0;r<e.length;r++){var o=[],i=[e[r][0],e[r][1]],a=[e[r][2],e[r][3]],s=null;if(o=0==r?i:[e[r-1][0],e[r-1][1]],s=getControlPoints(o[0],o[1],i[0],i[1],a[0],a[1],t),0==r?(e[r][4]=s[2],e[r][5]=s[3]):(e[r-1][6]=s[0],e[r-1][7]=s[1],e[r][4]=s[2],e[r][5]=s[3]),r==e.length-1&&(o=[e[r][0],e[r][1]],i=[e[r][2],e[r][3]],a=i,s=getControlPoints(o[0],o[1],i[0],i[1],a[0],a[1],t),e[r][6]=s[0],e[r][7]=s[1]),n){var u=e[e.length-1],c=e[0],l=[[u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7]],[c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7]]];this.interpolate(l,t),e[0][4]=l[1][4],e[0][5]=l[1][5],e[e.length-1][6]=l[0][6],e[e.length-1][7]=l[0][7]}}},this.checkSimplePath=function(e){if("object"!=typeof e||e.constructor!==Array)return!1;for(var t=!0,n=0;n<e.length;n++)if("object"!=typeof e[n]||e[n].constructor!==Array||2!==e[n].length||"number"!=typeof e[n][0]||"number"!=typeof e[n][1]){t=!1;break}return t},this.comparePaths=function(e,t){var n=!0;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)for(var o=0;o<e[r].length;o++)if(e[r][o]!==t[r][o]){n=!1;break}return n}}]); export default core
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcmUvUmVmbGVjdC5qcyIsIm1vZHVsZXMvQXBwbGljYXRpb24uanMiLCJtb2R1bGVzL0F1ZGlvLmpzIiwibW9kdWxlcy9DYW52YXMuanMiLCJtb2R1bGVzL0NsYXNzZXMuanMiLCJtb2R1bGVzL0NvbmZpZy5qcyIsIm1vZHVsZXMvQ29udGFpbmVyLmpzIiwibW9kdWxlcy9Gb250cy5qcyIsIm1vZHVsZXMvSGVscGVycy5qcyIsIm1vZHVsZXMvSW5qZWN0aW9uLmpzIiwibW9kdWxlcy9Sb290LmpzIiwibW9kdWxlcy9TZXJ2aWNlcy5qcyIsIm1vZHVsZXMvU291cmNlLmpzIiwibW9kdWxlcy9UaWNrZXIuanMiLCJwbHVnaW5zL0FuaW1hdGlvbi9BbmltYXRpb24uanMiLCJwbHVnaW5zL0JveC9Cb3guanMiLCJwbHVnaW5zL0NhY2hlL0NhY2hlLmpzIiwicGx1Z2lucy9EcmF3ZXIvRHJhd2VyLmpzIiwicGx1Z2lucy9MYXllcnMvTGF5ZXJzLmpzIiwicGx1Z2lucy9NYXRyaXgvTWF0cml4LmpzIiwicGx1Z2lucy9Nb3VzZS9Nb3VzZS5qcyIsInBsdWdpbnMvT2Zmc2V0L09mZnNldC5qcyIsInBsdWdpbnMvU3R5bGUvU3R5bGUuanMiLCJwbHVnaW5zL1RleHQvVGV4dC5qcyIsInBsdWdpbnMvVHJlZS9UcmVlLmpzIiwic2VydmljZXMvQ2FudmFzL0NhbnZhcy5qcyIsInNlcnZpY2VzL0RlYnVnL0RlYnVnLmpzIiwic2VydmljZXMvRGlzcGF0Y2hlci9EaXNwYXRjaGVyLmpzIiwic2VydmljZXMvS2V5Ym9hcmQvS2V5Ym9hcmQuanMiLCJzZXJ2aWNlcy9LZXlib2FyZC9LZXlib2FyZEV2ZW50LmpzIiwic2VydmljZXMvTW9ycGhpbmUvTW9ycGhpbmUuanMiLCJzZXJ2aWNlcy9PYmplY3RzL0dyYXBoaWNzLmpzIiwic2VydmljZXMvT2JqZWN0cy9PYmplY3RzLmpzIiwic2VydmljZXMvUmVzb3VyY2UvUmVzb3VyY2UuanMiLCJzZXJ2aWNlcy9Tb3VuZC9Tb3VuZC5qcyIsInNlcnZpY2VzL1N0YXRlL1N0YXRlLmpzIiwic2VydmljZXMvVHJlZS9UcmVlLmpzIiwicGx1Z2lucy9BbmltYXRpb24vcGFydHMvQW5pbWF0aW9uLmpzIiwicGx1Z2lucy9BbmltYXRpb24vcGFydHMvTW9ycGguanMiLCJwbHVnaW5zL0JveC9wYXJ0L0JveC5qcyIsInBsdWdpbnMvVGV4dC9DbGFzc2VzL0xpbmVDbGFzcy5qcyIsInBsdWdpbnMvVGV4dC9DbGFzc2VzL1NwYWNlQ2xhc3MuanMiLCJwbHVnaW5zL1RleHQvQ2xhc3Nlcy9UZXh0RWxlbWVudENsYXNzLmpzIiwicGx1Z2lucy9UZXh0L0NsYXNzZXMvV29yZENsYXNzLmpzIiwic2VydmljZXMvRGlzcGF0Y2hlci9wYXJ0cy9GaW5kZXIuanMiLCJzZXJ2aWNlcy9Nb3JwaGluZS9wYXJ0cy9Nb3JwaGluZS5qcyIsInNlcnZpY2VzL09iamVjdHMvcGFydHMvQ2FudmFzLmpzIiwic2VydmljZXMvT2JqZWN0cy9wYXJ0cy9HcmFwaGljc0Fzc2VtYmxlci5qcyIsInNlcnZpY2VzL09iamVjdHMvcGFydHMvR3JhcGhpY3NBc3NlbWJsZXJMYXllci5qcyIsInNlcnZpY2VzL09iamVjdHMvcGFydHMvUGx1Z2luLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9BcmVhLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9DaXJjbGUuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL0RlZmF1bHQuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL0dyb3VwLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9JbWFnZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvTGluZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvUmVjdGFuZ2xlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9TcHJpdGUuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL1RleHQuanMiLCJzZXJ2aWNlcy9SZXNvdXJjZS9jbGFzc2VzL0F1ZGlvQ2xhc3MuanMiLCJzZXJ2aWNlcy9SZXNvdXJjZS9jbGFzc2VzL0ZvbnRDbGFzcy5qcyIsInNlcnZpY2VzL1Jlc291cmNlL2NsYXNzZXMvSW1hZ2VDbGFzcy5qcyIsInNlcnZpY2VzL1Jlc291cmNlL2NsYXNzZXMvUmVzb3VyY2VDbGFzcy5qcyIsInNlcnZpY2VzL1Jlc291cmNlL2NsYXNzZXMvU3ByaXRlQ2xhc3MuanMiLCJzZXJ2aWNlcy9Tb3VuZC9hbmltYXRpb24vQW5pbWF0aW9uUHJvdmlkZXIuanMiLCJzZXJ2aWNlcy9Tb3VuZC9jbGFzc2VzL0F1ZGlvLmpzIiwic2VydmljZXMvU291bmQvY2xhc3Nlcy9Vc2VyQXVkaW9NaXhlci5qcyIsInNlcnZpY2VzL1NvdW5kL2NsYXNzZXMvVXNlckF1ZGlvU291cmNlLmpzIiwic2VydmljZXMvU291bmQvZmlsdGVycy9EZWxheU5vZGUuanMiLCJzZXJ2aWNlcy9Tb3VuZC9maWx0ZXJzL0Rlc3RpbmF0aW9uTm9kZS5qcyIsInNlcnZpY2VzL1NvdW5kL2ZpbHRlcnMvR2Fpbk5vZGUuanMiLCJzZXJ2aWNlcy9Tb3VuZC9maWx0ZXJzL0xvd3Bhc3NOb2RlLmpzIiwic2VydmljZXMvU291bmQvcGFydHMvQXVkaW9Ob2RlLmpzIiwic2VydmljZXMvU291bmQvcGFydHMvQXVkaW9Ob2RlU291bmRzRGlzcGF0Y2hlci5qcyIsInNlcnZpY2VzL1NvdW5kL3BhcnRzL0F1ZGlvU291cmNlLmpzIiwic2VydmljZXMvU291bmQvcGFydHMvRXZlbnQuanMiLCJzZXJ2aWNlcy9Tb3VuZC9wYXJ0cy9FdmVudFByb3ZpZGVyLmpzIiwic2VydmljZXMvU3RhdGUvcGFydHMvUHJvcGVydHkuanMiLCJzZXJ2aWNlcy9TdGF0ZS9wYXJ0cy9TdGF0ZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvZHJhd2Vycy9BcmVhLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0NpcmNsZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvZHJhd2Vycy9EZWZhdWx0LmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0dyb3VwLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0ltYWdlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0xpbmUuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL2RyYXdlcnMvUmVjdGFuZ2xlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL1Nwcml0ZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvZHJhd2Vycy9UZXh0LmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvQXJlYS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvbW9kZWxzL0NpcmNsZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvbW9kZWxzL0RlZmF1bHQuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL21vZGVscy9EZWZhdWx0RnJlZVN0cm9rZU1vZGVsLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvR2xvYmFsQmFja2dyb3VuZE1vZGVsLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvR2xvYmFsU2l6ZU1vZGVsLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvR3JvdXAuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL21vZGVscy9JbWFnZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvbW9kZWxzL0xpbmUuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL21vZGVscy9SZWNhdGFuZ2xlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvU3ByaXRlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvVGV4dC5qcyIsInNlcnZpY2VzL1NvdW5kL2FuaW1hdGlvbi9wYXJ0cy9BbmltYXRpb24uanMiLCJzZXJ2aWNlcy9Tb3VuZC9hbmltYXRpb24vcGFydHMvTW9ycGguanMiLCJoZWxwZXJzL0FuaW1hdGlvbi5qcyIsImhlbHBlcnMvQ29sb3IuanMiLCJoZWxwZXJzL0RyYXdlci5qcyIsImhlbHBlcnMvRWFzaW5nLmpzIiwiaGVscGVycy9NYXRyaXguanMiLCJoZWxwZXJzL01vZGVsLmpzIiwiaGVscGVycy9Nb3VzZS5qcyIsImhlbHBlcnMvUGF0aC5qcyJdLCJuYW1lcyI6WyJSZWZsZWN0IiwiQ29yZSIsImYiLCJJbmplY3Rpb24iLCJyZWFkeSIsImkiLCJleHBlY3QiLCJsZW5ndGgiLCJtb2R1bGVzIiwiQnVpbGRDb3JlIiwiZ2V0Um91dGVGdW5jdGlvbiIsInJvdXRlRnVuY3Rpb24iLCJyZXN1bHQiLCJhcHBseSIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsImJpbmQiLCJjb3JlIiwiZ2V0IiwicHJvcGVydHkiLCJwcm9wZXJ0aWVzIiwiaGFzT3duUHJvcGVydHkiLCJuYW1lIiwiRXJyb3IiLCJ0aGlzIiwiY2FjaGUiLCJjcmVhdGUiLCJwYXlsb2FkIiwiYXJncyIsImNvbnN0cnVjdG9yIiwiQXJyYXkiLCJwdXNoIiwiRnVuY3Rpb24iLCJwcm90b3R5cGUiLCJpcyIsInRhcmdldCIsImV4dGVuZCIsImNhbGwiLCJtb2R1bGUiLCJpbmplY3QiLCJkZWZpbmUiLCJ2YWx1ZSIsIndpbmRvdyIsIiRSIiwiQXBwbGljYXRpb24iLCJDYW52YXMiLCJUaWNrZXIiLCJDb25maWciLCJzZWxmIiwiaXNOdW1iZXIiLCJncmVhdGVyIiwidW5kZXIiLCJ3YXRjaCIsInYiLCJmcHMiLCJpc1N0cmluZyIsImVsZW1lbnQiLCIkIiwibiIsImNoYXJBdCIsInN0b3AiLCJzdGFydCIsImNvbmZpZyIsImEiLCJiIiwic2V0IiwiQXVkaW8iLCJjb250ZXh0IiwiQXVkaW9Db250ZXh0IiwiRHJhd1NjZW5lIiwiZGF0ZSIsImZyYW1lIiwicXVldWUiLCJlIiwiY29uc29sZSIsImVycm9yIiwibyIsIm1lc3NhZ2UiLCJvcmRlcmluZyIsInJlc29sdmUiLCJhcnJheSIsInNpemUiLCJyZXNpemVDYiIsInN3aXRjaENiIiwiaWQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsImN0eCIsInNldEF0dHJpYnV0ZSIsIkhUTUxFbGVtZW50Iiwic29ydCIsIndpZHRoIiwiaGVpZ2h0IiwicmVzaXplIiwiQ2xhc3NlcyIsImNscyIsImNmZyIsImluamVjdGlvbiIsImdsb2JhbENsYXNzZXMiLCJ3YXJuIiwiYXBwIiwiYXBwbGljYXRpb25DbGFzc2VzIiwic3lzdGVtQ2xhc3NlcyIsInN5cyIsImdldEFwcGxpY2F0aW9uQ2xhc3NlcyIsImNvbnRhaW5lciIsInNvdXJjZSIsIm1lcmdlIiwiZ2V0U3lzdGVtQ2xhc3NlcyIsIlByb3BlcnR5IiwiY2hlY2tWYWx1ZSIsImNoZWNrQXJyYXkiLCJmdW5jcyIsImNiIiwiYXJnIiwiaXNBcnJheSIsInByb3AiLCJjdXN0b20iLCJlcSIsImlzQm9vbCIsIkNvbnRhaW5lciIsImxpYiIsImRpcmVjdCIsImxpYnJhcnkiLCJzb3VyY2VzIiwibGlzdCIsImRlcGVuZGVuY2llcyIsImNsb25lIiwicHJlZml4a2V5IiwiJCRMT09QIiwibG9vcCIsIiRMT09QIiwiJCRMT09PUCIsInZhbGlkIiwibmV3TGlicmFyeSIsIm5ld0NvbnRhaW5lciIsImNvbnRhaW5lcnMiLCJzb3VyY2Vsb29wIiwic291cmNlcHJlZml4IiwicHJlZml4IiwibmV3Y29udGFpbmVycyIsImZpbmRTb3VyY2VCeVByZWZpeCIsIiQkbm9wcmVmaXgiLCJmaW5kU291cmNlQnlJbmplY3Rpb25OYW1lIiwiaW5qZWN0aW9uTmFtZSIsImhhcyIsIiRjb25zdHJ1Y3RvciIsImQiLCJzcmMiLCJyZXNvbHZlRGlyZWN0SW5qZWN0aW9uIiwiRm9udHMiLCJmb250U3RyaW5nIiwiZm9udCIsInJvb3QiLCJ3Iiwid2VpZ2h0IiwicyIsInN0eWxlIiwiZmlsZXN0cmluZyIsInN0cmluZyIsImZvcm1hdCIsImZvcm1hdFN0ciIsInVwZGF0ZSIsInBhdGgiLCJmYW1pbHkiLCJmYW1pbGllcyIsImlubmVySFRNTCIsImluQXJyYXkiLCJjcmVhdGVFbGVtZW50IiwiZW90IiwidXJsIiwid29mZiIsInR0ZiIsInN2ZyIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImFwcGVuZENoaWxkIiwiZm9ybWF0cyIsIkhlbHBlcnMiLCJoZWxwZXIiLCJoZWxwZXJzIiwic3lzSGVscGVycyIsInN5c3RlbSIsImlzX3B1YmxpYyIsImdldFN5c3RlbUhlbHBlcnMiLCJkZWZhdWx0cyIsImdldFB1YmxpY0hlbHBlcnMiLCJjb24iLCJyZXNvbHZlZCIsImluc3RhbmNlIiwicmVzb2x2ZUluamVjdGlvbkRlcGVuZGFuY2llcyIsInVuc2hpZnQiLCJSb290IiwiY3JlYXRlQXBwbGljYXRpb24iLCJhcHBDb250YWluZXIiLCJhcHBzIiwiYXBwVGlja2VyIiwiYXBwQ2FudmFzIiwiYXBwQXVkaW8iLCJhcHBDb25maWciLCJhcHBGb250cyIsImFwcEFwaSIsImRlZmF1bHRzTGlicmFyeSIsIkFQSSIsImFwcERlZmF1bHRzIiwiYXBwU3lzSGVscGVycyIsImFwcFB1YkhlbHBlcnMiLCJhcHBDbGFzc2VzIiwiY2xhc3NlcyIsImFwcFN5c0NsYXNzZXMiLCJhcHBTZXJ2aWNlcyIsInNlcnZpY2VzIiwiZ2V0QXBwbGljYXRpb25TZXJ2aWNlcyIsImwiLCJhcHBsaWNhdGlvbiIsIlNlcnZpY2VzIiwic2VydmljZSIsInNlcnZpY2VOYW1lIiwicGx1Z2luIiwicGx1Z2luTmFtZSIsInBsdWdpbnMiLCJnZXRQbHVnaW5NYW5hZ2VyIiwiUGx1Z2lucyIsImVhY2giLCJzZXJ2aWNlQ2xhc3NlcyIsInBsdWdpbnNDbGFzc2VzIiwic3ZjIiwicGx1Z2luQ2xhc3NOYW1lIiwiY2xhc3NOYW1lIiwiX2hlbHBlcnMiLCJfc3lzQ2xhc3NlcyIsIl9lbmdpbmVEZWZhdWx0cyIsIl9zZXJ2aWNlIiwiX3BsdWdpbiIsIl9zZXJ2aWNlcyIsIl9zZXJ2aWNlc0NsYXNzZXMiLCJfc2VydmljZXNQbHVnaW5zIiwiX3NlcnZpY2VzUGx1Z2luc0NsYXNzZXMiLCJfcGx1Z2lucyIsIl9wbHVnaW5DbGFzc2VzQ29udGFpbmVyIiwic2VydmljZUNsYXNzZXNDb250YWluZXIiLCJfc2VydmljZXNTZXJ2aWNlU291cmNlIiwiczIiLCJwIiwicGNsIiwiU291cmNlIiwic3RyaXBQcmVmaXgiLCJwZngiLCJjaGVja0NhY2hlIiwiY2hlY2siLCJzdHJpcE5hbWUiLCJzdHIiLCJldmVudCIsIl9jYWxsX2FyZ3MiLCJldmVudENiIiwiZnJhbWVEdXJhdGlvbiIsInRvRml4ZWQiLCJkcmF3IiwidGljayIsIkRhdGUiLCJjbGVhckludGVydmFsIiwiaW50ZXJ2YWwiLCJvbiIsImZ1bmMiLCJzZXRJbnRlcnZhbCIsIm51bWJlciIsIkFuaW1hdGlvbiIsIkRlYnVnIiwiZmluZENvbXBldGl0b3IiLCJhbmltYXRpb24iLCIkJFNFTEYiLCJjb21wZXRpdG9yIiwiYW5pbWF0aW9ucyIsImFjdGl2ZSIsImRvbmUiLCJoYXNQcm9wZXJ0eSIsIkNoZWNrQW5pbWF0aW9uUXVldWUiLCJfYW5pbWF0aW9ucyIsInByb3BzIiwiY29tcGV0aXRvcnMiLCJDcmVhdGVBbmltYXRpb25UeXBlMSIsImR1cmF0aW9uIiwiZWFzaW5nIiwiZXh0ZW5zaW9uIiwicGFpciIsIm1vcnBocyIsInN0YWNrIiwibW9ycGgiLCJDcmVhdGVBbmltYXRpb25UeXBlMiIsInBhaXJzIiwiYXJnMiIsImFyZzMiLCJ0eXBlIiwibW9ycGhfc3RhY2siLCJpdGVtIiwiYW5pbWF0ZWQiLCJzZXR0ZXIiLCJhcHBsaWVyIiwib2JqZWN0IiwiZXh0cmFjdE1vcnBoIiwicmVnaXN0ZXIiLCJhcmcxIiwiYXJnNCIsIkJveCIsIkJveFdyYXBwZXJGdW5jIiwiYm94IiwicHVyZ2UiLCJwYXJlbnQiLCJDYWNoZSIsInZhbHVlcyIsInJlbGV2YW50IiwiRHJhd2VyIiwibWF0cml4IiwiYmVmb3JlIiwiYWZ0ZXIiLCJMYXllcnMiLCJsYXllcnMiLCIwIiwibGF5ZXIiLCJ2YWwiLCJwYXJlbnRfbGF5ZXJfZXh0IiwicGxhY2UiLCIkJExBWUVSU0VBUkNIVkFMVUUiLCJzcGxpY2UiLCJyZW1vdmUiLCJmb3JFYWNoIiwiTWF0cml4IiwiTWF0cml4V3JhcHBlciIsIk1vdXNlIiwiTW91c2VIZWxwZXIiLCJEaXNwYXRjaGVyIiwiVHJlZSIsIkdldEV2ZW50QXJyYXkiLCJjYWxsYmFja3MiLCJkcmFnbW92ZSIsImRyYWdzdGFydCIsImRyYWdlbmQiLCJtb3VzZW1vdmUiLCJtb3VzZXVwIiwibW91c2Vkb3duIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiLCJkaXNhYmxlZCIsIm1vdXNlQ2hlY2tGdW5jdGlvbiIsIiRPRkYiLCIkJE9GRiIsIiQkTU9VU0VGVU5DU0VBUkNIIiwiaW5kZXgiLCJjdXJzb3IiLCJjdXJzb3JUcmFuc2Zvcm1GdW5jdGlvbiIsImFwcGx5Q3Vyc29yVHJhbnNmb3JtIiwiaGFzRXZlbnQiLCJwcm9wYWdhdGUiLCJldmVudE9iaiIsIm1vdXNlIiwiX2V2ZW50T2JqIiwib3JpZ2luYWxUYXJnZXQiLCIkJE1PVVNFUFJPUEFHQVRJT05TRVRURVIiLCJPZmZzZXQiLCJPYmplY3RPZmZzZXRGdW5jdGlvbiIsInBvc2l0aW9uIiwicGFyZW50X29mZnNldCIsIm9mZnNldCIsIlN0eWxlIiwiR2V0U2V0dGVyRnVuY3Rpb24iLCJvbGQiLCJHZXRHZXR0ZXJGdW5jdGlvbiIsImdldHRlciIsIlN0eWxlVHlwZTEiLCJzZXR0ZXJzIiwiU3R5bGVUeXBlMiIsInNldHRlcnN0YWNrIiwiU3R5bGVUeXBlMyIsImdldHRlcnMiLCJjYWxsYmFjayIsIlRleHQiLCJNb2RlbEhlbHBlciIsImFwcGx5VG8iLCJsaW5lcyIsIndvcmRCeVdvcmRSZWdFeHAiLCJsaW1pdHMiLCJJbmZpbml0eSIsIndvcmRzIiwiX3ciLCJoIiwiZm9yY2VkIiwicGllY2VzIiwibWF0Y2giLCJsaW5lV2lkdGgiLCJmb250U2l6ZSIsImxpbmVIZWlnaHQiLCJmb250V2VpZ2h0IiwiY29sb3IiLCJmb250U3R5bGUiLCJ1c2VybmV3bGluZSIsIndvcmQiLCJ0ZXh0QmxvY2tIZWlnaHQiLCJ0ZXh0QmxvY2tXaWR0aCIsImZvckVhY2hMaW5lIiwiY2hlY2tUcmVlIiwiJCRUUkVFU0VBUkNIVkFMVUUiLCJ0cmVlVmlvbGF0aW9uIiwib2JqZWN0X29sZF9wYXJlbnQiLCJvYmplY3RfdHJlZV9leHQiLCJvbGRfb2JqZWN0X3BhcmVudF9sYXllcnMiLCJvYmplY3RfbGF5ZXIiLCJhcHBlbmQiLCJncm91cCIsImNvbXBhcmVPblJlc2l6ZSIsInN1Y2Nlc3MiLCJ4dW5pdHMiLCJ5dW5pdHMiLCJkaW1tcyIsIl9wVyIsInBXIiwiX3BIIiwicEgiLCJyZXNpemVUTyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJwYXJlbnROb2RlIiwic3R5bGVzIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInBhcnNlSW50IiwiZ2V0UHJvcGVydHlWYWx1ZSIsIk1hdGgiLCJmbG9vciIsIkdldENhbnZhc09mZnNldCIsIngiLCJvZmZzZXRQcm9wIiwiaXNOYU4iLCJvZmZzZXRQYXJlbnQiLCJXaW5kb3dSZXNpemVDYWxsYmFjayIsIm91dHB1dCIsIlJlc29sdmVDYW52YXNFdmVudEFycmF5IiwiUkNhbnZhc1Jlc2l6ZUV2ZW50IiwiQ2FudmFzU3dpdGNoQ2FsbGJhY2siLCJSQ2FudmFzU3dpdGNoRXZlbnQiLCJHZXRDYW52YXNFdmVudEFycmF5IiwiY2FudmFzRXZlbnRDYWxsYmFja3MiLCJkYXRhIiwiR2V0TW91c2VSZWxhdGl2ZVBvc2l0aW9uIiwicGFnZVgiLCJzY3JvbGwiLCJwYWdlWSIsIlJDYW52YXNNb3VzZSIsInBhZ2UiLCJzY2VlbiIsIlJDYW52YXNNb3VzZUV2ZW50Iiwib3JpZ2luYWwiLCJjYW52YXMiLCJ1bml0cyIsImNhbnZhc3Jlc2l6ZSIsImNhbnZhc3N3aXRjaCIsImxpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicGFnZVhPZmZzZXQiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JvbGxMZWZ0IiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUb3AiLCJSZXNvbHZlRXZlbnQiLCJlcnJvckNiIiwibWVzc2FnZUNiIiwiR2V0TWVzc2FnZSIsInRvU3RyaW5nIiwibWF0Y2hlcyIsInJlZ2V4cCIsIm1hdGNobmFtZSIsInJlZ2V4cG5hbWUiLCJyZXBsYWNlIiwid2FybmluZ3MiLCJDYW52YXNSb290IiwiRmluZGVyIiwiRGVmYXVsdFJFdmVudCIsIl90eXBlIiwiX3RhcmdldCIsIl9vcmlnaW5hbFRhcmdldCIsInN0b3BQcm9wYWdhdGlvbiIsInByb3BhZ2F0ZWQiLCIkJFBST1BBR0FUSU9OU0VBUkNIIiwiZ2V0RXZlbnRCeVR5cGUiLCIkJFJFU0VUVEFSR0VUIiwiTW91c2VFdmVudCIsImN1cnJlbnQiLCJEcmFnRXZlbnQiLCJkcmFnIiwiZGVsdGEiLCJEaXNwYXRjaCIsInRhcmdldE1vdXNlIiwicmVzb2x2ZUV2ZW50QnlUeXBlIiwicHJldmlvdXMiLCJyZXNvbHZlRHJhZ1N0YXJ0IiwiZHJhZ2dlZCIsInJlc29sdmVEcmFnRW5kIiwiRGlzcGF0Y2hFdmVudHMiLCIkJE1PVVNFU0VBUkNIIiwiVXBkYXRlVGFyZ2V0cyIsImV2ZW50RGlzcGF0Y2hlclRpY2siLCJjaGVja2VkIiwiZm9jdXNlZCIsIktleWJvYXJkIiwiT25BcHBUaWNrIiwiZ2V0UXVldWVGdW5jIiwia2V5Y29kZSIsImtleUNvZGUiLCJidWlsZCIsImVuYWJsZWQiLCJrZXlkb3duIiwiY29kZSIsImtleXVwIiwiZGlzYWJsZSIsImVuYWJsZSIsImMiLCJjYW52YXNDbGlja2VkIiwiJG9uIiwiS2V5Ym9hcmRFdmVudCIsImN0cmxQcmVzc2VkIiwiYWx0UHJlc3NlZCIsInNoaWZ0UHJlc3NlZCIsImN0cmxLZXkiLCJhbHRLZXkiLCJzaGlmdEtleSIsInNoaWZ0IiwiYWx0IiwiY3RybCIsIk1vcnBoaW5lIiwiRWFzaW5ncyIsIm1vcnBoaW5lcyIsImVuZCIsInJwdCIsImVmdW5jIiwibW9ycGhpbmUiLCJ0aWNrRiIsIiRtIiwicHJvY2Vzc01vcnBoaW5lcyIsImdldFRpbWUiLCJfbW9ycGhpbmVzIiwiR3JhcGhpY3MiLCJyZXNvbHZlZF9wbHVnaW5zIiwiZGVmaW5lVHlwZSIsInQiLCJkZWZpbmVPYmplY3QiLCJtYXRjaFR5cGUiLCJ3cmFwIiwiT2JqZWN0cyIsIkluamVjdEJ5VHlwZSIsImxpbmUiLCJyZWN0IiwiY2lyY2xlIiwiaW1hZ2UiLCJzcHJpdGUiLCJ0ZXh0IiwiYXJlYSIsIlJlc291cmNlIiwiR2V0UmVzb3VyY2VCeVVSTCIsInNlYXJjaCIsImV4aXN0ZWQiLCJsb2FkQ291bnRlciIsImFsbCIsInByZWxvYWRSZXF1ZXN0IiwiaW1hZ2VzIiwidGVzdCIsImF1ZGlvIiwiZm9udHMiLCJjQkNvbnRhaW5lciIsInNwcml0ZXMiLCJhdWRpb3MiLCJyZXF1ZXN0IiwicHJlbG9hZCIsInByZWxvYWRCeVVybCIsImFib3J0IiwiWE1MSHR0cFJlcXVlc3QiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZSIsInJlc3BvbnNlVGV4dCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCIsImxvYWQiLCJhZGQiLCJvZmYiLCJuYXJyYXkiLCIkJFNFQVJDSCIsImNvbmNhdCIsInVwZGF0ZVJlc291cmNlcyIsInRpbWUiLCJsb2FkZWQiLCJTb3VuZCIsImRlc3RpbmF0aW9uIiwic291bmRzIiwic291bmRjb3VudCIsImNoYW5uZWxjb3VudCIsImNoYW5uZWxzIiwiJCRERVNUSU5BVElPTiIsInNhbXBsZSIsImNoYW5uZWwiLCJvdXQiLCJjb25uZWN0IiwiYnl1cmwiLCJTdGF0ZSIsIlBhcnNlQWRkcmVzcyIsImFkZHJlc3MiLCJzdGF0ZSIsInN0YXRlcyIsIndoZW4iLCJyb290RHJhd2VyIiwicm9vdFN0eWxlIiwiY2xlYXIiLCJkcmF3ZXIiLCJkcmF3R3JhcGhpY3NUcmVlIiwiY2xlYXJSZWN0Iiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJBbmltYXRpb25IZWxwZXIiLCJSZXNvbHZlIiwic3RlcFR5cGVTdHIiLCJzdGVwc0NiIiwicHJvZ3Jlc3MiLCJjb21wbGV0ZVR5cGVTdHIiLCJyZXN1bHRzIiwiX3N0YWNrIiwidGlja19mdW5jdGlvbiIsImdldFRpY2tGdW5jdGlvbiIsImNvbXBsZXRlIiwibSIsIm5vcm1hbGl6ZUNvbmZpZyIsInN0ZXAiLCJNb3JwaCIsIlNldFN0YXJ0VmFsdWUiLCJTZXRFbmRWYWx1ZSIsIm9iaiIsIm9yZCIsImFwbCIsIm1hcmdpbiIsInkiLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJUZXh0TGluZUNsYXNzIiwiRHJhd2VySGVscGVyIiwiZ2V0V2lkdGgiLCJ3aWR0aFVwZGF0ZWQiLCJzcGFjZSIsIm1lYXN1cmVUZXh0IiwiX2FyciIsInByb3BlcnR5Q2hhbmdlZCIsIm9uUHJvcGVydHlDaGFuZ2UiLCJUZXh0U3BhY2VDbGFzcyIsImV4dHJhY3RGb250U3RyaW5nIiwiVGV4dEVsZW1lbnRDbGFzcyIsIkNvbG9ySGVscGVyIiwiY29sb3JUb0FycmF5IiwiVGV4dFdvcmRDbGFzcyIsInNhdmUiLCJmaWxsU3R5bGUiLCJmaWxsVGV4dCIsInJlc3RvcmUiLCJDaGVja0VsZW1lbnQiLCJfcmVzdWx0IiwibW91c2VleHQiLCJUaWNrIiwicGFzdWVkIiwic3RhcnRfdGltZSIsInJlcGVhdCIsInJlcGVhdENvdW50IiwicGF1c2UiLCJwYXVzZWQiLCJkdXIiLCJlYXNlIiwiR3JhcGhpY3NBc3NlbWJsZXIiLCJTZXRTaXplIiwicGlwZSIsImNvbXBvc2UiLCJyZXNpemVkIiwiYm94RXh0IiwiZHJhd0ltYWdlIiwib3JkZXIiLCJ1cGRhdGVGdW5jIiwiYm94UHJvdmlkZXIiLCJHcmFwaGljc0Fzc2VtYmxlckxheWVyIiwidXBkYXRlQ2FudmFzIiwiUGx1Z2luIiwiYXBwbGllcyIsInR5cGVzIiwidGVtcCIsIkFyZWFPYmplY3RDbGFzcyIsIkNpcmNsZU9iamVjdENsYXNzIiwiY2lyY2xlQ2hlY2tGdW5jdGlvbiIsIkRlZmF1bHRPYmplY3RUeXBlIiwiR3JvdXBPYmplY3RDbGFzcyIsIkltYWdlT2JqZWN0Q2xhc3MiLCJyZWN0Q2hlY2tGdW5jdGlvbiIsIkxpbmVPYmplY3RDbGFzcyIsIlJlY3RhbmdsZU9iamVjdENsYXNzIiwicmVjdEN1cnNvclRyYW5zZm9ybUZ1bmN0aW9uIiwiU3ByaXRlT2JqZWN0Q2xhc3MiLCJUZXh0T2JqZWN0Q2xhc3MiLCJjcmVhdGVBdWRpbyIsInhociIsInJlc3BvbnNlVHlwZSIsIm9ubG9hZCIsInN0YXRlRnVuYyIsInJlc29sdmVFdmVudEZ1bmMiLCJvbmVycm9yIiwiX3VybCIsInJlc29sdmVGdW5jIiwic2V0U3RhdGVGdW5jIiwiRm9udCIsImdldEZvbnQiLCJmb250TG9hZGVyRWxlbWVudCIsImFwcGVuZGVkIiwicmVwZWF0VGlsbEVycm9yIiwiaW5pdGlhbCIsImZvbnRGYW1pbHkiLCJjaGVja0ludGVydmFsIiwicmVtb3ZlQ2hpbGQiLCJpbm5lclRleHQiLCJyIiwiSW1hZ2UiLCJDcmVhdGVJbWFnZSIsInNldFN0YXR1cyIsInN0YXR1cyIsImNiQ29udGFpbmVyIiwicmVzb2x2ZUZ1bmN0aW9uUGFzc2VkIiwibG9hZGluZyIsImluaXQiLCJTcHJpdGUiLCJDcmVhdGVDYW52YXNBcnJheSIsImVsZW1zIiwiZnJhbWVzIiwiU2V0Q2FudmFzU2l6ZSIsImZyYW1lSGVpZ2h0Iiwicm91bmQiLCJmcmFtZVdpZHRoIiwiX2N0eCIsInRyYW5zbGF0ZSIsInNldFN0YXVzRnVuYyIsInUiLCJldmVudEYiLCJzdGF0dXNGIiwic3ByaXRlV2lkdGgiLCJzcHJpdGVIZWlnaHQiLCJwbGF5Iiwicm93cyIsImNlaWwiLCJzcXJ0IiwiY3VycmVudFgiLCJjdXJyZW50WSIsIl90aW1lIiwiQW5pbWF0aW9uUHJvdmlkZXIiLCJhbmltYXRlIiwiZXZlbnRBcmdzIiwiY3JlYXRlQW5pbWF0aW9uTW9ycGgiLCJmaWx0ZXIiLCJub3JtYWxpemVyIiwiZXZlbnRzIiwibm9kZW5hbWUiLCJ0ZXJtaW5hdGUiLCIkJFNPVVJDRSIsImZpbHRlcnMiLCJjdHlwZSIsIm91dHNvdXJjZSIsIlVzZXJBdWRpb01peGVyIiwiYXJnRiIsImZpbHRlcnNDZmciLCJub2RlIiwiJCRBVURJT05PREUiLCJpbnB1dCIsIlVzZXJBdWRpb1NvdXJjZSIsImNiQXJncyIsImNvbm5lY3RDYkFyZ3MiLCJtaXhlciIsIkRlbGF5Tm9kZSIsInRpbWVDRkciLCJmb3JjZUNGRyIsImdsb2JhbEdhaW4iLCJjcmVhdGVHYWluIiwiZGVsYXkiLCJjcmVhdGVEZWxheSIsImZlZWRiYWNrIiwiYnEiLCJjcmVhdGVCaXF1YWRGaWx0ZXIiLCJnYWluIiwiZnJlcXVlbmN5IiwiZGVsYXlUaW1lIiwiZm9yY2UiLCJEZXN0aW5hdGlvbk5vZGUiLCJHYWluTm9kZSIsInZvbHVtZSIsIkxvd3Bhc3NOb2RlIiwiYnFmIiwiQXVkaW9Ob2RlIiwibmV4dE5vZGUiLCJidWlsZEYiLCJzb3VuZCIsImRpc2Nvbm5lY3QiLCJfaW5wQXJyYXkiLCJfaW5wQXJyIiwiaW5wIiwibW9kZWwiLCJkZWZWYWwiLCJub3JtbGl6ZXIiLCJBdWRpb05vZGVTb3VuZERpc3BhdGNoZXIiLCJyZWNvbm5lY3QiLCJBdWRpb1NvdXJjZSIsInJlc291cmNlIiwiYnVmZmVyIiwiZGVjb2RlQXVkaW9EYXRhIiwiY3JlYXRlQnVmZmVyU291cmNlIiwiRXZlbnQiLCJzdGF0ZXZhbCIsImFyZ0Z1bmN0IiwiZXZlbnROYW1lIiwiaXNTdGF0ZUV2ZW50IiwiRXZlbnRQcm92aWRlciIsIm9uc2V0IiwiR2V0UHJvcGVydHlDYWxsYmFjayIsImRlZiIsIkFyZWFPYmplY3REcmF3ZXIiLCJQYXRoSGVscGVyIiwiVXBkYXRlRmlsbCIsInhzaGlmdCIsInlzaGlmdCIsImludGVycG9sYXRpb24iLCJpbnRlcnBvbGF0ZWQiLCJpbnRlcnBvbGF0ZSIsImRyYXdCZXppZXJQYXRoRmlsbCIsImRyYXdMaW5lUGF0aEZpbGwiLCJVcGRhdGVTdHJva2UiLCJjbG9uZUFycmF5IiwiZHJhd0xpbmVQYXRoIiwiZHJhd0JlemllclBhdGgiLCJVcGRhdGVCZyIsImRyYXdMaW5lQmdDbGlwUGF0aCIsImFzc2VtYmxlciIsImRyYXdCZXppZXJCZ0NsaXBQYXRoIiwic3Ryb2tlZml4IiwiaW50ZXJwb2xhdGlvbmZpeCIsImZpeCIsImJveENvbnRhaW5lciIsImFuY2hvciIsIm1pbngiLCJtaW55IiwibWF4eCIsIm1heHkiLCJhYnMiLCJ0cmFuc2Zvcm0iLCJDaXJjbGVPYmplY3REcmF3ZXIiLCJiZWdpblBhdGgiLCJzdHJva2VTdHlsZSIsInNldExpbmVEYXNoIiwiYXJjIiwiUEkiLCJzdHJva2UiLCJmaWxsIiwiY2xpcCIsImJncG9zaXRpb24iLCJiZ3NpemUiLCJiZyIsImJnd2lkdGgiLCJiZ2hlaWdodCIsImJncG9zaXRpb254IiwiYmdwb3NpdGlvbnkiLCJyYWRpdXMiLCJEZWZhdWx0T2JqZWN0RHJhd2VyIiwib2JqZWN0TWF0cml4IiwiR3JvdXBPYmplY3REcmF3ZXIiLCJvYm94IiwiZ2xvYmFsQWxwaGEiLCJvZHJhd2VyIiwib3N0eWxlIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwiSW1hZ2VPYmplY3REcmF3ZXIiLCJMaW5lT2JqZWN0RHJhd2VyIiwiVXBkYXRlQ2FudmFzIiwicmVxdWlyZV91cGRhdGUiLCJSZWN0YW5nbGVPYmplY3REcmF3ZXIiLCJub3JtYWxpemVSYWRpdXMiLCJib3hFeHRlbnNpb24iLCJoYWxmYm94IiwiZHJhd1JlY3RQYXRoIiwiayIsInN0cm9rZUNvbG9yIiwic3Ryb2tlV2lkdGgiLCJjYXAiLCJsaW5lQ2FwIiwibW92ZVRvIiwibGluZVRvIiwiY3VydmVNb2RpZmllciIsImJlemllckN1cnZlVG8iLCJzdHJva1N0eWxlIiwiaGFzUmFkaXVzIiwiaGFzU3Ryb2tlIiwibW9ub1N0cm9rZSIsImRDb2xvciIsImRXaWR0aCIsImRTdHlsZSIsIlNwcml0ZU9iamVjdERyYXdlciIsInJlYWRTcHJpdGVTdHJpbmciLCJUZXh0T2JqZWN0RHJhd2VyIiwiVXBkYXRlVGV4dExheWVyIiwiYWxpZ24iLCJ0b3BTcGFuIiwiZ2V0Rm9udEZpbGUiLCJfc3R5bGUiLCJmc3R5bGUiLCJkcmF3VGV4dCIsIkFyZWFPYmplY3RNb2RlbCIsIlN5bmNQYXRoUHJvcGVydHkiLCJjaGVja1NpbXBsZVBhdGgiLCJjb252ZXJ0U2ltcGxlUGF0aCIsImNvbnZlcnRDb21wbGV4UGF0aCIsIkNpcmNsZU9iamVjdE1vZGVsIiwiaXNDb2xvciIsImFycmF5VG9Db2xvciIsIm5vcm1hbGl6ZSIsInZhbGlkTnVtZXJpY1ZhbHVlIiwidmFsaWROdW1lcmljQXJyYXkiLCJEZWZhdWx0T2JqZWN0TW9kZWwiLCJlbmRBcnJheSIsInJhZCIsInJhZDEiLCJyYWQyIiwidmFsaWRCbGVuZGluZyIsIkRlZmF1bHRGcmVlU3Ryb2tlTW9kZWwiLCJHbG9iYWxCYWNrZ3JvdW5kTW9kZWwiLCJTeW5jQmdQcm9wZXJ0eSIsImlzU3ByaXRlU3RyaW5nIiwiZGVmQmdQb3N2YWwiLCJfcmVzIiwiZGVmQmdTaXplVmFsIiwiR2xvYmFsU2l6ZU1vZGVsIiwiR3JvdXBPYmplY3RNb2RlbCIsIkltYWdlT2JqZWN0TW9kZWwiLCJMaW5lT2JqZWN0TW9kZWwiLCJSZWN0YW5nbGVPYmplY3RNb2RlbCIsImN1dXJlbnQiLCJTcHJpdGVPYmplY3RNb2RlbCIsIlRleHRPYmplY3RNb2RlbCIsInN5c3RlbUZvbnQiLCJUaWNrVmFsIiwibG9jcyIsImxvY2UiLCJlbmR2YWwiLCJzdGFydHZhbCIsImRpZmZlcmVuY2UiLCJDb2xvciIsIk5vcm1hbGl6ZUNvbG9yQXJyYXkiLCJQYXJzZUNvbG91ciIsImV4ZWMiLCJ0ZXh0RHJhd2VyQ29udGV4dCIsImV4dHJhY3QiLCJ4MSIsInkxIiwieDIiLCJ5MiIsImNsb3NlUGF0aCIsImF4MSIsImF5MSIsImF4MiIsImF5MiIsInN0cm9rZUNhcCIsImRyYXdSZWN0RmlsbCIsImRyYXdSZWN0U3Ryb2tlIiwiX3giLCJfeSIsIkVhc2luZyIsImVhc2luZ3MiLCJfIiwibGluZWFyIiwibGluZWFyU29mdCIsInRzIiwidGMiLCJsaW5lYXJTb2Z0T3V0IiwibGluZWFyU29mdEluIiwiZWFzZUluUXVhZCIsImVhc2VPdXRRdWFkIiwiZWFzZUluT3V0UXVhZCIsImVhc2VJbkN1YmljIiwiZWFzZU91dEN1YmljIiwiZWFzZUluT3V0Q3ViaWMiLCJlYXNlSW5RdWFydCIsImVhc2VPdXRRdWFydCIsImVhc2VJbk91dFF1YXJ0IiwiZWFzZUluUXVpbnQiLCJlYXNlT3V0UXVpbnQiLCJlYXNlSW5PdXRRdWludCIsImVhc2VJblNpbmUiLCJjb3MiLCJlYXNlT3V0U2luZSIsInNpbiIsImVhc2VJbk91dFNpbmUiLCJlYXNlSW5FeHBvIiwicG93IiwiZWFzZU91dEV4cG8iLCJlYXNlSW5PdXRFeHBvIiwiZWFzZUluQ2lyYyIsImVhc2VPdXRDaXJjIiwiZWFzZUluT3V0Q2lyYyIsImVhc2VJbkJhY2siLCJlYXNlT3V0QmFjayIsImVhc2VJbk91dEJhY2siLCJlYXNlT3V0Qm91bmNlIiwiR3JhcGhpY3NUcmFuc2Zvcm1NYXRyaXgiLCJtdWx0aXBseSIsIm0xIiwibTIiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwiYTYiLCJpbnZlcnQiLCJoaXN0b3J5Iiwicm90YXRlIiwic2luQSIsImNvc0EiLCJpbnZlcnNpb24iLCJza2V3IiwidGFuIiwic2NhbGUiLCJpbnZlcnRlZCIsImludmVydEdsb2JhbCIsImdsb2JhbEludmVyc2lvbiIsImdsb2JhbEludmVyc2lvbk1hdHJpeCIsImFuZ2xlIiwidGFuQSIsInRhbkIiLCJnbG9iYWxDdXJzb3JQcm9qZWN0aW9uIiwiY3Vyc29yUHJvamVjdGlvbiIsIm9yaWdpbiIsIl90cmFuc2xhdGUiLCJfb3JpZ2luIiwiTW9kZWwiLCJjbG9uZUhhc2giLCJoYXNoIiwic3RyaW5naWZ5IiwiZXZhbCIsImJsZW5kaW5ncyIsInNwcml0ZV9yZWdleHAiLCJjaXJjbGVVc2VyQ2hlY2tGdW5jdGlvbiIsImNvb3JkcyIsImN4IiwiY3kiLCJzcXVhcmVVc2VyQ2hlY2tGdW5jdGlvbiIsImNlbnRlciIsIlBhdGgiLCJnZXRDb250cm9sUG9pbnRzIiwieDAiLCJ5MCIsImQwMSIsImQxMiIsImZhIiwiZmIiLCJwMXgiLCJwMXkiLCJwMngiLCJwMnkiLCJzbW9vdGhpbmciLCJjbG9zZWQiLCJwcmV2IiwibWlkIiwibmV4dCIsInB0cyIsInMxIiwiX3NlZ21lbnQiLCJkZWVwY2hlY2siLCJjb21wYXJlUGF0aHMiLCJwYXRoMSIsInBhdGgyIl0sIm1hcHBpbmdzIjoiQUFHQSxRQUFBQSxZQWNBLFFBQUFDLE1BQUFDLEdBQ0EsR0FBQUMsV0FBQUQsRUFFQSxLQUFBLEdBREFFLElBQUEsRUFDQUMsRUFBQSxFQUFBQSxFQUFBQyxPQUFBQyxPQUFBRixJQUNBLElBQUFHLFFBQUFGLE9BQUFELElBQUEsQ0FDQUQsR0FBQSxDQUNBLE9BTUEsTUFIQUEsSUFDQUssWUFFQVIsS0FHQSxRQUFBUyxrQkFBQVIsR0FDQSxNQUFBLFNBQUFTLGlCQUNBLEdBQUFDLEdBQUFWLEVBQUFXLE1BQUFiLFFBQUFjLFVBQ0EsT0FBQUMsVUFBQUgsRUFBQVosUUFDQVksR0FDQUksS0FBQUMsTUE2Q0EsUUFBQVIsYUFDQVIsS0FBQWlCLElBQUEsT0FDQSxLQUFBLEdBQUFDLEtBQUFDLFlBQ0FBLFdBQUFDLGVBQUFGLEtBQ0FGLEtBQUFFLEdBQUFDLFdBQUFELElBS0EsUUFBQWhCLFdBQUFELEdBQ0EsR0FBQSxrQkFBQUEsS0FBQUEsRUFBQW9CLEtBQUEsS0FBQSxJQUFBQyxPQUFBLGtFQUNBZixTQUFBTixFQUFBb0IsTUFBQUUsSUFDQSxJQUFBQyxHQUFBLElBRUFELE1BQUFFLE9BQUEsU0FBQUMsR0FDQSxHQUFBQyxJQUFBLEtBQ0EsSUFBQUQsR0FBQSxnQkFBQUEsSUFBQUEsRUFBQUUsY0FBQUMsTUFDQSxJQUFBLEdBQUF6QixHQUFBLEVBQUFBLEVBQUFzQixFQUFBcEIsT0FBQUYsSUFDQXVCLEVBQUFHLEtBQUFKLEVBQUF0QixHQUdBLE9BQUEsS0FBQTJCLFNBQUFDLFVBQUFqQixLQUFBSCxNQUFBWCxFQUFBMEIsS0FHQUosS0FBQU4sSUFBQSxXQUNBLEdBQUFPLEVBQUEsTUFBQUEsRUFFQSxJQUFBYixHQUFBWSxLQUFBRSxPQUFBYixNQUFBVyxLQUFBVixVQUFBLEdBRUEsT0FEQVcsR0FBQWIsRUFDQUEsR0FJQVksS0FBQVUsR0FBQSxTQUFBQyxHQUNBLE1BQUFBLEdBQUFOLGNBQUEzQixHQUdBc0IsS0FBQVksT0FBQSxTQUFBRCxFQUFBUixHQUNBLE1BQUEsZ0JBQUFBLElBQUFBLEVBQUFFLGNBQUFDLE9BQ0E1QixFQUFBVyxNQUFBc0IsRUFBQVIsR0FDQVEsSUFFQWpDLEVBQUFtQyxLQUFBRixHQUNBQSxJQXZIQSxHQUFBM0IsWUFDQVksY0FDQUgsS0FBQSxHQUFBakIsU0FDQU0sUUFFQSxjQUFBLFFBQUEsU0FBQSxVQUNBLFNBQUEsWUFBQSxRQUFBLFVBQ0EsWUFBQSxPQUFBLFdBQUEsU0FDQSxTQTBCQUwsTUFBQWlCLElBQUEsU0FBQW9CLEVBQUFYLEdBQ0EsR0FBQSxnQkFBQVcsR0FBQSxDQUNBLEdBQUE5QixRQUFBOEIsR0FDQSxNQUFBOUIsU0FBQThCLEdBQUFwQixJQUFBTCxNQUFBTCxRQUFBOEIsR0FBQVgsRUFDQSxNQUFBLElBQUFKLE9BQUEsV0FBQWUsRUFBQSxtQkFDQSxLQUFBLElBQUFmLE9BQUEsaURBR0F0QixLQUFBaUMsR0FBQSxTQUFBQyxFQUFBYixHQUNBLEdBQUEsZ0JBQUFBLElBQ0FkLFFBQUFjLEdBQ0EsTUFBQWQsU0FBQWMsR0FBQVksR0FBQUMsSUFLQWxDLEtBQUFzQyxPQUFBLFNBQUFELEVBQUFYLEdBQ0EsR0FBQSxnQkFBQVcsR0FBQSxDQUNBLEdBQUE5QixRQUFBOEIsR0FDQSxNQUFBOUIsU0FBQThCLEdBQUFaLE9BQUFDLEVBQ0EsTUFBQSxJQUFBSixPQUFBLFdBQUFlLEVBQUEsb0JBQ0EsS0FBQSxJQUFBZixPQUFBLGlEQUdBdEIsS0FBQW1DLE9BQUEsU0FBQUUsRUFBQUgsRUFBQVIsR0FDQSxHQUFBLGdCQUFBbkIsU0FBQThCLEdBQUEsQ0FDQSxHQUFBLGdCQUFBSCxHQUNBLE1BQUEzQixTQUFBOEIsR0FBQUYsT0FBQUQsRUFBQVIsRUFDQSxNQUFBLElBQUFKLE9BQUEsMENBQUFZLEdBQUEsNEJBQUFHLEVBQUEsUUFJQXJDLEtBQUF1QyxPQUFBLFNBQUFyQixFQUFBc0IsR0FFQSxHQURBeEIsT0FBQUEsS0FBQSxHQUFBakIsVUFDQSxnQkFBQW1CLEdBQUEsQ0FDQSxHQUFBSixTQUFBSyxXQUFBRCxHQUFBLEtBQUEsSUFBQUksT0FBQSw4QkFBQUosRUFBQSxzQkFHQSxPQUZBLGtCQUFBQSxHQUFBQyxXQUFBRCxHQUFBVCxpQkFBQStCLEdBQ0EsT0FBQXRCLEdBQUEsbUJBQUFBLElBQUEsZ0JBQUFBLEtBQUFDLFdBQUFELEdBQUFzQixHQUNBeEIsT0FvREF5QixPQUFBQyxHQUFBMUIsS0MvSEFoQixLQUFBLFFBQUEyQyxhQUFBQyxFQUFBQyxFQUFBQyxHQUVBLEdBQUFDLEdBQUF4QixJQUVBdUIsR0FBQVAsT0FBQSxNQUFBLE1BQUFTLFVBQUEsRUFBQUMsUUFBQSxFQUFBQyxNQUFBLEtBQUFDLE1BQUEsU0FBQUMsR0FDQVAsRUFBQVEsSUFBQUQsS0FHQU4sRUFBQVAsT0FBQSxTQUFBLE1BQUFlLFVBQUEsSUFBQUgsTUFBQSxTQUFBQyxHQUNBUixFQUFBVyxRQUFBSCxLQUdBN0IsS0FBQWlDLEVBQUEsU0FBQUMsRUFBQXhELEdBQ0EsR0FBQSxnQkFBQXdELEdBY0EsS0FBQSxJQUFBbkMsT0FBQSxrREFiQSxJQUFBLE1BQUFtQyxFQUFBQyxPQUFBLEdBQUEsS0FBQSxJQUFBcEMsT0FBQSwwREFDQSxJQUFBQyxLQUFBa0MsR0FBQSxLQUFBLElBQUFuQyxPQUFBLDZCQUFBbUMsRUFBQSxpQkFDQSxJQUFBLGtCQUFBeEQsR0FBQSxLQUFBLElBQUFxQixPQUFBLDZCQUFBbUMsRUFBQSw0QkFDQWxDLE1BQUFrQyxHQUFBLFdBQ0EsR0FBQTlDLEdBQUFWLEVBQUFXLE1BQUFXLEtBQUFWLFVBQ0EsT0FBQUMsVUFBQUgsRUFDQUEsRUFHQW9DLElBT0F4QixLQUFBb0MsS0FBQSxXQUVBLE1BREFkLEdBQUFjLE9BQ0FwQyxNQUVBQSxLQUFBcUMsTUFBQSxXQUVBLE1BREFmLEdBQUFlLFFBQ0FyQyxNQUdBQSxLQUFBc0MsT0FBQSxTQUFBQyxFQUFBQyxHQUNBLEdBQUEsZ0JBQUFELEdBQ0EsR0FBQSxtQkFBQUMsSUFBQSxrQkFBQUEsR0FDQWpCLEVBQUFrQixJQUFBRixFQUFBQyxPQUVBLENBQUEsR0FBQSxrQkFBQUEsR0FJQSxNQUFBakIsR0FBQTdCLElBQUE2QyxFQUhBaEIsR0FBQUssTUFBQVcsRUFBQUMsT0FNQSxDQUFBLEdBQUEsZ0JBQUFELElBQUFBLEVBQUFsQyxjQUFBQyxNQVFBLEtBQUEsSUFBQVAsT0FBQSx5REFQQSxLQUFBLEdBQUFKLEtBQUE0QyxHQUNBQSxFQUFBMUMsZUFBQUYsSUFDQTRCLEVBQUFrQixJQUFBOUMsRUFBQTRDLEVBQUE1QyxJQU9BLE1BQUFLLFNDN0RBdkIsS0FBQSxRQUFBaUUsU0FDQSxHQUFBQyxHQUFBLEdBQUFDLGFBQ0E1QyxNQUFBMkMsUUFBQSxXQUNBLE1BQUFBLE1DSEFsRSxLQUFBLFFBQUE0QyxRQUFBQyxHQWFBLFFBQUF1QixXQUFBQyxFQUFBQyxHQUNBLEdBQUFuRSxFQUFBLENBRUEsSUFBQSxHQURBd0IsSUFBQXVDLEVBQUFHLEVBQUFDLEdBQ0FsRSxFQUFBLEVBQUFBLEVBQUFtRSxFQUFBakUsT0FBQUYsSUFDQSxJQUNBbUUsRUFBQW5FLEdBQUFILEVBQUFXLE1BQUFtQyxFQUFBcEIsR0FFQSxNQUFBNkMsR0FFQSxLQURBQyxTQUFBQyxNQUFBRixHQUNBLEdBQUFsRCxPQUFBLG9EQUNBaUQsRUFBQW5FLEdBQUF1RSxFQUFBLHdCQUNBdkUsRUFBQSx3QkFDQW1FLEVBQUFuRSxHQUFBSCxFQUFBb0IsS0FBQSx1QkFDQW1ELEVBQUFJLFNBR0EsSUFBQSxHQUFBQyxLQUFBTixHQUNBLElBQUEsR0FBQW5FLEdBQUEsRUFBQUEsRUFBQW1FLEVBQUFNLEdBQUF2RSxPQUFBRixPQU9BLFFBQUEwRSxTQUFBQyxHQUNBLElBQUEsR0FBQTNFLEdBQUEsRUFBQUEsRUFBQTJFLEVBQUF6RSxPQUFBRixJQUNBMkUsRUFBQTNFLEdBQUFnQyxLQUFBVyxHQXJDQSxHQUFBUSxHQUFBLEtBQ0FXLEVBQUEsS0FDQWMsR0FBQSxJQUFBLEtBQ0FDLEtBQ0FDLEtBQ0FuQyxFQUFBeEIsS0FDQWdELEtBQ0FwRSxHQUFBLENBRUEwQyxHQUFBMEIsTUFBQSxFQUFBSCxXQWdDQTdDLEtBQUFnQyxRQUFBLFNBQUE0QixHQUNBLEdBQUEsZ0JBQUFBLEdBQUEsQ0FDQSxHQUFBWCxHQUFBWSxTQUFBQyxlQUFBRixFQUNBLEtBQUFYLElBQUFBLEVBQUFjLFdBYUEsS0FBQSxJQUFBaEUsT0FBQSxxQkFBQTZELEVBQUEsa0NBWkEsSUFBQUksR0FBQWYsRUFBQWMsV0FBQSxLQUNBLEtBQUFDLEVBUUEsS0FBQSxJQUFBakUsT0FBQSxxQkFBQTZELEVBQUEsNkNBUEFYLEdBQUFnQixhQUFBLFFBQUFSLEVBQUEsSUFDQVIsRUFBQWdCLGFBQUEsU0FBQVIsRUFBQSxJQUNBZCxFQUFBcUIsRUFDQWhDLEVBQUFpQixFQUNBckUsR0FBQSxFQUNBMkUsUUFBQUksT0FPQSxDQUFBLEtBQUFDLFlBQUFNLGNBaUJBLE1BQUFsQyxFQWhCQSxLQUFBNEIsRUFBQUcsV0FhQSxLQUFBLElBQUFoRSxPQUFBLDBCQVhBLElBQUFpRSxHQUFBSixFQUFBRyxXQUFBLEtBQ0EsS0FBQUMsRUFRQSxLQUFBLElBQUFqRSxPQUFBLG1EQVBBNkQsR0FBQUssYUFBQSxRQUFBUixFQUFBLElBQ0FHLEVBQUFLLGFBQUEsU0FBQVIsRUFBQSxJQUNBekIsRUFBQTRCLEVBQ0FqQixFQUFBcUIsRUFDQXBGLEdBQUEsRUFDQTJFLFFBQUFJLEtBV0EzRCxLQUFBZ0QsTUFBQSxTQUFBVCxFQUFBQyxHQUNBLEdBQUEsa0JBQUFELEdBQUEsQ0FDQSxJQUFBQSxFQUFBekMsS0FBQSxLQUFBLElBQUFDLE9BQUEsdURBQ0FpRCxHQUFBekMsTUFBQTZDLEVBQUEsRUFBQTFFLEVBQUE4RCxRQUVBLENBQUEsR0FBQSxnQkFBQUQsR0FPQSxLQUFBLElBQUF4QyxPQUFBLCtDQU5BLElBQUEsa0JBQUF5QyxHQUlBLEtBQUEsSUFBQXpDLE9BQUEsdURBSEEsS0FBQXlDLEVBQUExQyxLQUFBLEtBQUEsSUFBQUMsT0FBQSx3REFDQWlELEdBQUF6QyxNQUFBNkMsRUFBQWIsRUFBQTdELEVBQUE4RCxJQVVBLE1BSkFRLEdBQUFtQixLQUFBLFNBQUE1QixFQUFBQyxHQUNBLE1BQUFELEdBQUFhLEVBQUFaLEVBQUFZLElBR0FwRCxNQUdBQSxLQUFBeUQsS0FBQSxTQUFBVyxFQUFBQyxHQVlBLE1BWEEsZ0JBQUFELElBQUEsZ0JBQUFDLEtBQ0FELEVBQUEsSUFBQUEsRUFBQSxHQUNBQyxFQUFBLElBQUFBLEVBQUEsR0FDQVosRUFBQSxLQUFBVyxHQUFBWCxFQUFBLEtBQUFXLElBQ0FYLEVBQUEsR0FBQVcsRUFDQVgsRUFBQSxHQUFBWSxFQUNBckMsRUFBQWlDLGFBQUEsUUFBQUcsR0FDQXBDLEVBQUFpQyxhQUFBLFNBQUFJLEdBQ0FkLFFBQUFHLE1BR0FELEVBQUEsR0FBQUEsRUFBQSxLQUdBekQsS0FBQXNFLE9BQUEsU0FBQTVGLEdBQ0EsR0FBQSxrQkFBQUEsR0FFQSxNQURBZ0YsR0FBQW5ELEtBQUE3QixHQUNBc0IsSUFFQSxNQUFBLElBQUFELE9BQUEsaUVBR0FDLEtBQUFBLFVBQUEsU0FBQXRCLEdBQ0EsR0FBQSxrQkFBQUEsR0FFQSxNQURBaUYsR0FBQXBELEtBQUE3QixHQUNBc0IsSUFFQSxNQUFBLElBQUFELE9BQUEsZ0VBR0FDLEtBQUFwQixNQUFBLFdBQ0EsTUFBQUEsTUN2SUFILEtBQUEsUUFBQThGLFdBTUEsUUFBQUMsS0FBQUMsR0FDQSxJQUNBLEdBQUFDLEdBQUFqRyxLQUFBc0MsT0FBQSxhQUFBMEQsR0FDQUUsR0FBQUQsRUFBQTVFLFNBQUFvRCxRQUFBMEIsS0FBQSwrQkFBQUYsRUFBQTVFLE9BQUEsMEJBQ0EsS0FBQSxHQUFBK0UsS0FBQUMsR0FDQUEsRUFBQWpGLGVBQUFnRixJQUNBQyxFQUFBRCxHQUFBSCxFQUFBNUUsU0FDQW9ELFFBQUEwQixLQUFBLGdCQUFBQyxFQUFBLFlBQUFILEVBQUE1RSxPQUFBLDRCQUlBNkUsR0FBQUQsRUFBQTVFLFFBQUE0RSxFQUVBLE1BQUF6QixHQUNBLEtBQUEsSUFBQWxELE9BQUEsc0NBbkJBLEdBQUFnRixNQUNBRCxLQUNBSCxJQXFCQUgsS0FBQUssSUFBQSxTQUFBQSxFQUFBSixHQUNBLEdBQUEsZ0JBQUFJLEdBWUEsS0FBQSxJQUFBOUUsT0FBQSx5RUFYQStFLEdBQUFELEtBQUFDLEVBQUFELE1BQ0EsS0FDQSxHQUFBSCxHQUFBakcsS0FBQXNDLE9BQUEsYUFBQTBELEdBQ0FFLEdBQUFELEVBQUE1RSxTQUFBb0QsUUFBQTBCLEtBQUEsZ0JBQUFDLEVBQUEsWUFBQUgsRUFBQTVFLE9BQUEsNkJBQ0FnRixFQUFBRCxHQUFBSCxFQUFBNUUsUUFBQTRFLEVBRUEsTUFBQXpCLEdBQ0EsS0FBQSxJQUFBbEQsT0FBQSwyREFBQThFLEVBQUEsUUFRQUwsSUFBQVEsSUFBQSxTQUFBUCxHQUNBLElBQ0EsR0FBQUMsR0FBQWpHLEtBQUFzQyxPQUFBLGFBQUEwRCxHQUNBTSxHQUFBTCxFQUFBNUUsU0FBQW9ELFFBQUEwQixLQUFBLGlCQUFBRixFQUFBNUUsT0FBQSxlQUNBaUYsRUFBQUwsRUFBQTVFLFFBQUE0RSxFQUVBLE1BQUF6QixHQUNBLEtBQUEsSUFBQWxELE9BQUEsOENBS0FDLEtBQUFpRixzQkFBQSxTQUFBSixHQUNBLEdBQUEsZ0JBQUFBLEdBQUEsQ0FDQSxHQUFBQyxFQUFBRCxHQUFBLENBQ0EsR0FBQUssR0FBQXpHLEtBQUFzQyxPQUFBLGFBQUE0RCxHQUdBLE9BRkFPLEdBQUFDLE9BQUFELEVBQUEsS0FDQUEsRUFBQUUsTUFBQU4sR0FDQUksRUFHQSxHQUFBQSxHQUFBekcsS0FBQXNDLE9BQUEsYUFBQTRELEdBRUEsT0FEQU8sR0FBQUMsT0FBQUQsRUFBQSxLQUNBQSxFQUlBLEtBQUEsSUFBQW5GLE9BQUEseUVBSUFDLEtBQUFxRixpQkFBQSxXQUNBLEdBQUFILEdBQUF6RyxLQUFBc0MsT0FBQSxhQUFBZ0UsR0FFQSxPQURBRyxHQUFBQyxPQUFBRCxFQUFBLEtBQ0FBLEdBR0F6RyxLQUFBdUMsT0FBQSxRQUFBd0QsT0M5RUEvRixLQUFBLFFBQUE4QyxVQWdDQSxRQUFBK0QsVUFBQXhGLEVBQUFtQixFQUFBd0QsR0FLQSxRQUFBYyxZQUFBMUQsR0FFQSxJQUFBLEdBREF6QyxJQUFBLEVBQ0FQLEVBQUEsRUFBQUEsRUFBQTJHLEVBQUEzRyxJQUNBLElBQUE0RyxFQUFBRCxFQUFBM0csR0FBQUgsR0FBQW1ELEVBQUEyRCxFQUFBcEYsTUFBQSxDQUNBaEIsR0FBQSxDQUNBLE9BR0EsTUFBQUEsR0FYQSxHQUFBb0csTUFDQUUsSUFhQTFGLE1BQUFOLElBQUEsV0FDQSxHQUFBaUcsR0FBQTFFLENBQ0EsSUFBQXdFLEVBQUFHLFFBQUFELEdBQUEsQ0FDQUEsSUFDQSxLQUFBLEdBQUE5RyxHQUFBLEVBQUFBLEVBQUFvQyxFQUFBbEMsT0FBQUYsSUFDQThHLEVBQUFwRixLQUFBVSxFQUFBcEMsSUFHQSxNQUFBOEcsSUFHQTNGLEtBQUFGLEtBQUEsV0FDQSxNQUFBQSxJQUdBRSxLQUFBeUMsSUFBQSxTQUFBUCxHQUNBLEdBQUFxRCxXQUFBckQsR0FDQSxHQUFBdUQsRUFBQUcsUUFBQTFELEdBQUEsQ0FDQWpCLElBQ0EsS0FBQSxHQUFBcEMsR0FBQSxFQUFBQSxFQUFBcUQsRUFBQW5ELE9BQUFGLElBQ0FvQyxFQUFBVixLQUFBMkIsRUFBQXJELFFBSUFvQyxHQUFBaUIsQ0FHQSxLQUFBLEdBQUFyRCxHQUFBLEVBQUFBLEVBQUE2RyxFQUFBM0csT0FBQUYsSUFDQTZHLEVBQUE3RyxHQUFBZ0MsS0FBQWIsS0FBQUEsS0FBQU4sTUFFQSxPQUFBTSxNQUFBTixPQUdBTSxLQUFBNEIsTUFBQSxTQUFBbEQsR0FDQSxHQUFBLGtCQUFBQSxHQUlBLEtBQUEsSUFBQXFCLE9BQUEscUVBRUEsT0FMQTJGLEdBQUFuRixLQUFBN0IsR0FLQXVDLEVBR0EsS0FBQSxHQUFBNEUsS0FBQXBCLEdBQ0EsR0FBQUEsRUFBQTVFLGVBQUFnRyxHQUFBLENBQ0EsR0FBQXRHLFNBQUFrRixFQUFBb0IsR0FNQSxLQUFBLElBQUE5RixPQUFBLHdDQUFBOEYsRUFBQSxJQUxBLEtBQUFKLEVBQUFJLEdBR0EsS0FBQSxJQUFBOUYsT0FBQSxvQ0FBQThGLEVBQUEsSUFGQUwsR0FBQWpGLE1BQUE3QixFQUFBbUgsRUFBQXpGLE1BQUFxRSxFQUFBb0IsTUFRQSxHQUFBLGdCQUFBNUUsSUFBQSxPQUFBQSxJQUFBd0UsRUFBQUcsUUFBQTNFLEdBQUEsS0FBQSxJQUFBbEIsT0FBQSxzREFDQSxLQUFBd0YsV0FBQXRFLEdBQUEsS0FBQSxJQUFBbEIsT0FBQSxZQUFBRCxFQUFBLGdEQXRHQSxHQUFBRixNQUNBNkYsR0FDQWhFLFNBQUEsU0FBQUksR0FDQSxNQUFBLGdCQUFBQSxJQUVBRSxTQUFBLFNBQUFGLEdBQ0EsTUFBQSxnQkFBQUEsSUFFQStELFFBQUEsU0FBQS9ELEdBQ0EsTUFBQSxnQkFBQUEsSUFBQUEsRUFBQXhCLGNBQUFDLE9BRUF3RixPQUFBLFNBQUFqRSxFQUFBekIsR0FDQSxHQUFBLGtCQUFBQSxHQUFBLEdBQ0EsTUFBQUEsR0FBQSxHQUFBeUIsSUFHQUYsTUFBQSxTQUFBRSxFQUFBekIsR0FDQSxNQUFBcUYsR0FBQWhFLFNBQUFJLElBQUFBLEVBQUF6QixFQUFBLElBRUFzQixRQUFBLFNBQUFHLEVBQUF6QixHQUNBLE1BQUFxRixHQUFBaEUsU0FBQUksSUFBQUEsRUFBQXpCLEVBQUEsSUFFQTJGLEdBQUEsU0FBQWxFLEVBQUF6QixHQUNBLE1BQUFxRixHQUFBaEUsU0FBQUksSUFBQUEsSUFBQXpCLEVBQUEsSUFFQTRGLE9BQUEsU0FBQW5FLEdBQ0EsTUFBQSxpQkFBQUEsSUErRUE3QixNQUFBZ0IsT0FBQSxTQUFBckIsRUFBQXNCLEVBQUF3RCxHQUNBLEdBQUEsZ0JBQUE5RSxHQWlCQSxLQUFBLElBQUFJLE9BQUEsbUVBaEJBLElBQUFSLFNBQUEwQixFQWNBLEtBQUEsSUFBQWxCLE9BQUEsOENBYkEsSUFBQUgsRUFBQUQsR0FVQXVELFFBQUEwQixLQUFBLGlEQUFBakYsRUFBQSxTQVRBLEtBQ0FDLEVBQUFELEdBQUEsR0FBQTJGLFVBQUEzRixFQUFBc0IsRUFBQXdELEdBRUEsTUFBQXhCLEdBRUEsS0FEQUMsU0FBQUMsTUFBQSxxQ0FBQXhELEVBQUEsS0FDQXNELEVBV0EsTUFBQXJELEdBQUFELElBR0FLLEtBQUF5QyxJQUFBLFNBQUEzQyxFQUFBbUIsR0FDQSxHQUFBLGdCQUFBbkIsSUFBQUYsRUFBQUUsR0FDQSxNQUFBRixHQUFBRSxHQUFBMkMsSUFBQXhCLEVBRUEsTUFBQSxJQUFBbEIsT0FBQSwyQkFBQUQsRUFBQSx5QkFHQUUsS0FBQU4sSUFBQSxTQUFBSSxHQUNBLEdBQUEsZ0JBQUFBLEdBQ0EsTUFBQUYsR0FBQUUsR0FBQUosS0FFQSxNQUFBLElBQUFLLE9BQUEsMkJBQUFELEVBQUEseUJBSUFFLEtBQUE0QixNQUFBLFNBQUE5QixFQUFBcEIsR0FDQSxHQUFBLGdCQUFBb0IsR0FBQSxDQUNBLEdBQUEsa0JBQUFwQixHQUFBLENBQ0EsR0FBQWtCLEVBQUFFLEdBQ0EsTUFBQUYsR0FBQUUsR0FBQThCLE1BQUFsRCxFQUVBLE1BQUEsSUFBQXFCLE9BQUEsd0JBQUFELEVBQUEsZUFFQSxLQUFBLElBQUFDLE9BQUEsc0NBRUEsS0FBQSxJQUFBQSxPQUFBLDZFQzNKQXRCLEtBQUEsUUFBQXdILFdBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsTUFDQUMsS0FDQXBHLElBNlFBLElBM1FBRCxLQUFBc0csS0FBQSxXQUNBLE1BQUFGLElBR0FwRyxLQUFBMEUsVUFBQSxTQUFBcEMsR0FDQSxHQUFBakMsR0FBQSxLQUNBa0csSUFFQSxJQUFBLGtCQUFBakUsR0FBQSxDQUNBLElBQUFBLEVBQUF4QyxPQUFBd0MsRUFBQXhDLEtBQUFmLE9BSUEsS0FBQSxJQUFBZ0IsT0FBQSx1REFIQU0sR0FBQWlDLE1BTUEsQ0FBQSxHQUFBLGdCQUFBQSxJQUFBQSxFQUFBakMsY0FBQUMsTUFlQSxLQUFBLElBQUFQLE9BQUEsb0NBZEEsS0FBQSxHQUFBbEIsR0FBQSxFQUFBQSxFQUFBeUQsRUFBQXZELE9BQUFGLElBQUEsQ0FDQSxHQUFBLGdCQUFBeUQsR0FBQXpELEtBQUF5RCxFQUFBekQsR0FBQUUsT0FHQSxDQUFBLEdBQUEsa0JBQUF1RCxHQUFBekQsSUFBQXlELEVBQUF6RCxHQUFBaUIsS0FBQSxDQUNBTyxFQUFBaUMsRUFBQXpELEVBQ0EsT0FHQSxLQUFBLElBQUFrQixPQUFBLGtEQVBBd0csRUFBQWhHLEtBQUErQixFQUFBekQsS0FlQTBILEVBQUFoRyxLQUFBRixHQUVBK0YsRUFBQS9GLEVBQUFQLE9BQ0FvRCxRQUFBMEIsS0FBQSxjQUFBdkUsRUFBQVAsS0FBQSx5Q0FFQXNHLEVBQUEvRixFQUFBUCxNQUFBckIsS0FBQXNDLE9BQUEsYUFBQXdGLEtBR0F2RyxLQUFBb0YsTUFBQSxTQUFBWCxFQUFBK0IsR0FDQSxHQUFBL0IsRUFDQSxJQUNBLElBQUEsR0FBQTlFLEtBQUE4RSxHQUNBQSxFQUFBNUUsZUFBQUYsSUFDQWxCLEtBQUFpQyxHQUFBK0QsRUFBQTlFLEdBQUEsZUFDQXlHLEVBQUEzQixFQUFBOUUsR0FBQUcsU0FBQW9ELFFBQUEwQixLQUFBLGNBQUFqRixFQUFBLHVCQUNBNkcsRUFDQUosRUFBQUYsRUFBQXZHLEdBQUFHLFFBQUFvRyxFQUFBdkcsR0FBQTZHLFFBR0FKLEVBQUFGLEVBQUF2RyxHQUFBRyxRQUFBb0csRUFBQXZHLElBTUEsTUFBQXNELEdBQ0EsS0FBQSxJQUFBbEQsT0FBQSwyQkFLQUMsS0FBQW1GLE9BQUEsU0FBQUQsRUFBQXVCLEdBQ0EsR0FBQXZCLEdBQUEsZ0JBQUFBLEdBQ0EsR0FBQXpHLEtBQUFpQyxHQUFBd0UsRUFBQSxjQUVBLEdBREF1QixJQUFBQSxHQUFBLEdBQ0EsZ0JBQUFBLElBQUFBLEVBQUExSCxRQUFBMEgsS0FBQSxFQUFBLENBQ0F2QixFQUFBd0IsUUFBQSxDQUNBLElBQUFDLElBQUEsQ0FDQTNHLE1BQUE0RyxRQUFBRCxHQUFBLFNBQ0F6QixHQUFBMkIsUUFDQVIsRUFBQUksRUFBQUEsRUFBQSxjQUFBaEksS0FBQXNDLE9BQUEsVUFBQTBGLEVBQUF2QixFQUFBeUIsU0FJQSxJQUFBekIsRUFBQTdFLGNBQUFDLE1BQUEsQ0FJQSxJQUFBLEdBSEF3RyxJQUFBLEVBQ0FILEtBRUE5SCxFQUFBLEVBQUFBLEVBQUFxRyxFQUFBbkcsT0FBQUYsSUFDQSxnQkFBQXFHLEdBQUFyRyxJQUFBSixLQUFBaUMsR0FBQXdFLEVBQUFyRyxHQUFBLGNBQ0FxRyxFQUFBckcsR0FBQWdJLFNBQUEsRUFDQTdHLEtBQUE2RyxRQUNBRixFQUFBcEcsTUFBQSxHQUdBb0csRUFBQXBHLE1BQUEsU0FFQTJFLEdBQUFyRyxHQUFBZ0ksU0FHQUMsR0FBQSxDQUlBLEtBQUFBLEVBUUEsS0FBQSxJQUFBL0csT0FBQSw2R0FQQTBHLEtBQUFBLEdBQUEsSUFFQSxnQkFBQUEsSUFBQUEsRUFBQTFILFFBQUEwSCxLQUFBLEtBQ0FKLEVBQUFJLEVBQUFBLEVBQUEsY0FBQWhJLEtBQUFzQyxPQUFBLFVBQUEwRixFQUFBdkIsRUFBQXlCLE9BVUEzRyxLQUFBd0csTUFBQSxXQUNBLEdBQUFPLEtBQ0EsS0FBQSxHQUFBckMsS0FBQTBCLEdBQ0FBLEVBQUF2RyxlQUFBNkUsS0FDQXFDLEVBQUFyQyxHQUFBMEIsRUFBQTFCLEdBQUE4QixRQUdBLElBQUFRLEdBQUF2SSxLQUFBc0MsT0FBQSxhQUFBZ0csR0FFQSxLQUFBLEdBQUE1QixLQUFBa0IsR0FBQSxDQU1BLElBQUEsR0FMQVksR0FBQVosRUFBQWxCLEdBQUE4QixhQUNBQyxFQUFBYixFQUFBbEIsR0FBQXdCLE9BQ0FRLEVBQUFkLEVBQUFsQixHQUFBaUMsU0FDQUMsS0FFQXhJLEVBQUEsRUFBQUEsRUFBQW9JLEVBQUFsSSxPQUFBRixJQUNBcUksRUFBQXJJLEdBQ0F3SSxFQUFBOUcsS0FBQXlHLEdBR0FLLEVBQUE5RyxLQUFBMEcsRUFBQXBJLEdBQUEySCxRQUlBUSxHQUFBN0IsT0FBQWtDLEVBQUFGLEdBRUEsTUFBQUgsSUFHQWhILEtBQUFzSCxtQkFBQSxTQUFBRixHQUNBLE1BQUFBLE1BQUEsRUFBQWYsRUFBQWtCLFdBRUEsZ0JBQUFILEdBQ0FmLEVBQUFlLEdBR0EsTUFHQXBILEtBQUF3SCwwQkFBQSxTQUFBQyxHQUNBLEdBQUF0QyxHQUFBLElBQ0EsSUFBQWxGLEVBQUF3SCxHQUNBLE1BQUF4SCxHQUFBd0gsRUFHQSxLQUFBLEdBQUFMLEtBQUFmLEdBQ0EsR0FBQUEsRUFBQXhHLGVBQUF1SCxJQUNBZixFQUFBZSxHQUFBQSxVQUNBZixFQUFBZSxHQUFBTSxJQUFBRCxHQUFBLENBQ0F0QyxFQUFBa0IsRUFBQWUsR0FDQW5ILEVBQUF3SCxHQUFBdEMsQ0FDQSxPQVVBLElBSkFBLEdBQUFrQixFQUFBa0IsWUFBQWxCLEVBQUFrQixXQUFBRyxJQUFBRCxLQUNBdEMsRUFBQWtCLEVBQUFrQixXQUNBdEgsRUFBQXdILEdBQUF0QyxJQUVBQSxFQUNBLEtBQUEsSUFBQXBGLE9BQUEsK0NBQUEwSCxFQUFBLE1BRUEsT0FBQXRDLElBR0FuRixLQUFBdUQsUUFBQSxTQUFBekQsRUFBQXFHLEdBQ0EsR0FBQSxXQUFBQSxFQUFBLENBRUEsR0FBQUMsRUFBQXRHLEdBQUEsQ0FPQSxJQUFBLEdBTkFWLElBQ0FtSCxnQkFDQW9CLGFBQUF2QixFQUFBdEcsR0FBQTZILGdCQUVBcEIsRUFBQUgsRUFBQXRHLEdBQUF5RyxlQUVBcUIsRUFBQSxFQUFBQSxFQUFBckIsRUFBQXhILE9BQUE2SSxJQUNBLEdBQUEsWUFBQXJCLEVBQUFxQixHQUNBeEksRUFBQW1ILGFBQUFoRyxLQUFBNkYsRUFBQXRHLEdBQUFjLE9BQUFaLFdBRUEsSUFBQSxZQUFBdUcsRUFBQXFCLEdBQ0F4SSxFQUFBbUgsYUFBQWhHLEtBQUE2RixFQUFBdEcsR0FBQWlCLE9BQUFmLFdBRUEsQ0FDQSxHQUFBNkgsR0FBQTdILEtBQUF3SCwwQkFBQWpCLEVBQUFxQixHQUNBLEtBQUFDLEVBSUEsS0FBQSxJQUFBOUgsT0FBQSwrQkFBQXdHLEVBQUFxQixHQUFBLFVBQUE5SCxFQUFBLEtBSEFWLEdBQUFtSCxhQUFBaEcsS0FBQXNILEVBQUF0RSxRQUFBZ0QsRUFBQXFCLEtBT0EsTUFBQXhJLEdBSUEsS0FBQSxJQUFBVyxPQUFBLHFCQUFBRCxFQUFBLDZCQUlBLEdBQUFFLEtBQUEwSCxJQUFBNUgsR0FBQSxDQUtBLElBQUEsR0FIQXlHLEdBQUFILEVBQUF0RyxHQUFBeUcsZUFDQW5HLEtBRUF2QixFQUFBLEVBQUFBLEVBQUEwSCxFQUFBeEgsT0FBQUYsSUFFQSxHQUFBLFlBQUEwSCxFQUFBMUgsR0FDQXVCLEVBQUFHLEtBQUE2RixFQUFBdEcsR0FBQWMsT0FBQVosV0FFQSxJQUFBLFlBQUF1RyxFQUFBMUgsR0FDQXVCLEVBQUFHLEtBQUE2RixFQUFBdEcsR0FBQWlCLE9BQUFmLFdBRUEsQ0FDQSxHQUFBbUYsR0FBQW5GLEtBQUF3SCwwQkFBQWpCLEVBQUExSCxHQUNBLEtBQUFzRyxFQUlBLEtBQUEsSUFBQXBGLE9BQUEsY0FBQXdHLEVBQUExSCxHQUFBLFVBQUFpQixFQUFBLDBCQUhBTSxHQUFBRyxLQUFBNEUsRUFBQTVCLFFBQUFnRCxFQUFBMUgsS0FRQSxNQUFBdUgsR0FBQXRHLEdBQUFJLE9BQUFFLEVBQUErRixHQUlBLEtBQUEsSUFBQXBHLE9BQUEsY0FBQUQsRUFBQSxnQ0FLQUUsS0FBQThILHVCQUFBLFNBQUFoSSxHQUNBLEdBQUFxRixHQUFBbkYsS0FBQXdILDBCQUFBMUgsRUFDQSxPQUFBcUYsR0FDQUEsRUFBQTVCLFFBQUF6RCxHQUFBLEdBR0FxRixHQUlBbkYsS0FBQTBILElBQUEsU0FBQTVILEdBQ0EsUUFBQXNHLEVBQUF0RyxJQUdBRSxLQUFBTixJQUFBLFNBQUFJLEdBQ0EsTUFBQXNHLEdBQUF0RyxHQUFBc0csRUFBQXRHLEdBQ0EsTUFJQXJCLEtBQUFpQyxHQUFBd0YsRUFBQSxhQUNBRSxFQUFBRixFQUFBcEcsUUFBQW9HLEVBQUFNLFlBRUEsSUFBQSxnQkFBQU4sR0FDQSxJQUFBLEdBQUF2RyxLQUFBdUcsR0FDQUEsRUFBQXJHLGVBQUFGLElBQ0FsQixLQUFBaUMsR0FBQXdGLEVBQUF2RyxHQUFBLGVBQ0F3RyxFQUNBQyxFQUFBRixFQUFBdkcsR0FBQUcsUUFBQW9HLEVBQUF2RyxHQUdBeUcsRUFBQUYsRUFBQXZHLEdBQUFHLFFBQUFvRyxFQUFBdkcsR0FBQTZHLGFBT0EsSUFBQWpILFNBQUEyRyxFQUNBLEtBQUEsSUFBQW5HLE9BQUEsNkVDblNBdEIsS0FBQSxRQUFBc0osT0FBQXhHLEVBQUFzRCxHQXdDQSxRQUFBbUQsWUFBQUMsRUFBQUMsR0FJQSxJQUFBLEdBRkE5SSxHQUFBLEdBRUErSSxFQUFBLEVBQUFBLEVBQUFGLEVBQUFHLE9BQUFySixPQUFBb0osSUFDQSxJQUFBLEdBQUFFLEdBQUEsRUFBQUEsRUFBQUosRUFBQUssTUFBQXZKLE9BQUFzSixJQUFBLENBTUEsSUFBQSxHQUxBRSxHQUFBTCxFQUFBLElBQUFELEVBQUFuSSxLQUFBLElBQUFtSSxFQUFBRyxPQUFBRCxHQUFBLElBQUFGLEVBQUFLLE1BQUFELEdBQ0FHLEVBQUEsNkJBQ0FoSCxFQUFBaUgsT0FBQVIsRUFBQW5JLE1BQUEsSUFBQW1JLEVBQUFHLE9BQUFELEdBQUEsU0FHQXpKLEVBQUEsRUFBQUEsRUFBQStKLEVBQUExSixPQUFBTCxJQUNBOEosR0FBQUUsRUFBQUQsRUFBQS9KLElBQUE2SixFQUFBTixFQUFBbkksS0FBQW1JLEVBQUFLLE1BQUFELElBRUFHLEdBREE5SixFQUFBK0osRUFBQTFKLE9BQUEsRUFDQSxJQUdBLEdBR0F5SixJQUFBLGdCQUFBUCxFQUFBRyxPQUFBRCxHQUFBLElBQ0FLLEdBQUEsY0FBQVAsRUFBQUssTUFBQUQsR0FBQSxLQUNBSixFQUFBQSxFQUFBRyxPQUFBRCxHQUFBLElBQUFGLEVBQUFLLE1BQUFELElBQUFHLEVBRUFwSixHQUFBNkksRUFBQUEsRUFBQUcsT0FBQUQsR0FBQSxJQUFBRixFQUFBSyxNQUFBRCxJQUlBLE1BQUFqSixHQUdBLFFBQUF1SixRQUFBQyxHQUNBLEdBQUFKLEdBQUEsRUFDQSxLQUFBLEdBQUFLLEtBQUFDLEdBQ0FBLEVBQUFqSixlQUFBZ0osS0FDQUwsR0FBQVIsV0FBQWMsRUFBQUQsR0FBQUQsR0FHQTVHLEdBQUErRyxVQUFBUCxFQUdBLFFBQUFRLFNBQUF4RixFQUFBdkMsR0FFQSxJQUFBLEdBREE3QixJQUFBLEVBQ0FQLEVBQUEsRUFBQUEsRUFBQTJFLEVBQUF6RSxPQUFBRixJQUNBLEdBQUEyRSxFQUFBM0UsS0FBQW9DLEVBQUEsQ0FDQTdCLEdBQUEsQ0FDQSxPQUdBLE1BQUFBLEdBdkZBLEdBQUE0QyxHQUFBNkIsU0FBQW9GLGNBQUEsU0FFQUgsS0FDQUwsRUFBQWxILEVBQUFQLE9BQUEsZUFBQSxNQUFBLE1BQUEsTUFBQSxTQUNBNEUsU0FBQSxFQUFBRSxPQUFBLFNBQUFqRSxHQUVBLElBQUEsR0FEQXpDLElBQUEsRUFDQVAsRUFBQSxFQUFBQSxFQUFBZ0QsRUFBQTlDLFNBQUFGLElBQ0EsR0FBQSxRQUFBZ0QsRUFBQWhELElBQUEsUUFBQWdELEVBQUFoRCxJQUFBLFFBQUFnRCxFQUFBaEQsSUFBQSxTQUFBZ0QsRUFBQWhELEdBQUEsQ0FDQU8sR0FBQSxDQUNBLE9BR0EsTUFBQUEsTUFFQXdDLE1BQUEsU0FBQUMsR0FDQTRHLEVBQUE1RyxFQUNBOEcsV0FFQUQsR0FDQVEsSUFBQSxTQUFBQyxHQUNBLE1BQUEsUUFBQUEsRUFBQSw2Q0FFQUMsS0FBQSxTQUFBRCxHQUNBLE1BQUEsUUFBQUEsRUFBQSwwQkFFQUUsSUFBQSxTQUFBRixHQUNBLE1BQUEsUUFBQUEsRUFBQSw2QkFFQUcsSUFBQSxTQUFBSCxFQUFBbEIsRUFBQUssR0FDQSxNQUFBLFFBQUFhLEVBQUEsUUFBQWxCLEVBQUEsS0FBQUssRUFBQW5HLE9BQUEsR0FBQW9ILGNBQUFqQixFQUFBa0IsTUFBQSxJQUFBLHFCQUdBaEksRUFBQXhCLElBRUF1QixHQUFBUCxPQUFBLFVBQUEsV0FBQWUsVUFBQSxJQUVBOEIsU0FBQTRGLHFCQUFBLFFBQUEsR0FBQUMsWUFBQTFILEdBc0RBaEMsS0FBQWlJLEtBQUEsU0FBQVcsRUFBQVgsRUFBQUcsRUFBQUUsR0FDQVEsRUFBQWIsS0FDQWEsRUFBQWIsSUFDQW5JLEtBQUFtSSxJQUdBYSxFQUFBYixHQUFBRyxTQUFBVSxFQUFBYixHQUFBRyxXQUNBVSxFQUFBYixHQUFBSyxRQUFBUSxFQUFBYixHQUFBSyxVQUNBVSxRQUFBRixFQUFBYixHQUFBRyxPQUFBQSxJQUFBVSxFQUFBYixHQUFBRyxPQUFBN0gsS0FBQTZILEdBQ0FZLFFBQUFGLEVBQUFiLEdBQUFLLE1BQUFBLElBQUFRLEVBQUFiLEdBQUFLLE1BQUEvSCxLQUFBK0gsR0FDQUssT0FBQUMsSUFHQTVJLEtBQUF5SSxPQUFBLFNBQUFSLEdBQ0EsTUFBQXBELEdBQUEsSUFBQW9ELEdBR0FqSSxLQUFBMkosUUFBQSxXQUVBLElBQUEsR0FEQXZLLE1BQ0FQLEVBQUEsRUFBQUEsRUFBQTRKLEVBQUExSixPQUFBRixJQUNBTyxFQUFBbUIsS0FBQWtJLEVBQUE1SixHQUVBLE9BQUFPLE1DbEhBWCxLQUFBLFFBQUFtTCxXQUtBLFFBQUFDLFFBQUFwRixHQUNBLElBQ0EsR0FBQW9GLEdBQUFwTCxLQUFBc0MsT0FBQSxhQUFBMEQsR0FDQXFGLEdBQUFELEVBQUEvSixTQUFBb0QsUUFBQTBCLEtBQUEsV0FBQWlGLEVBQUEvSixPQUFBLGVBQ0FnSyxFQUFBRCxFQUFBL0osUUFBQStKLEVBQ0EsTUFBQTVHLEdBQ0EsS0FBQSxJQUFBbEQsT0FBQSw2QkFUQSxHQUFBK0osTUFDQUMsSUFZQXRMLE1BQUF1QyxPQUFBLFNBQUE2SSxRQUVBQSxPQUFBRyxPQUFBLFNBQUF2RixFQUFBd0YsR0FDQSxJQUNBLEdBQUFKLEdBQUFwTCxLQUFBc0MsT0FBQSxhQUFBMEQsR0FDQXNGLEdBQUFGLEVBQUEvSixTQUFBb0QsUUFBQTBCLEtBQUEsa0JBQUFpRixFQUFBL0osT0FBQSxxQ0FDQWlLLEVBQUFGLEVBQUEvSixRQUFBK0osRUFDQUksSUFDQUgsRUFBQUQsRUFBQS9KLFFBQ0FvRCxRQUFBMEIsS0FBQSxrQkFBQWlGLEVBQUEvSixPQUFBLG1EQUVBZ0ssRUFBQUQsRUFBQS9KLFFBQUErSixHQUdBLE1BQUE1RyxNQUtBakQsS0FBQWtLLGlCQUFBLFNBQUFDLEdBQ0EsR0FBQWpGLEdBQUF6RyxLQUFBc0MsT0FBQSxhQUFBZ0osR0FHQSxPQUZBN0UsR0FBQUMsT0FBQUQsRUFBQSxLQUNBQSxFQUFBQyxPQUFBZ0YsRUFBQSxLQUNBakYsR0FHQWxGLEtBQUFvSyxpQkFBQSxTQUFBRCxHQUNBLEdBQUFqRixHQUFBekcsS0FBQXNDLE9BQUEsYUFBQStJLEdBR0EsT0FGQTVFLEdBQUFDLE9BQUFELEVBQUEsS0FDQUEsRUFBQUMsT0FBQWdGLEVBQUEsS0FDQWpGLEtDN0NBekcsS0FBQSxRQUFBRSxXQUFBMEwsRUFBQUMsR0FDQSxHQUFBakssR0FBQWdLLEVBQUFFLEVBQUEsS0FDQWhFLEtBQ0EvRSxFQUFBeEIsSUFHQSxJQUFBc0ssRUFBQSxDQUNBLEdBQUEsZ0JBQUFELEdBS0EsS0FBQSxJQUFBdEssT0FBQSx3RUFKQU0sR0FBQWdLLEVBQUFoSyxZQUNBa0ssRUFBQUYsRUFDQTlELFNBSUEsQ0FDQSxHQUFBLGtCQUFBOEQsSUFBQUEsRUFBQXZLLEtBQ0FPLEVBQUFnSyxNQUVBLElBQUEsZ0JBQUFBLElBQUFBLEVBQUFoSyxjQUFBQyxNQUNBLElBQUEsR0FBQXpCLEdBQUEsRUFBQUEsRUFBQXdMLEVBQUF0TCxPQUFBRixJQUNBLEdBQUEsZ0JBQUF3TCxHQUFBeEwsSUFBQXdMLEVBQUF4TCxHQUFBRSxPQUNBd0gsRUFBQWhHLEtBQUE4SixFQUFBeEwsUUFFQSxJQUFBLGtCQUFBd0wsR0FBQXhMLElBQUF3TCxFQUFBeEwsR0FBQWlCLEtBQUEsQ0FDQU8sRUFBQWdLLEVBQUF4TCxFQUNBLE9BS0EsSUFBQXdCLEVBQUEsS0FBQSxJQUFBTixPQUFBLG9DQUlBQyxLQUFBRixLQUFBLFdBQ0EsTUFBQU8sR0FBQVAsTUFHQUUsS0FBQXVHLGFBQUEsV0FFQSxJQUFBLEdBREFuSCxNQUNBUCxFQUFBLEVBQUFBLEVBQUEwSCxFQUFBeEgsT0FBQUYsSUFDQU8sRUFBQW1CLEtBQUFnRyxFQUFBMUgsR0FFQSxPQUFBTyxJQUdBWSxLQUFBWSxPQUFBLFNBQUFzRSxHQUNBLEdBQUFvRixFQUFBLEtBQUEsSUFBQXZLLE9BQUEsNEJBQUFNLEVBQUFQLEtBQUEsS0FDQSxPQUFBLFVBQUFhLEVBQUE4RyxHQUNBLEdBQUEsZ0JBQUE5RyxHQWdCQSxLQUFBLElBQUFaLE9BQUEscUNBZkEsSUFBQSxnQkFBQTBILEdBV0EsS0FBQSxJQUFBMUgsT0FBQSx3Q0FWQSxJQUFBb0YsR0FBQUQsRUFBQXNDLDBCQUFBQyxFQUNBLEtBQUF0QyxFQUtBLEtBQUEsSUFBQXBGLE9BQUEsNkJBQUEwSCxFQUFBLFVBQUFqRyxFQUFBMUIsT0FBQSxJQUpBLElBQUF3QyxHQUFBNkMsRUFBQXFGLDZCQUFBL0MsRUFDQW5GLEdBQUFxRixhQUFBdEksTUFBQXNCLEVBQUEyQixFQUFBaUUsZ0JBZ0JBdkcsS0FBQWUsT0FBQSxTQUFBbUUsR0FDQSxHQUFBb0YsRUFBQSxLQUFBLElBQUF2SyxPQUFBLHVCQUFBTSxFQUFBUCxLQUFBLGFBQ0EsT0FBQSxVQUFBMkgsR0FDQSxNQUFBdkMsR0FBQTRDLHVCQUFBTCxLQUlBekgsS0FBQUUsT0FBQSxTQUFBRSxFQUFBK0YsR0FDQSxNQUFBbUUsR0FBQUMsRUFDQXBFLEdBQ0EvRixFQUFBcUssUUFBQSxNQUNBLElBQUFqSyxTQUFBQyxVQUFBakIsS0FBQUgsTUFBQWdCLEVBQUFELE1BR0FtSyxJQUNBbkssRUFBQXFLLFFBQUEsTUFDQUYsRUFBQSxJQUFBL0osU0FBQUMsVUFBQWpCLEtBQUFILE1BQUFnQixFQUFBRCxLQUVBbUssSUFJQXZLLEtBQUEySCxhQUFBLFdBQ0EsTUFBQXRILElBR0FMLEtBQUF3RyxNQUFBLFdBQ0EsTUFBQSxJQUFBN0gsV0FBQTBMLEVBQUFDLE1DakdBN0wsS0FBQSxRQUFBaU0sUUFNQSxRQUFBQyxtQkFBQTlGLEdBQ0EsR0FBQStGLEdBQUFuTSxLQUFBc0MsT0FBQSxhQUFBOEosRUFBQWhHLEtBQ0FpRyxFQUFBck0sS0FBQXNDLE9BQUEsVUFDQWdLLEVBQUF0TSxLQUFBc0MsT0FBQSxVQUFBK0osSUFDQUUsRUFBQXZNLEtBQUFzQyxPQUFBLFlBQ0FrSyxFQUFBeE0sS0FBQXNDLE9BQUEsVUFBQThELElBQ0FxRyxFQUFBek0sS0FBQXNDLE9BQUEsU0FBQWtLLEVBQUFwRyxJQUNBc0csRUFBQTFNLEtBQUFzQyxPQUFBLGVBQUFnSyxFQUFBRCxFQUFBRyxJQUVBRyxJQUVBQSxHQUFBOUosT0FBQTdDLEtBQUFzQyxPQUFBLGFBQUErSixHQUFBLElBQ0FNLEVBQUEvSixPQUFBNUMsS0FBQXNDLE9BQUEsYUFBQWdLLEdBQUEsSUFDQUssRUFBQUMsSUFBQTVNLEtBQUFzQyxPQUFBLGFBQUFvSyxHQUFBLElBQ0FDLEVBQUFyRCxNQUFBdEosS0FBQXNDLE9BQUEsYUFBQW1LLEdBQUEsSUFDQUUsRUFBQTdKLE9BQUE5QyxLQUFBc0MsT0FBQSxhQUFBa0ssR0FBQSxJQUNBRyxFQUFBMUksTUFBQWpFLEtBQUFzQyxPQUFBLGFBQUFpSyxHQUFBLEdBRUEsSUFBQU0sR0FBQTdNLEtBQUFzQyxPQUFBLGFBQUFxSyxJQUNBRyxFQUFBekIsRUFBQUksaUJBQUFvQixHQUNBRSxFQUFBMUIsRUFBQU0saUJBQUFrQixHQUNBRyxFQUFBQyxFQUFBekcsc0JBQUFKLEdBQ0E4RyxFQUFBRCxFQUFBckcsaUJBQUFSLEdBQ0ErRyxFQUFBQyxFQUFBQyx1QkFBQVAsRUFBQUksRUFBQUwsRUFFQVYsR0FBQXpGLE9BQUF5RyxHQUFBLEdBQ0FoQixFQUFBekYsT0FBQXNHLEVBQUEsS0FDQWIsRUFBQXpGLE9BQUFxRyxFQUFBLEtBQ0FaLEVBQUF6RixPQUFBbUcsRUFBQSxJQUNBLEtBQUEsR0FBQXpNLEdBQUEsRUFBQUEsRUFBQStNLEVBQUE3TSxPQUFBRixJQUVBLElBQUEsR0FEQXlILEdBQUFzRixFQUFBL00sR0FBQXlILE9BQ0F5RixFQUFBLEVBQUFBLEVBQUF6RixFQUFBdkgsT0FBQWdOLElBQ0FILEVBQUEvTSxHQUFBMEUsUUFBQStDLEVBQUF5RixHQUlBLE9BREFuQixHQUFBckgsUUFBQXNCLEdBQ0FzRyxFQXpDQSxHQUFBTixNQUNBZ0IsRUFBQXBOLEtBQUFpQixJQUFBLFlBQ0FnTSxFQUFBak4sS0FBQWlCLElBQUEsV0FDQW9LLEVBQUFyTCxLQUFBaUIsSUFBQSxVQXlDQWpCLE1BQUF1QyxPQUFBLE1BQUEsU0FBQXlELEdBQ0EsSUFDQSxHQUFBdUgsR0FBQXZOLEtBQUFzQyxPQUFBLGFBQUEwRCxHQUNBb0csR0FBQW1CLEVBQUFsTSxTQUFBb0QsUUFBQTBCLEtBQUEsZ0JBQUFvSCxFQUFBbE0sT0FBQSxpQ0FDQStLLEVBQUFtQixFQUFBbE0sUUFBQWtNLEVBRUEsTUFBQS9JLEdBRUEsS0FEQUMsU0FBQUMsTUFBQSwrQ0FDQUYsS0FJQXhFLEtBQUF1QyxPQUFBLE1BQUEsU0FBQTZELEdBQ0EsR0FBQSxnQkFBQUEsR0FBQSxDQUNBLEdBQUFnRyxFQUFBaEcsR0FDQSxNQUFBOEYsbUJBQUE5RixFQUdBLE1BQUEsSUFBQTlFLE9BQUEsZ0JBQUE4RSxFQUFBLGdCQUlBLEtBQUEsSUFBQTlFLE9BQUEsaURDbkVBdEIsS0FBQSxRQUFBd04sWUFPQSxRQUFBQyxTQUFBekgsR0FDQSxHQUFBLGdCQUFBQSxJQUFBQSxFQUFBcEUsY0FBQUMsTUFBQSxDQUVBLElBQUEsR0FEQTZMLEdBQUEsS0FDQXROLEVBQUEsRUFBQUEsRUFBQTRGLEVBQUExRixPQUFBRixJQUNBLEdBQUEsa0JBQUE0RixHQUFBNUYsR0FDQXNOLEVBQUExSCxFQUFBNUYsR0FBQWlCLFNBRUEsSUFBQSxnQkFBQTJFLEdBQUE1RixHQUFBLEtBQUEsSUFBQWtCLE9BQUEsMkNBR0FvTSxLQUNBTixFQUFBTSxJQUFBakosUUFBQTBCLEtBQUEsbUNBQUF1SCxFQUFBLDBCQUNBTixFQUFBTSxHQUFBMU4sS0FBQXNDLE9BQUEsYUFBQTBELFNBR0EsSUFBQSxrQkFBQUEsR0FBQSxDQUNBLElBQUFBLEVBQUEzRSxLQUlBLEtBQUEsSUFBQUMsT0FBQSxpRUFIQThMLEdBQUFwSCxFQUFBM0UsT0FBQW9ELFFBQUEwQixLQUFBLG1DQUFBdUgsRUFBQSwwQkFDQU4sRUFBQXBILEVBQUEzRSxNQUFBckIsS0FBQXNDLE9BQUEsYUFBQTBELEtBTUEsUUFBQTJILFFBQUE3SixFQUFBQyxHQUNBLEdBQUEsZ0JBQUFELEdBc0JBLEtBQUEsSUFBQXhDLE9BQUEsOENBckJBLElBQUEsZ0JBQUF5QyxJQUFBQSxFQUFBbkMsY0FBQUMsTUFBQSxDQUVBLElBQUEsR0FEQStMLEdBQUEsS0FDQXhOLEVBQUEsRUFBQUEsRUFBQTJELEVBQUF6RCxPQUFBRixJQUNBLEdBQUEsa0JBQUEyRCxHQUFBM0QsR0FDQXdOLEVBQUE3SixFQUFBM0QsR0FBQWlCLFNBRUEsSUFBQSxnQkFBQTBDLEdBQUEzRCxHQUNBLEtBQUEsSUFBQWtCLE9BQUEseURBR0EsS0FBQXNNLEVBTUEsS0FBQSxJQUFBdE0sT0FBQSwrREFMQXVNLEdBQUEvSixLQUFBK0osRUFBQS9KLE9BQ0ErSixFQUFBL0osR0FBQThKLElBQUFuSixRQUFBMEIsS0FBQSx1QkFBQXlILEVBQUEsMEJBQ0FDLEVBQUEvSixHQUFBOEosR0FBQTVOLEtBQUFzQyxPQUFBLGFBQUF5QixLQXVGQSxRQUFBK0osa0JBQUFyRyxHQUNBLFFBQUFzRyxXQUVBLElBQUEsR0FEQXBHLE1BQ0F2SCxFQUFBLEVBQUFBLEVBQUFxSCxFQUFBbkgsT0FBQUYsSUFBQSxDQUNBLEdBQUF5SCxHQUFBSixFQUFBckgsR0FBQXlILE1BQ0EsS0FBQSxHQUFBVCxLQUFBUyxHQUNBQSxFQUFBVCxHQUFBOEIsaUJBQUE2RSxTQUNBcEcsRUFBQTdGLEtBQUFzRixHQUlBN0YsS0FBQXlNLEtBQUEsU0FBQS9OLEdBQ0EsSUFBQSxHQUFBRyxHQUFBLEVBQUFBLEVBQUF1SCxFQUFBckgsT0FBQUYsSUFDQUgsRUFBQTBILEVBQUF2SCxHQUVBLE9BQUFtQixPQUdBQSxLQUFBc0csS0FBQSxXQUVBLElBQUEsR0FEQUEsTUFDQXpILEVBQUEsRUFBQUEsRUFBQXVILEVBQUFySCxPQUFBRixJQUNBeUgsRUFBQS9GLEtBQUE2RixFQUFBdkgsR0FFQSxPQUFBeUgsSUFJQSxNQUFBN0gsTUFBQXNDLE9BQUEsYUFBQXRDLEtBQUFzQyxPQUFBLGFBQUF5TCxZQTlKQSxHQUFBWCxNQUNBYSxLQUNBSixLQUNBSyxJQXFEQVAsUUFBQUEsU0FBQSxTQUFBUSxFQUFBckssRUFBQUMsR0FDQSxHQUFBLGdCQUFBb0ssR0FBQSxDQUNBLEdBQUEsZ0JBQUFySyxHQWtDQSxLQUFBLElBQUF4QyxPQUFBLDhDQWpDQSxJQUFBLGdCQUFBeUMsSUFBQUEsRUFBQW5DLGNBQUFDLE1BQUEsQ0FFQSxJQUFBLEdBREF1TSxHQUFBLEtBQ0FoTyxFQUFBLEVBQUFBLEVBQUEyRCxFQUFBekQsT0FBQUYsSUFDQSxHQUFBLGtCQUFBMkQsR0FBQTNELEdBQ0FnTyxFQUFBckssRUFBQTNELEdBQUFpQixTQUVBLElBQUEsZ0JBQUEwQyxHQUFBM0QsR0FDQSxLQUFBLElBQUFrQixPQUFBLCtEQUdBLEtBQUE4TSxFQVFBLEtBQUEsSUFBQTlNLE9BQUEsK0RBUEE0TSxHQUFBQyxLQUFBRCxFQUFBQyxPQUNBRCxFQUFBQyxHQUFBckssS0FBQW9LLEVBQUFDLEdBQUFySyxPQUNBb0ssRUFBQUMsR0FBQXJLLEdBQUFzSyxJQUFBM0osUUFBQTBCLEtBQUEsNkJBQUFpSSxFQUFBLDBCQUVBRixFQUFBQyxHQUFBckssR0FBQXNLLEdBQUFwTyxLQUFBc0MsT0FBQSxhQUFBeUIsUUFNQSxDQUFBLEdBQUEsa0JBQUFBLEdBU0EsS0FBQSxJQUFBekMsT0FBQSxxREFSQXlDLEdBQUExQyxPQUNBNk0sRUFBQUMsS0FBQUQsRUFBQUMsT0FDQUQsRUFBQUMsR0FBQXJLLEtBQUFvSyxFQUFBQyxHQUFBckssT0FDQW9LLEVBQUFDLEdBQUFySyxHQUFBQyxFQUFBMUMsT0FBQW9ELFFBQUEwQixLQUFBLDZCQUFBcEMsRUFBQTFDLEtBQUEsMEJBRUE2TSxFQUFBQyxHQUFBckssR0FBQUMsRUFBQTFDLE1BQUFyQixLQUFBc0MsT0FBQSxhQUFBeUIsUUFXQTBKLFFBQUFBLFNBQUEsU0FBQTNKLEVBQUFDLEdBQ0EsR0FBQXNLLEdBQUEsSUFDQSxJQUFBLGdCQUFBdkssR0F5QkEsS0FBQSxJQUFBeEMsT0FBQSw0Q0F4QkEsSUFBQSxrQkFBQXlDLEdBQUEsQ0FDQSxJQUFBQSxFQUFBMUMsS0FJQSxLQUFBLElBQUFDLE9BQUEseUNBQUF3QyxFQUFBLHlDQUhBbUssR0FBQW5LLEtBQUFtSyxFQUFBbkssT0FDQW1LLEVBQUFuSyxHQUFBQyxFQUFBMUMsTUFBQXJCLEtBQUFzQyxPQUFBLGFBQUF5QixRQUlBLElBQUEsZ0JBQUFBLElBQUFBLEVBQUFuQyxjQUFBQyxNQUFBLENBQ0EsSUFBQSxHQUFBekIsR0FBQSxFQUFBQSxFQUFBMkQsRUFBQXpELE9BQUFGLElBQ0EsR0FBQSxrQkFBQTJELEdBQUEzRCxHQUNBaU8sRUFBQXRLLEVBQUEzRCxHQUFBaUIsU0FFQSxJQUFBLGdCQUFBMEMsR0FBQTNELEdBQ0EsS0FBQSxJQUFBa0IsT0FBQSxzQ0FBQXdDLEVBQUEscUJBR0F1SyxLQUNBSixFQUFBbkssS0FBQW1LLEVBQUFuSyxPQUNBbUssRUFBQW5LLEdBQUF1SyxJQUFBNUosUUFBQTBCLEtBQUEsaUNBQUFrSSxFQUFBLG9CQUFBdkssRUFBQSwwQkFDQW1LLEVBQUFuSyxHQUFBdUssR0FBQXJPLEtBQUFzQyxPQUFBLGFBQUF5QixPQVNBL0QsS0FBQXVDLE9BQUEsVUFBQWtMLFNBQ0F6TixLQUFBdUMsT0FBQSxTQUFBb0wsUUFnQ0FwTSxLQUFBOEwsdUJBQUEsU0FBQWlCLEVBQUFDLEVBQUFDLEdBRUEsR0FJQUMsR0FBQUMsRUFKQUMsS0FDQUMsS0FDQUMsS0FDQUMsSUFHQSxLQUFBLEdBQUFyQixLQUFBTCxHQUNBLEdBQUFBLEVBQUFoTSxlQUFBcU0sR0FBQSxDQUNBZ0IsRUFBQXpPLEtBQUFzQyxPQUFBLGFBQUE4SyxFQUFBSyxJQUNBLElBQUFzQixLQUVBLElBQUFsQixFQUFBSixHQUNBLElBQUEsR0FBQUUsS0FBQUUsR0FBQUosR0FDQSxHQUFBSSxFQUFBSixHQUFBck0sZUFBQXVNLEdBQUEsQ0FJQSxHQUhBZSxFQUFBMU8sS0FBQXNDLE9BQUEsYUFBQXVMLEVBQUFKLEdBQUFFLEtBQ0FrQixFQUFBcEIsS0FBQW9CLEVBQUFwQixPQUNBb0IsRUFBQXBCLEdBQUFFLEdBQUFlLEVBQ0FSLEVBQUFULEdBQUFFLEdBQUEsQ0FDQSxHQUFBcUIsR0FBQWhQLEtBQUFzQyxPQUFBLGFBQUE0TCxFQUFBVCxHQUFBRSxJQUNBbUIsR0FBQXJCLEtBQUFxQixFQUFBckIsT0FDQXFCLEVBQUFyQixHQUFBRSxHQUFBcUIsRUFDQU4sRUFBQWhJLE9BQUFzSSxFQUFBLEtBQ0FBLEVBQUF0SSxPQUFBc0ksRUFBQSxLQUNBQSxFQUFBdEksT0FBQTZILEVBQUEsS0FDQVMsRUFBQXRJLE9BQUE0SCxFQUFBLEtBRUFJLEVBQUFoSSxPQUFBNkgsRUFBQSxLQUNBRyxFQUFBaEksT0FBQTRILEVBQUEsS0FDQVMsRUFBQWpOLEtBQUE0TSxHQVVBLEdBTEFLLEVBQUFqTixLQUFBZ00saUJBQUFpQixJQUNBTixFQUFBL0gsT0FBQXFJLEVBQUEsS0FDQU4sRUFBQS9ILE9BQUE2SCxFQUFBLEtBQ0FFLEVBQUEvSCxPQUFBNEgsRUFBQSxLQUNBRyxFQUFBL0gsT0FBQThILEVBQUEsS0FDQVAsRUFBQVIsR0FBQSxDQUNBLEdBQUF3QixHQUFBalAsS0FBQXNDLE9BQUEsYUFBQTJMLEVBQUFSLElBQ0FnQixHQUFBL0gsT0FBQXVJLEVBQUEsS0FDQUEsRUFBQXZJLE9BQUF1SSxFQUFBLEtBQ0FBLEVBQUF2SSxPQUFBNkgsRUFBQSxLQUNBVSxFQUFBdkksT0FBQXFJLEVBQUEsS0FDQUUsRUFBQXZJLE9BQUE0SCxFQUFBLEtBQ0FXLEVBQUF2SSxPQUFBOEgsRUFBQSxLQUNBSSxFQUFBbkIsR0FBQXdCLE1BR0FMLEdBQUFuQixHQUFBLElBRUFrQixHQUFBbEIsR0FBQWdCLEVBSUEsSUFBQSxHQUFBN0UsS0FBQStFLEdBQ0EsR0FBQUEsRUFBQXZOLGVBQUF3SSxHQUFBLENBQ0EsR0FBQXNGLEtBQ0EsS0FBQSxHQUFBQyxLQUFBUixHQUNBQSxFQUFBdk4sZUFBQStOLElBQ0F2RixJQUFBdUYsR0FDQUQsRUFBQXBOLEtBQUE2TSxFQUFBUSxHQVFBLElBSkFSLEVBQUEvRSxHQUFBbEQsT0FBQXdJLEdBQUEsR0FFQU4sRUFBQWhGLElBQUFnRixFQUFBaEYsR0FBQWxELE9BQUF3SSxHQUFBLEdBRUFMLEVBQUFqRixHQUNBLElBQUEsR0FBQXdGLEtBQUFQLEdBQUFqRixHQUNBaUYsRUFBQWpGLEdBQUF4SSxlQUFBZ08sSUFDQVAsRUFBQWpGLEdBQUF3RixHQUFBMUksT0FBQXdJLEdBQUEsRUFLQSxJQUFBSixFQUFBbEYsR0FDQSxJQUFBLEdBQUF5RixLQUFBUCxHQUFBbEYsR0FDQWtGLEVBQUFsRixHQUFBeEksZUFBQWlPLElBQ0FQLEVBQUFsRixHQUFBeUYsR0FBQTNJLE9BQUF3SSxHQUFBLEdBT0EsR0FBQXZPLEtBRUEsS0FBQSxHQUFBeUcsS0FBQXVILEdBQ0FBLEVBQUF2TixlQUFBZ0csSUFDQXpHLEVBQUFtQixLQUFBNk0sRUFBQXZILEdBSUEsT0FEQWtILEdBQUE1SCxPQUFBL0YsR0FBQSxHQUNBQSxLQ3BRQVgsS0FBQSxRQUFBc1AsUUFBQTNHLEVBQUFsQyxFQUFBeUIsR0FnQ0EsUUFBQXFILGFBQUFsTyxHQUNBLEdBQUFzSCxFQUFBLENBRUEsSUFBQSxHQURBb0IsR0FBQSxHQUNBM0osRUFBQSxFQUFBQSxFQUFBaUIsRUFBQWYsT0FBQUYsSUFDQUEsR0FBQW9QLEVBQUFsUCxTQUNBeUosR0FBQTFJLEVBQUFqQixHQUdBLE9BQUEySixHQUVBLE1BQUExSSxHQXhDQSxHQUFBbU8sS0FBQTdHLEdBQUFBLEVBQ0FILEtBQ0FoSCxLQUNBaU8sSUFFQSxJQUFBLGdCQUFBaEosR0FDQSxHQUFBekcsS0FBQWlDLEdBQUF3RSxFQUFBLGFBQ0ErQixHQUFBL0IsT0FFQSxDQUFBLEdBQUFBLEVBQUE3RSxjQUFBQyxNQWdCQSxLQUFBLElBQUFQLE9BQUEsNkJBZEEsS0FBQSxHQURBK0csSUFBQSxFQUNBakksRUFBQSxFQUFBQSxFQUFBcUcsRUFBQW5HLE9BQUFGLElBQUEsQ0FDQSxJQUFBSixLQUFBaUMsR0FBQXdFLEVBQUFyRyxHQUFBLGFBR0EsQ0FDQWlJLEdBQUEsQ0FDQSxPQUpBRyxFQUFBMUcsS0FBQTJFLEVBQUFyRyxJQVNBLEdBRkEsSUFBQXFHLEVBQUFuRyxTQUFBK0gsR0FBQSxJQUVBQSxFQUFBLEtBQUEsSUFBQS9HLE9BQUEsNkJBcUJBQyxLQUFBbU8sTUFBQSxTQUFBck8sR0FDQSxHQUFBb08sRUFBQXBPLEdBQUEsTUFBQW9PLEdBQUFwTyxFQUNBLElBQUFWLElBQUEsQ0FDQSxJQUFBZ0ksRUFDQSxJQUFBLEdBQUF2SSxHQUFBLEVBQUFBLEVBQUF1SSxFQUFBckksT0FBQUYsSUFDQWlCLEVBQUFqQixJQUFBaUIsRUFBQWpCLEtBQUF1SSxFQUFBdkksS0FBQU8sR0FBQSxFQUlBLE9BREE4TyxHQUFBcE8sR0FBQVYsRUFDQUEsR0FHQVksS0FBQTBILElBQUEsU0FBQTVILEdBQ0EsR0FBQVYsSUFBQSxDQUNBLElBQUFhLEVBQUFILEdBQUEsT0FBQSxDQUNBLElBQUFFLEtBQUFtTyxNQUFBck8sR0FDQSxJQUFBLEdBQUFqQixHQUFBLEVBQUFBLEVBQUFvSSxFQUFBbEksT0FBQUYsSUFBQSxDQUNBLEdBQUF1UCxHQUFBSixZQUFBbE8sRUFDQSxJQUFBbUgsRUFBQXBJLEdBQUE2SSxJQUFBMEcsR0FBQSxDQUNBaFAsR0FBQSxFQUNBYSxFQUFBSCxHQUFBbUgsRUFBQXBJLEVBQ0EsUUFJQSxNQUFBTyxJQUdBWSxLQUFBMkcsS0FBQSxXQUNBLE1BQUFBLElBR0EzRyxLQUFBaUgsV0FBQSxXQUNBLE1BQUFBLElBR0FqSCxLQUFBbUYsT0FBQSxXQUNBLElBQUEsR0FBQXRHLEdBQUEsRUFBQUEsRUFBQW9JLEVBQUFsSSxPQUFBRixJQUNBb0ksRUFBQXBJLEdBQUFzRyxPQUFBOUYsTUFBQTRILEVBQUFwSSxHQUFBUyxZQUlBVSxLQUFBb0gsT0FBQSxTQUFBaUgsR0FDQSxNQUFBOU8sVUFBQThPLEVBQ0FBLElBQUFKLEVBRUFBLEdBR0FqTyxLQUFBdUQsUUFBQSxTQUFBekQsRUFBQXFHLEdBQ0EsR0FBQS9HLEdBQUEsSUFDQSxJQUFBWSxLQUFBMEgsSUFBQTVILEdBQUEsQ0FDQSxHQUFBcUYsR0FBQSxLQUNBaUosRUFBQUosWUFBQWxPLEVBQ0FHLEdBQUFILEtBQUFxRixFQUFBbEYsRUFBQUgsR0FDQSxLQUFBLEdBQUFqQixHQUFBLEVBQUFBLEVBQUFvSSxFQUFBbEksT0FBQUYsSUFDQW9JLEVBQUFwSSxHQUFBNkksSUFBQTBHLEtBQ0FqSixFQUFBOEIsRUFBQXBJLEdBR0FzRyxLQUFBL0YsRUFBQStGLEVBQUE1QixRQUFBNkssRUFBQWpJLElBRUEsTUFBQS9HLElBR0FZLEtBQUF3Syw2QkFBQSxTQUFBMUssR0FDQSxHQUFBcUYsR0FBQSxLQUFBaUosRUFBQSxJQUNBLElBQUFuTyxFQUFBSCxHQUVBLE1BREFzTyxHQUFBSixZQUFBbE8sR0FDQUcsRUFBQUgsR0FBQXlELFFBQUE2SyxFQUFBLFNBR0EsSUFBQXBPLEtBQUEwSCxJQUFBNUgsR0FBQSxDQUNBc08sRUFBQUosWUFBQWxPLEVBQ0EsS0FBQSxHQUFBakIsR0FBQSxFQUFBQSxFQUFBb0ksRUFBQWxJLE9BQUFGLElBQ0FvSSxFQUFBcEksR0FBQTZJLElBQUEwRyxLQUNBakosRUFBQThCLEVBQUFwSSxHQUNBb0IsRUFBQUgsR0FBQW1ILEVBQUFwSSxHQUlBLElBQUFzRyxFQUFBLE1BQUFBLEdBQUE1QixRQUFBNkssRUFBQSxjQzlIQTNQLEtBQUEsUUFBQTZDLFVBOENBLFFBQUFpQyxTQUFBK0ssRUFBQWxPLEdBQ0EsR0FBQW1PLEtBUUEsSUFQQSxnQkFBQW5PLElBQUFBLEVBQUFDLGNBQUFDLE1BQ0FpTyxFQUFBbk8sRUFFQWIsU0FBQWEsR0FDQW1PLEVBQUFoTyxLQUFBSCxHQUdBLGdCQUFBa08sS0FBQUEsRUFBQXZQLE9BV0EsS0FBQSxJQUFBZ0IsT0FBQSxvRUFWQSxLQUFBeU8sRUFBQUYsR0FNQSxLQUFBLElBQUF2TyxPQUFBLDRCQUFBdU8sRUFBQSxvQkFMQSxLQUFBLEdBQUF6UCxHQUFBLEVBQUFBLEVBQUEyUCxFQUFBRixHQUFBdlAsT0FBQUYsSUFDQTJQLEVBQUFGLEdBQUF6UCxHQUFBUSxNQUFBbUMsRUFBQStNLEdBekRBLEdBQUFFLElBQUEsSUFBQSxNQUFBQyxRQUFBLEdBQ0ExTCxLQUNBRCxFQUFBLEVBQ0EzQyxHQUFBLEtBQUEsR0FDQXVPLEVBQUEsV0FDQSxJQUFBLEdBQUE5UCxHQUFBLEVBQUFBLEVBQUFtRSxFQUFBakUsT0FBQUYsSUFDQSxJQUNBbUUsRUFBQW5FLEdBQUFILEVBQUFXLE1BQUFtQyxFQUFBcEIsR0FFQSxNQUFBNkMsR0FDQSxLQUFBLElBQUFsRCxPQUFBLHdEQUNBaUQsRUFBQW5FLEdBQUF1RSxFQUFBLGlCQUNBdkUsRUFBQSxpQkFDQW1FLEVBQUFuRSxHQUFBSCxFQUFBLEtBQUEsaUJBQ0F1RSxFQUFBSSxTQUdBTixLQUVBNkwsRUFBQSxXQUNBeE8sRUFBQSxHQUFBLEdBQUF5TyxNQUNBek8sRUFBQSxHQUFBMkMsQ0FDQSxLQUNBNEwsSUFFQSxNQUFBMUwsR0FHQSxLQUZBNkwsZUFBQUMsR0FDQXhMLFFBQUEsUUFBQU4sR0FDQSxHQUFBbEQsT0FBQSxvRkFFQWdELEVBQUEsYUFDQTNDLEVBQUEsR0FBQSxLQUNBNkMsRUFBQUksV0FLQTBMLEVBQUEsS0FDQVAsR0FDQXBNLFFBQ0FDLFNBQ0FjLFVBRUEzQixFQUFBeEIsSUEwQkFBLE1BQUFnUCxHQUFBLFNBQUFWLEVBQUFXLEdBQ0EsR0FBQSxnQkFBQVgsS0FBQUEsRUFBQXZQLE9BY0EsS0FBQSxJQUFBZ0IsT0FBQSxnRUFiQSxLQUFBeU8sRUFBQUYsR0FTQSxLQUFBLElBQUF2TyxPQUFBLHdCQUFBdU8sRUFBQSw0QkFSQSxJQUFBLGtCQUFBVyxHQUlBLEtBQUEsSUFBQWxQLE9BQUEsd0JBQUF1TyxFQUFBLGlDQVVBLE9BYkFFLEdBQUFGLEdBQUEvTixLQUFBME8sR0FhQWpQLE1BR0FBLEtBQUFvQyxLQUFBLFdBT0EsTUFOQTJNLEtBQ0FoTSxFQUFBLEVBQ0ErTCxjQUFBQyxHQUNBQSxFQUFBLEtBQ0F4TCxRQUFBLE9BQUF2RCxPQUVBQSxNQUdBQSxLQUFBcUMsTUFBQSxXQUtBLE1BSkEwTSxLQUNBQSxFQUFBRyxZQUFBTixFQUFBSCxHQUNBbEwsUUFBQSxRQUFBdkQsT0FFQUEsTUFHQUEsS0FBQThCLElBQUEsU0FBQXFOLEdBQ0EsTUFBQSxnQkFBQUEsSUFVQSxJQUFBVixHQUFBQyxRQUFBLElBVEFTLEVBQUEsS0FBQUEsRUFBQSxJQUNBQSxHQUFBLElBQUFBLEVBQUEsR0FDQVYsR0FBQSxJQUFBVSxHQUFBVCxRQUFBLEdBQ0FLLElBQ0EvTyxLQUFBb0MsT0FDQXBDLEtBQUFxQyxTQU1BckMsT0FHQUEsS0FBQWdELE1BQUEsU0FBQVQsRUFBQUMsR0FDQSxHQUFBLGtCQUFBRCxHQUFBLENBQ0EsSUFBQUEsRUFBQXpDLEtBQUEsS0FBQSxJQUFBQyxPQUFBLDREQUNBaUQsR0FBQXpDLE1BQUE2QyxFQUFBLEVBQUExRSxFQUFBOEQsUUFFQSxDQUFBLEdBQUEsZ0JBQUFELEdBVUEsS0FBQSxJQUFBeEMsT0FBQSxvREFUQSxJQUFBLGtCQUFBeUMsR0FLQSxLQUFBLElBQUF6QyxPQUFBLDhDQUpBLEtBQUF5QyxFQUFBMUMsS0FBQSxLQUFBLElBQUFDLE9BQUEsNERBQ0FpRCxHQUFBekMsTUFBQTZDLEVBQUFiLEVBQUE3RCxFQUFBOEQsSUFZQSxNQUhBUSxHQUFBbUIsS0FBQSxTQUFBNUIsRUFBQUMsR0FDQSxNQUFBRCxHQUFBYSxFQUFBWixFQUFBWSxJQUVBcEQsUUNoSkFtQixHQUFBaUwsT0FBQSxXQUNBLFVBQUEsUUFDQSxRQUFBZ0QsV0FBQXJPLEVBQUFzTyxHQWtCQSxRQUFBQyxnQkFBQTFQLEVBQUEyUCxHQUNBQSxFQUFBQyxRQUFBLENBSUEsS0FBQSxHQUZBQyxHQUFBLEtBRUE1USxFQUFBLEVBQUFBLEVBQUE2USxFQUFBM1EsT0FBQUYsSUFDQSxJQUFBNlEsRUFBQTdRLEdBQUEyUSxRQUNBRSxFQUFBN1EsR0FBQThRLFdBQUFELEVBQUE3USxHQUFBK1EsT0FBQSxDQUVBLElBQUEsR0FEQXpCLElBQUEsRUFDQWpNLEVBQUEsRUFBQUEsRUFBQXRDLEVBQUFiLE9BQUFtRCxJQUNBLEdBQUF3TixFQUFBN1EsR0FBQWdSLFlBQUFqUSxFQUFBc0MsSUFBQSxDQUNBaU0sR0FBQSxDQUNBLE9BR0FBLElBQ0FzQixJQUFBQSxNQUNBQSxFQUFBbFAsS0FBQW1QLEVBQUE3USxLQVFBLGFBRkEwUSxHQUFBQyxPQUVBQyxFQUdBLFFBQUFLLHVCQUdBLElBQUEsR0FGQUMsTUFFQWxSLEVBQUEsRUFBQUEsRUFBQTZRLEVBQUEzUSxPQUFBRixJQUNBLEdBQUE2USxFQUFBN1EsR0FBQThRLFNBcUJBRCxFQUFBN1EsR0FBQStRLFFBQ0FHLEVBQUF4UCxLQUFBbVAsRUFBQTdRLFFBdEJBLENBQ0EsR0FBQW1SLEdBQUFOLEVBQUE3USxHQUFBZSxZQUNBLElBQUE4UCxFQUFBN1EsR0FBQW1FLFFBQ0FzTSxlQUFBVSxFQUFBTixFQUFBN1EsS0FDQTZRLEVBQUE3USxHQUFBd0QsWUFHQSxDQUNBLEdBQUE0TixHQUFBWCxlQUFBVSxFQUFBTixFQUFBN1EsR0FDQSxJQUFBb1IsRUFDQSxJQUFBLEdBQUEvTixHQUFBLEVBQUFBLEVBQUErTixFQUFBbFIsT0FBQW1ELElBQ0EsSUFBQSxHQUFBMkwsR0FBQSxFQUFBQSxFQUFBbUMsRUFBQWpSLE9BQUE4TyxJQUNBb0MsRUFBQS9OLEdBQUFFLEtBQUE0TixFQUFBbkMsR0FJQTZCLEdBQUE3USxHQUFBd0QsUUFFQTBOLEVBQUF4UCxLQUFBbVAsRUFBQTdRLElBU0E2USxFQUFBSyxFQUlBLFFBQUFHLHNCQUFBdlEsRUFBQXNCLEVBQUFrUCxFQUFBQyxHQUNBLEdBQUE5SCxHQUFBdEksS0FBQXFRLFVBQUEsU0FFQUMsSUFJQSxJQUZBQSxFQUFBM1EsR0FBQXNCLEVBRUFzUCxFQUFBNVEsR0FBQSxDQUNBLEdBQUE2USxLQUVBbE4sU0FBQWdGLEVBQUFoRixTQUFBM0QsR0FDQThRLE1BQUFGLEVBQUE1USxHQUNBc0IsTUFBQUEsSUFHQXFCLElBRUE2TixJQUFBLGdCQUFBQSxLQUFBN04sRUFBQTZOLFNBQUFBLEdBQ0FDLEdBQUEsZ0JBQUFBLEtBQUE5TixFQUFBOE4sT0FBQUEsRUFHQSxJQUFBYixHQUFBeE8sRUFBQSxhQUVBd08sR0FBQWpOLE9BQUF0QyxLQUFBd1EsRUFBQWxPLEVBQUF3TixxQkFDQUosRUFBQW5QLEtBQUFnUCxJQUtBLFFBQUFtQixzQkFBQUMsRUFBQUMsRUFBQUMsR0FDQSxHQUFBdkksR0FBQXRJLEtBQUFxUSxVQUFBLFNBQ0EvTixJQUVBLGlCQUFBc08sR0FDQXRPLEVBQUFzTyxFQUVBLGdCQUFBQSxJQUNBdE8sR0FDQTZOLFNBQUFTLEdBRUEsZ0JBQUFDLEtBQ0F2TyxFQUFBOE4sT0FBQVMsSUFHQSxnQkFBQUQsS0FDQXRPLEdBQ0E4TixPQUFBUSxHQUlBLElBQUF4UixLQUVBLEtBQUEsR0FBQU8sS0FBQWdSLEdBQ0FBLEVBQUE5USxlQUFBRixLQUNBNFEsRUFBQTVRLEdBUUFQLEVBQUFPLElBQ0EyRCxTQUFBZ0YsRUFBQWhGLFNBQUEzRCxHQUNBOFEsTUFBQUYsRUFBQTVRLEdBQ0FzQixNQUFBMFAsRUFBQWhSLElBVkEwUCxFQUFBekssTUFDQWtNLEtBQUE5USxLQUFBOFEsT0FDQW5SLFNBQUFBLEdBQ0Esc0RBWUEsSUFBQW9SLEtBRUEsS0FBQSxHQUFBQyxLQUFBNVIsR0FDQTJSLEVBQUF4USxLQUFBbkIsRUFBQTRSLEdBT0EsSUFKQUQsRUFBQTVNLEtBQUEsU0FBQTVCLEVBQUFDLEdBQ0EsTUFBQUQsR0FBQWUsU0FBQWQsRUFBQWMsV0FHQXlOLEVBQUFoUyxPQUFBLENBQ0EsR0FBQXdRLEdBQUF4TyxFQUFBLGFBQ0F3TyxHQUFBak4sT0FBQXRDLEtBQUErUSxFQUFBek8sRUFBQXdOLHFCQUNBSixFQUFBblAsS0FBQWdQLE9BR0FGLEdBQUF6SyxLQUFBLDZCQXJLQSxHQUFBOEssTUFDQXVCLEdBQUEsRUFDQVYsSUFFQXZRLE1BQUF5USxNQUFBLFNBQUEzUSxFQUFBd0QsRUFBQTROLEVBQUFDLEdBQ0EsR0FBQVYsR0FBQTFQLEVBQUEsU0FDQTBQLEdBQUFuTyxPQUFBeEMsRUFBQUUsS0FBQW9SLFNBQUE5TixFQUFBNE4sRUFBQUMsR0FDQVYsRUFBQTNKLFVBQ0F5SixFQUFBelEsR0FBQTJRLElBSUF6USxLQUFBcVIsYUFBQSxTQUFBdlIsR0FDQSxNQUFBeVEsR0FBQXpRLElBNEpBRSxLQUFBc1IsU0FBQSxVQUFBLFNBQUFDLEVBQUFYLEVBQUFDLEVBQUFXLEdBQ0EsZ0JBQUFELElBQUFYLEVBQ0FWLHFCQUFBN1EsTUFBQVcsS0FBQVYsV0FFQSxnQkFBQWlTLElBQUFBLEVBQUFsUixjQUFBQyxNQUNBb1EscUJBQUFyUixNQUFBVyxLQUFBVixXQUdBK1AsRUFBQXpLLEtBQUEsK0NBRUFrTCx3QkFHQTlQLEtBQUFzUixTQUFBLFdBQUEsV0FDQSxNQUFBTCxLQUdBalIsS0FBQXNSLFNBQUEsT0FBQSxTQUFBM1IsR0FDQSxJQUFBLEdBQUFkLEdBQUEsRUFBQUEsRUFBQTZRLEVBQUEzUSxPQUFBRixJQUNBNlEsRUFBQTdRLEdBQUF1RCxLQUFBekMsUUNoTUF3QixHQUFBaUwsT0FBQSxXQUNBLFFBQUEsVUFDQSxRQUFBcUYsS0FBQXBDLEVBQUF0TyxHQWlCQSxRQUFBMlEsa0JBQ0EsR0FBQWhULEdBQUEwUyxFQUVBLE1BREExUyxHQUFBbUMsS0FBQXVRLEVBQUFPLEdBQ0FBLEVBbEJBLEdBQUFqVCxHQUFBLEtBQUFpVCxFQUFBNVEsRUFBQSxPQUVBZixNQUFBdEIsRUFBQSxTQUFBdVEsR0FFQSxNQUFBLGtCQUFBQSxPQUNBSSxHQUFBbE0sTUFBQSxvREFHQXpFLEVBQUF1USxhQUVBalAsTUFBQXRCLEdBR0EsSUFBQTBTLEdBQUFwUixLQUFBb1IsUUFRQXBSLE1BQUEyUixJQUFBLFdBQ0EsTUFBQVAsR0FBQWYsVUFBQSxTQUFBcFAsTUFBQSxNQUFBeVEsaUJBR0ExUixLQUFBNFIsTUFBQSxXQUNBUixFQUFBZixVQUFBLFNBQUF1QixNQUFBLE1BQ0EsSUFBQUMsR0FBQVQsRUFBQVMsUUFDQUEsSUFDQUEsRUFBQXhCLFVBQUEsT0FBQXVCLFNBSUE1UixLQUFBc1IsU0FBQSxNQUFBLFdBQ0EsTUFBQXRSLE1BQUFxUSxVQUFBLFNBQUFwUCxNQUFBLE1BQUF5USxnQkFBQWhTLFdDdENBeUIsR0FBQWlMLE9BQUEsV0FDQSxRQUNBLFFBQUEwRixPQUFBekMsR0FFQSxHQUFBMEMsS0FFQS9SLE1BQUFpQixNQUFBLFNBQUFuQixFQUFBbVAsR0FDQSxNQUFBLGdCQUFBblAsT0FDQXVQLEdBQUFsTSxNQUFBLDhDQUdBLGtCQUFBOEwsT0FDQUksR0FBQWxNLE1BQUEsZ0RBSUE0TyxFQUFBalMsS0FDQWlTLEVBQUFqUyxJQUNBbUIsTUFBQWdPLElBQ0FBLEtBQUFBLEVBQ0ErQyxVQUFBLElBSUFoUyxLQUFBTixJQUFBSSxLQUdBRSxLQUFBNFIsTUFBQSxTQUFBOVIsR0FDQSxNQUFBLGdCQUFBQSxPQUNBdVAsR0FBQWxNLE1BQUEsb0VBR0E0TyxFQUFBalMsS0FDQWlTLEVBQUFqUyxHQUFBa1MsVUFBQSxLQUlBaFMsS0FBQU4sSUFBQSxTQUFBSSxHQUNBLE1BQUEsZ0JBQUFBLE9BQ0F1UCxHQUFBbE0sTUFBQSw2REFHQTRPLEVBQUFqUyxJQUNBaVMsRUFBQWpTLEdBQUFrUyxXQUNBRCxFQUFBalMsR0FBQW1CLE1BQUE4USxFQUFBalMsR0FBQW1QLE9BQ0E4QyxFQUFBalMsR0FBQWtTLFVBQUEsR0FHQUQsRUFBQWpTLEdBQUFtQixPQU5BLFdDMUNBRSxHQUFBaUwsT0FBQSxXQUNBLFFBQ0EsUUFBQTZGLFFBQUE1QyxHQVNBLFFBQUE5TCxTQUFBK0ssRUFBQWxPLEdBQ0EsSUFBQSxHQUFBdkIsR0FBQSxFQUFBQSxFQUFBNkcsRUFBQTRJLEdBQUF2UCxPQUFBRixJQUNBNkcsRUFBQTRJLEdBQUFqUCxNQUFBK1IsRUFBQWhSLEdBVEEsR0FBQTFCLEdBQUEsS0FBQXdULEVBQUEsS0FDQXhNLEdBQ0F5TSxVQUNBQyxVQUVBaEIsRUFBQXBSLEtBQUFvUixRQVFBcFIsTUFBQXRCLEVBQUEsU0FBQXVRLEdBQ0EsTUFBQSxrQkFBQUEsSUFDQUksRUFBQWxNLFNBQUEscURBQ0FuRCxNQUFBdEIsSUFHQUEsRUFBQXVRLGFBQ0FqUCxNQUFBdEIsSUFHQXNCLEtBQUFzUixTQUFBLFNBQUEsU0FBQXJDLEdBQ0Esa0JBQUFBLEdBQ0F2SixFQUFBeU0sT0FBQTVSLEtBQUEwTyxHQUdBSSxFQUFBekssS0FBQSxpRUFJQTVFLEtBQUFzUixTQUFBLFFBQUEsU0FBQXJDLEdBQ0Esa0JBQUFBLEdBQ0F2SixFQUFBME0sTUFBQTdSLEtBQUEwTyxHQUdBSSxFQUFBekssS0FBQSxnRUFJQTVFLEtBQUFrUyxPQUFBLFdBQ0EsTUFBQUEsSUFHQWxTLEtBQUEyTyxLQUFBLFdBQ0FwTCxRQUFBLFNBQUFqRSxXQUNBWixHQUFBQSxFQUFBVyxNQUFBVyxLQUFBVixXQUNBaUUsUUFBQSxRQUFBakUsZUNwREE2QixHQUFBaUwsT0FBQSxXQUNBLFFBQ0EsUUFBQWlHLFFBQUFoRCxHQUNBLEdBQUFpRCxJQUNBQyxNQUVBQyxFQUFBLENBRUF4UyxNQUFBc1IsU0FBQSxRQUFBLFNBQUFtQixHQUNBLEdBQUFsVCxTQUFBa1QsRUFBQSxNQUFBRCxFQUNBLElBQUEsZ0JBQUFDLElBQUFBLEVBQUEsRUFFQSxNQURBcEQsR0FBQXpLLE1BQUExQyxFQUFBdVEsR0FBQSw0Q0FDQXpTLElBR0EsSUFBQTZSLEdBQUE3UixLQUFBNlIsUUFFQSxJQUFBQSxFQUFBLENBQ0EsR0FBQWEsR0FBQWIsRUFBQXhCLFVBQUEsU0FDQW1DLEdBQUFDLEVBQ0FDLEVBQUFDLE1BQUFGLEVBQUF6UyxVQUdBcVAsR0FBQXpLLFFBQUEsc0NBR0EsT0FBQTVFLFFBSUFBLEtBQUEyUyxNQUFBLFNBQUFGLEVBQUFyQixHQUNBQSxFQUFBd0Isb0JBQUEsQ0FFQSxLQUFBLEdBQUFKLEtBQUFGLEdBRUEsR0FBQUEsRUFBQXpTLGVBQUEyUyxHQUFBLENBRUEsSUFBQSxHQURBNUMsSUFBQSxFQUNBL1EsRUFBQSxFQUFBQSxFQUFBeVQsRUFBQUUsR0FBQXpULE9BQUFGLElBQ0EsR0FBQXlULEVBQUFFLEdBQUEzVCxHQUFBK1QsbUJBQUEsQ0FDQU4sRUFBQUUsR0FBQUssT0FBQWhVLEVBQUEsR0FDQStRLEdBQUEsQ0FDQSxPQUdBLEdBQUFBLEVBQUEsWUFLQXdCLEdBQUF3QixtQkFFQU4sRUFBQUcsS0FBQUgsRUFBQUcsT0FDQUgsRUFBQUcsR0FBQWxTLEtBQUE2USxJQUlBcFIsS0FBQThTLE9BQUEsU0FBQTFCLEdBRUFBLEVBQUF3QixvQkFBQSxDQUVBLEtBQUEsR0FBQUosS0FBQUYsR0FDQSxHQUFBQSxFQUFBelMsZUFBQTJTLEdBQUEsQ0FFQSxJQUFBLEdBREE1QyxJQUFBLEVBQ0EvUSxFQUFBLEVBQUFBLEVBQUF5VCxFQUFBRSxHQUFBelQsT0FBQUYsSUFDQSxHQUFBeVQsRUFBQUUsR0FBQTNULEdBQUErVCxtQkFBQSxDQUNBaEQsR0FBQSxFQUNBMEMsRUFBQUUsR0FBQUssT0FBQWhVLEVBQUEsRUFDQSxPQUdBLEdBQUErUSxFQUFBLFFBS0E1UCxLQUFBK1MsUUFBQSxTQUFBOUQsR0FDQSxJQUFBLEdBQUF1RCxLQUFBRixHQUNBLElBQUEsR0FBQXpULEdBQUEsRUFBQUEsRUFBQXlULEVBQUFFLEdBQUF6VCxPQUFBRixJQUNBb1EsRUFBQTVQLE1BQUFpVCxFQUFBRSxHQUFBM1QsSUFBQUEsRUFBQTJULEtBS0F4UyxLQUFBc1MsT0FBQSxXQUNBLE1BQUFBLE9DcEZBblIsR0FBQWlMLE9BQUEsV0FDQSxRQUNBLFFBQUE0RyxRQUFBM0QsR0FXQSxRQUFBNEQsaUJBQ0EsTUFBQXZVLEdBQUFtQyxLQUFBdVEsR0FWQSxHQUFBMVMsR0FBQSxLQUFBMFMsRUFBQXBSLEtBQUFvUixRQUVBcFIsTUFBQXRCLEVBQUEsU0FBQXVRLEdBQ0Esa0JBQUFBLEtBQ0F2USxFQUFBdVEsUUFDQWpQLE1BQUF0QixJQVFBc0IsS0FBQXNSLFNBQUEsU0FBQSxXQUNBLE1BQUF0UixNQUFBcVEsVUFBQSxTQUFBcFAsTUFBQSxrQkFBQWdTLGlCQUdBalQsS0FBQTRSLE1BQUEsV0FFQSxHQURBUixFQUFBZixVQUFBLFNBQUF1QixNQUFBLG1CQUNBLFVBQUFSLEVBQUFOLE9BQUEsQ0FDQSxHQUFBd0IsR0FBQWxCLEVBQUFmLFVBQUEsU0FDQWlDLEdBQUFTLFFBQUEsV0FDQS9TLEtBQUFxUSxVQUFBLFNBQUF1QixNQUFBLDBCQzFCQXpRLEdBQUFpTCxPQUFBLFdBQ0EsU0FBQSxhQUFBLE9BQUEsUUFDQSxRQUFBOEcsT0FBQUMsRUFBQUMsRUFBQUMsRUFBQWhFLEdBa0JBLFFBQUFpRSxlQUFBaEYsR0FDQSxNQUFBaUYsR0FBQWpGLEdBakJBLEdBQUFpRixJQUNBQyxZQUNBQyxhQUNBQyxXQUNBQyxhQUNBQyxXQUNBQyxhQUNBQyxjQUNBQyxlQUVBQyxHQUFBLEVBQ0FDLEVBQUEsV0FDQSxPQUFBO0NBUUFqVSxNQUFBc1IsU0FBQSxLQUFBLFNBQUFoRCxFQUFBVyxHQUNBLEdBQUExUCxlQUFBK08sSUFBQS9PLGVBQUEwUCxHQUFBLENBQ0EsSUFBQSxHQUFBcFEsS0FBQTBVLEdBQ0FBLEVBQUExVSxHQUFBcVYsTUFBQSxDQUVBLE9BQUFsVSxNQUVBLEdBQUEsZ0JBQUFzTyxJQUFBL08sU0FBQTBQLEVBQUEsQ0FDQSxHQUFBekwsR0FBQThQLGNBQUFoRixFQU1BLE9BSkE5SyxLQUNBQSxFQUFBM0UsR0FBQXFWLE1BQUEsR0FHQWxVLEtBRUEsR0FBQSxnQkFBQXNPLElBQUEsa0JBQUFXLEdBQUEsQ0FDQSxHQUFBekwsR0FBQThQLGNBQUFoRixFQVFBLE9BUEE5SyxHQUNBQSxFQUFBakQsS0FBQTBPLEdBR0FJLEVBQUF6SyxNQUFBM0IsRUFBQXFMLEdBQUEsMkJBR0F0TyxLQUdBLE1BQUFzVCxlQUFBaEYsR0FLQSxrQkFBQVcsSUFDQUksRUFBQXpLLE1BQUEzQixFQUFBcUwsRUFBQTVQLEVBQUF1USxHQUFBLG1FQUNBalAsTUFFQUEsTUFSQXFQLEVBQUF6SyxNQUFBM0IsRUFBQXFMLEdBQUEsK0RBQ0F0TyxRQVVBQSxLQUFBc1IsU0FBQSxNQUFBLFNBQUFoRCxFQUFBVyxHQUNBLEdBQUExUCxTQUFBK08sR0FBQS9PLFNBQUEwUCxFQUFBLENBQ0EsSUFBQSxHQUFBcFEsS0FBQTBVLEdBQ0FBLEVBQUExVSxHQUFBc1YsT0FBQSxDQUVBLE9BQUFuVSxNQUVBLEdBQUEsZ0JBQUFzTyxJQUFBL08sU0FBQTBQLEVBQUEsQ0FDQSxHQUFBekwsR0FBQThQLGNBQUFoRixFQUlBLE9BSEE5SyxLQUNBQSxFQUFBMlEsT0FBQSxHQUVBblUsS0FFQSxHQUFBLGdCQUFBc08sSUFBQSxrQkFBQVcsR0FBQSxDQUNBLEdBQUF6TCxHQUFBOFAsY0FBQWhGLEVBRUEsSUFEQVcsRUFBQW1GLG1CQUFBLEVBQ0E1USxFQUFBLENBRUEsSUFBQSxHQURBNlEsR0FBQSxLQUNBeFYsRUFBQSxFQUFBQSxFQUFBMkUsRUFBQXpFLE9BQUFGLElBQ0EsR0FBQTJFLEVBQUEzRSxHQUFBdVYsa0JBQUEsQ0FDQUMsRUFBQXhWLENBQ0EsT0FNQSxNQUhBLFFBQUF3VixHQUNBN1EsRUFBQXFQLE9BQUF3QixFQUFBLEdBRUFyVSxNQVVBLE1BTkFzVCxlQUFBaEYsSUFDQWUsRUFBQXpLLE1BQUEzQixFQUFBcUwsR0FBQSx5REFFQSxrQkFBQVcsSUFDQUksRUFBQXpLLE1BQUEzQixFQUFBcUwsRUFBQTVQLEVBQUF1USxHQUFBLG9FQUVBalAsT0FHQUEsS0FBQXNSLFNBQUEscUJBQUEsU0FBQXJDLEdBQ0EsTUFBQSxnQkFBQUEsSUFDQWtFLEVBQUFsRSxFQUFBLG1CQUNBZ0YsRUFBQWQsRUFBQWxFLEVBQUEsc0JBRUFqUCxNQUVBLGtCQUFBaVAsSUFDQUksRUFBQXpLLE1BQUFsRyxFQUFBdVEsR0FBQSwwREFDQWpQLE9BRUFpVSxFQUFBaEYsRUFDQWpQLFFBR0FBLEtBQUFzUixTQUFBLFVBQUEsV0FFQSxNQURBMEMsSUFBQSxFQUNBaFUsT0FHQUEsS0FBQXNSLFNBQUEsU0FBQSxXQUVBLE1BREEwQyxJQUFBLEVBQ0FoVSxPQUVBQSxLQUFBc1IsU0FBQSxXQUFBLFdBQ0EsTUFBQTBDLEtBR0FoVSxLQUFBbU8sTUFBQSxTQUFBeE4sRUFBQTJULEdBQ0EsT0FBQU4sR0FDQUMsRUFBQXBULEtBQUFGLEdBQUEyVCxFQUFBLEdBQUFBLEVBQUEsS0FHQSxJQUFBQyxHQUFBLElBRUF2VSxNQUFBdVUsd0JBQUEsU0FBQXRGLEdBQ0Esa0JBQUFBLEtBQUFzRixFQUFBdEYsSUFHQWpQLEtBQUF3VSxxQkFBQSxTQUFBRixHQUNBLE1BQUFDLEdBQ0FBLEVBQUExVCxLQUFBYixLQUFBc1UsR0FHQUEsR0FJQXRVLEtBQUF5VSxTQUFBLFNBQUFuRyxHQUNBLE1BQUFpRixHQUFBakYsSUFBQWlGLEVBQUFqRixHQUFBdlAsU0FBQXdVLEVBQUFqRixHQUFBNkYsT0FHQW5VLEtBQUEwVSxVQUFBLFNBQUEvVCxFQUFBZ1UsR0FDQSxHQUFBOUMsR0FBQWxSLEVBQUFrUixRQUNBLElBQUFBLEVBQUEsQ0FDQSxHQUFBK0MsR0FBQS9DLEVBQUF4QixVQUFBLFFBQ0EsSUFBQXVFLEVBQUFILFNBQUFFLEVBQUE3RCxRQUFBLENBQ0EsR0FBQUEsR0FBQTZELEVBQUE3RCxPQUNBK0QsRUFBQUYsRUFBQUcsZUFBQWpVLE1BQUFrVSx5QkFBQWxELEdBRUErQyxHQUFBclIsUUFBQXNPLEVBQUFmLEVBQUErRCxNQUtBN1UsS0FBQXVELFFBQUEsU0FBQTVDLEVBQUEyTixFQUFBcUcsR0FDQSxJQUFBWCxFQUFBLENBRUEsR0FBQXhRLEdBQUE4UCxjQUFBaEYsRUFFQSxJQUFBOUssRUFBQSxDQUNBLEdBQUFBLEVBQUEwUSxLQUFBLE1BRUEsS0FBQSxHQUFBclYsR0FBQSxFQUFBQSxFQUFBMkUsRUFBQXpFLE9BQUFGLElBQ0EyRSxFQUFBM0UsR0FBQWdDLEtBQUFGLEVBQUFnVSxFQUdBQSxHQUFBRCxhQUNBMVUsS0FBQTBVLFVBQUEvVCxFQUFBZ1UsT0FJQXRGLEdBQUF6SyxNQUFBM0IsRUFBQXFMLEdBQUEsa0RBSUEsS0FBQSxHQUFBelAsS0FBQTBVLEdBQ0FBLEVBQUExVSxHQUFBc1YsT0FBQSxLQ2hNQWhULEdBQUFpTCxPQUFBLFdBQ0EsUUFDQSxRQUFBNEksUUFBQTNGLEdBS0EsUUFBQTRGLHdCQUNBLEdBQUFDLEdBQUE1TSxFQUFBNUksSUFBQSxZQUNBTixHQUFBOFYsRUFBQSxHQUFBQSxFQUFBLElBRUFyRCxFQUFBVCxFQUFBUyxRQUVBLElBQUFBLEVBQUEsQ0FDQSxHQUFBc0QsR0FBQXRELEVBQUF1RCxRQUVBaFcsR0FBQSxJQUFBK1YsRUFBQSxHQUNBL1YsRUFBQSxJQUFBK1YsRUFBQSxHQUdBLE1BQUEvVixHQWpCQSxHQUFBZ1MsR0FBQXBSLEtBQUFvUixTQUNBOUksRUFBQSxLQUNBckksRUFBQSxJQWtCQUQsTUFBQTRSLE1BQUEsV0FRQSxHQVBBdEosR0FBQXJJLElBQ0FxSSxFQUFBOEksRUFBQWYsVUFBQSxTQUNBcFEsRUFBQW1SLEVBQUFmLFVBQUEsVUFHQXBRLEVBQUEyUixNQUFBLFVBRUEsU0FBQVIsRUFBQU4sT0FBQSxDQUNBLEdBQUF3QixHQUFBbEIsRUFBQWYsVUFBQSxTQUNBaUMsR0FBQVMsUUFBQSxXQUNBL1MsS0FBQXFRLFVBQUEsVUFBQXVCLFlBS0E1UixLQUFBc1IsU0FBQSxTQUFBLFdBS0EsTUFKQWhKLEtBQ0FBLEVBQUF0SSxLQUFBcVEsVUFBQSxTQUNBcFEsRUFBQUQsS0FBQXFRLFVBQUEsVUFFQXBRLEVBQUFnQixNQUFBLFNBQUFnVSwyQkM1Q0E5VCxHQUFBaUwsT0FBQSxXQUNBLFFBQ0EsUUFBQWlKLE9BQUFoRyxHQU9BLFFBQUFpRyxtQkFBQXhWLEVBQUFvUixHQUNBLE1BQUEsVUFBQWpRLEdBQ0EsR0FBQTdCLEdBQUE4UixFQUFBN1IsTUFBQVcsTUFBQWlCLEVBQUFyQixFQUFBRSxHQUFBbUIsUUFDQXNVLEVBQUEzVixFQUFBRSxHQUFBbUIsS0FFQSxJQUFBN0IsR0FBQSxpQkFBQUEsR0FHQSxDQUNBLEdBQUFnQixJQUFBbVYsRUFBQW5XLEVBRUFRLEdBQUFFLEdBQUFtQixNQUFBN0IsRUFFQW1VLEVBQUF6VCxLQUFBeVQsRUFBQXpULE1BRUEsS0FBQSxHQUFBakIsR0FBQSxFQUFBQSxFQUFBMFUsRUFBQXpULEdBQUFmLE9BQUFGLElBQ0EwVSxFQUFBelQsR0FBQWpCLEdBQUFRLE1BQUFXLEtBQUFJLE9BVkFpUCxHQUFBekssS0FBQSwyQkFBQTlFLEVBQUEsc0JBaUJBLFFBQUEwVixtQkFBQTFWLEVBQUEyVixHQUNBLE1BQUEsWUFDQSxNQUFBQSxHQUFBNVUsS0FBQSxLQUFBakIsRUFBQUUsR0FBQW1CLFFBSUEsUUFBQXlVLFlBQUFuVCxFQUFBQyxHQUVBLEdBQUE3QixHQUFBWCxJQUVBMlYsR0FBQXBULEdBT0FvVCxFQUFBcFQsR0FBQWxELE1BQUFzQixHQUFBNkIsSUFOQTZNLEVBQUF6SyxNQUNBakYsU0FBQTRDLEVBQ0F1TyxLQUFBblEsRUFBQW1RLFFBQ0EseURBT0EsUUFBQThFLFlBQUF4RSxHQUNBLEdBQUF6USxHQUFBWCxLQUVBNlYsSUFFQSxLQUFBLEdBQUFsVyxLQUFBeVIsR0FDQUEsRUFBQXZSLGVBQUFGLElBQUFnVyxFQUFBaFcsS0FFQWdXLEVBQUFoVyxHQVFBa1csRUFBQXRWLE1BQ0ErQyxTQUFBMUQsRUFBQUQsR0FBQTJELFNBQ0EzRCxTQUFBQSxFQUNBdVIsT0FBQXlFLEVBQUFoVyxLQVZBMFAsRUFBQXpLLE1BQ0FqRixTQUFBQSxFQUNBbVIsS0FBQW5RLEVBQUFtUSxRQUNBLHlEQVdBLElBQUErRSxFQUFBOVcsT0FBQSxDQUNBOFcsRUFBQTFSLEtBQUEsU0FBQTVCLEVBQUFDLEdBQ0EsTUFBQUQsR0FBQWUsU0FBQWQsRUFBQWMsVUFFQSxLQUFBLEdBQUF6RSxHQUFBLEVBQUFBLEVBQUFnWCxFQUFBOVcsT0FBQUYsSUFDQWdYLEVBQUFoWCxHQUFBcVMsT0FBQTdSLE1BQUFzQixHQUFBeVEsRUFBQXlFLEVBQUFoWCxHQUFBYyxnQkFJQTBQLEdBQUF6SyxLQUFBLHdDQUlBLFFBQUFrUixZQUFBaFcsR0FDQSxHQUFBYSxHQUFBWCxJQUVBLE9BQUErVixHQUFBalcsR0FRQWlXLEVBQUFqVyxHQUFBVCxNQUFBc0IsR0FBQWYsRUFBQUUsR0FBQW1CLFNBUEFvTyxFQUFBekssTUFDQWpGLFNBQUFBLFNBQ0FtUixLQUFBblEsRUFBQW1RLFFBQ0EseURBQ0E5USxNQTdGQSxHQUFBSixNQUNBMlQsS0FDQW9DLEtBQ0FJLElBa0dBL1YsTUFBQXNSLFNBQUEsUUFBQSxTQUFBL08sRUFBQUMsR0FDQSxHQUFBLGdCQUFBRCxJQUFBaEQsU0FBQWlELEVBQUFrVCxXQUFBclcsTUFBQVcsTUFBQXVDLEVBQUFDLFFBQ0EsSUFBQSxnQkFBQUQsR0FBQXFULFdBQUF2VyxNQUFBVyxNQUFBdUMsUUFDQSxDQUFBLEdBQUEsZ0JBQUFBLElBQUFoRCxTQUFBaUQsRUFBQSxNQUFBc1QsWUFBQXpXLE1BQUFXLE1BQUF1QyxHQUVBOE0sR0FBQWxNLE1BQUEsNkNBRUEsTUFBQW5ELFFBR0FBLEtBQUFzUixTQUFBLFFBQUEsU0FBQTNSLEVBQUFxVyxHQUVBLEdBQUEsZ0JBQUFyVyxJQUNBLEdBQUEsZ0JBQUFBLElBQUFBLEVBQUFVLGNBQUFDLE1BRUEsV0FEQStPLEdBQUFsTSxNQUFBLGtEQUlBLElBQUEsa0JBQUE2UyxHQUVBLFdBREEzRyxHQUFBbE0sTUFBQSxzQ0FJQSxJQUFBeEQsRUFBQVUsY0FBQUMsTUFFQSxJQUFBLEdBQUF6QixHQUFBLEVBQUFBLEVBQUFjLEVBQUFaLE9BQUFGLElBQ0EsZ0JBQUFjLEdBQUFkLElBS0EwVSxFQUFBNVQsRUFBQWQsS0FBQSxnQkFBQTBVLEdBQUE1VCxFQUFBZCxLQUFBMFUsRUFBQTVULEVBQUFkLElBQUF3QixjQUFBQyxRQUFBaVQsRUFBQTVULEVBQUFkLFFBRUEwVSxFQUFBNVQsRUFBQWQsSUFBQTBCLEtBQUF5VixJQU5BM0csRUFBQWxNLE9BQUF0RSxFQUFBQSxHQUFBLDZDQVVBLGdCQUFBYyxJQUNBNFQsRUFBQTVULElBQUE0VCxFQUFBNVQsR0FBQVUsY0FBQUMsUUFBQWlULEVBQUE1VCxPQUNBNFQsRUFBQTVULEdBQUFZLEtBQUF5VixJQUdBM0csRUFBQWxNLE1BQUEsZ0RBS0FuRCxLQUFBZ0IsT0FBQSxTQUFBc0MsRUFBQXhELEVBQUFtQixFQUFBaVEsRUFBQXVFLEdBQ0EsTUFBQTdWLEdBQUFFLE9BQ0F1UCxHQUFBbE0sT0FBQXJELEtBQUFBLEdBQUEsd0NBSUEsZ0JBQUFBLElBQUEsSUFBQUEsRUFBQWYsV0FDQXNRLEdBQUFsTSxNQUFBLDBDQUlBLGtCQUFBc1MsSUFBQSxrQkFBQXZFLE9BQ0E3QixHQUFBbE0sTUFBQSxzRUFJQSxnQkFBQUcsSUFDQStMLEVBQUFsTSxNQUFBLHNEQUdBdkQsRUFBQUUsSUFBQXdELFNBQUFBLEVBQUFyQyxNQUFBQSxHQUVBMFUsRUFBQTdWLEdBQUF3VixrQkFBQXhWLEVBQUFvUixRQUVBNkUsRUFBQWpXLEdBQUEwVixrQkFBQTFWLEVBQUEyVixNQUdBelYsS0FBQU4sSUFBQSxTQUFBSSxHQUNBLE1BQUFGLEdBQUFFLEdBQUFGLEVBQUFFLEdBQUFtQixPQUVBb08sRUFBQXpLLEtBQUEsbURBRUEsSUFHQTVFLEtBQUFzRCxTQUFBLFNBQUF4RCxHQUNBLE1BQUFGLEdBQUFFLEdBQUFGLEVBQUFFLEdBQUF3RCxVQUVBK0wsRUFBQXpLLEtBQUEsc0RBRUEsT0NoTUF6RCxHQUFBaUwsT0FBQSxXQUNBLFFBQUEsU0FBQSxVQUNBLFFBQUE2SixNQUFBNUcsRUFBQTZHLEVBQUFuVixFQUFBZ0gsR0FFQS9ILEtBQUFtVyxRQUFBLE9BRUEsSUFBQS9FLEdBQUFwUixLQUFBb1IsUUFFQSxJQUFBLFNBQUFBLEVBQUFOLE9BQUEsQ0FFQSxHQUFBc0YsTUFDQUMsRUFBQSxxQkFDQS9OLEVBQUE4SSxFQUFBZixVQUFBLFNBQ0E3SCxFQUFBLEdBQ0FHLEdBQUEsRUFDQTJOLEdBQUFDLEVBQUFBLEVBQUFBLEVBQUFBLEdBQ0FuUyxFQUFBLEVBQ0FDLEVBQUEsQ0FFQXJFLE1BQUFzUixTQUFBLFFBQUEsV0FDQXRSLEtBQUEySSxRQUVBLEtBQUEsR0FEQW5GLE1BQ0EzRSxFQUFBLEVBQUFBLEVBQUF1WCxFQUFBclgsT0FBQUYsSUFDQTJFLEVBQUFqRCxLQUFBNlYsRUFBQXZYLEdBQUEySixZQUlBeEksS0FBQXNSLFNBQUEsUUFBQSxXQUNBdFIsS0FBQTJJLFFBRUEsS0FBQSxHQURBNk4sTUFDQXpLLEVBQUEsRUFBQUEsRUFBQXFLLEVBQUFyWCxPQUFBZ04sSUFFQSxJQUFBLEdBREEwSyxHQUFBTCxFQUFBdlgsR0FBQTJYLFFBQ0FyTyxFQUFBLEVBQUFBLEVBQUFzTyxFQUFBMVgsT0FBQW9KLElBQ0FxTyxFQUFBalcsS0FBQWtXLEVBQUFqTyxTQUdBLE9BQUFnTyxLQUdBeFcsS0FBQXNXLE9BQUEsU0FBQW5PLEVBQUF1TyxHQUNBSixFQUFBLEdBQUFuTyxFQUNBbU8sRUFBQSxHQUFBSSxFQUNBL04sR0FBQSxHQUdBeUksRUFBQXhQLE1BQUEsTUFBQSxTQUFBd0IsRUFBQWxCLEdBQ0FBLElBQUFzRyxJQUNBQSxFQUFBdEcsS0FJQWtQLEVBQUF4UCxPQUFBLE1BQUEsV0FBQSxhQUFBLFFBQUEsU0FBQSxTQUFBLFdBQ0ErRyxHQUFBLElBR0EzSSxLQUFBMkksT0FBQSxTQUFBZ08sR0FDQSxHQUFBaE8sR0FBQWdPLEVBQUEsQ0FDQSxHQUFBQyxHQUFBcE8sRUFBQXFPLE1BQUFSLEdBQ0FTLEVBQUEsRUFDQS9LLEVBQUEsRUFDQXVLLEVBQUFoTyxFQUFBNUksSUFBQSxRQUNBeUksRUFBQSxFQUlBRixFQUFBSyxFQUFBNUksSUFBQSxjQUNBcVgsRUFBQXpPLEVBQUE1SSxJQUFBLFlBQ0FzWCxFQUFBMU8sRUFBQTVJLElBQUEsY0FDQXVYLEVBQUEzTyxFQUFBNUksSUFBQSxVQUNBd1gsRUFBQTVPLEVBQUE1SSxJQUFBLFNBQ0F5WCxFQUFBN08sRUFBQTVJLElBQUEsUUFFQTBXLEtBR0EsS0FBQSxHQUFBdlgsR0FBQSxFQUFBQSxFQUFBK1gsRUFBQTdYLE9BQUFGLElBQUEsQ0FFQSxHQUFBdVksR0FBQVIsRUFBQS9YLEdBQUFnWSxNQUFBLE9BQ0F4SSxFQUFBdUksRUFBQS9YLEdBQUFnWSxNQUFBLFFBQ0FRLEVBQUF0VyxFQUFBLGtCQUFBeUgsT0FBQTZGLEVBQUEsR0FFQStILEdBQUFySyxLQUFBcUssRUFBQXJLLEdBQUFoTCxFQUFBLGtCQUNBa0gsS0FBQUEsR0FDQXhFLEtBQUFzVCxHQUNBMVMsT0FBQTJTLEdBQ0FFLE1BQUFBLEdBQ0E1TyxNQUFBNk8sR0FDQS9PLE9BQUE2TyxJQUVBYixFQUFBckssR0FBQXhMLEtBQUE4VyxHQUNBUCxFQUFBVixFQUFBckssR0FBQTNILFNBRUEwUyxHQUFBUixFQUFBLElBQUFjLElBQ0FyTCxJQUVBK0ssRUFBQTNPLElBQUFBLEVBQUEyTyxFQUFBLEdBRUF6UyxFQUFBK1IsRUFBQXJYLE9BQUF1SixFQUFBNUksSUFBQSxjQUNBcVgsRUFBQUMsRUFDQTNTLEdBQUEwUyxFQUFBQyxFQUVBRCxFQUFBQyxJQUNBM1MsR0FBQTJTLEVBQUFELEdBRUEzUyxFQUFBK0QsRUFDQVEsR0FBQSxFQUVBLE1BQUEzSSxPQUdBQSxLQUFBc1gsZ0JBQUEsV0FFQSxNQURBdFgsTUFBQTJJLFNBQ0F0RSxHQUdBckUsS0FBQXVYLGVBQUEsV0FFQSxNQURBdlgsTUFBQTJJLFNBQ0F2RSxHQUdBcEUsS0FBQXdYLFlBQUEsU0FBQXZJLEdBQ0FqUCxLQUFBMkksUUFDQSxLQUFBLEdBQUE5SixHQUFBLEVBQUFBLEVBQUF1WCxFQUFBclgsT0FBQUYsSUFDQW9RLEVBQUE1UCxNQUFBK1csRUFBQXZYLElBQUFBLEVBQUF1WCxFQUFBdlgsVUMzSEFzQyxHQUFBaUwsT0FBQSxXQUFBLFFBQ0EsUUFBQWlILE1BQUFoRSxHQUlBLFFBQUFvSSxXQUFBckcsR0FDQSxRQUFBQSxFQUFBc0cscUJBSUF0RyxFQUFBUyxZQUNBNEYsVUFBQXJHLEVBQUFTLFVBY0EsUUFBQThGLGVBQUFoWCxFQUFBeVEsR0FDQSxNQUFBLFVBQUF6USxFQUFBbVEsUUFFQU0sRUFBQXNHLG1CQUFBLEVBRUFELFVBQUE5VyxJQUtBQSxFQUFBK1csa0JBQ0EvVyxFQUFBa1IsVUFDQXhDLEVBQUF6SyxRQUFBLCtDQUlBeUssRUFBQXpLLFFBQUEsNERBRUF3TSxHQUFBc0csbUJBQ0EsVUFiQXRHLEdBQUFzRyxtQkFDQSxJQWdCQSxVQUFBL1csRUFBQW1RLFFBQ0F6QixFQUFBekssTUFDQWpFLE9BQUFBLEVBQUFtUSxPQUNBTSxPQUFBQSxFQUFBTixRQUNBLGtEQUNBLEdBTEEsT0E3Q0EsR0FBQWUsR0FBQSxLQXVEQVMsRUFBQSxJQUVBdFMsTUFBQXNSLFNBQUEsU0FBQSxTQUFBRixHQUNBLEdBQUEsVUFBQXBSLEtBQUE4USxPQUNBekIsRUFBQXpOLE9BQUFrUCxLQUFBOVEsS0FBQThRLFFBQUEsK0RBRUEsS0FBQTZHLGNBQUEzWCxLQUFBb1IsR0FBQSxDQUVBa0IsSUFBQUEsRUFBQXRTLEtBQUFxUSxVQUFBLFVBRUEsSUFBQXVILEdBQUF4RyxFQUFBUyxTQUNBZ0csRUFBQXpHLEVBQUFmLFVBQUEsT0FFQSxJQUFBdUgsRUFBQSxDQUNBLEdBQUFFLEdBQUFGLEVBQUF2SCxVQUFBLFVBQ0EwSCxFQUFBM0csRUFBQW9CLE9BRUFzRixHQUFBaEYsT0FBQTFCLEdBRUFrQixFQUFBSyxNQUFBb0YsRUFBQTNHLEdBRUF5RyxFQUFBaEcsT0FBQTdSLFVBR0EsQ0FFQSxHQUFBK1gsR0FBQTNHLEVBQUFvQixPQUVBRixHQUFBSyxNQUFBb0YsRUFBQTNHLEdBRUF5RyxFQUFBaEcsT0FBQTdSLE1BR0EsR0FBQTJSLEdBQUEzUixLQUFBcVEsVUFBQSxNQUNBc0IsR0FBQUMsUUFFQSxNQUFBNVIsUUFHQUEsS0FBQXNSLFNBQUEsV0FBQSxTQUFBRixHQUVBLE1BREFBLEdBQUE0RyxPQUFBaFksTUFDQUEsT0FHQUEsS0FBQXNSLFNBQUEsU0FBQSxXQUNBLE1BQUFPLEtBSUE3UixLQUFBNlIsT0FBQSxTQUFBb0csR0FJQSxNQUhBQSxHQUFBbkgsTUFBQSxVQUFBbUgsRUFBQW5ILFFBQ0F6QixFQUFBbE0sTUFBQSx3RUFFQThVLE9BQ0FwRyxFQUFBb0csR0FHQXBHLE1DbkhBMVEsR0FBQStLLFNBQ0EsVUFBQSxVQUFBLFFBQ0EsUUFBQTdLLFFBQUFBLE9BQUFFLEVBQUE4TixHQThEQSxRQUFBNkksaUJBQUFDLEdBQ0EsR0FBQSxNQUFBQyxHQUFBLE1BQUFDLEVBZ0NBLE1BSkFDLEdBQUEsR0FBQWxVLEVBQ0FrVSxFQUFBLEdBQUFqVSxFQUNBaEQsT0FBQW9DLEtBQUE2VSxFQUFBLEdBQUFBLEVBQUEsS0FFQSxDQS9CQSxJQUFBQyxHQUFBQyxFQUFBQyxFQUFBQyxDQUNBclgsUUFBQW9DLEtBQUEsRUFBQSxHQUNBa1YsR0FBQUMsYUFBQUQsR0FFQUEsRUFBQUUsV0FBQSxXQUNBLEdBQUFDLEdBQUF6WCxPQUFBVyxVQUFBOFcsV0FDQUMsRUFBQTdYLE9BQUE4WCxpQkFBQUYsRUFBQSxLQUVBSixHQUFBTyxTQUFBRixFQUFBRyxpQkFBQSxXQUNBVixFQUFBUyxTQUFBRixFQUFBRyxpQkFBQSxVQUVBWCxJQUFBQyxHQUNBLE1BQUFKLEdBQUFHLElBQUFDLElBQ0FGLEVBQUEsR0FBQWEsS0FBQUMsTUFBQVosR0FBQXBVLEVBQUEsT0FHQXFVLElBQUFDLEdBQ0EsTUFBQUwsSUFDQUMsRUFBQSxHQUFBYSxLQUFBQyxNQUFBVixHQUFBclUsRUFBQSxPQUdBaEQsT0FBQW9DLEtBQUE2VSxFQUFBLEdBQUFBLEVBQUEsSUFDQUssRUFBQSxLQUNBUixLQUNBLEtBV0EsUUFBQWtCLGlCQUFBQyxHQUNBLEdBQUFDLEdBQUFELEVBQUEsYUFBQSxZQUVBbGEsRUFBQSxFQUFBNEMsRUFBQVgsT0FBQVcsU0FFQSxHQUNBd1gsT0FBQXhYLEVBQUF1WCxNQUNBbmEsR0FBQTRDLEVBQUF1WCxVQUVBdlgsRUFBQUEsRUFBQXlYLGFBRUEsT0FBQXJhLEdBR0EsUUFBQXNhLHdCQUNBQyxHQUNBekIsZ0JBQUEsV0FDQTlDLEVBQUEsR0FBQWlFLGdCQUFBLEdBQ0FqRSxFQUFBLEdBQUFpRSxnQkFBQSxFQUNBLEtBQUEsR0FBQXhhLEdBQUEsRUFBQUEsRUFBQTBVLEVBQUF4VSxPQUFBRixJQUNBMFUsRUFBQTFVLEdBQUF5WixFQUFBLEdBQUFBLEVBQUEsR0FFQXNCLHlCQUFBLGdCQUFBLEdBQUFDLHdCQUtBLFFBQUFDLHdCQUNBMUUsRUFBQSxHQUFBaUUsZ0JBQUEsR0FDQWpFLEVBQUEsR0FBQWlFLGdCQUFBLEdBQ0FPLHdCQUFBLGdCQUFBLEdBQUFHLHNCQUNBTCx1QkFxQ0EsUUFBQU0scUJBQUExTCxHQUNBLE1BQUEyTCxHQUFBM0wsR0FHQSxRQUFBc0wseUJBQUF0TCxFQUFBNEwsR0FDQSxHQUFBLGdCQUFBQSxJQUFBQSxFQUFBN1osY0FBQUMsTUFFQSxXQURBK08sR0FBQXpLLE1BQUEzQixFQUFBcUwsR0FBQSxzRUFJQSxJQUFBOUssR0FBQXdXLG9CQUFBMUwsRUFFQSxLQUFBOUssRUFFQSxXQURBNkwsR0FBQXpLLE1BQUEzQixFQUFBcUwsR0FBQSwrQ0FHQSxLQUFBLEdBQUF6UCxHQUFBLEVBQUFBLEVBQUEyRSxFQUFBekUsT0FBQUYsSUFDQTJFLEVBQUEzRSxHQUFBUSxNQUFBbUMsRUFBQTBZLEdBZ0JBLFFBQUFDLDBCQUFBbFgsR0FDQSxPQUFBQSxFQUFBbVgsTUFBQWhGLEVBQUEsR0FBQWlGLEVBQUEsR0FBQXBYLEVBQUFxWCxNQUFBbEYsRUFBQSxHQUFBaUYsRUFBQSxJQUdBLFFBQUFFLGNBQUF0WCxHQUNBakQsS0FBQXdhLE1BQUF2WCxFQUFBbVgsTUFBQW5YLEVBQUFxWCxPQUNBdGEsS0FBQXlhLE9BQUF4WCxFQUFBbVgsTUFBQUMsRUFBQSxHQUFBcFgsRUFBQXFYLE1BQUFELEVBQUEsSUFDQXJhLEtBQUFrVixTQUFBaUYseUJBQUFsWCxHQUdBLFFBQUF5WCxtQkFBQXpYLEdBQ0FqRCxLQUFBMmEsU0FBQTFYLEVBQ0FqRCxLQUFBOFEsS0FBQTdOLEVBQUE2TixLQUNBOVEsS0FBQTRVLE1BQUEsR0FBQTJGLGNBQUF0WCxHQUNBakQsS0FBQTRhLE9BQUFwWixFQUdBLFFBQUFxWSxzQkFDQTdaLEtBQUE4USxLQUFBLGVBQ0E5USxLQUFBNGEsT0FBQXBaLEVBQ0F4QixLQUFBb1YsUUFBQUEsRUFBQSxHQUFBQSxFQUFBLElBQ0FwVixLQUFBeUQsTUFBQVcsRUFBQUMsR0FDQXJFLEtBQUEyYSxVQUFBdlcsRUFBQUMsR0FDQXJFLEtBQUE2YSxPQUFBekMsRUFBQUMsR0FDQSxNQUFBRCxJQUNBcFksS0FBQXlELEtBQUEsR0FBQStVLEdBQUFwVSxFQUFBLE1BRUEsTUFBQWlVLElBQ0FyWSxLQUFBeUQsS0FBQSxHQUFBaVYsR0FBQXJVLEVBQUEsTUFJQSxRQUFBMFYsc0JBQ0EvWixLQUFBOFEsS0FBQSxlQUNBOVEsS0FBQTRhLE9BQUFwWixFQUNBeEIsS0FBQW9WLFFBQUFBLEVBQUEsR0FBQUEsRUFBQSxJQUNBcFYsS0FBQXlELE1BQUFXLEVBQUFDLEdBQ0FyRSxLQUFBMmEsVUFBQXZXLEVBQUFDLEdBQ0FyRSxLQUFBNmEsT0FBQXpDLEVBQUFDLEdBQ0EsTUFBQUQsSUFDQXBZLEtBQUF5RCxLQUFBLEdBQUErVSxHQUFBcFUsRUFBQSxNQUVBLE1BQUFpVSxJQUNBclksS0FBQXlELEtBQUEsR0FBQWlWLEdBQUFyVSxFQUFBLE1BalBBLEdBQUFrUCxNQUFBblAsRUFBQSxFQUFBQyxFQUFBLEVBQUFpVSxHQUFBLEVBQUEsR0FBQUYsRUFBQSxLQUFBQyxFQUFBLEtBQ0FqRCxHQUFBLEVBQUEsR0FBQWlGLEdBQUEsRUFBQSxHQUFBVixFQUFBdFksT0FBQVcsVUFBQVIsRUFBQXhCLElBRUF1QixHQUFBUCxPQUNBLFFBQ0EsRUFBQSxJQUVBNEUsU0FBQSxFQUNBRSxPQUFBLFNBQUFqRSxHQUNBLEtBQUEsZ0JBQUFBLEdBQUEsVUFBQUEsR0FBQSxLQUFBdkIsT0FFQSxnQkFBQXVCLEdBQUEsSUFBQSxnQkFBQUEsR0FBQSxJQUNBLE9BQUEsS0FJQUQsTUFDQSxTQUFBQyxHQUNBLGdCQUFBQSxHQUFBLEdBQ0F1QyxFQUFBdkMsRUFBQSxHQUVBLGdCQUFBQSxHQUFBLEdBQ0FBLEVBQUEsR0FBQWdWLE1BQUEsYUFDQXpTLEVBQUE2VSxTQUFBcFgsRUFBQSxJQUNBdVcsRUFBQSxNQUdBaFUsRUFBQSxJQUNBZ1UsRUFBQSxLQUNBL0ksRUFBQXpLLE1BQUFSLE1BQUF2QyxFQUFBLElBQUEsMEVBSUF1QyxFQUFBLElBQ0FpTCxFQUFBekssTUFBQVIsTUFBQXZDLEVBQUEsSUFBQSx5RUFHQSxnQkFBQUEsR0FBQSxHQUNBd0MsRUFBQXhDLEVBQUEsR0FFQSxnQkFBQUEsR0FBQSxJQUNBQSxFQUFBLEdBQUFnVixNQUFBLGFBQ0F4UyxFQUFBNFUsU0FBQXBYLEVBQUEsSUFDQXdXLEVBQUEsTUFRQWhVLEVBQUEsSUFDQWdMLEVBQUF6SyxNQUFBUCxPQUFBeEMsRUFBQSxJQUFBLHlFQUVBNlgsd0JBSUEsSUFBQWxCLEdBQUEsRUFBQUUsRUFBQSxFQUFBQyxFQUFBLElBeUVBM1ksTUFBQXNFLE9BQUEsU0FBQTJLLEdBQ0Esa0JBQUFBLElBQ0FzRSxFQUFBaFQsS0FBQTBPLElBR0FqUCxLQUFBb0UsTUFBQSxXQUNBLE1BQUEsTUFBQWdVLEVBQ0FJLEdBQUFwVSxFQUFBLEtBR0FBLEdBS0FwRSxLQUFBcUUsT0FBQSxXQUNBLE1BQUEsTUFBQStULEVBQ0FNLEdBQUFyVSxFQUFBLEtBR0FBLEVBSUEsSUFBQTRWLElBQ0F0RyxhQUNBRSxhQUNBRCxXQUNBRyxjQUNBRCxjQUNBZ0gsZ0JBQ0FDLGdCQXdCQS9hLE1BQUFnUCxHQUFBLFNBQUFWLEVBQUFXLEdBQ0EsR0FBQXpMLEdBQUF3VyxvQkFBQTFMLEVBQ0EsT0FBQTlLLElBSUEsa0JBQUF5TCxJQUNBSSxFQUFBekssTUFBQWxHLEVBQUE0UCxHQUFBLGtEQUVBOUssR0FBQWpELEtBQUEwTyxRQU5BSSxHQUFBekssTUFBQTNCLEVBQUFxTCxHQUFBLHdEQXdEQSxJQUFBME0sSUFDQXJILFVBQUEsU0FBQTFRLEdBQ0EyVyx3QkFBQSxhQUFBLEdBQUFjLG1CQUFBelgsTUFFQTRRLFVBQUEsU0FBQTVRLEdBQ0EyVyx3QkFBQSxhQUFBLEdBQUFjLG1CQUFBelgsTUFFQTJRLFFBQUEsU0FBQTNRLEdBQ0EyVyx3QkFBQSxXQUFBLEdBQUFjLG1CQUFBelgsTUFFQThRLFdBQUEsU0FBQTlRLEdBQ0EyVyx3QkFBQSxjQUFBLEdBQUFjLG1CQUFBelgsTUFFQTZRLFdBQUEsU0FBQTdRLEdBQ0EyVyx3QkFBQSxjQUFBLEdBQUFjLG1CQUFBelgsTUFJQTVCLFFBQUFBLFVBQUEsV0FDQSxHQUFBc1ksRUFDQSxJQUFBLEdBQUFyTCxLQUFBME0sR0FDQUEsRUFBQW5iLGVBQUF5TyxJQUNBcUwsRUFBQXNCLG9CQUFBM00sRUFBQTBNLEVBQUExTSxHQUtBcUwsR0FBQTNaLEtBQUFnQyxTQUNBLEtBQUEsR0FBQXNNLEtBQUEwTSxHQUNBQSxFQUFBbmIsZUFBQXlPLElBQ0FxTCxFQUFBdUIsaUJBQUE1TSxFQUFBME0sRUFBQTFNLEdBR0F3TCwwQkFJQTVZLE9BQUFnYSxpQkFBQSxTQUFBLFdBQ0FiLEVBQUEsR0FBQW5aLE9BQUFpYSxhQUFBdFgsU0FBQXVYLGdCQUFBQyxXQUNBaEIsRUFBQSxHQUFBblosT0FBQW9hLGFBQUF6WCxTQUFBdVgsZ0JBQUFHLFlBR0FyYSxPQUFBZ2EsaUJBQUEsU0FBQXhCLHlCQ25TQXZZLEdBQUErSyxTQUNBLFVBQ0EsUUFBQW1ELE9BQUEvTSxHQVlBLFFBQUFrWixjQUFBMUssRUFBQW9KLEdBQ0EsR0FBQTFXLEdBQUEsSUFFQSxXQUFBc04sSUFBQXROLEVBQUFpWSxHQUNBLFlBQUEzSyxJQUFBdE4sRUFBQWtZLEVBRUEsS0FBQSxHQUFBN2MsR0FBQSxFQUFBQSxFQUFBMkUsRUFBQXpFLE9BQUFGLElBQ0EyRSxFQUFBM0UsR0FBQXFiLEdBV0EsUUFBQXlCLFlBQUF6QixFQUFBN1csR0FDQUEsRUFBQUEsRUFBQXVZLFVBRUEsSUFBQUMsR0FBQXhZLEVBQUF3VCxNQUFBaUYsR0FDQTlMLElBRUEsSUFBQTZMLEVBQ0EsSUFBQSxHQUFBaGQsR0FBQSxFQUFBQSxFQUFBZ2QsRUFBQTljLE9BQUFGLElBQUEsQ0FDQSxHQUFBa2QsR0FBQUYsRUFBQWhkLEdBQUFnWSxNQUFBbUYsR0FBQSxFQUNBRCxLQUFBL0wsRUFBQStMLElBQ0FFLFFBQUFKLEVBQUFoZCxHQUNBcWIsS0FBQUEsRUFBQTZCLEdBQUFILGFBSUEsSUFBQSxHQUFBL1YsS0FBQW1LLEdBRUFBLEVBQUFuUSxlQUFBZ0csS0FFQXhDLEVBQUFBLEVBQUE0WSxRQUFBak0sRUFBQW5LLEdBQUFvVyxRQUFBak0sRUFBQW5LLEdBQUFxVSxNQUtBLE9BRkE3VyxHQUFBbUYsRUFBQW5GLEVBbERBLEdBQUFtRixHQUFBLGdCQUNBc1QsRUFBQSxlQUNBRSxFQUFBLGFBQ0FFLEVBQUE1WixFQUFBdEIsT0FBQSxZQUFBLEdBQUFnRixRQUFBLEdBQUEsU0FBQW5FLEdBQ0FxYSxFQUFBcmEsSUFJQTRaLEtBQUFDLElBYUExYixNQUFBZ1AsR0FBQSxTQUFBVixFQUFBVyxHQUNBLGtCQUFBQSxLQUNBLFVBQUFYLEdBQUFtTixFQUFBbGIsS0FBQTBPLEdBQ0EsWUFBQVgsR0FBQW9OLEVBQUFuYixLQUFBME8sS0ErQkFqUCxLQUFBbUQsTUFBQSxTQUFBK1csRUFBQTdXLEdBVUEsS0FUQSxnQkFBQTZXLEtBQ0E3VyxFQUFBNlcsRUFDQUEsTUFHQTdXLEVBQUFzWSxXQUFBekIsRUFBQTdXLEdBRUFtWSxhQUFBLFFBQUFuWSxHQUVBLEdBQUF0RCxPQUFBc0QsSUFHQXJELEtBQUE0RSxLQUFBLFNBQUFzVixFQUFBN1csR0FFQTZZLElBRUEsZ0JBQUFoQyxLQUNBN1csRUFBQTZXLEVBQ0FBLE1BRUE3VyxFQUFBc1ksV0FBQXpCLEVBQUE3VyxHQUVBbVksYUFBQSxVQUFBblksR0FFQUgsUUFBQTBCLEtBQUF2QixRQ3BGQWxDLEdBQUErSyxTQUNBLFVBQUEsU0FBQSxVQUFBLFVBQ0EsUUFBQWtILFlBQUErSSxFQUFBOWEsRUFBQUMsRUFBQThhLEdBa0RBLFFBQUFDLGVBQUF2TCxFQUFBblEsR0FDQSxHQUFBMmIsR0FBQXhMLEVBQUE0RCxHQUFBLEVBQUE2SCxFQUFBNWIsRUFBQTZiLEVBQUE3YixDQUNBWCxNQUFBOFEsS0FBQSxXQUNBLE1BQUF3TCxJQUdBdGMsS0FBQThDLEtBQUEsR0FBQStMLE1BRUE3TyxLQUFBeWMsZ0JBQUEsV0FDQS9ILEdBQUEsR0FFQTFVLEtBQUEwVSxVQUFBLFdBQ0EsTUFBQUEsSUFFQTFVLEtBQUFXLE9BQUEsV0FDQSxNQUFBNGIsSUFFQXZjLEtBQUEwYyxXQUFBLFdBQ0FILEVBQUFJLHFCQUFBLENBQ0EsSUFBQXZkLEdBQUFvZCxFQUFBRyxtQkFFQSxjQURBSixHQUFBSSxzQkFDQXZkLEdBQUFBLEdBRUFZLEtBQUE4VSxlQUFBLFdBQ0EsR0FBQTlVLEtBQUErVSx5QkFBQSxDQUNBLEdBQUF6RyxHQUFBc08sZUFBQU4sRUFBQUMsRUFFQSxPQURBak8sR0FBQXdHLGVBQUFqVSxNQUFBZ2MsY0FBQTdjLEtBQUErVSwyQkFDQXpHLEVBS0EsTUFIQXRPLE1BQUE2YyxnQkFDQU4sRUFBQXZjLEtBQUE2YyxlQUVBTCxHQUlBLFFBQUFNLFlBQUFoTSxFQUFBblEsR0FDQTBiLGNBQUFoZCxNQUFBVyxNQUFBOFEsRUFBQW5RLElBQ0FYLEtBQUFzVSxRQUFBQSxFQUFBeUksUUFBQSxHQUFBekksRUFBQXlJLFFBQUEsSUFHQSxRQUFBQyxXQUFBbE0sRUFBQW5RLEdBQ0EwYixjQUFBaGQsTUFBQVcsTUFBQThRLEVBQUFuUSxJQUNBWCxLQUFBaWQsTUFDQTVhLE9BQUE0YSxFQUFBNWEsTUFBQSxHQUFBNGEsRUFBQTVhLE1BQUEsSUFDQTBhLFNBQUFFLEVBQUFGLFFBQUEsR0FBQUUsRUFBQUYsUUFBQSxJQUNBRyxPQUFBRCxFQUFBQyxNQUFBLEdBQUFELEVBQUFDLE1BQUEsS0FJQSxRQUFBTixnQkFBQTlMLEVBQUFuUSxHQUNBLE1BQUEsY0FBQW1RLEdBQUEsZUFBQUEsR0FDQSxlQUFBQSxHQUFBLGNBQUFBLEdBQ0EsWUFBQUEsRUFDQSxHQUFBZ00sWUFBQWhNLEVBQUFuUSxHQUVBLGNBQUFtUSxHQUFBLFlBQUFBLEdBQUEsYUFBQUEsRUFDQSxHQUFBa00sV0FBQWxNLEVBQUFuUSxHQURBLE9BS0EsUUFBQXdjLFVBQUE3TyxFQUFBM04sR0FFQSxHQUFBeWMsR0FBQXpjLEVBQUEwUCxVQUFBLFFBRUErTSxJQUVBQSxFQUFBM0ksU0FBQW5HLElBQ0E4TyxFQUFBN1osUUFBQTVDLEVBQUEyTixFQUFBc08sZUFBQXRPLElBSUEsUUFBQStPLG9CQUFBdk0sR0FDQSxlQUFBQSxHQUFBLGFBQUFBLEdBQUEsWUFBQUEsR0FBQSxhQUFBQSxHQUNBLGNBQUFBLEdBQUEsWUFBQUEsR0FBQSxjQUFBQSxJQUFBblEsRUFBQW9jLFNBQ0FJLFNBQUFyTSxFQUFBblEsRUFBQW9jLFNBRUEsZUFBQWpNLEdBQUEsWUFBQUEsSUFBQW5RLEVBQUEyYyxVQUNBSCxTQUFBck0sRUFBQW5RLEVBQUEyYyxVQUlBLFFBQUFDLG9CQUNBQyxHQUFBLEVBQ0FQLEVBQUE1YSxNQUFBLEdBQUFpUyxFQUFBeUksUUFBQSxHQUNBRSxFQUFBNWEsTUFBQSxHQUFBaVMsRUFBQXlJLFFBQUEsR0FDQU0sbUJBQUEsYUFHQSxRQUFBSSxrQkFDQVIsRUFBQUYsUUFBQSxHQUFBekksRUFBQXlJLFFBQUEsR0FDQUUsRUFBQUYsUUFBQSxHQUFBekksRUFBQXlJLFFBQUEsR0FDQUUsRUFBQUMsTUFBQSxHQUFBRCxFQUFBNWEsTUFBQSxHQUFBNGEsRUFBQUYsUUFBQSxHQUNBRSxFQUFBQyxNQUFBLEdBQUFELEVBQUE1YSxNQUFBLEdBQUE0YSxFQUFBRixRQUFBLEdBQ0FNLG1CQUFBLFdBQ0FHLEdBQUEsRUFHQSxRQUFBRSxrQkFPQSxHQU5BN0osRUFBQWtKLFVBQUFsSixFQUFBMEIsS0FBQTFCLEVBQUFrSixTQUNBTSxtQkFBQSxhQUVBeEosRUFBQWtKLFNBQUFsSixFQUFBa0osVUFBQWxKLEVBQUEwQixNQUFBaUksR0FDQUQsbUJBRUFqSixFQUFBaUIsSUFBQSxLQUFBakIsRUFBQXlJLFFBQUEsSUFBQXpJLEVBQUFpQixJQUFBLEtBQUFqQixFQUFBeUksUUFBQSxHQUFBLENBU0EsR0FQQXBjLEVBQUFvYyxVQUFBcGMsRUFBQTJjLFVBQ0FELG1CQUFBLGVBRUExYyxFQUFBb2MsU0FBQXBjLEVBQUEyYyxXQUNBRCxtQkFBQSxjQUNBSSxrQkFFQTljLEVBQUFvYyxTQUFBcGMsRUFBQTJjLFNBQUEsQ0FDQTNjLEVBQUFvYyxRQUFBWSxlQUFBLENBQ0EsSUFBQXZlLElBQUEsQ0FFQXVCLEdBQUEyYyxTQUFBSyxnQkFBQXZlLEdBQUEsU0FDQXVCLEdBQUFvYyxRQUFBWSxjQUVBdmUsSUFDQXFlLGlCQUNBSixtQkFBQSxjQUNBQSxtQkFBQSxjQUNBRSxvQkFHQTFKLEVBQUFrSixTQUFBbEosRUFBQWtKLFVBQUFsSixFQUFBMEIsS0FBQWlJLElBQ0FQLEVBQUFGLFFBQUEsR0FBQXpJLEVBQUF5SSxRQUFBLEdBQ0FFLEVBQUFGLFFBQUEsR0FBQXpJLEVBQUF5SSxRQUFBLEdBQ0FFLEVBQUFDLE1BQUEsR0FBQUQsRUFBQTVhLE1BQUEsR0FBQTRhLEVBQUFGLFFBQUEsR0FDQUUsRUFBQUMsTUFBQSxHQUFBRCxFQUFBNWEsTUFBQSxHQUFBNGEsRUFBQUYsUUFBQSxHQUNBTSxtQkFBQSxhQUlBeEosRUFBQWtKLFNBQUFsSixFQUFBa0osVUFBQWxKLEVBQUEwQixLQUNBOEgsbUJBQUEsY0FHQXhKLEVBQUFrSixTQUFBbEosRUFBQWtKLFVBQUFsSixFQUFBMEIsS0FBQWlJLEdBQ0FDLGlCQUVBNUosRUFBQWtKLFNBQUFsSixFQUFBa0osVUFBQWxKLEVBQUEwQixNQUNBOEgsbUJBQUEsV0FDQUcsR0FBQSxHQUdBN2MsRUFBQTJjLFNBQUEzYyxFQUFBb2MsUUFDQWxKLEVBQUEwQixJQUFBMUIsRUFBQWtKLFFBQ0F6SSxFQUFBaUIsSUFBQSxHQUFBakIsRUFBQXlJLFFBQUEsR0FDQXpJLEVBQUFpQixJQUFBLEdBQUFqQixFQUFBeUksUUFBQSxHQUdBLFFBQUFhLGlCQUNBamQsRUFBQTJjLFNBQUEzYyxFQUFBb2MsUUFDQXBjLEVBQUFvYyxRQUFBWCxFQUFBak8sTUFBQW1HLEVBQUF5SSxTQUtBLFFBQUFjLHVCQUVBLEdBREFqUCxHQUFBQSxFQUNBLENBQ0EsR0FBQWtQLEVBQUEsTUFDQUYsaUJBQ0FGLGtCQXhOQSxHQUFBL2MsSUFDQW9jLFFBQUEsS0FDQU8sU0FBQSxNQUVBekosR0FDQWtKLFNBQUEsRUFDQU8sVUFBQSxHQUVBaEosR0FDQWlCLEtBQUEsRUFBQSxHQUNBd0gsU0FBQSxFQUFBLElBRUFFLEdBQ0E1YSxPQUFBLEVBQUEsR0FDQTBhLFNBQUEsRUFBQSxHQUNBRyxPQUFBLEVBQUEsSUFFQVksR0FBQSxFQUNBbk8sR0FBQSxFQUNBb08sR0FBQSxFQUNBUCxHQUFBLENBRUFuYyxHQUFBMk4sR0FBQSxZQUFBLFdBQ0FXLEdBQUFvTyxJQUNBbEssRUFBQXlKLFNBQUF6SixFQUFBa0osUUFDQWxKLEVBQUFrSixTQUFBLEVBQ0FlLEdBQUEsS0FFQXpjLEVBQUEyTixHQUFBLFVBQUEsV0FDQVcsR0FBQW9PLElBQ0FsSyxFQUFBeUosU0FBQXpKLEVBQUFrSixRQUNBbEosRUFBQWtKLFNBQUEsRUFDQWUsR0FBQSxLQUVBemMsRUFBQTJOLEdBQUEsWUFBQSxTQUFBL0wsR0FDQTBNLEdBQUFvTyxJQUNBekosRUFBQXlJLFFBQUEsR0FBQTlaLEVBQUEyUixNQUFBTSxTQUFBLEdBQ0FaLEVBQUF5SSxRQUFBLEdBQUE5WixFQUFBMlIsTUFBQU0sU0FBQSxHQUNBNEksR0FBQSxLQUdBemMsRUFBQTJOLEdBQUEsYUFBQSxXQUNBK08sR0FBQSxJQUdBMWMsRUFBQTJOLEdBQUEsYUFBQSxXQUNBK08sR0FBQSxHQW1LQSxJQUFBblAsSUFBQSxDQVdBdU4sR0FBQW5aLFNBQUE2YSxxQkFFQXZjLEVBQUEwTixHQUFBLFFBQUEsV0FDQVcsR0FBQSxJQUVBck8sRUFBQTBOLEdBQUEsT0FBQSxXQUNBVyxHQUFBLElBRUFyTyxFQUFBME4sR0FBQSxRQUFBLFdBQ0FXLEdBQUEsT0N4T0F4TyxHQUFBK0ssU0FDQSxPQUFBLFVBQUEsVUFBQSxRQUNBLFFBQUE4UixVQUFBblosRUFBQStWLEVBQUE3WixFQUFBc08sR0FnREEsUUFBQTRPLGFBQ0EsSUFBQSxHQUFBcGYsR0FBQSxFQUFBQSxFQUFBbUUsRUFBQWpFLE9BQUFGLElBQ0FtRSxFQUFBbkUsSUFFQW1FLE1BR0EsUUFBQWtiLGNBQUFqYixHQUNBLE1BQUEsWUFDQSxHQUFBa2IsR0FBQWxiLEVBQUFtYixPQUNBLElBQUE3SyxFQUFBNEssSUFBQTVLLEVBQUE0SyxHQUFBbGIsRUFBQTZOLE1BQ0EsSUFBQSxHQUFBalMsR0FBQSxFQUFBQSxFQUFBMFUsRUFBQTRLLEdBQUFsYixFQUFBNk4sTUFBQS9SLE9BQUFGLElBQUEsQ0FDQSxHQUFBeVAsR0FBQXZOLEVBQUEsa0JBQUFzZCxNQUFBcGIsRUFDQXNRLEdBQUE0SyxHQUFBbGIsRUFBQTZOLE1BQUFqUyxHQUFBUSxNQUFBaVAsR0FBQTZQLEVBQUFsYixFQUFBNk4sU0EzREEsR0FBQXlDLE1BQ0E1RCxHQUFBLEVBQ0EyTyxHQUFBLEVBQ0FQLEdBQUEsRUFDQS9hLElBRUFoRCxNQUFBdWUsUUFBQSxTQUFBQyxFQUFBdlAsR0FDQSxNQUFBalAsTUFBQWdQLEdBQUF3UCxFQUFBLFVBQUF2UCxJQUdBalAsS0FBQXllLE1BQUEsU0FBQUQsRUFBQXZQLEdBQ0EsTUFBQWpQLE1BQUFnUCxHQUFBd1AsRUFBQSxRQUFBdlAsSUFHQWpQLEtBQUEwZSxRQUFBLFdBRUEsTUFEQUosSUFBQSxFQUNBdGUsTUFHQUEsS0FBQTJlLE9BQUEsV0FFQSxNQURBTCxJQUFBLEVBQ0F0ZSxNQUdBQSxLQUFBZ1AsR0FBQSxTQUFBd1AsRUFBQWxRLEVBQUFXLEdBbUJBLE1BbEJBLGdCQUFBdVAsSUFBQSxnQkFBQWxRLEdBQ0EsVUFBQUEsR0FBQSxZQUFBQSxFQUNBLGtCQUFBVyxJQUNBc0UsRUFBQWlMLEtBQUFqTCxFQUFBaUwsT0FDQWpMLEVBQUFqRixLQUFBaUYsRUFBQWlMLEdBQUFsUSxPQUNBaUYsRUFBQWlMLEdBQUFsUSxHQUFBL04sS0FBQTBPLElBR0FJLEVBQUF6SyxLQUFBLG9DQUlBeUssRUFBQXpLLE1BQUEzQixFQUFBcUwsR0FBQSxrQ0FJQWUsRUFBQXpLLE1BQUFnYSxFQUFBSixHQUFBLHdCQUVBeGUsS0FzQkEsSUFBQTZlLElBQUEsQ0FFQWpFLEdBQUE1WSxVQUFBa1osaUJBQUEsWUFBQSxXQUNBMkQsR0FBQSxJQUdBM2QsT0FBQWdhLGlCQUFBLFlBQUEsV0FFQTZDLElBREFjLEVBTUFBLEdBQUEsSUFHQTNkLE9BQUFnYSxpQkFBQSxVQUFBLFNBQUFqWSxHQUNBME0sR0FBQTJPLEdBQUFQLEdBQ0EvYSxFQUFBekMsS0FBQTJkLGFBQUFqYixNQUVBL0IsT0FBQWdhLGlCQUFBLFFBQUEsU0FBQWpZLEdBQ0EwTSxHQUFBMk8sR0FBQVAsR0FDQS9hLEVBQUF6QyxLQUFBMmQsYUFBQWpiLE1BR0E0QixFQUFBaWEsSUFBQSxRQUFBLFdBQ0FuUCxHQUFBLElBRUE5SyxFQUFBaWEsSUFBQSxPQUFBLFdBQ0FuUCxHQUFBLElBRUE5SyxFQUFBNUMsRUFBQSxPQUFBZ2MsY0NwR0E5YyxHQUFBK0ssUUFBQS9LLFNBQUEsWUFFQSxRQUFBNGQsaUJBRUEsR0FBQVosR0FBQSxLQUNBYSxHQUFBLEVBQ0FDLEdBQUEsRUFDQUMsR0FBQSxFQUNBNVEsR0FBQSxFQUNBd0MsRUFBQSxJQUVBOVEsTUFBQXFlLE1BQUEsU0FBQXBiLEdBUUEsTUFQQWtiLEdBQUFsYixFQUFBbWIsUUFDQVksRUFBQS9iLEVBQUFrYyxRQUNBRixFQUFBaGMsRUFBQW1jLE9BQ0FGLEVBQUFqYyxFQUFBb2MsU0FDQS9RLEVBQUFyTCxFQUNBNk4sRUFBQTdOLEVBQUE2TixXQUNBOVEsTUFBQXFlLE1BQ0FyZSxNQUdBQSxLQUFBOFEsS0FBQSxTQUFBdEksR0FDQSxNQUFBLGdCQUFBQSxHQUNBc0ksSUFBQXRJLEVBRUFzSSxHQUdBOVEsS0FBQXdlLEtBQUEsV0FDQSxNQUFBTCxJQUdBbmUsS0FBQXNmLE1BQUEsV0FDQSxNQUFBSixJQUVBbGYsS0FBQXVmLElBQUEsV0FDQSxNQUFBTixJQUVBamYsS0FBQXdmLEtBQUEsV0FDQSxNQUFBUixJQUVBaGYsS0FBQTJhLFNBQUEsV0FDQSxNQUFBck0sT0MzQ0FuTixHQUFBK0ssU0FDQSxVQUFBLFVBQUEsVUFBQSxRQUNBLFFBQUF1VCxVQUFBMWUsRUFBQTJlLEVBQUFyZSxFQUFBZ08sR0FFQSxHQUFBc1EsS0FFQTNmLE1BQUFFLE9BQUEsU0FBQW1DLEVBQUF1ZCxFQUFBM1EsRUFBQW1CLEVBQUFELEVBQUEwUCxHQUVBLEdBQUEsZ0JBQUF4ZCxJQUFBLGdCQUFBdWQsR0FFQSxXQURBdlEsR0FBQWxNLFNBQUEscURBSUEsSUFBQSxrQkFBQThMLEdBRUEsV0FEQUksR0FBQWxNLFNBQUEsbURBSUEsSUFBQSxnQkFBQWlOLEdBRUEsV0FEQWYsR0FBQWxNLFNBQUEseURBSUEsZ0JBQUFnTixJQUFBQSxHQUFBLElBQ0FkLEVBQUFsTSxTQUFBLHVFQUdBLElBQUEyYyxHQUFBSixFQUFBaGdCLElBQUEwUSxFQUVBMFAsSUFDQXpRLEVBQUFsTSxPQUFBaU4sT0FBQUEsR0FBQSx3REFJQSxJQUFBMlAsR0FBQWhmLEVBQUEsYUFFQWlmLEVBQUFELEVBQUF6ZCxPQUFBRCxFQUFBdWQsRUFBQTNRLEVBQUFrQixFQUFBMlAsRUFBQUQsRUFFQSxPQUFBRyxJQUFBLGtCQUFBQSxJQUtBQSxFQUFBQyxHQUFBRixFQUVBSixFQUFBcGYsS0FBQXlmLEdBRUFELE9BUkExUSxHQUFBbE0sU0FBQSw2REFZQTlCLEVBQUEyQixTQUFBLFFBQUFrZCxrQkFBQXZkLEVBQUFHLEdBSUEsSUFBQSxHQUhBQSxHQUFBQSxFQUFBcWQsVUFDQUMsS0FFQXZoQixFQUFBLEVBQUFBLEVBQUE4Z0IsRUFBQTVnQixPQUFBRixJQUNBOGdCLEVBQUE5Z0IsR0FBQW9oQixHQUFBclEsU0FDQStQLEVBQUE5Z0IsR0FBQWlFLEdBQ0FzZCxFQUFBN2YsS0FBQW9mLEVBQUE5Z0IsSUFHQThnQixHQUFBUyxPQzVEQWpmLEdBQUErSyxRQUFBL0ssU0FBQSxXQUNBLFVBQUEsVUFBQSxXQUNBLFFBQUFrZixVQUFBemYsRUFBQUcsRUFBQXVMLEdBRUEsR0FBQXdFLEdBQUEsS0FDQXdQLElBRUF0Z0IsTUFBQXFRLFVBQUEsU0FBQXZRLEdBQ0EsTUFBQXdnQixHQUFBeGdCLElBR0FFLEtBQUE4USxLQUFBLFdBQ0EsTUFBQUEsSUFHQTlRLEtBQUF1Z0IsV0FBQSxTQUFBQyxHQUNBLEdBQUEsZ0JBQUFBLEdBQUEsT0FFQXhnQixNQUFBdWdCLFdBRUF6UCxFQUFBMFAsQ0FHQSxLQUFBLEdBREFsYSxHQUFBZ0csRUFBQWhHLE9BQ0F6SCxFQUFBLEVBQUFBLEVBQUF5SCxFQUFBdkgsT0FBQUYsSUFDQXloQixFQUFBaGEsRUFBQXpILElBQUFrQyxFQUFBLFdBQ0F1ZixFQUFBaGEsRUFBQXpILElBQUE0aEIsYUFBQXpnQixNQUNBWSxFQUFBMGYsRUFBQWhhLEVBQUF6SCxJQUFBLElBQUF5SCxFQUFBekgsSUFDQXloQixFQUFBaGEsRUFBQXpILElBQUE2aEIsVUFBQTVQLEdBQ0F3UCxFQUFBaGEsRUFBQXpILElBQUE4aEIsS0FBQTNnQixZQUdBc2dCLEdBQUFoYSxFQUFBekgsR0FHQStCLEdBQUFaLEtBQUEsSUFBQXdnQixFQUFBLGVBQ0E1ZixFQUFBWixLQUFBLHdCQUNBWSxFQUFBWixLQUFBLElBQUF3Z0IsRUFBQSxnQkFDQTVmLEVBQUFaLEtBQUEsc0JBQ0FZLEVBQUFaLEtBQUEsSUFBQXdnQixFQUFBLG9CQ3ZDQXJmLEdBQUErSyxTQUNBLFVBQUEsT0FDQSxRQUFBMFUsU0FBQTdmLEVBQUFzUyxHQUVBLFFBQUF3TixjQUFBL1AsRUFBQXhPLEdBQ0EsR0FBQWxELEdBQUEyQixFQUFBLFlBT0EsT0FMQTNCLEdBQUFtaEIsV0FBQXpQLEdBRUF4TyxHQUFBQSxFQUFBdkQsUUFDQUssRUFBQWtKLE1BQUFqSixNQUFBRCxFQUFBa0QsR0FFQWxELEVBR0FZLEtBQUFpWSxNQUFBLFdBQ0EsTUFBQTRJLGNBQUEsUUFBQXZoQixZQUdBVSxLQUFBOGdCLEtBQUEsV0FDQSxNQUFBRCxjQUFBLE9BQUF2aEIsWUFHQVUsS0FBQStnQixLQUFBLFdBQ0EsTUFBQUYsY0FBQSxZQUFBdmhCLFlBR0FVLEtBQUFnaEIsT0FBQSxXQUNBLE1BQUFILGNBQUEsU0FBQXZoQixZQUdBVSxLQUFBaWhCLE1BQUEsV0FDQSxNQUFBSixjQUFBLFFBQUF2aEIsWUFHQVUsS0FBQWtoQixPQUFBLFdBQ0EsTUFBQUwsY0FBQSxTQUFBdmhCLFlBR0FVLEtBQUFtaEIsS0FBQSxXQUNBLE1BQUFOLGNBQUEsT0FBQXZoQixZQUdBVSxLQUFBb2hCLEtBQUEsV0FDQSxNQUFBUCxjQUFBLE9BQUF2aEIsWUFHQStULEVBQUFuTCxLQUFBbEksS0FBQWlZLFlDL0NBOVcsR0FBQStLLFNBQ0EsVUFBQSxVQUFBLFFBQ0EsUUFBQW1WLFVBQUFoZ0IsRUFBQU4sRUFBQXNPLEdBYUEsUUFBQWlTLGtCQUFBeFEsRUFBQXlRLEdBQ0EsU0FBQXpRLElBQUF5USxFQUFBQSxFQUFBLEdBRUEsSUFBQW5pQixHQUFBLEtBQ0FvRSxFQUFBMEIsRUFBQTRMLEVBQUEsSUFFQSxLQUFBdE4sRUFBQSxNQUFBcEUsRUFFQSxLQUFBLEdBQUFQLEdBQUEsRUFBQUEsRUFBQTJFLEVBQUF6RSxPQUFBRixJQUNBLEdBQUEyRSxFQUFBM0UsR0FBQXNLLFFBQUFvWSxFQUFBLENBQ0FuaUIsRUFBQW9FLEVBQUEzRSxFQUNBLE9BSUEsTUFBQU8sR0FHQSxRQUFBeWhCLGNBQUEvUCxFQUFBakosR0FDQSxHQUFBMlosR0FBQUYsaUJBQUF4USxFQUFBakosRUFDQSxJQUFBMlosRUFDQSxNQUFBQSxFQUdBLElBQUFsRixHQUFBeEwsRUFFQTFSLEVBQUEyQixFQUFBLElBQUErUCxFQUFBM08sT0FBQSxHQUFBb0gsY0FBQXVILEVBQUF0SCxNQUFBLEdBdUJBLE9BckJBcEssR0FBQTRQLEdBQUEsT0FBQSxXQUNBeVMsSUFDQWpHLGFBQUEsUUFBQXhiLEtBQUF5aEIsRUFBQUMsRUFBQTNpQixXQUdBSyxFQUFBNFAsR0FBQSxRQUFBLFdBQ0F5UyxJQUNBakcsYUFBQSxTQUFBeGIsS0FBQXloQixFQUFBQyxFQUFBM2lCLFdBR0FLLEVBQUErSixJQUFBdEIsR0FHQTNDLEVBQUFvWCxFQUFBLEtBQUEvYixLQUFBbkIsR0FFQXNpQixFQUFBbmhCLEtBQUFuQixHQUVBcWlCLElBRUFqRyxhQUFBLE9BQUFwYyxFQUFBcWlCLEVBQUFDLEVBQUEzaUIsU0FFQUssRUFnQkEsUUFBQXVpQixnQkFBQXpILEdBQ0EsR0FBQUEsRUFBQTBILFFBQUExSCxFQUFBMEgsT0FBQXZoQixjQUFBQyxNQUNBLElBQUEsR0FBQXpCLEdBQUEsRUFBQUEsRUFBQXFiLEVBQUEwSCxPQUFBN2lCLE9BQUFGLElBQ0EsZ0JBQUFxYixHQUFBMEgsT0FBQS9pQixLQUNBLGdDQUFBZ2pCLEtBQUEzSCxFQUFBMEgsT0FBQS9pQixJQUNBMkMsRUFBQTBmLE9BQUFoSCxFQUFBMEgsT0FBQS9pQixJQUdBMkMsRUFBQXlmLE1BQUEvRyxFQUFBMEgsT0FBQS9pQixJQU1BLElBQUFxYixFQUFBNEgsT0FBQTVILEVBQUE3WixjQUFBQyxNQUNBLElBQUEsR0FBQXpCLEdBQUEsRUFBQUEsRUFBQXFiLEVBQUE0SCxNQUFBL2lCLE9BQUFGLElBQ0EsZ0JBQUFxYixHQUFBNEgsTUFBQWpqQixJQUNBMkMsRUFBQXNnQixNQUFBNUgsRUFBQTRILE1BQUFqakIsR0FJQSxJQUFBcWIsRUFBQTZILE9BQUE3SCxFQUFBNkgsTUFBQTFoQixjQUFBQyxNQUNBLElBQUEsR0FBQXpCLEdBQUEsRUFBQUEsRUFBQXFiLEVBQUE2SCxNQUFBaGpCLE9BQUFGLElBQ0EsR0FBQXFiLEVBQUE2SCxNQUFBbGpCLElBQUEsZ0JBQUFxYixHQUFBNkgsTUFBQWxqQixJQUNBLGdCQUFBcWIsR0FBQTZILE1BQUFsakIsR0FBQWlCLE1BQUFvYSxFQUFBNkgsTUFBQWxqQixHQUFBaUIsS0FBQWYsT0FBQSxDQUVBLEdBQUFxSixHQUFBOFIsRUFBQTZILE1BQUFsakIsR0FBQXVKLFFBQUEsZ0JBQUE4UixHQUFBNkgsTUFBQWxqQixHQUFBdUosT0FDQThSLEVBQUE2SCxNQUFBbGpCLEdBQUF1SixPQUFBLElBQ0FFLEVBQUEsV0FBQTRSLEVBQUE2SCxNQUFBbGpCLEdBQUF5SixNQUFBNFIsRUFBQTZILE1BQUFsakIsR0FBQXlKLE1BQUEsUUFFQTlHLEdBQUF5RyxLQUFBaVMsRUFBQTZILE1BQUFsakIsR0FBQWlCLEtBQUFzSSxFQUFBRSxJQW1HQSxRQUFBa1QsY0FBQTFLLEVBQUFvSixHQUNBLEdBQUExVyxHQUFBd2UsRUFBQWxSLEVBQ0EsSUFBQXROLEVBRUEsSUFBQSxHQUFBM0UsR0FBQSxFQUFBQSxFQUFBMkUsRUFBQXpFLE9BQUFGLElBQ0EyRSxFQUFBM0UsR0FBQVEsTUFBQW1DLEVBQUEwWSxHQWxOQSxHQUFBd0gsTUFDQXhjLEdBQ0EwYyxVQUNBSyxXQUNBRixTQUNBRyxXQUVBVCxFQUFBLEVBQ0FqZ0IsRUFBQXhCLEtBQ0FtaUIsRUFBQSxJQXVEQW5pQixNQUFBaWhCLE1BQUEsU0FBQXBaLEdBQ0EsTUFBQWdaLGNBQUEsUUFBQWhaLElBR0E3SCxLQUFBa2hCLE9BQUEsU0FBQXJaLEdBQ0EsTUFBQWdaLGNBQUEsU0FBQWhaLElBR0E3SCxLQUFBOGhCLE1BQUEsU0FBQWphLEdBQ0EsTUFBQWdaLGNBQUEsUUFBQWhaLElBdUNBN0gsS0FBQW9pQixRQUFBLFNBQUE5ZixHQUNBcWYsZUFBQXJmLElBR0F0QyxLQUFBcWlCLGFBQUEsU0FBQWxaLEdBQ0FnWixHQUFBQSxFQUFBRyxRQUNBLGdCQUFBblosSUFBQUEsRUFBQXBLLE9BQUEsSUFDQW9qQixFQUFBLEdBQUFJLGdCQUNBSixFQUFBakgsaUJBQUEsT0FBQSxXQUNBLEdBQUE5YixLQUVBLEtBQ0FBLEVBQUFvakIsS0FBQUMsTUFBQUMsU0FBQUMsY0FFQSxNQUFBMWYsR0FDQW9NLEVBQUFsTSxPQUFBZ0csSUFBQUEsR0FBQSwrREFFQXdZLGVBQUF2aUIsS0FFQStpQixFQUFBakgsaUJBQUEsUUFBQSxXQUNBN0wsRUFBQWxNLE9BQUFnRyxJQUFBQSxHQUFBLGtFQUNBd1kscUJBRUFRLEVBQUFqSCxpQkFBQSxRQUFBLFdBQ0E3TCxFQUFBekssTUFBQXVFLElBQUFBLEdBQUEscUVBQ0F3WSxxQkFHQVEsRUFBQVMsS0FBQSxNQUFBelosR0FBQSxHQUNBZ1osRUFBQVUsaUJBQUEsZUFBQSxvQkFDQVYsRUFBQVcsU0FJQTlpQixLQUFBaUksS0FBQSxTQUFBSixFQUFBTyxFQUFBRSxHQUNBLE1BQUF1WSxjQUFBLFFBQUFoWixFQUFBTyxFQUFBRSxJQUdBLElBQUEwWixJQUNBZSxRQUNBNWYsU0FDQTZmLE9BR0FoakIsTUFBQWdQLEdBQUEsU0FBQVYsRUFBQVcsR0FDQSxHQUFBLGdCQUFBWCxHQUFBLENBQ0EsR0FBQTlLLEdBQUF3ZSxFQUFBMVQsRUFDQTlLLEdBQ0Esa0JBQUF5TCxHQUNBekwsRUFBQWpELEtBQUEwTyxHQUdBSSxFQUFBekssTUFBQTBKLE1BQUFBLEdBQUEsbUVBSUFlLEVBQUF6SyxNQUFBMEosTUFBQUEsR0FBQSxvREFJQWUsR0FBQXpLLEtBQUEsNkRBSUE1RSxLQUFBaWpCLElBQUEsU0FBQTNVLEVBQUFXLEdBQ0EsR0FBQSxnQkFBQVgsR0FBQSxDQUNBLEdBQUE5SyxHQUFBd2UsRUFBQTFULEVBQ0EsSUFBQTlLLEdBQ0EsR0FBQSxrQkFBQXlMLEdBQUEsQ0FDQSxHQUFBaVUsS0FDQWpVLEdBQUFrVSxVQUFBLENBQ0EsS0FBQSxHQUFBdGtCLEdBQUEsRUFBQUEsRUFBQTJFLEVBQUF6RSxPQUFBRixJQUNBMkUsRUFBQTNFLEdBQUFza0IsVUFDQUQsRUFBQTNpQixLQUFBaUQsRUFBQTNFLFVBR0FvUSxHQUFBa1UsU0FDQW5CLEVBQUExVCxHQUFBNFUsT0FJQTdULEdBQUF6SyxNQUFBMEosTUFBQUEsR0FBQSxtRUFJQWUsR0FBQXpLLEtBQUEsaURBSUE1RSxLQUFBc0csS0FBQSxXQUNBLFNBQUE4YyxPQUFBbGUsRUFBQTBjLFFBQUF3QixPQUFBbGUsRUFBQWdkLFFBQUFrQixPQUFBbGUsRUFBQTZjLE9BQUFxQixPQUFBbGUsRUFBQStjLFVBWUE1Z0IsRUFBQTJCLFNBQUEsUUFBQXFnQixpQkFBQXpJLEVBQUE5WCxHQUVBLElBQUEsR0FEQXdnQixHQUFBeGdCLEVBQUFxZCxVQUNBdGhCLEVBQUEsRUFBQUEsRUFBQXFHLEVBQUErYyxRQUFBbGpCLE9BQUFGLElBQ0FxRyxFQUFBK2MsUUFBQXBqQixHQUFBRCxTQUFBLElBQUFzRyxFQUFBK2MsUUFBQXBqQixHQUFBMGtCLFVBQ0FyZSxFQUFBK2MsUUFBQXBqQixHQUFBK1AsS0FBQTBVLFFDOU5BbmlCLEdBQUErSyxTQUNBLFNBQUEsVUFBQSxVQUFBLFFBQ0EsUUFBQXNYLE9BQUE3Z0IsRUFBQTVCLEVBQUF1QixFQUFBK00sR0FFQS9NLEVBQUF0QixPQUFBLFdBQUEsUUFBQSxTQUFBNEUsU0FBQSxHQUVBLElBQUE2ZCxHQUFBMWlCLEVBQUEsVUFBQXNkLE1BQUEsZ0JBQUEsZUFDQXFGLEtBQ0FDLEVBQUEsRUFDQUMsRUFBQSxFQUNBQyxHQUNBQyxjQUFBTCxFQU1BempCLE1BQUErakIsT0FBQSxTQUFBNWEsRUFBQTZhLEVBQUFsa0IsR0FDQSxHQUFBLGdCQUFBcUosSUFBQUEsRUFBQXBLLE9BQUEsRUFBQSxDQUNBLEdBQUEya0IsRUFBQXZhLEdBQUEsTUFBQXVhLEdBQUF2YSxFQUNBLGlCQUFBckosSUFBQSxJQUFBQSxFQUFBZixTQUFBZSxFQUFBLGFBQUE2akIsRUFBQSxLQUNBQSxHQUNBLElBQUF2a0IsR0FBQTJCLEVBQUEsVUFBQXNkLE1BQUF2ZSxFQUFBcUosRUFDQSxpQkFBQTZhLElBQUEsSUFBQUEsRUFBQWpsQixTQUFBaWxCLEVBQUEsZ0JBQ0EsSUFBQUMsR0FBQWprQixLQUFBZ2tCLFFBQUFBLEVBR0EsT0FGQTVrQixHQUFBOGtCLFFBQUFELEdBQ0FQLEVBQUF0a0IsRUFBQStKLE9BQUEvSixFQUNBQSxFQUdBaVEsRUFBQXpLLE1BQUF1RSxJQUFBQSxHQUFBLDZDQUlBbkosS0FBQWdrQixRQUFBLFNBQUFsa0IsR0FDQSxHQUFBLGdCQUFBQSxJQUFBQSxFQUFBZixPQUFBLEVBQUEsQ0FDQSxHQUFBOGtCLEVBQUEvakIsR0FBQSxNQUFBK2pCLEdBQUEvakIsRUFFQSxJQUFBVixHQUFBMkIsRUFBQSxVQUFBc2QsTUFBQXZlLEVBS0EsT0FIQVYsR0FBQThrQixRQUFBVCxHQUNBSSxFQUFBL2pCLEdBQUFWLEVBQ0F3a0IsSUFDQXhrQixJQUlBWSxLQUFBNmpCLFNBQUEsU0FBQU0sR0FDQSxHQUFBN2QsTUFDQTZkLElBQUFBLENBRUEsS0FBQSxHQUFBSCxLQUFBSCxHQUNBQSxFQUFBaGtCLGVBQUFta0IsSUFDQSxrQkFBQUEsSUFDQUcsRUFDQTdkLEVBQUEwZCxFQUFBN2EsT0FBQTZhLEVBQUFBLEdBR0ExZCxFQUFBMGQsR0FBQUgsRUFBQUcsR0FPQSxPQUFBMWQsSUFHQXRHLEtBQUEwakIsT0FBQSxTQUFBUyxHQUNBLEdBQUE3ZCxNQUNBNmQsSUFBQUEsQ0FFQSxLQUFBLEdBQUF0ZSxLQUFBNmQsR0FDQUEsRUFBQTdqQixlQUFBZ0csS0FDQXNlLEVBQ0E3ZCxFQUFBVCxHQUFBNmQsRUFBQTdkLEdBR0FTLEVBQUFvZCxFQUFBN2QsR0FBQS9GLFFBQUE0akIsRUFBQTdkLEdBS0EsT0FBQVMsSUFHQXRHLEtBQUF5akIsWUFBQSxXQUNBLE1BQUFJLEdBQUFDLGtCQ3ZGQTNpQixHQUFBK0ssU0FBQSxVQUNBLFFBQUFrWSxPQUFBcmpCLEdBS0EsUUFBQXNqQixjQUFBQyxHQUNBLEdBQUFsbEIsR0FBQWtsQixFQUFBek4sTUFBQSw2QkFDQTBOLEVBQUFubEIsRUFBQSxHQUNBeUcsRUFBQXpHLEVBQUEsRUFFQSxJQUFBbWxCLEdBQUExZSxFQUFBLE9BQUEwZSxNQUFBQSxFQUFBMWUsS0FBQUEsR0FSQSxHQUFBMmUsS0FhQXhrQixNQUFBNEIsTUFBQSxTQUFBMGlCLEVBQUFyVixHQUVBLGtCQUFBQSxLQUVBcVYsRUFBQUQsYUFBQUMsR0FFQUEsSUFFQUUsRUFBQUYsRUFBQUMsU0FBQUMsRUFBQUYsRUFBQUMsT0FBQXhqQixFQUFBLFdBRUF5akIsRUFBQUYsRUFBQXplLE1BQUE0ZSxLQUFBSCxFQUFBemUsS0FBQW9KLE1BSUFqUCxLQUFBZ0IsT0FBQSxTQUFBc2pCLEVBQUFyakIsR0FFQXFqQixFQUFBRCxhQUFBQyxHQUVBQSxJQUVBRSxFQUFBRixFQUFBQyxTQUFBQyxFQUFBRixFQUFBQyxPQUFBeGpCLEVBQUEsV0FFQXlqQixFQUFBRixFQUFBQyxPQUFBdmpCLE9BQUFzakIsRUFBQXplLEtBQUE1RSxRQ3RDQUUsR0FBQStLLFNBQ0EsUUFBQSxVQUFBLFVBQ0EsUUFBQW1ILE1BQUFoRSxFQUFBaE8sRUFBQUUsR0FFQSxHQUFBMkcsR0FBQSxLQUFBd2MsRUFBQSxLQUFBQyxFQUFBLEtBQ0FDLEVBQUFyakIsRUFBQVAsT0FBQSxTQUFBLEdBQUFnRixRQUFBLElBQUFwRSxNQUFBLFNBQUFDLEdBQ0EraUIsRUFBQS9pQixHQUdBN0IsTUFBQWtJLEtBQUEsU0FBQWtKLEdBQ0EsR0FBQWxKLEVBMEJBLE1BQUFBLEVBekJBLEtBQUFrSixFQUFBTixNQUFBLGtCQUFBTSxHQUFBTixNQUFBLFVBQUFNLEVBQUFOLE9BRUEsV0FEQXpCLEdBQUFsTSxTQUFBLHFEQUlBK0UsR0FBQWtKLENBRUEsSUFBQXlULEdBQUEzYyxFQUFBbUksVUFBQSxTQUVBLE9BQUF3VSxHQUlBQSxFQUFBbFcsTUFBQSxrQkFBQWtXLEdBQUFsVyxNQUtBK1YsRUFBQUcsRUFFQUYsRUFBQXpjLEVBQUFtSSxVQUFBLFNBRUFuSSxPQVJBbUgsR0FBQWxNLFNBQUEsNkVBSkFrTSxHQUFBbE0sU0FBQSwyQ0FtQkE5QixFQUFBMkIsTUFBQSxFQUFBLFFBQUE4aEIsa0JBQUFuaUIsRUFBQUcsRUFBQUMsR0FDQW1GLEdBQUF3YyxJQUNBRSxHQUFBamlCLEVBQUFvaUIsVUFBQSxFQUFBLEVBQUFwaUIsRUFBQWlZLE9BQUFvSyxZQUFBcmlCLEVBQUFpWSxPQUFBcUssY0FDQVAsRUFBQS9WLEtBQUF0UCxNQUFBNkksRUFBQTVJLGlCQzNDQTZCLEdBQUFpTCxPQUFBakwsU0FBQSxVQUFBLGFBQ0EsYUFBQSxXQUNBLFFBQUFpTyxXQUFBOFYsRUFBQXpGLEdBaUJBLFFBQUEwRixTQUFBclUsR0FDQSxHQUFBQSxHQUFBc1UsRUFDQSxJQUFBLEdBQUF2bUIsR0FBQSxFQUFBQSxFQUFBMlIsRUFBQXpSLE9BQUFGLElBQ0F3bUIsRUFBQXhsQixlQUFBMlEsRUFBQTNSLEdBQUE0UixNQUFBOVEsYUFDQTBsQixFQUFBN1UsRUFBQTNSLEdBQUE0UixNQUFBOVEsWUFBQU4sTUFBQXNCLEdBQUEya0IsRUFBQTlVLEVBQUEzUixHQUFBTyxhQUlBLElBQUEwUixHQUFBeVUsRUFBQSxDQUNBM1YsR0FBQSxDQUVBLEtBQUEsR0FEQTRWLE1BQ0EzbUIsRUFBQSxFQUFBQSxFQUFBMlIsRUFBQXpSLE9BQUFGLElBQ0EybUIsRUFBQWhWLEVBQUEzUixHQUFBNFIsTUFBQTlRLFlBQUE2USxFQUFBM1IsR0FBQU8sTUFFQWtELEdBQUFzTixLQUFBLEVBQUE0VixHQUNBWixLQTlCQSxHQUFBVSxHQUFBLEVBQ0FuVixFQUFBLEtBQ0FDLEVBQUEsS0FDQVIsR0FBQSxFQUNBWSxFQUFBLEtBQ0F1UCxFQUFBLEtBQ0FwZixFQUFBLEtBQ0Ewa0IsRUFBQSxLQUNBcmlCLEdBQUEsRUFDQTJNLEdBQUEsRUFDQWlWLEVBQUEsS0FDQVEsRUFBQSxPQUNBRyxFQUFBLFdBQ0FqakIsRUFBQSxJQXFCQXRDLE1BQUFXLE9BQUEsV0FDQSxNQUFBQSxJQUdBWCxLQUFBZ0QsTUFBQSxXQUNBLE1BQUFBLElBR0FoRCxLQUFBMlAsT0FBQSxXQUNBLE1BQUFBLElBR0EzUCxLQUFBNFAsS0FBQSxXQUNBLE1BQUFBLElBR0E1UCxLQUFBNlAsWUFBQSxTQUFBbFEsR0FFQSxJQUFBLEdBREFQLEdBQUEsRUFDQVAsRUFBQSxFQUFBQSxFQUFBMlIsRUFBQXpSLE9BQUFGLElBQ0EsR0FBQTJSLEVBQUEzUixHQUFBNFIsTUFBQTlRLFlBQUFBLEVBQUEsQ0FDQVAsRUFBQVAsRUFBQSxDQUNBLE9BR0EsTUFBQU8sSUFHQVksS0FBQUosV0FBQSxXQUVBLElBQUEsR0FEQTRELE1BQ0EzRSxFQUFBLEVBQUFBLEVBQUEyUixFQUFBelIsT0FBQUYsSUFDQTJFLEVBQUFqRCxLQUFBaVEsRUFBQTNSLEdBQUE0UixNQUFBOVEsV0FFQSxPQUFBNkQsSUFHQXhELEtBQUFvQyxLQUFBLFNBQUF6QyxHQUNBLEdBQUFBLEVBQUEsQ0FDQSxHQUFBMFUsR0FBQXJVLEtBQUE2UCxZQUFBbFEsRUFDQTBVLEtBQ0FBLEdBQUEsRUFDQTdELEVBQUFxQyxPQUFBd0IsRUFBQSxRQUlBN0QsT0FJQXhRLEtBQUFxQyxNQUFBLFdBQ0EsSUFBQXNOLEVBQUEsQ0FFQUEsR0FBQSxDQUlBLEtBQUEsR0FGQThWLE1BRUE1bUIsRUFBQSxFQUFBQSxFQUFBMlIsRUFBQXpSLE9BQUFGLElBQUEsQ0FDQSxHQUFBNFIsR0FBQUQsRUFBQTNSLEdBQUE0UixNQUFBL1EsSUFBQThRLEVBQUEzUixHQUFBb0MsTUFFQTFCLFVBQUFrUixHQUFBQSxFQUFBcE8sV0FBQSxHQUFBb08sRUFBQW1QLFNBQUEsR0FDQTZGLEVBQUFsbEIsS0FBQWlRLEVBQUEzUixJQUlBMlIsRUFBQWlWLENBRUEsSUFBQUMsR0FBQVIsRUFBQVMsaUJBRUE1RixHQUFBTixFQUFBdmYsT0FBQSxFQUFBLEVBQUEsU0FBQTBsQixFQUFBM2tCLEdBQ0EsR0FBQSxJQUFBdVAsRUFBQXpSLE9BQ0FvbUIsUUFBQUksR0FDQXhGLEVBQUEzZCxXQUVBLENBQ0EsSUFBQSxHQUFBdkQsR0FBQSxFQUFBQSxFQUFBMlIsRUFBQXpSLE9BQUFGLElBQ0EyUixFQUFBM1IsR0FBQU8sT0FBQXNtQixFQUFBemtCLEVBQUEya0IsRUFBQXBWLEVBQUEzUixHQUFBNFIsTUFBQXBPLFFBQUFtTyxFQUFBM1IsR0FBQTRSLE1BQUFtUCxPQUNBcFAsRUFBQTNSLEdBQUE0UixNQUFBcFIsTUFBQXVtQixFQUFBcFYsRUFBQTNSLEdBQUFPLE9BR0ErbEIsU0FBQUMsR0FFQSxJQUFBUSxHQUNBVCxRQUFBSSxLQUlBblYsRUFBQUQsRUFBQSxLQUdBblEsS0FBQXNDLE9BQUEsU0FBQWtlLEVBQUFxRixFQUFBcGhCLEVBQUEvRixHQUNBd21CLEVBQUFZLGdCQUFBcmhCLEdBRUEwTCxFQUFBMUwsRUFBQTBMLFNBRUFDLEVBQUEzTCxFQUFBMkwsT0FFQWlWLEVBQUE1Z0IsRUFBQXNoQixLQUVBL2lCLEVBQUF5QixFQUFBekIsTUFFQTRoQixFQUFBbG1CLEVBRUE4UixFQUFBcVYsRUFFQWxsQixFQUFBNmYsRUFFQWxlLEVBQUFtQyxNQy9JQXRELEdBQUFpTCxPQUFBakwsU0FBQSxVQUFBLGFBQ0EsUUFDQSxRQUFBNmtCLE9BQUEzVyxHQVdBLFFBQUE0VyxlQUFBeFQsR0FDQXBRLEVBQUFvUSxFQUdBLFFBQUF5VCxhQUFBelQsR0FDQW1OLEVBQUFuTixFQWRBLEdBSUFwUSxHQUFBdWQsRUFKQWpnQixFQUFBLEtBQ0F1UixFQUFBLEtBRUFDLEVBQUEsS0FFQUMsRUFBQSxLQUNBdEssR0FBQSxFQUNBeEQsRUFBQSxDQVVBdEQsTUFBQXFDLE1BQUEsV0FDQSxNQUFBQSxJQUdBckMsS0FBQTRmLElBQUEsV0FDQSxNQUFBQSxJQUdBNWYsS0FBQUwsU0FBQSxXQUNBLE1BQUFBLElBR0FLLEtBQUFzRCxTQUFBLFdBQ0EsTUFBQUEsSUFHQXRELEtBQUFOLElBQUEsU0FBQXVCLEdBRUEsTUFEQWlRLEdBQUE3UixNQUFBK1IsR0FBQTZVLGNBQUFDLFlBQUFqbEIsSUFDQWpCLE1BR0FBLEtBQUE4RyxNQUFBLFdBQ0EsTUFBQUEsSUFHQTlHLEtBQUFYLE1BQUEsU0FBQWltQixFQUFBcmtCLEdBQ0FtUSxFQUFBOUksTUFBQTNJLEVBQUF3UixFQUFBOVIsTUFBQStSLEdBQUFuUSxFQUFBcWtCLE1BR0F0bEIsS0FBQXNDLE9BQUEsU0FBQXhDLEVBQUFxbUIsRUFBQUMsRUFBQTNqQixFQUFBNGpCLEdBQ0EsTUFBQSxnQkFBQXZtQixPQUNBdVAsR0FBQWxNLE9BQUFyRCxLQUFBQSxHQUFBLDBEQUdBLGdCQUFBcW1CLE9BQ0E5VyxHQUFBbE0sT0FBQXJELEtBQUFBLEdBQUEsa0RBR0Esa0JBQUEyQyxPQUNBNE0sR0FBQWxNLE9BQUFyRCxLQUFBQSxHQUFBLG1EQUdBLGdCQUFBc21CLE9BQ0EvVyxHQUFBbE0sT0FBQXJELEtBQUFBLEdBQUEsaURBR0Esa0JBQUF1bUIsT0FDQWhYLEdBQUFsTSxPQUFBckQsS0FBQUEsR0FBQSxvREFJQUgsRUFBQUcsRUFDQW9SLEVBQUF6TyxFQUNBME8sRUFBQWtWLEVBQ0EvaUIsRUFBQThpQixFQUNBaFYsRUFBQStVLE9BRUFyZixHQUFBLFFDOUVBM0YsR0FBQWlMLE9BQUFqTCxTQUFBLFVBQ0EsT0FDQSxRQUFBc1EsT0FDQSxHQUFBdk0sSUFDQXpCLE1BQUEsRUFBQSxHQUNBeVIsVUFBQSxFQUFBLElBRUFnTSxHQUNBb0YsUUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBcFIsVUFBQSxFQUFBLEdBQ0F6UixNQUFBLEVBQUEsR0FHQXpELE1BQUFOLElBQUEsV0FDQSxPQUNBK0QsTUFBQXlCLEVBQUF6QixLQUFBLEdBQUF5QixFQUFBekIsS0FBQSxJQUNBeVIsVUFBQWhRLEVBQUFnUSxTQUFBLEdBQUFoUSxFQUFBZ1EsU0FBQSxNQUlBbFYsS0FBQXlDLElBQUEsU0FBQTZXLEVBQUFpTixFQUFBbmlCLEVBQUFDLEVBQUFtaUIsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQXpoQixFQUFBekIsS0FBQSxHQUFBVyxFQUNBYyxFQUFBekIsS0FBQSxHQUFBWSxFQUNBYSxFQUFBZ1EsU0FBQSxHQUFBb0UsRUFDQXBVLEVBQUFnUSxTQUFBLEdBQUFxUixFQUNBckYsRUFBQW9GLE9BQUEsR0FBQUUsRUFDQXRGLEVBQUFvRixPQUFBLEdBQUFHLEVBQ0F2RixFQUFBb0YsT0FBQSxHQUFBSSxFQUNBeEYsRUFBQW9GLE9BQUEsR0FBQUssRUFDQXpGLEVBQUF6ZCxLQUFBLEdBQUFrakIsRUFBQXZpQixFQUFBcWlCLEVBQ0F2RixFQUFBemQsS0FBQSxHQUFBK2lCLEVBQUFuaUIsRUFBQXFpQixFQUNBeEYsRUFBQWhNLFNBQUEsR0FBQW9FLEVBQUFxTixFQUNBekYsRUFBQWhNLFNBQUEsR0FBQXFSLEVBQUFDLEdBR0F4bUIsS0FBQWlCLE1BQUEsV0FDQSxNQUFBaUUsSUFFQWxGLEtBQUFraEIsT0FBQSxXQUNBLE1BQUFBLE9DdkNBL2YsR0FBQWlMLE9BQUFqTCxTQUFBLFVBQUEsUUFDQSxVQUFBLFVBQUEsVUFDQSxRQUFBeWxCLGVBQUFobUIsRUFBQUcsRUFBQThsQixHQVNBLFFBQUFDLFlBQ0EsR0FBQUMsRUFBQSxDQUNBM2lCLEVBQUEsQ0FDQSxLQUFBLEdBQUF2RixHQUFBLEVBQUFBLEVBQUEyWCxFQUFBelgsT0FBQUYsSUFDQXVGLEdBQUFvUyxFQUFBM1gsR0FBQXVGLE9BR0EsT0FEQTJpQixJQUFBLEVBQ0EzaUIsRUFFQSxNQUFBQSxHQWpCQXhELEVBQUFaLEtBQUEsb0JBRUEsSUFBQW9FLEdBQUEsRUFDQW9TLEtBQ0F3USxFQUFBam1CLEVBQUEsbUJBQ0FoQyxFQUFBLEVBQ0Fnb0IsR0FBQSxDQWNBL21CLE1BQUFvRSxNQUFBLFdBQ0EsTUFBQXlpQixHQUFBSSxZQUFBSCxXQUdBOW1CLEtBQUFqQixPQUFBLFdBQ0EsTUFBQUEsSUFHQWlCLEtBQUF3VyxNQUFBLFNBQUFoVCxHQUNBLEdBQUFBLEdBQUEsZ0JBQUFBLElBQUFBLEVBQUFuRCxjQUFBQyxNQUFBLENBQ0EsSUFBQSxHQUFBekIsR0FBQSxFQUFBQSxFQUFBMkUsRUFBQXpFLE9BQUFGLElBQ0EyWCxFQUFBalcsS0FBQWlELEVBQUEzRSxHQUNBNEUsS0FBQXpELEtBQUF5RCxRQUNBWSxPQUFBckUsS0FBQXFFLFVBQ0FpRSxNQUFBdEksS0FBQXNJLFNBQ0FGLE9BQUFwSSxLQUFBb0ksVUFDQThPLE1BQUFsWCxLQUFBa1gsU0FDQWpQLEtBQUFqSSxLQUFBaUksUUFFQWxKLEdBQUF5WCxFQUFBelgsTUFFQSxLQUFBLEdBREFtb0IsTUFDQXJvQixFQUFBLEVBQUFBLEVBQUEyWCxFQUFBelgsT0FBQUYsSUFDQXFvQixFQUFBM21CLEtBQUFpVyxFQUFBM1gsR0FHQSxPQURBbUIsTUFBQW1uQixnQkFBQSxTQUFBRCxHQUNBbG5CLEtBR0EsTUFEQSttQixJQUFBLEVBQ0F2USxHQUdBeFcsS0FBQU8sS0FBQSxTQUFBOFcsR0FXQSxNQVZBYixHQUFBelgsT0FBQSxHQUFBeVgsRUFBQWpXLEtBQUF5bUIsR0FDQXhRLEVBQUFqVyxLQUNBOFcsRUFBQTVULEtBQUF6RCxLQUFBeUQsUUFDQVksT0FBQXJFLEtBQUFxRSxVQUNBaUUsTUFBQXRJLEtBQUFzSSxTQUNBRixPQUFBcEksS0FBQW9JLFVBQ0E4TyxNQUFBbFgsS0FBQWtYLFNBQ0FqUCxLQUFBakksS0FBQWlJLFNBRUE4ZSxHQUFBLEVBQ0EvbUIsTUFHQUEsS0FBQXdJLE9BQUEsV0FHQSxJQUFBLEdBRkFBLEdBQUEsR0FFQTNKLEVBQUEsRUFBQUEsRUFBQTJYLEVBQUF6WCxPQUFBRixJQUNBMkosR0FBQWdPLEVBQUEzWCxHQUFBMkosUUFFQSxPQUFBQSxJQUdBeEksS0FBQW9uQixpQkFBQSxTQUFBem5CLEVBQUE4UyxHQUNBLFdBQUE5UyxHQUNBcW5CLEVBQUFybkIsR0FBQThTLFFDL0VBdFIsR0FBQWlMLE9BQUFqTCxTQUFBLFVBQUEsUUFDQSxVQUFBLFVBQ0EsUUFBQWttQixnQkFBQXptQixFQUFBaW1CLEdBT0EsUUFBQUMsVUFBQW5rQixHQUVBLE1BREFBLEdBQUFzRixLQUFBekcsRUFBQThsQixvQkFDQTNrQixFQUFBc2tCLFlBQUF6ZSxHQUFBcEUsTUFSQXhELEVBQUFaLEtBQUEsb0JBRUEsSUFBQXdJLEdBQUEsSUFFQWhILEVBQUF4QixJQU9BQSxNQUFBd0ksT0FBQSxXQUNBLE1BQUFBLElBR0F4SSxLQUFBb0UsTUFBQSxTQUFBekIsR0FDQSxNQUFBa2tCLEdBQUFJLFlBQUFILGNDbkJBM2xCLEdBQUFpTCxPQUFBakwsU0FBQSxVQUFBLFFBQ0EsU0FDQSxRQUFBb21CLGtCQUFBQyxHQVVBLFFBQUFqa0IsU0FBQTVELEVBQUE4UyxHQUNBLElBQUEsR0FBQTVULEdBQUEsRUFBQUEsRUFBQTZHLEVBQUEzRyxPQUFBRixJQUNBNkcsRUFBQTdHLEdBQUFRLE1BQUFtQyxHQUFBN0IsRUFBQThTLElBWEEsR0FBQXlFLEdBQUEsZ0JBQ0FqUCxFQUFBLGFBQ0FnUCxFQUFBLElBQ0FGLEVBQUEsR0FDQUMsRUFBQSxHQUNBRyxFQUFBLFNBQ0F6UixLQUNBbEUsRUFBQXhCLElBUUFBLE1BQUF5RCxLQUFBLFNBQUFnUCxHQUNBLE1BQUEsZ0JBQUFBLElBQ0FBLEVBQUEsSUFBQUEsRUFBQSxHQUNBc0UsRUFBQXRFLEVBQ0FsUCxRQUFBLE9BQUF3VCxHQUNBL1csTUFHQStXLEdBSUEvVyxLQUFBcUUsT0FBQSxTQUFBb08sR0FDQSxNQUFBLGdCQUFBQSxJQUNBQSxFQUFBLElBQUFBLEVBQUEsR0FDQXVFLEVBQUF2RSxFQUNBbFAsUUFBQSxTQUFBeVQsR0FDQWhYLE1BR0FnWCxHQUlBaFgsS0FBQW9JLE9BQUEsU0FBQXFLLEdBQ0EsTUFBQSxnQkFBQUEsSUFDQUEsRUFBQSxNQUFBQSxFQUFBLEtBQ0FBLEVBQUEsTUFBQUEsRUFBQSxLQUNBQSxFQUFBLE1BQUEsSUFBQUEsR0FBQUEsRUFBQSxLQUNBd0UsRUFBQXhFLEVBQ0FsUCxRQUFBLFNBQUEwVCxHQUNBalgsTUFFQWlYLEdBR0FqWCxLQUFBaUksS0FBQSxTQUFBd0ssR0FDQSxNQUFBLGdCQUFBQSxJQUFBQSxFQUFBMVQsT0FBQSxHQUNBa0osRUFBQXdLLEVBQ0FsUCxRQUFBLE9BQUEwRSxHQUNBakksTUFFQWlJLEdBR0FqSSxLQUFBa1gsTUFBQSxTQUFBekUsR0FDQSxNQUFBLGdCQUFBQSxJQUNBK1UsRUFBQUMsYUFBQWhWLEtBQ0F5RSxFQUFBekUsRUFDQWxQLFFBQUEsUUFBQTJULElBRUFsWCxNQUVBa1gsR0FHQWxYLEtBQUFzSSxNQUFBLFNBQUFtSyxHQUNBLE1BQUEsV0FBQUEsR0FBQSxXQUFBQSxHQUFBLFlBQUFBLEdBQ0EwRSxFQUFBMUUsRUFDQWxQLFFBQUEsUUFBQTRULEdBQ0FuWCxNQUVBbVgsR0FHQW5YLEtBQUFzbkIsa0JBQUEsV0FDQSxNQUFBblEsR0FBQSxJQUFBSixFQUFBLE9BQUE5TyxFQUFBLElBQUFnUCxFQUFBLEtBR0FqWCxLQUFBb25CLGlCQUFBLFNBQUFuWSxHQUNBLGtCQUFBQSxJQUNBdkosRUFBQW5GLEtBQUEwTyxJQUlBalAsS0FBQW1uQixnQkFBQSxTQUFBcm5CLEVBQUEyUyxHQUNBbFAsUUFBQXpELEVBQUEyUyxPQzlGQXRSLEdBQUFpTCxPQUFBakwsU0FBQSxVQUFBLFFBQ0EsU0FBQSxVQUFBLFVBQ0EsUUFBQXVtQixlQUFBRixFQUFBNW1CLEVBQUFpbUIsR0FnQkEsUUFBQUMsVUFBQW5rQixHQUVBLE1BREFBLEdBQUFzRixLQUFBekcsRUFBQThsQixvQkFDQTNrQixFQUFBc2tCLFlBQUF6ZSxHQUFBcEUsTUFoQkF4RCxFQUFBWixLQUFBLG9CQUVBLElBQUF3SSxHQUFBLEdBQ0FoSCxFQUFBeEIsSUFFQUEsTUFBQXdJLE9BQUEsU0FBQWlLLEdBQ0EsTUFBQSxnQkFBQUEsSUFDQWpLLEVBQUFpSyxFQUNBelMsS0FBQW1uQixnQkFBQSxTQUFBMVUsR0FDQXpTLE1BRUF3SSxHQVFBeEksS0FBQW9FLE1BQUEsV0FDQSxNQUFBeWlCLEdBQUFJLFlBQUFIO0VBSUE5bUIsS0FBQTJPLEtBQUEsU0FBQWhNLEVBQUEyVyxFQUFBaU4sR0FTQSxNQVJBLGdCQUFBak4sS0FBQUEsRUFBQSxHQUNBLGdCQUFBaU4sS0FBQUEsRUFBQSxHQUNBNWpCLEVBQUFnbEIsT0FDQWhsQixFQUFBaWxCLFVBQUE1bkIsS0FBQWtYLFFBQ0F2VSxFQUFBc0YsS0FBQWpJLEtBQUFzbkIsb0JBQ0Eza0IsRUFBQWtsQixTQUFBcmYsRUFBQThRLEVBQUFpTixHQUNBNWpCLEVBQUFtbEIsVUFFQTluQixTQ3JDQW1CLEdBQUErSyxRQUFBL0ssU0FBQSxjQUNBLE9BQUEsUUFDQSxRQUFBaWIsUUFBQS9JLEVBQUFoRSxHQUVBLFFBQUEwWSxjQUFBOWtCLEVBQUFxUixHQUNBLEdBQUEsVUFBQXJSLEVBQUE2TixPQUFBLENBQ0EsR0FBQTFSLEdBQUEsS0FDQWtULEVBQUFyUCxFQUFBb04sVUFBQSxTQWtCQSxPQWhCQWlDLEdBQUFTLFFBQUEsV0FDQSxJQUFBL1MsS0FBQWdVLFdBQ0EsR0FBQSxVQUFBaFUsS0FBQThRLE9BQUEsQ0FDQSxHQUFBa1gsR0FBQUQsYUFBQS9uQixLQUFBc1UsRUFDQTBULEtBQUE1b0IsRUFBQTRvQixPQUVBLENBQ0EsR0FBQUMsR0FBQWpvQixLQUFBcVEsVUFBQSxTQUNBMlgsRUFBQUMsRUFBQTlaLE1BQUFuTyxLQUFBc1UsRUFFQTBULEtBQ0E1b0IsRUFBQTRvQixNQUtBNW9CLEdBSUFZLEtBQUFtTyxNQUFBLFNBQUFtRyxHQUNBLEdBQUFwTSxHQUFBbUwsRUFBQW5MLE1BQ0EsT0FBQUEsR0FDQSxnQkFBQW9NLElBQUFBLEVBQUFqVSxjQUFBQyxPQUFBLElBQUFnVSxFQUFBdlYsUUFBQSxnQkFBQXVWLEdBQUEsSUFBQSxnQkFBQUEsR0FBQSxJQUNBakYsRUFBQXpLLE1BQUFnYSxFQUFBdEssR0FBQSxxREFDQSxNQUVBeVQsYUFBQTdmLEVBQUFvTSxHQUxBLFNDL0JBblQsR0FBQStLLFFBQUEvSyxTQUFBLFlBQ0EsUUFBQXNlLFlBK0JBLFFBQUF5SSxNQUFBNUUsR0FDQSxJQUFBMVQsRUFBQSxDQUNBLEdBQUF1WSxFQUVBLFlBREFDLEdBQUEsR0FBQXZaLE9BQUFzUixVQUFBaFEsRUFBQW1WLEVBR0E4QyxLQUFBQSxHQUFBLEdBQUF2WixPQUFBc1IsV0FFQW1GLEdBQUFoQyxFQUFBOEUsR0FBQWpZLEVBRUFtVixFQUFBLElBQUFBLEVBQUEsR0FDQSxJQUFBQSxJQUNBK0MsR0FNQUMsRUFBQSxHQUVBQSxJQUFBL1IsRUFBQUEsR0FDQStSLElBR0FGLEdBQUEsR0FBQXZaLE9BQUFzUixXQVZBdlEsR0FBQSxHQWlCQVgsRUFBQTVQLE1BQUEsTUFBQWltQixFQUFBbFYsR0FBQWtULEVBQUE4RSxHQUFBLElBQUEvbEIsRUFBQXVkLEVBQUF2ZCxFQUFBOE4sRUFBQSxLQUFBaVksS0E1REEsR0FBQWhZLEdBQUEsS0FDQUQsRUFBQSxFQUNBa1ksR0FBQSxFQUNBQyxFQUFBLEVBQ0FGLEVBQUEsS0FDQW5aLEVBQUEsS0FDQTVNLEVBQUEsRUFDQXVkLEVBQUEsQ0FFQTVmLE1BQUE0UCxLQUFBLFdBQ0EsTUFBQUEsSUFHQTVQLEtBQUF1b0IsTUFBQSxXQUNBSixHQUFBLEdBR0Fub0IsS0FBQXdvQixPQUFBLFdBQ0EsTUFBQUwsSUFHQW5vQixLQUFBb0MsS0FBQSxXQUNBd04sR0FBQSxFQUdBLElBQUEwVixHQUFBLEVBQ0E2QyxHQUFBLEVBQ0F2WSxHQUFBLENBcUNBNVAsTUFBQXNDLE9BQUEsU0FBQStGLEVBQUFwRixFQUFBdkUsRUFBQStwQixFQUFBQyxFQUFBN0ksR0FFQSxLQUFBLGdCQUFBeFgsSUFBQSxnQkFBQXBGLElBQUEsZ0JBQUF3bEIsSUFBQUEsRUFBQSxJQUVBLGtCQUFBQyxJQUNBLGtCQUFBaHFCLEdBWUEsTUFWQSxnQkFBQW1oQixLQUFBd0ksRUFBQXhJLEdBRUF4ZCxFQUFBZ0csRUFDQXVYLEVBQUEzYyxFQUNBbU4sRUFBQXNZLEVBQ0F6WixFQUFBdlEsRUFDQXlSLEVBQUFzWSxFQUFBLEVBQUFBLEVBQUEsUUFFQXpvQixNQUFBc0MsT0FFQTRsQixTQ3BGQS9tQixHQUFBK0ssUUFBQS9LLFNBQUEsV0FBQSxRQUFBRSxVQUVBLEdBQUF1WixHQUFBL1csU0FBQW9GLGNBQUEsVUFDQXRHLEVBQUFpWSxFQUFBN1csV0FBQSxNQUVBb0UsRUFBQSxFQUFBdU8sRUFBQSxDQUVBMVcsTUFBQTJDLFFBQUEsV0FDQSxNQUFBQSxJQUdBM0MsS0FBQW9FLE1BQUEsU0FBQW5ELEdBQ0EsTUFBQSxnQkFBQUEsR0FLQWtILEdBSkFBLEVBQUFsSCxNQUNBMlosR0FBQTNXLGFBQUEsUUFBQWtFLEtBT0FuSSxLQUFBcUUsT0FBQSxTQUFBcEQsR0FDQSxNQUFBLGdCQUFBQSxHQUtBeVYsR0FKQUEsRUFBQXpWLE1BQ0EyWixHQUFBM1csYUFBQSxTQUFBeVMsS0FPQTFXLEtBQUFBLFVBQUEsV0FDQSxNQUFBNGEsT0NoQ0F6WixHQUFBK0ssUUFBQS9LLFNBQUEsV0FBQSxVQUFBLFFBQUEsUUFBQXduQixtQkFBQTVuQixFQUFBc08sR0FZQSxRQUFBdVosU0FBQXhrQixFQUFBQyxHQUNBLElBQUEsR0FBQXhGLEdBQUEsRUFBQUEsRUFBQWdxQixFQUFBOXBCLE9BQUFGLElBQ0FncUIsRUFBQWhxQixHQUFBNEUsS0FBQVcsRUFBQUMsRUFFQXNWLEdBQUF2VixNQUFBQSxHQUNBdVYsRUFBQXRWLE9BQUFBLEdBQ0E4RCxFQUFBL0QsRUFDQXNTLEVBQUFyUyxFQUdBLFFBQUF5a0IsU0FBQTlrQixHQUNBLElBQUEra0IsRUFBQSxDQUNBLEdBQUFDLEVBQUEsQ0FDQSxHQUFBOUgsR0FBQThILEVBQUFyWCxNQUFBdVAsUUFDQUEsR0FBQXpkLEtBQUEsS0FBQTBFLEdBQUErWSxFQUFBemQsS0FBQSxLQUFBaVQsR0FDQWtTLFFBQUExSCxFQUFBemQsS0FBQSxHQUFBeWQsRUFBQXpkLEtBQUEsSUFHQXNsQixHQUFBLEVBRUEsSUFBQW5xQixFQUFBLENBQ0ErRCxFQUFBb2lCLFVBQUEsRUFBQSxFQUFBNWMsRUFBQXVPLEVBQ0EsS0FBQSxHQUFBN1gsR0FBQSxFQUFBQSxFQUFBZ3FCLEVBQUE5cEIsT0FBQUYsSUFDQWdxQixFQUFBaHFCLEdBQUE4UCxLQUFBaE0sRUFFQS9ELElBQUEsRUFFQW9GLEVBQUFpbEIsVUFBQXRQLEVBQUFBLFlBQUEsRUFBQSxHQXJDQSxHQUFBQSxHQUFBNVksRUFBQSxXQUNBNEIsRUFBQWdYLEVBQUFoWCxVQUNBa21CLEtBQ0F2VyxLQUNBbkssRUFBQSxFQUNBdU8sRUFBQSxFQUNBc1MsRUFBQSxLQUNBRCxHQUFBLEVBQ0FucUIsR0FBQSxDQWdDQW9CLE1BQUF3UyxNQUFBLFNBQUEwVyxFQUFBcHBCLEVBQUFxcEIsR0FDQSxNQUFBLGdCQUFBRCxPQUNBN1osR0FBQXpLLE1BQUF4QixFQUFBOGxCLEdBQUEsaURBR0EsZ0JBQUFwcEIsT0FDQXVQLEdBQUF6SyxNQUFBMUMsRUFBQXBDLEdBQUEscUNBR0Esa0JBQUFxcEIsT0FDQTlaLEdBQUF6SyxLQUFBLGtDQUlBME4sRUFBQXhTLEdBQUFpQixFQUFBLDJCQUNBdVIsRUFBQXhTLEdBQUFwQixFQUFBeXFCLEdBQ0E3VyxFQUFBeFMsR0FBQXdELFNBQUE0bEIsR0FDQTVXLEVBQUF4UyxHQUFBNkksU0FDQWtnQixFQUFBdG9CLEtBQUErUixFQUFBeFMsSUFDQStvQixFQUFBMWtCLEtBQUEsU0FBQTVCLEVBQUFDLEdBQ0EsTUFBQUQsR0FBQWUsV0FBQWQsRUFBQWMsa0JBRUExRSxHQUFBLEtBR0FvQixLQUFBcEIsTUFBQSxXQUNBLE1BQUFBLElBR0FvQixLQUFBMlIsSUFBQSxTQUFBeVgsR0FDQUosRUFBQUksR0FHQXBwQixLQUFBeUQsS0FBQSxTQUFBVyxFQUFBQyxHQUNBRCxJQUFBK0QsR0FBQTlELElBQUFxUyxJQUNBa1MsUUFBQXhrQixFQUFBQyxHQUNBekYsR0FBQSxJQUlBb0IsS0FBQXNFLE9BQUEsV0FDQXlrQixHQUFBLEVBQ0FucUIsR0FBQSxHQUdBb0IsS0FBQTJJLE9BQUEsU0FBQTdJLEdBQ0FsQixHQUFBLEVBQ0EwVCxFQUFBeFMsR0FBQTZJLFVBR0EzSSxLQUFBMk8sS0FBQW1hLFdDNUZBM25CLEdBQUErSyxRQUFBL0ssU0FBQSxXQUFBLFVBQUEsUUFBQSxRQUFBa29CLHdCQUFBdG9CLEVBQUFzTyxHQVNBLFFBQUFpYSxjQUFBdGxCLEdBQ0FwRixJQUNBK0QsRUFBQW9pQixVQUFBLEVBQUEsRUFBQTNnQixFQUFBQyxHQUNBMUIsRUFBQWdsQixPQUNBMVksR0FBQUEsRUFBQXRNLEdBQ0EvRCxHQUFBLEVBQ0ErRCxFQUFBbWxCLFdBRUE5akIsRUFBQWlsQixVQUFBck8sRUFBQUEsWUFBQSxFQUFBLEdBaEJBLEdBQUFBLEdBQUE3WixFQUFBLFdBQ0E0QixFQUFBaVksRUFBQWpZLFVBQ0F5QixFQUFBLEVBQ0FDLEVBQUEsRUFDQTRLLEVBQUEsS0FDQXJRLEdBQUEsRUFDQTBFLEVBQUEsQ0FhQXRELE1BQUF0QixFQUFBLFNBQUFBLEdBQ0Esa0JBQUFBLElBQ0F1USxFQUFBdlEsUUFDQXNCLE1BQUF0QixHQUdBMlEsRUFBQXpLLE1BQUFsRyxFQUFBQSxHQUFBLDRCQUlBc0IsS0FBQXlELEtBQUEsU0FBQTBFLEVBQUF1TyxHQUNBdFMsSUFBQStELEdBQUF1TyxJQUFBQSxJQUNBa0UsRUFBQXhXLE1BQUErRCxHQUNBeVMsRUFBQXZXLE9BQUFxUyxHQUNBdFMsRUFBQStELEVBQ0E5RCxFQUFBcVMsRUFDQTlYLEdBQUEsSUFJQW9CLEtBQUFzRCxTQUFBLFNBQUFyQyxHQUlBLE1BSEFBLElBQUEsZ0JBQUFBLEtBQ0FxQyxFQUFBckMsR0FFQXFDLEdBR0F0RCxLQUFBMkksT0FBQSxXQUNBL0osR0FBQSxHQUdBb0IsS0FBQTJPLEtBQUEyYSxnQkNuREFub0IsR0FBQStLLFFBQUEvSyxTQUFBLFVBQ0EsUUFBQW9vQixVQUVBLEdBQUEzcEIsTUFBQWdsQixLQUFBeFQsRUFBQSxLQUNBb1ksSUFFQXhwQixNQUFBeWdCLGFBQUEsU0FBQXJkLEdBQ0FnTyxFQUFBaE8sUUFDQXBELE1BQUF5Z0IsY0FHQXpnQixLQUFBb1IsT0FBQSxXQUNBLE1BQUFBLElBR0FwUixLQUFBMGdCLFVBQUEsU0FBQTVQLEdBQ0EsR0FBQSxHQUFBMFksRUFBQXpxQixPQUFBLE9BQUEsQ0FJQSxLQUFBLEdBRkFLLElBQUEsRUFFQVAsRUFBQSxFQUFBQSxFQUFBMnFCLEVBQUF6cUIsT0FBQUYsSUFDQSxHQUFBMnFCLEVBQUEzcUIsS0FBQWlTLEVBQUEsQ0FDQTFSLEdBQUEsQ0FDQSxPQU9BLE1BSkFZLE1BQUFtVyxnQkFDQW5XLE1BQUFtVyxjQUNBblcsTUFBQTBnQixXQUVBdGhCLEdBR0FZLEtBQUFtVyxRQUFBLFNBQUFzVCxHQUNBLEdBQUEsZ0JBQUFBLEdBQ0FELEVBQUFqcEIsS0FBQWtwQixPQUVBLElBQUEsZ0JBQUFBLElBQUFBLEVBQUFwcEIsY0FBQUMsTUFDQSxJQUFBLEdBQUF6QixHQUFBLEVBQUFBLEVBQUE0cUIsRUFBQTFxQixPQUFBRixJQUNBLGdCQUFBNHFCLEdBQUE1cUIsSUFDQTJxQixFQUFBanBCLEtBQUFrcEIsRUFBQTVxQixVQUlBbUIsTUFBQW1XLFNBR0FuVyxLQUFBc1IsU0FBQSxTQUFBM1IsRUFBQXNQLEVBQUF5YSxHQUNBOXBCLEVBQUFELEtBQUFDLEVBQUFELEdBQUFzUCxHQUNBeWEsSUFBQTlFLEVBQUFqbEIsSUFBQSxJQUdBSyxLQUFBMmdCLEtBQUEsU0FBQXZQLEdBQ0EsSUFBQSxHQUFBelIsS0FBQUMsR0FDQUEsRUFBQUMsZUFBQUYsS0FDQXlSLEVBQUF6UixLQUNBeVIsRUFBQXpSLEdBQUFDLEVBQUFELFdBR0FLLE1BQUEyZ0IsV0FDQTNnQixNQUFBc1IsZUFDQXRSLE1BQUE0a0IsT0FHQTVrQixLQUFBNlAsWUFBQSxTQUFBaEssR0FDQSxHQUFBekcsSUFBQSxDQUVBLEtBQUEsR0FBQU8sS0FBQUMsR0FDQSxHQUFBQSxFQUFBQyxlQUFBRixJQUVBa0csR0FBQWxHLEVBQUEsQ0FDQVAsR0FBQSxDQUNBLE9BSUEsTUFBQUEsSUFHQVksS0FBQTRrQixNQUFBLFNBQUF4VCxHQUNBLElBQUEsR0FBQXZMLEtBQUErZSxHQUNBQSxFQUFBL2tCLGVBQUFnRyxVQUNBdUwsR0FBQXZMLE1DbEZBMUUsR0FBQStLLFFBQUEvSyxTQUFBLFdBQUEsUUFBQXdvQix1QkNBQXhvQixHQUFBK0ssUUFBQS9LLFNBQUEsV0FDQSxTQUNBLFFBQUF5b0IsbUJBQUF6VyxHQUNBblQsS0FBQWlVLG1CQUFBZCxFQUFBMFcsd0JDSEExb0IsR0FBQStLLFFBQUEvSyxTQUFBLFdBQ0EsT0FDQSxRQUFBMm9CLG1CQUFBelcsR0FDQUEsRUFBQW5MLEtBQUFsSSxNQUFBZ1ksT0FBQWhZLFNDSEFtQixHQUFBK0ssUUFBQS9LLFNBQUEsVUFDQSxRQUFBNG9CLHVCQ0RBNW9CLEdBQUErSyxRQUFBL0ssU0FBQSxXQUNBLFNBQ0EsUUFBQTZvQixrQkFBQTdXLEdBQ0FuVCxLQUFBaVUsbUJBQUFkLEVBQUE4VyxzQkNIQTlvQixHQUFBK0ssUUFBQS9LLFNBQUEsVUFDQSxRQUFBK29CLHNCQ0pBL29CLEdBQUErSyxRQUFBL0ssU0FBQSxXQUNBLFNBQ0EsUUFBQWdwQixzQkFBQWhYLEdBQ0FuVCxLQUFBaVUsbUJBQUFkLEVBQUE4VyxrQkFDQSxJQUFBclYsR0FBQTVVLEtBQUFxUSxVQUFBLFFBQ0F1RSxHQUFBTCx3QkFBQXBCLEVBQUFpWCxnQ0NGQWpwQixHQUFBK0ssUUFBQS9LLFNBQUEsV0FDQSxTQUNBLFFBQUFrcEIsbUJBQUFsWCxHQUNBblQsS0FBQWlVLG1CQUFBZCxFQUFBOFcsc0JDSEE5b0IsR0FBQStLLFFBQUEvSyxTQUFBLFdBQ0EsU0FDQSxRQUFBbXBCLGlCQUFBblgsR0FDQW5ULEtBQUFpVSxtQkFBQWQsRUFBQThXLHNCQ0hBOW9CLEdBQUErSyxRQUFBL0ssU0FBQSxZQUNBLFVBQUEsUUFDQSxRQUFBdUIsT0FBQTlCLEVBQUF5TyxHQWdCQSxRQUFBa2IsZUFDQSxHQUFBQyxHQUFBLEdBQUFqSSxlQUNBaUksR0FBQTVILEtBQUEsTUFBQXpaLEdBQUEsR0FDQXFoQixFQUFBQyxhQUFBLGNBQ0FELEVBQUFFLE9BQUEsU0FBQXpuQixHQUNBMG5CLEVBQUEsR0FDQWpJLEVBQUExaUIsS0FBQTBpQixTQUNBa0ksRUFBQSxRQUFBbEksS0FFQThILEVBQUFLLFFBQUEsV0FDQUYsTUFDQUMsRUFBQSxZQUNBdmIsRUFBQWxNLE9BQUFnRyxJQUFBQSxHQUFBLGtDQUVBcWhCLEVBQUExSCxPQTdCQWxpQixFQUFBWixLQUFBLGFBR0FBLEtBQUE4USxLQUFBLE9BR0EsSUFBQThaLEdBQUEsS0FBQUQsRUFBQSxLQUFBeGhCLEVBQUEsS0FBQXVaLEVBQUEsSUFFQTFpQixNQUFBZ1AsR0FBQSxPQUFBLFNBQUE4YixFQUFBQyxFQUFBQyxHQUNBSixFQUFBRyxFQUNBSixFQUFBSyxFQUNBN2hCLEVBQUEyaEIsRUFDQVAsZ0JBcUJBdnFCLEtBQUFBLFVBQUEsV0FDQSxNQUFBMGlCLE9DckNBdmhCLEdBQUErSyxRQUFBL0ssU0FBQSxZQUNBLFVBQUEsUUFBQSxVQUFBLFNBQ0EsUUFBQThwQixNQUFBcnFCLEVBQUF5TyxFQUFBL00sRUFBQXlGLEdBdUNBLFFBQUFtakIsV0FDQW5qQixFQUFBRSxLQUFBQyxFQUFBRCxFQUFBRyxFQUFBRSxHQUNBekUsU0FBQTRGLHFCQUFBLFFBQUEsR0FBQUMsWUFBQXloQixHQUNBQyxHQUFBLENBQ0EsSUFBQUMsR0FBQSxJQUNBL0MsRUFBQSxFQUNBZ0QsR0FBQUgsRUFBQW5HLFlBQUFtRyxFQUFBbEcsYUFFQWtHLEdBQUE3aUIsTUFBQWlqQixXQUFBLElBQUF4akIsRUFBQVUsT0FBQVIsR0FBQSxJQUFBRyxFQUFBLGdCQUNBb2pCLEVBQUF0YyxZQUFBLFdBQ0FpYyxFQUFBbkcsY0FBQXNHLEVBQUEsSUFBQUgsRUFBQWxHLGVBQUFxRyxFQUFBLEtBQ0F6bkIsU0FBQTRGLHFCQUFBLFFBQUEsR0FBQWdpQixZQUFBTixHQUNBQyxHQUFBLEVBQ0F0YyxjQUFBMGMsR0FDQWpILEVBQUEsR0FDQWhoQixFQUFBLFlBRUEra0IsSUFDQUEsRUFBQStDLElBQ0E5RyxNQUNBaGhCLEVBQUEsWUFDQThMLEVBQUF6SyxNQUFBcUQsS0FBQUEsRUFBQSxJQUFBRyxHQUFBLDJEQUNBdkUsU0FBQTRGLHFCQUFBLFFBQUEsR0FBQWdpQixZQUFBTixHQUNBQyxHQUFBLEVBQ0F0YyxjQUFBMGMsS0FFQSxJQS9EQTVxQixFQUFBWixLQUFBLGFBRUFBLEtBQUE4USxLQUFBLE1BQ0EsSUFBQXlULEdBQUEsS0FBQWhoQixFQUFBLEtBQUEwRSxFQUFBLEtBQ0FDLEVBQUE1RixFQUFBVixNQUFBLFVBQUEsU0FBQXlNLEdBQ0FuRyxFQUFBbUcsRUFDQStjLEdBQUF2bkIsU0FBQTRGLHFCQUFBLFFBQUEsR0FBQWdpQixZQUFBTixHQUNBSyxHQUFBdHFCLE9BQUE0TixjQUFBMGMsR0FDQU4sWUFHQTlpQixHQURBTCxFQUFBNEIsVUFDQSxNQUNBckIsRUFBQSxLQUVBOGlCLEdBQUEsRUFDQUQsRUFBQXRuQixTQUFBb0YsY0FBQSxNQUVBa2lCLEdBQUFsbkIsYUFBQSxRQUFBLCtCQUNBa25CLEVBQUE3aUIsTUFBQWlqQixXQUFBLGFBQ0FKLEVBQUE3aUIsTUFBQXlPLFNBQUEsT0FDQW9VLEVBQUE3aUIsTUFBQTBPLFdBQUEsT0FDQW1VLEVBQUE3aUIsTUFBQTRNLFNBQUEsV0FDQWlXLEVBQUE3aUIsTUFBQXFlLEtBQUEsVUFDQXdFLEVBQUE3aUIsTUFBQWtlLElBQUEsVUFDQTJFLEVBQUFPLFVBQUEsOERBRUExckIsS0FBQWdQLEdBQUEsT0FBQSxTQUFBN0YsRUFBQXdpQixFQUFBdGpCLEdBQ0E5RSxFQUFBb29CLEVBQ0FwSCxFQUFBbGMsRUFDQUosRUFBQWtCLEVBQUEsR0FDQWYsRUFBQWUsRUFBQSxHQUNBYixFQUFBYSxFQUFBLEdBQ0FnaUIsRUFBQTdpQixNQUFBNk8sVUFBQTdPLEVBQ0E0aUIsV0FFQSxJQUFBTSxHQUFBLElBK0JBeHJCLE1BQUFBLFVBQUEsV0FDQSxNQUFBK0gsR0FBQVUsT0FBQVIsT0N2RUE5RyxHQUFBK0ssUUFBQS9LLFNBQUEsWUFDQSxVQUFBLFFBQ0EsUUFBQXlxQixPQUFBaHJCLEVBQUF5TyxHQWVBLFFBQUF3YyxlQUNBNUssRUFBQXBkLFNBQUFvRixjQUFBLE9BQ0FnWSxFQUFBL0YsaUJBQUEsT0FBQSxXQUNBeVAsRUFBQSxHQUVBdm1CLEVBQUE2YyxFQUFBN2MsTUFDQUMsRUFBQTRjLEVBQUE1YyxPQUVBdW1CLEVBQUEsYUFFQTNKLEVBQUEvRixpQkFBQSxRQUFBLFdBQ0F5UCxNQUNBQyxFQUFBLFlBQ0F2YixFQUFBbE0sT0FBQWdHLElBQUFBLEdBQUEsbUNBR0E4WCxFQUFBaGQsYUFBQSxNQUFBa0YsR0E3QkF2SSxFQUFBWixLQUFBLFlBRUEsSUFBQW1KLEdBQUEsS0FBQXloQixFQUFBLEtBQUFELEVBQUEsS0FBQTFKLEVBQUEsS0FBQTdjLEVBQUEsRUFBQUMsRUFBQSxDQUVBckUsTUFBQThRLEtBQUEsUUFFQTlRLEtBQUFnUCxHQUFBLE9BQUEsU0FBQThiLEVBQUFDLEVBQUFDLEdBQ0FKLEVBQUFHLEVBQ0FKLEVBQUFLLEVBQ0E3aEIsRUFBQTJoQixFQUNBZSxnQkFzQkE3ckIsS0FBQW9FLE1BQUEsV0FDQSxNQUFBQSxJQUdBcEUsS0FBQXFFLE9BQUEsV0FDQSxNQUFBQSxJQUdBckUsS0FBQUEsVUFBQSxXQUNBLE1BQUFpaEIsT0M3Q0E5ZixHQUFBK0ssUUFBQS9LLFNBQUEsWUFDQSxVQUFBLFFBQ0EsUUFBQWtnQixVQUFBemdCLEVBQUF5TyxHQStDQSxRQUFBeWMsV0FBQXJaLEdBQ0EsTUFBQSxnQkFBQUEsT0FDQXBELEdBQUFsTSxPQUFBc1AsSUFBQUEsR0FBQSx5Q0FHQUEsRUFBQSxHQUFBQSxTQUNBcEQsR0FBQWxNLE9BQUFzUCxJQUFBQSxHQUFBLHlDQUdBc1osRUFBQXRaLEdBR0EsUUFBQStJLGNBQUFsTixFQUFBNEwsR0FDQSxHQUFBOFIsRUFBQTFkLEdBQUEsQ0FDQTRMLEVBQUEsZ0JBQUFBLElBQUFBLEVBQUE3WixhQUFBQyxNQUFBNFosSUFFQSxLQUFBLEdBQUFyYixHQUFBLEVBQUFBLEVBQUFtdEIsRUFBQTFkLEdBQUF2UCxPQUFBRixJQUNBbXRCLEVBQUExZCxHQUFBelAsR0FBQVEsTUFBQW1DLEVBQUEwWSxPQUlBN0ssR0FBQXpLLE1BQUEzQixFQUFBcUwsR0FBQSwyQ0FsRUEsR0FBQW5GLEdBQUEsS0FDQTNILEVBQUF4QixLQUNBaXNCLEdBQUEsRUFDQUYsSUFFQS9yQixNQUFBdWpCLE9BQUEsV0FDQSxNQUFBLElBQUF3SSxHQUdBL3JCLEtBQUFtRCxNQUFBLFdBQ0EsTUFBQTRvQixRQUdBL3JCLEtBQUFrc0IsUUFBQSxXQUNBLE1BQUEsSUFBQUgsR0FHQS9yQixLQUFBbUosSUFBQSxTQUFBMmhCLEdBQ0EsTUFBQXZyQixTQUFBdXJCLEVBQ0EzaEIsR0FHQTVKLFFBQUE0SixJQUNBQSxFQUFBMmhCLEVBQ0FpQixFQUFBLEVBQ0FFLEVBQ0F6USxhQUFBLFFBQUFyUyxLQUdBcVMsYUFBQSxRQUFBclMsRUFBQXFTLGFBQUFzUSxZQUNBRyxHQUFBLElBS0E5aUIsR0FHQSxJQUFBNmlCLElBQ0FHLFFBQ0FwSixRQUNBNWYsU0FDQStvQixXQTRCQWxzQixNQUFBZ1AsR0FBQSxTQUFBVixFQUFBVyxHQUNBLEdBQUF6TCxHQUFBd29CLEVBQUExZCxHQUNBVyxFQUFBLGtCQUFBQSxJQUFBQSxDQVNBLE9BUEEsUUFBQVgsR0FBQSxHQUFBeWQsR0FDQTljLEVBQUFwTyxLQUFBYixNQUVBLFNBQUFzTyxHQUFBeWQsT0FDQTljLEVBQUFwTyxLQUFBYixNQUdBd0QsR0FBQXlMLE1BS0ErYyxHQUFBMWQsR0FBQS9OLEtBQUEwTyxPQUpBSSxHQUFBekssTUFBQTNCLEVBQUFxTCxHQUFBLDhDQ3RGQW5OLEdBQUErSyxRQUFBL0ssU0FBQSxZQUNBLFVBQUEsUUFDQSxRQUFBaXJCLFFBQUF4ckIsRUFBQXlPLEdBb0NBLFFBQUFnZCxxQkFHQSxJQUFBLEdBREFDLEdBQUEsRUFDQVgsRUFBQSxFQUFBQSxFQUFBbG9CLEVBQUFrb0IsSUFBQSxDQUNBelosRUFBQTNSLFFBQ0EsS0FBQSxHQUFBcWUsR0FBQSxFQUFBQSxFQUFBbmIsRUFBQW1iLElBQ0EwTixJQUNBQSxFQUFBQyxHQUNBcmEsRUFBQXlaLEdBQUFwckIsS0FBQXNELFNBQUFvRixjQUFBLFlBTUEsUUFBQXVqQixpQkFDQUMsRUFBQXRULEtBQUF1VCxNQUFBcm9CLEVBQUFaLEdBQ0FrcEIsRUFBQXhULEtBQUF1VCxNQUFBdG9CLEVBQUFYLEVBRUEsS0FBQSxHQUFBa29CLEdBQUEsRUFBQUEsRUFBQWxvQixFQUFBa29CLElBQ0EsSUFBQSxHQUFBL00sR0FBQSxFQUFBQSxFQUFBbmIsRUFBQW1iLElBQ0EsR0FBQTFNLEVBQUF5WixHQUFBL00sR0FBQSxDQUNBMU0sRUFBQXlaLEdBQUEvTSxHQUFBM2EsYUFBQSxRQUFBMG9CLEdBQ0F6YSxFQUFBeVosR0FBQS9NLEdBQUEzYSxhQUFBLFNBQUF3b0IsRUFDQSxJQUFBRyxHQUFBMWEsRUFBQXlaLEdBQUEvTSxHQUFBN2EsV0FBQSxLQUNBNm9CLEdBQUFDLFdBQUFGLEVBQUEvTixHQUFBNk4sRUFBQWQsR0FDQWlCLEVBQUEzRCxVQUFBaEksRUFBQSxFQUFBLElBM0RBcmdCLEVBQUFaLEtBQUEsWUFFQSxJQUFBbUosR0FBQSxLQUFBOFgsRUFBQSxLQUFBeGQsRUFBQSxFQUFBOG9CLEVBQUEsRUFBQXBjLEVBQUEsRUFBQS9MLEVBQUEsRUFBQUMsRUFBQSxFQUNBb29CLEVBQUEsRUFBQUUsRUFBQSxFQUFBN3FCLEVBQUEsR0FDQWdyQixFQUFBLEtBQUFsQyxFQUFBLEtBQUFoc0IsR0FBQSxFQUNBc1QsSUFFQWxTLE1BQUE4USxLQUFBLFNBRUE5USxLQUFBZ1AsR0FBQSxPQUFBLFNBQUErZCxFQUFBQyxFQUFBQyxHQUNBSCxFQUFBRyxFQUNBckMsRUFBQW9DLEVBQ0E3akIsRUFBQTRqQixFQUVBOUwsRUFBQXBkLFNBQUFvRixjQUFBLE9BQ0FnWSxFQUFBL0YsaUJBQUEsT0FBQSxXQUNBNFIsRUFBQSxHQUVBMW9CLEVBQUE2YyxFQUFBN2MsTUFDQUMsRUFBQTRjLEVBQUE1YyxPQUVBekYsSUFDQXl0QixvQkFDQUcsaUJBRUE1QixFQUFBLGFBRUEzSixFQUFBL0YsaUJBQUEsUUFBQSxXQUNBNFIsTUFDQWxDLEVBQUEsY0FFQTNKLEVBQUFoZCxhQUFBLE1BQUFrRixLQW1DQW5KLEtBQUFwQixNQUFBLFdBQ0EsTUFBQUEsSUFHQW9CLEtBQUFvRSxNQUFBLFdBQ0EsTUFBQXVvQixJQUVBM3NCLEtBQUFxRSxPQUFBLFdBQ0EsTUFBQW9vQixJQUdBenNCLEtBQUFrdEIsWUFBQSxXQUNBLE1BQUE5b0IsSUFHQXBFLEtBQUFtdEIsYUFBQSxXQUNBLE1BQUE5b0IsSUFHQXJFLEtBQUE4QixJQUFBLFNBQUFxTixHQUNBLE1BQUEsZ0JBQUFBLElBQUFBLEdBQUEsR0FDQUUsRUFBQXpLLE1BQUExQyxFQUFBaU4sR0FBQSxzQ0FDQSxJQUVBck4sRUFBQXFOLE9BRUFnQixFQUFBZ0osS0FBQXVULE1BQUFILEVBQUF6cUIsRUFBQSxPQUlBLElBQUF5bUIsSUFBQSxDQUVBdm9CLE1BQUF1b0IsTUFBQSxXQUNBQSxHQUFBLEdBR0F2b0IsS0FBQW90QixLQUFBLFdBQ0E3RSxHQUFBLEdBR0F2b0IsS0FBQXNDLE9BQUEsU0FBQTVELEdBQ0EsSUFBQUUsRUFBQSxDQUVBLEdBQUEsZ0JBQUFGLElBQUFBLEdBQUEsRUFFQSxXQURBMlEsR0FBQXpLLE1BQUF5b0IsS0FBQTN1QixHQUFBLHdDQUlBK0UsR0FBQTBWLEtBQUFtVSxLQUFBblUsS0FBQW9VLEtBQUE3dUIsSUFFQTZ0QixFQUFBN3RCLEVBRUF5UixFQUFBZ0osS0FBQXVULE1BQUFILEVBQUF6cUIsRUFBQSxLQUVBbEQsR0FBQSxFQUVBeXRCLHNCQUdBcnNCLEtBQUF1c0IsT0FBQSxXQUNBLE1BQUFBLEdBR0EsSUFBQWlCLEdBQUEsRUFBQUMsRUFBQSxFQUVBQyxHQUFBLEdBQUE3ZSxPQUFBc1IsU0FFQW5nQixNQUFBNE8sS0FBQSxTQUFBMFUsR0FFQSxHQURBQSxFQUFBQSxFQUFBbkQsV0FDQW9JLEVBQUEsQ0FFQSxHQUFBakQsSUFBQWhDLEVBQUFvSyxHQUFBdmQsQ0FFQW1WLEdBQUEsSUFDQUEsRUFBQSxFQUNBb0ksR0FBQSxHQUFBN2UsT0FBQXNSLFdBR0FtRixFQUFBLElBQ0FBLEVBQUEsRUFHQSxJQUFBdmlCLEdBQUFvVyxLQUFBQyxPQUFBbVQsRUFBQSxHQUFBakgsRUFFQW1JLEdBQUF0VSxLQUFBQyxNQUFBclcsRUFBQVUsR0FDQStwQixFQUFBenFCLEVBQUEwcUIsRUFBQWhxQixJQUdBekQsS0FBQUEsVUFBQSxXQUNBLEdBQUFrUyxFQUFBdWIsR0FBQUQsR0FDQSxNQUFBdGIsR0FBQXViLEdBQUFELE9DaEtBcnNCLEdBQUErSyxRQUFBL0ssU0FBQSxTQUNBLFVBQUEsUUFDQSxRQUFBd3NCLG1CQUFBNXNCLEVBQUFzTyxHQWtCQSxRQUFBQyxnQkFBQTFQLEVBQUEyUCxHQUNBQSxFQUFBQyxRQUFBLENBSUEsS0FBQSxHQUZBQyxHQUFBLEtBRUE1USxFQUFBLEVBQUFBLEVBQUE2USxFQUFBM1EsT0FBQUYsSUFDQSxJQUFBNlEsRUFBQTdRLEdBQUEyUSxRQUNBRSxFQUFBN1EsR0FBQThRLFdBQUFELEVBQUE3USxHQUFBK1EsT0FBQSxDQUVBLElBQUEsR0FEQXpCLElBQUEsRUFDQWpNLEVBQUEsRUFBQUEsRUFBQXRDLEVBQUFiLE9BQUFtRCxJQUNBLEdBQUF3TixFQUFBN1EsR0FBQWdSLFlBQUFqUSxFQUFBc0MsSUFBQSxDQUNBaU0sR0FBQSxDQUNBLE9BR0FBLElBQ0FzQixJQUFBQSxNQUNBQSxFQUFBbFAsS0FBQW1QLEVBQUE3USxLQVFBLGFBRkEwUSxHQUFBQyxPQUVBQyxFQUdBLFFBQUFLLHVCQUdBLElBQUEsR0FGQUMsTUFFQWxSLEVBQUEsRUFBQUEsRUFBQTZRLEVBQUEzUSxPQUFBRixJQUNBLEdBQUE2USxFQUFBN1EsR0FBQThRLFNBcUJBRCxFQUFBN1EsR0FBQStRLFFBQ0FHLEVBQUF4UCxLQUFBbVAsRUFBQTdRLFFBdEJBLENBQ0EsR0FBQW1SLEdBQUFOLEVBQUE3USxHQUFBZSxZQUNBLElBQUE4UCxFQUFBN1EsR0FBQW1FLFFBQ0FzTSxlQUFBVSxFQUFBTixFQUFBN1EsS0FDQTZRLEVBQUE3USxHQUFBd0QsWUFHQSxDQUNBLEdBQUE0TixHQUFBWCxlQUFBVSxFQUFBTixFQUFBN1EsR0FDQSxJQUFBb1IsRUFDQSxJQUFBLEdBQUEvTixHQUFBLEVBQUFBLEVBQUErTixFQUFBbFIsT0FBQW1ELElBQ0EsSUFBQSxHQUFBMkwsR0FBQSxFQUFBQSxFQUFBbUMsRUFBQWpSLE9BQUE4TyxJQUNBb0MsRUFBQS9OLEdBQUFFLEtBQUE0TixFQUFBbkMsR0FJQTZCLEdBQUE3USxHQUFBd0QsUUFFQTBOLEVBQUF4UCxLQUFBbVAsRUFBQTdRLElBU0E2USxFQUFBSyxFQUlBLFFBQUFHLHNCQUFBdlEsRUFBQXNCLEVBQUFrUCxFQUFBQyxHQUNBLEdBQUFFLEtBSUEsSUFGQUEsRUFBQTNRLEdBQUFzQixFQUVBc1AsRUFBQTVRLEdBQUEsQ0FDQSxHQUFBNlEsS0FFQWxOLFNBQUFpTixFQUFBNVEsR0FBQTJELFdBQ0FtTixNQUFBRixFQUFBNVEsR0FDQXNCLE1BQUFBLElBR0FxQixJQUVBNk4sSUFBQSxnQkFBQUEsS0FBQTdOLEVBQUE2TixTQUFBQSxHQUNBQyxHQUFBLGdCQUFBQSxLQUFBOU4sRUFBQThOLE9BQUFBLEVBR0EsSUFBQWIsR0FBQXhPLEVBQUEsYUFFQXdPLEdBQUFqTixPQUFBdEMsS0FBQXdRLEVBQUFsTyxFQUFBd04scUJBQ0FKLEVBQUFuUCxLQUFBZ1AsSUFLQSxRQUFBbUIsc0JBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsR0FBQXZPLEtBRUEsaUJBQUFzTyxHQUNBdE8sRUFBQXNPLEVBRUEsZ0JBQUFBLElBQ0F0TyxHQUNBNk4sU0FBQVMsR0FFQSxnQkFBQUMsS0FDQXZPLEVBQUE4TixPQUFBUyxJQUdBLGdCQUFBRCxLQUNBdE8sR0FDQThOLE9BQUFRLEdBSUEsSUFBQXhSLEtBRUEsS0FBQSxHQUFBTyxLQUFBZ1IsR0FDQUEsRUFBQTlRLGVBQUFGLEtBQ0E0USxFQUFBNVEsR0FPQVAsRUFBQU8sSUFDQTJELFNBQUFpTixFQUFBNVEsR0FBQTJELFdBQ0FtTixNQUFBRixFQUFBNVEsR0FDQXNCLE1BQUEwUCxFQUFBaFIsSUFUQTBQLEVBQUF6SyxNQUNBa00sS0FBQTlRLEtBQUE4USxPQUNBblIsU0FBQUEsR0FDQSxzREFXQSxJQUFBb1IsS0FFQSxLQUFBLEdBQUFDLEtBQUE1UixHQUNBMlIsRUFBQXhRLEtBQUFuQixFQUFBNFIsR0FHQSxJQUFBRCxFQUFBaFMsT0FBQSxDQUNBZ1MsRUFBQTVNLEtBQUEsU0FBQTVCLEVBQUFDLEdBQ0EsTUFBQUQsR0FBQWUsU0FBQWQsRUFBQWMsVUFHQSxJQUFBaU0sR0FBQXhPLEVBQUEsYUFDQXdPLEdBQUFqTixPQUFBdEMsS0FBQStRLEVBQUF6TyxFQUFBd04scUJBQ0FKLEVBQUFuUCxLQUFBZ1AsT0FHQUYsR0FBQXpLLEtBQUEsNkJBaktBLEdBQUE4SyxNQUNBdUIsR0FBQSxFQUNBVixJQUVBdlEsTUFBQXlRLE1BQUEsU0FBQTNRLEVBQUF3RCxFQUFBNE4sRUFBQUMsR0FDQSxHQUFBVixHQUFBMVAsRUFBQSxTQUNBMFAsR0FBQW5PLE9BQUF4QyxFQUFBRSxLQUFBc0QsRUFBQTROLEVBQUFDLEdBQ0FWLEVBQUEzSixVQUNBeUosRUFBQXpRLEdBQUEyUSxJQUlBelEsS0FBQXFSLGFBQUEsU0FBQXZSLEdBQ0EsTUFBQXlRLEdBQUF6USxJQXdKQUUsS0FBQTR0QixRQUFBLFNBQUFyYyxFQUFBWCxFQUFBQyxFQUFBVyxHQUNBLGdCQUFBRCxJQUFBWCxFQUNBVixxQkFBQTdRLE1BQUFXLEtBQUFWLFdBRUEsZ0JBQUFpUyxJQUFBQSxFQUFBbFIsY0FBQUMsTUFDQW9RLHFCQUFBclIsTUFBQVcsS0FBQVYsV0FHQStQLEVBQUF6SyxLQUFBLCtDQUVBa0wsdUJBR0E5UCxLQUFBaVIsU0FBQSxXQUNBLE1BQUFBLElBR0FqUixLQUFBb0MsS0FBQSxTQUFBekMsR0FDQSxHQUFBLGdCQUFBQSxJQUFBLElBQUFBLEVBQUFaLE9BQ0EsSUFBQSxHQUFBRixHQUFBLEVBQUFBLEVBQUE2USxFQUFBM1EsT0FBQUYsSUFDQTZRLEVBQUE3USxHQUFBdUQsS0FBQXpDLE9DN0xBd0IsR0FBQStLLFFBQUEvSyxTQUFBLFNBQ0EsVUFBQSxRQUNBLFFBQUF1QixPQUFBM0IsRUFBQXNPLEdBYUEsUUFBQXdlLGFBQ0EsT0FBQXJzQixFQUFBbVksRUFBQXhRLEVBQUEySCxHQVdBLFFBQUFnZCxzQkFBQUMsRUFBQXB1QixHQUNBK1AsRUFBQWUsTUFBQXBSLE1BQUFXLE1BQUFMLEVBQUFHLEtBQUEsRUFDQSxTQUFBdUMsRUFBQXVkLEVBQUEzZSxHQUNBQSxFQUFBdEIsRUFBQXF1QixXQUFBL3NCLEdBQ0ExQixTQUFBMEIsSUFDQTJlLEVBQUEzZSxHQUNBb0IsRUFBQTByQixFQUFBcnVCLElBQUFDLEVBQUFHLFNBR0EsU0FBQW1CLEdBRUEsTUFEQUEsR0FBQXRCLEVBQUFxdUIsV0FBQS9zQixHQUNBOHNCLEVBQUF0ckIsSUFBQTlDLEVBQUFHLEtBQUFtQixNQWxDQSxHQUFBa0UsR0FBQSxLQUNBZ0UsRUFBQSxLQUNBMkgsRUFBQSxLQUNBbWQsRUFBQWx0QixFQUFBLGtCQUNBMk8sRUFBQTNPLEVBQUEsc0JBQ0FTLEVBQUF4QixLQUNBMlosRUFBQSxLQUNBdVUsRUFBQSxFQUVBRCxHQUFBdE4sS0FBQTNnQixNQU1BaXVCLEVBQUEzZixNQUFBLFFBQUF1ZixXQUFBLEdBQ0FJLEVBQUEzZixNQUFBLE9BQUF1ZixXQUFBLEdBQ0FJLEVBQUEzZixNQUFBLFFBQUF1ZixXQUFBLEdBQ0FJLEVBQUEzZixNQUFBLE9BQUF1ZixXQUFBLEdBQ0FJLEVBQUEzZixNQUFBLFVBQUF1ZixXQUFBLEdBQ0FJLEVBQUEzZixNQUFBLGFBQUF1ZixXQUFBLEdBQ0FJLEVBQUEzZixNQUFBLE1BQUF1ZixXQUFBLEdBa0JBN3RCLEtBQUFxZSxNQUFBLFNBQUF2ZSxFQUFBK0gsR0FDQSxHQUFBLGdCQUFBL0gsSUFBQUEsRUFBQWYsT0FBQSxFQUFBLENBQ0EsZ0JBQUE4SSxJQUFBLGdCQUFBQSxHQUFBQSxFQUFBOUksT0FBQSxHQUNBb0ssRUFBQXRCLEVBQ0ExQyxFQUFBcEUsRUFBQSxvQkFBQXNkLE1BQUF4VyxHQUNBaUosRUFBQSxTQUNBM0wsRUFBQTZKLEdBQUEsT0FBQSxXQUNBaWYsRUFBQTFxQixRQUFBLFVBR0F2RCxLQUFBb3RCLEtBQUEsV0FFQSxNQURBam9CLEdBQUFpb0IsT0FDQXB0QixNQUdBQSxLQUFBbXVCLFVBQUEsV0FFQSxNQURBaHBCLEdBQUEvQyxPQUNBcEMsT0FHQSxnQkFBQTZILEdBQ0ExQyxFQUFBcEUsRUFBQSxtQkFBQXNkLE1BQUF2ZSxFQUFBK0gsR0FDQTdILEtBQUFra0IsUUFBQSxXQUNBLE1BQUE1a0IsV0FBQSxJQUFBLGdCQUFBQSxXQUFBLElBQUFBLFVBQUEsR0FBQTh1QixTQUNBanBCLEVBRUFuRixNQUdBbUosRUFBQSxJQUFBckosRUFBQSxnQkFDQWdSLEVBQUEsVUFDQW1kLEVBQUExcUIsUUFBQSxTQUVBaEUsU0FBQXNJLElBQ0ExQyxFQUFBcEUsRUFBQSxtQkFBQXNkLE1BQUF2ZSxHQUNBcUosRUFBQSxJQUFBckosRUFBQSxnQkFDQWdSLEVBQUEsVUFDQW1kLEVBQUExcUIsUUFBQSxTQUdBNEIsRUFBQTZKLEdBQUEsUUFBQSxXQUNBaWYsRUFBQTFxQixRQUFBLFdBR0E0QixFQUFBNkosR0FBQSxPQUFBLFdBQ0FpZixFQUFBMXFCLFFBQUEsVUFHQTRCLEVBQUE2SixHQUFBLE1BQUEsV0FDQWlmLEVBQUExcUIsUUFBQSxTQUdBNEIsRUFBQTZKLEdBQUEsVUFBQSxXQUNBaWYsRUFBQTFxQixRQUFBLGFBR0E0QixFQUFBNkosR0FBQSxhQUFBLFdBQ0FpZixFQUFBMXFCLFFBQUEsZUFLQSxLQUFBLEdBRkE4cUIsR0FBQWxwQixFQUFBa3BCLFVBRUF4dkIsRUFBQSxFQUFBQSxFQUFBd3ZCLEVBQUF0dkIsT0FBQUYsSUFFQSxJQUFBLEdBREFtUixHQUFBcWUsRUFBQXh2QixHQUFBbVIsUUFDQTZWLEVBQUEsRUFBQUEsRUFBQTdWLEVBQUFqUixPQUFBOG1CLElBQ0E3VixFQUFBNlYsR0FBQTVVLFVBQ0E2YyxxQkFBQXp1QixNQUFBVyxNQUFBcXVCLEVBQUF4dkIsR0FBQW1SLEVBQUE2VixJQUtBcUksR0FBQXB1QixFQUVBbXVCLEVBQUExcUIsUUFBQSxhQUlBOEwsR0FBQXpLLEtBQUEsK0NBR0EsT0FBQTVFLE9BR0FBLEtBQUErdEIsT0FBQSxTQUFBanVCLEVBQUFtQixHQUNBLEdBQUEsZ0JBQUFuQixJQUFBQSxFQUFBZixPQUFBLEVBQUEsQ0FJQSxJQUFBLEdBSEFndkIsR0FBQSxLQUNBTSxFQUFBbHBCLEVBQUFrcEIsVUFFQXh2QixFQUFBLEVBQUFBLEVBQUF3dkIsRUFBQXR2QixPQUFBRixJQUNBd3ZCLEVBQUF4dkIsR0FBQTZJLElBQUE1SCxLQUNBaXVCLEVBQUFNLEVBQUF4dkIsR0FJQSxJQUFBa3ZCLEVBQUEsQ0FDQSxHQUFBeHVCLFNBQUEwQixFQUlBLE1BQUE4c0IsR0FBQXJ1QixJQUFBSSxFQUhBaXVCLEdBQUF0ckIsSUFBQTNDLEVBQUFtQixPQU9Bb08sR0FBQXpLLE1BQUE5RSxLQUFBQSxHQUFBLHNFQUdBLE1BQUFFLE9BR0FBLEtBQUFra0IsUUFBQSxTQUFBRCxHQUNBLEdBQUFBLEdBQUEsZ0JBQUFBLElBQUFBLEVBQUFtSyxTQUNBLE1BQUFqcEIsRUFHQSxJQUFBLGdCQUFBOGUsSUFBQUEsRUFBQW5ULE1BQUEsa0JBQUFtVCxHQUFBblQsS0FBQSxDQUNBLEdBQUF3ZCxHQUFBckssRUFBQW5ULE1BQ0EsSUFBQSxZQUFBQSxHQUFBLFdBQUF3ZCxFQUVBLE1BREFqZixHQUFBbE0sTUFBQSwwQ0FDQW5ELElBRUEsSUFBQWlrQixFQUFBQyxTQUFBLGtCQUFBRCxHQUFBQyxRQUFBLENBQ0EsR0FBQXFLLEdBQUF0SyxFQUFBQyxTQUFBa0ssVUFBQSxHQUdBLE9BRkF6VSxHQUFBc0ssRUFDQTllLEVBQUErZSxRQUFBcUssR0FDQXRLLEVBR0E1VSxFQUFBbE0sTUFBQSxpREFJQWtNLEdBQUFsTSxNQUFBLDRDQUdBLE9BQUFuRCxPQUdBQSxLQUFBMlosT0FBQSxXQUNBLE1BQUFBLElBR0EzWixLQUFBNHRCLFFBQUEsV0FFQSxNQURBbGUsR0FBQWtlLFFBQUF2dUIsTUFBQVcsS0FBQVYsV0FDQVUsTUFHQUEsS0FBQThRLEtBQUEsU0FBQXpDLEdBQ0EsTUFBQSxnQkFBQUEsR0FDQUEsSUFBQXlDLEVBRUFBLEdBR0E5USxLQUFBbUosSUFBQSxXQUNBLE1BQUFBLElBR0FuSixLQUFBRixLQUFBLFdBQ0EsTUFBQW91QixJQUdBbHVCLEtBQUFvQyxLQUFBLFdBRUEsTUFEQXNOLEdBQUF0TixLQUFBL0MsTUFBQVcsS0FBQVYsV0FDQVUsU0M5TUFtQixHQUFBK0ssUUFBQS9LLFNBQUEsU0FDQSxVQUFBLFVBQUEsUUFDQSxRQUFBcXRCLGdCQUFBenRCLEVBQUF1QixFQUFBK00sR0FXQSxRQUFBb2YsUUFDQSxPQUFBenVCLE1BVkEsR0FBQWl1QixHQUFBbHRCLEVBQUEsa0JBQ0FzdEIsS0FDQTFVLEVBQUEsS0FDQTdaLEVBQUEsR0FDQTR1QixFQUFBcHNCLEVBQUFWLE1BQUEsVUFBQSxTQUFBQyxHQUFBd3NCLEVBQUF4c0IsR0FHQW9zQixHQUFBdE4sS0FBQTNnQixNQU1BaXVCLEVBQUEzZixNQUFBLE9BQUFtZ0IsTUFBQSxHQUNBUixFQUFBM2YsTUFBQSxVQUFBbWdCLE1BQUEsR0FDQVIsRUFBQTNmLE1BQUEsUUFBQW1nQixNQUFBLEdBQ0FSLEVBQUEzZixNQUFBLFFBQUFtZ0IsTUFBQSxHQUVBenVCLEtBQUFxZSxNQUFBLFNBQUFuYyxFQUFBOGhCLEdBRUEsSUFBQSxHQUFBbmxCLEdBQUEsRUFBQUEsRUFBQTZ2QixFQUFBM3ZCLE9BQUFGLElBQUEsQ0FDQSxHQUFBOHZCLEdBQUE1dEIsRUFBQSxJQUFBMnRCLEVBQUE3dkIsR0FBQSxPQUNBd3ZCLEdBQUFBLEVBQUF0dkIsT0FBQSxJQUNBc3ZCLEVBQUFBLEVBQUF0dkIsT0FBQSxHQUFBbWxCLFFBQUF5SyxHQUVBTixFQUFBOXRCLEtBQUFvdUIsR0FXQSxHQVJBLGdCQUFBenNCLElBQUFBLEVBQUFuRCxPQUFBLEVBQ0FlLEVBQUFvQyxHQUdBbU4sRUFBQXpLLE1BQUExQyxFQUFBQSxHQUFBLHlDQUNBK3JCLEVBQUExcUIsUUFBQSxVQUdBeWdCLEdBQUEsZ0JBQUFBLElBQUFBLEVBQUFFLFNBQUEsa0JBQUFGLEdBQUFFLFFBQ0Fsa0IsS0FBQWtrQixRQUFBRixPQUVBLElBQUEsZ0JBQUFBLEVBQUEsQ0FDQSxHQUFBUCxHQUFBMWlCLEVBQUEsbUJBQ0FzdEIsR0FBQUEsRUFBQXR2QixPQUFBLEdBQUFtbEIsUUFBQVQsR0FFQXpqQixLQUFBa2tCLFFBQUEsU0FBQUQsR0FDQSxHQUFBQSxFQUFBMkssWUFDQSxNQUFBUCxHQUFBLElBT0EsYUFEQXJ1QixNQUFBcWUsTUFDQXJlLE1BR0FBLEtBQUFra0IsUUFBQSxTQUFBRCxHQUNBLEdBQUFBLEVBQUEySyxZQUNBLE1BQUFQLEdBQUEsRUFHQSxJQUFBUSxHQUFBNUssRUFBQUMsU0FBQTBLLGFBQUEsR0FLQSxPQUpBUCxHQUFBQSxFQUFBdHZCLE9BQUEsR0FBQW1sQixRQUFBMkssR0FDQWxWLEVBQUFzSyxFQUdBamtCLE1BR0FBLEtBQUEyWixPQUFBLFdBQ0EsTUFBQUEsSUFHQTNaLEtBQUFxdUIsUUFBQSxXQUNBLE1BQUFBLElBR0FydUIsS0FBQUYsS0FBQSxXQUNBLE1BQUFBLE9DakZBcUIsR0FBQStLLFFBQUEvSyxTQUFBLFNBQ0EsVUFBQSxVQUNBLFFBQUEydEIsaUJBQUFsdUIsRUFBQUcsR0FRQSxRQUFBZ3VCLFVBQ0EsT0FBQS91QixNQUdBLFFBQUFndkIsaUJBQ0EsT0FBQWh2QixLQUFBMlosR0FYQSxHQUFBZ1YsR0FBQTV0QixFQUFBLGdCQUNBa3RCLEVBQUFsdEIsRUFBQSxrQkFDQWt1QixFQUFBLEtBQ0F0VixFQUFBLEtBQ0F4USxFQUFBLEVBVUE4a0IsR0FBQXROLEtBQUEzZ0IsTUFFQWl1QixFQUFBM2YsTUFBQSxRQUFBeWdCLFFBQUEsR0FDQWQsRUFBQTNmLE1BQUEsT0FBQXlnQixRQUFBLEdBQ0FkLEVBQUEzZixNQUFBLFFBQUF5Z0IsUUFBQSxHQUNBZCxFQUFBM2YsTUFBQSxVQUFBMGdCLGVBQUEsR0FDQWYsRUFBQTNmLE1BQUEsT0FBQXlnQixRQUFBLEdBQ0FkLEVBQUEzZixNQUFBLE9BQUF5Z0IsUUFBQSxHQUVBSixFQUFBM2YsR0FBQSxRQUFBLFdBQ0FpZixFQUFBMXFCLFFBQUEsV0FHQW9yQixFQUFBM2YsR0FBQSxPQUFBLFdBQ0FpZixFQUFBMXFCLFFBQUEsVUFHQW9yQixFQUFBM2YsR0FBQSxRQUFBLFdBQ0FpZixFQUFBMXFCLFFBQUEsV0FHQXZELEtBQUFxZSxNQUFBLFNBQUF4VyxHQW1CQSxNQWpCQSxnQkFBQUEsSUFBQUEsRUFBQTlJLE9BQUEsR0FDQW9LLEVBQUF0QixFQUNBOG1CLEVBQUF0USxNQUFBeFcsR0FDQW9uQixFQUFBbHVCLEVBQUEsbUJBQUFzZCxNQUFBLDBCQUNBNFEsRUFBQWpnQixHQUFBLFVBQUEsV0FDQWlmLEVBQUExcUIsUUFBQSxhQUVBb3JCLEVBQUF6SyxRQUFBK0ssRUFBQS9LLFNBQUEwSyxhQUFBLFdBQ0E1dUIsTUFBQXFlLE1BQ0E0UCxFQUFBMXFCLFFBQUEsaUJBR0F2RCxNQUFBcWUsTUFDQTRQLEVBQUExcUIsUUFBQSxVQUlBdkQsTUFHQUEsS0FBQXF1QixRQUFBLFdBQ0EsTUFBQVksR0FDQUEsRUFBQVosY0FNQXJ1QixLQUFBb3RCLEtBQUEsV0FjQSxNQWJBcHRCLE1BQUErckIsT0FBQSxVQUNBL3JCLEtBQUErckIsT0FBQSxXQUNBL3JCLEtBQUErckIsT0FBQSxRQUNBNEMsRUFBQXZCLE9BR0FwdEIsS0FBQWdQLEdBQUEsT0FBQSxXQUNBMmYsRUFBQXZCLFVBTUFwdEIsTUFHQUEsS0FBQW9DLEtBQUEsV0FFQSxNQURBdXNCLEdBQUF2c0IsT0FDQXBDLE1BR0FBLEtBQUEyWixPQUFBLFdBQ0EsTUFBQUEsSUFHQTNaLEtBQUFra0IsUUFBQSxTQUFBRCxHQUtBLE1BSkFBLElBQUFBLEVBQUE1akIsY0FBQTR1QixFQUFBNXVCLGNBQ0FzWixFQUFBc0ssRUFDQWdMLEVBQUEvSyxRQUFBRCxJQUVBamtCLFNDcEdBbUIsR0FBQStLLFFBQUEvSyxTQUFBLFNBQ0EsU0FBQSxVQUNBLFFBQUErdEIsV0FBQXBOLEVBQUFsaEIsR0FFQUEsRUFBQVosS0FBQSxhQUVBLElBQUFtdkIsR0FBQSxFQUFBQyxFQUFBLEVBQ0FDLEVBQUF2TixFQUFBbmYsVUFBQTJzQixhQUNBQyxFQUFBek4sRUFBQW5mLFVBQUE2c0IsY0FDQUMsRUFBQTNOLEVBQUFuZixVQUFBMnNCLGFBQ0FJLEVBQUE1TixFQUFBbmYsVUFBQWd0QixvQkFFQU4sR0FBQU8sS0FBQTN1QixNQUFBLEVBQ0F5dUIsRUFBQUcsVUFBQTV1QixNQUFBLElBQ0F3dUIsRUFBQUcsS0FBQTN1QixNQUFBbXVCLEVBQ0FHLEVBQUFPLFVBQUE3dUIsTUFBQWt1QixFQUVBSSxFQUFBckwsUUFBQXVMLEdBQ0FBLEVBQUF2TCxRQUFBd0wsR0FDQUEsRUFBQXhMLFFBQUFxTCxHQUNBRSxFQUFBdkwsUUFBQW1MLEdBRUFydkIsS0FBQXFlLE1BQUEsU0FBQWdSLEVBQUFJLEdBQUFKLEdBRUFydkIsS0FBQUwsU0FBQSxTQUFBLEVBQUEsR0FDQSxTQUFBc0IsR0FDQSxHQUFBLGdCQUFBQSxJQUFBQSxFQUFBWixjQUFBQyxPQUNBLEdBQUFXLEVBQUFsQyxRQUFBLGdCQUFBa0MsR0FBQSxJQUFBLGdCQUFBQSxHQUFBLEdBQUEsQ0FDQSxHQUFBcWlCLEdBQUFyaUIsRUFBQSxHQUNBOHVCLEVBQUE5dUIsRUFBQSxFQVVBLE9BUkFxaUIsR0FBQSxJQUFBQSxFQUFBLEdBQ0FBLEVBQUEsSUFBQUEsRUFBQSxHQUNBeU0sRUFBQSxLQUFBQSxFQUFBLElBQ0FBLEVBQUEsSUFBQUEsRUFBQSxHQUNBWixFQUFBN0wsRUFDQThMLEVBQUFXLEVBQ0FSLEVBQUFPLFVBQUE3dUIsTUFBQWt1QixFQUNBTSxFQUFBRyxLQUFBM3VCLE1BQUFtdUIsR0FDQVcsRUFBQXpNLEtBR0EsU0FBQXJpQixHQUNBLE9BQUFBLEVBQUEsR0FBQUEsRUFBQSxLQUVBLFNBQUFBLEdBQ0EsR0FBQXFpQixHQUFBcmlCLEVBQUEsR0FDQTh1QixFQUFBOXVCLEVBQUEsRUFPQSxPQUxBcWlCLEdBQUEsSUFBQUEsRUFBQSxHQUNBQSxFQUFBLElBQUFBLEVBQUEsR0FDQXlNLEVBQUEsS0FBQUEsRUFBQSxJQUNBQSxFQUFBLElBQUFBLEVBQUEsSUFFQUEsRUFBQXpNLFFDdERBbmlCLEdBQUErSyxRQUFBL0ssU0FBQSxTQUNBLFNBQUEsVUFDQSxRQUFBNnVCLGlCQUFBbE8sRUFBQWxoQixHQUVBQSxFQUFBWixLQUFBLGNBRUFBLEtBQUFxZSxNQUFBLGNBQUF5RCxFQUFBbmYsVUFBQThnQixhQUFBLE1DTkF0aUIsR0FBQStLLFFBQUEvSyxTQUFBLFNBQ0EsU0FBQSxVQUNBLFFBQUE4dUIsVUFBQW5PLEVBQUFsaEIsR0FFQUEsRUFBQVosS0FBQSxhQUVBLElBQUFrd0IsR0FBQSxFQUNBTixFQUFBOU4sRUFBQW5mLFVBQUEyc0IsWUFFQU0sR0FBQUEsS0FBQTN1QixNQUFBaXZCLEVBRUFsd0IsS0FBQXFlLE1BQUEsT0FBQXVSLEVBQUFBLEdBRUE1dkIsS0FBQUwsU0FBQSxTQUFBLEVBQ0EsU0FBQXNCLEdBQ0EsR0FBQSxnQkFBQUEsR0FLQSxNQUpBQSxHQUFBLElBQUFBLEVBQUEsR0FDQUEsRUFBQSxJQUFBQSxFQUFBLEdBQ0FpdkIsRUFBQWp2QixFQUNBMnVCLEVBQUFBLEtBQUEzdUIsTUFBQWl2QixFQUNBanZCLEdBR0EsU0FBQUEsR0FDQSxNQUFBQSxJQUVBLFNBQUFBLEdBR0EsTUFGQUEsR0FBQSxJQUFBQSxFQUFBLEdBQ0FBLEVBQUEsSUFBQUEsRUFBQSxHQUNBQSxPQzdCQUUsR0FBQStLLFFBQUEvSyxTQUFBLFNBQ0EsU0FBQSxVQUNBLFFBQUFndkIsYUFBQXJPLEVBQUFsaEIsR0FFQUEsRUFBQVosS0FBQSxhQUVBLElBQUFvd0IsR0FBQXRPLEVBQUFuZixVQUFBZ3RCLHFCQUVBRSxFQUFBLEtBRUFPLEdBQUF0ZixLQUFBLFVBQ0FzZixFQUFBUCxVQUFBNXVCLE1BQUE0dUIsRUFFQTd2QixLQUFBcWUsTUFBQSxVQUFBK1IsRUFBQUEsR0FFQXB3QixLQUFBTCxTQUFBLFVBQUEsTUFDQSxTQUFBc0IsR0FLQSxNQUpBQSxHQUFBLElBQUFBLEVBQUEsR0FDQUEsRUFBQSxRQUFBQSxFQUFBLE9BQ0E0dUIsRUFBQTV1QixFQUNBbXZCLEVBQUFQLFVBQUE1dUIsTUFBQUEsRUFDQUEsR0FFQSxTQUFBQSxHQUNBLE1BQUFBLElBRUEsU0FBQUEsR0FHQSxNQUZBQSxHQUFBLElBQUFBLEVBQUEsR0FDQUEsRUFBQSxRQUFBQSxFQUFBLE9BQ0FBLE9DN0JBRSxHQUFBK0ssUUFBQS9LLFNBQUEsU0FDQSxVQUFBLFFBQ0EsUUFBQWt2QixXQUFBdHZCLEVBQUFzTyxHQWtCQSxRQUFBalAsUUFDQSxPQUFBa3dCLEdBakJBLEdBQUEzVyxHQUFBLEtBQ0FrVixFQUFBLEtBQ0F5QixFQUFBLEtBQ0FDLEVBQUEsU0FBQUMsRUFBQTdXLEdBQ0EsSUFBQUEsRUFFQSxJQUFBLEdBREFrVixHQUFBN3VCLEtBQUE2dUIsUUFDQWh3QixFQUFBLEVBQUFBLEVBQUFnd0IsRUFBQTl2QixPQUFBRixJQUNBMnhCLEVBQUF0TSxRQUFBMkssRUFBQWh3QixHQUdBLE9BQUFtQixNQUFBMlosVUFFQStKLEtBQ0F1SyxFQUFBbHRCLEVBQUEsa0JBQ0FtdEIsRUFBQSxFQU1BRCxHQUFBdE4sS0FBQTNnQixNQUVBaXVCLEVBQUEzZixNQUFBLFFBQUFsTyxNQUFBLEdBQ0E2dEIsRUFBQTNmLE1BQUEsT0FBQWxPLE1BQUEsR0FDQTZ0QixFQUFBM2YsTUFBQSxNQUFBbE8sTUFBQSxHQUNBNnRCLEVBQUEzZixNQUFBLFVBQUFsTyxNQUFBLEdBQ0E2dEIsRUFBQTNmLE1BQUEsYUFBQWxPLE1BQUEsR0FDQTZ0QixFQUFBM2YsTUFBQSxXQUFBbE8sTUFBQSxHQUVBSixLQUFBeXdCLFdBQUEsV0FDQSxHQUFBSCxHQUFBM1csRUFBQSxDQUVBLElBQUEsR0FEQStXLEdBQUFKLEVBQUF6QixRQUNBaHdCLEVBQUEsRUFBQUEsRUFBQThhLEVBQUE1YSxPQUFBRixJQUNBLElBQUEsR0FBQXFELEdBQUEsRUFBQUEsRUFBQXd1QixFQUFBM3hCLE9BQUFtRCxJQUNBeVgsRUFBQTlhLEdBQUE0eEIsV0FBQUMsRUFBQXh1QixHQUdBb3VCLEdBQUEsS0FDQXJDLEVBQUExcUIsUUFBQSxjQUVBLE1BQUF2RCxPQUdBQSxLQUFBa2tCLFFBQUEsU0FBQUQsR0FHQSxHQUZBamtCLEtBQUF5d0IsYUFDQUgsRUFBQXJNLEVBQ0FxTSxHQUFBM1csRUFFQSxJQUFBLEdBREFnWCxHQUFBTCxFQUFBekIsUUFDQWh3QixFQUFBLEVBQUFBLEVBQUE4YSxFQUFBNWEsT0FBQUYsSUFDQSxJQUFBLEdBQUFxRCxHQUFBLEVBQUFBLEVBQUF5dUIsRUFBQTV4QixPQUFBbUQsSUFDQXlYLEVBQUE5YSxHQUFBcWxCLFFBQUF5TSxFQUFBOXhCLEdBS0EsT0FEQW92QixHQUFBMXFCLFFBQUEsV0FDQXZELE1BR0FBLEtBQUFxZSxNQUFBLFNBQUF2ZSxFQUFBOHdCLEVBQUEzTSxFQUFBdmxCLEdBT0EsTUFOQW13QixHQUFBLGdCQUFBK0IsSUFBQUEsRUFBQXZ3QixjQUFBQyxNQUFBc3dCLEdBQUFBLEdBQ0FqWCxFQUFBLGdCQUFBc0ssSUFBQUEsRUFBQTVqQixjQUFBQyxNQUFBMmpCLEdBQUFBLEdBQ0FpSyxFQUFBcHVCLEVBQ0Esa0JBQUFwQixLQUFBNnhCLEVBQUE3eEIsU0FDQXNCLE1BQUFxZSxNQUNBNFAsRUFBQTFxQixRQUFBLFNBQ0F2RCxNQUdBQSxLQUFBNnVCLE1BQUEsV0FDQSxNQUFBQSxJQUdBN3VCLEtBQUEyWixPQUFBLFdBQ0EsTUFBQUEsSUFHQTNaLEtBQUFGLEtBQUEsV0FDQSxNQUFBb3VCLElBR0FsdUIsS0FBQW90QixLQUFBLFNBQUFvRCxFQUFBN1csR0FDQStKLEVBQUFuakIsS0FBQWl3QixHQUNBQSxFQUFBdFYsaUJBQUEsUUFBQSxXQUNBLEdBQUE5YixLQUNBb3hCLEdBQUFyTixVQUFBLENBQ0EsS0FBQSxHQUFBdGtCLEdBQUEsRUFBQUEsRUFBQTZrQixFQUFBM2tCLE9BQUFGLElBQ0E2a0IsRUFBQVAsVUFDQS9qQixFQUFBbUIsS0FBQW1qQixFQUFBN2tCLFVBR0EyeEIsR0FBQXJOLFNBQ0FPLEVBQUF0a0IsSUFHQWt4QixHQUNBQSxFQUFBbEQsS0FBQW9ELEVBQUFELEVBQUFseEIsTUFBQVcsS0FBQVYsWUFLQSxJQUFBdXhCLEtBRUE3d0IsTUFBQUwsU0FBQSxTQUFBRyxFQUFBZ3hCLEVBQUE1ZixFQUFBdUUsRUFBQXNiLEdBQ0EsR0FBQSxnQkFBQWp4QixHQUFBLENBQ0EsR0FBQUgsSUFDQUcsS0FBQUEsRUFDQW1CLE1BQUEsS0FDQXdVLE9BQUEsS0FDQXZFLE9BQUEsS0FDQThjLFdBQUErQyxFQUNBOWYsU0FBQSxrQkFBQThmLEdBR0EsbUJBQUF0YixLQUNBOVYsRUFBQThWLE9BQUFBLEdBRUEsa0JBQUF2RSxLQUNBdlIsRUFBQXVSLE9BQUFBLEdBR0F2UixFQUFBc0IsTUFBQTZ2QixFQUVBQSxHQUFBbnhCLEVBQUF1UixTQUNBMmYsRUFBQWx4QixFQUFBRyxNQUlBdVAsRUFBQXpLLE1BQUFqRixTQUFBQSxHQUFBLG9DQUhBa3hCLEVBQUFseEIsRUFBQUcsTUFBQUgsT0FRQTBQLEdBQUF6SyxNQUFBOUUsS0FBQUEsR0FBQSx5Q0FJQUUsS0FBQXlDLElBQUEsU0FBQTNDLEVBQUFtQixHQUNBLEdBQUEsZ0JBQUFuQixJQUFBQSxFQUFBZixPQUFBLEVBQUEsQ0FDQSxHQUFBSyxHQUFBeXhCLEVBQUEvd0IsR0FBQW9SLE9BQUFqUSxFQUNBMUIsVUFBQUgsRUFDQXl4QixFQUFBL3dCLEdBQUFtQixNQUFBN0IsRUFHQWlRLEVBQUF6SyxNQUFBaUIsS0FBQS9GLEVBQUEyUyxJQUFBeFIsR0FBQSxpREFLQWpCLEtBQUFOLElBQUEsU0FBQUksR0FDQSxHQUFBLGdCQUFBQSxJQUFBQSxFQUFBZixPQUFBLEVBQUEsQ0FDQSxHQUFBOHhCLEVBQUEvd0IsR0FDQSxNQUFBK3dCLEdBQUEvd0IsR0FBQW1CLEtBR0FvTyxHQUFBekssTUFBQTlFLEtBQUFBLEdBQUEsNkRBSUF1UCxHQUFBekssS0FBQSxxQ0FJQTVFLEtBQUFnUSxNQUFBLFdBQ0EsR0FBQTVRLEtBRUEsS0FBQSxHQUFBeUcsS0FBQWdyQixHQUNBQSxFQUFBaHhCLGVBQUFnRyxJQUNBekcsRUFBQW1CLEtBQUFzd0IsRUFBQWhyQixHQUlBLE9BQUF6RyxJQUdBWSxLQUFBMEgsSUFBQSxTQUFBNUgsR0FDQSxRQUFBK3dCLEVBQUEvd0IsT0NuTEFxQixHQUFBK0ssUUFBQS9LLFNBQUEsUUFDQSxRQUFBNnZCLDRCQUVBLEdBQUF0TixLQUVBMWpCLE1BQUFzUixTQUFBLFNBQUFrZixHQUNBQSxFQUFBdFYsaUJBQUEsTUFBQSxXQUNBc1YsRUFBQXJOLFVBQUEsQ0FJQSxLQUFBLEdBRkEvakIsTUFFQVAsRUFBQSxFQUFBQSxFQUFBNmtCLEVBQUEza0IsT0FBQUYsSUFDQTZrQixFQUFBN2tCLEdBQUFza0IsVUFDQS9qQixFQUFBbUIsS0FBQW1qQixFQUFBN2tCLEdBR0E2a0IsR0FBQXRrQixJQUdBc2tCLEVBQUFuakIsS0FBQWl3QixJQUdBeHdCLEtBQUFpeEIsVUFBQSxTQUFBeE4sR0FDQSxJQUFBLEdBQUE1a0IsR0FBQSxFQUFBQSxFQUFBNmtCLEVBQUEza0IsT0FBQUYsSUFDQTZrQixFQUFBN2tCLEdBQUE0eEIsYUFDQS9NLEVBQUE3a0IsR0FBQXFsQixRQUFBVCxNQ3pCQXRpQixHQUFBK0ssUUFBQS9LLFNBQUEsU0FDQSxTQUFBLFVBQUEsV0FBQSxRQUNBLFFBQUErdkIsYUFBQXBQLEVBQUEvZ0IsRUFBQXNnQixFQUFBaFMsR0FVQSxRQUFBalAsUUFDQSxPQUFBK3dCLEVBQUFDLEVBQUF6WCxHQVRBLEdBQ0F3WCxHQUFBLEtBQ0FDLEVBQUEsS0FDQXpYLEVBQUEsS0FDQXNVLEVBQUFsdEIsRUFBQSxrQkFFQTJpQixJQU1BdUssR0FBQXROLEtBQUEzZ0IsTUFFQWl1QixFQUFBM2YsTUFBQSxRQUFBbE8sTUFBQSxHQUNBNnRCLEVBQUEzZixNQUFBLE9BQUFsTyxNQUFBLEdBQ0E2dEIsRUFBQTNmLE1BQUEsUUFBQWxPLE1BQUEsR0FDQTZ0QixFQUFBM2YsTUFBQSxVQUFBbE8sTUFBQSxHQUNBNnRCLEVBQUEzZixNQUFBLGFBQUFsTyxNQUFBLEdBQ0E2dEIsRUFBQTNmLE1BQUEsUUFBQSxHQUNBMmYsRUFBQTNmLE1BQUEsT0FBQSxHQUVBdE8sS0FBQXFlLE1BQUEsU0FBQXhXLEdBdUJBLE1BdEJBc3BCLEdBQUE5UCxFQUFBUyxNQUFBamEsR0FFQXNwQixFQUFBbmlCLEdBQUEsT0FBQSxTQUFBMFQsR0FDQVosRUFBQW5mLFVBQUEwdUIsZ0JBQ0EzTyxFQUNBLFNBQUF0akIsR0FDQWd5QixFQUFBaHlCLEVBQ0E2dUIsRUFBQTFxQixRQUFBLFNBRUEsV0FDQThMLEVBQUFsTSxPQUFBMEUsSUFBQUEsR0FBQSxtRkFDQW9tQixFQUFBMXFCLFFBQUEsYUFLQTR0QixFQUFBbmlCLEdBQUEsUUFBQSxXQUNBSyxFQUFBbE0sT0FBQTBFLElBQUFBLEdBQUEsNkJBQ0FvbUIsRUFBQTFxQixRQUFBSixlQUVBbkQsTUFBQXFlLE1BRUFyZSxNQUdBQSxLQUFBeXdCLFdBQUEsV0FLQSxNQUpBOVcsS0FDQUEsRUFBQSxLQUNBc1UsRUFBQTFxQixRQUFBLGVBRUF2RCxNQUdBQSxLQUFBa2tCLFFBQUEsU0FBQUQsR0FJQSxNQUhBamtCLE1BQUF5d0IsYUFDQTlXLEVBQUFzSyxFQUNBZ0ssRUFBQTFxQixRQUFBLFdBQ0F2RCxNQUdBQSxLQUFBb3RCLEtBQUEsV0FDQSxHQUFBelQsR0FBQTNaLEtBQUErckIsT0FBQSxRQUFBLENBQ0EsR0FBQTVtQixHQUFBMmMsRUFBQW5mLFVBQUEydUIsb0JBQ0Fuc0IsR0FBQWlzQixPQUFBQSxFQUNBMU4sRUFBQW5qQixLQUFBNEUsR0FDQXdVLEVBQUF5VCxLQUFBam9CLEdBQUEsR0FDQUEsRUFBQTlDLE1BQUEsR0FFQSxNQUFBckMsT0FHQUEsS0FBQW9DLEtBQUEsV0FDQSxJQUFBLEdBQUF2RCxHQUFBLEVBQUFBLEVBQUE2a0IsRUFBQTNrQixPQUFBRixJQUNBNmtCLEVBQUE3a0IsR0FBQXVELEtBQUEsRUFHQSxPQURBc2hCLE1BQ0ExakIsU0NuRkFtQixHQUFBK0ssUUFBQS9LLFNBQUEsU0FDQSxRQUNBLFFBQUFvd0IsT0FBQWxpQixHQUVBLEdBQUEzSixNQUNBNmUsR0FBQSxFQUNBemtCLEVBQUEsVUFDQTB4QixHQUFBLEVBQ0Fod0IsRUFBQXhCLEtBQ0F5eEIsRUFBQSxXQUNBLFNBR0F6eEIsTUFBQXFlLE1BQUEsU0FBQXFULEVBQUFqRCxFQUFBa0QsR0FZQSxNQVhBcE4sS0FBQW9OLEVBRUEsa0JBQUFsRCxLQUNBZ0QsRUFBQWhELEdBR0EsZ0JBQUFpRCxJQUFBQSxFQUFBM3lCLE9BQUEsSUFDQWUsRUFBQTR4QixTQUdBMXhCLE1BQUFxZSxNQUNBcmUsTUFHQUEsS0FBQUYsS0FBQSxXQUNBLE1BQUFBLElBR0FFLEtBQUEyUCxPQUFBLFdBQ0EsTUFBQTZoQixJQUdBeHhCLEtBQUF1RCxRQUFBLFdBQ0FnaEIsSUFBQWlOLEdBQUEsRUFFQSxJQUFBcHhCLEdBQUFxeEIsR0FDQSxJQUFBLGdCQUFBcnhCLElBQUFBLEVBQUFDLGNBQUFDLE1BQUFGLFNBR0EsS0FBQSxHQUFBdkIsR0FBQSxFQUFBQSxFQUFBNkcsRUFBQTNHLE9BQUFGLElBQ0E2RyxFQUFBN0csR0FBQVEsTUFBQVcsS0FBQUksRUFHQSxPQUFBSixPQUdBQSxLQUFBZ1csU0FBQSxTQUFBL0csR0FDQSxHQUFBLGtCQUFBQSxHQUFBLE1BQUFqUCxLQUNBLElBQUF3QixFQUFBbU8sU0FBQSxDQUNBLEdBQUF2UCxHQUFBcXhCLEdBSUEsT0FIQSxnQkFBQXJ4QixJQUFBQSxFQUFBQyxjQUFBQyxRQUFBRixNQUNBNk8sRUFBQTVQLE1BQUFXLEtBQUFJLEdBQ0FzRixFQUFBbkYsS0FBQWpCLFVBQUEsSUFDQVUsS0FHQSxNQURBMEYsR0FBQW5GLEtBQUEwTyxHQUNBalAsU0M1REFtQixHQUFBK0ssUUFBQS9LLFNBQUEsU0FDQSxVQUNBLFFBQUF5d0IsZUFBQTd3QixHQUVBLEdBQUFrdEIsS0FFQWp1QixNQUFBc08sTUFBQSxTQUFBeE8sRUFBQTJ1QixFQUFBbEssR0FDQSxHQUFBalcsR0FBQXZOLEVBQUEsU0FHQSxPQUZBdU4sR0FBQStQLE1BQUFoZixNQUFBaVAsRUFBQWhQLFdBQ0EydUIsRUFBQW51QixHQUFBd08sRUFDQXRPLE1BR0FBLEtBQUF1RCxRQUFBLFNBQUF6RCxHQUVBLE1BREFtdUIsR0FBQW51QixJQUFBbXVCLEVBQUFudUIsR0FBQXlELFFBQUExQyxLQUFBb3RCLEVBQUFudUIsSUFDQUUsTUFHQUEsS0FBQTJnQixLQUFBLFNBQUF2UCxHQVdBLE1BVkFBLEdBQUFwQyxHQUFBLFNBQUFsUCxFQUFBbVAsR0FDQWdmLEVBQUFudUIsSUFDQW11QixFQUFBbnVCLEdBQUFrVyxTQUFBblYsS0FBQXVRLEVBQUFuQyxJQUlBbUMsRUFBQTJhLE9BQUEsU0FBQWpzQixHQUNBLFFBQUFtdUIsRUFBQW51QixJQUFBbXVCLEVBQUFudUIsR0FBQTZQLFVBR0EzUCxTQzdCQW1CLEdBQUErSyxRQUFBL0ssU0FBQSxRQUNBLFFBQUFtRSxZQUVBLEdBQUFyRSxHQUFBLEtBQUFzUyxJQUdBdlQsTUFBQXlDLElBQUEsU0FBQWdRLEdBQ0EsSUFBQSxHQUFBNVQsR0FBQSxFQUFBQSxFQUFBMFUsRUFBQXhVLE9BQUFGLElBQ0EwVSxFQUFBMVUsR0FBQTRULEVBQUF4UixFQUVBQSxHQUFBd1IsR0FHQXpTLEtBQUE2eEIsTUFBQSxTQUFBNWlCLEdBQ0Esa0JBQUFBLElBQ0FzRSxFQUFBaFQsS0FBQTBPLE1DZkE5TixHQUFBK0ssUUFBQS9LLFNBQUEsU0FDQSxVQUNBLFFBQUFpakIsT0FBQXJqQixHQU1BLFFBQUErd0IscUJBQUFoeUIsR0FDQSxNQUFBLFVBQUFvQyxFQUFBa0IsR0FDQSxHQUFBbVEsRUFBQXpULEdBQ0EsSUFBQSxHQUFBakIsR0FBQSxFQUFBQSxFQUFBMFUsRUFBQXhVLE9BQUFGLElBQ0EwVSxFQUFBelQsR0FBQWpCLEdBQUFxRCxFQUFBa0IsSUFQQSxHQUFBbVEsTUFBQXZELElBYUFoUSxNQUFBZ0IsT0FBQSxTQUFBbEIsRUFBQTJTLEdBQ0EsTUFBQXpDLEdBQUFsUSxPQUNBa1EsR0FBQWxRLEdBQUEyQyxJQUFBZ1EsSUFJQXpDLEVBQUFsUSxHQUFBaUIsRUFBQSxhQUNBaVAsRUFBQWxRLEdBQUEreEIsTUFBQUMsb0JBQUFoeUIsUUFDQWtRLEdBQUFsUSxHQUFBMkMsSUFBQWdRLEtBSUF6UyxLQUFBNEIsTUFBQSxTQUFBakMsRUFBQXNQLEdBQ0EsZ0JBQUF0UCxJQUFBLGtCQUFBc1AsS0FFQXNFLEVBQUE1VCxLQUFBNFQsRUFBQTVULE9BRUFxUSxFQUFBclEsSUFBQUssS0FBQSt4QixJQUFBcHlCLEVBQUEsTUFFQTRULEVBQUE1VCxHQUFBWSxLQUFBME8sUUNyQ0E5TixHQUFBK0ssUUFBQS9LLFNBQUEsV0FDQSxVQUFBLFVBQUEsUUFBQSxTQUNBLFFBQUE2d0Isa0JBQUFqeEIsRUFBQThsQixFQUFBb0wsRUFBQS9iLEdBbUJBLFFBQUFnYyxZQUFBdnZCLEdBQ0EsR0FBQXVlLEdBQUFsaEIsS0FBQXFRLFVBQUEsT0FBQXNCLE1BQUF1UCxTQUNBNVksRUFBQXRJLEtBQUFxUSxVQUFBLFNBQ0F6SCxFQUFBTixFQUFBNUksSUFBQSxPQUVBaUQsR0FBQWdsQixPQUNBaGxCLEVBQUFrcUIsVUFBQTNMLEVBQUFvRixPQUFBLEdBQUE2TCxFQUFBalIsRUFBQW9GLE9BQUEsR0FBQThMLEVBRUEsSUFBQUMsR0FBQS9wQixFQUFBNUksSUFBQSxnQkFFQTR5QixLQUNBTCxFQUFBTSxZQUFBM3BCLEVBQUF5cEIsR0FBQSxHQUNBQyxHQUFBLEdBR0FELEVBQUF4TCxFQUFBMkwsbUJBQUE3dkIsRUFBQWlHLEVBQUFOLEdBQ0F1ZSxFQUFBNEwsaUJBQUE5dkIsRUFBQWlHLEVBQUFOLEdBRUEzRixFQUFBbWxCLFVBR0EsUUFBQTRLLGNBQUEvdkIsR0FDQSxHQUFBdWUsR0FBQWxoQixLQUFBcVEsVUFBQSxPQUFBc0IsTUFBQXVQLFNBQ0E1WSxFQUFBdEksS0FBQXFRLFVBQUEsU0FDQXpILEVBQUFzTixFQUFBeWMsV0FBQXJxQixFQUFBNUksSUFBQSxTQUNBMnlCLEVBQUEvcEIsRUFBQTVJLElBQUEsZ0JBR0FpRCxHQUFBa3FCLFVBQUEzTCxFQUFBb0YsT0FBQSxHQUFBNkwsRUFBQWpSLEVBQUFvRixPQUFBLEdBQUE4TCxHQUVBRSxJQUNBTCxFQUFBTSxZQUFBM3BCLEVBQUF5cEIsR0FBQSxHQUNBQyxHQUFBLEdBR0FELEdBQUF4TCxFQUFBK0wsYUFBQWp3QixFQUFBaUcsRUFBQU4sR0FDQXVlLEVBQUFnTSxlQUFBbHdCLEVBQUFpRyxFQUFBTixHQUdBLFFBQUF3cUIsVUFBQW53QixHQUNBLEdBQUEyRixHQUFBdEksS0FBQXFRLFVBQUEsU0FDQTZRLEVBQUFsaEIsS0FBQXFRLFVBQUEsT0FBQXNCLE1BQUF1UCxTQUNBdFksRUFBQXNOLEVBQUF5YyxXQUFBcnFCLEVBQUE1SSxJQUFBLFNBQ0EyeUIsRUFBQS9wQixFQUFBNUksSUFBQSxnQkFHQWlELEdBQUFrcUIsVUFBQTNMLEVBQUFvRixPQUFBLEdBQUE2TCxFQUFBalIsRUFBQW9GLE9BQUEsR0FBQThMLEdBRUFFLElBQ0FMLEVBQUFNLFlBQUEzcEIsRUFBQXlwQixHQUFBLEdBQ0FDLEdBQUEsR0FHQUQsRUFBQXhMLEVBQUFrTSxtQkFBQXB3QixFQUFBaUcsRUFBQU4sRUFBQTBxQixFQUFBOVIsR0FDQTJGLEVBQUFvTSxxQkFBQXR3QixFQUFBaUcsRUFBQU4sRUFBQTBxQixFQUFBOVIsR0F2RUEsR0FBQThSLEdBQUFqeUIsRUFBQSxzQkFDQTRRLEVBQUEzUixLQUFBcVEsVUFBQSxPQUNBL0gsRUFBQXRJLEtBQUFxUSxVQUFBLFNBQ0E2QixFQUFBbFMsS0FBQXFRLFVBQUEsVUFDQXdVLEVBQUE3a0IsS0FBQXFRLFVBQUEsVUFDQWlpQixHQUFBLEVBQ0FZLEVBQUEsRUFBQUMsRUFBQSxFQUNBaEIsRUFBQSxFQUFBQyxFQUFBLENBS0FZLEdBQUF4Z0IsTUFBQSxFQUFBLE9BQUEwZixXQUFBMXlCLEtBQUFRLE9BQ0FnekIsRUFBQXhnQixNQUFBLEVBQUEsS0FBQXNnQixTQUFBdHpCLEtBQUFRLE9BQ0FnekIsRUFBQXhnQixNQUFBLEVBQUEsU0FBQWtnQixhQUFBbHpCLEtBQUFRLE9BQ0FnekIsRUFBQXJoQixJQUFBQSxHQTREQTNSLEtBQUE0QixNQUFBLE9BQUEsV0FDQTBHLEVBQUE1SSxJQUFBLGdCQUNBNHlCLElBQUEsRUFDQTNnQixFQUFBQyxRQUNBTSxFQUFBTixRQUNBb2hCLEVBQUExdUIsU0FDQTB1QixFQUFBcnFCLE9BQUEsUUFDQXFxQixFQUFBcnFCLE9BQUEsVUFDQXFxQixFQUFBcnFCLE9BQUEsUUFHQTNJLEtBQUE0QixNQUFBLGdCQUFBLFNBQUF3QixFQUFBbEIsR0FDQW93QixHQUFBLEVBQ0FhLEVBQUFoYSxLQUFBdVQsTUFBQSxHQUFBeHFCLEdBQ0E4d0IsRUFBQXJxQixPQUFBLFFBQ0FxcUIsRUFBQXJxQixPQUFBLFVBQ0FxcUIsRUFBQXJxQixPQUFBLE1BQ0FxcUIsRUFBQTF1QixXQUdBdEUsS0FBQTRCLE1BQUEsV0FBQSxXQUNBK1AsRUFBQUMsUUFDQU0sRUFBQU4sVUFHQTVSLEtBQUE0QixPQUFBLGNBQUEsZUFBQSxXQUNBb3hCLEVBQUFycUIsT0FBQSxVQUNBcXFCLEVBQUExdUIsV0FHQXRFLEtBQUE0QixNQUFBLE9BQUEsV0FDQW94QixFQUFBcnFCLE9BQUEsVUFHQTNJLEtBQUE0QixPQUFBLEtBQUEsU0FBQSxjQUFBLFdBQ0FveEIsRUFBQXJxQixPQUFBLFFBR0EzSSxLQUFBNEIsTUFBQSxjQUFBLFNBQUF3QixFQUFBbEIsR0FHQSxJQUFBLEdBRkFreEIsR0FBQSxFQUVBdjBCLEVBQUEsRUFBQUEsRUFBQXFELEVBQUFuRCxPQUFBRixJQUNBcUQsRUFBQXJELEdBQUF1MEIsSUFBQUEsRUFBQWx4QixFQUFBckQsR0FHQXEwQixHQUFBRSxFQUFBLEVBQ0FKLEVBQUFycUIsT0FBQSxVQUNBZ0osRUFBQUMsUUFDQU0sRUFBQU4sUUFDQW9oQixFQUFBMXVCLFdBSUFxTixFQUFBalQsRUFBQSxTQUFBMjBCLEdBV0EsSUFBQSxHQVZBbmUsR0FBQTVNLEVBQUE1SSxJQUFBLFlBQ0FrSixFQUFBTixFQUFBNUksSUFBQSxRQUNBNHpCLEVBQUFockIsRUFBQTVJLElBQUEsVUFDQTRaLEVBQUFwRSxFQUFBLEdBQ0FxUixFQUFBclIsRUFBQSxHQUNBcWUsRUFBQWhkLEVBQUFBLEVBQ0FpZCxFQUFBamQsRUFBQUEsRUFDQWtkLElBQUFsZCxFQUFBQSxHQUNBbWQsSUFBQW5kLEVBQUFBLEdBRUExWCxFQUFBLEVBQUFBLEVBQUErSixFQUFBN0osT0FBQUYsSUFDQStKLEVBQUEvSixHQUFBLEdBQUEwMEIsSUFDQUEsRUFBQTNxQixFQUFBL0osR0FBQSxJQUVBK0osRUFBQS9KLEdBQUEsR0FBQTAwQixJQUNBQSxFQUFBM3FCLEVBQUEvSixHQUFBLElBRUErSixFQUFBL0osR0FBQSxHQUFBMjBCLElBQ0FBLEVBQUE1cUIsRUFBQS9KLEdBQUEsSUFFQStKLEVBQUEvSixHQUFBLEdBQUEyMEIsSUFDQUEsRUFBQTVxQixFQUFBL0osR0FBQSxJQUVBK0osRUFBQS9KLEdBQUEsR0FBQTQwQixJQUNBQSxFQUFBN3FCLEVBQUEvSixHQUFBLElBRUErSixFQUFBL0osR0FBQSxHQUFBNDBCLElBQ0FBLEVBQUE3cUIsRUFBQS9KLEdBQUEsSUFFQStKLEVBQUEvSixHQUFBLEdBQUE2MEIsSUFDQUEsRUFBQTlxQixFQUFBL0osR0FBQSxJQUVBK0osRUFBQS9KLEdBQUEsR0FBQTYwQixJQUNBQSxFQUFBOXFCLEVBQUEvSixHQUFBLEdBSUEwMEIsS0FBQWhkLEVBQUFBLElBQUFnZCxFQUFBLEdBQ0FDLElBQUFqZCxFQUFBQSxJQUFBaWQsRUFBQSxHQUNBQyxNQUFBbGQsRUFBQUEsS0FBQWtkLEVBQUEsR0FDQUMsTUFBQW5kLEVBQUFBLEtBQUFrZCxFQUFBLEdBRUF0QixFQUFBb0IsRUFDQW5CLEVBQUFvQixDQUVBLElBQUFKLEdBQUFGLEVBQUFDLEVBQ0EvdUIsRUFBQStVLEtBQUF3YSxJQUFBRixFQUFBRixHQUNBbHZCLEVBQUE4VSxLQUFBd2EsSUFBQUQsRUFBQUYsRUFFQSxZQUFBRixFQUFBLEtBQ0FoYSxHQUFBbFYsRUFBQUEsRUFBQSxFQUFBLEdBRUEsVUFBQWt2QixFQUFBLEtBQ0FoYSxHQUFBbFYsRUFBQUEsRUFBQSxHQUVBLFdBQUFrdkIsRUFBQSxLQUNBL00sR0FBQWxpQixFQUFBQSxFQUFBLEVBQUEsR0FFQSxXQUFBaXZCLEVBQUEsS0FDQS9NLEdBQUFsaUIsRUFBQUEsRUFBQSxHQUVBZ3ZCLEVBQUE1d0IsSUFDQTZXLEVBQUE2WSxFQUNBNUwsRUFBQTZMLEVBQ0FodUIsRUFDQUMsRUFDQSt1QixFQUNBQSxFQUNBQSxFQUNBQSxLQUtBdk8sRUFBQW5tQixFQUFBLFNBQUFpRSxHQUNBa2tCLEVBQUErTSxVQUFBNXpCLEtBQUEyQyxHQUNBcXdCLEVBQUFya0IsS0FBQWhNLFFDak5BeEIsR0FBQStLLFFBQUEvSyxTQUFBLFdBQ0EsVUFBQSxRQUFBLFVBQ0EsUUFBQTB5QixvQkFBQWhOLEVBQUF4WCxFQUFBdE8sR0FjQSxRQUFBMnhCLGNBQUEvdkIsR0FDQSxHQUFBdWUsR0FBQThILEVBQUFyWCxNQUFBdVAsUUFFQXZlLEdBQUFteEIsWUFDQW54QixFQUFBb3hCLFlBQUF6ckIsRUFBQTVJLElBQUEsZUFDQWlELEVBQUFtVSxVQUFBeE8sRUFBQTVJLElBQUEsZUFDQWlELEVBQUFxeEIsWUFBQTFyQixFQUFBNUksSUFBQSxnQkFFQWlELEVBQUFzeEIsSUFBQS9TLEVBQUF6ZCxLQUFBLEdBQUEsRUFBQXlkLEVBQUF6ZCxLQUFBLEdBQUEsRUFBQTZFLEVBQUE1SSxJQUFBLFVBQUEsRUFBQSxFQUFBeVosS0FBQSthLElBQ0F2eEIsRUFBQXd4QixTQUlBLFFBQUFqQyxZQUFBdnZCLEdBQ0EsR0FBQXVlLEdBQUE4SCxFQUFBclgsTUFBQXVQLFFBRUF2ZSxHQUFBbXhCLFlBQ0FueEIsRUFBQWlsQixVQUFBdGYsRUFBQTVJLElBQUEsUUFDQWlELEVBQUFzeEIsSUFBQS9TLEVBQUF6ZCxLQUFBLEdBQUEsRUFBQXlkLEVBQUF6ZCxLQUFBLEdBQUEsRUFBQTZFLEVBQUE1SSxJQUFBLFVBQUEsRUFBQSxFQUFBeVosS0FBQSthLElBQ0F2eEIsRUFBQXl4QixPQUdBLFFBQUF0QixVQUFBbndCLEdBQ0EsR0FBQXVlLEdBQUE4SCxFQUFBclgsTUFBQXVQLFNBQ0F2UCxFQUFBcVgsRUFBQXJYLE1BQUExUSxPQUVBMEIsR0FBQW14QixZQUNBbnhCLEVBQUFzeEIsSUFBQS9TLEVBQUF6ZCxLQUFBLEdBQUEsRUFBQXlkLEVBQUF6ZCxLQUFBLEdBQUEsRUFBQTZFLEVBQUE1SSxJQUFBLFVBQUEsRUFBQXlaLEtBQUErYSxHQUFBLEdBQ0F2eEIsRUFBQTB4QixNQU1BLEtBQUEsR0FKQUMsR0FBQWhzQixFQUFBNUksSUFBQSxjQUNBNjBCLEVBQUFqc0IsRUFBQTVJLElBQUEsVUFDQTgwQixFQUFBbHNCLEVBQUE1SSxJQUFBLE1BRUFiLEVBQUEsRUFBQUEsRUFBQTIxQixFQUFBejFCLE9BQUFGLElBRUEsR0FBQTIxQixFQUFBMzFCLEdBQUEwa0IsU0FLQSxDQUNBNWdCLEVBQUFnbEIsTUFFQSxJQUFBOE0sR0FBQTlpQixFQUFBbE8sS0FBQSxHQUFBOHdCLEVBQUExMUIsR0FBQSxHQUNBNjFCLEVBQUEvaUIsRUFBQWxPLEtBQUEsR0FBQTh3QixFQUFBMTFCLEdBQUEsR0FDQTgxQixFQUFBaGpCLEVBQUFsTyxLQUFBLEdBQUE2d0IsRUFBQXoxQixHQUFBLEdBQ0ErMUIsRUFBQWpqQixFQUFBbE8sS0FBQSxHQUFBNndCLEVBQUF6MUIsR0FBQSxFQUVBOEQsR0FBQWtxQixVQUFBM0wsRUFBQW9GLE9BQUEsR0FBQXFPLEVBQUF6VCxFQUFBb0YsT0FBQSxHQUFBc08sR0FDQWp5QixFQUFBc21CLFVBQUF1TCxFQUFBMzFCLEdBQUEyMUIsWUFBQSxFQUFBLEVBQUFDLEVBQUFDLEdBQ0EveEIsRUFBQW1sQixjQWRBME0sR0FBQTMxQixHQUFBbVEsR0FBQSxPQUFBLFdBQ0Fna0IsRUFBQXJxQixPQUFBLFFBbERBLEdBQUFxcUIsR0FBQWp5QixFQUFBLHNCQUNBOGpCLEVBQUE3a0IsS0FBQXFRLFVBQUEsVUFDQTJZLEVBQUFocEIsS0FBQXFRLFVBQUEsT0FDQS9ILEVBQUF0SSxLQUFBcVEsVUFBQSxTQUNBNkIsRUFBQWxTLEtBQUFxUSxVQUFBLFVBQ0E2aUIsRUFBQSxDQUVBRixHQUFBeGdCLE1BQUEsRUFBQSxPQUFBMGYsV0FBQTF5QixLQUFBUSxPQUNBZ3pCLEVBQUF4Z0IsTUFBQSxFQUFBLEtBQUFzZ0IsU0FBQXR6QixLQUFBUSxPQUNBZ3pCLEVBQUF4Z0IsTUFBQSxFQUFBLFNBQUFrZ0IsYUFBQWx6QixLQUFBUSxPQUNBZ3pCLEVBQUFyaEIsSUFBQXFYLEdBMERBQSxFQUFBdHFCLEVBQUEsU0FBQTIwQixHQUNBLEdBQUF3QixHQUFBdnNCLEVBQUE1SSxJQUFBLFVBQ0F3VixFQUFBNU0sRUFBQTVJLElBQUEsWUFDQTR6QixFQUFBaHJCLEVBQUE1SSxJQUFBLFVBQ0FrSSxFQUFBLEVBQUFpdEIsRUFFQXZiLEVBQUFwRSxFQUFBLEdBQ0FxUixFQUFBclIsRUFBQSxFQUVBLFlBQUFvZSxFQUFBLEtBQ0FoYSxHQUFBdWIsR0FFQSxVQUFBdkIsRUFBQSxLQUNBaGEsR0FBQTFSLEdBRUEsV0FBQTByQixFQUFBLEtBQ0EvTSxHQUFBc08sR0FFQSxXQUFBdkIsRUFBQSxLQUNBL00sR0FBQTNlLEdBR0F5ckIsRUFBQTV3QixJQUFBNlcsRUFBQWlOLEVBQUEzZSxFQUFBQSxFQUFBc3JCLEVBQUFBLEVBQUFBLEVBQUFBLEtBR0FsekIsS0FBQTRCLE1BQUEsU0FBQSxXQUNBb3hCLEVBQUFycUIsT0FBQSxVQUNBcXFCLEVBQUFycUIsT0FBQSxNQUNBcXFCLEVBQUFycUIsT0FBQSxRQUNBcWdCLEVBQUFwWCxRQUNBTSxFQUFBTixRQUNBb2hCLEVBQUExdUIsV0FHQXRFLEtBQUE0QixNQUFBLE9BQUEsV0FDQW94QixFQUFBcnFCLE9BQUEsVUFHQTNJLEtBQUE0QixNQUFBLFdBQUEsV0FDQW9uQixFQUFBcFgsVUFHQTVSLEtBQUE0QixNQUFBLGNBQUEsU0FBQXdCLEVBQUFsQixHQUNBQSxJQUFBa0IsSUFDQTh2QixFQUFBaHhCLEVBQ0E4bUIsRUFBQXBYLFFBQ0FvaEIsRUFBQXJxQixPQUFBLFVBQ0F1SixFQUFBTixRQUNBb2hCLEVBQUExdUIsWUFJQXRFLEtBQUE0QixPQUFBLGNBQUEsZUFBQSxXQUNBb3hCLEVBQUFycUIsT0FBQSxXQUdBM0ksS0FBQTRCLE9BQUEsS0FBQSxhQUFBLFVBQUEsV0FDQW94QixFQUFBcnFCLE9BQUEsUUFHQWtjLEVBQUFubUIsRUFBQSxTQUFBaUUsR0FDQWtrQixFQUFBK00sVUFBQTV6QixLQUFBMkMsR0FDQXF3QixFQUFBcmtCLEtBQUFoTSxRQ3RJQXhCLEdBQUErSyxRQUFBL0ssU0FBQSxXQUNBLFFBQUEsVUFDQSxRQUFBMnpCLHFCQUFBemxCLEVBQUEyRCxHQUNBLEdBQUFkLEdBQUFsUyxLQUFBcVEsVUFBQSxTQUVBNkIsR0FBQXhULEVBQUEsV0FDQSxNQUFBc1UsR0FBQStoQixhQUFBLzBCLFFBR0FBLEtBQUE0QixPQUFBLFdBQUEsU0FBQSxZQUFBLFFBQUEsUUFBQSxXQUNBc1EsRUFBQU4sYUNWQXpRLEdBQUErSyxRQUFBL0ssU0FBQSxXQUNBLFVBQ0EsUUFBQTZ6QixtQkFBQW5PLEdBQ0EsR0FBQWhDLEdBQUE3a0IsS0FBQXFRLFVBQUEsVUFDQWlDLEVBQUF0UyxLQUFBcVEsVUFBQSxVQUNBc0IsRUFBQTNSLEtBQUFxUSxVQUFBLE9BQ0EvSCxFQUFBdEksS0FBQXFRLFVBQUEsUUFFQXNCLEdBQUFqVCxFQUFBLFNBQUEyMEIsR0FFQSxHQUFBRSxHQUFBaGQsRUFBQUEsRUFDQWlkLEVBQUFqZCxFQUFBQSxFQUNBa2QsSUFBQWxkLEVBQUFBLEdBQ0FtZCxJQUFBbmQsRUFBQUEsRUFHQWpFLEdBQUFTLFFBQUEsV0FHQSxHQUFBa2lCLEdBQUFqMUIsS0FBQXFRLFVBQUEsT0FBQXNCLE1BQUExUSxPQUVBZzBCLEdBQUEvZixTQUFBLEdBQUFxZSxJQUNBQSxFQUFBMEIsRUFBQS9mLFNBQUEsSUFFQStmLEVBQUEvZixTQUFBLEdBQUFzZSxJQUNBQSxFQUFBeUIsRUFBQS9mLFNBQUEsSUFFQStmLEVBQUEvZixTQUFBLEdBQUErZixFQUFBeHhCLEtBQUEsR0FBQWd3QixJQUNBQSxFQUFBd0IsRUFBQS9mLFNBQUEsR0FBQStmLEVBQUF4eEIsS0FBQSxJQUVBd3hCLEVBQUEvZixTQUFBLEdBQUErZixFQUFBeHhCLEtBQUEsR0FBQWl3QixJQUNBQSxFQUFBdUIsRUFBQS9mLFNBQUEsR0FBQStmLEVBQUF4eEIsS0FBQSxLQUtBLElBQUF5UixHQUFBNU0sRUFBQTVJLElBQUEsV0FFQTZ6QixLQUFBaGQsRUFBQUEsSUFBQWdkLEVBQUEsR0FDQUUsTUFBQWxkLEVBQUFBLEtBQUFrZCxFQUFBLEdBQ0FELElBQUFqZCxFQUFBQSxJQUFBaWQsRUFBQSxHQUNBRSxNQUFBbmQsRUFBQUEsS0FBQW1kLEVBQUEsR0FFQUwsRUFBQTV3QixJQUNBOHdCLEVBQUFyZSxFQUFBLEdBQ0FzZSxFQUFBdGUsRUFBQSxHQUNBdWUsRUFBQUYsRUFDQUcsRUFBQUYsRUFDQSxFQUFBLEVBQUEsRUFBQSxJQUlBLElBQUF0ZSxJQUFBLEVBQUEsRUFFQWxWLE1BQUE0QixNQUFBLFdBQUEsU0FBQXdCLEVBQUFsQixHQUNBZ1QsRUFBQWhULEVBQ0F5UCxFQUFBQyxVQUdBaVQsRUFBQW5tQixFQUFBLFNBQUFpRSxFQUFBMmdCLEVBQUF2Z0IsR0FFQSxHQUFBM0MsR0FBQWQsU0FDQXFELEdBQUFnbEIsT0FFQWhsQixFQUFBdXlCLGFBQUE1c0IsRUFBQTVJLElBQUEsV0FFQW1uQixFQUFBK00sVUFBQTV6QixLQUFBMkMsR0FFQTJQLEVBQUFTLFFBQUEsV0FDQSxHQUFBb2lCLEdBQUFuMUIsS0FBQXFRLFVBQUEsVUFDQVMsRUFBQTlRLEtBQUE4USxNQUVBLElBQUEsVUFBQUEsRUFDQXFrQixFQUFBeG1CLEtBQUF0UCxNQUFBVyxLQUFBSSxPQUVBLENBQ0EsR0FBQWcxQixHQUFBcDFCLEtBQUFxUSxVQUFBLFFBRUExTixHQUFBZ2xCLE9BQ0FobEIsRUFBQTB5Qix5QkFBQUQsRUFBQTExQixJQUFBLFlBQ0FpRCxFQUFBdXlCLGFBQUFFLEVBQUExMUIsSUFBQSxXQUNBeTFCLEVBQUF4bUIsS0FBQXRQLE1BQUFXLEtBQUFJLEdBQ0F1QyxFQUFBbWxCLGFBS0FubEIsRUFBQW1sQixlQ3ZGQTNtQixHQUFBK0ssUUFBQS9LLFNBQUEsV0FDQSxVQUFBLFdBQ0EsUUFBQW0wQixtQkFBQXpPLEVBQUF4RixHQUVBLEdBQUEvWSxHQUFBdEksS0FBQXFRLFVBQUEsU0FDQXNCLEVBQUEzUixLQUFBcVEsVUFBQSxPQUNBd1UsRUFBQTdrQixLQUFBcVEsVUFBQSxVQUNBNkIsRUFBQWxTLEtBQUFxUSxVQUFBLFVBRUFqTSxFQUFBLEtBQUFDLEVBQUEsS0FDQTRjLEVBQUEsSUFHQWpoQixNQUFBNEIsTUFBQSxNQUFBLFNBQUF3QixFQUFBbEIsR0FDQWtCLElBQUFsQixJQUNBK2UsRUFBQUksRUFBQUosTUFBQS9lLEdBQ0ErZSxFQUFBalMsR0FBQSxPQUFBLFdBQ0EsT0FBQTVLLElBQ0FBLEVBQUE2YyxFQUFBN2MsU0FFQSxPQUFBQyxJQUNBQSxFQUFBNGMsRUFBQTVjLFVBRUE2TixFQUFBTixRQUNBRCxFQUFBQyxhQUtBNVIsS0FBQTRCLE1BQUEsT0FBQSxTQUFBd0IsRUFBQWxCLEdBQ0FrQixFQUFBLEtBQUFsQixFQUFBLElBQUFrQixFQUFBLEtBQUFsQixFQUFBLEtBQ0FrQyxFQUFBbEMsRUFBQSxHQUNBbUMsRUFBQW5DLEVBQUEsR0FDQXlQLEVBQUFDLFdBSUE1UixLQUFBNEIsTUFBQSxXQUFBLFNBQUF3QixFQUFBbEIsR0FDQWtCLEVBQUEsS0FBQWxCLEVBQUEsSUFBQWtCLEVBQUEsS0FBQWxCLEVBQUEsSUFDQXlQLEVBQUFDLFVBSUFELEVBQUFqVCxFQUFBLFNBQUEyMEIsR0FDQSxHQUFBbmUsR0FBQTVNLEVBQUE1SSxJQUFBLFlBQ0E0ekIsRUFBQWhyQixFQUFBNUksSUFBQSxVQUVBNFosRUFBQXBFLEVBQUEsR0FDQXFSLEVBQUFyUixFQUFBLEVBRUEsWUFBQW9lLEVBQUEsS0FDQWhhLEdBQUFsVixFQUFBQSxFQUFBLEVBQUEsR0FFQSxVQUFBa3ZCLEVBQUEsS0FDQWhhLEdBQUFsVixFQUFBQSxFQUFBLEdBRUEsV0FBQWt2QixFQUFBLEtBQ0EvTSxHQUFBbGlCLEVBQUFBLEVBQUEsRUFBQSxHQUVBLFdBQUFpdkIsRUFBQSxLQUNBL00sR0FBQWxpQixFQUFBQSxFQUFBLEdBRUFndkIsRUFBQTV3QixJQUFBNlcsRUFBQWlOLEVBQUFuaUIsRUFBQUEsRUFBQSxFQUFBQyxFQUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsS0FHQXdnQixFQUFBbm1CLEVBQUEsU0FBQWlFLEdBQ0FzZSxHQUFBQSxFQUFBc0MsV0FBQXRDLEVBQUE5ZCxTQUNBLE9BQUFpQixHQUNBLE9BQUFDLEdBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUNBd2lCLEVBQUErTSxVQUFBNXpCLEtBQUEyQyxHQUNBQSxFQUFBc21CLFVBQUFoSSxFQUFBQSxZQUFBLEVBQUEsRUFBQTdjLEVBQUFDLFNDdEVBbEQsR0FBQStLLFFBQUEvSyxTQUFBLFdBQ0EsVUFBQSxRQUFBLFVBQUEsUUFDQSxRQUFBbzBCLGtCQUFBeDBCLEVBQUFzTyxFQUFBd1gsRUFBQW9MLEdBa0lBLFFBQUF1RCxnQkFDQSxHQUFBdFUsR0FBQXZQLEVBQUFBLE1BQUF1UCxTQUNBdFksRUFBQU4sRUFBQTVJLElBQUEsUUFDQTJ5QixFQUFBL3BCLEVBQUE1SSxJQUFBLGdCQUVBLElBQUFrYixFQUFBeFcsVUFBQThjLEVBQUF6ZCxLQUFBLElBQUFtWCxFQUFBdlcsV0FBQTZjLEVBQUF6ZCxLQUFBLEdBQUEsQ0FFQSxHQUFBVyxHQUFBOGMsRUFBQXpkLEtBQUEsR0FDQVksRUFBQTZjLEVBQUF6ZCxLQUFBLEVBRUFtWCxHQUFBeFcsTUFBQUEsR0FDQXdXLEVBQUF2VyxPQUFBQSxHQUdBTCxFQUFBK2dCLFVBQUEsRUFBQSxFQUFBN0QsRUFBQXpkLEtBQUEsR0FBQXlkLEVBQUF6ZCxLQUFBLElBQ0FPLEVBQUEyakIsT0FFQTJLLElBQ0FMLEVBQUFNLFlBQUEzcEIsRUFBQXlwQixHQUNBQyxHQUFBLEdBR0F0dUIsRUFBQTZvQixVQUFBM0wsRUFBQW9GLE9BQUEsR0FBQTZMLEVBQUFqUixFQUFBb0YsT0FBQSxHQUFBOEwsR0FFQUMsRUFBQSxFQUNBenBCLEVBQUE3SixPQUFBLEdBQ0E4bkIsRUFBQWdNLGVBQUE3dUIsRUFBQTRFLEVBQUFOLEdBSUFNLEVBQUE3SixPQUFBLEdBQ0E4bkIsRUFBQStMLGFBQUE1dUIsRUFBQTRFLEVBQUFOLEdBSUF0RSxFQUFBOGpCLFVBRUEyTixHQUFBLEVBcktBLEdBQUE5akIsR0FBQTNSLEtBQUFxUSxVQUFBLE9BQ0EvSCxFQUFBdEksS0FBQXFRLFVBQUEsU0FDQXVLLEVBQUE3WixFQUFBLFdBQ0FtUixFQUFBbFMsS0FBQXFRLFVBQUEsVUFDQW9sQixHQUFBLEVBQUFuRCxHQUFBLEVBQ0FZLEVBQUEsRUFBQUMsRUFBQSxFQUNBdE8sRUFBQTdrQixLQUFBcVEsVUFBQSxVQUNBOGhCLEVBQUEsRUFBQUMsRUFBQSxDQUVBemdCLEdBQUFqVCxFQUFBLFNBQUEyMEIsR0FXQSxJQUFBLEdBVkFuZSxHQUFBNU0sRUFBQTVJLElBQUEsWUFDQWtKLEVBQUFOLEVBQUE1SSxJQUFBLFFBQ0E0ekIsRUFBQWhyQixFQUFBNUksSUFBQSxVQUNBNFosRUFBQXBFLEVBQUEsR0FDQXFSLEVBQUFyUixFQUFBLEdBQ0FxZSxFQUFBaGQsRUFBQUEsRUFDQWlkLEVBQUFqZCxFQUFBQSxFQUNBa2QsSUFBQWxkLEVBQUFBLEdBQ0FtZCxJQUFBbmQsRUFBQUEsR0FFQTFYLEVBQUEsRUFBQUEsRUFBQStKLEVBQUE3SixPQUFBRixJQUNBK0osRUFBQS9KLEdBQUEsR0FBQTAwQixJQUNBQSxFQUFBM3FCLEVBQUEvSixHQUFBLElBRUErSixFQUFBL0osR0FBQSxHQUFBMDBCLElBQ0FBLEVBQUEzcUIsRUFBQS9KLEdBQUEsSUFFQStKLEVBQUEvSixHQUFBLEdBQUEyMEIsSUFDQUEsRUFBQTVxQixFQUFBL0osR0FBQSxJQUVBK0osRUFBQS9KLEdBQUEsR0FBQTIwQixJQUNBQSxFQUFBNXFCLEVBQUEvSixHQUFBLElBRUErSixFQUFBL0osR0FBQSxHQUFBNDBCLElBQ0FBLEVBQUE3cUIsRUFBQS9KLEdBQUEsSUFFQStKLEVBQUEvSixHQUFBLEdBQUE0MEIsSUFDQUEsRUFBQTdxQixFQUFBL0osR0FBQTtBQUVBK0osRUFBQS9KLEdBQUEsR0FBQTYwQixJQUNBQSxFQUFBOXFCLEVBQUEvSixHQUFBLElBRUErSixFQUFBL0osR0FBQSxHQUFBNjBCLElBQ0FBLEVBQUE5cUIsRUFBQS9KLEdBQUEsR0FJQTAwQixLQUFBaGQsRUFBQUEsSUFBQWdkLEVBQUEsR0FDQUMsSUFBQWpkLEVBQUFBLElBQUFpZCxFQUFBLEdBQ0FDLE1BQUFsZCxFQUFBQSxLQUFBa2QsRUFBQSxHQUNBQyxNQUFBbmQsRUFBQUEsS0FBQWtkLEVBQUEsR0FFQXRCLEVBQUFvQixFQUNBbkIsRUFBQW9CLENBRUEsSUFBQUosR0FBQUYsRUFBQUMsRUFDQS91QixFQUFBK1UsS0FBQXdhLElBQUFGLEVBQUFGLEdBQ0FsdkIsRUFBQThVLEtBQUF3YSxJQUFBRCxFQUFBRixFQUVBLFlBQUFGLEVBQUEsS0FDQWhhLEdBQUFsVixFQUFBQSxFQUFBLEVBQUEsR0FFQSxVQUFBa3ZCLEVBQUEsS0FDQWhhLEdBQUFsVixFQUFBQSxFQUFBLEdBRUEsV0FBQWt2QixFQUFBLEtBQ0EvTSxHQUFBbGlCLEVBQUFBLEVBQUEsRUFBQSxHQUVBLFdBQUFpdkIsRUFBQSxLQUNBL00sR0FBQWxpQixFQUFBQSxFQUFBLEdBRUFndkIsRUFBQTV3QixJQUNBNlcsRUFBQTZZLEVBQ0E1TCxFQUFBNkwsRUFDQWh1QixFQUNBQyxFQUNBK3VCLEVBQ0FBLEVBQ0FBLEVBQ0FBLEtBS0FwekIsS0FBQTRCLE1BQUEsT0FBQSxXQUNBLEdBQUF5d0IsR0FBQS9wQixFQUFBNUksSUFBQSxnQkFDQSxLQUFBMnlCLElBQUFDLEdBQUEsR0FDQTNnQixFQUFBQyxRQUNBTSxFQUFBTixRQUNBNmpCLEdBQUEsSUFFQXoxQixLQUFBNEIsTUFBQSxXQUFBLFdBQ0ErUCxFQUFBQyxVQUdBNVIsS0FBQTRCLE1BQUEsY0FBQSxTQUFBd0IsRUFBQWxCLEdBR0EsSUFBQSxHQUZBa3hCLEdBQUEsRUFFQXYwQixFQUFBLEVBQUFBLEVBQUFxRCxFQUFBbkQsT0FBQUYsSUFDQXFELEVBQUFyRCxHQUFBdTBCLElBQUFBLEVBQUFseEIsRUFBQXJELEdBR0FxMEIsR0FBQUUsRUFBQSxFQUVBcUMsR0FBQSxFQUVBOWpCLEVBQUFDLFFBQ0FNLEVBQUFOLFVBSUE1UixLQUFBNEIsTUFBQSxnQkFBQSxTQUFBd0IsRUFBQWxCLEdBQ0FrQixJQUFBbEIsSUFBQW93QixHQUFBLEdBRUFhLEVBQUFoYSxLQUFBdVQsTUFBQSxHQUFBeHFCLEdBQ0F5UCxFQUFBQyxRQUNBTSxFQUFBTixRQUNBNmpCLEdBQUEsSUFJQXoxQixLQUFBNEIsT0FBQSxjQUFBLGVBQUEsV0FDQTZ6QixHQUFBLEdBSUEsSUFBQXp4QixHQUFBNFcsRUFBQWpZLFNBMENBa2lCLEdBQUFubUIsRUFBQSxTQUFBaUUsR0FDQTh5QixHQUFBRCxhQUFBMzBCLEtBQUFiLE1BQ0E2bUIsRUFBQStNLFVBQUE1ekIsS0FBQTJDLEdBQ0FBLEVBQUFzbUIsVUFBQXJPLEVBQUFBLFlBQUEsRUFBQSxRQy9LQXpaLEdBQUErSyxRQUFBL0ssU0FBQSxXQUNBLFVBQUEsVUFDQSxRQUFBdTBCLHVCQUFBMzBCLEVBQUE4bEIsR0E2RkEsUUFBQThPLGlCQUFBZCxHQU1BLElBQUEsR0FKQXoxQixJQUFBeTFCLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsSUFDQWxqQixFQUFBaWtCLEVBQUFqa0IsTUFBQTFRLFFBQ0E0MEIsR0FBQWxrQixFQUFBbE8sS0FBQSxHQUFBLEVBQUFrTyxFQUFBbE8sS0FBQSxHQUFBLEdBRUE1RSxFQUFBLEVBQUFBLEVBQUFPLEVBQUFMLE9BQUFGLElBQ0FPLEVBQUFQLEdBQUFnM0IsRUFBQSxLQUNBejJCLEVBQUFQLEdBQUFnM0IsRUFBQSxJQUVBejJCLEVBQUFQLEdBQUFnM0IsRUFBQSxLQUNBejJCLEVBQUFQLEdBQUFnM0IsRUFBQSxHQUlBLE9BQUF6MkIsR0FHQSxRQUFBMDJCLGNBQUFuekIsRUFBQXd4QixHQUVBLEdBQUFVLEdBQUFjLGdCQUFBcnRCLEVBQUE1SSxJQUFBLFdBQ0FxMkIsRUFBQSxZQUNBcGtCLEVBQUFpa0IsRUFBQWprQixNQUFBMVEsUUFDQWlnQixFQUFBMFUsRUFBQWprQixNQUFBdVAsUUFFQSxJQUFBaVQsRUFBQSxDQUNBLEdBQUE2QixHQUFBMXRCLEVBQUE1SSxJQUFBLGVBQ0F1MkIsRUFBQTN0QixFQUFBNUksSUFBQSxlQUNBcTBCLEVBQUF6ckIsRUFBQTVJLElBQUEsZUFDQXcyQixFQUFBNXRCLEVBQUE1SSxJQUFBLE1BRUFpRCxHQUFBd3pCLFFBQUFELEVBaUJBLEdBZkF2ekIsRUFBQW14QixZQUVBZSxFQUFBLEdBQUEsRUFDQWx5QixFQUFBeXpCLE9BQUFsVixFQUFBb0YsT0FBQSxHQUFBdU8sRUFBQSxHQUFBM1QsRUFBQW9GLE9BQUEsSUFHQTNqQixFQUFBeXpCLE9BQUFsVixFQUFBb0YsT0FBQSxHQUFBcEYsRUFBQW9GLE9BQUEsSUFJQTZOLElBQ0F4eEIsRUFBQXF4QixZQUFBRCxFQUFBLElBQ0FweEIsRUFBQW94QixZQUFBaUMsRUFBQSxHQUNBcnpCLEVBQUFtVSxVQUFBbWYsRUFBQSxJQUVBcEIsRUFBQSxHQUFBLEVBQUEsQ0FDQWx5QixFQUFBMHpCLE9BQUExa0IsRUFBQWxPLEtBQUEsR0FBQXlkLEVBQUFvRixPQUFBLEdBQUF1TyxFQUFBLEdBQUEzVCxFQUFBb0YsT0FBQSxHQUNBLElBQUFnUSxHQUFBUCxFQUFBbEIsRUFBQSxFQUNBbHlCLEdBQUE0ekIsY0FDQTVrQixFQUFBbE8sS0FBQSxHQUFBeWQsRUFBQW9GLE9BQUEsR0FBQXVPLEVBQUEsR0FBQXlCLEVBQ0FwVixFQUFBb0YsT0FBQSxHQUNBM1UsRUFBQWxPLEtBQUEsR0FBQXlkLEVBQUFvRixPQUFBLEdBQ0FwRixFQUFBb0YsT0FBQSxHQUFBdU8sRUFBQSxHQUFBeUIsRUFDQTNrQixFQUFBbE8sS0FBQSxHQUFBeWQsRUFBQW9GLE9BQUEsR0FDQXBGLEVBQUFvRixPQUFBLEdBQUF1TyxFQUFBLFFBSUFseUIsR0FBQTB6QixPQUFBMWtCLEVBQUFsTyxLQUFBLEdBQUF5ZCxFQUFBb0YsT0FBQSxHQUFBcEYsRUFBQW9GLE9BQUEsR0FVQSxJQVBBNk4sR0FBQXh4QixFQUFBd3hCLFNBRUFBLElBQ0F4eEIsRUFBQXF4QixZQUFBRCxFQUFBLElBQ0FweEIsRUFBQW94QixZQUFBaUMsRUFBQSxHQUNBcnpCLEVBQUFtVSxVQUFBbWYsRUFBQSxJQUVBcEIsRUFBQSxHQUFBLEVBQUEsQ0FDQSxHQUFBeUIsR0FBQVAsRUFBQWxCLEVBQUEsRUFDQWx5QixHQUFBMHpCLE9BQUExa0IsRUFBQWxPLEtBQUEsR0FBQXlkLEVBQUFvRixPQUFBLEdBQUEzVSxFQUFBbE8sS0FBQSxHQUFBeWQsRUFBQW9GLE9BQUEsR0FBQXVPLEVBQUEsSUFDQVYsR0FBQXh4QixFQUFBd3hCLFNBQ0FBLElBQ0F4eEIsRUFBQXF4QixZQUFBRCxFQUFBLElBQ0FweEIsRUFBQW94QixZQUFBaUMsRUFBQSxHQUNBcnpCLEVBQUFtVSxVQUFBbWYsRUFBQSxJQUVBdHpCLEVBQUE0ekIsY0FDQTVrQixFQUFBbE8sS0FBQSxHQUFBeWQsRUFBQW9GLE9BQUEsR0FDQTNVLEVBQUFsTyxLQUFBLEdBQUF5ZCxFQUFBb0YsT0FBQSxHQUFBdU8sRUFBQSxHQUFBeUIsRUFDQTNrQixFQUFBbE8sS0FBQSxHQUFBeWQsRUFBQW9GLE9BQUEsR0FBQXVPLEVBQUEsR0FBQXlCLEVBQ0Eza0IsRUFBQWxPLEtBQUEsR0FBQXlkLEVBQUFvRixPQUFBLEdBQ0EzVSxFQUFBbE8sS0FBQSxHQUFBeWQsRUFBQW9GLE9BQUEsR0FBQXVPLEVBQUEsR0FDQWxqQixFQUFBbE8sS0FBQSxHQUFBeWQsRUFBQW9GLE9BQUEsSUFFQTZOLEdBQUF4eEIsRUFBQXd4QixhQUdBeHhCLEdBQUEwekIsT0FBQTFrQixFQUFBbE8sS0FBQSxHQUFBeWQsRUFBQW9GLE9BQUEsR0FBQTNVLEVBQUFsTyxLQUFBLEdBQUF5ZCxFQUFBb0YsT0FBQSxJQUNBNk4sR0FBQXh4QixFQUFBd3hCLFFBU0EsSUFOQUEsSUFDQXh4QixFQUFBcXhCLFlBQUFELEVBQUEsSUFDQXB4QixFQUFBb3hCLFlBQUFpQyxFQUFBLEdBQ0FyekIsRUFBQW1VLFVBQUFtZixFQUFBLElBR0FwQixFQUFBLEdBQUEsRUFBQSxDQUNBLEdBQUF5QixHQUFBUCxFQUFBbEIsRUFBQSxFQUNBbHlCLEdBQUEwekIsT0FBQW5WLEVBQUFvRixPQUFBLEdBQUF1TyxFQUFBLEdBQUFsakIsRUFBQWxPLEtBQUEsR0FBQXlkLEVBQUFvRixPQUFBLElBRUEzakIsRUFBQTR6QixjQUNBclYsRUFBQW9GLE9BQUEsR0FBQXVPLEVBQUEsR0FBQXlCLEVBQ0Eza0IsRUFBQWxPLEtBQUEsR0FBQXlkLEVBQUFvRixPQUFBLEdBQ0FwRixFQUFBb0YsT0FBQSxHQUNBM1UsRUFBQWxPLEtBQUEsR0FBQXlkLEVBQUFvRixPQUFBLEdBQUF1TyxFQUFBLEdBQUF5QixFQUNBcFYsRUFBQW9GLE9BQUEsR0FDQTNVLEVBQUFsTyxLQUFBLEdBQUF5ZCxFQUFBb0YsT0FBQSxHQUFBdU8sRUFBQSxRQUlBbHlCLEdBQUEwekIsT0FBQW5WLEVBQUFvRixPQUFBLEdBQUEzVSxFQUFBbE8sS0FBQSxHQUFBeWQsRUFBQW9GLE9BQUEsR0FXQSxJQVJBNk4sR0FBQXh4QixFQUFBd3hCLFNBRUFBLElBQ0F4eEIsRUFBQXF4QixZQUFBRCxFQUFBLElBQ0FweEIsRUFBQW94QixZQUFBaUMsRUFBQSxHQUNBcnpCLEVBQUFtVSxVQUFBbWYsRUFBQSxJQUdBcEIsRUFBQSxHQUFBLEVBQUEsQ0FDQSxHQUFBeUIsR0FBQVAsRUFBQWxCLEVBQUEsRUFDQWx5QixHQUFBMHpCLE9BQUFuVixFQUFBb0YsT0FBQSxHQUFBcEYsRUFBQW9GLE9BQUEsR0FBQXVPLEVBQUEsSUFDQVYsR0FBQXh4QixFQUFBd3hCLFNBRUFBLElBQ0F4eEIsRUFBQXF4QixZQUFBRCxFQUFBLElBQ0FweEIsRUFBQTZ6QixXQUFBUixFQUFBLEdBQ0FyekIsRUFBQW1VLFVBQUFtZixFQUFBLElBRUF0ekIsRUFBQTR6QixjQUNBclYsRUFBQW9GLE9BQUEsR0FDQXBGLEVBQUFvRixPQUFBLEdBQUF1TyxFQUFBLEdBQUF5QixFQUNBcFYsRUFBQW9GLE9BQUEsR0FBQXVPLEVBQUEsR0FBQXlCLEVBQ0FwVixFQUFBb0YsT0FBQSxHQUNBcEYsRUFBQW9GLE9BQUEsR0FBQXVPLEVBQUEsR0FDQTNULEVBQUFvRixPQUFBLElBRUE2TixHQUFBeHhCLEVBQUF3eEIsYUFHQXh4QixHQUFBMHpCLE9BQUFuVixFQUFBb0YsT0FBQSxHQUFBcEYsRUFBQW9GLE9BQUEsSUFDQTZOLEdBQUF4eEIsRUFBQXd4QixTQUtBLFFBQUFzQyxhQUlBLElBQUEsR0FIQXIzQixJQUFBLEVBQ0F5MUIsRUFBQXZzQixFQUFBNUksSUFBQSxVQUVBYixFQUFBLEVBQUFBLEVBQUFnMkIsRUFBQTkxQixPQUFBRixJQUNBLEdBQUFnMkIsRUFBQWgyQixHQUFBLEVBQUEsQ0FDQU8sR0FBQSxDQUNBLE9BR0EsTUFBQUEsR0FHQSxRQUFBczNCLGFBSUEsSUFBQSxHQUhBdkMsR0FBQTdyQixFQUFBNUksSUFBQSxlQUNBTixHQUFBLEVBRUFQLEVBQUEsRUFBQUEsRUFBQXMxQixFQUFBcDFCLE9BQUFGLElBQ0EsR0FBQXMxQixFQUFBdDFCLEdBQUEsRUFBQSxDQUNBTyxHQUFBLENBQ0EsT0FJQSxNQUFBQSxHQUdBLFFBQUF1M0IsY0FVQSxJQUFBLEdBVEFYLEdBQUExdEIsRUFBQTVJLElBQUEsZUFDQXUyQixFQUFBM3RCLEVBQUE1SSxJQUFBLGVBQ0FxMEIsRUFBQXpyQixFQUFBNUksSUFBQSxlQUNBazNCLEVBQUFaLEVBQUEsR0FDQWEsRUFBQVosRUFBQSxHQUNBYSxFQUFBL0MsRUFBQSxHQUVBMzBCLEdBQUEsRUFFQVAsRUFBQSxFQUFBQSxFQUFBLEVBQUFBLElBQ0EsR0FDQSszQixJQUFBWixFQUFBbjNCLElBQ0FnNEIsSUFBQVosRUFBQXAzQixJQUNBazFCLEVBQUFsMUIsR0FBQSxLQUFBaTRCLEVBQUEsSUFBQS9DLEVBQUFsMUIsR0FBQSxLQUFBaTRCLEVBQUEsR0FDQSxDQUNBMTNCLEdBQUEsQ0FDQSxPQUdBLE1BQUFBLEdBR0EsUUFBQTB6QixVQUFBbndCLEdBQ0EsR0FBQTB3QixHQUFBdUMsRUFBQWprQixNQUNBQSxFQUFBMGhCLEVBQUFweUIsUUFDQWlnQixFQUFBbVMsRUFBQW5TLFNBQ0FvVCxFQUFBaHNCLEVBQUE1SSxJQUFBLGNBQ0E2MEIsRUFBQWpzQixFQUFBNUksSUFBQSxVQUNBODBCLEVBQUFsc0IsRUFBQTVJLElBQUEsS0FFQSsyQixhQUNBWCxhQUFBbnpCLEdBR0FBLEVBQUFvZSxLQUFBRyxFQUFBb0YsT0FBQSxHQUFBcEYsRUFBQW9GLE9BQUEsR0FBQTNVLEVBQUFsTyxLQUFBLEdBQUFrTyxFQUFBbE8sS0FBQSxJQUdBZCxFQUFBMHhCLE1BRUEsS0FBQSxHQUFBeDFCLEdBQUEsRUFBQUEsRUFBQTIxQixFQUFBejFCLE9BQUFGLElBRUEsR0FBQTIxQixFQUFBMzFCLEdBQUEwa0IsU0FLQSxDQUNBNWdCLEVBQUFnbEIsTUFDQSxJQUFBOE0sR0FBQTlpQixFQUFBbE8sS0FBQSxHQUFBOHdCLEVBQUExMUIsR0FBQSxHQUNBNjFCLEVBQUEvaUIsRUFBQWxPLEtBQUEsR0FBQTh3QixFQUFBMTFCLEdBQUEsR0FDQTgxQixFQUFBaGpCLEVBQUFsTyxLQUFBLEdBQUE2d0IsRUFBQXoxQixHQUFBLEdBQ0ErMUIsRUFBQWpqQixFQUFBbE8sS0FBQSxHQUFBNndCLEVBQUF6MUIsR0FBQSxFQUVBOEQsR0FBQWtxQixVQUFBM0wsRUFBQW9GLE9BQUEsR0FBQXFPLEVBQUF6VCxFQUFBb0YsT0FBQSxHQUFBc08sR0FDQWp5QixFQUFBc21CLFVBQUF1TCxFQUFBMzFCLEdBQUEyMUIsWUFBQSxFQUFBLEVBQUFDLEVBQUFDLEdBQ0EveEIsRUFBQW1sQixjQWJBME0sR0FBQTMxQixHQUFBbVEsR0FBQSxPQUFBLFdBQ0Fna0IsRUFBQXJxQixPQUFBLFFBaUJBLFFBQUErcEIsY0FBQS92QixHQUNBLEdBQUErekIsWUFBQSxDQUNBLEdBQUFWLEdBQUExdEIsRUFBQTVJLElBQUEsZUFDQXUyQixFQUFBM3RCLEVBQUE1SSxJQUFBLGVBQ0FxMEIsRUFBQXpyQixFQUFBNUksSUFBQSxlQUNBMnpCLEVBQUF1QyxFQUFBamtCLE1BQ0FBLEVBQUEwaEIsRUFBQXB5QixRQUNBaWdCLEVBQUFtUyxFQUFBblMsUUFFQSxJQUFBdVYsWUFDQVgsYUFBQW56QixHQUFBLE9BR0EsSUFBQWcwQixhQUFBLENBQ0EsR0FBQVQsR0FBQTV0QixFQUFBNUksSUFBQSxNQUNBaUQsR0FBQXd6QixRQUFBRCxFQUNBdnpCLEVBQUFxeEIsWUFBQUQsRUFBQSxJQUNBcHhCLEVBQUFveEIsWUFBQWlDLEVBQUEsR0FDQXJ6QixFQUFBbVUsVUFBQW1mLEVBQUEsR0FDQXR6QixFQUFBbXhCLFlBQ0FueEIsRUFBQXl6QixPQUFBbFYsRUFBQW9GLE9BQUEsR0FBQXBGLEVBQUFvRixPQUFBLElBQ0EzakIsRUFBQTB6QixPQUFBblYsRUFBQW9GLE9BQUEsR0FBQTNVLEVBQUFsTyxLQUFBLEdBQUF5ZCxFQUFBb0YsT0FBQSxJQUNBM2pCLEVBQUEwekIsT0FBQW5WLEVBQUFvRixPQUFBLEdBQUEzVSxFQUFBbE8sS0FBQSxHQUFBeWQsRUFBQW9GLE9BQUEsR0FBQTNVLEVBQUFsTyxLQUFBLElBQ0FkLEVBQUEwekIsT0FBQW5WLEVBQUFvRixPQUFBLEdBQUFwRixFQUFBb0YsT0FBQSxHQUFBM1UsRUFBQWxPLEtBQUEsSUFDQWQsRUFBQTB6QixPQUFBblYsRUFBQW9GLE9BQUEsR0FBQXBGLEVBQUFvRixPQUFBLElBQ0EzakIsRUFBQXd4QixXQU1BLFFBQUFqQyxZQUFBdnZCLEdBQ0EsR0FBQXl4QixHQUFBOXJCLEVBQUE1SSxJQUFBLFFBQ0EyekIsRUFBQXVDLEVBQUFqa0IsTUFDQUEsRUFBQTBoQixFQUFBcHlCLFFBQ0FpZ0IsRUFBQW1TLEVBQUFuUyxRQUVBdVYsYUFDQVgsYUFBQW56QixHQUdBQSxFQUFBb2UsS0FBQUcsRUFBQW9GLE9BQUEsR0FBQXBGLEVBQUFvRixPQUFBLEdBQUEzVSxFQUFBbE8sS0FBQSxHQUFBa08sRUFBQWxPLEtBQUEsSUFFQWQsRUFBQWlsQixVQUFBd00sRUFDQXp4QixFQUFBeXhCLE9BeFhBLEdBQUFwQixHQUFBanlCLEVBQUEsc0JBQ0F1SCxFQUFBdEksS0FBQXFRLFVBQUEsU0FDQXdVLEVBQUE3a0IsS0FBQXFRLFVBQUEsVUFDQXVsQixFQUFBNTFCLEtBQUFxUSxVQUFBLE9BQ0E2QixFQUFBbFMsS0FBQXFRLFVBQUEsVUFDQTZpQixHQUFBLEVBQUEsRUFBQSxFQUFBLEVBRUFGLEdBQUF4Z0IsTUFBQSxFQUFBLE9BQUEwZixXQUFBMXlCLEtBQUFRLE9BQ0FnekIsRUFBQXhnQixNQUFBLEVBQUEsS0FBQXNnQixTQUFBdHpCLEtBQUFRLE9BQ0FnekIsRUFBQXhnQixNQUFBLEVBQUEsU0FBQWtnQixhQUFBbHpCLEtBQUFRLE9BQ0FnekIsRUFBQXJoQixJQUFBaWtCLEdBRUFBLEVBQUFsM0IsRUFBQSxTQUFBMjBCLEdBRUEsR0FBQW5lLEdBQUE1TSxFQUFBNUksSUFBQSxZQUNBK0QsRUFBQTZFLEVBQUE1SSxJQUFBLFFBQ0E0ekIsRUFBQWhyQixFQUFBNUksSUFBQSxVQUVBNFosRUFBQXBFLEVBQUEsR0FDQXFSLEVBQUFyUixFQUFBLEVBRUEsWUFBQW9lLEVBQUEsS0FDQWhhLEdBQUE3VixFQUFBLEdBQUEsR0FFQSxVQUFBNnZCLEVBQUEsS0FDQWhhLEdBQUE3VixFQUFBLElBRUEsV0FBQTZ2QixFQUFBLEtBQ0EvTSxHQUFBOWlCLEVBQUEsR0FBQSxHQUVBLFdBQUE2dkIsRUFBQSxLQUNBL00sR0FBQTlpQixFQUFBLElBR0E0dkIsRUFBQTV3QixJQUNBNlcsRUFBQWlOLEVBQ0E5aUIsRUFBQSxHQUFBQSxFQUFBLEdBQ0F5dkIsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxNQUlBck8sRUFBQW5tQixFQUFBLFNBQUFpRSxHQUNBa2tCLEVBQUErTSxVQUFBNXpCLEtBQUEyQyxHQUNBcXdCLEVBQUFya0IsS0FBQWhNLEtBR0EzQyxLQUFBNEIsTUFBQSxPQUFBLFNBQUF3QixFQUFBbEIsR0FDQTh3QixFQUFBcnFCLE9BQUEsUUFDQXFxQixFQUFBcnFCLE9BQUEsVUFDQXFxQixFQUFBcnFCLE9BQUEsTUFDQXFxQixFQUFBMXVCLFNBQ0E0TixFQUFBTixRQUNBZ2tCLEVBQUFoa0IsVUFHQTVSLEtBQUE0QixNQUFBLFNBQUEsU0FBQXdCLEVBQUFsQixHQUNBOHdCLEVBQUFycUIsT0FBQSxRQUNBcXFCLEVBQUFycUIsT0FBQSxVQUNBcXFCLEVBQUFycUIsT0FBQSxRQUdBM0ksS0FBQTRCLE1BQUEsY0FBQSxTQUFBd0IsRUFBQWxCLEdBQ0FneEIsRUFBQSxHQUFBaHhCLEVBQUEsR0FDQWd4QixFQUFBLEdBQUFoeEIsRUFBQSxHQUNBZ3hCLEVBQUEsR0FBQWh4QixFQUFBLEdBQ0FneEIsRUFBQSxHQUFBaHhCLEVBQUEsR0FDQTB6QixFQUFBaGtCLFFBQ0FvaEIsRUFBQTF1QixTQUNBNE4sRUFBQU4sUUFDQW9oQixFQUFBcnFCLE9BQUEsUUFDQXFxQixFQUFBcnFCLE9BQUEsVUFDQXFxQixFQUFBcnFCLE9BQUEsUUFHQTNJLEtBQUE0QixPQUFBLFdBQUEsUUFBQSxXQUNBZzBCLEVBQUFoa0IsUUFDQU0sRUFBQU4sVUFHQTVSLEtBQUE0QixPQUFBLEtBQUEsU0FBQSxjQUFBLFdBQ0FveEIsRUFBQXJxQixPQUFBLFFBR0EzSSxLQUFBNEIsT0FBQSxjQUFBLGVBQUEsV0FDQW94QixFQUFBcnFCLE9BQUEsWUFHQTNJLEtBQUE0QixPQUFBLFFBQUEsV0FDQW94QixFQUFBcnFCLE9BQUEsYUM1RkF4SCxHQUFBK0ssUUFBQS9LLFNBQUEsV0FDQSxVQUFBLFNBQUEsV0FDQSxRQUFBNDFCLG9CQUFBbFEsRUFBQTNRLEVBQUFtTCxHQUVBLEdBQUEvWSxHQUFBdEksS0FBQXFRLFVBQUEsU0FDQXNCLEVBQUEzUixLQUFBcVEsVUFBQSxPQUNBd1UsRUFBQTdrQixLQUFBcVEsVUFBQSxVQUNBNkIsRUFBQWxTLEtBQUFxUSxVQUFBLFVBQ0FqTSxFQUFBLEtBQUFDLEVBQUEsS0FBQTRjLEVBQUEsSUFFQXRQLEdBQUFqVCxFQUFBLFNBQUEyMEIsR0FDQSxHQUFBbmUsR0FBQTVNLEVBQUE1SSxJQUFBLFlBQ0E0ekIsRUFBQWhyQixFQUFBNUksSUFBQSxVQUVBNFosRUFBQXBFLEVBQUEsR0FDQXFSLEVBQUFyUixFQUFBLEVBRUEsV0FBQW9lLEVBQUEsS0FDQWhhLEdBQUFsVixFQUFBQSxFQUFBLEVBQUEsR0FFQSxTQUFBa3ZCLEVBQUEsS0FDQWhhLEdBQUFsVixFQUFBQSxFQUFBLEdBRUEsVUFBQWt2QixFQUFBLEtBQ0EvTSxHQUFBbGlCLEVBQUFBLEVBQUEsRUFBQSxHQUVBLFVBQUFpdkIsRUFBQSxLQUNBL00sR0FBQWxpQixFQUFBQSxFQUFBLEdBRUFndkIsRUFBQTV3QixJQUNBNlcsRUFDQWlOLEVBQ0FuaUIsRUFBQUEsRUFBQSxFQUNBQyxFQUFBQSxFQUFBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsS0FJQXdnQixFQUFBbm1CLEVBQUEsU0FBQWlFLEVBQUEyZ0IsRUFBQXZnQixHQUNBa2UsR0FBQUEsRUFBQXNDLFdBQUF0QyxFQUFBOWQsU0FDQThkLEVBQUFyaUIsU0FDQSxPQUFBd0YsR0FBQSxPQUFBQyxHQUNBRCxFQUFBLEdBQUFDLEVBQUEsSUFDQXdpQixFQUFBK00sVUFBQTV6QixLQUFBMkMsR0FDQXNlLEVBQUFyUyxLQUFBMFUsR0FDQTNnQixFQUFBc21CLFVBQUFoSSxFQUFBQSxZQUFBLEVBQUEsRUFBQTdjLEVBQUFDLE1BSUFyRSxLQUFBNEIsTUFBQSxNQUFBLFNBQUF3QixFQUFBbEIsR0FDQSxHQUFBQSxJQUFBa0IsRUFBQSxDQUNBLEdBQUE4VyxHQUFBaEUsRUFBQThnQixpQkFBQTkwQixFQUNBK2UsR0FBQUksRUFBQUgsT0FBQWhILEVBQUEvUSxLQUNBOFgsRUFBQTNlLE9BQUE0WCxFQUFBcVMsUUFDQXRMLEVBQUFqUyxHQUFBLE9BQUEsV0FDQSxNQUFBNUssSUFDQUEsRUFBQTZjLEVBQUE3YyxTQUVBLE1BQUFDLElBQ0FBLEVBQUE0YyxFQUFBNWMsVUFFQTZOLEVBQUFOLFFBQ0FELEVBQUFDLGFBS0E1UixLQUFBNEIsTUFBQSxPQUFBLFNBQUF3QixFQUFBbEIsR0FDQWtCLEVBQUEsS0FBQWxCLEVBQUEsSUFBQWtCLEVBQUEsS0FBQWxCLEVBQUEsS0FDQWtDLEVBQUFsQyxFQUFBLEdBQ0FtQyxFQUFBbkMsRUFBQSxHQUNBeVAsRUFBQUMsV0FHQTVSLEtBQUE0QixNQUFBLFdBQUEsU0FBQXdCLEVBQUFsQixHQUNBa0IsRUFBQSxLQUFBbEIsRUFBQSxJQUFBa0IsRUFBQSxLQUFBbEIsRUFBQSxJQUNBeVAsRUFBQUMsYUMvRUF6USxHQUFBK0ssUUFBQS9LLFNBQUEsV0FDQSxVQUFBLFVBQUEsV0FDQSxRQUFBODFCLGtCQUFBbDJCLEVBQUE4bEIsRUFBQXhGLEdBZUEsUUFBQTZWLGlCQUFBdjBCLEdBQ0F3ZSxFQUFBeFksUUFFQSxJQUFBcU8sR0FBQTFPLEVBQUE1SSxJQUFBLGNBRUFxWCxHQURBek8sRUFBQTVJLElBQUEsU0FDQTRJLEVBQUE1SSxJQUFBLGFBQ0F5M0IsRUFBQTd1QixFQUFBNUksSUFBQSxRQUVBaUQsR0FBQW14QixXQUVBLElBQUFzRCxHQUFBcGdCLEVBQUFELEVBQUEsQ0FFQUEsR0FBQUMsRUFDQW9nQixHQUFBcGdCLEVBQUFELEVBR0FxZ0IsR0FBQXJnQixFQUFBQyxFQUVBbUssRUFBQTNKLFlBQUEsU0FBQTNZLEdBQ0E4RCxFQUFBbXhCLFdBQ0EsSUFBQXZOLEdBQUE2USxFQUFBdjRCLEVBQUFtWSxDQUVBclUsR0FBQXNGLEtBQUFqSSxLQUFBc25CLG9CQUNBM2tCLEVBQUFpbEIsVUFBQTVuQixLQUFBa1gsUUFDQSxXQUFBaWdCLEVBQ0F4MEIsRUFBQWtsQixTQUFBN25CLEtBQUF3SSxVQUFBMlksRUFBQTVKLGlCQUFBdlgsS0FBQW9FLFNBQUEsRUFBQW1pQixHQUVBLFVBQUE0USxFQUNBeDBCLEVBQUFrbEIsU0FBQTduQixLQUFBd0ksU0FBQTJZLEVBQUE1SixpQkFBQXZYLEtBQUFvRSxRQUFBLEVBQUFtaUIsR0FHQTVqQixFQUFBa2xCLFNBQUE3bkIsS0FBQXdJLFNBQUEsRUFBQStkLEtBS0EsUUFBQThRLGVBQ0EsR0FBQUMsR0FBQSxZQUFBQyxFQUFBLFNBQUFBLEVBQ0E3NEIsRUFBQTJpQixFQUFBcFosS0FBQUEsRUFBQUcsRUFBQWt2QixFQUNBNTRCLEdBQUFzUSxHQUFBLE9BQUEsV0FDQXltQixHQUFBLEVBQ0E5akIsRUFBQUMsUUFDQU0sRUFBQU4sUUFDQXVQLEVBQUF4WSxRQUFBLEtBR0FqSyxFQUFBc1EsR0FBQSxRQUFBLFdBQ0F5bUIsR0FBQSxFQUNBOWpCLEVBQUFDLFFBQ0FNLEVBQUFOLFFBQ0F1UCxFQUFBeFksUUFBQSxLQUlBLFFBQUE2dUIsVUFBQTcwQixHQUNBOHlCLElBQ0F6QyxFQUFBdnZCLEtBQUEwZCxFQUFBNUosaUJBQUE0SixFQUFBN0osbUJBQ0EwYixFQUFBcnFCLE9BQUEsUUFDQThzQixHQUFBLEdBRUE1TyxFQUFBK00sVUFBQTV6QixLQUFBMkMsR0FDQXF3QixFQUFBcmtCLEtBQUFoTSxHQTNFQSxHQUFBd2UsR0FBQW5oQixLQUFBcVEsVUFBQSxRQUNBL0gsRUFBQXRJLEtBQUFxUSxVQUFBLFNBQ0FzQixFQUFBM1IsS0FBQXFRLFVBQUEsT0FDQXdVLEVBQUE3a0IsS0FBQXFRLFVBQUEsVUFDQTZCLEVBQUFsUyxLQUFBcVEsVUFBQSxVQUNBb2xCLEdBQUEsRUFDQXh0QixFQUFBSyxFQUFBNUksSUFBQSxRQUNBMEksRUFBQUUsRUFBQTVJLElBQUEsVUFDQTYzQixFQUFBanZCLEVBQUE1SSxJQUFBLFNBQ0FzekIsRUFBQWp5QixFQUFBLHFCQUdBaXlCLEdBQUF4Z0IsTUFBQSxFQUFBLE9BQUEwa0IsaUJBa0VBbDNCLEtBQUE0QixPQUFBLE1BQUEsUUFBQSxPQUFBLFNBQUEsT0FBQSxRQUFBLFdBQUEsY0FBQSxXQUNBNnpCLEdBQUEsRUFDQTlqQixFQUFBQyxRQUNBTSxFQUFBTixVQUdBNVIsS0FBQTRCLE1BQUEsT0FBQSxTQUFBd0IsRUFBQWxCLEdBQ0ErRixFQUFBL0YsRUFDQW0xQixnQkFFQXIzQixLQUFBNEIsTUFBQSxRQUFBLFNBQUF3QixFQUFBbEIsR0FDQXExQixFQUFBcjFCLEVBQ0FtMUIsZ0JBRUFyM0IsS0FBQTRCLE1BQUEsU0FBQSxTQUFBd0IsRUFBQWxCLEdBQ0FrRyxFQUFBbEcsRUFDQW0xQixnQkFHQXIzQixLQUFBNEIsTUFBQSxTQUFBLFdBQ0ErUCxFQUFBQyxRQUNBTSxFQUFBTixVQUdBNVIsS0FBQTRCLE1BQUEsV0FBQSxXQUNBK1AsRUFBQUMsVUFHQUQsRUFBQWpULEVBQUEsU0FBQTIwQixHQUNBLEdBQUFuZSxHQUFBNU0sRUFBQTVJLElBQUEsWUFDQTR6QixFQUFBaHJCLEVBQUE1SSxJQUFBLFVBQ0E0WixFQUFBcEUsRUFBQSxHQUNBcVIsRUFBQXJSLEVBQUEsRUFFQSxZQUFBb2UsRUFBQSxLQUNBaGEsR0FBQTZILEVBQUE1SixpQkFBQSxHQUVBLFVBQUErYixFQUFBLEtBQ0FoYSxHQUFBNkgsRUFBQTVKLGtCQUVBLFdBQUErYixFQUFBLEtBQ0EvTSxHQUFBcEYsRUFBQTdKLGtCQUFBLEdBRUEsV0FBQWdjLEVBQUEsS0FDQS9NLEdBQUFwRixFQUFBN0osbUJBRUErYixFQUFBNXdCLElBQUE2VyxFQUFBaU4sRUFBQXBGLEVBQUE1SixpQkFBQTRKLEVBQUE3SixrQkFBQSxFQUFBLEVBQUEsRUFBQSxLQUdBdU4sRUFBQW5tQixFQUFBODRCLGFDbElBcjJCLEdBQUErSyxRQUFBL0ssU0FBQSxXQUNBLFVBQUEsU0FBQSxRQUFBLFFBQ0EsUUFBQXMyQixpQkFBQTcyQixFQUFBc1YsRUFBQStiLEVBQUE1aUIsR0FRQSxRQUFBcW9CLGtCQUFBOXVCLEVBQUFqSixHQUNBLElBQUEsR0FBQWQsR0FBQSxFQUFBQSxFQUFBK0osRUFBQTdKLE9BQUFGLElBQ0FjLEVBQUFkLElBQ0FjLEVBQUFZLEtBQUFaLEVBQUFBLEVBQUFaLE9BQUEsR0FJQTZKLEdBQUE3SixPQUFBWSxFQUFBWixRQUNBWSxFQUFBa1QsT0FBQWpLLEVBQUE3SixPQUFBLEVBQUFZLEVBQUFaLE9BQUE2SixFQUFBN0osUUFmQTZCLEVBQUFaLEtBQUEsdUJBQ0FZLEVBQUFaLEtBQUEsMEJBQ0FZLEVBQUFaLEtBQUEsMEJBRUEsSUFBQXNJLEdBQUF0SSxLQUFBcVEsVUFBQSxRQUNBclEsTUFBQXFRLFVBQUEsWUFlQS9ILEdBQUF0SCxPQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQ0EsU0FBQUMsR0FDQSxHQUFBZ3hCLEVBQUEwRixnQkFBQTEyQixHQUFBLENBQ0EsR0FBQXNVLEdBQUFqTixFQUFBNUksSUFBQSxRQUNBTixFQUFBNnlCLEVBQUEyRixrQkFBQTMyQixFQW9CQSxPQW5CQTdCLEdBQUEsR0FBQSxLQUFBQSxFQUFBQSxFQUFBTCxPQUFBLEdBQUEsSUFBQUssRUFBQSxHQUFBLEtBQUFBLEVBQUFBLEVBQUFMLE9BQUEsR0FBQSxJQUNBSyxFQUFBbUIsTUFDQW5CLEVBQUFBLEVBQUFMLE9BQUEsR0FBQSxHQUNBSyxFQUFBQSxFQUFBTCxPQUFBLEdBQUEsR0FDQUssRUFBQSxHQUFBLEdBQ0FBLEVBQUEsR0FBQSxHQUNBQSxFQUFBQSxFQUFBTCxPQUFBLEdBQUEsR0FDQUssRUFBQUEsRUFBQUwsT0FBQSxHQUFBLEdBQ0FLLEVBQUEsR0FBQSxHQUNBQSxFQUFBLEdBQUEsS0FJQW1XLEVBQUF4VyxTQUFBSyxFQUFBTCxTQUNBMjRCLGlCQUFBdDRCLEVBQUFrSixFQUFBNUksSUFBQSxnQkFDQWc0QixpQkFBQXQ0QixFQUFBa0osRUFBQTVJLElBQUEsZ0JBQ0FnNEIsaUJBQUF0NEIsRUFBQWtKLEVBQUE1SSxJQUFBLGlCQUdBTixFQUlBLE1BREFpUSxHQUFBekssS0FBQSw4Q0FDQSxHQUdBLFNBQUEzRCxHQUNBLE1BQUFneEIsR0FBQTRGLG1CQUFBNTJCLFFDdkRBRSxHQUFBK0ssUUFBQS9LLFNBQUEsV0FDQSxVQUFBLFNBQUEsU0FBQSxRQUNBLFFBQUEyMkIsbUJBQUFsM0IsRUFBQTRtQixFQUFBdFIsRUFBQTdHLEdBQ0F6TyxFQUFBWixLQUFBLHVCQUNBWSxFQUFBWixLQUFBLHlCQUVBLElBQUFzSSxHQUFBdEksS0FBQXFRLFVBQUEsU0FDQWQsRUFBQXZQLEtBQUFxUSxVQUFBLFlBRUEvSCxHQUFBdEgsT0FBQSxFQUFBLFNBQUEsRUFDQSxTQUFBQyxHQUNBLEdBQUEsZ0JBQUFBLEdBR0EsTUFGQUEsR0FBQSxJQUFBQSxFQUFBLEdBRUFBLEdBR0EsU0FBQUEsR0FDQSxNQUFBQSxLQUdBc08sRUFBQWtCLE1BQUEsU0FBQSxFQUNBLFNBQUFwTyxFQUFBdWQsRUFBQTNlLEdBQ0EsZ0JBQUFBLElBQ0FBLEVBQUEsSUFBQUEsRUFBQSxHQUNBb0IsRUFBQXJDLEtBQUFzSSxNQUFBLFdBQ0FzWCxFQUFBM2UsSUFHQW9PLEVBQUF6SyxNQUFBL0MsRUFBQVosR0FBQSxzQ0FHQSxTQUFBQSxHQUVBLE1BREFBLEdBQUEsSUFBQUEsRUFBQSxHQUNBQSxJQUlBcUgsRUFBQXRILE9BQUEsRUFBQSxjQUFBLEVBQ0EsU0FBQUMsR0FDQSxHQUFBLGdCQUFBQSxHQUdBLE1BRkFBLEdBQUEsSUFBQUEsRUFBQSxHQUVBQSxHQUdBLFNBQUFBLEdBQ0EsTUFBQUEsS0FJQXNPLEVBQUFrQixNQUFBLGNBQUEsRUFDQSxTQUFBcE8sRUFBQXVkLEVBQUEzZSxHQUNBLGdCQUFBQSxLQUNBQSxFQUFBLElBQUFBLEVBQUEsR0FDQW9CLEVBQUFyQyxLQUFBc0ksTUFBQSxnQkFDQXNYLEVBQUEzZSxLQUdBLFNBQUFBLEdBRUEsTUFEQUEsR0FBQSxJQUFBQSxFQUFBLEdBQ0FBLElBSUFxSCxFQUFBdEgsT0FBQSxFQUFBLGNBQUEsZ0JBQ0EsU0FBQUMsR0FDQSxNQUFBLGdCQUFBQSxHQUNBdW1CLEVBQUFDLGFBQUF4bUIsR0FDQUEsR0FHQW9PLEVBQUF6SyxNQUFBNk4sSUFBQXhSLEdBQUEsNkNBQ0EsR0FHQSxnQkFBQUEsSUFBQUEsRUFBQVosY0FBQUMsTUFDQWtuQixFQUFBdVEsUUFBQTkyQixHQUNBdW1CLEVBQUF3USxhQUFBLzJCLElBR0FvTyxFQUFBekssTUFBQTZOLElBQUF4UixHQUFBLDZDQUNBLEdBTkEsUUFVQSxTQUFBQSxHQUNBLE1BQUF1bUIsR0FBQUMsYUFBQXhtQixLQUlBc08sRUFBQWtCLE1BQUEsY0FBQSxFQUNBLFNBQUFwTyxFQUFBdWQsRUFBQTNlLEdBQ0EsR0FBQSxnQkFBQUEsR0FBQSxDQUNBLEdBQUFpVyxHQUFBc1EsRUFBQUMsYUFBQXhtQixFQUNBaVcsSUFDQTdVLEVBQUFyQyxLQUFBc0ksTUFBQSxnQkFDQXNYLEVBQUExSSxJQUdBN0gsRUFBQXpLLE1BQUEvQyxFQUFBWixHQUFBLGtEQUdBLGdCQUFBQSxJQUFBQSxFQUFBWixjQUFBQyxPQUNBa25CLEVBQUF1USxRQUFBOTJCLElBQ0FvQixFQUFBckMsS0FBQXNJLE1BQUEsZ0JBQ0FzWCxFQUFBMUosRUFBQXljLFdBQUExeEIsS0FPQW9PLEVBQUF6SyxNQUFBL0MsRUFBQVosR0FBQSwrQ0FHQSxTQUFBQSxHQUVBLE1BREF1bUIsR0FBQXlRLFVBQUFoM0IsR0FDQUEsSUFJQXFILEVBQUF0SCxPQUFBLEVBQUEsZUFBQSxFQUFBLEdBQ0EsU0FBQUMsR0FDQSxHQUFBLGdCQUFBQSxJQUFBQSxFQUFBWixjQUFBQyxNQUFBLENBQ0EsR0FBQTRWLEVBQUFnaUIsa0JBQUFqM0IsR0FBQSxDQUNBLEdBQUEsSUFBQUEsRUFBQWxDLE9BU0EsTUFEQXNRLEdBQUF6SyxNQUFBNk4sSUFBQXhSLEdBQUEsOENBQ0EsQ0FSQSxLQUFBLEdBQUFwQyxHQUFBLEVBQUFBLEVBQUFvQyxFQUFBbEMsT0FBQUYsSUFDQW9DLEVBQUFwQyxHQUFBLElBQ0FvQyxFQUFBcEMsR0FBQSxFQVFBLE9BQUFxWCxHQUFBeWMsV0FBQTF4QixHQUlBLE1BREFvTyxHQUFBekssTUFBQTZOLElBQUF4UixHQUFBLDhDQUNBLEVBS0EsTUFEQW9PLEdBQUF6SyxNQUFBNk4sSUFBQXhSLEdBQUEsNkNBQ0EsR0FHQSxTQUFBQSxHQUNBLE1BQUFpVixHQUFBeWMsV0FBQTF4QixLQUdBc08sRUFBQWtCLE1BQUEsY0FBQSxFQUNBLFNBQUFwTyxFQUFBdWQsRUFBQTNlLEdBQ0EsZ0JBQUFBLElBQUFBLEVBQUFaLGNBQUFDLE9BQ0E0VixFQUFBaWlCLGtCQUFBbDNCLElBQ0EsSUFBQUEsRUFBQWxDLFFBQ0FzRCxFQUFBckMsS0FBQXNJLE1BQUEsZ0JBQ0FzWCxFQUFBMUosRUFBQXljLFdBQUExeEIsS0FXQW9PLEVBQUF6SyxNQUFBL0MsRUFBQVosR0FBQSwrQ0FHQSxTQUFBQSxHQUdBLE1BRkFBLEdBQUEsR0FBQSxJQUFBQSxFQUFBLEdBQUEsR0FDQUEsRUFBQSxHQUFBLElBQUFBLEVBQUEsR0FBQSxHQUNBQSxPQ2hMQUUsR0FBQStLLFFBQUEvSyxTQUFBLFdBQ0EsU0FBQSxRQUFBLFFBQ0EsUUFBQWkzQixvQkFBQWxpQixFQUFBK2IsRUFBQTVpQixHQUVBLEdBQUEvRyxHQUFBdEksS0FBQXFRLFVBQUEsU0FDQWQsRUFBQXZQLEtBQUFxUSxVQUFBLFlBRUEvSCxHQUFBdEgsT0FBQSxFQUFBLFlBQUEsRUFBQSxHQUNBLFNBQUFDLEdBQ0EsTUFBQWlWLEdBQUFpaUIsa0JBQUFsM0IsSUFBQSxJQUFBQSxFQUFBbEMsT0FDQW1YLEVBQUF5YyxXQUFBMXhCLElBR0FvTyxFQUFBekssS0FBQSx3Q0FDQSxJQUdBLFNBQUEzRCxHQUNBLE1BQUFpVixHQUFBeWMsV0FBQTF4QixLQUlBc08sRUFBQWtCLE1BQUEsV0FBQSxFQUNBLFNBQUFwTyxFQUFBdWQsRUFBQTNlLEdBQ0FpVixFQUFBaWlCLGtCQUFBbDNCLElBQUEsSUFBQUEsRUFBQWxDLFFBQ0FzRCxFQUFBckMsS0FBQXNJLE1BQUEsYUFDQXNYLEVBQUExSixFQUFBeWMsV0FBQTF4QixLQUdBb08sRUFBQXpLLE1BQUEvQyxFQUFBWixHQUFBLCtCQUdBLFNBQUFBLEdBQ0EsTUFBQUEsS0FJQXFILEVBQUF0SCxPQUFBLEVBQUEsU0FBQSxFQUNBLFNBQUFDLEdBQ0EsR0FBQSxnQkFBQUEsR0FRQSxNQVBBQSxVQUNBQSxHQUFBLEtBRUFBLEVBQUEsTUFDQUEsR0FBQSxLQUVBQSxFQUFBQSxFQUFBa1ksS0FBQSthLEdBQUEsS0FJQSxTQUFBanpCLEdBQ0EsTUFBQUEsSUFBQSxJQUFBa1ksS0FBQSthLE1BR0Eza0IsRUFBQWtCLE1BQUEsU0FBQSxFQUNBLFNBQUFwTyxFQUFBdWQsRUFBQTNlLEdBQ0EsZ0JBQUFBLElBQ0FvQixFQUFBckMsS0FBQXNJLE1BQUEsV0FDQXNYLEVBQUEzZSxJQUdBb08sRUFBQXpLLE1BQUEvQyxFQUFBWixHQUFBLDJDQUdBLFNBQUFBLEdBQ0EsTUFBQUEsS0FJQXFILEVBQUF0SCxPQUFBLEVBQUEsYUFBQSxFQUFBLEdBQ0EsU0FBQUMsR0FDQSxNQUFBaVYsR0FBQWlpQixrQkFBQWwzQixJQUFBLElBQUFBLEVBQUFsQyxPQUNBbVgsRUFBQXljLFdBQUExeEIsSUFHQW9PLEVBQUF6SyxLQUFBLHlDQUNBLElBR0EsU0FBQTNELEdBQ0EsTUFBQWlWLEdBQUF5YyxXQUFBMXhCLEtBSUFzTyxFQUFBa0IsTUFBQSxZQUFBLEVBQ0EsU0FBQXBPLEVBQUF1ZCxFQUFBM2UsR0FDQWlWLEVBQUFpaUIsa0JBQUFsM0IsSUFBQSxJQUFBQSxFQUFBbEMsUUFDQXNELEVBQUFyQyxLQUFBc0ksTUFBQSxjQUNBc1gsRUFBQTFKLEVBQUF5YyxXQUFBMXhCLEtBR0FvTyxFQUFBekssTUFBQS9DLEVBQUFaLEdBQUEsZ0NBR0EsU0FBQUEsR0FDQSxNQUFBQSxLQUtBcUgsRUFBQXRILE9BQUEsRUFBQSxVQUFBLEVBQ0EsU0FBQUMsR0FDQSxNQUFBLGdCQUFBQSxJQUNBQSxFQUFBLElBQ0FBLEVBQUEsR0FFQUEsRUFBQSxJQUNBQSxFQUFBLEdBRUFBLElBR0FvTyxFQUFBekssS0FBQSxrQ0FDQSxJQUdBLFNBQUEzRCxHQUNBLE1BQUFBLEtBR0FzTyxFQUFBa0IsTUFBQSxVQUFBLEVBQ0EsU0FBQXBPLEVBQUF1ZCxFQUFBM2UsR0FDQSxnQkFBQUEsSUFDQUEsRUFBQSxJQUFBQSxFQUFBLEdBQ0FBLEVBQUEsSUFBQUEsRUFBQSxHQUNBb0IsRUFBQXJDLEtBQUFzSSxNQUFBLFlBQ0FzWCxFQUFBM2UsSUFHQW9PLEVBQUF6SyxNQUFBL0MsRUFBQVosR0FBQSxnQ0FHQSxTQUFBQSxHQUdBLE1BRkFBLEdBQUEsSUFBQUEsRUFBQSxHQUNBQSxFQUFBLElBQUFBLEVBQUEsR0FDQUEsSUFJQXFILEVBQUF0SCxPQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsU0FBQUMsR0FDQSxNQUFBLGdCQUFBQSxHQUNBQSxFQUFBLEdBQ0FBLEVBQUFBLElBR0EsRUFBQSxHQUdBaVYsRUFBQWlpQixrQkFBQWwzQixJQUFBLElBQUFBLEVBQUFsQyxPQUNBbVgsRUFBQXljLFdBQUExeEIsSUFHQW9PLEVBQUF6SyxLQUFBLHFDQUNBLElBR0EsU0FBQTNELEdBQ0EsTUFBQWlWLEdBQUF5YyxXQUFBMXhCLEtBSUFzTyxFQUFBa0IsTUFBQSxRQUFBLEVBQ0EsU0FBQXBPLEVBQUF1ZCxFQUFBM2UsR0FDQSxHQUFBLGdCQUFBQSxHQUNBQSxFQUFBLElBQUFBLEVBQUEsR0FDQW9CLEVBQUFyQyxLQUFBc0ksTUFBQSxVQUNBc1gsR0FBQTNlLEVBQUFBLFFBRUEsSUFBQWlWLEVBQUFpaUIsa0JBQUFsM0IsSUFBQSxJQUFBQSxFQUFBbEMsT0FBQSxDQUNBc0QsRUFBQXJDLEtBQUFzSSxNQUFBLFNBQ0EsSUFBQSt2QixJQUFBcDNCLEVBQUEsR0FBQUEsRUFBQSxHQUNBbzNCLEdBQUEsR0FBQSxJQUFBQSxFQUFBLEdBQUEsR0FDQUEsRUFBQSxHQUFBLElBQUFBLEVBQUEsR0FBQSxHQUNBelksRUFBQXlZLE9BR0FocEIsR0FBQXpLLE1BQUEvQyxFQUFBWixHQUFBLDRCQUdBLFNBQUFBLEdBR0EsTUFGQUEsR0FBQSxHQUFBLElBQUFBLEVBQUEsR0FBQSxHQUNBQSxFQUFBLEdBQUEsSUFBQUEsRUFBQSxHQUFBLEdBQ0FBLElBSUFxSCxFQUFBdEgsT0FBQSxFQUFBLFFBQUEsRUFBQSxHQUNBLFNBQUFDLEdBQ0EsR0FBQSxnQkFBQUEsR0FBQSxDQUNBQSxFQUFBLE1BQ0FBLEdBQUEsS0FFQUEsU0FDQUEsR0FBQSxJQUVBLElBQUFxM0IsR0FBQXIzQixFQUFBa1ksS0FBQSthLEdBQUEsR0FFQSxRQUFBb0UsRUFBQUEsR0FFQSxHQUFBcGlCLEVBQUFpaUIsa0JBQUFsM0IsSUFBQSxJQUFBQSxFQUFBbEMsT0FBQSxDQUNBa0MsRUFBQSxHQUFBLE1BQ0FBLEVBQUEsR0FBQUEsRUFBQSxHQUFBLEtBRUFBLEVBQUEsVUFDQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUEsSUFFQSxJQUFBczNCLEdBQUF0M0IsRUFBQSxHQUFBa1ksS0FBQSthLEdBQUEsSUFDQXNFLEVBQUF2M0IsRUFBQSxHQUFBa1ksS0FBQSthLEdBQUEsR0FFQSxRQUFBcUUsRUFBQUMsR0FHQW5wQixFQUFBekssTUFBQS9DLEVBQUFaLEdBQUEseUNBR0EsU0FBQUEsR0FDQSxNQUFBaVYsR0FBQXljLFdBQUExeEIsS0FJQXNPLEVBQUFrQixNQUFBLE9BQUEsRUFDQSxTQUFBcE8sRUFBQXVkLEVBQUEzZSxHQUNBLGdCQUFBQSxJQUNBb0IsRUFBQXJDLEtBQUFzSSxNQUFBLFNBQ0FzWCxHQUFBM2UsRUFBQUEsS0FFQWlWLEVBQUFpaUIsa0JBQUFsM0IsSUFBQSxJQUFBQSxFQUFBbEMsUUFDQXNELEVBQUFyQyxLQUFBc0ksTUFBQSxTQUNBc1gsRUFBQTFKLEVBQUF5YyxXQUFBMXhCLEtBR0FvTyxFQUFBekssTUFBQS9DLEVBQUFaLEdBQUEsMkJBR0EsU0FBQUEsR0FDQSxNQUFBQSxLQUlBcUgsRUFBQXRILE9BQUEsRUFBQSxVQUFBLEdBQUEsSUFDQSxTQUFBQyxHQUNBLE1BQUEsZ0JBQUFBLElBQUFBLEVBQUFaLGNBQUFDLE1BQ0E0VixFQUFBaWlCLGtCQUFBbDNCLElBQUEsSUFBQUEsRUFBQWxDLFFBQ0FrQyxFQUFBLEdBQUFBLEVBQUEsS0FHQW9PLEVBQUF6SyxLQUFBLHVEQUNBLElBSUF5SyxFQUFBekssS0FBQSxxQ0FDQSxJQUdBLFNBQUEzRCxHQUNBaVYsRUFBQXljLFdBQUExeEIsS0FJQXNPLEVBQUFrQixNQUFBLFNBQUEsRUFDQSxTQUFBcE8sRUFBQXVkLEVBQUEzZSxHQUNBaVYsRUFBQWlpQixrQkFBQWwzQixJQUFBLElBQUFBLEVBQUFsQyxRQUNBc0QsRUFBQXJDLEtBQUFzSSxNQUFBLFdBQ0FzWCxFQUFBMUosRUFBQXljLFdBQUExeEIsS0FHQW9PLEVBQUF6SyxNQUFBL0MsRUFBQVosR0FBQSw2QkFHQSxTQUFBQSxHQUNBLE1BQUFBLEtBSUFxSCxFQUFBdEgsT0FBQSxFQUFBLE1BQUEsUUFDQSxTQUFBQyxHQUNBLE1BQUEsZ0JBQUFBLEdBQ0EsVUFBQUEsR0FBQSxTQUFBQSxHQUFBLFdBQUFBLEVBQ0FBLEdBR0FvTyxFQUFBbE0sT0FBQXNQLElBQUF4UixHQUFBLG9EQUNBLE9BSUFvTyxHQUFBbE0sTUFBQSw4QkFHQSxTQUFBbEMsR0FDQSxNQUFBQSxLQUlBLFVBQUFqQixLQUFBOFEsU0FDQXhJLEVBQUF0SCxPQUFBLEVBQUEsV0FBQSxjQUNBLFNBQUFDLEdBQ0EsTUFBQWlWLEdBQUF1aUIsY0FBQXgzQixHQUNBQSxHQUdBb08sRUFBQXpLLE1BQUE2TixJQUFBeFIsR0FBQSxzQ0FDQSxJQUdBLFNBQUFBLEdBQ0EsTUFBQUEsS0FHQXFILEVBQUF0SCxPQUFBLEVBQUEsVUFBQSxPQUFBLE9BQ0EsU0FBQUMsR0FDQSxNQUFBLGdCQUFBQSxJQUFBQSxFQUFBWixjQUFBQyxPQUFBLElBQUFXLEVBQUFsQyxPQUVBLFNBQUFrQyxFQUFBLElBQUEsV0FBQUEsRUFBQSxJQUFBLFVBQUFBLEVBQUEsSUFDQSxRQUFBQSxFQUFBLElBQUEsV0FBQUEsRUFBQSxJQUFBLFdBQUFBLEVBQUEsSUFLQW9PLEVBQUF6SyxNQUFBL0MsRUFBQVosR0FBQSwySEFDQSxJQUpBQSxFQUFBLEdBQUFBLEVBQUEsS0FRQW9PLEVBQUF6SyxNQUFBL0MsRUFBQVosR0FBQSx1REFDQSxJQUdBLFNBQUFBLEdBQ0EsT0FBQUEsRUFBQSxHQUFBQSxFQUFBLFVDM1VBRSxHQUFBK0ssUUFBQS9LLFNBQUEsV0FDQSxTQUFBLFNBQUEsUUFDQSxRQUFBdTNCLHdCQUFBeGlCLEVBQUFzUixFQUFBblksR0FFQSxHQUFBL0csR0FBQXRJLEtBQUFxUSxVQUFBLFFBRUEvSCxHQUFBdEgsT0FBQSxFQUFBLGdCQUFBLEVBQ0EsU0FBQUMsR0FLQSxNQUpBQSxHQUFBLEtBQUFBLEVBQUEsSUFFQUEsRUFBQSxJQUFBQSxFQUFBLEdBRUFBLEdBRUEsU0FBQUEsR0FDQSxNQUFBQSxLQUlBcUgsRUFBQXRILE9BQUEsRUFBQSxlQUFBLGlCQUNBLFNBQUFDLEdBRUEsR0FBQSxnQkFBQUEsR0FBQSxDQUVBLEdBQUF1bUIsRUFBQUMsYUFBQXhtQixHQUFBLENBSUEsSUFBQSxHQUhBMkgsR0FBQU4sRUFBQTVJLElBQUEsUUFDQU4sS0FFQVAsRUFBQSxFQUFBQSxFQUFBK0osRUFBQTdKLE9BQUFGLElBQ0FPLEVBQUFQLEdBQUFvQyxDQUdBLE9BQUE3QixHQUlBLE1BREFpUSxHQUFBekssTUFBQTZOLElBQUF4UixHQUFBLHVDQUNBLEVBR0EsR0FBQSxnQkFBQUEsSUFBQUEsRUFBQVosYUFBQUMsTUFBQSxDQUtBLElBQUEsR0FKQXNJLEdBQUFOLEVBQUE1SSxJQUFBLFFBQ0E2VixFQUFBak4sRUFBQTVJLElBQUEsZUFDQU4sS0FFQVAsRUFBQSxFQUFBQSxFQUFBK0osRUFBQTdKLE9BQUFGLElBQ0FvQyxFQUFBcEMsR0FDQSxnQkFBQW9DLEdBQUFwQyxHQUNBMm9CLEVBQUFDLGFBQUF4bUIsRUFBQXBDLElBQ0FPLEVBQUFtQixLQUFBVSxFQUFBcEMsSUFHQTBXLEVBQUExVyxJQUNBTyxFQUFBbUIsS0FBQWdWLEVBQUExVyxJQUNBd1EsRUFBQXpLLE1BQUE2TixJQUFBeFIsRUFBQXBDLElBQUEseURBR0FPLEVBQUFtQixLQUFBZ1YsRUFBQUEsRUFBQXhXLE9BQUEsSUFDQXNRLEVBQUF6SyxNQUFBNk4sSUFBQXhSLEVBQUFwQyxJQUFBLG9FQUtBLGdCQUFBb0MsR0FBQXBDLElBQUFvQyxFQUFBcEMsR0FBQXdCLGFBQUFDLFFBQ0FrbkIsRUFBQXVRLFFBQUE5MkIsRUFBQXBDLElBQ0FPLEVBQUFtQixLQUFBaW5CLEVBQUF3USxhQUFBLzJCLEVBQUFwQyxLQWNBMFcsRUFBQTFXLElBQ0FPLEVBQUFtQixLQUFBZ1YsRUFBQTFXLElBQ0F3USxFQUFBekssTUFBQTZOLElBQUF4UixFQUFBcEMsSUFBQSx5REFHQU8sRUFBQW1CLEtBQUFnVixFQUFBQSxFQUFBeFcsT0FBQSxJQUNBc1EsRUFBQXpLLE1BQUE2TixJQUFBeFIsRUFBQXBDLElBQUEsbUVBS0EwVyxFQUFBMVcsSUFDQU8sRUFBQW1CLEtBQUFnVixFQUFBMVcsSUFDQXdRLEVBQUF6SyxNQUFBNk4sSUFBQXhSLEVBQUFwQyxJQUFBLHlEQUdBTyxFQUFBbUIsS0FBQWdWLEVBQUFBLEVBQUF4VyxPQUFBLElBQ0FzUSxFQUFBekssTUFBQTZOLElBQUF4UixFQUFBcEMsSUFBQSxrRUFLQSxPQUFBTyxHQUFBTCxPQUNBSyxHQUdBaVEsRUFBQXpLLE1BQUE2TixJQUFBeFIsR0FBQSx1Q0FDQSxHQUdBLEdBQUEsZ0JBQUFBLEdBQUEsQ0FLQSxJQUFBLEdBSkEySCxHQUFBTixFQUFBNUksSUFBQSxRQUNBNlYsRUFBQWpOLEVBQUE1SSxJQUFBLGVBQ0FOLEtBRUFQLEVBQUEsRUFBQUEsRUFBQStKLEVBQUE3SixPQUFBRixJQUNBb0MsRUFBQXBDLEdBQ0EsZ0JBQUFvQyxHQUFBcEMsR0FDQTJvQixFQUFBQyxhQUFBeG1CLEVBQUFwQyxJQUNBTyxFQUFBbUIsS0FBQVUsRUFBQXBDLElBR0EwVyxFQUFBMVcsSUFDQU8sRUFBQW1CLEtBQUFnVixFQUFBMVcsSUFDQXdRLEVBQUF6SyxNQUFBNk4sSUFBQXhSLEVBQUFwQyxJQUFBLHlEQUdBTyxFQUFBbUIsS0FBQWdWLEVBQUFBLEVBQUF4VyxPQUFBLElBQ0FzUSxFQUFBekssTUFBQTZOLElBQUF4UixFQUFBcEMsSUFBQSxvRUFLQSxnQkFBQW9DLEdBQUFwQyxJQUFBb0MsRUFBQXBDLEdBQUF3QixhQUFBQyxRQUNBa25CLEVBQUF1USxRQUFBOTJCLEVBQUFwQyxJQUNBTyxFQUFBbUIsS0FBQWluQixFQUFBd1EsYUFBQS8yQixFQUFBcEMsS0FjQTBXLEVBQUExVyxJQUNBTyxFQUFBbUIsS0FBQWdWLEVBQUExVyxJQUNBd1EsRUFBQXpLLE1BQUE2TixJQUFBeFIsRUFBQXBDLElBQUEseURBR0FPLEVBQUFtQixLQUFBZ1YsRUFBQUEsRUFBQXhXLE9BQUEsSUFDQXNRLEVBQUF6SyxNQUFBNk4sSUFBQXhSLEVBQUFwQyxJQUFBLG1FQUtBMFcsRUFBQTFXLElBQ0FPLEVBQUFtQixLQUFBZ1YsRUFBQTFXLElBQ0F3USxFQUFBekssTUFBQTZOLElBQUF4UixFQUFBcEMsSUFBQSx5REFHQU8sRUFBQW1CLEtBQUFnVixFQUFBQSxFQUFBeFcsT0FBQSxJQUNBc1EsRUFBQXpLLE1BQUE2TixJQUFBeFIsRUFBQXBDLElBQUEsa0VBS0EsT0FBQU8sR0FBQUwsT0FDQUssR0FHQWlRLEVBQUF6SyxNQUFBNk4sSUFBQXhSLEdBQUEsdUNBQ0EsR0FLQSxNQURBb08sR0FBQXpLLEtBQUEscUNBQ0EsR0FLQSxTQUFBM0QsR0FHQSxJQUFBLEdBRkE3QixNQUVBUCxFQUFBLEVBQUFBLEVBQUFvQyxFQUFBbEMsT0FBQUYsSUFDQU8sRUFBQW1CLEtBQUFpbkIsRUFBQUMsYUFBQXhtQixFQUFBcEMsSUFHQSxPQUFBTyxLQUlBa0osRUFBQXRILE9BQUEsRUFBQSxlQUFBLEdBQ0EsU0FBQUMsR0FDQSxHQUFBLGdCQUFBQSxHQUFBLENBSUEsSUFBQSxHQUhBMkgsR0FBQU4sRUFBQTVJLElBQUEsUUFDQU4sS0FFQVAsRUFBQSxFQUFBQSxFQUFBK0osRUFBQTdKLE9BQUFGLElBQ0FPLEVBQUFtQixLQUFBVSxFQUdBLE9BQUE3QixHQUVBLEdBQUEsZ0JBQUE2QixJQUFBQSxFQUFBWixhQUFBQyxNQUFBLENBS0EsSUFBQSxHQUpBc0ksR0FBQU4sRUFBQTVJLElBQUEsUUFDQTZWLEVBQUFqTixFQUFBNUksSUFBQSxlQUNBTixLQUVBUCxFQUFBLEVBQUFBLEVBQUErSixFQUFBN0osT0FBQUYsSUFDQSxnQkFBQW9DLEdBQUFwQyxHQUNBTyxFQUFBbUIsS0FBQVUsRUFBQXBDLElBR0EwVyxFQUFBMVcsSUFDQU8sRUFBQW1CLEtBQUFnVixFQUFBMVcsSUFDQXdRLEVBQUF6SyxNQUFBNk4sSUFBQXhSLEVBQUFwQyxJQUFBLHlDQUdBTyxFQUFBbUIsS0FBQWdWLEVBQUFBLEVBQUF4VyxPQUFBLElBQ0FzUSxFQUFBekssTUFBQTZOLElBQUF4UixFQUFBcEMsSUFBQSx1Q0FJQSxPQUFBTyxHQUVBLEdBQUEsZ0JBQUE2QixHQUFBLENBSUEsSUFBQSxHQUhBMkgsR0FBQU4sRUFBQTVJLElBQUEsUUFDQTZWLEVBQUFqTixFQUFBNUksSUFBQSxlQUNBTixLQUNBUCxFQUFBLEVBQUFBLEVBQUErSixFQUFBN0osT0FBQUYsSUFDQW9DLEVBQUFwQyxHQUNBLGdCQUFBb0MsR0FBQXBDLEdBQ0FPLEVBQUFtQixLQUFBVSxFQUFBcEMsSUFHQTBXLEVBQUExVyxJQUNBTyxFQUFBbUIsS0FBQWdWLEVBQUExVyxJQUNBd1EsRUFBQXpLLE1BQUE2TixJQUFBeFIsRUFBQXBDLElBQUEseUNBR0FPLEVBQUFtQixLQUFBZ1YsRUFBQUEsRUFBQXhXLE9BQUEsSUFDQXNRLEVBQUF6SyxNQUFBNk4sSUFBQXhSLEVBQUFwQyxJQUFBLHdDQUtBMFcsRUFBQTFXLElBQ0FPLEVBQUFtQixLQUFBZ1YsRUFBQTFXLElBQ0F3USxFQUFBekssTUFBQTZOLElBQUF4UixFQUFBcEMsSUFBQSx3Q0FHQU8sRUFBQW1CLEtBQUFnVixFQUFBQSxFQUFBeFcsT0FBQSxHQUlBLE9BQUFLLEdBR0FpUSxFQUFBekssTUFBQTZOLElBQUF4UixHQUFBLDJEQUdBLFNBQUFBLEdBQ0EsTUFBQWlWLEdBQUF5YyxXQUFBMXhCLEtBSUFxSCxFQUFBdEgsT0FBQSxFQUFBLGdCQUFBLEVBQUEsSUFDQSxTQUFBQyxHQUNBLEdBQUEsZ0JBQUFBLElBQUFBLEVBQUFaLGFBQUFDLE1BQUEsQ0FDQSxHQUFBNFYsRUFBQWlpQixrQkFBQWwzQixHQUFBLENBSUEsSUFBQSxHQUhBN0IsTUFDQXdKLEVBQUFOLEVBQUE1SSxJQUFBLFFBRUFiLEVBQUEsRUFBQUEsRUFBQStKLEVBQUE3SixPQUFBRixJQUNBTyxFQUFBbUIsS0FBQTJWLEVBQUF5YyxXQUFBMXhCLEdBR0EsT0FBQTdCLEdBT0EsSUFBQSxHQUpBQSxNQUNBd0osRUFBQU4sRUFBQTVJLElBQUEsUUFDQTZWLEVBQUFqTixFQUFBNUksSUFBQSxlQUVBYixFQUFBLEVBQUFBLEVBQUErSixFQUFBN0osT0FBQUYsSUFDQW9DLEVBQUFwQyxHQUNBcVgsRUFBQWlpQixrQkFBQWwzQixFQUFBcEMsSUFDQU8sRUFBQW1CLEtBQUFVLEVBQUFwQyxLQUdBMFcsRUFBQTFXLEdBQ0FPLEVBQUFtQixLQUFBZ1YsRUFBQTFXLElBR0FPLEVBQUFtQixLQUFBZ1YsRUFBQUEsRUFBQXhXLE9BQUEsSUFFQXNRLEVBQUF6SyxNQUFBNk4sSUFBQXhSLEVBQUFwQyxJQUFBLDZEQUlBMFcsRUFBQTFXLEdBQ0FPLEVBQUFtQixLQUFBZ1YsRUFBQTFXLElBR0FPLEVBQUFtQixLQUFBZ1YsRUFBQUEsRUFBQXhXLE9BQUEsR0FLQSxPQUFBSyxHQUdBLEdBQUEsZ0JBQUE2QixHQUFBLENBS0EsSUFBQSxHQUpBN0IsTUFDQW1XLEVBQUFqTixFQUFBNUksSUFBQSxlQUNBa0osRUFBQU4sRUFBQTVJLElBQUEsUUFFQWIsRUFBQSxFQUFBQSxFQUFBK0osRUFBQTdKLE9BQUFGLElBQ0FvQyxFQUFBcEMsR0FDQXFYLEVBQUFpaUIsa0JBQUFsM0IsRUFBQXBDLElBQ0FPLEVBQUFtQixLQUFBVSxFQUFBcEMsS0FHQTBXLEVBQUExVyxHQUNBTyxFQUFBbUIsS0FBQWdWLEVBQUExVyxJQUdBTyxFQUFBbUIsS0FBQWdWLEVBQUFBLEVBQUF4VyxPQUFBLElBRUFzUSxFQUFBekssTUFBQTZOLElBQUF4UixFQUFBcEMsSUFBQSw2REFJQTBXLEVBQUExVyxHQUNBTyxFQUFBbUIsS0FBQWdWLEVBQUExVyxJQUdBTyxFQUFBbUIsS0FBQWdWLEVBQUFBLEVBQUF4VyxPQUFBLEdBS0EsT0FBQUssS0FHQSxTQUFBNkIsR0FDQSxNQUFBaVYsR0FBQXljLFdBQUExeEIsUUM5VkFFLEdBQUErSyxRQUFBL0ssU0FBQSxXQUNBLFNBQUEsU0FBQSxRQUFBLFdBQ0EsUUFBQXczQix1QkFBQXppQixFQUFBc1IsRUFBQW5ZLEVBQUFnUyxHQUlBLFFBQUF1WCxnQkFBQXBFLEVBQUE3MEIsRUFBQW95QixHQUNBLElBQUEsR0FBQWx6QixHQUFBLEVBQUFBLEVBQUEyMUIsRUFBQXoxQixPQUFBRixJQUNBYyxFQUFBZCxJQUNBYyxFQUFBWSxLQUFBMlYsRUFBQXljLFdBQUFaLEdBSUF5QyxHQUFBejFCLE9BQUFZLEVBQUFaLFFBQ0FZLEVBQUFrVCxPQUFBMmhCLEVBQUF6MUIsT0FBQSxFQUFBWSxFQUFBWixPQUFBNkosS0FBQTdKLFFBWEEsR0FBQXVKLEdBQUF0SSxLQUFBcVEsVUFBQSxTQUNBZCxFQUFBdlAsS0FBQXFRLFVBQUEsWUFlQS9ILEdBQUF0SCxPQUFBLEVBQUEsT0FBQSxnQkFDQSxTQUFBQyxHQUNBLE1BQUEsZ0JBQUFBLEdBQ0F1bUIsRUFBQUMsYUFBQXhtQixHQUNBQSxHQUdBb08sRUFBQXpLLE1BQUE2TixJQUFBeFIsR0FBQSxrQ0FDQSxHQUdBLGdCQUFBQSxJQUFBQSxFQUFBWixjQUFBQyxNQUNBa25CLEVBQUF1USxRQUFBOTJCLEdBQ0F1bUIsRUFBQXdRLGFBQUEvMkIsSUFHQW9PLEVBQUF6SyxNQUFBNk4sSUFBQXhSLEdBQUEsaUNBQ0EsSUFJQW9PLEVBQUF6SyxNQUFBNk4sSUFBQXhSLEdBQUEsa0NBQ0EsSUFHQSxTQUFBQSxHQUNBLE1BQUF1bUIsR0FBQUMsYUFBQXhtQixLQUlBc08sRUFBQWtCLE1BQUEsT0FBQSxFQUNBLFNBQUFwTyxFQUFBdWQsRUFBQTNlLEdBQ0EsR0FBQSxnQkFBQUEsR0FBQSxDQUNBLEdBQUFpVyxHQUFBc1EsRUFBQUMsYUFBQXhtQixFQUNBaVcsSUFDQTdVLEVBQUFyQyxLQUFBc0ksTUFBQSxTQUNBc1gsRUFBQTFJLElBR0E3SCxFQUFBekssTUFBQS9DLEVBQUFaLEdBQUEsa0NBR0EsZ0JBQUFBLElBQUFBLEVBQUFaLGNBQUFDLE1BQ0FrbkIsRUFBQXVRLFFBQUE5MkIsS0FDQW9CLEVBQUFyQyxLQUFBc0ksTUFBQSxTQUNBc1gsRUFBQTFKLEVBQUF5YyxXQUFBMXhCLEtBSUFvTyxFQUFBekssTUFBQS9DLEVBQUFaLEdBQUEsZ0NBR0EsU0FBQUEsR0FFQSxNQURBdW1CLEdBQUF5USxVQUFBaDNCLEdBQ0FBLElBSUFxSCxFQUFBdEgsT0FBQSxFQUFBLFFBQ0EsU0FBQUMsR0FDQSxHQUFBLGdCQUFBQSxHQUFBLENBQ0EsR0FBQWlWLEVBQUEyaUIsZUFBQTUzQixHQUFBLENBQ0EsR0FBQWlaLEdBQUFoRSxFQUFBOGdCLGlCQUFBLzFCLEdBQ0Frd0IsRUFBQTlQLEVBQUFILE9BQUFoSCxFQUFBL1EsSUFJQSxPQUZBZ29CLEdBQUE3dUIsT0FBQTRYLEVBQUFxUyxTQUVBNEUsR0FHQSxPQUFBOVAsRUFBQUosTUFBQWhnQixJQUdBLEdBQUEsZ0JBQUFBLElBQUFBLEVBQUFaLGNBQUFDLE1BQUEsQ0FDQSxHQUFBLElBQUFXLEVBQUFsQyxRQUFBLGdCQUFBa0MsR0FBQSxJQUFBLGdCQUFBQSxHQUFBLEdBQUEsQ0FDQSxHQUFBQSxFQUFBLEdBQUEsRUFBQSxDQUNBLEdBQUFrd0IsR0FBQTlQLEVBQUFILE9BQUFqZ0IsRUFBQSxHQUVBLE9BREFrd0IsR0FBQTd1QixPQUFBckIsRUFBQSxLQUNBa3dCLEdBR0EsT0FBQSxFQU1BLElBQUEsR0FGQS94QixNQUVBUCxFQUFBLEVBQUFBLEVBQUFvQyxFQUFBbEMsT0FBQUYsSUFDQSxHQUFBLGdCQUFBb0MsR0FBQXBDLEdBQ0EsR0FBQXFYLEVBQUEyaUIsZUFBQTUzQixFQUFBcEMsSUFBQSxDQUNBLEdBQUFxYixHQUFBaEUsRUFBQThnQixpQkFBQS8xQixFQUFBcEMsSUFDQXN5QixFQUFBOVAsRUFBQUgsT0FBQWhILEVBQUEvUSxJQUVBZ29CLEdBQUE3dUIsT0FBQTRYLEVBQUFxUyxRQUVBbnRCLEVBQUFtQixLQUFBVSxPQUdBN0IsR0FBQW1CLEtBQUE4Z0IsRUFBQUosTUFBQWhnQixFQUFBcEMsU0FHQSxJQUFBLGdCQUFBb0MsR0FBQXBDLElBQUFvQyxFQUFBcEMsR0FBQXdCLGFBQUFDLE9BQ0EsR0FBQSxHQUFBVyxFQUFBcEMsR0FBQUUsUUFBQSxnQkFBQWtDLEdBQUFwQyxHQUFBLElBQUEsZ0JBQUFvQyxHQUFBcEMsR0FBQSxHQUNBLEdBQUFvQyxFQUFBcEMsR0FBQSxHQUFBLEVBQUEsQ0FDQSxHQUFBc3lCLEdBQUE5UCxFQUFBSCxPQUFBamdCLEVBQUFwQyxHQUFBLEdBQ0FzeUIsR0FBQTd1QixPQUFBckIsRUFBQXBDLEdBQUEsSUFDQU8sRUFBQW1CLEtBQUE0d0IsT0FHQTloQixHQUFBekssTUFDQTZOLElBQUF4UixFQUFBcEMsR0FDQUEsRUFBQUEsR0FDQSxzREFLQXdRLEdBQUF6SyxNQUFBNk4sSUFBQXhSLEVBQUFwQyxHQUFBQSxFQUFBQSxHQUFBLGdEQUlBLE9BQUFPLEdBR0EsR0FBQSxnQkFBQTZCLEdBQUEsQ0FJQSxJQUFBLEdBSEFzVSxHQUFBak4sRUFBQTVJLElBQUEsTUFDQU4sS0FFQVAsRUFBQSxFQUFBQSxFQUFBMFcsRUFBQXhXLE9BQUFGLElBQ0EsR0FBQW9DLEVBQUFwQyxHQUNBLEdBQUEsZ0JBQUFvQyxHQUFBcEMsSUFBQW9DLEVBQUFwQyxHQUFBd0IsYUFBQUMsTUFDQSxHQUFBLGdCQUFBVyxHQUFBcEMsR0FBQSxJQUFBLGdCQUFBb0MsR0FBQXBDLEdBQUEsR0FBQSxDQUNBLEdBQUFzeUIsR0FBQTlQLEVBQUFILE9BQUFqZ0IsRUFBQXBDLEdBQUEsR0FFQXN5QixHQUFBN3VCLE9BQUFyQixFQUFBcEMsR0FBQSxJQUVBTyxFQUFBbUIsS0FBQTR3QixPQUdBOWhCLEdBQUF6SyxNQUFBNk4sSUFBQXhSLEVBQUFwQyxHQUFBQSxFQUFBQSxHQUFBLG1EQUdBLElBQUEsZ0JBQUFvQyxHQUFBcEMsR0FDQSxHQUFBcVgsRUFBQTJpQixlQUFBNTNCLEVBQUFwQyxJQUFBLENBQ0EsR0FBQXFiLEdBQUFoRSxFQUFBOGdCLGlCQUFBLzFCLEVBQUFwQyxJQUNBc3lCLEVBQUE5UCxFQUFBSCxPQUFBaEgsRUFBQS9RLElBRUFnb0IsR0FBQTd1QixPQUFBNFgsRUFBQXFTLFFBRUFudEIsRUFBQW1CLEtBQUFVLE9BR0E3QixHQUFBbUIsS0FBQThnQixFQUFBSixNQUFBaGdCLEVBQUFwQyxTQUlBTyxHQUFBbUIsS0FBQWdWLEVBQUExVyxJQUNBd1EsRUFBQXpLLE1BQUE2TixJQUFBeFIsRUFBQXBDLEdBQUFBLEVBQUFBLEdBQUEsaURBSUFPLEdBQUFtQixLQUFBZ1YsRUFBQTFXLEdBSUEsT0FBQU8sR0FJQSxNQURBaVEsR0FBQXpLLE1BQUE2TixJQUFBeFIsR0FBQSxzQ0FDQSxHQUlBLFNBQUFBLEdBR0EsSUFBQSxHQUZBN0IsTUFFQVAsRUFBQSxFQUFBQSxFQUFBb0MsRUFBQWxDLE9BQUFGLElBQ0EsU0FBQW9DLEVBQUFwQyxHQUFBaVMsS0FDQTFSLEVBQUFtQixLQUFBVSxFQUFBcEMsR0FBQXNLLE9BRUEsVUFBQWxJLEVBQUFwQyxHQUFBaVMsS0FDQTFSLEVBQUFtQixLQUFBVSxFQUFBcEMsR0FBQXNLLE1BQUEsSUFBQWxJLEVBQUFwQyxHQUFBMHRCLFNBQUEsS0FHQWxkLEVBQUFsTSxPQUNBc1AsSUFBQXhSLEVBQUFwQyxHQUNBQSxFQUFBQSxHQUNBLGdGQUlBLE9BQUFPLElBSUEsSUFBQTA1QixJQUFBLEVBQUEsRUFFQXh3QixHQUFBdEgsT0FBQSxFQUFBLGNBQUE4M0IsR0FDQSxTQUFBNzNCLEdBQ0EsR0FBQSxnQkFBQUEsSUFBQUEsRUFBQVosYUFBQUMsTUFBQSxDQUNBLEdBQUE0VixFQUFBaWlCLGtCQUFBbDNCLElBQUEsR0FBQUEsRUFBQWxDLE9BQUEsQ0FNQSxJQUFBLEdBTEF5MUIsR0FBQWxzQixFQUFBNUksSUFBQSxNQUNBTixLQUVBMjVCLEdBQUE5M0IsRUFBQSxHQUFBQSxFQUFBLElBRUFwQyxFQUFBLEVBQUFBLEVBQUEyMUIsRUFBQXoxQixPQUFBRixJQUNBTyxFQUFBbUIsS0FBQXc0QixFQUdBLE9BQUEzNUIsR0FPQSxJQUFBLEdBSkFBLE1BQ0FvMUIsRUFBQWxzQixFQUFBNUksSUFBQSxNQUNBNDBCLEVBQUFoc0IsRUFBQTVJLElBQUEsY0FFQWIsRUFBQSxFQUFBQSxFQUFBMjFCLEVBQUF6MUIsT0FBQUYsSUFDQW9DLEVBQUFwQyxHQUNBcVgsRUFBQWlpQixrQkFBQWwzQixFQUFBcEMsS0FBQSxHQUFBb0MsRUFBQXBDLEdBQUFFLE9BQ0FLLEVBQUFtQixNQUFBVSxFQUFBLEdBQUFBLEVBQUEsTUFHQXF6QixFQUFBejFCLEdBQ0FPLEVBQUFtQixLQUFBK3pCLEVBQUF6MUIsSUFHQU8sRUFBQW1CLEtBQUEyVixFQUFBeWMsV0FBQW1HLElBR0F6cEIsRUFBQXpLLE1BQ0EvRixFQUFBQSxFQUNBNFQsSUFBQXhSLEVBQUFwQyxJQUNBLGlEQUlBeTFCLEVBQUF6MUIsR0FDQU8sRUFBQW1CLEtBQUErekIsRUFBQXoxQixJQUdBTyxFQUFBbUIsS0FBQTJWLEVBQUF5YyxXQUFBbUcsR0FLQSxPQUFBMTVCLEdBR0EsR0FBQSxnQkFBQTZCLEdBQUEsQ0FLQSxJQUFBLEdBSkE3QixNQUNBbzFCLEVBQUFsc0IsRUFBQTVJLElBQUEsTUFDQTQwQixFQUFBaHNCLEVBQUE1SSxJQUFBLGNBRUFiLEVBQUEsRUFBQUEsRUFBQTIxQixFQUFBejFCLE9BQUFGLElBQ0FvQyxFQUFBcEIsZUFBQWhCLEdBQ0F5MUIsRUFBQXoxQixHQUNBcVgsRUFBQWdpQixxQkFBQSxHQUFBajNCLEVBQUFwQyxHQUFBRSxPQUNBSyxFQUFBbUIsTUFBQVUsRUFBQSxHQUFBQSxFQUFBLE1BR0E3QixFQUFBbUIsS0FBQSt6QixFQUFBejFCLElBQ0F3USxFQUFBekssTUFDQS9GLEVBQUFBLEVBQ0E0VCxJQUFBeFIsRUFBQXBDLElBQ0EsaURBSUFPLEVBQUFtQixLQUFBMlYsRUFBQXljLFdBQUFtRyxJQUlBeEUsRUFBQXoxQixHQUNBTyxFQUFBbUIsS0FBQSt6QixFQUFBejFCLElBR0FPLEVBQUFtQixLQUFBMlYsRUFBQXljLFdBQUFtRyxHQUtBLE9BQUExNUIsR0FHQWlRLEVBQUF6SyxNQUFBNk4sSUFBQXhSLEdBQUEsNENBR0EsU0FBQUEsR0FDQSxNQUFBaVYsR0FBQXljLFdBQUExeEIsSUFJQSxJQUFBKzNCLElBQUEsRUFBQSxFQUVBMXdCLEdBQUF0SCxPQUFBLEVBQUEsVUFBQWc0QixHQUNBLFNBQUEvM0IsR0FDQSxHQUFBLGdCQUFBQSxJQUFBQSxFQUFBWixhQUFBQyxNQUFBLENBQ0EsR0FBQSxHQUFBVyxFQUFBbEMsUUFBQW1YLEVBQUFpaUIsa0JBQUFsM0IsR0FBQSxDQUtBLElBQUEsR0FKQXV6QixHQUFBbHNCLEVBQUE1SSxJQUFBLE1BQ0FOLEtBQ0EyNUIsR0FBQTkzQixFQUFBLEdBQUFBLEVBQUEsSUFFQXBDLEVBQUEsRUFBQUEsRUFBQTIxQixFQUFBejFCLE9BQUFGLElBQ0FPLEVBQUFtQixLQUFBdzRCLEVBR0EsT0FBQTM1QixHQU9BLElBQUEsR0FKQW8xQixHQUFBbHNCLEVBQUE1SSxJQUFBLE1BQ0E2MEIsRUFBQWpzQixFQUFBNUksSUFBQSxVQUNBTixLQUVBUCxFQUFBLEVBQUFBLEVBQUEyMUIsRUFBQXoxQixPQUFBRixJQUNBLEdBQUFvQyxFQUFBcEMsR0FBQUUsUUFBQW1YLEVBQUFpaUIsa0JBQUFsM0IsRUFBQXBDLElBQ0FPLEVBQUFtQixLQUFBVSxFQUFBcEMsR0FBQSxHQUFBb0MsRUFBQXBDLEdBQUEsS0FHQTAxQixFQUFBMTFCLEdBQ0FPLEVBQUFtQixLQUFBZzBCLEVBQUExMUIsSUFHQU8sRUFBQW1CLEtBQUEyVixFQUFBeWMsV0FBQXFHLElBRUEzcEIsRUFBQXpLLE1BQUE2TixJQUFBeFIsRUFBQXBDLEdBQUFBLEVBQUFBLEdBQUEsNENBSUEsT0FBQU8sR0FHQSxHQUFBLGdCQUFBNkIsR0FBQSxDQUtBLElBQUEsR0FKQXV6QixHQUFBbHNCLEVBQUE1SSxJQUFBLE1BQ0E2MEIsRUFBQWpzQixFQUFBNUksSUFBQSxVQUNBTixLQUVBUCxFQUFBLEVBQUFBLEVBQUEyMUIsRUFBQXoxQixPQUFBRixJQUNBb0MsRUFBQXBCLGVBQUFoQixHQUNBLGdCQUFBb0MsR0FBQXBDLElBQUFvQyxFQUFBcEMsR0FBQXdCLGFBQUFDLE9BQ0EsR0FBQVcsRUFBQXBDLEdBQUFFLFFBQUFtWCxFQUFBaWlCLGtCQUFBbDNCLEVBQUFwQyxJQUNBTyxFQUFBbUIsTUFBQVUsRUFBQXBDLEdBQUEsR0FBQW9DLEVBQUFwQyxHQUFBLE1BYUEwMUIsRUFBQTExQixHQUNBTyxFQUFBbUIsS0FBQWcwQixFQUFBMTFCLElBR0FPLEVBQUFtQixLQUFBMlYsRUFBQXljLFdBQUFxRyxJQUVBM3BCLEVBQUF6SyxNQUFBNk4sSUFBQXhSLEVBQUFwQyxHQUFBQSxFQUFBQSxHQUFBLDhDQUlBMDFCLEVBQUExMUIsR0FDQU8sRUFBQW1CLEtBQUFnMEIsRUFBQTExQixJQUdBTyxFQUFBbUIsS0FBQTJWLEVBQUF5YyxXQUFBcUcsR0FLQSxPQUFBNTVCLEtBR0EsU0FBQTZCLEdBQ0EsTUFBQWlWLEdBQUF5YyxXQUFBMXhCLEtBSUFqQixLQUFBNEIsTUFBQSxLQUFBLFNBQUF3QixFQUFBbEIsR0FDQWtCLEVBQUFyRSxTQUFBbUQsRUFBQW5ELFNBQ0E2NUIsZUFBQTEyQixFQUFBb0csRUFBQTVJLElBQUEsY0FBQW81QixHQUNBRixlQUFBMTJCLEVBQUFvRyxFQUFBNUksSUFBQSxVQUFBczVCLFNDblpBNzNCLEdBQUErSyxRQUFBL0ssU0FBQSxXQUNBLFNBQ0EsUUFBQTgzQixpQkFBQS9pQixHQUVBLEdBQUEzRyxHQUFBdlAsS0FBQXFRLFVBQUEsYUFDQS9ILEVBQUF0SSxLQUFBcVEsVUFBQSxRQUVBZCxHQUFBa0IsTUFBQSxPQUFBLEVBQ0EsU0FBQXBPLEVBQUF1ZCxFQUFBM2UsR0FDQSxnQkFBQUEsSUFDQUEsRUFBQSxJQUFBQSxFQUFBLEdBRUFvQixFQUFBckMsS0FBQXNJLE1BQUEsU0FDQXNYLEdBQUEzZSxFQUFBQSxLQUVBLGdCQUFBQSxJQUFBQSxFQUFBWixhQUFBQyxPQUNBNFYsRUFBQWlpQixrQkFBQWwzQixJQUFBLEdBQUFBLEVBQUFsQyxRQUNBa0MsRUFBQSxHQUFBLElBQUFBLEVBQUEsR0FBQSxHQUNBQSxFQUFBLEdBQUEsSUFBQUEsRUFBQSxHQUFBLEdBRUFvQixFQUFBckMsS0FBQXNJLE1BQUEsU0FDQXNYLEVBQUExSixFQUFBeWMsV0FBQTF4QixLQU9Bb08sTUFBQXpLLE1BQUEvQyxFQUFBWixHQUFBLHNDQUdBLFNBQUFBLEdBR0EsTUFGQUEsR0FBQSxHQUFBLElBQUFBLEVBQUEsR0FBQSxHQUNBQSxFQUFBLEdBQUEsSUFBQUEsRUFBQSxHQUFBLEdBQ0FBLElBSUFxSCxFQUFBdEgsT0FBQSxFQUFBLFFBQUEsRUFBQSxHQUNBLFNBQUFDLEdBQ0EsTUFBQSxnQkFBQUEsSUFDQUEsRUFBQSxJQUFBQSxFQUFBLElBQ0FBLEVBQUFBLElBRUEsZ0JBQUFBLElBQUFBLEVBQUFaLGFBQUFDLE9BQ0EsR0FBQVcsRUFBQWxDLFFBQUFtWCxFQUFBaWlCLGtCQUFBbDNCLElBQ0FBLEVBQUEsR0FBQSxJQUFBQSxFQUFBLEdBQUEsR0FDQUEsRUFBQSxHQUFBLElBQUFBLEVBQUEsR0FBQSxJQUVBQSxFQUFBLEdBQUFBLEVBQUEsTUFRQW9PLE1BQUF6SyxNQUFBNk4sSUFBQXhSLEdBQUEseUNBQ0EsSUFHQSxTQUFBQSxHQUNBLE1BQUFpVixHQUFBeWMsV0FBQTF4QixRQzdEQUUsR0FBQStLLFFBQUEvSyxTQUFBLFdBQ0EsVUFDQSxRQUFBKzNCLGtCQUFBdDRCLEdBRUFBLEVBQUFaLEtBQUEsMEJDTEFtQixHQUFBK0ssUUFBQS9LLFNBQUEsV0FDQSxVQUFBLFFBQ0EsUUFBQWc0QixrQkFBQXY0QixFQUFBeU8sR0FFQXpPLEVBQUFaLEtBQUEsdUJBQ0FZLEVBQUFaLEtBQUEsbUJBRUEsSUFBQXNJLEdBQUF0SSxLQUFBcVEsVUFBQSxRQUVBL0gsR0FBQXRILE9BQUEsRUFBQSxNQUFBLEtBQ0EsU0FBQUMsR0FDQSxNQUFBLGdCQUFBQSxHQUNBQSxHQUdBb08sRUFBQXpLLE1BQUE2TixJQUFBeFIsR0FBQSxxQ0FDQSxJQUdBLFNBQUFBLEdBQ0EsTUFBQUEsUUNwQkFFLEdBQUErSyxRQUFBL0ssU0FBQSxXQUNBLFVBQUEsU0FBQSxRQUFBLFNBQUEsUUFDQSxRQUFBaTRCLGlCQUFBeDRCLEVBQUFzVixFQUFBK2IsRUFBQXpLLEVBQUFuWSxHQVNBLFFBQUFxb0Isa0JBQUE5dUIsRUFBQWpKLEdBQ0EsSUFBQSxHQUFBZCxHQUFBLEVBQUFBLEVBQUErSixFQUFBN0osT0FBQUYsSUFDQWMsRUFBQWQsSUFDQWMsRUFBQVksS0FBQVosRUFBQUEsRUFBQVosT0FBQSxJQVZBNkIsRUFBQVosS0FBQSx1QkFDQVksRUFBQVosS0FBQSwwQkFJQSxJQUFBc0ksR0FBQXRJLEtBQUFxUSxVQUFBLFFBV0EvSCxHQUFBdEgsT0FBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUNBLFNBQUFDLEdBQ0EsR0FBQWd4QixFQUFBMEYsZ0JBQUExMkIsR0FBQSxDQUNBLEdBQUFzVSxHQUFBak4sRUFBQTVJLElBQUEsUUFDQU4sRUFBQTZ5QixFQUFBMkYsa0JBQUEzMkIsRUFRQSxPQU5Bc1UsR0FBQXhXLFNBQUFLLEVBQUFMLFNBQ0EyNEIsaUJBQUF0NEIsRUFBQWtKLEVBQUE1SSxJQUFBLGdCQUNBZzRCLGlCQUFBdDRCLEVBQUFrSixFQUFBNUksSUFBQSxnQkFDQWc0QixpQkFBQXQ0QixFQUFBa0osRUFBQTVJLElBQUEsaUJBR0FOLEVBSUEsTUFEQWlRLEdBQUF6SyxLQUFBLHlDQUNBLEdBR0EsU0FBQTNELEdBQ0EsTUFBQWd4QixHQUFBNEYsbUJBQUE1MkIsUUN4Q0FFLEdBQUErSyxRQUFBL0ssU0FBQSxXQUNBLFVBQUEsU0FBQSxTQUFBLFFBQ0EsUUFBQWs0QixzQkFBQXo0QixFQUFBc1YsRUFBQXNSLEVBQUFuWSxHQUVBek8sRUFBQVosS0FBQSx1QkFDQVksRUFBQVosS0FBQSwwQkFDQVksRUFBQVosS0FBQSxtQkFFQSxJQUFBc0ksR0FBQXRJLEtBQUFxUSxVQUFBLFNBQ0FkLEVBQUF2UCxLQUFBcVEsVUFBQSxZQUVBL0gsR0FBQXRILE9BQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsU0FBQUMsR0FDQSxHQUFBLGdCQUFBQSxHQUVBLE1BREFBLEdBQUFrWSxLQUFBdVQsTUFBQXpyQixJQUNBQSxFQUFBQSxFQUFBQSxFQUFBQSxFQUVBLElBQUEsZ0JBQUFBLEdBQUEsQ0FDQSxHQUFBQSxFQUFBWixjQUFBQyxNQStCQSxDQUlBLElBQUEsR0FIQWlWLEdBQUFqTixFQUFBNUksSUFBQSxVQUNBK1MsS0FFQTVULEVBQUEsRUFBQUEsRUFBQTBXLEVBQUF4VyxPQUFBRixJQUNBLGdCQUFBb0MsR0FBQXBDLEdBQ0E0VCxFQUFBbFMsS0FBQTRZLEtBQUF1VCxNQUFBenJCLEVBQUFwQyxLQUdBNFQsRUFBQWxTLEtBQUFnVixFQUFBMVcsR0FHQSxPQUFBNFQsR0F2Q0EsSUFBQSxHQUhBclQsTUFDQTBILEdBQUEsRUFFQWpJLEVBQUEsRUFBQUEsRUFBQW9DLEVBQUFsQyxPQUFBRixJQUFBLENBQ0EsR0FBQSxnQkFBQW9DLEdBQUFwQyxHQVFBLENBQ0FpSSxHQUFBLENBQ0EsT0FUQTdGLEVBQUFwQyxHQUFBLEVBQ0FPLEVBQUFtQixLQUFBLEdBR0FuQixFQUFBbUIsS0FBQTRZLEtBQUF1VCxNQUFBenJCLEVBQUFwQyxLQVFBLEdBQUFpSSxFQUFBLENBRUEsSUFBQSxHQURBMkwsTUFBQThDLEVBQUF2VixLQUFBc0ksTUFBQSxVQUNBekosRUFBQSxFQUFBQSxFQUFBMFcsRUFBQXhXLE9BQUFGLElBQ0FVLFNBQUFILEVBQUFQLEdBQ0E0VCxFQUFBbFMsS0FBQW5CLEVBQUFQLElBR0E0VCxFQUFBbFMsS0FBQWdWLEVBQUExVyxHQUdBLE9BQUE0VCxNQW1CQSxTQUFBeFIsR0FDQSxNQUFBaVYsR0FBQXljLFdBQUExeEIsS0FJQXNPLEVBQUFrQixNQUFBLFNBQUEsRUFDQSxTQUFBcE8sRUFBQXVkLEVBQUEzZSxHQUNBLEdBQUEsZ0JBQUFBLEdBQ0FBLEVBQUEsSUFBQUEsRUFBQSxHQUNBb0IsRUFBQXJDLEtBQUFzSSxNQUFBLFdBQ0FzWCxHQUFBM2UsRUFBQUEsRUFBQUEsRUFBQUEsUUFFQSxJQUFBLGdCQUFBQSxHQUFBLENBQ0EsR0FBQXNVLEdBQUF2VixLQUFBc0ksTUFBQSxVQUNBM0gsSUFFQTBCLEdBQUFrVCxFQUNBLEtBQUEsR0FBQTFXLEdBQUEsRUFBQUEsRUFBQTBXLEVBQUF4VyxPQUFBRixJQUNBLGdCQUFBb0MsR0FBQXBDLEdBQ0FvQyxFQUFBcEMsR0FBQSxFQUNBOEIsRUFBQUosS0FBQSxHQUdBSSxFQUFBSixLQUFBNFksS0FBQXVULE1BQUF6ckIsRUFBQXBDLEtBSUE4QixFQUFBSixLQUFBZ1YsRUFBQTFXLEdBR0ErZ0IsR0FBQWpmLE9BR0EwTyxHQUFBekssTUFBQS9DLEVBQUFaLEdBQUEsa0RBR0EsU0FBQUEsR0FDQSxNQUFBQSxLQUlBcUgsRUFBQXRILE9BQUEsRUFBQSxlQUFBLGdCQUFBLGdCQUFBLGdCQUFBLGlCQUNBLFNBQUFDLEdBQ0EsR0FBQSxnQkFBQUEsR0FDQSxNQUFBdW1CLEdBQUFDLGFBQUF4bUIsSUFDQUEsRUFBQUEsRUFBQUEsRUFBQUEsSUFHQW9PLEVBQUF6SyxNQUFBM0QsTUFBQXdSLEtBQUEseUNBQ0EsRUFHQSxJQUFBLGdCQUFBeFIsSUFBQUEsRUFBQVosY0FBQUMsTUFBQSxDQUlBLElBQUEsR0FIQWlWLEdBQUFqTixFQUFBNUksSUFBQSxlQUNBTixLQUVBUCxFQUFBLEVBQUFBLEVBQUEwVyxFQUFBeFcsT0FBQUYsSUFDQW9DLEVBQUFwQyxHQUNBLGdCQUFBb0MsR0FBQXBDLEdBQ0Eyb0IsRUFBQUMsYUFBQXhtQixFQUFBcEMsSUFDQU8sRUFBQW1CLEtBQUFVLEVBQUFwQyxLQUdBTyxFQUFBbUIsS0FBQWdWLEVBQUExVyxJQUNBd1EsRUFBQXpLLE1BQUE2TixJQUFBeFIsRUFBQXBDLElBQUEsK0NBR0EsZ0JBQUFvQyxHQUFBcEMsSUFBQW9DLEVBQUFwQyxHQUFBd0IsY0FBQUMsTUFDQWtuQixFQUFBdVEsUUFBQTkyQixFQUFBcEMsSUFDQU8sRUFBQW1CLEtBQUFpbkIsRUFBQXdRLGFBQUEvMkIsRUFBQXBDLE1BR0FPLEVBQUFtQixLQUFBZ1YsRUFBQTFXLElBQ0F3USxFQUFBekssTUFBQTZOLElBQUF4UixFQUFBcEMsSUFBQSwrQ0FJQU8sRUFBQW1CLEtBQUFnVixFQUFBMVcsSUFDQXdRLEVBQUF6SyxNQUFBNk4sSUFBQXhSLEVBQUFwQyxJQUFBLHVDQUlBTyxFQUFBbUIsS0FBQWdWLEVBQUExVyxHQUlBLE9BQUFPLEdBRUEsR0FBQSxnQkFBQTZCLEdBQUEsQ0FJQSxJQUFBLEdBSEFzVSxHQUFBak4sRUFBQTVJLElBQUEsZUFDQU4sS0FFQVAsRUFBQSxFQUFBQSxFQUFBMFcsRUFBQXhXLE9BQUFGLElBQ0FvQyxFQUFBcEIsZUFBQWhCLEdBQ0EsZ0JBQUFvQyxHQUFBcEMsR0FDQTJvQixFQUFBQyxhQUFBeG1CLEVBQUFwQyxJQUNBTyxFQUFBbUIsS0FBQVUsRUFBQXBDLEtBR0FPLEVBQUFtQixLQUFBZ1YsRUFBQTFXLElBQ0F3USxFQUFBekssTUFBQTZOLElBQUF4UixFQUFBcEMsSUFBQSx1Q0FHQSxnQkFBQW9DLEdBQUFwQyxJQUFBb0MsRUFBQXBDLEdBQUF3QixjQUFBQyxPQUNBa25CLEVBQUF1USxRQUFBOTJCLEVBQUFwQyxJQUNBTyxFQUFBbUIsS0FBQWluQixFQUFBd1EsYUFBQS8yQixFQUFBcEMsTUFRQU8sRUFBQW1CLEtBQUFnVixFQUFBMVcsSUFDQXdRLEVBQUF6SyxNQUFBNk4sSUFBQXhSLEVBQUFwQyxJQUFBLHVDQUlBTyxFQUFBbUIsS0FBQWdWLEVBQUExVyxHQUlBLE9BQUFPLEdBSUEsTUFEQWlRLEdBQUF6SyxNQUFBNk4sSUFBQXhSLEdBQUEsa0RBQ0EsR0FHQSxTQUFBQSxHQUVBLElBQUEsR0FEQTdCLE1BQ0FQLEVBQUEsRUFBQUEsRUFBQW9DLEVBQUFsQyxPQUFBRixJQUNBTyxFQUFBbUIsS0FBQWluQixFQUFBQyxhQUFBeG1CLEVBQUFwQyxJQUVBLE9BQUFPLEtBSUFtUSxFQUFBa0IsTUFBQSxjQUFBLEVBQ0EsU0FBQXBPLEVBQUF1ZCxFQUFBM2UsR0FDQSxHQUFBLGdCQUFBQSxHQUFBLENBQ0EsR0FBQWlXLEdBQUFzUSxFQUFBQyxhQUFBeG1CLEVBQ0FpVyxJQUNBMEksR0FBQTFKLEVBQUF5YyxXQUFBemIsR0FBQWhCLEVBQUF5YyxXQUFBemIsR0FBQWhCLEVBQUF5YyxXQUFBemIsR0FBQWhCLEVBQUF5YyxXQUFBemIsS0FDQTdVLEVBQUFyQyxLQUFBc0ksTUFBQSxpQkFHQStHLEVBQUF6SyxNQUFBL0MsRUFBQVosR0FBQSxnQ0FHQSxJQUFBLGdCQUFBQSxJQUFBQSxFQUFBWixjQUFBQyxNQUNBLEdBQUFrbkIsRUFBQXVRLFFBQUE5MkIsR0FDQTJlLEdBQUExSixFQUFBeWMsV0FBQTF4QixHQUNBaVYsRUFBQXljLFdBQUExeEIsR0FDQWlWLEVBQUF5YyxXQUFBMXhCLEdBQ0FpVixFQUFBeWMsV0FBQTF4QixLQUVBb0IsRUFBQXJDLEtBQUFzSSxNQUFBLG9CQUVBLENBS0EsSUFBQSxHQUpBZ3hCLEdBQUF0NUIsS0FBQXNJLE1BQUEsZUFDQWxKLEtBQ0EwSCxHQUFBLEVBRUFqSSxFQUFBLEVBQUFBLEVBQUF5NkIsRUFBQXY2QixPQUFBRixJQUNBLEdBQUEsZ0JBQUFvQyxHQUFBcEMsR0FBQSxDQUNBLEdBQUFxWSxHQUFBc1EsRUFBQUMsYUFBQXhtQixFQUFBcEMsR0FDQXFZLElBQ0E5WCxFQUFBbUIsS0FBQTJXLEdBQ0FwUSxHQUFBLEdBR0ExSCxFQUFBbUIsS0FBQXdjLEVBQUFsZSxRQUdBLGdCQUFBb0MsR0FBQXBDLElBQUFvQyxFQUFBcEMsR0FBQXdCLGNBQUFDLE9BQ0FXLEVBQUFwQyxJQUFBMm9CLEVBQUF1USxRQUFBOTJCLEVBQUFwQyxLQUNBTyxFQUFBbUIsS0FBQTJWLEVBQUF5YyxXQUFBMXhCLEVBQUFwQyxLQUNBaUksR0FBQSxHQU9BMUgsRUFBQW1CLEtBQUF3YyxFQUFBbGUsR0FJQWlJLElBQ0F6RSxFQUFBaTNCLEdBQ0ExWixFQUFBeGdCLElBR0FpUSxFQUFBekssTUFBQS9DLEVBQUFaLEdBQUEsa0RBSUEsSUFBQSxnQkFBQUEsR0FBQSxDQUtBLElBQUEsR0FKQThiLEdBQUEvYyxLQUFBc0ksTUFBQSxlQUNBbEosS0FDQTBILEdBQUEsRUFFQWpJLEVBQUEsRUFBQUEsRUFBQWtlLEVBQUFoZSxPQUFBRixJQUNBLEdBQUEsZ0JBQUFvQyxHQUFBcEMsR0FBQSxDQUNBLEdBQUFxWSxHQUFBc1EsRUFBQUMsYUFBQXhtQixFQUFBcEMsR0FDQXFZLElBQ0E5WCxFQUFBbUIsS0FBQTJXLEdBQ0FwUSxHQUFBLEdBR0ExSCxFQUFBbUIsS0FBQXdjLEVBQUFsZSxRQUdBLGdCQUFBb0MsR0FBQXBDLElBQUFvQyxFQUFBcEMsR0FBQXdCLGNBQUFDLE9BQ0FrbkIsRUFBQXVRLFFBQUE5MkIsRUFBQXBDLEtBQ0FPLEVBQUFtQixLQUFBMlYsRUFBQXljLFdBQUExeEIsRUFBQXBDLEtBQ0FpSSxHQUFBLEdBT0ExSCxFQUFBbUIsS0FBQXdjLEVBQUFsZSxHQUdBaUksSUFDQXpFLEVBQUEwYSxHQUNBNkMsRUFBQXhnQixJQUdBaVEsRUFBQXpLLE1BQUEvQyxFQUFBWixHQUFBLGlEQUlBLFNBQUFBLEdBQ0EsSUFBQSxHQUFBcEMsR0FBQSxFQUFBQSxFQUFBb0MsRUFBQWxDLE9BQUFGLElBQ0Eyb0IsRUFBQXlRLFVBQUFoM0IsRUFBQXBDLEdBRUEsT0FBQW9DLEtBSUFxSCxFQUFBdEgsT0FBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxTQUFBQyxHQUNBLEdBQUEsZ0JBQUFBLEdBQ0EsT0FBQUEsRUFBQUEsRUFBQUEsRUFBQUEsRUFFQSxJQUFBLGdCQUFBQSxJQUFBQSxFQUFBWixjQUFBQyxNQUFBLENBSUEsSUFBQSxHQUhBaVYsR0FBQWpOLEVBQUE1SSxJQUFBLGVBQ0FOLEtBRUFQLEVBQUEsRUFBQUEsRUFBQTBXLEVBQUF4VyxPQUFBRixJQUNBb0MsRUFBQXBDLEdBQ0EsZ0JBQUFvQyxHQUFBcEMsR0FDQU8sRUFBQW1CLEtBQUFVLEVBQUFwQyxLQUdBTyxFQUFBbUIsS0FBQWdWLEVBQUExVyxJQUNBd1EsRUFBQXpLLE1BQUE2TixJQUFBeFIsR0FBQSwrQ0FJQTdCLEVBQUFtQixLQUFBZ1YsRUFBQTFXLEdBSUEsT0FBQU8sR0FFQSxHQUFBLGdCQUFBNkIsR0FBQSxDQUlBLElBQUEsR0FIQTdCLE1BQ0FtVyxFQUFBak4sRUFBQTVJLElBQUEsZUFFQWIsRUFBQSxFQUFBQSxFQUFBMFcsRUFBQXhXLE9BQUFGLElBQ0FvQyxFQUFBcEIsZUFBQWhCLEdBQ0EsZ0JBQUFvQyxHQUFBcEMsR0FDQU8sRUFBQW1CLEtBQUFVLEVBQUFwQyxLQUdBd1EsRUFBQXpLLE1BQUE2TixJQUFBeFIsR0FBQSxnREFDQTdCLEVBQUFtQixLQUFBZ1YsRUFBQTFXLEtBSUFPLEVBQUFtQixLQUFBZ1YsRUFBQTFXLEdBSUEsT0FBQU8sR0FJQSxNQURBaVEsR0FBQXpLLE1BQUE2TixJQUFBeFIsR0FBQSw4Q0FDQSxHQUdBLFNBQUFBLEdBQ0EsTUFBQWlWLEdBQUF5YyxXQUFBMXhCLEtBSUFzTyxFQUFBa0IsTUFBQSxjQUFBLEVBQ0EsU0FBQXBPLEVBQUF1ZCxFQUFBM2UsR0FDQSxHQUFBLGdCQUFBQSxHQUNBMmUsR0FBQTNlLEVBQUFBLEVBQUFBLEVBQUFBLElBQ0FvQixFQUFBckMsS0FBQXNJLE1BQUEsb0JBRUEsSUFBQSxnQkFBQXJILElBQUFBLEVBQUFaLGNBQUFDLE1BQUEsQ0FJQSxJQUFBLEdBSEF5YyxHQUFBL2MsS0FBQXNJLE1BQUEsZUFDQWxKLEtBRUFQLEVBQUEsRUFBQUEsRUFBQWtlLEVBQUFoZSxPQUFBRixJQUNBb0MsRUFBQXBDLElBQUEsZ0JBQUFvQyxHQUFBcEMsR0FDQU8sRUFBQW1CLEtBQUFVLEVBQUFwQyxJQUdBTyxFQUFBbUIsS0FBQXdjLEVBQUFsZSxHQUdBK2dCLEdBQUF4Z0IsR0FDQWlELEVBQUEwYSxPQUVBLElBQUEsZ0JBQUE5YixHQUFBLENBS0EsSUFBQSxHQUpBOGIsR0FBQS9jLEtBQUFzSSxNQUFBLGVBQ0FsSixLQUNBMEgsR0FBQSxFQUVBakksRUFBQSxFQUFBQSxFQUFBa2UsRUFBQWhlLE9BQUFGLElBQ0FvQyxFQUFBcEMsSUFBQSxnQkFBQW9DLEdBQUFwQyxJQUNBTyxFQUFBbUIsS0FBQVUsR0FDQTZGLEdBQUEsR0FHQTFILEVBQUFtQixLQUFBd2MsRUFBQWxlLEdBR0FpSSxJQUNBOFksRUFBQXhnQixHQUNBaUQsRUFBQTBhLElBR0ExTixFQUFBekssTUFBQS9DLEVBQUFaLEdBQUEsZ0RBSUFvTyxHQUFBekssTUFBQS9DLEVBQUFaLEdBQUEsZ0RBR0EsU0FBQUEsR0FDQSxNQUFBQSxLQUlBcUgsRUFBQXRILE9BQUEsRUFBQSxnQkFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLElBQ0EsU0FBQUMsR0FDQSxHQUFBLGdCQUFBQSxHQTZEQSxNQURBb08sR0FBQXpLLE1BQUE2TixJQUFBeFIsR0FBQSw0Q0FDQSxDQTVEQSxJQUFBQSxFQUFBWixjQUFBQyxNQThCQSxDQUlBLElBQUEsR0FIQWxCLE1BQ0FtVyxFQUFBak4sRUFBQTVJLElBQUEsZUFFQWIsRUFBQSxFQUFBQSxFQUFBMFcsRUFBQXhXLE9BQUFGLElBQ0FvQyxFQUFBcEIsZUFBQWhCLEdBQ0EsZ0JBQUFvQyxHQUFBcEMsSUFBQW9DLEVBQUFwQyxHQUFBd0IsY0FBQUMsTUFDQTRWLEVBQUFpaUIsa0JBQUFsM0IsRUFBQXBDLEtBQUEsSUFBQW9DLEVBQUFwQyxHQUFBRSxPQUNBSyxFQUFBbUIsS0FBQTJWLEVBQUF5YyxXQUFBMXhCLEVBQUFwQyxNQUdBTyxFQUFBbUIsS0FBQWdWLEVBQUExVyxJQUNBd1EsRUFBQXpLLE1BQUE2TixJQUFBeFIsRUFBQXBDLElBQUEsOENBSUFPLEVBQUFtQixLQUFBZ1YsRUFBQTFXO0FBQ0F3USxFQUFBek4sT0FBQTZRLElBQUF4UixFQUFBcEMsSUFBQSw4Q0FJQU8sRUFBQW1CLEtBQUFnVixFQUFBMVcsR0FHQSxPQUFBTyxHQXJEQSxJQUFBOFcsRUFBQWlpQixrQkFBQWwzQixHQVFBLENBSUEsSUFBQSxHQUhBN0IsTUFDQW1XLEVBQUFqTixFQUFBNUksSUFBQSxlQUVBYixFQUFBLEVBQUFBLEVBQUEwVyxFQUFBeFcsT0FBQUYsSUFDQW9DLEVBQUFwQyxHQUNBcVgsRUFBQWlpQixrQkFBQWwzQixFQUFBcEMsS0FBQSxJQUFBb0MsRUFBQWxDLE9BQ0FLLEVBQUFtQixLQUFBMlYsRUFBQXljLFdBQUExeEIsRUFBQXBDLE1BR0FPLEVBQUFtQixLQUFBZ1YsRUFBQTFXLElBQ0F3USxFQUFBekssTUFBQTZOLElBQUF4UixFQUFBcEMsSUFBQSwrQ0FJQU8sRUFBQW1CLEtBQUFnVixFQUFBMVcsR0FHQSxPQUFBTyxHQXpCQSxNQUFBLEtBQUE2QixFQUFBbEMsUUFDQWtDLEVBQUFBLEVBQUFBLEVBQUFBLE9BR0FvTyxHQUFBekssTUFBQS9DLEVBQUFaLEdBQUEsa0RBeURBLFNBQUFBLEdBQ0EsTUFBQWlWLEdBQUF5YyxXQUFBMXhCLEtBSUFzTyxFQUFBa0IsTUFBQSxjQUFBLEVBQ0EsU0FBQXBPLEVBQUF1ZCxFQUFBM2UsR0FDQSxHQUFBLGdCQUFBQSxHQUNBLEdBQUFBLEVBQUFaLGNBQUFDLE1BQ0EsR0FBQTRWLEVBQUFpaUIsa0JBQUFsM0IsR0FDQSxJQUFBQSxFQUFBbEMsUUFDQXNELEVBQUFyQyxLQUFBc0ksTUFBQSxnQkFDQXNYLEVBQUExSixFQUFBeWMsV0FBQTF4QixHQUFBaVYsRUFBQXljLFdBQUExeEIsR0FBQWlWLEVBQUF5YyxXQUFBMXhCLEdBQUFpVixFQUFBeWMsV0FBQTF4QixLQUdBb08sRUFBQXpLLE1BQUEvQyxFQUFBWixHQUFBLGdEQUdBLENBS0EsSUFBQSxHQUpBOGIsR0FBQS9jLEtBQUFzSSxNQUFBLGVBQ0FsSixLQUNBMEgsR0FBQSxFQUVBakksRUFBQSxFQUFBQSxFQUFBa2UsRUFBQWhlLE9BQUFGLElBQ0FvQyxFQUFBcEMsSUFBQXFYLEVBQUFpaUIsa0JBQUFsM0IsRUFBQXBDLEtBQUEsSUFBQW9DLEVBQUFwQyxHQUFBRSxRQUNBSyxFQUFBbUIsS0FBQTJWLEVBQUF5YyxXQUFBMXhCLEVBQUFwQyxLQUNBaUksR0FBQSxHQUdBMUgsRUFBQW1CLEtBQUF3YyxFQUFBbGUsR0FJQWlJLElBQ0F6RSxFQUFBMGEsR0FDQTZDLEVBQUF4Z0IsSUFHQWlRLEVBQUF6SyxNQUFBL0MsRUFBQVosR0FBQSw4Q0FJQSxDQUtBLElBQUEsR0FKQThiLEdBQUEvYyxLQUFBc0ksTUFBQSxlQUNBbEosS0FDQTBILEdBQUEsRUFFQWpJLEVBQUEsRUFBQUEsRUFBQWtlLEVBQUFoZSxPQUFBRixJQUNBb0MsRUFBQXBDLElBQUFxWCxFQUFBaWlCLGtCQUFBbDNCLEVBQUFwQyxLQUFBLElBQUFvQyxFQUFBcEMsR0FBQUUsUUFDQUssRUFBQW1CLEtBQUEyVixFQUFBeWMsV0FBQTF4QixFQUFBbUMsS0FDQTBELEdBQUEsR0FHQTFILEVBQUFtQixLQUFBd2MsRUFBQWxlLEdBR0FpSSxJQUNBekUsRUFBQTBhLEdBQ0E2QyxFQUFBeGdCLElBR0FpUSxFQUFBekssTUFBQS9DLEVBQUFaLEdBQUEsNkNBS0FvTyxHQUFBekssTUFBQS9DLEVBQUFaLEdBQUEsMENBR0EsU0FBQUEsR0FDQSxNQUFBQSxRQzFpQkFFLEdBQUErSyxRQUFBL0ssU0FBQSxXQUNBLFVBQUEsU0FBQSxRQUNBLFFBQUFvNEIsbUJBQUEzNEIsRUFBQXNWLEVBQUE3RyxHQUVBek8sRUFBQVosS0FBQSx1QkFDQVksRUFBQVosS0FBQSxtQkFFQSxJQUFBc0ksR0FBQXRJLEtBQUFxUSxVQUFBLFFBRUEvSCxHQUFBdEgsT0FBQSxFQUFBLE1BQUEsS0FDQSxTQUFBQyxHQUNBLE1BQUEsZ0JBQUFBLEdBRUFpVixFQUFBMmlCLGVBQUE1M0IsR0FDQUEsR0FHQW9PLEVBQUF6SyxNQUFBNk4sSUFBQXhSLEdBQUEsZ0RBQ0EsR0FHQSxnQkFBQUEsSUFBQUEsRUFBQVosYUFBQUMsTUFDQSxnQkFBQVcsR0FBQSxJQUFBLGdCQUFBQSxHQUFBLElBQUFBLEVBQUEsR0FBQSxFQUNBQSxFQUFBLEdBQUEsSUFBQUEsRUFBQSxHQUFBLEtBR0FvTyxFQUFBekssTUFBQTZOLElBQUF4UixHQUFBLHNDQUNBLE9BSUFvTyxHQUFBekssTUFBQTZOLElBQUF4UixHQUFBLHNDQUdBLFNBQUFBLEdBQ0EsTUFBQUEsUUNuQ0FFLEdBQUErSyxRQUFBL0ssU0FBQSxXQUNBLFVBQUEsU0FBQSxTQUFBLFFBQUEsU0FDQSxRQUFBcTRCLGlCQUFBNTRCLEVBQUFzVixFQUFBc1IsRUFBQW5ZLEVBQUF0SCxHQUNBbkgsRUFBQVosS0FBQSxzQkFFQSxJQUFBc0ksR0FBQXRJLEtBQUFxUSxVQUFBLFNBQ0E4USxFQUFBbmhCLEtBQUFxUSxVQUFBLFFBQ0FkLEVBQUF2UCxLQUFBcVEsVUFBQSxhQUNBZSxFQUFBcFIsSUFFQXNJLEdBQUF0SCxPQUFBLEVBQUEsUUFBQSxPQUFBLFFBQ0EsU0FBQUMsR0FDQSxHQUFBLGdCQUFBQSxJQUFBLFNBQUFBLEVBRUEsTUFEQWtnQixHQUFBN0ssT0FBQUMsRUFBQUEsRUFBQUEsRUFBQUEsSUFDQXRWLEVBQUFBLEVBRUEsSUFBQSxnQkFBQUEsR0FFQSxNQURBa2dCLEdBQUE3SyxPQUFBclYsRUFBQUEsSUFDQUEsRUFBQUEsRUFFQSxJQUFBLGdCQUFBQSxJQUFBQSxFQUFBWixjQUFBQyxPQUFBLElBQUFXLEVBQUFsQyxPQUFBLENBR0EsSUFBQSxHQUZBK0gsSUFBQSxFQUVBakksRUFBQSxFQUFBQSxFQUFBb0MsRUFBQWxDLE9BQUFGLElBQ0EsR0FDQSxnQkFBQW9DLEdBQUFwQyxJQUFBLGdCQUFBb0MsR0FBQXBDLElBQ0EsZ0JBQUFvQyxHQUFBcEMsSUFBQSxTQUFBb0MsRUFBQXBDLEdBQUEsQ0FDQWlJLEdBQUEsQ0FDQSxPQUlBLE1BQUFBLElBQ0EsZ0JBQUE3RixHQUFBLElBQUFBLEVBQUEsR0FBQSxJQUFBQSxFQUFBLEdBQUEsR0FDQSxnQkFBQUEsR0FBQSxJQUFBQSxFQUFBLEdBQUEsSUFBQUEsRUFBQSxHQUFBLEdBRUFrZ0IsRUFBQTdLLE9BQUEsU0FBQXJWLEVBQUEsR0FBQXNWLEVBQUFBLEVBQUF0VixFQUFBLEdBQUEsU0FBQUEsRUFBQSxHQUFBc1YsRUFBQUEsRUFBQXRWLEVBQUEsS0FFQUEsRUFBQSxHQUFBQSxFQUFBLE1BRUFvTyxFQUFBekssTUFBQS9DLEVBQUFaLEdBQUEsb0NBQ0EsR0FHQSxNQURBb08sR0FBQXpLLE1BQUEvQyxFQUFBWixHQUFBLHdDQUNBLEdBRUEsU0FBQUEsR0FDQSxPQUFBQSxFQUFBLEdBQUFBLEVBQUEsTUFJQXFILEVBQUF0SCxPQUFBLEVBQUEsTUFBQSxHQUNBLFNBQUFDLEdBQ0EsTUFBQSxnQkFBQUEsSUFDQUEsR0FJQSxTQUFBQSxHQUNBLE1BQUFBLElBSUEsSUFBQXc0QixHQUFBLFlBRUFueEIsR0FBQXRILE9BQUEsRUFBQSxPQUFBLGFBQ0EsU0FBQUMsR0FDQSxHQUFBLGdCQUFBQSxHQUdBLE1BRkF3NEIsR0FBQTF4QixFQUFBVSxPQUFBeEgsR0FDQW1RLEVBQUE5SSxNQUFBLGFBQUEsTUFDQXJILEdBR0EsU0FBQUEsR0FDQSxNQUFBQSxLQUlBcUgsRUFBQXRILE9BQUEsRUFBQSxhQUFBeTRCLEVBQ0EsV0FDQSxNQUFBQSxJQUVBLFdBQ0EsTUFBQUEsS0FJQW54QixFQUFBdEgsT0FBQSxFQUFBLFNBQUEsSUFDQSxTQUFBQyxHQUNBLE1BQUEsZ0JBQUFBLEtBQ0FBLEVBQUEsTUFBQUEsRUFBQSxLQUNBQSxFQUFBLE1BQUFBLEVBQUEsS0FFQUEsRUFBQSxNQUFBLElBQUFBLEdBQUFBLEVBQUEsS0FFQUEsSUFJQSxTQUFBQSxHQUNBLE1BQUFBLEtBSUFxSCxFQUFBdEgsT0FBQSxFQUFBLFFBQUEsU0FDQSxTQUFBQyxHQUNBLE1BQUEsZ0JBQUFBLEtBQUEsV0FBQUEsR0FBQSxXQUFBQSxHQUFBLFlBQUFBLElBQ0FBLEdBSUEsU0FBQUEsR0FDQSxNQUFBQSxLQUlBcUgsRUFBQXRILE9BQUEsRUFBQSxhQUFBLEdBQ0EsU0FBQUMsR0FDQSxHQUFBLGdCQUFBQSxHQUdBLE1BRkFBLEdBQUEsSUFBQUEsRUFBQSxHQUVBQSxHQUdBLFNBQUFBLEdBQ0EsTUFBQUEsS0FJQXFILEVBQUF0SCxPQUFBLEVBQUEsV0FBQSxHQUNBLFNBQUFDLEdBQ0EsR0FBQSxnQkFBQUEsR0FFQSxNQURBQSxHQUFBLElBQUFBLEVBQUEsR0FDQUEsR0FHQSxTQUFBQSxHQUNBLE1BQUFBLEtBSUFxSCxFQUFBdEgsT0FBQSxFQUFBLFFBQUEsZ0JBQ0EsU0FBQUMsR0FDQSxNQUFBLGdCQUFBQSxHQUNBdW1CLEVBQUFDLGFBQUF4bUIsR0FDQUEsR0FHQW9PLEVBQUF6SyxNQUFBNk4sSUFBQXhSLEdBQUEsa0NBQ0EsR0FHQSxnQkFBQUEsSUFBQUEsRUFBQVosY0FBQUMsTUFDQWtuQixFQUFBdVEsUUFBQTkyQixHQUNBdW1CLEVBQUF3USxhQUFBLzJCLElBR0FvTyxFQUFBekssTUFBQTZOLElBQUF4UixHQUFBLGlDQUNBLElBSUFvTyxFQUFBekssTUFBQTZOLElBQUF4UixHQUFBLGtDQUNBLElBR0EsU0FBQUEsR0FDQSxNQUFBdW1CLEdBQUFDLGFBQUF4bUIsS0FJQXFILEVBQUF0SCxPQUFBLEVBQUEsUUFBQSxPQUNBLFNBQUFDLEdBQ0EsTUFBQSxXQUFBQSxHQUFBLFNBQUFBLEdBQUEsVUFBQUEsRUFDQUEsR0FHQW9PLEVBQUF6SyxNQUFBL0MsRUFBQVosR0FBQSx3REFDQSxJQUdBLFNBQUFBLEdBQ0EsTUFBQUEsS0FJQXNPLEVBQUFrQixNQUFBLFFBQUEsRUFDQSxTQUFBcE8sRUFBQXVkLEVBQUEzZSxHQUNBLEdBQUEsZ0JBQUFBLEdBQUEsQ0FDQSxHQUFBaVcsR0FBQXNRLEVBQUFDLGFBQUF4bUIsRUFDQWlXLElBQ0E3VSxFQUFBckMsS0FBQXNJLE1BQUEsU0FDQXNYLEVBQUExSSxJQUdBN0gsRUFBQXpLLE1BQUEvQyxFQUFBWixHQUFBLGtDQUdBLGdCQUFBQSxJQUFBQSxFQUFBWixjQUFBQyxNQUNBa25CLEVBQUF1USxRQUFBOTJCLEtBQ0FvQixFQUFBckMsS0FBQXNJLE1BQUEsU0FDQXNYLEVBQUExSixFQUFBeWMsV0FBQTF4QixLQUlBb08sRUFBQXpLLE1BQUEvQyxFQUFBWixHQUFBLGdDQUdBLFNBQUFBLEdBRUEsTUFEQXVtQixHQUFBeVEsVUFBQWgzQixHQUNBQSxPQ2xOQUUsR0FBQStLLFFBQUEvSyxTQUFBLFNBQ0EsYUFBQSxXQUNBLFFBQUFpTyxXQUFBOFYsRUFBQXpGLEdBaUJBLFFBQUEwRixTQUFBclUsR0FDQSxHQUFBQSxHQUFBc1UsRUFDQSxJQUFBLEdBQUF2bUIsR0FBQSxFQUFBQSxFQUFBMlIsRUFBQXpSLE9BQUFGLElBQ0F3bUIsRUFBQXhsQixlQUFBMlEsRUFBQTNSLEdBQUE0UixNQUFBOVEsYUFDQTBsQixFQUFBN1UsRUFBQTNSLEdBQUE0UixNQUFBOVEsWUFBQU4sTUFBQXNCLEdBQUEya0IsRUFBQTlVLEVBQUEzUixHQUFBTyxhQUlBLElBQUEwUixHQUFBeVUsRUFBQSxDQUNBM1YsR0FBQSxDQUVBLEtBQUEsR0FEQTRWLE1BQ0EzbUIsRUFBQSxFQUFBQSxFQUFBMlIsRUFBQXpSLE9BQUFGLElBQ0EybUIsRUFBQWhWLEVBQUEzUixHQUFBNFIsTUFBQTlRLFlBQUE2USxFQUFBM1IsR0FBQU8sTUFFQWtELEdBQUFzTixLQUFBLEVBQUE0VixHQUNBWixLQTlCQSxHQUFBVSxHQUFBLEVBQ0FuVixFQUFBLEtBQ0FDLEVBQUEsS0FDQVIsR0FBQSxFQUNBWSxFQUFBLEtBQ0F1UCxFQUFBLEtBQ0FwZixFQUFBLEtBQ0Ewa0IsRUFBQSxLQUNBcmlCLEdBQUEsRUFDQTJNLEdBQUEsRUFDQWlWLEVBQUEsS0FDQVEsRUFBQSxPQUNBRyxFQUFBLFdBQ0FqakIsRUFBQSxJQXFCQXRDLE1BQUFXLE9BQUEsV0FDQSxNQUFBQSxJQUdBWCxLQUFBZ0QsTUFBQSxXQUNBLE1BQUFBLElBR0FoRCxLQUFBMlAsT0FBQSxXQUNBLE1BQUFBLElBR0EzUCxLQUFBNFAsS0FBQSxXQUNBLE1BQUFBLElBR0E1UCxLQUFBNlAsWUFBQSxTQUFBbFEsR0FFQSxJQUFBLEdBREFQLEdBQUEsRUFDQVAsRUFBQSxFQUFBQSxFQUFBMlIsRUFBQXpSLE9BQUFGLElBQ0EsR0FBQTJSLEVBQUEzUixHQUFBNFIsTUFBQTlRLFlBQUFBLEVBQUEsQ0FDQVAsRUFBQVAsRUFBQSxDQUNBLE9BR0EsTUFBQU8sSUFHQVksS0FBQUosV0FBQSxXQUVBLElBQUEsR0FEQTRELE1BQ0EzRSxFQUFBLEVBQUFBLEVBQUEyUixFQUFBelIsT0FBQUYsSUFDQTJFLEVBQUFqRCxLQUFBaVEsRUFBQTNSLEdBQUE0UixNQUFBOVEsV0FFQSxPQUFBNkQsSUFHQXhELEtBQUFvQyxLQUFBLFNBQUF6QyxHQUNBLEdBQUFBLEVBQUEsQ0FDQSxHQUFBMFUsR0FBQXJVLEtBQUE2UCxZQUFBbFEsRUFDQTBVLEtBQ0FBLEdBQUEsRUFDQTdELEVBQUFxQyxPQUFBd0IsRUFBQSxRQUlBN0QsT0FJQXhRLEtBQUFxQyxNQUFBLFdBRUFzTixHQUFBLENBSUEsS0FBQSxHQUZBOFYsTUFFQTVtQixFQUFBLEVBQUFBLEVBQUEyUixFQUFBelIsT0FBQUYsSUFBQSxDQUNBLEdBQUE0UixHQUFBRCxFQUFBM1IsR0FBQTRSLE1BQUEvUSxJQUFBOFEsRUFBQTNSLEdBQUFvQyxNQUVBMUIsVUFBQWtSLEdBQUFBLEVBQUFwTyxXQUFBLEdBQUFvTyxFQUFBbVAsU0FBQSxHQUNBNkYsRUFBQWxsQixLQUFBaVEsRUFBQTNSLElBSUEyUixFQUFBaVYsQ0FFQSxJQUFBQyxHQUFBUixFQUFBUyxpQkFFQTVGLEdBQUFOLEVBQUF2ZixPQUFBLEVBQUEsRUFBQSxTQUFBMGxCLEVBQUEza0IsR0FDQSxHQUFBLEdBQUF1UCxFQUFBelIsT0FDQW9tQixRQUFBSSxHQUNBeEYsRUFBQTNkLFdBRUEsQ0FDQSxJQUFBLEdBQUF2RCxHQUFBLEVBQUFBLEVBQUEyUixFQUFBelIsT0FBQUYsSUFDQTJSLEVBQUEzUixHQUFBTyxPQUFBc21CLEVBQUF6a0IsRUFBQXVQLEVBQUEzUixHQUFBNFIsTUFBQXBPLFFBQUFtTyxFQUFBM1IsR0FBQTRSLE1BQUFtUCxPQUNBcFAsRUFBQTNSLEdBQUE0UixNQUFBcFIsTUFBQXVtQixFQUFBcFYsRUFBQTNSLEdBQUFPLE9BR0ErbEIsU0FBQUMsR0FFQSxHQUFBUSxHQUNBVCxRQUFBSSxLQUlBblYsRUFBQUQsRUFBQSxJQUdBblEsS0FBQXNDLE9BQUEsU0FBQWtlLEVBQUFxRixFQUFBcGhCLEVBQUEvRixHQUNBd21CLEVBQUFZLGdCQUFBcmhCLEdBRUEwTCxFQUFBMUwsRUFBQTBMLFNBRUFDLEVBQUEzTCxFQUFBMkwsT0FFQWlWLEVBQUE1Z0IsRUFBQXNoQixLQUVBL2lCLEVBQUF5QixFQUFBekIsTUFFQTRoQixFQUFBbG1CLEVBRUE4UixFQUFBcVYsRUFFQWxsQixFQUFBNmYsRUFFQWxlLEVBQUFtQyxNQzlJQXRELEdBQUErSyxRQUFBL0ssU0FBQSxTQUNBLFFBQ0EsUUFBQTZrQixPQUFBM1csR0FXQSxRQUFBNFcsZUFBQXhULEdBQ0FwUSxFQUFBb1EsRUFHQSxRQUFBeVQsYUFBQXpULEdBQ0FtTixFQUFBbk4sRUFkQSxHQUlBcFEsR0FBQXVkLEVBSkFqZ0IsRUFBQSxLQUNBdVIsRUFBQSxLQUVBQyxFQUFBLEtBRUFDLEVBQUEsS0FDQXRLLEdBQUEsRUFDQXhELEVBQUEsQ0FVQXRELE1BQUFxQyxNQUFBLFdBQ0EsTUFBQUEsSUFHQXJDLEtBQUE0ZixJQUFBLFdBQ0EsTUFBQUEsSUFHQTVmLEtBQUFMLFNBQUEsV0FDQSxNQUFBQSxJQUdBSyxLQUFBc0QsU0FBQSxXQUNBLE1BQUFBLElBR0F0RCxLQUFBTixJQUFBLFNBQUF1QixHQUVBLE1BREFpUSxHQUFBN1IsTUFBQStSLEdBQUE2VSxjQUFBQyxZQUFBamxCLElBQ0FqQixNQUdBQSxLQUFBOEcsTUFBQSxXQUNBLE1BQUFBLElBR0E5RyxLQUFBWCxNQUFBLFNBQUFpbUIsRUFBQXJrQixHQUNBbVEsRUFBQTJjLE9BQUFwdUIsRUFBQXdSLEVBQUE5UixNQUFBK1IsR0FBQW5RLEVBQUFxa0IsTUFHQXRsQixLQUFBc0MsT0FBQSxTQUFBeEMsRUFBQXFtQixFQUFBQyxFQUFBM2pCLEVBQUE0akIsR0FDQSxNQUFBLGdCQUFBdm1CLE9BQ0F1UCxHQUFBbE0sT0FBQXJELEtBQUFBLEdBQUEsMERBR0EsZ0JBQUFxbUIsT0FDQTlXLEdBQUFsTSxPQUFBckQsS0FBQUEsR0FBQSxrREFHQSxrQkFBQTJDLE9BQ0E0TSxHQUFBbE0sT0FBQXJELEtBQUFBLEdBQUEsbURBR0EsZ0JBQUFzbUIsT0FDQS9XLEdBQUFsTSxPQUFBckQsS0FBQUEsR0FBQSxpREFHQSxrQkFBQXVtQixPQUNBaFgsR0FBQWxNLE9BQUFyRCxLQUFBQSxHQUFBLG9EQUlBSCxFQUFBRyxFQUNBb1IsRUFBQXpPLEVBQ0EwTyxFQUFBa1YsRUFDQS9pQixFQUFBOGlCLEVBQ0FoVixFQUFBK1UsT0FFQXJmLEdBQUEsUUM5RUEzRixHQUFBMEksT0FBQUcsT0FDQSxRQUFBb0YsYUFFQSxRQUFBc3FCLFNBQUE5VCxFQUFBTixFQUFBampCLEVBQUF1ZCxHQUNBLEdBQUErWixJQUFBLEVBQUFDLEdBQUEsQ0FJQSxJQUhBLGtCQUFBdjNCLEtBQUFzM0IsRUFBQXQzQixLQUNBLGtCQUFBdWQsS0FBQWdhLEVBQUFoYSxLQUVBdmQsRUFBQWhDLGNBQUFDLE1BRUEsSUFBQSxHQURBbEIsTUFDQVAsRUFBQSxFQUFBQSxFQUFBd0QsRUFBQXRELE9BQUFGLElBQ0FPLEVBQUFtQixLQUFBbTVCLFFBQUE5VCxFQUFBTixFQUFBampCLEVBQUF4RCxHQUFBK2dCLEVBQUEvZ0IsU0FHQSxJQUFBLGdCQUFBd0QsR0FBQSxDQUNBLEdBQUFqRCxLQUNBLEtBQUEsR0FBQXlHLEtBQUF4RCxHQUNBakQsRUFBQXlHLEdBQUE2ekIsUUFBQTlULEVBQUFOLEVBQUFqakIsRUFBQXdELEdBQUErWixFQUFBL1osUUFHQSxJQUFBLGdCQUFBeEQsSUFBQSxrQkFBQUEsR0FBQSxDQUNBLEdBQUF3M0IsR0FBQUQsS0FBQSxFQUFBaGEsRUFBQWdhLEVBQ0FFLEVBQUFILEtBQUEsRUFBQXQzQixFQUFBczNCLEVBQ0FJLEVBQUFGLEVBQUFDLEVBQ0ExNkIsRUFBQTA2QixFQUFBQyxFQUFBblUsQ0FDQU4sSUFBQSxJQUFBbG1CLEVBQUF5NkIsR0FFQSxNQUFBejZCLEdBR0FZLEtBQUE4bEIsZ0JBQUEsU0FBQXhqQixHQUNBQSxFQUFBNk4sU0FBQSxnQkFBQTdOLEdBQUE2TixVQUFBN04sRUFBQTZOLFNBQUEsRUFBQTdOLEVBQUE2TixTQUFBLElBQ0E3TixFQUFBVSxRQUFBVixFQUFBVSxNQUNBVixFQUFBeWpCLEtBQUEsZ0JBQUF6akIsR0FBQXlqQixLQUFBempCLEVBQUF5akIsUUFDQXpqQixFQUFBOE4sT0FBQSxnQkFBQTlOLEdBQUE4TixPQUFBOU4sRUFBQThOLE9BQUEsU0FDQTlOLEVBQUFzTixLQUFBLGtCQUFBdE4sR0FBQXNOLEtBQUF0TixFQUFBc04sS0FBQSxjQUlBNVAsS0FBQTJsQixnQkFBQSxXQUNBLE1BQUErVCxZQ3hDQXY0QixHQUFBMEksT0FBQUcsT0FDQSxRQUFBZ3dCLFNBRUEsUUFBQUMscUJBQUF6MkIsR0FDQSxHQUFBQSxLQUFBLEdBQUFqRSxTQUFBaUUsRUFBQSxDQUNBLElBQUEsR0FBQTNFLEdBQUEsRUFBQUEsRUFBQTJFLEVBQUF6RSxPQUFBRixJQUNBMkUsRUFBQTNFLEdBQUEyRSxFQUFBM0UsSUFBQSxJQUFBMkUsRUFBQTNFLEdBQUEsSUFDQTJFLEVBQUEzRSxHQUFBMkUsRUFBQTNFLElBQUEsRUFBQTJFLEVBQUEzRSxHQUFBLEVBQ0EyRSxFQUFBM0UsR0FBQSxJQUFBQSxHQUFBLElBQUEyRSxFQUFBM0UsR0FBQW9hLFNBQUF6VixFQUFBM0UsSUFBQTJFLEVBQUEzRSxHQUNBMkUsRUFBQTNFLElBQUEsR0FBQUEsR0FBQTJFLEVBQUEzRSxLQUFBLEVBQUEyRSxFQUFBM0UsR0FBQSxFQUNBMkUsRUFBQTNFLEdBQUFzYSxLQUFBd2EsSUFBQW53QixFQUFBM0UsR0FFQSxPQUFBMkUsR0FHQSxPQUFBLEVBSUEsUUFBQTAyQixhQUFBaGpCLEdBQ0EsR0FBQWpYLEdBQ0E0TixFQUFBb0wsU0FDQS9CLEVBQUFBLEVBQUErRSxRQUFBLFNBQUEsR0FJQSxJQUFBaGMsRUFBQSxrREFBQWs2QixLQUFBampCLEdBQ0FqWCxHQUFBNE4sRUFBQTVOLEVBQUEsR0FBQSxJQUFBNE4sRUFBQTVOLEVBQUEsR0FBQSxJQUFBNE4sRUFBQTVOLEVBQUEsR0FBQSxTQUdBLElBQUFBLEVBQUEseUNBQUFrNkIsS0FBQWpqQixHQUNBalgsR0FBQSxHQUFBNE4sRUFBQTVOLEVBQUEsR0FBQSxJQUFBLEdBQUE0TixFQUFBNU4sRUFBQSxHQUFBLElBQUEsR0FBQTROLEVBQUE1TixFQUFBLEdBQUEsU0FJQSxJQUFBQSxFQUFBLHVEQUFBazZCLEtBQUFqakIsR0FDQWpYLElBQUFBLEVBQUEsSUFBQUEsRUFBQSxJQUFBQSxFQUFBLElBQUFBLEVBQUEsUUFJQSxDQUFBLEtBQUFBLEVBQUEsa0NBQUFrNkIsS0FBQWpqQixJQUlBLE9BQUEsQ0FIQWpYLEtBQUFBLEVBQUEsSUFBQUEsRUFBQSxJQUFBQSxFQUFBLElBV0EsTUFMQXVaLE9BQUF2WixFQUFBLE1BQUFBLEVBQUEsR0FBQSxHQUtBZzZCLG9CQUFBaDZCLEVBQUF1SixNQUFBLEVBQUEsSUFHQXhKLEtBQUF5bkIsYUFBQXlTLFlBQ0FsNkIsS0FBQWk0QixVQUFBZ0Msb0JBQ0FqNkIsS0FBQSszQixRQUFBLFNBQUF2MEIsR0FDQSxHQUFBTCxJQUFBLENBQ0EsSUFBQSxHQUFBSyxFQUFBekUsT0FFQSxJQUFBLEdBQUFGLEdBQUEsRUFBQUEsRUFBQTJFLEVBQUF6RSxPQUFBRixJQUNBLGdCQUFBMkUsR0FBQTNFLElBQUEsZ0JBQUEyRSxHQUFBM0UsR0FDQSxnQkFBQTJFLEdBQUEzRSxJQUFBMmEsTUFBQSxFQUFBaFcsRUFBQTNFLE1BQ0FzRSxHQUFBLEdBSUFBLEdBQUEsTUFLQUEsSUFBQSxDQUtBLE9BSEFBLElBQ0FELFFBQUEwQixLQUFBLHlDQUFBcEIsRUFBQSw0QkFFQUwsR0FHQW5ELEtBQUFnNEIsYUFBQSxTQUFBeDBCLEdBQ0EsR0FBQUEsR0FBQSxHQUFBQSxFQUFBekUsT0FBQSxDQUVBLElBQUEsR0FEQXlKLEdBQUEsUUFDQTNKLEVBQUEsRUFBQUEsRUFBQTJFLEVBQUF6RSxPQUFBRixJQUNBMkosR0FBQSxHQUFBM0osRUFBQTJFLEVBQUEzRSxHQUFBLElBQUEyRSxFQUFBM0UsR0FBQSxHQUVBLE9BQUEySixHQUlBLE1BREF0RixTQUFBMEIsS0FBQSxxREFDQSxLQzNGQXpELEdBQUEwSSxPQUFBRyxPQUNBLFFBQUFpSSxRQUFBNUMsR0FDQSxHQUFBK3FCLEdBQUF2MkIsU0FBQW9GLGNBQUEsVUFBQWxGLFdBQUEsS0FFQS9ELE1BQUFpbkIsWUFBQSxTQUFBaFksR0FDQW1yQixFQUFBelMsTUFDQSxJQUFBdmpCLEdBQUE2SyxFQUFBbXJCLEVBRUEsT0FEQUEsR0FBQXRTLFVBQ0ExakIsR0FHQXBFLEtBQUE0ekIsVUFBQSxTQUFBeGlCLEVBQUF6TyxHQUNBQSxFQUFBaXhCLFVBQUF2MEIsTUFBQXNELEVBQUF5TyxFQUFBYyxTQUFBbW9CLFlBR0FyNkIsS0FBQSt5QixtQkFBQSxTQUFBcHdCLEVBQUFpRyxFQUFBTixFQUFBMHFCLEVBQUE5UixHQUNBLEdBQUFzVCxHQUFBbHNCLEVBQUE1SSxJQUFBLE1BQ0E2MEIsRUFBQWpzQixFQUFBNUksSUFBQSxVQUNBNDBCLEVBQUFoc0IsRUFBQTVJLElBQUEsYUFFQWlELEdBQUFnbEIsT0FFQWhsQixFQUFBbXhCLFlBQ0FueEIsRUFBQXl6QixPQUFBeHRCLEVBQUEsR0FBQSxHQUFBQSxFQUFBLEdBQUEsR0FFQSxLQUFBLEdBQUEvSixHQUFBLEVBQUFBLEVBQUErSixFQUFBN0osT0FBQUYsSUFBQSxDQUNBLEdBQUF5N0IsR0FBQTF4QixFQUFBL0osR0FBQSxHQUNBMDdCLEVBQUEzeEIsRUFBQS9KLEdBQUEsR0FDQTI3QixFQUFBNXhCLEVBQUEvSixHQUFBLEdBQ0E0N0IsRUFBQTd4QixFQUFBL0osR0FBQSxFQUVBLElBQUEsZ0JBQUF5N0IsSUFBQSxnQkFBQUUsSUFBQSxnQkFBQUQsSUFBQSxnQkFBQUUsR0FBQSxDQUNBcHJCLEVBQUFsTSxNQUFBLGdCQUNBLE9BR0FSLEVBQUEwekIsT0FBQW1FLEVBQUFDLEdBR0E5M0IsRUFBQSszQixZQUNBLzNCLEVBQUEweEIsTUFFQSxLQUFBLEdBQUE3eEIsR0FBQSxFQUFBQSxFQUFBZ3lCLEVBQUF6MUIsT0FBQXlELElBRUEsR0FBQWd5QixFQUFBaHlCLEdBQUErZ0IsU0FLQSxDQUNBNWdCLEVBQUFnbEIsTUFDQSxJQUFBOE0sR0FBQTlpQixJQUFBbE8sS0FBQSxHQUFBOHdCLEVBQUEveEIsR0FBQSxHQUNBa3lCLEVBQUEvaUIsSUFBQWxPLEtBQUEsR0FBQTh3QixFQUFBL3hCLEdBQUEsR0FDQW15QixFQUFBaGpCLElBQUFsTyxLQUFBLEdBQUE2d0IsRUFBQTl4QixHQUFBLEdBQ0FveUIsRUFBQWpqQixJQUFBbE8sS0FBQSxHQUFBNndCLEVBQUE5eEIsR0FBQSxFQUVBRyxHQUFBa3FCLFVBQUEzTCxFQUFBb0YsT0FBQSxHQUFBcU8sRUFBQXpULEVBQUFvRixPQUFBLEdBQUFzTyxHQUNBanlCLEVBQUFzbUIsVUFBQXVMLEVBQUEzMUIsR0FBQTIxQixZQUFBLEVBQUEsRUFBQUMsRUFBQUMsR0FDQS94QixFQUFBbWxCLGNBYkEwTSxHQUFBaHlCLEdBQUF3TSxHQUFBLE9BQUEsV0FDQWdrQixFQUFBcnFCLE9BQUEsT0FlQWhHLEdBQUFtbEIsV0FHQTluQixLQUFBaXpCLHFCQUFBLFNBQUF0d0IsRUFBQWlHLEVBQUFOLEVBQUEwcUIsRUFBQTlSLEdBQ0EsR0FBQXNULEdBQUFsc0IsRUFBQTVJLElBQUEsTUFDQTYwQixFQUFBanNCLEVBQUE1SSxJQUFBLFVBQ0E0MEIsRUFBQWhzQixFQUFBNUksSUFBQSxhQUVBaUQsR0FBQWdsQixPQUVBaGxCLEVBQUFteEIsWUFDQW54QixFQUFBeXpCLE9BQUF4dEIsRUFBQSxHQUFBLEdBQUFBLEVBQUEsR0FBQSxHQUNBLEtBQUEsR0FBQS9KLEdBQUEsRUFBQUEsRUFBQStKLEVBQUE3SixPQUFBRixJQUFBLENBQ0EsR0FBQXk3QixHQUFBMXhCLEVBQUEvSixHQUFBLEdBQ0EwN0IsRUFBQTN4QixFQUFBL0osR0FBQSxHQUNBMjdCLEVBQUE1eEIsRUFBQS9KLEdBQUEsR0FDQTQ3QixFQUFBN3hCLEVBQUEvSixHQUFBLEdBQ0E4N0IsRUFBQS94QixFQUFBL0osR0FBQSxHQUNBKzdCLEVBQUFoeUIsRUFBQS9KLEdBQUEsR0FDQWc4QixFQUFBanlCLEVBQUEvSixHQUFBLEdBQ0FpOEIsRUFBQWx5QixFQUFBL0osR0FBQSxFQUVBLElBQUEsZ0JBQUF5N0IsSUFBQSxnQkFBQUUsSUFBQSxnQkFBQUQsSUFBQSxnQkFBQUUsR0FBQSxDQUNBcHJCLEVBQUFsTSxNQUFBLGdCQUNBLE9BRUEsR0FBQSxnQkFBQXczQixJQUFBLGdCQUFBRSxJQUFBLGdCQUFBRCxJQUFBLGdCQUFBRSxHQUFBLENBQ0F6ckIsRUFBQWxNLE1BQUEsaUJBQ0EsT0FFQVIsRUFBQTR6QixjQUFBb0UsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQU4sRUFBQUMsR0FHQTkzQixFQUFBKzNCLFlBQ0EvM0IsRUFBQTB4QixNQUVBLEtBQUEsR0FBQTd4QixHQUFBLEVBQUFBLEVBQUFneUIsRUFBQXoxQixPQUFBeUQsSUFFQSxHQUFBZ3lCLEVBQUFoeUIsR0FBQStnQixTQUtBLENBQ0E1Z0IsRUFBQWdsQixNQUNBLElBQUE4TSxHQUFBOWlCLElBQUFsTyxLQUFBLEdBQUE4d0IsRUFBQS94QixHQUFBLEdBQ0FreUIsRUFBQS9pQixJQUFBbE8sS0FBQSxHQUFBOHdCLEVBQUEveEIsR0FBQSxHQUNBbXlCLEVBQUFoakIsSUFBQWxPLEtBQUEsR0FBQTZ3QixFQUFBOXhCLEdBQUEsR0FDQW95QixFQUFBampCLElBQUFsTyxLQUFBLEdBQUE2d0IsRUFBQTl4QixHQUFBLEVBRUFHLEdBQUFrcUIsVUFBQTNMLEVBQUFvRixPQUFBLEdBQUFxTyxFQUFBelQsRUFBQW9GLE9BQUEsR0FBQXNPLEdBQ0FqeUIsRUFBQXNtQixVQUFBdUwsRUFBQTMxQixHQUFBMjFCLFlBQUEsRUFBQSxFQUFBQyxFQUFBQyxHQUNBL3hCLEVBQUFtbEIsY0FiQTBNLEdBQUFoeUIsR0FBQXdNLEdBQUEsT0FBQSxXQUNBZ2tCLEVBQUFycUIsT0FBQSxPQWdCQWhHLEdBQUFtbEIsV0FJQTluQixLQUFBeXlCLGlCQUFBLFNBQUE5dkIsRUFBQWlHLEVBQUFOLEdBQ0EsR0FBQThyQixHQUFBOXJCLEVBQUE1SSxJQUFBLFFBQ0F3MkIsRUFBQTV0QixFQUFBNUksSUFBQSxNQUVBaUQsR0FBQWdsQixPQUNBaGxCLEVBQUF3ekIsUUFBQUQsRUFDQXZ6QixFQUFBeXpCLE9BQUF4dEIsRUFBQSxHQUFBLEdBQUFBLEVBQUEsR0FBQSxJQUVBakcsRUFBQW14QixXQUVBLEtBQUEsR0FBQWoxQixHQUFBLEVBQUFBLEVBQUErSixFQUFBN0osT0FBQUYsSUFBQSxDQUNBLEdBQUF5N0IsR0FBQTF4QixFQUFBL0osR0FBQSxHQUNBMDdCLEVBQUEzeEIsRUFBQS9KLEdBQUEsR0FDQTI3QixFQUFBNXhCLEVBQUEvSixHQUFBLEdBQ0E0N0IsRUFBQTd4QixFQUFBL0osR0FBQSxFQUVBLElBQUEsZ0JBQUF5N0IsSUFBQSxnQkFBQUUsSUFBQSxnQkFBQUQsSUFBQSxnQkFBQUUsR0FBQSxDQUNBcHJCLEVBQUFsTSxNQUFBLGdCQUNBLE9BRUFSLEVBQUEwekIsT0FBQW1FLEVBQUFDLEdBR0E5M0IsRUFBQSszQixZQUNBLzNCLEVBQUFpbEIsVUFBQXdNLEVBQ0F6eEIsRUFBQXl4QixPQUNBenhCLEVBQUFtbEIsV0FJQTluQixLQUFBd3lCLG1CQUFBLFNBQUE3dkIsRUFBQWlHLEVBQUFOLEdBQ0EsR0FBQThyQixHQUFBOXJCLEVBQUE1SSxJQUFBLFFBQ0F3MkIsRUFBQTV0QixFQUFBNUksSUFBQSxNQUVBaUQsR0FBQWdsQixPQUVBaGxCLEVBQUF3ekIsUUFBQUQsRUFFQXZ6QixFQUFBbXhCLFlBQ0FueEIsRUFBQXl6QixPQUFBeHRCLEVBQUEsR0FBQSxHQUFBQSxFQUFBLEdBQUEsR0FFQSxLQUFBLEdBQUEvSixHQUFBLEVBQUFBLEVBQUErSixFQUFBN0osT0FBQUYsSUFBQSxDQUNBLEdBQUF5N0IsR0FBQTF4QixFQUFBL0osR0FBQSxHQUNBMDdCLEVBQUEzeEIsRUFBQS9KLEdBQUEsR0FDQTI3QixFQUFBNXhCLEVBQUEvSixHQUFBLEdBQ0E0N0IsRUFBQTd4QixFQUFBL0osR0FBQSxHQUNBODdCLEVBQUEveEIsRUFBQS9KLEdBQUEsR0FDQSs3QixFQUFBaHlCLEVBQUEvSixHQUFBLEdBQ0FnOEIsRUFBQWp5QixFQUFBL0osR0FBQSxHQUNBaThCLEVBQUFseUIsRUFBQS9KLEdBQUEsRUFFQSxJQUFBLGdCQUFBeTdCLElBQUEsZ0JBQUFFLElBQUEsZ0JBQUFELElBQUEsZ0JBQUFFLEdBQUEsQ0FDQXByQixFQUFBbE0sTUFBQSxnQkFDQSxPQUVBLEdBQUEsZ0JBQUF3M0IsSUFBQSxnQkFBQUUsSUFBQSxnQkFBQUQsSUFBQSxnQkFBQUUsR0FBQSxDQUNBenJCLEVBQUFsTSxNQUFBLGlCQUNBLE9BR0FSLEVBQUE0ekIsY0FBQW9FLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFOLEVBQUFDLEdBR0E5M0IsRUFBQSszQixZQUNBLzNCLEVBQUFpbEIsVUFBQXdNLEVBQ0F6eEIsRUFBQXl4QixPQUNBenhCLEVBQUFtbEIsV0FJQTluQixLQUFBNHlCLGFBQUEsU0FBQWp3QixFQUFBaUcsRUFBQU4sR0FDQSxHQUFBMHRCLEdBQUExdEIsRUFBQTVJLElBQUEsZUFDQXUyQixFQUFBM3RCLEVBQUE1SSxJQUFBLGVBQ0FxMEIsRUFBQXpyQixFQUFBNUksSUFBQSxlQUNBcTdCLEVBQUF6eUIsRUFBQTVJLElBQUEsTUFFQWlELEdBQUFnbEIsT0FFQWhsQixFQUFBd3pCLFFBQUE0RSxDQUVBLEtBQUEsR0FBQWw4QixHQUFBLEVBQUFBLEVBQUErSixFQUFBN0osT0FBQUYsSUFBQSxDQUNBLEdBQUF5N0IsR0FBQTF4QixFQUFBL0osR0FBQSxHQUNBMDdCLEVBQUEzeEIsRUFBQS9KLEdBQUEsR0FDQTI3QixFQUFBNXhCLEVBQUEvSixHQUFBLEdBQ0E0N0IsRUFBQTd4QixFQUFBL0osR0FBQSxFQUVBLElBQUEsZ0JBQUF5N0IsSUFBQSxnQkFBQUUsSUFBQSxnQkFBQUQsSUFBQSxnQkFBQUUsR0FBQSxDQUNBcHJCLEVBQUFsTSxNQUFBLGdCQUNBLE9BR0E4eUIsRUFBQXAzQixHQUFBLEdBQ0E4RCxFQUFBeXpCLE9BQUFvRSxFQUFBQyxJQUdBOTNCLEVBQUFteEIsWUFDQW54QixFQUFBeXpCLE9BQUFrRSxFQUFBQyxHQUNBNTNCLEVBQUFveEIsWUFBQWlDLEVBQUFuM0IsR0FDQThELEVBQUFtVSxVQUFBbWYsRUFBQXAzQixHQUNBOEQsRUFBQXF4QixZQUFBRCxFQUFBbDFCLElBQ0E4RCxFQUFBMHpCLE9BQUFtRSxFQUFBQyxHQUNBOTNCLEVBQUF3eEIsVUFJQXh4QixFQUFBbWxCLFdBR0E5bkIsS0FBQTZ5QixlQUFBLFNBQUFsd0IsRUFBQWlHLEVBQUFOLEdBQ0EsR0FBQTB0QixHQUFBMXRCLEVBQUE1SSxJQUFBLGVBQ0F1MkIsRUFBQTN0QixFQUFBNUksSUFBQSxlQUNBcTBCLEVBQUF6ckIsRUFBQTVJLElBQUEsZUFDQXE3QixFQUFBenlCLEVBQUE1SSxJQUFBLE1BRUFpRCxHQUFBZ2xCLE9BRUFobEIsRUFBQXd6QixRQUFBNEUsQ0FFQSxLQUFBLEdBQUFsOEIsR0FBQSxFQUFBQSxFQUFBK0osRUFBQTdKLE9BQUFGLElBQUEsQ0FDQSxHQUFBeTdCLEdBQUExeEIsRUFBQS9KLEdBQUEsR0FDQTA3QixFQUFBM3hCLEVBQUEvSixHQUFBLEdBQ0EyN0IsRUFBQTV4QixFQUFBL0osR0FBQSxHQUNBNDdCLEVBQUE3eEIsRUFBQS9KLEdBQUEsR0FDQTg3QixFQUFBL3hCLEVBQUEvSixHQUFBLEdBQ0ErN0IsRUFBQWh5QixFQUFBL0osR0FBQSxHQUNBZzhCLEVBQUFqeUIsRUFBQS9KLEdBQUEsR0FDQWk4QixFQUFBbHlCLEVBQUEvSixHQUFBLEVBRUEsSUFBQSxnQkFBQXk3QixJQUFBLGdCQUFBRSxJQUFBLGdCQUFBRCxJQUFBLGdCQUFBRSxHQUFBLENBQ0FwckIsRUFBQWxNLE1BQUEsZ0JBQ0EsT0FFQSxHQUFBLGdCQUFBdzNCLElBQUEsZ0JBQUFFLElBQUEsZ0JBQUFELElBQUEsZ0JBQUFFLEdBQUEsQ0FDQXpyQixFQUFBbE0sTUFBQSxpQkFDQSxPQUdBOHlCLEVBQUFwM0IsR0FBQSxHQUNBOEQsRUFBQXl6QixPQUFBb0UsRUFBQUMsSUFHQTkzQixFQUFBbXhCLFlBQ0FueEIsRUFBQXl6QixPQUFBa0UsRUFBQUMsR0FDQTUzQixFQUFBb3hCLFlBQUFpQyxFQUFBbjNCLEdBQ0E4RCxFQUFBbVUsVUFBQW1mLEVBQUFwM0IsR0FDQThELEVBQUFxeEIsWUFBQUQsRUFBQWwxQixJQUNBOEQsRUFBQTR6QixjQUFBb0UsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQU4sRUFBQUMsR0FDQTkzQixFQUFBd3hCLFVBSUF4eEIsRUFBQW1sQixXQUdBOW5CLEtBQUFnN0IsYUFBQSxTQUFBcjRCLEVBQUEyRixFQUFBZ1IsRUFBQWlOLEVBQUFwZSxFQUFBdU8sR0FFQS9ULEVBQUFnbEIsTUFFQSxJQUFBeU0sR0FBQTlyQixFQUFBNUksSUFBQSxPQUVBaUQsR0FBQWlsQixVQUFBd00sRUFFQXp4QixFQUFBb2UsS0FBQXpILEVBQUFpTixFQUFBcGUsRUFBQXVPLEdBRUEvVCxFQUFBeXhCLE9BRUF6eEIsRUFBQW1sQixXQUtBOW5CLEtBQUFpN0IsZUFBQSxTQUFBdDRCLEVBQUEyRixFQUFBZ1IsRUFBQWlOLEVBQUFwZSxFQUFBdU8sR0FDQSxHQUFBcWQsR0FBQXpyQixFQUFBNUksSUFBQSxlQUNBczJCLEVBQUExdEIsRUFBQTVJLElBQUEsZUFDQXUyQixFQUFBM3RCLEVBQUE1SSxJQUFBLGNBRUFpRCxHQUFBZ2xCLE1BSUEsS0FBQSxHQUZBdVQsR0FBQSxFQUFBQyxFQUFBLEVBRUF0OEIsRUFBQSxFQUFBQSxFQUFBLEVBQUFBLElBQ0E4RCxFQUFBbXhCLFlBQ0FueEIsRUFBQW94QixZQUFBaUMsRUFBQW4zQixHQUNBOEQsRUFBQXN6QixZQUFBQSxFQUFBcDNCLEdBQ0E4RCxFQUFBcXhCLFlBQUFELEVBQUFsMUIsSUFHQSxJQUFBQSxJQUNBcThCLEVBQUE1aEIsRUFBQW5SLEVBQ0FnekIsRUFBQTVVLEdBRUEsSUFBQTFuQixJQUNBcThCLEVBQUE1aEIsRUFBQW5SLEVBQ0FnekIsRUFBQTVVLEVBQUE3UCxHQUVBLElBQUE3WCxJQUNBcThCLEVBQUE1aEIsRUFDQTZoQixFQUFBNVUsRUFBQTdQLEdBRUEsSUFBQTdYLElBQ0FxOEIsRUFBQTVoQixFQUNBNmhCLEVBQUE1VSxHQUdBMFAsRUFBQXAzQixHQUFBLEdBQ0E4RCxFQUFBeXpCLE9BQUE4RSxFQUFBQyxJQUdBeDRCLEVBQUEwekIsT0FBQTZFLEVBQUFDLEdBQ0F4NEIsRUFBQXd4QixTQU1BeHhCLEdBQUFtbEIsYUNoVkEzbUIsR0FBQTBJLE9BQUFHLFFBQ0EsUUFDQSxRQUFBb3hCLFFBQUEvckIsR0FFQSxHQUFBZ3NCLElBQ0FDLEVBQUEsU0FBQTlhLEVBQUFoZSxFQUFBb2MsRUFBQWhYLEdBQ0EsTUFBQWdYLElBQUE0QixHQUFBNVksR0FBQTRZLEVBQUFBLEVBQUFoZSxHQUVBKzRCLE9BQUEsU0FBQS9hLEVBQUFoZSxFQUFBb2MsRUFBQWhYLEdBRUEsTUFEQTRZLElBQUE1WSxFQUNBcEYsRUFBQW9jLEVBQUEsR0FFQTRjLFdBQUEsU0FBQWhiLEVBQUFoZSxFQUFBb2MsRUFBQWhYLEdBQ0EsR0FBQTZ6QixJQUFBamIsR0FBQTVZLEdBQUE0WSxFQUNBa2IsRUFBQUQsRUFBQWpiLENBQ0EsT0FBQWhlLEdBQUFvYyxHQUFBLEVBQUE4YyxFQUFBRCxNQUFBQSxFQUFBQSxFQUFBLEVBQUFDLEtBQUFELEVBQUFqYixJQUVBbWIsY0FBQSxTQUFBbmIsRUFBQWhlLEVBQUFvYyxFQUFBaFgsR0FDQSxHQUFBNnpCLElBQUFqYixHQUFBNVksR0FBQTRZLEVBQ0FrYixFQUFBRCxFQUFBamIsQ0FDQSxPQUFBaGUsR0FBQW9jLE1BQUE4YyxFQUFBRCxFQUFBLEdBQUFBLEVBQUFBLE1BQUFDLEVBQUEsRUFBQUQsRUFBQWpiLElBRUFvYixhQUFBLFNBQUFwYixFQUFBaGUsRUFBQW9jLEVBQUFoWCxHQUNBLEdBQUE2ekIsSUFBQWpiLEdBQUE1WSxHQUFBNFksRUFDQWtiLEVBQUFELEVBQUFqYixDQUNBLE9BQUFoZSxHQUFBb2MsTUFBQThjLEVBQUFELEVBQUEsRUFBQUMsSUFFQUcsV0FBQSxTQUFBcmIsRUFBQWhlLEVBQUFvYyxFQUFBaFgsR0FDQWdYLEdBQUE0QixHQUFBNVksR0FBQTRZLEVBQUFoZSxDQUNBLE9BQUFvYyxJQUFBNEIsR0FBQTVZLEdBQUE0WSxFQUFBaGUsR0FFQXM1QixZQUFBLFNBQUF0YixFQUFBaGUsRUFBQW9jLEVBQUFoWCxHQUNBLE9BQUFnWCxHQUFBNEIsR0FBQTVZLElBQUE0WSxFQUFBLEdBQUFoZSxHQUVBdTVCLGNBQUEsU0FBQXZiLEVBQUFoZSxFQUFBb2MsRUFBQWhYLEdBQ0EsT0FBQTRZLEdBQUE1WSxFQUFBLEdBQUEsRUFBQWdYLEVBQUEsRUFBQTRCLEVBQUFBLEVBQUFoZSxHQUNBb2MsRUFBQSxLQUFBNEIsR0FBQUEsRUFBQSxHQUFBLEdBQUFoZSxHQUVBdzVCLFlBQUEsU0FBQXhiLEVBQUFoZSxFQUFBb2MsRUFBQWhYLEdBQ0EsTUFBQWdYLElBQUE0QixHQUFBNVksR0FBQTRZLEVBQUFBLEVBQUFoZSxHQUVBeTVCLGFBQUEsU0FBQXpiLEVBQUFoZSxFQUFBb2MsRUFBQWhYLEdBQ0EsTUFBQWdYLEtBQUE0QixFQUFBQSxFQUFBNVksRUFBQSxHQUFBNFksRUFBQUEsRUFBQSxHQUFBaGUsR0FFQTA1QixlQUFBLFNBQUExYixFQUFBaGUsRUFBQW9jLEVBQUFoWCxHQUNBLE9BQUE0WSxHQUFBNVksRUFBQSxHQUFBLEVBQUFnWCxFQUFBLEVBQUE0QixFQUFBQSxFQUFBQSxFQUFBaGUsRUFDQW9jLEVBQUEsSUFBQTRCLEdBQUEsR0FBQUEsRUFBQUEsRUFBQSxHQUFBaGUsR0FFQTI1QixZQUFBLFNBQUEzYixFQUFBaGUsRUFBQW9jLEVBQUFoWCxHQUNBLE1BQUFnWCxJQUFBNEIsR0FBQTVZLEdBQUE0WSxFQUFBQSxFQUFBQSxFQUFBaGUsR0FFQTQ1QixhQUFBLFNBQUE1YixFQUFBaGUsRUFBQW9jLEVBQUFoWCxHQUNBLE9BQUFnWCxJQUFBNEIsRUFBQUEsRUFBQTVZLEVBQUEsR0FBQTRZLEVBQUFBLEVBQUFBLEVBQUEsR0FBQWhlLEdBRUE2NUIsZUFBQSxTQUFBN2IsRUFBQWhlLEVBQUFvYyxFQUFBaFgsR0FDQSxPQUFBNFksR0FBQTVZLEVBQUEsR0FBQSxFQUFBZ1gsRUFBQSxFQUFBNEIsRUFBQUEsRUFBQUEsRUFBQUEsRUFBQWhlLEdBQ0FvYyxFQUFBLElBQUE0QixHQUFBLEdBQUFBLEVBQUFBLEVBQUFBLEVBQUEsR0FBQWhlLEdBRUE4NUIsWUFBQSxTQUFBOWIsRUFBQWhlLEVBQUFvYyxFQUFBaFgsR0FDQSxNQUFBZ1gsSUFBQTRCLEdBQUE1WSxHQUFBNFksRUFBQUEsRUFBQUEsRUFBQUEsRUFBQWhlLEdBRUErNUIsYUFBQSxTQUFBL2IsRUFBQWhlLEVBQUFvYyxFQUFBaFgsR0FDQSxNQUFBZ1gsS0FBQTRCLEVBQUFBLEVBQUE1WSxFQUFBLEdBQUE0WSxFQUFBQSxFQUFBQSxFQUFBQSxFQUFBLEdBQUFoZSxHQUVBZzZCLGVBQUEsU0FBQWhjLEVBQUFoZSxFQUFBb2MsRUFBQWhYLEdBQ0EsT0FBQTRZLEdBQUE1WSxFQUFBLEdBQUEsRUFBQWdYLEVBQUEsRUFBQTRCLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUFoZSxFQUNBb2MsRUFBQSxJQUFBNEIsR0FBQSxHQUFBQSxFQUFBQSxFQUFBQSxFQUFBQSxFQUFBLEdBQUFoZSxHQUVBaTZCLFdBQUEsU0FBQWpjLEVBQUFoZSxFQUFBb2MsRUFBQWhYLEdBQ0EsT0FBQWdYLEVBQUF6RixLQUFBdWpCLElBQUFsYyxFQUFBNVksR0FBQXVSLEtBQUErYSxHQUFBLElBQUF0VixFQUFBcGMsR0FFQW02QixZQUFBLFNBQUFuYyxFQUFBaGUsRUFBQW9jLEVBQUFoWCxHQUNBLE1BQUFnWCxHQUFBekYsS0FBQXlqQixJQUFBcGMsRUFBQTVZLEdBQUF1UixLQUFBK2EsR0FBQSxJQUFBMXhCLEdBRUFxNkIsY0FBQSxTQUFBcmMsRUFBQWhlLEVBQUFvYyxFQUFBaFgsR0FDQSxPQUFBZ1gsRUFBQSxHQUFBekYsS0FBQXVqQixJQUFBdmpCLEtBQUErYSxHQUFBMVQsRUFBQTVZLEdBQUEsR0FBQXBGLEdBRUFzNkIsV0FBQSxTQUFBdGMsRUFBQWhlLEVBQUFvYyxFQUFBaFgsR0FDQSxNQUFBLEtBQUE0WSxFQUFBaGUsRUFBQW9jLEVBQUF6RixLQUFBNGpCLElBQUEsRUFBQSxJQUFBdmMsRUFBQTVZLEVBQUEsSUFBQXBGLEdBRUF3NkIsWUFBQSxTQUFBeGMsRUFBQWhlLEVBQUFvYyxFQUFBaFgsR0FDQSxNQUFBNFksS0FBQTVZLEVBQUFwRixFQUFBb2MsRUFBQUEsSUFBQXpGLEtBQUE0akIsSUFBQSxNQUFBdmMsRUFBQTVZLEdBQUEsR0FBQXBGLEdBRUF5NkIsY0FBQSxTQUFBemMsRUFBQWhlLEVBQUFvYyxFQUFBaFgsR0FDQSxNQUFBLEtBQUE0WSxFQUFBaGUsRUFDQWdlLElBQUE1WSxFQUFBcEYsRUFBQW9jLEdBQ0E0QixHQUFBNVksRUFBQSxHQUFBLEVBQUFnWCxFQUFBLEVBQUF6RixLQUFBNGpCLElBQUEsRUFBQSxJQUFBdmMsRUFBQSxJQUFBaGUsRUFDQW9jLEVBQUEsSUFBQXpGLEtBQUE0akIsSUFBQSxRQUFBdmMsR0FBQSxHQUFBaGUsR0FFQTA2QixXQUFBLFNBQUExYyxFQUFBaGUsRUFBQW9jLEVBQUFoWCxHQUNBLE9BQUFnWCxHQUFBekYsS0FBQW9VLEtBQUEsR0FBQS9NLEdBQUE1WSxHQUFBNFksR0FBQSxHQUFBaGUsR0FFQTI2QixZQUFBLFNBQUEzYyxFQUFBaGUsRUFBQW9jLEVBQUFoWCxHQUNBLE1BQUFnWCxHQUFBekYsS0FBQW9VLEtBQUEsR0FBQS9NLEVBQUFBLEVBQUE1WSxFQUFBLEdBQUE0WSxHQUFBaGUsR0FFQTQ2QixjQUFBLFNBQUE1YyxFQUFBaGUsRUFBQW9jLEVBQUFoWCxHQUNBLE9BQUE0WSxHQUFBNVksRUFBQSxHQUFBLEdBQUFnWCxFQUFBLEdBQUF6RixLQUFBb1UsS0FBQSxFQUFBL00sRUFBQUEsR0FBQSxHQUFBaGUsRUFDQW9jLEVBQUEsR0FBQXpGLEtBQUFvVSxLQUFBLEdBQUEvTSxHQUFBLEdBQUFBLEdBQUEsR0FBQWhlLEdBRUE2NkIsV0FBQSxTQUFBN2MsRUFBQWhlLEVBQUFvYyxFQUFBaFgsRUFBQVMsR0FDQSxHQUFBb3pCLElBQUFqYixHQUFBNVksR0FBQTRZLEVBQ0FrYixFQUFBRCxFQUFBamIsQ0FDQSxPQUFBaGUsR0FBQW9jLEdBQUEsTUFBQThjLEVBQUFELFNBQUFBLEVBQUFBLEVBQUEsS0FBQUMsUUFBQUQsRUFBQSxHQUFBamIsSUFFQThjLFlBQUEsU0FBQTljLEVBQUFoZSxFQUFBb2MsRUFBQWhYLEVBQUFTLEdBQ0EsR0FBQW96QixJQUFBamIsR0FBQTVZLEdBQUE0WSxFQUNBa2IsRUFBQUQsRUFBQWpiLENBQ0EsT0FBQWhlLEdBQUFvYyxHQUFBLE1BQUE4YyxFQUFBRCxTQUFBQSxFQUFBQSxFQUFBLE1BQUFDLEVBQUEsS0FBQUQsRUFBQSxJQUFBamIsSUFFQStjLGNBQUEsU0FBQS9jLEVBQUFoZSxFQUFBb2MsRUFBQWhYLEVBQUFTLEdBQ0EsR0FBQW96QixJQUFBamIsR0FBQTVZLEdBQUE0WSxFQUNBa2IsRUFBQUQsRUFBQWpiLENBQ0EsT0FBQWhlLEdBQUFvYyxHQUFBLE1BQUE4YyxFQUFBRCxTQUFBQSxFQUFBQSxFQUFBLEdBQUFDLFFBQUFELEVBQUEsSUFBQWpiLElBRUFnZCxjQUFBLFNBQUFoZCxFQUFBaGUsRUFBQW9jLEVBQUFoWCxHQUNBLE9BQUE0WSxHQUFBNVksR0FBQSxFQUFBLEtBQ0FnWCxHQUFBLE9BQUE0QixFQUFBQSxHQUFBaGUsRUFDQWdlLEVBQUEsRUFBQSxLQUNBNUIsR0FBQSxRQUFBNEIsR0FBQSxJQUFBLE1BQUFBLEVBQUEsS0FBQWhlLEVBQ0FnZSxFQUFBLElBQUEsS0FDQTVCLEdBQUEsUUFBQTRCLEdBQUEsS0FBQSxNQUFBQSxFQUFBLE9BQUFoZSxFQUVBb2MsR0FBQSxRQUFBNEIsR0FBQSxNQUFBLE1BQUFBLEVBQUEsU0FBQWhlLEdBS0F4QyxNQUFBTixJQUFBLFNBQUFJLEdBQ0EsTUFBQXU3QixHQUFBdjdCLEdBQUF1N0IsRUFBQXY3QixJQUNBdVAsRUFBQWxNLE9BQUFyRCxLQUFBQSxHQUFBLHVGQUNBdTdCLEVBQUEsWUNsSUFsNkIsR0FBQTBJLE9BQUFHLE9BQ0EsUUFBQWdKLFVBQ0EsUUFBQXlxQix5QkFBQXJzQixHQU1BLFFBQUFzc0IsVUFBQUMsRUFBQUMsR0FDQSxHQUFBQyxHQUFBRixFQUFBLEdBQUFDLEVBQUEsR0FBQUQsRUFBQSxHQUFBQyxFQUFBLEdBQ0FFLEVBQUFILEVBQUEsR0FBQUMsRUFBQSxHQUFBRCxFQUFBLEdBQUFDLEVBQUEsR0FDQUcsRUFBQUosRUFBQSxHQUFBQyxFQUFBLEdBQUFELEVBQUEsR0FBQUMsRUFBQSxHQUNBSSxFQUFBTCxFQUFBLEdBQUFDLEVBQUEsR0FBQUQsRUFBQSxHQUFBQyxFQUFBLEdBQ0FLLEVBQUFOLEVBQUEsR0FBQUMsRUFBQSxHQUFBRCxFQUFBLEdBQUFDLEVBQUEsR0FBQUQsRUFBQSxHQUNBTyxFQUFBUCxFQUFBLEdBQUFDLEVBQUEsR0FBQUQsRUFBQSxHQUFBQyxFQUFBLEdBQUFELEVBQUEsRUFDQUEsR0FBQSxHQUFBRSxFQUNBRixFQUFBLEdBQUFHLEVBQ0FILEVBQUEsR0FBQUksRUFDQUosRUFBQSxHQUFBSyxFQUNBTCxFQUFBLEdBQUFNLEVBQ0FOLEVBQUEsR0FBQU8sRUFHQSxRQUFBQyxVQUNBLElBQUEsR0FBQXQvQixHQUFBdS9CLEVBQUFyL0IsT0FBQSxFQUFBRixHQUFBLEVBQUFBLElBQUEsQ0FDQSxHQUFBdS9CLEVBQUF2L0IsR0FBQXcvQixPQUFBLENBQ0EsR0FBQUMsR0FBQW5sQixLQUFBeWpCLEtBQUF3QixFQUFBdi9CLEdBQUF3L0IsUUFDQUUsRUFBQXBsQixLQUFBdWpCLEtBQUEwQixFQUFBdi9CLEdBQUF3L0IsT0FFQVgsVUFBQWMsR0FBQUQsRUFBQUQsR0FBQUEsRUFBQUMsRUFBQSxFQUFBLElBRUFILEVBQUF2L0IsR0FBQWd1QixXQUNBNlEsU0FBQWMsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBSixFQUFBdi9CLEdBQUFndUIsVUFBQSxJQUFBdVIsRUFBQXYvQixHQUFBZ3VCLFVBQUEsS0FFQXVSLEVBQUF2L0IsR0FBQTQvQixNQUNBZixTQUFBYyxHQUFBLEVBQUFybEIsS0FBQXVsQixLQUFBTixFQUFBdi9CLEdBQUE0L0IsS0FBQSxJQUFBdGxCLEtBQUF1bEIsS0FBQU4sRUFBQXYvQixHQUFBNC9CLEtBQUEsSUFBQSxFQUFBLEVBQUEsSUFFQUwsRUFBQXYvQixHQUFBOC9CLE9BQ0FqQixTQUFBYyxHQUFBLEVBQUFKLEVBQUF2L0IsR0FBQTgvQixNQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUFQLEVBQUF2L0IsR0FBQTgvQixNQUFBLEdBQUEsRUFBQSxJQUdBQyxHQUFBLEVBQ0FSLEVBQUEsS0FxREEsUUFBQVMsZ0JBQ0EsR0FBQWh0QixHQUFBVCxFQUFBUyxRQUlBLElBRkErc0IsR0FBQVQsU0FFQXRzQixFQUFBLENBQ0EsR0FBQWl0QixFQUtBLE1BQUFBLEVBSkFBLElBQUFOLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLElBQ0FkLFNBQUFvQixFQUFBanRCLEVBQUFLLFNBQUE2c0IsNkJBT0FELEdBQUFOLENBR0EsT0FBQU0sR0E5R0EsR0FBQTc5QixJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBdTlCLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0FNLEVBQUEsS0FDQVYsS0FBQVEsR0FBQSxDQXVDQTUrQixNQUFBcStCLE9BQUEsU0FBQVcsR0FDQSxHQUFBVixHQUFBbmxCLEtBQUF5akIsSUFBQW9DLEdBQ0FULEVBQUFwbEIsS0FBQXVqQixJQUFBc0MsR0FDQW5aLEdBQUEwWSxFQUFBRCxHQUFBQSxFQUFBQyxFQUFBLEVBQUEsRUFNQSxPQUpBYixVQUFBejhCLEVBQUE0a0IsR0FFQXVZLEVBQUE3OUIsTUFBQTg5QixPQUFBVyxJQUVBaC9CLE1BR0FBLEtBQUE2c0IsVUFBQSxTQUFBdlQsRUFBQWlOLEdBQ0EsR0FBQVYsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBdk0sRUFBQWlOLEVBT0EsT0FMQSxLQUFBak4sR0FBQSxJQUFBaU4sSUFDQW1YLFNBQUF6OEIsRUFBQTRrQixHQUNBdVksRUFBQTc5QixNQUFBc3NCLFdBQUF2VCxFQUFBaU4sTUFHQXZtQixNQUdBQSxLQUFBMitCLE1BQUEsU0FBQXJsQixFQUFBaU4sR0FDQSxHQUFBLElBQUFqTixHQUFBLElBQUFpTixFQUFBLENBQ0EsR0FBQVYsSUFBQXZNLEVBQUEsRUFBQSxFQUFBaU4sRUFBQSxFQUFBLEVBQ0FtWCxVQUFBejhCLEVBQUE0a0IsR0FDQXVZLEVBQUE3OUIsTUFBQW8rQixPQUFBcmxCLEVBQUFpTixLQUdBLE1BQUF2bUIsT0FHQUEsS0FBQXkrQixLQUFBLFNBQUFubEIsRUFBQWlOLEdBQ0EsR0FBQSxJQUFBak4sR0FBQSxJQUFBaU4sRUFBQSxDQUNBLEdBQUEwWSxHQUFBOWxCLEtBQUF1bEIsSUFBQXBsQixHQUNBNGxCLEVBQUEvbEIsS0FBQXVsQixJQUFBblksR0FDQVYsR0FBQSxFQUFBcVosRUFBQUQsRUFBQSxFQUFBLEVBQUEsRUFFQXZCLFVBQUF6OEIsRUFBQTRrQixHQUNBdVksRUFBQTc5QixNQUFBaytCLE1BQUFubEIsRUFBQWlOLEtBR0EsTUFBQXZtQixPQUdBQSxLQUFBcTZCLFFBQUEsV0FDQSxNQUFBcDVCLElBd0JBakIsS0FBQSsrQixzQkFBQUYsYUFFQTcrQixLQUFBbS9CLHVCQUFBLFNBQUE3cUIsR0FDQXdxQixHQUFBRCxjQUVBLElBQUF2bEIsR0FBQWhGLEVBQUEsR0FBQXdxQixFQUFBLEdBQUF4cUIsRUFBQSxHQUFBd3FCLEVBQUEsR0FBQUEsRUFBQSxHQUNBdlksRUFBQWpTLEVBQUEsR0FBQXdxQixFQUFBLEdBQUF4cUIsRUFBQSxHQUFBd3FCLEVBQUEsR0FBQUEsRUFBQSxFQUtBLE9BSEF4cUIsR0FBQSxHQUFBZ0YsRUFDQWhGLEVBQUEsR0FBQWlTLEVBRUFqUyxHQUdBdFUsS0FBQW8vQixpQkFBQSxTQUFBOXFCLEdBQ0FzcUIsR0FBQVQsUUFFQSxJQUFBN2tCLEdBQUFoRixFQUFBLEdBQUFrcUIsRUFBQSxHQUFBbHFCLEVBQUEsR0FBQWtxQixFQUFBLEdBQUFBLEVBQUEsR0FDQWpZLEVBQUFqUyxFQUFBLEdBQUFrcUIsRUFBQSxHQUFBbHFCLEVBQUEsR0FBQWtxQixFQUFBLEdBQUFBLEVBQUEsRUFLQSxPQUhBbHFCLEdBQUEsR0FBQWdGLEVBQ0FoRixFQUFBLEdBQUFpUyxFQUVBalMsR0FLQXRVLEtBQUErMEIsYUFBQSxTQUFBM2pCLEdBRUEsR0FBQWMsR0FBQSxHQUFBdXJCLHlCQUFBcnNCLEdBRUE5SSxFQUFBOEksRUFBQWYsVUFBQSxTQUNBZ2pCLEVBQUFqaUIsRUFBQWYsVUFBQSxPQUFBc0IsTUFDQXVQLEVBQUFtUyxFQUFBblMsU0FDQWhNLEVBQUE1TSxFQUFBNUksSUFBQSxZQUNBMi9CLEVBQUEvMkIsRUFBQTVJLElBQUEsVUFDQSsrQixFQUFBbjJCLEVBQUE1SSxJQUFBLFFBQ0EyK0IsRUFBQS8xQixFQUFBNUksSUFBQSxVQUNBaS9CLEVBQUFyMkIsRUFBQTVJLElBQUEsU0FDQW10QixFQUFBdmtCLEVBQUE1SSxJQUFBLGFBRUE0L0IsRUFBQSxVQUFBbHVCLEVBQUFOLFFBQ0FvRSxFQUFBLEdBQUEyWCxFQUFBLEdBQUEzTCxFQUFBb0YsT0FBQSxHQUNBcFIsRUFBQSxHQUFBMlgsRUFBQSxHQUFBM0wsRUFBQW9GLE9BQUEsS0FHQXBGLEVBQUFoTSxTQUFBLEdBQUEyWCxFQUFBLEdBQ0EzTCxFQUFBaE0sU0FBQSxHQUFBMlgsRUFBQSxJQUVBMFMsR0FDQUYsRUFBQSxHQUFBbmUsRUFBQXpkLEtBQUEsR0FDQTQ3QixFQUFBLEdBQUFuZSxFQUFBemQsS0FBQSxHQVdBLE9BUEF5TyxHQUFBMmEsVUFBQTBTLEVBQUEsR0FBQUEsRUFBQSxJQUNBLElBQUFELEVBQUEsSUFBQSxJQUFBQSxFQUFBLElBQUFwdEIsRUFBQTJhLFVBQUF5UyxFQUFBLEdBQUFBLEVBQUEsSUFDQSxJQUFBakIsR0FBQW5zQixFQUFBbXNCLE9BQUFBLEdBQ0EsSUFBQUksRUFBQSxJQUFBLElBQUFBLEVBQUEsSUFBQXZzQixFQUFBdXNCLEtBQUFBLEVBQUEsR0FBQUEsRUFBQSxJQUNBLElBQUFFLEVBQUEsSUFBQSxJQUFBQSxFQUFBLElBQUF6c0IsRUFBQXlzQixNQUFBQSxFQUFBLEdBQUFBLEVBQUEsSUFDQXpzQixFQUFBMmEsV0FBQTBTLEVBQUEsSUFBQUEsRUFBQSxJQUVBcnRCLEtDbkxBL1EsR0FBQTBJLE9BQUFHLFFBQ0EsUUFDQSxRQUFBdzFCLE9BQUFud0IsT0FFQXJQLEtBQUF5L0IsVUFBQSxTQUFBQyxHQUNBLE1BQUEsZ0JBQUFBLE9BQ0Fyd0IsT0FBQWxNLE1BQUEsMEJBR0FxZixLQUFBQyxNQUFBRCxLQUFBbWQsVUFBQUQsS0FHQTEvQixLQUFBMnlCLFdBQUEsU0FBQW52QixPQUNBLEdBQUEsZ0JBQUFBLFFBQUFBLE1BQUFuRCxjQUFBQyxNQUVBLFdBREErTyxPQUFBbE0sTUFBQSx5QkFNQSxLQUFBLEdBRkEvRCxXQUVBUCxFQUFBLEVBQUFBLEVBQUEyRSxNQUFBekUsT0FBQUYsSUFDQSxHQUFBLGdCQUFBMkUsT0FBQTNFLEdBQ0EyRSxNQUFBM0UsR0FBQXdCLGFBQUFDLE1BQ0FsQixPQUFBbUIsS0FBQVAsS0FBQTJ5QixXQUFBbnZCLE1BQUEzRSxLQUdBTyxPQUFBbUIsS0FBQVAsS0FBQXkvQixVQUFBajhCLE1BQUEzRSxTQUdBLElBQUEsa0JBQUEyRSxPQUFBM0UsR0FBQSxDQUNBLEdBQUFzaUIsTUFBQTNkLE1BQUEzRSxHQUFBK2MsVUFDQXhjLFFBQUFtQixLQUFBcS9CLEtBQUF6ZSxPQUNBOVIsTUFBQXpLLEtBQUEsNENBR0F4RixRQUFBbUIsS0FBQWlELE1BQUEzRSxHQUlBLE9BQUFPLFNBR0FZLEtBQUFtNEIsa0JBQUEsU0FBQTMwQixHQUNBLEdBQUFwRSxJQUFBLENBRUEsSUFBQSxnQkFBQW9FLElBQUFBLEVBQUFuRCxjQUFBQyxNQUFBLE9BQUEsQ0FFQSxLQUFBLEdBQUF6QixHQUFBLEVBQUFBLEVBQUEyRSxFQUFBekUsT0FBQUYsSUFDQSxHQUFBLGdCQUFBMkUsR0FBQTNFLEdBQUEsQ0FDQU8sR0FBQSxDQUNBLE9BSUEsTUFBQUEsR0FHQSxJQUFBeWdDLFlBQUEsY0FBQSxZQUFBLGFBQUEsY0FBQSxtQkFDQSxpQkFBQSxrQkFBQSxtQkFBQSxVQUFBLE9BQUEsTUFBQSxXQUNBLFNBQUEsVUFBQSxTQUFBLFVBQUEsY0FBQSxhQUFBLGFBQ0EsYUFBQSxhQUFBLFlBQUEsTUFBQSxhQUFBLFFBQUEsYUFHQTcvQixNQUFBeTRCLGNBQUEsU0FBQXgzQixHQUdBLElBQUEsR0FGQTdCLElBQUEsRUFFQVAsRUFBQSxFQUFBQSxFQUFBZ2hDLFVBQUE5Z0MsT0FBQUYsSUFDQSxHQUFBZ2hDLFVBQUFoaEMsSUFBQW9DLEVBQUEsQ0FDQTdCLEdBQUEsQ0FDQSxPQUlBLE1BQUFBLEdBR0EsSUFBQTBnQyxlQUFBLCtCQUVBOS9CLE1BQUE2NEIsZUFBQSxTQUFBeHFCLEdBQ0EsTUFBQXl4QixlQUFBamUsS0FBQXhULElBR0FyTyxLQUFBZzNCLGlCQUFBLFNBQUEzb0IsR0FDQSxHQUFBalAsR0FBQWlQLEVBQUF3SSxNQUFBaXBCLGNBRUEsUUFDQTMyQixJQUFBL0osRUFBQSxHQUNBbXRCLE9BQUF0VCxTQUFBN1osRUFBQSxTQ3ZGQStCLEdBQUEwSSxPQUFBRyxPQUNBLFFBQUFrSixTQUNBbFQsS0FBQSsvQix3QkFBQSxTQUFBenJCLEdBQ0EsR0FBQTByQixHQUFBaGdDLEtBQUFrUyxTQUFBaXRCLHdCQUFBN3FCLEVBQUEsR0FBQUEsRUFBQSxJQUVBLElBQUEwckIsR0FBQSxJQUFBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLENBRUEsSUFBQTllLEdBQUFsaEIsS0FBQXFRLFVBQUEsT0FBQXNCLE1BQUF1UCxRQUVBLElBQUE4ZSxFQUFBLEdBQUE5ZSxFQUFBemQsS0FBQSxHQUFBLE9BQUEsQ0FFQSxJQUFBdThCLEVBQUEsR0FBQTllLEVBQUF6ZCxLQUFBLEdBQUEsT0FBQSxDQUVBLElBQUFveEIsR0FBQTNULEVBQUF6ZCxLQUFBLEdBQUEsRUFDQXc4QixFQUFBcEwsRUFDQXFMLEVBQUFoZixFQUFBemQsS0FBQSxHQUFBLENBRUEsT0FBQTBWLE1BQUE0akIsSUFBQWlELEVBQUEsR0FBQUMsRUFBQSxHQUFBOW1CLEtBQUE0akIsSUFBQWlELEVBQUEsR0FBQUUsRUFBQSxJQUFBL21CLEtBQUE0akIsSUFBQWxJLEVBQUEsSUFDQTcwQixNQU1BQSxLQUFBbWdDLHdCQUFBLFNBQUE3ckIsR0FDQSxHQUFBMHJCLEdBQUFoZ0MsS0FBQWtTLFNBQUFpdEIsd0JBQUE3cUIsRUFBQSxHQUFBQSxFQUFBLEtBQ0E0TSxFQUFBbGhCLEtBQUFxUSxVQUFBLE9BQUFzQixNQUFBdVAsUUFFQSxPQUFBOGUsR0FBQSxHQUFBLEdBQUFBLEVBQUEsR0FBQTllLEVBQUF6ZCxLQUFBLEtBQ0F1OEIsRUFBQSxHQUFBLEdBQUFBLEVBQUEsR0FBQTllLEVBQUF6ZCxLQUFBLElBQ0F6RCxPQU9BQSxLQUFBNnBCLG9CQUFBLFNBQUF2VixHQUNBLEdBQUEwckIsR0FBQWhnQyxLQUFBa1MsU0FBQWl0Qix3QkFBQTdxQixFQUFBLEdBQUFBLEVBQUEsSUFFQSxJQUFBMHJCLEdBQUEsSUFBQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxDQUVBLElBQUE5ZSxHQUFBbGhCLEtBQUFxUSxVQUFBLE9BQUFzQixNQUFBdVAsUUFFQSxJQUFBOGUsRUFBQSxHQUFBOWUsRUFBQXpkLEtBQUEsR0FBQSxPQUFBLENBRUEsSUFBQXU4QixFQUFBLEdBQUE5ZSxFQUFBemQsS0FBQSxHQUFBLE9BQUEsQ0FFQSxJQUFBMjhCLEdBQUFsZixFQUFBemQsS0FBQSxHQUFBLEVBQ0FveEIsRUFBQTcwQixLQUFBcVEsVUFBQSxTQUFBM1EsSUFBQSxTQUVBLE9BQUF5WixNQUFBNGpCLElBQUFpRCxFQUFBLEdBQUFJLEVBQUEsR0FBQWpuQixLQUFBNGpCLElBQUFpRCxFQUFBLEdBQUFJLEVBQUEsR0FBQWpuQixLQUFBNGpCLElBQUFsSSxFQUFBLElBQ0E3MEIsTUFNQUEsS0FBQWlxQixrQkFBQSxTQUFBM1YsR0FDQSxHQUFBMHJCLEdBQUFoZ0MsS0FBQWtTLFNBQUFpdEIsd0JBQUE3cUIsRUFBQSxHQUFBQSxFQUFBLEtBQ0E0TSxFQUFBbGhCLEtBQUFxUSxVQUFBLE9BQUFzQixNQUFBdVAsUUFFQSxPQUFBOGUsR0FBQSxHQUFBLEdBQUFBLEVBQUEsR0FBQTllLEVBQUF6ZCxLQUFBLEtBQ0F1OEIsRUFBQSxHQUFBLEdBQUFBLEVBQUEsR0FBQTllLEVBQUF6ZCxLQUFBLElBQ0F6RCxTQ2hFQW1CLEdBQUEwSSxPQUFBRyxRQUNBLFFBQ0EsUUFBQXEyQixNQUFBaHhCLEdBQ0EsUUFBQWl4QixrQkFBQUMsRUFBQUMsRUFBQWxHLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFqYSxHQUNBLEdBQUFpZ0IsR0FBQXRuQixLQUFBb1UsS0FBQXBVLEtBQUE0akIsSUFBQXpDLEVBQUFpRyxFQUFBLEdBQUFwbkIsS0FBQTRqQixJQUFBeEMsRUFBQWlHLEVBQUEsSUFDQUUsRUFBQXZuQixLQUFBb1UsS0FBQXBVLEtBQUE0akIsSUFBQXZDLEVBQUFGLEVBQUEsR0FBQW5oQixLQUFBNGpCLElBQUF0QyxFQUFBRixFQUFBLElBQ0FvRyxFQUFBbmdCLEVBQUFpZ0IsR0FBQUEsRUFBQUMsR0FDQUUsRUFBQXBnQixFQUFBa2dCLEdBQUFELEVBQUFDLEdBQ0FHLEVBQUF2RyxFQUFBcUcsR0FBQW5HLEVBQUErRixHQUNBTyxFQUFBdkcsRUFBQW9HLEdBQUFsRyxFQUFBK0YsR0FDQU8sRUFBQXpHLEVBQUFzRyxHQUFBcEcsRUFBQStGLEdBQ0FTLEVBQUF6RyxFQUFBcUcsR0FBQW5HLEVBQUErRixFQUNBLFFBQUFLLEVBQUFDLEVBQUFDLEVBQUFDLEdBR0FoaEMsS0FBQTYzQixtQkFBQSxTQUFBanZCLEdBR0EsSUFBQSxHQUZBeEosTUFFQVAsRUFBQSxFQUFBQSxFQUFBK0osRUFBQTdKLE9BQUFGLElBQ0FPLEVBQUFtQixNQUNBcUksRUFBQS9KLEdBQUEsR0FDQStKLEVBQUEvSixHQUFBLElBSUEsT0FBQU8sSUFHQVksS0FBQTQzQixrQkFBQSxTQUFBaHZCLEdBRUEsR0FBQUEsRUFBQTdKLE9BQUEsRUFFQSxXQURBc1EsR0FBQWxNLE1BQUEsOENBTUEsS0FBQSxHQUZBL0QsTUFFQVAsRUFBQSxFQUFBQSxFQUFBK0osRUFBQTdKLE9BQUFGLElBQUEsQ0FDQSxHQUFBeWEsR0FBQTFRLEVBQUEvSixHQUFBLEdBQ0EwbkIsRUFBQTNkLEVBQUEvSixHQUFBLEVBRUEsSUFBQSxnQkFBQXlhLElBQUEsZ0JBQUFpTixHQUFBLENBQ0FsWCxFQUFBbE0sTUFBQSxtQkFDQS9ELEVBQUFHLE1BQ0EsT0FHQVYsRUFBQStKLEVBQUE3SixPQUFBLElBQ0FLLEVBQUFQLElBQUFPLEVBQUFtQixTQUNBbkIsRUFBQVAsR0FBQTBCLEtBQUErWSxHQUNBbGEsRUFBQVAsR0FBQTBCLEtBQUFnbUIsSUFHQSxJQUFBMW5CLElBQ0FPLEVBQUFQLEVBQUEsR0FBQTBCLEtBQUErWSxHQUNBbGEsRUFBQVAsRUFBQSxHQUFBMEIsS0FBQWdtQixHQUNBbm5CLEVBQUFQLEVBQUEsR0FBQTBCLEtBQUFuQixFQUFBUCxFQUFBLEdBQUEsSUFDQU8sRUFBQVAsRUFBQSxHQUFBMEIsS0FBQW5CLEVBQUFQLEVBQUEsR0FBQSxJQUVBTyxFQUFBUCxFQUFBLEdBQUEwQixLQUFBK1ksR0FDQWxhLEVBQUFQLEVBQUEsR0FBQTBCLEtBQUFnbUIsSUFJQSxNQUFBbm5CLElBR0FZLEtBQUF1eUIsWUFBQSxTQUFBM3BCLEVBQUFxNEIsRUFBQUMsR0FFQSxJQUFBLEdBQUFyaUMsR0FBQSxFQUFBQSxFQUFBK0osRUFBQTdKLE9BQUFGLElBQUEsQ0FFQSxHQUFBc2lDLE1BQUFDLEdBQUF4NEIsRUFBQS9KLEdBQUEsR0FBQStKLEVBQUEvSixHQUFBLElBQUF3aUMsR0FBQXo0QixFQUFBL0osR0FBQSxHQUFBK0osRUFBQS9KLEdBQUEsSUFBQXlpQyxFQUFBLElBbUNBLElBaENBSCxFQURBLEdBQUF0aUMsRUFDQXVpQyxHQUdBeDRCLEVBQUEvSixFQUFBLEdBQUEsR0FBQStKLEVBQUEvSixFQUFBLEdBQUEsSUFJQXlpQyxFQUFBaEIsaUJBQUFhLEVBQUEsR0FBQUEsRUFBQSxHQUFBQyxFQUFBLEdBQUFBLEVBQUEsR0FBQUMsRUFBQSxHQUFBQSxFQUFBLEdBQUFKLEdBRUEsR0FBQXBpQyxHQUNBK0osRUFBQS9KLEdBQUEsR0FBQXlpQyxFQUFBLEdBQ0ExNEIsRUFBQS9KLEdBQUEsR0FBQXlpQyxFQUFBLEtBR0ExNEIsRUFBQS9KLEVBQUEsR0FBQSxHQUFBeWlDLEVBQUEsR0FDQTE0QixFQUFBL0osRUFBQSxHQUFBLEdBQUF5aUMsRUFBQSxHQUNBMTRCLEVBQUEvSixHQUFBLEdBQUF5aUMsRUFBQSxHQUNBMTRCLEVBQUEvSixHQUFBLEdBQUF5aUMsRUFBQSxJQUdBemlDLEdBQUErSixFQUFBN0osT0FBQSxJQUVBb2lDLEdBQUF2NEIsRUFBQS9KLEdBQUEsR0FBQStKLEVBQUEvSixHQUFBLElBQ0F1aUMsR0FBQXg0QixFQUFBL0osR0FBQSxHQUFBK0osRUFBQS9KLEdBQUEsSUFDQXdpQyxFQUFBRCxFQUVBRSxFQUFBaEIsaUJBQUFhLEVBQUEsR0FBQUEsRUFBQSxHQUFBQyxFQUFBLEdBQUFBLEVBQUEsR0FBQUMsRUFBQSxHQUFBQSxFQUFBLEdBQUFKLEdBRUFyNEIsRUFBQS9KLEdBQUEsR0FBQXlpQyxFQUFBLEdBQ0ExNEIsRUFBQS9KLEdBQUEsR0FBQXlpQyxFQUFBLElBR0FKLEVBQUEsQ0FDQSxHQUFBSyxHQUFBMzRCLEVBQUFBLEVBQUE3SixPQUFBLEdBQ0E2TyxFQUFBaEYsRUFBQSxHQUVBNDRCLElBQ0FELEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxLQUNBM3pCLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxJQUVBNU4sTUFBQXV5QixZQUFBaVAsRUFBQVAsR0FFQXI0QixFQUFBLEdBQUEsR0FBQTQ0QixFQUFBLEdBQUEsR0FDQTU0QixFQUFBLEdBQUEsR0FBQTQ0QixFQUFBLEdBQUEsR0FDQTU0QixFQUFBQSxFQUFBN0osT0FBQSxHQUFBLEdBQUF5aUMsRUFBQSxHQUFBLEdBQ0E1NEIsRUFBQUEsRUFBQTdKLE9BQUEsR0FBQSxHQUFBeWlDLEVBQUEsR0FBQSxNQU1BeGhDLEtBQUEyM0IsZ0JBQUEsU0FBQS91QixHQUNBLEdBQUEsZ0JBQUFBLElBQUFBLEVBQUF2SSxjQUFBQyxNQUFBLE9BQUEsQ0FJQSxLQUFBLEdBRkFtaEMsSUFBQSxFQUVBNWlDLEVBQUEsRUFBQUEsRUFBQStKLEVBQUE3SixPQUFBRixJQUNBLEdBQ0EsZ0JBQUErSixHQUFBL0osSUFBQStKLEVBQUEvSixHQUFBd0IsY0FBQUMsT0FBQSxJQUFBc0ksRUFBQS9KLEdBQUFFLFFBQ0EsZ0JBQUE2SixHQUFBL0osR0FBQSxJQUFBLGdCQUFBK0osR0FBQS9KLEdBQUEsR0FDQSxDQUNBNGlDLEdBQUEsQ0FDQSxPQUlBLE1BQUFBLElBR0F6aEMsS0FBQTBoQyxhQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQXhpQyxJQUFBLENBRUEsSUFBQXVpQyxFQUFBNWlDLFNBQUE2aUMsRUFBQTdpQyxPQUNBLE9BQUEsQ0FHQSxLQUFBLEdBQUFGLEdBQUEsRUFBQUEsRUFBQThpQyxFQUFBNWlDLE9BQUFGLElBQ0EsSUFBQSxHQUFBcUQsR0FBQSxFQUFBQSxFQUFBeS9CLEVBQUE5aUMsR0FBQUUsT0FBQW1ELElBQ0EsR0FBQXkvQixFQUFBOWlDLEdBQUFxRCxLQUFBMC9CLEVBQUEvaUMsR0FBQXFELEdBQUEsQ0FDQTlDLEdBQUEsQ0FDQSxPQUtBLE1BQUFBIiwiZmlsZSI6InJlZmxlY3QtZW5naW5lLWVzNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNC8wOC8yMDE3LlxyXG4gKi9cclxuZnVuY3Rpb24gUmVmbGVjdCgpIHtcclxufVxyXG5cclxudmFyIG1vZHVsZXMgPSB7fSxcclxuICAgIHByb3BlcnRpZXMgPSB7fSxcclxuICAgIGNvcmUgPSBuZXcgUmVmbGVjdCgpLFxyXG4gICAgZXhwZWN0ID1cclxuICAgICAgICBbXHJcbiAgICAgICAgICAgICdBcHBsaWNhdGlvbicsICdBdWRpbycsICdDYW52YXMnLCAnQ2xhc3NlcycsXHJcbiAgICAgICAgICAgICdDb25maWcnLCAnQ29udGFpbmVyJywgJ0ZvbnRzJywgJ0hlbHBlcnMnLFxyXG4gICAgICAgICAgICAnSW5qZWN0aW9uJywgJ1Jvb3QnLCAnU2VydmljZXMnLCAnU291cmNlJyxcclxuICAgICAgICAgICAgJ1RpY2tlcidcclxuICAgICAgICBdO1xyXG5cclxuZnVuY3Rpb24gQ29yZShmKSB7XHJcbiAgICBuZXcgSW5qZWN0aW9uKGYpO1xyXG4gICAgdmFyIHJlYWR5ID0gdHJ1ZTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwZWN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKCFtb2R1bGVzW2V4cGVjdFtpXV0pIHtcclxuICAgICAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHJlYWR5KSB7XHJcbiAgICAgICAgQnVpbGRDb3JlKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gQ29yZTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Um91dGVGdW5jdGlvbihmKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gcm91dGVGdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gZi5hcHBseShSZWZsZWN0LCBhcmd1bWVudHMpO1xyXG4gICAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkgcmV0dXJuIFJlZmxlY3Q7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH0uYmluZChjb3JlKTtcclxufVxyXG5cclxuQ29yZS5nZXQgPSBmdW5jdGlvbiAobW9kdWxlLCBwYXlsb2FkKSB7XHJcbiAgICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgIGlmIChtb2R1bGVzW21vZHVsZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZXNbbW9kdWxlXS5nZXQuYXBwbHkobW9kdWxlc1ttb2R1bGVdLCBwYXlsb2FkKTtcclxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdNb2R1bGUgWycgKyBtb2R1bGUgKyAnXSB3YXMgbm90IGZvdW5kJyk7XHJcbiAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdNb2R1bGUgbmFtZSBpcyBub3QgYSBzdHJpbmcuIFdyb25nIGFyZ3VtZW50cycpO1xyXG59O1xyXG5cclxuQ29yZS5pcyA9IGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUpIHtcclxuICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgIGlmIChtb2R1bGVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVzW25hbWVdLmlzKHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuQ29yZS5pbmplY3QgPSBmdW5jdGlvbiAobW9kdWxlLCBwYXlsb2FkKSB7XHJcbiAgICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgIGlmIChtb2R1bGVzW21vZHVsZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZXNbbW9kdWxlXS5jcmVhdGUocGF5bG9hZCk7XHJcbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignTm9kdWxlIFsnICsgbW9kdWxlICsgJ10gd2FzIG5vdCBmb3VuZC4nKTtcclxuICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ01vZHVsZSBuYW1lIGlzIG5vdCBhIHN0cmluZy4gV3JvbmcgQXJndW1lbnRzJyk7XHJcbn07XHJcblxyXG5Db3JlLmV4dGVuZCA9IGZ1bmN0aW9uIChtb2R1bGUsIHRhcmdldCwgcGF5bG9hZCkge1xyXG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzW21vZHVsZV0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlc1ttb2R1bGVdLmV4dGVuZCh0YXJnZXQsIHBheWxvYWQpO1xyXG4gICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBleHRlbmQgdGFyZ2V0IG9mIHR5b2UgWycgKyAodHlwZW9mIHRhcmdldCkgKyAnXSBidSBtb2R1bGUgY29uc3RydWN0b3IgWycgKyBtb2R1bGUgKyAnXS4nKTtcclxuICAgIH1cclxufTtcclxuXHJcbkNvcmUuZGVmaW5lID0gZnVuY3Rpb24gKHByb3BlcnR5LCB2YWx1ZSkge1xyXG4gICAgaWYgKCFjb3JlKSBjb3JlID0gbmV3IFJlZmxlY3QoKTtcclxuICAgIGlmICh0eXBlb2YgcHJvcGVydHkgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICBpZiAocHJvcGVydGllc1twcm9wZXJ0eV0gIT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZGVmaW5lIHByb3BlcnR5IFsnICsgcHJvcGVydHkgKyAnXS4gQWxyZWFkeSBkZWZpbmVkIScpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHkgPT09IFwiZnVuY3Rpb25cIikgcHJvcGVydGllc1twcm9wZXJ0eV0gPSBnZXRSb3V0ZUZ1bmN0aW9uKHZhbHVlKTtcclxuICAgICAgICBlbHNlIGlmIChwcm9wZXJ0eSAhPT0gbnVsbCB8fCB0eXBlb2YgcHJvcGVydHkgIT09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIHByb3BlcnR5ICE9PSBcIm9iamVjdFwiKSBwcm9wZXJ0aWVzW3Byb3BlcnR5XSA9IHZhbHVlXHJcbiAgICAgICAgcmV0dXJuIGNvcmU7XHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBCdWlsZENvcmUoKSB7XHJcbiAgICBDb3JlLmdldCgnUm9vdCcpO1xyXG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcykge1xyXG4gICAgICAgIGlmIChwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICBjb3JlW3Byb3BlcnR5XSA9IHByb3BlcnRpZXNbcHJvcGVydHldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gSW5qZWN0aW9uKGYpIHtcclxuICAgIGlmICh0eXBlb2YgZiAhPT0gXCJmdW5jdGlvblwiIHx8ICFmLm5hbWUpIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZWluamVjdGlvbi4gQ29uc3RydWN0b3IgaXMgbm90IGEgbmFtZWQgZnVuY3Rpb24hJyk7XHJcbiAgICBtb2R1bGVzW2YubmFtZV0gPSB0aGlzO1xyXG4gICAgdmFyIGNhY2hlID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uIChwYXlsb2FkKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbbnVsbF07XHJcbiAgICAgICAgaWYgKHBheWxvYWQgJiYgdHlwZW9mIHBheWxvYWQgPT09IFwib2JqZWN0XCIgJiYgcGF5bG9hZC5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXlsb2FkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2gocGF5bG9hZFtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoZiwgYXJncykpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoY2FjaGUpIHJldHVybiBjYWNoZTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuY3JlYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50c1swXSk7XHJcbiAgICAgICAgICAgIGNhY2hlID0gcmVzdWx0O1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5pcyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0LmNvbnN0cnVjdG9yID09PSBmO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmV4dGVuZCA9IGZ1bmN0aW9uICh0YXJnZXQsIHBheWxvYWQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHBheWxvYWQgPT09IFwib2JqZWN0XCIgJiYgcGF5bG9hZC5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgZi5hcHBseSh0YXJnZXQsIHBheWxvYWQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGYuY2FsbCh0YXJnZXQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxud2luZG93LiRSID0gY29yZTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMTQvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gQXBwbGljYXRpb24oQ2FudmFzLCBUaWNrZXIsIENvbmZpZykge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICBDb25maWcuZGVmaW5lKCdmcHMnLCA1OC44LCB7aXNOdW1iZXI6IHRydWUsIGdyZWF0ZXI6IDAsIHVuZGVyOiA2MX0pLndhdGNoKGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgVGlja2VyLmZwcyh2KTtcclxuICAgIH0pO1xyXG5cclxuICAgIENvbmZpZy5kZWZpbmUoJ2NhbnZhcycsIG51bGwsIHtpc1N0cmluZzogdHJ1ZX0pLndhdGNoKGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgQ2FudmFzLmVsZW1lbnQodik7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLiQgPSBmdW5jdGlvbiAobiwgZikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgbiA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAobi5jaGFyQXQoMCkgPT09ICckJykgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IEFQSSBmdW5jdGlvbi4gRnVuY3Rpb24gbmFtZSBzdGFydHMgd2l0aCAkJyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzW25dKSB0aHJvdyBuZXcgRXJyb3IoJ0FwcGxpY2F0aW9uIEFQSSBwcm9wZXJ0eSBbJyArIG4gKyAnXSBkdXBsaWNhdGlvbiEnKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcignQXBwbGljYXRpb24gQVBJIHByb3BlcnR5IFsnICsgbiArICddIHZhbHVlIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgICAgIHRoaXNbbl0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBBUEkgbWV0aG9kLiBOYW1lIGlzIG5vdCBhIHN0cmluZy4nKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIFRpY2tlci5zdG9wKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBUaWNrZXIuc3RhcnQoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5jb25maWcgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgQ29uZmlnLnNldChhLCBiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBDb25maWcud2F0Y2goYSwgYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29uZmlnLmdldChhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgYSA9PT0gXCJvYmplY3RcIiAmJiBhLmNvbnN0cnVjdG9yICE9PSBBcnJheSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBDb25maWcuc2V0KHByb3BlcnR5LCBhW3Byb3BlcnR5XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNvbmZpZyBhcHBsaWNhdGlvbi4gQ29uZmlnIGZvcm1hdCBpcyBpbnZhbGlkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIEF1ZGlvICgpIHtcclxuICAgIHZhciBjb250ZXh0ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xyXG4gICAgdGhpcy5jb250ZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjb250ZXh0O1xyXG4gICAgfVxyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMTQvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gQ2FudmFzKFRpY2tlcikge1xyXG5cclxuICAgIHZhciBlbGVtZW50ID0gbnVsbCxcclxuICAgICAgICBjb250ZXh0ID0gbnVsbCxcclxuICAgICAgICBzaXplID0gWzgwMCwgNjAwXSxcclxuICAgICAgICByZXNpemVDYiA9IFtdLFxyXG4gICAgICAgIHN3aXRjaENiID0gW10sXHJcbiAgICAgICAgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgcXVldWUgPSBbXSxcclxuICAgICAgICByZWFkeSA9IGZhbHNlO1xyXG5cclxuICAgIFRpY2tlci5xdWV1ZSgwLCBEcmF3U2NlbmUpO1xyXG5cclxuICAgIGZ1bmN0aW9uIERyYXdTY2VuZShkYXRlLCBmcmFtZSkge1xyXG4gICAgICAgIGlmIChyZWFkeSkge1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9IFtjb250ZXh0LCBkYXRlLCBmcmFtZV07XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAgOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVbaV0uZi5hcHBseShzZWxmLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGVtZXJnZWQgd2hpbGUgZHJhd2luZy4gXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdRdWV1ZSAgICAgICAgICA6IFsnICsgcXVldWVbaV0ubyArICddXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdRdWV1ZSBPcmRlcmluZyA6IFsnICsgaSArICddXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdRdWV1ZSBNZW1iZXIgICA6IFsnICsgcXVldWVbaV0uZi5uYW1lICsgJ11cXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ01lc3NhZ2UgICAgICAgIDogJyArIGUubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgb3JkZXJpbmcgaW4gcXVldWUpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWVbb3JkZXJpbmddLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc29sdmUoYXJyYXkpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGFycmF5W2ldLmNhbGwoc2VsZik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgdmFyIGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgICAgICAgIGlmIChlICYmIGUuZ2V0Q29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IGUuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgICAgIGlmIChjdHgpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBzaXplWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnNldEF0dHJpYnV0ZSgnaGVpZ2h0Jywgc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IGN0eDtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gZTtcclxuICAgICAgICAgICAgICAgICAgICByZWFkeSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzd2l0Y2hDYik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignRWxlbWVudCB3aXRoIGlkIFsjJyArIGlkICsgJ10gaXMgbm90IGEgY2FudmFzLiBDYW4gbm90IGdldCAyZCBjb250ZXh0LicpXHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdFbGVtZW50IHdpdGggaWQgWyMnICsgaWQgKyAnXSB3YXMgbm90IGZvdW5kIG9yIG5vdCBhIGNhbnZhcycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpZCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChpZC5nZXRDb250ZXh0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IGlkLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3R4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHNpemVbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlkLnNldEF0dHJpYnV0ZSgnaGVpZ2h0Jywgc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGlkO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjdHg7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoc3dpdGNoQ2IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ0VsZW1lbnQgaXMgbm90IGEgQ2FudmFzLiBDYW4gbm90IGdldCAyZCBjb250ZXh0LicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdFbGVtZW50IGlzIG5vdCBhIENhbnZhcycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnF1ZXVlID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGEgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBpZiAoIWEubmFtZSkgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZW5xdWV1ZSBjYWxsYmFjay4gUHJvdmlkZSBhIG5hbWVkIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goe286IDAsIGY6IGJ9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGEgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBiID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmICghYi5uYW1lKSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBlbnF1ZXVlIGNhbGxiYWNrLiBQcm92aWRlIGEgbmFtZWQgZnVuY3Rpb24uJyk7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHtvOiBhLCBmOiBifSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBlbnF1ZXVlIGNhbGxiYWNrLiBQcm92aWRlIGEgbmFtZWQgZnVuY3Rpb24nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBlbnF1ZXVlIGNhbGxiYWNrLiBXcm9uZyBhcmd1bWVudHMuJyk7XHJcblxyXG4gICAgICAgIHF1ZXVlLnNvcnQoZnVuY3Rpb24gKGEsYikge1xyXG4gICAgICAgICAgIHJldHVybiBhLm8gPiBiLm87XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygd2lkdGggPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIGhlaWdodCA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBpZiAod2lkdGggPCAwKSB3aWR0aCA9IDA7XHJcbiAgICAgICAgICAgIGlmIChoZWlnaHQgPCAwKSBoZWlnaHQgPSAwO1xyXG4gICAgICAgICAgICBpZiAoc2l6ZVswXSAhPT0gd2lkdGggfHwgc2l6ZVsxXSAhPT0gd2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIHNpemVbMF0gPSB3aWR0aDtcclxuICAgICAgICAgICAgICAgIHNpemVbMV0gPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3aWR0aCk7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzaXplQ2IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbc2l6ZVswXSwgc2l6ZVsxXV07XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucmVzaXplID0gZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGYgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICByZXNpemVDYi5wdXNoKGYpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgcmVzc2l6ZSBjYWxsYmFjay4gZiBhcmd1bWVudCBpcyBub3QgYSBmdW5jdGlvbicpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnN3aXRjaCA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgc3dpdGNoQ2IucHVzaChmKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IHN3aXRjaCBjYWxsYmFjay4gZiBhcmd1bWVudCBpcyBub3QgYSBmdW5jdGlvbicpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnJlYWR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiByZWFkeTtcclxuICAgIH07XHJcblxyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMjUvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gQ2xhc3NlcygpIHtcclxuICAgIHZhciBzeXN0ZW1DbGFzc2VzID0ge30sXHJcbiAgICAgICAgYXBwbGljYXRpb25DbGFzc2VzID0ge30sXHJcbiAgICAgICAgZ2xvYmFsQ2xhc3NlcyA9IHt9O1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBjbHMoY2ZnKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGluamVjdGlvbiA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbY2ZnXSk7XHJcbiAgICAgICAgICAgIGlmIChnbG9iYWxDbGFzc2VzW2luamVjdGlvbi5uYW1lKCldKSBjb25zb2xlLndhcm4oJ0dsb2JhbCBDbGFzcyBMaWJyYXJ5IGNsYXNzIFsnICsgaW5qZWN0aW9uLm5hbWUoKSArICddIGhhcyBiZWVuIG92ZXJ3cml0dGVuLicpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBhcHAgaW4gYXBwbGljYXRpb25DbGFzc2VzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXBwbGljYXRpb25DbGFzc2VzLmhhc093blByb3BlcnR5KGFwcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXBwbGljYXRpb25DbGFzc2VzW2FwcF1baW5qZWN0aW9uLm5hbWUoKV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdBcHBsaWNhdGlvbiBbJyArIGFwcCArICddIENsYXNzIFsnICsgaW5qZWN0aW9uLm5hbWUoKSArICddIG92ZXJyaWRlcyBnbG9iYWwgY2xhc3MuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdsb2JhbENsYXNzZXNbaW5qZWN0aW9uLm5hbWUoKV0gPSBpbmplY3Rpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBjbGFzcyBpbmplY3Rpb24uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNscy5hcHAgPSBmdW5jdGlvbiAoYXBwLCBjZmcpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGFwcCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAoIWFwcGxpY2F0aW9uQ2xhc3Nlc1thcHBdKSBhcHBsaWNhdGlvbkNsYXNzZXNbYXBwXSA9IHt9O1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluamVjdGlvbiA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbY2ZnXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsQ2xhc3Nlc1tpbmplY3Rpb24ubmFtZSgpXSkgY29uc29sZS53YXJuKCdBcHBsaWNhdGlvbiBbJyArIGFwcCArICddIENsYXNzIFsnICsgaW5qZWN0aW9uLm5hbWUoKSArICddIG92ZXJyaWRlcyBnbG9iYWwgY2xhc3MuJyk7XHJcbiAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbkNsYXNzZXNbYXBwXVtpbmplY3Rpb24ubmFtZSgpXSA9IGluamVjdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIGFuZCByZWdpc3RlciBBcHBsaWNhdGlvbkNsYXNzIGZvciBhcHAgWycgKyBhcHAgKyAnXS4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcmVnaXN0ZXIgQXBwbGljYXRpb25DbGFzcyBpbmplY3Rpb24uIEFwcCBpZCBpcyBub3QgYSBzdHJpbmcuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjbHMuc3lzID0gZnVuY3Rpb24gKGNmZykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBpbmplY3Rpb24gPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2NmZ10pO1xyXG4gICAgICAgICAgICBpZiAoc3lzdGVtQ2xhc3Nlc1tpbmplY3Rpb24ubmFtZSgpXSkgY29uc29sZS53YXJuKCdTeXN0ZW0gQ2xhc3MgWycgKyBpbmplY3Rpb24ubmFtZSgpICsgJ10gb3ZlcnJpZGUuJyk7XHJcbiAgICAgICAgICAgIHN5c3RlbUNsYXNzZXNbaW5qZWN0aW9uLm5hbWUoKV0gPSBpbmplY3Rpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHJlZ2lzdGVyIFN5c3RlbUNsYXNzIGluamVjdGlvbicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIHRoaXMuZ2V0QXBwbGljYXRpb25DbGFzc2VzID0gZnVuY3Rpb24gKGFwcCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXBwID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmIChhcHBsaWNhdGlvbkNsYXNzZXNbYXBwXSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IENvcmUuaW5qZWN0KCdDb250YWluZXInLCBbZ2xvYmFsQ2xhc3Nlc10pO1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnNvdXJjZShjb250YWluZXIsICcuJyk7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIubWVyZ2UoYXBwbGljYXRpb25DbGFzc2VzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtnbG9iYWxDbGFzc2VzXSk7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuc291cmNlKGNvbnRhaW5lciwgJy4nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGdldCBhcHBsaWNhdGlvbiBjbGFzc2VzIGNvbnRhaW5lci4gQXBwIGlkIGlzIG5vdCBhIHN0cmluZy4nKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZ2V0U3lzdGVtQ2xhc3NlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtzeXN0ZW1DbGFzc2VzXSk7XHJcbiAgICAgICAgY29udGFpbmVyLnNvdXJjZShjb250YWluZXIsICcuJyk7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgIH07XHJcblxyXG4gICAgQ29yZS5kZWZpbmUoJ2NsYXNzJywgY2xzKTtcclxuXHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNC8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBDb25maWcoKSB7XHJcblxyXG4gICAgdmFyIHByb3BlcnRpZXMgPSB7fSxcclxuICAgICAgICBmdW5jcyA9IHtcclxuICAgICAgICAgICAgaXNOdW1iZXI6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09IFwibnVtYmVyXCI7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGlzU3RyaW5nOiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB2ID09PSBcInN0cmluZ1wiO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpc0FycmF5OiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB2ID09PSBcIm9iamVjdFwiICYmIHYuY29uc3RydWN0b3IgPT09IEFycmF5O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjdXN0b206IGZ1bmN0aW9uICh2LCBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmdzWzBdKHYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1bmRlcjogZnVuY3Rpb24gKHYsIGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jcy5pc051bWJlcih2KSAmJiB2IDwgYXJnc1swXTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ3JlYXRlcjogZnVuY3Rpb24gKHYsIGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jcy5pc051bWJlcih2KSAmJiB2ID4gYXJnc1swXTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXE6IGZ1bmN0aW9uICh2LCBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3MuaXNOdW1iZXIodikgJiYgdiA9PT0gYXJnc1swXTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaXNCb29sOiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiAgdiA9PT0gXCJib29sZWFuXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gUHJvcGVydHkobmFtZSwgdmFsdWUsIGNmZykge1xyXG5cclxuICAgICAgICB2YXIgY2hlY2tBcnJheSA9IFtdLFxyXG4gICAgICAgICAgICBjYiA9IFtdO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBjaGVja1ZhbHVlKHYpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hlY2tBcnJheTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZ1bmNzW2NoZWNrQXJyYXlbaV0uZl0odiwgY2hlY2tBcnJheS5hcmdzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGFyZyA9IHZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoZnVuY3MuaXNBcnJheShhcmcpKSB7XHJcbiAgICAgICAgICAgICAgICBhcmcgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcmcucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGFyZztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLm5hbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuYW1lO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2V0ID0gZnVuY3Rpb24gKG4pIHtcclxuICAgICAgICAgICAgaWYgKGNoZWNrVmFsdWUobikpIHtcclxuICAgICAgICAgICAgICAgIGlmIChmdW5jcy5pc0FycmF5KG4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUucHVzaChuW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY2JbaV0uY2FsbCh0aGlzLCB0aGlzLmdldCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndhdGNoID0gZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBmID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIGNiLnB1c2goZik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBub3Qgc2V0IGNvbmZpZyBwcm9wZXJ0eSB3YXRjaGVyLiBBcmd1bWVudCBmIGlzIG5vdCBhIGZ1bmN0aW9uLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIGNmZykge1xyXG4gICAgICAgICAgICBpZiAoY2ZnLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2ZnW3Byb3BdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZnVuY3NbcHJvcF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tBcnJheS5wdXNoKHtmOiBwcm9wLCBhcmdzOiBbY2ZnW3Byb3BdXX0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignTm8gc3VjaCBjb25maWcgdmFsdWUgY2hlY2tlciBhcyBbJyArIHByb3AgKyAnXScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1dyb25nIHBhcmFtZXRlciBmb3IgY29uZmlnIHByb3BlcnR5IFsnICsgcHJvcCArICddJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGwgJiYgIWZ1bmNzLmlzQXJyYXkodmFsdWUpKSB0aHJvdyBuZXcgRXJyb3IoJ09iamVjdHMgYXJlIG5vdCBzdXBwb3J0ZWQgYXMgY29uZmlnIHByb3BlcnR5IHZhbHVlIScpO1xyXG4gICAgICAgIGlmICghY2hlY2tWYWx1ZSh2YWx1ZSkpIHRocm93IG5ldyBFcnJvcignSW5pdGlhbCBbJyArIG5hbWUgKyAnXVxcJ3MgdmFsdWUgZG9lcyBub3QgbWVldCBjb25maWcgcmVxdWlyZW1lbnRzLicpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZGVmaW5lID0gZnVuY3Rpb24gKHByb3BlcnR5LCB2YWx1ZSwgY2ZnKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0aWVzW3Byb3BlcnR5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXNbcHJvcGVydHldID0gbmV3IFByb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSwgY2ZnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBjb25maWcgcHJvcGVydHkgWycgKyBwcm9wZXJ0eSArICddJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NvbmZpZyBwcm9wZXJ0eSBkdXBsaWNhdGlvbiBvbiBwcm9wZXJ0eSBuYW1lIFsnICsgcHJvcGVydHkgKyAnXScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdDb25maWcgcHJvcGVydHkgdmFsdWUgY2FuIG5vdCBiZSB1bmRlZmluZWQuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZGVmaW5lIGNvbmZpZyBwcm9wZXJ0eS4gUHJvcGVydHkgbmFtZSBpcyBub3QgYSBzdHJpbmcuJyk7XHJcblxyXG4gICAgICAgIHJldHVybiBwcm9wZXJ0aWVzW3Byb3BlcnR5XTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zZXQgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIgJiYgcHJvcGVydGllc1tuYW1lXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcHJvcGVydGllc1tuYW1lXS5zZXQodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBwcm9wZXJ0eSBbJyArIG5hbWUgKyAnXS4gTm8gc3VjaCBwcm9wZXJ0eS4nKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gcHJvcGVydGllc1tuYW1lXS5nZXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBnZXQgcHJvcGVydHkgWycgKyBuYW1lICsgJ10uIE5vIHN1Y2ggcHJvcGVydHkuJylcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMud2F0Y2ggPSBmdW5jdGlvbiAobmFtZSwgZikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGYgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvcGVydGllc1tuYW1lXS53YXRjaChmKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdObyBzdWNoIHByb3BlcnR5IGFzIFsnICsgbmFtZSArICddIHRvIHdhdGNoLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdXYXRjaGVyIGNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gd2F0Y2ggY29uZmlnIHByb3BlcnR5LiBQcm9wZXJ0eSBuYW1lIGlzIGludmFsaWQgb3IgdW5kZWZpbmVkJylcclxuICAgIH1cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIENvbnRhaW5lcihsaWIsIGRpcmVjdCkge1xyXG4gICAgdmFyIGxpYnJhcnkgPSB7fSxcclxuICAgICAgICBzb3VyY2VzID0ge30sXHJcbiAgICAgICAgY2FjaGUgPSB7fTtcclxuXHJcbiAgICB0aGlzLmxpc3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGxpYnJhcnk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaW5qZWN0aW9uID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBjb25zdHJ1Y3RvciA9IG51bGwsXHJcbiAgICAgICAgICAgIGRlcGVuZGVuY2llcyA9IFtdO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIGlmIChjb25maWcubmFtZSAmJiBjb25maWcubmFtZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gY29uZmlnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbm9ueW1vdXMgZnVuY3Rpb24gY2FuIG5vdCBiZSBpbmplY3Rpb24gY29uc3RydWN0b3IuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNvbmZpZyA9PT0gXCJvYmplY3RcIiAmJiBjb25maWcuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZ1tpXSA9PT0gXCJzdHJpbmdcIiAmJiBjb25maWdbaV0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jaWVzLnB1c2goY29uZmlnW2ldKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNvbmZpZ1tpXSA9PT0gXCJmdW5jdGlvblwiICYmIGNvbmZpZ1tpXS5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3RydWN0b3IgPSBjb25maWdbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdHlwZSBvZiBpbmplY3Rpb24gbmFtZSBvciBjb25zdHJ1Y3Rvci4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHR5cGUgb2YgaW5qZWN0aW9uIGNvbmZpZy4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRlcGVuZGVuY2llcy5wdXNoKGNvbnN0cnVjdG9yKTtcclxuXHJcbiAgICAgICAgaWYgKGxpYnJhcnlbY29uc3RydWN0b3IubmFtZV0pIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdJbmplY3Rpb24gWycgKyBjb25zdHJ1Y3Rvci5uYW1lICsgJ10gZHVwbGljYXRlZCBhbmQgaGFzIGJlZW4gb3ZlcndyaXR0ZW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGlicmFyeVtjb25zdHJ1Y3Rvci5uYW1lXSA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbZGVwZW5kZW5jaWVzXSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMubWVyZ2UgPSBmdW5jdGlvbiAoY2ZnLCBjbG9uZSkge1xyXG4gICAgICAgIGlmIChjZmcpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGNmZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjZmcuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb3JlLmlzKGNmZ1twcm9wZXJ0eV0sICdJbmplY3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpYnJhcnlbY2ZnW3Byb3BlcnR5XS5uYW1lKCldKSBjb25zb2xlLndhcm4oJ0luamVjdGlvbiBbJyArIHByb3BlcnR5ICsgJ10gaGFzIGJlZW4gbWVyZ2VkLnMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYnJhcnlbbGliW3Byb3BlcnR5XS5uYW1lKCldID0gbGliW3Byb3BlcnR5XS5jbG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlicmFyeVtsaWJbcHJvcGVydHldLm5hbWUoKV0gPSBsaWJbcHJvcGVydHldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBtZXJnZSBsaWJzLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNvdXJjZSA9IGZ1bmN0aW9uIChjb250YWluZXIsIHByZWZpeGtleSkge1xyXG4gICAgICAgIGlmIChjb250YWluZXIgJiYgdHlwZW9mIGNvbnRhaW5lciA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICBpZiAoQ29yZS5pcyhjb250YWluZXIsICdDb250YWluZXInKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwcmVmaXhrZXkpIHByZWZpeGtleSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0eXBlb2YgcHJlZml4a2V5ID09PSBcInN0cmluZ1wiICYmIHByZWZpeGtleS5sZW5ndGgpIHx8IHByZWZpeGtleSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuJCRMT09QID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbG9vcCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiRMT09QKSBsb29wID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgY29udGFpbmVyLiQkTE9PT1A7XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlc1twcmVmaXhrZXkgPyBwcmVmaXhrZXkgOiAnJCRub3ByZWZpeCddID0gQ29yZS5pbmplY3QoJ1NvdXJjZScsIFtwcmVmaXhrZXksIGNvbnRhaW5lciwgbG9vcF0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjb250YWluZXIuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsaWQgPSB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvb3AgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRhaW5lci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGFpbmVyW2ldID09PSBcIm9iamVjdFwiICYmIENvcmUuaXMoY29udGFpbmVyW2ldLCAnQ29udGFpbmVyJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyW2ldLiQkTE9PT1AgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kJExPT09QKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb29wLnB1c2godHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb29wLnB1c2goZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSAgY29udGFpbmVyW2ldLiQkTE9PT1A7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJlZml4a2V5KSBwcmVmaXhrZXkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0eXBlb2YgcHJlZml4a2V5ID09PSBcInN0cmluZ1wiICYmIHByZWZpeGtleS5sZW5ndGgpIHx8IHByZWZpeGtleSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlc1twcmVmaXhrZXkgPyBwcmVmaXhrZXkgOiAnJCRub3ByZWZpeCddID0gQ29yZS5pbmplY3QoJ1NvdXJjZScsIFtwcmVmaXhrZXksIGNvbnRhaW5lciwgbG9vcF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU291cmNlIGNvbnRhaW5lciBjb25maWcgaXMgbm90IHZhbGlkLiBPbmUgb2YgdGhlIGNvbnRhaW5lcnMgcHJvdmlkZWQgaXMgbm90IGFuIEluamVjdGlvbkNvbnRhaW5lciBpbnN0YW5jZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNsb25lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBuZXdMaWJyYXJ5ID0ge307XHJcbiAgICAgICAgZm9yICh2YXIgaW5qZWN0aW9uIGluIGxpYnJhcnkpIHtcclxuICAgICAgICAgICAgaWYgKGxpYnJhcnkuaGFzT3duUHJvcGVydHkoaW5qZWN0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgbmV3TGlicmFyeVtpbmplY3Rpb25dID0gbGlicmFyeVtpbmplY3Rpb25dLmNsb25lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG5ld0NvbnRhaW5lciA9IENvcmUuaW5qZWN0KCdDb250YWluZXInLCBbbmV3TGlicmFyeV0pO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBzb3VyY2UgaW4gc291cmNlcykge1xyXG4gICAgICAgICAgICB2YXIgY29udGFpbmVycyA9IHNvdXJjZXNbc291cmNlXS5jb250YWluZXJzKCksXHJcbiAgICAgICAgICAgICAgICBzb3VyY2Vsb29wID0gc291cmNlc1tzb3VyY2VdLmxvb3AoKSxcclxuICAgICAgICAgICAgICAgIHNvdXJjZXByZWZpeCA9IHNvdXJjZXNbc291cmNlXS5wcmVmaXgoKSxcclxuICAgICAgICAgICAgICAgIG5ld2NvbnRhaW5lcnMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZWxvb3BbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdjb250YWluZXJzLnB1c2gobmV3Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld2NvbnRhaW5lcnMucHVzaChjb250YWluZXJzW2ldLmNsb25lKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuZXdDb250YWluZXIuc291cmNlKG5ld2NvbnRhaW5lcnMsIHNvdXJjZXByZWZpeCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXdDb250YWluZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZmluZFNvdXJjZUJ5UHJlZml4ID0gZnVuY3Rpb24gKHByZWZpeCkge1xyXG4gICAgICAgIGlmIChwcmVmaXggPT09IGZhbHNlKSByZXR1cm4gc291cmNlcy4kJG5vcHJlZml4O1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHByZWZpeCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gc291cmNlc1twcmVmaXhdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZmluZFNvdXJjZUJ5SW5qZWN0aW9uTmFtZSA9IGZ1bmN0aW9uIChpbmplY3Rpb25OYW1lKSB7XHJcbiAgICAgICAgdmFyIHNvdXJjZSA9IG51bGw7XHJcbiAgICAgICAgaWYoY2FjaGVbaW5qZWN0aW9uTmFtZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlW2luamVjdGlvbk5hbWVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgcHJlZml4IGluIHNvdXJjZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VzLmhhc093blByb3BlcnR5KHByZWZpeCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlc1twcmVmaXhdLnByZWZpeCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VzW3ByZWZpeF0uaGFzKGluamVjdGlvbk5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBzb3VyY2VzW3ByZWZpeF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZVtpbmplY3Rpb25OYW1lXSA9IHNvdXJjZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghc291cmNlICYmIHNvdXJjZXMuJCRub3ByZWZpeCAmJiBzb3VyY2VzLiQkbm9wcmVmaXguaGFzKGluamVjdGlvbk5hbWUpKSB7XHJcbiAgICAgICAgICAgIHNvdXJjZSA9IHNvdXJjZXMuJCRub3ByZWZpeDtcclxuICAgICAgICAgICAgY2FjaGVbaW5qZWN0aW9uTmFtZV0gPSBzb3VyY2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCFzb3VyY2UpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZmluZCBzb3VyY2UgY29udGFpbmluZyBpbmplY3Rpb24gWycgKyBpbmplY3Rpb25OYW1lKyddLiAnKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnJlc29sdmUgPSBmdW5jdGlvbiAobmFtZSwgZGlyZWN0KSB7XHJcbiAgICAgICAgaWYgKGRpcmVjdCA9PT0gJ2V4dGVuZCcpIHtcclxuXHJcbiAgICAgICAgICAgIGlmIChsaWJyYXJ5W25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkY29uc3RydWN0b3I6IGxpYnJhcnlbbmFtZV0uJGNvbnN0cnVjdG9yKClcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llcyA9IGxpYnJhcnlbbmFtZV0uZGVwZW5kZW5jaWVzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCBkZXBlbmRlbmNpZXMubGVuZ3RoOyBkKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVwZW5kZW5jaWVzW2RdID09PSAnQGV4dGVuZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlcGVuZGVuY2llcy5wdXNoKGxpYnJhcnlbbmFtZV0uZXh0ZW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGVwZW5kZW5jaWVzW2RdID09PSAnQGluamVjdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlcGVuZGVuY2llcy5wdXNoKGxpYnJhcnlbbmFtZV0uaW5qZWN0KHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcmMgPSB0aGlzLmZpbmRTb3VyY2VCeUluamVjdGlvbk5hbWUoZGVwZW5kZW5jaWVzW2RdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNyYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlcGVuZGVuY2llcy5wdXNoKHNyYy5yZXNvbHZlKGRlcGVuZGVuY2llc1tkXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzb3VyY2UgZm91bmQgY29udGFpbmluZyBbJyArIGRlcGVuZGVuY2llc1tkXSArICddIGZvciBbJytuYW1lKyddLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBpbmplY3QgWycgKyBuYW1lICsgJ10gbm8gc3VjaCBpbmplY3Rpb24gZm91bmQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzKG5hbWUpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGRlcGVuZGVuY2llcyA9IGxpYnJhcnlbbmFtZV0uZGVwZW5kZW5jaWVzKCksXHJcbiAgICAgICAgICAgICAgICAgICAgYXJncyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXBlbmRlbmNpZXNbaV0gPT09ICdAZXh0ZW5kJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2gobGlicmFyeVtuYW1lXS5leHRlbmQodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkZXBlbmRlbmNpZXNbaV0gPT09ICdAaW5qZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2gobGlicmFyeVtuYW1lXS5pbmplY3QodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZmluZFNvdXJjZUJ5SW5qZWN0aW9uTmFtZShkZXBlbmRlbmNpZXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2goc291cmNlLnJlc29sdmUoZGVwZW5kZW5jaWVzW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luamVjdGlvbiBbJyArIGRlcGVuZGVuY2llc1tpXSArICddIGZvciBbJyArIG5hbWUgKyAnXSBzb3VyY2Ugd2FzIG5vdCBmb3VuZC4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlicmFyeVtuYW1lXS5jcmVhdGUoYXJncywgZGlyZWN0KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luamVjdGlvbiBbJyArIG5hbWUgKyAnXSB3YXMgbm90IGZvdW5kIGluIGxpYnJhcnkhJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucmVzb2x2ZURpcmVjdEluamVjdGlvbiA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZmluZFNvdXJjZUJ5SW5qZWN0aW9uTmFtZShuYW1lKTtcclxuICAgICAgICBpZiAoc291cmNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UucmVzb2x2ZShuYW1lLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmhhcyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuICEhbGlicmFyeVtuYW1lXTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIGlmIChsaWJyYXJ5W25hbWVdKSByZXR1cm4gbGlicmFyeVtuYW1lXTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcblxyXG5cclxuICAgIGlmIChDb3JlLmlzKGxpYiwgJ0luamVjdGlvbicpKSB7XHJcbiAgICAgICAgbGlicmFyeVtsaWIubmFtZSgpXSA9IGxpYi5jbG9uZSgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZW9mIGxpYiA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGxpYikge1xyXG4gICAgICAgICAgICBpZiAobGliLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKENvcmUuaXMobGliW3Byb3BlcnR5XSwgJ0luamVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaWJyYXJ5W2xpYltwcm9wZXJ0eV0ubmFtZSgpXSA9IGxpYltwcm9wZXJ0eV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaWJyYXJ5W2xpYltwcm9wZXJ0eV0ubmFtZSgpXSA9IGxpYltwcm9wZXJ0eV0uY2xvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAobGliICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgY29udGFpbmVyLiBXcm9uZyBhcmd1bWVudHMuIExpYiBpcyBJbmplY3Rpb24gb3Igb2JqZWN0JylcclxuICAgIH1cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIEZvbnRzKENvbmZpZywgYXBwKSB7XHJcblxyXG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xyXG5cclxuICAgIHZhciBmYW1pbGllcyA9IHt9LFxyXG4gICAgICAgIGZvcm1hdCA9IENvbmZpZy5kZWZpbmUoJ2ZvbnRGb3JtYXRzJywgWydlb3QnLCAnc3ZnJywgJ3R0ZicsICd3b2ZmJ10sIHtcclxuICAgICAgICAgICAgaXNBcnJheTogdHJ1ZSwgY3VzdG9tOiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHYubGVuZ3RoKCk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2W2ldICE9PSAnZW90JyB8fCB2W2ldICE9PSAnc3ZnJyB8fCB2W2ldICE9PSAndHRmJyB8fCB2W2ldICE9PSAnd29mZicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS53YXRjaChmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICBmb3JtYXQgPSB2O1xyXG4gICAgICAgICAgICB1cGRhdGUoKTtcclxuICAgICAgICB9KSxcclxuICAgICAgICBmb3JtYXRTdHIgPSB7XHJcbiAgICAgICAgICAgIGVvdDogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd1cmwoXCInICsgdXJsICsgJy5lb3Q/I2llZml4XCIpIGZvcm1hdChcImVtYmVkZGVkLW9wZW50eXBlXCIpJztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgd29mZjogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd1cmwoXCInICsgdXJsICsgJy53b2ZmXCIpIGZvcm1hdChcIndvZmZcIiknO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0dGY6IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAndXJsKFwiJyArIHVybCArICcudHRmXCIpIGZvcm1hdChcInRydWV0eXBlXCIpJztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3ZnOiBmdW5jdGlvbiAodXJsLCBmb250LCBzdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd1cmwoXCInICsgdXJsICsgJy5zdmcjJyArIGZvbnQgKyAnLScgKyAoc3R5bGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHlsZS5zbGljZSgxKSkgKyAnXCIpIGZvcm1hdChcInN2Z1wiKSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIENvbmZpZy5kZWZpbmUoJ2ZvbnREaXInLCAnLi9mb250cycsIHtpc1N0cmluZzogdHJ1ZX0pO1xyXG5cclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcblxyXG4gICAgZnVuY3Rpb24gZm9udFN0cmluZyhmb250LCByb290KSB7XHJcblxyXG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcclxuXHJcbiAgICAgICAgZm9yICh2YXIgdyA9IDA7IHcgPCBmb250LndlaWdodC5sZW5ndGg7IHcrKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IGZvbnQuc3R5bGUubGVuZ3RoOyBzKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlc3RyaW5nID0gcm9vdCArICcvJyArIGZvbnQubmFtZSArICctJyArIGZvbnQud2VpZ2h0W3ddICsgJy0nICsgZm9udC5zdHlsZVtzXTtcclxuICAgICAgICAgICAgICAgIHZhciBzdHJpbmcgPSAnQGZvbnQtZmFjZSB7JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtZmFtaWx5OiBcIicgKyBzZWxmLmZvcm1hdChmb250Lm5hbWUpICsgJy0nICsgZm9udC53ZWlnaHRbd10gKyAnXCI7JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ3NyYzonO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGYgPSAwOyBmIDwgZm9ybWF0Lmxlbmd0aDsgZisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGZvcm1hdFN0cltmb3JtYXRbZl1dKGZpbGVzdHJpbmcsIGZvbnQubmFtZSwgZm9udC5zdHlsZVtzXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGYgPCBmb3JtYXQubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gJywnXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gJzsnXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3RyaW5nICs9ICdmb250LXdlaWdodDogJyArIGZvbnQud2VpZ2h0W3ddICsgJzsnO1xyXG4gICAgICAgICAgICAgICAgc3RyaW5nICs9ICdmb250LXN0eWxlOicgKyBmb250LnN0eWxlW3NdICsgJzt9JztcclxuICAgICAgICAgICAgICAgIGZvbnRbZm9udC53ZWlnaHRbd10gKyAnLScgKyBmb250LnN0eWxlW3NdXSA9IHN0cmluZztcclxuXHJcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gZm9udFtmb250LndlaWdodFt3XSArICctJyArIGZvbnQuc3R5bGVbc11dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZShwYXRoKSB7XHJcbiAgICAgICAgdmFyIHN0cmluZyA9ICcnO1xyXG4gICAgICAgIGZvciAodmFyIGZhbWlseSBpbiBmYW1pbGllcykge1xyXG4gICAgICAgICAgICBpZiAoZmFtaWxpZXMuaGFzT3duUHJvcGVydHkoZmFtaWx5KSkge1xyXG4gICAgICAgICAgICAgICAgc3RyaW5nICs9IGZvbnRTdHJpbmcoZmFtaWxpZXNbZmFtaWx5XSwgcGF0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBzdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5BcnJheShhcnJheSwgdmFsdWUpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoYXJyYXlbaV0gPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmZvbnQgPSBmdW5jdGlvbiAocGF0aCwgZm9udCwgd2VpZ2h0LCBzdHlsZSkge1xyXG4gICAgICAgIGlmICghZmFtaWxpZXNbZm9udF0pIHtcclxuICAgICAgICAgICAgZmFtaWxpZXNbZm9udF0gPSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBmb250XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZmFtaWxpZXNbZm9udF0ud2VpZ2h0KSBmYW1pbGllc1tmb250XS53ZWlnaHQgPSBbXTtcclxuICAgICAgICBpZiAoIWZhbWlsaWVzW2ZvbnRdLnN0eWxlKSBmYW1pbGllc1tmb250XS5zdHlsZSA9IFtdO1xyXG4gICAgICAgIGlmICghaW5BcnJheShmYW1pbGllc1tmb250XS53ZWlnaHQsIHdlaWdodCkpIGZhbWlsaWVzW2ZvbnRdLndlaWdodC5wdXNoKHdlaWdodCk7XHJcbiAgICAgICAgaWYgKCFpbkFycmF5KGZhbWlsaWVzW2ZvbnRdLnN0eWxlLCBzdHlsZSkpIGZhbWlsaWVzW2ZvbnRdLnN0eWxlLnB1c2goc3R5bGUpO1xyXG4gICAgICAgIHVwZGF0ZShwYXRoKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5mb3JtYXQgPSBmdW5jdGlvbiAoZm9udCkge1xyXG4gICAgICAgIHJldHVybiBhcHAgKyAnLScgKyBmb250O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmZvcm1hdHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9ybWF0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGZvcm1hdFtpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMjUvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gSGVscGVycygpIHtcclxuXHJcbiAgICB2YXIgaGVscGVycyA9IHt9LFxyXG4gICAgICAgIHN5c0hlbHBlcnMgPSB7fTtcclxuXHJcbiAgICBmdW5jdGlvbiBoZWxwZXIoY2ZnKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGhlbHBlciA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbY2ZnXSk7XHJcbiAgICAgICAgICAgIGlmIChoZWxwZXJzW2hlbHBlci5uYW1lKCldKSBjb25zb2xlLndhcm4oJ2hlbHBlciBbJyArIGhlbHBlci5uYW1lKCkgKyAnXSBvdmVycmlkZS4nKTtcclxuICAgICAgICAgICAgaGVscGVyc1toZWxwZXIubmFtZSgpXSA9IGhlbHBlcjtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBIZWxwZXIuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIENvcmUuZGVmaW5lKCdoZWxwZXInLCBoZWxwZXIpO1xyXG5cclxuICAgIGhlbHBlci5zeXN0ZW0gPSBmdW5jdGlvbiAoY2ZnLCBpc19wdWJsaWMpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaGVscGVyID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtjZmddKTtcclxuICAgICAgICAgICAgaWYgKHN5c0hlbHBlcnNbaGVscGVyLm5hbWUoKV0pIGNvbnNvbGUud2FybignU3lzdGVtIEhlbHBlciBbJyArIGhlbHBlci5uYW1lKCkgKyAnXSBEdXBsaWNhdGUgZGVjbGFyYXRpb24gb3ZlcnJpZGUuJyk7XHJcbiAgICAgICAgICAgIHN5c0hlbHBlcnNbaGVscGVyLm5hbWUoKV0gPSBoZWxwZXI7XHJcbiAgICAgICAgICAgIGlmIChpc19wdWJsaWMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChoZWxwZXJzW2hlbHBlci5uYW1lKCldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdTeXN0ZW0gSGVscGVyIFsnICsgaGVscGVyLm5hbWUoKSArICddIG92ZXJyaWRlcyB1c2VyIGhlbHBlci4gU2tpcHBlZCBzeXN0ZW0gaGVscGVyLicpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBoZWxwZXJzW2hlbHBlci5uYW1lKCldID0gaGVscGVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5nZXRTeXN0ZW1IZWxwZXJzID0gZnVuY3Rpb24gKGRlZmF1bHRzKSB7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IENvcmUuaW5qZWN0KCdDb250YWluZXInLCBbc3lzSGVscGVyc10pO1xyXG4gICAgICAgIGNvbnRhaW5lci5zb3VyY2UoY29udGFpbmVyLCAnKycpO1xyXG4gICAgICAgIGNvbnRhaW5lci5zb3VyY2UoZGVmYXVsdHMsICdAJyk7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5nZXRQdWJsaWNIZWxwZXJzID0gZnVuY3Rpb24gKGRlZmF1bHRzKSB7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IENvcmUuaW5qZWN0KCdDb250YWluZXInLCBbaGVscGVyc10pO1xyXG4gICAgICAgIGNvbnRhaW5lci5zb3VyY2UoY29udGFpbmVyLCAnKycpO1xyXG4gICAgICAgIGNvbnRhaW5lci5zb3VyY2UoZGVmYXVsdHMsICdAJyk7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgIH07XHJcblxyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMTQvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gSW5qZWN0aW9uKGNvbiwgcmVzb2x2ZWQpIHtcclxuICAgIHZhciBjb25zdHJ1Y3RvciA9IGNvbiwgaW5zdGFuY2UgPSBudWxsLFxyXG4gICAgICAgIGRlcGVuZGVuY2llcyA9IFtdLFxyXG4gICAgICAgIHNlbGYgPSB0aGlzO1xyXG5cclxuXHJcbiAgICBpZiAocmVzb2x2ZWQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGNvbiA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICBjb25zdHJ1Y3RvciA9IGNvbi5jb25zdHJ1Y3RvcjtcclxuICAgICAgICAgICAgaW5zdGFuY2UgPSBjb247XHJcbiAgICAgICAgICAgIGRlcGVuZGVuY2llcyA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBQcmVSZXNvbHZlZEluamVjdGlvbiEgY29uIGFyZ3VtZW50IGlzIG5vdCBhbiBvYmplY3QhJyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAodHlwZW9mIGNvbiA9PT0gXCJmdW5jdGlvblwiICYmIGNvbi5uYW1lKSB7XHJcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gY29uO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29uID09PSBcIm9iamVjdFwiICYmIGNvbi5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uW2ldID09PSBcInN0cmluZ1wiICYmIGNvbltpXS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXMucHVzaChjb25baV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNvbltpXSA9PT0gXCJmdW5jdGlvblwiICYmIGNvbltpXS5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3RydWN0b3IgPSBjb25baV07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghY29uc3RydWN0b3IpIHRocm93IG5ldyBFcnJvcignSW5qZWN0aW9uIGNvbnN0cnVjdG9yIHVuZGVmaW5lZCEnKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdGhpcy5uYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5uYW1lO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmRlcGVuZGVuY2llcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goZGVwZW5kZW5jaWVzW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5leHRlbmQgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XHJcbiAgICAgICAgaWYocmVzb2x2ZWQpIHRocm93IG5ldyBFcnJvcignWW91IGNhbiBub3QgZXh0ZW5kIHdpdGggWycgKyBjb25zdHJ1Y3Rvci5uYW1lICsgJ10hJyk7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGluamVjdGlvbk5hbWUpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaW5qZWN0aW9uTmFtZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBjb250YWluZXIuZmluZFNvdXJjZUJ5SW5qZWN0aW9uTmFtZShpbmplY3Rpb25OYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSBzb3VyY2UucmVzb2x2ZUluamVjdGlvbkRlcGVuZGFuY2llcyhpbmplY3Rpb25OYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLiRjb25zdHJ1Y3Rvci5hcHBseSh0YXJnZXQsIGNvbmZpZy5kZXBlbmRlbmNpZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZmluZCBpbmplY3Rpb24gWycgKyBpbmplY3Rpb25OYW1lICsgJ10gZm9yIFsnICsgc2VsZi5uYW1lKCkgKyddJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHRlbmQgY2xhc3MgbmFtZSBzaG91bGQgYmUgYSBzdHJpbmchJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4dGVuZCB0YXJnZXQgc2hvdWxkIGJlIGFuIG9iamVjdCEnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5pbmplY3QgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XHJcbiAgICAgICAgaWYocmVzb2x2ZWQpIHRocm93IG5ldyBFcnJvcignWW91IGNhbiBub3QgaW5qZWN0IFsnICsgY29uc3RydWN0b3IubmFtZSArJ10gZGlyZWN0bHknKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGluamVjdGlvbk5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5yZXNvbHZlRGlyZWN0SW5qZWN0aW9uKGluamVjdGlvbk5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbiAoYXJncywgZGlyZWN0KSB7XHJcbiAgICAgICAgaWYgKHJlc29sdmVkKSByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICAgICAgaWYgKGRpcmVjdCkge1xyXG4gICAgICAgICAgICBhcmdzLnVuc2hpZnQobnVsbCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KGNvbnN0cnVjdG9yLCBhcmdzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICBhcmdzLnVuc2hpZnQobnVsbCk7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoY29uc3RydWN0b3IsIGFyZ3MpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLiRjb25zdHJ1Y3RvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY29uc3RydWN0b3I7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBJbmplY3Rpb24oY29uLCByZXNvbHZlZCk7XHJcbiAgICB9O1xyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMTQvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gUm9vdCgpIHtcclxuICAgIHZhciBhcHBzID0ge30sXHJcbiAgICAgICAgc2VydmljZXMgPSBDb3JlLmdldCgnU2VydmljZXMnKSxcclxuICAgICAgICBjbGFzc2VzID0gQ29yZS5nZXQoJ0NsYXNzZXMnKSxcclxuICAgICAgICBoZWxwZXJzID0gQ29yZS5nZXQoJ0hlbHBlcnMnKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVBcHBsaWNhdGlvbihhcHApIHtcclxuICAgICAgICB2YXIgYXBwQ29udGFpbmVyID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFthcHBzW2FwcF1dKSxcclxuICAgICAgICAgICAgYXBwVGlja2VyID0gQ29yZS5pbmplY3QoJ1RpY2tlcicpLFxyXG4gICAgICAgICAgICBhcHBDYW52YXMgPSBDb3JlLmluamVjdCgnQ2FudmFzJywgW2FwcFRpY2tlcl0pLFxyXG4gICAgICAgICAgICBhcHBBdWRpbyA9IENvcmUuaW5qZWN0KCdBdWRpbycsIFtdKSxcclxuICAgICAgICAgICAgYXBwQ29uZmlnID0gQ29yZS5pbmplY3QoJ0NvbmZpZycsIFthcHBdKSxcclxuICAgICAgICAgICAgYXBwRm9udHMgPSBDb3JlLmluamVjdCgnRm9udHMnLCBbYXBwQ29uZmlnLCBhcHBdKSxcclxuICAgICAgICAgICAgYXBwQXBpID0gQ29yZS5pbmplY3QoJ0FwcGxpY2F0aW9uJywgW2FwcENhbnZhcywgYXBwVGlja2VyLCBhcHBDb25maWddKTtcclxuXHJcbiAgICAgICAgdmFyIGRlZmF1bHRzTGlicmFyeSA9IHt9O1xyXG5cclxuICAgICAgICBkZWZhdWx0c0xpYnJhcnkuVGlja2VyID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFthcHBUaWNrZXIsIHRydWVdKTtcclxuICAgICAgICBkZWZhdWx0c0xpYnJhcnkuQ2FudmFzID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFthcHBDYW52YXMsIHRydWVdKTtcclxuICAgICAgICBkZWZhdWx0c0xpYnJhcnkuQVBJID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFthcHBBcGksIHRydWVdKTtcclxuICAgICAgICBkZWZhdWx0c0xpYnJhcnkuRm9udHMgPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2FwcEZvbnRzLCB0cnVlXSk7XHJcbiAgICAgICAgZGVmYXVsdHNMaWJyYXJ5LkNvbmZpZyA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbYXBwQ29uZmlnLCB0cnVlXSk7XHJcbiAgICAgICAgZGVmYXVsdHNMaWJyYXJ5LkF1ZGlvID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFthcHBBdWRpbywgdHJ1ZV0pO1xyXG5cclxuICAgICAgICB2YXIgYXBwRGVmYXVsdHMgPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW2RlZmF1bHRzTGlicmFyeV0pLFxyXG4gICAgICAgICAgICBhcHBTeXNIZWxwZXJzID0gaGVscGVycy5nZXRTeXN0ZW1IZWxwZXJzKGFwcERlZmF1bHRzKSxcclxuICAgICAgICAgICAgYXBwUHViSGVscGVycyA9IGhlbHBlcnMuZ2V0UHVibGljSGVscGVycyhhcHBEZWZhdWx0cyksXHJcbiAgICAgICAgICAgIGFwcENsYXNzZXMgPSBjbGFzc2VzLmdldEFwcGxpY2F0aW9uQ2xhc3NlcyhhcHApLFxyXG4gICAgICAgICAgICBhcHBTeXNDbGFzc2VzID0gY2xhc3Nlcy5nZXRTeXN0ZW1DbGFzc2VzKGFwcCksXHJcbiAgICAgICAgICAgIGFwcFNlcnZpY2VzID0gc2VydmljZXMuZ2V0QXBwbGljYXRpb25TZXJ2aWNlcyhhcHBTeXNIZWxwZXJzLCBhcHBTeXNDbGFzc2VzLCBhcHBEZWZhdWx0cyk7XHJcblxyXG4gICAgICAgIGFwcENvbnRhaW5lci5zb3VyY2UoYXBwU2VydmljZXMsIGZhbHNlKTtcclxuICAgICAgICBhcHBDb250YWluZXIuc291cmNlKGFwcENsYXNzZXMsICcuJyk7XHJcbiAgICAgICAgYXBwQ29udGFpbmVyLnNvdXJjZShhcHBQdWJIZWxwZXJzLCAnKycpO1xyXG4gICAgICAgIGFwcENvbnRhaW5lci5zb3VyY2UoYXBwRGVmYXVsdHMsICdAJyk7XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGFwcFNlcnZpY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBsaXN0ID0gYXBwU2VydmljZXNbaV0ubGlzdCgpO1xyXG4gICAgICAgICAgICBmb3IodmFyIGwgPSAwIDsgbCA8IGxpc3QubGVuZ3RoOyBsKyspIHtcclxuICAgICAgICAgICAgICAgIGFwcFNlcnZpY2VzW2ldLnJlc29sdmUobGlzdFtsXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYXBwQ29udGFpbmVyLnJlc29sdmUoYXBwKTtcclxuICAgICAgICByZXR1cm4gYXBwQXBpO1xyXG4gICAgfVxyXG5cclxuICAgIENvcmUuZGVmaW5lKCdhcHAnLCBmdW5jdGlvbiAoY2ZnKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGFwcGxpY2F0aW9uID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtjZmddKTtcclxuICAgICAgICAgICAgaWYgKGFwcHNbYXBwbGljYXRpb24ubmFtZSgpXSkgY29uc29sZS53YXJuKCdBcHBsaWNhdGlvbiBbJyArIGFwcGxpY2F0aW9uLm5hbWUoKSArICddIG92ZXJyaWRlLiBSZW1vdmUgZHVwbGljYXRlcycpO1xyXG4gICAgICAgICAgICBhcHBzW2FwcGxpY2F0aW9uLm5hbWUoKV0gPSBhcHBsaWNhdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIHJlZ2lzdGVyIEFwcGxpY2F0aW9uIGNvbnN0cnVjdG9yLicpO1xyXG4gICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIENvcmUuZGVmaW5lKCdydW4nLCBmdW5jdGlvbiAoYXBwKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcHAgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgaWYgKGFwcHNbYXBwXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFwcGxpY2F0aW9uKGFwcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FwcGxpY2F0aW9uIFsnICsgYXBwICsgJ10gbm90IGZvdW5kLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBnZXQgYXBwLiBBcHAgSWQgaXMgbm90IGEgc3RyaW5nJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNC8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBTZXJ2aWNlcygpIHtcclxuXHJcbiAgICB2YXIgc2VydmljZXMgPSB7fSxcclxuICAgICAgICBzZXJ2aWNlQ2xhc3NlcyA9IHt9LFxyXG4gICAgICAgIHBsdWdpbnMgPSB7fSxcclxuICAgICAgICBwbHVnaW5zQ2xhc3NlcyA9IHt9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHNlcnZpY2UoY2ZnKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjZmcgPT09IFwib2JqZWN0XCIgJiYgY2ZnLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICB2YXIgc2VydmljZU5hbWUgPSBudWxsO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNmZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjZmdbaV0gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lID0gY2ZnW2ldLm5hbWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgY2ZnW2ldICE9PSBcInN0cmluZ1wiKSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgc2VydmljZS4gSW52YWxpZCBjb25maWcnKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNlcnZpY2VOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VydmljZXNbc2VydmljZU5hbWVdKSBjb25zb2xlLndhcm4oJ0R1cGxpY2F0ZSBkZWNsYXJhdGlvbi4gU2VydmljZSBbJyArIHNlcnZpY2VOYW1lICsgJ10gaGFzIGJlZW4gb3ZlcndyaXR0ZW4nKTtcclxuICAgICAgICAgICAgICAgIHNlcnZpY2VzW3NlcnZpY2VOYW1lXSA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbY2ZnXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNmZyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIGlmIChjZmcubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VzW2NmZy5uYW1lXSkgY29uc29sZS53YXJuKCdEdXBsaWNhdGUgZGVjbGFyYXRpb24uIFNlcnZpY2UgWycgKyBzZXJ2aWNlTmFtZSArICddIGhhcyBiZWVuIG92ZXJ3cml0dGVuJyk7XHJcbiAgICAgICAgICAgICAgICBzZXJ2aWNlc1tjZmcubmFtZV0gPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2NmZ10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIHNlcnZpY2UuIENvbnN0cnVjdG9yIGlzIG5vdCBhIG5hbWVkIGZ1bmN0aW9uLicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwbHVnaW4oYSwgYikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGIgPT09IFwib2JqZWN0XCIgJiYgYi5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwbHVnaW5OYW1lID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYltpXSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbk5hbWUgPSBiW2ldLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBiW2ldICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBwbHVnaW4uIEludmFsaWQgY29uc3RydWN0b3IgYXJndW1lbnRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbk5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBsdWdpbnNbYV0pIHBsdWdpbnNbYV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGx1Z2luc1thXVtwbHVnaW5OYW1lXSkgY29uc29sZS53YXJuKCdQbHVnaW4gZHVwbGljYXRlZC4gWycgKyBwbHVnaW5OYW1lICsgJ10gaGFzIGJlZW4gb3ZlcndyaXR0ZW4nKTtcclxuICAgICAgICAgICAgICAgICAgICBwbHVnaW5zW2FdW3BsdWdpbk5hbWVdID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtiXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgcGx1Z2luLiBDb25zdHJ1Y3RvciBpcyBub3QgYSBuYW1lZCBmdW5jdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgcGx1Z2luLiBJbnZhbGlkIGFyZ3VtZW50cy4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcGx1Z2luLmNsYXNzID0gZnVuY3Rpb24gKHN2YywgYSwgYikge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygc3ZjID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiID09PSBcIm9iamVjdFwiICYmIGIuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsdWdpbkNsYXNzTmFtZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYltpXSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW5DbGFzc05hbWUgPSBiW2ldLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGJbaV0gIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBwbHVnaW4gY2xhc3MuIEludmFsaWQgY29uc3RydWN0b3IgYXJndW1lbnRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsdWdpbkNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBsdWdpbnNDbGFzc2VzW3N2Y10pIHBsdWdpbnNDbGFzc2VzW3N2Y10gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwbHVnaW5zQ2xhc3Nlc1tzdmNdW2FdKSBwbHVnaW5zQ2xhc3Nlc1tzdmNdW2FdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW5zQ2xhc3Nlc1tzdmNdW2FdW3BsdWdpbkNsYXNzTmFtZV0pIGNvbnNvbGUud2FybignUGx1Z2luIGNsYXNzIGR1cGxpY2F0ZWQuIFsnICsgcGx1Z2luQ2xhc3NOYW1lICsgJ10gaGFzIGJlZW4gb3ZlcndyaXR0ZW4nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbnNDbGFzc2VzW3N2Y11bYV1bcGx1Z2luQ2xhc3NOYW1lXSA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbYl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIHBsdWdpbi4gQ29uc3RydWN0b3IgaXMgbm90IGEgbmFtZWQgZnVuY3Rpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGIubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBsdWdpbnNDbGFzc2VzW3N2Y10pIHBsdWdpbnNDbGFzc2VzW3N2Y10gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwbHVnaW5zQ2xhc3Nlc1tzdmNdW2FdKSBwbHVnaW5zQ2xhc3Nlc1tzdmNdW2FdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW5zQ2xhc3Nlc1tzdmNdW2FdW2IubmFtZV0pIGNvbnNvbGUud2FybignUGx1Z2luIGNsYXNzIGR1cGxpY2F0ZWQuIFsnICsgYi5uYW1lICsgJ10gaGFzIGJlZW4gb3ZlcndyaXR0ZW4nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbnNDbGFzc2VzW3N2Y11bYV1bYi5uYW1lXSA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbYl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcmVnaXN0ZXIgcGx1Z2luIGNsYXNzLiBJbnZhbGlkIGFyZ3VtZW50cycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIHBsdWdpbi4gSW52YWxpZCBhcmd1bWVudHMuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxuICAgIHNlcnZpY2UuY2xhc3MgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgIHZhciBjbGFzc05hbWUgPSBudWxsO1xyXG4gICAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGIubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VydmljZUNsYXNzZXNbYV0pIHNlcnZpY2VDbGFzc2VzW2FdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZUNsYXNzZXNbYV1bYi5uYW1lXSA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbYl0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgY2xhc3MgZm9yIGV4dGVuc2lvbiBbJyArIGEgKyAnXS4gQ29uc3RydWN0b3IgaXMgbm90IGEgbmFtZWQgZnVuY3Rpb24nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYiA9PT0gXCJvYmplY3RcIiAmJiBiLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiW2ldID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gYltpXS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYltpXSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgY2xhc3MgZm9yIHNlcnZpY2VbJyArIGEgKyAnXS4gSW52YWxpZCBjb25maWcuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VydmljZUNsYXNzZXNbYV0pIHNlcnZpY2VDbGFzc2VzW2FdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VDbGFzc2VzW2FdW2NsYXNzTmFtZV0pIGNvbnNvbGUud2FybignRHVwbGljYXRlIGRlY2xhcmF0aW9uLiBDbGFzcyBbJyArIGNsYXNzTmFtZSArICddIGZvciBleHRlbnNpb24gWycgKyBhICsgJ10gaGFzIGJlZW4gb3ZlcndyaXR0ZW4nKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlQ2xhc3Nlc1thXVtjbGFzc05hbWVdID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtiXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBjbGFzcy4gSW52YWxpZCBhcmd1bWVudHMnKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIENvcmUuZGVmaW5lKCdzZXJ2aWNlJywgc2VydmljZSk7XHJcbiAgICBDb3JlLmRlZmluZSgncGx1Z2luJywgcGx1Z2luKTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRQbHVnaW5NYW5hZ2VyKGxpYikge1xyXG4gICAgICAgIGZ1bmN0aW9uIFBsdWdpbnMoKSB7XHJcbiAgICAgICAgICAgIHZhciBsaWJyYXJ5ID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGliLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IGxpYltpXS5saXN0KCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGxpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdFtwcm9wXS4kY29uc3RydWN0b3IoKSAhPT0gUGx1Z2lucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaWJyYXJ5LnB1c2gocHJvcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZWFjaCA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpYnJhcnkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBmKGxpYnJhcnlbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxpc3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaWJyYXJ5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKGxpYnJhcnlbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW1BsdWdpbnNdKV0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZ2V0QXBwbGljYXRpb25TZXJ2aWNlcyA9IGZ1bmN0aW9uIChfaGVscGVycywgX3N5c0NsYXNzZXMsIF9lbmdpbmVEZWZhdWx0cykge1xyXG5cclxuICAgICAgICB2YXIgX3NlcnZpY2VzID0ge30sXHJcbiAgICAgICAgICAgIF9zZXJ2aWNlc0NsYXNzZXMgPSB7fSxcclxuICAgICAgICAgICAgX3NlcnZpY2VzUGx1Z2lucyA9IHt9LFxyXG4gICAgICAgICAgICBfc2VydmljZXNQbHVnaW5zQ2xhc3NlcyA9IHt9LFxyXG4gICAgICAgICAgICBfc2VydmljZSwgX3BsdWdpbjtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgc2VydmljZSBpbiBzZXJ2aWNlcykge1xyXG4gICAgICAgICAgICBpZiAoc2VydmljZXMuaGFzT3duUHJvcGVydHkoc2VydmljZSkpIHtcclxuICAgICAgICAgICAgICAgIF9zZXJ2aWNlID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtzZXJ2aWNlc1tzZXJ2aWNlXV0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIF9wbHVnaW5zID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbnNbc2VydmljZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwbHVnaW4gaW4gcGx1Z2luc1tzZXJ2aWNlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGx1Z2luc1tzZXJ2aWNlXS5oYXNPd25Qcm9wZXJ0eShwbHVnaW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGx1Z2luID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtwbHVnaW5zW3NlcnZpY2VdW3BsdWdpbl1dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX3NlcnZpY2VzUGx1Z2luc1tzZXJ2aWNlXSkgX3NlcnZpY2VzUGx1Z2luc1tzZXJ2aWNlXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzUGx1Z2luc1tzZXJ2aWNlXVtwbHVnaW5dID0gX3BsdWdpbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW5zQ2xhc3Nlc1tzZXJ2aWNlXVtwbHVnaW5dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9wbHVnaW5DbGFzc2VzQ29udGFpbmVyID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtwbHVnaW5zQ2xhc3Nlc1tzZXJ2aWNlXVtwbHVnaW5dXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfc2VydmljZXNQbHVnaW5zQ2xhc3Nlc1tzZXJ2aWNlXSkgX3NlcnZpY2VzUGx1Z2luc0NsYXNzZXNbc2VydmljZV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VydmljZXNQbHVnaW5zQ2xhc3Nlc1tzZXJ2aWNlXVtwbHVnaW5dID0gX3BsdWdpbkNsYXNzZXNDb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BsdWdpbi5zb3VyY2UoX3BsdWdpbkNsYXNzZXNDb250YWluZXIsICckJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BsdWdpbkNsYXNzZXNDb250YWluZXIuc291cmNlKF9wbHVnaW5DbGFzc2VzQ29udGFpbmVyLCAnJCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wbHVnaW5DbGFzc2VzQ29udGFpbmVyLnNvdXJjZShfc3lzQ2xhc3NlcywgJy4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGx1Z2luQ2xhc3Nlc0NvbnRhaW5lci5zb3VyY2UoX2hlbHBlcnMsICcrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGx1Z2luLnNvdXJjZShfc3lzQ2xhc3NlcywgJy4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wbHVnaW4uc291cmNlKF9oZWxwZXJzLCAnKycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BsdWdpbnMucHVzaChfcGx1Z2luKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBfcGx1Z2lucy5wdXNoKGdldFBsdWdpbk1hbmFnZXIoX3BsdWdpbnMpKTtcclxuICAgICAgICAgICAgICAgIF9zZXJ2aWNlLnNvdXJjZShfcGx1Z2lucywgJzwnKTtcclxuICAgICAgICAgICAgICAgIF9zZXJ2aWNlLnNvdXJjZShfc3lzQ2xhc3NlcywgJy4nKTtcclxuICAgICAgICAgICAgICAgIF9zZXJ2aWNlLnNvdXJjZShfaGVscGVycywgJysnKTtcclxuICAgICAgICAgICAgICAgIF9zZXJ2aWNlLnNvdXJjZShfZW5naW5lRGVmYXVsdHMsICdAJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VydmljZUNsYXNzZXNbc2VydmljZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VydmljZUNsYXNzZXNDb250YWluZXIgPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW3NlcnZpY2VDbGFzc2VzW3NlcnZpY2VdXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2Uuc291cmNlKHNlcnZpY2VDbGFzc2VzQ29udGFpbmVyLCAnJCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VDbGFzc2VzQ29udGFpbmVyLnNvdXJjZShzZXJ2aWNlQ2xhc3Nlc0NvbnRhaW5lciwgJyQnKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlQ2xhc3Nlc0NvbnRhaW5lci5zb3VyY2UoX3N5c0NsYXNzZXMsICcuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZUNsYXNzZXNDb250YWluZXIuc291cmNlKF9wbHVnaW5zLCAnPCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VDbGFzc2VzQ29udGFpbmVyLnNvdXJjZShfaGVscGVycywgJysnKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlQ2xhc3Nlc0NvbnRhaW5lci5zb3VyY2UoX2VuZ2luZURlZmF1bHRzLCAnQCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zZXJ2aWNlc0NsYXNzZXNbc2VydmljZV0gPSBzZXJ2aWNlQ2xhc3Nlc0NvbnRhaW5lcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF9zZXJ2aWNlc0NsYXNzZXNbc2VydmljZV0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3NlcnZpY2VzW3NlcnZpY2VdID0gX3NlcnZpY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAodmFyIHMgaW4gX3NlcnZpY2VzKSB7XHJcbiAgICAgICAgICAgIGlmIChfc2VydmljZXMuaGFzT3duUHJvcGVydHkocykpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfc2VydmljZXNTZXJ2aWNlU291cmNlID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzMiBpbiBfc2VydmljZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3NlcnZpY2VzLmhhc093blByb3BlcnR5KHMyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocyAhPT0gczIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXJ2aWNlc1NlcnZpY2VTb3VyY2UucHVzaChfc2VydmljZXNbczJdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF9zZXJ2aWNlc1tzXS5zb3VyY2UoX3NlcnZpY2VzU2VydmljZVNvdXJjZSwgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChfc2VydmljZXNDbGFzc2VzW3NdKSBfc2VydmljZXNDbGFzc2VzW3NdLnNvdXJjZShfc2VydmljZXNTZXJ2aWNlU291cmNlLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKF9zZXJ2aWNlc1BsdWdpbnNbc10pIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwIGluIF9zZXJ2aWNlc1BsdWdpbnNbc10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9zZXJ2aWNlc1BsdWdpbnNbc10uaGFzT3duUHJvcGVydHkocCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXJ2aWNlc1BsdWdpbnNbc11bcF0uc291cmNlKF9zZXJ2aWNlc1NlcnZpY2VTb3VyY2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoX3NlcnZpY2VzUGx1Z2luc0NsYXNzZXNbc10pIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwY2wgaW4gX3NlcnZpY2VzUGx1Z2luc0NsYXNzZXNbc10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9zZXJ2aWNlc1BsdWdpbnNDbGFzc2VzW3NdLmhhc093blByb3BlcnR5KHBjbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXJ2aWNlc1BsdWdpbnNDbGFzc2VzW3NdW3BjbF0uc291cmNlKF9zZXJ2aWNlc1NlcnZpY2VTb3VyY2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIF9zZXJ2aWNlcykge1xyXG4gICAgICAgICAgICBpZiAoX3NlcnZpY2VzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChfc2VydmljZXNbcHJvcF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9oZWxwZXJzLnNvdXJjZShyZXN1bHQsIGZhbHNlKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuXHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNS8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBTb3VyY2UocHJlZml4LCBjb250YWluZXIsIGxvb3ApIHtcclxuXHJcbiAgICB2YXIgcGZ4ID0gcHJlZml4ID8gcHJlZml4IDogZmFsc2UsXHJcbiAgICAgICAgY29udGFpbmVycyA9IFtdLFxyXG4gICAgICAgIGNhY2hlID0ge30sXHJcbiAgICAgICAgY2hlY2tDYWNoZSA9IHt9O1xyXG5cclxuICAgIGlmICh0eXBlb2YgY29udGFpbmVyID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgaWYgKENvcmUuaXMoY29udGFpbmVyLCAnQ29udGFpbmVyJykpIHtcclxuICAgICAgICAgICAgY29udGFpbmVycyA9IFtjb250YWluZXJdXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNvbnRhaW5lci5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgdmFyIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250YWluZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChDb3JlLmlzKGNvbnRhaW5lcltpXSwgJ0NvbnRhaW5lcicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVycy5wdXNoKGNvbnRhaW5lcltpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjb250YWluZXIubGVuZ3RoID09PSAwKSB2YWxpZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF2YWxpZCkgdGhyb3cgbmV3IEVycm9yKCdDb250YWluZXIgYXJyYXkgaXMgZW1wdHkhJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdHlwZSBpZiBjb250YWluZXIhJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBzdHJpcFByZWZpeChuYW1lKSB7XHJcbiAgICAgICAgaWYgKHByZWZpeCkge1xyXG4gICAgICAgICAgICB2YXIgc3RyaW5nID0gJyc7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPj0gcGZ4Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBuYW1lW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY2hlY2sgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIGlmKGNoZWNrQ2FjaGVbbmFtZV0pIHJldHVybiBjaGVja0NhY2hlW25hbWVdO1xyXG4gICAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgIGlmIChwcmVmaXgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVmaXgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghbmFtZVtpXSB8fCBuYW1lW2ldICE9PSBwcmVmaXhbaV0pIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoZWNrQ2FjaGVbbmFtZV0gPSByZXN1bHQ7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5oYXMgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICBpZihjYWNoZVtuYW1lXSkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMuY2hlY2sobmFtZSkpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250YWluZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RyaXBOYW1lID0gc3RyaXBQcmVmaXgobmFtZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyc1tpXS5oYXMoc3RyaXBOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVbbmFtZV0gPSBjb250YWluZXJzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMubG9vcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbG9vcDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5jb250YWluZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjb250YWluZXJzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNvdXJjZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRhaW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29udGFpbmVyc1tpXS5zb3VyY2UuYXBwbHkoY29udGFpbmVyc1tpXSwgYXJndW1lbnRzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucHJlZml4ID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgIGlmIChzdHIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3RyID09PSBwZng7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwZng7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucmVzb2x2ZSA9IGZ1bmN0aW9uIChuYW1lLCBkaXJlY3QpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5oYXMobmFtZSkpIHtcclxuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHZhciBzdHJpcE5hbWUgPSBzdHJpcFByZWZpeChuYW1lKTtcclxuICAgICAgICAgICAgaWYoY2FjaGVbbmFtZV0pIHNvdXJjZSA9IGNhY2hlW25hbWVdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRhaW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb250YWluZXJzW2ldLmhhcyhzdHJpcE5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlID0gY29udGFpbmVyc1tpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc291cmNlKSByZXN1bHQgPSBzb3VyY2UucmVzb2x2ZShzdHJpcE5hbWUsIGRpcmVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucmVzb2x2ZUluamVjdGlvbkRlcGVuZGFuY2llcyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgdmFyIHNvdXJjZSA9IG51bGwsIHN0cmlwTmFtZSA9IG51bGw7XHJcbiAgICAgICAgaWYoY2FjaGVbbmFtZV0pIHtcclxuICAgICAgICAgICAgc3RyaXBOYW1lID0gc3RyaXBQcmVmaXgobmFtZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBjYWNoZVtuYW1lXS5yZXNvbHZlKHN0cmlwTmFtZSwgJ2V4dGVuZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBzdHJpcE5hbWUgPSBzdHJpcFByZWZpeChuYW1lKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXJzW2ldLmhhcyhzdHJpcE5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IGNvbnRhaW5lcnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlW25hbWVdID0gY29udGFpbmVyc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZSkgcmV0dXJuIHNvdXJjZS5yZXNvbHZlKHN0cmlwTmFtZSwgJ2V4dGVuZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNC8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBUaWNrZXIoKSB7XHJcbiAgICB2YXIgZnJhbWVEdXJhdGlvbiA9ICgxMDAwIC8gNTguOCkudG9GaXhlZCgyKSxcclxuICAgICAgICBxdWV1ZSA9IFtdLFxyXG4gICAgICAgIGZyYW1lID0gMCxcclxuICAgICAgICBhcmdzID0gW251bGwsIDBdLFxyXG4gICAgICAgIGRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVbaV0uZi5hcHBseShzZWxmLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBlbWVyZ2VkIHdoaWxlIHJlc29sdmluZyBjYWxsYmFja3MuXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdRdWV1ZSAgIDogWycgKyBxdWV1ZVtpXS5vICsgJ11cXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ09yZGVyICAgOiBbJyArIGkgKyAnXVxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnTmFtZSAgICA6IFsnICsgKHF1ZXVlW2ldLmYubmFtZSkgKyAnXS5cXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ01lc3NhZ2UgOiAnICsgZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmcmFtZSsrO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYXJnc1swXSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgIGFyZ3NbMV0gPSBmcmFtZTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGRyYXcoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCdlcnJvcicsIGUpO1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcnVuIHRpY2tlciBhbnltb3JlLiAnICtcclxuICAgICAgICAgICAgICAgICAgICAnRXJyb3IgZW1lcmdlZCBkdXJpbmcgYXBwIHRpY2tlciBwcm9ncmVzcy5cXG4gJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ0ZyYW1lIDonICsgZnJhbWUgKyAnXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ0RhdGUgIDogJyArIGFyZ3NbMF0gKyAnXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgZS5tZXNzYWdlXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW50ZXJ2YWwgPSBudWxsLFxyXG4gICAgICAgIGV2ZW50Q2IgPSB7XHJcbiAgICAgICAgICAgIHN0b3A6IFtdLFxyXG4gICAgICAgICAgICBzdGFydDogW10sXHJcbiAgICAgICAgICAgIGVycm9yOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzb2x2ZShldmVudCwgYXJncykge1xyXG4gICAgICAgIHZhciBfY2FsbF9hcmdzID0gW107XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzID09PSBcIm9iamVjdFwiICYmIGFyZ3MuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgIF9jYWxsX2FyZ3MgPSBhcmdzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChhcmdzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgX2NhbGxfYXJncy5wdXNoKGFyZ3MpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIiAmJiBldmVudC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50Q2JbZXZlbnRdKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50Q2JbZXZlbnRdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRDYltldmVudF1baV0uYXBwbHkoc2VsZiwgX2NhbGxfYXJncyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byByZXNvbHZlIGV2ZW50IFsnICsgZXZlbnQgKyAnXS4gTm8gc3VjaCBldmVudC4nKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byByZXNvbHZlIGV2ZW50LiBFdmVudCBwYXJhbWV0ZXIgaXMgbm90IGEgc3RyaW5nIG9yIGVtcHR5JylcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5vbiA9IGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT09IFwic3RyaW5nXCIgJiYgZXZlbnQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudENiW2V2ZW50XSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudENiW2V2ZW50XS5wdXNoKGZ1bmMpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgZXZlbnQgWycgKyBldmVudCArICddLiBDYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbi4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBldmVudCBbJyArIGV2ZW50ICsgJ10gaGFuZGxlci4gTm8gc3VjaCBldmVudC4nKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgZXZlbnQuIEV2ZW50IGFyZ3VtZW50IGlzIG5vdCBhIHN0cmluZyBvciBlbXB0eS4nKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChpbnRlcnZhbCkge1xyXG4gICAgICAgICAgICBmcmFtZSA9IDA7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICBpbnRlcnZhbCA9IG51bGw7XHJcbiAgICAgICAgICAgIHJlc29sdmUoJ3N0b3AnLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCFpbnRlcnZhbCkge1xyXG4gICAgICAgICAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKHRpY2ssIGZyYW1lRHVyYXRpb24pO1xyXG4gICAgICAgICAgICByZXNvbHZlKCdzdGFydCcsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5mcHMgPSBmdW5jdGlvbiAobnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBudW1iZXIgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgaWYgKG51bWJlciA+IDYwKSBudW1iZXIgPSA2MDtcclxuICAgICAgICAgICAgaWYgKG51bWJlciA8PSAwKSBudW1iZXIgPSAxO1xyXG4gICAgICAgICAgICBmcmFtZUR1cmF0aW9uID0gKDEwMDAgLyBudW1iZXIpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgICAgIGlmIChpbnRlcnZhbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoMTAwMCAvIGZyYW1lRHVyYXRpb24pLnRvRml4ZWQoMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnF1ZXVlID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGEgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBpZiAoIWEubmFtZSkgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IGNhbGxiYWNrLiBDYWxsYmFjayBpcyBub3QgYSBuYW1lZCBmdW5jdGlvbi4nKTtcclxuICAgICAgICAgICAgcXVldWUucHVzaCh7bzogMCwgZjogYn0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgYSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFiLm5hbWUpIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBjYWxsYmFjay4gQ2FsbGJhY2sgaXMgbm90IGEgbmFtZWQgZnVuY3Rpb24uJyk7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHtvOiBhLCBmOiBifSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBxdWV1ZS4gY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24nKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgY2FsbGJhY2suIFdyb25nIGFyZ3VtZW50cyBwYXNzZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcXVldWUuc29ydChmdW5jdGlvbiAoYSxiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLm8gPiBiLm87XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIucGx1Z2luKCdPYmplY3RzJyxcclxuICAgIFsnQGluamVjdCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQW5pbWF0aW9uKGluamVjdCwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBhbmltYXRpb25zID0gW10sXHJcbiAgICAgICAgICAgICAgICBhbmltYXRlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbW9ycGhzID0ge307XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1vcnBoID0gZnVuY3Rpb24gKG5hbWUsIG9yZGVyaW5nLCBzZXR0ZXIsIGFwcGxpZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtb3JwaCA9IGluamVjdCgnJE1vcnBoJyk7XHJcbiAgICAgICAgICAgICAgICBtb3JwaC5jb25maWcobmFtZSwgdGhpcy5vYmplY3QoKSwgb3JkZXJpbmcsIHNldHRlciwgYXBwbGllcik7XHJcbiAgICAgICAgICAgICAgICBpZiAobW9ycGgudmFsaWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vcnBoc1tuYW1lXSA9IG1vcnBoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5leHRyYWN0TW9ycGggPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vcnBoc1tuYW1lXTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZpbmRDb21wZXRpdG9yKHByb3BlcnRpZXMsIGFuaW1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLiQkU0VMRiA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGNvbXBldGl0b3IgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYW5pbWF0aW9uc1tpXS4kJFNFTEYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbnNbaV0uYWN0aXZlKCkgJiYgIWFuaW1hdGlvbnNbaV0uZG9uZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hlY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgcHJvcGVydGllcy5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25zW2ldLmhhc1Byb3BlcnR5KHByb3BlcnRpZXNbbl0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb21wZXRpdG9yKSBjb21wZXRpdG9yID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGV0aXRvci5wdXNoKGFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBhbmltYXRpb24uJCRTRUxGO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21wZXRpdG9yO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBDaGVja0FuaW1hdGlvblF1ZXVlKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hbmltYXRpb25zID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbmltYXRpb25zW2ldLmFjdGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IGFuaW1hdGlvbnNbaV0ucHJvcGVydGllcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uc1tpXS5xdWV1ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbmRDb21wZXRpdG9yKHByb3BzLCBhbmltYXRpb25zW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnNbaV0uc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21wZXRpdG9ycyA9IGZpbmRDb21wZXRpdG9yKHByb3BzLCBhbmltYXRpb25zW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wZXRpdG9ycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgY29tcGV0aXRvcnMubGVuZ3RoOyBuKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcCA9IDA7IHAgPCBwcm9wcy5sZW5ndGg7IHArKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGV0aXRvcnNbbl0uc3RvcChwcm9wc1twXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zW2ldLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2FuaW1hdGlvbnMucHVzaChhbmltYXRpb25zW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYW5pbWF0aW9uc1tpXS5kb25lKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hbmltYXRpb25zLnB1c2goYW5pbWF0aW9uc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9ucyA9IF9hbmltYXRpb25zO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlQW5pbWF0aW9uVHlwZTEocHJvcGVydHksIHZhbHVlLCBkdXJhdGlvbiwgZWFzaW5nKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcGFpciA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIHBhaXJbcHJvcGVydHldID0gdmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1vcnBoc1twcm9wZXJ0eV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhY2sgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJpbmc6IHN0eWxlLm9yZGVyaW5nKHByb3BlcnR5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JwaDogbW9ycGhzW3Byb3BlcnR5XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkdXJhdGlvbiAmJiB0eXBlb2YgZHVyYXRpb24gPT09IFwibnVtYmVyXCIpIGNvbmZpZy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlYXNpbmcgJiYgdHlwZW9mIGVhc2luZyA9PT0gXCJzdHJpbmdcIikgY29uZmlnLmVhc2luZyA9IGVhc2luZztcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBpbmplY3QoJyRBbmltYXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLmNvbmZpZyh0aGlzLCBzdGFjaywgY29uZmlnLCBDaGVja0FuaW1hdGlvblF1ZXVlKTtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zLnB1c2goYW5pbWF0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIENyZWF0ZUFuaW1hdGlvblR5cGUyKHBhaXJzLCBhcmcyLCBhcmczKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZzIgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSBhcmcyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFyZzIgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBhcmcyXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZzMgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLmVhc2luZyA9IGFyZzNcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJnMiA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBhcmcyXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcGFpcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhaXJzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtb3JwaHNbcHJvcGVydHldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ1Byb3BlcnR5IHtwcm9wZXJ0eX0gb2Yge3R5cGV9IGNhbiBub3QgYmUgYW5pbWF0ZWQhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Byb3BlcnR5XSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyaW5nOiBzdHlsZS5vcmRlcmluZyhwcm9wZXJ0eSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JwaDogbW9ycGhzW3Byb3BlcnR5XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwYWlyc1twcm9wZXJ0eV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbW9ycGhfc3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vcnBoX3N0YWNrLnB1c2gocmVzdWx0W2l0ZW1dKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBtb3JwaF9zdGFjay5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEub3JkZXJpbmcgLSBiLm9yZGVyaW5nO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1vcnBoX3N0YWNrLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBpbmplY3QoJyRBbmltYXRpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uY29uZmlnKHRoaXMsIG1vcnBoX3N0YWNrLCBjb25maWcsIENoZWNrQW5pbWF0aW9uUXVldWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignTm8gcHJvcGVydGllcyB0byBhbmltYXRlIScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdhbmltYXRlJywgZnVuY3Rpb24gKGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnMSA9PT0gJ3N0cmluZycgJiYgYXJnMikge1xyXG4gICAgICAgICAgICAgICAgICAgIENyZWF0ZUFuaW1hdGlvblR5cGUxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJnMSA9PT0gXCJvYmplY3RcIiAmJiBhcmcxLmNvbnN0cnVjdG9yICE9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIENyZWF0ZUFuaW1hdGlvblR5cGUyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmFibGUgdG8gY3JlYXRlIGFuaW1hdGlvbi4gV3JvbmcgYXJndW1lbnRzJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBDaGVja0FuaW1hdGlvblF1ZXVlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignYW5pbWF0ZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5pbWF0ZWQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcignc3RvcCcsIGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uc1tpXS5zdG9wKHByb3BlcnR5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS81LzIwMTcuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWydEZWJ1ZycsICdAaW5qZWN0JyxcclxuICAgICAgICBmdW5jdGlvbiBCb3goRGVidWcsIGluamVjdCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGYgPSBudWxsLCBib3ggPSBpbmplY3QoJyRCb3gnKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZiA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignQm94IEV4dGVuc2lvbiAvIEJveCBmdW5jdGlvbiBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmID0gZnVuYztcclxuXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5mO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0KCk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBCb3hXcmFwcGVyRnVuYygpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZiB8fCAhb2JqZWN0KSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBmLmNhbGwob2JqZWN0LCBib3gpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJveDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5ib3ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0LmV4dGVuc2lvbignQ2FjaGUnKS52YWx1ZSgnYm94JywgQm94V3JhcHBlckZ1bmMpXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnB1cmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0LmV4dGVuc2lvbignQ2FjaGUnKS5wdXJnZSgnYm94Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gb2JqZWN0LnBhcmVudCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5leHRlbnNpb24oJ0JveCcpLnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdib3gnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5leHRlbnNpb24oJ0NhY2hlJykudmFsdWUoJ2JveCcsIEJveFdyYXBwZXJGdW5jKS5nZXQoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS81LzIwMTcuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQ2FjaGUoRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBmdW5jdGlvbiAobmFtZSwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ09iamVjdCBWYWx1ZSBDYWNoZSAvIG5hbWUgaXMgbm90IGEgc3RyaW5nIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ09iamVjdCBWYWx1ZSBDYWNoZSAvIGZ1bmMgaXMgbm90IGEgZnVuY3Rpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbbmFtZV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmM6IGZ1bmMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGV2YW50OiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldChuYW1lKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHVyZ2UgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ09iamVjdCBWYWx1ZSBDYWNoZSAvIENhbiBub3QgcHVyZ2UgY2FjaGUgb2Ygbm9uIHN0cmluZyBuYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1tuYW1lXS5yZWxldmFudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ09iamVjdCBWYWx1ZSBDYWNoZSAvIENhbiBub3QgZ2V0IHZhbHVlIG9mIG5vbi1zdHJpbmcgbmFtZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlc1tuYW1lXS5yZWxldmFudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbbmFtZV0udmFsdWUgPSB2YWx1ZXNbbmFtZV0uZnVuYygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbbmFtZV0ucmVsZXZhbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlc1tuYW1lXS52YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gRHJhd2VyKERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZiA9IG51bGwsIG1hdHJpeCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBjYiA9IHtcclxuICAgICAgICAgICAgICAgICAgICBiZWZvcmU6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyOiBbXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMub2JqZWN0KCk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZXNvbHZlKGV2ZW50LCBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNiW2V2ZW50XS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNiW2V2ZW50XS5hcHBseShvYmplY3QsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmYgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7fSwgJ09iamVjdERyYXdlciAvIGZ1bmMgaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmID0gZnVuYztcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmY7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdiZWZvcmUnLCBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNiLmJlZm9yZS5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignVW5hYmxlIHRvIHNldCBldmVudCBbYmVmb3JlIFJlbmRlcl0uIGZ1bmMgaXMgbm90IGEgRnVuY3Rpb24nKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2FmdGVyJywgZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYi5hZnRlci5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignVW5hYmxlIHRvIHNldCBldmVudCBbYWZ0ZXIgUmVuZGVyXS4gZnVuYyBpcyBub3QgYSBGdW5jdGlvbicpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tYXRyaXggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0cml4O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgnYmVmb3JlJywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIGlmIChmKSBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCdhZnRlcicsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjYvMjAxNi5cclxuICovXHJcbiRSLnBsdWdpbignT2JqZWN0cycsXHJcbiAgICBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBMYXllcnMoRGVidWcpIHtcclxuICAgICAgICAgICAgdmFyIGxheWVycyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAwOiBbXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGxheWVyID0gMDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2xheWVyJywgZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gbGF5ZXI7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsICE9PSBcIm51bWJlclwiIHx8IHZhbCA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtuOiB2YWx9LCAnVmFsdWUge259IGlzIG5vdCBhIG51bWJlciBvciBsZXNzIHRoYW4gMCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50X2xheWVyX2V4dCA9IHBhcmVudC5leHRlbnNpb24oJ0xheWVycycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudF9sYXllcl9leHQucGxhY2UodmFsLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe30sICdZb3UgdHJ5IHRvIHNldCBsYXllciBvZiByb290IGdyb3VwIScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBsYWNlID0gZnVuY3Rpb24gKHZhbCwgb2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QuJCRMQVlFUlNFQVJDSFZBTFVFID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBsYXllciBpbiBsYXllcnMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVycy5oYXNPd25Qcm9wZXJ0eShsYXllcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvbmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXllcnNbbGF5ZXJdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXJzW2xheWVyXVtpXS4kJExBWUVSU0VBUkNIVkFMVUUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcnNbbGF5ZXJdLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9uZSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgb2JqZWN0LiQkTEFZRVJTRUFSQ0hWQUxVRTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWxheWVyc1t2YWxdKSBsYXllcnNbdmFsXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbGF5ZXJzW3ZhbF0ucHVzaChvYmplY3QpO1xyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24gKG9iamVjdCkge1xyXG5cclxuICAgICAgICAgICAgICAgIG9iamVjdC4kJExBWUVSU0VBUkNIVkFMVUUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGxheWVyIGluIGxheWVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXllcnMuaGFzT3duUHJvcGVydHkobGF5ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb25lID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGF5ZXJzW2xheWVyXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyc1tsYXllcl1baV0uJCRMQVlFUlNFQVJDSFZBTFVFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzW2xheWVyXS5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9yRWFjaCA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBsYXllciBpbiBsYXllcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxheWVyc1tsYXllcl0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuYy5hcHBseShsYXllcnNbbGF5ZXJdW2ldLCBbaSwgbGF5ZXJdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxheWVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYXllcnM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzYvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbignT2JqZWN0cycsXHJcbiAgICBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBNYXRyaXgoRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBmID0gbnVsbCwgb2JqZWN0ID0gdGhpcy5vYmplY3QoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZiA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGYgPSBmdW5jO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBNYXRyaXhXcmFwcGVyKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGYuY2FsbChvYmplY3QpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdtYXRyaXgnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5leHRlbnNpb24oJ0NhY2hlJykudmFsdWUoJ3RyYW5zZm9ybU1hdHJpeCcsIE1hdHJpeFdyYXBwZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHVyZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QuZXh0ZW5zaW9uKCdDYWNoZScpLnB1cmdlKCd0cmFuc2Zvcm1NYXRyaXgnKTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmplY3QudHlwZSgpID09PSAnR3JvdXAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxheWVycyA9IG9iamVjdC5leHRlbnNpb24oJ0xheWVycycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leHRlbnNpb24oJ0NhY2hlJykucHVyZ2UoJ3RyYW5zZm9ybU1hdHJpeCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMi8yLzIwMTcuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWycrTW91c2UnLCAnRGlzcGF0Y2hlcicsICdUcmVlJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBNb3VzZShNb3VzZUhlbHBlciwgRGlzcGF0Y2hlciwgVHJlZSwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBjYWxsYmFja3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZ21vdmU6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGRyYWdzdGFydDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2VuZDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgbW91c2Vtb3ZlOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBtb3VzZXVwOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBtb3VzZWRvd246IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlZW50ZXI6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlbGVhdmU6IFtdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1vdXNlQ2hlY2tGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEdldEV2ZW50QXJyYXkoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFja3NbZXZlbnRdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdvbicsIGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBmdW5jID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIGNhbGxiYWNrcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbaV0uJE9GRiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT09IFwic3RyaW5nXCIgJiYgZnVuYyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gR2V0RXZlbnRBcnJheShldmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJheVtpXS4kT0ZGID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IEdldEV2ZW50QXJyYXkoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJheS5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnVGhlcmUgaXMgbm8gZXZlbnQgW3tlfV0nKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFHZXRFdmVudEFycmF5KGV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2U6IGV2ZW50fSwgJ1VuYWJsZSB0byBzZXQgZXZlbnQgaGFuZGxlciBmb3Ige1tlXX0uIE5vIHN1Y2ggZXZlbnQgZm91bmQhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnQsIGY6IGZ1bmN9LCAnVW5hYmxlIHRvIHNldCBldmVudCBoYW5kbGVyIGZvciB7W2VdfS4ge1tmXX0gaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdvZmYnLCBmdW5jdGlvbiAoZXZlbnQsIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gdW5kZWZpbmVkICYmIGZ1bmMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tpXS4kJE9GRiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIiAmJiBmdW5jID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBHZXRFdmVudEFycmF5KGV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXkuJCRPRkYgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IEdldEV2ZW50QXJyYXkoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmMuJCRNT1VTRUZVTkNTRUFSQ0ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXlbaV0uJCRNT1VTRUZVTkNTRUFSQ0gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIUdldEV2ZW50QXJyYXkoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnVW5hYmxlIHRvIHVzZXQgZXZlbnQgaGFuZGxlciBmb3Ige1tlXX0uIG5vIHN1Y2ggZXZlbnQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnQsIGY6IGZ1bmN9LCAnVW5hYmxlIHRvIHVuc2V0IGZ1bmN0aW9uIHtbZl19IGZyb20gZXZlbnQge1tlXX0uIE5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignbW91c2VDaGVja0Z1bmN0aW9uJywgZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChNb3VzZUhlbHBlcltmdW5jICsgJ0NoZWNrRnVuY3Rpb24nXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZUNoZWNrRnVuY3Rpb24gPSBNb3VzZUhlbHBlcltmdW5jICsgJ1VzZXJDaGVja0Z1bmN0aW9uJ107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtmOiBmdW5jfSwgJ1VuYWJsZSB0byBzZXQgY2hlY2sgZnVuY3Rpb24hIHtbZl19IGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbW91c2VDaGVja0Z1bmN0aW9uID0gZnVuYztcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2Rpc2FibGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdlbmFibGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdkaXNhYmxlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkaXNhYmxlZDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNoZWNrID0gZnVuY3Rpb24gKHRhcmdldCwgY3Vyc29yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtb3VzZUNoZWNrRnVuY3Rpb24uY2FsbCh0YXJnZXQsIFtjdXJzb3JbMF0sIGN1cnNvclsxXV0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIGN1cnNvclRyYW5zZm9ybUZ1bmN0aW9uID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yVHJhbnNmb3JtRnVuY3Rpb24gPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSBcImZ1bmN0aW9uXCIpIGN1cnNvclRyYW5zZm9ybUZ1bmN0aW9uID0gZnVuYztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlDdXJzb3JUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoY3Vyc29yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3Vyc29yVHJhbnNmb3JtRnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3Vyc29yVHJhbnNmb3JtRnVuY3Rpb24uY2FsbCh0aGlzLCBjdXJzb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnNvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaGFzRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFja3NbZXZlbnRdICYmIGNhbGxiYWNrc1tldmVudF0ubGVuZ3RoICYmICFjYWxsYmFja3NbZXZlbnRdLiQkT0ZGO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9wYWdhdGUgPSBmdW5jdGlvbiAodGFyZ2V0LCBldmVudE9iaikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IHRhcmdldC5wYXJlbnQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW91c2UgPSBwYXJlbnQuZXh0ZW5zaW9uKCdNb3VzZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3VzZS5oYXNFdmVudChldmVudE9iai50eXBlKCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZXZlbnRPYmoudHlwZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2V2ZW50T2JqID0gZXZlbnRPYmoub3JpZ2luYWxUYXJnZXQuY2FsbCh7JCRNT1VTRVBST1BBR0FUSU9OU0VUVEVSOiBwYXJlbnR9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlLnJlc29sdmUocGFyZW50LCB0eXBlLCBfZXZlbnRPYmopO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IGZ1bmN0aW9uICh0YXJnZXQsIGV2ZW50LCBldmVudE9iaikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpc2FibGVkKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gR2V0RXZlbnRBcnJheShldmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5LiRPRkYpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJheVtpXS5jYWxsKHRhcmdldCwgZXZlbnRPYmopO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50T2JqLnByb3BhZ2F0ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcGFnYXRlKHRhcmdldCwgZXZlbnRPYmopO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2U6IGV2ZW50fSwgJ1VuYWJsZSB0byByZXNvbHZlIGV2ZW50IFt7ZX1dLiBObyBzdWNoIGV2ZW50IScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBjYWxsYmFja3MpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tpXS4kJE9GRiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS81LzIwMTcuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gT2Zmc2V0KERlYnVnKSB7XHJcbiAgICAgICAgICAgIHZhciBvYmplY3QgPSB0aGlzLm9iamVjdCgpLFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgY2FjaGUgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gT2JqZWN0T2Zmc2V0RnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBzdHlsZS5nZXQoJ3Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW3Bvc2l0aW9uWzBdLCBwb3NpdGlvblsxXV07XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IG9iamVjdC5wYXJlbnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudF9vZmZzZXQgPSBwYXJlbnQub2Zmc2V0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFswXSArPSBwYXJlbnRfb2Zmc2V0WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFsxXSArPSBwYXJlbnRfb2Zmc2V0WzFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucHVyZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXN0eWxlIHx8ICFjYWNoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlID0gb2JqZWN0LmV4dGVuc2lvbignU3R5bGUnKTtcclxuICAgICAgICAgICAgICAgICAgICBjYWNoZSA9IG9iamVjdC5leHRlbnNpb24oJ0NhY2hlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY2FjaGUucHVyZ2UoJ29mZnNldCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChvYmplY3QudHlwZSgpID09ICdHcm91cCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGF5ZXJzID0gb2JqZWN0LmV4dGVuc2lvbignTGF5ZXJzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4dGVuc2lvbignT2Zmc2V0JykucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ29mZnNldCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghc3R5bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlID0gdGhpcy5leHRlbnNpb24oJ0NhY2hlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGUudmFsdWUoJ29mZnNldCcsIE9iamVjdE9mZnNldEZ1bmN0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIucGx1Z2luKCdPYmplY3RzJyxcclxuICAgIFsnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFN0eWxlKERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcHJvcGVydGllcyA9IHt9LFxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzID0gW10sXHJcbiAgICAgICAgICAgICAgICBzZXR0ZXJzID0ge30sXHJcbiAgICAgICAgICAgICAgICBnZXR0ZXJzID0ge307XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBHZXRTZXR0ZXJGdW5jdGlvbihuYW1lLCBzZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gc2V0dGVyLmFwcGx5KHRoaXMsIFt2YWx1ZSwgcHJvcGVydGllc1tuYW1lXS52YWx1ZV0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBwcm9wZXJ0aWVzW25hbWVdLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSBcImJvb2xlYW5cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmFibGUgdG8gc2V0IHByb3BlcnR5IFsnICsgbmFtZSArICddLiBJbnZhbGlkIHZhbHVlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbb2xkLCByZXN1bHRdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllc1tuYW1lXS52YWx1ZSA9IHJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2tzW25hbWVdKSBjYWxsYmFja3NbbmFtZV0gPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzW25hbWVdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbbmFtZV1baV0uYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBHZXRHZXR0ZXJGdW5jdGlvbihuYW1lLCBnZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlci5jYWxsKG51bGwsIHByb3BlcnRpZXNbbmFtZV0udmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTdHlsZVR5cGUxKGEsIGIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXNldHRlcnNbYV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHRhcmdldC50eXBlKClcclxuICAgICAgICAgICAgICAgICAgICB9LCAnU3R5bGUgLyBPYmplY3QgdHlwZSB7dHlwZX0gaGFzIG5vIHByb3BlcnR5IHtwcm9wZXJ0eX0nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldHRlcnNbYV0uYXBwbHkodGFyZ2V0LCBbYl0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTdHlsZVR5cGUyKG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHNldHRlcnN0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gb2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvYmplY3QuaGFzT3duUHJvcGVydHkocHJvcGVydHkpIHx8ICFzZXR0ZXJzW3Byb3BlcnR5XSkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2V0dGVyc1twcm9wZXJ0eV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0YXJnZXQudHlwZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sICdTdHlsZSAvIE9iamVjdCB0eXBlIHt0eXBlfSBoYXMgbm8gcHJvcGVydHkge3Byb3BlcnR5fScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRlcnN0YWNrLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJpbmc6IHByb3BlcnRpZXNbcHJvcGVydHldLm9yZGVyaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGVyOiBzZXR0ZXJzW3Byb3BlcnR5XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGVyc3RhY2subGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dGVyc3RhY2suc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5vcmRlcmluZyAtIGIub3JkZXJpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXR0ZXJzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR0ZXJzdGFja1tpXS5zZXR0ZXIuYXBwbHkodGFyZ2V0LCBbb2JqZWN0W3NldHRlcnN0YWNrW2ldLnByb3BlcnR5XV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1N0eWxlIC8gTm8gcHJvcGVydGllcyB0byBiZSBhcHBsaWVkIScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTdHlsZVR5cGUzKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghZ2V0dGVyc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHRhcmdldC50eXBlKClcclxuICAgICAgICAgICAgICAgICAgICB9LCAnU3R5bGUgLyBPYmplY3QgdHlwZSB7dHlwZX0gaGFzIG5vIHByb3BlcnR5IHtwcm9wZXJ0eX0nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXR0ZXJzW25hbWVdLmFwcGx5KHRhcmdldCwgW3Byb3BlcnRpZXNbbmFtZV0udmFsdWVdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ3N0eWxlJywgZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIiAmJiBiICE9PSB1bmRlZmluZWQpIFN0eWxlVHlwZTEuYXBwbHkodGhpcywgW2EsIGJdKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhID09PSBcIm9iamVjdFwiKSBTdHlsZVR5cGUyLmFwcGx5KHRoaXMsIFthXSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYSA9PT0gJ3N0cmluZycgJiYgYiA9PT0gdW5kZWZpbmVkKSByZXR1cm4gU3R5bGVUeXBlMy5hcHBseSh0aGlzLCBbYV0pO1xyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ1N0eWxlIC8gSW52YWxpZCBzdHlsZSBmdW5jdGlvbiBhcmd1bWVudHMhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCd3YXRjaCcsIGZ1bmN0aW9uIChwcm9wZXJ0eSwgY2FsbGJhY2spIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSAhPT0gXCJvYmplY3RcIiB8fCBwcm9wZXJ0eS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ1N0eWxlIC8gUHJvcGVydHkgaXMgbm90IGFuIGFycmF5IG9yIHN0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignU3R5bGUgLyBDYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5LmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnR5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHlbaV0gIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtpOiBpfSwgJ1N0eWxlIC8gUHJvcGVydHkge2l9IGlzIG5vdCBhIHN0cmluZyEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFja3NbcHJvcGVydHlbaV1dIHx8IHR5cGVvZiBjYWxsYmFja3NbcHJvcGVydHlbaV1dICE9PSBcIm9iamVjdFwiIHx8IGNhbGxiYWNrc1twcm9wZXJ0eVtpXV0uY29uc3RydWN0b3IgIT09IEFycmF5KSBjYWxsYmFja3NbcHJvcGVydHlbaV1dID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW3Byb3BlcnR5W2ldXS5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBwcm9wZXJ0eSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2tzW3Byb3BlcnR5XSB8fCBjYWxsYmFja3NbcHJvcGVydHldLmNvbnN0cnVjdG9yICE9PSBBcnJheSkgY2FsbGJhY2tzW3Byb3BlcnR5XSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1twcm9wZXJ0eV0ucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignU3R5bGUgLyBQcm9wZXJ0eSBpcyBub3QgYW4gYXJyYXkgb3Igc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGVmaW5lID0gZnVuY3Rpb24gKG9yZGVyaW5nLCBuYW1lLCB2YWx1ZSwgc2V0dGVyLCBnZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnU3R5bGUgLyBEdXBsaWNhdGVkIFByb3BlcnR5IFt7bmFtZX1dJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIiB8fCBuYW1lLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdTdHlsZSAvIFByb3BlcnR5IG5hbWUgaXMgbm90IGEgc3RyaW5nIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGdldHRlciAhPT0gXCJmdW5jdGlvblwiIHx8IHR5cGVvZiBzZXR0ZXIgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdTdHlsZSAvIFVuYWJsZSB0byBkZWZpbmUgcHJvcGVydHkuIEdldHRlciBvciBzZXR0ZXIgaXMgdW5kZWZpbmVkIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mICBvcmRlcmluZyAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdTdHlsZSAvIFVuYWJsZSB0byBkZWZpbmUgcHJvcGVydHkgc2V0dGVyIG9yZGVyaW5nIScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXNbbmFtZV0gPSB7b3JkZXJpbmc6IG9yZGVyaW5nLCB2YWx1ZTogdmFsdWV9O1xyXG5cclxuICAgICAgICAgICAgICAgIHNldHRlcnNbbmFtZV0gPSBHZXRTZXR0ZXJGdW5jdGlvbihuYW1lLCBzZXR0ZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGdldHRlcnNbbmFtZV0gPSBHZXRHZXR0ZXJGdW5jdGlvbihuYW1lLCBnZXR0ZXIpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNbbmFtZV0pIHJldHVybiBwcm9wZXJ0aWVzW25hbWVdLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ0dldHRpbmcgdmFsdWUgb2YgcHJvcGVydHkgdGhhdCBkb2VzIG5vdCBleGlzdCEnKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9yZGVyaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW25hbWVdKSByZXR1cm4gcHJvcGVydGllc1tuYW1lXS5vcmRlcmluZztcclxuXHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdHZXR0aW5nIG9yZGVyaW5nIG9mIHByb3BlcnR5IHRoYXQgZG9lcyBub3QgZXhpc3QhJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMy8yNS8yMDE3LlxyXG4gKi9cclxuJFIucGx1Z2luKCdPYmplY3RzJyxcclxuICAgIFsnRGVidWcnLCAnK01vZGVsJywgJ0BpbmplY3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFRleHQoRGVidWcsIE1vZGVsSGVscGVyLCBpbmplY3QsIEZvbnRzKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFwcGx5VG8oJ1RleHQnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBvYmplY3QgPSB0aGlzLm9iamVjdCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG9iamVjdC50eXBlKCkgIT09ICdUZXh0JykgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdmFyIGxpbmVzID0gW10sXHJcbiAgICAgICAgICAgICAgICB3b3JkQnlXb3JkUmVnRXhwID0gLygoXFxTK1xccyspfChcXFMrJCkpL2csXHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IG9iamVjdC5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnJyxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbGltaXRzID0gW0luZmluaXR5LCBJbmZpbml0eV0sXHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IDAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSAwO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignbGluZXMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaChsaW5lc1tpXS5zdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcignd29yZHMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHdvcmRzID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IGxpbmVzLmxlbmd0aDsgbCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF93ID0gbGluZXNbaV0ud29yZHMoKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB3ID0gMDsgdyA8IF93Lmxlbmd0aDsgdysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLnB1c2goX3cuc3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB3b3JkcztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxpbWl0cyA9IGZ1bmN0aW9uICh3LCBoKSB7XHJcbiAgICAgICAgICAgICAgICBsaW1pdHNbMF0gPSB3O1xyXG4gICAgICAgICAgICAgICAgbGltaXRzWzFdID0gaDtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBvYmplY3Qud2F0Y2goJ3N0cicsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobiAhPT0gc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nID0gbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBvYmplY3Qud2F0Y2goWydzdHInLCAnZm9udFNpemUnLCAnbGluZUhlaWdodCcsICdjb2xvcicsICd3ZWlnaHQnLCAnc3R5bGUnXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uIChmb3JjZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh1cGRhdGUgfHwgZm9yY2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBpZWNlcyA9IHN0cmluZy5tYXRjaCh3b3JkQnlXb3JkUmVnRXhwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoID0gMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbCA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0cyA9IHN0eWxlLmdldCgnc2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ID0gMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IDA7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZm9udCA9IHN0eWxlLmdldCgnc3lzdGVtRm9udCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZSA9IHN0eWxlLmdldCgnZm9udFNpemUnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZUhlaWdodCA9IHN0eWxlLmdldCgnbGluZUhlaWdodCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0ID0gc3R5bGUuZ2V0KCd3ZWlnaHQnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBzdHlsZS5nZXQoJ2NvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTdHlsZSA9IHN0eWxlLmdldCgnc3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgPSBbXTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGllY2VzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNlcm5ld2xpbmUgPSBwaWVjZXNbaV0ubWF0Y2goL1xcbi9nKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IHBpZWNlc1tpXS5tYXRjaCgvXFxTKy9nKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmQgPSBpbmplY3QoJyRUZXh0V29yZENsYXNzJykuc3RyaW5nKHN0clswXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxpbmVzW2xdKSBsaW5lc1tsXSA9IGluamVjdCgnJFRleHRMaW5lQ2xhc3MnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvbnQoZm9udClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zaXplKGZvbnRTaXplKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmhlaWdodChsaW5lSGVpZ2h0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbG9yKGNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKGZvbnRTdHlsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC53ZWlnaHQoZm9udFdlaWdodCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lc1tsXS5wdXNoKHdvcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSBsaW5lc1tsXS53aWR0aCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmVXaWR0aCA+PSBsaW1pdHNbMF0gfHwgdXNlcm5ld2xpbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZVdpZHRoID4gdykgdyA9IGxpbmVXaWR0aCArIDQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IGxpbmVzLmxlbmd0aCAqIHN0eWxlLmdldCgnbGluZUhlaWdodCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb250U2l6ZSA+IGxpbmVIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ICs9IGZvbnRTaXplIC0gbGluZUhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZm9udFNpemUgPCBsaW5lSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCAtPSBsaW5lSGVpZ2h0IC0gZm9udFNpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gdztcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy50ZXh0QmxvY2tIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhlaWdodDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGV4dEJsb2NrV2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mb3JFYWNoTGluZSA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmMuYXBwbHkobGluZXNbaV0sIFtpLCBsaW5lc1tpXV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLCBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBUcmVlKERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrVHJlZShvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvYmplY3QuJCRUUkVFU0VBUkNIVkFMVUUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QucGFyZW50KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrVHJlZShvYmplY3QucGFyZW50KCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gdHJlZVZpb2xhdGlvbih0YXJnZXQsIG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC50eXBlKCkgPT09ICdHcm91cCcpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LiQkVFJFRVNFQVJDSFZBTFVFID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVja1RyZWUodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb2JqZWN0LiQkVFJFRVNFQVJDSFZBTFVFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LiQkVFJFRVNFQVJDSFZBTFVFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnBhcmVudCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7fSwgJ1lvdSB0cnkgdG8gYXBwZW5kIGdyb3VwIHBhcmVudCBpbnRvIGl0c2VsZi4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe30sICdZb3UgdHJ5IHRvIGFwcGVuZCBncm91cCBwYXJlbnQgaW50byBpdFxcJ3MgY2hpbGRyZW4uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9iamVjdC4kJFRSRUVTRUFSQ0hWQUxVRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC50eXBlKCkgIT09ICdHcm91cCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldC50eXBlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IG9iamVjdC50eXBlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ1lveSB0cnkgdG8gYXBwZW5kIFt7b2JqZWN0fV0gaW50byBbe3RhcmdldH1dLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBsYXllcnMgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignYXBwZW5kJywgZnVuY3Rpb24gKG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHlwZSgpICE9PSAnR3JvdXAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2F0Y2goe3R5cGU6IHRoaXMudHlwZSgpfSwgJyBDYW4gbm90IGFwcGVuZC4gdHlwZVt7dHlwZX1dIG9mIHBhcmVudCBpcyBub3QgYWxsb3dlZCEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCF0cmVlVmlvbGF0aW9uKHRoaXMsIG9iamVjdCkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsYXllcnMpIGxheWVycyA9IHRoaXMuZXh0ZW5zaW9uKCdMYXllcnMnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdF9vbGRfcGFyZW50ID0gb2JqZWN0LnBhcmVudCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RfdHJlZV9leHQgPSBvYmplY3QuZXh0ZW5zaW9uKCdUcmVlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3Rfb2xkX3BhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkX29iamVjdF9wYXJlbnRfbGF5ZXJzID0gb2JqZWN0X29sZF9wYXJlbnQuZXh0ZW5zaW9uKCdMYXllcnMnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdF9sYXllciA9IG9iamVjdC5sYXllcigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkX29iamVjdF9wYXJlbnRfbGF5ZXJzLnJlbW92ZShvYmplY3QpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzLnBsYWNlKG9iamVjdF9sYXllciwgb2JqZWN0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdF90cmVlX2V4dC5wYXJlbnQodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3RfbGF5ZXIgPSBvYmplY3QubGF5ZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVycy5wbGFjZShvYmplY3RfbGF5ZXIsIG9iamVjdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RfdHJlZV9leHQucGFyZW50KHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJveCA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKTtcclxuICAgICAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2FwcGVuZFRvJywgZnVuY3Rpb24gKG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0LmFwcGVuZCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ3BhcmVudCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gZnVuY3Rpb24gKGdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWdyb3VwLnR5cGUgfHwgZ3JvdXAudHlwZSgpICE9PSAnR3JvdXAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ09iamVjdCBUcmVlIEV4dGVuc2lvbiAvIFVuYWJsZSB0byBzZXQgb2JqZWN0IGFzIHBhcmVudC4gTm90IGEgZ3JvdXAhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JvdXApIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBncm91cDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UoXHJcbiAgICBbJ0BDYW52YXMnLCAnQENvbmZpZycsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQ2FudmFzKENhbnZhcywgQ29uZmlnLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrcyA9IFtdLCB3aWR0aCA9IDAsIGhlaWdodCA9IDAsIGRpbW1zID0gWzAsIDBdLCB4dW5pdHMgPSAncHgnLCB5dW5pdHMgPSAncHgnLFxyXG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gWzAsIDBdLCBzY3JvbGwgPSBbMCwgMF0sIG91dHB1dCA9IENhbnZhcy5lbGVtZW50KCksIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgQ29uZmlnLmRlZmluZShcclxuICAgICAgICAgICAgICAgICdzaXplJyxcclxuICAgICAgICAgICAgICAgIFswLCAwXSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0FycmF5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbTogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh0eXBlb2YgdlswXSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdlswXSA9PT0gQXJyYXkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiB2WzBdID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2WzFdID09PSBcIm51bWJlclwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLndhdGNoKFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdlswXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSB2WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2WzBdID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodlswXS5tYXRjaCgvXltcXGRdKyUkLykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHBhcnNlSW50KHZbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHh1bml0cyA9ICclJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMTAwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4dW5pdHMgPSAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3dpZHRoOiB2WzBdfSwgJ3t3aWR0aH0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIGNhbnZhcy5zaXplWzBdLiBXaWR0aCBzZXQgYXMgMTAwMHB4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDEwMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt3aWR0aDogdlswXX0sICd7d2lkdGh9IGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBjYW52YXMuc2l6ZVswXS4gV2lkdGggc2V0IGFzIDEwMDBweCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZbMV0gPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IHZbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZbMV0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2WzFdLm1hdGNoKC9eW1xcZF0rJSQvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IHBhcnNlSW50KHZbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHl1bml0cyA9ICclJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IDgwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtoZWlnaHQ6IHZbMV19LCAne2hlaWdodH0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIGNhbnZhcy5zaXplWzFdLiBXaWR0aCBzZXQgYXMgODAwcHgnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IDgwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2hlaWdodDogdlsxXX0sICd7aGVpZ2h0fSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgY2FudmFzLnNpemVbMV0uIFdpZHRoIHNldCBhcyA4MDBweCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFdpbmRvd1Jlc2l6ZUNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBwVyA9IDAsIHBIID0gMCwgcmVzaXplVE8gPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY29tcGFyZU9uUmVzaXplKHN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4dW5pdHMgPT09ICclJyB8fCB5dW5pdHMgPT09ICclJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfcFcgPSBwVywgX3BIID0gcEg7XHJcbiAgICAgICAgICAgICAgICAgICAgQ2FudmFzLnNpemUoMCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc2l6ZVRPKSBjbGVhclRpbWVvdXQocmVzaXplVE8pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXNpemVUTyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IENhbnZhcy5lbGVtZW50KCkucGFyZW50Tm9kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHBhcmVudE5vZGUsIG51bGwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcEggPSBwYXJzZUludChzdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgnaGVpZ2h0JykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwVyA9IHBhcnNlSW50KHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCd3aWR0aCcpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfcFcgIT09IHBXKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeHVuaXRzID09PSAnJScgJiYgX3BXICE9PSBwVykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbW1zWzBdID0gTWF0aC5mbG9vcihwVyAqICh3aWR0aCAvIDEwMCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfcEggIT09IHBIKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeXVuaXRzID09PSAnJScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1tc1sxXSA9IE1hdGguZmxvb3IocEggKiAoaGVpZ2h0IC8gMTAwKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FudmFzLnNpemUoZGltbXNbMF0sIGRpbW1zWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXplVE8gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpbW1zWzBdID0gd2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgZGltbXNbMV0gPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgQ2FudmFzLnNpemUoZGltbXNbMF0sIGRpbW1zWzFdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBHZXRDYW52YXNPZmZzZXQoeCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldFByb3AgPSB4ID8gJ29mZnNldExlZnQnIDogJ29mZnNldFRvcCc7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IDAsIGVsZW1lbnQgPSBDYW52YXMuZWxlbWVudCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGVsZW1lbnRbb2Zmc2V0UHJvcF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBlbGVtZW50W29mZnNldFByb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gd2hpbGUgKGVsZW1lbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gV2luZG93UmVzaXplQ2FsbGJhY2soKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW91dHB1dCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY29tcGFyZU9uUmVzaXplKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRbMF0gPSBHZXRDYW52YXNPZmZzZXQoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WzFdID0gR2V0Q2FudmFzT2Zmc2V0KDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tpXShkaW1tc1swXSwgZGltbXNbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBSZXNvbHZlQ2FudmFzRXZlbnRBcnJheSgnY2FudmFzcmVzaXplJywgW25ldyBSQ2FudmFzUmVzaXplRXZlbnQoKV0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBDYW52YXNTd2l0Y2hDYWxsYmFjaygpIHtcclxuICAgICAgICAgICAgICAgIG9mZnNldFswXSA9IEdldENhbnZhc09mZnNldCgwKTtcclxuICAgICAgICAgICAgICAgIG9mZnNldFsxXSA9IEdldENhbnZhc09mZnNldCgxKTtcclxuICAgICAgICAgICAgICAgIFJlc29sdmVDYW52YXNFdmVudEFycmF5KCdjYW52YXNzd2l0Y2gnLCBbbmV3IFJDYW52YXNTd2l0Y2hFdmVudCgpXSk7XHJcbiAgICAgICAgICAgICAgICBXaW5kb3dSZXNpemVDYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZSA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHh1bml0cyA9PT0gJyUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBXICogKHdpZHRoIC8gMTAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4dW5pdHMgPT09ICclJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwSCAqIChoZWlnaHQgLyAxMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjYW52YXNFdmVudENhbGxiYWNrcyA9IHtcclxuICAgICAgICAgICAgICAgIG1vdXNlbW92ZTogW10sXHJcbiAgICAgICAgICAgICAgICBtb3VzZWRvd246IFtdLFxyXG4gICAgICAgICAgICAgICAgbW91c2V1cDogW10sXHJcbiAgICAgICAgICAgICAgICBtb3VzZWxlYXZlOiBbXSxcclxuICAgICAgICAgICAgICAgIG1vdXNlZW50ZXI6IFtdLFxyXG4gICAgICAgICAgICAgICAgY2FudmFzcmVzaXplOiBbXSxcclxuICAgICAgICAgICAgICAgIGNhbnZhc3N3aXRjaDogW11cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEdldENhbnZhc0V2ZW50QXJyYXkoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjYW52YXNFdmVudENhbGxiYWNrc1tldmVudF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFJlc29sdmVDYW52YXNFdmVudEFycmF5KGV2ZW50LCBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgIT09IFwib2JqZWN0XCIgfHwgZGF0YS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudH0sICdDYW52YXMgOiB1bmFibGUgdG8gcmVzb2x2ZSBldmVudCBhcnJheSBbe2V9XS4gRGF0YSBpcyBub3QgYW4gYXJyYXkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IEdldENhbnZhc0V2ZW50QXJyYXkoZXZlbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudH0sICdVbmFibGUgdG8gcmVzb2x2ZSBldmVudCBbe2V9XSBubyBzdWNoIGV2ZW50IScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheVtpXS5hcHBseShzZWxmLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5vbiA9IGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gR2V0Q2FudmFzRXZlbnRBcnJheShldmVudCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnQ2FudmFzIDogVW5hYmxlIHRvIHNldCBldmVudCBoYW5kbGVyIGZvciBldmVudCBbe2V9XScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZjogZXZlbnR9LCAnQ2FudmFzIDogVW5hYmxlIHRvIHNldCBldmVudCBoYW5kbGVyIFt7Zn1dJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhcnJheS5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gR2V0TW91c2VSZWxhdGl2ZVBvc2l0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbZS5wYWdlWCAtIG9mZnNldFswXSAtIHNjcm9sbFswXSwgZS5wYWdlWSAtIG9mZnNldFsxXSAtIHNjcm9sbFsxXV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFJDYW52YXNNb3VzZShlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2UgPSBbZS5wYWdlWCwgZS5wYWdlWV07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZWVuID0gW2UucGFnZVggLSBzY3JvbGxbMF0sIGUucGFnZVkgLSBzY3JvbGxbMV1dO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IEdldE1vdXNlUmVsYXRpdmVQb3NpdGlvbihlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gUkNhbnZhc01vdXNlRXZlbnQoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbCA9IGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBlLnR5cGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlID0gbmV3IFJDYW52YXNNb3VzZShlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzID0gc2VsZjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gUkNhbnZhc1Jlc2l6ZUV2ZW50KCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gJ2NhbnZhc3Jlc2l6ZSc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcyA9IHNlbGY7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9mZnNldCA9IFtvZmZzZXRbMF0sIG9mZnNldFsxXV07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpemUgPSBbd2lkdGgsIGhlaWdodF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbmFsID0gW3dpZHRoLCBoZWlnaHRdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51bml0cyA9IFt4dW5pdHMsIHl1bml0c107XHJcbiAgICAgICAgICAgICAgICBpZiAoeHVuaXRzID09PSAnJScpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNpemVbMF0gPSBwVyAqICh3aWR0aCAvIDEwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoeXVuaXRzID09PSAnJScpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNpemVbMV0gPSBwSCAqIChoZWlnaHQgLyAxMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBSQ2FudmFzU3dpdGNoRXZlbnQoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSAnY2FudmFzc3dpdGNoJztcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzID0gc2VsZjtcclxuICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0ID0gW29mZnNldFswXSwgb2Zmc2V0WzFdXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSA9IFt3aWR0aCwgaGVpZ2h0XTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luYWwgPSBbd2lkdGgsIGhlaWdodF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVuaXRzID0gW3h1bml0cywgeXVuaXRzXTtcclxuICAgICAgICAgICAgICAgIGlmICh4dW5pdHMgPT09ICclJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2l6ZVswXSA9IHBXICogKHdpZHRoIC8gMTAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh5dW5pdHMgPT09ICclJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2l6ZVsxXSA9IHBIICogKGhlaWdodCAvIDEwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBsaXN0ZW5lcnMgPSB7XHJcbiAgICAgICAgICAgICAgICBtb3VzZW1vdmU6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkoJ21vdXNlbW92ZScsIFtuZXcgUkNhbnZhc01vdXNlRXZlbnQoZSldKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtb3VzZWRvd246IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkoJ21vdXNlZG93bicsIFtuZXcgUkNhbnZhc01vdXNlRXZlbnQoZSldKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtb3VzZXVwOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIFJlc29sdmVDYW52YXNFdmVudEFycmF5KCdtb3VzZXVwJywgW25ldyBSQ2FudmFzTW91c2VFdmVudChlKV0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1vdXNlbGVhdmU6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkoJ21vdXNlbGVhdmUnLCBbbmV3IFJDYW52YXNNb3VzZUV2ZW50KGUpXSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbW91c2VlbnRlcjogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBSZXNvbHZlQ2FudmFzRXZlbnRBcnJheSgnbW91c2VlbnRlcicsIFtuZXcgUkNhbnZhc01vdXNlRXZlbnQoZSldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIENhbnZhcy5zd2l0Y2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGV2ZW50IGluIGxpc3RlbmVycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXJzLmhhc093blByb3BlcnR5KGV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tldmVudF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG91dHB1dCA9IHRoaXMuZWxlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZXZlbnQgaW4gbGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShldmVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tldmVudF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIENhbnZhc1N3aXRjaENhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxbMV0gPSB3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxbMF0gPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgV2luZG93UmVzaXplQ2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlKFxyXG4gICAgWydAQ29uZmlnJyxcclxuICAgICAgICBmdW5jdGlvbiBEZWJ1Zyhjb25maWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSAnJFIgW0RlYnVnXSA6ICcsXHJcbiAgICAgICAgICAgICAgICByZWdleHAgPSAve1thLXpBLVpdK30vZyxcclxuICAgICAgICAgICAgICAgIHJlZ2V4cG5hbWUgPSAvW2EtekEtWl0rL2csXHJcbiAgICAgICAgICAgICAgICB3YXJuaW5ncyA9IGNvbmZpZy5kZWZpbmUoJ3dhcm5pbmdzJywgZmFsc2UsIHtpc0Jvb2w6IHRydWV9LCBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm5pbmdzID0gdjtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBlcnJvckNiID0gW10sIG1lc3NhZ2VDYiA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gUmVzb2x2ZUV2ZW50KHR5cGUsIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdlcnJvcicpIGFycmF5ID0gZXJyb3JDYjtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnbWVzc2FnZScpIGFycmF5ID0gbWVzc2FnZUNiO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheVtpXShkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5vbiA9IGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ2Vycm9yJykgZXJyb3JDYi5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSAnbWVzc2FnZScpIG1lc3NhZ2VDYi5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEdldE1lc3NhZ2UoZGF0YSwgbWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IG1lc3NhZ2UubWF0Y2gocmVnZXhwKTtcclxuICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRjaGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaG5hbWUgPSBtYXRjaGVzW2ldLm1hdGNoKHJlZ2V4cG5hbWUpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2huYW1lKSBwcm9wc1ttYXRjaG5hbWVdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZTogbWF0Y2hlc1tpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFbbWF0Y2huYW1lXS50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHByb3BzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJvcHMuaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS5yZXBsYWNlKHByb3BzW3Byb3BdLnJlcGxhY2UsIHByb3BzW3Byb3BdLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBzdHJpbmcgKyBtZXNzYWdlO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVycm9yID0gZnVuY3Rpb24gKGRhdGEsIG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gR2V0TWVzc2FnZShkYXRhLCBtZXNzYWdlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBSZXNvbHZlRXZlbnQoJ2Vycm9yJywgbWVzc2FnZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXJuID0gZnVuY3Rpb24gKGRhdGEsIG1lc3NhZ2UpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXdhcm5pbmdzKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IEdldE1lc3NhZ2UoZGF0YSwgbWVzc2FnZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgUmVzb2x2ZUV2ZW50KCdtZXNzYWdlJywgbWVzc2FnZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDIvMi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZShcclxuICAgIFsnQENhbnZhcycsICdDYW52YXMnLCAnQFRpY2tlcicsICckRmluZGVyJyxcclxuICAgICAgICBmdW5jdGlvbiBEaXNwYXRjaGVyKENhbnZhc1Jvb3QsIENhbnZhcywgVGlja2VyLCBGaW5kZXIpIHtcclxuICAgICAgICAgICAgdmFyIHRhcmdldCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzOiBudWxsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbW91c2Vkb3duID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGN1cnNvciA9IHtcclxuICAgICAgICAgICAgICAgICAgICBvbGQ6IFswLCAwXSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBbMCwgMF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkcmFnID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudDogWzAsIDBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhOiBbMCwgMF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjaGVja2VkID0gdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZm9jdXNlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZHJhZ2dlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgQ2FudmFzLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFjdGl2ZSB8fCAhZm9jdXNlZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgbW91c2Vkb3duLnByZXZpb3VzID0gbW91c2Vkb3duLmN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICBtb3VzZWRvd24uY3VycmVudCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBDYW52YXMub24oJ21vdXNldXAnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFjdGl2ZSB8fCAhZm9jdXNlZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgbW91c2Vkb3duLnByZXZpb3VzID0gbW91c2Vkb3duLmN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICBtb3VzZWRvd24uY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgQ2FudmFzLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhY3RpdmUgfHwgIWZvY3VzZWQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGN1cnNvci5jdXJyZW50WzBdID0gZS5tb3VzZS5wb3NpdGlvblswXTtcclxuICAgICAgICAgICAgICAgIGN1cnNvci5jdXJyZW50WzFdID0gZS5tb3VzZS5wb3NpdGlvblsxXTtcclxuICAgICAgICAgICAgICAgIGNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBDYW52YXMub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBmb2N1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgQ2FudmFzLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZm9jdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gRGVmYXVsdFJFdmVudCh0eXBlLCB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfdHlwZSA9IHR5cGUsIHByb3BhZ2F0ZSA9IHRydWUsIF90YXJnZXQgPSB0YXJnZXQsIF9vcmlnaW5hbFRhcmdldCA9IHRhcmdldDtcclxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3R5cGU7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0ZSA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGFnYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wYWdhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3BhZ2F0ZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RhcmdldDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BhZ2F0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RhcmdldC4kJFBST1BBR0FUSU9OU0VBUkNIID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gX29yaWdpbmFsVGFyZ2V0LiQkUFJPUEFHQVRJT05TRUFSQ0g7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF90YXJnZXQuJCRQUk9QQUdBVElPTlNFQVJDSDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0ID8gcmVzdWx0IDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbFRhcmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kJE1PVVNFUFJPUEFHQVRJT05TRVRURVIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gZ2V0RXZlbnRCeVR5cGUoX3R5cGUsIF90YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5vcmlnaW5hbFRhcmdldC5jYWxsKHskJFJFU0VUVEFSR0VUOiB0aGlzLiQkTU9VU0VQUk9QQUdBVElPTlNFVFRFUn0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiQkUkVTRVRUQVJHRVQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RhcmdldCA9IHRoaXMuJCRSRVNFVFRBUkdFVDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9vcmlnaW5hbFRhcmdldDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gTW91c2VFdmVudCh0eXBlLCB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIERlZmF1bHRSRXZlbnQuYXBwbHkodGhpcywgW3R5cGUsIHRhcmdldF0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBbY3Vyc29yLmN1cnJlbnRbMF0sIGN1cnNvci5jdXJyZW50WzFdXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gRHJhZ0V2ZW50KHR5cGUsIHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgRGVmYXVsdFJFdmVudC5hcHBseSh0aGlzLCBbdHlwZSwgdGFyZ2V0XSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFtkcmFnLnN0YXJ0WzBdLCBkcmFnLnN0YXJ0WzFdXSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBbZHJhZy5jdXJyZW50WzBdLCBkcmFnLmN1cnJlbnRbMV1dLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhOiBbZHJhZy5kZWx0YVswXSwgZHJhZy5kZWx0YVsxXV1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEV2ZW50QnlUeXBlKHR5cGUsIHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdtb3VzZW1vdmUnIHx8IHR5cGUgPT09ICdtb3VzZWxlYXZlJ1xyXG4gICAgICAgICAgICAgICAgICAgIHx8IHR5cGUgPT09ICdtb3VzZWVudGVyJyB8fCB0eXBlID09PSAnbW91c2Vkb3duJ1xyXG4gICAgICAgICAgICAgICAgICAgIHx8IHR5cGUgPT09ICdtb3VzZXVwJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTW91c2VFdmVudCh0eXBlLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdkcmFnc3RhcnQnIHx8IHR5cGUgPT09ICdkcmFnZW5kJyB8fCB0eXBlID09PSAnZHJhZ21vdmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEcmFnRXZlbnQodHlwZSwgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gRGlzcGF0Y2goZXZlbnQsIHRhcmdldCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRNb3VzZSA9IHRhcmdldC5leHRlbnNpb24oJ01vdXNlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXRNb3VzZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRNb3VzZS5oYXNFdmVudChldmVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRNb3VzZS5yZXNvbHZlKHRhcmdldCwgZXZlbnQsIGdldEV2ZW50QnlUeXBlKGV2ZW50KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlc29sdmVFdmVudEJ5VHlwZSh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHR5cGUgPT09ICdtb3VzZWVudGVyJyB8fCB0eXBlID09PSAnZHJhc3RhcnQnIHx8IHR5cGUgPT09ICdkcmFnZW5kJyB8fCB0eXBlID09PSAnZHJhZ21vdmUnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PT0gJ21vdXNlbW92ZScgfHwgdHlwZSA9PT0gJ21vdXNldXAnIHx8IHR5cGUgPT09ICdtb3VzZWRvd24nKSAmJiB0YXJnZXQuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIERpc3BhdGNoKHR5cGUsIHRhcmdldC5jdXJyZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgodHlwZSA9PT0gJ21vdXNlbGVhdmUnIHx8IHR5cGUgPT09ICdkcmFnZW5kJykgJiYgdGFyZ2V0LnByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGlzcGF0Y2godHlwZSwgdGFyZ2V0LnByZXZpb3VzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZURyYWdTdGFydCgpIHtcclxuICAgICAgICAgICAgICAgIGRyYWdnZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZHJhZy5zdGFydFswXSA9IGN1cnNvci5jdXJyZW50WzBdO1xyXG4gICAgICAgICAgICAgICAgZHJhZy5zdGFydFsxXSA9IGN1cnNvci5jdXJyZW50WzFdO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdkcmFnc3RhcnQnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZURyYWdFbmQoKSB7XHJcbiAgICAgICAgICAgICAgICBkcmFnLmN1cnJlbnRbMF0gPSBjdXJzb3IuY3VycmVudFswXTtcclxuICAgICAgICAgICAgICAgIGRyYWcuY3VycmVudFsxXSA9IGN1cnNvci5jdXJyZW50WzFdO1xyXG4gICAgICAgICAgICAgICAgZHJhZy5kZWx0YVswXSA9IGRyYWcuc3RhcnRbMF0gLSBkcmFnLmN1cnJlbnRbMF07XHJcbiAgICAgICAgICAgICAgICBkcmFnLmRlbHRhWzFdID0gZHJhZy5zdGFydFsxXSAtIGRyYWcuY3VycmVudFsxXTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnZHJhZ2VuZCcpO1xyXG4gICAgICAgICAgICAgICAgZHJhZ2dlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBEaXNwYXRjaEV2ZW50cygpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtb3VzZWRvd24uY3VycmVudCAhPT0gbW91c2Vkb3duLm9sZCAmJiBtb3VzZWRvd24uY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnbW91c2Vkb3duJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobW91c2Vkb3duLmN1cnJlbnQgJiYgbW91c2Vkb3duLmN1cnJlbnQgIT09IG1vdXNlZG93bi5vbGQgJiYgIWRyYWdnZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlRHJhZ1N0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY3Vyc29yLm9sZFswXSAhPT0gY3Vyc29yLmN1cnJlbnRbMF0gfHwgY3Vyc29yLm9sZFsxXSAhPT0gY3Vyc29yLmN1cnJlbnRbMV0pIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5jdXJyZW50ICYmICF0YXJnZXQucHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdtb3VzZWVudGVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0LmN1cnJlbnQgJiYgdGFyZ2V0LnByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnbW91c2VsZWF2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlRHJhZ0VuZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmN1cnJlbnQgJiYgdGFyZ2V0LnByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5jdXJyZW50LiQkTU9VU0VTRUFSQ0ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldC5wcmV2aW91cy4kJE1PVVNFU0VBUkNIKSByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGFyZ2V0LmN1cnJlbnQuJCRNT1VTRVNFQVJDSDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVEcmFnRW5kKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRCeVR5cGUoJ21vdXNlbGVhdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnbW91c2VlbnRlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZURyYWdTdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3VzZWRvd24uY3VycmVudCAmJiBtb3VzZWRvd24uY3VycmVudCA9PT0gbW91c2Vkb3duLm9sZCAmJiBkcmFnZ2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWcuY3VycmVudFswXSA9IGN1cnNvci5jdXJyZW50WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnLmN1cnJlbnRbMV0gPSBjdXJzb3IuY3VycmVudFsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZy5kZWx0YVswXSA9IGRyYWcuc3RhcnRbMF0gLSBkcmFnLmN1cnJlbnRbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWcuZGVsdGFbMV0gPSBkcmFnLnN0YXJ0WzFdIC0gZHJhZy5jdXJyZW50WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRCeVR5cGUoJ2RyYWdtb3ZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtb3VzZWRvd24uY3VycmVudCAmJiBtb3VzZWRvd24uY3VycmVudCA9PT0gbW91c2Vkb3duLm9sZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRCeVR5cGUoJ21vdXNlbW92ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghbW91c2Vkb3duLmN1cnJlbnQgJiYgbW91c2Vkb3duLmN1cnJlbnQgIT09IG1vdXNlZG93bi5vbGQgJiYgZHJhZ2dlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVEcmFnRW5kKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIW1vdXNlZG93bi5jdXJyZW50ICYmIG1vdXNlZG93bi5jdXJyZW50ICE9PSBtb3VzZWRvd24ub2xkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdtb3VzZXVwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dlZCA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnByZXZpb3VzID0gdGFyZ2V0LmN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICBtb3VzZWRvd24ub2xkID0gbW91c2Vkb3duLmN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICBjdXJzb3Iub2xkWzBdID0gY3Vyc29yLmN1cnJlbnRbMF07XHJcbiAgICAgICAgICAgICAgICBjdXJzb3Iub2xkWzFdID0gY3Vyc29yLmN1cnJlbnRbMV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFVwZGF0ZVRhcmdldHMoKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQucHJldmlvdXMgPSB0YXJnZXQuY3VycmVudDtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5jdXJyZW50ID0gRmluZGVyLmNoZWNrKGN1cnNvci5jdXJyZW50KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHRpY2sgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGV2ZW50RGlzcGF0Y2hlclRpY2soKSB7XHJcbiAgICAgICAgICAgICAgICB0aWNrID0gIXRpY2s7XHJcbiAgICAgICAgICAgICAgICBpZiAodGljaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVja2VkKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgVXBkYXRlVGFyZ2V0cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIERpc3BhdGNoRXZlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIENhbnZhc1Jvb3QucXVldWUoLTEsIGV2ZW50RGlzcGF0Y2hlclRpY2spO1xyXG5cclxuICAgICAgICAgICAgVGlja2VyLm9uKCdzdGFydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBUaWNrZXIub24oJ3N0b3AnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFRpY2tlci5vbignZXJyb3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA1LzExLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlKFxyXG4gICAgWydAYXBwJywgJ0BDYW52YXMnLCAnQGluamVjdCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gS2V5Ym9hcmQoYXBwLCBjYW52YXMsIGluamVjdCwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBjYWxsYmFja3MgPSB7fSxcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZW5hYmxlZCA9IHRydWUsXHJcbiAgICAgICAgICAgICAgICBmb2N1c2VkID0gdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHF1ZXVlID0gW107XHJcblxyXG4gICAgICAgICAgICB0aGlzLmtleWRvd24gPSBmdW5jdGlvbiAoY29kZSwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub24oY29kZSwgJ2tleWRvd24nLCBmdW5jKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMua2V5dXAgPSBmdW5jdGlvbiAoY29kZSwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub24oY29kZSwgJ2tleXVwJywgZnVuYyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBlbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub24gPSBmdW5jdGlvbiAoY29kZSwgZXZlbnQsIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29kZSA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgZXZlbnQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT09ICdrZXl1cCcgfHwgZXZlbnQgPT09ICdrZXlkb3duJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFja3NbY29kZV0pIGNhbGxiYWNrc1tjb2RlXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFja3NbZXZlbnRdKSBjYWxsYmFja3NbY29kZV1bZXZlbnRdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbY29kZV1bZXZlbnRdLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdFdmVudCBjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudH0sICdObyBzdWNoIHR5cGUgb2YgZXZlbnQgYXMgW3tlfV0nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtjOiBjb2RlfSwgJ1dyb25nIGtleSBjb2RlIFt7Y31dJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIE9uQXBwVGljaygpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZVtpXSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcXVldWUgPSBbXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0UXVldWVGdW5jKGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleWNvZGUgPSBlLmtleUNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrc1trZXljb2RlXSAmJiBjYWxsYmFja3Nba2V5Y29kZV1bZS50eXBlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrc1trZXljb2RlXVtlLnR5cGVdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBpbmplY3QoJyRLZXlib2FyZEV2ZW50JykuYnVpbGQoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3Nba2V5Y29kZV1bZS50eXBlXVtpXS5hcHBseShldmVudCwgW2tleWNvZGUsIGUudHlwZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgY2FudmFzQ2xpY2tlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgY2FudmFzLmVsZW1lbnQoKS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjYW52YXNDbGlja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbnZhc0NsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb2N1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvY3VzZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhbnZhc0NsaWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFjdGl2ZSB8fCAhZW5hYmxlZCB8fCAhZm9jdXNlZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgcXVldWUucHVzaChnZXRRdWV1ZUZ1bmMoZSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghYWN0aXZlIHx8ICFlbmFibGVkIHx8ICFmb2N1c2VkKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGdldFF1ZXVlRnVuYyhlKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgYXBwLiRvbignc3RhcnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYXBwLiRvbignc3RvcCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYXBwLiQoJ3RpY2snLCBPbkFwcFRpY2spO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNS8xMS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnS2V5Ym9hcmQnLFxyXG4gICAgW1xyXG4gICAgICAgIGZ1bmN0aW9uIEtleWJvYXJkRXZlbnQoKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIga2V5Y29kZSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBjdHJsUHJlc3NlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgYWx0UHJlc3NlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2hpZnRQcmVzc2VkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBldmVudCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgdHlwZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGtleWNvZGUgPSBlLmtleUNvZGU7XHJcbiAgICAgICAgICAgICAgICBjdHJsUHJlc3NlZCA9IGUuY3RybEtleTtcclxuICAgICAgICAgICAgICAgIGFsdFByZXNzZWQgPSBlLmFsdEtleTtcclxuICAgICAgICAgICAgICAgIHNoaWZ0UHJlc3NlZCA9IGUuc2hpZnRLZXk7XHJcbiAgICAgICAgICAgICAgICBldmVudCA9IGU7XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gZS50eXBlO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuYnVpbGQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RyaW5nID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZSA9PT0gc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSAgcmV0dXJuIHR5cGU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5Y29kZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2hpZnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hpZnRQcmVzc2VkO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmFsdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbHRQcmVzc2VkO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmN0cmwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3RybFByZXNzZWQ7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMub3JpZ2luYWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQ7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZShcclxuICAgIFsnQGluamVjdCcsICcrRWFzaW5nJywgJ0BDYW52YXMnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIE1vcnBoaW5lKGluamVjdCwgRWFzaW5ncywgQ2FudmFzLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIG1vcnBoaW5lcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgZnVuYywgZWFzaW5nLCBkdXJhdGlvbiwgcnB0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGFydCAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgZW5kICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe30sICdNb3JwaGluZSAvIFVuYWJsZSB0byBjcmVhdGUuIFN0YXJ0IHZhbHVlIGlzIHdyb25nIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt9LCAnTW9ycGhpbmUgLyBVbmFibGUgdG8gY3JlYXRlLiBFbmQgdmFsdWUgaXMgd3JvbmchJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZWFzaW5nICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe30sICdNb3JwaGluZSAvIFVuYWJsZSB0byBjcmVhdGUuIEVhc2luZyBpcyBub3QgYSBzdHJpbmchJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgIGR1cmF0aW9uICE9PSBcIm51bWJlclwiIHx8IGR1cmF0aW9uIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7fSwgJ01vcnBoaW5lIC8gVW5hYmxlIHRvIGNyZWF0ZS4gRHVyYXRpb24gaXMgbGVzcyB0aGFuIDAgb3Igbm90IGEgbnVtYmVyJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGVmdW5jID0gRWFzaW5ncy5nZXQoZWFzaW5nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWVmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe2Vhc2luZzogZWFzaW5nfSwgJyBNb3JwaGluZSAvIFVuYWJsZSB0byBjcmVhdGUuIE5vIHN1Y2ggZWFzaW5nIHtlYXNpbmd9Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBtb3JwaGluZSA9IGluamVjdCgnJE1vcnBoaW5lJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHRpY2tGID0gbW9ycGhpbmUuY29uZmlnKHN0YXJ0LCBlbmQsIGZ1bmMsIGR1cmF0aW9uLCBlZnVuYywgcnB0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRpY2tGIHx8IHR5cGVvZiB0aWNrRiAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe30sICdNb3JwaGluZSAvIFVuYWJsZSB0byBjb25maWcgbW9ycGhpbmUuIER1ZSB0byBzb21lIGVycm9yLicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aWNrRi4kbSA9IG1vcnBoaW5lO1xyXG5cclxuICAgICAgICAgICAgICAgIG1vcnBoaW5lcy5wdXNoKHRpY2tGKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9ycGhpbmU7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgQ2FudmFzLnF1ZXVlKC0yLCBmdW5jdGlvbiBwcm9jZXNzTW9ycGhpbmVzKGNvbnRleHQsIGRhdGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRlID0gZGF0ZS5nZXRUaW1lKCksXHJcbiAgICAgICAgICAgICAgICAgICAgX21vcnBoaW5lcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbW9ycGhpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtb3JwaGluZXNbaV0uJG0uZG9uZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoaW5lc1tpXShkYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX21vcnBoaW5lcy5wdXNoKG1vcnBoaW5lc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbW9ycGhpbmVzID0gX21vcnBoaW5lcztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAZXh0ZW5kJywgJ0BpbmplY3QnLCAnPFBsdWdpbnMnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEdyYXBoaWNzKGV4dGVuZCwgaW5qZWN0LCBwbHVnaW5zKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdHlwZSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlZF9wbHVnaW5zID0ge307XHJcblxyXG4gICAgICAgICAgICB0aGlzLmV4dGVuc2lvbiA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZWRfcGx1Z2luc1tuYW1lXTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZWZpbmVUeXBlID0gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdCAhPT0gXCJzdHJpbmdcIikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmRlZmluZVR5cGU7XHJcblxyXG4gICAgICAgICAgICAgICAgdHlwZSA9IHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGxpc3QgPSBwbHVnaW5zLmxpc3QoKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkX3BsdWdpbnNbbGlzdFtpXV0gPSBpbmplY3QoJyRQbHVnaW4nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlZF9wbHVnaW5zW2xpc3RbaV1dLmRlZmluZU9iamVjdCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICBleHRlbmQocmVzb2x2ZWRfcGx1Z2luc1tsaXN0W2ldXSwgJzwnICsgbGlzdFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc29sdmVkX3BsdWdpbnNbbGlzdFtpXV0ubWF0Y2hUeXBlKHR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVkX3BsdWdpbnNbbGlzdFtpXV0ud3JhcCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNvbHZlZF9wbHVnaW5zW2xpc3RbaV1dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJCcgKyB0ICsgJ09iamVjdE1vZGVsJyk7XHJcbiAgICAgICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0RHJhd2VyJyk7XHJcbiAgICAgICAgICAgICAgICBleHRlbmQodGhpcywgJyQnICsgdCArICdPYmplY3REcmF3ZXInKTtcclxuICAgICAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRPYmplY3RUeXBlJyk7XHJcbiAgICAgICAgICAgICAgICBleHRlbmQodGhpcywgJyQnICsgdCArICdPYmplY3RDbGFzcycpO1xyXG5cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlKFxyXG4gICAgWydAaW5qZWN0JywgJ1RyZWUnLFxyXG4gICAgICAgIGZ1bmN0aW9uIE9iamVjdHMoaW5qZWN0LCBUcmVlKSB7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBJbmplY3RCeVR5cGUodHlwZSwgY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaW5qZWN0KCckR3JhcGhpY3MnKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXN1bHQuZGVmaW5lVHlwZSh0eXBlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnICYmIGNvbmZpZy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3R5bGUuYXBwbHkocmVzdWx0LCBjb25maWcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5ncm91cCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBJbmplY3RCeVR5cGUoJ0dyb3VwJywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGluZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBJbmplY3RCeVR5cGUoJ0xpbmUnLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnUmVjdGFuZ2xlJywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2lyY2xlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnQ2lyY2xlJywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSW5qZWN0QnlUeXBlKCdJbWFnZScsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBJbmplY3RCeVR5cGUoJ1Nwcml0ZScsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRleHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSW5qZWN0QnlUeXBlKCdUZXh0JywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYXJlYSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBJbmplY3RCeVR5cGUoJ0FyZWEnLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgVHJlZS5yb290KHRoaXMuZ3JvdXAoKSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZShcclxuICAgIFsnQENhbnZhcycsICdAaW5qZWN0JywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBSZXNvdXJjZShDYW52YXMsIGluamVjdCwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBhbGwgPSBbXSxcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IHtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBhdWRpb3M6IFtdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbG9hZENvdW50ZXIgPSAwLFxyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEdldFJlc291cmNlQnlVUkwodHlwZSwgc2VhcmNoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2ZvbnQnKSBzZWFyY2ggPSBzZWFyY2hbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXkgPSBjb250YWluZXJbdHlwZSArICdzJ107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFhcnJheSkgcmV0dXJuIHJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5W2ldLnVybCgpID09PSBzZWFyY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gYXJyYXlbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBJbmplY3RCeVR5cGUodHlwZSwgc3JjKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXhpc3RlZCA9IEdldFJlc291cmNlQnlVUkwodHlwZSwgc3JjKTtcclxuICAgICAgICAgICAgICAgIGlmIChleGlzdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4aXN0ZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX3R5cGUgPSB0eXBlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaW5qZWN0KCckJyArIHR5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0eXBlLnNsaWNlKDEpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkQ291bnRlci0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvbHZlRXZlbnQoJ2xvYWQnLCBbdGhpcywgbG9hZENvdW50ZXIsIGFsbC5sZW5ndGhdKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZENvdW50ZXItLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZUV2ZW50KCdlcnJvcicsIFt0aGlzLCBsb2FkQ291bnRlciwgYWxsLmxlbmd0aF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQudXJsKHNyYyk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJbX3R5cGUgKyAncyddLnB1c2gocmVzdWx0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYWxsLnB1c2gocmVzdWx0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbG9hZENvdW50ZXIrKztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZUV2ZW50KCdhZGQnLCBbcmVzdWx0LCBsb2FkQ291bnRlciwgYWxsLmxlbmd0aF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmltYWdlID0gZnVuY3Rpb24gKHNyYykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnaW1hZ2UnLCBzcmMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSW5qZWN0QnlUeXBlKCdzcHJpdGUnLCBzcmMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hdWRpbyA9IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBJbmplY3RCeVR5cGUoJ2F1ZGlvJywgc3JjKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZWxvYWRSZXF1ZXN0KGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmltYWdlcyAmJiBkYXRhLmltYWdlcy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuaW1hZ2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YS5pbWFnZXNbaV0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvXihbLi9fXFxkYS16QS1aXSspKFxcWyhcXGQrKVxcXSkkLy50ZXN0KGRhdGEuaW1hZ2VzW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3ByaXRlKGRhdGEuaW1hZ2VzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaW1hZ2UoZGF0YS5pbWFnZXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmF1ZGlvICYmIGRhdGEuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmF1ZGlvLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YS5hdWRpb1tpXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hdWRpbyhkYXRhLmF1ZGlvW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmZvbnRzICYmIGRhdGEuZm9udHMuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmZvbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmZvbnRzW2ldICYmIHR5cGVvZiBkYXRhLmZvbnRzW2ldID09PSBcIm9iamVjdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiB0eXBlb2YgZGF0YS5mb250c1tpXS5uYW1lID09PSBcInN0cmluZ1wiICYmIGRhdGEuZm9udHNbaV0ubmFtZS5sZW5ndGgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2VpZ2h0ID0gZGF0YS5mb250c1tpXS53ZWlnaHQgJiYgdHlwZW9mIGRhdGEuZm9udHNbaV0ud2VpZ2h0ID09PSBcIm51bWJlclwiID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5mb250c1tpXS53ZWlnaHQgOiA0MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSBkYXRhLmZvbnRzW2ldLnN0eWxlID09PSAnaXRhbGljJyA/IGRhdGEuZm9udHNbaV0uc3R5bGUgOiAnbm9ybWFsJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmZvbnQoZGF0YS5mb250c1tpXS5uYW1lLCB3ZWlnaHQsIHN0eWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5wcmVsb2FkID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgcHJlbG9hZFJlcXVlc3QoY29uZmlnKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJlbG9hZEJ5VXJsID0gZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QpIHJlcXVlc3QuYWJvcnQoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdXJsID09PSBcInN0cmluZ1wiICYmIHVybC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3VybDogdXJsfSwgJ1VuYWJsZSB0byBwYXJzZSBKU09OIGZyb20gW3t1cmx9XS4gVW5rbm93biByZXNwb25zZSBmb3JtYXQuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlbG9hZFJlcXVlc3QocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7dXJsOiB1cmx9LCAnVW5hYmxlIHRvIGdldCByZXNvdXJjZXMgZnJvbSBbe3VybH1dIHRvIHByZWxvYWQuIFNlcnZlciBlcnJvci4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlbG9hZFJlcXVlc3Qoe30pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3VybDogdXJsfSwgJ1VuYWJsZSB0byBnZXQgcmVzb3VyY2VzIGZyb20gW3t1cmx9XSB0byBwcmVsb2FkLiBSZXF1ZXN0IGFib3J0ZWQuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZWxvYWRSZXF1ZXN0KHt9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LnNlbmQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9udCA9IGZ1bmN0aW9uIChzcmMsIHdlaWdodCwgc3R5bGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBJbmplY3RCeVR5cGUoJ2ZvbnQnLCBbc3JjLCB3ZWlnaHQsIHN0eWxlXSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgY0JDb250YWluZXIgPSB7XHJcbiAgICAgICAgICAgICAgICBsb2FkOiBbXSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBbXSxcclxuICAgICAgICAgICAgICAgIGFkZDogW11cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub24gPSBmdW5jdGlvbiAoZXZlbnQsIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBjQkNvbnRhaW5lcltldmVudF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheS5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZXZlbnQ6IGV2ZW50fSwgJ1VuYWJsZSB0byBzZXQgZXZlbnQgW3tldmVudH1dIGNhbGxiYWNrLiBmdW5jIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtldmVudDogZXZlbnR9LCAnVW5hYmxlIHRvIHNldCBldmVudCBbe2V2ZW50fV0uIE5vIHN1Y2ggZXZlbnQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmFibGUgdG8gc2V0IGV2ZW50IGNhbGxiYWNrLiBFdmVudCBuYW1lIGlzIG5vdCBhIHN0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vZmYgPSBmdW5jdGlvbiAoZXZlbnQsIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBjQkNvbnRhaW5lcltldmVudF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jLiQkU0VBUkNIID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFycmF5W2ldLiQkU0VBUkNIKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hcnJheS5wdXNoKGFycmF5W2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmdW5jLiQkU0VBUkNIO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY0JDb250YWluZXJbZXZlbnRdID0gbmFycmF5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtldmVudDogZXZlbnR9LCAnVW5hYmxlIHRvIHVuc2V0IGNhbGxiYWNrIGZvciBldmVudCBbe2V2ZW50fV0uIE5vIHN1Y2ggZXZlbnQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmFibGUgdG8gdW5zZXQgZXZlbnQuIEV2ZW50IGlzIG5vdCBhIHN0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5saXN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdLmNvbmNhdChjb250YWluZXIuaW1hZ2VzKS5jb25jYXQoY29udGFpbmVyLmF1ZGlvcykuY29uY2F0KGNvbnRhaW5lci5mb250cykuY29uY2F0KGNvbnRhaW5lci5zcHJpdGVzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFJlc29sdmVFdmVudCh0eXBlLCBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBjQkNvbnRhaW5lclt0eXBlXTtcclxuICAgICAgICAgICAgICAgIGlmICghYXJyYXkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbaV0uYXBwbHkoc2VsZiwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIENhbnZhcy5xdWV1ZSgtMiwgZnVuY3Rpb24gdXBkYXRlUmVzb3VyY2VzIChjYW52YXMsIGRhdGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aW1lID0gZGF0ZS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRhaW5lci5zcHJpdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5zcHJpdGVzW2ldLnJlYWR5KCkgJiYgY29udGFpbmVyLnNwcml0ZXNbaV0ubG9hZGVkKCkgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnNwcml0ZXNbaV0udGljayh0aW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZShcclxuICAgIFsnQEF1ZGlvJywgJ0BpbmplY3QnLCAnQENvbmZpZycsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gU291bmQoY29udGV4dCwgaW5qZWN0LCBjb25maWcsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICBjb25maWcuZGVmaW5lKCdmaWx0ZXJzJywgWydEZWxheScsICdHYWluJ10sIHtpc0FycmF5OiB0cnVlfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZGVzdGluYXRpb24gPSBpbmplY3QoJyRBdWRpbycpLmJ1aWxkKCckJERFU1RJTkFUSU9OJywgJ2Rlc3RpbmF0aW9uJyksXHJcbiAgICAgICAgICAgICAgICBzb3VuZHMgPSB7fSxcclxuICAgICAgICAgICAgICAgIHNvdW5kY291bnQgPSAwLFxyXG4gICAgICAgICAgICAgICAgY2hhbm5lbGNvdW50ID0gMCxcclxuICAgICAgICAgICAgICAgIGNoYW5uZWxzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICQkREVTVElOQVRJT046IGRlc3RpbmF0aW9uXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2FtcGxlID0gZnVuY3Rpb24gKHVybCwgY2hhbm5lbCwgbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT09IFwic3RyaW5nXCIgJiYgdXJsLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc291bmRzW3VybF0pIHJldHVybiBzb3VuZHNbdXJsXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIgfHwgbmFtZS5sZW5ndGggPT09IDApIG5hbWUgPSAnVXNlclNvdW5kWycgKyBzb3VuZGNvdW50ICsgJ10nO1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdW5kY291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaW5qZWN0KCckQXVkaW8nKS5idWlsZChuYW1lLCB1cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2hhbm5lbCAhPT0gXCJzdHJpbmdcIiB8fCBjaGFubmVsLmxlbmd0aCA9PT0gMCkgY2hhbm5lbCA9ICckJERFU1RJTkFUSU9OJztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb3V0ID0gdGhpcy5jaGFubmVsKGNoYW5uZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5jb25uZWN0KG91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc291bmRzW3Jlc3VsdC51cmwoKV0gPSByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3VybDogdXJsfSwgJ1t7dXJsfV0gaXMgbm90IHZhbGlkIGF1ZGlvIHVybCBvciBlbXB0eS4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIgJiYgbmFtZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWxzW25hbWVdKSByZXR1cm4gY2hhbm5lbHNbbmFtZV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBpbmplY3QoJyRBdWRpbycpLmJ1aWxkKG5hbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuY29ubmVjdChkZXN0aW5hdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHNbbmFtZV0gPSByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbGNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHMgPSBmdW5jdGlvbiAoYnl1cmwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsaXN0ID0ge30sXHJcbiAgICAgICAgICAgICAgICAgICAgYnl1cmwgPSAhIWJ5dXJsO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGNoYW5uZWwgaW4gY2hhbm5lbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbHMuaGFzT3duUHJvcGVydHkoY2hhbm5lbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWwgIT09ICckJERFU1RJTkFUSU9OJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ5dXJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFtjaGFubmVsLnVybCgpXSA9IGNoYW5uZWxbY2hhbm5lbF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0W2NoYW5uZWxdID0gY2hhbm5lbHNbY2hhbm5lbF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zb3VuZHMgPSBmdW5jdGlvbiAoYnl1cmwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsaXN0ID0ge30sXHJcbiAgICAgICAgICAgICAgICAgICAgYnl1cmwgPSAhIWJ5dXJsO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gc291bmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdW5kcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnl1cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RbcHJvcF0gPSBzb3VuZHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0W3NvdW5kc1twcm9wXS5uYW1lKCldID0gc291bmRzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjaGFubmVscy4kJERFU1RJTkFUSU9OO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjQvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UoWydAaW5qZWN0JyxcclxuICAgICAgICBmdW5jdGlvbiBTdGF0ZShpbmplY3QpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdGF0ZXMgPSB7fTtcclxuXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBQYXJzZUFkZHJlc3MoYWRkcmVzcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGFkZHJlc3MubWF0Y2goL14oW2EtekEtWl0rKS4oW2EtekEtWl0rKSQvKSxcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHJlc3VsdFswXSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9wID0gcmVzdWx0WzFdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZSAmJiBwcm9wKSByZXR1cm4ge3N0YXRlOiBzdGF0ZSwgcHJvcDogcHJvcH07XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCA9IGZ1bmN0aW9uIChhZGRyZXNzLCBmdW5jKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBhZGRyZXNzID0gUGFyc2VBZGRyZXNzKGFkZHJlc3MpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghYWRkcmVzcykgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghc3RhdGVzW2FkZHJlc3Muc3RhdGVdKSBzdGF0ZXNbYWRkcmVzcy5zdGF0ZV0gPSBpbmplY3QoJyRTdGF0ZScpO1xyXG5cclxuICAgICAgICAgICAgICAgIHN0YXRlc1thZGRyZXNzLnByb3BdLndoZW4oYWRkcmVzcy5wcm9wLCBmdW5jKTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRlZmluZSA9IGZ1bmN0aW9uIChhZGRyZXNzLCB2YWx1ZSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGFkZHJlc3MgPSBQYXJzZUFkZHJlc3MoYWRkcmVzcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFhZGRyZXNzKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0ZXNbYWRkcmVzcy5zdGF0ZV0pIHN0YXRlc1thZGRyZXNzLnN0YXRlXSA9IGluamVjdCgnJFN0YXRlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgc3RhdGVzW2FkZHJlc3Muc3RhdGVdLmRlZmluZShhZGRyZXNzLnByb3AsIHZhbHVlKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZShcclxuICAgIFsnRGVidWcnLCAnQENhbnZhcycsICdAQ29uZmlnJyxcclxuICAgICAgICBmdW5jdGlvbiBUcmVlKERlYnVnLCBDYW52YXMsIENvbmZpZykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHJvb3QgPSBudWxsLCByb290RHJhd2VyID0gbnVsbCwgcm9vdFN0eWxlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGNsZWFyID0gQ29uZmlnLmRlZmluZSgnY2xlYXInLCBmYWxzZSwge2lzQm9vbDogdHJ1ZX0pLndhdGNoKGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXIgPSB2O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW9iamVjdC50eXBlIHx8IHR5cGVvZiBvYmplY3QudHlwZSAhPT0gXCJmdW5jdGlvblwiIHx8IG9iamVjdC50eXBlKCkgIT09ICdHcm91cCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe30sICdUcmVlIC8gVW5hYmxlIHRvIHNldCB0cmVlIHJvb3QhIFdyb25nIG9iamVjdCB0eXBlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByb290ID0gb2JqZWN0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZHJhd2VyID0gcm9vdC5leHRlbnNpb24oJ0RyYXdlcicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRyYXdlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7fSwgJ1RyZWUgLyBVbmFibGUgdG8gZ2V0IERyYXdlciBleHRlbnNpb24hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkcmF3ZXIuZHJhdyB8fCB0eXBlb2YgZHJhd2VyLmRyYXcgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7fSwgJ1RyZWUgLyBVbmFibGUgdG8gcmVnaXN0ZXIgcm9vdCBEcmF3ZXIuIERyYXdlci5kcmF3IGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByb290RHJhd2VyID0gZHJhd2VyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByb290U3R5bGUgPSByb290LmV4dGVuc2lvbignU3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvb3Q7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm9vdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIENhbnZhcy5xdWV1ZSgwLCBmdW5jdGlvbiBkcmF3R3JhcGhpY3NUcmVlKGNvbnRleHQsIGRhdGUsIGZyYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3QgfHwgIXJvb3REcmF3ZXIpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGlmIChjbGVhcikgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgY29udGV4dC5jYW52YXMub2Zmc2V0V2lkdGgsIGNvbnRleHQuY2FudmFzLm9mZnNldEhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICByb290RHJhd2VyLmRyYXcuYXBwbHkocm9vdCwgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnBsdWdpbi5jbGFzcygnT2JqZWN0cycsICdBbmltYXRpb24nLFxyXG4gICAgWycrQW5pbWF0aW9uJywgJ01vcnBoaW5lJyxcclxuICAgICAgICBmdW5jdGlvbiBBbmltYXRpb24oQW5pbWF0aW9uSGVscGVyLCBNb3JwaGluZSkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gMCxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGVhc2luZyA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBkb25lID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzdGFjayA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBtb3JwaGluZSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3RlcHNDYiA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBxdWV1ZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBjbGVhciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdGVwVHlwZVN0ciA9ICd0eXBlJyxcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlVHlwZVN0ciA9ICdjb21wbGV0ZScsXHJcbiAgICAgICAgICAgICAgICBjb25maWcgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gUmVzb2x2ZSh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSBzdGVwVHlwZVN0cikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0ZXBzQ2IuaGFzT3duUHJvcGVydHkoc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBzQ2Jbc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKV0uYXBwbHkodGFyZ2V0LCBbcHJvZ3Jlc3MsIHN0YWNrW2ldLnJlc3VsdF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSBjb21wbGV0ZVR5cGVTdHIpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0cyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0c1tzdGFja1tpXS5tb3JwaC5wcm9wZXJ0eSgpXSA9IHN0YWNrW2ldLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmRvbmUoMSwgcmVzdWx0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kb25lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhhc1Byb3BlcnR5ID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKSA9PSBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydGllcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2goc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuaGFzUHJvcGVydHkocHJvcGVydHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGluZGV4IC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2suc3BsaWNlKGluZGV4LCAxKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YWNrID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIF9zdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9ycGggPSBzdGFja1tpXS5tb3JwaC5nZXQoc3RhY2tbaV0udmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAobW9ycGggIT09IHVuZGVmaW5lZCAmJiBtb3JwaC5zdGFydCgpICE9PSBmYWxzZSAmJiBtb3JwaC5lbmQoKSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3N0YWNrLnB1c2goc3RhY2tbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzdGFjayA9IF9zdGFjaztcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdGlja19mdW5jdGlvbiA9IEFuaW1hdGlvbkhlbHBlci5nZXRUaWNrRnVuY3Rpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICBtb3JwaGluZSA9IE1vcnBoaW5lLmNyZWF0ZSgwLCAxLCBmdW5jdGlvbiAoY29tcGxldGUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvbHZlKGNvbXBsZXRlVHlwZVN0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoaW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrW2ldLnJlc3VsdCA9IHRpY2tfZnVuY3Rpb24odmFsdWUsIGNvbXBsZXRlLCBzdGFja1tpXS5tb3JwaC5zdGFydCgpLCBzdGFja1tpXS5tb3JwaC5lbmQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFja1tpXS5tb3JwaC5hcHBseShjb21wbGV0ZSwgc3RhY2tbaV0ucmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZShzdGVwVHlwZVN0cik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGUgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc29sdmUoY29tcGxldGVUeXBlU3RyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBlYXNpbmcsIGR1cmF0aW9uLCAwKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKHQsIG0sIGNmZywgZikge1xyXG4gICAgICAgICAgICAgICAgQW5pbWF0aW9uSGVscGVyLm5vcm1hbGl6ZUNvbmZpZyhjZmcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gY2ZnLmR1cmF0aW9uO1xyXG5cclxuICAgICAgICAgICAgICAgIGVhc2luZyA9IGNmZy5lYXNpbmc7XHJcblxyXG4gICAgICAgICAgICAgICAgc3RlcHNDYiA9IGNmZy5zdGVwO1xyXG5cclxuICAgICAgICAgICAgICAgIHF1ZXVlID0gY2ZnLnF1ZXVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNsZWFyID0gZjtcclxuXHJcbiAgICAgICAgICAgICAgICBzdGFjayA9IG07XHJcblxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdDtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25maWcgPSBjZmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5wbHVnaW4uY2xhc3MoJ09iamVjdHMnLCAnQW5pbWF0aW9uJyxcclxuICAgIFsnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIE1vcnBoKERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc2V0dGVyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGdldHRlciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBhcHBsaWVyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHN0YXJ0LCBlbmQsXHJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG9yZGVyaW5nID0gMDtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFNldFN0YXJ0VmFsdWUodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydCA9IHZhbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gU2V0RW5kVmFsdWUodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBlbmQgPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbmQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb3BlcnR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3BlcnR5O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vcmRlcmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcmRlcmluZztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBzZXR0ZXIuYXBwbHkob2JqZWN0LCBbU2V0U3RhcnRWYWx1ZSwgU2V0RW5kVmFsdWUsIHZhbHVlXSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudmFsaWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFwcGx5ID0gZnVuY3Rpb24gKHByb2dyZXNzLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0LnN0eWxlKHByb3BlcnR5LCBhcHBsaWVyLmFwcGx5KG9iamVjdCwgW3ZhbHVlLCBwcm9ncmVzc10pKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKG5hbWUsIG9iaiwgb3JkLCBzZXQsIGFwbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnMSBbe25hbWV9XSBpcyBub3QgYSBzdHJpbmchJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmczIGlzIG5vdCBhbiBvYmplY3QhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXQgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ1VuYWJsZSB0byBjb25maWcgTW9ycGguIGFyZzQgaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcmQgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmcyIGlzIG5vdCBhIG51bWJlciEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFwbCAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnNSBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvcGVydHkgPSBuYW1lO1xyXG4gICAgICAgICAgICAgICAgc2V0dGVyID0gc2V0O1xyXG4gICAgICAgICAgICAgICAgYXBwbGllciA9IGFwbDtcclxuICAgICAgICAgICAgICAgIG9yZGVyaW5nID0gb3JkO1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gb2JqO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDIvNy8yMDE3LlxyXG4gKi9cclxuJFIucGx1Z2luLmNsYXNzKCdPYmplY3RzJyxcclxuICAgICdCb3gnLFxyXG4gICAgW2Z1bmN0aW9uIEJveCgpIHtcclxuICAgICAgICB2YXIgY29udGFpbmVyID0ge1xyXG4gICAgICAgICAgICAgICAgc2l6ZTogWzAsIDBdLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFswLCAwXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzcHJpdGUgPSB7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW46IFswLCAwLCAwLCAwXSxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBzaXplOiBbMCwgMF1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzaXplOiBbY29udGFpbmVyLnNpemVbMF0sIGNvbnRhaW5lci5zaXplWzFdXSxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbY29udGFpbmVyLnBvc2l0aW9uWzBdLCBjb250YWluZXIucG9zaXRpb25bMV1dXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnNldCA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLnNpemVbMF0gPSB3aWR0aDtcclxuICAgICAgICAgICAgY29udGFpbmVyLnNpemVbMV0gPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5wb3NpdGlvblswXSA9IHg7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5wb3NpdGlvblsxXSA9IHk7XHJcbiAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bMF0gPSB0b3A7XHJcbiAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bMV0gPSByaWdodDtcclxuICAgICAgICAgICAgc3ByaXRlLm1hcmdpblsyXSA9IGJvdHRvbTtcclxuICAgICAgICAgICAgc3ByaXRlLm1hcmdpblszXSA9IGxlZnQ7XHJcbiAgICAgICAgICAgIHNwcml0ZS5zaXplWzBdID0gbGVmdCArIHdpZHRoICsgcmlnaHQ7XHJcbiAgICAgICAgICAgIHNwcml0ZS5zaXplWzFdID0gdG9wICsgaGVpZ2h0ICsgYm90dG9tO1xyXG4gICAgICAgICAgICBzcHJpdGUucG9zaXRpb25bMF0gPSB4IC0gbGVmdDtcclxuICAgICAgICAgICAgc3ByaXRlLnBvc2l0aW9uWzFdID0geSAtIHRvcDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnZhbHVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzcHJpdGU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAzLzI4LzIwMTcuXHJcbiAqL1xyXG4kUi5wbHVnaW4uY2xhc3MoJ09iamVjdHMnLCAnVGV4dCcsXHJcbiAgICBbJ0BleHRlbmQnLCAnQGluamVjdCcsICcrRHJhd2VyJyxcclxuICAgICAgICBmdW5jdGlvbiBUZXh0TGluZUNsYXNzKGV4dGVuZCwgaW5qZWN0LCBEcmF3ZXJIZWxwZXIpIHtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckVGV4dEVsZW1lbnRDbGFzcycpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHdpZHRoID0gMCxcclxuICAgICAgICAgICAgICAgIHdvcmRzID0gW10sXHJcbiAgICAgICAgICAgICAgICBzcGFjZSA9IGluamVjdCgnJFRleHRTcGFjZUNsYXNzJyksXHJcbiAgICAgICAgICAgICAgICBsZW5ndGggPSAwLFxyXG4gICAgICAgICAgICAgICAgd2lkdGhVcGRhdGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRXaWR0aCgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh3aWR0aFVwZGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSB3b3Jkc1tpXS53aWR0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB3aWR0aFVwZGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gd2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gRHJhd2VySGVscGVyLm1lYXN1cmVUZXh0KGdldFdpZHRoKVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy53b3JkcyA9IGZ1bmN0aW9uIChhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFycmF5ICYmIHR5cGVvZiBhcnJheSA9PT0gXCJvYmplY3RcIiAmJiBhcnJheS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLnB1c2goYXJyYXlbaV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zaXplKHRoaXMuc2l6ZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmhlaWdodCh0aGlzLmhlaWdodCgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKHRoaXMuc3R5bGUoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC53ZWlnaHQodGhpcy53ZWlnaHQoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb2xvcih0aGlzLmNvbG9yKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9udCh0aGlzLmZvbnQoKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZW5ndGggPSB3b3Jkcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hcnIgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hcnIucHVzaCh3b3Jkc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcGVydHlDaGFuZ2VkKCdzdHJpbmcnLCBfYXJyKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHdpZHRoVXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gd29yZHM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnB1c2ggPSBmdW5jdGlvbiAod29yZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHdvcmRzLmxlbmd0aCA+IDApIHdvcmRzLnB1c2goc3BhY2UpO1xyXG4gICAgICAgICAgICAgICAgd29yZHMucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB3b3JkLnNpemUodGhpcy5zaXplKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5oZWlnaHQodGhpcy5oZWlnaHQoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKHRoaXMuc3R5bGUoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLndlaWdodCh0aGlzLndlaWdodCgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY29sb3IodGhpcy5jb2xvcigpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZm9udCh0aGlzLmZvbnQoKSlcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB3aWR0aFVwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHJpbmcgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IHdvcmRzW2ldLnN0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub25Qcm9wZXJ0eUNoYW5nZShmdW5jdGlvbiAocHJvcGVydHksIHZhbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5ICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlW3Byb3BlcnR5XSh2YWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAzLzI4LzIwMTcuXHJcbiAqL1xyXG4kUi5wbHVnaW4uY2xhc3MoJ09iamVjdHMnLCAnVGV4dCcsXHJcbiAgICBbJ0BleHRlbmQnLCAnK0RyYXdlcicsXHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dFNwYWNlQ2xhc3MoZXh0ZW5kLCBEcmF3ZXJIZWxwZXIpIHtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckVGV4dEVsZW1lbnRDbGFzcycpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0cmluZyA9ICcgJyxcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gMCxcclxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0V2lkdGgoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5mb250ID0gc2VsZi5leHRyYWN0Rm9udFN0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQubWVhc3VyZVRleHQoc3RyaW5nKS53aWR0aDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gRHJhd2VySGVscGVyLm1lYXN1cmVUZXh0KGdldFdpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMy8yOC8yMDE3LlxyXG4gKi9cclxuJFIucGx1Z2luLmNsYXNzKCdPYmplY3RzJywgJ1RleHQnLFxyXG4gICAgWycrQ29sb3InLFxyXG4gICAgICAgIGZ1bmN0aW9uIFRleHRFbGVtZW50Q2xhc3MoQ29sb3JIZWxwZXIpIHtcclxuICAgICAgICAgICAgdmFyIGNvbG9yID0gJ3JnYmEoMCwwLDAsMSknLFxyXG4gICAgICAgICAgICAgICAgZm9udCA9ICdzYW5zLXNlcmlmJyxcclxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQgPSA0MDAsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZSA9IDE0LFxyXG4gICAgICAgICAgICAgICAgbGluZUhlaWdodCA9IDE0LFxyXG4gICAgICAgICAgICAgICAgZm9udFN0eWxlID0gJ25vcm1hbCcsXHJcbiAgICAgICAgICAgICAgICBjYiA9IFtdLFxyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZXNvbHZlKHByb3BlcnR5LCB2YWwpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2IubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjYltpXS5hcHBseShzZWxmLCBbcHJvcGVydHksIHZhbF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNpemUgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPCAwKSB2YWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3NpemUnLCBmb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9udFNpemU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA8IDApIHZhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZUhlaWdodCA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdoZWlnaHQnLCBsaW5lSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsaW5lSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy53ZWlnaHQgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPCAxMDApIHZhbCA9IDEwMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsID4gOTAwKSB2YWwgPSA5MDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCAlIDEwMCAhPT0gMCkgdmFsID0gdmFsIC0gKHZhbCAlIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodCA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCd3ZWlnaHQnLCBmb250V2VpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmb250V2VpZ2h0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mb250ID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgJiYgdmFsLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmb250ID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ2ZvbnQnLCBmb250KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmb250O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb2xvciA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdjb2xvcicsIGNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0eWxlID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gJ25vcm1hbCcgfHwgdmFsID09PSAnaXRhbGljJyB8fCB2YWwgPT09ICdvYmxpcXVlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTdHlsZSA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdzdHlsZScsIGZvbnRTdHlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9udFN0eWxlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5leHRyYWN0Rm9udFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmb250U3R5bGUgKyAnICcgKyBmb250U2l6ZSArICdweCBcIicgKyBmb250ICsgJy0nICsgZm9udFdlaWdodCArICdcIic7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uUHJvcGVydHlDaGFuZ2UgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYi5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eUNoYW5nZWQgPSBmdW5jdGlvbiAobmFtZSwgdmFsKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKG5hbWUsIHZhbCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAzLzI2LzIwMTcuXHJcbiAqL1xyXG4kUi5wbHVnaW4uY2xhc3MoJ09iamVjdHMnLCAnVGV4dCcsXHJcbiAgICBbJytDb2xvcicsICdAZXh0ZW5kJywgJytEcmF3ZXInLFxyXG4gICAgICAgIGZ1bmN0aW9uIFRleHRXb3JkQ2xhc3MoQ29sb3JIZWxwZXIsIGV4dGVuZCwgRHJhd2VySGVscGVyKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRUZXh0RWxlbWVudENsYXNzJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3RyaW5nID0gJycsXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RyaW5nID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eUNoYW5nZWQoJ3N0cmluZycsIHZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0V2lkdGgoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5mb250ID0gc2VsZi5leHRyYWN0Rm9udFN0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQubWVhc3VyZVRleHQoc3RyaW5nKS53aWR0aDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBEcmF3ZXJIZWxwZXIubWVhc3VyZVRleHQoZ2V0V2lkdGgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZHJhdyA9IGZ1bmN0aW9uIChjb250ZXh0LCB4LCB5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHggIT09IFwibnVtYmVyXCIpIHggPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB5ICE9PSBcIm51bWJlclwiKSB5ID0gMDtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yKCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZvbnQgPSB0aGlzLmV4dHJhY3RGb250U3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHN0cmluZywgeCwgeSk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzIvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ0Rpc3BhdGNoZXInLFxyXG4gICAgWydUcmVlJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBGaW5kZXIoVHJlZSwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIENoZWNrRWxlbWVudChlLCBjdXJzb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLnR5cGUoKSA9PT0gJ0dyb3VwJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcnMgPSBlLmV4dGVuc2lvbignTGF5ZXJzJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmRpc2FibGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnR5cGUoKSA9PT0gJ0dyb3VwJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfcmVzdWx0ID0gQ2hlY2tFbGVtZW50KHRoaXMsIGN1cnNvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9yZXN1bHQpIHJlc3VsdCA9IF9yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW91c2VleHQgPSB0aGlzLmV4dGVuc2lvbignTW91c2UnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc3VsdCA9IG1vdXNlZXh0LmNoZWNrKHRoaXMsIGN1cnNvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfcmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9yZXN1bHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNoZWNrID0gZnVuY3Rpb24gKGN1cnNvcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJvb3QgPSBUcmVlLnJvb3QoKTtcclxuICAgICAgICAgICAgICAgIGlmICghcm9vdCkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGN1cnNvciAhPT0gXCJvYmplY3RcIiB8fCBjdXJzb3IuY29uc3RydWN0b3IgIT09IEFycmF5IHx8IGN1cnNvci5sZW5ndGggIT09IDIgfHwgdHlwZW9mIGN1cnNvclswXSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgY3Vyc29yWzFdICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7YzogY3Vyc29yfSwgJ09iamVjdEZpbmRlciA7IHtbY119IGlzIG5vdCBhIHZhbGlkIGN1cnNvciB2YWx1ZS4nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBDaGVja0VsZW1lbnQocm9vdCwgY3Vyc29yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ01vcnBoaW5lJywgW1xyXG4gICAgICAgIGZ1bmN0aW9uIE1vcnBoaW5lKCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGVhc2luZyA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IDEsXHJcbiAgICAgICAgICAgICAgICByZXBlYXQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHJlcGVhdENvdW50ID0gMSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgZnVuYyA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdGFydCA9IDAsXHJcbiAgICAgICAgICAgICAgICBlbmQgPSAwO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kb25lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBhdXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcGFzdWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGF1c2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhc3VlZDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gMCxcclxuICAgICAgICAgICAgICAgIHBhc3VlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZG9uZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVGljayh0aW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFzdWVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIChkdXJhdGlvbiAqIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YXJ0X3RpbWUpIHN0YXJ0X3RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MgPSAodGltZSAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb247XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcyA+IDEpIHByb2dyZXNzID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXBlYXQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVwZWF0Q291bnQgPiAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXBlYXRDb3VudCAhPT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmMuYXBwbHkobnVsbCwgW3Byb2dyZXNzLCBlYXNpbmcoKHRpbWUgLSBzdGFydF90aW1lKSAvIDEwMDAsIHN0YXJ0LCBlbmQgLSBzdGFydCwgZHVyYXRpb24gLyAxMDAwKSwgc3RhcnRfdGltZV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGZ1bmN0aW9uIChzLCBlLCBmLCBkdXIsIGVhc2UsIHJwdCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcyAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgZSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgZHVyICE9PSBcIm51bWJlclwiIHx8IGR1ciA8IDApIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVhc2UgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJwdCA9PT0gXCJudW1iZXJcIikgcmVwZWF0ID0gcnB0O1xyXG5cclxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gcztcclxuICAgICAgICAgICAgICAgIGVuZCA9IGU7XHJcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSBlYXNlO1xyXG4gICAgICAgICAgICAgICAgZnVuYyA9IGY7XHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IGR1ciA+IDAgPyBkdXIgOiAxO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbmZpZztcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gVGljaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTAvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLCBbZnVuY3Rpb24gQ2FudmFzKCkge1xyXG5cclxuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSxcclxuICAgICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG4gICAgdmFyIHcgPSAwLCBoID0gMDtcclxuXHJcbiAgICB0aGlzLmNvbnRleHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgdyA9IHZhbHVlO1xyXG4gICAgICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHc7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmhlaWdodCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBoID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGg7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmV4cG9ydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY2FudmFzO1xyXG4gICAgfTtcclxuXHJcbn1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMi83LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJywgWydAaW5qZWN0JywgJ0RlYnVnJywgZnVuY3Rpb24gR3JhcGhpY3NBc3NlbWJsZXIoaW5qZWN0LCBEZWJ1Zykge1xyXG5cclxuICAgIHZhciBvdXRwdXQgPSBpbmplY3QoJyRDYW52YXMnKSxcclxuICAgICAgICBjb250ZXh0ID0gb3V0cHV0LmNvbnRleHQoKSxcclxuICAgICAgICBwaXBlID0gW10sXHJcbiAgICAgICAgbGF5ZXJzID0ge30sXHJcbiAgICAgICAgdyA9IDAsXHJcbiAgICAgICAgaCA9IDAsXHJcbiAgICAgICAgYm94RXh0ID0gbnVsbCxcclxuICAgICAgICByZXNpemVkID0gZmFsc2UsXHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuXHJcbiAgICBmdW5jdGlvbiBTZXRTaXplKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBpcGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcGlwZVtpXS5zaXplKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvdXRwdXQud2lkdGgod2lkdGgpO1xyXG4gICAgICAgIG91dHB1dC5oZWlnaHQoaGVpZ2h0KTtcclxuICAgICAgICB3ID0gd2lkdGg7XHJcbiAgICAgICAgaCA9IGhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb21wb3NlKGN0eCkge1xyXG4gICAgICAgIGlmKCFyZXNpemVkKSB7XHJcbiAgICAgICAgICAgIGlmKGJveEV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGJveEV4dC5ib3goKS5zcHJpdGUoKTtcclxuICAgICAgICAgICAgICAgIGlmKHNwcml0ZS5zaXplWzBdICE9PSB3IHx8IHNwcml0ZS5zaXplWzFdICE9PSBoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgU2V0U2l6ZShzcHJpdGUuc2l6ZVswXSxzcHJpdGUuc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzaXplZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCFyZWFkeSkge1xyXG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLDAsdyxoKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaXBlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBwaXBlW2ldLmRyYXcoY29udGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVhZHkgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdHguZHJhd0ltYWdlKG91dHB1dC5leHBvcnQoKSwwLDApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubGF5ZXIgPSBmdW5jdGlvbiAob3JkZXIsIG5hbWUsIHVwZGF0ZUZ1bmMpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG9yZGVyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIERlYnVnLndhcm4oe286IG9yZGVyfSwgJ0ludmFsaWQgb3JkZXIgYXJndW1lbnQgW3tvfV0gaXMgbm90IGEgbnVtYmVyLicpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBEZWJ1Zy53YXJuKHtuOiBuYW1lfSwgJ1t7bn1dIGlzIG5vdCB2YWxpZCBuYW1lIGZvciBsYXllcicpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgdXBkYXRlRnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIERlYnVnLndhcm4oJ3VwZGF0ZUZ1bmMgaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxheWVyc1tuYW1lXSA9IGluamVjdCgnJEdyYXBoaWNzQXNzZW1ibGVyTGF5ZXInKTtcclxuICAgICAgICBsYXllcnNbbmFtZV0uZih1cGRhdGVGdW5jKTtcclxuICAgICAgICBsYXllcnNbbmFtZV0ub3JkZXJpbmcob3JkZXIpO1xyXG4gICAgICAgIGxheWVyc1tuYW1lXS51cGRhdGUoKTtcclxuICAgICAgICBwaXBlLnB1c2gobGF5ZXJzW25hbWVdKTtcclxuICAgICAgICBwaXBlLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGEub3JkZXJpbmcoKSAtIGIub3JkZXJpbmcoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZWFkeSA9IGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnJlYWR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiByZWFkeTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5ib3ggPSBmdW5jdGlvbiAoYm94UHJvdmlkZXIpIHtcclxuICAgICAgICBib3hFeHQgPSBib3hQcm92aWRlcjtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICBpZiAod2lkdGggIT09IHcgfHwgaGVpZ2h0ICE9PSBoKSB7XHJcbiAgICAgICAgICAgIFNldFNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIHJlYWR5ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXNpemVkID0gZmFsc2U7XHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIHJlYWR5ID0gZmFsc2U7XHJcbiAgICAgICAgbGF5ZXJzW25hbWVdLnVwZGF0ZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmRyYXcgPSBjb21wb3NlO1xyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzcvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLCBbJ0BpbmplY3QnLCAnRGVidWcnLCBmdW5jdGlvbiBHcmFwaGljc0Fzc2VtYmxlckxheWVyKGluamVjdCwgRGVidWcpIHtcclxuICAgIHZhciBjYW52YXMgPSBpbmplY3QoJyRDYW52YXMnKSxcclxuICAgICAgICBjb250ZXh0ID0gY2FudmFzLmNvbnRleHQoKSxcclxuICAgICAgICB3aWR0aCA9IDAsXHJcbiAgICAgICAgaGVpZ2h0ID0gMCxcclxuICAgICAgICBmdW5jID0gbnVsbCxcclxuICAgICAgICByZWFkeSA9IGZhbHNlLFxyXG4gICAgICAgIG9yZGVyaW5nID0gMDtcclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVDYW52YXMoY3R4KSB7XHJcbiAgICAgICAgaWYgKCFyZWFkeSkge1xyXG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgIGlmIChmdW5jKSBmdW5jKGNvbnRleHQpO1xyXG4gICAgICAgICAgICByZWFkeSA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdHguZHJhd0ltYWdlKGNhbnZhcy5leHBvcnQoKSwgMCwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5mID0gZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGYgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBmdW5jID0gZjtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIERlYnVnLndhcm4oe2Y6IGZ9LCAnW3tmfV0gaXMgbm90IGEgZnVuY3Rpb24nKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2l6ZSA9IGZ1bmN0aW9uICh3LCBoKSB7XHJcbiAgICAgICAgaWYgKHdpZHRoICE9PSB3IHx8IGggIT09IGgpIHtcclxuICAgICAgICAgICAgY2FudmFzLndpZHRoKHcpO1xyXG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0KGgpO1xyXG4gICAgICAgICAgICB3aWR0aCA9IHc7XHJcbiAgICAgICAgICAgIGhlaWdodCA9IGg7XHJcbiAgICAgICAgICAgIHJlYWR5ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLm9yZGVyaW5nID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBvcmRlcmluZyA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3JkZXJpbmc7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJlYWR5ID0gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZHJhdyA9IHVwZGF0ZUNhbnZhcztcclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBmdW5jdGlvbiBQbHVnaW4oKSB7XHJcblxyXG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0ge30sIGNsZWFyID0ge30sIG9iamVjdCA9IG51bGwsXHJcbiAgICAgICAgICAgIGFwcGxpZXMgPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5kZWZpbmVPYmplY3QgPSBmdW5jdGlvbiAobykge1xyXG4gICAgICAgICAgICBvYmplY3QgPSBvO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5kZWZpbmVPYmplY3Q7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5vYmplY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5tYXRjaFR5cGUgPSBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgICAgICBpZiAoYXBwbGllcy5sZW5ndGggPT0gMCkgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFwcGxpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcHBsaWVzW2ldID09PSB0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5hcHBseVRvKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5hcHBseVRvO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlICB0aGlzLm1hdGNoVHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuYXBwbHlUbyA9IGZ1bmN0aW9uICh0eXBlcykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHR5cGVzID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIGFwcGxpZXMucHVzaCh0eXBlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHR5cGVzID09IFwib2JqZWN0XCIgJiYgdHlwZXMuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0eXBlc1tpXSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpZXMucHVzaCh0eXBlc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFwcGx5VG87XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uIChwcm9wZXJ0eSwgZnVuYywgdGVtcCkge1xyXG4gICAgICAgICAgICBpZiAoIXByb3BlcnRpZXNbcHJvcGVydHldKSBwcm9wZXJ0aWVzW3Byb3BlcnR5XSA9IGZ1bmM7XHJcbiAgICAgICAgICAgIGlmICh0ZW1wKSBjbGVhcltwcm9wZXJ0eV0gPSB0cnVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3JhcCA9IGZ1bmN0aW9uIChvYmplY3QpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqZWN0W3Byb3BlcnR5XSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBvYmplY3RbcHJvcGVydHldID0gcHJvcGVydGllc1twcm9wZXJ0eV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRlbGV0ZSAgdGhpcy53cmFwO1xyXG4gICAgICAgICAgICBkZWxldGUgIHRoaXMucmVnaXN0ZXI7XHJcbiAgICAgICAgICAgIGRlbGV0ZSAgdGhpcy5jbGVhcjtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmhhc1Byb3BlcnR5ID0gZnVuY3Rpb24gKHByb3ApIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHByb3AgPT0gcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuY2xlYXIgPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gY2xlYXIpIHtcclxuICAgICAgICAgICAgICAgIGlmICghY2xlYXIuaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlICBvYmplY3RbcHJvcF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA1LzEvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLCBbZnVuY3Rpb24gQXJlYU9iamVjdENsYXNzKCkge1xyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEzLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnK01vdXNlJyxcclxuICAgICAgICBmdW5jdGlvbiBDaXJjbGVPYmplY3RDbGFzcyhNb3VzZUhlbHBlcikge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlQ2hlY2tGdW5jdGlvbihNb3VzZUhlbHBlci5jaXJjbGVDaGVja0Z1bmN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnVHJlZScsXHJcbiAgICAgICAgZnVuY3Rpb24gRGVmYXVsdE9iamVjdFR5cGUoVHJlZSkge1xyXG4gICAgICAgICAgICBUcmVlLnJvb3QodGhpcykuYXBwZW5kKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjYvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgZnVuY3Rpb24gR3JvdXBPYmplY3RDbGFzcygpIHtcclxuXHJcbiAgICB9XHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrTW91c2UnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEltYWdlT2JqZWN0Q2xhc3MoTW91c2VIZWxwZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZUNoZWNrRnVuY3Rpb24oTW91c2VIZWxwZXIucmVjdENoZWNrRnVuY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgZnVuY3Rpb24gTGluZU9iamVjdENsYXNzKCkge1xyXG5cclxuICAgIH1cclxuKTsiLCIkUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnK01vdXNlJyxcclxuICAgICAgICBmdW5jdGlvbiBSZWN0YW5nbGVPYmplY3RDbGFzcyhNb3VzZUhlbHBlcikge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlQ2hlY2tGdW5jdGlvbihNb3VzZUhlbHBlci5yZWN0Q2hlY2tGdW5jdGlvbik7XHJcbiAgICAgICAgICAgIHZhciBtb3VzZSA9IHRoaXMuZXh0ZW5zaW9uKCdNb3VzZScpO1xyXG4gICAgICAgICAgICBtb3VzZS5jdXJzb3JUcmFuc2Zvcm1GdW5jdGlvbihNb3VzZUhlbHBlci5yZWN0Q3Vyc29yVHJhbnNmb3JtRnVuY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytNb3VzZScsXHJcbiAgICAgICAgZnVuY3Rpb24gU3ByaXRlT2JqZWN0Q2xhc3MoTW91c2VIZWxwZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZUNoZWNrRnVuY3Rpb24oTW91c2VIZWxwZXIucmVjdENoZWNrRnVuY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMy8yNS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytNb3VzZScsXHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dE9iamVjdENsYXNzKE1vdXNlSGVscGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VDaGVja0Z1bmN0aW9uKE1vdXNlSGVscGVyLnJlY3RDaGVja0Z1bmN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTAvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1Jlc291cmNlJyxcclxuICAgIFsnQGV4dGVuZCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQXVkaW8oZXh0ZW5kLCBEZWJ1Zykge1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRSZXNvdXJjZScpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9ICdBdWRpbyc7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIHJlc29sdmVFdmVudEZ1bmMgPSBudWxsLCBzdGF0ZUZ1bmMgPSBudWxsLCB1cmwgPSBudWxsLCByZXNwb25zZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uKCdpbml0JywgZnVuY3Rpb24gKF91cmwsIHJlc29sdmVGdW5jLCBzZXRTdGF0ZUZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEZ1bmMgPSByZXNvbHZlRnVuYztcclxuICAgICAgICAgICAgICAgIHN0YXRlRnVuYyA9IHNldFN0YXRlRnVuYztcclxuICAgICAgICAgICAgICAgIHVybCA9IF91cmw7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVBdWRpbygpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUF1ZGlvKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcclxuICAgICAgICAgICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlRnVuYygxKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IHRoaXMucmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50RnVuYygnbG9hZCcsIFtyZXNwb25zZV0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlRnVuYygtMik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50RnVuYygnZXJyb3InLCBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3VybDogdXJsfSwgJ1VuYWJsZSB0byBsb2FkIGF1ZGlvIFt7dXJsfV0uJyk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgeGhyLnNlbmQoKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXhwb3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAzLzI2LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdSZXNvdXJjZScsXHJcbiAgICBbJ0BleHRlbmQnLCAnRGVidWcnLCAnQENvbmZpZycsICdARm9udHMnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEZvbnQoZXh0ZW5kLCBEZWJ1ZywgY29uZmlnLCBGb250cykge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckUmVzb3VyY2UnKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9ICdGb250JztcclxuICAgICAgICAgICAgdmFyIHN0YXRlID0gbnVsbCwgcmVzb2x2ZSA9IG51bGwsIGZvbnQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgcm9vdCA9IGNvbmZpZy53YXRjaCgnZm9udERpcicsIGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICAgICAgICAgICAgICByb290ID0gc3RyO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcHBlbmRlZCkgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5yZW1vdmVDaGlsZChmb250TG9hZGVyRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrSW50ZXJ2YWwpIHdpbmRvdy5jbGVhckludGVydmFsKGNoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdldEZvbnQoKTtcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgZm9ybWF0ID0gRm9udHMuZm9ybWF0cygpLFxyXG4gICAgICAgICAgICAgICAgd2VpZ2h0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGFwcGVuZGVkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgICAgICAgICAgZm9udExvYWRlckVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICdyZWZsZWN0LWZvbnQtbG9hZGVyLWVsZW1lbnQnKTtcclxuICAgICAgICAgICAgZm9udExvYWRlckVsZW1lbnQuc3R5bGUuZm9udEZhbWlseSA9ICdzYW5zLXNlcmlmJztcclxuICAgICAgICAgICAgZm9udExvYWRlckVsZW1lbnQuc3R5bGUuZm9udFNpemUgPSAnMTJweCc7XHJcbiAgICAgICAgICAgIGZvbnRMb2FkZXJFbGVtZW50LnN0eWxlLmxpbmVIZWlnaHQgPSAnMTJweCc7XHJcbiAgICAgICAgICAgIGZvbnRMb2FkZXJFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICAgICAgZm9udExvYWRlckVsZW1lbnQuc3R5bGUubGVmdCA9ICctOTk5OXB4JztcclxuICAgICAgICAgICAgZm9udExvYWRlckVsZW1lbnQuc3R5bGUudG9wID0gJy05OTk5cHgnO1xyXG4gICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudC5pbm5lclRleHQgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXogMTIzNDU2Nzg5MFshPywuPD5cIsKjJCVeJiooKX5AIy09XSc7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uKCdpbml0JywgZnVuY3Rpb24gKHVybCwgciwgcykge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSA9IHI7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHM7XHJcbiAgICAgICAgICAgICAgICBmb250ID0gdXJsWzBdO1xyXG4gICAgICAgICAgICAgICAgd2VpZ2h0ID0gdXJsWzFdO1xyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB1cmxbMl07XHJcbiAgICAgICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudC5zdHlsZS5mb250U3R5bGUgPSBzdHlsZTtcclxuICAgICAgICAgICAgICAgIGdldEZvbnQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBjaGVja0ludGVydmFsID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEZvbnQoKSB7XHJcbiAgICAgICAgICAgICAgICBGb250cy5mb250KHJvb3QsIGZvbnQsIHdlaWdodCwgc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5hcHBlbmRDaGlsZChmb250TG9hZGVyRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICBhcHBlbmRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVwZWF0VGlsbEVycm9yID0gMTAwMCxcclxuICAgICAgICAgICAgICAgICAgICByZXBlYXRDb3VudCA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbCA9IFtmb250TG9hZGVyRWxlbWVudC5vZmZzZXRXaWR0aCwgZm9udExvYWRlckVsZW1lbnQub2Zmc2V0SGVpZ2h0XTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudC5zdHlsZS5mb250RmFtaWx5ID0gJ1wiJyArIEZvbnRzLmZvcm1hdChmb250KSArICctJyArIHdlaWdodCArICdcIiwgc2Fucy1zZXJpZic7XHJcbiAgICAgICAgICAgICAgICBjaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb250TG9hZGVyRWxlbWVudC5vZmZzZXRXaWR0aCAhPT0gaW5pdGlhbFswXSB8fCBmb250TG9hZGVyRWxlbWVudC5vZmZzZXRIZWlnaHQgIT09IGluaXRpYWxbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5yZW1vdmVDaGlsZChmb250TG9hZGVyRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlKDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdsb2FkJywgW10pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXBlYXRDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXBlYXRDb3VudCA+IHJlcGVhdFRpbGxFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSgtMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ2Vycm9yJywgW10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtmb250OiBmb250ICsgJy0nICsgd2VpZ2h0fSwgJ1VuYWJsZSB0byBsb2FkIGZvbnQgW3tmb250fV0uIEZvbnQgcGVuZGluZyB0aW1lZCBvdXQuLi4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5yZW1vdmVDaGlsZChmb250TG9hZGVyRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgNTApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmV4cG9ydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBGb250cy5mb3JtYXQoZm9udClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTIvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1Jlc291cmNlJyxcclxuICAgIFsnQGV4dGVuZCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gSW1hZ2UoZXh0ZW5kLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckUmVzb3VyY2UnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB1cmwgPSBudWxsLCByZXNvbHZlRXZlbnRGdW5jID0gbnVsbCwgc3RhdGVGdW5jID0gbnVsbCwgaW1hZ2UgPSBudWxsLCB3aWR0aCA9IDAsIGhlaWdodCA9IDA7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSAnSW1hZ2UnO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbignaW5pdCcsIGZ1bmN0aW9uIChfdXJsLCByZXNvbHZlRnVuYywgc2V0U3RhdGVGdW5jKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRGdW5jID0gcmVzb2x2ZUZ1bmM7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZUZ1bmMgPSBzZXRTdGF0ZUZ1bmM7XHJcbiAgICAgICAgICAgICAgICB1cmwgPSBfdXJsO1xyXG4gICAgICAgICAgICAgICAgQ3JlYXRlSW1hZ2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVJbWFnZSgpIHtcclxuICAgICAgICAgICAgICAgIGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgICAgICAgICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlRnVuYygxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBpbWFnZS53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEZ1bmMoJ2xvYWQnLCBbXSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlRnVuYygtMik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50RnVuYygnZXJyb3InLCBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3VybDogdXJsfSwgJ1VuYWJsZSB0byBsb2FkIGltYWdlIFt7dXJsfV0uJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHVybCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gd2lkdGg7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBoZWlnaHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmV4cG9ydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbWFnZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEyLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdSZXNvdXJjZScsXHJcbiAgICBbJ0BleHRlbmQnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFJlc291cmNlKGV4dGVuZCwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciB1cmwgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlRnVuY3Rpb25QYXNzZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHN0YXR1cyA9IC0xOyAvLyAtMSBpbml0LCAwIGxvYWRpbmcsIDEgbG9hZGVkLCAtMiBlcnJvclxyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2FkZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzID09IDE7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cyA9PSAtMjtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0dXMgPT0gMDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudXJsID0gZnVuY3Rpb24gKF91cmwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdXJsID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1cmw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodXJsID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBfdXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZUZ1bmN0aW9uUGFzc2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXNvbHZlRXZlbnQoJ2luaXQnLCBbdXJsXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXNvbHZlRXZlbnQoJ2luaXQnLCBbdXJsLCBSZXNvbHZlRXZlbnQsIHNldFN0YXR1c10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUZ1bmN0aW9uUGFzc2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIGNiQ29udGFpbmVyID0ge1xyXG4gICAgICAgICAgICAgICAgaW5pdDogW10sXHJcbiAgICAgICAgICAgICAgICBsb2FkOiBbXSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBbXSxcclxuICAgICAgICAgICAgICAgIGxvYWRpbmc6IFtdXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXRTdGF0dXModmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt2YWw6IHZhbH0sICdbe3ZhbH1dIGlzIG5vdCB2YWxpZCB2YWx1ZSBmb3Igc3RhdHVzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbCA+IDEgfHwgdmFsIDwgLTIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7dmFsOiB2YWx9LCAnW3t2YWx9XSBubyBzdWNoIHN0YXR1cyBwb3NzaWJsZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzdGF0dXMgPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFJlc29sdmVFdmVudChldmVudCwgZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNiQ29udGFpbmVyW2V2ZW50XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB0eXBlb2YgZGF0YSA9PSBcIm9iamVjdFwiICYmIGRhdGEuY29uc3RydWN0b3IgPT0gQXJyYXkgPyBkYXRhIDogW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2JDb250YWluZXJbZXZlbnRdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiQ29udGFpbmVyW2V2ZW50XVtpXS5hcHBseShzZWxmLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudH0sICdVbmFibGUgdG8gc2V0IGV2ZW50IHtlfS4gTm8gc3VjaCBldmVudCEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5vbiA9IGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gY2JDb250YWluZXJbZXZlbnRdLFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmMgPSB0eXBlb2YgZnVuYyA9PSBcImZ1bmN0aW9uXCIgPyBmdW5jIDogZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09ICdsb2FkJyAmJiBzdGF0dXMgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmMuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChldmVudCA9PSAnZXJyb3InICYmIHN0YXR1cyA9PSAtMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmMuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWFycmF5IHx8ICFmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnVW5hYmxlIHRvIHNldCBoYW5kbGVyIGZvciBldmVudCBbe2V9XS4nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY2JDb250YWluZXJbZXZlbnRdLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnUmVzb3VyY2UnLFxyXG4gICAgWydAZXh0ZW5kJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBTcHJpdGUoZXh0ZW5kLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckUmVzb3VyY2UnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB1cmwgPSBudWxsLCBpbWFnZSA9IG51bGwsIHNpemUgPSAwLCBmcmFtZXMgPSAwLCBkdXJhdGlvbiA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCxcclxuICAgICAgICAgICAgICAgIGZyYW1lSGVpZ2h0ID0gMCwgZnJhbWVXaWR0aCA9IDAsIGZwcyA9IDEyLFxyXG4gICAgICAgICAgICAgICAgc2V0U3RhdXNGdW5jID0gbnVsbCwgcmVzb2x2ZUV2ZW50RnVuYyA9IG51bGwsIHJlYWR5ID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9ICdTcHJpdGUnO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbignaW5pdCcsIGZ1bmN0aW9uICh1LCBldmVudEYsIHN0YXR1c0YpIHtcclxuICAgICAgICAgICAgICAgIHNldFN0YXVzRnVuYyA9IHN0YXR1c0Y7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRGdW5jID0gZXZlbnRGO1xyXG4gICAgICAgICAgICAgICAgdXJsID0gdTtcclxuXHJcbiAgICAgICAgICAgICAgICBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRTdGF1c0Z1bmMoMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVhZHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ3JlYXRlQ2FudmFzQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2V0Q2FudmFzU2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRGdW5jKCdsb2FkJywgW10pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRTdGF1c0Z1bmMoLTIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEZ1bmMoJ2Vycm9yJywgW10pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHVybCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlQ2FudmFzQXJyYXkoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGVsZW1zID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgc2l6ZTsgcisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4LnB1c2goW10pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgc2l6ZTsgYysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1zKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtcyA8IGZyYW1lcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0cml4W3JdLnB1c2goZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTZXRDYW52YXNTaXplKCkge1xyXG4gICAgICAgICAgICAgICAgZnJhbWVIZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCAvIHNpemUpO1xyXG4gICAgICAgICAgICAgICAgZnJhbWVXaWR0aCA9IE1hdGgucm91bmQod2lkdGggLyBzaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciByID0gMDsgciA8IHNpemU7IHIrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgc2l6ZTsgYysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRyaXhbcl1bY10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeFtyXVtjXS5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgZnJhbWVXaWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRyaXhbcl1bY10uc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBmcmFtZUhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2N0eCA9IG1hdHJpeFtyXVtjXS5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2N0eC50cmFuc2xhdGUoLWZyYW1lV2lkdGggKiBjLCAtZnJhbWVIZWlnaHQgKiByKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVhZHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZHk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyYW1lV2lkdGg7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyYW1lSGVpZ2h0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGVXaWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlSGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhlaWdodDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZnBzID0gZnVuY3Rpb24gKG51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBudW1iZXIgIT09IFwibnVtYmVyXCIgfHwgbnVtYmVyIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtuOiBudW1iZXJ9LCAnW3tufV0gaXMgbm90IGEgY29ycmVjdCBmcHMgbnVtYmVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZnBzID0gbnVtYmVyO1xyXG5cclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gTWF0aC5yb3VuZCgoZnJhbWVzIC8gZnBzKSAqIDEwMDApO1xyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciBwYXVzZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wYXVzZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHBhdXNlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxheSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHBhdXNlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVhZHkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGYgIT09IFwibnVtYmVyXCIgfHwgZiA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7cm93czogZn0sICdbe3Jvd3N9XSBpcyBub3QgYSB2YWxpZCBmcmFtZXMgbnVtYmVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHNpemUgPSBNYXRoLmNlaWwoTWF0aC5zcXJ0KGYpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmcmFtZXMgPSBmO1xyXG5cclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gTWF0aC5yb3VuZCgoZnJhbWVzIC8gZnBzKSAqIDEwMDApO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlYWR5ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBDcmVhdGVDYW52YXNBcnJheSgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mcmFtZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJhbWVzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRYID0gMCwgY3VycmVudFkgPSAwO1xyXG5cclxuICAgICAgICAgICAgdmFyIF90aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRpY2sgPSBmdW5jdGlvbiAodGltZSkge1xyXG4gICAgICAgICAgICAgICAgdGltZSA9IHRpbWUuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhdXNlKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gKHRpbWUgLSBfdGltZSkgLyBkdXJhdGlvbjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZnJhbWUgPSBNYXRoLmZsb29yKChmcmFtZXMgLSAxKSAqIHByb2dyZXNzKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50WSA9IE1hdGguZmxvb3IoZnJhbWUgLyBzaXplKTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRYID0gZnJhbWUgLSBjdXJyZW50WSAqIHNpemU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmV4cG9ydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtYXRyaXhbY3VycmVudFldW2N1cnJlbnRYXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRyaXhbY3VycmVudFldW2N1cnJlbnRYXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnQGluamVjdCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQW5pbWF0aW9uUHJvdmlkZXIoaW5qZWN0LCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbnMgPSBbXSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGVkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtb3JwaHMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubW9ycGggPSBmdW5jdGlvbiAobmFtZSwgb3JkZXJpbmcsIHNldHRlciwgYXBwbGllcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vcnBoID0gaW5qZWN0KCckTW9ycGgnKTtcclxuICAgICAgICAgICAgICAgIG1vcnBoLmNvbmZpZyhuYW1lLCB0aGlzLCBvcmRlcmluZywgc2V0dGVyLCBhcHBsaWVyKTtcclxuICAgICAgICAgICAgICAgIGlmIChtb3JwaC52YWxpZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9ycGhzW25hbWVdID0gbW9ycGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmV4dHJhY3RNb3JwaCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9ycGhzW25hbWVdO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZmluZENvbXBldGl0b3IocHJvcGVydGllcywgYW5pbWF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uJCRTRUxGID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgY29tcGV0aXRvciA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbmltYXRpb25zW2ldLiQkU0VMRikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uc1tpXS5hY3RpdmUoKSAmJiAhYW5pbWF0aW9uc1tpXS5kb25lKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGVjayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBwcm9wZXJ0aWVzLmxlbmd0aDsgbisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbnNbaV0uaGFzUHJvcGVydHkocHJvcGVydGllc1tuXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2sgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbXBldGl0b3IpIGNvbXBldGl0b3IgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wZXRpdG9yLnB1c2goYW5pbWF0aW9uc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIGFuaW1hdGlvbi4kJFNFTEY7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBldGl0b3I7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIENoZWNrQW5pbWF0aW9uUXVldWUoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2FuaW1hdGlvbnMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGlvbnNbaV0uYWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BzID0gYW5pbWF0aW9uc1tpXS5wcm9wZXJ0aWVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25zW2ldLnF1ZXVlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmluZENvbXBldGl0b3IocHJvcHMsIGFuaW1hdGlvbnNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uc1tpXS5zdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBldGl0b3JzID0gZmluZENvbXBldGl0b3IocHJvcHMsIGFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBldGl0b3JzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBjb21wZXRpdG9ycy5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwID0gMDsgcCA8IHByb3BzLmxlbmd0aDsgcCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wZXRpdG9yc1tuXS5zdG9wKHByb3BzW3BdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnNbaV0uc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhbmltYXRpb25zW2ldLmRvbmUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FuaW1hdGlvbnMucHVzaChhbmltYXRpb25zW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zID0gX2FuaW1hdGlvbnM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVBbmltYXRpb25UeXBlMShwcm9wZXJ0eSwgdmFsdWUsIGR1cmF0aW9uLCBlYXNpbmcpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYWlyID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgcGFpcltwcm9wZXJ0eV0gPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobW9ycGhzW3Byb3BlcnR5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGFjayA9IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcmluZzogbW9ycGhzW3Byb3BlcnR5XS5vcmRlcmluZygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoOiBtb3JwaHNbcHJvcGVydHldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGR1cmF0aW9uICYmIHR5cGVvZiBkdXJhdGlvbiA9PT0gXCJudW1iZXJcIikgY29uZmlnLmR1cmF0aW9uID0gZHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVhc2luZyAmJiB0eXBlb2YgZWFzaW5nID09PSBcInN0cmluZ1wiKSBjb25maWcuZWFzaW5nID0gZWFzaW5nO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IGluamVjdCgnJEFuaW1hdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uY29uZmlnKHRoaXMsIHN0YWNrLCBjb25maWcsIENoZWNrQW5pbWF0aW9uUXVldWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlQW5pbWF0aW9uVHlwZTIocGFpcnMsIGFyZzIsIGFyZzMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZzIgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSBhcmcyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFyZzIgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBhcmcyXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZzMgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLmVhc2luZyA9IGFyZzNcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJnMiA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBhcmcyXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcGFpcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhaXJzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtb3JwaHNbcHJvcGVydHldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ1Byb3BlcnR5IHtwcm9wZXJ0eX0gb2Yge3R5cGV9IGNhbiBub3QgYmUgYW5pbWF0ZWQhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbcHJvcGVydHldID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJpbmc6IG1vcnBoc1twcm9wZXJ0eV0ub3JkZXJpbmcoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoOiBtb3JwaHNbcHJvcGVydHldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHBhaXJzW3Byb3BlcnR5XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBtb3JwaF9zdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gaW4gcmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9ycGhfc3RhY2sucHVzaChyZXN1bHRbaXRlbV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtb3JwaF9zdGFjay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3JwaF9zdGFjay5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhLm9yZGVyaW5nIC0gYi5vcmRlcmluZztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IGluamVjdCgnJEFuaW1hdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5jb25maWcodGhpcywgbW9ycGhfc3RhY2ssIGNvbmZpZywgQ2hlY2tBbmltYXRpb25RdWV1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdObyBwcm9wZXJ0aWVzIHRvIGFuaW1hdGUhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZSA9IGZ1bmN0aW9uIChhcmcxLCBhcmcyLCBhcmczLCBhcmc0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZzEgPT09ICdzdHJpbmcnICYmIGFyZzIpIHtcclxuICAgICAgICAgICAgICAgICAgICBDcmVhdGVBbmltYXRpb25UeXBlMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFyZzEgPT09IFwib2JqZWN0XCIgJiYgYXJnMS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBDcmVhdGVBbmltYXRpb25UeXBlMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignVW5hYmxlIHRvIGNyZWF0ZSBhbmltYXRpb24uIFdyb25nIGFyZ3VtZW50cycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgQ2hlY2tBbmltYXRpb25RdWV1ZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hbmltYXRlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbmltYXRlZDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSAhPT0gXCJzdHJpbmdcIiB8fCBwcm9wZXJ0eS5sZW5ndGggPT09IDApIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnNbaV0uc3RvcChwcm9wZXJ0eSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8yMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAaW5qZWN0JywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBBdWRpbyhpbmplY3QsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgc291cmNlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHVybCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICB0eXBlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGV2ZW50cyA9IGluamVjdCgnJEV2ZW50UHJvdmlkZXInKSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMgPSBpbmplY3QoJyRBbmltYXRpb25Qcm92aWRlcicpLFxyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgbm9kZW5hbWUgPSAnJztcclxuXHJcbiAgICAgICAgICAgIGV2ZW50cy53cmFwKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZXZlbnRBcmdzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtzZWxmLCBvdXRwdXQsIHVybCwgdHlwZV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgncmVhZHknLCBldmVudEFyZ3MsIHRydWUpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2xvYWQnLCBldmVudEFyZ3MsIHRydWUpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Vycm9yJywgZXZlbnRBcmdzLCB0cnVlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdwbGF5JywgZXZlbnRBcmdzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnY29ubmVjdCcsIGV2ZW50QXJncywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Rpc2Nvbm5lY3QnLCBldmVudEFyZ3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdlbmQnLCBldmVudEFyZ3MsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUFuaW1hdGlvbk1vcnBoKGZpbHRlciwgcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMubW9ycGguYXBwbHkodGhpcywgW3Byb3BlcnR5Lm5hbWUsIDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvcGVydHkubm9ybWFsaXplcih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQoZmlsdGVyLmdldChwcm9wZXJ0eS5uYW1lKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3BlcnR5Lm5vcm1hbGl6ZXIodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyLnNldChwcm9wZXJ0eS5uYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQgPSBmdW5jdGlvbiAobmFtZSwgc3JjKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIgJiYgbmFtZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzcmMgPT09IFwic3RyaW5nXCIgJiYgc3JjICE9PSAnZGVzdGluYXRpb24nICYmIHNyYy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IHNyYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlID0gaW5qZWN0KCckVXNlckF1ZGlvU291cmNlJykuYnVpbGQoc3JjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdTYW1wbGUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2Uub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnbG9hZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGVybWluYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNyYyA9PT0gJ2Rlc3RpbmF0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBpbmplY3QoJyRVc2VyQXVkaW9NaXhlcicpLmJ1aWxkKG5hbWUsIHNyYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHNbMF0gJiYgdHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gXCJvYmplY3RcIiAmJiBhcmd1bWVudHNbMF0uJCRTT1VSQ0UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSAnWycgKyBuYW1lICsgJ10nICsgJ0F1ZGlvQ2hhbm5lbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnQ2hhbm5lbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdsb2FkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNyYyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IGluamVjdCgnJFVzZXJBdWRpb01peGVyJykuYnVpbGQobmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9ICdbJyArIG5hbWUgKyAnXScgKyAnQXVkaW9DaGFubmVsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdDaGFubmVsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2xvYWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5vbignZXJyb3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2Uub24oJ3BsYXknLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdwbGF5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5vbignZW5kJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnZW5kJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5vbignY29ubmVjdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Nvbm5lY3QnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLm9uKCdkaXNjb25uZWN0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnZGlzY29ubmVjdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVycyA9IHNvdXJjZS5maWx0ZXJzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcHMgPSBmaWx0ZXJzW2ldLnByb3BzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG0gPSAwOyBtIDwgcHJvcHMubGVuZ3RoOyBtKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wc1ttXS5hbmltYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUFuaW1hdGlvbk1vcnBoLmFwcGx5KHRoaXMsIFtmaWx0ZXJzW2ldLCBwcm9wc1ttXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBub2RlbmFtZSA9IG5hbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdyZWFkeScpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ0F1ZGlvIG1peGVyIGhhdmUgbm8gbmFtZSEgU2hvdWxkIGJlIGEgc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZpbHRlciA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiICYmIG5hbWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzID0gc291cmNlLmZpbHRlcnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJzW2ldLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyID0gZmlsdGVyc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyLnNldChuYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyLmdldChuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gc2V0IGZpbHRlciBwcm9wZXJ0eSBbe25hbWV9XS4gTm8gZmlsdGVyIHdpdGggdGhhdCBwYXJhbSEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdCA9IGZ1bmN0aW9uIChvdXQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvdXQgJiYgdHlwZW9mIG91dCA9PT0gXCJvYmplY3RcIiAmJiBvdXQuJCRTT1VSQ0UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3V0ID09PSBcIm9iamVjdFwiICYmIG91dC50eXBlICYmIHR5cGVvZiBvdXQudHlwZSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN0eXBlID0gb3V0LnR5cGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ0NoYW5uZWwnICYmIGN0eXBlID09PSAnU2FtcGxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignVHJ5aW5nIHRvIGNvbm5lY3QgQ2hhbm5lbCB3aXRoIFNhbXBsZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG91dC5jb25uZWN0ICYmIHR5cGVvZiBvdXQuY29ubmVjdCA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXRzb3VyY2UgPSBvdXQuY29ubmVjdCh7JCRTT1VSQ0U6IHRydWV9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UuY29ubmVjdChvdXRzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ1Vua25vd24gdHlwZSBvZiAgb2JqZWN0IHBhc3NlZCBhcyBvdXRwdXQhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ1Vua25vd24gdHlwZSBvZiAgb2JqZWN0IHBhc3NlZCBhcyBvdXRwdXQhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm91dHB1dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zLmFuaW1hdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy50eXBlID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdHIgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyID09PSB0eXBlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVybCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1cmw7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZW5hbWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zLnN0b3AuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8yMS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAaW5qZWN0JywgJ0BDb25maWcnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFVzZXJBdWRpb01peGVyKGluamVjdCwgY29uZmlnLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIGV2ZW50cyA9IGluamVjdCgnJEV2ZW50UHJvdmlkZXInKSxcclxuICAgICAgICAgICAgICAgIGZpbHRlcnMgPSBbXSxcclxuICAgICAgICAgICAgICAgIG91dHB1dCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBuYW1lID0gJycsXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJzQ2ZnID0gY29uZmlnLndhdGNoKCdmaWx0ZXJzJywgZnVuY3Rpb24gKHYpIHtmaWx0ZXJzID0gdn0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGV2ZW50cy53cmFwKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gYXJnRigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbdGhpc107XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgncGxheScsIGFyZ0YsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdjb25uZWN0JywgYXJnRiwgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ3JlYWR5JywgYXJnRiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnZXJyb3InLCBhcmdGLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQgPSBmdW5jdGlvbiAobiwgY2hhbm5lbCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVyc0NmZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBub2RlID0gaW5qZWN0KCckJyArIGZpbHRlcnNDZmdbaV0gKyAnTm9kZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJzW2ZpbHRlcnMubGVuZ3RoIC0gMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyc1tmaWx0ZXJzLmxlbmd0aCAtIDFdLmNvbm5lY3Qobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcnMucHVzaChub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG4gPT09IFwic3RyaW5nXCIgJiYgbi5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtuOiBufSwgJ1t7bn1dIGlzIG5vdCBhIHZhbGlkIG5hbWUgZm9yIGNoYW5uZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbCAmJiB0eXBlb2YgY2hhbm5lbCA9PT0gXCJvYmplY3RcIiAmJiBjaGFubmVsLmNvbm5lY3QgJiYgdHlwZW9mIGNoYW5uZWwuY29ubmVjdCA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0KGNoYW5uZWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hhbm5lbCA9PT0gJ2Rlc3RpbmF0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IGluamVjdCgnJERlc3RpbmF0aW9uTm9kZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcnNbZmlsdGVycy5sZW5ndGggLSAxXS5jb25uZWN0KGRlc3RpbmF0aW9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0ID0gZnVuY3Rpb24gKG91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3V0LiQkQVVESU9OT0RFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyc1swXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgZGVsZXRlICB0aGlzLmJ1aWxkO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3QgPSBmdW5jdGlvbiAob3V0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3V0LiQkQVVESU9OT0RFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcnNbMF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSBvdXQuY29ubmVjdCh7JCRBVURJT05PREU6IHRydWV9KTtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzW2ZpbHRlcnMubGVuZ3RoIC0gMV0uY29ubmVjdChpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vdXRwdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5maWx0ZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcnM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmFtZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTkvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnQGV4dGVuZCcsICdAaW5qZWN0JyxcclxuICAgICAgICBmdW5jdGlvbiBVc2VyQXVkaW9Tb3VyY2UoZXh0ZW5kLCBpbmplY3QpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBub2RlID0gaW5qZWN0KCckQXVkaW9Tb3VyY2UnKSxcclxuICAgICAgICAgICAgICAgIGV2ZW50cyA9IGluamVjdCgnJEV2ZW50UHJvdmlkZXInKSxcclxuICAgICAgICAgICAgICAgIG1peGVyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIG91dHB1dCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICB1cmwgPSAnJztcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNiQXJncygpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbdGhpc107XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNvbm5lY3RDYkFyZ3MoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW3RoaXMsIG91dHB1dF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGV2ZW50cy53cmFwKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdyZWFkeScsIGNiQXJncywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnbG9hZCcsIGNiQXJncywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnZXJyb3InLCBjYkFyZ3MsIHRydWUpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Nvbm5lY3QnLCBjb25uZWN0Q2JBcmdzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgncGxheScsIGNiQXJncywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ3N0b3AnLCBjYkFyZ3MsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIG5vZGUub24oJ3JlYWR5JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ3JlYWR5Jyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbm9kZS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdsb2FkJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbm9kZS5vbignZXJyb3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnZXJyb3InKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkID0gZnVuY3Rpb24gKHNyYykge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3JjID09PSBcInN0cmluZ1wiICYmIHNyYy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gc3JjO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUuYnVpbGQoc3JjKTtcclxuICAgICAgICAgICAgICAgICAgICBtaXhlciA9IGluamVjdCgnJFVzZXJBdWRpb01peGVyJykuYnVpbGQoJ3NvdXJjZS1idWlsdC1pbi1maWx0ZXInKTtcclxuICAgICAgICAgICAgICAgICAgICBtaXhlci5vbignY29ubmVjdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Nvbm5lY3QnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLmNvbm5lY3QobWl4ZXIuY29ubmVjdCh7JCRBVURJT05PREU6IHRydWV9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuYnVpbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ3JlYWR5Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgIHRoaXMuYnVpbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5maWx0ZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1peGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1peGVyLmZpbHRlcnMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLnBsYXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc3RhdHVzKCdlcnJvcicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzKCdyZWFkeScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cygnbG9hZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG5vZGUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm91dHB1dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3QgPSBmdW5jdGlvbiAob3V0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3V0ICYmIG91dC5jb25zdHJ1Y3RvciA9PT0gbWl4ZXIuY29uc3RydWN0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBvdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbWl4ZXIuY29ubmVjdChvdXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAQXVkaW8nLCAnQGV4dGVuZCcsXHJcbiAgICAgICAgZnVuY3Rpb24gRGVsYXlOb2RlKGF1ZGlvLCBleHRlbmQpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJEF1ZGlvTm9kZScpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHRpbWVDRkcgPSAwLCBmb3JjZUNGRyA9IDAsIGtpbGxEZWxheSA9IDEwMDAwLFxyXG4gICAgICAgICAgICAgICAgZ2xvYmFsR2FpbiA9IGF1ZGlvLmNvbnRleHQoKS5jcmVhdGVHYWluKCksXHJcbiAgICAgICAgICAgICAgICBkZWxheSA9IGF1ZGlvLmNvbnRleHQoKS5jcmVhdGVEZWxheSgpLFxyXG4gICAgICAgICAgICAgICAgZmVlZGJhY2sgPSBhdWRpby5jb250ZXh0KCkuY3JlYXRlR2FpbigpLFxyXG4gICAgICAgICAgICAgICAgYnEgPSBhdWRpby5jb250ZXh0KCkuY3JlYXRlQmlxdWFkRmlsdGVyKCk7XHJcblxyXG4gICAgICAgICAgICBnbG9iYWxHYWluLmdhaW4udmFsdWUgPSAxO1xyXG4gICAgICAgICAgICBicS5mcmVxdWVuY3kudmFsdWUgPSAyMDAwO1xyXG4gICAgICAgICAgICBmZWVkYmFjay5nYWluLnZhbHVlID0gZm9yY2VDRkc7XHJcbiAgICAgICAgICAgIGRlbGF5LmRlbGF5VGltZS52YWx1ZSA9IHRpbWVDRkc7XHJcblxyXG4gICAgICAgICAgICBkZWxheS5jb25uZWN0KGZlZWRiYWNrKTtcclxuICAgICAgICAgICAgZmVlZGJhY2suY29ubmVjdChicSk7XHJcbiAgICAgICAgICAgIGJxLmNvbm5lY3QoZGVsYXkpO1xyXG4gICAgICAgICAgICBmZWVkYmFjay5jb25uZWN0KGdsb2JhbEdhaW4pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5idWlsZCgnZGVsYXknLCBbZ2xvYmFsR2FpbiwgZmVlZGJhY2tdLCBnbG9iYWxHYWluKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHkoJ2RlbGF5JywgWzAsIDBdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5sZW5ndGggPT0gMiAmJiB0eXBlb2YgdmFsdWVbMF0gPT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgdmFsdWVbMV0gPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZSA9IHZhbHVlWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2UgPSB2YWx1ZVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lID4gMSkgdGltZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lIDwgMCkgdGltZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JjZSA+IC44KSBmb3JjZSA9IC44O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9yY2UgPCAwKSBmb3JjZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVDRkcgPSB0aW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZUNGRyA9IGZvcmNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxheS5kZWxheVRpbWUudmFsdWUgPSB0aW1lQ0ZHO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmZWVkYmFjay5nYWluLnZhbHVlID0gZm9yY2VDRkc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbZm9yY2UsIHRpbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLCB2YWx1ZVsxXV07XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWUgPSB2YWx1ZVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2UgPSB2YWx1ZVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWUgPiAxKSB0aW1lID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGltZSA8IDApIHRpbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JjZSA+IC44KSBmb3JjZSA9IC44O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JjZSA8IDApIGZvcmNlID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtmb3JjZSwgdGltZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzE2LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0BBdWRpbycsICdAZXh0ZW5kJyxcclxuICAgICAgICBmdW5jdGlvbiBEZXN0aW5hdGlvbk5vZGUoYXVkaW8sIGV4dGVuZCkge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckQXVkaW9Ob2RlJyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkKCdkZXN0aW5hdGlvbicsIGF1ZGlvLmNvbnRleHQoKS5kZXN0aW5hdGlvbiwgZmFsc2UpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTYvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnQEF1ZGlvJywgJ0BleHRlbmQnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEdhaW5Ob2RlKGF1ZGlvLCBleHRlbmQpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJEF1ZGlvTm9kZScpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHZvbHVtZSA9IDEsXHJcbiAgICAgICAgICAgICAgICBnYWluID0gYXVkaW8uY29udGV4dCgpLmNyZWF0ZUdhaW4oKTtcclxuXHJcbiAgICAgICAgICAgIGdhaW4uZ2Fpbi52YWx1ZSA9IHZvbHVtZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQoJ2dhaW4nLCBnYWluLCBnYWluKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHkoJ3ZvbHVtZScsIDEsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAxKSB2YWx1ZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZvbHVtZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnYWluLmdhaW4udmFsdWUgPSB2b2x1bWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAxKSB2YWx1ZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTYvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnQEF1ZGlvJywgJ0BleHRlbmQnLFxyXG4gICAgICAgIGZ1bmN0aW9uIExvd3Bhc3NOb2RlKGF1ZGlvLCBleHRlbmQpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJEF1ZGlvTm9kZScpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGJxZiA9IGF1ZGlvLmNvbnRleHQoKS5jcmVhdGVCaXF1YWRGaWx0ZXIoKSxcclxuXHJcbiAgICAgICAgICAgICAgICBmcmVxdWVuY3kgPSAyMjA1MDtcclxuXHJcbiAgICAgICAgICAgIGJxZi50eXBlID0gJ2xvd3Bhc3MnO1xyXG4gICAgICAgICAgICBicWYuZnJlcXVlbmN5LnZhbHVlID0gZnJlcXVlbmN5O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5idWlsZCgnbG93cGFzcycsIGJxZiwgYnFmKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHkoJ2xvd3Bhc3MnLCAyMjA1MCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAyMjA1MCkgdmFsdWUgPSAyMjA1MDtcclxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3kgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicWYuZnJlcXVlbmN5LnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMjIwNTApIHZhbHVlID0gMjIwNTA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAaW5qZWN0JywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBBdWRpb05vZGUoaW5qZWN0LCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIG91dHB1dCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBpbnB1dCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBidWlsZEYgPSBmdW5jdGlvbiAoc291bmQsIG91dHB1dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghb3V0cHV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMuaW5wdXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291bmQuY29ubmVjdChpbnB1dFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0KCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc291bmRzID0gW10sXHJcbiAgICAgICAgICAgICAgICBldmVudHMgPSBpbmplY3QoJyRFdmVudFByb3ZpZGVyJyksXHJcbiAgICAgICAgICAgICAgICBub2RlbmFtZSA9ICcnO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gYXJncygpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbbmV4dE5vZGVdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBldmVudHMud3JhcCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgncmVhZHknLCBhcmdzLCB0cnVlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdwbGF5JywgYXJncywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2VuZCcsIGFyZ3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdjb25uZWN0JywgYXJncywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Rpc2Nvbm5lY3QnLCBhcmdzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgncHJvcGVydHknLCBhcmdzLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dE5vZGUgJiYgb3V0cHV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pbnBBcnJheSA9IG5leHROb2RlLmlucHV0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvdXRwdXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBfaW5wQXJyYXkubGVuZ3RoOyBuKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFtpXS5kaXNjb25uZWN0KF9pbnBBcnJheVtuXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdkaXNjb25uZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdCA9IGZ1bmN0aW9uIChvdXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvdXQ7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dE5vZGUgJiYgb3V0cHV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pbnBBcnIgPSBuZXh0Tm9kZS5pbnB1dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3V0cHV0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgX2lucEFyci5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W2ldLmNvbm5lY3QoX2lucEFycltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnY29ubmVjdCcpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkID0gZnVuY3Rpb24gKG5hbWUsIGlucCwgb3V0LCBmKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dCA9IHR5cGVvZiBpbnAgPT0gXCJvYmplY3RcIiAmJiBpbnAuY29uc3RydWN0b3IgPT09IEFycmF5ID8gaW5wIDogW2lucF07XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSB0eXBlb2Ygb3V0ID09IFwib2JqZWN0XCIgJiYgb3V0LmNvbnN0cnVjdG9yID09PSBBcnJheSA/IG91dCA6IFtvdXRdO1xyXG4gICAgICAgICAgICAgICAgbm9kZW5hbWUgPSBuYW1lO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmID09IFwiZnVuY3Rpb25cIikgYnVpbGRGID0gZjtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmJ1aWxkO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ3JlYWR5Jyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm91dHB1dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZW5hbWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBsYXkgPSBmdW5jdGlvbiAoc291bmQsIG91dHB1dCkge1xyXG4gICAgICAgICAgICAgICAgc291bmRzLnB1c2goc291bmQpO1xyXG4gICAgICAgICAgICAgICAgc291bmQuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdW5kLiQkU0VBUkNIID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdW5kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNvdW5kcy4kJFNFQVJDSCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goc291bmRzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc291bmQuJCRTRUFSQ0g7XHJcbiAgICAgICAgICAgICAgICAgICAgc291bmRzID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG5leHROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUucGxheShzb3VuZCwgYnVpbGRGLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciBtb2RlbCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eSA9IGZ1bmN0aW9uIChuYW1lLCBkZWZWYWwsIHNldHRlciwgZ2V0dGVyLCBub3JtbGl6ZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldHRlcjogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGVyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVyOiBub3JtbGl6ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGVkOiB0eXBlb2Ygbm9ybWxpemVyID09PSBcImZ1bmN0aW9uXCIgPyB0cnVlIDogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGdldHRlciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LmdldHRlciA9IGdldHRlcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXR0ZXIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5zZXR0ZXIgPSBzZXR0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS52YWx1ZSA9IGRlZlZhbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZlZhbCAmJiB0eXBlb2YgcHJvcGVydHkuZ2V0dGVyICYmIHByb3BlcnR5LnNldHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1vZGVsW3Byb3BlcnR5Lm5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eS5uYW1lXSA9IHByb3BlcnR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7cHJvcGVydHk6IHByb3BlcnR5fSwgJ0R1cGxpY2F0ZWQgcHJvcGVydHkgW3twcm9wZXJ0eX1dJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtuYW1lOiBuYW1lfSwgJ1Byb3BlcnR5IG5hbWUgW3tuYW1lfV0gaXMgbm90IHZhbGlkIScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXQgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PSBcInN0cmluZ1wiICYmIG5hbWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBtb2RlbFtuYW1lXS5zZXR0ZXIodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbFtuYW1lXS52YWx1ZSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Byb3A6IG5hbWUsIHZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZW4gZm9yIFt7cHJvcH1dLicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PSBcInN0cmluZ1wiICYmIG5hbWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbFtuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWxbbmFtZV0udmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtuYW1lOiBuYW1lfSwgJ09iamVjdCBoYXMgbm8gcHJvcGVydHkgW3tuYW1lfV0uIFVuYWJsZSB0byBnZXQgdmFsdWUuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignUHJvcGVydHkgbmFtZSBoYXMgdG8gYmUgYSBzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBtb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChtb2RlbFtwcm9wXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhhcyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gISFtb2RlbFtuYW1lXTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzIyLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBmdW5jdGlvbiBBdWRpb05vZGVTb3VuZERpc3BhdGNoZXIoKSB7XHJcblxyXG4gICAgICAgIHZhciBzb3VuZHMgPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uIChzb3VuZCkge1xyXG4gICAgICAgICAgICBzb3VuZC5hZGRFdmVudExpc3RlbmVyKCdlbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzb3VuZC4kJFNFQVJDSCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291bmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzb3VuZHNbaV0uJCRTRUFSQ0gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goc291bmRzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzb3VuZHMgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc291bmRzLnB1c2goc291bmQpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucmVjb25uZWN0ID0gZnVuY3Rpb24gKGRlc3RpbmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291bmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzb3VuZHNbaV0uZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgc291bmRzW2ldLmNvbm5lY3QoZGVzdGluYXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAQXVkaW8nLCAnQGluamVjdCcsICdSZXNvdXJjZScsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQXVkaW9Tb3VyY2UoYXVkaW8sIGluamVjdCwgUmVzb3VyY2UsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdXJsID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHJlc291cmNlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzID0gaW5qZWN0KCckRXZlbnRQcm92aWRlcicpLFxyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBzb3VuZHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGFyZ3MoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW3Jlc291cmNlLCBidWZmZXIsIG91dHB1dF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGV2ZW50cy53cmFwKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdyZWFkeScsIGFyZ3MsIHRydWUpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2xvYWQnLCBhcmdzLCB0cnVlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdlcnJvcicsIGFyZ3MsIHRydWUpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Nvbm5lY3QnLCBhcmdzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnZGlzY29ubmVjdCcsIGFyZ3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdwbGF5JywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2VuZCcsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQgPSBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvdXJjZSA9IFJlc291cmNlLmF1ZGlvKHNyYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2Uub24oJ2xvYWQnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBhdWRpby5jb250ZXh0KCkuZGVjb2RlQXVkaW9EYXRhKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2xvYWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3NyYzogc3JjfSwgJ1t7c3JjfV0gYXVkaW8gYnVmZmVyIGNhbiBub3QgYmUgZGVjb2RlZC4gUmVzb3VyY2Ugbm90IGZvdW5kLCBvciBvZiB3cm9uZyBmb3JtYXQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2Uub24oJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtzcmM6IHNyY30sICdVbmFibGUgdG8gbG9hZCBhdWRpbyBmaWxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoZXJyb3IpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmJ1aWxkO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Rpc2Nvbm5lY3QnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0ID0gZnVuY3Rpb24gKG91dCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBvdXQ7XHJcbiAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnY29ubmVjdCcpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBsYXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0ICYmIHRoaXMuc3RhdHVzKCdsb2FkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gYXVkaW8uY29udGV4dCgpLmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5idWZmZXIgPSBidWZmZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgc291bmRzLnB1c2goc291cmNlKTtcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQucGxheShzb3VyY2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2Uuc3RhcnQoMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291bmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc291bmRzW2ldLnN0b3AoMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzb3VuZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTYvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEV2ZW50KERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgY2IgPSBbXSxcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBuYW1lID0gJ2RlZmF1bHQnLFxyXG4gICAgICAgICAgICAgICAgc3RhdGV2YWwgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICAgICAgYXJnRnVuY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBhcmdGLCBpc1N0YXRlRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gISFpc1N0YXRlRXZlbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdGID09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ0Z1bmN0ID0gYXJnRjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50TmFtZSA9PSBcInN0cmluZ1wiICYmIGV2ZW50TmFtZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGV2ZW50TmFtZVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmJ1aWxkO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmFtZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRldmFsO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlKSBzdGF0ZXZhbCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmdGdW5jdCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzICE9PSBcIm9iamVjdFwiIHx8IGFyZ3MuY29uc3RydWN0b3IgIT09IEFycmF5KSBhcmdzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYltpXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuYWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ0Z1bmN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzICE9PSBcIm9iamVjdFwiIHx8IGFyZ3MuY29uc3RydWN0b3IgIT09IEFycmF5KSBhcmdzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICBjYi5wdXNoKGFyZ3VtZW50c1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYi5wdXNoKGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAaW5qZWN0JyxcclxuICAgICAgICBmdW5jdGlvbiBFdmVudFByb3ZpZGVyKGluamVjdCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGV2ZW50cyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5ldmVudCA9IGZ1bmN0aW9uIChuYW1lLCBhcmdGLCBzdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gaW5qZWN0KCckRXZlbnQnKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LmJ1aWxkLmFwcGx5KGV2ZW50LCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzW25hbWVdID0gZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRzW25hbWVdKSBldmVudHNbbmFtZV0ucmVzb2x2ZS5jYWxsKGV2ZW50c1tuYW1lXSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud3JhcCA9IGZ1bmN0aW9uIChvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIG9iamVjdC5vbiA9IGZ1bmN0aW9uIChuYW1lLCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50c1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHNbbmFtZV0uY2FsbGJhY2suY2FsbChvYmplY3QsIGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgb2JqZWN0LnN0YXR1cyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50c1tuYW1lXSkgcmV0dXJuIGV2ZW50c1tuYW1lXS5hY3RpdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjQvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1N0YXRlJyxcclxuICAgIGZ1bmN0aW9uIFByb3BlcnR5KCkge1xyXG5cclxuICAgICAgICB2YXIgdmFsdWUgPSBudWxsLCBjYWxsYmFja3MgPSBbXTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuc2V0ID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzW2ldKHZhbCwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhbHVlID0gdmFsO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMub25zZXQgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mICBmdW5jICE9PSAnZnVuY3Rpb24nKSByZXR1cm47XHJcbiAgICAgICAgICAgIGNhbGxiYWNrcy5wdXNoKGZ1bmMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI0LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTdGF0ZScsXHJcbiAgICBbJ0BpbmplY3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFN0YXRlKGluamVjdCkge1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBjYWxsYmFja3MgPSB7fSwgcHJvcHMgPSB7fTtcclxuXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBHZXRQcm9wZXJ0eUNhbGxiYWNrKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAobiwgbykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2tzW25hbWVdKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW25hbWVdW2ldKG4sIG8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGVmaW5lID0gZnVuY3Rpb24gKG5hbWUsIHZhbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcHNbbmFtZV0uc2V0KHZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHByb3BzW25hbWVdID0gaW5qZWN0KCckUHJvcGVydHknKTtcclxuICAgICAgICAgICAgICAgIHByb3BzW25hbWVdLm9uc2V0KEdldFByb3BlcnR5Q2FsbGJhY2sobmFtZSkpO1xyXG4gICAgICAgICAgICAgICAgcHJvcHNbbmFtZV0uc2V0KHZhbCk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCA9IGZ1bmN0aW9uIChwcm9wZXJ0eSwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSAhPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFja3NbcHJvcGVydHldKSBjYWxsYmFja3NbcHJvcGVydHldID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wc1twcm9wZXJ0eV0pIHRoaXMuZGVmKHByb3BlcnR5LCBudWxsKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFja3NbcHJvcGVydHldLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNS8xLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGluamVjdCcsICcrRHJhd2VyJywgJytQYXRoJywgJytNb2RlbCcsXHJcbiAgICAgICAgZnVuY3Rpb24gQXJlYU9iamVjdERyYXdlcihpbmplY3QsIERyYXdlckhlbHBlciwgUGF0aEhlbHBlciwgTW9kZWxIZWxwZXIpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBhc3NlbWJsZXIgPSBpbmplY3QoJyRHcmFwaGljc0Fzc2VtYmxlcicpLFxyXG4gICAgICAgICAgICAgICAgYm94ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHRoaXMuZXh0ZW5zaW9uKCdNYXRyaXgnKSxcclxuICAgICAgICAgICAgICAgIGRyYXdlciA9IHRoaXMuZXh0ZW5zaW9uKCdEcmF3ZXInKSxcclxuICAgICAgICAgICAgICAgIGludGVycG9sYXRlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4ID0gMSwgaW50ZXJwb2xhdGlvbmZpeCA9IDAsXHJcbiAgICAgICAgICAgICAgICB4c2hpZnQgPSAwLCB5c2hpZnQgPSAwO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vVE9ETyA6IEFwcGx5IGludGVycG9sYXRpb24gdG8gcGF0aCFcclxuXHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5sYXllcigwLCAnZmlsbCcsIFVwZGF0ZUZpbGwuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5sYXllcigxLCAnYmcnLCBVcGRhdGVCZy5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLmxheWVyKDIsICdzdHJva2UnLCBVcGRhdGVTdHJva2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5ib3goYm94KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFVwZGF0ZUZpbGwoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNwcml0ZSA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKS5ib3goKS5zcHJpdGUoKSxcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHNwcml0ZS5tYXJnaW5bM10gLSB4c2hpZnQsIHNwcml0ZS5tYXJnaW5bMF0gLSB5c2hpZnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBpbnRlcnBvbGF0aW9uID0gc3R5bGUuZ2V0KCdpbnRlcnBvbGF0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnRlcnBvbGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBQYXRoSGVscGVyLmludGVycG9sYXRlKHBhdGgsIGludGVycG9sYXRpb24sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGludGVycG9sYXRpb24pIERyYXdlckhlbHBlci5kcmF3QmV6aWVyUGF0aEZpbGwoY29udGV4dCwgcGF0aCwgc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBEcmF3ZXJIZWxwZXIuZHJhd0xpbmVQYXRoRmlsbChjb250ZXh0LCBwYXRoLCBzdHlsZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFVwZGF0ZVN0cm9rZShjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3ByaXRlID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLnNwcml0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aCA9IE1vZGVsSGVscGVyLmNsb25lQXJyYXkoc3R5bGUuZ2V0KCdwYXRoJykpLFxyXG4gICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRpb24gPSBzdHlsZS5nZXQoJ2ludGVycG9sYXRpb24nKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoc3ByaXRlLm1hcmdpblszXSAtIHhzaGlmdCwgc3ByaXRlLm1hcmdpblswXSAtIHlzaGlmdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnRlcnBvbGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBQYXRoSGVscGVyLmludGVycG9sYXRlKHBhdGgsIGludGVycG9sYXRpb24sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGludGVycG9sYXRpb24pIERyYXdlckhlbHBlci5kcmF3TGluZVBhdGgoY29udGV4dCwgcGF0aCwgc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLmRyYXdCZXppZXJQYXRoKGNvbnRleHQsIHBhdGgsIHN0eWxlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlQmcoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLnNwcml0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHN0eWxlLmdldCgncGF0aCcpKSxcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uID0gc3R5bGUuZ2V0KCdpbnRlcnBvbGF0aW9uJyk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHNwcml0ZS5tYXJnaW5bM10gLSB4c2hpZnQsIHNwcml0ZS5tYXJnaW5bMF0gLSB5c2hpZnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghaW50ZXJwb2xhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUGF0aEhlbHBlci5pbnRlcnBvbGF0ZShwYXRoLCBpbnRlcnBvbGF0aW9uLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0aW9uKSBEcmF3ZXJIZWxwZXIuZHJhd0xpbmVCZ0NsaXBQYXRoKGNvbnRleHQsIHBhdGgsIHN0eWxlLCBhc3NlbWJsZXIsIHNwcml0ZSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIERyYXdlckhlbHBlci5kcmF3QmV6aWVyQmdDbGlwUGF0aChjb250ZXh0LCBwYXRoLCBzdHlsZSwgYXNzZW1ibGVyLCBzcHJpdGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncGF0aCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbnRlcnBvbGF0aW9uID0gc3R5bGUuZ2V0KCdpbnRlcnBvbGF0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIucmVzaXplKCk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnaW50ZXJwb2xhdGlvbicsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGludGVycG9sYXRpb25maXggPSBNYXRoLnJvdW5kKDQwICogbik7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIucmVzaXplKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncG9zaXRpb24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goWydzdHJva2VTdHlsZScsICdzdHJva2VDb2xvciddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci5yZXNpemUoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdmaWxsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goWydiZycsICdiZ1NpemUnLCAnYmdQb3NpdGlvbiddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3N0cm9rZVdpZHRoJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaXggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuW2ldID4gZml4KSBmaXggPSBuW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeCA9IGZpeCAvIDI7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIucmVzaXplKCk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGJveC5mKGZ1bmN0aW9uIChib3hDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gc3R5bGUuZ2V0KCdhbmNob3InKSxcclxuICAgICAgICAgICAgICAgICAgICB4ID0gcG9zaXRpb25bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeSA9IHBvc2l0aW9uWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbnggPSBJbmZpbml0eSxcclxuICAgICAgICAgICAgICAgICAgICBtaW55ID0gSW5maW5pdHksXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4eCA9IC1JbmZpbml0eSxcclxuICAgICAgICAgICAgICAgICAgICBtYXh5ID0gLUluZmluaXR5O1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzBdIDwgbWlueCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW54ID0gcGF0aFtpXVswXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVsyXSA8IG1pbngpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlueCA9IHBhdGhbaV1bMl1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMV0gPCBtaW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnkgPSBwYXRoW2ldWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzNdIDwgbWlueSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW55ID0gcGF0aFtpXVszXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVswXSA+IG1heHgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4eCA9IHBhdGhbaV1bMF1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMl0gPiBtYXh4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heHggPSBwYXRoW2ldWzJdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzFdID4gbWF4eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXh5ID0gcGF0aFtpXVsxXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVszXSA+IG1heHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4eSA9IHBhdGhbaV1bM11cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1pbnggPT09IEluZmluaXR5KSBtaW54ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChtaW55ID09PSBJbmZpbml0eSkgbWlueSA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF4eCA9PT0gLUluZmluaXR5KSBtYXh4ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChtYXh5ID09PSAtSW5maW5pdHkpIG1heHggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIHhzaGlmdCA9IG1pbng7XHJcbiAgICAgICAgICAgICAgICB5c2hpZnQgPSBtaW55O1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBmaXggPSBzdHJva2VmaXggKyBpbnRlcnBvbGF0aW9uZml4LFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gTWF0aC5hYnMobWF4eCAtIG1pbngpLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IE1hdGguYWJzKG1heHkgLSBtaW55KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gd2lkdGggPyB3aWR0aCAvIDIgOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gd2lkdGggPyB3aWR0aCA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnbWlkZGxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gaGVpZ2h0ID8gaGVpZ2h0IC8gMiA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnYm90dG9tJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gaGVpZ2h0ID8gaGVpZ2h0IDogMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYm94Q29udGFpbmVyLnNldChcclxuICAgICAgICAgICAgICAgICAgICB4ICsgeHNoaWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgIHkgKyB5c2hpZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgIGZpeCxcclxuICAgICAgICAgICAgICAgICAgICBmaXgsXHJcbiAgICAgICAgICAgICAgICAgICAgZml4LFxyXG4gICAgICAgICAgICAgICAgICAgIGZpeFxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmYoZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIERyYXdlckhlbHBlci50cmFuc2Zvcm0odGhpcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIuZHJhdyhjb250ZXh0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEzLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnK0RyYXdlcicsICdEZWJ1ZycsICdAaW5qZWN0JyxcclxuICAgICAgICBmdW5jdGlvbiBDaXJjbGVPYmplY3REcmF3ZXIoRHJhd2VySGVscGVyLCBEZWJ1ZywgaW5qZWN0KSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgYXNzZW1ibGVyID0gaW5qZWN0KCckR3JhcGhpY3NBc3NlbWJsZXInKSxcclxuICAgICAgICAgICAgICAgIGRyYXdlciA9IHRoaXMuZXh0ZW5zaW9uKCdEcmF3ZXInKSxcclxuICAgICAgICAgICAgICAgIGJveEV4dCA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKSxcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB0aGlzLmV4dGVuc2lvbignTWF0cml4JyksXHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXggPSAxO1xyXG5cclxuICAgICAgICAgICAgYXNzZW1ibGVyLmxheWVyKDAsICdmaWxsJywgVXBkYXRlRmlsbC5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLmxheWVyKDEsICdiZycsIFVwZGF0ZUJnLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBhc3NlbWJsZXIubGF5ZXIoMiwgJ3N0cm9rZScsIFVwZGF0ZVN0cm9rZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLmJveChib3hFeHQpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlU3Ryb2tlKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzcHJpdGUgPSBib3hFeHQuYm94KCkuc3ByaXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyhzcHJpdGUuc2l6ZVswXSAvIDIsIHNwcml0ZS5zaXplWzFdIC8gMiwgc3R5bGUuZ2V0KCdyYWRpdXMnKSwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFVwZGF0ZUZpbGwoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGJveEV4dC5ib3goKS5zcHJpdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBzdHlsZS5nZXQoJ2ZpbGwnKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKHNwcml0ZS5zaXplWzBdIC8gMiwgc3ByaXRlLnNpemVbMV0gLyAyLCBzdHlsZS5nZXQoJ3JhZGl1cycpLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlQmcoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGJveEV4dC5ib3goKS5zcHJpdGUoKSxcclxuICAgICAgICAgICAgICAgICAgICBib3ggPSBib3hFeHQuYm94KCkudmFsdWUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMoc3ByaXRlLnNpemVbMF0gLyAyLCBzcHJpdGUuc2l6ZVsxXSAvIDIsIHN0eWxlLmdldCgncmFkaXVzJyksIDAsIE1hdGguUEkgLyAyKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xpcCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBiZ3Bvc2l0aW9uID0gc3R5bGUuZ2V0KCdiZ1Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYmdzaXplID0gc3R5bGUuZ2V0KCdiZ1NpemUnKSxcclxuICAgICAgICAgICAgICAgICAgICBiZyA9IHN0eWxlLmdldCgnYmcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJnLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYmdbaV0ubG9hZGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmdbaV0ub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmd3aWR0aCA9IGJveC5zaXplWzBdICogYmdzaXplW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdoZWlnaHQgPSBib3guc2l6ZVsxXSAqIGJnc2l6ZVtpXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb254ID0gYm94LnNpemVbMF0gKiBiZ3Bvc2l0aW9uW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbnkgPSBib3guc2l6ZVsxXSAqIGJncG9zaXRpb25baV1bMV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShzcHJpdGUubWFyZ2luWzNdICsgYmdwb3NpdGlvbngsIHNwcml0ZS5tYXJnaW5bMF0gKyBiZ3Bvc2l0aW9ueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGJnW2ldLmV4cG9ydCgpLCAwLCAwLCBiZ3dpZHRoLCBiZ2hlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYm94RXh0LmYoZnVuY3Rpb24gKGJveENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJhZGl1cyA9IHN0eWxlLmdldCgncmFkaXVzJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSBzdHlsZS5nZXQoJ3Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gc3R5bGUuZ2V0KCdhbmNob3InKSxcclxuICAgICAgICAgICAgICAgICAgICBkID0gcmFkaXVzICogMjtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IHBvc2l0aW9uWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkgPSBwb3NpdGlvblsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gcmFkaXVzXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSBkXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnbWlkZGxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gcmFkaXVzXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnYm90dG9tJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gZDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBib3hDb250YWluZXIuc2V0KHgsIHksIGQsIGQsIHN0cm9rZWZpeCwgc3Ryb2tlZml4LCBzdHJva2VmaXgsIHN0cm9rZWZpeCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncmFkaXVzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpO1xyXG4gICAgICAgICAgICAgICAgYm94RXh0LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci5yZXNpemUoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdmaWxsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3Bvc2l0aW9uJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYm94RXh0LnB1cmdlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnc3Ryb2tlV2lkdGgnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG4gIT09IG8pIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VmaXggPSBuO1xyXG4gICAgICAgICAgICAgICAgICAgIGJveEV4dC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2VtYmxlci5yZXNpemUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsnc3Ryb2tlU3R5bGUnLCAnc3Ryb2tlQ29sb3InXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Rva2UnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsnYmcnLCAnYmdQb3NpdGlvbicsICdiZ1NpemUnXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZihmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLnRyYW5zZm9ybSh0aGlzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci5kcmF3KGNvbnRleHQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvNS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0RlYnVnJywgJytNYXRyaXgnLFxyXG4gICAgICAgIGZ1bmN0aW9uIERlZmF1bHRPYmplY3REcmF3ZXIoRGVidWcsIE1hdHJpeCkge1xyXG4gICAgICAgICAgICB2YXIgbWF0cml4ID0gdGhpcy5leHRlbnNpb24oJ01hdHJpeCcpO1xyXG5cclxuICAgICAgICAgICAgbWF0cml4LmYoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdHJpeC5vYmplY3RNYXRyaXgodGhpcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaChbJ3Bvc2l0aW9uJywgJ3JvdGF0ZScsICd0cmFuc2xhdGUnLCAnc2NhbGUnLCAnc2tldyddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytEcmF3ZXInLFxyXG4gICAgICAgIGZ1bmN0aW9uIEdyb3VwT2JqZWN0RHJhd2VyKERyYXdlckhlbHBlcikge1xyXG4gICAgICAgICAgICB2YXIgZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgICAgICAgICAgbGF5ZXJzID0gdGhpcy5leHRlbnNpb24oJ0xheWVycycpLFxyXG4gICAgICAgICAgICAgICAgYm94ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgIGJveC5mKGZ1bmN0aW9uIChib3hDb250YWluZXIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbWlueCA9IEluZmluaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbnkgPSBJbmZpbml0eSxcclxuICAgICAgICAgICAgICAgICAgICBtYXh4ID0gLUluZmluaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIG1heHkgPSAtSW5maW5pdHk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uICgpIHtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvYm94ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLnZhbHVlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYm94LnBvc2l0aW9uWzBdIDwgbWlueCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW54ID0gb2JveC5wb3NpdGlvblswXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9ib3gucG9zaXRpb25bMV0gPCBtaW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnkgPSBvYm94LnBvc2l0aW9uWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYm94LnBvc2l0aW9uWzBdICsgb2JveC5zaXplWzBdID4gbWF4eCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXh4ID0gb2JveC5wb3NpdGlvblswXSArIG9ib3guc2l6ZVswXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9ib3gucG9zaXRpb25bMV0gKyBvYm94LnNpemVbMV0gPiBtYXh5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heHkgPSBvYm94LnBvc2l0aW9uWzFdICsgb2JveC5zaXplWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBzdHlsZS5nZXQoJ3Bvc2l0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1pbnggPT09IEluZmluaXR5KSBtaW54ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChtYXh4ID09PSAtSW5maW5pdHkpIG1heHggPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1pbnkgPT09IEluZmluaXR5KSBtaW55ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChtYXh5ID09PSAtSW5maW5pdHkpIG1heHkgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGJveENvbnRhaW5lci5zZXQoXHJcbiAgICAgICAgICAgICAgICAgICAgbWlueCArIHBvc2l0aW9uWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbnkgKyBwb3NpdGlvblsxXSxcclxuICAgICAgICAgICAgICAgICAgICBtYXh4IC0gbWlueCxcclxuICAgICAgICAgICAgICAgICAgICBtYXh5IC0gbWlueSxcclxuICAgICAgICAgICAgICAgICAgICAwLCAwLCAwLCAwXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IFswLCAwXTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3Bvc2l0aW9uJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gbjtcclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5mKGZ1bmN0aW9uIChjb250ZXh0LCB0aW1lLCBmcmFtZSkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSAqPSBzdHlsZS5nZXQoJ29wYWNpdHknKTtcclxuXHJcbiAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIudHJhbnNmb3JtKHRoaXMsIGNvbnRleHQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb2RyYXdlciA9IHRoaXMuZXh0ZW5zaW9uKCdEcmF3ZXInKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHRoaXMudHlwZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ0dyb3VwJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZHJhd2VyLmRyYXcuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3N0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBvc3R5bGUuZ2V0KCdibGVuZGluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhICo9IG9zdHlsZS5nZXQoJ29wYWNpdHknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2RyYXdlci5kcmF3LmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrRHJhd2VyJywgJ1Jlc291cmNlJyxcclxuICAgICAgICBmdW5jdGlvbiBJbWFnZU9iamVjdERyYXdlcihEcmF3ZXJIZWxwZXIsIFJlc291cmNlKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGJveCA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKSxcclxuICAgICAgICAgICAgICAgIGRyYXdlciA9IHRoaXMuZXh0ZW5zaW9uKCdEcmF3ZXInKSxcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHRoaXMuZXh0ZW5zaW9uKCdNYXRyaXgnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IG51bGwsIGhlaWdodCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBpbWFnZSA9IG51bGw7XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnc3JjJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChvICE9PSBuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2UgPSBSZXNvdXJjZS5pbWFnZShuKTtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpZHRoID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IGltYWdlLndpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlaWdodCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3NpemUnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9bMF0gIT09IG5bMF0gfHwgb1sxXSAhPT0gblsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gblswXTtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBuWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3Bvc2l0aW9uJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChvWzBdICE9PSBuWzBdIHx8IG9bMV0gIT09IG5bMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBib3guZihmdW5jdGlvbiAoYm94Q29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBzdHlsZS5nZXQoJ3Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gc3R5bGUuZ2V0KCdhbmNob3InKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IHBvc2l0aW9uWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkgPSBwb3NpdGlvblsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gd2lkdGggPyB3aWR0aCAvIDIgOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gd2lkdGggPyB3aWR0aCA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnbWlkZGxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gaGVpZ2h0ID8gaGVpZ2h0IC8gMiA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnYm90dG9tJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gaGVpZ2h0ID8gaGVpZ2h0IDogMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYm94Q29udGFpbmVyLnNldCh4LCB5LCB3aWR0aCA/IHdpZHRoIDogMCwgaGVpZ2h0ID8gaGVpZ2h0IDogMCwgMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmYoZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbWFnZSAmJiBpbWFnZS5sb2FkZWQoKSAmJiAhaW1hZ2UuZXJyb3IoKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICE9PSBudWxsICYmXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ICE9PSBudWxsICYmIHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLnRyYW5zZm9ybSh0aGlzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZS5leHBvcnQoKSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGluamVjdCcsICdEZWJ1ZycsICcrRHJhd2VyJywgJytQYXRoJyxcclxuICAgICAgICBmdW5jdGlvbiBMaW5lT2JqZWN0RHJhd2VyKGluamVjdCwgRGVidWcsIERyYXdlckhlbHBlciwgUGF0aEhlbHBlcikge1xyXG5cclxuICAgICAgICAgICAgdmFyIGJveCA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKSxcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBpbmplY3QoJyRDYW52YXMnKSxcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHRoaXMuZXh0ZW5zaW9uKCdNYXRyaXgnKSxcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gZmFsc2UsIGludGVycG9sYXRlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4ID0gMSwgaW50ZXJwb2xhdGlvbmZpeCA9IDAsXHJcbiAgICAgICAgICAgICAgICBkcmF3ZXIgPSB0aGlzLmV4dGVuc2lvbignRHJhd2VyJyksXHJcbiAgICAgICAgICAgICAgICB4c2hpZnQgPSAwLCB5c2hpZnQgPSAwO1xyXG5cclxuICAgICAgICAgICAgYm94LmYoZnVuY3Rpb24gKGJveENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gc3R5bGUuZ2V0KCdwb3NpdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBzdHlsZS5nZXQoJ2FuY2hvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgIHggPSBwb3NpdGlvblswXSxcclxuICAgICAgICAgICAgICAgICAgICB5ID0gcG9zaXRpb25bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWlueCA9IEluZmluaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbnkgPSBJbmZpbml0eSxcclxuICAgICAgICAgICAgICAgICAgICBtYXh4ID0gLUluZmluaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIG1heHkgPSAtSW5maW5pdHk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMF0gPCBtaW54KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnggPSBwYXRoW2ldWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzJdIDwgbWlueCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW54ID0gcGF0aFtpXVsyXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVsxXSA8IG1pbnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlueSA9IHBhdGhbaV1bMV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bM10gPCBtaW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnkgPSBwYXRoW2ldWzNdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzBdID4gbWF4eCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXh4ID0gcGF0aFtpXVswXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVsyXSA+IG1heHgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4eCA9IHBhdGhbaV1bMl1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMV0gPiBtYXh5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heHkgPSBwYXRoW2ldWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzNdID4gbWF4eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXh5ID0gcGF0aFtpXVszXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobWlueCA9PT0gSW5maW5pdHkpIG1pbnggPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1pbnkgPT09IEluZmluaXR5KSBtaW55ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChtYXh4ID09PSAtSW5maW5pdHkpIG1heHggPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1heHkgPT09IC1JbmZpbml0eSkgbWF4eCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgeHNoaWZ0ID0gbWlueDtcclxuICAgICAgICAgICAgICAgIHlzaGlmdCA9IG1pbnk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGZpeCA9IHN0cm9rZWZpeCArIGludGVycG9sYXRpb25maXgsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBNYXRoLmFicyhtYXh4IC0gbWlueCksXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5hYnMobWF4eSAtIG1pbnkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdjZW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSB3aWR0aCA/IHdpZHRoIC8gMiA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSB3aWR0aCA/IHdpZHRoIDogMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdtaWRkbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBoZWlnaHQgPyBoZWlnaHQgLyAyIDogMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdib3R0b20nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBoZWlnaHQgPyBoZWlnaHQgOiAwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBib3hDb250YWluZXIuc2V0KFxyXG4gICAgICAgICAgICAgICAgICAgIHggKyB4c2hpZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgeSArIHlzaGlmdCxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgZml4LFxyXG4gICAgICAgICAgICAgICAgICAgIGZpeCxcclxuICAgICAgICAgICAgICAgICAgICBmaXgsXHJcbiAgICAgICAgICAgICAgICAgICAgZml4XHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdwYXRoJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGludGVycG9sYXRpb24gPSBzdHlsZS5nZXQoJ2ludGVycG9sYXRpb24nKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0aW9uICE9PSAwKSBpbnRlcnBvbGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdwb3NpdGlvbicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3N0cm9rZVdpZHRoJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaXggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuW2ldID4gZml4KSBmaXggPSBuW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeCA9IGZpeCAvIDI7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ2ludGVycG9sYXRpb24nLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG8gIT09IG4pIGludGVycG9sYXRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGludGVycG9sYXRpb25maXggPSBNYXRoLnJvdW5kKDIwICogbik7XHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsnc3Ryb2tlU3R5bGUnLCAnc3Ryb2tlQ29sb3InXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmNvbnRleHQoKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFVwZGF0ZUNhbnZhcygpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzcHJpdGUgPSBib3guYm94KCkuc3ByaXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRpb24gPSBzdHlsZS5nZXQoJ2ludGVycG9sYXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY2FudmFzLndpZHRoKCkgIT09IHNwcml0ZS5zaXplWzBdIHx8IGNhbnZhcy5oZWlnaHQoKSAhPT0gc3ByaXRlLnNpemVbMV0pIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gc3ByaXRlLnNpemVbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IHNwcml0ZS5zaXplWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMud2lkdGgod2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQoaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHNwcml0ZS5zaXplWzBdLCBzcHJpdGUuc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghaW50ZXJwb2xhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUGF0aEhlbHBlci5pbnRlcnBvbGF0ZShwYXRoLCBpbnRlcnBvbGF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoc3ByaXRlLm1hcmdpblszXSAtIHhzaGlmdCwgc3ByaXRlLm1hcmdpblswXSAtIHlzaGlmdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGludGVycG9sYXRpb24gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIuZHJhd0JlemllclBhdGgoY3R4LCBwYXRoLCBzdHlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIuZHJhd0xpbmVQYXRoKGN0eCwgcGF0aCwgc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5mKGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVxdWlyZV91cGRhdGUpIFVwZGF0ZUNhbnZhcy5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLnRyYW5zZm9ybSh0aGlzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGNhbnZhcy5leHBvcnQoKSwgMCwgMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTEvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAaW5qZWN0JywgJytEcmF3ZXInLFxyXG4gICAgICAgIGZ1bmN0aW9uIFJlY3RhbmdsZU9iamVjdERyYXdlcihpbmplY3QsIERyYXdlckhlbHBlcikge1xyXG5cclxuICAgICAgICAgICAgdmFyIGFzc2VtYmxlciA9IGluamVjdCgnJEdyYXBoaWNzQXNzZW1ibGVyJyksXHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgICAgICAgICAgYm94RXh0ZW5zaW9uID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLFxyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gdGhpcy5leHRlbnNpb24oJ01hdHJpeCcpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4ID0gWzIsIDIsIDIsIDJdO1xyXG5cclxuICAgICAgICAgICAgYXNzZW1ibGVyLmxheWVyKDAsICdmaWxsJywgVXBkYXRlRmlsbC5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLmxheWVyKDEsICdiZycsIFVwZGF0ZUJnLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBhc3NlbWJsZXIubGF5ZXIoMiwgJ3N0cm9rZScsIFVwZGF0ZVN0cm9rZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLmJveChib3hFeHRlbnNpb24pO1xyXG5cclxuICAgICAgICAgICAgYm94RXh0ZW5zaW9uLmYoZnVuY3Rpb24gKGJveENvbnRhaW5lcikge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplID0gc3R5bGUuZ2V0KCdzaXplJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gc3R5bGUuZ2V0KCdhbmNob3InKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IHBvc2l0aW9uWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkgPSBwb3NpdGlvblsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gc2l6ZVswXSAvIDI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSBzaXplWzBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PT0gJ21pZGRsZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IHNpemVbMV0gLyAyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PT0gJ2JvdHRvbScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IHNpemVbMV1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBib3hDb250YWluZXIuc2V0KFxyXG4gICAgICAgICAgICAgICAgICAgIHgsIHksXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZVswXSwgc2l6ZVsxXSxcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VmaXhbMF0sIHN0cm9rZWZpeFsxXSwgc3Ryb2tlZml4WzJdLCBzdHJva2VmaXhbM11cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmYoZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIERyYXdlckhlbHBlci50cmFuc2Zvcm0odGhpcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIuZHJhdyhjb250ZXh0KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdzaXplJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci5yZXNpemUoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgYm94RXh0ZW5zaW9uLnB1cmdlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncmFkaXVzJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdzdHJva2VXaWR0aCcsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXhbMF0gPSBuWzBdO1xyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4WzFdID0gblsxXTtcclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeFsyXSA9IG5bMl07XHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXhbM10gPSBuWzNdO1xyXG4gICAgICAgICAgICAgICAgYm94RXh0ZW5zaW9uLnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIucmVzaXplKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsncG9zaXRpb24nLCAnc2l6ZSddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBib3hFeHRlbnNpb24ucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goWydiZycsICdiZ1NpemUnLCAnYmdQb3NpdGlvbiddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goWydzdHJva2VTdHlsZScsICdzdHJva2VDb2xvciddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsnZmlsbCddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gbm9ybWFsaXplUmFkaXVzKHJhZGl1cykge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbcmFkaXVzWzBdLCByYWRpdXNbMV0sIHJhZGl1c1syXSwgcmFkaXVzWzNdXSxcclxuICAgICAgICAgICAgICAgICAgICBib3ggPSBib3hFeHRlbnNpb24uYm94KCkudmFsdWUoKSxcclxuICAgICAgICAgICAgICAgICAgICBoYWxmYm94ID0gW2JveC5zaXplWzBdIC8gMiwgYm94LnNpemVbMV0gLyAyXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbaV0gPiBoYWxmYm94WzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IGhhbGZib3hbMF1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFtpXSA+IGhhbGZib3hbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gaGFsZmJveFsxXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBkcmF3UmVjdFBhdGgoY29udGV4dCwgc3Ryb2tlKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJhZGl1cyA9IG5vcm1hbGl6ZVJhZGl1cyhzdHlsZS5nZXQoJ3JhZGl1cycpKSxcclxuICAgICAgICAgICAgICAgICAgICBrID0gMC41NTIyODQ3NDk4LFxyXG4gICAgICAgICAgICAgICAgICAgIGJveCA9IGJveEV4dGVuc2lvbi5ib3goKS52YWx1ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZSA9IGJveEV4dGVuc2lvbi5ib3goKS5zcHJpdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0cm9rZUNvbG9yID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcCA9IHN0eWxlLmdldCgnY2FwJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZUNhcCA9IGNhcDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJhZGl1c1swXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhzcHJpdGUubWFyZ2luWzNdICsgcmFkaXVzWzBdLCBzcHJpdGUubWFyZ2luWzBdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdHlsZVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGhbMF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmFkaXVzWzFdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGJveC5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSAtIHJhZGl1c1sxXSwgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnZlTW9kaWZpZXIgPSBrICogcmFkaXVzWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMF0gKyBzcHJpdGUubWFyZ2luWzNdIC0gcmFkaXVzWzFdICsgY3VydmVNb2RpZmllcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMF0gKyBzcHJpdGUubWFyZ2luWzNdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUubWFyZ2luWzBdICsgcmFkaXVzWzFdIC0gY3VydmVNb2RpZmllcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMF0gKyBzcHJpdGUubWFyZ2luWzNdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUubWFyZ2luWzBdICsgcmFkaXVzWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGJveC5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSwgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkgY29udGV4dC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdHlsZVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGhbMV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmFkaXVzWzJdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJ2ZU1vZGlmaWVyID0gayAqIHJhZGl1c1syXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhib3guc2l6ZVswXSArIHNwcml0ZS5tYXJnaW5bM10sIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXSAtIHJhZGl1c1syXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbMl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3JbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGhbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMF0gKyBzcHJpdGUubWFyZ2luWzNdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3guc2l6ZVsxXSArIHNwcml0ZS5tYXJnaW5bMF0gLSByYWRpdXNbMl0gKyBjdXJ2ZU1vZGlmaWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3guc2l6ZVswXSArIHNwcml0ZS5tYXJnaW5bM10gLSByYWRpdXNbMl0gKyBjdXJ2ZU1vZGlmaWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3guc2l6ZVsxXSArIHNwcml0ZS5tYXJnaW5bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSAtIHJhZGl1c1syXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMV0gKyBzcHJpdGUubWFyZ2luWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oYm94LnNpemVbMF0gKyBzcHJpdGUubWFyZ2luWzNdLCBib3guc2l6ZVsxXSArIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbMl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvclsyXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVdpZHRoWzJdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyYWRpdXNbM10gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnZlTW9kaWZpZXIgPSBrICogcmFkaXVzWzNdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHNwcml0ZS5tYXJnaW5bM10gKyByYWRpdXNbM10sIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblszXSArIHJhZGl1c1szXSAtIGN1cnZlTW9kaWZpZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblszXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMV0gKyBzcHJpdGUubWFyZ2luWzBdIC0gcmFkaXVzWzNdICsgY3VydmVNb2RpZmllcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblszXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMV0gKyBzcHJpdGUubWFyZ2luWzBdIC0gcmFkaXVzWzNdXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHNwcml0ZS5tYXJnaW5bM10sIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkgY29udGV4dC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdHlsZVszXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yWzNdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGhbM107XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJhZGl1c1swXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VydmVNb2RpZmllciA9IGsgKiByYWRpdXNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oc3ByaXRlLm1hcmdpblszXSwgc3ByaXRlLm1hcmdpblswXSArIHJhZGl1c1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkgY29udGV4dC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0cm9rZVN0eWxlWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva1N0eWxlID0gc3Ryb2tlQ29sb3JbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGhbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblszXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblswXSArIHJhZGl1c1swXSAtIGN1cnZlTW9kaWZpZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bMF0gKyByYWRpdXNbMF0gLSBjdXJ2ZU1vZGlmaWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUubWFyZ2luWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUubWFyZ2luWzNdICsgcmFkaXVzWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUubWFyZ2luWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oc3ByaXRlLm1hcmdpblszXSwgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGhhc1JhZGl1cygpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICByYWRpdXMgPSBzdHlsZS5nZXQoJ3JhZGl1cycpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFkaXVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhZGl1c1tpXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gaGFzU3Ryb2tlKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0cm9rZSA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cm9rZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2VbaV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBtb25vU3Ryb2tlKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0cm9rZUNvbG9yID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRDb2xvciA9IHN0cm9rZUNvbG9yWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGRXaWR0aCA9IHN0cm9rZVdpZHRoWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGRTdHlsZSA9IHN0cm9rZVN0eWxlWzBdLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkQ29sb3IgIT09IHN0cm9rZUNvbG9yW2ldIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRXaWR0aCAhPT0gc3Ryb2tlV2lkdGhbaV0gfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgIShzdHJva2VTdHlsZVtpXVswXSA9PT0gZFN0eWxlWzBdICYmIHN0cm9rZVN0eWxlW2ldWzFdID09PSBkU3R5bGVbMV0pXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVCZyhjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYm94Q29udGFpbmVyID0gYm94RXh0ZW5zaW9uLmJveCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJveCA9IGJveENvbnRhaW5lci52YWx1ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZSA9IGJveENvbnRhaW5lci5zcHJpdGUoKSxcclxuICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9uID0gc3R5bGUuZ2V0KCdiZ1Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYmdzaXplID0gc3R5bGUuZ2V0KCdiZ1NpemUnKSxcclxuICAgICAgICAgICAgICAgICAgICBiZyA9IHN0eWxlLmdldCgnYmcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzUmFkaXVzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkcmF3UmVjdFBhdGgoY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlY3Qoc3ByaXRlLm1hcmdpblszXSwgc3ByaXRlLm1hcmdpblswXSwgYm94LnNpemVbMF0sIGJveC5zaXplWzFdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsaXAoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJnLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYmdbaV0ubG9hZGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmdbaV0ub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmd3aWR0aCA9IGJveC5zaXplWzBdICogYmdzaXplW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdoZWlnaHQgPSBib3guc2l6ZVsxXSAqIGJnc2l6ZVtpXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb254ID0gYm94LnNpemVbMF0gKiBiZ3Bvc2l0aW9uW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbnkgPSBib3guc2l6ZVsxXSAqIGJncG9zaXRpb25baV1bMV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShzcHJpdGUubWFyZ2luWzNdICsgYmdwb3NpdGlvbngsIHNwcml0ZS5tYXJnaW5bMF0gKyBiZ3Bvc2l0aW9ueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGJnW2ldLmV4cG9ydCgpLCAwLCAwLCBiZ3dpZHRoLCBiZ2hlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlU3Ryb2tlKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChoYXNTdHJva2UoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHJva2VDb2xvciA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGggPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3hDb250YWluZXIgPSBib3hFeHRlbnNpb24uYm94KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveCA9IGJveENvbnRhaW5lci52YWx1ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUgPSBib3hDb250YWluZXIuc3ByaXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNSYWRpdXMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmF3UmVjdFBhdGgoY29udGV4dCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9ub1N0cm9rZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FwID0gc3R5bGUuZ2V0KCdjYXAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZUNhcCA9IGNhcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VXaWR0aFswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhzcHJpdGUubWFyZ2luWzNdLCBzcHJpdGUubWFyZ2luWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHNwcml0ZS5tYXJnaW5bM10gKyBib3guc2l6ZVswXSwgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhzcHJpdGUubWFyZ2luWzNdICsgYm94LnNpemVbMF0sIHNwcml0ZS5tYXJnaW5bMF0gKyBib3guc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhzcHJpdGUubWFyZ2luWzNdLCBzcHJpdGUubWFyZ2luWzBdICsgYm94LnNpemVbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oc3ByaXRlLm1hcmdpblszXSwgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVGaWxsKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxsID0gc3R5bGUuZ2V0KCdmaWxsJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYm94Q29udGFpbmVyID0gYm94RXh0ZW5zaW9uLmJveCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJveCA9IGJveENvbnRhaW5lci52YWx1ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZSA9IGJveENvbnRhaW5lci5zcHJpdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzUmFkaXVzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkcmF3UmVjdFBhdGgoY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlY3Qoc3ByaXRlLm1hcmdpblszXSwgc3ByaXRlLm1hcmdpblswXSwgYm94LnNpemVbMF0sIGJveC5zaXplWzFdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbDtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEzLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnK0RyYXdlcicsICcrTW9kZWwnLCAnUmVzb3VyY2UnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFNwcml0ZU9iamVjdERyYXdlcihEcmF3ZXJIZWxwZXIsIE1vZGVsSGVscGVyLCBSZXNvdXJjZSkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBib3ggPSB0aGlzLmV4dGVuc2lvbignQm94JyksXHJcbiAgICAgICAgICAgICAgICBkcmF3ZXIgPSB0aGlzLmV4dGVuc2lvbignRHJhd2VyJyksXHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB0aGlzLmV4dGVuc2lvbignTWF0cml4JyksXHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IG51bGwsIGhlaWdodCA9IG51bGwsIGltYWdlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGJveC5mKGZ1bmN0aW9uIChib3hDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBzdHlsZS5nZXQoJ2FuY2hvcicpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB4ID0gcG9zaXRpb25bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeSA9IHBvc2l0aW9uWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT0gJ2NlbnRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IHdpZHRoID8gd2lkdGggLyAyIDogMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gd2lkdGggPyB3aWR0aCA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09ICdtaWRkbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBoZWlnaHQgPyBoZWlnaHQgLyAyIDogMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT0gJ2JvdHRvbScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IGhlaWdodCA/IGhlaWdodCA6IDBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJveENvbnRhaW5lci5zZXQoXHJcbiAgICAgICAgICAgICAgICAgICAgeCxcclxuICAgICAgICAgICAgICAgICAgICB5LFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID8gd2lkdGggOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA/IGhlaWdodCA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgICAgICAgICAgMFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZihmdW5jdGlvbiAoY29udGV4dCwgdGltZSwgZnJhbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbWFnZSAmJiBpbWFnZS5sb2FkZWQoKSAmJiAhaW1hZ2UuZXJyb3IoKVxyXG4gICAgICAgICAgICAgICAgICAgICYmIGltYWdlLnJlYWR5KClcclxuICAgICAgICAgICAgICAgICAgICAmJiB3aWR0aCAhPT0gbnVsbCAmJiBoZWlnaHQgIT09IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAmJiB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIERyYXdlckhlbHBlci50cmFuc2Zvcm0odGhpcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2UudGljayh0aW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZS5leHBvcnQoKSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnc3JjJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChuICE9PSBvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBNb2RlbEhlbHBlci5yZWFkU3ByaXRlU3RyaW5nKG4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlID0gUmVzb3VyY2Uuc3ByaXRlKGRhdGEudXJsKTtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5jb25maWcoZGF0YS5mcmFtZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkdGggPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBpbWFnZS53aWR0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoZWlnaHQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3NpemUnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9bMF0gIT09IG5bMF0gfHwgb1sxXSAhPT0gblsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gblswXTtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBuWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncG9zaXRpb24nLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9bMF0gIT09IG5bMF0gfHwgb1sxXSAhPT0gblsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjUvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAaW5qZWN0JywgJytEcmF3ZXInLCAnUmVzb3VyY2UnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFRleHRPYmplY3REcmF3ZXIoaW5qZWN0LCBEcmF3ZXJIZWxwZXIsIFJlc291cmNlKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gdGhpcy5leHRlbnNpb24oJ1RleHQnKSxcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBib3ggPSB0aGlzLmV4dGVuc2lvbignQm94JyksXHJcbiAgICAgICAgICAgICAgICBkcmF3ZXIgPSB0aGlzLmV4dGVuc2lvbignRHJhd2VyJyksXHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB0aGlzLmV4dGVuc2lvbignTWF0cml4JyksXHJcbiAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZm9udCA9IHN0eWxlLmdldCgnZm9udCcpLFxyXG4gICAgICAgICAgICAgICAgd2VpZ2h0ID0gc3R5bGUuZ2V0KCd3ZWlnaHQnKSxcclxuICAgICAgICAgICAgICAgIGZzdHlsZSA9IHN0eWxlLmdldCgnc3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlciA9IGluamVjdCgnJEdyYXBoaWNzQXNzZW1ibGVyJyksXHJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgYXNzZW1ibGVyLmxheWVyKDAsICd0ZXh0JywgVXBkYXRlVGV4dExheWVyKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFVwZGF0ZVRleHRMYXllcihjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0LnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gc3R5bGUuZ2V0KCdsaW5lSGVpZ2h0JyksXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBzdHlsZS5nZXQoJ2NvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemUgPSBzdHlsZS5nZXQoJ2ZvbnRTaXplJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYWxpZ24gPSBzdHlsZS5nZXQoJ2FsaWduJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdG9wU3BhbiA9IGxpbmVIZWlnaHQgLSAoZm9udFNpemUgLyA1KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZm9udFNpemUgPCBsaW5lSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wU3BhbiA9IHRvcFNwYW4gLSAobGluZUhlaWdodCAtIGZvbnRTaXplKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcFNwYW4gPSB0b3BTcGFuICsgKGZvbnRTaXplIC0gbGluZUhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0ZXh0LmZvckVhY2hMaW5lKGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeSA9IHRvcFNwYW4gKyBpICogbGluZUhlaWdodDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5mb250ID0gdGhpcy5leHRyYWN0Rm9udFN0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5jb2xvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGlnbiA9PT0gJ2NlbnRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dCh0aGlzLnN0cmluZygpLCAodGV4dC50ZXh0QmxvY2tXaWR0aCgpIC0gdGhpcy53aWR0aCgpKSAvIDIsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhbGlnbiA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHRoaXMuc3RyaW5nKCksIHRleHQudGV4dEJsb2NrV2lkdGgoKSAtIHRoaXMud2lkdGgoKSAtIDIsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dCh0aGlzLnN0cmluZygpLCAyLCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Rm9udEZpbGUoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3N0eWxlID0gZnN0eWxlID09PSAnb2JsaXF1ZScgPyAnbm9ybWFsJyA6IGZzdHlsZTtcclxuICAgICAgICAgICAgICAgIHZhciBmID0gUmVzb3VyY2UuZm9udChmb250LCB3ZWlnaHQsIF9zdHlsZSk7XHJcbiAgICAgICAgICAgICAgICBmLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LnVwZGF0ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGYub24oJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LnVwZGF0ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRyYXdUZXh0KGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXF1aXJlX3VwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2VtYmxlci5zaXplKHRleHQudGV4dEJsb2NrV2lkdGgoKSwgdGV4dC50ZXh0QmxvY2tIZWlnaHQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgndGV4dCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIudHJhbnNmb3JtKHRoaXMsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLmRyYXcoY29udGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goWydzdHInLCAnc3R5bGUnLCAnZm9udCcsICd3ZWlnaHQnLCAnc2l6ZScsICdjb2xvcicsICdmb250U2l6ZScsICdsaW5lSGVpZ2h0J10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnZm9udCcsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBmb250ID0gbjtcclxuICAgICAgICAgICAgICAgIGdldEZvbnRGaWxlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdzdHlsZScsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBmc3R5bGUgPSBuO1xyXG4gICAgICAgICAgICAgICAgZ2V0Rm9udEZpbGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3dlaWdodCcsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQgPSBuO1xyXG4gICAgICAgICAgICAgICAgZ2V0Rm9udEZpbGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdhbmNob3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3Bvc2l0aW9uJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYm94LnB1cmdlKClcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBib3guZihmdW5jdGlvbiAoYm94Q29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBzdHlsZS5nZXQoJ3Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gc3R5bGUuZ2V0KCdhbmNob3InKSxcclxuICAgICAgICAgICAgICAgICAgICB4ID0gcG9zaXRpb25bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeSA9IHBvc2l0aW9uWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdjZW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSB0ZXh0LnRleHRCbG9ja1dpZHRoKCkgLyAyXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSB0ZXh0LnRleHRCbG9ja1dpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnbWlkZGxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gdGV4dC50ZXh0QmxvY2tIZWlnaHQoKSAvIDJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdib3R0b20nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSB0ZXh0LnRleHRCbG9ja0hlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYm94Q29udGFpbmVyLnNldCh4LCB5LCB0ZXh0LnRleHRCbG9ja1dpZHRoKCksIHRleHQudGV4dEJsb2NrSGVpZ2h0KCksIDAsIDAsIDAsIDApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5mKGRyYXdUZXh0KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDUvMS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BleHRlbmQnLCAnK01vZGVsJywgJytQYXRoJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBBcmVhT2JqZWN0TW9kZWwoZXh0ZW5kLCBNb2RlbEhlbHBlciwgUGF0aEhlbHBlciwgRGVidWcpIHtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdE9iamVjdE1vZGVsJyk7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJEdsb2JhbEJhY2tncm91bmRNb2RlbCcpO1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0RnJlZVN0cm9rZU1vZGVsJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbiA9IHRoaXMuZXh0ZW5zaW9uKCdBbmltYXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFN5bmNQYXRoUHJvcGVydHkocGF0aCwgcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJvcGVydHlbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkucHVzaChwcm9wZXJ0eVtwcm9wZXJ0eS5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA8IHByb3BlcnR5Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnNwbGljZShwYXRoLmxlbmd0aCAtIDEsIHByb3BlcnR5Lmxlbmd0aCAtIHBhdGgubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAncGF0aCcsIFtbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF1dLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBhdGhIZWxwZXIuY2hlY2tTaW1wbGVQYXRoKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBQYXRoSGVscGVyLmNvbnZlcnRTaW1wbGVQYXRoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFswXVswXSAhPT0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVsyXSB8fCByZXN1bHRbMF1bMV0gIT09IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bM10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0WzBdWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFswXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0WzBdWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFswXVsxXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGQubGVuZ3RoICE9PSByZXN1bHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeW5jUGF0aFByb3BlcnR5KHJlc3VsdCwgc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN5bmNQYXRoUHJvcGVydHkocmVzdWx0LCBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3luY1BhdGhQcm9wZXJ0eShyZXN1bHQsIHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdBcmVhIE1vZGVsIC8gSW52YWxpZCB2YWx1ZSBmb3IgYXJlYSBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQYXRoSGVscGVyLmNvbnZlcnRDb21wbGV4UGF0aCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BleHRlbmQnLCAnK0NvbG9yJywgJytNb2RlbCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQ2lyY2xlT2JqZWN0TW9kZWwoZXh0ZW5kLCBDb2xvckhlbHBlciwgTW9kZWxIZWxwZXIsIERlYnVnKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRPYmplY3RNb2RlbCcpO1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRHbG9iYWxCYWNrZ3JvdW5kTW9kZWwnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gdGhpcy5leHRlbnNpb24oJ0FuaW1hdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdyYWRpdXMnLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdyYWRpdXMnLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3JhZGl1cycpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHJhZGl1cyB2YWx1ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3N0cm9rZVdpZHRoJywgMSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3N0cm9rZVdpZHRoJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VXaWR0aCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnc3Ryb2tlQ29sb3InLCAncmdiYSgwLDAsMCwxKScsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlQ29sb3IgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbG9ySGVscGVyLmFycmF5VG9Db2xvcih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlQ29sb3IgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnc3Ryb2tlQ29sb3InLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3N0cm9rZUNvbG9yJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKGNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VDb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VDb2xvcicpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlQ29sb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIENvbG9ySGVscGVyLm5vcm1hbGl6ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdzdHJva2VTdHlsZScsIFsxLCAwXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNWYWx1ZSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2ldID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VTdHlsZSB2YWx1ZS4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGUgdmFsdWUuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VTdHlsZSB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdzdHJva2VTdHlsZScsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc3Ryb2tlU3R5bGUnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlQ29sb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVswXSA8IDApIHZhbHVlWzBdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMV0gPCAwKSB2YWx1ZVsxXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytNb2RlbCcsICcrUGF0aCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gRGVmYXVsdE9iamVjdE1vZGVsKE1vZGVsSGVscGVyLCBQYXRoSGVscGVyLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24gPSB0aGlzLmV4dGVuc2lvbignQW5pbWF0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMiwgJ3Bvc2l0aW9uJywgWzAsIDBdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignSW52YWxpZCBudW1lcmljIGFycmF5IGZvciBwb3NpdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3Bvc2l0aW9uJywgMixcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3Bvc2l0aW9uJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnSW52YWxpZCB2YWx1ZSBmb3IgcG9zaXRpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdyb3RhdGUnLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAtMzYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICsgMzYwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDM2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAtIDM2MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICogTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgKiAoMTgwIC8gTWF0aC5QSSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgncm90YXRlJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgncm90YXRlJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnSXMgbm90IGEgdmFsaWQgdmFsdWUgdG8gYW5pbWF0ZSByb3RhdGUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICd0cmFuc2xhdGUnLCBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdJbnZhbGlkIG51bWVyaWMgYXJyYXkgZm9yIHRyYW5zbGF0ZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgndHJhbnNsYXRlJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3RyYW5zbGF0ZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ0ludmFsaWQgdmFsdWUgZm9yIHRyYW5zbGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdvcGFjaXR5JywgMSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdPcGFjaXR5IHZhbHVlIGlzIG5vdCBhIG51bWJlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdvcGFjaXR5JywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMSkgdmFsdWUgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdvcGFjaXR5JykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnSW52YWxpZCB2YWx1ZSBmb3IgdHJhbnNsYXRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAxKSB2YWx1ZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdzY2FsZScsIFsxLCAxXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFswLCAwXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1Vua25vd24gdHlwZSBvZiB2YWx1ZSBmb3Igc2NhbGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdzY2FsZScsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mICB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3NjYWxlJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQoW3ZhbHVlLCB2YWx1ZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3NjYWxlJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kQXJyYXkgPSBbdmFsdWVbMF0sdmFsdWVbMV1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihlbmRBcnJheVswXSA8IDApIGVuZEFycmF5WzBdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZW5kQXJyYXlbMV0gPCAwKSBlbmRBcnJheVsxXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChlbmRBcnJheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdJbnZhbGlkIHZhbHVlIGZvciBzY2FsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMF0gPCAwKSB2YWx1ZVswXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzFdIDwgMCkgdmFsdWVbMV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnc2tldycsIFswLCAwXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMzYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlIC0gMzYwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IC0zNjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKyAzNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhZCA9IHZhbHVlICogTWF0aC5QSSAvIDE4MDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbcmFkLCByYWRdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVswXSA+IDM2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVbMF0gPSB2YWx1ZVsxXSAtIDM2MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMV0gPCAtMzYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVsxXSA9IHZhbHVlWzFdICsgMzYwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYWQxID0gdmFsdWVbMF0gKiBNYXRoLlBJIC8gMTgwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFkMiA9IHZhbHVlWzFdICogTWF0aC5QSSAvIDE4MDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbcmFkMSwgcmFkMl07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdVYmtub3duIHZhbHVlIGZvcm1hdCBmb3Igc2tldy4gW3t2fV0nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdza2V3JywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3NrZXcnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChbdmFsdWUsIHZhbHVlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc2tldycpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ0ludmFsaWQgdmFsdWUgZm9yIHNrZXcnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdvcmlnaW4nLCBbLjUsIC41XSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLCB2YWx1ZVsxXV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1Vua25vd24gZm9ybWF0IG9mIHZhbHVlIGZvciBvcmlnaW4uIEludmFsaWQgQXJyYXkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1Vua25vd24gdHlwZSBvZiB2YWx1ZSBmb3Igb3JpZ2luJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ29yaWdpbicsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdvcmlnaW4nKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdJbnZhbGlkIHZhbHVlIGZvciBvcmlnaW4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDIsICdjYXAnLCAncm91bmQnLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09ICdyb3VuZCcgfHwgdmFsdWUgPT09ICdidXR0JyB8fCB2YWx1ZSA9PT0gJ3NxdWFyZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt2YWw6IHZhbHVlfSwgJ3t2YWx9IGlzIGluY29ycmVjdCB2YWx1ZSBmb3IgbGluZSBjYXAgcHJvcGVydHkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdDYXAgcHJvcGVydHkgaXMgYSBzdHJpbmchJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnR5cGUoKSAhPT0gJ0dyb3VwJykge1xyXG4gICAgICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdibGVuZGluZycsICdzb3VyY2Utb3ZlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZEJsZW5kaW5nKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICcgW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBibGVuZGluZyEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdhbmNob3InLCBbJ2xlZnQnLCAndG9wJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5ICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh2YWx1ZVswXSA9PT0gJ2xlZnQnIHx8IHZhbHVlWzBdID09PSAnY2VudGVyJyB8fCB2YWx1ZVswXSA9PT0gJ3JpZ2h0JykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodmFsdWVbMV0gPT09ICd0b3AnIHx8IHZhbHVlWzFdID09PSAnbWlkZGxlJyB8fCB2YWx1ZVsxXSA9PT0gJ2JvdHRvbScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLCB2YWx1ZVsxXV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZS4gQXJyYXkgW1wibGVmdFwiIHx8IFwiY2VudGVyXCIgfHwgXCJyaWdodFwiICwgXCJ0b3BcIiB8fCBcIm1pZGRsZVwiIHx8IFwiYm90dG9tXCIgXSBpcyByZXF1aXJlZCBmb3JtYXQuJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCBhbmNob3IgdmFsdWUgZm9yIHRleHQgZWxlbWVudCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZVswXSwgdmFsdWVbMV1dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDUvMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytNb2RlbCcsICcrQ29sb3InLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIERlZmF1bHRGcmVlU3Ryb2tlTW9kZWwoTW9kZWxIZWxwZXIsIENvbG9ySGVscGVyLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ2ludGVycG9sYXRpb24nLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gLjQpIHZhbHVlID0gLjQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgyLCAnc3Ryb2tlQ29sb3InLCBbJ3JnYmEoMCwwLDAsMSknXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCBtbyBjaGFuZ2VzIG1hZGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgcmVwbGFjZSB3aXRoIHJnYmEoMCwwLDAsMSkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcIm9iamVjdFwiIHx8IHZhbHVlW2ldLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goQ29sb3JIZWxwZXIuYXJyYXlUb0NvbG9yKHZhbHVlW2ldKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCBtbyBjaGFuZ2VzIG1hZGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgcmVwbGFjZSB3aXRoIHJnYmEoMCwwLDAsMSkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgbW8gY2hhbmdlcyBtYWRlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgcmVwbGFjZSB3aXRoIHJnYmEoMCwwLDAsMSkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCBtbyBjaGFuZ2VzIG1hZGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIHJlcGxhY2Ugd2l0aCByZ2JhKDAsMCwwLDEpIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgbW8gY2hhbmdlcyBtYWRlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIHJlcGxhY2Ugd2l0aCByZ2JhKDAsMCwwLDEpIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJvYmplY3RcIiB8fCB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKENvbG9ySGVscGVyLmFycmF5VG9Db2xvcih2YWx1ZVtpXSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgbm8gY2hhbmdlcyBtYWRlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIHJlcGxhY2Ugd2l0aCByZ2JhKDAsMCwwLDEpIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIG5vIGNoYW5nZXMgbWFkZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIHJlcGxhY2Ugd2l0aCByZ2JhKDAsMCwwLDEpIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgbm8gY2hhbmdlcyBtYWRlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCByZXBsYWNlIHdpdGggcmdiYSgwLDAsMCwxKSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ0xpbmUgTW9kZWwgLyBXcm9uZyB0eXBlIG9mIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMiwgJ3N0cm9rZVdpZHRoJywgWzFdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIG51bWJlciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBudW1iZXIhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIG51bWJlciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgbnVtYmVyIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBudW1iZXIhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlV2lkdGghJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgyLCAnc3Ryb2tlU3R5bGUnLCBbWzEsIDBdXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlU3R5bGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZCA9IHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZVN0eWxlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytNb2RlbCcsICcrQ29sb3InLCAnRGVidWcnLCAnUmVzb3VyY2UnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEdsb2JhbEJhY2tncm91bmRNb2RlbChNb2RlbEhlbHBlciwgQ29sb3JIZWxwZXIsIERlYnVnLCBSZXNvdXJjZSkge1xyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbiA9IHRoaXMuZXh0ZW5zaW9uKCdBbmltYXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFN5bmNCZ1Byb3BlcnR5KGJnLCBwcm9wZXJ0eSwgZGVmKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkoZGVmKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChiZy5sZW5ndGggPCBwcm9wZXJ0eS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5zcGxpY2UoYmcubGVuZ3RoIC0gMSwgcHJvcGVydHkubGVuZ3RoIC0gcGF0aC5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdmaWxsJywgJ3JnYmEoMCwwLDAsMSknLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbG9ySGVscGVyLmFycmF5VG9Db2xvcih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdmaWxsJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdmaWxsJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKGNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhdmFsaWQgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnZmlsbCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBDb2xvckhlbHBlci5ub3JtYWxpemUodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnYmcnLCBbXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIuaXNTcHJpdGVTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IE1vZGVsSGVscGVyLnJlYWRTcHJpdGVTdHJpbmcodmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlID0gUmVzb3VyY2Uuc3ByaXRlKGRhdGEudXJsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5jb25maWcoZGF0YS5mcmFtZXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbcmVzb3VyY2VdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtSZXNvdXJjZS5pbWFnZSh2YWx1ZSldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiIHx8IHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAyICYmIHR5cGVvZiB2YWx1ZVswXSA9PSBcInN0cmluZ1wiICYmIHR5cGVvZiB2YWx1ZVsxXSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc291cmNlID0gUmVzb3VyY2Uuc3ByaXRlKHZhbHVlWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5jb25maWcodmFsdWVbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbcmVzb3VyY2VdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLmlzU3ByaXRlU3RyaW5nKHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBNb2RlbEhlbHBlci5yZWFkU3ByaXRlU3RyaW5nKHZhbHVlW2ldKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA9IFJlc291cmNlLnNwcml0ZShkYXRhLnVybCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuY29uZmlnKGRhdGEuZnJhbWVzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChSZXNvdXJjZS5pbWFnZSh2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcIm9iamVjdFwiICYmIHZhbHVlW2ldLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXS5sZW5ndGggPT0gMiAmJiB0eXBlb2YgdmFsdWVbaV1bMF0gPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgdmFsdWVbaV1bMV0gPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldWzFdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IFJlc291cmNlLnNwcml0ZSh2YWx1ZVtpXVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuY29uZmlnKHZhbHVlW2ldWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyZXNvdXJjZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWw6IHZhbHVlW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpOiBpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ1t7aX1dW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBiZyB2YWx1ZS4gU2tpcHBlZC4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXSwgaTogaX0sICdbe2l9XVt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmcgdmFsdWUuIFNraXBwZWQnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGQgPSBzdHlsZS5nZXQoJ2JnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwib2JqZWN0XCIgJiYgdmFsdWVbaV0uY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXVswXSA9PSBcInN0cmluZ1wiICYmIHR5cGVvZiB2YWx1ZVtpXVsxXSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBSZXNvdXJjZS5zcHJpdGUodmFsdWVbaV1bMF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmNvbmZpZyh2YWx1ZVtpXVsxXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocmVzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXSwgaTogaX0sICdbe2l9XVt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmcgYXJyYXkgdmFsdWUuJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIuaXNTcHJpdGVTdHJpbmcodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IE1vZGVsSGVscGVyLnJlYWRTcHJpdGVTdHJpbmcodmFsdWVbaV0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlID0gUmVzb3VyY2Uuc3ByaXRlKGRhdGEudXJsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5jb25maWcoZGF0YS5mcmFtZXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFJlc291cmNlLmltYWdlKHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV0sIGk6IGl9LCAnW3tpfV1be3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBiZy4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCB2YWxpZCB2YWx1ZSBmb3IgYmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXS50eXBlID09ICdJbWFnZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldLnVybCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZVtpXS50eXBlID09ICdTcHJpdGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXS51cmwoKSArICdbJyArIHZhbHVlW2ldLmZyYW1lcygpICsgJ10nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsOiB2YWx1ZVtpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaTogaVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKyAnW3tpfV1be3ZhbH1dIFVua25vd24gdHlwZSBvZiB0aGUgYmFja2dyb3VuZCBvYmplY3QgY29udGFpbmVyLiBDcml0aWNhbCBlcnJvci4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBkZWZCZ1Bvc3ZhbCA9IFswLCAwXTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgyLCAnYmdQb3NpdGlvbicsIFtkZWZCZ1Bvc3ZhbF0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJnID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfcmVzID0gW3ZhbHVlWzBdLCB2YWx1ZVsxXV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKF9yZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmcgPSBzdHlsZS5nZXQoJ2JnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbiA9IHN0eWxlLmdldCgnYmdQb3NpdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlW2ldKSAmJiB2YWx1ZVtpXS5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW3ZhbHVlWzBdLCB2YWx1ZVsxXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJncG9zaXRpb25baV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiZ3Bvc2l0aW9uW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkoZGVmQmdQb3N2YWwpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpOiBpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbDogdmFsdWVbaV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICdbe2l9XVt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmdwb3NpdGlvbiB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmdwb3NpdGlvbltpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYmdwb3NpdGlvbltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZkJnUG9zdmFsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZyA9IHN0eWxlLmdldCgnYmcnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb24gPSBzdHlsZS5nZXQoJ2JnUG9zaXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZ3Bvc2l0aW9uW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNWYWx1ZSgpICYmIHZhbHVlW2ldLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbdmFsdWVbMF0sIHZhbHVlWzFdXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiZ3Bvc2l0aW9uW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGk6IGksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsOiB2YWx1ZVtpXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ1t7aX1dW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBiZ3Bvc2l0aW9uIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkoZGVmQmdQb3N2YWwpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmdwb3NpdGlvbltpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiZ3Bvc2l0aW9uW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkoZGVmQmdQb3N2YWwpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmdwb3NpdGlvbiB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZGVmQmdTaXplVmFsID0gWzEsIDFdO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdiZ1NpemUnLCBbZGVmQmdTaXplVmFsXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09IDIgJiYgTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmcgPSBzdHlsZS5nZXQoJ2JnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlcyA9IFt2YWx1ZVswXSwgdmFsdWVbMV1dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChfcmVzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmcgPSBzdHlsZS5nZXQoJ2JnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdzaXplID0gc3R5bGUuZ2V0KCdiZ1NpemUnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldLmxlbmd0aCA9PSAyICYmIE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXVswXSwgdmFsdWVbaV1bMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJnc2l6ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYmdzaXplW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkoZGVmQmdTaXplVmFsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXSwgaTogaX0sICdbe2l9XVt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmdzaXplIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJnID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdzaXplID0gc3R5bGUuZ2V0KCdiZ1NpemUnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KGkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcIm9iamVjdFwiICYmIHZhbHVlW2ldLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXS5sZW5ndGggPT0gMiAmJiBNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFt2YWx1ZVtpXVswXSwgdmFsdWVbaV1bMV1dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZ3NpemVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiZ3NpemVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheShkZWZCZ1NpemVWYWwpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV0sIGk6IGl9LCAnW3tpfV1be3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJnc2l6ZSB2YWx1ZS4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJnc2l6ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYmdzaXplW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkoZGVmQmdTaXplVmFsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXSwgaTogaX0sICdbe2l9XVt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmdzaXplIHZhbHVlLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZ3NpemVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYmdzaXplW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkoZGVmQmdTaXplVmFsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdiZycsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoby5sZW5ndGggIT09IG4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgU3luY0JnUHJvcGVydHkobiwgc3R5bGUuZ2V0KCdiZ1Bvc2l0aW9uJyksIGRlZkJnUG9zdmFsKTtcclxuICAgICAgICAgICAgICAgICAgICBTeW5jQmdQcm9wZXJ0eShuLCBzdHlsZS5nZXQoJ2JnU2l6ZScpLCBkZWZCZ1NpemVWYWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDIvOC8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytNb2RlbCcsXHJcbiAgICAgICAgZnVuY3Rpb24gR2xvYmFsU2l6ZU1vZGVsKE1vZGVsSGVscGVyKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gdGhpcy5leHRlbnNpb24oJ0FuaW1hdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnc2l6ZScsIDEsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc2l6ZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKFt2YWx1ZSwgdmFsdWVdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzBdIDwgMCkgdmFsdWVbMF0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzFdIDwgMCkgdmFsdWVbMV0gPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3NpemUnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IHZhbGlkIHZhbHVlIGZvciBzaXplJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCB2YWxpZCB2YWx1ZSBmb3Igc2l6ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMF0gPCAwKSB2YWx1ZVswXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzFdIDwgMCkgdmFsdWVbMV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnc2l6ZScsIFswLCAwXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAyICYmIE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzBdIDwgMCkgdmFsdWVbMF0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzFdIDwgMCkgdmFsdWVbMV0gPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWVbMF0sIHZhbHVlWzFdXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgdmFsaWQgdmFsdWUgZm9yIHNpemUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgdmFsaWQgdmFsdWUgZm9yIHNpemUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAZXh0ZW5kJyxcclxuICAgICAgICBmdW5jdGlvbiBHcm91cE9iamVjdE1vZGVsKGV4dGVuZCkge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdE9iamVjdE1vZGVsJyk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BleHRlbmQnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEltYWdlT2JqZWN0TW9kZWwoZXh0ZW5kLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdE9iamVjdE1vZGVsJyk7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJEdsb2JhbFNpemVNb2RlbCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3NyYycsIG51bGwsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHNyYyB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGV4dGVuZCcsICcrTW9kZWwnLCAnK1BhdGgnLCAnK0NvbG9yJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBMaW5lT2JqZWN0TW9kZWwoZXh0ZW5kLCBNb2RlbEhlbHBlciwgUGF0aEhlbHBlciwgQ29sb3JIZWxwZXIsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0TW9kZWwnKTtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdEZyZWVTdHJva2VNb2RlbCcpO1xyXG5cclxuICAgICAgICAgICAgLy9UT0RPOiBBZGQgYW5pbWF0aW9uIG1vcnBocyEhXHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFN5bmNQYXRoUHJvcGVydHkocGF0aCwgcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJvcGVydHlbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkucHVzaChwcm9wZXJ0eVtwcm9wZXJ0eS5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdwYXRoJywgW1swLCAwLCAwLCAwLCAwLCAwLCAwLCAwXV0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoUGF0aEhlbHBlci5jaGVja1NpbXBsZVBhdGgodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGQgPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFBhdGhIZWxwZXIuY29udmVydFNpbXBsZVBhdGgodmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZC5sZW5ndGggIT09IHJlc3VsdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN5bmNQYXRoUHJvcGVydHkocmVzdWx0LCBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3luY1BhdGhQcm9wZXJ0eShyZXN1bHQsIHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeW5jUGF0aFByb3BlcnR5KHJlc3VsdCwgc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ0xpbmUgTW9kZWwgLyBJbnZhbGlkIHZhbHVlIGZvciBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQYXRoSGVscGVyLmNvbnZlcnRDb21wbGV4UGF0aCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzExLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGV4dGVuZCcsICcrTW9kZWwnLCAnK0NvbG9yJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBSZWN0YW5nbGVPYmplY3RNb2RlbChleHRlbmQsIE1vZGVsSGVscGVyLCBDb2xvckhlbHBlciwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRPYmplY3RNb2RlbCcpO1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRHbG9iYWxCYWNrZ3JvdW5kTW9kZWwnKTtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckR2xvYmFsU2l6ZU1vZGVsJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbiA9IHRoaXMuZXh0ZW5zaW9uKCdBbmltYXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAncmFkaXVzJywgWzAsIDAsIDAsIDBdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlLCB2YWx1ZSwgdmFsdWUsIHZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1hdGgucm91bmQodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IFtdLCBvbGQgPSB0aGlzLnN0eWxlKCdyYWRpdXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0W2ldICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbC5wdXNoKHJlc3VsdFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkID0gc3R5bGUuZ2V0KCdyYWRpdXMnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsLnB1c2goTWF0aC5yb3VuZCh2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsLnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgncmFkaXVzJywgMSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdyYWRpdXMnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGQgPSB0aGlzLnN0eWxlKCdyYWRpdXMnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQob2xkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0gPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2goTWF0aC5yb3VuZCh2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICd7dn0gaXMgbm90IGEgdmFsaWQgcmFkaXVzIHZhbHVlIGZvciByZWN0YW5nbGUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdzdHJva2VDb2xvcicsIFsncmdiYSgwLDAsMCwxKScsICdyZ2JhKDAsMCwwLDEpJywgJ3JnYmEoMCwwLDAsMSknLCAncmdiYSgwLDAsMCwxKSddLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWUsIHZhbHVlLCB2YWx1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWx1ZTogdmFsfSwgJyBbe3ZhbH0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlIHN0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZCA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2UgY29sb3IgdmFsdWUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcIm9iamVjdFwiICYmIHZhbHVlW2ldLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKENvbG9ySGVscGVyLmFycmF5VG9Db2xvcih2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2UgY29sb3IgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcIm9iamVjdFwiICYmIHZhbHVlW2ldLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKENvbG9ySGVscGVyLmFycmF5VG9Db2xvcih2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBjb2xvciB2YWx1ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBjb2xvciB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlQ29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3N0cm9rZUNvbG9yJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQoW01vZGVsSGVscGVyLmNsb25lQXJyYXkoY29sb3IpLCBNb2RlbEhlbHBlci5jbG9uZUFycmF5KGNvbG9yKSwgTW9kZWxIZWxwZXIuY2xvbmVBcnJheShjb2xvciksIE1vZGVsSGVscGVyLmNsb25lQXJyYXkoY29sb3IpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VDb2xvcicpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ3t2fSBpcyBub3QgYSB2YWxpZCBjb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQoW01vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc3Ryb2tlQ29sb3InKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3V1cmVudCA9IHRoaXMuc3R5bGUoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1dXJlbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwib2JqZWN0XCIgJiYgdmFsdWVbaV0uY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSAmJiBDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KGN1dXJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5zdHlsZSgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VycmVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcIm9iamVjdFwiICYmIHZhbHVlW2ldLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydChjdXJyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JIZWxwZXIubm9ybWFsaXplKHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdzdHJva2VXaWR0aCcsIFsxLCAxLCAxLCAxXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWUsIHZhbHVlLCB2YWx1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICcgW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2Ugd2lkdGggdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KGkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZVdpZHRoJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnIFt7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlV2lkdGggdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3N0cm9rZVdpZHRoJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKFt2YWx1ZSwgdmFsdWUsIHZhbHVlLCB2YWx1ZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VXaWR0aCcpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuc3R5bGUoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VycmVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldICYmIHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydChjdXJyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5zdHlsZSgnc3Ryb2tlV2lkdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VycmVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldICYmIHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQoY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICcgW3t2fV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlV2lkdGggb2JqZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJyBbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlV2lkdGgnKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3N0cm9rZVN0eWxlJywgW1sxLCAwXSwgWzEsIDBdLCBbMSwgMF0sIFsxLCAwXV0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnIFt7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2Ugd2lkdGghJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlW2ldKSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlW2ldKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICcgW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2Ugc3R5bGUgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkgJiYgdmFsdWVbaV0ubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGUgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXRjaCh7dmFsOiB2YWx1ZVtpXX0sICcgW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VTdHlsZSB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJyBbe3ZhbH1dIGlzIG5vdCB2YWxpZCBzdHJva2VTdHlsZSB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnc3Ryb2tlU3R5bGUnLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VTdHlsZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpLCBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSwgTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSksIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJyBbe3Z9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VTdHlsZSB2YWx1ZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuc3R5bGUoJ3N0cm9rZVN0eWxyJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJlbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldICYmIE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlW2ldKSAmJiB2YWx1ZVtpXS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWVbaV0pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydChjdXJyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VTdHlsZSB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5zdHlsZSgnc3Ryb2tlU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VycmVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSAmJiBNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkgJiYgdmFsdWVbaV0ubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWVbb10pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQoY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VTdHlsZVZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVN0eWxlVmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcblxyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAZXh0ZW5kJywgJytNb2RlbCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gU3ByaXRlT2JqZWN0TW9kZWwoZXh0ZW5kLCBNb2RlbEhlbHBlciwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRPYmplY3RNb2RlbCcpO1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRHbG9iYWxTaXplTW9kZWwnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdzcmMnLCBudWxsLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIuaXNTcHJpdGVTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHNwcml0ZSBzcmMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlWzBdID09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHZhbHVlWzFdID09IFwibnVtYmVyXCIgJiYgdmFsdWVbMV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVbMF0gKyAnWycgKyB2YWx1ZVsxXSArICddJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzcHJpdGUgc3JjJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzcHJpdGUgc3JjJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjUvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAZXh0ZW5kJywgJytNb2RlbCcsICcrQ29sb3InLCAnRGVidWcnLCAnQEZvbnRzJyxcclxuICAgICAgICBmdW5jdGlvbiBUZXh0T2JqZWN0TW9kZWwoZXh0ZW5kLCBNb2RlbEhlbHBlciwgQ29sb3JIZWxwZXIsIERlYnVnLCBGb250cykge1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0TW9kZWwnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgdGV4dCA9IHRoaXMuZXh0ZW5zaW9uKCdUZXh0JyksXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24gPSB0aGlzLmV4dGVuc2lvbignQW5pbWF0aW9uJyksXHJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdzaXplJywgWydhdXRvJywgJ2F1dG8nXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUgPT09ICdhdXRvJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LmxpbWl0cyhJbmZpbml0eSwgSW5maW5pdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlLCB2YWx1ZV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LmxpbWl0cyh2YWx1ZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlLCB2YWx1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWxpZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZVtpXSAhPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgdmFsdWVbaV0gIT09IFwibnVtYmVyXCIpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZVtpXSAhPT0gJ2F1dG8nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVswXSA9PT0gXCJudW1iZXJcIiAmJiB2YWx1ZVswXSA8IDApIHZhbHVlWzBdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbMV0gPT09IFwibnVtYmVyXCIgJiYgdmFsdWVbMV0gPCAwKSB2YWx1ZVsxXSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC5saW1pdHModmFsdWVbMF0gPT09ICdhdXRvJyA/IEluZmluaXR5IDogdmFsdWVbMF0sIHZhbHVlWzFdID09PSAnYXV0bycgPyBJbmZpbml0eSA6IHZhbHVlWzFdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLCB2YWx1ZVsxXV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCBzaXplIGFycmF5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHNpemUnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZVswXSwgdmFsdWVbMV1dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdzdHInLCAnJyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzeXN0ZW1Gb250ID0gJ3NhbnMtc2VyaWYnO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdmb250JywgJ3NhbnMtc2VyaWYnLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzeXN0ZW1Gb250ID0gRm9udHMuZm9ybWF0KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnN0eWxlKCdzeXN0ZW1Gb250JywgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdzeXN0ZW1Gb250Jywgc3lzdGVtRm9udCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3lzdGVtRm9udDtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN5c3RlbUZvbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ3dlaWdodCcsIDQwMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMTAwKSB2YWx1ZSA9IDEwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gOTAwKSB2YWx1ZSA9IDkwMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAlIDEwMCAhPT0gMCkgdmFsdWUgPSB2YWx1ZSAtICh2YWx1ZSAlIDEwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnc3R5bGUnLCAnbm9ybWFsJyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgKHZhbHVlID09PSAnbm9ybWFsJyB8fCB2YWx1ZSA9PT0gJ2l0YWxpYycgfHwgdmFsdWUgPT09ICdvYmxpcXVlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ2xpbmVIZWlnaHQnLCAxNCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ2ZvbnRTaXplJywgMTQsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ2NvbG9yJywgJ3JnYmEoMCwwLDAsMSknLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3JIZWxwZXIuYXJyYXlUb0NvbG9yKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBjb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ2FsaWduJywgJ2xlZnQnLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnY2VudGVyJyB8fCB2YWx1ZSA9PT0gJ2xlZnQnIHx8IHZhbHVlID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHByb3BlciB2YWx1ZSBmb3IgYWxpbmcgdGV4dCBwcm9wZXJ0eScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnY29sb3InLCAxLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdmaWxsJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKGNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhdmFsaWQgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ2ZpbGwnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQ29sb3JIZWxwZXIubm9ybWFsaXplKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWycrQW5pbWF0aW9uJywgJ01vcnBoaW5lJyxcclxuICAgICAgICBmdW5jdGlvbiBBbmltYXRpb24oQW5pbWF0aW9uSGVscGVyLCBNb3JwaGluZSkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gMCxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGVhc2luZyA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBkb25lID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzdGFjayA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBtb3JwaGluZSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3RlcHNDYiA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBxdWV1ZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBjbGVhciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdGVwVHlwZVN0ciA9ICd0eXBlJyxcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlVHlwZVN0ciA9ICdjb21wbGV0ZScsXHJcbiAgICAgICAgICAgICAgICBjb25maWcgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gUmVzb2x2ZSh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSBzdGVwVHlwZVN0cikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0ZXBzQ2IuaGFzT3duUHJvcGVydHkoc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBzQ2Jbc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKV0uYXBwbHkodGFyZ2V0LCBbcHJvZ3Jlc3MsIHN0YWNrW2ldLnJlc3VsdF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSBjb21wbGV0ZVR5cGVTdHIpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0cyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0c1tzdGFja1tpXS5tb3JwaC5wcm9wZXJ0eSgpXSA9IHN0YWNrW2ldLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmRvbmUoMSwgcmVzdWx0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kb25lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhhc1Byb3BlcnR5ID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKSA9PSBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydGllcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2goc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuaGFzUHJvcGVydHkocHJvcGVydHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGluZGV4IC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2suc3BsaWNlKGluZGV4LCAxKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YWNrID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIF9zdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9ycGggPSBzdGFja1tpXS5tb3JwaC5nZXQoc3RhY2tbaV0udmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAobW9ycGggIT09IHVuZGVmaW5lZCAmJiBtb3JwaC5zdGFydCgpICE9PSBmYWxzZSAmJiBtb3JwaC5lbmQoKSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3N0YWNrLnB1c2goc3RhY2tbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzdGFjayA9IF9zdGFjaztcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdGlja19mdW5jdGlvbiA9IEFuaW1hdGlvbkhlbHBlci5nZXRUaWNrRnVuY3Rpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICBtb3JwaGluZSA9IE1vcnBoaW5lLmNyZWF0ZSgwLCAxLCBmdW5jdGlvbiAoY29tcGxldGUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc29sdmUoY29tcGxldGVUeXBlU3RyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGhpbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2tbaV0ucmVzdWx0ID0gdGlja19mdW5jdGlvbih2YWx1ZSwgc3RhY2tbaV0ubW9ycGguc3RhcnQoKSwgc3RhY2tbaV0ubW9ycGguZW5kKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2tbaV0ubW9ycGguYXBwbHkoY29tcGxldGUsIHN0YWNrW2ldLnJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc29sdmUoc3RlcFR5cGVTdHIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc29sdmUoY29tcGxldGVUeXBlU3RyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBlYXNpbmcsIGR1cmF0aW9uLCAwKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKHQsIG0sIGNmZywgZikge1xyXG4gICAgICAgICAgICAgICAgQW5pbWF0aW9uSGVscGVyLm5vcm1hbGl6ZUNvbmZpZyhjZmcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gY2ZnLmR1cmF0aW9uO1xyXG5cclxuICAgICAgICAgICAgICAgIGVhc2luZyA9IGNmZy5lYXNpbmc7XHJcblxyXG4gICAgICAgICAgICAgICAgc3RlcHNDYiA9IGNmZy5zdGVwO1xyXG5cclxuICAgICAgICAgICAgICAgIHF1ZXVlID0gY2ZnLnF1ZXVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNsZWFyID0gZjtcclxuXHJcbiAgICAgICAgICAgICAgICBzdGFjayA9IG07XHJcblxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdDtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25maWcgPSBjZmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBNb3JwaChEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHNldHRlciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBnZXR0ZXIgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgYXBwbGllciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdGFydCwgZW5kLFxyXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBvcmRlcmluZyA9IDA7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTZXRTdGFydFZhbHVlKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQgPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFNldEVuZFZhbHVlKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgZW5kID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5lbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZW5kO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0eTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3JkZXJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JkZXJpbmc7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdldCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgc2V0dGVyLmFwcGx5KG9iamVjdCwgW1NldFN0YXJ0VmFsdWUsIFNldEVuZFZhbHVlLCB2YWx1ZV0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnZhbGlkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hcHBseSA9IGZ1bmN0aW9uIChwcm9ncmVzcywgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIG9iamVjdC5maWx0ZXIocHJvcGVydHksIGFwcGxpZXIuYXBwbHkob2JqZWN0LCBbdmFsdWUsIHByb2dyZXNzXSkpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb25maWcgPSBmdW5jdGlvbiAobmFtZSwgb2JqLCBvcmQsIHNldCwgYXBsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmcxIFt7bmFtZX1dIGlzIG5vdCBhIHN0cmluZyEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ1VuYWJsZSB0byBjb25maWcgTW9ycGguIGFyZzMgaXMgbm90IGFuIG9iamVjdCEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNldCAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnNCBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9yZCAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ1VuYWJsZSB0byBjb25maWcgTW9ycGguIGFyZzIgaXMgbm90IGEgbnVtYmVyIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXBsICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmc1IGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IG5hbWU7XHJcbiAgICAgICAgICAgICAgICBzZXR0ZXIgPSBzZXQ7XHJcbiAgICAgICAgICAgICAgICBhcHBsaWVyID0gYXBsO1xyXG4gICAgICAgICAgICAgICAgb3JkZXJpbmcgPSBvcmQ7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSBvYmo7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLmhlbHBlci5zeXN0ZW0oXHJcbiAgICBmdW5jdGlvbiBBbmltYXRpb24oKSB7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIFRpY2tWYWwoY29tcGxldGUsIHByb2dyZXNzLCBzdGFydCwgZW5kKSB7XHJcbiAgICAgICAgICAgIHZhciBsb2NzID0gZmFsc2UsIGxvY2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gXCJmdW5jdGlvblwiKSBsb2NzID0gc3RhcnQoKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBlbmQgPT09IFwiZnVuY3Rpb25cIikgbG9jZSA9IGVuZCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHN0YXJ0LmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFydC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFRpY2tWYWwoY29tcGxldGUsIHByb2dyZXNzLCBzdGFydFtpXSwgZW5kW2ldKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHN0YXJ0ID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtwcm9wXSA9IFRpY2tWYWwoY29tcGxldGUsIHByb2dyZXNzLCBzdGFydFtwcm9wXSwgZW5kW3Byb3BdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdudW1iZXInIHx8IHR5cGVvZiBzdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVuZHZhbCA9IGxvY2UgPT09IGZhbHNlID8gZW5kIDogbG9jZSxcclxuICAgICAgICAgICAgICAgICAgICBzdGFydHZhbCA9IGxvY3MgPT09IGZhbHNlID8gc3RhcnQgOiBsb2NzLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpZmZlcmVuY2UgPSBlbmR2YWwgLSBzdGFydHZhbCxcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBzdGFydHZhbCArIChkaWZmZXJlbmNlICogY29tcGxldGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzID49IDEpIHJlc3VsdCA9IGVuZHZhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ub3JtYWxpemVDb25maWcgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZy5kdXJhdGlvbiA9IHR5cGVvZiBjb25maWcuZHVyYXRpb24gPT09IFwibnVtYmVyXCIgJiYgY29uZmlnLmR1cmF0aW9uID4gMCA/IGNvbmZpZy5kdXJhdGlvbiA6IDEwMDA7XHJcbiAgICAgICAgICAgIGNvbmZpZy5xdWV1ZSA9ICEhY29uZmlnLnF1ZXVlO1xyXG4gICAgICAgICAgICBjb25maWcuc3RlcCA9IHR5cGVvZiBjb25maWcuc3RlcCA9PT0gXCJvYmplY3RcIiA/IGNvbmZpZy5zdGVwIDoge307XHJcbiAgICAgICAgICAgIGNvbmZpZy5lYXNpbmcgPSB0eXBlb2YgY29uZmlnLmVhc2luZyA9PT0gJ3N0cmluZycgPyBjb25maWcuZWFzaW5nIDogJ2xpbmVhcic7XHJcbiAgICAgICAgICAgIGNvbmZpZy5kb25lID0gdHlwZW9mIGNvbmZpZy5kb25lID09PSBcImZ1bmN0aW9uXCIgPyBjb25maWcuZG9uZSA6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmdldFRpY2tGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFRpY2tWYWw7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMC8yMDE3LlxyXG4gKi9cclxuJFIuaGVscGVyLnN5c3RlbShcclxuICAgIGZ1bmN0aW9uIENvbG9yKCkge1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBOb3JtYWxpemVDb2xvckFycmF5KGFycmF5KSB7XHJcbiAgICAgICAgICAgIGlmIChhcnJheSAhPT0gZmFsc2UgJiYgYXJyYXkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2ldID0gYXJyYXlbaV0gPD0gMjU1ID8gYXJyYXlbaV0gOiAyNTU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtpXSA+PSAwID8gYXJyYXlbaV0gOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2ldID0gKGkgIT09IDMgJiYgYXJyYXlbaV0gIT09IDApID8gcGFyc2VJbnQoYXJyYXlbaV0pIDogYXJyYXlbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbaV0gPSAoKGkgPT0gMykgJiYgYXJyYXlbaV0pIDw9IDEgPyBhcnJheVtpXSA6IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbaV0gPSBNYXRoLmFicyhhcnJheVtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIFBhcnNlQ29sb3VyKGNvbG9yKSB7XHJcbiAgICAgICAgICAgIHZhciBjYWNoZVxyXG4gICAgICAgICAgICAgICAgLCBwID0gcGFyc2VJbnQgLy8gVXNlIHAgYXMgYSBieXRlIHNhdmluZyByZWZlcmVuY2UgdG8gcGFyc2VJbnRcclxuICAgICAgICAgICAgICAgICwgY29sb3IgPSBjb2xvci5yZXBsYWNlKC9cXHNcXHMqL2csICcnKSAvLyBSZW1vdmUgYWxsIHNwYWNlc1xyXG4gICAgICAgICAgICA7Ly92YXJcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrcyBmb3IgNiBkaWdpdCBoZXggYW5kIGNvbnZlcnRzIHN0cmluZyB0byBpbnRlZ2VyXHJcbiAgICAgICAgICAgIGlmIChjYWNoZSA9IC9eIyhbXFxkYS1mQS1GXXsyfSkoW1xcZGEtZkEtRl17Mn0pKFtcXGRhLWZBLUZdezJ9KS8uZXhlYyhjb2xvcikpXHJcbiAgICAgICAgICAgICAgICBjYWNoZSA9IFtwKGNhY2hlWzFdLCAxNiksIHAoY2FjaGVbMl0sIDE2KSwgcChjYWNoZVszXSwgMTYpXTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrcyBmb3IgMyBkaWdpdCBoZXggYW5kIGNvbnZlcnRzIHN0cmluZyB0byBpbnRlZ2VyXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNhY2hlID0gL14jKFtcXGRhLWZBLUZdKShbXFxkYS1mQS1GXSkoW1xcZGEtZkEtRl0pLy5leGVjKGNvbG9yKSlcclxuICAgICAgICAgICAgICAgIGNhY2hlID0gW3AoY2FjaGVbMV0sIDE2KSAqIDE3LCBwKGNhY2hlWzJdLCAxNikgKiAxNywgcChjYWNoZVszXSwgMTYpICogMTddO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2tzIGZvciByZ2JhIGFuZCBjb252ZXJ0cyBzdHJpbmcgdG9cclxuICAgICAgICAgICAgLy8gaW50ZWdlci9mbG9hdCB1c2luZyB1bmFyeSArIG9wZXJhdG9yIHRvIHNhdmUgYnl0ZXNcclxuICAgICAgICAgICAgZWxzZSBpZiAoY2FjaGUgPSAvXnJnYmFcXCgoW1xcZF0rKSwoW1xcZF0rKSwoW1xcZF0rKSwoW1xcZF0rfFtcXGRdKi5bXFxkXSspXFwpLy5leGVjKGNvbG9yKSlcclxuICAgICAgICAgICAgICAgIGNhY2hlID0gWytjYWNoZVsxXSwgK2NhY2hlWzJdLCArY2FjaGVbM10sICtjYWNoZVs0XV07XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVja3MgZm9yIHJnYiBhbmQgY29udmVydHMgc3RyaW5nIHRvXHJcbiAgICAgICAgICAgIC8vIGludGVnZXIvZmxvYXQgdXNpbmcgdW5hcnkgKyBvcGVyYXRvciB0byBzYXZlIGJ5dGVzXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNhY2hlID0gL15yZ2JcXCgoW1xcZF0rKSwoW1xcZF0rKSwoW1xcZF0rKVxcKS8uZXhlYyhjb2xvcikpXHJcbiAgICAgICAgICAgICAgICBjYWNoZSA9IFsrY2FjaGVbMV0sICtjYWNoZVsyXSwgK2NhY2hlWzNdXTtcclxuXHJcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSB0aHJvdyBhbiBleGNlcHRpb24gdG8gbWFrZSBkZWJ1Z2dpbmcgZWFzaWVyXHJcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgLy8gUGVyZm9ybXMgUkdCQSBjb252ZXJzaW9uIGJ5IGRlZmF1bHRcclxuICAgICAgICAgICAgaXNOYU4oY2FjaGVbM10pICYmIChjYWNoZVszXSA9IDEpO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkcyBvciByZW1vdmVzIDR0aCB2YWx1ZSBiYXNlZCBvbiByZ2JhIHN1cHBvcnRcclxuICAgICAgICAgICAgLy8gU3VwcG9ydCBpcyBmbGlwcGVkIHR3aWNlIHRvIHByZXZlbnQgZXJyb3MgaWZcclxuICAgICAgICAgICAgLy8gaXQncyBub3QgZGVmaW5lZFxyXG4gICAgICAgICAgICByZXR1cm4gTm9ybWFsaXplQ29sb3JBcnJheShjYWNoZS5zbGljZSgwLCA0KSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbG9yVG9BcnJheSA9IFBhcnNlQ29sb3VyO1xyXG4gICAgICAgIHRoaXMubm9ybWFsaXplID0gTm9ybWFsaXplQ29sb3JBcnJheTtcclxuICAgICAgICB0aGlzLmlzQ29sb3IgPSBmdW5jdGlvbiAoYXJyYXkpIHtcclxuICAgICAgICAgICAgdmFyIGVycm9yID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChhcnJheS5sZW5ndGggPT0gNCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbGVycm9yID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcnJheVtpXSA9PSAnbnVtYmVyJyB8fCB0eXBlb2YgYXJyYXlbaV0gPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAgYXJyYXlbaV0gPT0gJ3N0cmluZycgJiYgaXNOYU4oYXJyYXlbaV0gKiAxKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdTaWxrIDogQ2hlY2sgZm9yIGNvbG9yIHVuc3VjY2Vzc2Z1bC4gXCInICsgYXJyYXkgKyAnXCIgaXMgbm90IGEgY29sb3IgQXJyYXkuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICFlcnJvcjtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmFycmF5VG9Db2xvciA9IGZ1bmN0aW9uIChhcnJheSkge1xyXG4gICAgICAgICAgICBpZiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoID09IDQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHJpbmcgPSAncmdiYSgnO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBpID09IDMgPyBhcnJheVtpXSArICcpJyA6IGFycmF5W2ldICsgJywnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignVW5rbm93biBJbnB1dCBhcnJheSBmb3JtYXQuIFNob3VsZCBiZSBbUixHLEIsQV07Jyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KSIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEwLzIwMTcuXHJcbiAqL1xyXG4kUi5oZWxwZXIuc3lzdGVtKFxyXG4gICAgZnVuY3Rpb24gRHJhd2VyKERlYnVnKSB7XHJcbiAgICAgICAgdmFyIHRleHREcmF3ZXJDb250ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5tZWFzdXJlVGV4dCA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgIHRleHREcmF3ZXJDb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgdmFyIHdpZHRoID0gZnVuYyh0ZXh0RHJhd2VyQ29udGV4dCk7XHJcbiAgICAgICAgICAgIHRleHREcmF3ZXJDb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gZnVuY3Rpb24gKG9iamVjdCwgY29udGV4dCkge1xyXG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zZm9ybS5hcHBseShjb250ZXh0LCBvYmplY3QubWF0cml4KCkuZXh0cmFjdCgpKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdMaW5lQmdDbGlwUGF0aCA9IGZ1bmN0aW9uIChjb250ZXh0LCBwYXRoLCBzdHlsZSwgYXNzZW1ibGVyLCBzcHJpdGUpIHtcclxuICAgICAgICAgICAgdmFyIGJnID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICAgICAgYmdzaXplID0gc3R5bGUuZ2V0KCdiZ1NpemUnKSxcclxuICAgICAgICAgICAgICAgIGJncG9zaXRpb24gPSBzdHlsZS5nZXQoJ2JnUG9zaXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocGF0aFswXVswXSwgcGF0aFswXVsxXSk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB4MSA9IHBhdGhbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeTEgPSBwYXRoW2ldWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIHgyID0gcGF0aFtpXVsyXSxcclxuICAgICAgICAgICAgICAgICAgICB5MiA9IHBhdGhbaV1bM107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB4MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeDIgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MiAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdJbnZhbGlkIHBhdGghJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oeDIsIHkyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcclxuICAgICAgICAgICAgY29udGV4dC5jbGlwKCk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBiID0gMDsgYiA8IGJnLmxlbmd0aDsgYisrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFiZ1tiXS5sb2FkZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJnW2JdLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJnd2lkdGggPSBib3guc2l6ZVswXSAqIGJnc2l6ZVtiXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmdoZWlnaHQgPSBib3guc2l6ZVsxXSAqIGJnc2l6ZVtiXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbnggPSBib3guc2l6ZVswXSAqIGJncG9zaXRpb25bYl1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb255ID0gYm94LnNpemVbMV0gKiBiZ3Bvc2l0aW9uW2JdWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShzcHJpdGUubWFyZ2luWzNdICsgYmdwb3NpdGlvbngsIHNwcml0ZS5tYXJnaW5bMF0gKyBiZ3Bvc2l0aW9ueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoYmdbaV0uZXhwb3J0KCksIDAsIDAsIGJnd2lkdGgsIGJnaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdCZXppZXJCZ0NsaXBQYXRoID0gZnVuY3Rpb24gKGNvbnRleHQsIHBhdGgsIHN0eWxlLCBhc3NlbWJsZXIsIHNwcml0ZSkge1xyXG4gICAgICAgICAgICB2YXIgYmcgPSBzdHlsZS5nZXQoJ2JnJyksXHJcbiAgICAgICAgICAgICAgICBiZ3NpemUgPSBzdHlsZS5nZXQoJ2JnU2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgYmdwb3NpdGlvbiA9IHN0eWxlLmdldCgnYmdQb3NpdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhwYXRoWzBdWzBdLCBwYXRoWzBdWzFdKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeDEgPSBwYXRoW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkxID0gcGF0aFtpXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICB4MiA9IHBhdGhbaV1bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgeTIgPSBwYXRoW2ldWzNdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF4MSA9IHBhdGhbaV1bNF0sXHJcbiAgICAgICAgICAgICAgICAgICAgYXkxID0gcGF0aFtpXVs1XSxcclxuICAgICAgICAgICAgICAgICAgICBheDIgPSBwYXRoW2ldWzZdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF5MiA9IHBhdGhbaV1bN107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB4MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeDIgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MiAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdJbnZhbGlkIHBhdGghJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGF4MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgIGF4MiAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgYXkxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiAgYXkyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0ludmFsaWQgY3VydmUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oYXgxLCBheTEsIGF4MiwgYXkyLCB4MiwgeTIpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmNsaXAoKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGIgPSAwOyBiIDwgYmcubGVuZ3RoOyBiKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWJnW2JdLmxvYWRlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmdbYl0ub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYmd3aWR0aCA9IGJveC5zaXplWzBdICogYmdzaXplW2JdWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZ2hlaWdodCA9IGJveC5zaXplWzFdICogYmdzaXplW2JdWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9ueCA9IGJveC5zaXplWzBdICogYmdwb3NpdGlvbltiXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbnkgPSBib3guc2l6ZVsxXSAqIGJncG9zaXRpb25bYl1bMV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHNwcml0ZS5tYXJnaW5bM10gKyBiZ3Bvc2l0aW9ueCwgc3ByaXRlLm1hcmdpblswXSArIGJncG9zaXRpb255KTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShiZ1tpXS5leHBvcnQoKSwgMCwgMCwgYmd3aWR0aCwgYmdoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3TGluZVBhdGhGaWxsID0gZnVuY3Rpb24gKGNvbnRleHQsIHBhdGgsIHN0eWxlKSB7XHJcbiAgICAgICAgICAgIHZhciBmaWxsID0gc3R5bGUuZ2V0KCdmaWxsJyksXHJcbiAgICAgICAgICAgICAgICBjYXAgPSBzdHlsZS5nZXQoJ2NhcCcpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQubGluZUNhcCA9IGNhcDtcclxuICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocGF0aFswXVswXSwgcGF0aFswXVsxXSk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeDEgPSBwYXRoW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkxID0gcGF0aFtpXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICB4MiA9IHBhdGhbaV1bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgeTIgPSBwYXRoW2ldWzNdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHgyICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oeDIsIHkyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcclxuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsO1xyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcclxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd0JlemllclBhdGhGaWxsID0gZnVuY3Rpb24gKGNvbnRleHQsIHBhdGgsIHN0eWxlKSB7XHJcbiAgICAgICAgICAgIHZhciBmaWxsID0gc3R5bGUuZ2V0KCdmaWxsJyksXHJcbiAgICAgICAgICAgICAgICBjYXAgPSBzdHlsZS5nZXQoJ2NhcCcpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBjYXA7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhwYXRoWzBdWzBdLCBwYXRoWzBdWzFdKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHgxID0gcGF0aFtpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICB5MSA9IHBhdGhbaV1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgeDIgPSBwYXRoW2ldWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkyID0gcGF0aFtpXVszXSxcclxuICAgICAgICAgICAgICAgICAgICBheDEgPSBwYXRoW2ldWzRdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF5MSA9IHBhdGhbaV1bNV0sXHJcbiAgICAgICAgICAgICAgICAgICAgYXgyID0gcGF0aFtpXVs2XSxcclxuICAgICAgICAgICAgICAgICAgICBheTIgPSBwYXRoW2ldWzddO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHgyICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBheDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mICBheDIgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIGF5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgIGF5MiAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdJbnZhbGlkIGN1cnZlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyhheDEsIGF5MSwgYXgyLCBheTIsIHgyLCB5Mik7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbDtcclxuICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdMaW5lUGF0aCA9IGZ1bmN0aW9uIChjb250ZXh0LCBwYXRoLCBzdHlsZSkge1xyXG4gICAgICAgICAgICB2YXIgc3Ryb2tlQ29sb3IgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlQ2FwID0gc3R5bGUuZ2V0KCdjYXAnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5saW5lQ2FwID0gc3Ryb2tlQ2FwO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeDEgPSBwYXRoW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkxID0gcGF0aFtpXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICB4MiA9IHBhdGhbaV1bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgeTIgPSBwYXRoW2ldWzNdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHgyICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2VXaWR0aFtpXSA8IC4xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeDIsIHkyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeDEsIHkxKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3JbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VXaWR0aFtpXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0cm9rZVN0eWxlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh4MiwgeTIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd0JlemllclBhdGggPSBmdW5jdGlvbiAoY29udGV4dCwgcGF0aCwgc3R5bGUpIHtcclxuICAgICAgICAgICAgdmFyIHN0cm9rZUNvbG9yID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGggPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZSA9IHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZUNhcCA9IHN0eWxlLmdldCgnY2FwJyk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQubGluZUNhcCA9IHN0cm9rZUNhcDtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHgxID0gcGF0aFtpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICB5MSA9IHBhdGhbaV1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgeDIgPSBwYXRoW2ldWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkyID0gcGF0aFtpXVszXSxcclxuICAgICAgICAgICAgICAgICAgICBheDEgPSBwYXRoW2ldWzRdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF5MSA9IHBhdGhbaV1bNV0sXHJcbiAgICAgICAgICAgICAgICAgICAgYXgyID0gcGF0aFtpXVs2XSxcclxuICAgICAgICAgICAgICAgICAgICBheTIgPSBwYXRoW2ldWzddO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHgyICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBheDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mICBheDIgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIGF5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgIGF5MiAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdJbnZhbGlkIGN1cnZlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2VXaWR0aFtpXSA8IC4xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeDIsIHkyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeDEsIHkxKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3JbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VXaWR0aFtpXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0cm9rZVN0eWxlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oYXgxLCBheTEsIGF4MiwgYXkyLCB4MiwgeTIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd1JlY3RGaWxsID0gZnVuY3Rpb24gKGNvbnRleHQsIHN0eWxlLCB4LCB5LCB3LCBoKSB7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBmaWxsID0gc3R5bGUuZ2V0KCdmaWxsJyk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGw7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnJlY3QoeCwgeSwgdywgaCk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG5cclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3UmVjdFN0cm9rZSA9IGZ1bmN0aW9uIChjb250ZXh0LCBzdHlsZSwgeCwgeSwgdywgaCkge1xyXG4gICAgICAgICAgICB2YXIgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBzdHJva2VDb2xvciA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgX3ggPSAwLCBfeSA9IDA7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvcltpXTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlV2lkdGggPSBzdHJva2VXaWR0aFtpXTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbaV0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF94ID0geCArIHc7XHJcbiAgICAgICAgICAgICAgICAgICAgX3kgPSB5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBfeCA9IHggKyB3O1xyXG4gICAgICAgICAgICAgICAgICAgIF95ID0geSArIGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIF94ID0geDtcclxuICAgICAgICAgICAgICAgICAgICBfeSA9IHkgKyBoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICBfeCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgX3kgPSB5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2VXaWR0aFtpXSA8IC4xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oX3gsIF95KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKF94LCBfeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLmhlbHBlci5zeXN0ZW0oXHJcbiAgICBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBFYXNpbmcoRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBlYXNpbmdzID0ge1xyXG4gICAgICAgICAgICAgICAgJ18nOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbGluZWFyOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHQgLz0gZDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYiArIGMgKiAodCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbGluZWFyU29mdDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHMgPSAodCAvPSBkKSAqIHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRjID0gdHMgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiICsgYyAqICg0ICogdGMgKiB0cyArIC0xMCAqIHRzICogdHMgKyA4ICogdGMgKyAtMiAqIHRzICsgdCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbGluZWFyU29mdE91dDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHMgPSAodCAvPSBkKSAqIHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRjID0gdHMgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiICsgYyAqICgtMyAqIHRjICogdHMgKyAxMSAqIHRzICogdHMgKyAtMTQgKiB0YyArIDYgKiB0cyArIHQpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGxpbmVhclNvZnRJbjogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHMgPSAodCAvPSBkKSAqIHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRjID0gdHMgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiICsgYyAqICgtMSAqIHRjICogdHMgKyAyICogdGMpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJblF1YWQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGMgKiAodCAvPSBkKSAqIHQgKyBiO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlT3V0UXVhZDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLWMgKiAodCAvPSBkKSAqICh0IC0gMikgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJbk91dFF1YWQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIHQgKiB0ICsgYjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLWMgLyAyICogKCgtLXQpICogKHQgLSAyKSAtIDEpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5DdWJpYzogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VPdXRDdWJpYzogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCArIDEpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5PdXRDdWJpYzogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICsgYjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCArIDIpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5RdWFydDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlT3V0UXVhcnQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1jICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAtIDEpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5PdXRRdWFydDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCArIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1jIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAtIDIpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5RdWludDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICogdCArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZU91dFF1aW50OiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAqIHQgKyAxKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluT3V0UXVpbnQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKiB0ICsgYjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgKiB0ICsgMikgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJblNpbmU6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1jICogTWF0aC5jb3ModCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGMgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VPdXRTaW5lOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogTWF0aC5zaW4odCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluT3V0U2luZTogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLWMgLyAyICogKE1hdGguY29zKE1hdGguUEkgKiB0IC8gZCkgLSAxKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluRXhwbzogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHQgPT09IDApID8gYiA6IGMgKiBNYXRoLnBvdygyLCAxMCAqICh0IC8gZCAtIDEpKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZU91dEV4cG86IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh0ID09PSBkKSA/IGIgKyBjIDogYyAqICgtTWF0aC5wb3coMiwgLTEwICogdCAvIGQpICsgMSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJbk91dEV4cG86IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgPT09IDApIHJldHVybiBiO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ID09PSBkKSByZXR1cm4gYiArIGM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjIC8gMiAqICgtTWF0aC5wb3coMiwgLTEwICogLS10KSArIDIpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5DaXJjOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtYyAqIChNYXRoLnNxcnQoMSAtICh0IC89IGQpICogdCkgLSAxKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZU91dENpcmM6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiBNYXRoLnNxcnQoMSAtICh0ID0gdCAvIGQgLSAxKSAqIHQpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5PdXRDaXJjOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gLWMgLyAyICogKE1hdGguc3FydCgxIC0gdCAqIHQpIC0gMSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjIC8gMiAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluQmFjazogZnVuY3Rpb24gKHQsIGIsIGMsIGQsIHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHMgPSAodCAvPSBkKSAqIHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRjID0gdHMgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiICsgYyAqICgxNS4yNiAqIHRjICogdHMgKyAtNDMuNTYgKiB0cyAqIHRzICsgMzkuOCAqIHRjICsgLTEwLjYgKiB0cyArIDAuMSAqIHQpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VPdXRCYWNrOiBmdW5jdGlvbiAodCwgYiwgYywgZCwgcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cyA9ICh0IC89IGQpICogdDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGMgPSB0cyAqIHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGIgKyBjICogKDExLjI0ICogdGMgKiB0cyArIC0yMy45NiAqIHRzICogdHMgKyAxMi4yNCAqIHRjICsgMS40NCAqIHRzICsgMC4wNCAqIHQpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJbk91dEJhY2s6IGZ1bmN0aW9uICh0LCBiLCBjLCBkLCBzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRzID0gKHQgLz0gZCkgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YyA9IHRzICogdDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYiArIGMgKiAoMjIuOTIgKiB0YyAqIHRzICsgLTU3Ljc4ICogdHMgKiB0cyArIDQ1ICogdGMgKyAtOS4yOCAqIHRzICsgMC4xNCAqIHQpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VPdXRCb3VuY2U6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0IC89IGQpIDwgKDEgLyAyLjc1KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiB0ICogdCkgKyBiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodCA8ICgyIC8gMi43NSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDEuNSAvIDIuNzUpKSAqIHQgKyAuNzUpICsgYjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHQgPCAoMi41IC8gMi43NSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDIuMjUgLyAyLjc1KSkgKiB0ICsgLjkzNzUpICsgYjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAoMi42MjUgLyAyLjc1KSkgKiB0ICsgLjk4NDM3NSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlYXNpbmdzW25hbWVdKSByZXR1cm4gZWFzaW5nc1tuYW1lXTtcclxuICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ0Vhc2luZ3MgLyBVbmFibGUgdG8gZ2V0IHVuZGVmaW5lZCBlYXNpbmcgW3tuYW1lfV0uIExpbmVhciBlYXNpbmcgZnVuY3Rpb24gcHJvdmlkZWQuJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWFzaW5nc1snbGluZWFyJ107XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzYvMjAxNy5cclxuICovXHJcbiRSLmhlbHBlci5zeXN0ZW0oXHJcbiAgICBmdW5jdGlvbiBNYXRyaXgoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gR3JhcGhpY3NUcmFuc2Zvcm1NYXRyaXgob2JqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IFsxLCAwLCAwLCAxLCAwLCAwXSxcclxuICAgICAgICAgICAgICAgIGludmVyc2lvbiA9IFsxLCAwLCAwLCAxLCAwLCAwXSxcclxuICAgICAgICAgICAgICAgIGdsb2JhbEludmVyc2lvbiA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5ID0gW10sIGludmVydGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBtdWx0aXBseShtMSwgbTIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhMSA9IG0xWzBdICogbTJbMF0gKyBtMVsyXSAqIG0yWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIGEyID0gbTFbMV0gKiBtMlswXSArIG0xWzNdICogbTJbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgYTMgPSBtMVswXSAqIG0yWzJdICsgbTFbMl0gKiBtMlszXSxcclxuICAgICAgICAgICAgICAgICAgICBhNCA9IG0xWzFdICogbTJbMl0gKyBtMVszXSAqIG0yWzNdLFxyXG4gICAgICAgICAgICAgICAgICAgIGE1ID0gbTFbMF0gKiBtMls0XSArIG0xWzJdICogbTJbNV0gKyBtMVs0XSxcclxuICAgICAgICAgICAgICAgICAgICBhNiA9IG0xWzFdICogbTJbNF0gKyBtMVszXSAqIG0yWzVdICsgbTFbNV07XHJcbiAgICAgICAgICAgICAgICBtMVswXSA9IGExO1xyXG4gICAgICAgICAgICAgICAgbTFbMV0gPSBhMjtcclxuICAgICAgICAgICAgICAgIG0xWzJdID0gYTM7XHJcbiAgICAgICAgICAgICAgICBtMVszXSA9IGE0O1xyXG4gICAgICAgICAgICAgICAgbTFbNF0gPSBhNTtcclxuICAgICAgICAgICAgICAgIG0xWzVdID0gYTY7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGludmVydCgpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBoaXN0b3J5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhpc3RvcnlbaV0ucm90YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaW5BID0gTWF0aC5zaW4oLWhpc3RvcnlbaV0ucm90YXRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvc0EgPSBNYXRoLmNvcygtaGlzdG9yeVtpXS5yb3RhdGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbHkoaW52ZXJzaW9uLCBbY29zQSwgc2luQSwgLXNpbkEsIGNvc0EsIDAsIDBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhpc3RvcnlbaV0udHJhbnNsYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGx5KGludmVyc2lvbiwgWzEsIDAsIDAsIDEsIC1oaXN0b3J5W2ldLnRyYW5zbGF0ZVswXSwgLWhpc3RvcnlbaV0udHJhbnNsYXRlWzFdXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoaXN0b3J5W2ldLnNrZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbHkoaW52ZXJzaW9uLCBbMSwgTWF0aC50YW4oLWhpc3RvcnlbaV0uc2tld1sxXSksIE1hdGgudGFuKC1oaXN0b3J5W2ldLnNrZXdbMF0pLCAxLCAwLCAwXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoaXN0b3J5W2ldLnNjYWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGx5KGludmVyc2lvbiwgWzEgLyBoaXN0b3J5W2ldLnNjYWxlWzBdLCAwLCAwLCAxIC8gaGlzdG9yeVtpXS5zY2FsZVsxXSwgMCwgMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGludmVydGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGhpc3RvcnkgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJvdGF0ZSA9IGZ1bmN0aW9uIChhbmdsZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNpbkEgPSBNYXRoLnNpbihhbmdsZSksXHJcbiAgICAgICAgICAgICAgICAgICAgY29zQSA9IE1hdGguY29zKGFuZ2xlKSxcclxuICAgICAgICAgICAgICAgICAgICBtID0gW2Nvc0EsIHNpbkEsIC1zaW5BLCBjb3NBLCAwLCAwXTtcclxuXHJcbiAgICAgICAgICAgICAgICBtdWx0aXBseSh2YWx1ZSwgbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoKHsncm90YXRlJzogYW5nbGV9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlID0gZnVuY3Rpb24gKHgsIHkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtID0gWzEsIDAsIDAsIDEsIHgsIHldO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh4ICE9PSAwIHx8IHkgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBtdWx0aXBseSh2YWx1ZSwgbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoKHsndHJhbnNsYXRlJzogW3gsIHldfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjYWxlID0gZnVuY3Rpb24gKHgsIHkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4ICE9PSAxIHx8IHkgIT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IFt4LCAwLCAwLCB5LCAwLCAwXTtcclxuICAgICAgICAgICAgICAgICAgICBtdWx0aXBseSh2YWx1ZSwgbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoKHsnc2NhbGUnOiBbeCwgeV19KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2tldyA9IGZ1bmN0aW9uICh4LCB5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeCAhPT0gMCB8fCB5ICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhbkEgPSBNYXRoLnRhbih4KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFuQiA9IE1hdGgudGFuKHkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtID0gWzEsIHRhbkIsIHRhbkEsIDEsIDAsIDBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBtdWx0aXBseSh2YWx1ZSwgbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoKHsnc2tldyc6IFt4LCB5XX0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5leHRyYWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gaW52ZXJ0R2xvYmFsKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IG9iamVjdC5wYXJlbnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWludmVydGVkKSBpbnZlcnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFnbG9iYWxJbnZlcnNpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsSW52ZXJzaW9uID0gW2ludmVyc2lvblswXSwgaW52ZXJzaW9uWzFdLCBpbnZlcnNpb25bMl0sIGludmVyc2lvblszXSwgaW52ZXJzaW9uWzRdLCBpbnZlcnNpb25bNV1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBseShnbG9iYWxJbnZlcnNpb24sIHBhcmVudC5tYXRyaXgoKS5nbG9iYWxJbnZlcnNpb25NYXRyaXgoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2xvYmFsSW52ZXJzaW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbEludmVyc2lvbiA9IGludmVyc2lvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2xvYmFsSW52ZXJzaW9uO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdsb2JhbEludmVyc2lvbk1hdHJpeCA9IGludmVydEdsb2JhbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsQ3Vyc29yUHJvamVjdGlvbiA9IGZ1bmN0aW9uIChjdXJzb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZ2xvYmFsSW52ZXJzaW9uKSBpbnZlcnRHbG9iYWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IGN1cnNvclswXSAqIGdsb2JhbEludmVyc2lvblswXSArIGN1cnNvclsxXSAqIGdsb2JhbEludmVyc2lvblsyXSArIGdsb2JhbEludmVyc2lvbls0XSxcclxuICAgICAgICAgICAgICAgICAgICB5ID0gY3Vyc29yWzBdICogZ2xvYmFsSW52ZXJzaW9uWzFdICsgY3Vyc29yWzFdICogZ2xvYmFsSW52ZXJzaW9uWzNdICsgZ2xvYmFsSW52ZXJzaW9uWzVdO1xyXG5cclxuICAgICAgICAgICAgICAgIGN1cnNvclswXSA9IHg7XHJcbiAgICAgICAgICAgICAgICBjdXJzb3JbMV0gPSB5O1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3I7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmN1cnNvclByb2plY3Rpb24gPSBmdW5jdGlvbiAoY3Vyc29yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWludmVydGVkKSBpbnZlcnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IGN1cnNvclswXSAqIGludmVyc2lvblswXSArIGN1cnNvclsxXSAqIGludmVyc2lvblsyXSArIGludmVyc2lvbls0XSxcclxuICAgICAgICAgICAgICAgICAgICB5ID0gY3Vyc29yWzBdICogaW52ZXJzaW9uWzFdICsgY3Vyc29yWzFdICogaW52ZXJzaW9uWzNdICsgaW52ZXJzaW9uWzVdO1xyXG5cclxuICAgICAgICAgICAgICAgIGN1cnNvclswXSA9IHg7XHJcbiAgICAgICAgICAgICAgICBjdXJzb3JbMV0gPSB5O1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3I7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5vYmplY3RNYXRyaXggPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgbWF0cml4ID0gbmV3IEdyYXBoaWNzVHJhbnNmb3JtTWF0cml4KG9iamVjdCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBvYmplY3QuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgYm94Q29udGFpbmVyID0gb2JqZWN0LmV4dGVuc2lvbignQm94JykuYm94KCksXHJcbiAgICAgICAgICAgICAgICBzcHJpdGUgPSBib3hDb250YWluZXIuc3ByaXRlKCksXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgIG9yaWdpbiA9IHN0eWxlLmdldCgnb3JpZ2luJyksXHJcbiAgICAgICAgICAgICAgICBza2V3ID0gc3R5bGUuZ2V0KCdza2V3JyksXHJcbiAgICAgICAgICAgICAgICByb3RhdGUgPSBzdHlsZS5nZXQoJ3JvdGF0ZScpLFxyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBzdHlsZS5nZXQoJ3NjYWxlJyksXHJcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGUgPSBzdHlsZS5nZXQoJ3RyYW5zbGF0ZScpLFxyXG5cclxuICAgICAgICAgICAgICAgIF90cmFuc2xhdGUgPSBvYmplY3QudHlwZSgpID09PSAnR3JvdXAnID8gW1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uWzBdICsgdHJhbnNsYXRlWzBdIC0gc3ByaXRlLm1hcmdpblszXSxcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblsxXSArIHRyYW5zbGF0ZVsxXSAtIHNwcml0ZS5tYXJnaW5bMF1cclxuICAgICAgICAgICAgICAgIF0gOlxyXG4gICAgICAgICAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnBvc2l0aW9uWzBdICsgdHJhbnNsYXRlWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUucG9zaXRpb25bMV0gKyB0cmFuc2xhdGVbMV1cclxuICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgX29yaWdpbiA9IFtcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5bMF0gKiBzcHJpdGUuc2l6ZVswXSxcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5bMV0gKiBzcHJpdGUuc2l6ZVsxXVxyXG4gICAgICAgICAgICAgICAgXTtcclxuXHJcblxyXG4gICAgICAgICAgICBtYXRyaXgudHJhbnNsYXRlKF9vcmlnaW5bMF0sIF9vcmlnaW5bMV0pO1xyXG4gICAgICAgICAgICBpZiAoX3RyYW5zbGF0ZVswXSAhPT0gMCB8fCBfdHJhbnNsYXRlWzFdICE9PSAwKSBtYXRyaXgudHJhbnNsYXRlKF90cmFuc2xhdGVbMF0sIF90cmFuc2xhdGVbMV0pO1xyXG4gICAgICAgICAgICBpZiAocm90YXRlICE9PSAwKSBtYXRyaXgucm90YXRlKHJvdGF0ZSk7XHJcbiAgICAgICAgICAgIGlmIChza2V3WzBdICE9PSAwIHx8IHNrZXdbMV0gIT09IDApIG1hdHJpeC5za2V3KHNrZXdbMF0sIHNrZXdbMV0pO1xyXG4gICAgICAgICAgICBpZiAoc2NhbGVbMF0gIT09IDEgfHwgc2NhbGVbMV0gIT09IDEpIG1hdHJpeC5zY2FsZShzY2FsZVswXSwgc2NhbGVbMV0pO1xyXG4gICAgICAgICAgICBtYXRyaXgudHJhbnNsYXRlKC1fb3JpZ2luWzBdLCAtX29yaWdpblsxXSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbWF0cml4O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgfSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI5LzIwMTYuXHJcbiAqL1xyXG4kUi5oZWxwZXIuc3lzdGVtKFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gTW9kZWwoRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2xvbmVIYXNoID0gZnVuY3Rpb24gKGhhc2gpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaGFzaCAhPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdIYXNoIGlzIG5vdCBhbiBvYmplY3QhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaGFzaCkpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jbG9uZUFycmF5ID0gZnVuY3Rpb24gKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFycmF5ICE9PSBcIm9iamVjdFwiIHx8IGFycmF5LmNvbnN0cnVjdG9yICE9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdhcnJheSBpcyBub3QgYW4gYXJyYXkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcnJheVtpXSA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcnJheVtpXS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5jbG9uZUFycmF5KGFycmF5W2ldKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuY2xvbmVIYXNoKGFycmF5W2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFycmF5W2ldID09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IGFycmF5W2ldLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGV2YWwodGV4dCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdZb3UgY2xvbmUgZnVuY3Rpb25zISBJdCBjYW4gYmUgc2xvdyEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGFycmF5W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudmFsaWROdW1lcmljQXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJyYXkgIT09IFwib2JqZWN0XCIgfHwgYXJyYXkuY29uc3RydWN0b3IgIT09IEFycmF5KSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJyYXlbaV0gIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIGJsZW5kaW5ncyA9IFsnc291cmNlLW92ZXInLCAnc291cmNlLWluJywgJ3NvdXJjZS1vdXQnLCAnc291cmNlLWF0b3AnLCAnZGVzdGluYXRpb24tb3ZlcicsXHJcbiAgICAgICAgICAgICAgICAnZGVzdGluYXRpb24taW4nLCAnZGVzdGluYXRpb24tb3V0JywgJ2Rlc3RpbmF0aW9uLWF0b3AnLCAnbGlnaHRlcicsICdjb3B5JywgJ3hvcicsICdtdWx0aXBseScsXHJcbiAgICAgICAgICAgICAgICAnc2NyZWVuJywgJ292ZXJsYXknLCAnZGFya2VuJywgJ2xpZ2h0ZW4nLCAnY29sb3ItZG9kZ2UnLCAnY29sb3ItYnVybicsICdoYXJkLWxpZ2h0JyxcclxuICAgICAgICAgICAgICAgICdzb2Z0LWxpZ2h0JywgJ2RpZmZlcmVuY2UnLCAnZXhjbHVzaW9uJywgJ2h1ZScsICdzYXR1cmF0aW9uJywgJ2NvbG9yJywgJ2x1bWlub3NpdHknXHJcbiAgICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnZhbGlkQmxlbmRpbmcgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJsZW5kaW5ncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChibGVuZGluZ3NbaV0gPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgc3ByaXRlX3JlZ2V4cCA9IC9eKFsuL19cXGRhLXpBLVpdKykoXFxbKFxcZCspXFxdKSQvO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pc1Nwcml0ZVN0cmluZyA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzcHJpdGVfcmVnZXhwLnRlc3Qoc3RyKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVhZFNwcml0ZVN0cmluZyA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBzdHIubWF0Y2goc3ByaXRlX3JlZ2V4cCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IHJlc3VsdFsxXSxcclxuICAgICAgICAgICAgICAgICAgICBmcmFtZXM6IHBhcnNlSW50KHJlc3VsdFszXSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzMvMjAxNy5cclxuICovXHJcbiRSLmhlbHBlci5zeXN0ZW0oXHJcbiAgICBmdW5jdGlvbiBNb3VzZSgpIHtcclxuICAgICAgICB0aGlzLmNpcmNsZVVzZXJDaGVja0Z1bmN0aW9uID0gZnVuY3Rpb24gKGN1cnNvcikge1xyXG4gICAgICAgICAgICB2YXIgY29vcmRzID0gdGhpcy5tYXRyaXgoKS5nbG9iYWxDdXJzb3JQcm9qZWN0aW9uKFtjdXJzb3JbMF0sIGN1cnNvclsxXV0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvb3JkcyA8IFswXSB8fCBjb29yZHNbMV0gPCAwKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLnNwcml0ZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvb3Jkc1swXSA+IHNwcml0ZS5zaXplWzBdKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29vcmRzWzFdID4gc3ByaXRlLnNpemVbMV0pIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHZhciByYWRpdXMgPSBzcHJpdGUuc2l6ZVswXSAvIDIsXHJcbiAgICAgICAgICAgICAgICBjeCA9IHJhZGl1cyxcclxuICAgICAgICAgICAgICAgIGN5ID0gc3ByaXRlLnNpemVbMV0gLyAyO1xyXG5cclxuICAgICAgICAgICAgaWYgKE1hdGgucG93KGNvb3Jkc1swXSAtIGN4LCAyKSArIE1hdGgucG93KGNvb3Jkc1sxXSAtIGN5LCAyKSA8PSBNYXRoLnBvdyhyYWRpdXMsIDIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc3F1YXJlVXNlckNoZWNrRnVuY3Rpb24gPSBmdW5jdGlvbiAoY3Vyc29yKSB7XHJcbiAgICAgICAgICAgIHZhciBjb29yZHMgPSB0aGlzLm1hdHJpeCgpLmdsb2JhbEN1cnNvclByb2plY3Rpb24oW2N1cnNvclswXSwgY3Vyc29yWzFdXSksXHJcbiAgICAgICAgICAgICAgICBzcHJpdGUgPSB0aGlzLmV4dGVuc2lvbignQm94JykuYm94KCkuc3ByaXRlKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29vcmRzWzBdID4gMCAmJiBjb29yZHNbMF0gPCBzcHJpdGUuc2l6ZVswXSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvb3Jkc1sxXSA+IDAgJiYgY29vcmRzWzFdIDwgc3ByaXRlLnNpemVbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmNpcmNsZUNoZWNrRnVuY3Rpb24gPSBmdW5jdGlvbiAoY3Vyc29yKSB7XHJcbiAgICAgICAgICAgIHZhciBjb29yZHMgPSB0aGlzLm1hdHJpeCgpLmdsb2JhbEN1cnNvclByb2plY3Rpb24oW2N1cnNvclswXSwgY3Vyc29yWzFdXSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29vcmRzIDwgWzBdIHx8IGNvb3Jkc1sxXSA8IDApIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSB0aGlzLmV4dGVuc2lvbignQm94JykuYm94KCkuc3ByaXRlKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29vcmRzWzBdID4gc3ByaXRlLnNpemVbMF0pIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb29yZHNbMV0gPiBzcHJpdGUuc2l6ZVsxXSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNlbnRlciA9IHNwcml0ZS5zaXplWzBdIC8gMixcclxuICAgICAgICAgICAgICAgIHJhZGl1cyA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLmdldCgncmFkaXVzJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoTWF0aC5wb3coKGNvb3Jkc1swXSAtIGNlbnRlciksIDIpICsgTWF0aC5wb3coKGNvb3Jkc1sxXSAtIGNlbnRlciksIDIpIDwgTWF0aC5wb3cocmFkaXVzLCAyKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnJlY3RDaGVja0Z1bmN0aW9uID0gZnVuY3Rpb24gKGN1cnNvcikge1xyXG4gICAgICAgICAgICB2YXIgY29vcmRzID0gdGhpcy5tYXRyaXgoKS5nbG9iYWxDdXJzb3JQcm9qZWN0aW9uKFtjdXJzb3JbMF0sIGN1cnNvclsxXV0pLFxyXG4gICAgICAgICAgICAgICAgc3ByaXRlID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLnNwcml0ZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvb3Jkc1swXSA+IDAgJiYgY29vcmRzWzBdIDwgc3ByaXRlLnNpemVbMF0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb29yZHNbMV0gPiAwICYmIGNvb3Jkc1sxXSA8IHNwcml0ZS5zaXplWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjkvMjAxNi5cclxuICovXHJcbiRSLmhlbHBlci5zeXN0ZW0oXHJcbiAgICBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBQYXRoKERlYnVnKSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldENvbnRyb2xQb2ludHMoeDAsIHkwLCB4MSwgeTEsIHgyLCB5MiwgdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGQwMSA9IE1hdGguc3FydChNYXRoLnBvdyh4MSAtIHgwLCAyKSArIE1hdGgucG93KHkxIC0geTAsIDIpKTtcclxuICAgICAgICAgICAgICAgIHZhciBkMTIgPSBNYXRoLnNxcnQoTWF0aC5wb3coeDIgLSB4MSwgMikgKyBNYXRoLnBvdyh5MiAtIHkxLCAyKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmEgPSB0ICogZDAxIC8gKGQwMSArIGQxMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmIgPSB0ICogZDEyIC8gKGQwMSArIGQxMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgcDF4ID0geDEgLSBmYSAqICh4MiAtIHgwKTtcclxuICAgICAgICAgICAgICAgIHZhciBwMXkgPSB5MSAtIGZhICogKHkyIC0geTApO1xyXG4gICAgICAgICAgICAgICAgdmFyIHAyeCA9IHgxICsgZmIgKiAoeDIgLSB4MCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcDJ5ID0geTEgKyBmYiAqICh5MiAtIHkwKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbcDF4LCBwMXksIHAyeCwgcDJ5XTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jb252ZXJ0Q29tcGxleFBhdGggPSBmdW5jdGlvbiAocGF0aCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtpXVsxXVxyXG4gICAgICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbnZlcnRTaW1wbGVQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ1BhdGggc2hvdWxkIGNvbnNpc3Qgb2YgYXQgbGVhc3QgdHdvIHBvaW50cyEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB4ID0gcGF0aFtpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHBhdGhbaV1bMV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeCAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgIHkgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0luY29ycmVjdCBQYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCBwYXRoLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXN1bHRbaV0pIHJlc3VsdC5wdXNoKFtdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2ldLnB1c2goeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpXS5wdXNoKHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2kgLSAxXS5wdXNoKHgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaSAtIDFdLnB1c2goeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpIC0gMV0ucHVzaChyZXN1bHRbaSAtIDFdWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2kgLSAxXS5wdXNoKHJlc3VsdFtpIC0gMV1bMV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2kgLSAxXS5wdXNoKHgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaSAtIDFdLnB1c2goeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmludGVycG9sYXRlID0gZnVuY3Rpb24gKHBhdGgsIHNtb290aGluZywgY2xvc2VkKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmV2ID0gW10sIG1pZCA9IFtwYXRoW2ldWzBdLCBwYXRoW2ldWzFdXSwgbmV4dCA9IFtwYXRoW2ldWzJdLCBwYXRoW2ldWzNdXSwgcHRzID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2ID0gbWlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldiA9IFtwYXRoW2kgLSAxXVswXSwgcGF0aFtpIC0gMV1bMV1dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHB0cyA9IGdldENvbnRyb2xQb2ludHMocHJldlswXSwgcHJldlsxXSwgbWlkWzBdLCBtaWRbMV0sIG5leHRbMF0sIG5leHRbMV0sIHNtb290aGluZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtpXVs0XSA9IHB0c1syXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtpXVs1XSA9IHB0c1szXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbaSAtIDFdWzZdID0gcHRzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoW2kgLSAxXVs3XSA9IHB0c1sxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtpXVs0XSA9IHB0c1syXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtpXVs1XSA9IHB0c1szXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09IHBhdGgubGVuZ3RoIC0gMSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldiA9IFtwYXRoW2ldWzBdLCBwYXRoW2ldWzFdXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlkID0gW3BhdGhbaV1bMl0sIHBhdGhbaV1bM11dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0ID0gbWlkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHRzID0gZ2V0Q29udHJvbFBvaW50cyhwcmV2WzBdLCBwcmV2WzFdLCBtaWRbMF0sIG1pZFsxXSwgbmV4dFswXSwgbmV4dFsxXSwgc21vb3RoaW5nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbaV1bNl0gPSBwdHNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbaV1bN10gPSBwdHNbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzMSA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMyID0gcGF0aFswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfc2VnbWVudCA9IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzMVswXSwgczFbMV0sIHMxWzJdLCBzMVszXSwgczFbNF0sIHMxWzVdLCBzMVs2XSwgczFbN11dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3MyWzBdLCBzMlsxXSwgczJbMl0sIHMyWzNdLCBzMls0XSwgczJbNV0sIHMyWzZdLCBzMls3XV1dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcnBvbGF0ZShfc2VnbWVudCwgc21vb3RoaW5nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbMF1bNF0gPSBfc2VnbWVudFsxXVs0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFswXVs1XSA9IF9zZWdtZW50WzFdWzVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoW3BhdGgubGVuZ3RoIC0gMV1bNl0gPSBfc2VnbWVudFswXVs2XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtwYXRoLmxlbmd0aCAtIDFdWzddID0gX3NlZ21lbnRbMF1bN107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tTaW1wbGVQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gXCJvYmplY3RcIiB8fCBwYXRoLmNvbnN0cnVjdG9yICE9PSBBcnJheSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBkZWVwY2hlY2sgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHBhdGhbaV0gIT09IFwib2JqZWN0XCIgfHwgcGF0aFtpXS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkgfHwgcGF0aFtpXS5sZW5ndGggIT09IDIgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHBhdGhbaV1bMF0gIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mICBwYXRoW2ldWzFdICE9PSBcIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZXBjaGVjayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZXBjaGVjaztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29tcGFyZVBhdGhzID0gZnVuY3Rpb24gKHBhdGgxLCBwYXRoMikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGgxLmxlbmd0aCAhPT0gcGF0aDIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aDEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHBhdGgxW2ldLmxlbmd0aDsgbisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXRoMVtpXVtuXSAhPT0gcGF0aDJbaV1bbl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
