function Reflect(){}function Core(e){new Injection(e);for(var t=!0,n=0;n<expect.length;n++)if(!modules[expect[n]]){t=!1;break}return t&&BuildCore(),Core}function getRouteFunction(e){return function routeFunction(){var t=e.apply(Reflect,arguments);return void 0!==t?Reflect:t}.bind(core)}function BuildCore(){Core.get("Root");for(var e in properties)properties.hasOwnProperty(e)&&(core[e]=properties[e])}function Injection(e){if("function"!=typeof e||!e.name)throw new Error("Unable to createinjection. Constructor is not a named function!");modules[e.name]=this;var t=null;this.create=function(t){var n=[null];if(t&&"object"==typeof t&&t.constructor===Array)for(var r=0;r<t.length;r++)n.push(t[r]);return new(Function.prototype.bind.apply(e,n))},this.get=function(){if(t)return t;var e=this.create.apply(this,arguments[0]);return t=e,e},this.is=function(t){return t.constructor===e},this.extend=function(t,n){return"object"==typeof n&&n.constructor===Array?(e.apply(t,n),t):(e.call(t),t)}}var modules={},properties={},core=new Reflect,expect=["Application","Audio","Canvas","Classes","Config","Container","Fonts","Helpers","Injection","Root","Services","Source","Ticker"];Core.get=function(e,t){if("string"==typeof e){if(modules[e])return modules[e].get.apply(modules[e],t);throw new Error("Module ["+e+"] was not found")}throw new Error("Module name is not a string. Wrong arguments")},Core.is=function(e,t){if("string"==typeof t&&modules[t])return modules[t].is(e)},Core.inject=function(e,t){if("string"==typeof e){if(modules[e])return modules[e].create(t);throw new Error("Nodule ["+e+"] was not found.")}throw new Error("Module name is not a string. Wrong Arguments")},Core.extend=function(e,t,n){if("string"==typeof modules[e]){if("object"==typeof t)return modules[e].extend(t,n);throw new Error("Unable to extend target of tyoe ["+typeof t+"] bu module constructor ["+e+"].")}},Core.define=function(e,t){if(core||(core=new Reflect),"string"==typeof e){if(void 0!==properties[e])throw new Error("Unable to define property ["+e+"]. Already defined!");return"function"==typeof e?properties[e]=getRouteFunction(t):null===e&&"undefined"==typeof e&&"object"==typeof e||(properties[e]=t),core}},window.$R=core,Core(function Application(e,t,n){var r=this;n.define("fps",58.8,{isNumber:!0,greater:0,under:61}).watch(function(e){t.fps(e)}),n.define("canvas",null,{isString:!0}).watch(function(t){e.element(t)}),this.$=function(e,t){if("string"!=typeof e)throw new Error("Unable to set API method. Name is not a string.");if("$"===e.charAt(0))throw new Error("Unable to set API function. Function name starts with $");if(this[e])throw new Error("Application API property ["+e+"] duplication!");if("function"!=typeof t)throw new Error("Application API property ["+e+"] value is not a function");this[e]=function(){var e=t.apply(this,arguments);return void 0!==e?e:r}},this.stop=function(){return t.stop(),this},this.start=function(){return t.start(),this},this.config=function(e,t){if("string"==typeof e)if("undefined"!=typeof t&&"function"!=typeof t)n.set(e,t);else{if("function"!=typeof t)return n.get(e);n.watch(e,t)}else{if("object"!=typeof e||e.constructor===Array)throw new Error("Unable to config application. Config format is invalid");for(var r in e)e.hasOwnProperty(r)&&n.set(r,e[r])}return this}}),Core(function Audio(){var e=new AudioContext;this.context=function(){return e}}),Core(function Canvas(e){function DrawScene(e,t){if(u){for(var r=[n,e,t],o=0;o<s.length;o++)try{s[o].f.apply(a,r)}catch(i){throw console.error(i),new Error("Error emerged while drawing. \nQueue          : ["+s[o].o+"]\nQueue Ordering : ["+o+"]\nQueue Member   : ["+s[o].f.name+"]\nMessage        : "+i.message)}for(var c in s)for(var o=0;o<s[c].length;o++);}}function resolve(e){for(var t=0;t<e.length;t++)e[t].call(a)}var t=null,n=null,r=[800,600],o=[],i=[],a=this,s=[],u=!1;e.queue(0,DrawScene),this.element=function(e){if("string"==typeof e){var o=document.getElementById(e);if(!o||!o.getContext)throw new Error("Element with id [#"+e+"] was not found or not a canvas");var a=o.getContext("2d");if(!a)throw new Error("Element with id [#"+e+"] is not a canvas. Can not get 2d context.");o.setAttribute("width",r[0]),o.setAttribute("height",r[1]),n=a,t=o,u=!0,resolve(i)}else{if(!(e instanceof HTMLElement))return t;if(!e.getContext)throw new Error("Element is not a Canvas");var a=e.getContext("2d");if(!a)throw new Error("Element is not a Canvas. Can not get 2d context.");e.setAttribute("width",r[0]),e.setAttribute("height",r[1]),t=e,n=a,u=!0,resolve(i)}},this.queue=function(e,t){if("function"==typeof e){if(!e.name)throw new Error("Unable to enqueue callback. Provide a named function");s.push({o:0,f:t})}else{if("number"!=typeof e)throw new Error("Unable to enqueue callback. Wrong arguments.");if("function"!=typeof t)throw new Error("Unable to enqueue callback. Provide a named function");if(!t.name)throw new Error("Unable to enqueue callback. Provide a named function.");s.push({o:e,f:t})}return s.sort(function(e,t){return e.o>t.o}),this},this.size=function(e,n){return"number"==typeof e&&"number"==typeof n&&(e<0&&(e=0),n<0&&(n=0),r[0]===e&&r[1]===e||(r[0]=e,r[1]=n,t.setAttribute("width",e),t.setAttribute("height",n),resolve(o))),[r[0],r[1]]},this.resize=function(e){if("function"==typeof e)return o.push(e),this;throw new Error("Unable to set ressize callback. f argument is not a function")},this["switch"]=function(e){if("function"==typeof e)return i.push(e),this;throw new Error("Unable to set switch callback. f argument is not a function")},this.ready=function(){return u}}),Core(function Classes(){function cls(e){try{var r=Core.inject("Injection",[e]);n[r.name()]&&console.warn("Global Class Library class ["+r.name()+"] has been overwritten.");for(var o in t)t.hasOwnProperty(o)&&t[o][r.name()]&&console.warn("Application ["+o+"] Class ["+r.name()+"] overrides global class.");n[r.name()]=r}catch(i){throw new Error("Unable to create class injection.")}}var e={},t={},n={};cls.app=function(e,r){if("string"!=typeof e)throw new Error("Unable to register ApplicationClass injection. App id is not a string.");t[e]||(t[e]={});try{var o=Core.inject("Injection",[r]);n[o.name()]&&console.warn("Application ["+e+"] Class ["+o.name()+"] overrides global class."),t[e][o.name()]=o}catch(i){throw new Error("Unable to create and register ApplicationClass for app ["+e+"].")}},cls.sys=function(t){try{var n=Core.inject("Injection",[t]);e[n.name()]&&console.warn("System Class ["+n.name()+"] override."),e[n.name()]=n}catch(r){throw new Error("Unable to register SystemClass injection")}},this.getApplicationClasses=function(e){if("string"==typeof e){var r=Core.inject("Container",[n]);return t[e]?(r.source(r,"."),r.merge(t),r):(r.source(r,"."),r)}throw new Error("Unable to get application classes container. App id is not a string.")},this.getSystemClasses=function(){var t=Core.inject("Container",[e]);return t.source(t,"."),t},Core.define("class",cls)}),Core(function Config(){function Property(e,n,r){function checkValue(e){for(var n=!0,r=0;r<o;r++)if(!t[o[r].f](e,o.args)){n=!1;break}return n}var o=[],i=[];this.get=function(){var e=n;if(t.isArray(e)){e=[];for(var r=0;r<n.length;r++)e.push(n[r])}return e},this.name=function(){return e},this.set=function(e){if(checkValue(e))if(t.isArray(e)){n=[];for(var r=0;r<e.length;r++)n.push(e[r])}else n=e;for(var r=0;r<i.length;r++)i[r].call(this,this.get());return this.get()},this.watch=function(e){if("function"!=typeof e)throw new Error("Can not set config property watcher. Argument f is not a function.");return i.push(e),n};for(var a in r)if(r.hasOwnProperty(a)){if(void 0===r[a])throw new Error("Wrong parameter for config property ["+a+"]");if(!t[a])throw new Error("No such config value checker as ["+a+"]");o.push({f:a,args:[r[a]]})}if("object"==typeof n&&null!==n&&!t.isArray(n))throw new Error("Objects are not supported as config property value!");if(!checkValue(n))throw new Error("Initial ["+e+"]'s value does not meet config requirements.")}var e={},t={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isArray:function(e){return"object"==typeof e&&e.constructor===Array},custom:function(e,t){if("function"==typeof t[0])return t[0](e)},under:function(e,n){return t.isNumber(e)&&e<n[0]},greater:function(e,n){return t.isNumber(e)&&e>n[0]},eq:function(e,n){return t.isNumber(e)&&e===n[0]},isBool:function(e){return"boolean"==typeof e}};this.define=function(t,n,r){if("string"!=typeof t)throw new Error("Unable to define config property. Property name is not a string.");if(void 0===n)throw new Error("Config property value can not be undefined.");if(e[t])console.warn("Config property duplication on property name ["+t+"]");else try{e[t]=new Property(t,n,r)}catch(o){throw console.error("Unable to create config property ["+t+"]"),o}return e[t]},this.set=function(t,n){if("string"==typeof t&&e[t])return e[t].set(n);throw new Error("Unable to set property ["+t+"]. No such property.")},this.get=function(t){if("string"==typeof t)return e[t].get();throw new Error("Unable to get property ["+t+"]. No such property.")},this.watch=function(t,n){if("string"==typeof t){if("function"==typeof n){if(e[t])return e[t].watch(n);throw new Error("No such property as ["+t+"] to watch.")}throw new Error("Watcher callback is not a function")}throw new Error("Unable to watch config property. Property name is invalid or undefined")}}),Core(function Container(e,t){var n={},r={},o={};if(this.list=function(){return n},this.injection=function(e){var t=null,r=[];if("function"==typeof e){if(!e.name||!e.name.length)throw new Error("Anonymous function can not be injection constructor.");t=e}else{if("object"!=typeof e||e.constructor!==Array)throw new Error("Unknown type of injection config.");for(var o=0;o<e.length;o++){if("string"!=typeof e[o]||!e[o].length){if("function"==typeof e[o]&&e[o].name){t=e[o];break}throw new Error("Unknown type of injection name or constructor.")}r.push(e[o])}}r.push(t),n[t.name]&&console.warn("Injection ["+t.name+"] duplicated and has been overwritten"),n[t.name]=Core.inject("Injection",[r])},this.merge=function(t,r){if(t)try{for(var o in t)t.hasOwnProperty(o)&&Core.is(t[o],"Injection")&&(n[t[o].name()]&&console.warn("Injection ["+o+"] has been merged.s"),r?n[e[o].name()]=e[o].clone():n[e[o].name()]=e[o])}catch(i){throw new Error("Unable to merge libs.")}},this.source=function(e,t){if(e&&"object"==typeof e)if(Core.is(e,"Container")){if(t||(t=!1),"string"==typeof t&&t.length||t===!1){e.$$LOOP=!0;var n=!1;this.$LOOP&&(n=!0),delete e.$$LOOOP,r[t?t:"$$noprefix"]=Core.inject("Source",[t,e,n])}}else if(e.constructor===Array){for(var o=!0,n=[],i=0;i<e.length;i++)"object"==typeof e[i]&&Core.is(e[i],"Container")?(e[i].$$LOOOP=!0,this.$$LOOOP?n.push(!0):n.push(!1),delete e[i].$$LOOOP):o=!1;if(!o)throw new Error("Source container config is not valid. One of the containers provided is not an InjectionContainer instance");t||(t=!1),("string"==typeof t&&t.length||t===!1)&&(r[t?t:"$$noprefix"]=Core.inject("Source",[t,e,n]))}},this.clone=function(){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t].clone());var o=Core.inject("Container",[e]);for(var i in r){for(var a=r[i].containers(),s=r[i].loop(),u=r[i].prefix(),c=[],l=0;l<a.length;l++)s[l]?c.push(o):c.push(a[l].clone());o.source(c,u)}return o},this.findSourceByPrefix=function(e){return e===!1?r.$$noprefix:"string"==typeof e?r[e]:null},this.findSourceByInjectionName=function(e){var t=null;if(o[e])return o[e];for(var n in r)if(r.hasOwnProperty(n)&&r[n].prefix()&&r[n].has(e)){t=r[n],o[e]=t;break}if(!t&&r.$$noprefix&&r.$$noprefix.has(e)&&(t=r.$$noprefix,o[e]=t),!t)throw new Error("Unable to find source containing injection ["+e+"]. ");return t},this.resolve=function(e,t){if("extend"===t){if(n[e]){for(var r={dependencies:[],$constructor:n[e].$constructor()},o=n[e].dependencies(),i=0;i<o.length;i++)if("@extend"===o[i])r.dependencies.push(n[e].extend(this));else if("@inject"===o[i])r.dependencies.push(n[e].inject(this));else{var a=this.findSourceByInjectionName(o[i]);if(!a)throw new Error("No source found containing ["+o[i]+"] for ["+e+"].");r.dependencies.push(a.resolve(o[i]))}return r}throw new Error("Unable to inject ["+e+"] no such injection found")}if(this.has(e)){for(var o=n[e].dependencies(),s=[],u=0;u<o.length;u++)if("@extend"===o[u])s.push(n[e].extend(this));else if("@inject"===o[u])s.push(n[e].inject(this));else{var c=this.findSourceByInjectionName(o[u]);if(!c)throw new Error("Injection ["+o[u]+"] for ["+e+"] source was not found.");s.push(c.resolve(o[u]))}return n[e].create(s,t)}throw new Error("Injection ["+e+"] was not found in library!")},this.resolveDirectInjection=function(e){var t=this.findSourceByInjectionName(e);return t?t.resolve(e,!0):t},this.has=function(e){return!!n[e]},this.get=function(e){return n[e]?n[e]:null},Core.is(e,"Injection"))n[e.name()]=e.clone();else if("object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&Core.is(e[i],"Injection")&&(t?n[e[i].name()]=e[i]:n[e[i].name()]=e[i].clone());else if(void 0!==e)throw new Error("Unable to create container. Wrong arguments. Lib is Injection or object")}),Core(function Fonts(e,t){function fontString(t){if(!o)return!1;for(var n="",r=0;r<t.weight.length;r++)for(var u=0;u<t.style.length;u++){for(var c=e.get("fontDir")+"/"+t.name+"-"+t.weight[r]+"-"+t.style[u],l='@font-face {font-family: "'+s.format(t.name)+"-"+t.weight[r]+'";src:',f=0;f<i.length;f++)l+=a[i[f]](c,t.name,t.style[u]),l+=f<i.length-1?",":";";l+="font-weight: "+t.weight[r]+";",l+="font-style:"+t.style[u]+";}",t[t.weight[r]+"-"+t.style[u]]=l,n+=t[t.weight[r]+"-"+t.style[u]]}return n}function update(e){var t="";for(var o in r)r.hasOwnProperty(o)&&(t+=fontString(r[o],e));n.innerHTML=t}function inArray(e,t){for(var n=!1,r=0;r<e.length;r++)if(e[r]===t){n=!0;break}return n}var n=document.createElement("style"),r={},o=!1,i=e.define("fontFormats",["eot","svg","ttf","woff"],{isArray:!0,custom:function(e){for(var t=!0,n=0;n<e.length();n++)if("eot"!==e[n]||"svg"!==e[n]||"ttf"!==e[n]||"woff"!==e[n]){t=!1;break}return t}}).watch(function(e){o=!0,i=e,update()}),a={eot:function(e){return'url("'+e+'.eot?#iefix") format("embedded-opentype")'},woff:function(e){return'url("'+e+'.woff") format("woff")'},ttf:function(e){return'url("'+e+'.ttf") format("truetype")'},svg:function(e,t,n){return'url("'+e+".svg#"+t+"-"+(n.charAt(0).toUpperCase()+n.slice(1))+'") format("svg")'}},s=this;e.define("fontDir","./fonts",{isString:!0}),document.getElementsByTagName("head")[0].appendChild(n),this.font=function(e,t,n,o){r[t]||(r[t]={name:t}),r[t].weight||(r[t].weight=[]),r[t].style||(r[t].style=[]),inArray(r[t].weight,n)||r[t].weight.push(n),inArray(r[t].style,o)||r[t].style.push(o),update(e)},this.format=function(e){return t+"-"+e},this.formats=function(){for(var e=[],t=0;t<i.length;t++)e.push(i[t]);return e}}),Core(function Helpers(){function helper(t){try{var n=Core.inject("Injection",[t]);e[n.name()]&&console.warn("helper ["+n.name()+"] override."),e[n.name()]=n}catch(r){throw new Error("Unable to create Helper.")}}var e={},t={};Core.define("helper",helper),helper.system=function(n,r){try{var o=Core.inject("Injection",[n]);t[o.name()]&&console.warn("System Helper ["+o.name()+"] Duplicate declaration override."),t[o.name()]=o,r&&(e[o.name()]?console.warn("System Helper ["+o.name()+"] overrides user helper. Skipped system helper."):e[o.name()]=o)}catch(i){}},this.getSystemHelpers=function(e){var n=Core.inject("Container",[t]);return n.source(n,"+"),n.source(e,"@"),n},this.getPublicHelpers=function(t){var n=Core.inject("Container",[e]);return n.source(n,"+"),n.source(t,"@"),n}}),Core(function Injection(e,t){var n=e,r=null,o=[],i=this;if(t){if("object"!=typeof e)throw new Error("Unable to create PreResolvedInjection! con argument is not an object!");n=e.constructor,r=e,o=[]}else{if("function"==typeof e&&e.name)n=e;else if("object"==typeof e&&e.constructor===Array)for(var a=0;a<e.length;a++)if("string"==typeof e[a]&&e[a].length)o.push(e[a]);else if("function"==typeof e[a]&&e[a].name){n=e[a];break}if(!n)throw new Error("Injection constructor undefined!")}this.name=function(){return n.name},this.dependencies=function(){for(var e=[],t=0;t<o.length;t++)e.push(o[t]);return e},this.extend=function(e){if(t)throw new Error("You can not extend with ["+n.name+"]!");return function(t,n){if("object"!=typeof t)throw new Error("Extend target should be an object!");if("string"!=typeof n)throw new Error("Extend class name should be a string!");var r=e.findSourceByInjectionName(n);if(!r)throw new Error("Unable to find injection ["+n+"] for ["+i.name()+"]");var o=r.resolveInjectionDependancies(n);o.$constructor.apply(t,o.dependencies)}},this.inject=function(e){if(t)throw new Error("You can not inject ["+n.name+"] directly");return function(t){return e.resolveDirectInjection(t)}},this.create=function(e,o){return t?r:o?(e.unshift(null),new(Function.prototype.bind.apply(n,e))):(r||(e.unshift(null),r=new(Function.prototype.bind.apply(n,e))),r)},this.$constructor=function(){return n},this.clone=function(){return new Injection(e,t)}}),Core(function Root(){function createApplication(o){var i=Core.inject("Container",[e[o]]),a=Core.inject("Ticker"),s=Core.inject("Canvas",[a]),u=Core.inject("Audio",[]),c=Core.inject("Config",[o]),l=Core.inject("Fonts",[c,o]),f=Core.inject("Application",[s,a,c]),h={};h.Ticker=Core.inject("Injection",[a,!0]),h.Canvas=Core.inject("Injection",[s,!0]),h.API=Core.inject("Injection",[f,!0]),h.Fonts=Core.inject("Injection",[l,!0]),h.Config=Core.inject("Injection",[c,!0]),h.Audio=Core.inject("Injection",[u,!0]);var p=Core.inject("Container",[h]),v=r.getSystemHelpers(p),g=r.getPublicHelpers(p),d=n.getApplicationClasses(o),y=n.getSystemClasses(o),m=t.getApplicationServices(v,y,p);i.source(m,!1),i.source(d,"."),i.source(g,"+"),i.source(p,"@");for(var b=0;b<m.length;b++)for(var w=m[b].list(),C=0;C<w.length;C++)m[b].resolve(w[C]);return i.resolve(o),f}var e={},t=Core.get("Services"),n=Core.get("Classes"),r=Core.get("Helpers");Core.define("app",function(t){try{var n=Core.inject("Injection",[t]);e[n.name()]&&console.warn("Application ["+n.name()+"] override. Remove duplicates"),e[n.name()]=n}catch(r){throw console.error("Unable to register Application constructor."),r}}),Core.define("run",function(t){if("string"==typeof t){if(e[t])return createApplication(t);throw new Error("Application ["+t+"] not found.")}throw new Error("Unable to get app. App Id is not a string")})}),Core(function Services(){function service(t){if("object"==typeof t&&t.constructor===Array){for(var n=null,r=0;r<t.length;r++)if("function"==typeof t[r])n=t[r].name;else if("string"!=typeof t[r])throw new Error("Unable to create service. Invalid config");n&&(e[n]&&console.warn("Duplicate declaration. Service ["+n+"] has been overwritten"),e[n]=Core.inject("Injection",[t]))}else if("function"==typeof t){if(!t.name)throw new Error("Unable to create service. Constructor is not a named function.");e[t.name]&&console.warn("Duplicate declaration. Service ["+n+"] has been overwritten"),e[t.name]=Core.inject("Injection",[t])}}function plugin(e,t){if("string"!=typeof e)throw new Error("Unable to create plugin. Invalid arguments.");if("object"==typeof t&&t.constructor===Array){for(var r=null,o=0;o<t.length;o++)if("function"==typeof t[o])r=t[o].name;else if("string"!=typeof t[o])throw new Error("Unable to create plugin. Invalid constructor arguments");if(!r)throw new Error("Unable to create plugin. Constructor is not a named function");n[e]||(n[e]={}),n[e][r]&&console.warn("Plugin duplicated. ["+r+"] has been overwritten"),n[e][r]=Core.inject("Injection",[t])}}function getPluginManager(e){function Plugins(){for(var t=[],n=0;n<e.length;n++){var r=e[n].list();for(var o in r)r[o].$constructor()!==Plugins&&t.push(o)}this.each=function(e){for(var n=0;n<t.length;n++)e(t[n]);return this},this.list=function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}}return Core.inject("Container",[Core.inject("Injection",[Plugins])])}var e={},t={},n={},r={};plugin["class"]=function(e,t,n){if("string"==typeof e){if("string"!=typeof t)throw new Error("Unable to create plugin. Invalid arguments.");if("object"==typeof n&&n.constructor===Array){for(var o=null,i=0;i<n.length;i++)if("function"==typeof n[i])o=n[i].name;else if("string"!=typeof n[i])throw new Error("Unable to create plugin class. Invalid constructor arguments");if(!o)throw new Error("Unable to create plugin. Constructor is not a named function");r[e]||(r[e]={}),r[e][t]||(r[e][t]={}),r[e][t][o]&&console.warn("Plugin class duplicated. ["+o+"] has been overwritten"),r[e][t][o]=Core.inject("Injection",[n])}else{if("function"!=typeof n)throw new Error("Unable to register plugin class. Invalid arguments");n.name&&(r[e]||(r[e]={}),r[e][t]||(r[e][t]={}),r[e][t][n.name]&&console.warn("Plugin class duplicated. ["+n.name+"] has been overwritten"),r[e][t][n.name]=Core.inject("Injection",[n]))}}},service["class"]=function(e,n){var r=null;if("string"!=typeof e)throw new Error("Unable to create class. Invalid arguments");if("function"==typeof n){if(!n.name)throw new Error("Unable to create class for extension ["+e+"]. Constructor is not a named function");t[e]||(t[e]={}),t[e][n.name]=Core.inject("Injection",[n])}else if("object"==typeof n&&n.constructor===Array){for(var o=0;o<n.length;o++)if("function"==typeof n[o])r=n[o].name;else if("string"!=typeof n[o])throw new Error("Unable to create class for service["+e+"]. Invalid config.");r&&(t[e]||(t[e]={}),t[e][r]&&console.warn("Duplicate declaration. Class ["+r+"] for extension ["+e+"] has been overwritten"),t[e][r]=Core.inject("Injection",[n]))}},Core.define("service",service),Core.define("plugin",plugin),this.getApplicationServices=function(o,i,a){var s,u,c={},l={},f={},h={};for(var p in e)if(e.hasOwnProperty(p)){s=Core.inject("Container",[e[p]]);var v=[];if(n[p])for(var g in n[p])if(n[p].hasOwnProperty(g)){if(u=Core.inject("Container",[n[p][g]]),f[p]||(f[p]={}),f[p][g]=u,r[p][g]){var d=Core.inject("Container",[r[p][g]]);h[p]||(h[p]={}),h[p][g]=d,u.source(d,"$"),d.source(d,"$"),d.source(i,"."),d.source(o,"+")}u.source(i,"."),u.source(o,"+"),v.push(u)}if(v.push(getPluginManager(v)),s.source(v,"<"),s.source(i,"."),s.source(o,"+"),s.source(a,"@"),t[p]){var y=Core.inject("Container",[t[p]]);s.source(y,"$"),y.source(y,"$"),y.source(i,"."),y.source(v,"<"),y.source(o,"+"),y.source(a,"@"),l[p]=y}else l[p]=null;c[p]=s}for(var m in c)if(c.hasOwnProperty(m)){var b=[];for(var w in c)c.hasOwnProperty(w)&&m!==w&&b.push(c[w]);if(c[m].source(b,!1),l[m]&&l[m].source(b,!1),f[m])for(var C in f[m])f[m].hasOwnProperty(C)&&f[m][C].source(b,!1);if(h[m])for(var A in h[m])h[m].hasOwnProperty(A)&&h[m][A].source(b,!1)}var x=[];for(var j in c)c.hasOwnProperty(j)&&x.push(c[j]);return o.source(x,!1),x}}),Core(function Source(e,t,n){function stripPrefix(t){if(e){for(var n="",o=0;o<t.length;o++)o>=r.length&&(n+=t[o]);return n}return t}var r=!!e&&e,o=[],i={},a={};if("object"==typeof t)if(Core.is(t,"Container"))o=[t];else{if(t.constructor!==Array)throw new Error("Invalid type if container!");for(var s=!0,u=0;u<t.length;u++){if(!Core.is(t[u],"Container")){s=!1;break}o.push(t[u])}if(0===t.length&&(s=!1),!s)throw new Error("Container array is empty!")}this.check=function(t){if(a[t])return a[t];var n=!0;if(e)for(var r=0;r<e.length;r++)t[r]&&t[r]===e[r]||(n=!1);return a[t]=n,n},this.has=function(e){var t=!1;if(i[e])return!0;if(this.check(e))for(var n=0;n<o.length;n++){var r=stripPrefix(e);if(o[n].has(r)){t=!0,i[e]=o[n];break}}return t},this.loop=function(){return n},this.containers=function(){return o},this.source=function(){for(var e=0;e<o.length;e++)o[e].source.apply(o[e],arguments)},this.prefix=function(e){return void 0!==e?e===r:r},this.resolve=function(e,t){var n=null;if(this.has(e)){var r=null,a=stripPrefix(e);i[e]&&(r=i[e]);for(var s=0;s<o.length;s++)o[s].has(a)&&(r=o[s]);r&&(n=r.resolve(a,t))}return n},this.resolveInjectionDependancies=function(e){var t=null,n=null;if(i[e])return n=stripPrefix(e),i[e].resolve(n,"extend");if(this.has(e)){n=stripPrefix(e);for(var r=0;r<o.length;r++)o[r].has(n)&&(t=o[r],i[e]=o[r]);if(t)return t.resolve(n,"extend")}}}),Core(function Ticker(){function resolve(e,t){var n=[];if("object"==typeof t&&t.constructor===Array?n=t:void 0!==t&&n.push(t),"string"!=typeof e||!e.length)throw new Error("Unable to resolve event. Event parameter is not a string or empty");if(!s[e])throw new Error("Unable to resolve event ["+e+"]. No such event.");for(var r=0;r<s[e].length;r++)s[e][r].apply(u,n)}var e=(1e3/58.8).toFixed(2),t=[],n=0,r=[null,0],o=function(){for(var e=0;e<t.length;e++)try{t[e].f.apply(u,r)}catch(o){throw new Error("Error emerged while resolving callbacks.\nQueue   : ["+t[e].o+"]\nOrder   : ["+e+"]\nName    : ["+t[e].f.name+"].\nMessage : "+o.message)}n++},i=function(){r[0]=new Date,r[1]=n;try{o()}catch(e){throw clearInterval(a),resolve("error",e),new Error("Unable to run ticker anymore. Error emerged during app ticker progress.\n Frame :"+n+"\nDate  : "+r[0]+"\n"+e.message)}},a=null,s={stop:[],start:[],error:[]},u=this;this.on=function(e,t){if("string"!=typeof e||!e.length)throw new Error("Unable to set event. Event argument is not a string or empty.");if(!s[e])throw new Error("Unable to set event ["+e+"] handler. No such event.");if("function"!=typeof t)throw new Error("Unable to set event ["+e+"]. Callback is not a function.");return s[e].push(t),this},this.stop=function(){return a&&(n=0,clearInterval(a),a=null,resolve("stop",this)),this},this.start=function(){return a||(a=setInterval(i,e),resolve("start",this)),this},this.fps=function(t){return"number"!=typeof t?(1e3/e).toFixed(2):(t>60&&(t=60),t<=0&&(t=1),e=(1e3/t).toFixed(2),a&&(this.stop(),this.start()),this)},this.queue=function(e,n){if("function"==typeof e){if(!e.name)throw new Error("Unable to set callback. Callback is not a named function.");t.push({o:0,f:n})}else{if("number"!=typeof e)throw new Error("Unable to create callback. Wrong arguments passed");if("function"!=typeof n)throw new Error("Unable to queue. callback is not a function");if(!n.name)throw new Error("Unable to set callback. Callback is not a named function.");t.push({o:e,f:n})}return t.sort(function(e,t){return e.o>t.o}),this}}),$R.plugin("Objects",["@inject","Debug",function Animation(e,t){function findCompetitor(e,t){t.$$SELF=!0;for(var r=null,o=0;o<n.length;o++)if(!n[o].$$SELF&&n[o].active()&&!n[o].done()){for(var i=!1,a=0;a<e.length;a++)if(n[o].hasProperty(e[a])){i=!0;break}i&&(r||(r=[]),r.push(n[o]))}return delete t.$$SELF,r}function CheckAnimationQueue(){for(var e=[],t=0;t<n.length;t++)if(n[t].active())n[t].done()||e.push(n[t]);else{var r=n[t].properties();if(n[t].queue())findCompetitor(r,n[t])||n[t].start();else{var o=findCompetitor(r,n[t]);if(o)for(var i=0;i<o.length;i++)for(var a=0;a<r.length;a++)o[i].stop(r[a]);n[t].start()}e.push(n[t])}n=e}function CreateAnimationType1(t,r,i,a){var s=this.extension("Style"),u={};if(u[t]=r,o[t]){var c=[{ordering:s.ordering(t),morph:o[t],value:r}],l={};i&&"number"==typeof i&&(l.duration=i),a&&"string"==typeof a&&(l.easing=a);var f=e("$Animation");f.config(this,c,l,CheckAnimationQueue),n.push(f)}}function CreateAnimationType2(r,i,a){var s=this.extension("Style"),u={};"object"==typeof i?u=i:"number"==typeof i?(u={duration:i},"string"==typeof a&&(u.easing=a)):"string"==typeof i&&(u={easing:i});var c={};for(var l in r)r.hasOwnProperty(l)&&(o[l]?c[l]={ordering:s.ordering(l),morph:o[l],value:r[l]}:t.warn({type:this.type(),property:l},"Property {property} of {type} can not be animated!"));var f=[];for(var h in c)f.push(c[h]);if(f.sort(function(e,t){return e.ordering-t.ordering}),f.length){var p=e("$Animation");p.config(this,f,u,CheckAnimationQueue),n.push(p)}else t.warn("No properties to animate!")}var n=[],r=!1,o={};this.morph=function(t,n,r,i){var a=e("$Morph");a.config(t,this.object(),n,r,i),a.valid()&&(o[t]=a)},this.extractMorph=function(e){return o[e]},this.register("animate",function(e,n,r,o){"string"==typeof e&&n?CreateAnimationType1.apply(this,arguments):"object"==typeof e&&e.constructor!==Array?CreateAnimationType2.apply(this,arguments):t.warn("Unable to create animation. Wrong arguments"),CheckAnimationQueue()}),this.register("animated",function(){return r}),this.register("stop",function(e){for(var t=0;t<n.length;t++)n[t].stop(e)})}]),$R.plugin("Objects",["Debug","@inject",function Box(e,t){function BoxWrapperFunc(){if(n&&o)return n.call(o,r),r}var n=null,r=t("$Box");this.f=function(t){return"function"!=typeof t?void e.error("Box Extension / Box function is not a function!"):(n=t,void delete this.f)};var o=this.object();this.box=function(){return o.extension("Cache").value("box",BoxWrapperFunc)},this.purge=function(){o.extension("Cache").purge("box");var e=o.parent();e&&e.extension("Box").purge()},this.register("box",function(){return this.extension("Cache").value("box",BoxWrapperFunc).get()})}]),$R.plugin("Objects",["Debug",function Cache(e){var t={};this.value=function(n,r){return"string"!=typeof n?void e.error("Object Value Cache / name is not a string!"):"function"!=typeof r?void e.error("Object Value Cache / func is not a function"):(t[n]||(t[n]={value:r(),func:r,relevant:!0}),this.get(n))},this.purge=function(n){return"string"!=typeof n?void e.error("Object Value Cache / Can not purge cache of non string name"):void(t[n]&&(t[n].relevant=!1))},this.get=function(n){return"string"!=typeof n?void e.error("Object Value Cache / Can not get value of non-string name"):t[n]?(t[n].relevant||(t[n].value=t[n].func(),t[n].relevant=!0),t[n].value):void 0}}]),$R.plugin("Objects",["Debug",function Drawer(e){function resolve(e,t){for(var n=0;n<r[e].length;n++)r[e].apply(o,t)}var t=null,n=null,r={before:[],after:[]},o=this.object();this.f=function(n){return"function"!=typeof n?(e.error({},"ObjectDrawer / func is not a function!"),void delete this.f):(t=n,void delete this.f)},this.register("before",function(t){"function"==typeof t?r.before.push(t):e.warn("Unable to set event [before Render]. func is not a Function")}),this.register("after",function(t){"function"==typeof t?r.after.push(t):e.warn("Unable to set event [after Render]. func is not a Function")}),this.matrix=function(){return n},this.draw=function(){resolve("before",arguments),t&&t.apply(this,arguments),resolve("after",arguments)}}]),$R.plugin("Objects",["Debug",function Layers(e){var t={0:[]},n=0;this.register("layer",function(t){if(void 0===t)return n;if("number"!=typeof t||t<0)return e.warn({n:t},"Value {n} is not a number or less than 0"),this;var r=this.parent();if(r){var o=r.extension("Layers");n=t,o.place(t,this)}else e.warn({},"You try to set layer of root group!");return this}),this.place=function(e,n){n.$$LAYERSEARCHVALUE=!0;for(var r in t)if(t.hasOwnProperty(r)){for(var o=!1,i=0;i<t[r].length;i++)if(t[r][i].$$LAYERSEARCHVALUE){t[r].splice(i,1),o=!0;break}if(o)break}delete n.$$LAYERSEARCHVALUE,t[e]||(t[e]=[]),t[e].push(n)},this.remove=function(e){e.$$LAYERSEARCHVALUE=!0;for(var n in t)if(t.hasOwnProperty(n)){for(var r=!1,o=0;o<t[n].length;o++)if(t[n][o].$$LAYERSEARCHVALUE){r=!0,t[n].splice(o,1);break}if(r)break}},this.forEach=function(e){for(var n in t)for(var r=0;r<t[n].length;r++)e.apply(t[n][r],[r,n])},this.layers=function(){return t}}]),$R.plugin("Objects",["Debug",function Matrix(e){function MatrixWrapper(){return t.call(n)}var t=null,n=this.object();this.f=function(e){"function"==typeof e&&(t=e,delete this.f)},this.register("matrix",function(){return this.extension("Cache").value("transformMatrix",MatrixWrapper)}),this.purge=function(){if(n.extension("Cache").purge("transformMatrix"),"Group"===n.type()){var e=n.extension("Layers");e.forEach(function(){this.extension("Cache").purge("transformMatrix")})}}}]),$R.plugin("Objects",["+Mouse","Dispatcher","Tree","Debug",function Mouse(e,t,n,r){function GetEventArray(e){return o[e]}var o={dragmove:[],dragstart:[],dragend:[],mousemove:[],mouseup:[],mousedown:[],mouseenter:[],mouseleave:[]},i=!1,a=function(){return!1};this.register("on",function(e,t){
if(void 0===typeof e&&void 0===typeof t){for(var n in o)o[n].$OFF=!1;return this}if("string"==typeof e&&void 0===t){var i=GetEventArray(e);return i&&(i[n].$OFF=!1),this}if("string"==typeof e&&"function"==typeof t){var i=GetEventArray(e);return i?i.push(t):r.warn({e:e},"There is no event [{e}]"),this}return GetEventArray(e)?"function"!=typeof t?(r.warn({e:e,f:t},"Unable to set event handler for {[e]}. {[f]} is not a function!"),this):this:(r.warn({e:e},"Unable to set event handler for {[e]}. No such event found!"),this)}),this.register("off",function(e,t){if(void 0===e&&void 0===t){for(var n in o)o[n].$$OFF=!0;return this}if("string"==typeof e&&void 0===t){var i=GetEventArray(e);return i&&(i.$$OFF=!0),this}if("string"==typeof e&&"function"==typeof t){var i=GetEventArray(e);if(t.$$MOUSEFUNCSEARCH=!0,i){for(var a=null,n=0;n<i.length;n++)if(i[n].$$MOUSEFUNCSEARCH){a=n;break}return null!==a&&i.splice(a,1),this}}return GetEventArray(e)||r.warn({e:e},"Unable to uset event handler for {[e]}. no such event"),"function"!=typeof t&&r.warn({e:e,f:t},"Unable to unset function {[f]} from event {[e]}. Not a function!"),this}),this.register("mouseCheckFunction",function(t){return"string"==typeof t?(e[t+"CheckFunction"]&&(a=e[t+"UserCheckFunction"]),this):"function"!=typeof t?(r.warn({f:t},"Unable to set check function! {[f]} is not a function!"),this):(a=t,this)}),this.register("disable",function(){return i=!0,this}),this.register("enable",function(){return i=!1,this}),this.register("disabled",function(){return i}),this.check=function(e,t){return!i&&a.call(e,[t[0],t[1]])};var s=null;this.cursorTransformFunction=function(e){"function"==typeof e&&(s=e)},this.applyCursorTransform=function(e){return s?s.call(this,e):e},this.hasEvent=function(e){return o[e]&&o[e].length&&!o[e].$$OFF},this.propagate=function(e,t){var n=e.parent();if(n){var r=n.extension("Mouse");if(r.hasEvent(t.type())){var o=t.type(),i=t.originalTarget.call({$$MOUSEPROPAGATIONSETTER:n});r.resolve(n,o,i)}}},this.resolve=function(e,t,n){if(!i){var o=GetEventArray(t);if(o){if(o.$OFF)return;for(var a=0;a<o.length;a++)o[a].call(e,n);n.propagate()&&this.propagate(e,n)}else r.warn({e:t},"Unable to resolve event [{e}]. No such event!")}};for(var u in o)o[u].$$OFF=!1}]),$R.plugin("Objects",["Debug",function Offset(e){function ObjectOffsetFunction(){var e=n.get("position"),r=[e[0],e[1]],o=t.parent();if(o){var i=o.offset();r[0]+=i[0],r[1]+=i[1]}return r}var t=this.object(),n=null,r=null;this.purge=function(){if(n&&r||(n=t.extension("Style"),r=t.extension("Cache")),r.purge("offset"),"Group"==t.type()){var e=t.extension("Layers");e.forEach(function(){this.extension("Offset").purge()})}},this.register("offset",function(){return n||(n=this.extension("Style"),r=this.extension("Cache")),r.value("offset",ObjectOffsetFunction)})}]),$R.plugin("Objects",["Debug",function Style(e){function GetSetterFunction(r,o){return function(i){var a=o.apply(this,[i,t[r].value]),s=t[r].value;if(a||"boolean"!=typeof a){var u=[s,a];t[r].value=a,n[r]||(n[r]=[]);for(var c=0;c<n[r].length;c++)n[r][c].apply(this,u)}else e.warn("Unable to set property ["+r+"]. Invalid value!")}}function GetGetterFunction(e,n){return function(){return n.call(null,t[e].value)}}function StyleType1(t,n){var o=this;r[t]?r[t].apply(o,[n]):e.warn({property:t,type:o.type()},"Style / Object type {type} has no property {property}")}function StyleType2(n){var o=this,i=[];for(var a in n)n.hasOwnProperty(a)&&r[a]&&(r[a]?i.push({ordering:t[a].ordering,property:a,setter:r[a]}):e.warn({property:a,type:o.type()},"Style / Object type {type} has no property {property}"));if(i.length){i.sort(function(e,t){return e.ordering-t.ordering});for(var s=0;s<i.length;s++)i[s].setter.apply(o,[n[i[s].property]])}else e.warn("Style / No properties to be applied!")}function StyleType3(n){var r=this;return o[n]?o[n].apply(r,[t[n].value]):(e.warn({property:property,type:r.type()},"Style / Object type {type} has no property {property}"),this)}var t={},n=[],r={},o={};this.register("style",function(t,n){if("string"==typeof t&&void 0!==n)StyleType1.apply(this,[t,n]);else if("object"==typeof t)StyleType2.apply(this,[t]);else{if("string"==typeof t&&void 0===n)return StyleType3.apply(this,[t]);e.error("Style / Invalid style function arguments!")}return this}),this.register("watch",function(t,r){if("string"!=typeof t){if("object"!=typeof t||t.constructor!==Array)return void e.error("Style / Property is not an array or string")}else if("function"!=typeof r)return void e.error("Style / Callback is not a function!");if(t.constructor===Array)for(var o=0;o<t.length;o++)"string"==typeof t[o]?(n[t[o]]&&"object"==typeof n[t[o]]&&n[t[o]].constructor===Array||(n[t[o]]=[]),n[t[o]].push(r)):e.error({i:o},"Style / Property {i} is not a string!");else"string"==typeof t?(n[t]&&n[t].constructor===Array||(n[t]=[]),n[t].push(r)):e.error("Style / Property is not an array or string")}),this.define=function(n,i,a,s,u){return t[i]?void e.error({name:i},"Style / Duplicated Property [{name}]"):"string"!=typeof i||0===i.length?void e.error("Style / Property name is not a string!"):"function"!=typeof u||"function"!=typeof s?void e.error("Style / Unable to define property. Getter or setter is undefined!"):("number"!=typeof n&&e.error("Style / Unable to define property setter ordering!"),t[i]={ordering:n,value:a},r[i]=GetSetterFunction(i,s),void(o[i]=GetGetterFunction(i,u)))},this.get=function(n){return t[n]?t[n].value:(e.warn("Getting value of property that does not exist!"),!1)},this.ordering=function(n){return t[n]?t[n].ordering:(e.warn("Getting ordering of property that does not exist!"),!1)}}]),$R.plugin("Objects",["Debug","+Model","@inject",function Text(e,t,n,r){this.applyTo("Text");var o=this.object();if("Text"===o.type()){var a=[],s=/((\S+\s+)|(\S+$))/g,u=o.extension("Style"),c="",l=!1,f=[1/0,1/0],h=0,p=0;this.register("lines",function(){this.update();for(var e=[],t=0;t<a.length;t++)e.push(a[t].string())}),this.register("words",function(){this.update();for(var e=[],t=0;t<a.length;t++)for(var n=a[i].words(),r=0;r<n.length;r++)e.push(n.string());return e}),this.limits=function(e,t){f[0]=e,f[1]=t,l=!0},o.watch("str",function(e,t){t!==c&&(c=t)}),o.watch(["str","fontSize","lineHeight","color","weight","style"],function(){l=!0}),this.update=function(e){if(l||e){var t=c.match(s),r=0,o=0,i=u.get("size"),f=0,v=u.get("systemFont"),g=u.get("fontSize"),d=u.get("lineHeight"),y=u.get("weight"),m=u.get("color"),b=u.get("style");a=[];for(var w=0;w<t.length;w++){var C=t[w].match(/\n/g),A=t[w].match(/\S+/g),x=n("$TextWordClass").string(A[0]);a[o]||(a[o]=n("$TextLineClass").font(v).size(g).height(d).color(m).style(b).weight(y)),a[o].push(x),r=a[o].width(),(r>=i[0]||C)&&o++,r>f&&(f=r+4)}p=a.length*u.get("lineHeight"),g>d?p+=g-d:g<d&&(p-=d-g),h=f,l=!1}return this},this.textBlockHeight=function(){return this.update(),p},this.textBlockWidth=function(){return this.update(),h},this.forEachLine=function(e){this.update();for(var t=0;t<a.length;t++)e.apply(a[t],[t,a[t]])}}}]),$R.plugin("Objects",["Debug",function Tree(e){function checkTree(e){return!!e.$$TREESEARCHVALUE||!!e.parent()&&!!checkTree(e.parent())}function treeViolation(t,n){return"Group"===t.type()?(n.$$TREESEARCHVALUE=!0,checkTree(t)?(t.$$TREESEARCHVALUE?t.parent()&&e.warn({},"You try to append group parent into itself."):e.warn({},"You try to append group parent into it's children."),delete n.$$TREESEARCHVALUE,!0):(delete n.$$TREESEARCHVALUE,!1)):"Group"!==t.type()?(e.warn({target:t.type(),object:n.type()},"Yoy try to append [{object}] into [{target}]."),!0):void 0}var t=null,n=null;this.register("append",function(t){if("Group"!==this.type())e.watch({type:this.type()}," Can not append. type[{type}] of parent is not allowed!");else if(!treeViolation(this,t)){n||(n=this.extension("Layers"));var r=t.parent(),o=t.extension("Tree");if(r){var i=r.extension("Layers"),a=t.layer();i.remove(t),n.place(a,t),o.parent(this)}else{var a=t.layer();n.place(a,t),o.parent(this)}var s=this.extension("Box");s.purge()}return this}),this.register("appendTo",function(e){return e.append(this),this}),this.register("parent",function(){return t}),this.parent=function(n){return n.type&&"Group"===n.type()||e.error("Object Tree Extension / Unable to set object as parent. Not a group!"),n?void(t=n):t}}]),$R.service(["@Canvas","@Config","Debug",function Canvas(Canvas,e,t){function compareOnResize(e){if("%"!==a&&"%"!==s)return i[0]=r,i[1]=o,Canvas.size(i[0],i[1]),!1;var t=h,n=p;Canvas.size(0,0),v&&clearTimeout(v),v=setTimeout(function(){var u=Canvas.element().parentNode,c=window.getComputedStyle(u,null);p=parseInt(c.getPropertyValue("height")),h=parseInt(c.getPropertyValue("width")),t!==h&&"%"===a&&t!==h&&(i[0]=Math.floor(h*(r/100))),n!==p&&"%"===s&&(i[1]=Math.floor(p*(o/100))),Canvas.size(i[0],i[1]),v=null,e()},200)}function GetCanvasOffset(e){var t=e?"offsetLeft":"offsetTop",n=0,r=Canvas.element();do isNaN(r[t])||(n+=r[t]);while(r=r.offsetParent);return n}function WindowResizeCallback(){l&&compareOnResize(function(){u[0]=GetCanvasOffset(0),u[1]=GetCanvasOffset(1);for(var e=0;e<n.length;e++)n[e](i[0],i[1]);ResolveCanvasEventArray("canvasresize",[new RCanvasResizeEvent])})}function CanvasSwitchCallback(){u[0]=GetCanvasOffset(0),u[1]=GetCanvasOffset(1),ResolveCanvasEventArray("canvasswitch",[new RCanvasSwitchEvent]),WindowResizeCallback()}function GetCanvasEventArray(e){return g[e]}function ResolveCanvasEventArray(e,n){if("object"!=typeof n||n.constructor!==Array)return void t.warn({e:e},"Canvas : unable to resolve event array [{e}]. Data is not an array!");var r=GetCanvasEventArray(e);if(!r)return void t.warn({e:e},"Unable to resolve event [{e}] no such event!");for(var o=0;o<r.length;o++)r[o].apply(f,n)}function GetMouseRelativePosition(e){return[e.pageX-u[0]-c[0],e.pageY-u[1]-c[1]]}function RCanvasMouse(e){this.page=[e.pageX,e.pageY],this.sceen=[e.pageX-c[0],e.pageY-c[1]],this.position=GetMouseRelativePosition(e)}function RCanvasMouseEvent(e){this.original=e,this.type=e.type,this.mouse=new RCanvasMouse(e),this.canvas=f}function RCanvasResizeEvent(){this.type="canvasresize",this.canvas=f,this.offset=[u[0],u[1]],this.size=[r,o],this.original=[r,o],this.units=[a,s],"%"===a&&(this.size[0]=h*(r/100)),"%"===s&&(this.size[1]=p*(o/100))}function RCanvasSwitchEvent(){this.type="canvasswitch",this.canvas=f,this.offset=[u[0],u[1]],this.size=[r,o],this.original=[r,o],this.units=[a,s],"%"===a&&(this.size[0]=h*(r/100)),"%"===s&&(this.size[1]=p*(o/100))}var n=[],r=0,o=0,i=[0,0],a="px",s="px",u=[0,0],c=[0,0],l=Canvas.element(),f=this;e.define("size",[0,0],{isArray:!0,custom:function(e){if(!("string"!=typeof e[0]&&typeof e[0]!==Array||"string"!=typeof e[0]&&"number"!=typeof e[1]))return!0}}).watch(function(e){"number"==typeof e[0]?r=e[0]:"string"==typeof e[0]?e[0].match(/^[\d]+%$/)?(r=parseInt(e[0]),a="%"):(r=1e3,a="px",t.warn({width:e[0]},"{width} is not a valid value for canvas.size[0]. Width set as 1000px")):(r=1e3,t.warn({width:e[0]},"{width} is not a valid value for canvas.size[0]. Width set as 1000px")),"number"==typeof e[1]?o=e[1]:"string"==typeof e[1]&&e[1].match(/^[\d]+%$/)?(o=parseInt(e[1]),s="%"):(o=800,t.warn({height:e[1]},"{height} is not a valid value for canvas.size[1]. Width set as 800px")),WindowResizeCallback()});var h=0,p=0,v=null;this.resize=function(e){"function"==typeof e&&n.push(e)},this.width=function(){return"%"===a?h*(r/100):r},this.height=function(){return"%"===a?p*(o/100):o};var g={mousemove:[],mousedown:[],mouseup:[],mouseleave:[],mouseenter:[],canvasresize:[],canvasswitch:[]};this.on=function(e,n){var r=GetCanvasEventArray(e);return r?("function"!=typeof n&&t.warn({f:e},"Canvas : Unable to set event handler [{f}]"),void r.push(n)):void t.warn({e:e},"Canvas : Unable to set event handler for event [{e}]")};var d={mousemove:function(e){ResolveCanvasEventArray("mousemove",[new RCanvasMouseEvent(e)])},mousedown:function(e){ResolveCanvasEventArray("mousedown",[new RCanvasMouseEvent(e)])},mouseup:function(e){ResolveCanvasEventArray("mouseup",[new RCanvasMouseEvent(e)])},mouseleave:function(e){ResolveCanvasEventArray("mouseleave",[new RCanvasMouseEvent(e)])},mouseenter:function(e){ResolveCanvasEventArray("mouseenter",[new RCanvasMouseEvent(e)])}};Canvas["switch"](function(){if(l)for(var e in d)d.hasOwnProperty(e)&&l.removeEventListener(e,d[e]);l=this.element();for(var e in d)d.hasOwnProperty(e)&&l.addEventListener(e,d[e]);CanvasSwitchCallback()}),window.addEventListener("scroll",function(){c[1]=window.pageXOffset||document.documentElement.scrollLeft,c[0]=window.pageYOffset||document.documentElement.scrollTop}),window.addEventListener("resize",WindowResizeCallback)}]),$R.service(["@Config",function Debug(e){function ResolveEvent(e,t){var n=null;"error"===e&&(n=i),"message"===e&&(n=a);for(var r=0;r<n.length;r++)n[r](t)}function GetMessage(e,o,i){o=o.toString();var a=o.match(n),s={};if(a)for(var u=0;u<a.length;u++){var c=a[u].match(r)[0];c&&(s[c]={replace:a[u],data:e[c].toString()})}for(var l in s)s.hasOwnProperty(l)&&(o=o.replace(s[l].replace,s[l].data));return o=t+o,i&&i.constructor&&i.constructor.name&&(o="["+i.constructor.name+"] : "+o),o}var t="$R [Debug] : ",n=/{[a-zA-Z]+}/g,r=/[a-zA-Z]+/g,o=e.define("warnings",!1,{isBool:!0},function(e){o=e}),i=[],a=[];this.on=function(e,t){"function"==typeof t&&("error"===e&&i.push(t),"message"===e&&a.push(t))},this.error=function(e,t,n){throw"string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("error",t),new Error(t)},this.warn=function(e,t,n){o&&("string"==typeof e&&(n=t,t=e,e={}),t=GetMessage(e,t,n),ResolveEvent("message",t),console.warn(t))}}]),$R.service(["@Canvas","Canvas","@Ticker","$Finder",function Dispatcher(e,t,n,r){function DefaultREvent(e,t){var n=e,r=!0,o=t,i=t;this.type=function(){return n},this.date=new Date,this.stopPropagation=function(){r=!1},this.propagate=function(){return r},this.target=function(){return o},this.propagated=function(){o.$$PROPAGATIONSEARCH=!0;var e=i.$$PROPAGATIONSEARCH;return delete o.$$PROPAGATIONSEARCH,!!e&&e},this.originalTarget=function(){if(this.$$MOUSEPROPAGATIONSETTER){var e=getEventByType(n,o);return e.originalTarget.call({$$RESETTARGET:this.$$MOUSEPROPAGATIONSETTER}),e}return this.$$RESETTARGET&&(o=this.$$RESETTARGET),i}}function MouseEvent(e,t){DefaultREvent.apply(this,[e,t]),this.cursor=[a.current[0],a.current[1]]}function DragEvent(e,t){DefaultREvent.apply(this,[e,t]),this.drag={start:[s.start[0],s.start[1]],current:[s.current[0],s.current[1]],delta:[s.delta[0],s.delta[1]]}}function getEventByType(e,t){return"mousemove"===e||"mouseleave"===e||"mouseenter"===e||"mousedown"===e||"mouseup"===e?new MouseEvent(e,t):"dragstart"===e||"dragend"===e||"dragmove"===e?new DragEvent(e,t):void 0}function Dispatch(e,t){var n=t.extension("Mouse");n&&n.hasEvent(e)&&n.resolve(t,e,getEventByType(e))}function resolveEventByType(e){"mouseenter"!==e&&"drastart"!==e&&"dragend"!==e&&"dragmove"!==e&&"mousemove"!==e&&"mouseup"!==e&&"mousedown"!==e||!o.current||Dispatch(e,o.current),"mouseleave"!==e&&"dragend"!==e||!o.previous||Dispatch(e,o.previous)}function resolveDragStart(){f=!0,s.start[0]=a.current[0],s.start[1]=a.current[1],resolveEventByType("dragstart")}function resolveDragEnd(){s.current[0]=a.current[0],s.current[1]=a.current[1],s.delta[0]=s.start[0]-s.current[0],s.delta[1]=s.start[1]-s.current[1],resolveEventByType("dragend"),f=!1}function DispatchEvents(){if(i.current!==i.old&&i.current&&resolveEventByType("mousedown"),i.current&&i.current!==i.old&&!f&&resolveDragStart(),a.old[0]!==a.current[0]||a.old[1]!==a.current[1]){if(o.current&&!o.previous&&resolveEventByType("mouseenter"),!o.current&&o.previous&&(resolveEventByType("mouseleave"),resolveDragEnd()),o.current&&o.previous){o.current.$$MOUSESEARCH=!0;var e=!1;o.previous.$$MOUSESEARCH||(e=!0),delete o.current.$$MOUSESEARCH,e&&(resolveDragEnd(),resolveEventByType("mouseleave"),resolveEventByType("mouseenter"),resolveDragStart())}i.current&&i.current===i.old&&f&&(s.current[0]=a.current[0],s.current[1]=a.current[1],s.delta[0]=s.start[0]-s.current[0],s.delta[1]=s.start[1]-s.current[1],resolveEventByType("dragmove")),i.current||i.current!==i.old||resolveEventByType("mousemove")}!i.current&&i.current!==i.old&&f&&resolveDragEnd(),i.current||i.current===i.old||(resolveEventByType("mouseup"),f=!1),o.previous=o.current,i.old=i.current,a.old[0]=a.current[0],a.old[1]=a.current[1]}function UpdateTargets(){o.previous=o.current,o.current=r.check(a.current)}function eventDispatcherTick(){if(h=!h){if(u)return;UpdateTargets(),DispatchEvents()}}var o={current:null,previous:null},i={current:!1,previous:!1},a={old:[0,0],current:[0,0]},s={start:[0,0],current:[0,0],delta:[0,0]},u=!0,c=!1,l=!1,f=!1;t.on("mousedown",function(){c&&l&&(i.previous=i.current,i.current=!0,u=!1)}),t.on("mouseup",function(){c&&l&&(i.previous=i.current,i.current=!1,u=!1)}),t.on("mousemove",function(e){c&&l&&(a.current[0]=e.mouse.position[0],a.current[1]=e.mouse.position[1],u=!1)}),t.on("mouseleave",function(){l=!1}),t.on("mouseenter",function(){l=!0});var h=!1;e.queue(-1,eventDispatcherTick),n.on("start",function(){c=!0}),n.on("stop",function(){c=!1}),n.on("error",function(){c=!1})}]),$R.service(["@app","@Canvas","@inject","Debug",function Keyboard(e,t,n,r){function OnAppTick(){for(var e=0;e<u.length;e++)u[e]();u=[]}function getQueueFunc(e){return function(){var t=e.keyCode;if(o[t]&&o[t][e.type])for(var r=0;r<o[t][e.type].length;r++){var i=n("$KeyboardEvent").build(e);o[t][e.type][r].apply(i,[t,e.type])}}}var o={},i=!1,a=!0,s=!0,u=[];this.keydown=function(e,t){return this.on(e,"keydown",t)},this.keyup=function(e,t){return this.on(e,"keyup",t)},this.disable=function(){return a=!1,this},this.enable=function(){return a=!0,this},this.on=function(e,t,n){return"number"==typeof e&&"string"==typeof t?"keyup"===t||"keydown"===t?"function"==typeof n?(o[e]||(o[e]={}),o[t]||(o[e][t]=[]),o[e][t].push(n)):r.warn("Event callback is not a function"):r.warn({e:t},"No such type of event as [{e}]"):r.warn({c:e},"Wrong key code [{c}]"),this};var c=!1;t.element().addEventListener("mousedown",function(){c=!0}),window.addEventListener("mousedown",function(){s=!!c,c=!1}),window.addEventListener("keydown",function(e){i&&a&&s&&u.push(getQueueFunc(e))}),window.addEventListener("keyup",function(e){i&&a&&s&&u.push(getQueueFunc(e))}),e.$on("start",function(){i=!0}),e.$on("stop",function(){i=!1}),e.$("tick",OnAppTick)}]),$R.service["class"]("Keyboard",[function KeyboardEvent(){var e=null,t=!1,n=!1,r=!1,o=!1,i=null;this.build=function(a){return e=a.keyCode,t=a.ctrlKey,n=a.altKey,r=a.shiftKey,o=a,i=a.type,delete this.build,this},this.type=function(e){return"string"==typeof e?i===e:i},this.code=function(){return e},this.shift=function(){return r},this.alt=function(){return n},this.ctrl=function(){return t},this.original=function(){return o}}]),$R.service(["@inject","+Easing","@Canvas","Debug",function Morphine(e,t,n,r){var o=[];this.create=function(n,i,a,s,u,c){if("number"!=typeof n||"number"!=typeof i)return void r.error({},"Morphine / Unable to create. Start value is wrong!");if("function"!=typeof a)return void r.error({},"Morphine / Unable to create. End value is wrong!");if("string"!=typeof s)return void r.error({},"Morphine / Unable to create. Easing is not a string!");("number"!=typeof u||u<=0)&&r.error({},"Morphine / Unable to create. Duration is less than 0 or not a number");var l=t.get(s);l||r.error({easing:s}," Morphine / Unable to create. No such easing {easing}");var f=e("$Morphine"),h=f.config(n,i,a,u,l,c);return h&&"function"==typeof h?(h.$m=f,o.push(h),f):void r.error({},"Morphine / Unable to config morphine. Due to some error.")},n.queue(-2,function processMorphines(e,t){for(var t=t.getTime(),n=[],r=0;r<o.length;r++)o[r].$m.done()||(o[r](t),n.push(o[r]));o=n})}]),$R.service["class"]("Objects",["@extend","@inject","<Plugins",function Graphics(e,t,n){var r=null,o={};this.extension=function(e){return o[e]},this.type=function(){return r},this.defineType=function(i){if("string"==typeof i){delete this.defineType,r=i;for(var a=n.list(),s=0;s<a.length;s++)o[a[s]]=t("$Plugin"),o[a[s]].defineObject(this),e(o[a[s]],"<"+a[s]),o[a[s]].matchType(r)?o[a[s]].wrap(this):delete o[a[s]];e(this,"$"+i+"ObjectModel"),e(this,"$DefaultObjectDrawer"),e(this,"$"+i+"ObjectDrawer"),e(this,"$DefaultObjectType"),e(this,"$"+i+"ObjectClass")}}}]),$R.service(["@inject","Tree",function Objects(e,t){function InjectByType(t,n){var r=e("$Graphics");return r.defineType(t),n&&n.length&&r.style.apply(r,n),r}this.group=function(){return InjectByType("Group",arguments)},this.line=function(){return InjectByType("Line",arguments)},this.rect=function(){return InjectByType("Rectangle",arguments)},this.circle=function(){return InjectByType("Circle",arguments)},this.image=function(){return InjectByType("Image",arguments)},this.sprite=function(){return InjectByType("Sprite",arguments)},this.text=function(){return InjectByType("Text",arguments)},this.area=function(){return InjectByType("Area",arguments)},t.root(this.group())}]),$R.service(["@Canvas","@inject","Debug",function Resource(e,t,n){function GetResourceByURL(e,t){"font"===e&&(t=t[0]);var n=null,r=o[e+"s"];if(!r)return n;for(var i=0;i<r.length;i++)if(r[i].url()===t){n=r[i];break}return n}function InjectByType(e,n){var a=GetResourceByURL(e,n);if(a)return a;var s=e,u=t("$"+e.charAt(0).toUpperCase()+e.slice(1));return u.on("load",function(){i--,ResolveEvent("load",[this,i,r.length])}),u.on("error",function(){i--,ResolveEvent("error",[this,i,r.length])}),u.url(n),o[s+"s"].push(u),r.push(u),i++,ResolveEvent("add",[u,i,r.length]),u}function preloadRequest(e){if(e.images&&e.images.constructor===Array)for(var t=0;t<e.images.length;t++)"string"==typeof e.images[t]&&(/^([./_\da-zA-Z]+)(\[(\d+)\])$/.test(e.images[t])?a.sprite(e.images[t]):a.image(e.images[t]));if(e.audio&&e.constructor===Array)for(var t=0;t<e.audio.length;t++)"string"==typeof e.audio[t]&&a.audio(e.audio[t]);if(e.fonts&&e.fonts.constructor===Array)for(var t=0;t<e.fonts.length;t++)if(e.fonts[t]&&"object"==typeof e.fonts[t]&&"string"==typeof e.fonts[t].name&&e.fonts[t].name.length){var n=e.fonts[t].weight&&"number"==typeof e.fonts[t].weight?e.fonts[t].weight:400,r="italic"===e.fonts[t].style?e.fonts[t].style:"normal";a.font(e.fonts[t].name,n,r)}}function ResolveEvent(e,t){var n=u[e];if(n)for(var r=0;r<n.length;r++)n[r].apply(a,t)}var r=[],o={images:[],sprites:[],fonts:[],audios:[]},i=0,a=this,s=null;this.image=function(e){return InjectByType("image",e)},this.sprite=function(e){return InjectByType("sprite",e)},this.audio=function(e){return InjectByType("audio",e)},this.preload=function(e){preloadRequest(e)},this.preloadByUrl=function(e){s&&s.abort(),"string"==typeof e&&e.length>0&&(s=new XMLHttpRequest,s.addEventListener("load",function(){var t={};try{t=JSON.parse(response.responseText)}catch(r){n.error({url:e},"Unable to parse JSON from [{url}]. Unknown response format.")}preloadRequest(t)}),s.addEventListener("error",function(){n.error({url:e},"Unable to get resources from [{url}] to preload. Server error."),preloadRequest({})}),s.addEventListener("abort",function(){n.warn({url:e},"Unable to get resources from [{url}] to preload. Request aborted."),preloadRequest({})}),s.open("GET",e,!0),s.setRequestHeader("Content-Type","application/json"),s.send())},this.font=function(e,t,n){return InjectByType("font",[e,t,n])};var u={load:[],error:[],add:[]};this.on=function(e,t){if("string"==typeof e){var r=u[e];r?"function"==typeof t?r.push(t):n.warn({event:e},"Unable to set event [{event}] callback. func is not a function!"):n.warn({event:e},"Unable to set event [{event}]. No such event")}else n.warn("Unable to set event callback. Event name is not a string")},this.off=function(e,t){if("string"==typeof e){var r=u[e];if(r){if("function"==typeof t){var o=[];t.$$SEARCH=!0;for(var i=0;i<r.length;i++)r[i].$$SEARCH||o.push(r[i]);delete t.$$SEARCH,u[e]=o}}else n.warn({event:e},"Unable to unset callback for event [{event}]. No such event")}else n.warn("Unable to unset event. Event is not a string")},this.list=function(){return[].concat(o.images).concat(o.audios).concat(o.fonts).concat(o.sprites)},e.queue(-2,function updateResources(e,t){for(var n=t.getTime(),r=0;r<o.sprites.length;r++)o.sprites[r].ready()&&1===o.sprites[r].loaded()&&o.sprites[r].tick(n)})}]),$R.service(["@Audio","@inject","@Config","Debug",function Sound(e,t,n,r){n.define("filters",["Delay","Gain"],{isArray:!0});var o=t("$Audio").build("$$DESTINATION","destination"),i={},a=0,s=0,u={$$DESTINATION:o};this.sample=function(e,n,o){if("string"==typeof e&&e.length>0){if(i[e])return i[e];"string"==typeof o&&0!==o.length||(o="UserSound["+a+"]"),a++;var s=t("$Audio").build(o,e);"string"==typeof n&&0!==n.length||(n="$$DESTINATION");var u=this.channel(n);return s.connect(u),i[s.url()]=s,s}r.warn({url:e},"[{url}] is not valid audio url or empty.")},this.channel=function(e){if("string"==typeof e&&e.length>0){if(u[e])return u[e];var n=t("$Audio").build(e);return n.connect(o),u[e]=n,s++,n}},this.channels=function(e){var t={},e=!!e;for(var n in u)u.hasOwnProperty(n)&&"$$DESTINATION"!==n&&(e?t[n.url()]=n[n]:t[n]=u[n]);return t},this.sounds=function(e){var t={},e=!!e;for(var n in i)i.hasOwnProperty(n)&&(e?t[n]=i[n]:t[i[n].name()]=i[n]);return t},this.destination=function(){return u.$$DESTINATION}}]),$R.service(["@inject",function State(e){function ParseAddress(e){var t=e.match(/^([a-zA-Z]+).([a-zA-Z]+)$/),n=t[0],r=t[1];if(n&&r)return{state:n,prop:r}}var t={};this.watch=function(n,r){"function"==typeof r&&(n=ParseAddress(n),n&&(t[n.state]||(t[n.state]=e("$State")),t[n.prop].when(n.prop,r)))},this.define=function(n,r){n=ParseAddress(n),n&&(t[n.state]||(t[n.state]=e("$State")),t[n.state].define(n.prop,r))}}]),$R.service(["Debug","@Canvas","@Config",function Tree(e,t,n){var r=null,o=null,i=null,a=n.define("clear",!1,{isBool:!0}).watch(function(e){a=e});this.root=function(t){if(r)return r;if(!t.type||"function"!=typeof t.type||"Group"!==t.type())return void e.error({},"Tree / Unable to set tree root! Wrong object type!");r=t;var n=r.extension("Drawer");return n?n.draw&&"function"==typeof n.draw?(o=n,i=r.extension("Style"),r):void e.error({},"Tree / Unable to register root Drawer. Drawer.draw is not a function!"):void e.error({},"Tree / Unable to get Drawer extension!")},t.queue(0,function drawGraphicsTree(e,t,n){r&&o&&(a&&e.clearRect(0,0,e.canvas.offsetWidth,e.canvas.offsetHeight),o.draw.apply(r,arguments))})}]),$R.plugin["class"]("Objects","Animation",["+Animation","Morphine",function Animation(e,t){function Resolve(e){if(e==p)for(var t=0;t<a.length;t++)c.hasOwnProperty(a[t].morph.property())&&c[a[t].morph.property()].apply(u,[n,a[t].result]);else if(e==v){i=!0;for(var r={},t=0;t<a.length;t++)r[a[t].morph.property()]=a[t].result;g.done(1,r),h()}}var n=0,r=null,o=null,i=!1,a=null,s=null,u=null,c=null,l=!1,f=!1,h=null,p="type",v="complete",g=null;this.target=function(){return u},this.queue=function(){return l},this.active=function(){return f},this.done=function(){return i},this.hasProperty=function(e){for(var t=0,n=0;n<a.length;n++)if(a[n].morph.property()==e){t=n+1;break}return t},this.properties=function(){for(var e=[],t=0;t<a.length;t++)e.push(a[t].morph.property());return e},this.stop=function(e){if(e){var t=this.hasProperty(e);t&&(t-=1,a.splice(t,1))}else a=[]},this.start=function(){if(!f){f=!0;for(var n=[],i=0;i<a.length;i++){var u=a[i].morph.get(a[i].value);void 0!==u&&u.start()!==!1&&u.end()!==!1&&n.push(a[i])}a=n;var c=e.getTickFunction();s=t.create(0,1,function(e,t){if(0===a.length)Resolve(v),s.stop();else{for(var n=0;n<a.length;n++)a[n].result=c(t,e,a[n].morph.start(),a[n].morph.end()),a[n].morph.apply(e,a[n].result);Resolve(p),1===e&&Resolve(v)}},o,r,0)}},this.config=function(t,n,i,s){e.normalizeConfig(i),r=i.duration,o=i.easing,c=i.step,l=i.queue,h=s,a=n,u=t,g=i}}]),$R.plugin["class"]("Objects","Animation",["Debug",function Morph(e){function SetStartValue(e){t=e}function SetEndValue(e){n=e}var t,n,r=null,o=null,i=null,a=null,s=!1,u=0;this.start=function(){return t},this.end=function(){return n},this.property=function(){return r},this.ordering=function(){return u},this.get=function(e){return o.apply(a,[SetStartValue,SetEndValue,e]),this},this.valid=function(){return s},this.apply=function(e,t){a.style(r,i.apply(a,[t,e]))},this.config=function(t,n,c,l,f){return"string"!=typeof t?void e.error({name:t},"Unable to config Morph. arg1 [{name}] is not a string!"):"object"!=typeof n?void e.error({name:t},"Unable to config Morph. arg3 is not an object!"):"function"!=typeof l?void e.error({name:t},"Unable to config Morph. arg4 is not a function!"):"number"!=typeof c?void e.error({name:t},"Unable to config Morph. arg2 is not a number!"):"function"!=typeof f?void e.error({name:t},"Unable to config Morph. arg5 is not a function!"):(r=t,o=l,i=f,u=c,a=n,void(s=!0))}}]),$R.plugin["class"]("Objects","Box",[function Box(){var e={size:[0,0],position:[0,0]},t={margin:[0,0,0,0],position:[0,0],size:[0,0]};this.get=function(){return{size:[e.size[0],e.size[1]],position:[e.position[0],e.position[1]]}},this.set=function(n,r,o,i,a,s,u,c){e.size[0]=o,e.size[1]=i,e.position[0]=n,e.position[1]=r,t.margin[0]=a,t.margin[1]=s,t.margin[2]=u,t.margin[3]=c,t.size[0]=c+o+s,t.size[1]=a+i+u,t.position[0]=n-c,t.position[1]=r-a},this.value=function(){return e},this.sprite=function(){return t}}]),$R.plugin["class"]("Objects","Text",["@extend","@inject","+Drawer",function TextLineClass(e,t,n){function getWidth(){if(s){r=0;for(var e=0;e<o.length;e++)r+=o[e].width();return s=!1,r}return r}e(this,"$TextElementClass");var r=0,o=[],i=t("$TextSpaceClass"),a=0,s=!1;this.width=function(){return n.measureText(getWidth)},this.length=function(){return a},this.words=function(e){if(e&&"object"==typeof e&&e.constructor===Array){for(var t=0;t<e.length;t++)o.push(e[t].size(this.size()).height(this.height()).style(this.style()).weight(this.weight()).color(this.color()).font(this.font()));a=o.length;for(var n=[],t=0;t<o.length;t++)n.push(o[t]);return this.propertyChanged("string",n),this}return s=!0,o},this.push=function(e){return o.length>0&&o.push(i),o.push(e.size(this.size()).height(this.height()).style(this.style()).weight(this.weight()).color(this.color()).font(this.font())),s=!0,this},this.string=function(){for(var e="",t=0;t<o.length;t++)e+=o[t].string();return e},this.onPropertyChange(function(e,t){"string"!==e&&i[e](t)})}]),$R.plugin["class"]("Objects","Text",["@extend","+Drawer",function TextSpaceClass(e,t){function getWidth(e){return e.font=r.extractFontString(),e.measureText(n).width}e(this,"$TextElementClass");var n=" ",r=this;this.string=function(){return n},this.width=function(e){return t.measureText(getWidth)}}]),$R.plugin["class"]("Objects","Text",["+Color",function TextElementClass(e){function resolve(e,t){for(var n=0;n<s.length;n++)s[n].apply(u,[e,t])}var t="rgba(0,0,0,1)",n="sans-serif",r=400,o=14,i=14,a="normal",s=[],u=this;this.size=function(e){return"number"==typeof e?(e<0&&(e=0),o=e,resolve("size",o),this):o},this.height=function(e){return"number"==typeof e?(e<0&&(e=0),i=e,resolve("height",i),this):i},this.weight=function(e){return"number"==typeof e?(e<100&&(e=100),e>900&&(e=900),e%100!==0&&(e-=e%100),r=e,resolve("weight",r),this):r},this.font=function(e){return"string"==typeof e&&e.length>0?(n=e,resolve("font",n),this):n},this.color=function(n){return"string"==typeof n?(e.colorToArray(n)&&(t=n,resolve("color",t)),this):t},this.style=function(e){return"normal"===e||"italic"===e||"oblique"===e?(a=e,resolve("style",a),this):a},this.extractFontString=function(){return a+" "+o+'px "'+n+"-"+r+'"'},this.onPropertyChange=function(e){"function"==typeof e&&s.push(e)},this.propertyChanged=function(e,t){resolve(e,t)}}]),$R.plugin["class"]("Objects","Text",["+Color","@extend","+Drawer",function TextWordClass(e,t,n){function getWidth(e){return e.font=o.extractFontString(),e.measureText(r).width}t(this,"$TextElementClass");var r="",o=this;this.string=function(e){return"string"==typeof e?(r=e,this.propertyChanged("string",e),
this):r},this.width=function(){return n.measureText(getWidth)},this.draw=function(e,t,n){return"number"!=typeof t&&(t=0),"number"!=typeof n&&(n=0),e.save(),e.fillStyle=this.color(),e.font=this.extractFontString(),e.fillText(r,t,n),e.restore(),this}}]),$R.service["class"]("Dispatcher",["Tree","Debug",function Finder(e,t){function CheckElement(e,t){if("Group"===e.type()){var n=null,r=e.extension("Layers");return r.forEach(function(){if(!this.disabled())if("Group"===this.type()){var e=CheckElement(this,t);e&&(n=e)}else{var r=this.extension("Mouse"),e=r.check(this,t);e&&(n=e)}}),n}}this.check=function(n){var r=e.root();return r?"object"!=typeof n||n.constructor!==Array||2!==n.length||"number"!=typeof n[0]||"number"!=typeof n[1]?(t.warn({c:n},"ObjectFinder ; {[c]} is not a valid cursor value."),null):CheckElement(r,n):null}}]),$R.service["class"]("Morphine",[function Morphine(){function Tick(f){if(!l){if(c)return void(o=(new Date).getTime()-t*u);o||(o=(new Date).getTime()),u=(f-o)/t,u>1&&(u=1),1===u&&(n&&r>0?(r!==1/0&&r--,o=(new Date).getTime()):l=!0),i.apply(null,[u,e((f-o)/1e3,a,s-a,t/1e3),o])}}var e=null,t=1,n=!1,r=1,o=null,i=null,a=0,s=0;this.done=function(){return l},this.pause=function(){c=!0},this.paused=function(){return c},this.stop=function(){l=!0};var u=0,c=!1,l=!1;this.config=function(r,o,u,c,l,f){if(!("number"!=typeof r||"number"!=typeof o||"number"!=typeof c||c<0)&&"function"==typeof l&&"function"==typeof u)return"number"==typeof f&&(n=f),a=r,s=o,e=l,i=u,t=c>0?c:1,delete this.config,Tick}}]),$R.service["class"]("Objects",[function Canvas(){var e=document.createElement("canvas"),t=e.getContext("2d"),n=0,r=0;this.context=function(){return t},this.width=function(t){return"number"!=typeof t?n:(n=t,void e.setAttribute("width",n))},this.height=function(t){return"number"!=typeof t?r:(r=t,void e.setAttribute("height",r))},this["export"]=function(){return e}}]),$R.service["class"]("Objects",["@inject","Debug",function GraphicsAssembler(e,t){function SetSize(e,t){for(var r=0;r<o.length;r++)o[r].size(e,t);n.width(e),n.height(t),a=e,s=t}function compose(e){if(!c){if(u){var t=u.box().sprite();t.size[0]===a&&t.size[1]===s||SetSize(t.size[0],t.size[1])}c=!0}if(!l){r.clearRect(0,0,a,s);for(var i=0;i<o.length;i++)o[i].draw(r);l=!0}e.drawImage(n["export"](),0,0)}var n=e("$Canvas"),r=n.context(),o=[],i={},a=0,s=0,u=null,c=!1,l=!1;this.layer=function(n,r,a){return"number"!=typeof n?void t.warn({o:n},"Invalid order argument [{o}] is not a number."):"string"!=typeof r?void t.warn({n:r},"[{n}] is not valid name for layer"):"function"!=typeof a?void t.warn("updateFunc is not a function!"):(i[r]=e("$GraphicsAssemblerLayer"),i[r].f(a),i[r].ordering(n),i[r].update(),o.push(i[r]),o.sort(function(e,t){return e.ordering()-t.ordering()}),void(l=!1))},this.ready=function(){return l},this.box=function(e){u=e},this.size=function(e,t){e===a&&t===s||(SetSize(e,t),l=!1)},this.resize=function(){c=!1,l=!1},this.update=function(e){l=!1,i[e].update()},this.draw=compose}]),$R.service["class"]("Objects",["@inject","Debug",function GraphicsAssemblerLayer(e,t){function updateCanvas(e){s||(r.clearRect(0,0,o,i),r.save(),a&&a(r),s=!0,r.restore()),e.drawImage(n["export"](),0,0)}var n=e("$Canvas"),r=n.context(),o=0,i=0,a=null,s=!1,u=0;this.f=function(e){"function"==typeof e?(a=e,delete this.f):t.warn({f:e},"[{f}] is not a function")},this.size=function(e,t){o===e&&t===t||(n.width(e),n.height(t),o=e,i=t,s=!1)},this.ordering=function(e){return e&&"number"==typeof e&&(u=e),u},this.update=function(){s=!1},this.draw=updateCanvas}]),$R.service["class"]("Objects",function Plugin(){var e={},t={},n=null,r=[];this.defineObject=function(e){n=e,delete this.defineObject},this.object=function(){return n},this.matchType=function(e){if(0==r.length)return!0;for(var t=!1,n=0;n<r.length;n++)if(r[n]===e){t=!0;break}return this.applyTo&&(delete this.applyTo,delete this.matchType),t},this.applyTo=function(e){if("string"==typeof e)r.push(e);else if("object"==typeof e&&e.constructor===Array)for(var t=0;t<e.length;t++)"string"==typeof e[t]&&r.push(e[t]);delete this.applyTo},this.register=function(n,r,o){e[n]||(e[n]=r),o&&(t[n]=!0)},this.wrap=function(t){for(var n in e)e.hasOwnProperty(n)&&(t[n]||(t[n]=e[n]));delete this.wrap,delete this.register,delete this.clear},this.hasProperty=function(t){var n=!1;for(var r in e)if(e.hasOwnProperty(r)&&t==r){n=!0;break}return n},this.clear=function(e){for(var n in t)t.hasOwnProperty(n)&&delete e[n]}}),$R.service["class"]("Objects",[function AreaObjectClass(){}]),$R.service["class"]("Objects",["+Mouse",function CircleObjectClass(e){this.mouseCheckFunction(e.circleCheckFunction)}]),$R.service["class"]("Objects",["Tree",function DefaultObjectType(e){e.root(this).append(this)}]),$R.service["class"]("Objects",function GroupObjectClass(){}),$R.service["class"]("Objects",["+Mouse",function ImageObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction)}]),$R.service["class"]("Objects",function LineObjectClass(){}),$R.service["class"]("Objects",["+Mouse",function RectangleObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction);var t=this.extension("Mouse");t.cursorTransformFunction(e.rectCursorTransformFunction)}]),$R.service["class"]("Objects",["+Mouse",function SpriteObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction)}]),$R.service["class"]("Objects",["+Mouse",function TextObjectClass(e){this.mouseCheckFunction(e.rectCheckFunction)}]),$R.service["class"]("Resource",["@extend","Debug",function Audio(e,t){function createAudio(){var e=new XMLHttpRequest;e.open("GET",o,!0),e.responseType="arraybuffer",e.onload=function(e){r(1),i=this.response,n("load",[i])},e.onerror=function(){r(-2),n("error",[]),t.error({url:o},"Unable to load audio [{url}].")},e.send()}e(this,"$Resource"),this.type="Audio";var n=null,r=null,o=null,i=null;this.on("init",function(e,t,i){n=t,r=i,o=e,createAudio()}),this["export"]=function(){return i}}]),$R.service["class"]("Resource",["@extend","Debug","@Config","@Fonts",function Font(e,t,n,r){function getFont(){r.font(s,a,u,c),document.getElementsByTagName("body")[0].appendChild(f),l=!0;var e=1e3,n=0,p=[f.offsetWidth,f.offsetHeight];f.style.fontFamily='"'+r.format(a)+"-"+u+'", sans-serif',h=setInterval(function(){f.offsetWidth===p[0]&&f.offsetHeight===p[1]||(document.getElementsByTagName("body")[0].removeChild(f),l=!1,clearInterval(h),o(1),i("load",[])),n++,n>e&&(o(-2),i("error",[]),t.warn({font:a+"-"+u},"Unable to load font [{font}]. Font pending timed out..."),document.getElementsByTagName("body")[0].removeChild(f),l=!1,clearInterval(h))},50)}e(this,"$Resource"),this.type="Font";var o=null,i=null,a=null,s=n.watch("fontDir",function(e){s=e,l&&document.getElementsByTagName("body")[0].removeChild(f),h&&window.clearInterval(h),getFont()}),u=(r.formats(),null),c=null,l=!1,f=document.createElement("div");f.setAttribute("class","reflect-font-loader-element"),f.style.fontFamily="sans-serif",f.style.fontSize="12px",f.style.lineHeight="12px",f.style.position="absolute",f.style.left="-9999px",f.style.top="-9999px",f.innerText='abcdefghijklmnopqrstuvwxyz 1234567890[!?,.<>"$%^&*()~@#-=]',this.on("init",function(e,t,n){i=t,o=n,a=e[0],u=e[1],c=e[2],f.style.fontStyle=c,getFont()});var h=null;this["export"]=function(){return r.format(a)}}]),$R.service["class"]("Resource",["@extend","Debug",function Image(e,t){function CreateImage(){i=document.createElement("img"),i.addEventListener("load",function(){o(1),a=i.width,s=i.height,r("load",[])}),i.addEventListener("error",function(){o(-2),r("error",[]),t.error({url:n},"Unable to load image [{url}].")}),i.setAttribute("src",n)}e(this,"$Resource");var n=null,r=null,o=null,i=null,a=0,s=0;this.type="Image",this.on("init",function(e,t,i){r=t,o=i,n=e,CreateImage()}),this.width=function(){return a},this.height=function(){return s},this["export"]=function(){return i}}]),$R.service["class"]("Resource",["@extend","Debug",function Resource(e,t){function setStatus(e){return"number"!=typeof e?void t.error({val:e},"[{val}] is not valid value for status"):e>1||e<-2?void t.error({val:e},"[{val}] no such status possible!"):void(i=e)}function ResolveEvent(e,n){if(a[e]){n="object"==typeof n&&n.constructor==Array?n:[];for(var o=0;o<a[e].length;o++)a[e][o].apply(r,n)}else t.warn({e:e},"Unable to set event {e}. No such event!")}var n=null,r=this,o=!1,i=-1;this.loaded=function(){return 1==i},this.error=function(){return i==-2},this.loading=function(){return 0==i},this.url=function(e){return void 0==e?n:(void 0==n&&(n=e,i=0,o?ResolveEvent("init",[n]):(ResolveEvent("init",[n,ResolveEvent,setStatus]),o=!0)),n)};var a={init:[],load:[],error:[],loading:[]};this.on=function(e,n){var r=a[e],n="function"==typeof n&&n;return"load"==e&&1==i&&n.call(this),"error"==e&&i==-2&&n.call(this),r&&n?void a[e].push(n):void t.warn({e:e},"Unable to set handler for event [{e}].")}}]),$R.service["class"]("Resource",["@extend","Debug",function Sprite(e,t){function CreateCanvasArray(){for(var e=0,t=0;t<o;t++){g.push([]);for(var n=0;n<o;n++)e++,e<i&&g[t].push(document.createElement("canvas"))}}function SetCanvasSize(){c=Math.round(u/o),l=Math.round(s/o);for(var e=0;e<o;e++)for(var t=0;t<o;t++)if(g[e][t]){g[e][t].setAttribute("width",l),g[e][t].setAttribute("height",c);var n=g[e][t].getContext("2d");n.translate(-l*t,-c*e),n.drawImage(r,0,0)}}e(this,"$Resource");var n=null,r=null,o=0,i=0,a=0,s=0,u=0,c=0,l=0,f=12,h=null,p=null,v=!1,g=[];this.type="Sprite",this.on("init",function(e,t,o){h=o,p=t,n=e,r=document.createElement("img"),r.addEventListener("load",function(){h(1),s=r.width,u=r.height,v&&(CreateCanvasArray(),SetCanvasSize()),p("load",[])}),r.addEventListener("error",function(){h(-2),p("error",[])}),r.setAttribute("src",n)}),this.ready=function(){return v},this.width=function(){return l},this.height=function(){return c},this.spriteWidth=function(){return s},this.spriteHeight=function(){return u},this.fps=function(e){return"number"!=typeof e||e<=0?(t.warn({n:e},"[{n}] is not a correct fps number"),!1):(f=e,void(a=Math.round(i/f*1e3)))};var d=!1;this.pause=function(){d=!0},this.play=function(){d=!1},this.config=function(e){if(!v){if("number"!=typeof e||e<=0)return void t.warn({rows:e},"[{rows}] is not a valid frames number");o=Math.ceil(Math.sqrt(e)),i=e,a=Math.round(i/f*1e3),v=!0,CreateCanvasArray()}},this.frames=function(){return i};var y=0,m=0,b=(new Date).getTime();this.tick=function(e){if(e=e.getTime(),!d){var t=(e-b)/a;t>1&&(t=1,b=(new Date).getTime()),t<0&&(t=0);var n=Math.floor((i-1)*t);m=Math.floor(n/o),y=n-m*o}},this["export"]=function(){if(g[m][y])return g[m][y]}}]),$R.service["class"]("Sound",["@inject","Debug",function AnimationProvider(e,t){function findCompetitor(e,t){t.$$SELF=!0;for(var r=null,o=0;o<n.length;o++)if(!n[o].$$SELF&&n[o].active()&&!n[o].done()){for(var i=!1,a=0;a<e.length;a++)if(n[o].hasProperty(e[a])){i=!0;break}i&&(r||(r=[]),r.push(n[o]))}return delete t.$$SELF,r}function CheckAnimationQueue(){for(var e=[],t=0;t<n.length;t++)if(n[t].active())n[t].done()||e.push(n[t]);else{var r=n[t].properties();if(n[t].queue())findCompetitor(r,n[t])||n[t].start();else{var o=findCompetitor(r,n[t]);if(o)for(var i=0;i<o.length;i++)for(var a=0;a<r.length;a++)o[i].stop(r[a]);n[t].start()}e.push(n[t])}n=e}function CreateAnimationType1(t,r,i,a){var s={};if(s[t]=r,o[t]){var u=[{ordering:o[t].ordering(),morph:o[t],value:r}],c={};i&&"number"==typeof i&&(c.duration=i),a&&"string"==typeof a&&(c.easing=a);var l=e("$Animation");l.config(this,u,c,CheckAnimationQueue),n.push(l)}}function CreateAnimationType2(r,i,a){var s={};"object"==typeof i?s=i:"number"==typeof i?(s={duration:i},"string"==typeof a&&(s.easing=a)):"string"==typeof i&&(s={easing:i});var u={};for(var c in r)r.hasOwnProperty(c)&&(o[c]?u[c]={ordering:o[c].ordering(),morph:o[c],value:r[c]}:t.warn({type:this.type(),property:c},"Property {property} of {type} can not be animated!"));var l=[];for(var f in u)l.push(u[f]);if(l.length){l.sort(function(e,t){return e.ordering-t.ordering});var h=e("$Animation");h.config(this,l,s,CheckAnimationQueue),n.push(h)}else t.warn("No properties to animate!")}var n=[],r=!1,o={};this.morph=function(t,n,r,i){var a=e("$Morph");a.config(t,this,n,r,i),a.valid()&&(o[t]=a)},this.extractMorph=function(e){return o[e]},this.animate=function(e,n,r,o){"string"==typeof e&&n?CreateAnimationType1.apply(this,arguments):"object"==typeof e&&e.constructor!==Array?CreateAnimationType2.apply(this,arguments):t.warn("Unable to create animation. Wrong arguments"),CheckAnimationQueue()},this.animated=function(){return r},this.stop=function(e){if("string"==typeof e&&0!==e.length)for(var t=0;t<n.length;t++)n[t].stop(e)}}]),$R.service["class"]("Sound",["@inject","Debug",function Audio(e,t){function eventArgs(){return[s,u,r,o]}function createAnimationMorph(e,t){a.morph.apply(this,[t.name,0,function(n,r,o){o=t.normalizer(o),void 0!==o&&(r(o),n(e.get(t.name)))},function(n){return n=t.normalizer(n),e.set(t.name,n)}])}var n=null,r=null,o=null,i=e("$EventProvider"),a=e("$AnimationProvider"),s=this,u=null,c="";i.wrap(this),i.event("ready",eventArgs,!0),i.event("load",eventArgs,!0),i.event("error",eventArgs,!0),i.event("play",eventArgs,!1),i.event("connect",eventArgs,!1),i.event("disconnect",eventArgs,!1),i.event("end",eventArgs,!1),this.build=function(a,s){if("string"==typeof a&&a.length>0){"string"==typeof s&&"destination"!==s&&s.length>0?(r=s,n=e("$UserAudioSource").build(s),o="Sample",n.on("load",function(){i.resolve("load")}),this.play=function(){return n.play(),this},this.terminate=function(){return n.stop(),this}):"destination"===s?(n=e("$UserAudioMixer").build(a,s),this.connect=function(){return arguments[0]&&"object"==typeof arguments[0]&&arguments[0].$$SOURCE?n:this},r="["+a+"]AudioChannel",o="Channel",i.resolve("load")):void 0===s&&(n=e("$UserAudioMixer").build(a),r="["+a+"]AudioChannel",o="Channel",i.resolve("load")),n.on("error",function(){i.resolve("error")}),n.on("play",function(){i.resolve("play")}),n.on("end",function(){i.resolve("end")}),n.on("connect",function(){i.resolve("connect")}),n.on("disconnect",function(){i.resolve("disconnect")});for(var u=n.filters(),l=0;l<u.length;l++)for(var f=u[l].props(),h=0;h<f.length;h++)f[h].animated&&createAnimationMorph.apply(this,[u[l],f[h]]);c=a,i.resolve("ready")}else t.warn("Audio mixer have no name! Should be a string");return this},this.filter=function(e,r){if("string"==typeof e&&e.length>0){for(var o=null,i=n.filters(),a=0;a<i.length;a++)i[a].has(e)&&(o=i[a]);if(o){if(void 0===r)return o.get(e);o.set(e,r)}else t.warn({name:e},"Unable to set filter property [{name}]. No filter with that param!")}return this},this.connect=function(e){if(e&&"object"==typeof e&&e.$$SOURCE)return n;if("object"==typeof e&&e.type&&"function"==typeof e.type){var r=e.type();if("Channel"===o&&"Sample"===r)return t.error("Trying to connect Channel with Sample!"),this;if(e.connect&&"function"==typeof e.connect){var i=e.connect({$$SOURCE:!0});return u=e,n.connect(i),e}t.error("Unknown type of  object passed as output!")}else t.error("Unknown type of  object passed as output!");return this},this.output=function(){return u},this.animate=function(){return a.animate.apply(this,arguments),this},this.type=function(e){return"string"==typeof e?e===o:o},this.url=function(){return r},this.name=function(){return c},this.stop=function(){return a.stop.apply(this,arguments),this}}]),$R.service["class"]("Sound",["@inject","@Config","Debug",function UserAudioMixer(e,t,n){function argF(){return[this]}var r=e("$EventProvider"),o=[],i=null,a="",s=t.watch("filters",function(e){o=e});r.wrap(this),r.event("play",argF,!1),r.event("connect",argF,!1),r.event("ready",argF,!0),r.event("error",argF,!0),this.build=function(t,i){for(var u=0;u<s.length;u++){var c=e("$"+s[u]+"Node");o[o.length-1]&&o[o.length-1].connect(c),o.push(c)}if("string"==typeof t&&t.length>0?a=t:(n.warn({n:t},"[{n}] is not a valid name for channel"),r.resolve("error")),i&&"object"==typeof i&&i.connect&&"function"==typeof i.connect)this.connect(i);else if("destination"===i){var l=e("$DestinationNode");o[o.length-1].connect(l),this.connect=function(e){if(e.$$AUDIONODE)return o[0]}}return delete this.build,this},this.connect=function(e){if(e.$$AUDIONODE)return o[0];var t=e.connect({$$AUDIONODE:!0});return o[o.length-1].connect(t),i=e,this},this.output=function(){return i},this.filters=function(){return o},this.name=function(){return a}}]),$R.service["class"]("Sound",["@extend","@inject",function UserAudioSource(e,t){function cbArgs(){return[this]}function connectCbArgs(){return[this,i]}var n=t("$AudioSource"),r=t("$EventProvider"),o=null,i=null,a="";r.wrap(this),r.event("ready",cbArgs,!0),r.event("load",cbArgs,!0),r.event("error",cbArgs,!0),r.event("connect",connectCbArgs,!1),r.event("play",cbArgs,!1),r.event("stop",cbArgs,!1),n.on("ready",function(){r.resolve("ready")}),n.on("load",function(){r.resolve("load")}),n.on("error",function(){r.resolve("error")}),this.build=function(e){return"string"==typeof e&&e.length>0?(a=e,n.build(e),o=t("$UserAudioMixer").build("source-built-in-filter"),o.on("connect",function(){r.resolve("connect")}),n.connect(o.connect({$$AUDIONODE:!0})),delete this.build,r.resolve("ready")):(delete this.build,r.resolve("error")),this},this.filters=function(){return o?o.filters():[]},this.play=function(){return this.status("error")||this.status("ready")&&(this.status("load")?n.play():this.on("load",function(){n.play()})),this},this.stop=function(){return n.stop(),this},this.output=function(){return i},this.connect=function(e){return e&&e.constructor===o.constructor&&(i=e,o.connect(e)),this}}]),$R.service["class"]("Sound",["@inject","Debug",function AudioNode(e,t){function args(){return[o]}var n=null,r=null,o=null,i=function(e,t){if(!t)for(var n=this.input(),r=0;r<n.length;r++)e.connect(n[r]);return this.output()},a=[],s=e("$EventProvider"),u="";s.wrap(this),s.event("ready",args,!0),s.event("play",args,!1),s.event("end",args,!1),s.event("connect",args,!1),s.event("disconnect",args,!1),s.event("property",args,!1),this.disconnect=function(){if(o&&n){for(var e=o.input(),t=0;t<n.length;t++)for(var r=0;r<e.length;r++)n[t].disconnect(e[r]);o=null,s.resolve("disconnect")}return this},this.connect=function(e){if(this.disconnect(),o=e,o&&n)for(var t=o.input(),r=0;r<n.length;r++)for(var i=0;i<t.length;i++)n[r].connect(t[r]);return s.resolve("connect"),this},this.build=function(e,t,o,a){return r="object"==typeof t&&t.constructor===Array?t:[t],n="object"==typeof o&&o.constructor===Array?o:[o],u=e,"function"==typeof a&&(i=a),delete this.build,s.resolve("ready"),this},this.input=function(){return r},this.output=function(){return n},this.name=function(){return u},this.play=function(e,t){a.push(e),e.addEventListener("ended",function(){var t=[];e.$$SEARCH=!0;for(var n=0;n<a.length;n++)a.$$SEARCH||t.push(a[n]);delete e.$$SEARCH,a=t}),o&&o.play(e,i.apply(this,arguments))};var c={};this.property=function(e,n,r,o,i){if("string"==typeof e){var a={name:e,value:null,getter:null,setter:null,normalizer:i,animated:"function"==typeof i};"function"==typeof o&&(a.getter=o),"function"==typeof r&&(a.setter=r),a.value=n,n&&a.setter&&(c[a.name]?t.warn({property:a},"Duplicated property [{property}]"):c[a.name]=a)}else t.warn({name:e},"Property name [{name}] is not valid!")},this.set=function(e,n){if("string"==typeof e&&e.length>0){var r=c[e].setter(n);void 0!==r?c[e].value=r:t.warn({prop:e,val:n},"[{val}] is not a valid valuen for [{prop}].")}},this.get=function(e){if("string"==typeof e&&e.length>0){if(c[e])return c[e].value;t.warn({name:e},"Object has no property [{name}]. Unable to get value.")}else t.warn("Property name has to be a string")},this.props=function(){var e=[];for(var t in c)c.hasOwnProperty(t)&&e.push(c[t]);return e},this.has=function(e){return!!c[e]}}]),$R.service["class"]("Sound",function AudioNodeSoundDispatcher(){var e=[];this.register=function(t){t.addEventListener("end",function(){t.$$SEARCH=!0;for(var n=[],r=0;r<e.length;r++)e[r].$$SEARCH||n.push(e[r]);e=n}),e.push(t)},this.reconnect=function(t){for(var n=0;n<e.length;n++)e[n].disconnect(),e[n].connect(t)}}),$R.service["class"]("Sound",["@Audio","@inject","Resource","Debug",function AudioSource(e,t,n,r){function args(){return[o,i,a]}var o=null,i=null,a=null,s=t("$EventProvider"),u=[];s.wrap(this),s.event("ready",args,!0),s.event("load",args,!0),s.event("error",args,!0),s.event("connect",args,!1),s.event("disconnect",args,!1),s.event("play",!1),s.event("end",!1),this.build=function(t){return o=n.audio(t),o.on("load",function(n){e.context().decodeAudioData(n,function(e){i=e,s.resolve("load")},function(){r.error({src:t},"[{src}] audio buffer can not be decoded. Resource not found, or of wrong format"),s.resolve("error")})}),o.on("error",function(){r.error({src:t},"Unable to load audio file"),s.resolve(error)}),delete this.build,this},this.disconnect=function(){return a&&(a=null,s.resolve("disconnect")),this},this.connect=function(e){return this.disconnect(),a=e,s.resolve("connect"),this},this.play=function(){if(a&&this.status("load")){var t=e.context().createBufferSource();t.buffer=i,u.push(t),a.play(t,!1),t.start(0)}return this},this.stop=function(){for(var e=0;e<u.length;e++)u[e].stop(0);return u=[],this}}]),$R.service["class"]("Sound",["Debug",function Event(e){var t=[],n=!1,r="default",o=!1,i=this,a=function(){return[]};this.build=function(e,t,o){return n=!!o,"function"==typeof t&&(a=t),"string"==typeof e&&e.length>0&&(r=e),delete this.build,this},this.name=function(){return r},this.active=function(){return o},this.resolve=function(){n&&(o=!0);var e=a();if("object"!=typeof e||e.constructor!==Array)e=[];else for(var r=0;r<t.length;r++)t[r].apply(this,e);return this},this.callback=function(e){if("function"!=typeof e)return this;if(i.active()){var n=a();return"object"==typeof n&&n.constructor===Array||(n=[]),e.apply(this,n),t.push(arguments[0]),this}return t.push(e),this}}]),$R.service["class"]("Sound",["@inject",function EventProvider(e){var t=[];this.event=function(n,r,o){var i=e("$Event");return i.build.apply(i,arguments),t[n]=i,this},this.resolve=function(e){return t[e]&&t[e].resolve.call(t[e]),this},this.wrap=function(e){return e.on=function(n,r){t[n]&&t[n].callback.call(e,r)},e.status=function(e){return!!t[e]&&t[e].active()},this}}]),$R.service["class"]("Sound",["@Audio","@extend",function DelayNode(e,t){t(this,"$AudioNode");var n=0,r=0,o=e.context().createGain(),i=e.context().createDelay(),a=e.context().createGain(),s=e.context().createBiquadFilter();o.gain.value=1,s.frequency.value=2e3,a.gain.value=r,i.delayTime.value=n,i.connect(a),a.connect(s),s.connect(i),a.connect(o),this.build("delay",[o,a],o),this.property("delay",[0,0],function(e){if("object"==typeof e&&e.constructor===Array&&2==e.length&&"number"==typeof e[0]&&"number"==typeof e[1]){var t=e[0],o=e[1];return t>1&&(t=1),t<0&&(t=0),o>.8&&(o=.8),o<0&&(o=0),n=t,r=o,i.delayTime.value=n,a.gain.value=r,[o,t]}},function(e){return[e[0],e[1]]},function(e){var t=e[0],n=e[1];return t>1&&(t=1),t<0&&(t=0),n>.8&&(n=.8),n<0&&(n=0),[n,t]})}]),$R.service["class"]("Sound",["@Audio","@extend",function DestinationNode(e,t){t(this,"$AudioNode"),this.build("destination",e.context().destination,!1)}]),$R.service["class"]("Sound",["@Audio","@extend",function GainNode(e,t){t(this,"$AudioNode");var n=1,r=e.context().createGain();r.gain.value=n,this.build("gain",r,r),this.property("volume",1,function(e){if("number"==typeof e)return e<0&&(e=0),e>1&&(e=1),n=e,r.gain.value=n,e},function(e){return e},function(e){return e<0&&(e=0),e>1&&(e=1),e})}]),$R.service["class"]("Sound",["@Audio","@extend",function LowpassNode(e,t){t(this,"$AudioNode");var n=e.context().createBiquadFilter(),r=22050;n.type="lowpass",n.frequency.value=r,this.build("lowpass",n,n),this.property("lowpass",22050,function(e){return e<0&&(e=0),e>22050&&(e=22050),r=e,n.frequency.value=e,e},function(e){return e},function(e){return e<0&&(e=0),e>22050&&(e=22050),e})}]),$R.service["class"]("State",function Property(){var e=null,t=[];this.set=function(n){for(var r=0;r<t.length;r++)t[r](n,e);e=n},this.onset=function(e){"function"==typeof e&&t.push(e)}}),$R.service["class"]("State",["@inject",function State(e){function GetPropertyCallback(e){return function(n,r){if(t[e])for(var o=0;o<t.length;o++)t[e][o](n,r)}}var t={},n={};this.define=function(t,r){return n[t]?void n[t].set(r):(n[t]=e("$Property"),n[t].onset(GetPropertyCallback(t)),void n[t].set(r))},this.watch=function(e,r){"string"==typeof e&&"function"==typeof r&&(t[e]||(t[e]=[]),n[e]||this.def(e,null),t[e].push(r))}}]),$R.service["class"]("Objects",["@inject","+Drawer","+Path","+Model",function AreaObjectDrawer(e,t,n,r){function UpdateFill(e){var r=this.extension("Box").box().sprite(),o=this.extension("Style"),i=o.get("path");e.save(),e.translate(r.margin[3]-h,r.margin[0]-p);var a=o.get("interpolation");c||(n.interpolate(i,a,!0),c=!0),a?t.drawBezierPathFill(e,i,o):t.drawLinePathFill(e,i,o),e.restore()}function UpdateStroke(e){var o=this.extension("Box").box().sprite(),i=this.extension("Style"),a=r.cloneArray(i.get("path")),s=i.get("interpolation");e.translate(o.margin[3]-h,o.margin[0]-p),c||(n.interpolate(a,s,!0),c=!0),s&&t.drawLinePath(e,a,i),t.drawBezierPath(e,a,i)}function UpdateBg(e){var i=this.extension("Style"),a=this.extension("Box").box().sprite(),s=r.cloneArray(i.get("path")),u=i.get("interpolation");e.translate(a.margin[3]-h,a.margin[0]-p),c||(n.interpolate(s,u,!0),c=!0),u?t.drawLineBgClipPath(e,s,i,o,a):t.drawBezierBgClipPath(e,s,i,o,a)}var o=e("$GraphicsAssembler"),i=this.extension("Box"),a=this.extension("Style"),s=this.extension("Matrix"),u=this.extension("Drawer"),c=!1,l=1,f=0,h=0,p=0;o.layer(0,"fill",UpdateFill.bind(this)),o.layer(1,"bg",UpdateBg.bind(this)),o.layer(2,"stroke",UpdateStroke.bind(this)),o.box(i),this.watch("path",function(){a.get("interpolation");c=!1,i.purge(),s.purge(),o.resize(),o.update("fill"),o.update("stroke"),o.update("bg")}),this.watch("interpolation",function(e,t){c=!1,f=Math.round(40*t),o.update("fill"),o.update("stroke"),o.update("bg"),o.resize()}),this.watch("position",function(){i.purge(),s.purge()}),this.watch(["strokeStyle","strokeColor"],function(){o.update("stroke"),o.resize()}),this.watch("fill",function(){o.update("fill")}),this.watch(["bg","bgSize","bgPosition"],function(){o.update("bg")}),this.watch("strokeWidth",function(e,t){for(var n=0,r=0;r<t.length;r++)t[r]>n&&(n=t[r]);l=n/2,o.update("stroke"),i.purge(),s.purge(),o.resize()}),i.f(function(e){for(var t=a.get("position"),n=a.get("path"),r=a.get("anchor"),o=t[0],i=t[1],s=1/0,u=1/0,c=-(1/0),v=-(1/0),g=0;g<n.length;g++)n[g][0]<s&&(s=n[g][0]),n[g][2]<s&&(s=n[g][2]),n[g][1]<u&&(u=n[g][1]),n[g][3]<u&&(u=n[g][3]),n[g][0]>c&&(c=n[g][0]),n[g][2]>c&&(c=n[g][2]),n[g][1]>v&&(v=n[g][1]),n[g][3]>v&&(v=n[g][3]);s===1/0&&(s=0),u===1/0&&(u=0),c===-(1/0)&&(c=0),v===-(1/0)&&(c=0),h=s,p=u;var d=l+f,y=Math.abs(c-s),m=Math.abs(v-u);"center"===r[0]&&(o-=y?y/2:0),"right"===r[0]&&(o-=y?y:0),"middle"===r[1]&&(i-=m?m/2:0),"bottom"===r[1]&&(i-=m?m:0),e.set(o+h,i+p,y,m,d,d,d,d)}),u.f(function(e){t.transform(this,e),o.draw(e)})}]),$R.service["class"]("Objects",["+Drawer","Debug","@inject",function CircleObjectDrawer(e,t,n){function UpdateStroke(e){var t=i.box().sprite();e.beginPath(),e.strokeStyle=a.get("strokeColor"),e.lineWidth=a.get("strokeWidth"),e.setLineDash(a.get("strokeStyle")),e.arc(t.size[0]/2,t.size[1]/2,a.get("radius"),0,2*Math.PI),e.stroke()}function UpdateFill(e){var t=i.box().sprite();e.beginPath(),e.fillStyle=a.get("fill"),e.arc(t.size[0]/2,t.size[1]/2,a.get("radius"),0,2*Math.PI),e.fill()}function UpdateBg(e){var t=i.box().sprite(),n=i.box().value();e.beginPath(),e.arc(t.size[0]/2,t.size[1]/2,a.get("radius"),0,Math.PI/2),e.clip();for(var o=a.get("bgPosition"),s=a.get("bgSize"),u=a.get("bg"),c=0;c<u.length;c++)if(u[c].loaded()){e.save();var l=n.size[0]*s[c][0],f=n.size[1]*s[c][1],h=n.size[0]*o[c][0],p=n.size[1]*o[c][1];e.translate(t.margin[3]+h,t.margin[0]+p),e.drawImage(u[c]["export"](),0,0,l,f),e.restore()}else u[c].on("load",function(){r.update("bg")})}var r=n("$GraphicsAssembler"),o=this.extension("Drawer"),i=this.extension("Box"),a=this.extension("Style"),s=this.extension("Matrix"),u=1;r.layer(0,"fill",UpdateFill.bind(this)),r.layer(1,"bg",UpdateBg.bind(this)),r.layer(2,"stroke",UpdateStroke.bind(this)),r.box(i),i.f(function(e){var t=a.get("radius"),n=a.get("position"),r=a.get("anchor"),o=2*t,i=n[0],s=n[1];"center"===r[0]&&(i-=t),"right"===r[0]&&(i-=o),"middle"===r[1]&&(s-=t),"bottom"===r[1]&&(s-=o),e.set(i,s,o,o,u,u,u,u)}),this.watch("radius",function(){r.update("stroke"),r.update("bg"),r.update("fill"),i.purge(),s.purge(),r.resize()}),this.watch("fill",function(){r.update("fill")}),this.watch("position",function(){i.purge()}),this.watch("strokeWidth",function(e,t){t!==e&&(u=t,i.purge(),r.update("stroke"),s.purge(),r.resize())}),this.watch(["strokeStyle","strokeColor"],function(){r.update("stoke")}),this.watch(["bg","bgPosition","bgSize"],function(){r.update("bg")}),o.f(function(t){e.transform(this,t),r.draw(t)})}]),$R.service["class"]("Objects",["Debug","+Matrix",function DefaultObjectDrawer(e,t){var n=this.extension("Matrix");n.f(function(){return t.objectMatrix(this)}),this.watch(["position","rotate","translate","scale","skew"],function(){n.purge()})}]),$R.service["class"]("Objects",["+Drawer",function GroupObjectDrawer(e){var t=this.extension("Drawer"),n=this.extension("Layers"),r=this.extension("Box"),o=this.extension("Style");r.f(function(e){var t=1/0,r=1/0,i=-(1/0),a=-(1/0);n.forEach(function(){var e=this.extension("Box").box().value();e.position[0]<t&&(t=e.position[0]),e.position[1]<r&&(r=e.position[1]),e.position[0]+e.size[0]>i&&(i=e.position[0]+e.size[0]),e.position[1]+e.size[1]>a&&(a=e.position[1]+e.size[1])});var s=o.get("position");t===1/0&&(t=0),i===-(1/0)&&(i=0),r===1/0&&(r=0),a===-(1/0)&&(a=0),e.set(t+s[0],r+s[1],i-t,a-r,0,0,0,0)});var i=[0,0];this.watch("position",function(e,t){i=t,r.purge()}),t.f(function(t,r,i){var a=arguments;t.save(),t.globalAlpha*=o.get("opacity"),e.transform(this,t),n.forEach(function(){var e=this.extension("Drawer"),n=this.type();if("Group"===n)e.draw.apply(this,a);else{var r=this.extension("Style");t.save(),t.globalCompositeOperation=r.get("blending"),t.globalAlpha*=r.get("opacity"),e.draw.apply(this,a),t.restore()}}),t.restore()})}]),$R.service["class"]("Objects",["+Drawer","Resource",function ImageObjectDrawer(e,t){var n=this.extension("Style"),r=this.extension("Box"),o=this.extension("Drawer"),i=this.extension("Matrix"),a=null,s=null,u=null;this.watch("src",function(e,n){e!==n&&(u=t.image(n),u.on("load",function(){null===a&&(a=u.width()),null===s&&(s=u.height()),i.purge(),r.purge()}))}),this.watch("size",function(e,t){e[0]===t[0]&&e[1]===t[1]||(a=t[0],s=t[1],r.purge())}),this.watch("position",function(e,t){e[0]===t[0]&&e[1]===t[1]||r.purge()}),r.f(function(e){var t=n.get("position"),r=n.get("anchor"),o=t[0],i=t[1];"center"===r[0]&&(o-=a?a/2:0),"right"===r[0]&&(o-=a?a:0),"middle"===r[1]&&(i-=s?s/2:0),"bottom"===r[1]&&(i-=s?s:0),e.set(o,i,a?a:0,s?s:0,0,0,0,0)}),o.f(function(t){u&&u.loaded()&&!u.error()&&null!==a&&null!==s&&a>0&&s>0&&(e.transform(this,t),t.drawImage(u["export"](),0,0,a,s))})}]),$R.service["class"]("Objects",["@inject","Debug","+Drawer","+Path",function LineObjectDrawer(e,t,n,r){function UpdateCanvas(){var e=o.box().sprite(),t=i.get("path"),s=i.get("interpolation");if(a.width()!==e.size[0]||a.height()!==e.size[1]){var l=e.size[0],f=e.size[1];a.width(l),a.height(f)}g.clearRect(0,0,e.size[0],e.size[1]),g.save(),c||(r.interpolate(t,s),c=!0),g.translate(e.margin[3]-p,e.margin[0]-v),s>0?t.length>0&&n.drawBezierPath(g,t,i):t.length>0&&n.drawLinePath(g,t,i),g.restore(),u=!1}var o=this.extension("Box"),i=this.extension("Style"),a=e("$Canvas"),s=this.extension("Matrix"),u=!1,c=!1,l=1,f=0,h=this.extension("Drawer"),p=0,v=0;o.f(function(e){for(var t=i.get("position"),n=i.get("path"),r=i.get("anchor"),o=t[0],a=t[1],s=1/0,u=1/0,c=-(1/0),h=-(1/0),g=0;g<n.length;g++)n[g][0]<s&&(s=n[g][0]),n[g][2]<s&&(s=n[g][2]),n[g][1]<u&&(u=n[g][1]),n[g][3]<u&&(u=n[g][3]),
n[g][0]>c&&(c=n[g][0]),n[g][2]>c&&(c=n[g][2]),n[g][1]>h&&(h=n[g][1]),n[g][3]>h&&(h=n[g][3]);s===1/0&&(s=0),u===1/0&&(u=0),c===-(1/0)&&(c=0),h===-(1/0)&&(c=0),p=s,v=u;var d=l+f,y=Math.abs(c-s),m=Math.abs(h-u);"center"===r[0]&&(o-=y?y/2:0),"right"===r[0]&&(o-=y?y:0),"middle"===r[1]&&(a-=m?m/2:0),"bottom"===r[1]&&(a-=m?m:0),e.set(o+p,a+v,y,m,d,d,d,d)}),this.watch("path",function(){var e=i.get("interpolation");0!==e&&(c=!1),o.purge(),s.purge(),u=!0}),this.watch("position",function(){o.purge()}),this.watch("strokeWidth",function(e,t){for(var n=0,r=0;r<t.length;r++)t[r]>n&&(n=t[r]);l=n/2,u=!0,o.purge(),s.purge()}),this.watch("interpolation",function(e,t){e!==t&&(c=!1),f=Math.round(20*t),o.purge(),s.purge(),u=!0}),this.watch(["strokeStyle","strokeColor"],function(){u=!0});var g=a.context();h.f(function(e){u&&UpdateCanvas.call(this),n.transform(this,e),e.drawImage(a["export"](),0,0)})}]),$R.service["class"]("Objects",["@inject","+Drawer",function RectangleObjectDrawer(e,t){function normalizeRadius(e){for(var t=[e[0],e[1],e[2],e[3]],n=i.box().value(),r=[n.size[0]/2,n.size[1]/2],o=0;o<t.length;o++)t[o]>r[0]&&(t[o]=r[0]),t[o]>r[1]&&(t[o]=r[1]);return t}function drawRectPath(e,t){var n=normalizeRadius(r.get("radius")),o=.5522847498,a=i.box().value(),s=i.box().sprite();if(t){var u=r.get("strokeColor"),c=r.get("strokeWidth"),l=r.get("strokeStyle"),f=r.get("cap");e.lineCap=f}if(e.beginPath(),n[0]>0?e.moveTo(s.margin[3]+n[0],s.margin[0]):e.moveTo(s.margin[3],s.margin[0]),t&&(e.setLineDash(l[0]),e.strokeStyle=u[0],e.lineWidth=c[0]),n[1]>0){e.lineTo(a.size[0]+s.margin[3]-n[1],s.margin[0]);var h=o*n[1];e.bezierCurveTo(a.size[0]+s.margin[3]-n[1]+h,s.margin[0],a.size[0]+s.margin[3],s.margin[0]+n[1]-h,a.size[0]+s.margin[3],s.margin[0]+n[1])}else e.lineTo(a.size[0]+s.margin[3],s.margin[0]);if(t&&e.stroke(),t&&(e.setLineDash(l[1]),e.strokeStyle=u[1],e.lineWidth=c[1]),n[2]>0){var h=o*n[2];e.lineTo(a.size[0]+s.margin[3],a.size[1]+s.margin[0]-n[2]),t&&e.stroke(),t&&(e.setLineDash(l[2]),e.strokeStyle=u[2],e.lineWidth=c[2]),e.bezierCurveTo(a.size[0]+s.margin[3],a.size[1]+s.margin[0]-n[2]+h,a.size[0]+s.margin[3]-n[2]+h,a.size[1]+s.margin[0],a.size[0]+s.margin[3]-n[2],a.size[1]+s.margin[0]),t&&e.stroke()}else e.lineTo(a.size[0]+s.margin[3],a.size[1]+s.margin[0]),t&&e.stroke();if(t&&(e.setLineDash(l[2]),e.strokeStyle=u[2],e.lineWidth=c[2]),n[3]>0){var h=o*n[3];e.lineTo(s.margin[3]+n[3],a.size[1]+s.margin[0]),e.bezierCurveTo(s.margin[3]+n[3]-h,a.size[1]+s.margin[0],s.margin[3],a.size[1]+s.margin[0]-n[3]+h,s.margin[3],a.size[1]+s.margin[0]-n[3])}else e.lineTo(s.margin[3],a.size[1]+s.margin[0]);if(t&&e.stroke(),t&&(e.setLineDash(l[3]),e.strokeStyle=u[3],e.lineWidth=c[3]),n[0]>0){var h=o*n[0];e.lineTo(s.margin[3],s.margin[0]+n[0]),t&&e.stroke(),t&&(e.setLineDash(l[0]),e.strokStyle=u[0],e.lineWidth=c[0]),e.bezierCurveTo(s.margin[3],s.margin[0]+n[0]-h,s.margin[0]+n[0]-h,s.margin[0],s.margin[3]+n[0],s.margin[0]),t&&e.stroke()}else e.lineTo(s.margin[3],s.margin[0]),t&&e.stroke()}function hasRadius(){for(var e=!1,t=r.get("radius"),n=0;n<t.length;n++)if(t[n]>0){e=!0;break}return e}function hasStroke(){for(var e=r.get("strokeWidth"),t=!1,n=0;n<e.length;n++)if(e[n]>0){t=!0;break}return t}function monoStroke(){for(var e=r.get("strokeColor"),t=r.get("strokeWidth"),n=r.get("strokeStyle"),o=e[0],i=t[0],a=n[0],s=!0,u=1;u<4;u++)if(o!==e[u]||i!==t[u]||n[u][0]!==a[0]||n[u][1]!==a[1]){s=!1;break}return s}function UpdateBg(e){var t=i.box(),o=t.value(),a=t.sprite(),s=r.get("bgPosition"),u=r.get("bgSize"),c=r.get("bg");hasRadius()?drawRectPath(e):e.rect(a.margin[3],a.margin[0],o.size[0],o.size[1]),e.clip();for(var l=0;l<c.length;l++)if(c[l].loaded()){e.save();var f=o.size[0]*u[l][0],h=o.size[1]*u[l][1],p=o.size[0]*s[l][0],v=o.size[1]*s[l][1];e.translate(a.margin[3]+p,a.margin[0]+v),e.drawImage(c[l]["export"](),0,0,f,h),e.restore()}else c[l].on("load",function(){n.update("bg")})}function UpdateStroke(e){if(hasStroke()){var t=r.get("strokeColor"),n=r.get("strokeWidth"),o=r.get("strokeStyle"),a=i.box(),s=a.value(),u=a.sprite();if(hasRadius())drawRectPath(e,!0);else if(monoStroke()){var c=r.get("cap");e.lineCap=c,e.setLineDash(o[0]),e.strokeStyle=t[0],e.lineWidth=n[0],e.beginPath(),e.moveTo(u.margin[3],u.margin[0]),e.lineTo(u.margin[3]+s.size[0],u.margin[0]),e.lineTo(u.margin[3]+s.size[0],u.margin[0]+s.size[1]),e.lineTo(u.margin[3],u.margin[0]+s.size[1]),e.lineTo(u.margin[3],u.margin[0]),e.stroke()}}}function UpdateFill(e){var t=r.get("fill"),n=i.box(),o=n.value(),a=n.sprite();hasRadius()?drawRectPath(e):e.rect(a.margin[3],a.margin[0],o.size[0],o.size[1]),e.fillStyle=t,e.fill()}var n=e("$GraphicsAssembler"),r=this.extension("Style"),o=this.extension("Drawer"),i=this.extension("Box"),a=this.extension("Matrix"),s=[2,2,2,2];n.layer(0,"fill",UpdateFill.bind(this)),n.layer(1,"bg",UpdateBg.bind(this)),n.layer(2,"stroke",UpdateStroke.bind(this)),n.box(i),i.f(function(e){var t=r.get("position"),n=r.get("size"),o=r.get("anchor"),i=t[0],a=t[1];"center"===o[0]&&(i-=n[0]/2),"right"===o[0]&&(i-=n[0]),"middle"===o[1]&&(a-=n[1]/2),"bottom"===o[1]&&(a-=n[1]),e.set(i,a,n[0],n[1],s[0],s[1],s[2],s[3])}),o.f(function(e){t.transform(this,e),n.draw(e)}),this.watch("size",function(e,t){n.update("fill"),n.update("stroke"),n.update("bg"),n.resize(),a.purge(),i.purge()}),this.watch("radius",function(e,t){n.update("fill"),n.update("stroke"),n.update("bg")}),this.watch("strokeWidth",function(e,t){s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],i.purge(),n.resize(),a.purge(),n.update("fill"),n.update("stroke"),n.update("bg")}),this.watch(["position","size"],function(){i.purge(),a.purge()}),this.watch(["bg","bgSize","bgPosition"],function(){n.update("bg")}),this.watch(["strokeStyle","strokeColor"],function(){n.update("stroke")}),this.watch(["fill"],function(){n.update("fill")})}]),$R.service["class"]("Objects",["+Drawer","+Model","Resource",function SpriteObjectDrawer(e,t,n){var r=this.extension("Style"),o=this.extension("Box"),i=this.extension("Drawer"),a=this.extension("Matrix"),s=null,u=null,c=null;o.f(function(e){var t=r.get("position"),n=r.get("anchor"),o=t[0],i=t[1];"center"==n[0]&&(o-=s?s/2:0),"right"==n[0]&&(o-=s?s:0),"middle"==n[1]&&(i-=u?u/2:0),"bottom"==n[1]&&(i-=u?u:0),e.set(o,i,s?s:0,u?u:0,0,0,0,0)}),i.f(function(t,n,r){c&&c.loaded()&&!c.error()&&c.ready()&&null!==s&&null!==u&&s>0&&u>0&&(e.transform(this,t),c.tick(n),t.drawImage(c["export"](),0,0,s,u))}),this.watch("src",function(e,r){if(r!==e){var i=t.readSpriteString(r);c=n.sprite(i.url),c.config(i.frames),c.on("load",function(){null==s&&(s=c.width()),null==u&&(u=c.height()),a.purge(),o.purge()})}}),this.watch("size",function(e,t){e[0]===t[0]&&e[1]===t[1]||(s=t[0],u=t[1],o.purge())}),this.watch("position",function(e,t){e[0]===t[0]&&e[1]===t[1]||o.purge()})}]),$R.service["class"]("Objects",["@inject","+Drawer","Resource",function TextObjectDrawer(e,t,n){function UpdateTextLayer(e){r.update();var t=o.get("lineHeight"),n=(o.get("color"),o.get("fontSize")),i=o.get("align");e.beginPath();var a=t-n/5;n<t?a-=t-n:a+=n-t,r.forEachLine(function(n){e.beginPath();var o=a+n*t;e.font=this.extractFontString(),e.fillStyle=this.color(),"center"===i?e.fillText(this.string(),(r.textBlockWidth()-this.width())/2,o):"right"===i?e.fillText(this.string(),r.textBlockWidth()-this.width()-2,o):e.fillText(this.string(),2,o)})}function getFontFile(){var e="oblique"===f?"normal":f,t=n.font(c,l,e);t.on("load",function(){u=!0,i.purge(),s.purge(),r.update(!0)}),t.on("error",function(){u=!0,i.purge(),s.purge(),r.update(!0)})}function drawText(e){u&&(h.size(r.textBlockWidth(),r.textBlockHeight()),h.update("text"),u=!1),t.transform(this,e),h.draw(e)}var r=this.extension("Text"),o=this.extension("Style"),i=this.extension("Box"),a=this.extension("Drawer"),s=this.extension("Matrix"),u=!1,c=o.get("font"),l=o.get("weight"),f=o.get("style"),h=e("$GraphicsAssembler");h.layer(0,"text",UpdateTextLayer),this.watch(["str","style","font","weight","size","color","fontSize","lineHeight"],function(){u=!0,i.purge(),s.purge()}),this.watch("font",function(e,t){c=t,getFontFile()}),this.watch("style",function(e,t){f=t,getFontFile()}),this.watch("weight",function(e,t){l=t,getFontFile()}),this.watch("anchor",function(){i.purge(),s.purge()}),this.watch("position",function(){i.purge()}),i.f(function(e){var t=o.get("position"),n=o.get("anchor"),i=t[0],a=t[1];"center"===n[0]&&(i-=r.textBlockWidth()/2),"right"===n[0]&&(i-=r.textBlockWidth()),"middle"===n[1]&&(a-=r.textBlockHeight()/2),"bottom"===n[1]&&(a-=r.textBlockHeight()),e.set(i,a,r.textBlockWidth(),r.textBlockHeight(),0,0,0,0)}),a.f(drawText)}]),$R.service["class"]("Objects",["@extend","+Model","+Path","Debug",function AreaObjectModel(e,t,n,r){function SyncPathProperty(e,t){for(var n=0;n<e.length;n++)t[n]||t.push(t[t.length-1]);e.length<t.length&&t.splice(e.length-1,t.length-e.length)}e(this,"$DefaultObjectModel"),e(this,"$GlobalBackgroundModel"),e(this,"$DefaultFreeStrokeModel");var o=this.extension("Style");this.extension("Animation");o.define(0,"path",[[0,0,0,0,0,0,0,0]],function(e){if(n.checkSimplePath(e)){var t=o.get("path"),i=n.convertSimplePath(e);return i[0][0]===i[i.length-1][2]&&i[0][1]===i[i.length-1][3]||i.push([i[i.length-1][2],i[i.length-1][3],i[0][0],i[0][1],i[i.length-1][2],i[i.length-1][3],i[0][0],i[0][1]]),t.length!==i.length&&(SyncPathProperty(i,o.get("strokeStyle")),SyncPathProperty(i,o.get("strokeWidth")),SyncPathProperty(i,o.get("strokeColor"))),i}return r.warn("Area Model / Invalid value for area path!"),!1},function(e){return n.convertComplexPath(e)})}]),$R.service["class"]("Objects",["@extend","+Color","+Model","Debug",function CircleObjectModel(e,t,n,r){e(this,"$DefaultObjectModel"),e(this,"$GlobalBackgroundModel");var o=this.extension("Style"),i=this.extension("Animation");o.define(0,"radius",0,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.morph("radius",0,function(e,t,n){"number"==typeof n?(n<0&&(n=0),e(this.style("radius")),t(n)):r.warn({v:n},"[{v}] is not a valid radius value")},function(e){return e<0&&(e=0),e}),o.define(0,"strokeWidth",1,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.morph("strokeWidth",0,function(e,t,n){"number"==typeof n&&(n<0&&(n=0),e(this.style("strokeWidth")),t(n))},function(e){return e<0&&(e=0),e}),o.define(0,"strokeColor","rgba(0,0,0,1)",function(e){return"string"==typeof e?t.colorToArray(e)?e:(r.warn({val:e},"[{val}] is not a valid strokeColor value"),!1):"object"==typeof e&&e.constructor===Array?t.isColor(e)?t.arrayToColor(e):(r.warn({val:e},"[{val}] is not a valid strokeColor value"),!1):void 0},function(e){return t.colorToArray(e)}),i.morph("strokeColor",0,function(e,o,i){if("string"==typeof i){var a=t.colorToArray(i);a?(e(this.style("strokeColor")),o(a)):r.warn({v:i},"[{v}] is not a valid value for strokeColor")}else"object"==typeof i&&i.constructor===Array&&t.isColor(i)?(e(this.style("strokeColor")),o(n.cloneArray(i))):r.warn({v:i},"[{v}] is not a valid value for strokeColor")},function(e){return t.normalize(e),e}),o.define(0,"strokeStyle",[1,0],function(e){if("object"==typeof e&&e.constructor===Array){if(n.validNumericValue(e)){if(2!==e.length)return r.warn({val:e},"[{val}] is not a valid strokeStyle value."),!1;for(var t=0;t<e.length;t++)e[t]<0&&(e[t]=0);return n.cloneArray(e)}return r.warn({val:e},"[{val}] is not a valid strokeStyle value."),!1}return r.warn({val:e},"[{val}] is not a valid strokeStyle value"),!1},function(e){return n.cloneArray(e)}),i.morph("strokeStyle",0,function(e,t,o){"object"==typeof o&&o.constructor===Array&&n.validNumericArray(o)&&2===o.length?(e(this.style("strokeStyle")),t(n.cloneArray(o))):r.warn({v:o},"[{v}] is not a valid value for strokeColor")},function(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e})}]),$R.service["class"]("Objects",["+Model","+Path","Debug",function DefaultObjectModel(e,t,n){var r=this.extension("Style"),o=this.extension("Animation");r.define(2,"position",[0,0],function(t){return e.validNumericArray(t)&&2===t.length?e.cloneArray(t):(n.warn("Invalid numeric array for position!"),!1)},function(t){return e.cloneArray(t)}),o.morph("position",2,function(t,r,o){e.validNumericArray(o)&&2===o.length?(t(this.style("position")),r(e.cloneArray(o))):n.warn({v:o},"Invalid value for position")},function(e){return e}),r.define(0,"rotate",0,function(e){if("number"==typeof e)return e<-360&&(e+=360),e>360&&(e-=360),e=e*Math.PI/180},function(e){return e*(180/Math.PI)}),o.morph("rotate",0,function(e,t,r){"number"==typeof r?(e(this.style("rotate")),t(r)):n.warn({v:r},"Is not a valid value to animate rotate")},function(e){return e}),r.define(0,"translate",[0,0],function(t){return e.validNumericArray(t)&&2===t.length?e.cloneArray(t):(n.warn("Invalid numeric array for translate!"),!1)},function(t){return e.cloneArray(t)}),o.morph("translate",0,function(t,r,o){e.validNumericArray(o)&&2===o.length?(t(this.style("translate")),r(e.cloneArray(o))):n.warn({v:o},"Invalid value for translate")},function(e){return e}),r.define(0,"opacity",1,function(e){return"number"==typeof e?(e<0&&(e=0),e>1&&(e=1),e):(n.warn("Opacity value is not a number"),!1)},function(e){return e}),o.morph("opacity",0,function(e,t,r){"number"==typeof r?(r<0&&(r=0),r>1&&(r=1),e(this.style("opacity")),t(r)):n.warn({v:r},"Invalid value for translate")},function(e){return e<0&&(e=0),e>1&&(e=1),e}),r.define(0,"scale",[1,1],function(t){return"number"==typeof t?t>0?[t,t]:[0,0]:e.validNumericArray(t)&&2===t.length?e.cloneArray(t):(n.warn("Unknown type of value for scale!"),!1)},function(t){return e.cloneArray(t)}),o.morph("scale",0,function(t,r,o){if("number"==typeof o)o<0&&(o=0),t(this.style("scale")),r([o,o]);else if(e.validNumericArray(o)&&2===o.length){t(this.style("scale"));var i=[o[0],o[1]];i[0]<0&&(i[0]=0),i[1]<0&&(i[1]=0),r(i)}else n.warn({v:o},"Invalid value for scale")},function(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e}),r.define(0,"skew",[0,0],function(t){if("number"==typeof t){t>360&&(t-=360),t<-360&&(t+=360);var r=t*Math.PI/180;return[r,r]}if(e.validNumericArray(t)&&2===t.length){t[0]>360&&(t[0]=t[1]-360),t[1]<-360&&(t[1]=t[1]+360);var o=t[0]*Math.PI/180,i=t[1]*Math.PI/180;return[o,i]}n.warn({v:t},"Ubknown value format for skew. [{v}]")},function(t){return e.cloneArray(t)}),o.morph("skew",0,function(t,r,o){"number"==typeof o?(t(this.style("skew")),r([o,o])):e.validNumericArray(o)&&2===o.length?(t(this.style("skew")),r(e.cloneArray(o))):n.warn({v:o},"Invalid value for skew")},function(e){return e}),r.define(0,"origin",[.5,.5],function(t){return"object"==typeof t&&t.constructor===Array?e.validNumericArray(t)&&2===t.length?[t[0],t[1]]:(n.warn("Unknown format of value for origin. Invalid Array!"),!1):(n.warn("Unknown type of value for origin"),!1)},function(t){e.cloneArray(t)}),o.morph("origin",0,function(t,r,o){e.validNumericArray(o)&&2===o.length?(t(this.style("origin")),r(e.cloneArray(o))):n.warn({v:o},"Invalid value for origin")},function(e){return e}),r.define(2,"cap","round",function(e){return"string"==typeof e?"round"===e||"butt"===e||"square"===e?e:(n.error({val:e},"{val} is incorrect value for line cap property!"),!1):void n.error("Cap property is a string!")},function(e){return e}),"Group"!==this.type()&&(r.define(0,"blending","source-over",function(t){return e.validBlending(t)?t:(n.warn({val:t}," [{val}] is not a valid blending!"),!1)},function(e){return e}),r.define(1,"anchor",["left","top"],function(e){return"object"==typeof e&&e.constructor===Array&&2===e.length?"left"!==e[0]&&"center"!==e[0]&&"right"!==e[0]||"top"!==e[1]&&"middle"!==e[1]&&"bottom"!==e[1]?(n.warn({v:e},'[{v}] is not a valid value. Array ["left" || "center" || "right" , "top" || "middle" || "bottom" ] is required format.'),!1):[e[0],e[1]]:(n.warn({v:e},"[{v}] is not a valid anchor value for text element"),!1)},function(e){return[e[0],e[1]]}))}]),$R.service["class"]("Objects",["+Model","+Color","Debug",function DefaultFreeStrokeModel(e,t,n){var r=this.extension("Style");r.define(1,"interpolation",0,function(e){return e>.4&&(e=.4),e<0&&(e=0),e},function(e){return e}),r.define(2,"strokeColor",["rgba(0,0,0,1)"],function(e){if("string"==typeof e){if(t.colorToArray(e)){for(var o=r.get("path"),i=[],a=0;a<o.length;a++)i[a]=e;return i}return n.warn({val:e},"Line Model / {val} is not a color!"),!1}if("object"==typeof e&&e.constructor==Array){for(var o=r.get("path"),s=r.get("strokeColor"),i=[],a=0;a<o.length;a++)e[a]?"string"==typeof e[a]?t.colorToArray(e[a])?i.push(e[a]):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):("object"==typeof e[a]||e[a].constructor==Array)&&t.isColor(e[a])?i.push(t.arrayToColor(e[a])):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!"));return i.length?i:(n.warn({val:e},"Line Model / {val} is not a color!"),!1)}if("object"==typeof e){for(var o=r.get("path"),s=r.get("strokeColor"),i=[],a=0;a<o.length;a++)e[a]?"string"==typeof e[a]?t.colorToArray(e[a])?i.push(e[a]):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, mo changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):("object"==typeof e[a]||e[a].constructor==Array)&&t.isColor(e[a])?i.push(t.arrayToColor(e[a])):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, no changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!")):s[a]?(i.push(s[a]),n.warn({val:e[a]},"Line Model / {val} is not a color, no changes made!")):(i.push(s[s.length-1]),n.warn({val:e[a]},"Line Model / {val} is not a color, replace with rgba(0,0,0,1)!"));return i.length?i:(n.warn({val:e},"Line Model / {val} is not a color!"),!1)}return n.warn("Line Model / Wrong type of value"),!1},function(e){for(var n=[],r=0;r<e.length;r++)n.push(t.colorToArray(e[r]));return n}),r.define(2,"strokeWidth",[1],function(e){if("number"==typeof e){for(var t=r.get("path"),o=[],i=0;i<t.length;i++)o.push(e);return o}if("object"==typeof e&&e.constructor==Array){for(var t=r.get("path"),a=r.get("strokeWidth"),o=[],i=0;i<t.length;i++)"number"==typeof e[i]?o.push(e[i]):a[i]?(o.push(a[i]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):(o.push(a[a.length-1]),n.warn({val:e[i]},"Line Model / {val} is not a number!"));return o}if("object"==typeof e){for(var t=r.get("path"),a=r.get("strokeWidth"),o=[],i=0;i<t.length;i++)e[i]?"number"==typeof e[i]?o.push(e[i]):a[i]?(o.push(a[i]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):(o.push(a[a.length-1]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):a[i]?(o.push(a[i]),n.warn({val:e[i]},"Line Model / {val} is not a number!")):o.push(a[a.length-1]);return o}n.warn({val:e},"Line Model / {val} is not valid value for strokeWidth!")},function(t){return e.cloneArray(t)}),r.define(2,"strokeStyle",[[1,0]],function(t){if("object"==typeof t&&t.constructor==Array){if(e.validNumericArray(t)){for(var o=[],i=r.get("path"),a=0;a<i.length;a++)o.push(e.cloneArray(t));return o}for(var o=[],i=r.get("path"),s=r.get("strokeStyle"),a=0;a<i.length;a++)t[a]?e.validNumericArray(t[a])?o.push(t[a]):(s[a]?o.push(s[a]):o.push(s[s.length-1]),n.warn({val:t[a]},"Line Model / {val} is not a valid value for strokeStyle!")):s[a]?o.push(s[a]):o.push(s[s.length-1]);return o}if("object"==typeof t){for(var o=[],s=r.get("strokeStyle"),i=r.get("path"),a=0;a<i.length;a++)t[a]?e.validNumericArray(t[a])?o.push(t[a]):(s[a]?o.push(s[a]):o.push(s[s.length-1]),n.warn({val:t[a]},"Line Model / {val} is not a valid value for strokeStyle!")):s[a]?o.push(s[a]):o.push(s[s.length-1]);return o}},function(t){return e.cloneArray(t)})}]),$R.service["class"]("Objects",["+Model","+Color","Debug","Resource",function GlobalBackgroundModel(e,t,n,r){function SyncBgProperty(t,n,r){for(var o=0;o<t.length;o++)n[o]||n.push(e.cloneArray(r));t.length<n.length&&n.splice(t.length-1,n.length-path.length)}var o=this.extension("Style"),i=this.extension("Animation");o.define(0,"fill","rgba(0,0,0,1)",function(e){return"string"==typeof e?t.colorToArray(e)?e:(n.warn({val:e},"[{val}] is not a valid color!"),!1):"object"==typeof e&&e.constructor===Array?t.isColor(e)?t.arrayToColor(e):(n.warn({val:e},"[{val}] is not a valid color"),!1):(n.warn({val:e},"[{val}] is not a valid color!"),!1)},function(e){return t.colorToArray(e)}),i.morph("fill",0,function(r,o,i){if("string"==typeof i){var a=t.colorToArray(i);a?(r(this.style("fill")),o(a)):n.warn({v:i},"[{v}] is not avalid color!")}else"object"==typeof i&&i.constructor===Array?t.isColor(i)&&(r(this.style("fill")),o(e.cloneArray(i))):n.warn({v:i},"[{v}] is not a valid color!")},function(e){return t.normalize(e),e}),o.define(0,"bg",[],function(t){if("string"==typeof t){if(e.isSpriteString(t)){var i=e.readSpriteString(t),a=r.sprite(i.url);return a.config(i.frames),[a]}return[r.image(t)]}if("object"==typeof t||t.constructor===Array){if(2===t.length&&"string"==typeof t[0]&&"number"==typeof t[1]){if(t[1]>0){var a=r.sprite(t[0]);return a.config(t[1]),[a]}return!1}for(var s=[],u=0;u<t.length;u++)if("string"==typeof t[u])if(e.isSpriteString(t[u])){var i=e.readSpriteString(t[u]),a=r.sprite(i.url);a.config(i.frames),s.push(t)}else s.push(r.image(t[u]));else if("object"==typeof t[u]&&t[u].constructor==Array){if(2==t[u].length&&"string"==typeof t[u][0]&&"number"==typeof t[u][1])if(t[u][1]>0){var a=r.sprite(t[u][0]);a.config(t[u][1]),s.push(a)}else n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bg value. Skipped.")}else n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bg value. Skipped");return s}if("object"==typeof t){for(var c=o.get("bg"),s=[],u=0;u<c.length;u++)if(t[u])if("object"==typeof t[u]&&t[u].constructor==Array)if("string"==typeof t[u][0]&&"number"==typeof t[u][1]){var a=r.sprite(t[u][0]);a.config(t[u][1]),s.push(a)}else n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bg array value.");else if("string"==typeof t[u])if(e.isSpriteString(t[u])){var i=e.readSpriteString(t[u]),a=r.sprite(i.url);a.config(i.frames),s.push(t)}else s.push(r.image(t[u]));else s.push(c[u]),n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid value for bg.");else s.push(c[u]);return s}return n.warn({val:t},"[{val}] is not valid value for bg"),!1},function(e){for(var t=[],r=0;r<e.length;r++)"Image"==e[r].type?t.push(e[r].url()):"Sprite"==e[r].type?t.push(e[r].url()+"["+e[r].frames()+"]"):n.error({val:e[r],i:r}+"[{i}][{val}] Unknown type of the background object container. Critical error.");return t});var a=[0,0];o.define(2,"bgPosition",[a],function(t){if("object"==typeof t&&t.constructor==Array){if(e.validNumericArray(t)&&2==t.length){for(var r=o.get("bg"),i=[],s=[t[0],t[1]],u=0;u<r.length;u++)i.push(s);return i}for(var i=[],r=o.get("bg"),c=o.get("bgPosition"),u=0;u<r.length;u++)t[u]?e.validNumericArray(t[u])&&2==t[u].length?i.push([t[0],t[1]]):(c[u]?i.push(c[u]):i.push(e.cloneArray(a)),n.warn({i:u,val:t[u]},"[{i}][{val}] is not a valid bgposition value")):c[u]?i.push(c[u]):i.push(e.cloneArray(a));return i}if("object"==typeof t){for(var i=[],r=o.get("bg"),c=o.get("bgPosition"),u=0;u<r.length;u++)t.hasOwnProperty(u)?c[u]?e.validNumericValue()&&2==t[u].length?i.push([t[0],t[1]]):(i.push(c[u]),n.warn({i:u,val:t[u]},"[{i}][{val}] is not a valid bgposition value")):i.push(e.cloneArray(a)):c[u]?i.push(c[u]):i.push(e.cloneArray(a));return i}n.warn({val:t},"[{val}] is not a valid bgposition value")},function(t){return e.cloneArray(t)});var s=[1,1];o.define(1,"bgSize",[s],function(t){if("object"==typeof t&&t.constructor==Array){if(2==t.length&&e.validNumericArray(t)){for(var r=o.get("bg"),i=[],a=[t[0],t[1]],u=0;u<r.length;u++)i.push(a);return i}for(var r=o.get("bg"),c=o.get("bgSize"),i=[],u=0;u<r.length;u++)2==t[u].length&&e.validNumericArray(t[u])?i.push(t[u][0],t[u][1]):(c[u]?i.push(c[u]):i.push(e.cloneArray(s)),n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bgsize value"));return i}if("object"==typeof t){for(var r=o.get("bg"),c=o.get("bgSize"),i=[],u=0;u<r.length;u++)t.hasOwnProperty(u)?"object"==typeof t[u]&&t[u].constructor==Array&&2==t[u].length&&e.validNumericArray(t[u])?i.push([t[u][0],t[u][1]]):(c[u]?i.push(c[u]):i.push(e.cloneArray(s)),n.warn({val:t[u],i:u},"[{i}][{val}] is not a valid bgsize value.")):c[u]?i.push(c[u]):i.push(e.cloneArray(s));return i}},function(t){return e.cloneArray(t)}),this.watch("bg",function(e,t){e.length!==t.length&&(SyncBgProperty(t,o.get("bgPosition"),a),SyncBgProperty(t,o.get("bgSize"),s))})}]),$R.service["class"]("Objects",["+Model",function GlobalSizeModel(e){var t=this.extension("Animation"),n=this.extension("Style");t.morph("size",1,function(t,n,r){"number"==typeof r?(r<0&&(r=0),t(this.style("size")),n([r,r])):"object"==typeof r&&r.constructor==Array&&e.validNumericArray(r)&&2==r.length?(r[0]<0&&(r[0]=0),r[1]<0&&(r[1]=0),t(this.style("size")),n(e.cloneArray(r))):Debug.warn({v:r},"[{v}] is not valid value for size")},function(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e}),n.define(1,"size",[0,0],function(t){return"number"==typeof t?(t<0&&(t=0),[t,t]):"object"==typeof t&&t.constructor==Array&&2==t.length&&e.validNumericArray(t)?(t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),[t[0],t[1]]):(Debug.warn({val:t},"[{val}] is not valid value for size!"),!1)},function(t){return e.cloneArray(t)})}]),$R.service["class"]("Objects",["@extend",function GroupObjectModel(e){e(this,"$DefaultObjectModel")}]),$R.service["class"]("Objects",["@extend","Debug",function ImageObjectModel(e,t){e(this,"$DefaultObjectModel"),e(this,"$GlobalSizeModel");var n=this.extension("Style");n.define(0,"src",null,function(e){return"string"==typeof e?e:(t.warn({val:e},"[{val}] is not a valid src value"),!1)},function(e){return e})}]),$R.service["class"]("Objects",["@extend","+Model","+Path","+Color","Debug",function LineObjectModel(e,t,n,r,o){function SyncPathProperty(e,t){for(var n=0;n<e.length;n++)t[n]||t.push(t[t.length-1])}e(this,"$DefaultObjectModel"),e(this,"$DefaultFreeStrokeModel");var i=this.extension("Style");i.define(0,"path",[[0,0,0,0,0,0,0,0]],function(e){if(n.checkSimplePath(e)){var t=i.get("path"),r=n.convertSimplePath(e);return t.length!==r.length&&(SyncPathProperty(r,i.get("strokeStyle")),SyncPathProperty(r,i.get("strokeWidth")),SyncPathProperty(r,i.get("strokeColor"))),r}return o.warn("Line Model / Invalid value for path!"),!1},function(e){return n.convertComplexPath(e)})}]),$R.service["class"]("Objects",["@extend","+Model","+Color","Debug",function RectangleObjectModel(e,t,n,r){e(this,"$DefaultObjectModel"),e(this,"$GlobalBackgroundModel"),e(this,"$GlobalSizeModel");var i=this.extension("Style"),a=this.extension("Animation");i.define(0,"radius",[0,0,0,0],function(e){if("number"==typeof e)return e=Math.round(e),[e,e,e,e];if("object"==typeof e){if(e.constructor!==Array){for(var t=i.get("radius"),n=[],r=0;r<t.length;r++)"number"==typeof e[r]?n.push(Math.round(e[r])):n.push(t[r]);return n}for(var o=[],a=!0,r=0;r<e.length;r++){if("number"!=typeof e[r]){a=!1;break}e[r]<0?o.push(0):o.push(Math.round(e[r]))}if(a){for(var n=[],t=this.style("radius"),r=0;r<t.length;r++)void 0!==o[r]?n.push(o[r]):n.push(t[r]);return n}}},function(e){return t.cloneArray(e)}),a.morph("radius",1,function(e,t,n){if("number"==typeof n)n<0&&(n=0),e(this.style("radius")),t([n,n,n,n]);else if("object"==typeof n){var o=this.style("radius"),i=[];e(o);for(var a=0;a<o.length;a++)"number"==typeof n[a]?n[a]<0?i.push(0):i.push(Math.round(n[a])):i.push(o[a]);t(i)}else r.warn({v:n},"{v} is not a valid radius value for rectangle")},function(e){return e}),i.define(0,"strokeColor",["rgba(0,0,0,1)","rgba(0,0,0,1)","rgba(0,0,0,1)","rgba(0,0,0,1)"],function(e){if("string"==typeof e)return n.colorToArray(e)?[e,e,e,e]:(r.warn({value:val}," [{val} is not a valid stroke string"),!1);if("object"==typeof e&&e.constructor===Array){for(var t=i.get("strokeColor"),o=[],a=0;a<t.length;a++)e[a]?"string"==typeof e[a]?n.colorToArray(e[a])?o.push(e[a]):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid stroke color value!")):"object"==typeof e[a]&&e[a].constructor===Array?n.isColor(e[a])?o.push(n.arrayToColor(e[a])):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid stroke color value")):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid color value")):o.push(t[a]);return o}if("object"==typeof e){for(var t=i.get("strokeColor"),o=[],a=0;a<t.length;a++)e.hasOwnProperty(a)?"string"==typeof e[a]?n.colorToArray(e[a])?o.push(e[a]):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid color value")):"object"==typeof e[a]&&e[a].constructor===Array&&n.isColor(e[a])?o.push(n.arrayToColor(e[a])):(o.push(t[a]),r.warn({val:e[a]},"[{val}] is not a valid color value")):o.push(t[a]);return o}return r.warn({val:e},"[{val}] is not a valid value for strokeColor!"),!1},function(e){for(var t=[],r=0;r<e.length;r++)t.push(n.colorToArray(e[r]));return t}),a.morph("strokeColor",0,function(e,o,i){if("string"==typeof i){var a=n.colorToArray(i);a?(o([t.cloneArray(a),t.cloneArray(a),t.cloneArray(a),t.cloneArray(a)]),e(this.style("strokeColor"))):r.warn({v:i},"{v} is not a valid color")}else if("object"==typeof i&&i.constructor===Array)if(n.isColor(i))o([t.cloneArray(i),t.cloneArray(i),t.cloneArray(i),t.cloneArray(i)]),e(this.style("strokeColor"));else{for(var s=this.style("strokeColor"),u=[],c=!1,l=0;l<s.length;l++)if("string"==typeof i[l]){var a=n.colorToArray(i[l]);a?(u.push(a),c=!0):u.push(f[l])}else"object"==typeof i[l]&&i[l].constructor===Array&&i[l]&&n.isColor(i[l])?(u.push(t.cloneArray(i[l])),c=!0):u.push(f[l]);c?(e(s),o(u)):r.warn({v:i},"[{v}] is not a valid value for strokeColor")}else if("object"==typeof i){for(var f=this.style("strokeColor"),u=[],c=!1,l=0;l<f.length;l++)if("string"==typeof i[l]){var a=n.colorToArray(i[l]);a?(u.push(a),c=!0):u.push(f[l])}else"object"==typeof i[l]&&i[l].constructor===Array&&n.isColor(i[l])?(u.push(t.cloneArray(i[l])),c=!0):u.push(f[l]);c?(e(f),o(u)):r.warn({v:i},"[{v}] is not a valid value for strokeColor!")}},function(e){for(var t=0;t<e.length;t++)n.normalize(e[t]);return e}),i.define(0,"strokeWidth",[1,1,1,1],function(e){if("number"==typeof e)return[e,e,e,e];if("object"==typeof e&&e.constructor===Array){for(var t=i.get("strokeWidth"),n=[],o=0;o<t.length;o++)e[o]?"number"==typeof e[o]?n.push(e[o]):(n.push(t[o]),r.warn({val:e}," [{val}] is not a valid stroke width value")):n.push(t[o]);return n}if("object"==typeof e){for(var n=[],t=i.get("strokeWidth"),o=0;o<t.length;o++)e.hasOwnProperty(o)?"number"==typeof e[o]?n.push(e[o]):(r.warn({val:e},"[{val}] is not a valid value for strokeWidth"),n.push(t[o])):n.push(t[o]);return n}return r.warn({val:e}," [{val}] is not a valid strokeWidth value"),!1},function(e){return t.cloneArray(e)}),a.morph("strokeWidth",0,function(e,t,n){if("number"==typeof n)t([n,n,n,n]),e(this.style("strokeWidth"));else if("object"==typeof n&&n.constructor===Array){for(var o=this.style("strokeWidth"),i=[],a=0;a<o.length;a++)n[a]&&"number"==typeof n[a]?i.push(n[a]):i.push(o[a]);t(i),e(o)}else if("object"==typeof n){for(var o=this.style("strokeWidth"),i=[],s=!1,a=0;a<o.length;a++)n[a]&&"number"==typeof n[a]?(i.push(n),s=!0):i.push(o[a]);s?(t(i),e(o)):r.warn({v:n}," [{v}] is not a valid strokeWidth object")}else r.warn({v:n}," [{v}] is not a valid value for strokeWidth")},function(e){return e}),i.define(0,"strokeStyle",[[1,0],[1,0],[1,0],[1,0]],function(e){if("object"!=typeof e)return r.warn({val:e}," [{val}] is not valid strokeStyle value"),!1;if(e.constructor!==Array){for(var n=[],o=i.get("strokeStyle"),a=0;a<o.length;a++)e.hasOwnProperty(a)?"object"==typeof e[a]&&e[a].constructor===Array?t.validNumericArray(e[a])&&2===e[a].length?n.push(t.cloneArray(e[a])):(n.push(o[a]),
r.warn({val:e[a]},"[{val}] is not a valid strokeStyle value")):(n.push(o[a]),r.watch({val:e[a]}," [{val}] is not a valid strokeStyle value")):n.push(o[a]);return n}if(!t.validNumericArray(e)){for(var n=[],o=i.get("strokeStyle"),a=0;a<o.length;a++)e[a]?t.validNumericArray(e[a])&&2===e.length?n.push(t.cloneArray(e[a])):(n.push(o[a]),r.warn({val:e[a]}," [{val}] is not a valid stroke style value")):n.push(o[a]);return n}return 2===e.length?[e,e,e,e]:void r.warn({v:e}," [{v}] is not a valid value for stroke width!")},function(e){return t.cloneArray(e)}),a.morph("strokeStyle",0,function(e,n,i){if("object"==typeof i)if(i.constructor===Array)if(t.validNumericArray(i))2===i.length?(e(this.style("strokeStyle")),n(t.cloneArray(i),t.cloneArray(i),t.cloneArray(i),t.cloneArray(i))):r.warn({v:i}," [{v}] is not a valid strokeStyle value!");else{for(var a=this.style("strokeStylr"),s=[],u=!1,c=0;c<a.length;c++)i[c]&&t.validNumericArray(i[c])&&2===i[c].length?(s.push(t.cloneArray(i[c])),u=!0):s.push(a[c]);u?(e(a),n(s)):r.warn({v:i},"[{v}] is not a valid strokeStyle value")}else{for(var a=this.style("strokeStyle"),s=[],u=!1,c=0;c<a.length;c++)i[c]&&t.validNumericArray(i[c])&&2===i[c].length?(s.push(t.cloneArray(i[o])),u=!0):s.push(a[c]);u?(e(a),n(s)):r.warn({v:i},"[{v}] is not a valid strokeStyleValue")}else r.warn({v:i},"[{v}] is not a valid strokeStyleValue")},function(e){return e})}]),$R.service["class"]("Objects",["@extend","+Model","Debug",function SpriteObjectModel(e,t,n){e(this,"$DefaultObjectModel"),e(this,"$GlobalSizeModel");var r=this.extension("Style");r.define(0,"src",null,function(e){return"string"==typeof e?t.isSpriteString(e)?e:(n.warn({val:e},"[{val}] is not a valid value for sprite src"),!1):"object"==typeof e&&e.constructor==Array?"string"==typeof e[0]&&"number"==typeof e[1]&&e[1]>0?e[0]+"["+e[1]+"]":(n.warn({val:e},"[{val}] is not a valid sprite src"),!1):void n.warn({val:e},"[{val}] is not a valid sprite src")},function(e){return e})}]),$R.service["class"]("Objects",["@extend","+Model","+Color","Debug","@Fonts",function TextObjectModel(e,t,n,r,o){e(this,"$DefaultObjectModel");var i=this.extension("Style"),a=this.extension("Text"),s=this.extension("Animation"),u=this;i.define(1,"size",["auto","auto"],function(e){if("string"==typeof e&&"auto"===e)return a.limits(1/0,1/0),[e,e];if("number"==typeof e)return a.limits(e,e),[e,e];if("object"==typeof e&&e.constructor===Array&&2===e.length){for(var t=!0,n=0;n<e.length;n++)if("string"!=typeof e[n]&&"number"!=typeof e[n]||"string"==typeof e[n]&&"auto"!==e[n]){t=!1;break}return t?("number"==typeof e[0]&&e[0]<0&&(e[0]=0),"number"==typeof e[1]&&e[1]<0&&(e[1]=0),a.limits("auto"===e[0]?1/0:e[0],"auto"===e[1]?1/0:e[1]),[e[0],e[1]]):(r.warn({v:e},"[{v}] is not a valid size array"),!1)}return r.warn({v:e},"[{v}] is not a valid value for size"),!1},function(e){return[e[0],e[1]]}),i.define(1,"str","",function(e){return"string"==typeof e&&e},function(e){return e});var c="sans-serif";i.define(1,"font","sans-serif",function(e){if("string"==typeof e)return c=o.format(e),u.style("systemFont",null),e},function(e){return e}),i.define(1,"systemFont",c,function(){return c},function(){return c}),i.define(1,"weight",400,function(e){return"number"==typeof e&&(e<100&&(e=100),e>900&&(e=900),e%100!==0&&(e-=e%100),e)},function(e){return e}),i.define(1,"style","normal",function(e){return"string"==typeof e&&("normal"===e||"italic"===e||"oblique"===e)&&e},function(e){return e}),i.define(1,"lineHeight",14,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.define(1,"fontSize",14,function(e){if("number"==typeof e)return e<0&&(e=0),e},function(e){return e}),i.define(1,"color","rgba(0,0,0,1)",function(e){return"string"==typeof e?n.colorToArray(e)?e:(r.warn({val:e},"[{val}] is not a valid color!"),!1):"object"==typeof e&&e.constructor===Array?n.isColor(e)?n.arrayToColor(e):(r.warn({val:e},"[{val}] is not a valid color"),!1):(r.warn({val:e},"[{val}] is not a valid color!"),!1)},function(e){return n.colorToArray(e)}),i.define(1,"align","left",function(e){return"center"===e||"left"===e||"right"===e?e:(r.warn({v:e},"[{v}] is not a proper value for aling text property"),!1)},function(e){return e}),s.morph("color",1,function(e,o,i){if("string"==typeof i){var a=n.colorToArray(i);a?(e(this.style("fill")),o(a)):r.warn({v:i},"[{v}] is not avalid color!")}else"object"==typeof i&&i.constructor===Array?n.isColor(i)&&(e(this.style("fill")),o(t.cloneArray(i))):r.warn({v:i},"[{v}] is not a valid color!")},function(e){return n.normalize(e),e})}]),$R.service["class"]("Sound",["+Animation","Morphine",function Animation(e,t){function Resolve(e){if(e==p)for(var t=0;t<a.length;t++)c.hasOwnProperty(a[t].morph.property())&&c[a[t].morph.property()].apply(u,[n,a[t].result]);else if(e==v){i=!0;for(var r={},t=0;t<a.length;t++)r[a[t].morph.property()]=a[t].result;g.done(1,r),h()}}var n=0,r=null,o=null,i=!1,a=null,s=null,u=null,c=null,l=!1,f=!1,h=null,p="type",v="complete",g=null;this.target=function(){return u},this.queue=function(){return l},this.active=function(){return f},this.done=function(){return i},this.hasProperty=function(e){for(var t=0,n=0;n<a.length;n++)if(a[n].morph.property()==e){t=n+1;break}return t},this.properties=function(){for(var e=[],t=0;t<a.length;t++)e.push(a[t].morph.property());return e},this.stop=function(e){if(e){var t=this.hasProperty(e);t&&(t-=1,a.splice(t,1))}else a=[]},this.start=function(){f=!0;for(var n=[],i=0;i<a.length;i++){var u=a[i].morph.get(a[i].value);void 0!==u&&u.start()!==!1&&u.end()!==!1&&n.push(a[i])}a=n;var c=e.getTickFunction();s=t.create(0,1,function(e,t){if(0==a.length)Resolve(v),s.stop();else{for(var n=0;n<a.length;n++)a[n].result=c(t,a[n].morph.start(),a[n].morph.end()),a[n].morph.apply(e,a[n].result);Resolve(p),1==e&&Resolve(v)}},o,r,0)},this.config=function(t,n,i,s){e.normalizeConfig(i),r=i.duration,o=i.easing,c=i.step,l=i.queue,h=s,a=n,u=t,g=i}}]),$R.service["class"]("Sound",["Debug",function Morph(e){function SetStartValue(e){t=e}function SetEndValue(e){n=e}var t,n,r=null,o=null,i=null,a=null,s=!1,u=0;this.start=function(){return t},this.end=function(){return n},this.property=function(){return r},this.ordering=function(){return u},this.get=function(e){return o.apply(a,[SetStartValue,SetEndValue,e]),this},this.valid=function(){return s},this.apply=function(e,t){a.filter(r,i.apply(a,[t,e]))},this.config=function(t,n,c,l,f){return"string"!=typeof t?void e.error({name:t},"Unable to config Morph. arg1 [{name}] is not a string!"):"object"!=typeof n?void e.error({name:t},"Unable to config Morph. arg3 is not an object!"):"function"!=typeof l?void e.error({name:t},"Unable to config Morph. arg4 is not a function!"):"number"!=typeof c?void e.error({name:t},"Unable to config Morph. arg2 is not a number!"):"function"!=typeof f?void e.error({name:t},"Unable to config Morph. arg5 is not a function!"):(r=t,o=l,i=f,u=c,a=n,void(s=!0))}}]),$R.helper.system(function Animation(){function TickVal(e,t,n,r){var o=!1,i=!1;if("function"==typeof n&&(o=n()),"function"==typeof r&&(i=r()),n.constructor===Array)for(var a=[],s=0;s<n.length;s++)a.push(TickVal(e,t,n[s],r[s]));else if("object"==typeof n){var a={};for(var u in n)a[u]=TickVal(e,t,n[u],r[u])}else if("number"==typeof n||"function"==typeof n){var c=i===!1?r:i,l=o===!1?n:o,f=c-l,a=l+f*e;t>=1&&(a=c)}return a}this.normalizeConfig=function(e){e.duration="number"==typeof e.duration&&e.duration>0?e.duration:1e3,e.queue=!!e.queue,e.step="object"==typeof e.step?e.step:{},e.easing="string"==typeof e.easing?e.easing:"linear",e.done="function"==typeof e.done?e.done:function(){}},this.getTickFunction=function(){return TickVal}}),$R.helper.system(function Color(){function NormalizeColorArray(e){if(e!==!1&&void 0!==e){for(var t=0;t<e.length;t++)e[t]=e[t]<=255?e[t]:255,e[t]=e[t]>=0?e[t]:0,e[t]=3!==t&&0!==e[t]?parseInt(e[t]):e[t],e[t]=(3==t&&e[t])<=1?e[t]:1,e[t]=Math.abs(e[t]);return e}return!1}function ParseColour(e){var t,n=parseInt,e=e.replace(/\s\s*/g,"");if(t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})/.exec(e))t=[n(t[1],16),n(t[2],16),n(t[3],16)];else if(t=/^#([\da-fA-F])([\da-fA-F])([\da-fA-F])/.exec(e))t=[17*n(t[1],16),17*n(t[2],16),17*n(t[3],16)];else if(t=/^rgba\(([\d]+),([\d]+),([\d]+),([\d]+|[\d]*.[\d]+)\)/.exec(e))t=[+t[1],+t[2],+t[3],+t[4]];else{if(!(t=/^rgb\(([\d]+),([\d]+),([\d]+)\)/.exec(e)))return!1;t=[+t[1],+t[2],+t[3]]}return isNaN(t[3])&&(t[3]=1),NormalizeColorArray(t.slice(0,4))}this.colorToArray=ParseColour,this.normalize=NormalizeColorArray,this.isColor=function(e){var t=!1;if(4==e.length)for(var n=0;n<e.length;n++)"number"==typeof e[n]||"string"==typeof e[n]?"string"==typeof e[n]&&isNaN(1*e[n])&&(t=!0):t=!0;else t=!0;return t&&console.warn('Silk : Check for color unsuccessful. "'+e+'" is not a color Array.'),!t},this.arrayToColor=function(e){if(e&&4==e.length){for(var t="rgba(",n=0;n<e.length;n++)t+=3==n?e[n]+")":e[n]+",";return t}return console.warn("Unknown Input array format. Should be [R,G,B,A];"),!1}}),$R.helper.system(function Drawer(e){var t=document.createElement("canvas").getContext("2d");this.measureText=function(e){t.save();var n=e(t);return t.restore(),n},this.transform=function(e,t){t.transform.apply(t,e.matrix().extract())},this.drawLineBgClipPath=function(t,n,r,o,i){var a=r.get("bg"),s=r.get("bgSize"),u=r.get("bgPosition");t.save(),t.beginPath(),t.moveTo(n[0][0],n[0][1]);for(var c=0;c<n.length;c++){var l=n[c][0],f=n[c][1],h=n[c][2],p=n[c][3];if("number"!=typeof l||"number"!=typeof h||"number"!=typeof f||"number"!=typeof p){e.error("Invalid path!");break}t.lineTo(h,p)}t.closePath(),t.clip();for(var v=0;v<a.length;v++)if(a[v].loaded()){t.save();var g=box.size[0]*s[v][0],d=box.size[1]*s[v][1],y=box.size[0]*u[v][0],m=box.size[1]*u[v][1];t.translate(i.margin[3]+y,i.margin[0]+m),t.drawImage(a[c]["export"](),0,0,g,d),t.restore()}else a[v].on("load",function(){o.update("bg")});t.restore()},this.drawBezierBgClipPath=function(t,n,r,o,i){var a=r.get("bg"),s=r.get("bgSize"),u=r.get("bgPosition");t.save(),t.beginPath(),t.moveTo(n[0][0],n[0][1]);for(var c=0;c<n.length;c++){var l=n[c][0],f=n[c][1],h=n[c][2],p=n[c][3],v=n[c][4],g=n[c][5],d=n[c][6],y=n[c][7];if("number"!=typeof l||"number"!=typeof h||"number"!=typeof f||"number"!=typeof p){e.error("Invalid path!");break}if("number"!=typeof v||"number"!=typeof d||"number"!=typeof g||"number"!=typeof y){e.error("Invalid curve!");break}t.bezierCurveTo(v,g,d,y,h,p)}t.closePath(),t.clip();for(var m=0;m<a.length;m++)if(a[m].loaded()){t.save();var b=box.size[0]*s[m][0],w=box.size[1]*s[m][1],C=box.size[0]*u[m][0],A=box.size[1]*u[m][1];t.translate(i.margin[3]+C,i.margin[0]+A),t.drawImage(a[c]["export"](),0,0,b,w),t.restore()}else a[m].on("load",function(){o.update("bg")});t.restore()},this.drawLinePathFill=function(t,n,r){var o=r.get("fill"),i=r.get("cap");t.save(),t.lineCap=i,t.moveTo(n[0][0],n[0][1]),t.beginPath();for(var a=0;a<n.length;a++){var s=n[a][0],u=n[a][1],c=n[a][2],l=n[a][3];if("number"!=typeof s||"number"!=typeof c||"number"!=typeof u||"number"!=typeof l){e.error("Invalid path!");break}t.lineTo(c,l)}t.closePath(),t.fillStyle=o,t.fill(),t.restore()},this.drawBezierPathFill=function(t,n,r){var o=r.get("fill"),i=r.get("cap");t.save(),t.lineCap=i,t.beginPath(),t.moveTo(n[0][0],n[0][1]);for(var a=0;a<n.length;a++){var s=n[a][0],u=n[a][1],c=n[a][2],l=n[a][3],f=n[a][4],h=n[a][5],p=n[a][6],v=n[a][7];if("number"!=typeof s||"number"!=typeof c||"number"!=typeof u||"number"!=typeof l){e.error("Invalid path!");break}if("number"!=typeof f||"number"!=typeof p||"number"!=typeof h||"number"!=typeof v){e.error("Invalid curve!");break}t.bezierCurveTo(f,h,p,v,c,l)}t.closePath(),t.fillStyle=o,t.fill(),t.restore()},this.drawLinePath=function(t,n,r){var o=r.get("strokeColor"),i=r.get("strokeWidth"),a=r.get("strokeStyle"),s=r.get("cap");t.save(),t.lineCap=s;for(var u=0;u<n.length;u++){var c=n[u][0],l=n[u][1],f=n[u][2],h=n[u][3];if("number"!=typeof c||"number"!=typeof f||"number"!=typeof l||"number"!=typeof h){e.error("Invalid path!");break}i[u]<.1?t.moveTo(f,h):(t.beginPath(),t.moveTo(c,l),t.strokeStyle=o[u],t.lineWidth=i[u],t.setLineDash(a[u]),t.lineTo(f,h),t.stroke())}t.restore()},this.drawBezierPath=function(t,n,r){var o=r.get("strokeColor"),i=r.get("strokeWidth"),a=r.get("strokeStyle"),s=r.get("cap");t.save(),t.lineCap=s;for(var u=0;u<n.length;u++){var c=n[u][0],l=n[u][1],f=n[u][2],h=n[u][3],p=n[u][4],v=n[u][5],g=n[u][6],d=n[u][7];if("number"!=typeof c||"number"!=typeof f||"number"!=typeof l||"number"!=typeof h){e.error("Invalid path!");break}if("number"!=typeof p||"number"!=typeof g||"number"!=typeof v||"number"!=typeof d){e.error("Invalid curve!");break}i[u]<.1?t.moveTo(f,h):(t.beginPath(),t.moveTo(c,l),t.strokeStyle=o[u],t.lineWidth=i[u],t.setLineDash(a[u]),t.bezierCurveTo(p,v,g,d,f,h),t.stroke())}t.restore()},this.drawRectFill=function(e,t,n,r,o,i){e.save();var a=t.get("fill");e.fillStyle=a,e.rect(n,r,o,i),e.fill(),e.restore()},this.drawRectStroke=function(e,t,n,r,o,i){var a=t.get("strokeStyle"),s=t.get("strokeColor"),u=t.get("strokeWidth");e.save();for(var c=0,l=0,f=0;f<4;f++)e.beginPath(),e.strokeStyle=s[f],e.strokeWidth=u[f],e.setLineDash(a[f]),0===f&&(c=n+o,l=r),1===f&&(c=n+o,l=r+i),2===f&&(c=n,l=r+i),3===f&&(c=n,l=r),u[f]<.1?e.moveTo(c,l):(e.lineTo(c,l),e.stroke());e.restore()}}),$R.helper.system(["Debug",function Easing(e){var t={_:function(e,t,n,r){return n*(e/=r)*e*e+t},linear:function(e,t,n,r){return e/=r,t+n*e},linearSoft:function(e,t,n,r){var o=(e/=r)*e,i=o*e;return t+n*(4*i*o+-10*o*o+8*i+-2*o+e)},linearSoftOut:function(e,t,n,r){var o=(e/=r)*e,i=o*e;return t+n*(-3*i*o+11*o*o+-14*i+6*o+e)},linearSoftIn:function(e,t,n,r){var o=(e/=r)*e,i=o*e;return t+n*(-1*i*o+2*i)},easeInQuad:function(e,t,n,r){n*(e/=r)*e+t;return n*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0===e?t:n*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){return e===r?t+n:n*(-Math.pow(2,-10*e/r)+1)+t},easeInOutExpo:function(e,t,n,r){return 0===e?t:e===r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInBack:function(e,t,n,r,o){var i=(e/=r)*e,a=i*e;return t+n*(15.26*a*i+-43.56*i*i+39.8*a+-10.6*i+.1*e)},easeOutBack:function(e,t,n,r,o){var i=(e/=r)*e,a=i*e;return t+n*(11.24*a*i+-23.96*i*i+12.24*a+1.44*i+.04*e)},easeInOutBack:function(e,t,n,r,o){var i=(e/=r)*e,a=i*e;return t+n*(22.92*a*i+-57.78*i*i+45*a+-9.28*i+.14*e)},easeOutBounce:function(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}};this.get=function(n){return t[n]?t[n]:(e.error({name:n},"Easings / Unable to get undefined easing [{name}]. Linear easing function provided."),t.linear)}}]),$R.helper.system(function Matrix(){function GraphicsTransformMatrix(e){function multiply(e,t){var n=e[0]*t[0]+e[2]*t[1],r=e[1]*t[0]+e[3]*t[1],o=e[0]*t[2]+e[2]*t[3],i=e[1]*t[2]+e[3]*t[3],a=e[0]*t[4]+e[2]*t[5]+e[4],s=e[1]*t[4]+e[3]*t[5]+e[5];e[0]=n,e[1]=r,e[2]=o,e[3]=i,e[4]=a,e[5]=s}function invert(){for(var e=o.length-1;e>=0;e--){if(o[e].rotate){var t=Math.sin(-o[e].rotate),r=Math.cos(-o[e].rotate);multiply(n,[r,t,-t,r,0,0])}o[e].translate&&multiply(n,[1,0,0,1,-o[e].translate[0],-o[e].translate[1]]),o[e].skew&&multiply(n,[1,Math.tan(-o[e].skew[1]),Math.tan(-o[e].skew[0]),1,0,0]),o[e].scale&&multiply(n,[1/o[e].scale[0],0,0,1/o[e].scale[1],0,0])}i=!0,o=null}function invertGlobal(){var t=e.parent();if(i||invert(),t){if(r)return r;r=[n[0],n[1],n[2],n[3],n[4],n[5]],multiply(r,t.matrix().globalInversionMatrix())}else r=n;return r}var t=[1,0,0,1,0,0],n=[1,0,0,1,0,0],r=null,o=[],i=!1;this.rotate=function(e){var n=Math.sin(e),r=Math.cos(e),i=[r,n,-n,r,0,0];return multiply(t,i),o.push({rotate:e}),this},this.translate=function(e,n){var r=[1,0,0,1,e,n];return 0===e&&0===n||(multiply(t,r),o.push({translate:[e,n]})),this},this.scale=function(e,n){if(1!==e||1!==n){var r=[e,0,0,n,0,0];multiply(t,r),o.push({scale:[e,n]})}return this},this.skew=function(e,n){if(0!==e||0!==n){var r=Math.tan(e),i=Math.tan(n),a=[1,i,r,1,0,0];multiply(t,a),o.push({skew:[e,n]})}return this},this.extract=function(){return t},this.globalInversionMatrix=invertGlobal,this.globalCursorProjection=function(e){r||invertGlobal();var t=e[0]*r[0]+e[1]*r[2]+r[4],n=e[0]*r[1]+e[1]*r[3]+r[5];return e[0]=t,e[1]=n,e},this.cursorProjection=function(e){i||invert();var t=e[0]*n[0]+e[1]*n[2]+n[4],r=e[0]*n[1]+e[1]*n[3]+n[5];return e[0]=t,e[1]=r,e}}this.objectMatrix=function(e){var t=new GraphicsTransformMatrix(e),n=e.extension("Style"),r=e.extension("Box").box(),o=r.sprite(),i=n.get("position"),a=n.get("origin"),s=n.get("skew"),u=n.get("rotate"),c=n.get("scale"),l=n.get("translate"),f="Group"===e.type()?[i[0]+l[0]-o.margin[3],i[1]+l[1]-o.margin[0]]:[o.position[0]+l[0],o.position[1]+l[1]],h=[a[0]*o.size[0],a[1]*o.size[1]];return t.translate(h[0],h[1]),0===f[0]&&0===f[1]||t.translate(f[0],f[1]),0!==u&&t.rotate(u),0===s[0]&&0===s[1]||t.skew(s[0],s[1]),1===c[0]&&1===c[1]||t.scale(c[0],c[1]),t.translate(-h[0],-h[1]),t}}),$R.helper.system(["Debug",function Model(Debug){this.cloneHash=function(e){return"object"!=typeof e?void Debug.error("Hash is not an object!"):JSON.parse(JSON.stringify(e))},this.cloneArray=function(array){if("object"!=typeof array||array.constructor!==Array)return void Debug.error("array is not an array!");for(var result=[],i=0;i<array.length;i++)if("object"==typeof array[i])array[i].constructor==Array?result.push(this.cloneArray(array[i])):result.push(this.cloneHash(array[i]));else if("function"==typeof array[i]){var text=array[i].toString();result.push(eval(text)),Debug.warn("You clone functions! It can be slow!")}else result.push(array[i]);return result},this.validNumericArray=function(e){var t=!0;if("object"!=typeof e||e.constructor!==Array)return!1;for(var n=0;n<e.length;n++)if("number"!=typeof e[n]){t=!1;break}return t};var blendings=["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"];this.validBlending=function(e){for(var t=!1,n=0;n<blendings.length;n++)if(blendings[n]==e){t=!0;break}return t};var sprite_regexp=/^([./_\da-zA-Z]+)(\[(\d+)\])$/;this.isSpriteString=function(e){return sprite_regexp.test(e)},this.readSpriteString=function(e){var t=e.match(sprite_regexp);return{url:t[1],frames:parseInt(t[3])}}}]),$R.helper.system(function Mouse(){this.circleUserCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]);if(t<[0]||t[1]<0)return!1;var n=this.extension("Box").box().sprite();if(t[0]>n.size[0])return!1;if(t[1]>n.size[1])return!1;var r=n.size[0]/2,o=r,i=n.size[1]/2;return Math.pow(t[0]-o,2)+Math.pow(t[1]-i,2)<=Math.pow(r,2)&&this},this.squareUserCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]),n=this.extension("Box").box().sprite();return t[0]>0&&t[0]<n.size[0]&&(t[1]>0&&t[1]<n.size[1]&&this)},this.circleCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]);if(t<[0]||t[1]<0)return!1;var n=this.extension("Box").box().sprite();if(t[0]>n.size[0])return!1;if(t[1]>n.size[1])return!1;var r=n.size[0]/2,o=this.extension("Style").get("radius");return Math.pow(t[0]-r,2)+Math.pow(t[1]-r,2)<Math.pow(o,2)&&this},this.rectCheckFunction=function(e){var t=this.matrix().globalCursorProjection([e[0],e[1]]),n=this.extension("Box").box().sprite();return t[0]>0&&t[0]<n.size[0]&&(t[1]>0&&t[1]<n.size[1]&&this)}}),$R.helper.system(["Debug",function Path(e){function getControlPoints(e,t,n,r,o,i,a){var s=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),u=Math.sqrt(Math.pow(o-n,2)+Math.pow(i-r,2)),c=a*s/(s+u),l=a*u/(s+u),f=n-c*(o-e),h=r-c*(i-t),p=n+l*(o-e),v=r+l*(i-t);return[f,h,p,v]}this.convertComplexPath=function(e){for(var t=[],n=0;n<e.length;n++)t.push([e[n][0],e[n][1]]);return t},this.convertSimplePath=function(t){if(t.length<2)return void e.error("Path should consist of at least two points!");for(var n=[],r=0;r<t.length;r++){var o=t[r][0],i=t[r][1];if("number"!=typeof o||"number"!=typeof i){e.error("Incorrect Path!"),n=void 0;break}r<t.length-1&&(n[r]||n.push([]),n[r].push(o),n[r].push(i)),0!==r&&(n[r-1].push(o),n[r-1].push(i),n[r-1].push(n[r-1][0]),n[r-1].push(n[r-1][1]),n[r-1].push(o),n[r-1].push(i))}return n},this.interpolate=function(e,t,n){for(var r=0;r<e.length;r++){var o=[],i=[e[r][0],e[r][1]],a=[e[r][2],e[r][3]],s=null;if(o=0==r?i:[e[r-1][0],e[r-1][1]],s=getControlPoints(o[0],o[1],i[0],i[1],a[0],a[1],t),0==r?(e[r][4]=s[2],e[r][5]=s[3]):(e[r-1][6]=s[0],e[r-1][7]=s[1],e[r][4]=s[2],e[r][5]=s[3]),r==e.length-1&&(o=[e[r][0],e[r][1]],i=[e[r][2],e[r][3]],a=i,s=getControlPoints(o[0],o[1],i[0],i[1],a[0],a[1],t),e[r][6]=s[0],e[r][7]=s[1]),n){var u=e[e.length-1],c=e[0],l=[[u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7]],[c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7]]];this.interpolate(l,t),e[0][4]=l[1][4],e[0][5]=l[1][5],e[e.length-1][6]=l[0][6],e[e.length-1][7]=l[0][7]}}},this.checkSimplePath=function(e){if("object"!=typeof e||e.constructor!==Array)return!1;for(var t=!0,n=0;n<e.length;n++)if("object"!=typeof e[n]||e[n].constructor!==Array||2!==e[n].length||"number"!=typeof e[n][0]||"number"!=typeof e[n][1]){t=!1;break}return t},this.comparePaths=function(e,t){var n=!0;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)for(var o=0;o<e[r].length;o++)if(e[r][o]!==t[r][o]){n=!1;break}return n}}]); export default core
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcmUvUmVmbGVjdC5qcyIsIm1vZHVsZXMvQXBwbGljYXRpb24uanMiLCJtb2R1bGVzL0F1ZGlvLmpzIiwibW9kdWxlcy9DYW52YXMuanMiLCJtb2R1bGVzL0NsYXNzZXMuanMiLCJtb2R1bGVzL0NvbmZpZy5qcyIsIm1vZHVsZXMvQ29udGFpbmVyLmpzIiwibW9kdWxlcy9Gb250cy5qcyIsIm1vZHVsZXMvSGVscGVycy5qcyIsIm1vZHVsZXMvSW5qZWN0aW9uLmpzIiwibW9kdWxlcy9Sb290LmpzIiwibW9kdWxlcy9TZXJ2aWNlcy5qcyIsIm1vZHVsZXMvU291cmNlLmpzIiwibW9kdWxlcy9UaWNrZXIuanMiLCJwbHVnaW5zL0FuaW1hdGlvbi9BbmltYXRpb24uanMiLCJwbHVnaW5zL0JveC9Cb3guanMiLCJwbHVnaW5zL0NhY2hlL0NhY2hlLmpzIiwicGx1Z2lucy9EcmF3ZXIvRHJhd2VyLmpzIiwicGx1Z2lucy9MYXllcnMvTGF5ZXJzLmpzIiwicGx1Z2lucy9NYXRyaXgvTWF0cml4LmpzIiwicGx1Z2lucy9Nb3VzZS9Nb3VzZS5qcyIsInBsdWdpbnMvT2Zmc2V0L09mZnNldC5qcyIsInBsdWdpbnMvU3R5bGUvU3R5bGUuanMiLCJwbHVnaW5zL1RleHQvVGV4dC5qcyIsInBsdWdpbnMvVHJlZS9UcmVlLmpzIiwic2VydmljZXMvQ2FudmFzL0NhbnZhcy5qcyIsInNlcnZpY2VzL0RlYnVnL0RlYnVnLmpzIiwic2VydmljZXMvRGlzcGF0Y2hlci9EaXNwYXRjaGVyLmpzIiwic2VydmljZXMvS2V5Ym9hcmQvS2V5Ym9hcmQuanMiLCJzZXJ2aWNlcy9LZXlib2FyZC9LZXlib2FyZEV2ZW50LmpzIiwic2VydmljZXMvTW9ycGhpbmUvTW9ycGhpbmUuanMiLCJzZXJ2aWNlcy9PYmplY3RzL0dyYXBoaWNzLmpzIiwic2VydmljZXMvT2JqZWN0cy9PYmplY3RzLmpzIiwic2VydmljZXMvUmVzb3VyY2UvUmVzb3VyY2UuanMiLCJzZXJ2aWNlcy9Tb3VuZC9Tb3VuZC5qcyIsInNlcnZpY2VzL1N0YXRlL1N0YXRlLmpzIiwic2VydmljZXMvVHJlZS9UcmVlLmpzIiwicGx1Z2lucy9BbmltYXRpb24vcGFydHMvQW5pbWF0aW9uLmpzIiwicGx1Z2lucy9BbmltYXRpb24vcGFydHMvTW9ycGguanMiLCJwbHVnaW5zL0JveC9wYXJ0L0JveC5qcyIsInBsdWdpbnMvVGV4dC9DbGFzc2VzL0xpbmVDbGFzcy5qcyIsInBsdWdpbnMvVGV4dC9DbGFzc2VzL1NwYWNlQ2xhc3MuanMiLCJwbHVnaW5zL1RleHQvQ2xhc3Nlcy9UZXh0RWxlbWVudENsYXNzLmpzIiwicGx1Z2lucy9UZXh0L0NsYXNzZXMvV29yZENsYXNzLmpzIiwic2VydmljZXMvRGlzcGF0Y2hlci9wYXJ0cy9GaW5kZXIuanMiLCJzZXJ2aWNlcy9Nb3JwaGluZS9wYXJ0cy9Nb3JwaGluZS5qcyIsInNlcnZpY2VzL09iamVjdHMvcGFydHMvQ2FudmFzLmpzIiwic2VydmljZXMvT2JqZWN0cy9wYXJ0cy9HcmFwaGljc0Fzc2VtYmxlci5qcyIsInNlcnZpY2VzL09iamVjdHMvcGFydHMvR3JhcGhpY3NBc3NlbWJsZXJMYXllci5qcyIsInNlcnZpY2VzL09iamVjdHMvcGFydHMvUGx1Z2luLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9BcmVhLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9DaXJjbGUuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL0RlZmF1bHQuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL0dyb3VwLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9JbWFnZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvTGluZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvUmVjdGFuZ2xlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9TcHJpdGUuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL1RleHQuanMiLCJzZXJ2aWNlcy9SZXNvdXJjZS9jbGFzc2VzL0F1ZGlvQ2xhc3MuanMiLCJzZXJ2aWNlcy9SZXNvdXJjZS9jbGFzc2VzL0ZvbnRDbGFzcy5qcyIsInNlcnZpY2VzL1Jlc291cmNlL2NsYXNzZXMvSW1hZ2VDbGFzcy5qcyIsInNlcnZpY2VzL1Jlc291cmNlL2NsYXNzZXMvUmVzb3VyY2VDbGFzcy5qcyIsInNlcnZpY2VzL1Jlc291cmNlL2NsYXNzZXMvU3ByaXRlQ2xhc3MuanMiLCJzZXJ2aWNlcy9Tb3VuZC9hbmltYXRpb24vQW5pbWF0aW9uUHJvdmlkZXIuanMiLCJzZXJ2aWNlcy9Tb3VuZC9jbGFzc2VzL0F1ZGlvLmpzIiwic2VydmljZXMvU291bmQvY2xhc3Nlcy9Vc2VyQXVkaW9NaXhlci5qcyIsInNlcnZpY2VzL1NvdW5kL2NsYXNzZXMvVXNlckF1ZGlvU291cmNlLmpzIiwic2VydmljZXMvU291bmQvcGFydHMvQXVkaW9Ob2RlLmpzIiwic2VydmljZXMvU291bmQvcGFydHMvQXVkaW9Ob2RlU291bmRzRGlzcGF0Y2hlci5qcyIsInNlcnZpY2VzL1NvdW5kL3BhcnRzL0F1ZGlvU291cmNlLmpzIiwic2VydmljZXMvU291bmQvcGFydHMvRXZlbnQuanMiLCJzZXJ2aWNlcy9Tb3VuZC9wYXJ0cy9FdmVudFByb3ZpZGVyLmpzIiwic2VydmljZXMvU291bmQvZmlsdGVycy9EZWxheU5vZGUuanMiLCJzZXJ2aWNlcy9Tb3VuZC9maWx0ZXJzL0Rlc3RpbmF0aW9uTm9kZS5qcyIsInNlcnZpY2VzL1NvdW5kL2ZpbHRlcnMvR2Fpbk5vZGUuanMiLCJzZXJ2aWNlcy9Tb3VuZC9maWx0ZXJzL0xvd3Bhc3NOb2RlLmpzIiwic2VydmljZXMvU3RhdGUvcGFydHMvUHJvcGVydHkuanMiLCJzZXJ2aWNlcy9TdGF0ZS9wYXJ0cy9TdGF0ZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvZHJhd2Vycy9BcmVhLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0NpcmNsZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvZHJhd2Vycy9EZWZhdWx0LmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0dyb3VwLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0ltYWdlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL0xpbmUuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL2RyYXdlcnMvUmVjdGFuZ2xlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9kcmF3ZXJzL1Nwcml0ZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvZHJhd2Vycy9UZXh0LmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvQXJlYS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvbW9kZWxzL0NpcmNsZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvbW9kZWxzL0RlZmF1bHQuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL21vZGVscy9EZWZhdWx0RnJlZVN0cm9rZU1vZGVsLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvR2xvYmFsQmFja2dyb3VuZE1vZGVsLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvR2xvYmFsU2l6ZU1vZGVsLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvR3JvdXAuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL21vZGVscy9JbWFnZS5qcyIsInNlcnZpY2VzL09iamVjdHMvdHlwZXMvbW9kZWxzL0xpbmUuanMiLCJzZXJ2aWNlcy9PYmplY3RzL3R5cGVzL21vZGVscy9SZWNhdGFuZ2xlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvU3ByaXRlLmpzIiwic2VydmljZXMvT2JqZWN0cy90eXBlcy9tb2RlbHMvVGV4dC5qcyIsInNlcnZpY2VzL1NvdW5kL2FuaW1hdGlvbi9wYXJ0cy9BbmltYXRpb24uanMiLCJzZXJ2aWNlcy9Tb3VuZC9hbmltYXRpb24vcGFydHMvTW9ycGguanMiLCJoZWxwZXJzL0FuaW1hdGlvbi5qcyIsImhlbHBlcnMvQ29sb3IuanMiLCJoZWxwZXJzL0RyYXdlci5qcyIsImhlbHBlcnMvRWFzaW5nLmpzIiwiaGVscGVycy9NYXRyaXguanMiLCJoZWxwZXJzL01vZGVsLmpzIiwiaGVscGVycy9Nb3VzZS5qcyIsImhlbHBlcnMvUGF0aC5qcyJdLCJuYW1lcyI6WyJSZWZsZWN0IiwiQ29yZSIsImYiLCJJbmplY3Rpb24iLCJyZWFkeSIsImkiLCJleHBlY3QiLCJsZW5ndGgiLCJtb2R1bGVzIiwiQnVpbGRDb3JlIiwiZ2V0Um91dGVGdW5jdGlvbiIsInJvdXRlRnVuY3Rpb24iLCJyZXN1bHQiLCJhcHBseSIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsImJpbmQiLCJjb3JlIiwiZ2V0IiwicHJvcGVydHkiLCJwcm9wZXJ0aWVzIiwiaGFzT3duUHJvcGVydHkiLCJuYW1lIiwiRXJyb3IiLCJ0aGlzIiwiY2FjaGUiLCJjcmVhdGUiLCJwYXlsb2FkIiwiYXJncyIsImNvbnN0cnVjdG9yIiwiQXJyYXkiLCJwdXNoIiwiRnVuY3Rpb24iLCJwcm90b3R5cGUiLCJpcyIsInRhcmdldCIsImV4dGVuZCIsImNhbGwiLCJtb2R1bGUiLCJpbmplY3QiLCJkZWZpbmUiLCJ2YWx1ZSIsIndpbmRvdyIsIiRSIiwiQXBwbGljYXRpb24iLCJDYW52YXMiLCJUaWNrZXIiLCJDb25maWciLCJzZWxmIiwiaXNOdW1iZXIiLCJncmVhdGVyIiwidW5kZXIiLCJ3YXRjaCIsInYiLCJmcHMiLCJpc1N0cmluZyIsImVsZW1lbnQiLCIkIiwibiIsImNoYXJBdCIsInN0b3AiLCJzdGFydCIsImNvbmZpZyIsImEiLCJiIiwic2V0IiwiQXVkaW8iLCJjb250ZXh0IiwiQXVkaW9Db250ZXh0IiwiRHJhd1NjZW5lIiwiZGF0ZSIsImZyYW1lIiwicXVldWUiLCJlIiwiY29uc29sZSIsImVycm9yIiwibyIsIm1lc3NhZ2UiLCJvcmRlcmluZyIsInJlc29sdmUiLCJhcnJheSIsInNpemUiLCJyZXNpemVDYiIsInN3aXRjaENiIiwiaWQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsImN0eCIsInNldEF0dHJpYnV0ZSIsIkhUTUxFbGVtZW50Iiwic29ydCIsIndpZHRoIiwiaGVpZ2h0IiwicmVzaXplIiwiQ2xhc3NlcyIsImNscyIsImNmZyIsImluamVjdGlvbiIsImdsb2JhbENsYXNzZXMiLCJ3YXJuIiwiYXBwIiwiYXBwbGljYXRpb25DbGFzc2VzIiwic3lzdGVtQ2xhc3NlcyIsInN5cyIsImdldEFwcGxpY2F0aW9uQ2xhc3NlcyIsImNvbnRhaW5lciIsInNvdXJjZSIsIm1lcmdlIiwiZ2V0U3lzdGVtQ2xhc3NlcyIsIlByb3BlcnR5IiwiY2hlY2tWYWx1ZSIsImNoZWNrQXJyYXkiLCJmdW5jcyIsImNiIiwiYXJnIiwiaXNBcnJheSIsInByb3AiLCJjdXN0b20iLCJlcSIsImlzQm9vbCIsIkNvbnRhaW5lciIsImxpYiIsImRpcmVjdCIsImxpYnJhcnkiLCJzb3VyY2VzIiwibGlzdCIsImRlcGVuZGVuY2llcyIsImNsb25lIiwicHJlZml4a2V5IiwiJCRMT09QIiwibG9vcCIsIiRMT09QIiwiJCRMT09PUCIsInZhbGlkIiwibmV3TGlicmFyeSIsIm5ld0NvbnRhaW5lciIsImNvbnRhaW5lcnMiLCJzb3VyY2Vsb29wIiwic291cmNlcHJlZml4IiwicHJlZml4IiwibmV3Y29udGFpbmVycyIsImZpbmRTb3VyY2VCeVByZWZpeCIsIiQkbm9wcmVmaXgiLCJmaW5kU291cmNlQnlJbmplY3Rpb25OYW1lIiwiaW5qZWN0aW9uTmFtZSIsImhhcyIsIiRjb25zdHJ1Y3RvciIsImQiLCJzcmMiLCJyZXNvbHZlRGlyZWN0SW5qZWN0aW9uIiwiRm9udHMiLCJmb250U3RyaW5nIiwiZm9udCIsImZvbnRzRGVmaW5lZCIsInciLCJ3ZWlnaHQiLCJzIiwic3R5bGUiLCJmaWxlc3RyaW5nIiwic3RyaW5nIiwiZm9ybWF0IiwiZm9ybWF0U3RyIiwidXBkYXRlIiwicGF0aCIsImZhbWlseSIsImZhbWlsaWVzIiwiaW5uZXJIVE1MIiwiaW5BcnJheSIsImNyZWF0ZUVsZW1lbnQiLCJlb3QiLCJ1cmwiLCJ3b2ZmIiwidHRmIiwic3ZnIiwidG9VcHBlckNhc2UiLCJzbGljZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiYXBwZW5kQ2hpbGQiLCJmb3JtYXRzIiwiSGVscGVycyIsImhlbHBlciIsImhlbHBlcnMiLCJzeXNIZWxwZXJzIiwic3lzdGVtIiwiaXNfcHVibGljIiwiZ2V0U3lzdGVtSGVscGVycyIsImRlZmF1bHRzIiwiZ2V0UHVibGljSGVscGVycyIsImNvbiIsInJlc29sdmVkIiwiaW5zdGFuY2UiLCJyZXNvbHZlSW5qZWN0aW9uRGVwZW5kYW5jaWVzIiwidW5zaGlmdCIsIlJvb3QiLCJjcmVhdGVBcHBsaWNhdGlvbiIsImFwcENvbnRhaW5lciIsImFwcHMiLCJhcHBUaWNrZXIiLCJhcHBDYW52YXMiLCJhcHBBdWRpbyIsImFwcENvbmZpZyIsImFwcEZvbnRzIiwiYXBwQXBpIiwiZGVmYXVsdHNMaWJyYXJ5IiwiQVBJIiwiYXBwRGVmYXVsdHMiLCJhcHBTeXNIZWxwZXJzIiwiYXBwUHViSGVscGVycyIsImFwcENsYXNzZXMiLCJjbGFzc2VzIiwiYXBwU3lzQ2xhc3NlcyIsImFwcFNlcnZpY2VzIiwic2VydmljZXMiLCJnZXRBcHBsaWNhdGlvblNlcnZpY2VzIiwibCIsImFwcGxpY2F0aW9uIiwiU2VydmljZXMiLCJzZXJ2aWNlIiwic2VydmljZU5hbWUiLCJwbHVnaW4iLCJwbHVnaW5OYW1lIiwicGx1Z2lucyIsImdldFBsdWdpbk1hbmFnZXIiLCJQbHVnaW5zIiwiZWFjaCIsInNlcnZpY2VDbGFzc2VzIiwicGx1Z2luc0NsYXNzZXMiLCJzdmMiLCJwbHVnaW5DbGFzc05hbWUiLCJjbGFzc05hbWUiLCJfaGVscGVycyIsIl9zeXNDbGFzc2VzIiwiX2VuZ2luZURlZmF1bHRzIiwiX3NlcnZpY2UiLCJfcGx1Z2luIiwiX3NlcnZpY2VzIiwiX3NlcnZpY2VzQ2xhc3NlcyIsIl9zZXJ2aWNlc1BsdWdpbnMiLCJfc2VydmljZXNQbHVnaW5zQ2xhc3NlcyIsIl9wbHVnaW5zIiwiX3BsdWdpbkNsYXNzZXNDb250YWluZXIiLCJzZXJ2aWNlQ2xhc3Nlc0NvbnRhaW5lciIsIl9zZXJ2aWNlc1NlcnZpY2VTb3VyY2UiLCJzMiIsInAiLCJwY2wiLCJTb3VyY2UiLCJzdHJpcFByZWZpeCIsInBmeCIsImNoZWNrQ2FjaGUiLCJjaGVjayIsInN0cmlwTmFtZSIsInN0ciIsImV2ZW50IiwiX2NhbGxfYXJncyIsImV2ZW50Q2IiLCJmcmFtZUR1cmF0aW9uIiwidG9GaXhlZCIsImRyYXciLCJ0aWNrIiwiRGF0ZSIsImNsZWFySW50ZXJ2YWwiLCJpbnRlcnZhbCIsIm9uIiwiZnVuYyIsInNldEludGVydmFsIiwibnVtYmVyIiwiQW5pbWF0aW9uIiwiRGVidWciLCJmaW5kQ29tcGV0aXRvciIsImFuaW1hdGlvbiIsIiQkU0VMRiIsImNvbXBldGl0b3IiLCJhbmltYXRpb25zIiwiYWN0aXZlIiwiZG9uZSIsImhhc1Byb3BlcnR5IiwiQ2hlY2tBbmltYXRpb25RdWV1ZSIsIl9hbmltYXRpb25zIiwicHJvcHMiLCJjb21wZXRpdG9ycyIsIkNyZWF0ZUFuaW1hdGlvblR5cGUxIiwiZHVyYXRpb24iLCJlYXNpbmciLCJleHRlbnNpb24iLCJwYWlyIiwibW9ycGhzIiwic3RhY2siLCJtb3JwaCIsIkNyZWF0ZUFuaW1hdGlvblR5cGUyIiwicGFpcnMiLCJhcmcyIiwiYXJnMyIsInR5cGUiLCJtb3JwaF9zdGFjayIsIml0ZW0iLCJhbmltYXRlZCIsInNldHRlciIsImFwcGxpZXIiLCJvYmplY3QiLCJleHRyYWN0TW9ycGgiLCJyZWdpc3RlciIsImFyZzEiLCJhcmc0IiwiQm94IiwiQm94V3JhcHBlckZ1bmMiLCJib3giLCJwdXJnZSIsInBhcmVudCIsIkNhY2hlIiwidmFsdWVzIiwicmVsZXZhbnQiLCJEcmF3ZXIiLCJtYXRyaXgiLCJiZWZvcmUiLCJhZnRlciIsIkxheWVycyIsImxheWVycyIsIjAiLCJsYXllciIsInZhbCIsInBhcmVudF9sYXllcl9leHQiLCJwbGFjZSIsIiQkTEFZRVJTRUFSQ0hWQUxVRSIsInNwbGljZSIsInJlbW92ZSIsImZvckVhY2giLCJNYXRyaXgiLCJNYXRyaXhXcmFwcGVyIiwiTW91c2UiLCJNb3VzZUhlbHBlciIsIkRpc3BhdGNoZXIiLCJUcmVlIiwiR2V0RXZlbnRBcnJheSIsImNhbGxiYWNrcyIsImRyYWdtb3ZlIiwiZHJhZ3N0YXJ0IiwiZHJhZ2VuZCIsIm1vdXNlbW92ZSIsIm1vdXNldXAiLCJtb3VzZWRvd24iLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSIsImRpc2FibGVkIiwibW91c2VDaGVja0Z1bmN0aW9uIiwiJE9GRiIsIiQkT0ZGIiwiJCRNT1VTRUZVTkNTRUFSQ0giLCJpbmRleCIsImN1cnNvciIsImN1cnNvclRyYW5zZm9ybUZ1bmN0aW9uIiwiYXBwbHlDdXJzb3JUcmFuc2Zvcm0iLCJoYXNFdmVudCIsInByb3BhZ2F0ZSIsImV2ZW50T2JqIiwibW91c2UiLCJfZXZlbnRPYmoiLCJvcmlnaW5hbFRhcmdldCIsIiQkTU9VU0VQUk9QQUdBVElPTlNFVFRFUiIsIk9mZnNldCIsIk9iamVjdE9mZnNldEZ1bmN0aW9uIiwicG9zaXRpb24iLCJwYXJlbnRfb2Zmc2V0Iiwib2Zmc2V0IiwiU3R5bGUiLCJHZXRTZXR0ZXJGdW5jdGlvbiIsIm9sZCIsIkdldEdldHRlckZ1bmN0aW9uIiwiZ2V0dGVyIiwiU3R5bGVUeXBlMSIsInNldHRlcnMiLCJTdHlsZVR5cGUyIiwic2V0dGVyc3RhY2siLCJTdHlsZVR5cGUzIiwiZ2V0dGVycyIsImNhbGxiYWNrIiwiVGV4dCIsIk1vZGVsSGVscGVyIiwiYXBwbHlUbyIsImxpbmVzIiwid29yZEJ5V29yZFJlZ0V4cCIsImxpbWl0cyIsIkluZmluaXR5Iiwid29yZHMiLCJfdyIsImgiLCJmb3JjZWQiLCJwaWVjZXMiLCJtYXRjaCIsImxpbmVXaWR0aCIsImZvbnRTaXplIiwibGluZUhlaWdodCIsImZvbnRXZWlnaHQiLCJjb2xvciIsImZvbnRTdHlsZSIsInVzZXJuZXdsaW5lIiwid29yZCIsInRleHRCbG9ja0hlaWdodCIsInRleHRCbG9ja1dpZHRoIiwiZm9yRWFjaExpbmUiLCJjaGVja1RyZWUiLCIkJFRSRUVTRUFSQ0hWQUxVRSIsInRyZWVWaW9sYXRpb24iLCJvYmplY3Rfb2xkX3BhcmVudCIsIm9iamVjdF90cmVlX2V4dCIsIm9sZF9vYmplY3RfcGFyZW50X2xheWVycyIsIm9iamVjdF9sYXllciIsImFwcGVuZCIsImdyb3VwIiwiY29tcGFyZU9uUmVzaXplIiwic3VjY2VzcyIsInh1bml0cyIsInl1bml0cyIsImRpbW1zIiwiX3BXIiwicFciLCJfcEgiLCJwSCIsInJlc2l6ZVRPIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInBhcmVudE5vZGUiLCJzdHlsZXMiLCJnZXRDb21wdXRlZFN0eWxlIiwicGFyc2VJbnQiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiTWF0aCIsImZsb29yIiwiR2V0Q2FudmFzT2Zmc2V0IiwieCIsIm9mZnNldFByb3AiLCJpc05hTiIsIm9mZnNldFBhcmVudCIsIldpbmRvd1Jlc2l6ZUNhbGxiYWNrIiwib3V0cHV0IiwiUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkiLCJSQ2FudmFzUmVzaXplRXZlbnQiLCJDYW52YXNTd2l0Y2hDYWxsYmFjayIsIlJDYW52YXNTd2l0Y2hFdmVudCIsIkdldENhbnZhc0V2ZW50QXJyYXkiLCJjYW52YXNFdmVudENhbGxiYWNrcyIsImRhdGEiLCJHZXRNb3VzZVJlbGF0aXZlUG9zaXRpb24iLCJwYWdlWCIsInNjcm9sbCIsInBhZ2VZIiwiUkNhbnZhc01vdXNlIiwicGFnZSIsInNjZWVuIiwiUkNhbnZhc01vdXNlRXZlbnQiLCJvcmlnaW5hbCIsImNhbnZhcyIsInVuaXRzIiwiY2FudmFzcmVzaXplIiwiY2FudmFzc3dpdGNoIiwibGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJwYWdlWE9mZnNldCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbExlZnQiLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsIlJlc29sdmVFdmVudCIsImVycm9yQ2IiLCJtZXNzYWdlQ2IiLCJHZXRNZXNzYWdlIiwidG9TdHJpbmciLCJtYXRjaGVzIiwicmVnZXhwIiwibWF0Y2huYW1lIiwicmVnZXhwbmFtZSIsInJlcGxhY2UiLCJ3YXJuaW5ncyIsIkNhbnZhc1Jvb3QiLCJGaW5kZXIiLCJEZWZhdWx0UkV2ZW50IiwiX3R5cGUiLCJfdGFyZ2V0IiwiX29yaWdpbmFsVGFyZ2V0Iiwic3RvcFByb3BhZ2F0aW9uIiwicHJvcGFnYXRlZCIsIiQkUFJPUEFHQVRJT05TRUFSQ0giLCJnZXRFdmVudEJ5VHlwZSIsIiQkUkVTRVRUQVJHRVQiLCJNb3VzZUV2ZW50IiwiY3VycmVudCIsIkRyYWdFdmVudCIsImRyYWciLCJkZWx0YSIsIkRpc3BhdGNoIiwidGFyZ2V0TW91c2UiLCJyZXNvbHZlRXZlbnRCeVR5cGUiLCJwcmV2aW91cyIsInJlc29sdmVEcmFnU3RhcnQiLCJkcmFnZ2VkIiwicmVzb2x2ZURyYWdFbmQiLCJEaXNwYXRjaEV2ZW50cyIsIiQkTU9VU0VTRUFSQ0giLCJVcGRhdGVUYXJnZXRzIiwiZXZlbnREaXNwYXRjaGVyVGljayIsImNoZWNrZWQiLCJmb2N1c2VkIiwiS2V5Ym9hcmQiLCJPbkFwcFRpY2siLCJnZXRRdWV1ZUZ1bmMiLCJrZXljb2RlIiwia2V5Q29kZSIsImJ1aWxkIiwiZW5hYmxlZCIsImtleWRvd24iLCJjb2RlIiwia2V5dXAiLCJkaXNhYmxlIiwiZW5hYmxlIiwiYyIsImNhbnZhc0NsaWNrZWQiLCIkb24iLCJLZXlib2FyZEV2ZW50IiwiY3RybFByZXNzZWQiLCJhbHRQcmVzc2VkIiwic2hpZnRQcmVzc2VkIiwiY3RybEtleSIsImFsdEtleSIsInNoaWZ0S2V5Iiwic2hpZnQiLCJhbHQiLCJjdHJsIiwiTW9ycGhpbmUiLCJFYXNpbmdzIiwibW9ycGhpbmVzIiwiZW5kIiwicnB0IiwiZWZ1bmMiLCJtb3JwaGluZSIsInRpY2tGIiwiJG0iLCJwcm9jZXNzTW9ycGhpbmVzIiwiZ2V0VGltZSIsIl9tb3JwaGluZXMiLCJHcmFwaGljcyIsInJlc29sdmVkX3BsdWdpbnMiLCJkZWZpbmVUeXBlIiwidCIsImRlZmluZU9iamVjdCIsIm1hdGNoVHlwZSIsIndyYXAiLCJPYmplY3RzIiwiSW5qZWN0QnlUeXBlIiwibGluZSIsInJlY3QiLCJjaXJjbGUiLCJpbWFnZSIsInNwcml0ZSIsInRleHQiLCJhcmVhIiwicm9vdCIsIlJlc291cmNlIiwiR2V0UmVzb3VyY2VCeVVSTCIsInNlYXJjaCIsImV4aXN0ZWQiLCJsb2FkQ291bnRlciIsImFsbCIsInByZWxvYWRSZXF1ZXN0IiwiaW1hZ2VzIiwidGVzdCIsImF1ZGlvIiwiZm9udHMiLCJjQkNvbnRhaW5lciIsInNwcml0ZXMiLCJhdWRpb3MiLCJyZXF1ZXN0IiwicHJlbG9hZCIsInByZWxvYWRCeVVybCIsImFib3J0IiwiWE1MSHR0cFJlcXVlc3QiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZSIsInJlc3BvbnNlVGV4dCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCIsImxvYWQiLCJhZGQiLCJvZmYiLCJuYXJyYXkiLCIkJFNFQVJDSCIsImNvbmNhdCIsInVwZGF0ZVJlc291cmNlcyIsInRpbWUiLCJsb2FkZWQiLCJTb3VuZCIsImRlc3RpbmF0aW9uIiwic291bmRzIiwic291bmRjb3VudCIsImNoYW5uZWxjb3VudCIsImNoYW5uZWxzIiwiJCRERVNUSU5BVElPTiIsInNhbXBsZSIsImNoYW5uZWwiLCJvdXQiLCJjb25uZWN0IiwiYnl1cmwiLCJTdGF0ZSIsIlBhcnNlQWRkcmVzcyIsImFkZHJlc3MiLCJzdGF0ZSIsInN0YXRlcyIsIndoZW4iLCJyb290RHJhd2VyIiwicm9vdFN0eWxlIiwiY2xlYXIiLCJkcmF3ZXIiLCJkcmF3R3JhcGhpY3NUcmVlIiwiY2xlYXJSZWN0Iiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJBbmltYXRpb25IZWxwZXIiLCJSZXNvbHZlIiwic3RlcFR5cGVTdHIiLCJzdGVwc0NiIiwicHJvZ3Jlc3MiLCJjb21wbGV0ZVR5cGVTdHIiLCJyZXN1bHRzIiwiX3N0YWNrIiwidGlja19mdW5jdGlvbiIsImdldFRpY2tGdW5jdGlvbiIsImNvbXBsZXRlIiwibSIsIm5vcm1hbGl6ZUNvbmZpZyIsInN0ZXAiLCJNb3JwaCIsIlNldFN0YXJ0VmFsdWUiLCJTZXRFbmRWYWx1ZSIsIm9iaiIsIm9yZCIsImFwbCIsIm1hcmdpbiIsInkiLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJUZXh0TGluZUNsYXNzIiwiRHJhd2VySGVscGVyIiwiZ2V0V2lkdGgiLCJ3aWR0aFVwZGF0ZWQiLCJzcGFjZSIsIm1lYXN1cmVUZXh0IiwiX2FyciIsInByb3BlcnR5Q2hhbmdlZCIsIm9uUHJvcGVydHlDaGFuZ2UiLCJUZXh0U3BhY2VDbGFzcyIsImV4dHJhY3RGb250U3RyaW5nIiwiVGV4dEVsZW1lbnRDbGFzcyIsIkNvbG9ySGVscGVyIiwiY29sb3JUb0FycmF5IiwiVGV4dFdvcmRDbGFzcyIsInNhdmUiLCJmaWxsU3R5bGUiLCJmaWxsVGV4dCIsInJlc3RvcmUiLCJDaGVja0VsZW1lbnQiLCJfcmVzdWx0IiwibW91c2VleHQiLCJUaWNrIiwicGFzdWVkIiwic3RhcnRfdGltZSIsInJlcGVhdCIsInJlcGVhdENvdW50IiwicGF1c2UiLCJwYXVzZWQiLCJkdXIiLCJlYXNlIiwiR3JhcGhpY3NBc3NlbWJsZXIiLCJTZXRTaXplIiwicGlwZSIsImNvbXBvc2UiLCJyZXNpemVkIiwiYm94RXh0IiwiZHJhd0ltYWdlIiwib3JkZXIiLCJ1cGRhdGVGdW5jIiwiYm94UHJvdmlkZXIiLCJHcmFwaGljc0Fzc2VtYmxlckxheWVyIiwidXBkYXRlQ2FudmFzIiwiUGx1Z2luIiwiYXBwbGllcyIsInR5cGVzIiwidGVtcCIsIkFyZWFPYmplY3RDbGFzcyIsIkNpcmNsZU9iamVjdENsYXNzIiwiY2lyY2xlQ2hlY2tGdW5jdGlvbiIsIkRlZmF1bHRPYmplY3RUeXBlIiwiR3JvdXBPYmplY3RDbGFzcyIsIkltYWdlT2JqZWN0Q2xhc3MiLCJyZWN0Q2hlY2tGdW5jdGlvbiIsIkxpbmVPYmplY3RDbGFzcyIsIlJlY3RhbmdsZU9iamVjdENsYXNzIiwicmVjdEN1cnNvclRyYW5zZm9ybUZ1bmN0aW9uIiwiU3ByaXRlT2JqZWN0Q2xhc3MiLCJUZXh0T2JqZWN0Q2xhc3MiLCJjcmVhdGVBdWRpbyIsInhociIsInJlc3BvbnNlVHlwZSIsIm9ubG9hZCIsInN0YXRlRnVuYyIsInJlc29sdmVFdmVudEZ1bmMiLCJvbmVycm9yIiwiX3VybCIsInJlc29sdmVGdW5jIiwic2V0U3RhdGVGdW5jIiwiRm9udCIsImdldEZvbnQiLCJmb250TG9hZGVyRWxlbWVudCIsImFwcGVuZGVkIiwicmVwZWF0VGlsbEVycm9yIiwiaW5pdGlhbCIsImZvbnRGYW1pbHkiLCJjaGVja0ludGVydmFsIiwicmVtb3ZlQ2hpbGQiLCJpbm5lclRleHQiLCJyIiwiSW1hZ2UiLCJDcmVhdGVJbWFnZSIsInNldFN0YXR1cyIsInN0YXR1cyIsImNiQ29udGFpbmVyIiwicmVzb2x2ZUZ1bmN0aW9uUGFzc2VkIiwibG9hZGluZyIsImluaXQiLCJTcHJpdGUiLCJDcmVhdGVDYW52YXNBcnJheSIsImVsZW1zIiwiZnJhbWVzIiwiU2V0Q2FudmFzU2l6ZSIsImZyYW1lSGVpZ2h0Iiwicm91bmQiLCJmcmFtZVdpZHRoIiwiX2N0eCIsInRyYW5zbGF0ZSIsInNldFN0YXVzRnVuYyIsInUiLCJldmVudEYiLCJzdGF0dXNGIiwic3ByaXRlV2lkdGgiLCJzcHJpdGVIZWlnaHQiLCJwbGF5Iiwicm93cyIsImNlaWwiLCJzcXJ0IiwiY3VycmVudFgiLCJjdXJyZW50WSIsIl90aW1lIiwiQW5pbWF0aW9uUHJvdmlkZXIiLCJhbmltYXRlIiwiZXZlbnRBcmdzIiwiY3JlYXRlQW5pbWF0aW9uTW9ycGgiLCJmaWx0ZXIiLCJub3JtYWxpemVyIiwiZXZlbnRzIiwibm9kZW5hbWUiLCJ0ZXJtaW5hdGUiLCIkJFNPVVJDRSIsImZpbHRlcnMiLCJjdHlwZSIsIm91dHNvdXJjZSIsIlVzZXJBdWRpb01peGVyIiwiYXJnRiIsImZpbHRlcnNDZmciLCJub2RlIiwiJCRBVURJT05PREUiLCJpbnB1dCIsIlVzZXJBdWRpb1NvdXJjZSIsImNiQXJncyIsImNvbm5lY3RDYkFyZ3MiLCJtaXhlciIsIkF1ZGlvTm9kZSIsIm5leHROb2RlIiwiYnVpbGRGIiwic291bmQiLCJkaXNjb25uZWN0IiwiX2lucEFycmF5IiwiX2lucEFyciIsImlucCIsIm1vZGVsIiwiZGVmVmFsIiwibm9ybWxpemVyIiwiQXVkaW9Ob2RlU291bmREaXNwYXRjaGVyIiwicmVjb25uZWN0IiwiQXVkaW9Tb3VyY2UiLCJyZXNvdXJjZSIsImJ1ZmZlciIsImRlY29kZUF1ZGlvRGF0YSIsImNyZWF0ZUJ1ZmZlclNvdXJjZSIsIkV2ZW50Iiwic3RhdGV2YWwiLCJhcmdGdW5jdCIsImV2ZW50TmFtZSIsImlzU3RhdGVFdmVudCIsIkV2ZW50UHJvdmlkZXIiLCJEZWxheU5vZGUiLCJ0aW1lQ0ZHIiwiZm9yY2VDRkciLCJnbG9iYWxHYWluIiwiY3JlYXRlR2FpbiIsImRlbGF5IiwiY3JlYXRlRGVsYXkiLCJmZWVkYmFjayIsImJxIiwiY3JlYXRlQmlxdWFkRmlsdGVyIiwiZ2FpbiIsImZyZXF1ZW5jeSIsImRlbGF5VGltZSIsImZvcmNlIiwiRGVzdGluYXRpb25Ob2RlIiwiR2Fpbk5vZGUiLCJ2b2x1bWUiLCJMb3dwYXNzTm9kZSIsImJxZiIsIm9uc2V0IiwiR2V0UHJvcGVydHlDYWxsYmFjayIsImRlZiIsIkFyZWFPYmplY3REcmF3ZXIiLCJQYXRoSGVscGVyIiwiVXBkYXRlRmlsbCIsInhzaGlmdCIsInlzaGlmdCIsImludGVycG9sYXRpb24iLCJpbnRlcnBvbGF0ZWQiLCJpbnRlcnBvbGF0ZSIsImRyYXdCZXppZXJQYXRoRmlsbCIsImRyYXdMaW5lUGF0aEZpbGwiLCJVcGRhdGVTdHJva2UiLCJjbG9uZUFycmF5IiwiZHJhd0xpbmVQYXRoIiwiZHJhd0JlemllclBhdGgiLCJVcGRhdGVCZyIsImRyYXdMaW5lQmdDbGlwUGF0aCIsImFzc2VtYmxlciIsImRyYXdCZXppZXJCZ0NsaXBQYXRoIiwic3Ryb2tlZml4IiwiaW50ZXJwb2xhdGlvbmZpeCIsImZpeCIsImJveENvbnRhaW5lciIsImFuY2hvciIsIm1pbngiLCJtaW55IiwibWF4eCIsIm1heHkiLCJhYnMiLCJ0cmFuc2Zvcm0iLCJDaXJjbGVPYmplY3REcmF3ZXIiLCJiZWdpblBhdGgiLCJzdHJva2VTdHlsZSIsInNldExpbmVEYXNoIiwiYXJjIiwiUEkiLCJzdHJva2UiLCJmaWxsIiwiY2xpcCIsImJncG9zaXRpb24iLCJiZ3NpemUiLCJiZyIsImJnd2lkdGgiLCJiZ2hlaWdodCIsImJncG9zaXRpb254IiwiYmdwb3NpdGlvbnkiLCJyYWRpdXMiLCJEZWZhdWx0T2JqZWN0RHJhd2VyIiwib2JqZWN0TWF0cml4IiwiR3JvdXBPYmplY3REcmF3ZXIiLCJvYm94IiwiZ2xvYmFsQWxwaGEiLCJvZHJhd2VyIiwib3N0eWxlIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwiSW1hZ2VPYmplY3REcmF3ZXIiLCJMaW5lT2JqZWN0RHJhd2VyIiwiVXBkYXRlQ2FudmFzIiwicmVxdWlyZV91cGRhdGUiLCJSZWN0YW5nbGVPYmplY3REcmF3ZXIiLCJub3JtYWxpemVSYWRpdXMiLCJib3hFeHRlbnNpb24iLCJoYWxmYm94IiwiZHJhd1JlY3RQYXRoIiwiayIsInN0cm9rZUNvbG9yIiwic3Ryb2tlV2lkdGgiLCJjYXAiLCJsaW5lQ2FwIiwibW92ZVRvIiwibGluZVRvIiwiY3VydmVNb2RpZmllciIsImJlemllckN1cnZlVG8iLCJzdHJva1N0eWxlIiwiaGFzUmFkaXVzIiwiaGFzU3Ryb2tlIiwibW9ub1N0cm9rZSIsImRDb2xvciIsImRXaWR0aCIsImRTdHlsZSIsIlNwcml0ZU9iamVjdERyYXdlciIsInJlYWRTcHJpdGVTdHJpbmciLCJUZXh0T2JqZWN0RHJhd2VyIiwiVXBkYXRlVGV4dExheWVyIiwiYWxpZ24iLCJ0b3BTcGFuIiwiZ2V0Rm9udEZpbGUiLCJfc3R5bGUiLCJmc3R5bGUiLCJkcmF3VGV4dCIsIkFyZWFPYmplY3RNb2RlbCIsIlN5bmNQYXRoUHJvcGVydHkiLCJjaGVja1NpbXBsZVBhdGgiLCJjb252ZXJ0U2ltcGxlUGF0aCIsImNvbnZlcnRDb21wbGV4UGF0aCIsIkNpcmNsZU9iamVjdE1vZGVsIiwiaXNDb2xvciIsImFycmF5VG9Db2xvciIsIm5vcm1hbGl6ZSIsInZhbGlkTnVtZXJpY1ZhbHVlIiwidmFsaWROdW1lcmljQXJyYXkiLCJEZWZhdWx0T2JqZWN0TW9kZWwiLCJlbmRBcnJheSIsInJhZCIsInJhZDEiLCJyYWQyIiwidmFsaWRCbGVuZGluZyIsIkRlZmF1bHRGcmVlU3Ryb2tlTW9kZWwiLCJHbG9iYWxCYWNrZ3JvdW5kTW9kZWwiLCJTeW5jQmdQcm9wZXJ0eSIsImlzU3ByaXRlU3RyaW5nIiwiZGVmQmdQb3N2YWwiLCJfcmVzIiwiZGVmQmdTaXplVmFsIiwiR2xvYmFsU2l6ZU1vZGVsIiwiR3JvdXBPYmplY3RNb2RlbCIsIkltYWdlT2JqZWN0TW9kZWwiLCJMaW5lT2JqZWN0TW9kZWwiLCJSZWN0YW5nbGVPYmplY3RNb2RlbCIsImN1dXJlbnQiLCJTcHJpdGVPYmplY3RNb2RlbCIsIlRleHRPYmplY3RNb2RlbCIsInN5c3RlbUZvbnQiLCJUaWNrVmFsIiwibG9jcyIsImxvY2UiLCJlbmR2YWwiLCJzdGFydHZhbCIsImRpZmZlcmVuY2UiLCJDb2xvciIsIk5vcm1hbGl6ZUNvbG9yQXJyYXkiLCJQYXJzZUNvbG91ciIsImV4ZWMiLCJ0ZXh0RHJhd2VyQ29udGV4dCIsImV4dHJhY3QiLCJ4MSIsInkxIiwieDIiLCJ5MiIsImNsb3NlUGF0aCIsImF4MSIsImF5MSIsImF4MiIsImF5MiIsInN0cm9rZUNhcCIsImRyYXdSZWN0RmlsbCIsImRyYXdSZWN0U3Ryb2tlIiwiX3giLCJfeSIsIkVhc2luZyIsImVhc2luZ3MiLCJfIiwibGluZWFyIiwibGluZWFyU29mdCIsInRzIiwidGMiLCJsaW5lYXJTb2Z0T3V0IiwibGluZWFyU29mdEluIiwiZWFzZUluUXVhZCIsImVhc2VPdXRRdWFkIiwiZWFzZUluT3V0UXVhZCIsImVhc2VJbkN1YmljIiwiZWFzZU91dEN1YmljIiwiZWFzZUluT3V0Q3ViaWMiLCJlYXNlSW5RdWFydCIsImVhc2VPdXRRdWFydCIsImVhc2VJbk91dFF1YXJ0IiwiZWFzZUluUXVpbnQiLCJlYXNlT3V0UXVpbnQiLCJlYXNlSW5PdXRRdWludCIsImVhc2VJblNpbmUiLCJjb3MiLCJlYXNlT3V0U2luZSIsInNpbiIsImVhc2VJbk91dFNpbmUiLCJlYXNlSW5FeHBvIiwicG93IiwiZWFzZU91dEV4cG8iLCJlYXNlSW5PdXRFeHBvIiwiZWFzZUluQ2lyYyIsImVhc2VPdXRDaXJjIiwiZWFzZUluT3V0Q2lyYyIsImVhc2VJbkJhY2siLCJlYXNlT3V0QmFjayIsImVhc2VJbk91dEJhY2siLCJlYXNlT3V0Qm91bmNlIiwiR3JhcGhpY3NUcmFuc2Zvcm1NYXRyaXgiLCJtdWx0aXBseSIsIm0xIiwibTIiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwiYTYiLCJpbnZlcnQiLCJoaXN0b3J5Iiwicm90YXRlIiwic2luQSIsImNvc0EiLCJpbnZlcnNpb24iLCJza2V3IiwidGFuIiwic2NhbGUiLCJpbnZlcnRlZCIsImludmVydEdsb2JhbCIsImdsb2JhbEludmVyc2lvbiIsImdsb2JhbEludmVyc2lvbk1hdHJpeCIsImFuZ2xlIiwidGFuQSIsInRhbkIiLCJnbG9iYWxDdXJzb3JQcm9qZWN0aW9uIiwiY3Vyc29yUHJvamVjdGlvbiIsIm9yaWdpbiIsIl90cmFuc2xhdGUiLCJfb3JpZ2luIiwiTW9kZWwiLCJjbG9uZUhhc2giLCJoYXNoIiwic3RyaW5naWZ5IiwiZXZhbCIsImJsZW5kaW5ncyIsInNwcml0ZV9yZWdleHAiLCJjaXJjbGVVc2VyQ2hlY2tGdW5jdGlvbiIsImNvb3JkcyIsImN4IiwiY3kiLCJzcXVhcmVVc2VyQ2hlY2tGdW5jdGlvbiIsImNlbnRlciIsIlBhdGgiLCJnZXRDb250cm9sUG9pbnRzIiwieDAiLCJ5MCIsImQwMSIsImQxMiIsImZhIiwiZmIiLCJwMXgiLCJwMXkiLCJwMngiLCJwMnkiLCJzbW9vdGhpbmciLCJjbG9zZWQiLCJwcmV2IiwibWlkIiwibmV4dCIsInB0cyIsInMxIiwiX3NlZ21lbnQiLCJkZWVwY2hlY2siLCJjb21wYXJlUGF0aHMiLCJwYXRoMSIsInBhdGgyIl0sIm1hcHBpbmdzIjoiQUFHQSxRQUFBQSxZQWNBLFFBQUFDLE1BQUFDLEdBQ0EsR0FBQUMsV0FBQUQsRUFFQSxLQUFBLEdBREFFLElBQUEsRUFDQUMsRUFBQSxFQUFBQSxFQUFBQyxPQUFBQyxPQUFBRixJQUNBLElBQUFHLFFBQUFGLE9BQUFELElBQUEsQ0FDQUQsR0FBQSxDQUNBLE9BTUEsTUFIQUEsSUFDQUssWUFFQVIsS0FHQSxRQUFBUyxrQkFBQVIsR0FDQSxNQUFBLFNBQUFTLGlCQUNBLEdBQUFDLEdBQUFWLEVBQUFXLE1BQUFiLFFBQUFjLFVBQ0EsT0FBQUMsVUFBQUgsRUFBQVosUUFDQVksR0FDQUksS0FBQUMsTUE2Q0EsUUFBQVIsYUFDQVIsS0FBQWlCLElBQUEsT0FDQSxLQUFBLEdBQUFDLEtBQUFDLFlBQ0FBLFdBQUFDLGVBQUFGLEtBQ0FGLEtBQUFFLEdBQUFDLFdBQUFELElBS0EsUUFBQWhCLFdBQUFELEdBQ0EsR0FBQSxrQkFBQUEsS0FBQUEsRUFBQW9CLEtBQUEsS0FBQSxJQUFBQyxPQUFBLGtFQUNBZixTQUFBTixFQUFBb0IsTUFBQUUsSUFDQSxJQUFBQyxHQUFBLElBRUFELE1BQUFFLE9BQUEsU0FBQUMsR0FDQSxHQUFBQyxJQUFBLEtBQ0EsSUFBQUQsR0FBQSxnQkFBQUEsSUFBQUEsRUFBQUUsY0FBQUMsTUFDQSxJQUFBLEdBQUF6QixHQUFBLEVBQUFBLEVBQUFzQixFQUFBcEIsT0FBQUYsSUFDQXVCLEVBQUFHLEtBQUFKLEVBQUF0QixHQUdBLE9BQUEsS0FBQTJCLFNBQUFDLFVBQUFqQixLQUFBSCxNQUFBWCxFQUFBMEIsS0FHQUosS0FBQU4sSUFBQSxXQUNBLEdBQUFPLEVBQUEsTUFBQUEsRUFFQSxJQUFBYixHQUFBWSxLQUFBRSxPQUFBYixNQUFBVyxLQUFBVixVQUFBLEdB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LEdBQ0E3NEIsRUFBQUEsRUFBQTdKLE9BQUEsR0FBQSxHQUFBMGlDLEVBQUEsR0FBQSxNQU1BemhDLEtBQUE0M0IsZ0JBQUEsU0FBQWh2QixHQUNBLEdBQUEsZ0JBQUFBLElBQUFBLEVBQUF2SSxjQUFBQyxNQUFBLE9BQUEsQ0FJQSxLQUFBLEdBRkFvaEMsSUFBQSxFQUVBN2lDLEVBQUEsRUFBQUEsRUFBQStKLEVBQUE3SixPQUFBRixJQUNBLEdBQ0EsZ0JBQUErSixHQUFBL0osSUFBQStKLEVBQUEvSixHQUFBd0IsY0FBQUMsT0FBQSxJQUFBc0ksRUFBQS9KLEdBQUFFLFFBQ0EsZ0JBQUE2SixHQUFBL0osR0FBQSxJQUFBLGdCQUFBK0osR0FBQS9KLEdBQUEsR0FDQSxDQUNBNmlDLEdBQUEsQ0FDQSxPQUlBLE1BQUFBLElBR0ExaEMsS0FBQTJoQyxhQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQXppQyxJQUFBLENBRUEsSUFBQXdpQyxFQUFBN2lDLFNBQUE4aUMsRUFBQTlpQyxPQUNBLE9BQUEsQ0FHQSxLQUFBLEdBQUFGLEdBQUEsRUFBQUEsRUFBQStpQyxFQUFBN2lDLE9BQUFGLElBQ0EsSUFBQSxHQUFBcUQsR0FBQSxFQUFBQSxFQUFBMC9CLEVBQUEvaUMsR0FBQUUsT0FBQW1ELElBQ0EsR0FBQTAvQixFQUFBL2lDLEdBQUFxRCxLQUFBMi9CLEVBQUFoakMsR0FBQXFELEdBQUEsQ0FDQTlDLEdBQUEsQ0FDQSxPQUtBLE1BQUFBIiwiZmlsZSI6InJlZmxlY3QtZW5naW5lLWVzNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNC8wOC8yMDE3LlxyXG4gKi9cclxuZnVuY3Rpb24gUmVmbGVjdCgpIHtcclxufVxyXG5cclxudmFyIG1vZHVsZXMgPSB7fSxcclxuICAgIHByb3BlcnRpZXMgPSB7fSxcclxuICAgIGNvcmUgPSBuZXcgUmVmbGVjdCgpLFxyXG4gICAgZXhwZWN0ID1cclxuICAgICAgICBbXHJcbiAgICAgICAgICAgICdBcHBsaWNhdGlvbicsICdBdWRpbycsICdDYW52YXMnLCAnQ2xhc3NlcycsXHJcbiAgICAgICAgICAgICdDb25maWcnLCAnQ29udGFpbmVyJywgJ0ZvbnRzJywgJ0hlbHBlcnMnLFxyXG4gICAgICAgICAgICAnSW5qZWN0aW9uJywgJ1Jvb3QnLCAnU2VydmljZXMnLCAnU291cmNlJyxcclxuICAgICAgICAgICAgJ1RpY2tlcidcclxuICAgICAgICBdO1xyXG5cclxuZnVuY3Rpb24gQ29yZShmKSB7XHJcbiAgICBuZXcgSW5qZWN0aW9uKGYpO1xyXG4gICAgdmFyIHJlYWR5ID0gdHJ1ZTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwZWN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKCFtb2R1bGVzW2V4cGVjdFtpXV0pIHtcclxuICAgICAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHJlYWR5KSB7XHJcbiAgICAgICAgQnVpbGRDb3JlKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gQ29yZTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Um91dGVGdW5jdGlvbihmKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gcm91dGVGdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gZi5hcHBseShSZWZsZWN0LCBhcmd1bWVudHMpO1xyXG4gICAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkgcmV0dXJuIFJlZmxlY3Q7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH0uYmluZChjb3JlKTtcclxufVxyXG5cclxuQ29yZS5nZXQgPSBmdW5jdGlvbiAobW9kdWxlLCBwYXlsb2FkKSB7XHJcbiAgICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgIGlmIChtb2R1bGVzW21vZHVsZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZXNbbW9kdWxlXS5nZXQuYXBwbHkobW9kdWxlc1ttb2R1bGVdLCBwYXlsb2FkKTtcclxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdNb2R1bGUgWycgKyBtb2R1bGUgKyAnXSB3YXMgbm90IGZvdW5kJyk7XHJcbiAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdNb2R1bGUgbmFtZSBpcyBub3QgYSBzdHJpbmcuIFdyb25nIGFyZ3VtZW50cycpO1xyXG59O1xyXG5cclxuQ29yZS5pcyA9IGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUpIHtcclxuICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgIGlmIChtb2R1bGVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVzW25hbWVdLmlzKHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuQ29yZS5pbmplY3QgPSBmdW5jdGlvbiAobW9kdWxlLCBwYXlsb2FkKSB7XHJcbiAgICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgIGlmIChtb2R1bGVzW21vZHVsZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZXNbbW9kdWxlXS5jcmVhdGUocGF5bG9hZCk7XHJcbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignTm9kdWxlIFsnICsgbW9kdWxlICsgJ10gd2FzIG5vdCBmb3VuZC4nKTtcclxuICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ01vZHVsZSBuYW1lIGlzIG5vdCBhIHN0cmluZy4gV3JvbmcgQXJndW1lbnRzJyk7XHJcbn07XHJcblxyXG5Db3JlLmV4dGVuZCA9IGZ1bmN0aW9uIChtb2R1bGUsIHRhcmdldCwgcGF5bG9hZCkge1xyXG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzW21vZHVsZV0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlc1ttb2R1bGVdLmV4dGVuZCh0YXJnZXQsIHBheWxvYWQpO1xyXG4gICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBleHRlbmQgdGFyZ2V0IG9mIHR5b2UgWycgKyAodHlwZW9mIHRhcmdldCkgKyAnXSBidSBtb2R1bGUgY29uc3RydWN0b3IgWycgKyBtb2R1bGUgKyAnXS4nKTtcclxuICAgIH1cclxufTtcclxuXHJcbkNvcmUuZGVmaW5lID0gZnVuY3Rpb24gKHByb3BlcnR5LCB2YWx1ZSkge1xyXG4gICAgaWYgKCFjb3JlKSBjb3JlID0gbmV3IFJlZmxlY3QoKTtcclxuICAgIGlmICh0eXBlb2YgcHJvcGVydHkgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICBpZiAocHJvcGVydGllc1twcm9wZXJ0eV0gIT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZGVmaW5lIHByb3BlcnR5IFsnICsgcHJvcGVydHkgKyAnXS4gQWxyZWFkeSBkZWZpbmVkIScpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHkgPT09IFwiZnVuY3Rpb25cIikgcHJvcGVydGllc1twcm9wZXJ0eV0gPSBnZXRSb3V0ZUZ1bmN0aW9uKHZhbHVlKTtcclxuICAgICAgICBlbHNlIGlmIChwcm9wZXJ0eSAhPT0gbnVsbCB8fCB0eXBlb2YgcHJvcGVydHkgIT09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIHByb3BlcnR5ICE9PSBcIm9iamVjdFwiKSBwcm9wZXJ0aWVzW3Byb3BlcnR5XSA9IHZhbHVlXHJcbiAgICAgICAgcmV0dXJuIGNvcmU7XHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBCdWlsZENvcmUoKSB7XHJcbiAgICBDb3JlLmdldCgnUm9vdCcpO1xyXG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcykge1xyXG4gICAgICAgIGlmIChwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICBjb3JlW3Byb3BlcnR5XSA9IHByb3BlcnRpZXNbcHJvcGVydHldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gSW5qZWN0aW9uKGYpIHtcclxuICAgIGlmICh0eXBlb2YgZiAhPT0gXCJmdW5jdGlvblwiIHx8ICFmLm5hbWUpIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZWluamVjdGlvbi4gQ29uc3RydWN0b3IgaXMgbm90IGEgbmFtZWQgZnVuY3Rpb24hJyk7XHJcbiAgICBtb2R1bGVzW2YubmFtZV0gPSB0aGlzO1xyXG4gICAgdmFyIGNhY2hlID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uIChwYXlsb2FkKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbbnVsbF07XHJcbiAgICAgICAgaWYgKHBheWxvYWQgJiYgdHlwZW9mIHBheWxvYWQgPT09IFwib2JqZWN0XCIgJiYgcGF5bG9hZC5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXlsb2FkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2gocGF5bG9hZFtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoZiwgYXJncykpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoY2FjaGUpIHJldHVybiBjYWNoZTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuY3JlYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50c1swXSk7XHJcbiAgICAgICAgICAgIGNhY2hlID0gcmVzdWx0O1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5pcyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0LmNvbnN0cnVjdG9yID09PSBmO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmV4dGVuZCA9IGZ1bmN0aW9uICh0YXJnZXQsIHBheWxvYWQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHBheWxvYWQgPT09IFwib2JqZWN0XCIgJiYgcGF5bG9hZC5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgZi5hcHBseSh0YXJnZXQsIHBheWxvYWQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGYuY2FsbCh0YXJnZXQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxud2luZG93LiRSID0gY29yZTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMTQvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gQXBwbGljYXRpb24oQ2FudmFzLCBUaWNrZXIsIENvbmZpZykge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICBDb25maWcuZGVmaW5lKCdmcHMnLCA1OC44LCB7aXNOdW1iZXI6IHRydWUsIGdyZWF0ZXI6IDAsIHVuZGVyOiA2MX0pLndhdGNoKGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgVGlja2VyLmZwcyh2KTtcclxuICAgIH0pO1xyXG5cclxuICAgIENvbmZpZy5kZWZpbmUoJ2NhbnZhcycsIG51bGwsIHtpc1N0cmluZzogdHJ1ZX0pLndhdGNoKGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgQ2FudmFzLmVsZW1lbnQodik7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLiQgPSBmdW5jdGlvbiAobiwgZikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgbiA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAobi5jaGFyQXQoMCkgPT09ICckJykgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IEFQSSBmdW5jdGlvbi4gRnVuY3Rpb24gbmFtZSBzdGFydHMgd2l0aCAkJyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzW25dKSB0aHJvdyBuZXcgRXJyb3IoJ0FwcGxpY2F0aW9uIEFQSSBwcm9wZXJ0eSBbJyArIG4gKyAnXSBkdXBsaWNhdGlvbiEnKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcignQXBwbGljYXRpb24gQVBJIHByb3BlcnR5IFsnICsgbiArICddIHZhbHVlIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgICAgIHRoaXNbbl0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBBUEkgbWV0aG9kLiBOYW1lIGlzIG5vdCBhIHN0cmluZy4nKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIFRpY2tlci5zdG9wKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBUaWNrZXIuc3RhcnQoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5jb25maWcgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgQ29uZmlnLnNldChhLCBiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBDb25maWcud2F0Y2goYSwgYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29uZmlnLmdldChhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgYSA9PT0gXCJvYmplY3RcIiAmJiBhLmNvbnN0cnVjdG9yICE9PSBBcnJheSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBDb25maWcuc2V0KHByb3BlcnR5LCBhW3Byb3BlcnR5XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNvbmZpZyBhcHBsaWNhdGlvbi4gQ29uZmlnIGZvcm1hdCBpcyBpbnZhbGlkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIEF1ZGlvICgpIHtcclxuICAgIHZhciBjb250ZXh0ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xyXG4gICAgdGhpcy5jb250ZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjb250ZXh0O1xyXG4gICAgfVxyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMTQvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gQ2FudmFzKFRpY2tlcikge1xyXG5cclxuICAgIHZhciBlbGVtZW50ID0gbnVsbCxcclxuICAgICAgICBjb250ZXh0ID0gbnVsbCxcclxuICAgICAgICBzaXplID0gWzgwMCwgNjAwXSxcclxuICAgICAgICByZXNpemVDYiA9IFtdLFxyXG4gICAgICAgIHN3aXRjaENiID0gW10sXHJcbiAgICAgICAgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgcXVldWUgPSBbXSxcclxuICAgICAgICByZWFkeSA9IGZhbHNlO1xyXG5cclxuICAgIFRpY2tlci5xdWV1ZSgwLCBEcmF3U2NlbmUpO1xyXG5cclxuICAgIGZ1bmN0aW9uIERyYXdTY2VuZShkYXRlLCBmcmFtZSkge1xyXG4gICAgICAgIGlmIChyZWFkeSkge1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9IFtjb250ZXh0LCBkYXRlLCBmcmFtZV07XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAgOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVbaV0uZi5hcHBseShzZWxmLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGVtZXJnZWQgd2hpbGUgZHJhd2luZy4gXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdRdWV1ZSAgICAgICAgICA6IFsnICsgcXVldWVbaV0ubyArICddXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdRdWV1ZSBPcmRlcmluZyA6IFsnICsgaSArICddXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdRdWV1ZSBNZW1iZXIgICA6IFsnICsgcXVldWVbaV0uZi5uYW1lICsgJ11cXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ01lc3NhZ2UgICAgICAgIDogJyArIGUubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgb3JkZXJpbmcgaW4gcXVldWUpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWVbb3JkZXJpbmddLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc29sdmUoYXJyYXkpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGFycmF5W2ldLmNhbGwoc2VsZik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgdmFyIGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgICAgICAgIGlmIChlICYmIGUuZ2V0Q29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IGUuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgICAgIGlmIChjdHgpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBzaXplWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnNldEF0dHJpYnV0ZSgnaGVpZ2h0Jywgc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IGN0eDtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gZTtcclxuICAgICAgICAgICAgICAgICAgICByZWFkeSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzd2l0Y2hDYik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignRWxlbWVudCB3aXRoIGlkIFsjJyArIGlkICsgJ10gaXMgbm90IGEgY2FudmFzLiBDYW4gbm90IGdldCAyZCBjb250ZXh0LicpXHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdFbGVtZW50IHdpdGggaWQgWyMnICsgaWQgKyAnXSB3YXMgbm90IGZvdW5kIG9yIG5vdCBhIGNhbnZhcycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpZCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChpZC5nZXRDb250ZXh0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IGlkLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3R4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHNpemVbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlkLnNldEF0dHJpYnV0ZSgnaGVpZ2h0Jywgc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGlkO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjdHg7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoc3dpdGNoQ2IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ0VsZW1lbnQgaXMgbm90IGEgQ2FudmFzLiBDYW4gbm90IGdldCAyZCBjb250ZXh0LicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdFbGVtZW50IGlzIG5vdCBhIENhbnZhcycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnF1ZXVlID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGEgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBpZiAoIWEubmFtZSkgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZW5xdWV1ZSBjYWxsYmFjay4gUHJvdmlkZSBhIG5hbWVkIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goe286IDAsIGY6IGJ9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGEgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBiID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmICghYi5uYW1lKSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBlbnF1ZXVlIGNhbGxiYWNrLiBQcm92aWRlIGEgbmFtZWQgZnVuY3Rpb24uJyk7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHtvOiBhLCBmOiBifSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBlbnF1ZXVlIGNhbGxiYWNrLiBQcm92aWRlIGEgbmFtZWQgZnVuY3Rpb24nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBlbnF1ZXVlIGNhbGxiYWNrLiBXcm9uZyBhcmd1bWVudHMuJyk7XHJcblxyXG4gICAgICAgIHF1ZXVlLnNvcnQoZnVuY3Rpb24gKGEsYikge1xyXG4gICAgICAgICAgIHJldHVybiBhLm8gPiBiLm87XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygd2lkdGggPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIGhlaWdodCA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBpZiAod2lkdGggPCAwKSB3aWR0aCA9IDA7XHJcbiAgICAgICAgICAgIGlmIChoZWlnaHQgPCAwKSBoZWlnaHQgPSAwO1xyXG4gICAgICAgICAgICBpZiAoc2l6ZVswXSAhPT0gd2lkdGggfHwgc2l6ZVsxXSAhPT0gd2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIHNpemVbMF0gPSB3aWR0aDtcclxuICAgICAgICAgICAgICAgIHNpemVbMV0gPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3aWR0aCk7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzaXplQ2IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbc2l6ZVswXSwgc2l6ZVsxXV07XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucmVzaXplID0gZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGYgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICByZXNpemVDYi5wdXNoKGYpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgcmVzc2l6ZSBjYWxsYmFjay4gZiBhcmd1bWVudCBpcyBub3QgYSBmdW5jdGlvbicpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnN3aXRjaCA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgc3dpdGNoQ2IucHVzaChmKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IHN3aXRjaCBjYWxsYmFjay4gZiBhcmd1bWVudCBpcyBub3QgYSBmdW5jdGlvbicpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnJlYWR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiByZWFkeTtcclxuICAgIH07XHJcblxyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMjUvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gQ2xhc3NlcygpIHtcclxuICAgIHZhciBzeXN0ZW1DbGFzc2VzID0ge30sXHJcbiAgICAgICAgYXBwbGljYXRpb25DbGFzc2VzID0ge30sXHJcbiAgICAgICAgZ2xvYmFsQ2xhc3NlcyA9IHt9O1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBjbHMoY2ZnKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGluamVjdGlvbiA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbY2ZnXSk7XHJcbiAgICAgICAgICAgIGlmIChnbG9iYWxDbGFzc2VzW2luamVjdGlvbi5uYW1lKCldKSBjb25zb2xlLndhcm4oJ0dsb2JhbCBDbGFzcyBMaWJyYXJ5IGNsYXNzIFsnICsgaW5qZWN0aW9uLm5hbWUoKSArICddIGhhcyBiZWVuIG92ZXJ3cml0dGVuLicpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBhcHAgaW4gYXBwbGljYXRpb25DbGFzc2VzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXBwbGljYXRpb25DbGFzc2VzLmhhc093blByb3BlcnR5KGFwcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXBwbGljYXRpb25DbGFzc2VzW2FwcF1baW5qZWN0aW9uLm5hbWUoKV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdBcHBsaWNhdGlvbiBbJyArIGFwcCArICddIENsYXNzIFsnICsgaW5qZWN0aW9uLm5hbWUoKSArICddIG92ZXJyaWRlcyBnbG9iYWwgY2xhc3MuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdsb2JhbENsYXNzZXNbaW5qZWN0aW9uLm5hbWUoKV0gPSBpbmplY3Rpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBjbGFzcyBpbmplY3Rpb24uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNscy5hcHAgPSBmdW5jdGlvbiAoYXBwLCBjZmcpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGFwcCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAoIWFwcGxpY2F0aW9uQ2xhc3Nlc1thcHBdKSBhcHBsaWNhdGlvbkNsYXNzZXNbYXBwXSA9IHt9O1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluamVjdGlvbiA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbY2ZnXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsQ2xhc3Nlc1tpbmplY3Rpb24ubmFtZSgpXSkgY29uc29sZS53YXJuKCdBcHBsaWNhdGlvbiBbJyArIGFwcCArICddIENsYXNzIFsnICsgaW5qZWN0aW9uLm5hbWUoKSArICddIG92ZXJyaWRlcyBnbG9iYWwgY2xhc3MuJyk7XHJcbiAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbkNsYXNzZXNbYXBwXVtpbmplY3Rpb24ubmFtZSgpXSA9IGluamVjdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIGFuZCByZWdpc3RlciBBcHBsaWNhdGlvbkNsYXNzIGZvciBhcHAgWycgKyBhcHAgKyAnXS4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcmVnaXN0ZXIgQXBwbGljYXRpb25DbGFzcyBpbmplY3Rpb24uIEFwcCBpZCBpcyBub3QgYSBzdHJpbmcuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjbHMuc3lzID0gZnVuY3Rpb24gKGNmZykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBpbmplY3Rpb24gPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2NmZ10pO1xyXG4gICAgICAgICAgICBpZiAoc3lzdGVtQ2xhc3Nlc1tpbmplY3Rpb24ubmFtZSgpXSkgY29uc29sZS53YXJuKCdTeXN0ZW0gQ2xhc3MgWycgKyBpbmplY3Rpb24ubmFtZSgpICsgJ10gb3ZlcnJpZGUuJyk7XHJcbiAgICAgICAgICAgIHN5c3RlbUNsYXNzZXNbaW5qZWN0aW9uLm5hbWUoKV0gPSBpbmplY3Rpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHJlZ2lzdGVyIFN5c3RlbUNsYXNzIGluamVjdGlvbicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIHRoaXMuZ2V0QXBwbGljYXRpb25DbGFzc2VzID0gZnVuY3Rpb24gKGFwcCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXBwID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW2dsb2JhbENsYXNzZXNdKTtcclxuICAgICAgICAgICAgaWYgKGFwcGxpY2F0aW9uQ2xhc3Nlc1thcHBdKSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuc291cmNlKGNvbnRhaW5lciwgJy4nKTtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5tZXJnZShhcHBsaWNhdGlvbkNsYXNzZXMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zb3VyY2UoY29udGFpbmVyLCAnLicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZ2V0IGFwcGxpY2F0aW9uIGNsYXNzZXMgY29udGFpbmVyLiBBcHAgaWQgaXMgbm90IGEgc3RyaW5nLicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5nZXRTeXN0ZW1DbGFzc2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjb250YWluZXIgPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW3N5c3RlbUNsYXNzZXNdKTtcclxuICAgICAgICBjb250YWluZXIuc291cmNlKGNvbnRhaW5lciwgJy4nKTtcclxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgfTtcclxuXHJcbiAgICBDb3JlLmRlZmluZSgnY2xhc3MnLCBjbHMpO1xyXG5cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIENvbmZpZygpIHtcclxuXHJcbiAgICB2YXIgcHJvcGVydGllcyA9IHt9LFxyXG4gICAgICAgIGZ1bmNzID0ge1xyXG4gICAgICAgICAgICBpc051bWJlcjogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdiA9PT0gXCJudW1iZXJcIjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaXNTdHJpbmc6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09IFwic3RyaW5nXCI7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGlzQXJyYXk6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdi5jb25zdHJ1Y3RvciA9PT0gQXJyYXk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGN1c3RvbTogZnVuY3Rpb24gKHYsIGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3NbMF0odik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVuZGVyOiBmdW5jdGlvbiAodiwgYXJncykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmNzLmlzTnVtYmVyKHYpICYmIHYgPCBhcmdzWzBdO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBncmVhdGVyOiBmdW5jdGlvbiAodiwgYXJncykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmNzLmlzTnVtYmVyKHYpICYmIHYgPiBhcmdzWzBdO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcTogZnVuY3Rpb24gKHYsIGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jcy5pc051bWJlcih2KSAmJiB2ID09PSBhcmdzWzBdO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpc0Jvb2w6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mICB2ID09PSBcImJvb2xlYW5cIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBQcm9wZXJ0eShuYW1lLCB2YWx1ZSwgY2ZnKSB7XHJcblxyXG4gICAgICAgIHZhciBjaGVja0FycmF5ID0gW10sXHJcbiAgICAgICAgICAgIGNiID0gW107XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrVmFsdWUodikge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGVja0FycmF5OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghZnVuY3NbY2hlY2tBcnJheVtpXS5mXSh2LCBjaGVja0FycmF5LmFyZ3MpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYXJnID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChmdW5jcy5pc0FycmF5KGFyZykpIHtcclxuICAgICAgICAgICAgICAgIGFyZyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZy5wdXNoKHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYXJnO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMubmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5hbWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXQgPSBmdW5jdGlvbiAobikge1xyXG4gICAgICAgICAgICBpZiAoY2hlY2tWYWx1ZShuKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZ1bmNzLmlzQXJyYXkobikpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKG5baV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNiLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjYltpXS5jYWxsKHRoaXMsIHRoaXMuZ2V0KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud2F0Y2ggPSBmdW5jdGlvbiAoZikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGYgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgY2IucHVzaChmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG5vdCBzZXQgY29uZmlnIHByb3BlcnR5IHdhdGNoZXIuIEFyZ3VtZW50IGYgaXMgbm90IGEgZnVuY3Rpb24uJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gY2ZnKSB7XHJcbiAgICAgICAgICAgIGlmIChjZmcuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjZmdbcHJvcF0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmdW5jc1twcm9wXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja0FycmF5LnB1c2goe2Y6IHByb3AsIGFyZ3M6IFtjZmdbcHJvcF1dfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdObyBzdWNoIGNvbmZpZyB2YWx1ZSBjaGVja2VyIGFzIFsnICsgcHJvcCArICddJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignV3JvbmcgcGFyYW1ldGVyIGZvciBjb25maWcgcHJvcGVydHkgWycgKyBwcm9wICsgJ10nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAhZnVuY3MuaXNBcnJheSh2YWx1ZSkpIHRocm93IG5ldyBFcnJvcignT2JqZWN0cyBhcmUgbm90IHN1cHBvcnRlZCBhcyBjb25maWcgcHJvcGVydHkgdmFsdWUhJyk7XHJcbiAgICAgICAgaWYgKCFjaGVja1ZhbHVlKHZhbHVlKSkgdGhyb3cgbmV3IEVycm9yKCdJbml0aWFsIFsnICsgbmFtZSArICddXFwncyB2YWx1ZSBkb2VzIG5vdCBtZWV0IGNvbmZpZyByZXF1aXJlbWVudHMuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5kZWZpbmUgPSBmdW5jdGlvbiAocHJvcGVydHksIHZhbHVlLCBjZmcpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BlcnRpZXNbcHJvcGVydHldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllc1twcm9wZXJ0eV0gPSBuZXcgUHJvcGVydHkocHJvcGVydHksIHZhbHVlLCBjZmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmFibGUgdG8gY3JlYXRlIGNvbmZpZyBwcm9wZXJ0eSBbJyArIHByb3BlcnR5ICsgJ10nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignQ29uZmlnIHByb3BlcnR5IGR1cGxpY2F0aW9uIG9uIHByb3BlcnR5IG5hbWUgWycgKyBwcm9wZXJ0eSArICddJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ0NvbmZpZyBwcm9wZXJ0eSB2YWx1ZSBjYW4gbm90IGJlIHVuZGVmaW5lZC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBkZWZpbmUgY29uZmlnIHByb3BlcnR5LiBQcm9wZXJ0eSBuYW1lIGlzIG5vdCBhIHN0cmluZy4nKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXNbcHJvcGVydHldO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNldCA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBwcm9wZXJ0aWVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0aWVzW25hbWVdLnNldCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IHByb3BlcnR5IFsnICsgbmFtZSArICddLiBObyBzdWNoIHByb3BlcnR5LicpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0aWVzW25hbWVdLmdldCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGdldCBwcm9wZXJ0eSBbJyArIG5hbWUgKyAnXS4gTm8gc3VjaCBwcm9wZXJ0eS4nKVxyXG5cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy53YXRjaCA9IGZ1bmN0aW9uIChuYW1lLCBmKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0aWVzW25hbWVdLndhdGNoKGYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ05vIHN1Y2ggcHJvcGVydHkgYXMgWycgKyBuYW1lICsgJ10gdG8gd2F0Y2guJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1dhdGNoZXIgY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byB3YXRjaCBjb25maWcgcHJvcGVydHkuIFByb3BlcnR5IG5hbWUgaXMgaW52YWxpZCBvciB1bmRlZmluZWQnKVxyXG4gICAgfVxyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMTQvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gQ29udGFpbmVyKGxpYiwgZGlyZWN0KSB7XHJcbiAgICB2YXIgbGlicmFyeSA9IHt9LFxyXG4gICAgICAgIHNvdXJjZXMgPSB7fSxcclxuICAgICAgICBjYWNoZSA9IHt9O1xyXG5cclxuICAgIHRoaXMubGlzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbGlicmFyeTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5pbmplY3Rpb24gPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIGNvbnN0cnVjdG9yID0gbnVsbCxcclxuICAgICAgICAgICAgZGVwZW5kZW5jaWVzID0gW107XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgaWYgKGNvbmZpZy5uYW1lICYmIGNvbmZpZy5uYW1lLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3RydWN0b3IgPSBjb25maWc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fub255bW91cyBmdW5jdGlvbiBjYW4gbm90IGJlIGluamVjdGlvbiBjb25zdHJ1Y3Rvci4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29uZmlnID09PSBcIm9iamVjdFwiICYmIGNvbmZpZy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnW2ldID09PSBcInN0cmluZ1wiICYmIGNvbmZpZ1tpXS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXMucHVzaChjb25maWdbaV0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29uZmlnW2ldID09PSBcImZ1bmN0aW9uXCIgJiYgY29uZmlnW2ldLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvciA9IGNvbmZpZ1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biB0eXBlIG9mIGluamVjdGlvbiBuYW1lIG9yIGNvbnN0cnVjdG9yLicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdHlwZSBvZiBpbmplY3Rpb24gY29uZmlnLicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGVwZW5kZW5jaWVzLnB1c2goY29uc3RydWN0b3IpO1xyXG5cclxuICAgICAgICBpZiAobGlicmFyeVtjb25zdHJ1Y3Rvci5uYW1lXSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0luamVjdGlvbiBbJyArIGNvbnN0cnVjdG9yLm5hbWUgKyAnXSBkdXBsaWNhdGVkIGFuZCBoYXMgYmVlbiBvdmVyd3JpdHRlbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsaWJyYXJ5W2NvbnN0cnVjdG9yLm5hbWVdID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtkZXBlbmRlbmNpZXNdKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5tZXJnZSA9IGZ1bmN0aW9uIChjZmcsIGNsb25lKSB7XHJcbiAgICAgICAgaWYgKGNmZykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gY2ZnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNmZy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvcmUuaXMoY2ZnW3Byb3BlcnR5XSwgJ0luamVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlicmFyeVtjZmdbcHJvcGVydHldLm5hbWUoKV0pIGNvbnNvbGUud2FybignSW5qZWN0aW9uIFsnICsgcHJvcGVydHkgKyAnXSBoYXMgYmVlbiBtZXJnZWQucycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlicmFyeVtsaWJbcHJvcGVydHldLm5hbWUoKV0gPSBsaWJbcHJvcGVydHldLmNsb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWJyYXJ5W2xpYltwcm9wZXJ0eV0ubmFtZSgpXSA9IGxpYltwcm9wZXJ0eV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIG1lcmdlIGxpYnMuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc291cmNlID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgcHJlZml4a2V5KSB7XHJcbiAgICAgICAgaWYgKGNvbnRhaW5lciAmJiB0eXBlb2YgY29udGFpbmVyID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIGlmIChDb3JlLmlzKGNvbnRhaW5lciwgJ0NvbnRhaW5lcicpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByZWZpeGtleSkgcHJlZml4a2V5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHR5cGVvZiBwcmVmaXhrZXkgPT09IFwic3RyaW5nXCIgJiYgcHJlZml4a2V5Lmxlbmd0aCkgfHwgcHJlZml4a2V5ID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci4kJExPT1AgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsb29wID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuJExPT1ApIGxvb3AgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjb250YWluZXIuJCRMT09PUDtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VzW3ByZWZpeGtleSA/IHByZWZpeGtleSA6ICckJG5vcHJlZml4J10gPSBDb3JlLmluamVjdCgnU291cmNlJywgW3ByZWZpeGtleSwgY29udGFpbmVyLCBsb29wXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbnRhaW5lci5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWxpZCA9IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9vcCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250YWluZXJbaV0gPT09IFwib2JqZWN0XCIgJiYgQ29yZS5pcyhjb250YWluZXJbaV0sICdDb250YWluZXInKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJbaV0uJCRMT09PUCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiQkTE9PT1ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb3AucHVzaCh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb3AucHVzaChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlICBjb250YWluZXJbaV0uJCRMT09PUDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmVmaXhrZXkpIHByZWZpeGtleSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHR5cGVvZiBwcmVmaXhrZXkgPT09IFwic3RyaW5nXCIgJiYgcHJlZml4a2V5Lmxlbmd0aCkgfHwgcHJlZml4a2V5ID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzW3ByZWZpeGtleSA/IHByZWZpeGtleSA6ICckJG5vcHJlZml4J10gPSBDb3JlLmluamVjdCgnU291cmNlJywgW3ByZWZpeGtleSwgY29udGFpbmVyLCBsb29wXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb3VyY2UgY29udGFpbmVyIGNvbmZpZyBpcyBub3QgdmFsaWQuIE9uZSBvZiB0aGUgY29udGFpbmVycyBwcm92aWRlZCBpcyBub3QgYW4gSW5qZWN0aW9uQ29udGFpbmVyIGluc3RhbmNlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG5ld0xpYnJhcnkgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBpbmplY3Rpb24gaW4gbGlicmFyeSkge1xyXG4gICAgICAgICAgICBpZiAobGlicmFyeS5oYXNPd25Qcm9wZXJ0eShpbmplY3Rpb24pKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdMaWJyYXJ5W2luamVjdGlvbl0gPSBsaWJyYXJ5W2luamVjdGlvbl0uY2xvbmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbmV3Q29udGFpbmVyID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtuZXdMaWJyYXJ5XSk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIHNvdXJjZSBpbiBzb3VyY2VzKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250YWluZXJzID0gc291cmNlc1tzb3VyY2VdLmNvbnRhaW5lcnMoKSxcclxuICAgICAgICAgICAgICAgIHNvdXJjZWxvb3AgPSBzb3VyY2VzW3NvdXJjZV0ubG9vcCgpLFxyXG4gICAgICAgICAgICAgICAgc291cmNlcHJlZml4ID0gc291cmNlc1tzb3VyY2VdLnByZWZpeCgpLFxyXG4gICAgICAgICAgICAgICAgbmV3Y29udGFpbmVycyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250YWluZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlbG9vcFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld2NvbnRhaW5lcnMucHVzaChuZXdDb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Y29udGFpbmVycy5wdXNoKGNvbnRhaW5lcnNbaV0uY2xvbmUoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5ld0NvbnRhaW5lci5zb3VyY2UobmV3Y29udGFpbmVycywgc291cmNlcHJlZml4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ld0NvbnRhaW5lcjtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5maW5kU291cmNlQnlQcmVmaXggPSBmdW5jdGlvbiAocHJlZml4KSB7XHJcbiAgICAgICAgaWYgKHByZWZpeCA9PT0gZmFsc2UpIHJldHVybiBzb3VyY2VzLiQkbm9wcmVmaXg7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgcHJlZml4ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2VzW3ByZWZpeF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5maW5kU291cmNlQnlJbmplY3Rpb25OYW1lID0gZnVuY3Rpb24gKGluamVjdGlvbk5hbWUpIHtcclxuICAgICAgICB2YXIgc291cmNlID0gbnVsbDtcclxuICAgICAgICBpZihjYWNoZVtpbmplY3Rpb25OYW1lXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVbaW5qZWN0aW9uTmFtZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwcmVmaXggaW4gc291cmNlcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZXMuaGFzT3duUHJvcGVydHkocHJlZml4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VzW3ByZWZpeF0ucHJlZml4KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZXNbcHJlZml4XS5oYXMoaW5qZWN0aW9uTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IHNvdXJjZXNbcHJlZml4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlW2luamVjdGlvbk5hbWVdID0gc291cmNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFzb3VyY2UgJiYgc291cmNlcy4kJG5vcHJlZml4ICYmIHNvdXJjZXMuJCRub3ByZWZpeC5oYXMoaW5qZWN0aW9uTmFtZSkpIHtcclxuICAgICAgICAgICAgc291cmNlID0gc291cmNlcy4kJG5vcHJlZml4O1xyXG4gICAgICAgICAgICBjYWNoZVtpbmplY3Rpb25OYW1lXSA9IHNvdXJjZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoIXNvdXJjZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBmaW5kIHNvdXJjZSBjb250YWluaW5nIGluamVjdGlvbiBbJyArIGluamVjdGlvbk5hbWUrJ10uICcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucmVzb2x2ZSA9IGZ1bmN0aW9uIChuYW1lLCBkaXJlY3QpIHtcclxuICAgICAgICBpZiAoZGlyZWN0ID09PSAnZXh0ZW5kJykge1xyXG5cclxuICAgICAgICAgICAgaWYgKGxpYnJhcnlbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb25zdHJ1Y3RvcjogbGlicmFyeVtuYW1lXS4kY29uc3RydWN0b3IoKVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jaWVzID0gbGlicmFyeVtuYW1lXS5kZXBlbmRlbmNpZXMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGRlcGVuZGVuY2llcy5sZW5ndGg7IGQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXBlbmRlbmNpZXNbZF0gPT09ICdAZXh0ZW5kJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuZGVwZW5kZW5jaWVzLnB1c2gobGlicmFyeVtuYW1lXS5leHRlbmQodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkZXBlbmRlbmNpZXNbZF0gPT09ICdAaW5qZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuZGVwZW5kZW5jaWVzLnB1c2gobGlicmFyeVtuYW1lXS5pbmplY3QodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNyYyA9IHRoaXMuZmluZFNvdXJjZUJ5SW5qZWN0aW9uTmFtZShkZXBlbmRlbmNpZXNbZF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuZGVwZW5kZW5jaWVzLnB1c2goc3JjLnJlc29sdmUoZGVwZW5kZW5jaWVzW2RdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNvdXJjZSBmb3VuZCBjb250YWluaW5nIFsnICsgZGVwZW5kZW5jaWVzW2RdICsgJ10gZm9yIFsnK25hbWUrJ10uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGluamVjdCBbJyArIG5hbWUgKyAnXSBubyBzdWNoIGluamVjdGlvbiBmb3VuZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5oYXMobmFtZSkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZGVwZW5kZW5jaWVzID0gbGlicmFyeVtuYW1lXS5kZXBlbmRlbmNpZXMoKSxcclxuICAgICAgICAgICAgICAgICAgICBhcmdzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcGVuZGVuY2llc1tpXSA9PT0gJ0BleHRlbmQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChsaWJyYXJ5W25hbWVdLmV4dGVuZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRlcGVuZGVuY2llc1tpXSA9PT0gJ0BpbmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChsaWJyYXJ5W25hbWVdLmluamVjdCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gdGhpcy5maW5kU291cmNlQnlJbmplY3Rpb25OYW1lKGRlcGVuZGVuY2llc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChzb3VyY2UucmVzb2x2ZShkZXBlbmRlbmNpZXNbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5qZWN0aW9uIFsnICsgZGVwZW5kZW5jaWVzW2ldICsgJ10gZm9yIFsnICsgbmFtZSArICddIHNvdXJjZSB3YXMgbm90IGZvdW5kLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBsaWJyYXJ5W25hbWVdLmNyZWF0ZShhcmdzLCBkaXJlY3QpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5qZWN0aW9uIFsnICsgbmFtZSArICddIHdhcyBub3QgZm91bmQgaW4gbGlicmFyeSEnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZXNvbHZlRGlyZWN0SW5qZWN0aW9uID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5maW5kU291cmNlQnlJbmplY3Rpb25OYW1lKG5hbWUpO1xyXG4gICAgICAgIGlmIChzb3VyY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5yZXNvbHZlKG5hbWUsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaGFzID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gISFsaWJyYXJ5W25hbWVdO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgaWYgKGxpYnJhcnlbbmFtZV0pIHJldHVybiBsaWJyYXJ5W25hbWVdO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgaWYgKENvcmUuaXMobGliLCAnSW5qZWN0aW9uJykpIHtcclxuICAgICAgICBsaWJyYXJ5W2xpYi5uYW1lKCldID0gbGliLmNsb25lKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2YgbGliID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gbGliKSB7XHJcbiAgICAgICAgICAgIGlmIChsaWIuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQ29yZS5pcyhsaWJbcHJvcGVydHldLCAnSW5qZWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlyZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpYnJhcnlbbGliW3Byb3BlcnR5XS5uYW1lKCldID0gbGliW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpYnJhcnlbbGliW3Byb3BlcnR5XS5uYW1lKCldID0gbGliW3Byb3BlcnR5XS5jbG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChsaWIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBjb250YWluZXIuIFdyb25nIGFyZ3VtZW50cy4gTGliIGlzIEluamVjdGlvbiBvciBvYmplY3QnKVxyXG4gICAgfVxyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMTQvMDgvMjAxNy5cclxuICovXHJcbkNvcmUoZnVuY3Rpb24gRm9udHMoQ29uZmlnLCBhcHApIHtcclxuXHJcbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XHJcblxyXG4gICAgdmFyIGZhbWlsaWVzID0ge30sXHJcbiAgICAgICAgZm9udHNEZWZpbmVkID0gZmFsc2UsXHJcbiAgICAgICAgZm9ybWF0ID0gQ29uZmlnLmRlZmluZSgnZm9udEZvcm1hdHMnLCBbJ2VvdCcsICdzdmcnLCAndHRmJywgJ3dvZmYnXSwge1xyXG4gICAgICAgICAgICBpc0FycmF5OiB0cnVlLCBjdXN0b206IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdi5sZW5ndGgoKTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZbaV0gIT09ICdlb3QnIHx8IHZbaV0gIT09ICdzdmcnIHx8IHZbaV0gIT09ICd0dGYnIHx8IHZbaV0gIT09ICd3b2ZmJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLndhdGNoKGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgIGZvbnRzRGVmaW5lZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvcm1hdCA9IHY7XHJcbiAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIGZvcm1hdFN0ciA9IHtcclxuICAgICAgICAgICAgZW90OiBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3VybChcIicgKyB1cmwgKyAnLmVvdD8jaWVmaXhcIikgZm9ybWF0KFwiZW1iZWRkZWQtb3BlbnR5cGVcIiknO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB3b2ZmOiBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3VybChcIicgKyB1cmwgKyAnLndvZmZcIikgZm9ybWF0KFwid29mZlwiKSc7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHR0ZjogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd1cmwoXCInICsgdXJsICsgJy50dGZcIikgZm9ybWF0KFwidHJ1ZXR5cGVcIiknO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdmc6IGZ1bmN0aW9uICh1cmwsIGZvbnQsIHN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3VybChcIicgKyB1cmwgKyAnLnN2ZyMnICsgZm9udCArICctJyArIChzdHlsZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0eWxlLnNsaWNlKDEpKSArICdcIikgZm9ybWF0KFwic3ZnXCIpJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgQ29uZmlnLmRlZmluZSgnZm9udERpcicsICcuL2ZvbnRzJywge2lzU3RyaW5nOiB0cnVlfSk7XHJcblxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuXHJcbiAgICBmdW5jdGlvbiBmb250U3RyaW5nKGZvbnQpIHtcclxuXHJcbiAgICAgICAgaWYoIWZvbnRzRGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcclxuXHJcbiAgICAgICAgZm9yICh2YXIgdyA9IDA7IHcgPCBmb250LndlaWdodC5sZW5ndGg7IHcrKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IGZvbnQuc3R5bGUubGVuZ3RoOyBzKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlc3RyaW5nID0gQ29uZmlnLmdldCgnZm9udERpcicpICsgJy8nICsgZm9udC5uYW1lICsgJy0nICsgZm9udC53ZWlnaHRbd10gKyAnLScgKyBmb250LnN0eWxlW3NdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0cmluZyA9ICdAZm9udC1mYWNlIHsnICtcclxuICAgICAgICAgICAgICAgICAgICAnZm9udC1mYW1pbHk6IFwiJyArIHNlbGYuZm9ybWF0KGZvbnQubmFtZSkgKyAnLScgKyBmb250LndlaWdodFt3XSArICdcIjsnICtcclxuICAgICAgICAgICAgICAgICAgICAnc3JjOic7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZiA9IDA7IGYgPCBmb3JtYXQubGVuZ3RoOyBmKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZm9ybWF0U3RyW2Zvcm1hdFtmXV0oZmlsZXN0cmluZywgZm9udC5uYW1lLCBmb250LnN0eWxlW3NdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZiA8IGZvcm1hdC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSAnLCdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSAnOydcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gJ2ZvbnQtd2VpZ2h0OiAnICsgZm9udC53ZWlnaHRbd10gKyAnOyc7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gJ2ZvbnQtc3R5bGU6JyArIGZvbnQuc3R5bGVbc10gKyAnO30nO1xyXG4gICAgICAgICAgICAgICAgZm9udFtmb250LndlaWdodFt3XSArICctJyArIGZvbnQuc3R5bGVbc11dID0gc3RyaW5nO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBmb250W2ZvbnQud2VpZ2h0W3ddICsgJy0nICsgZm9udC5zdHlsZVtzXV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlKHBhdGgpIHtcclxuICAgICAgICB2YXIgc3RyaW5nID0gJyc7XHJcbiAgICAgICAgZm9yICh2YXIgZmFtaWx5IGluIGZhbWlsaWVzKSB7XHJcbiAgICAgICAgICAgIGlmIChmYW1pbGllcy5oYXNPd25Qcm9wZXJ0eShmYW1pbHkpKSB7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZm9udFN0cmluZyhmYW1pbGllc1tmYW1pbHldLCBwYXRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbkFycmF5KGFycmF5LCB2YWx1ZSkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChhcnJheVtpXSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZm9udCA9IGZ1bmN0aW9uIChwYXRoLCBmb250LCB3ZWlnaHQsIHN0eWxlKSB7XHJcbiAgICAgICAgaWYgKCFmYW1pbGllc1tmb250XSkge1xyXG4gICAgICAgICAgICBmYW1pbGllc1tmb250XSA9IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGZvbnRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFmYW1pbGllc1tmb250XS53ZWlnaHQpIGZhbWlsaWVzW2ZvbnRdLndlaWdodCA9IFtdO1xyXG4gICAgICAgIGlmICghZmFtaWxpZXNbZm9udF0uc3R5bGUpIGZhbWlsaWVzW2ZvbnRdLnN0eWxlID0gW107XHJcbiAgICAgICAgaWYgKCFpbkFycmF5KGZhbWlsaWVzW2ZvbnRdLndlaWdodCwgd2VpZ2h0KSkgZmFtaWxpZXNbZm9udF0ud2VpZ2h0LnB1c2god2VpZ2h0KTtcclxuICAgICAgICBpZiAoIWluQXJyYXkoZmFtaWxpZXNbZm9udF0uc3R5bGUsIHN0eWxlKSkgZmFtaWxpZXNbZm9udF0uc3R5bGUucHVzaChzdHlsZSk7XHJcbiAgICAgICAgdXBkYXRlKHBhdGgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmZvcm1hdCA9IGZ1bmN0aW9uIChmb250KSB7XHJcbiAgICAgICAgcmV0dXJuIGFwcCArICctJyArIGZvbnQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZm9ybWF0cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb3JtYXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goZm9ybWF0W2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyNS8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBIZWxwZXJzKCkge1xyXG5cclxuICAgIHZhciBoZWxwZXJzID0ge30sXHJcbiAgICAgICAgc3lzSGVscGVycyA9IHt9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGhlbHBlcihjZmcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaGVscGVyID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtjZmddKTtcclxuICAgICAgICAgICAgaWYgKGhlbHBlcnNbaGVscGVyLm5hbWUoKV0pIGNvbnNvbGUud2FybignaGVscGVyIFsnICsgaGVscGVyLm5hbWUoKSArICddIG92ZXJyaWRlLicpO1xyXG4gICAgICAgICAgICBoZWxwZXJzW2hlbHBlci5uYW1lKCldID0gaGVscGVyO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIEhlbHBlci4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQ29yZS5kZWZpbmUoJ2hlbHBlcicsIGhlbHBlcik7XHJcblxyXG4gICAgaGVscGVyLnN5c3RlbSA9IGZ1bmN0aW9uIChjZmcsIGlzX3B1YmxpYykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBoZWxwZXIgPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2NmZ10pO1xyXG4gICAgICAgICAgICBpZiAoc3lzSGVscGVyc1toZWxwZXIubmFtZSgpXSkgY29uc29sZS53YXJuKCdTeXN0ZW0gSGVscGVyIFsnICsgaGVscGVyLm5hbWUoKSArICddIER1cGxpY2F0ZSBkZWNsYXJhdGlvbiBvdmVycmlkZS4nKTtcclxuICAgICAgICAgICAgc3lzSGVscGVyc1toZWxwZXIubmFtZSgpXSA9IGhlbHBlcjtcclxuICAgICAgICAgICAgaWYgKGlzX3B1YmxpYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGhlbHBlcnNbaGVscGVyLm5hbWUoKV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1N5c3RlbSBIZWxwZXIgWycgKyBoZWxwZXIubmFtZSgpICsgJ10gb3ZlcnJpZGVzIHVzZXIgaGVscGVyLiBTa2lwcGVkIHN5c3RlbSBoZWxwZXIuJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGhlbHBlcnNbaGVscGVyLm5hbWUoKV0gPSBoZWxwZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmdldFN5c3RlbUhlbHBlcnMgPSBmdW5jdGlvbiAoZGVmYXVsdHMpIHtcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtzeXNIZWxwZXJzXSk7XHJcbiAgICAgICAgY29udGFpbmVyLnNvdXJjZShjb250YWluZXIsICcrJyk7XHJcbiAgICAgICAgY29udGFpbmVyLnNvdXJjZShkZWZhdWx0cywgJ0AnKTtcclxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldFB1YmxpY0hlbHBlcnMgPSBmdW5jdGlvbiAoZGVmYXVsdHMpIHtcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gQ29yZS5pbmplY3QoJ0NvbnRhaW5lcicsIFtoZWxwZXJzXSk7XHJcbiAgICAgICAgY29udGFpbmVyLnNvdXJjZShjb250YWluZXIsICcrJyk7XHJcbiAgICAgICAgY29udGFpbmVyLnNvdXJjZShkZWZhdWx0cywgJ0AnKTtcclxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgfTtcclxuXHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNC8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBJbmplY3Rpb24oY29uLCByZXNvbHZlZCkge1xyXG4gICAgdmFyIGNvbnN0cnVjdG9yID0gY29uLCBpbnN0YW5jZSA9IG51bGwsXHJcbiAgICAgICAgZGVwZW5kZW5jaWVzID0gW10sXHJcbiAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG5cclxuICAgIGlmIChyZXNvbHZlZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgY29uID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gY29uLmNvbnN0cnVjdG9yO1xyXG4gICAgICAgICAgICBpbnN0YW5jZSA9IGNvbjtcclxuICAgICAgICAgICAgZGVwZW5kZW5jaWVzID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIFByZVJlc29sdmVkSW5qZWN0aW9uISBjb24gYXJndW1lbnQgaXMgbm90IGFuIG9iamVjdCEnKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmICh0eXBlb2YgY29uID09PSBcImZ1bmN0aW9uXCIgJiYgY29uLm5hbWUpIHtcclxuICAgICAgICAgICAgY29uc3RydWN0b3IgPSBjb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjb24gPT09IFwib2JqZWN0XCIgJiYgY29uLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25baV0gPT09IFwic3RyaW5nXCIgJiYgY29uW2ldLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llcy5wdXNoKGNvbltpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29uW2ldID09PSBcImZ1bmN0aW9uXCIgJiYgY29uW2ldLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvciA9IGNvbltpXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFjb25zdHJ1Y3RvcikgdGhyb3cgbmV3IEVycm9yKCdJbmplY3Rpb24gY29uc3RydWN0b3IgdW5kZWZpbmVkIScpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB0aGlzLm5hbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLm5hbWU7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChkZXBlbmRlbmNpZXNbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmV4dGVuZCA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuICAgICAgICBpZihyZXNvbHZlZCkgdGhyb3cgbmV3IEVycm9yKCdZb3UgY2FuIG5vdCBleHRlbmQgd2l0aCBbJyArIGNvbnN0cnVjdG9yLm5hbWUgKyAnXSEnKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgaW5qZWN0aW9uTmFtZSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpbmplY3Rpb25OYW1lID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGNvbnRhaW5lci5maW5kU291cmNlQnlJbmplY3Rpb25OYW1lKGluamVjdGlvbk5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHNvdXJjZS5yZXNvbHZlSW5qZWN0aW9uRGVwZW5kYW5jaWVzKGluamVjdGlvbk5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuJGNvbnN0cnVjdG9yLmFwcGx5KHRhcmdldCwgY29uZmlnLmRlcGVuZGVuY2llcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBmaW5kIGluamVjdGlvbiBbJyArIGluamVjdGlvbk5hbWUgKyAnXSBmb3IgWycgKyBzZWxmLm5hbWUoKSArJ10nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4dGVuZCBjbGFzcyBuYW1lIHNob3VsZCBiZSBhIHN0cmluZyEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXh0ZW5kIHRhcmdldCBzaG91bGQgYmUgYW4gb2JqZWN0IScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmluamVjdCA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuICAgICAgICBpZihyZXNvbHZlZCkgdGhyb3cgbmV3IEVycm9yKCdZb3UgY2FuIG5vdCBpbmplY3QgWycgKyBjb25zdHJ1Y3Rvci5uYW1lICsnXSBkaXJlY3RseScpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoaW5qZWN0aW9uTmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLnJlc29sdmVEaXJlY3RJbmplY3Rpb24oaW5qZWN0aW9uTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uIChhcmdzLCBkaXJlY3QpIHtcclxuICAgICAgICBpZiAocmVzb2x2ZWQpIHJldHVybiBpbnN0YW5jZTtcclxuICAgICAgICBpZiAoZGlyZWN0KSB7XHJcbiAgICAgICAgICAgIGFyZ3MudW5zaGlmdChudWxsKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoY29uc3RydWN0b3IsIGFyZ3MpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIGFyZ3MudW5zaGlmdChudWxsKTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShjb25zdHJ1Y3RvciwgYXJncykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuJGNvbnN0cnVjdG9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEluamVjdGlvbihjb24sIHJlc29sdmVkKTtcclxuICAgIH07XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAxNC8wOC8yMDE3LlxyXG4gKi9cclxuQ29yZShmdW5jdGlvbiBSb290KCkge1xyXG4gICAgdmFyIGFwcHMgPSB7fSxcclxuICAgICAgICBzZXJ2aWNlcyA9IENvcmUuZ2V0KCdTZXJ2aWNlcycpLFxyXG4gICAgICAgIGNsYXNzZXMgPSBDb3JlLmdldCgnQ2xhc3NlcycpLFxyXG4gICAgICAgIGhlbHBlcnMgPSBDb3JlLmdldCgnSGVscGVycycpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUFwcGxpY2F0aW9uKGFwcCkge1xyXG4gICAgICAgIHZhciBhcHBDb250YWluZXIgPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW2FwcHNbYXBwXV0pLFxyXG4gICAgICAgICAgICBhcHBUaWNrZXIgPSBDb3JlLmluamVjdCgnVGlja2VyJyksXHJcbiAgICAgICAgICAgIGFwcENhbnZhcyA9IENvcmUuaW5qZWN0KCdDYW52YXMnLCBbYXBwVGlja2VyXSksXHJcbiAgICAgICAgICAgIGFwcEF1ZGlvID0gQ29yZS5pbmplY3QoJ0F1ZGlvJywgW10pLFxyXG4gICAgICAgICAgICBhcHBDb25maWcgPSBDb3JlLmluamVjdCgnQ29uZmlnJywgW2FwcF0pLFxyXG4gICAgICAgICAgICBhcHBGb250cyA9IENvcmUuaW5qZWN0KCdGb250cycsIFthcHBDb25maWcsIGFwcF0pLFxyXG4gICAgICAgICAgICBhcHBBcGkgPSBDb3JlLmluamVjdCgnQXBwbGljYXRpb24nLCBbYXBwQ2FudmFzLCBhcHBUaWNrZXIsIGFwcENvbmZpZ10pO1xyXG5cclxuICAgICAgICB2YXIgZGVmYXVsdHNMaWJyYXJ5ID0ge307XHJcblxyXG4gICAgICAgIGRlZmF1bHRzTGlicmFyeS5UaWNrZXIgPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2FwcFRpY2tlciwgdHJ1ZV0pO1xyXG4gICAgICAgIGRlZmF1bHRzTGlicmFyeS5DYW52YXMgPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2FwcENhbnZhcywgdHJ1ZV0pO1xyXG4gICAgICAgIGRlZmF1bHRzTGlicmFyeS5BUEkgPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2FwcEFwaSwgdHJ1ZV0pO1xyXG4gICAgICAgIGRlZmF1bHRzTGlicmFyeS5Gb250cyA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbYXBwRm9udHMsIHRydWVdKTtcclxuICAgICAgICBkZWZhdWx0c0xpYnJhcnkuQ29uZmlnID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFthcHBDb25maWcsIHRydWVdKTtcclxuICAgICAgICBkZWZhdWx0c0xpYnJhcnkuQXVkaW8gPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2FwcEF1ZGlvLCB0cnVlXSk7XHJcblxyXG4gICAgICAgIHZhciBhcHBEZWZhdWx0cyA9IENvcmUuaW5qZWN0KCdDb250YWluZXInLCBbZGVmYXVsdHNMaWJyYXJ5XSksXHJcbiAgICAgICAgICAgIGFwcFN5c0hlbHBlcnMgPSBoZWxwZXJzLmdldFN5c3RlbUhlbHBlcnMoYXBwRGVmYXVsdHMpLFxyXG4gICAgICAgICAgICBhcHBQdWJIZWxwZXJzID0gaGVscGVycy5nZXRQdWJsaWNIZWxwZXJzKGFwcERlZmF1bHRzKSxcclxuICAgICAgICAgICAgYXBwQ2xhc3NlcyA9IGNsYXNzZXMuZ2V0QXBwbGljYXRpb25DbGFzc2VzKGFwcCksXHJcbiAgICAgICAgICAgIGFwcFN5c0NsYXNzZXMgPSBjbGFzc2VzLmdldFN5c3RlbUNsYXNzZXMoYXBwKSxcclxuICAgICAgICAgICAgYXBwU2VydmljZXMgPSBzZXJ2aWNlcy5nZXRBcHBsaWNhdGlvblNlcnZpY2VzKGFwcFN5c0hlbHBlcnMsIGFwcFN5c0NsYXNzZXMsIGFwcERlZmF1bHRzKTtcclxuXHJcbiAgICAgICAgYXBwQ29udGFpbmVyLnNvdXJjZShhcHBTZXJ2aWNlcywgZmFsc2UpO1xyXG4gICAgICAgIGFwcENvbnRhaW5lci5zb3VyY2UoYXBwQ2xhc3NlcywgJy4nKTtcclxuICAgICAgICBhcHBDb250YWluZXIuc291cmNlKGFwcFB1YkhlbHBlcnMsICcrJyk7XHJcbiAgICAgICAgYXBwQ29udGFpbmVyLnNvdXJjZShhcHBEZWZhdWx0cywgJ0AnKTtcclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgYXBwU2VydmljZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGxpc3QgPSBhcHBTZXJ2aWNlc1tpXS5saXN0KCk7XHJcbiAgICAgICAgICAgIGZvcih2YXIgbCA9IDAgOyBsIDwgbGlzdC5sZW5ndGg7IGwrKykge1xyXG4gICAgICAgICAgICAgICAgYXBwU2VydmljZXNbaV0ucmVzb2x2ZShsaXN0W2xdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBhcHBDb250YWluZXIucmVzb2x2ZShhcHApO1xyXG4gICAgICAgIHJldHVybiBhcHBBcGk7XHJcbiAgICB9XHJcblxyXG4gICAgQ29yZS5kZWZpbmUoJ2FwcCcsIGZ1bmN0aW9uIChjZmcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgYXBwbGljYXRpb24gPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2NmZ10pO1xyXG4gICAgICAgICAgICBpZiAoYXBwc1thcHBsaWNhdGlvbi5uYW1lKCldKSBjb25zb2xlLndhcm4oJ0FwcGxpY2F0aW9uIFsnICsgYXBwbGljYXRpb24ubmFtZSgpICsgJ10gb3ZlcnJpZGUuIFJlbW92ZSBkdXBsaWNhdGVzJyk7XHJcbiAgICAgICAgICAgIGFwcHNbYXBwbGljYXRpb24ubmFtZSgpXSA9IGFwcGxpY2F0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmFibGUgdG8gcmVnaXN0ZXIgQXBwbGljYXRpb24gY29uc3RydWN0b3IuJyk7XHJcbiAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgQ29yZS5kZWZpbmUoJ3J1bicsIGZ1bmN0aW9uIChhcHApIHtcclxuICAgICAgICBpZiAodHlwZW9mIGFwcCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAoYXBwc1thcHBdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQXBwbGljYXRpb24oYXBwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXBwbGljYXRpb24gWycgKyBhcHAgKyAnXSBub3QgZm91bmQuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGdldCBhcHAuIEFwcCBJZCBpcyBub3QgYSBzdHJpbmcnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIFNlcnZpY2VzKCkge1xyXG5cclxuICAgIHZhciBzZXJ2aWNlcyA9IHt9LFxyXG4gICAgICAgIHNlcnZpY2VDbGFzc2VzID0ge30sXHJcbiAgICAgICAgcGx1Z2lucyA9IHt9LFxyXG4gICAgICAgIHBsdWdpbnNDbGFzc2VzID0ge307XHJcblxyXG4gICAgZnVuY3Rpb24gc2VydmljZShjZmcpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGNmZyA9PT0gXCJvYmplY3RcIiAmJiBjZmcuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgIHZhciBzZXJ2aWNlTmFtZSA9IG51bGw7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2ZnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNmZ1tpXSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZU5hbWUgPSBjZmdbaV0ubmFtZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjZmdbaV0gIT09IFwic3RyaW5nXCIpIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBzZXJ2aWNlLiBJbnZhbGlkIGNvbmZpZycpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2VydmljZU5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNlc1tzZXJ2aWNlTmFtZV0pIGNvbnNvbGUud2FybignRHVwbGljYXRlIGRlY2xhcmF0aW9uLiBTZXJ2aWNlIFsnICsgc2VydmljZU5hbWUgKyAnXSBoYXMgYmVlbiBvdmVyd3JpdHRlbicpO1xyXG4gICAgICAgICAgICAgICAgc2VydmljZXNbc2VydmljZU5hbWVdID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtjZmddKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgY2ZnID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgaWYgKGNmZy5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VydmljZXNbY2ZnLm5hbWVdKSBjb25zb2xlLndhcm4oJ0R1cGxpY2F0ZSBkZWNsYXJhdGlvbi4gU2VydmljZSBbJyArIHNlcnZpY2VOYW1lICsgJ10gaGFzIGJlZW4gb3ZlcndyaXR0ZW4nKTtcclxuICAgICAgICAgICAgICAgIHNlcnZpY2VzW2NmZy5uYW1lXSA9IENvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbY2ZnXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgc2VydmljZS4gQ29uc3RydWN0b3IgaXMgbm90IGEgbmFtZWQgZnVuY3Rpb24uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBsdWdpbihhLCBiKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYiA9PT0gXCJvYmplY3RcIiAmJiBiLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBsdWdpbk5hbWUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiW2ldID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luTmFtZSA9IGJbaV0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGJbaV0gIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIHBsdWdpbi4gSW52YWxpZCBjb25zdHJ1Y3RvciBhcmd1bWVudHMnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGx1Z2luc1thXSkgcGx1Z2luc1thXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW5zW2FdW3BsdWdpbk5hbWVdKSBjb25zb2xlLndhcm4oJ1BsdWdpbiBkdXBsaWNhdGVkLiBbJyArIHBsdWdpbk5hbWUgKyAnXSBoYXMgYmVlbiBvdmVyd3JpdHRlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbnNbYV1bcGx1Z2luTmFtZV0gPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2JdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBwbHVnaW4uIENvbnN0cnVjdG9yIGlzIG5vdCBhIG5hbWVkIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBwbHVnaW4uIEludmFsaWQgYXJndW1lbnRzLicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwbHVnaW4uY2xhc3MgPSBmdW5jdGlvbiAoc3ZjLCBhLCBiKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBzdmMgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBhID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGIgPT09IFwib2JqZWN0XCIgJiYgYi5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGx1Z2luQ2xhc3NOYW1lID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiW2ldID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbkNsYXNzTmFtZSA9IGJbaV0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYltpXSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIHBsdWdpbiBjbGFzcy4gSW52YWxpZCBjb25zdHJ1Y3RvciBhcmd1bWVudHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGx1Z2luQ2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGx1Z2luc0NsYXNzZXNbc3ZjXSkgcGx1Z2luc0NsYXNzZXNbc3ZjXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBsdWdpbnNDbGFzc2VzW3N2Y11bYV0pIHBsdWdpbnNDbGFzc2VzW3N2Y11bYV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBsdWdpbnNDbGFzc2VzW3N2Y11bYV1bcGx1Z2luQ2xhc3NOYW1lXSkgY29uc29sZS53YXJuKCdQbHVnaW4gY2xhc3MgZHVwbGljYXRlZC4gWycgKyBwbHVnaW5DbGFzc05hbWUgKyAnXSBoYXMgYmVlbiBvdmVyd3JpdHRlbicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luc0NsYXNzZXNbc3ZjXVthXVtwbHVnaW5DbGFzc05hbWVdID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtiXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgcGx1Z2luLiBDb25zdHJ1Y3RvciBpcyBub3QgYSBuYW1lZCBmdW5jdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBiID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYi5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGx1Z2luc0NsYXNzZXNbc3ZjXSkgcGx1Z2luc0NsYXNzZXNbc3ZjXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBsdWdpbnNDbGFzc2VzW3N2Y11bYV0pIHBsdWdpbnNDbGFzc2VzW3N2Y11bYV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBsdWdpbnNDbGFzc2VzW3N2Y11bYV1bYi5uYW1lXSkgY29uc29sZS53YXJuKCdQbHVnaW4gY2xhc3MgZHVwbGljYXRlZC4gWycgKyBiLm5hbWUgKyAnXSBoYXMgYmVlbiBvdmVyd3JpdHRlbicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luc0NsYXNzZXNbc3ZjXVthXVtiLm5hbWVdID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtiXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byByZWdpc3RlciBwbHVnaW4gY2xhc3MuIEludmFsaWQgYXJndW1lbnRzJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgcGx1Z2luLiBJbnZhbGlkIGFyZ3VtZW50cy4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9O1xyXG4gICAgc2VydmljZS5jbGFzcyA9IGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IG51bGw7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYi5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXJ2aWNlQ2xhc3Nlc1thXSkgc2VydmljZUNsYXNzZXNbYV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlQ2xhc3Nlc1thXVtiLm5hbWVdID0gQ29yZS5pbmplY3QoJ0luamVjdGlvbicsIFtiXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBjbGFzcyBmb3IgZXh0ZW5zaW9uIFsnICsgYSArICddLiBDb25zdHJ1Y3RvciBpcyBub3QgYSBuYW1lZCBmdW5jdGlvbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBiID09PSBcIm9iamVjdFwiICYmIGIuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGJbaV0gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBiW2ldLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBiW2ldICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBjbGFzcyBmb3Igc2VydmljZVsnICsgYSArICddLiBJbnZhbGlkIGNvbmZpZy4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXJ2aWNlQ2xhc3Nlc1thXSkgc2VydmljZUNsYXNzZXNbYV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VydmljZUNsYXNzZXNbYV1bY2xhc3NOYW1lXSkgY29uc29sZS53YXJuKCdEdXBsaWNhdGUgZGVjbGFyYXRpb24uIENsYXNzIFsnICsgY2xhc3NOYW1lICsgJ10gZm9yIGV4dGVuc2lvbiBbJyArIGEgKyAnXSBoYXMgYmVlbiBvdmVyd3JpdHRlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VDbGFzc2VzW2FdW2NsYXNzTmFtZV0gPSBDb3JlLmluamVjdCgnSW5qZWN0aW9uJywgW2JdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIGNsYXNzLiBJbnZhbGlkIGFyZ3VtZW50cycpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQ29yZS5kZWZpbmUoJ3NlcnZpY2UnLCBzZXJ2aWNlKTtcclxuICAgIENvcmUuZGVmaW5lKCdwbHVnaW4nLCBwbHVnaW4pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldFBsdWdpbk1hbmFnZXIobGliKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gUGx1Z2lucygpIHtcclxuICAgICAgICAgICAgdmFyIGxpYnJhcnkgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaWIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gbGliW2ldLmxpc3QoKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gbGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0W3Byb3BdLiRjb25zdHJ1Y3RvcigpICE9PSBQbHVnaW5zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpYnJhcnkucHVzaChwcm9wKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5lYWNoID0gZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlicmFyeS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGYobGlicmFyeVtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGlzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpYnJhcnkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2gobGlicmFyeVtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW0NvcmUuaW5qZWN0KCdJbmplY3Rpb24nLCBbUGx1Z2luc10pXSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5nZXRBcHBsaWNhdGlvblNlcnZpY2VzID0gZnVuY3Rpb24gKF9oZWxwZXJzLCBfc3lzQ2xhc3NlcywgX2VuZ2luZURlZmF1bHRzKSB7XHJcblxyXG4gICAgICAgIHZhciBfc2VydmljZXMgPSB7fSxcclxuICAgICAgICAgICAgX3NlcnZpY2VzQ2xhc3NlcyA9IHt9LFxyXG4gICAgICAgICAgICBfc2VydmljZXNQbHVnaW5zID0ge30sXHJcbiAgICAgICAgICAgIF9zZXJ2aWNlc1BsdWdpbnNDbGFzc2VzID0ge30sXHJcbiAgICAgICAgICAgIF9zZXJ2aWNlLCBfcGx1Z2luO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBzZXJ2aWNlIGluIHNlcnZpY2VzKSB7XHJcbiAgICAgICAgICAgIGlmIChzZXJ2aWNlcy5oYXNPd25Qcm9wZXJ0eShzZXJ2aWNlKSkge1xyXG4gICAgICAgICAgICAgICAgX3NlcnZpY2UgPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW3NlcnZpY2VzW3NlcnZpY2VdXSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3BsdWdpbnMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luc1tzZXJ2aWNlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHBsdWdpbiBpbiBwbHVnaW5zW3NlcnZpY2VdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW5zW3NlcnZpY2VdLmhhc093blByb3BlcnR5KHBsdWdpbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wbHVnaW4gPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW3BsdWdpbnNbc2VydmljZV1bcGx1Z2luXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfc2VydmljZXNQbHVnaW5zW3NlcnZpY2VdKSBfc2VydmljZXNQbHVnaW5zW3NlcnZpY2VdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VydmljZXNQbHVnaW5zW3NlcnZpY2VdW3BsdWdpbl0gPSBfcGx1Z2luO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBsdWdpbnNDbGFzc2VzW3NlcnZpY2VdW3BsdWdpbl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3BsdWdpbkNsYXNzZXNDb250YWluZXIgPSBDb3JlLmluamVjdCgnQ29udGFpbmVyJywgW3BsdWdpbnNDbGFzc2VzW3NlcnZpY2VdW3BsdWdpbl1dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9zZXJ2aWNlc1BsdWdpbnNDbGFzc2VzW3NlcnZpY2VdKSBfc2VydmljZXNQbHVnaW5zQ2xhc3Nlc1tzZXJ2aWNlXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXJ2aWNlc1BsdWdpbnNDbGFzc2VzW3NlcnZpY2VdW3BsdWdpbl0gPSBfcGx1Z2luQ2xhc3Nlc0NvbnRhaW5lcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGx1Z2luLnNvdXJjZShfcGx1Z2luQ2xhc3Nlc0NvbnRhaW5lciwgJyQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGx1Z2luQ2xhc3Nlc0NvbnRhaW5lci5zb3VyY2UoX3BsdWdpbkNsYXNzZXNDb250YWluZXIsICckJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BsdWdpbkNsYXNzZXNDb250YWluZXIuc291cmNlKF9zeXNDbGFzc2VzLCAnLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wbHVnaW5DbGFzc2VzQ29udGFpbmVyLnNvdXJjZShfaGVscGVycywgJysnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wbHVnaW4uc291cmNlKF9zeXNDbGFzc2VzLCAnLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BsdWdpbi5zb3VyY2UoX2hlbHBlcnMsICcrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGx1Z2lucy5wdXNoKF9wbHVnaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIF9wbHVnaW5zLnB1c2goZ2V0UGx1Z2luTWFuYWdlcihfcGx1Z2lucykpO1xyXG4gICAgICAgICAgICAgICAgX3NlcnZpY2Uuc291cmNlKF9wbHVnaW5zLCAnPCcpO1xyXG4gICAgICAgICAgICAgICAgX3NlcnZpY2Uuc291cmNlKF9zeXNDbGFzc2VzLCAnLicpO1xyXG4gICAgICAgICAgICAgICAgX3NlcnZpY2Uuc291cmNlKF9oZWxwZXJzLCAnKycpO1xyXG4gICAgICAgICAgICAgICAgX3NlcnZpY2Uuc291cmNlKF9lbmdpbmVEZWZhdWx0cywgJ0AnKTtcclxuICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNlQ2xhc3Nlc1tzZXJ2aWNlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXJ2aWNlQ2xhc3Nlc0NvbnRhaW5lciA9IENvcmUuaW5qZWN0KCdDb250YWluZXInLCBbc2VydmljZUNsYXNzZXNbc2VydmljZV1dKTtcclxuICAgICAgICAgICAgICAgICAgICBfc2VydmljZS5zb3VyY2Uoc2VydmljZUNsYXNzZXNDb250YWluZXIsICckJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZUNsYXNzZXNDb250YWluZXIuc291cmNlKHNlcnZpY2VDbGFzc2VzQ29udGFpbmVyLCAnJCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VDbGFzc2VzQ29udGFpbmVyLnNvdXJjZShfc3lzQ2xhc3NlcywgJy4nKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlQ2xhc3Nlc0NvbnRhaW5lci5zb3VyY2UoX3BsdWdpbnMsICc8Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZUNsYXNzZXNDb250YWluZXIuc291cmNlKF9oZWxwZXJzLCAnKycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VDbGFzc2VzQ29udGFpbmVyLnNvdXJjZShfZW5naW5lRGVmYXVsdHMsICdAJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzQ2xhc3Nlc1tzZXJ2aWNlXSA9IHNlcnZpY2VDbGFzc2VzQ29udGFpbmVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzQ2xhc3Nlc1tzZXJ2aWNlXSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfc2VydmljZXNbc2VydmljZV0gPSBfc2VydmljZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgcyBpbiBfc2VydmljZXMpIHtcclxuICAgICAgICAgICAgaWYgKF9zZXJ2aWNlcy5oYXNPd25Qcm9wZXJ0eShzKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9zZXJ2aWNlc1NlcnZpY2VTb3VyY2UgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHMyIGluIF9zZXJ2aWNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfc2VydmljZXMuaGFzT3duUHJvcGVydHkoczIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzICE9PSBzMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzU2VydmljZVNvdXJjZS5wdXNoKF9zZXJ2aWNlc1tzMl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3NlcnZpY2VzW3NdLnNvdXJjZShfc2VydmljZXNTZXJ2aWNlU291cmNlLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKF9zZXJ2aWNlc0NsYXNzZXNbc10pIF9zZXJ2aWNlc0NsYXNzZXNbc10uc291cmNlKF9zZXJ2aWNlc1NlcnZpY2VTb3VyY2UsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoX3NlcnZpY2VzUGx1Z2luc1tzXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gX3NlcnZpY2VzUGx1Z2luc1tzXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3NlcnZpY2VzUGx1Z2luc1tzXS5oYXNPd25Qcm9wZXJ0eShwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzUGx1Z2luc1tzXVtwXS5zb3VyY2UoX3NlcnZpY2VzU2VydmljZVNvdXJjZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChfc2VydmljZXNQbHVnaW5zQ2xhc3Nlc1tzXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHBjbCBpbiBfc2VydmljZXNQbHVnaW5zQ2xhc3Nlc1tzXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3NlcnZpY2VzUGx1Z2luc0NsYXNzZXNbc10uaGFzT3duUHJvcGVydHkocGNsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlcnZpY2VzUGx1Z2luc0NsYXNzZXNbc11bcGNsXS5zb3VyY2UoX3NlcnZpY2VzU2VydmljZVNvdXJjZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gX3NlcnZpY2VzKSB7XHJcbiAgICAgICAgICAgIGlmIChfc2VydmljZXMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKF9zZXJ2aWNlc1twcm9wXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgX2hlbHBlcnMuc291cmNlKHJlc3VsdCwgZmFsc2UpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG5cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE1LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIFNvdXJjZShwcmVmaXgsIGNvbnRhaW5lciwgbG9vcCkge1xyXG5cclxuICAgIHZhciBwZnggPSBwcmVmaXggPyBwcmVmaXggOiBmYWxzZSxcclxuICAgICAgICBjb250YWluZXJzID0gW10sXHJcbiAgICAgICAgY2FjaGUgPSB7fSxcclxuICAgICAgICBjaGVja0NhY2hlID0ge307XHJcblxyXG4gICAgaWYgKHR5cGVvZiBjb250YWluZXIgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICBpZiAoQ29yZS5pcyhjb250YWluZXIsICdDb250YWluZXInKSkge1xyXG4gICAgICAgICAgICBjb250YWluZXJzID0gW2NvbnRhaW5lcl1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29udGFpbmVyLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRhaW5lci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKENvcmUuaXMoY29udGFpbmVyW2ldLCAnQ29udGFpbmVyJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJzLnB1c2goY29udGFpbmVyW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5sZW5ndGggPT09IDApIHZhbGlkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXZhbGlkKSB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRhaW5lciBhcnJheSBpcyBlbXB0eSEnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0eXBlIGlmIGNvbnRhaW5lciEnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIHN0cmlwUHJlZml4KG5hbWUpIHtcclxuICAgICAgICBpZiAocHJlZml4KSB7XHJcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSAnJztcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA+PSBwZngubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IG5hbWVbaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jaGVjayA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgaWYoY2hlY2tDYWNoZVtuYW1lXSkgcmV0dXJuIGNoZWNrQ2FjaGVbbmFtZV07XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgaWYgKHByZWZpeCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByZWZpeC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFuYW1lW2ldIHx8IG5hbWVbaV0gIT09IHByZWZpeFtpXSkgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2hlY2tDYWNoZVtuYW1lXSA9IHJlc3VsdDtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmhhcyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgIGlmKGNhY2hlW25hbWVdKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5jaGVjayhuYW1lKSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRhaW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHJpcE5hbWUgPSBzdHJpcFByZWZpeChuYW1lKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb250YWluZXJzW2ldLmhhcyhzdHJpcE5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBjYWNoZVtuYW1lXSA9IGNvbnRhaW5lcnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5sb29wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBsb29wO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNvbnRhaW5lcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcnM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc291cmNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb250YWluZXJzW2ldLnNvdXJjZS5hcHBseShjb250YWluZXJzW2ldLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5wcmVmaXggPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgaWYgKHN0ciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdHIgPT09IHBmeDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBmeDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZXNvbHZlID0gZnVuY3Rpb24gKG5hbWUsIGRpcmVjdCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBudWxsO1xyXG4gICAgICAgIGlmICh0aGlzLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgICB2YXIgc291cmNlID0gbnVsbDtcclxuICAgICAgICAgICAgdmFyIHN0cmlwTmFtZSA9IHN0cmlwUHJlZml4KG5hbWUpO1xyXG4gICAgICAgICAgICBpZihjYWNoZVtuYW1lXSkgc291cmNlID0gY2FjaGVbbmFtZV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lcnNbaV0uaGFzKHN0cmlwTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBjb250YWluZXJzW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzb3VyY2UpIHJlc3VsdCA9IHNvdXJjZS5yZXNvbHZlKHN0cmlwTmFtZSwgZGlyZWN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZXNvbHZlSW5qZWN0aW9uRGVwZW5kYW5jaWVzID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICB2YXIgc291cmNlID0gbnVsbCwgc3RyaXBOYW1lID0gbnVsbDtcclxuICAgICAgICBpZihjYWNoZVtuYW1lXSkge1xyXG4gICAgICAgICAgICBzdHJpcE5hbWUgPSBzdHJpcFByZWZpeChuYW1lKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlW25hbWVdLnJlc29sdmUoc3RyaXBOYW1lLCAnZXh0ZW5kJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5oYXMobmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHN0cmlwTmFtZSA9IHN0cmlwUHJlZml4KG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250YWluZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lcnNbaV0uaGFzKHN0cmlwTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlID0gY29udGFpbmVyc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVbbmFtZV0gPSBjb250YWluZXJzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlKSByZXR1cm4gc291cmNlLnJlc29sdmUoc3RyaXBOYW1lLCAnZXh0ZW5kJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDE0LzA4LzIwMTcuXHJcbiAqL1xyXG5Db3JlKGZ1bmN0aW9uIFRpY2tlcigpIHtcclxuICAgIHZhciBmcmFtZUR1cmF0aW9uID0gKDEwMDAgLyA1OC44KS50b0ZpeGVkKDIpLFxyXG4gICAgICAgIHF1ZXVlID0gW10sXHJcbiAgICAgICAgZnJhbWUgPSAwLFxyXG4gICAgICAgIGFyZ3MgPSBbbnVsbCwgMF0sXHJcbiAgICAgICAgZHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZVtpXS5mLmFwcGx5KHNlbGYsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGVtZXJnZWQgd2hpbGUgcmVzb2x2aW5nIGNhbGxiYWNrcy5cXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ1F1ZXVlICAgOiBbJyArIHF1ZXVlW2ldLm8gKyAnXVxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnT3JkZXIgICA6IFsnICsgaSArICddXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdOYW1lICAgIDogWycgKyAocXVldWVbaV0uZi5uYW1lKSArICddLlxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWVzc2FnZSA6ICcgKyBlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZyYW1lKys7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0aWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBhcmdzWzBdID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgYXJnc1sxXSA9IGZyYW1lO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZHJhdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoJ2Vycm9yJywgZSk7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBydW4gdGlja2VyIGFueW1vcmUuICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICdFcnJvciBlbWVyZ2VkIGR1cmluZyBhcHAgdGlja2VyIHByb2dyZXNzLlxcbiAnICtcclxuICAgICAgICAgICAgICAgICAgICAnRnJhbWUgOicgKyBmcmFtZSArICdcXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAnRGF0ZSAgOiAnICsgYXJnc1swXSArICdcXG4nICtcclxuICAgICAgICAgICAgICAgICAgICBlLm1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICBpbnRlcnZhbCA9IG51bGwsXHJcbiAgICAgICAgZXZlbnRDYiA9IHtcclxuICAgICAgICAgICAgc3RvcDogW10sXHJcbiAgICAgICAgICAgIHN0YXJ0OiBbXSxcclxuICAgICAgICAgICAgZXJyb3I6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZWxmID0gdGhpcztcclxuXHJcbiAgICBmdW5jdGlvbiByZXNvbHZlKGV2ZW50LCBhcmdzKSB7XHJcbiAgICAgICAgdmFyIF9jYWxsX2FyZ3MgPSBbXTtcclxuICAgICAgICBpZiAodHlwZW9mIGFyZ3MgPT09IFwib2JqZWN0XCIgJiYgYXJncy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgX2NhbGxfYXJncyA9IGFyZ3M7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGFyZ3MgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBfY2FsbF9hcmdzLnB1c2goYXJncyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09PSBcInN0cmluZ1wiICYmIGV2ZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnRDYltldmVudF0pIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRDYltldmVudF0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudENiW2V2ZW50XVtpXS5hcHBseShzZWxmLCBfY2FsbF9hcmdzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHJlc29sdmUgZXZlbnQgWycgKyBldmVudCArICddLiBObyBzdWNoIGV2ZW50LicpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHJlc29sdmUgZXZlbnQuIEV2ZW50IHBhcmFtZXRlciBpcyBub3QgYSBzdHJpbmcgb3IgZW1wdHknKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIiAmJiBldmVudC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50Q2JbZXZlbnRdKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Q2JbZXZlbnRdLnB1c2goZnVuYylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBldmVudCBbJyArIGV2ZW50ICsgJ10uIENhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uLicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IGV2ZW50IFsnICsgZXZlbnQgKyAnXSBoYW5kbGVyLiBObyBzdWNoIGV2ZW50LicpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBldmVudC4gRXZlbnQgYXJndW1lbnQgaXMgbm90IGEgc3RyaW5nIG9yIGVtcHR5LicpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGZyYW1lID0gMDtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XHJcbiAgICAgICAgICAgIGludGVydmFsID0gbnVsbDtcclxuICAgICAgICAgICAgcmVzb2x2ZSgnc3RvcCcsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIWludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwodGljaywgZnJhbWVEdXJhdGlvbik7XHJcbiAgICAgICAgICAgIHJlc29sdmUoJ3N0YXJ0JywgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmZwcyA9IGZ1bmN0aW9uIChudW1iZXIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG51bWJlciA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBpZiAobnVtYmVyID4gNjApIG51bWJlciA9IDYwO1xyXG4gICAgICAgICAgICBpZiAobnVtYmVyIDw9IDApIG51bWJlciA9IDE7XHJcbiAgICAgICAgICAgIGZyYW1lRHVyYXRpb24gPSAoMTAwMCAvIG51bWJlcikudG9GaXhlZCgyKTtcclxuICAgICAgICAgICAgaWYgKGludGVydmFsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuICgxMDAwIC8gZnJhbWVEdXJhdGlvbikudG9GaXhlZCgyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucXVldWUgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIGlmICghYS5uYW1lKSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgY2FsbGJhY2suIENhbGxiYWNrIGlzIG5vdCBhIG5hbWVkIGZ1bmN0aW9uLicpO1xyXG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHtvOiAwLCBmOiBifSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWIubmFtZSkgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IGNhbGxiYWNrLiBDYWxsYmFjayBpcyBub3QgYSBuYW1lZCBmdW5jdGlvbi4nKTtcclxuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goe286IGEsIGY6IGJ9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHF1ZXVlLiBjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbicpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBjYWxsYmFjay4gV3JvbmcgYXJndW1lbnRzIHBhc3NlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBxdWV1ZS5zb3J0KGZ1bmN0aW9uIChhLGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGEubyA+IGIubztcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWydAaW5qZWN0JywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBBbmltYXRpb24oaW5qZWN0LCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbnMgPSBbXSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGVkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtb3JwaHMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubW9ycGggPSBmdW5jdGlvbiAobmFtZSwgb3JkZXJpbmcsIHNldHRlciwgYXBwbGllcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vcnBoID0gaW5qZWN0KCckTW9ycGgnKTtcclxuICAgICAgICAgICAgICAgIG1vcnBoLmNvbmZpZyhuYW1lLCB0aGlzLm9iamVjdCgpLCBvcmRlcmluZywgc2V0dGVyLCBhcHBsaWVyKTtcclxuICAgICAgICAgICAgICAgIGlmIChtb3JwaC52YWxpZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9ycGhzW25hbWVdID0gbW9ycGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmV4dHJhY3RNb3JwaCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9ycGhzW25hbWVdO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZmluZENvbXBldGl0b3IocHJvcGVydGllcywgYW5pbWF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uJCRTRUxGID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgY29tcGV0aXRvciA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbmltYXRpb25zW2ldLiQkU0VMRikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uc1tpXS5hY3RpdmUoKSAmJiAhYW5pbWF0aW9uc1tpXS5kb25lKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGVjayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBwcm9wZXJ0aWVzLmxlbmd0aDsgbisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbnNbaV0uaGFzUHJvcGVydHkocHJvcGVydGllc1tuXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2sgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbXBldGl0b3IpIGNvbXBldGl0b3IgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wZXRpdG9yLnB1c2goYW5pbWF0aW9uc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIGFuaW1hdGlvbi4kJFNFTEY7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBldGl0b3I7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIENoZWNrQW5pbWF0aW9uUXVldWUoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2FuaW1hdGlvbnMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGlvbnNbaV0uYWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BzID0gYW5pbWF0aW9uc1tpXS5wcm9wZXJ0aWVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25zW2ldLnF1ZXVlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmluZENvbXBldGl0b3IocHJvcHMsIGFuaW1hdGlvbnNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uc1tpXS5zdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBldGl0b3JzID0gZmluZENvbXBldGl0b3IocHJvcHMsIGFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBldGl0b3JzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBjb21wZXRpdG9ycy5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwID0gMDsgcCA8IHByb3BzLmxlbmd0aDsgcCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wZXRpdG9yc1tuXS5zdG9wKHByb3BzW3BdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnNbaV0uc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhbmltYXRpb25zW2ldLmRvbmUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FuaW1hdGlvbnMucHVzaChhbmltYXRpb25zW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zID0gX2FuaW1hdGlvbnM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVBbmltYXRpb25UeXBlMShwcm9wZXJ0eSwgdmFsdWUsIGR1cmF0aW9uLCBlYXNpbmcpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBwYWlyID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgcGFpcltwcm9wZXJ0eV0gPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobW9ycGhzW3Byb3BlcnR5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGFjayA9IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcmluZzogc3R5bGUub3JkZXJpbmcocHJvcGVydHkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoOiBtb3JwaHNbcHJvcGVydHldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGR1cmF0aW9uICYmIHR5cGVvZiBkdXJhdGlvbiA9PT0gXCJudW1iZXJcIikgY29uZmlnLmR1cmF0aW9uID0gZHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVhc2luZyAmJiB0eXBlb2YgZWFzaW5nID09PSBcInN0cmluZ1wiKSBjb25maWcuZWFzaW5nID0gZWFzaW5nO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IGluamVjdCgnJEFuaW1hdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uY29uZmlnKHRoaXMsIHN0YWNrLCBjb25maWcsIENoZWNrQW5pbWF0aW9uUXVldWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlQW5pbWF0aW9uVHlwZTIocGFpcnMsIGFyZzIsIGFyZzMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnMiA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IGFyZzI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJnMiA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGFyZzJcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnMyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuZWFzaW5nID0gYXJnM1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhcmcyID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IGFyZzJcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwYWlycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFpcnMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1vcnBoc1twcm9wZXJ0eV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAnUHJvcGVydHkge3Byb3BlcnR5fSBvZiB7dHlwZX0gY2FuIG5vdCBiZSBhbmltYXRlZCEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbcHJvcGVydHldID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJpbmc6IHN0eWxlLm9yZGVyaW5nKHByb3BlcnR5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoOiBtb3JwaHNbcHJvcGVydHldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHBhaXJzW3Byb3BlcnR5XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBtb3JwaF9zdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gaW4gcmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9ycGhfc3RhY2sucHVzaChyZXN1bHRbaXRlbV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG1vcnBoX3N0YWNrLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5vcmRlcmluZyAtIGIub3JkZXJpbmc7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobW9ycGhfc3RhY2subGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IGluamVjdCgnJEFuaW1hdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5jb25maWcodGhpcywgbW9ycGhfc3RhY2ssIGNvbmZpZywgQ2hlY2tBbmltYXRpb25RdWV1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdObyBwcm9wZXJ0aWVzIHRvIGFuaW1hdGUhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2FuaW1hdGUnLCBmdW5jdGlvbiAoYXJnMSwgYXJnMiwgYXJnMywgYXJnNCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmcxID09PSAnc3RyaW5nJyAmJiBhcmcyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQ3JlYXRlQW5pbWF0aW9uVHlwZTEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhcmcxID09PSBcIm9iamVjdFwiICYmIGFyZzEuY29uc3RydWN0b3IgIT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQ3JlYXRlQW5pbWF0aW9uVHlwZTIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1VuYWJsZSB0byBjcmVhdGUgYW5pbWF0aW9uLiBXcm9uZyBhcmd1bWVudHMnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIENoZWNrQW5pbWF0aW9uUXVldWUoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdhbmltYXRlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbmltYXRlZDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdzdG9wJywgZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zW2ldLnN0b3AocHJvcGVydHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzUvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbignT2JqZWN0cycsXHJcbiAgICBbJ0RlYnVnJywgJ0BpbmplY3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEJveChEZWJ1ZywgaW5qZWN0KSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZiA9IG51bGwsIGJveCA9IGluamVjdCgnJEJveCcpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdCb3ggRXh0ZW5zaW9uIC8gQm94IGZ1bmN0aW9uIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGYgPSBmdW5jO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmY7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgb2JqZWN0ID0gdGhpcy5vYmplY3QoKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEJveFdyYXBwZXJGdW5jKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFmIHx8ICFvYmplY3QpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGYuY2FsbChvYmplY3QsIGJveCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJveCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3QuZXh0ZW5zaW9uKCdDYWNoZScpLnZhbHVlKCdib3gnLCBCb3hXcmFwcGVyRnVuYylcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHVyZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QuZXh0ZW5zaW9uKCdDYWNoZScpLnB1cmdlKCdib3gnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBvYmplY3QucGFyZW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmV4dGVuc2lvbignQm94JykucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2JveCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbignQ2FjaGUnKS52YWx1ZSgnYm94JywgQm94V3JhcHBlckZ1bmMpLmdldCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzUvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbignT2JqZWN0cycsXHJcbiAgICBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBDYWNoZShEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGZ1bmN0aW9uIChuYW1lLCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignT2JqZWN0IFZhbHVlIENhY2hlIC8gbmFtZSBpcyBub3QgYSBzdHJpbmchJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignT2JqZWN0IFZhbHVlIENhY2hlIC8gZnVuYyBpcyBub3QgYSBmdW5jdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1tuYW1lXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmMoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuYzogZnVuYyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsZXZhbnQ6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wdXJnZSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignT2JqZWN0IFZhbHVlIENhY2hlIC8gQ2FuIG5vdCBwdXJnZSBjYWNoZSBvZiBub24gc3RyaW5nIG5hbWUnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW25hbWVdLnJlbGV2YW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignT2JqZWN0IFZhbHVlIENhY2hlIC8gQ2FuIG5vdCBnZXQgdmFsdWUgb2Ygbm9uLXN0cmluZyBuYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsdWVzW25hbWVdLnJlbGV2YW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tuYW1lXS52YWx1ZSA9IHZhbHVlc1tuYW1lXS5mdW5jKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tuYW1lXS5yZWxldmFudCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzW25hbWVdLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjYvMjAxNi5cclxuICovXHJcbiRSLnBsdWdpbignT2JqZWN0cycsXHJcbiAgICBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBEcmF3ZXIoRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBmID0gbnVsbCwgbWF0cml4ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGNiID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZTogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXI6IFtdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gdGhpcy5vYmplY3QoKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlc29sdmUoZXZlbnQsIGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2JbZXZlbnRdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2JbZXZlbnRdLmFwcGx5KG9iamVjdCwgYXJncyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZiA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt9LCAnT2JqZWN0RHJhd2VyIC8gZnVuYyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5mO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGYgPSBmdW5jO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZjtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2JlZm9yZScsIGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2IuYmVmb3JlLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmFibGUgdG8gc2V0IGV2ZW50IFtiZWZvcmUgUmVuZGVyXS4gZnVuYyBpcyBub3QgYSBGdW5jdGlvbicpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignYWZ0ZXInLCBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNiLmFmdGVyLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmFibGUgdG8gc2V0IGV2ZW50IFthZnRlciBSZW5kZXJdLiBmdW5jIGlzIG5vdCBhIEZ1bmN0aW9uJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1hdHJpeCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtYXRyaXg7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCdiZWZvcmUnLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGYpIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoJ2FmdGVyJywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIucGx1Z2luKCdPYmplY3RzJyxcclxuICAgIFsnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIExheWVycyhEZWJ1Zykge1xyXG4gICAgICAgICAgICB2YXIgbGF5ZXJzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIDA6IFtdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbGF5ZXIgPSAwO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignbGF5ZXInLCBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHJldHVybiBsYXllcjtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWwgIT09IFwibnVtYmVyXCIgfHwgdmFsIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe246IHZhbH0sICdWYWx1ZSB7bn0gaXMgbm90IGEgbnVtYmVyIG9yIGxlc3MgdGhhbiAwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnRfbGF5ZXJfZXh0ID0gcGFyZW50LmV4dGVuc2lvbignTGF5ZXJzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50X2xheWVyX2V4dC5wbGFjZSh2YWwsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7fSwgJ1lvdSB0cnkgdG8gc2V0IGxheWVyIG9mIHJvb3QgZ3JvdXAhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxhY2UgPSBmdW5jdGlvbiAodmFsLCBvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIG9iamVjdC4kJExBWUVSU0VBUkNIVkFMVUUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGxheWVyIGluIGxheWVycykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXJzLmhhc093blByb3BlcnR5KGxheWVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9uZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxheWVyc1tsYXllcl0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXllcnNbbGF5ZXJdW2ldLiQkTEFZRVJTRUFSQ0hWQUxVRSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyc1tsYXllcl0uc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb25lKSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmplY3QuJCRMQVlFUlNFQVJDSFZBTFVFO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghbGF5ZXJzW3ZhbF0pIGxheWVyc1t2YWxdID0gW107XHJcbiAgICAgICAgICAgICAgICBsYXllcnNbdmFsXS5wdXNoKG9iamVjdCk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZW1vdmUgPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgb2JqZWN0LiQkTEFZRVJTRUFSQ0hWQUxVRSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbGF5ZXIgaW4gbGF5ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVycy5oYXNPd25Qcm9wZXJ0eShsYXllcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvbmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXllcnNbbGF5ZXJdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXJzW2xheWVyXVtpXS4kJExBWUVSU0VBUkNIVkFMVUUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcnNbbGF5ZXJdLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9uZSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mb3JFYWNoID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGxheWVyIGluIGxheWVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGF5ZXJzW2xheWVyXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jLmFwcGx5KGxheWVyc1tsYXllcl1baV0sIFtpLCBsYXllcl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGF5ZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxheWVycztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDIvNi8yMDE3LlxyXG4gKi9cclxuJFIucGx1Z2luKCdPYmplY3RzJyxcclxuICAgIFsnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIE1hdHJpeChEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIGYgPSBudWxsLCBvYmplY3QgPSB0aGlzLm9iamVjdCgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZiA9IGZ1bmM7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIE1hdHJpeFdyYXBwZXIoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZi5jYWxsKG9iamVjdCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ21hdHJpeCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbignQ2FjaGUnKS52YWx1ZSgndHJhbnNmb3JtTWF0cml4JywgTWF0cml4V3JhcHBlcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wdXJnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9iamVjdC5leHRlbnNpb24oJ0NhY2hlJykucHVyZ2UoJ3RyYW5zZm9ybU1hdHJpeCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdC50eXBlKCkgPT09ICdHcm91cCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGF5ZXJzID0gb2JqZWN0LmV4dGVuc2lvbignTGF5ZXJzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4dGVuc2lvbignQ2FjaGUnKS5wdXJnZSgndHJhbnNmb3JtTWF0cml4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzIvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbignT2JqZWN0cycsXHJcbiAgICBbJytNb3VzZScsICdEaXNwYXRjaGVyJywgJ1RyZWUnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIE1vdXNlKE1vdXNlSGVscGVyLCBEaXNwYXRjaGVyLCBUcmVlLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBkcmFnbW92ZTogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZ3N0YXJ0OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBkcmFnZW5kOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBtb3VzZW1vdmU6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vdXNldXA6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlZG93bjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgbW91c2VlbnRlcjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgbW91c2VsZWF2ZTogW11cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbW91c2VDaGVja0Z1bmN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gR2V0RXZlbnRBcnJheShldmVudCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrc1tldmVudF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ29uJywgZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIGZ1bmMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tpXS4kT0ZGID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIiAmJiBmdW5jID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBHZXRFdmVudEFycmF5KGV2ZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5W2ldLiRPRkYgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gR2V0RXZlbnRBcnJheShldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudH0sICdUaGVyZSBpcyBubyBldmVudCBbe2V9XScpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIUdldEV2ZW50QXJyYXkoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnVW5hYmxlIHRvIHNldCBldmVudCBoYW5kbGVyIGZvciB7W2VdfS4gTm8gc3VjaCBldmVudCBmb3VuZCEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mICBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudCwgZjogZnVuY30sICdVbmFibGUgdG8gc2V0IGV2ZW50IGhhbmRsZXIgZm9yIHtbZV19LiB7W2ZdfSBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ29mZicsIGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSB1bmRlZmluZWQgJiYgZnVuYyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBjYWxsYmFja3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW2ldLiQkT0ZGID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09PSBcInN0cmluZ1wiICYmIGZ1bmMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IEdldEV2ZW50QXJyYXkoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJheS4kJE9GRiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gR2V0RXZlbnRBcnJheShldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuYy4kJE1PVVNFRlVOQ1NFQVJDSCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcnJheVtpXS4kJE1PVVNFRlVOQ1NFQVJDSCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghR2V0RXZlbnRBcnJheShldmVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudH0sICdVbmFibGUgdG8gdXNldCBldmVudCBoYW5kbGVyIGZvciB7W2VdfS4gbm8gc3VjaCBldmVudCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudCwgZjogZnVuY30sICdVbmFibGUgdG8gdW5zZXQgZnVuY3Rpb24ge1tmXX0gZnJvbSBldmVudCB7W2VdfS4gTm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdtb3VzZUNoZWNrRnVuY3Rpb24nLCBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1vdXNlSGVscGVyW2Z1bmMgKyAnQ2hlY2tGdW5jdGlvbiddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlQ2hlY2tGdW5jdGlvbiA9IE1vdXNlSGVscGVyW2Z1bmMgKyAnVXNlckNoZWNrRnVuY3Rpb24nXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2Y6IGZ1bmN9LCAnVW5hYmxlIHRvIHNldCBjaGVjayBmdW5jdGlvbiEge1tmXX0gaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtb3VzZUNoZWNrRnVuY3Rpb24gPSBmdW5jO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignZGlzYWJsZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2VuYWJsZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ2Rpc2FibGVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpc2FibGVkO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2sgPSBmdW5jdGlvbiAodGFyZ2V0LCBjdXJzb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkaXNhYmxlZCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vdXNlQ2hlY2tGdW5jdGlvbi5jYWxsKHRhcmdldCwgW2N1cnNvclswXSwgY3Vyc29yWzFdXSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgY3Vyc29yVHJhbnNmb3JtRnVuY3Rpb24gPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jdXJzb3JUcmFuc2Zvcm1GdW5jdGlvbiA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIikgY3Vyc29yVHJhbnNmb3JtRnVuY3Rpb24gPSBmdW5jO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hcHBseUN1cnNvclRyYW5zZm9ybSA9IGZ1bmN0aW9uIChjdXJzb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJzb3JUcmFuc2Zvcm1GdW5jdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3JUcmFuc2Zvcm1GdW5jdGlvbi5jYWxsKHRoaXMsIGN1cnNvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3Vyc29yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5oYXNFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrc1tldmVudF0gJiYgY2FsbGJhY2tzW2V2ZW50XS5sZW5ndGggJiYgIWNhbGxiYWNrc1tldmVudF0uJCRPRkY7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb3BhZ2F0ZSA9IGZ1bmN0aW9uICh0YXJnZXQsIGV2ZW50T2JqKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gdGFyZ2V0LnBhcmVudCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb3VzZSA9IHBhcmVudC5leHRlbnNpb24oJ01vdXNlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdXNlLmhhc0V2ZW50KGV2ZW50T2JqLnR5cGUoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBldmVudE9iai50eXBlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZXZlbnRPYmogPSBldmVudE9iai5vcmlnaW5hbFRhcmdldC5jYWxsKHskJE1PVVNFUFJPUEFHQVRJT05TRVRURVI6IHBhcmVudH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbW91c2UucmVzb2x2ZShwYXJlbnQsIHR5cGUsIF9ldmVudE9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlID0gZnVuY3Rpb24gKHRhcmdldCwgZXZlbnQsIGV2ZW50T2JqKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBHZXRFdmVudEFycmF5KGV2ZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXkuJE9GRikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5W2ldLmNhbGwodGFyZ2V0LCBldmVudE9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRPYmoucHJvcGFnYXRlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wYWdhdGUodGFyZ2V0LCBldmVudE9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7ZTogZXZlbnR9LCAnVW5hYmxlIHRvIHJlc29sdmUgZXZlbnQgW3tlfV0uIE5vIHN1Y2ggZXZlbnQhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIGNhbGxiYWNrcykge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzW2ldLiQkT0ZGID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzUvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbignT2JqZWN0cycsXHJcbiAgICBbJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBPZmZzZXQoRGVidWcpIHtcclxuICAgICAgICAgICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0KCksXHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBjYWNoZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBPYmplY3RPZmZzZXRGdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbcG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdXTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gb2JqZWN0LnBhcmVudCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50X29mZnNldCA9IHBhcmVudC5vZmZzZXQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0WzBdICs9IHBhcmVudF9vZmZzZXRbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0WzFdICs9IHBhcmVudF9vZmZzZXRbMV07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5wdXJnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghc3R5bGUgfHwgIWNhY2hlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSBvYmplY3QuZXh0ZW5zaW9uKCdTdHlsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlID0gb2JqZWN0LmV4dGVuc2lvbignQ2FjaGUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjYWNoZS5wdXJnZSgnb2Zmc2V0Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdC50eXBlKCkgPT0gJ0dyb3VwJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXllcnMgPSBvYmplY3QuZXh0ZW5zaW9uKCdMYXllcnMnKTtcclxuICAgICAgICAgICAgICAgICAgICBsYXllcnMuZm9yRWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXh0ZW5zaW9uKCdPZmZzZXQnKS5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcignb2Zmc2V0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FjaGUgPSB0aGlzLmV4dGVuc2lvbignQ2FjaGUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZS52YWx1ZSgnb2Zmc2V0JywgT2JqZWN0T2Zmc2V0RnVuY3Rpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gU3R5bGUoRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0ge30sXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFja3MgPSBbXSxcclxuICAgICAgICAgICAgICAgIHNldHRlcnMgPSB7fSxcclxuICAgICAgICAgICAgICAgIGdldHRlcnMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEdldFNldHRlckZ1bmN0aW9uKG5hbWUsIHNldHRlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBzZXR0ZXIuYXBwbHkodGhpcywgW3ZhbHVlLCBwcm9wZXJ0aWVzW25hbWVdLnZhbHVlXSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZCA9IHByb3BlcnRpZXNbbmFtZV0udmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT09IFwiYm9vbGVhblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1VuYWJsZSB0byBzZXQgcHJvcGVydHkgWycgKyBuYW1lICsgJ10uIEludmFsaWQgdmFsdWUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtvbGQsIHJlc3VsdF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzW25hbWVdLnZhbHVlID0gcmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFja3NbbmFtZV0pIGNhbGxiYWNrc1tuYW1lXSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3NbbmFtZV0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tuYW1lXVtpXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEdldEdldHRlckZ1bmN0aW9uKG5hbWUsIGdldHRlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dGVyLmNhbGwobnVsbCwgcHJvcGVydGllc1tuYW1lXS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFN0eWxlVHlwZTEoYSwgYikge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghc2V0dGVyc1thXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogYSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdGFyZ2V0LnR5cGUoKVxyXG4gICAgICAgICAgICAgICAgICAgIH0sICdTdHlsZSAvIE9iamVjdCB0eXBlIHt0eXBlfSBoYXMgbm8gcHJvcGVydHkge3Byb3BlcnR5fScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dGVyc1thXS5hcHBseSh0YXJnZXQsIFtiXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFN0eWxlVHlwZTIob2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgc2V0dGVyc3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW9iamVjdC5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkgfHwgIXNldHRlcnNbcHJvcGVydHldKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXR0ZXJzW3Byb3BlcnR5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHRhcmdldC50eXBlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ1N0eWxlIC8gT2JqZWN0IHR5cGUge3R5cGV9IGhhcyBubyBwcm9wZXJ0eSB7cHJvcGVydHl9Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGVyc3RhY2sucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcmluZzogcHJvcGVydGllc1twcm9wZXJ0eV0ub3JkZXJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0ZXI6IHNldHRlcnNbcHJvcGVydHldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzZXR0ZXJzdGFjay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXR0ZXJzdGFjay5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhLm9yZGVyaW5nIC0gYi5vcmRlcmluZztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNldHRlcnN0YWNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRlcnN0YWNrW2ldLnNldHRlci5hcHBseSh0YXJnZXQsIFtvYmplY3Rbc2V0dGVyc3RhY2tbaV0ucHJvcGVydHldXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignU3R5bGUgLyBObyBwcm9wZXJ0aWVzIHRvIGJlIGFwcGxpZWQhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFN0eWxlVHlwZTMobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFnZXR0ZXJzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdGFyZ2V0LnR5cGUoKVxyXG4gICAgICAgICAgICAgICAgICAgIH0sICdTdHlsZSAvIE9iamVjdCB0eXBlIHt0eXBlfSBoYXMgbm8gcHJvcGVydHkge3Byb3BlcnR5fScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcnNbbmFtZV0uYXBwbHkodGFyZ2V0LCBbcHJvcGVydGllc1tuYW1lXS52YWx1ZV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcignc3R5bGUnLCBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhID09PSBcInN0cmluZ1wiICYmIGIgIT09IHVuZGVmaW5lZCkgU3R5bGVUeXBlMS5hcHBseSh0aGlzLCBbYSwgYl0pO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGEgPT09IFwib2JqZWN0XCIpIFN0eWxlVHlwZTIuYXBwbHkodGhpcywgW2FdKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhID09PSAnc3RyaW5nJyAmJiBiID09PSB1bmRlZmluZWQpIHJldHVybiBTdHlsZVR5cGUzLmFwcGx5KHRoaXMsIFthXSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignU3R5bGUgLyBJbnZhbGlkIHN0eWxlIGZ1bmN0aW9uIGFyZ3VtZW50cyEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoJ3dhdGNoJywgZnVuY3Rpb24gKHByb3BlcnR5LCBjYWxsYmFjaykge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHkgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ICE9PSBcIm9iamVjdFwiIHx8IHByb3BlcnR5LmNvbnN0cnVjdG9yICE9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignU3R5bGUgLyBQcm9wZXJ0eSBpcyBub3QgYW4gYXJyYXkgb3Igc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdTdHlsZSAvIENhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydHkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eVtpXSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe2k6IGl9LCAnU3R5bGUgLyBQcm9wZXJ0eSB7aX0gaXMgbm90IGEgc3RyaW5nIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbGxiYWNrc1twcm9wZXJ0eVtpXV0gfHwgdHlwZW9mIGNhbGxiYWNrc1twcm9wZXJ0eVtpXV0gIT09IFwib2JqZWN0XCIgfHwgY2FsbGJhY2tzW3Byb3BlcnR5W2ldXS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIGNhbGxiYWNrc1twcm9wZXJ0eVtpXV0gPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbcHJvcGVydHlbaV1dLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHByb3BlcnR5ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFja3NbcHJvcGVydHldIHx8IGNhbGxiYWNrc1twcm9wZXJ0eV0uY29uc3RydWN0b3IgIT09IEFycmF5KSBjYWxsYmFja3NbcHJvcGVydHldID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW3Byb3BlcnR5XS5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdTdHlsZSAvIFByb3BlcnR5IGlzIG5vdCBhbiBhcnJheSBvciBzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZWZpbmUgPSBmdW5jdGlvbiAob3JkZXJpbmcsIG5hbWUsIHZhbHVlLCBzZXR0ZXIsIGdldHRlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdTdHlsZSAvIER1cGxpY2F0ZWQgUHJvcGVydHkgW3tuYW1lfV0nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiIHx8IG5hbWUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ1N0eWxlIC8gUHJvcGVydHkgbmFtZSBpcyBub3QgYSBzdHJpbmchJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZ2V0dGVyICE9PSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIHNldHRlciAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ1N0eWxlIC8gVW5hYmxlIHRvIGRlZmluZSBwcm9wZXJ0eS4gR2V0dGVyIG9yIHNldHRlciBpcyB1bmRlZmluZWQhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgIG9yZGVyaW5nICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ1N0eWxlIC8gVW5hYmxlIHRvIGRlZmluZSBwcm9wZXJ0eSBzZXR0ZXIgb3JkZXJpbmchJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllc1tuYW1lXSA9IHtvcmRlcmluZzogb3JkZXJpbmcsIHZhbHVlOiB2YWx1ZX07XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0dGVyc1tuYW1lXSA9IEdldFNldHRlckZ1bmN0aW9uKG5hbWUsIHNldHRlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgZ2V0dGVyc1tuYW1lXSA9IEdldEdldHRlckZ1bmN0aW9uKG5hbWUsIGdldHRlcik7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1tuYW1lXSkgcmV0dXJuIHByb3BlcnRpZXNbbmFtZV0udmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgRGVidWcud2FybignR2V0dGluZyB2YWx1ZSBvZiBwcm9wZXJ0eSB0aGF0IGRvZXMgbm90IGV4aXN0IScpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3JkZXJpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNbbmFtZV0pIHJldHVybiBwcm9wZXJ0aWVzW25hbWVdLm9yZGVyaW5nO1xyXG5cclxuICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ0dldHRpbmcgb3JkZXJpbmcgb2YgcHJvcGVydHkgdGhhdCBkb2VzIG5vdCBleGlzdCEnKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAzLzI1LzIwMTcuXHJcbiAqL1xyXG4kUi5wbHVnaW4oJ09iamVjdHMnLFxyXG4gICAgWydEZWJ1ZycsICcrTW9kZWwnLCAnQGluamVjdCcsXHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dChEZWJ1ZywgTW9kZWxIZWxwZXIsIGluamVjdCwgRm9udHMpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUbygnVGV4dCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAob2JqZWN0LnR5cGUoKSAhPT0gJ1RleHQnKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICB2YXIgbGluZXMgPSBbXSxcclxuICAgICAgICAgICAgICAgIHdvcmRCeVdvcmRSZWdFeHAgPSAvKChcXFMrXFxzKyl8KFxcUyskKSkvZyxcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gb2JqZWN0LmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIHN0cmluZyA9ICcnLFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBsaW1pdHMgPSBbSW5maW5pdHksIEluZmluaXR5XSxcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gMCxcclxuICAgICAgICAgICAgICAgIGhlaWdodCA9IDA7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdsaW5lcycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheS5wdXNoKGxpbmVzW2ldLnN0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCd3b3JkcycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgd29yZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgbGluZXMubGVuZ3RoOyBsKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX3cgPSBsaW5lc1tpXS53b3JkcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHcgPSAwOyB3IDwgX3cubGVuZ3RoOyB3KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd29yZHMucHVzaChfdy5zdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdvcmRzO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGltaXRzID0gZnVuY3Rpb24gKHcsIGgpIHtcclxuICAgICAgICAgICAgICAgIGxpbWl0c1swXSA9IHc7XHJcbiAgICAgICAgICAgICAgICBsaW1pdHNbMV0gPSBoO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIG9iamVjdC53YXRjaCgnc3RyJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChuICE9PSBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgPSBuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIG9iamVjdC53YXRjaChbJ3N0cicsICdmb250U2l6ZScsICdsaW5lSGVpZ2h0JywgJ2NvbG9yJywgJ3dlaWdodCcsICdzdHlsZSddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKGZvcmNlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZSB8fCBmb3JjZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGllY2VzID0gc3RyaW5nLm1hdGNoKHdvcmRCeVdvcmRSZWdFeHApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsID0gMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXRzID0gc3R5bGUuZ2V0KCdzaXplJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHcgPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gMDtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmb250ID0gc3R5bGUuZ2V0KCdzeXN0ZW1Gb250JyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplID0gc3R5bGUuZ2V0KCdmb250U2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0ID0gc3R5bGUuZ2V0KCdsaW5lSGVpZ2h0JyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQgPSBzdHlsZS5nZXQoJ3dlaWdodCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvciA9IHN0eWxlLmdldCgnY29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFN0eWxlID0gc3R5bGUuZ2V0KCdzdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsaW5lcyA9IFtdO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaWVjZXMubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VybmV3bGluZSA9IHBpZWNlc1tpXS5tYXRjaCgvXFxuL2cpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gcGllY2VzW2ldLm1hdGNoKC9cXFMrL2cpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd29yZCA9IGluamVjdCgnJFRleHRXb3JkQ2xhc3MnKS5zdHJpbmcoc3RyWzBdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGluZXNbbF0pIGxpbmVzW2xdID0gaW5qZWN0KCckVGV4dExpbmVDbGFzcycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9udChmb250KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNpemUoZm9udFNpemUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaGVpZ2h0KGxpbmVIZWlnaHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY29sb3IoY29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoZm9udFN0eWxlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLndlaWdodChmb250V2VpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzW2xdLnB1c2god29yZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IGxpbmVzW2xdLndpZHRoKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZVdpZHRoID49IGxpbWl0c1swXSB8fCB1c2VybmV3bGluZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lV2lkdGggPiB3KSB3ID0gbGluZVdpZHRoICsgNDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gbGluZXMubGVuZ3RoICogc3R5bGUuZ2V0KCdsaW5lSGVpZ2h0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvbnRTaXplID4gbGluZUhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgKz0gZm9udFNpemUgLSBsaW5lSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmb250U2l6ZSA8IGxpbmVIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0IC09IGxpbmVIZWlnaHQgLSBmb250U2l6ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSB3O1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRleHRCbG9ja0hlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaGVpZ2h0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy50ZXh0QmxvY2tXaWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gd2lkdGg7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvckVhY2hMaW5lID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuYy5hcHBseShsaW5lc1tpXSwgW2ksIGxpbmVzW2ldXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjYvMjAxNi5cclxuICovXHJcbiRSLnBsdWdpbignT2JqZWN0cycsIFsnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFRyZWUoRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tUcmVlKG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdC4kJFRSRUVTRUFSQ0hWQUxVRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5wYXJlbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tUcmVlKG9iamVjdC5wYXJlbnQoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiB0cmVlVmlvbGF0aW9uKHRhcmdldCwgb2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnR5cGUoKSA9PT0gJ0dyb3VwJykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBvYmplY3QuJCRUUkVFU0VBUkNIVkFMVUUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrVHJlZSh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmplY3QuJCRUUkVFU0VBUkNIVkFMVUU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuJCRUUkVFU0VBUkNIVkFMVUUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQucGFyZW50KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt9LCAnWW91IHRyeSB0byBhcHBlbmQgZ3JvdXAgcGFyZW50IGludG8gaXRzZWxmLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7fSwgJ1lvdSB0cnkgdG8gYXBwZW5kIGdyb3VwIHBhcmVudCBpbnRvIGl0XFwncyBjaGlsZHJlbi4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb2JqZWN0LiQkVFJFRVNFQVJDSFZBTFVFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnR5cGUoKSAhPT0gJ0dyb3VwJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0LnR5cGUoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdDogb2JqZWN0LnR5cGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAnWW95IHRyeSB0byBhcHBlbmQgW3tvYmplY3R9XSBpbnRvIFt7dGFyZ2V0fV0uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGxheWVycyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdhcHBlbmQnLCBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50eXBlKCkgIT09ICdHcm91cCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXRjaCh7dHlwZTogdGhpcy50eXBlKCl9LCAnIENhbiBub3QgYXBwZW5kLiB0eXBlW3t0eXBlfV0gb2YgcGFyZW50IGlzIG5vdCBhbGxvd2VkIScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXRyZWVWaW9sYXRpb24odGhpcywgb2JqZWN0KSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWxheWVycykgbGF5ZXJzID0gdGhpcy5leHRlbnNpb24oJ0xheWVycycpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0X29sZF9wYXJlbnQgPSBvYmplY3QucGFyZW50KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdF90cmVlX2V4dCA9IG9iamVjdC5leHRlbnNpb24oJ1RyZWUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdF9vbGRfcGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGRfb2JqZWN0X3BhcmVudF9sYXllcnMgPSBvYmplY3Rfb2xkX3BhcmVudC5leHRlbnNpb24oJ0xheWVycycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0X2xheWVyID0gb2JqZWN0LmxheWVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRfb2JqZWN0X3BhcmVudF9sYXllcnMucmVtb3ZlKG9iamVjdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcnMucGxhY2Uob2JqZWN0X2xheWVyLCBvYmplY3QpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0X3RyZWVfZXh0LnBhcmVudCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdF9sYXllciA9IG9iamVjdC5sYXllcigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzLnBsYWNlKG9iamVjdF9sYXllciwgb2JqZWN0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdF90cmVlX2V4dC5wYXJlbnQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgYm94ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcignYXBwZW5kVG8nLCBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QuYXBwZW5kKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcigncGFyZW50JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBmdW5jdGlvbiAoZ3JvdXApIHtcclxuICAgICAgICAgICAgICAgIGlmICghZ3JvdXAudHlwZSB8fCBncm91cC50eXBlKCkgIT09ICdHcm91cCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignT2JqZWN0IFRyZWUgRXh0ZW5zaW9uIC8gVW5hYmxlIHRvIHNldCBvYmplY3QgYXMgcGFyZW50LiBOb3QgYSBncm91cCEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChncm91cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGdyb3VwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZShcclxuICAgIFsnQENhbnZhcycsICdAQ29uZmlnJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBDYW52YXMoQ2FudmFzLCBDb25maWcsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgY2FsbGJhY2tzID0gW10sIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgZGltbXMgPSBbMCwgMF0sIHh1bml0cyA9ICdweCcsIHl1bml0cyA9ICdweCcsXHJcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBbMCwgMF0sIHNjcm9sbCA9IFswLCAwXSwgb3V0cHV0ID0gQ2FudmFzLmVsZW1lbnQoKSwgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICBDb25maWcuZGVmaW5lKFxyXG4gICAgICAgICAgICAgICAgJ3NpemUnLFxyXG4gICAgICAgICAgICAgICAgWzAsIDBdLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tOiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHR5cGVvZiB2WzBdID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2WzBdID09PSBBcnJheSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIHZbMF0gPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZbMV0gPT09IFwibnVtYmVyXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAud2F0Y2goXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2WzBdID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHZbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZbMF0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2WzBdLm1hdGNoKC9eW1xcZF0rJSQvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gcGFyc2VJbnQodlswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeHVuaXRzID0gJyUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAxMDAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHh1bml0cyA9ICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7d2lkdGg6IHZbMF19LCAne3dpZHRofSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgY2FudmFzLnNpemVbMF0uIFdpZHRoIHNldCBhcyAxMDAwcHgnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMTAwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3dpZHRoOiB2WzBdfSwgJ3t3aWR0aH0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIGNhbnZhcy5zaXplWzBdLiBXaWR0aCBzZXQgYXMgMTAwMHB4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdlsxXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gdlsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdlsxXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZbMV0ubWF0Y2goL15bXFxkXSslJC8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gcGFyc2VJbnQodlsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeXVuaXRzID0gJyUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gODAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2hlaWdodDogdlsxXX0sICd7aGVpZ2h0fSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgY2FudmFzLnNpemVbMV0uIFdpZHRoIHNldCBhcyA4MDBweCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gODAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7aGVpZ2h0OiB2WzFdfSwgJ3toZWlnaHR9IGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBjYW52YXMuc2l6ZVsxXS4gV2lkdGggc2V0IGFzIDgwMHB4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgV2luZG93UmVzaXplQ2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgdmFyIHBXID0gMCwgcEggPSAwLCByZXNpemVUTyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjb21wYXJlT25SZXNpemUoc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHh1bml0cyA9PT0gJyUnIHx8IHl1bml0cyA9PT0gJyUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9wVyA9IHBXLCBfcEggPSBwSDtcclxuICAgICAgICAgICAgICAgICAgICBDYW52YXMuc2l6ZSgwLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzaXplVE8pIGNsZWFyVGltZW91dChyZXNpemVUTyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZVRPID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnROb2RlID0gQ2FudmFzLmVsZW1lbnQoKS5wYXJlbnROb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUocGFyZW50Tm9kZSwgbnVsbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwSCA9IHBhcnNlSW50KHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCdoZWlnaHQnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBXID0gcGFyc2VJbnQoc3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJ3dpZHRoJykpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9wVyAhPT0gcFcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4dW5pdHMgPT09ICclJyAmJiBfcFcgIT09IHBXKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltbXNbMF0gPSBNYXRoLmZsb29yKHBXICogKHdpZHRoIC8gMTAwKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9wSCAhPT0gcEgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5dW5pdHMgPT09ICclJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbW1zWzFdID0gTWF0aC5mbG9vcihwSCAqIChoZWlnaHQgLyAxMDApKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW52YXMuc2l6ZShkaW1tc1swXSwgZGltbXNbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNpemVUTyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGltbXNbMF0gPSB3aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBkaW1tc1sxXSA9IGhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICBDYW52YXMuc2l6ZShkaW1tc1swXSwgZGltbXNbMV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEdldENhbnZhc09mZnNldCh4KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0UHJvcCA9IHggPyAnb2Zmc2V0TGVmdCcgOiAnb2Zmc2V0VG9wJztcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gMCwgZWxlbWVudCA9IENhbnZhcy5lbGVtZW50KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4oZWxlbWVudFtvZmZzZXRQcm9wXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGVsZW1lbnRbb2Zmc2V0UHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSB3aGlsZSAoZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBXaW5kb3dSZXNpemVDYWxsYmFjaygpIHtcclxuICAgICAgICAgICAgICAgIGlmICghb3V0cHV0KSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjb21wYXJlT25SZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFswXSA9IEdldENhbnZhc09mZnNldCgwKTtcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRbMV0gPSBHZXRDYW52YXNPZmZzZXQoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW2ldKGRpbW1zWzBdLCBkaW1tc1sxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFJlc29sdmVDYW52YXNFdmVudEFycmF5KCdjYW52YXNyZXNpemUnLCBbbmV3IFJDYW52YXNSZXNpemVFdmVudCgpXSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIENhbnZhc1N3aXRjaENhbGxiYWNrKCkge1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0WzBdID0gR2V0Q2FudmFzT2Zmc2V0KDApO1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0WzFdID0gR2V0Q2FudmFzT2Zmc2V0KDEpO1xyXG4gICAgICAgICAgICAgICAgUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkoJ2NhbnZhc3N3aXRjaCcsIFtuZXcgUkNhbnZhc1N3aXRjaEV2ZW50KCldKTtcclxuICAgICAgICAgICAgICAgIFdpbmRvd1Jlc2l6ZUNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVzaXplID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFja3MucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeHVuaXRzID09PSAnJScpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcFcgKiAod2lkdGggLyAxMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHh1bml0cyA9PT0gJyUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBIICogKGhlaWdodCAvIDEwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIGNhbnZhc0V2ZW50Q2FsbGJhY2tzID0ge1xyXG4gICAgICAgICAgICAgICAgbW91c2Vtb3ZlOiBbXSxcclxuICAgICAgICAgICAgICAgIG1vdXNlZG93bjogW10sXHJcbiAgICAgICAgICAgICAgICBtb3VzZXVwOiBbXSxcclxuICAgICAgICAgICAgICAgIG1vdXNlbGVhdmU6IFtdLFxyXG4gICAgICAgICAgICAgICAgbW91c2VlbnRlcjogW10sXHJcbiAgICAgICAgICAgICAgICBjYW52YXNyZXNpemU6IFtdLFxyXG4gICAgICAgICAgICAgICAgY2FudmFzc3dpdGNoOiBbXVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gR2V0Q2FudmFzRXZlbnRBcnJheShldmVudCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbnZhc0V2ZW50Q2FsbGJhY2tzW2V2ZW50XTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkoZXZlbnQsIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJvYmplY3RcIiB8fCBkYXRhLmNvbnN0cnVjdG9yICE9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2U6IGV2ZW50fSwgJ0NhbnZhcyA6IHVuYWJsZSB0byByZXNvbHZlIGV2ZW50IGFycmF5IFt7ZX1dLiBEYXRhIGlzIG5vdCBhbiBhcnJheSEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gR2V0Q2FudmFzRXZlbnRBcnJheShldmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2U6IGV2ZW50fSwgJ1VuYWJsZSB0byByZXNvbHZlIGV2ZW50IFt7ZX1dIG5vIHN1Y2ggZXZlbnQhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2ldLmFwcGx5KHNlbGYsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBHZXRDYW52YXNFdmVudEFycmF5KGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIGlmICghYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudH0sICdDYW52YXMgOiBVbmFibGUgdG8gc2V0IGV2ZW50IGhhbmRsZXIgZm9yIGV2ZW50IFt7ZX1dJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtmOiBldmVudH0sICdDYW52YXMgOiBVbmFibGUgdG8gc2V0IGV2ZW50IGhhbmRsZXIgW3tmfV0nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGFycmF5LnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBHZXRNb3VzZVJlbGF0aXZlUG9zaXRpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtlLnBhZ2VYIC0gb2Zmc2V0WzBdIC0gc2Nyb2xsWzBdLCBlLnBhZ2VZIC0gb2Zmc2V0WzFdIC0gc2Nyb2xsWzFdXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gUkNhbnZhc01vdXNlKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFnZSA9IFtlLnBhZ2VYLCBlLnBhZ2VZXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlZW4gPSBbZS5wYWdlWCAtIHNjcm9sbFswXSwgZS5wYWdlWSAtIHNjcm9sbFsxXV07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gR2V0TW91c2VSZWxhdGl2ZVBvc2l0aW9uKGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBSQ2FudmFzTW91c2VFdmVudChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbmFsID0gZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IGUudHlwZTtcclxuICAgICAgICAgICAgICAgIHRoaXMubW91c2UgPSBuZXcgUkNhbnZhc01vdXNlKGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBzZWxmO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBSQ2FudmFzUmVzaXplRXZlbnQoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSAnY2FudmFzcmVzaXplJztcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzID0gc2VsZjtcclxuICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0ID0gW29mZnNldFswXSwgb2Zmc2V0WzFdXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSA9IFt3aWR0aCwgaGVpZ2h0XTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luYWwgPSBbd2lkdGgsIGhlaWdodF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVuaXRzID0gW3h1bml0cywgeXVuaXRzXTtcclxuICAgICAgICAgICAgICAgIGlmICh4dW5pdHMgPT09ICclJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2l6ZVswXSA9IHBXICogKHdpZHRoIC8gMTAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh5dW5pdHMgPT09ICclJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2l6ZVsxXSA9IHBIICogKGhlaWdodCAvIDEwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFJDYW52YXNTd2l0Y2hFdmVudCgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9ICdjYW52YXNzd2l0Y2gnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBzZWxmO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vZmZzZXQgPSBbb2Zmc2V0WzBdLCBvZmZzZXRbMV1dO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaXplID0gW3dpZHRoLCBoZWlnaHRdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbCA9IFt3aWR0aCwgaGVpZ2h0XTtcclxuICAgICAgICAgICAgICAgIHRoaXMudW5pdHMgPSBbeHVuaXRzLCB5dW5pdHNdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHh1bml0cyA9PT0gJyUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaXplWzBdID0gcFcgKiAod2lkdGggLyAxMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHl1bml0cyA9PT0gJyUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaXplWzFdID0gcEggKiAoaGVpZ2h0IC8gMTAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVycyA9IHtcclxuICAgICAgICAgICAgICAgIG1vdXNlbW92ZTogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBSZXNvbHZlQ2FudmFzRXZlbnRBcnJheSgnbW91c2Vtb3ZlJywgW25ldyBSQ2FudmFzTW91c2VFdmVudChlKV0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1vdXNlZG93bjogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBSZXNvbHZlQ2FudmFzRXZlbnRBcnJheSgnbW91c2Vkb3duJywgW25ldyBSQ2FudmFzTW91c2VFdmVudChlKV0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1vdXNldXA6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZUNhbnZhc0V2ZW50QXJyYXkoJ21vdXNldXAnLCBbbmV3IFJDYW52YXNNb3VzZUV2ZW50KGUpXSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbW91c2VsZWF2ZTogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBSZXNvbHZlQ2FudmFzRXZlbnRBcnJheSgnbW91c2VsZWF2ZScsIFtuZXcgUkNhbnZhc01vdXNlRXZlbnQoZSldKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtb3VzZWVudGVyOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIFJlc29sdmVDYW52YXNFdmVudEFycmF5KCdtb3VzZWVudGVyJywgW25ldyBSQ2FudmFzTW91c2VFdmVudChlKV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgQ2FudmFzLnN3aXRjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZXZlbnQgaW4gbGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMuaGFzT3duUHJvcGVydHkoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2V2ZW50XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gdGhpcy5lbGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBldmVudCBpbiBsaXN0ZW5lcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXJzLmhhc093blByb3BlcnR5KGV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2V2ZW50XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgQ2FudmFzU3dpdGNoQ2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHNjcm9sbFsxXSA9IHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtcclxuICAgICAgICAgICAgICAgIHNjcm9sbFswXSA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBXaW5kb3dSZXNpemVDYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UoXHJcbiAgICBbJ0BDb25maWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIERlYnVnKGNvbmZpZykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0cmluZyA9ICckUiBbRGVidWddIDogJyxcclxuICAgICAgICAgICAgICAgIHJlZ2V4cCA9IC97W2EtekEtWl0rfS9nLFxyXG4gICAgICAgICAgICAgICAgcmVnZXhwbmFtZSA9IC9bYS16QS1aXSsvZyxcclxuICAgICAgICAgICAgICAgIHdhcm5pbmdzID0gY29uZmlnLmRlZmluZSgnd2FybmluZ3MnLCBmYWxzZSwge2lzQm9vbDogdHJ1ZX0sIGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybmluZ3MgPSB2O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIGVycm9yQ2IgPSBbXSwgbWVzc2FnZUNiID0gW107XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBSZXNvbHZlRXZlbnQodHlwZSwgZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2Vycm9yJykgYXJyYXkgPSBlcnJvckNiO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdtZXNzYWdlJykgYXJyYXkgPSBtZXNzYWdlQ2I7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2ldKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSAnZXJyb3InKSBlcnJvckNiLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT09ICdtZXNzYWdlJykgbWVzc2FnZUNiLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gR2V0TWVzc2FnZShkYXRhLCBtZXNzYWdlLCBzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBtZXNzYWdlLm1hdGNoKHJlZ2V4cCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvcHMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2huYW1lID0gbWF0Y2hlc1tpXS5tYXRjaChyZWdleHBuYW1lKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNobmFtZSkgcHJvcHNbbWF0Y2huYW1lXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2U6IG1hdGNoZXNbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhW21hdGNobmFtZV0udG9TdHJpbmcoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wcykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXByb3BzLmhhc093blByb3BlcnR5KHByb3ApKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UucmVwbGFjZShwcm9wc1twcm9wXS5yZXBsYWNlLCBwcm9wc1twcm9wXS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gc3RyaW5nICsgbWVzc2FnZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihzb3VyY2UgJiYgc291cmNlLmNvbnN0cnVjdG9yICYmIHNvdXJjZS5jb25zdHJ1Y3Rvci5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9ICdbJytzb3VyY2UuY29uc3RydWN0b3IubmFtZSsnXSA6ICcgKyBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBmdW5jdGlvbiAoZGF0YSwgbWVzc2FnZSwgc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gR2V0TWVzc2FnZShkYXRhLCBtZXNzYWdlLCBzb3VyY2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIFJlc29sdmVFdmVudCgnZXJyb3InLCBtZXNzYWdlKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhcm4gPSBmdW5jdGlvbiAoZGF0YSwgbWVzc2FnZSwgc291cmNlKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF3YXJuaW5ncykgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IEdldE1lc3NhZ2UoZGF0YSwgbWVzc2FnZSwgc291cmNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBSZXNvbHZlRXZlbnQoJ21lc3NhZ2UnLCBtZXNzYWdlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMi8yLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlKFxyXG4gICAgWydAQ2FudmFzJywgJ0NhbnZhcycsICdAVGlja2VyJywgJyRGaW5kZXInLFxyXG4gICAgICAgIGZ1bmN0aW9uIERpc3BhdGNoZXIoQ2FudmFzUm9vdCwgQ2FudmFzLCBUaWNrZXIsIEZpbmRlcikge1xyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXM6IG51bGxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtb3VzZWRvd24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXM6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY3Vyc29yID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG9sZDogWzAsIDBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IFswLCAwXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRyYWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFswLCAwXSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGVsdGE6IFswLCAwXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNoZWNrZWQgPSB0cnVlLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBmb2N1c2VkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBkcmFnZ2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBDYW52YXMub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghYWN0aXZlIHx8ICFmb2N1c2VkKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBtb3VzZWRvd24ucHJldmlvdXMgPSBtb3VzZWRvd24uY3VycmVudDtcclxuICAgICAgICAgICAgICAgIG1vdXNlZG93bi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIENhbnZhcy5vbignbW91c2V1cCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghYWN0aXZlIHx8ICFmb2N1c2VkKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBtb3VzZWRvd24ucHJldmlvdXMgPSBtb3VzZWRvd24uY3VycmVudDtcclxuICAgICAgICAgICAgICAgIG1vdXNlZG93bi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBjaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBDYW52YXMub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFjdGl2ZSB8fCAhZm9jdXNlZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY3Vyc29yLmN1cnJlbnRbMF0gPSBlLm1vdXNlLnBvc2l0aW9uWzBdO1xyXG4gICAgICAgICAgICAgICAgY3Vyc29yLmN1cnJlbnRbMV0gPSBlLm1vdXNlLnBvc2l0aW9uWzFdO1xyXG4gICAgICAgICAgICAgICAgY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIENhbnZhcy5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGZvY3VzZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBDYW52YXMub24oJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBmb2N1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBEZWZhdWx0UkV2ZW50KHR5cGUsIHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF90eXBlID0gdHlwZSwgcHJvcGFnYXRlID0gdHJ1ZSwgX3RhcmdldCA9IHRhcmdldCwgX29yaWdpbmFsVGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdHlwZTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wYWdhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BhZ2F0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvcGFnYXRlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcGFnYXRlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGFyZ2V0LiQkUFJPUEFHQVRJT05TRUFSQ0ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBfb3JpZ2luYWxUYXJnZXQuJCRQUk9QQUdBVElPTlNFQVJDSDtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgX3RhcmdldC4kJFBST1BBR0FUSU9OU0VBUkNIO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQgPyByZXN1bHQgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbmFsVGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiQkTU9VU0VQUk9QQUdBVElPTlNFVFRFUikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBnZXRFdmVudEJ5VHlwZShfdHlwZSwgX3RhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50Lm9yaWdpbmFsVGFyZ2V0LmNhbGwoeyQkUkVTRVRUQVJHRVQ6IHRoaXMuJCRNT1VTRVBST1BBR0FUSU9OU0VUVEVSfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuJCRSRVNFVFRBUkdFVCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGFyZ2V0ID0gdGhpcy4kJFJFU0VUVEFSR0VUO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX29yaWdpbmFsVGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBNb3VzZUV2ZW50KHR5cGUsIHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgRGVmYXVsdFJFdmVudC5hcHBseSh0aGlzLCBbdHlwZSwgdGFyZ2V0XSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvciA9IFtjdXJzb3IuY3VycmVudFswXSwgY3Vyc29yLmN1cnJlbnRbMV1dO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBEcmFnRXZlbnQodHlwZSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBEZWZhdWx0UkV2ZW50LmFwcGx5KHRoaXMsIFt0eXBlLCB0YXJnZXRdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhZyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydDogW2RyYWcuc3RhcnRbMF0sIGRyYWcuc3RhcnRbMV1dLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IFtkcmFnLmN1cnJlbnRbMF0sIGRyYWcuY3VycmVudFsxXV0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGVsdGE6IFtkcmFnLmRlbHRhWzBdLCBkcmFnLmRlbHRhWzFdXVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0RXZlbnRCeVR5cGUodHlwZSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ21vdXNlbW92ZScgfHwgdHlwZSA9PT0gJ21vdXNlbGVhdmUnXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdHlwZSA9PT0gJ21vdXNlZW50ZXInIHx8IHR5cGUgPT09ICdtb3VzZWRvd24nXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdHlwZSA9PT0gJ21vdXNldXAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBNb3VzZUV2ZW50KHR5cGUsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2RyYWdzdGFydCcgfHwgdHlwZSA9PT0gJ2RyYWdlbmQnIHx8IHR5cGUgPT09ICdkcmFnbW92ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERyYWdFdmVudCh0eXBlLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBEaXNwYXRjaChldmVudCwgdGFyZ2V0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldE1vdXNlID0gdGFyZ2V0LmV4dGVuc2lvbignTW91c2UnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldE1vdXNlKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldE1vdXNlLmhhc0V2ZW50KGV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldE1vdXNlLnJlc29sdmUodGFyZ2V0LCBldmVudCwgZ2V0RXZlbnRCeVR5cGUoZXZlbnQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZUV2ZW50QnlUeXBlKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICgodHlwZSA9PT0gJ21vdXNlZW50ZXInIHx8IHR5cGUgPT09ICdkcmFzdGFydCcgfHwgdHlwZSA9PT0gJ2RyYWdlbmQnIHx8IHR5cGUgPT09ICdkcmFnbW92ZScgfHxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID09PSAnbW91c2Vtb3ZlJyB8fCB0eXBlID09PSAnbW91c2V1cCcgfHwgdHlwZSA9PT0gJ21vdXNlZG93bicpICYmIHRhcmdldC5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGlzcGF0Y2godHlwZSwgdGFyZ2V0LmN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCh0eXBlID09PSAnbW91c2VsZWF2ZScgfHwgdHlwZSA9PT0gJ2RyYWdlbmQnKSAmJiB0YXJnZXQucHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBEaXNwYXRjaCh0eXBlLCB0YXJnZXQucHJldmlvdXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZXNvbHZlRHJhZ1N0YXJ0KCkge1xyXG4gICAgICAgICAgICAgICAgZHJhZ2dlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBkcmFnLnN0YXJ0WzBdID0gY3Vyc29yLmN1cnJlbnRbMF07XHJcbiAgICAgICAgICAgICAgICBkcmFnLnN0YXJ0WzFdID0gY3Vyc29yLmN1cnJlbnRbMV07XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRCeVR5cGUoJ2RyYWdzdGFydCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZXNvbHZlRHJhZ0VuZCgpIHtcclxuICAgICAgICAgICAgICAgIGRyYWcuY3VycmVudFswXSA9IGN1cnNvci5jdXJyZW50WzBdO1xyXG4gICAgICAgICAgICAgICAgZHJhZy5jdXJyZW50WzFdID0gY3Vyc29yLmN1cnJlbnRbMV07XHJcbiAgICAgICAgICAgICAgICBkcmFnLmRlbHRhWzBdID0gZHJhZy5zdGFydFswXSAtIGRyYWcuY3VycmVudFswXTtcclxuICAgICAgICAgICAgICAgIGRyYWcuZGVsdGFbMV0gPSBkcmFnLnN0YXJ0WzFdIC0gZHJhZy5jdXJyZW50WzFdO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdkcmFnZW5kJyk7XHJcbiAgICAgICAgICAgICAgICBkcmFnZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIERpc3BhdGNoRXZlbnRzKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vdXNlZG93bi5jdXJyZW50ICE9PSBtb3VzZWRvd24ub2xkICYmIG1vdXNlZG93bi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdtb3VzZWRvd24nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChtb3VzZWRvd24uY3VycmVudCAmJiBtb3VzZWRvd24uY3VycmVudCAhPT0gbW91c2Vkb3duLm9sZCAmJiAhZHJhZ2dlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVEcmFnU3RhcnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjdXJzb3Iub2xkWzBdICE9PSBjdXJzb3IuY3VycmVudFswXSB8fCBjdXJzb3Iub2xkWzFdICE9PSBjdXJzb3IuY3VycmVudFsxXSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmN1cnJlbnQgJiYgIXRhcmdldC5wcmV2aW91cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRCeVR5cGUoJ21vdXNlZW50ZXInKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQuY3VycmVudCAmJiB0YXJnZXQucHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdtb3VzZWxlYXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVEcmFnRW5kKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY3VycmVudCAmJiB0YXJnZXQucHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmN1cnJlbnQuJCRNT1VTRVNFQVJDSCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0LnByZXZpb3VzLiQkTU9VU0VTRUFSQ0gpIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXQuY3VycmVudC4kJE1PVVNFU0VBUkNIO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZURyYWdFbmQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnbW91c2VsZWF2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50QnlUeXBlKCdtb3VzZWVudGVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlRHJhZ1N0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdXNlZG93bi5jdXJyZW50ICYmIG1vdXNlZG93bi5jdXJyZW50ID09PSBtb3VzZWRvd24ub2xkICYmIGRyYWdnZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZy5jdXJyZW50WzBdID0gY3Vyc29yLmN1cnJlbnRbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWcuY3VycmVudFsxXSA9IGN1cnNvci5jdXJyZW50WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnLmRlbHRhWzBdID0gZHJhZy5zdGFydFswXSAtIGRyYWcuY3VycmVudFswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZy5kZWx0YVsxXSA9IGRyYWcuc3RhcnRbMV0gLSBkcmFnLmN1cnJlbnRbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnZHJhZ21vdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1vdXNlZG93bi5jdXJyZW50ICYmIG1vdXNlZG93bi5jdXJyZW50ID09PSBtb3VzZWRvd24ub2xkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEJ5VHlwZSgnbW91c2Vtb3ZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFtb3VzZWRvd24uY3VycmVudCAmJiBtb3VzZWRvd24uY3VycmVudCAhPT0gbW91c2Vkb3duLm9sZCAmJiBkcmFnZ2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZURyYWdFbmQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghbW91c2Vkb3duLmN1cnJlbnQgJiYgbW91c2Vkb3duLmN1cnJlbnQgIT09IG1vdXNlZG93bi5vbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRCeVR5cGUoJ21vdXNldXAnKTtcclxuICAgICAgICAgICAgICAgICAgICBkcmFnZ2VkID0gZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQucHJldmlvdXMgPSB0YXJnZXQuY3VycmVudDtcclxuICAgICAgICAgICAgICAgIG1vdXNlZG93bi5vbGQgPSBtb3VzZWRvd24uY3VycmVudDtcclxuICAgICAgICAgICAgICAgIGN1cnNvci5vbGRbMF0gPSBjdXJzb3IuY3VycmVudFswXTtcclxuICAgICAgICAgICAgICAgIGN1cnNvci5vbGRbMV0gPSBjdXJzb3IuY3VycmVudFsxXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlVGFyZ2V0cygpIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5wcmV2aW91cyA9IHRhcmdldC5jdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmN1cnJlbnQgPSBGaW5kZXIuY2hlY2soY3Vyc29yLmN1cnJlbnQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgdGljayA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZXZlbnREaXNwYXRjaGVyVGljaygpIHtcclxuICAgICAgICAgICAgICAgIHRpY2sgPSAhdGljaztcclxuICAgICAgICAgICAgICAgIGlmICh0aWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICBVcGRhdGVUYXJnZXRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgRGlzcGF0Y2hFdmVudHMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgQ2FudmFzUm9vdC5xdWV1ZSgtMSwgZXZlbnREaXNwYXRjaGVyVGljayk7XHJcblxyXG4gICAgICAgICAgICBUaWNrZXIub24oJ3N0YXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFRpY2tlci5vbignc3RvcCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgVGlja2VyLm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDUvMTEvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UoXHJcbiAgICBbJ0BhcHAnLCAnQENhbnZhcycsICdAaW5qZWN0JywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBLZXlib2FyZChhcHAsIGNhbnZhcywgaW5qZWN0LCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrcyA9IHt9LFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBlbmFibGVkID0gdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGZvY3VzZWQgPSB0cnVlLFxyXG4gICAgICAgICAgICAgICAgcXVldWUgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMua2V5ZG93biA9IGZ1bmN0aW9uIChjb2RlLCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vbihjb2RlLCAna2V5ZG93bicsIGZ1bmMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5rZXl1cCA9IGZ1bmN0aW9uIChjb2RlLCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vbihjb2RlLCAna2V5dXAnLCBmdW5jKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5lbmFibGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBlbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbiA9IGZ1bmN0aW9uIChjb2RlLCBldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb2RlID09PSBcIm51bWJlclwiICYmIHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ2tleXVwJyB8fCBldmVudCA9PT0gJ2tleWRvd24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbGxiYWNrc1tjb2RlXSkgY2FsbGJhY2tzW2NvZGVdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbGxiYWNrc1tldmVudF0pIGNhbGxiYWNrc1tjb2RlXVtldmVudF0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tjb2RlXVtldmVudF0ucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ0V2ZW50IGNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2U6IGV2ZW50fSwgJ05vIHN1Y2ggdHlwZSBvZiBldmVudCBhcyBbe2V9XScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2M6IGNvZGV9LCAnV3Jvbmcga2V5IGNvZGUgW3tjfV0nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gT25BcHBUaWNrKCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlW2ldKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBxdWV1ZSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRRdWV1ZUZ1bmMoZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5Y29kZSA9IGUua2V5Q29kZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tzW2tleWNvZGVdICYmIGNhbGxiYWNrc1trZXljb2RlXVtlLnR5cGVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzW2tleWNvZGVdW2UudHlwZV0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudCA9IGluamVjdCgnJEtleWJvYXJkRXZlbnQnKS5idWlsZChlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1trZXljb2RlXVtlLnR5cGVdW2ldLmFwcGx5KGV2ZW50LCBba2V5Y29kZSwgZS50eXBlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBjYW52YXNDbGlja2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBjYW52YXMuZWxlbWVudCgpLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNhbnZhc0NsaWNrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FudmFzQ2xpY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvY3VzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9jdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FudmFzQ2xpY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghYWN0aXZlIHx8ICFlbmFibGVkIHx8ICFmb2N1c2VkKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGdldFF1ZXVlRnVuYyhlKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhY3RpdmUgfHwgIWVuYWJsZWQgfHwgIWZvY3VzZWQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goZ2V0UXVldWVGdW5jKGUpKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBhcHAuJG9uKCdzdGFydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBhcHAuJG9uKCdzdG9wJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBhcHAuJCgndGljaycsIE9uQXBwVGljayk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA1LzExLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdLZXlib2FyZCcsXHJcbiAgICBbXHJcbiAgICAgICAgZnVuY3Rpb24gS2V5Ym9hcmRFdmVudCgpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBrZXljb2RlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGN0cmxQcmVzc2VkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBhbHRQcmVzc2VkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzaGlmdFByZXNzZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGV2ZW50ID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB0eXBlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAga2V5Y29kZSA9IGUua2V5Q29kZTtcclxuICAgICAgICAgICAgICAgIGN0cmxQcmVzc2VkID0gZS5jdHJsS2V5O1xyXG4gICAgICAgICAgICAgICAgYWx0UHJlc3NlZCA9IGUuYWx0S2V5O1xyXG4gICAgICAgICAgICAgICAgc2hpZnRQcmVzc2VkID0gZS5zaGlmdEtleTtcclxuICAgICAgICAgICAgICAgIGV2ZW50ID0gZTtcclxuICAgICAgICAgICAgICAgIHR5cGUgPSBlLnR5cGU7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5idWlsZDtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy50eXBlID0gZnVuY3Rpb24gKHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdHJpbmcgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlID09PSBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlICByZXR1cm4gdHlwZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29kZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBrZXljb2RlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zaGlmdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzaGlmdFByZXNzZWQ7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuYWx0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFsdFByZXNzZWQ7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuY3RybCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdHJsUHJlc3NlZDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5vcmlnaW5hbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBldmVudDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlKFxyXG4gICAgWydAaW5qZWN0JywgJytFYXNpbmcnLCAnQENhbnZhcycsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gTW9ycGhpbmUoaW5qZWN0LCBFYXNpbmdzLCBDYW52YXMsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgbW9ycGhpbmVzID0gW107XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uIChzdGFydCwgZW5kLCBmdW5jLCBlYXNpbmcsIGR1cmF0aW9uLCBycHQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN0YXJ0ICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBlbmQgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7fSwgJ01vcnBoaW5lIC8gVW5hYmxlIHRvIGNyZWF0ZS4gU3RhcnQgdmFsdWUgaXMgd3JvbmchJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe30sICdNb3JwaGluZSAvIFVuYWJsZSB0byBjcmVhdGUuIEVuZCB2YWx1ZSBpcyB3cm9uZyEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlYXNpbmcgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7fSwgJ01vcnBoaW5lIC8gVW5hYmxlIHRvIGNyZWF0ZS4gRWFzaW5nIGlzIG5vdCBhIHN0cmluZyEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAgZHVyYXRpb24gIT09IFwibnVtYmVyXCIgfHwgZHVyYXRpb24gPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt9LCAnTW9ycGhpbmUgLyBVbmFibGUgdG8gY3JlYXRlLiBEdXJhdGlvbiBpcyBsZXNzIHRoYW4gMCBvciBub3QgYSBudW1iZXInKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZWZ1bmMgPSBFYXNpbmdzLmdldChlYXNpbmcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghZWZ1bmMpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7ZWFzaW5nOiBlYXNpbmd9LCAnIE1vcnBoaW5lIC8gVW5hYmxlIHRvIGNyZWF0ZS4gTm8gc3VjaCBlYXNpbmcge2Vhc2luZ30nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG1vcnBoaW5lID0gaW5qZWN0KCckTW9ycGhpbmUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdGlja0YgPSBtb3JwaGluZS5jb25maWcoc3RhcnQsIGVuZCwgZnVuYywgZHVyYXRpb24sIGVmdW5jLCBycHQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdGlja0YgfHwgdHlwZW9mIHRpY2tGICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7fSwgJ01vcnBoaW5lIC8gVW5hYmxlIHRvIGNvbmZpZyBtb3JwaGluZS4gRHVlIHRvIHNvbWUgZXJyb3IuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRpY2tGLiRtID0gbW9ycGhpbmU7XHJcblxyXG4gICAgICAgICAgICAgICAgbW9ycGhpbmVzLnB1c2godGlja0YpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBtb3JwaGluZTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBDYW52YXMucXVldWUoLTIsIGZ1bmN0aW9uIHByb2Nlc3NNb3JwaGluZXMoY29udGV4dCwgZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBkYXRlLmdldFRpbWUoKSxcclxuICAgICAgICAgICAgICAgICAgICBfbW9ycGhpbmVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb3JwaGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1vcnBoaW5lc1tpXS4kbS5kb25lKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGhpbmVzW2ldKGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfbW9ycGhpbmVzLnB1c2gobW9ycGhpbmVzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtb3JwaGluZXMgPSBfbW9ycGhpbmVzO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG5cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BleHRlbmQnLCAnQGluamVjdCcsICc8UGx1Z2lucycsXHJcbiAgICAgICAgZnVuY3Rpb24gR3JhcGhpY3MoZXh0ZW5kLCBpbmplY3QsIHBsdWdpbnMpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciB0eXBlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHJlc29sdmVkX3BsdWdpbnMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXh0ZW5zaW9uID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlZF9wbHVnaW5zW25hbWVdO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy50eXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRlZmluZVR5cGUgPSBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0ICE9PSBcInN0cmluZ1wiKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGVmaW5lVHlwZTtcclxuXHJcbiAgICAgICAgICAgICAgICB0eXBlID0gdDtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IHBsdWdpbnMubGlzdCgpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRfcGx1Z2luc1tsaXN0W2ldXSA9IGluamVjdCgnJFBsdWdpbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkX3BsdWdpbnNbbGlzdFtpXV0uZGVmaW5lT2JqZWN0KHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZChyZXNvbHZlZF9wbHVnaW5zW2xpc3RbaV1dLCAnPCcgKyBsaXN0W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZWRfcGx1Z2luc1tsaXN0W2ldXS5tYXRjaFR5cGUodHlwZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRfcGx1Z2luc1tsaXN0W2ldXS53cmFwKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlc29sdmVkX3BsdWdpbnNbbGlzdFtpXV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckJyArIHQgKyAnT2JqZWN0TW9kZWwnKTtcclxuICAgICAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRPYmplY3REcmF3ZXInKTtcclxuICAgICAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJCcgKyB0ICsgJ09iamVjdERyYXdlcicpO1xyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdE9iamVjdFR5cGUnKTtcclxuICAgICAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJCcgKyB0ICsgJ09iamVjdENsYXNzJyk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UoXHJcbiAgICBbJ0BpbmplY3QnLCAnVHJlZScsXHJcbiAgICAgICAgZnVuY3Rpb24gT2JqZWN0cyhpbmplY3QsIFRyZWUpIHtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEluamVjdEJ5VHlwZSh0eXBlLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBpbmplY3QoJyRHcmFwaGljcycpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc3VsdC5kZWZpbmVUeXBlKHR5cGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjb25maWcgJiYgY29uZmlnLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdHlsZS5hcHBseShyZXN1bHQsIGNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdyb3VwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnR3JvdXAnLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5saW5lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnTGluZScsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSW5qZWN0QnlUeXBlKCdSZWN0YW5nbGUnLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jaXJjbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSW5qZWN0QnlUeXBlKCdDaXJjbGUnLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbWFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBJbmplY3RCeVR5cGUoJ0ltYWdlJywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnU3ByaXRlJywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBJbmplY3RCeVR5cGUoJ1RleHQnLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hcmVhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnQXJlYScsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBUcmVlLnJvb3QodGhpcy5ncm91cCgpKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEyLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlKFxyXG4gICAgWydAQ2FudmFzJywgJ0BpbmplY3QnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFJlc291cmNlKENhbnZhcywgaW5qZWN0LCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIGFsbCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udHM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvczogW11cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBsb2FkQ291bnRlciA9IDAsXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gR2V0UmVzb3VyY2VCeVVSTCh0eXBlLCBzZWFyY2gpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnZm9udCcpIHNlYXJjaCA9IHNlYXJjaFswXTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBhcnJheSA9IGNvbnRhaW5lclt0eXBlICsgJ3MnXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWFycmF5KSByZXR1cm4gcmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXlbaV0udXJsKCkgPT09IHNlYXJjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBhcnJheVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEluamVjdEJ5VHlwZSh0eXBlLCBzcmMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBleGlzdGVkID0gR2V0UmVzb3VyY2VCeVVSTCh0eXBlLCBzcmMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhpc3RlZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfdHlwZSA9IHR5cGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBpbmplY3QoJyQnICsgdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHR5cGUuc2xpY2UoMSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRDb3VudGVyLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc29sdmVFdmVudCgnbG9hZCcsIFt0aGlzLCBsb2FkQ291bnRlciwgYWxsLmxlbmd0aF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQub24oJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkQ291bnRlci0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvbHZlRXZlbnQoJ2Vycm9yJywgW3RoaXMsIGxvYWRDb3VudGVyLCBhbGwubGVuZ3RoXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC51cmwoc3JjKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcltfdHlwZSArICdzJ10ucHVzaChyZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhbGwucHVzaChyZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsb2FkQ291bnRlcisrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBSZXNvbHZlRXZlbnQoJ2FkZCcsIFtyZXN1bHQsIGxvYWRDb3VudGVyLCBhbGwubGVuZ3RoXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2UgPSBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSW5qZWN0QnlUeXBlKCdpbWFnZScsIHNyYyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBJbmplY3RCeVR5cGUoJ3Nwcml0ZScsIHNyYyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvID0gZnVuY3Rpb24gKHNyYykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnYXVkaW8nLCBzcmMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcHJlbG9hZFJlcXVlc3QoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaW1hZ2VzICYmIGRhdGEuaW1hZ2VzLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5pbWFnZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhLmltYWdlc1tpXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eKFsuL19cXGRhLXpBLVpdKykoXFxbKFxcZCspXFxdKSQvLnRlc3QoZGF0YS5pbWFnZXNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zcHJpdGUoZGF0YS5pbWFnZXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pbWFnZShkYXRhLmltYWdlc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuYXVkaW8gJiYgZGF0YS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuYXVkaW8ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhLmF1ZGlvW2ldID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmF1ZGlvKGRhdGEuYXVkaW9baV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZm9udHMgJiYgZGF0YS5mb250cy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuZm9udHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZm9udHNbaV0gJiYgdHlwZW9mIGRhdGEuZm9udHNbaV0gPT09IFwib2JqZWN0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHR5cGVvZiBkYXRhLmZvbnRzW2ldLm5hbWUgPT09IFwic3RyaW5nXCIgJiYgZGF0YS5mb250c1tpXS5uYW1lLmxlbmd0aCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3ZWlnaHQgPSBkYXRhLmZvbnRzW2ldLndlaWdodCAmJiB0eXBlb2YgZGF0YS5mb250c1tpXS53ZWlnaHQgPT09IFwibnVtYmVyXCIgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmZvbnRzW2ldLndlaWdodCA6IDQwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IGRhdGEuZm9udHNbaV0uc3R5bGUgPT09ICdpdGFsaWMnID8gZGF0YS5mb250c1tpXS5zdHlsZSA6ICdub3JtYWwnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZm9udChkYXRhLmZvbnRzW2ldLm5hbWUsIHdlaWdodCwgc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByZWxvYWQgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICBwcmVsb2FkUmVxdWVzdChjb25maWcpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcmVsb2FkQnlVcmwgPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdCkgcmVxdWVzdC5hYm9ydCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT09IFwic3RyaW5nXCIgJiYgdXJsLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7dXJsOiB1cmx9LCAnVW5hYmxlIHRvIHBhcnNlIEpTT04gZnJvbSBbe3VybH1dLiBVbmtub3duIHJlc3BvbnNlIGZvcm1hdC4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVsb2FkUmVxdWVzdChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt1cmw6IHVybH0sICdVbmFibGUgdG8gZ2V0IHJlc291cmNlcyBmcm9tIFt7dXJsfV0gdG8gcHJlbG9hZC4gU2VydmVyIGVycm9yLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVsb2FkUmVxdWVzdCh7fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dXJsOiB1cmx9LCAnVW5hYmxlIHRvIGdldCByZXNvdXJjZXMgZnJvbSBbe3VybH1dIHRvIHByZWxvYWQuIFJlcXVlc3QgYWJvcnRlZC4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlbG9hZFJlcXVlc3Qoe30pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0Lm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3Quc2VuZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mb250ID0gZnVuY3Rpb24gKHNyYywgd2VpZ2h0LCBzdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEluamVjdEJ5VHlwZSgnZm9udCcsIFtzcmMsIHdlaWdodCwgc3R5bGVdKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjQkNvbnRhaW5lciA9IHtcclxuICAgICAgICAgICAgICAgIGxvYWQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IFtdLFxyXG4gICAgICAgICAgICAgICAgYWRkOiBbXVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbiA9IGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IGNCQ29udGFpbmVyW2V2ZW50XTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtldmVudDogZXZlbnR9LCAnVW5hYmxlIHRvIHNldCBldmVudCBbe2V2ZW50fV0gY2FsbGJhY2suIGZ1bmMgaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2V2ZW50OiBldmVudH0sICdVbmFibGUgdG8gc2V0IGV2ZW50IFt7ZXZlbnR9XS4gTm8gc3VjaCBldmVudCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1VuYWJsZSB0byBzZXQgZXZlbnQgY2FsbGJhY2suIEV2ZW50IG5hbWUgaXMgbm90IGEgc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9mZiA9IGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IGNCQ29udGFpbmVyW2V2ZW50XTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuYXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmMuJCRTRUFSQ0ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXJyYXlbaV0uJCRTRUFSQ0gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFycmF5LnB1c2goYXJyYXlbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZ1bmMuJCRTRUFSQ0g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjQkNvbnRhaW5lcltldmVudF0gPSBuYXJyYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2V2ZW50OiBldmVudH0sICdVbmFibGUgdG8gdW5zZXQgY2FsbGJhY2sgZm9yIGV2ZW50IFt7ZXZlbnR9XS4gTm8gc3VjaCBldmVudCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ1VuYWJsZSB0byB1bnNldCBldmVudC4gRXZlbnQgaXMgbm90IGEgc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxpc3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW10uY29uY2F0KGNvbnRhaW5lci5pbWFnZXMpLmNvbmNhdChjb250YWluZXIuYXVkaW9zKS5jb25jYXQoY29udGFpbmVyLmZvbnRzKS5jb25jYXQoY29udGFpbmVyLnNwcml0ZXMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gUmVzb2x2ZUV2ZW50KHR5cGUsIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IGNCQ29udGFpbmVyW3R5cGVdO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhcnJheSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheVtpXS5hcHBseShzZWxmLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgQ2FudmFzLnF1ZXVlKC0yLCBmdW5jdGlvbiB1cGRhdGVSZXNvdXJjZXMgKGNhbnZhcywgZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpbWUgPSBkYXRlLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVyLnNwcml0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyLnNwcml0ZXNbaV0ucmVhZHkoKSAmJiBjb250YWluZXIuc3ByaXRlc1tpXS5sb2FkZWQoKSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc3ByaXRlc1tpXS50aWNrKHRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzE2LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlKFxyXG4gICAgWydAQXVkaW8nLCAnQGluamVjdCcsICdAQ29uZmlnJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBTb3VuZChjb250ZXh0LCBpbmplY3QsIGNvbmZpZywgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIGNvbmZpZy5kZWZpbmUoJ2ZpbHRlcnMnLCBbJ0RlbGF5JywgJ0dhaW4nXSwge2lzQXJyYXk6IHRydWV9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IGluamVjdCgnJEF1ZGlvJykuYnVpbGQoJyQkREVTVElOQVRJT04nLCAnZGVzdGluYXRpb24nKSxcclxuICAgICAgICAgICAgICAgIHNvdW5kcyA9IHt9LFxyXG4gICAgICAgICAgICAgICAgc291bmRjb3VudCA9IDAsXHJcbiAgICAgICAgICAgICAgICBjaGFubmVsY291bnQgPSAwLFxyXG4gICAgICAgICAgICAgICAgY2hhbm5lbHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCRERVNUSU5BVElPTjogZGVzdGluYXRpb25cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5zYW1wbGUgPSBmdW5jdGlvbiAodXJsLCBjaGFubmVsLCBuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHVybCA9PT0gXCJzdHJpbmdcIiAmJiB1cmwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VuZHNbdXJsXSkgcmV0dXJuIHNvdW5kc1t1cmxdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIiB8fCBuYW1lLmxlbmd0aCA9PT0gMCkgbmFtZSA9ICdVc2VyU291bmRbJyArIHNvdW5kY291bnQgKyAnXSc7XHJcbiAgICAgICAgICAgICAgICAgICAgc291bmRjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBpbmplY3QoJyRBdWRpbycpLmJ1aWxkKG5hbWUsIHVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGFubmVsICE9PSBcInN0cmluZ1wiIHx8IGNoYW5uZWwubGVuZ3RoID09PSAwKSBjaGFubmVsID0gJyQkREVTVElOQVRJT04nO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvdXQgPSB0aGlzLmNoYW5uZWwoY2hhbm5lbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmNvbm5lY3Qob3V0KTtcclxuICAgICAgICAgICAgICAgICAgICBzb3VuZHNbcmVzdWx0LnVybCgpXSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dXJsOiB1cmx9LCAnW3t1cmx9XSBpcyBub3QgdmFsaWQgYXVkaW8gdXJsIG9yIGVtcHR5LicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jaGFubmVsID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbHNbbmFtZV0pIHJldHVybiBjaGFubmVsc1tuYW1lXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGluamVjdCgnJEF1ZGlvJykuYnVpbGQobmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5jb25uZWN0KGRlc3RpbmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsc1tuYW1lXSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsY291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jaGFubmVscyA9IGZ1bmN0aW9uIChieXVybCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpc3QgPSB7fSxcclxuICAgICAgICAgICAgICAgICAgICBieXVybCA9ICEhYnl1cmw7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgY2hhbm5lbCBpbiBjaGFubmVscykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVscy5oYXNPd25Qcm9wZXJ0eShjaGFubmVsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbCAhPT0gJyQkREVTVElOQVRJT04nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnl1cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0W2NoYW5uZWwudXJsKCldID0gY2hhbm5lbFtjaGFubmVsXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RbY2hhbm5lbF0gPSBjaGFubmVsc1tjaGFubmVsXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNvdW5kcyA9IGZ1bmN0aW9uIChieXVybCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpc3QgPSB7fSxcclxuICAgICAgICAgICAgICAgICAgICBieXVybCA9ICEhYnl1cmw7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc291bmRzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChieXVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFtwcm9wXSA9IHNvdW5kc1twcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Rbc291bmRzW3Byb3BdLm5hbWUoKV0gPSBzb3VuZHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5uZWxzLiQkREVTVElOQVRJT047XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNC8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZShbJ0BpbmplY3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFN0YXRlKGluamVjdCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0YXRlcyA9IHt9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFBhcnNlQWRkcmVzcyhhZGRyZXNzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYWRkcmVzcy5tYXRjaCgvXihbYS16QS1aXSspLihbYS16QS1aXSspJC8pLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gcmVzdWx0WzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3AgPSByZXN1bHRbMV07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlICYmIHByb3ApIHJldHVybiB7c3RhdGU6IHN0YXRlLCBwcm9wOiBwcm9wfTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoID0gZnVuY3Rpb24gKGFkZHJlc3MsIGZ1bmMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGFkZHJlc3MgPSBQYXJzZUFkZHJlc3MoYWRkcmVzcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFhZGRyZXNzKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0ZXNbYWRkcmVzcy5zdGF0ZV0pIHN0YXRlc1thZGRyZXNzLnN0YXRlXSA9IGluamVjdCgnJFN0YXRlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgc3RhdGVzW2FkZHJlc3MucHJvcF0ud2hlbihhZGRyZXNzLnByb3AsIGZ1bmMpO1xyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGVmaW5lID0gZnVuY3Rpb24gKGFkZHJlc3MsIHZhbHVlKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgYWRkcmVzcyA9IFBhcnNlQWRkcmVzcyhhZGRyZXNzKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWFkZHJlc3MpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRlc1thZGRyZXNzLnN0YXRlXSkgc3RhdGVzW2FkZHJlc3Muc3RhdGVdID0gaW5qZWN0KCckU3RhdGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzdGF0ZXNbYWRkcmVzcy5zdGF0ZV0uZGVmaW5lKGFkZHJlc3MucHJvcCwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlKFxyXG4gICAgWydEZWJ1ZycsICdAQ2FudmFzJywgJ0BDb25maWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFRyZWUoRGVidWcsIENhbnZhcywgQ29uZmlnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcm9vdCA9IG51bGwsIHJvb3REcmF3ZXIgPSBudWxsLCByb290U3R5bGUgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgY2xlYXIgPSBDb25maWcuZGVmaW5lKCdjbGVhcicsIGZhbHNlLCB7aXNCb29sOiB0cnVlfSkud2F0Y2goZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhciA9IHY7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IGZ1bmN0aW9uIChvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcm9vdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghb2JqZWN0LnR5cGUgfHwgdHlwZW9mIG9iamVjdC50eXBlICE9PSBcImZ1bmN0aW9uXCIgfHwgb2JqZWN0LnR5cGUoKSAhPT0gJ0dyb3VwJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7fSwgJ1RyZWUgLyBVbmFibGUgdG8gc2V0IHRyZWUgcm9vdCEgV3Jvbmcgb2JqZWN0IHR5cGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJvb3QgPSBvYmplY3Q7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkcmF3ZXIgPSByb290LmV4dGVuc2lvbignRHJhd2VyJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZHJhd2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt9LCAnVHJlZSAvIFVuYWJsZSB0byBnZXQgRHJhd2VyIGV4dGVuc2lvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRyYXdlci5kcmF3IHx8IHR5cGVvZiBkcmF3ZXIuZHJhdyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt9LCAnVHJlZSAvIFVuYWJsZSB0byByZWdpc3RlciByb290IERyYXdlci4gRHJhd2VyLmRyYXcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJvb3REcmF3ZXIgPSBkcmF3ZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJvb3RTdHlsZSA9IHJvb3QuZXh0ZW5zaW9uKCdTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm9vdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByb290O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgQ2FudmFzLnF1ZXVlKDAsIGZ1bmN0aW9uIGRyYXdHcmFwaGljc1RyZWUoY29udGV4dCwgZGF0ZSwgZnJhbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcm9vdCB8fCAhcm9vdERyYXdlcikgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNsZWFyKSBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjb250ZXh0LmNhbnZhcy5vZmZzZXRXaWR0aCwgY29udGV4dC5jYW52YXMub2Zmc2V0SGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIHJvb3REcmF3ZXIuZHJhdy5hcHBseShyb290LCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIucGx1Z2luLmNsYXNzKCdPYmplY3RzJywgJ0FuaW1hdGlvbicsXHJcbiAgICBbJytBbmltYXRpb24nLCAnTW9ycGhpbmUnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEFuaW1hdGlvbihBbmltYXRpb25IZWxwZXIsIE1vcnBoaW5lKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSAwLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgZWFzaW5nID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGRvbmUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHN0YWNrID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIG1vcnBoaW5lID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHRhcmdldCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdGVwc0NiID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHF1ZXVlID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGNsZWFyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHN0ZXBUeXBlU3RyID0gJ3R5cGUnLFxyXG4gICAgICAgICAgICAgICAgY29tcGxldGVUeXBlU3RyID0gJ2NvbXBsZXRlJyxcclxuICAgICAgICAgICAgICAgIGNvbmZpZyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBSZXNvbHZlKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09IHN0ZXBUeXBlU3RyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RlcHNDYi5oYXNPd25Qcm9wZXJ0eShzdGFja1tpXS5tb3JwaC5wcm9wZXJ0eSgpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcHNDYltzdGFja1tpXS5tb3JwaC5wcm9wZXJ0eSgpXS5hcHBseSh0YXJnZXQsIFtwcm9ncmVzcywgc3RhY2tbaV0ucmVzdWx0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlID09IGNvbXBsZXRlVHlwZVN0cikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzW3N0YWNrW2ldLm1vcnBoLnByb3BlcnR5KCldID0gc3RhY2tbaV0ucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25maWcuZG9uZSgxLCByZXN1bHRzKTtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucXVldWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcXVldWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRvbmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9uZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaGFzUHJvcGVydHkgPSBmdW5jdGlvbiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFja1tpXS5tb3JwaC5wcm9wZXJ0eSgpID09IHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaChzdGFja1tpXS5tb3JwaC5wcm9wZXJ0eSgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5oYXNQcm9wZXJ0eShwcm9wZXJ0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaW5kZXggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5zcGxpY2UoaW5kZXgsIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhY2sgPSBbXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgX3N0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb3JwaCA9IHN0YWNrW2ldLm1vcnBoLmdldChzdGFja1tpXS52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3JwaCAhPT0gdW5kZWZpbmVkICYmIG1vcnBoLnN0YXJ0KCkgIT09IGZhbHNlICYmIG1vcnBoLmVuZCgpICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RhY2sucHVzaChzdGFja1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHN0YWNrID0gX3N0YWNrO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0aWNrX2Z1bmN0aW9uID0gQW5pbWF0aW9uSGVscGVyLmdldFRpY2tGdW5jdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgIG1vcnBoaW5lID0gTW9ycGhpbmUuY3JlYXRlKDAsIDEsIGZ1bmN0aW9uIChjb21wbGV0ZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhY2subGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc29sdmUoY29tcGxldGVUeXBlU3RyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGhpbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2tbaV0ucmVzdWx0ID0gdGlja19mdW5jdGlvbih2YWx1ZSwgY29tcGxldGUsIHN0YWNrW2ldLm1vcnBoLnN0YXJ0KCksIHN0YWNrW2ldLm1vcnBoLmVuZCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrW2ldLm1vcnBoLmFwcGx5KGNvbXBsZXRlLCBzdGFja1tpXS5yZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvbHZlKHN0ZXBUeXBlU3RyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVzb2x2ZShjb21wbGV0ZVR5cGVTdHIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIGVhc2luZywgZHVyYXRpb24sIDApO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb25maWcgPSBmdW5jdGlvbiAodCwgbSwgY2ZnLCBmKSB7XHJcbiAgICAgICAgICAgICAgICBBbmltYXRpb25IZWxwZXIubm9ybWFsaXplQ29uZmlnKGNmZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSBjZmcuZHVyYXRpb247XHJcblxyXG4gICAgICAgICAgICAgICAgZWFzaW5nID0gY2ZnLmVhc2luZztcclxuXHJcbiAgICAgICAgICAgICAgICBzdGVwc0NiID0gY2ZnLnN0ZXA7XHJcblxyXG4gICAgICAgICAgICAgICAgcXVldWUgPSBjZmcucXVldWU7XHJcblxyXG4gICAgICAgICAgICAgICAgY2xlYXIgPSBmO1xyXG5cclxuICAgICAgICAgICAgICAgIHN0YWNrID0gbTtcclxuXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSB0O1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbmZpZyA9IGNmZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnBsdWdpbi5jbGFzcygnT2JqZWN0cycsICdBbmltYXRpb24nLFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gTW9ycGgoRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzZXR0ZXIgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgZ2V0dGVyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGFwcGxpZXIgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3RhcnQsIGVuZCxcclxuICAgICAgICAgICAgICAgIG9iamVjdCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgb3JkZXJpbmcgPSAwO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gU2V0U3RhcnRWYWx1ZSh2YWwpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTZXRFbmRWYWx1ZSh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGVuZCA9IHZhbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGFydDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVuZDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcGVydHk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9yZGVyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yZGVyaW5nO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHNldHRlci5hcHBseShvYmplY3QsIFtTZXRTdGFydFZhbHVlLCBTZXRFbmRWYWx1ZSwgdmFsdWVdKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy52YWxpZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWxpZDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHkgPSBmdW5jdGlvbiAocHJvZ3Jlc3MsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBvYmplY3Quc3R5bGUocHJvcGVydHksIGFwcGxpZXIuYXBwbHkob2JqZWN0LCBbdmFsdWUsIHByb2dyZXNzXSkpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb25maWcgPSBmdW5jdGlvbiAobmFtZSwgb2JqLCBvcmQsIHNldCwgYXBsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmcxIFt7bmFtZX1dIGlzIG5vdCBhIHN0cmluZyEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ1VuYWJsZSB0byBjb25maWcgTW9ycGguIGFyZzMgaXMgbm90IGFuIG9iamVjdCEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNldCAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnNCBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9yZCAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ1VuYWJsZSB0byBjb25maWcgTW9ycGguIGFyZzIgaXMgbm90IGEgbnVtYmVyIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXBsICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmc1IGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IG5hbWU7XHJcbiAgICAgICAgICAgICAgICBzZXR0ZXIgPSBzZXQ7XHJcbiAgICAgICAgICAgICAgICBhcHBsaWVyID0gYXBsO1xyXG4gICAgICAgICAgICAgICAgb3JkZXJpbmcgPSBvcmQ7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSBvYmo7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMi83LzIwMTcuXHJcbiAqL1xyXG4kUi5wbHVnaW4uY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgJ0JveCcsXHJcbiAgICBbZnVuY3Rpb24gQm94KCkge1xyXG4gICAgICAgIHZhciBjb250YWluZXIgPSB7XHJcbiAgICAgICAgICAgICAgICBzaXplOiBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIDBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNwcml0ZSA9IHtcclxuICAgICAgICAgICAgICAgIG1hcmdpbjogWzAsIDAsIDAsIDBdLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFswLCAwXSxcclxuICAgICAgICAgICAgICAgIHNpemU6IFswLCAwXVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHNpemU6IFtjb250YWluZXIuc2l6ZVswXSwgY29udGFpbmVyLnNpemVbMV1dLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFtjb250YWluZXIucG9zaXRpb25bMF0sIGNvbnRhaW5lci5wb3NpdGlvblsxXV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2V0ID0gZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQsIHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuc2l6ZVswXSA9IHdpZHRoO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc2l6ZVsxXSA9IGhlaWdodDtcclxuICAgICAgICAgICAgY29udGFpbmVyLnBvc2l0aW9uWzBdID0geDtcclxuICAgICAgICAgICAgY29udGFpbmVyLnBvc2l0aW9uWzFdID0geTtcclxuICAgICAgICAgICAgc3ByaXRlLm1hcmdpblswXSA9IHRvcDtcclxuICAgICAgICAgICAgc3ByaXRlLm1hcmdpblsxXSA9IHJpZ2h0O1xyXG4gICAgICAgICAgICBzcHJpdGUubWFyZ2luWzJdID0gYm90dG9tO1xyXG4gICAgICAgICAgICBzcHJpdGUubWFyZ2luWzNdID0gbGVmdDtcclxuICAgICAgICAgICAgc3ByaXRlLnNpemVbMF0gPSBsZWZ0ICsgd2lkdGggKyByaWdodDtcclxuICAgICAgICAgICAgc3ByaXRlLnNpemVbMV0gPSB0b3AgKyBoZWlnaHQgKyBib3R0b207XHJcbiAgICAgICAgICAgIHNwcml0ZS5wb3NpdGlvblswXSA9IHggLSBsZWZ0O1xyXG4gICAgICAgICAgICBzcHJpdGUucG9zaXRpb25bMV0gPSB5IC0gdG9wO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudmFsdWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNwcml0ZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgIH1dXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjgvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbi5jbGFzcygnT2JqZWN0cycsICdUZXh0JyxcclxuICAgIFsnQGV4dGVuZCcsICdAaW5qZWN0JywgJytEcmF3ZXInLFxyXG4gICAgICAgIGZ1bmN0aW9uIFRleHRMaW5lQ2xhc3MoZXh0ZW5kLCBpbmplY3QsIERyYXdlckhlbHBlcikge1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRUZXh0RWxlbWVudENsYXNzJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgd2lkdGggPSAwLFxyXG4gICAgICAgICAgICAgICAgd29yZHMgPSBbXSxcclxuICAgICAgICAgICAgICAgIHNwYWNlID0gaW5qZWN0KCckVGV4dFNwYWNlQ2xhc3MnKSxcclxuICAgICAgICAgICAgICAgIGxlbmd0aCA9IDAsXHJcbiAgICAgICAgICAgICAgICB3aWR0aFVwZGF0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFdpZHRoKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHdpZHRoVXBkYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IHdvcmRzW2ldLndpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoVXBkYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBEcmF3ZXJIZWxwZXIubWVhc3VyZVRleHQoZ2V0V2lkdGgpXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxlbmd0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsZW5ndGg7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLndvcmRzID0gZnVuY3Rpb24gKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJyYXkgJiYgdHlwZW9mIGFycmF5ID09PSBcIm9iamVjdFwiICYmIGFycmF5LmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd29yZHMucHVzaChhcnJheVtpXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNpemUodGhpcy5zaXplKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaGVpZ2h0KHRoaXMuaGVpZ2h0KCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUodGhpcy5zdHlsZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLndlaWdodCh0aGlzLndlaWdodCgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbG9yKHRoaXMuY29sb3IoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mb250KHRoaXMuZm9udCgpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aCA9IHdvcmRzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2FyciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Fyci5wdXNoKHdvcmRzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eUNoYW5nZWQoJ3N0cmluZycsIF9hcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgd2lkdGhVcGRhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB3b3JkcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHVzaCA9IGZ1bmN0aW9uICh3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAod29yZHMubGVuZ3RoID4gMCkgd29yZHMucHVzaChzcGFjZSk7XHJcbiAgICAgICAgICAgICAgICB3b3Jkcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHdvcmQuc2l6ZSh0aGlzLnNpemUoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmhlaWdodCh0aGlzLmhlaWdodCgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUodGhpcy5zdHlsZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAud2VpZ2h0KHRoaXMud2VpZ2h0KCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jb2xvcih0aGlzLmNvbG9yKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mb250KHRoaXMuZm9udCgpKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHdpZHRoVXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0cmluZyA9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gd29yZHNbaV0uc3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vblByb3BlcnR5Q2hhbmdlKGZ1bmN0aW9uIChwcm9wZXJ0eSwgdmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VbcHJvcGVydHldKHZhbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjgvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbi5jbGFzcygnT2JqZWN0cycsICdUZXh0JyxcclxuICAgIFsnQGV4dGVuZCcsICcrRHJhd2VyJyxcclxuICAgICAgICBmdW5jdGlvbiBUZXh0U3BhY2VDbGFzcyhleHRlbmQsIERyYXdlckhlbHBlcikge1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRUZXh0RWxlbWVudENsYXNzJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3RyaW5nID0gJyAnLFxyXG4gICAgICAgICAgICAgICAgd2lkdGggPSAwLFxyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRXaWR0aChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZvbnQgPSBzZWxmLmV4dHJhY3RGb250U3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5tZWFzdXJlVGV4dChzdHJpbmcpLndpZHRoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBEcmF3ZXJIZWxwZXIubWVhc3VyZVRleHQoZ2V0V2lkdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAzLzI4LzIwMTcuXHJcbiAqL1xyXG4kUi5wbHVnaW4uY2xhc3MoJ09iamVjdHMnLCAnVGV4dCcsXHJcbiAgICBbJytDb2xvcicsXHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dEVsZW1lbnRDbGFzcyhDb2xvckhlbHBlcikge1xyXG4gICAgICAgICAgICB2YXIgY29sb3IgPSAncmdiYSgwLDAsMCwxKScsXHJcbiAgICAgICAgICAgICAgICBmb250ID0gJ3NhbnMtc2VyaWYnLFxyXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodCA9IDQwMCxcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplID0gMTQsXHJcbiAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0ID0gMTQsXHJcbiAgICAgICAgICAgICAgICBmb250U3R5bGUgPSAnbm9ybWFsJyxcclxuICAgICAgICAgICAgICAgIGNiID0gW10sXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlc29sdmUocHJvcGVydHksIHZhbCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNiW2ldLmFwcGx5KHNlbGYsIFtwcm9wZXJ0eSwgdmFsXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2l6ZSA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA8IDApIHZhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemUgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnc2l6ZScsIGZvbnRTaXplKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmb250U2l6ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsIDwgMCkgdmFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0ID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ2hlaWdodCcsIGxpbmVIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpbmVIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLndlaWdodCA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA8IDEwMCkgdmFsID0gMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPiA5MDApIHZhbCA9IDkwMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsICUgMTAwICE9PSAwKSB2YWwgPSB2YWwgLSAodmFsICUgMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0ID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3dlaWdodCcsIGZvbnRXZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvbnRXZWlnaHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvbnQgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIiAmJiB2YWwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnZm9udCcsIGZvbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvbnQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbG9yID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ2NvbG9yJywgY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvcjtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3R5bGUgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsID09PSAnbm9ybWFsJyB8fCB2YWwgPT09ICdpdGFsaWMnIHx8IHZhbCA9PT0gJ29ibGlxdWUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFN0eWxlID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3N0eWxlJywgZm9udFN0eWxlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmb250U3R5bGU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmV4dHJhY3RGb250U3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvbnRTdHlsZSArICcgJyArIGZvbnRTaXplICsgJ3B4IFwiJyArIGZvbnQgKyAnLScgKyBmb250V2VpZ2h0ICsgJ1wiJztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub25Qcm9wZXJ0eUNoYW5nZSA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNiLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb3BlcnR5Q2hhbmdlZCA9IGZ1bmN0aW9uIChuYW1lLCB2YWwpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUobmFtZSwgdmFsKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjYvMjAxNy5cclxuICovXHJcbiRSLnBsdWdpbi5jbGFzcygnT2JqZWN0cycsICdUZXh0JyxcclxuICAgIFsnK0NvbG9yJywgJ0BleHRlbmQnLCAnK0RyYXdlcicsXHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dFdvcmRDbGFzcyhDb2xvckhlbHBlciwgZXh0ZW5kLCBEcmF3ZXJIZWxwZXIpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJFRleHRFbGVtZW50Q2xhc3MnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSAnJyxcclxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdHJpbmcgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BlcnR5Q2hhbmdlZCgnc3RyaW5nJywgdmFsKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRXaWR0aChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZvbnQgPSBzZWxmLmV4dHJhY3RGb250U3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5tZWFzdXJlVGV4dChzdHJpbmcpLndpZHRoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIERyYXdlckhlbHBlci5tZWFzdXJlVGV4dChnZXRXaWR0aCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5kcmF3ID0gZnVuY3Rpb24gKGNvbnRleHQsIHgsIHkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeCAhPT0gXCJudW1iZXJcIikgeCA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHkgIT09IFwibnVtYmVyXCIpIHkgPSAwO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuY29sb3IoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IHRoaXMuZXh0cmFjdEZvbnRTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQoc3RyaW5nLCB4LCB5KTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDIvMi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnRGlzcGF0Y2hlcicsXHJcbiAgICBbJ1RyZWUnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEZpbmRlcihUcmVlLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gQ2hlY2tFbGVtZW50KGUsIGN1cnNvcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUudHlwZSgpID09PSAnR3JvdXAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVycyA9IGUuZXh0ZW5zaW9uKCdMYXllcnMnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZGlzYWJsZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHlwZSgpID09PSAnR3JvdXAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9yZXN1bHQgPSBDaGVja0VsZW1lbnQodGhpcywgY3Vyc29yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3Jlc3VsdCkgcmVzdWx0ID0gX3Jlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb3VzZWV4dCA9IHRoaXMuZXh0ZW5zaW9uKCdNb3VzZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVzdWx0ID0gbW91c2VleHQuY2hlY2sodGhpcywgY3Vyc29yKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9yZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gX3Jlc3VsdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2sgPSBmdW5jdGlvbiAoY3Vyc29yKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcm9vdCA9IFRyZWUucm9vdCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyb290KSByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3Vyc29yICE9PSBcIm9iamVjdFwiIHx8IGN1cnNvci5jb25zdHJ1Y3RvciAhPT0gQXJyYXkgfHwgY3Vyc29yLmxlbmd0aCAhPT0gMiB8fCB0eXBlb2YgY3Vyc29yWzBdICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBjdXJzb3JbMV0gIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtjOiBjdXJzb3J9LCAnT2JqZWN0RmluZGVyIDsge1tjXX0gaXMgbm90IGEgdmFsaWQgY3Vyc29yIHZhbHVlLicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIENoZWNrRWxlbWVudChyb290LCBjdXJzb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnTW9ycGhpbmUnLCBbXHJcbiAgICAgICAgZnVuY3Rpb24gTW9ycGhpbmUoKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZWFzaW5nID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gMSxcclxuICAgICAgICAgICAgICAgIHJlcGVhdCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgcmVwZWF0Q291bnQgPSAxLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRfdGltZSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBmdW5jID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gMCxcclxuICAgICAgICAgICAgICAgIGVuZCA9IDA7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRvbmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9uZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGF1c2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBwYXN1ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wYXVzZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFzdWVkO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSAwLFxyXG4gICAgICAgICAgICAgICAgcGFzdWVkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBkb25lID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBUaWNrKHRpbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXN1ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRfdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gKGR1cmF0aW9uICogcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhcnRfdGltZSkgc3RhcnRfdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcyA9ICh0aW1lIC0gc3RhcnRfdGltZSkgLyBkdXJhdGlvbjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzID4gMSkgcHJvZ3Jlc3MgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcyA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcGVhdCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXBlYXRDb3VudCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcGVhdENvdW50ICE9PSBJbmZpbml0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXRDb3VudC0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRfdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuYy5hcHBseShudWxsLCBbcHJvZ3Jlc3MsIGVhc2luZygodGltZSAtIHN0YXJ0X3RpbWUpIC8gMTAwMCwgc3RhcnQsIGVuZCAtIHN0YXJ0LCBkdXJhdGlvbiAvIDEwMDApLCBzdGFydF90aW1lXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKHMsIGUsIGYsIGR1ciwgZWFzZSwgcnB0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBlICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBkdXIgIT09IFwibnVtYmVyXCIgfHwgZHVyIDwgMCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZWFzZSAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcnB0ID09PSBcIm51bWJlclwiKSByZXBlYXQgPSBycHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgc3RhcnQgPSBzO1xyXG4gICAgICAgICAgICAgICAgZW5kID0gZTtcclxuICAgICAgICAgICAgICAgIGVhc2luZyA9IGVhc2U7XHJcbiAgICAgICAgICAgICAgICBmdW5jID0gZjtcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gZHVyID4gMCA/IGR1ciA6IDE7XHJcblxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuY29uZmlnO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBUaWNrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMC8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsIFtmdW5jdGlvbiBDYW52YXMoKSB7XHJcblxyXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLFxyXG4gICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICB2YXIgdyA9IDAsIGggPSAwO1xyXG5cclxuICAgIHRoaXMuY29udGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY29udGV4dDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy53aWR0aCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICB3ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgdyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaGVpZ2h0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIGggPSB2YWx1ZTtcclxuICAgICAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gaDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZXhwb3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjYW52YXM7XHJcbiAgICB9O1xyXG5cclxufV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzcvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLCBbJ0BpbmplY3QnLCAnRGVidWcnLCBmdW5jdGlvbiBHcmFwaGljc0Fzc2VtYmxlcihpbmplY3QsIERlYnVnKSB7XHJcblxyXG4gICAgdmFyIG91dHB1dCA9IGluamVjdCgnJENhbnZhcycpLFxyXG4gICAgICAgIGNvbnRleHQgPSBvdXRwdXQuY29udGV4dCgpLFxyXG4gICAgICAgIHBpcGUgPSBbXSxcclxuICAgICAgICBsYXllcnMgPSB7fSxcclxuICAgICAgICB3ID0gMCxcclxuICAgICAgICBoID0gMCxcclxuICAgICAgICBib3hFeHQgPSBudWxsLFxyXG4gICAgICAgIHJlc2l6ZWQgPSBmYWxzZSxcclxuICAgICAgICByZWFkeSA9IGZhbHNlO1xyXG5cclxuICAgIGZ1bmN0aW9uIFNldFNpemUod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGlwZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBwaXBlW2ldLnNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG91dHB1dC53aWR0aCh3aWR0aCk7XHJcbiAgICAgICAgb3V0cHV0LmhlaWdodChoZWlnaHQpO1xyXG4gICAgICAgIHcgPSB3aWR0aDtcclxuICAgICAgICBoID0gaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbXBvc2UoY3R4KSB7XHJcbiAgICAgICAgaWYoIXJlc2l6ZWQpIHtcclxuICAgICAgICAgICAgaWYoYm94RXh0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3ByaXRlID0gYm94RXh0LmJveCgpLnNwcml0ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYoc3ByaXRlLnNpemVbMF0gIT09IHcgfHwgc3ByaXRlLnNpemVbMV0gIT09IGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBTZXRTaXplKHNwcml0ZS5zaXplWzBdLHNwcml0ZS5zaXplWzFdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXNpemVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoIXJlYWR5KSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsMCx3LGgpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBpcGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHBpcGVbaV0uZHJhdyhjb250ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZWFkeSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN0eC5kcmF3SW1hZ2Uob3V0cHV0LmV4cG9ydCgpLDAsMCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5sYXllciA9IGZ1bmN0aW9uIChvcmRlciwgbmFtZSwgdXBkYXRlRnVuYykge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb3JkZXIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7bzogb3JkZXJ9LCAnSW52YWxpZCBvcmRlciBhcmd1bWVudCBbe299XSBpcyBub3QgYSBudW1iZXIuJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIERlYnVnLndhcm4oe246IG5hbWV9LCAnW3tufV0gaXMgbm90IHZhbGlkIG5hbWUgZm9yIGxheWVyJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiB1cGRhdGVGdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgRGVidWcud2FybigndXBkYXRlRnVuYyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGF5ZXJzW25hbWVdID0gaW5qZWN0KCckR3JhcGhpY3NBc3NlbWJsZXJMYXllcicpO1xyXG4gICAgICAgIGxheWVyc1tuYW1lXS5mKHVwZGF0ZUZ1bmMpO1xyXG4gICAgICAgIGxheWVyc1tuYW1lXS5vcmRlcmluZyhvcmRlcik7XHJcbiAgICAgICAgbGF5ZXJzW25hbWVdLnVwZGF0ZSgpO1xyXG4gICAgICAgIHBpcGUucHVzaChsYXllcnNbbmFtZV0pO1xyXG4gICAgICAgIHBpcGUuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICByZXR1cm4gYS5vcmRlcmluZygpIC0gYi5vcmRlcmluZygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJlYWR5ID0gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucmVhZHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlYWR5O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmJveCA9IGZ1bmN0aW9uIChib3hQcm92aWRlcikge1xyXG4gICAgICAgIGJveEV4dCA9IGJveFByb3ZpZGVyO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIGlmICh3aWR0aCAhPT0gdyB8fCBoZWlnaHQgIT09IGgpIHtcclxuICAgICAgICAgICAgU2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucmVzaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJlc2l6ZWQgPSBmYWxzZTtcclxuICAgICAgICByZWFkeSA9IGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgICAgICBsYXllcnNbbmFtZV0udXBkYXRlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZHJhdyA9IGNvbXBvc2U7XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDIvNy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsIFsnQGluamVjdCcsICdEZWJ1ZycsIGZ1bmN0aW9uIEdyYXBoaWNzQXNzZW1ibGVyTGF5ZXIoaW5qZWN0LCBEZWJ1Zykge1xyXG4gICAgdmFyIGNhbnZhcyA9IGluamVjdCgnJENhbnZhcycpLFxyXG4gICAgICAgIGNvbnRleHQgPSBjYW52YXMuY29udGV4dCgpLFxyXG4gICAgICAgIHdpZHRoID0gMCxcclxuICAgICAgICBoZWlnaHQgPSAwLFxyXG4gICAgICAgIGZ1bmMgPSBudWxsLFxyXG4gICAgICAgIHJlYWR5ID0gZmFsc2UsXHJcbiAgICAgICAgb3JkZXJpbmcgPSAwO1xyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNhbnZhcyhjdHgpIHtcclxuICAgICAgICBpZiAoIXJlYWR5KSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgaWYgKGZ1bmMpIGZ1bmMoY29udGV4dCk7XHJcbiAgICAgICAgICAgIHJlYWR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoY2FudmFzLmV4cG9ydCgpLCAwLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmYgPSBmdW5jdGlvbiAoZikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIGZ1bmMgPSBmO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5mO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgRGVidWcud2Fybih7ZjogZn0sICdbe2Z9XSBpcyBub3QgYSBmdW5jdGlvbicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zaXplID0gZnVuY3Rpb24gKHcsIGgpIHtcclxuICAgICAgICBpZiAod2lkdGggIT09IHcgfHwgaCAhPT0gaCkge1xyXG4gICAgICAgICAgICBjYW52YXMud2lkdGgodyk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQoaCk7XHJcbiAgICAgICAgICAgIHdpZHRoID0gdztcclxuICAgICAgICAgICAgaGVpZ2h0ID0gaDtcclxuICAgICAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMub3JkZXJpbmcgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIG9yZGVyaW5nID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvcmRlcmluZztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmVhZHkgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kcmF3ID0gdXBkYXRlQ2FudmFzO1xyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIGZ1bmN0aW9uIFBsdWdpbigpIHtcclxuXHJcbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSB7fSwgY2xlYXIgPSB7fSwgb2JqZWN0ID0gbnVsbCxcclxuICAgICAgICAgICAgYXBwbGllcyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLmRlZmluZU9iamVjdCA9IGZ1bmN0aW9uIChvKSB7XHJcbiAgICAgICAgICAgIG9iamVjdCA9IG87XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmRlZmluZU9iamVjdDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLm9iamVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLm1hdGNoVHlwZSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGlmIChhcHBsaWVzLmxlbmd0aCA9PSAwKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXBwbGllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFwcGxpZXNbaV0gPT09IHR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFwcGx5VG8pIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFwcGx5VG87XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgIHRoaXMubWF0Y2hUeXBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5hcHBseVRvID0gZnVuY3Rpb24gKHR5cGVzKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdHlwZXMgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgYXBwbGllcy5wdXNoKHR5cGVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdHlwZXMgPT0gXCJvYmplY3RcIiAmJiB0eXBlcy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHR5cGVzW2ldID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGllcy5wdXNoKHR5cGVzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYXBwbHlUbztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnJlZ2lzdGVyID0gZnVuY3Rpb24gKHByb3BlcnR5LCBmdW5jLCB0ZW1wKSB7XHJcbiAgICAgICAgICAgIGlmICghcHJvcGVydGllc1twcm9wZXJ0eV0pIHByb3BlcnRpZXNbcHJvcGVydHldID0gZnVuYztcclxuICAgICAgICAgICAgaWYgKHRlbXApIGNsZWFyW3Byb3BlcnR5XSA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy53cmFwID0gZnVuY3Rpb24gKG9iamVjdCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmplY3RbcHJvcGVydHldKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIG9iamVjdFtwcm9wZXJ0eV0gPSBwcm9wZXJ0aWVzW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGVsZXRlICB0aGlzLndyYXA7XHJcbiAgICAgICAgICAgIGRlbGV0ZSAgdGhpcy5yZWdpc3RlcjtcclxuICAgICAgICAgICAgZGVsZXRlICB0aGlzLmNsZWFyO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuaGFzUHJvcGVydHkgPSBmdW5jdGlvbiAocHJvcCkge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcCA9PSBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jbGVhciA9IGZ1bmN0aW9uIChvYmplY3QpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBjbGVhcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjbGVhci5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgIG9iamVjdFtwcm9wXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDUvMS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsIFtmdW5jdGlvbiBBcmVhT2JqZWN0Q2xhc3MoKSB7XHJcblxyXG59XSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrTW91c2UnLFxyXG4gICAgICAgIGZ1bmN0aW9uIENpcmNsZU9iamVjdENsYXNzKE1vdXNlSGVscGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VDaGVja0Z1bmN0aW9uKE1vdXNlSGVscGVyLmNpcmNsZUNoZWNrRnVuY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjYvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydUcmVlJyxcclxuICAgICAgICBmdW5jdGlvbiBEZWZhdWx0T2JqZWN0VHlwZShUcmVlKSB7XHJcbiAgICAgICAgICAgIFRyZWUucm9vdCh0aGlzKS5hcHBlbmQodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBmdW5jdGlvbiBHcm91cE9iamVjdENsYXNzKCkge1xyXG5cclxuICAgIH1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytNb3VzZScsXHJcbiAgICAgICAgZnVuY3Rpb24gSW1hZ2VPYmplY3RDbGFzcyhNb3VzZUhlbHBlcikge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlQ2hlY2tGdW5jdGlvbihNb3VzZUhlbHBlci5yZWN0Q2hlY2tGdW5jdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBmdW5jdGlvbiBMaW5lT2JqZWN0Q2xhc3MoKSB7XHJcblxyXG4gICAgfVxyXG4pOyIsIiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrTW91c2UnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFJlY3RhbmdsZU9iamVjdENsYXNzKE1vdXNlSGVscGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VDaGVja0Z1bmN0aW9uKE1vdXNlSGVscGVyLnJlY3RDaGVja0Z1bmN0aW9uKTtcclxuICAgICAgICAgICAgdmFyIG1vdXNlID0gdGhpcy5leHRlbnNpb24oJ01vdXNlJyk7XHJcbiAgICAgICAgICAgIG1vdXNlLmN1cnNvclRyYW5zZm9ybUZ1bmN0aW9uKE1vdXNlSGVscGVyLnJlY3RDdXJzb3JUcmFuc2Zvcm1GdW5jdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEzLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnK01vdXNlJyxcclxuICAgICAgICBmdW5jdGlvbiBTcHJpdGVPYmplY3RDbGFzcyhNb3VzZUhlbHBlcikge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlQ2hlY2tGdW5jdGlvbihNb3VzZUhlbHBlci5yZWN0Q2hlY2tGdW5jdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAzLzI1LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnK01vdXNlJyxcclxuICAgICAgICBmdW5jdGlvbiBUZXh0T2JqZWN0Q2xhc3MoTW91c2VIZWxwZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZUNoZWNrRnVuY3Rpb24oTW91c2VIZWxwZXIucmVjdENoZWNrRnVuY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xMC8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnUmVzb3VyY2UnLFxyXG4gICAgWydAZXh0ZW5kJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBBdWRpbyhleHRlbmQsIERlYnVnKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJFJlc291cmNlJyk7XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy50eXBlID0gJ0F1ZGlvJztcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgcmVzb2x2ZUV2ZW50RnVuYyA9IG51bGwsIHN0YXRlRnVuYyA9IG51bGwsIHVybCA9IG51bGwsIHJlc3BvbnNlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub24oJ2luaXQnLCBmdW5jdGlvbiAoX3VybCwgcmVzb2x2ZUZ1bmMsIHNldFN0YXRlRnVuYykge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50RnVuYyA9IHJlc29sdmVGdW5jO1xyXG4gICAgICAgICAgICAgICAgc3RhdGVGdW5jID0gc2V0U3RhdGVGdW5jO1xyXG4gICAgICAgICAgICAgICAgdXJsID0gX3VybDtcclxuICAgICAgICAgICAgICAgIGNyZWF0ZUF1ZGlvKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlQXVkaW8oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgICAgICB4aHIub3BlbignR0VUJywgdXJsLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xyXG4gICAgICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVGdW5jKDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gdGhpcy5yZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRGdW5jKCdsb2FkJywgW3Jlc3BvbnNlXSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVGdW5jKC0yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRGdW5jKCdlcnJvcicsIFtdKTtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7dXJsOiB1cmx9LCAnVW5hYmxlIHRvIGxvYWQgYXVkaW8gW3t1cmx9XS4nKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB4aHIuc2VuZCgpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5leHBvcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDMvMjYvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1Jlc291cmNlJyxcclxuICAgIFsnQGV4dGVuZCcsICdEZWJ1ZycsICdAQ29uZmlnJywgJ0BGb250cycsXHJcbiAgICAgICAgZnVuY3Rpb24gRm9udChleHRlbmQsIERlYnVnLCBjb25maWcsIEZvbnRzKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRSZXNvdXJjZScpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50eXBlID0gJ0ZvbnQnO1xyXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBudWxsLCByZXNvbHZlID0gbnVsbCwgZm9udCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICByb290ID0gY29uZmlnLndhdGNoKCdmb250RGlyJywgZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvb3QgPSBzdHI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFwcGVuZGVkKSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLnJlbW92ZUNoaWxkKGZvbnRMb2FkZXJFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tJbnRlcnZhbCkgd2luZG93LmNsZWFySW50ZXJ2YWwoY2hlY2tJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0Rm9udCgpO1xyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBmb3JtYXQgPSBGb250cy5mb3JtYXRzKCksXHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgYXBwZW5kZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGZvbnRMb2FkZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3JlZmxlY3QtZm9udC1sb2FkZXItZWxlbWVudCcpO1xyXG4gICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudC5zdHlsZS5mb250RmFtaWx5ID0gJ3NhbnMtc2VyaWYnO1xyXG4gICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudC5zdHlsZS5mb250U2l6ZSA9ICcxMnB4JztcclxuICAgICAgICAgICAgZm9udExvYWRlckVsZW1lbnQuc3R5bGUubGluZUhlaWdodCA9ICcxMnB4JztcclxuICAgICAgICAgICAgZm9udExvYWRlckVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudC5zdHlsZS5sZWZ0ID0gJy05OTk5cHgnO1xyXG4gICAgICAgICAgICBmb250TG9hZGVyRWxlbWVudC5zdHlsZS50b3AgPSAnLTk5OTlweCc7XHJcbiAgICAgICAgICAgIGZvbnRMb2FkZXJFbGVtZW50LmlubmVyVGV4dCA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiAxMjM0NTY3ODkwWyE/LC48PlwiwqMkJV4mKigpfkAjLT1dJztcclxuXHJcbiAgICAgICAgICAgIHRoaXMub24oJ2luaXQnLCBmdW5jdGlvbiAodXJsLCByLCBzKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlID0gcjtcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gcztcclxuICAgICAgICAgICAgICAgIGZvbnQgPSB1cmxbMF07XHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQgPSB1cmxbMV07XHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHVybFsyXTtcclxuICAgICAgICAgICAgICAgIGZvbnRMb2FkZXJFbGVtZW50LnN0eWxlLmZvbnRTdHlsZSA9IHN0eWxlO1xyXG4gICAgICAgICAgICAgICAgZ2V0Rm9udCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIGNoZWNrSW50ZXJ2YWwgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Rm9udCgpIHtcclxuICAgICAgICAgICAgICAgIEZvbnRzLmZvbnQocm9vdCwgZm9udCwgd2VpZ2h0LCBzdHlsZSk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLmFwcGVuZENoaWxkKGZvbnRMb2FkZXJFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIGFwcGVuZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHZhciByZXBlYXRUaWxsRXJyb3IgPSAxMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlcGVhdENvdW50ID0gMCxcclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsID0gW2ZvbnRMb2FkZXJFbGVtZW50Lm9mZnNldFdpZHRoLCBmb250TG9hZGVyRWxlbWVudC5vZmZzZXRIZWlnaHRdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvbnRMb2FkZXJFbGVtZW50LnN0eWxlLmZvbnRGYW1pbHkgPSAnXCInICsgRm9udHMuZm9ybWF0KGZvbnQpICsgJy0nICsgd2VpZ2h0ICsgJ1wiLCBzYW5zLXNlcmlmJztcclxuICAgICAgICAgICAgICAgIGNoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvbnRMb2FkZXJFbGVtZW50Lm9mZnNldFdpZHRoICE9PSBpbml0aWFsWzBdIHx8IGZvbnRMb2FkZXJFbGVtZW50Lm9mZnNldEhlaWdodCAhPT0gaW5pdGlhbFsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLnJlbW92ZUNoaWxkKGZvbnRMb2FkZXJFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0ludGVydmFsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ2xvYWQnLCBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlcGVhdENvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcGVhdENvdW50ID4gcmVwZWF0VGlsbEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlKC0yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnZXJyb3InLCBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2ZvbnQ6IGZvbnQgKyAnLScgKyB3ZWlnaHR9LCAnVW5hYmxlIHRvIGxvYWQgZm9udCBbe2ZvbnR9XS4gRm9udCBwZW5kaW5nIHRpbWVkIG91dC4uLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLnJlbW92ZUNoaWxkKGZvbnRMb2FkZXJFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0ludGVydmFsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCA1MCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXhwb3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEZvbnRzLmZvcm1hdChmb250KVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnUmVzb3VyY2UnLFxyXG4gICAgWydAZXh0ZW5kJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBJbWFnZShleHRlbmQsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRSZXNvdXJjZScpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHVybCA9IG51bGwsIHJlc29sdmVFdmVudEZ1bmMgPSBudWxsLCBzdGF0ZUZ1bmMgPSBudWxsLCBpbWFnZSA9IG51bGwsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9ICdJbWFnZSc7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uKCdpbml0JywgZnVuY3Rpb24gKF91cmwsIHJlc29sdmVGdW5jLCBzZXRTdGF0ZUZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEZ1bmMgPSByZXNvbHZlRnVuYztcclxuICAgICAgICAgICAgICAgIHN0YXRlRnVuYyA9IHNldFN0YXRlRnVuYztcclxuICAgICAgICAgICAgICAgIHVybCA9IF91cmw7XHJcbiAgICAgICAgICAgICAgICBDcmVhdGVJbWFnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIENyZWF0ZUltYWdlKCkge1xyXG4gICAgICAgICAgICAgICAgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICAgICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVGdW5jKDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IGltYWdlLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IGltYWdlLmhlaWdodDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50RnVuYygnbG9hZCcsIFtdKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVGdW5jKC0yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXZlbnRGdW5jKCdlcnJvcicsIFtdKTtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7dXJsOiB1cmx9LCAnVW5hYmxlIHRvIGxvYWQgaW1hZ2UgW3t1cmx9XS4nKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgdXJsKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhlaWdodDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXhwb3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGltYWdlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTIvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1Jlc291cmNlJyxcclxuICAgIFsnQGV4dGVuZCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gUmVzb3VyY2UoZXh0ZW5kLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHVybCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgICAgIHJlc29sdmVGdW5jdGlvblBhc3NlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzID0gLTE7IC8vIC0xIGluaXQsIDAgbG9hZGluZywgMSBsb2FkZWQsIC0yIGVycm9yXHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvYWRlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0dXMgPT0gMTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzID09IC0yO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cyA9PSAwO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy51cmwgPSBmdW5jdGlvbiAoX3VybCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF91cmwgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVybDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1cmwgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IF91cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNvbHZlRnVuY3Rpb25QYXNzZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc29sdmVFdmVudCgnaW5pdCcsIFt1cmxdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc29sdmVFdmVudCgnaW5pdCcsIFt1cmwsIFJlc29sdmVFdmVudCwgc2V0U3RhdHVzXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlRnVuY3Rpb25QYXNzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB1cmw7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgY2JDb250YWluZXIgPSB7XHJcbiAgICAgICAgICAgICAgICBpbml0OiBbXSxcclxuICAgICAgICAgICAgICAgIGxvYWQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IFtdLFxyXG4gICAgICAgICAgICAgICAgbG9hZGluZzogW11cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldFN0YXR1cyh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3ZhbDogdmFsfSwgJ1t7dmFsfV0gaXMgbm90IHZhbGlkIHZhbHVlIGZvciBzdGF0dXMnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsID4gMSB8fCB2YWwgPCAtMikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHt2YWw6IHZhbH0sICdbe3ZhbH1dIG5vIHN1Y2ggc3RhdHVzIHBvc3NpYmxlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN0YXR1cyA9IHZhbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gUmVzb2x2ZUV2ZW50KGV2ZW50LCBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2JDb250YWluZXJbZXZlbnRdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHR5cGVvZiBkYXRhID09IFwib2JqZWN0XCIgJiYgZGF0YS5jb25zdHJ1Y3RvciA9PSBBcnJheSA/IGRhdGEgOiBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYkNvbnRhaW5lcltldmVudF0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2JDb250YWluZXJbZXZlbnRdW2ldLmFwcGx5KHNlbGYsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe2U6IGV2ZW50fSwgJ1VuYWJsZSB0byBzZXQgZXZlbnQge2V9LiBObyBzdWNoIGV2ZW50IScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBjYkNvbnRhaW5lcltldmVudF0sXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuYyA9IHR5cGVvZiBmdW5jID09IFwiZnVuY3Rpb25cIiA/IGZ1bmMgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT0gJ2xvYWQnICYmIHN0YXR1cyA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuYy5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09ICdlcnJvcicgJiYgc3RhdHVzID09IC0yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuYy5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghYXJyYXkgfHwgIWZ1bmMpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtlOiBldmVudH0sICdVbmFibGUgdG8gc2V0IGhhbmRsZXIgZm9yIGV2ZW50IFt7ZX1dLicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjYkNvbnRhaW5lcltldmVudF0ucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEyLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdSZXNvdXJjZScsXHJcbiAgICBbJ0BleHRlbmQnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFNwcml0ZShleHRlbmQsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRSZXNvdXJjZScpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHVybCA9IG51bGwsIGltYWdlID0gbnVsbCwgc2l6ZSA9IDAsIGZyYW1lcyA9IDAsIGR1cmF0aW9uID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLFxyXG4gICAgICAgICAgICAgICAgZnJhbWVIZWlnaHQgPSAwLCBmcmFtZVdpZHRoID0gMCwgZnBzID0gMTIsXHJcbiAgICAgICAgICAgICAgICBzZXRTdGF1c0Z1bmMgPSBudWxsLCByZXNvbHZlRXZlbnRGdW5jID0gbnVsbCwgcmVhZHkgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50eXBlID0gJ1Nwcml0ZSc7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uKCdpbml0JywgZnVuY3Rpb24gKHUsIGV2ZW50Riwgc3RhdHVzRikge1xyXG4gICAgICAgICAgICAgICAgc2V0U3RhdXNGdW5jID0gc3RhdHVzRjtcclxuICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEZ1bmMgPSBldmVudEY7XHJcbiAgICAgICAgICAgICAgICB1cmwgPSB1O1xyXG5cclxuICAgICAgICAgICAgICAgIGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgICAgICAgICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFN0YXVzRnVuYygxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBpbWFnZS53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWFkeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDcmVhdGVDYW52YXNBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZXRDYW52YXNTaXplKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVFdmVudEZ1bmMoJ2xvYWQnLCBbXSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFN0YXVzRnVuYygtMik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUV2ZW50RnVuYygnZXJyb3InLCBbXSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgdXJsKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVDYW52YXNBcnJheSgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgciA9IDA7IHIgPCBzaXplOyByKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXgucHVzaChbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBzaXplOyBjKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbXMrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1zIDwgZnJhbWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRyaXhbcl0ucHVzaChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFNldENhbnZhc1NpemUoKSB7XHJcbiAgICAgICAgICAgICAgICBmcmFtZUhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0IC8gc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBmcmFtZVdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCAvIHNpemUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgc2l6ZTsgcisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBzaXplOyBjKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdHJpeFtyXVtjXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0cml4W3JdW2NdLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBmcmFtZVdpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeFtyXVtjXS5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGZyYW1lSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfY3R4ID0gbWF0cml4W3JdW2NdLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY3R4LnRyYW5zbGF0ZSgtZnJhbWVXaWR0aCAqIGMsIC1mcmFtZUhlaWdodCAqIHIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2N0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWFkeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWFkeTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJhbWVXaWR0aDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJhbWVIZWlnaHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZVdpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGVIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaGVpZ2h0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mcHMgPSBmdW5jdGlvbiAobnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG51bWJlciAhPT0gXCJudW1iZXJcIiB8fCBudW1iZXIgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe246IG51bWJlcn0sICdbe259XSBpcyBub3QgYSBjb3JyZWN0IGZwcyBudW1iZXInKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmcHMgPSBudW1iZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSBNYXRoLnJvdW5kKChmcmFtZXMgLyBmcHMpICogMTAwMCk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHBhdXNlID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBhdXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcGF1c2UgPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wbGF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcGF1c2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZWFkeSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZiAhPT0gXCJudW1iZXJcIiB8fCBmIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtyb3dzOiBmfSwgJ1t7cm93c31dIGlzIG5vdCBhIHZhbGlkIGZyYW1lcyBudW1iZXInKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc2l6ZSA9IE1hdGguY2VpbChNYXRoLnNxcnQoZikpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZyYW1lcyA9IGY7XHJcblxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSBNYXRoLnJvdW5kKChmcmFtZXMgLyBmcHMpICogMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVhZHkgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIENyZWF0ZUNhbnZhc0FycmF5KCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZyYW1lcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmcmFtZXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgY3VycmVudFggPSAwLCBjdXJyZW50WSA9IDA7XHJcblxyXG4gICAgICAgICAgICB2YXIgX3RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGljayA9IGZ1bmN0aW9uICh0aW1lKSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lID0gdGltZS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGF1c2UpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSAodGltZSAtIF90aW1lKSAvIGR1cmF0aW9uO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcyA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcyA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBmcmFtZSA9IE1hdGguZmxvb3IoKGZyYW1lcyAtIDEpICogcHJvZ3Jlc3MpO1xyXG5cclxuICAgICAgICAgICAgICAgIGN1cnJlbnRZID0gTWF0aC5mbG9vcihmcmFtZSAvIHNpemUpO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFggPSBmcmFtZSAtIGN1cnJlbnRZICogc2l6ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXhwb3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hdHJpeFtjdXJyZW50WV1bY3VycmVudFhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdHJpeFtjdXJyZW50WV1bY3VycmVudFhdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAaW5qZWN0JywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBBbmltYXRpb25Qcm92aWRlcihpbmplY3QsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9ucyA9IFtdLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1vcnBocyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tb3JwaCA9IGZ1bmN0aW9uIChuYW1lLCBvcmRlcmluZywgc2V0dGVyLCBhcHBsaWVyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9ycGggPSBpbmplY3QoJyRNb3JwaCcpO1xyXG4gICAgICAgICAgICAgICAgbW9ycGguY29uZmlnKG5hbWUsIHRoaXMsIG9yZGVyaW5nLCBzZXR0ZXIsIGFwcGxpZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vcnBoLnZhbGlkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3JwaHNbbmFtZV0gPSBtb3JwaDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXh0cmFjdE1vcnBoID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtb3JwaHNbbmFtZV07XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBmaW5kQ29tcGV0aXRvcihwcm9wZXJ0aWVzLCBhbmltYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi4kJFNFTEYgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBjb21wZXRpdG9yID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGlvbnNbaV0uJCRTRUxGKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25zW2ldLmFjdGl2ZSgpICYmICFhbmltYXRpb25zW2ldLmRvbmUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoZWNrID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHByb3BlcnRpZXMubGVuZ3RoOyBuKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uc1tpXS5oYXNQcm9wZXJ0eShwcm9wZXJ0aWVzW25dKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVjayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGVjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29tcGV0aXRvcikgY29tcGV0aXRvciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBldGl0b3IucHVzaChhbmltYXRpb25zW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgYW5pbWF0aW9uLiQkU0VMRjtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcGV0aXRvcjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gQ2hlY2tBbmltYXRpb25RdWV1ZSgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfYW5pbWF0aW9ucyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYW5pbWF0aW9uc1tpXS5hY3RpdmUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcHMgPSBhbmltYXRpb25zW2ldLnByb3BlcnRpZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbnNbaV0ucXVldWUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaW5kQ29tcGV0aXRvcihwcm9wcywgYW5pbWF0aW9uc1tpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zW2ldLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcGV0aXRvcnMgPSBmaW5kQ29tcGV0aXRvcihwcm9wcywgYW5pbWF0aW9uc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGV0aXRvcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IGNvbXBldGl0b3JzLmxlbmd0aDsgbisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHAgPSAwOyBwIDwgcHJvcHMubGVuZ3RoOyBwKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBldGl0b3JzW25dLnN0b3AocHJvcHNbcF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uc1tpXS5zdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hbmltYXRpb25zLnB1c2goYW5pbWF0aW9uc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGlvbnNbaV0uZG9uZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMgPSBfYW5pbWF0aW9ucztcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIENyZWF0ZUFuaW1hdGlvblR5cGUxKHByb3BlcnR5LCB2YWx1ZSwgZHVyYXRpb24sIGVhc2luZykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhaXIgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBwYWlyW3Byb3BlcnR5XSA9IHZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtb3JwaHNbcHJvcGVydHldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YWNrID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyaW5nOiBtb3JwaHNbcHJvcGVydHldLm9yZGVyaW5nKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGg6IG1vcnBoc1twcm9wZXJ0eV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZHVyYXRpb24gJiYgdHlwZW9mIGR1cmF0aW9uID09PSBcIm51bWJlclwiKSBjb25maWcuZHVyYXRpb24gPSBkdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWFzaW5nICYmIHR5cGVvZiBlYXNpbmcgPT09IFwic3RyaW5nXCIpIGNvbmZpZy5lYXNpbmcgPSBlYXNpbmc7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gaW5qZWN0KCckQW5pbWF0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5jb25maWcodGhpcywgc3RhY2ssIGNvbmZpZywgQ2hlY2tBbmltYXRpb25RdWV1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVBbmltYXRpb25UeXBlMihwYWlycywgYXJnMiwgYXJnMykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnMiA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IGFyZzI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJnMiA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGFyZzJcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnMyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuZWFzaW5nID0gYXJnM1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhcmcyID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IGFyZzJcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwYWlycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFpcnMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1vcnBoc1twcm9wZXJ0eV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAnUHJvcGVydHkge3Byb3BlcnR5fSBvZiB7dHlwZX0gY2FuIG5vdCBiZSBhbmltYXRlZCEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtwcm9wZXJ0eV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcmluZzogbW9ycGhzW3Byb3BlcnR5XS5vcmRlcmluZygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGg6IG1vcnBoc1twcm9wZXJ0eV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcGFpcnNbcHJvcGVydHldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG1vcnBoX3N0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaXRlbSBpbiByZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3JwaF9zdGFjay5wdXNoKHJlc3VsdFtpdGVtXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1vcnBoX3N0YWNrLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vcnBoX3N0YWNrLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEub3JkZXJpbmcgLSBiLm9yZGVyaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gaW5qZWN0KCckQW5pbWF0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLmNvbmZpZyh0aGlzLCBtb3JwaF9zdGFjaywgY29uZmlnLCBDaGVja0FuaW1hdGlvblF1ZXVlKTtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zLnB1c2goYW5pbWF0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ05vIHByb3BlcnRpZXMgdG8gYW5pbWF0ZSEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5hbmltYXRlID0gZnVuY3Rpb24gKGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnMSA9PT0gJ3N0cmluZycgJiYgYXJnMikge1xyXG4gICAgICAgICAgICAgICAgICAgIENyZWF0ZUFuaW1hdGlvblR5cGUxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJnMSA9PT0gXCJvYmplY3RcIiAmJiBhcmcxLmNvbnN0cnVjdG9yICE9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIENyZWF0ZUFuaW1hdGlvblR5cGUyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmFibGUgdG8gY3JlYXRlIGFuaW1hdGlvbi4gV3JvbmcgYXJndW1lbnRzJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBDaGVja0FuaW1hdGlvblF1ZXVlKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuaW1hdGVkO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ICE9PSBcInN0cmluZ1wiIHx8IHByb3BlcnR5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uc1tpXS5zdG9wKHByb3BlcnR5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzIzLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0BpbmplY3QnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEF1ZGlvKGluamVjdCwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgdXJsID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHR5cGUgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzID0gaW5qZWN0KCckRXZlbnRQcm92aWRlcicpLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9ucyA9IGluamVjdCgnJEFuaW1hdGlvblByb3ZpZGVyJyksXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgICAgIG91dHB1dCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBub2RlbmFtZSA9ICcnO1xyXG5cclxuICAgICAgICAgICAgZXZlbnRzLndyYXAodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBldmVudEFyZ3MoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW3NlbGYsIG91dHB1dCwgdXJsLCB0eXBlXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdyZWFkeScsIGV2ZW50QXJncywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnbG9hZCcsIGV2ZW50QXJncywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnZXJyb3InLCBldmVudEFyZ3MsIHRydWUpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ3BsYXknLCBldmVudEFyZ3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdjb25uZWN0JywgZXZlbnRBcmdzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnZGlzY29ubmVjdCcsIGV2ZW50QXJncywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2VuZCcsIGV2ZW50QXJncywgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlQW5pbWF0aW9uTW9ycGgoZmlsdGVyLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9ucy5tb3JwaC5hcHBseSh0aGlzLCBbcHJvcGVydHkubmFtZSwgMCxcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwcm9wZXJ0eS5ub3JtYWxpemVyKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydChmaWx0ZXIuZ2V0KHByb3BlcnR5Lm5hbWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvcGVydHkubm9ybWFsaXplcih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXIuc2V0KHByb3BlcnR5Lm5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5idWlsZCA9IGZ1bmN0aW9uIChuYW1lLCBzcmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNyYyA9PT0gXCJzdHJpbmdcIiAmJiBzcmMgIT09ICdkZXN0aW5hdGlvbicgJiYgc3JjLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gc3JjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBpbmplY3QoJyRVc2VyQXVkaW9Tb3VyY2UnKS5idWlsZChzcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ1NhbXBsZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdsb2FkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2Uuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3JjID09PSAnZGVzdGluYXRpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IGluamVjdCgnJFVzZXJBdWRpb01peGVyJykuYnVpbGQobmFtZSwgc3JjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50c1swXSAmJiB0eXBlb2YgYXJndW1lbnRzWzBdID09PSBcIm9iamVjdFwiICYmIGFyZ3VtZW50c1swXS4kJFNPVVJDRSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9ICdbJyArIG5hbWUgKyAnXScgKyAnQXVkaW9DaGFubmVsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdDaGFubmVsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2xvYWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3JjID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlID0gaW5qZWN0KCckVXNlckF1ZGlvTWl4ZXInKS5idWlsZChuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gJ1snICsgbmFtZSArICddJyArICdBdWRpb0NoYW5uZWwnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ0NoYW5uZWwnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnbG9hZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5vbigncGxheScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ3BsYXknKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdlbmQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLm9uKCdjb25uZWN0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnY29ubmVjdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2Uub24oJ2Rpc2Nvbm5lY3QnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdkaXNjb25uZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJzID0gc291cmNlLmZpbHRlcnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IGZpbHRlcnNbaV0ucHJvcHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCBwcm9wcy5sZW5ndGg7IG0rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BzW21dLmFuaW1hdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlQW5pbWF0aW9uTW9ycGguYXBwbHkodGhpcywgW2ZpbHRlcnNbaV0sIHByb3BzW21dXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVuYW1lID0gbmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ3JlYWR5Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignQXVkaW8gbWl4ZXIgaGF2ZSBubyBuYW1lISBTaG91bGQgYmUgYSBzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIgJiYgbmFtZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcnMgPSBzb3VyY2UuZmlsdGVycygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcnNbaV0uaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIgPSBmaWx0ZXJzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIuc2V0KG5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXIuZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtuYW1lOiBuYW1lfSwgJ1VuYWJsZSB0byBzZXQgZmlsdGVyIHByb3BlcnR5IFt7bmFtZX1dLiBObyBmaWx0ZXIgd2l0aCB0aGF0IHBhcmFtIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0ID0gZnVuY3Rpb24gKG91dCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG91dCAmJiB0eXBlb2Ygb3V0ID09PSBcIm9iamVjdFwiICYmIG91dC4kJFNPVVJDRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvdXQgPT09IFwib2JqZWN0XCIgJiYgb3V0LnR5cGUgJiYgdHlwZW9mIG91dC50eXBlID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3R5cGUgPSBvdXQudHlwZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnQ2hhbm5lbCcgJiYgY3R5cGUgPT09ICdTYW1wbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdUcnlpbmcgdG8gY29ubmVjdCBDaGFubmVsIHdpdGggU2FtcGxlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob3V0LmNvbm5lY3QgJiYgdHlwZW9mIG91dC5jb25uZWN0ID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG91dHNvdXJjZSA9IG91dC5jb25uZWN0KHskJFNPVVJDRTogdHJ1ZX0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBvdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5jb25uZWN0KG91dHNvdXJjZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignVW5rbm93biB0eXBlIG9mICBvYmplY3QgcGFzc2VkIGFzIG91dHB1dCEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignVW5rbm93biB0eXBlIG9mICBvYmplY3QgcGFzc2VkIGFzIG91dHB1dCEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3V0cHV0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMuYW5pbWF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN0ciA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHIgPT09IHR5cGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudXJsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVybDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlbmFtZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMuc3RvcC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzIxLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0BpbmplY3QnLCAnQENvbmZpZycsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gVXNlckF1ZGlvTWl4ZXIoaW5qZWN0LCBjb25maWcsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZXZlbnRzID0gaW5qZWN0KCckRXZlbnRQcm92aWRlcicpLFxyXG4gICAgICAgICAgICAgICAgZmlsdGVycyA9IFtdLFxyXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIG5hbWUgPSAnJyxcclxuICAgICAgICAgICAgICAgIGZpbHRlcnNDZmcgPSBjb25maWcud2F0Y2goJ2ZpbHRlcnMnLCBmdW5jdGlvbiAodikge2ZpbHRlcnMgPSB2fSk7XHJcblxyXG5cclxuICAgICAgICAgICAgZXZlbnRzLndyYXAodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhcmdGKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt0aGlzXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdwbGF5JywgYXJnRiwgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Nvbm5lY3QnLCBhcmdGLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgncmVhZHknLCBhcmdGLCB0cnVlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdlcnJvcicsIGFyZ0YsIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5idWlsZCA9IGZ1bmN0aW9uIChuLCBjaGFubmVsKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJzQ2ZnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBpbmplY3QoJyQnICsgZmlsdGVyc0NmZ1tpXSArICdOb2RlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcnNbZmlsdGVycy5sZW5ndGggLSAxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzW2ZpbHRlcnMubGVuZ3RoIC0gMV0uY29ubmVjdChub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVycy5wdXNoKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbiA9PT0gXCJzdHJpbmdcIiAmJiBuLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lID0gbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe246IG59LCAnW3tufV0gaXMgbm90IGEgdmFsaWQgbmFtZSBmb3IgY2hhbm5lbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjaGFubmVsICYmIHR5cGVvZiBjaGFubmVsID09PSBcIm9iamVjdFwiICYmIGNoYW5uZWwuY29ubmVjdCAmJiB0eXBlb2YgY2hhbm5lbC5jb25uZWN0ID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3QoY2hhbm5lbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGFubmVsID09PSAnZGVzdGluYXRpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gaW5qZWN0KCckRGVzdGluYXRpb25Ob2RlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyc1tmaWx0ZXJzLmxlbmd0aCAtIDFdLmNvbm5lY3QoZGVzdGluYXRpb24pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3QgPSBmdW5jdGlvbiAob3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvdXQuJCRBVURJT05PREUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgIHRoaXMuYnVpbGQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdCA9IGZ1bmN0aW9uIChvdXQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvdXQuJCRBVURJT05PREUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyc1swXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IG91dC5jb25uZWN0KHskJEFVRElPTk9ERTogdHJ1ZX0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcnNbZmlsdGVycy5sZW5ndGggLSAxXS5jb25uZWN0KGlucHV0KTtcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBvdXQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm91dHB1dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZpbHRlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVycztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuYW1lO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xOS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAZXh0ZW5kJywgJ0BpbmplY3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFVzZXJBdWRpb1NvdXJjZShleHRlbmQsIGluamVjdCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIG5vZGUgPSBpbmplY3QoJyRBdWRpb1NvdXJjZScpLFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzID0gaW5qZWN0KCckRXZlbnRQcm92aWRlcicpLFxyXG4gICAgICAgICAgICAgICAgbWl4ZXIgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHVybCA9ICcnO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY2JBcmdzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt0aGlzXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY29ubmVjdENiQXJncygpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbdGhpcywgb3V0cHV0XTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZXZlbnRzLndyYXAodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ3JlYWR5JywgY2JBcmdzLCB0cnVlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdsb2FkJywgY2JBcmdzLCB0cnVlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdlcnJvcicsIGNiQXJncywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnY29ubmVjdCcsIGNvbm5lY3RDYkFyZ3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdwbGF5JywgY2JBcmdzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnc3RvcCcsIGNiQXJncywgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgbm9kZS5vbigncmVhZHknLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgncmVhZHknKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBub2RlLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2xvYWQnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBub2RlLm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdlcnJvcicpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQgPSBmdW5jdGlvbiAoc3JjKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzcmMgPT09IFwic3RyaW5nXCIgJiYgc3JjLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmwgPSBzcmM7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5idWlsZChzcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1peGVyID0gaW5qZWN0KCckVXNlckF1ZGlvTWl4ZXInKS5idWlsZCgnc291cmNlLWJ1aWx0LWluLWZpbHRlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1peGVyLm9uKCdjb25uZWN0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnY29ubmVjdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUuY29ubmVjdChtaXhlci5jb25uZWN0KHskJEFVRElPTk9ERTogdHJ1ZX0pKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5idWlsZDtcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgncmVhZHknKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSAgdGhpcy5idWlsZDtcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZpbHRlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobWl4ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWl4ZXIuZmlsdGVycygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxheSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zdGF0dXMoJ2Vycm9yJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0dXMoJ3JlYWR5JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzKCdsb2FkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbm9kZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3V0cHV0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdCA9IGZ1bmN0aW9uIChvdXQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvdXQgJiYgb3V0LmNvbnN0cnVjdG9yID09PSBtaXhlci5jb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IG91dDtcclxuICAgICAgICAgICAgICAgICAgICBtaXhlci5jb25uZWN0KG91dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzE2LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0BpbmplY3QnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEF1ZGlvTm9kZShpbmplY3QsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGlucHV0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIG5leHROb2RlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGJ1aWxkRiA9IGZ1bmN0aW9uIChzb3VuZCwgb3V0cHV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvdXRwdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5pbnB1dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VuZC5jb25uZWN0KGlucHV0W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vdXRwdXQoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzb3VuZHMgPSBbXSxcclxuICAgICAgICAgICAgICAgIGV2ZW50cyA9IGluamVjdCgnJEV2ZW50UHJvdmlkZXInKSxcclxuICAgICAgICAgICAgICAgIG5vZGVuYW1lID0gJyc7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhcmdzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtuZXh0Tm9kZV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGV2ZW50cy53cmFwKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdyZWFkeScsIGFyZ3MsIHRydWUpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ3BsYXknLCBhcmdzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnZW5kJywgYXJncywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Nvbm5lY3QnLCBhcmdzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnZGlzY29ubmVjdCcsIGFyZ3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdwcm9wZXJ0eScsIGFyZ3MsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0Tm9kZSAmJiBvdXRwdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2lucEFycmF5ID0gbmV4dE5vZGUuaW5wdXQoKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG91dHB1dC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IF9pbnBBcnJheS5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W2ldLmRpc2Nvbm5lY3QoX2lucEFycmF5W25dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Rpc2Nvbm5lY3QnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0ID0gZnVuY3Rpb24gKG91dCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG91dDtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0Tm9kZSAmJiBvdXRwdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2lucEFyciA9IG5leHROb2RlLmlucHV0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvdXRwdXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBfaW5wQXJyLmxlbmd0aDsgbisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbaV0uY29ubmVjdChfaW5wQXJyW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdjb25uZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQgPSBmdW5jdGlvbiAobmFtZSwgaW5wLCBvdXQsIGYpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0ID0gdHlwZW9mIGlucCA9PSBcIm9iamVjdFwiICYmIGlucC5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgPyBpbnAgOiBbaW5wXTtcclxuICAgICAgICAgICAgICAgIG91dHB1dCA9IHR5cGVvZiBvdXQgPT0gXCJvYmplY3RcIiAmJiBvdXQuY29uc3RydWN0b3IgPT09IEFycmF5ID8gb3V0IDogW291dF07XHJcbiAgICAgICAgICAgICAgICBub2RlbmFtZSA9IG5hbWU7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGYgPT0gXCJmdW5jdGlvblwiKSBidWlsZEYgPSBmO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuYnVpbGQ7XHJcbiAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgncmVhZHknKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbnB1dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3V0cHV0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlbmFtZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxheSA9IGZ1bmN0aW9uIChzb3VuZCwgb3V0cHV0KSB7XHJcbiAgICAgICAgICAgICAgICBzb3VuZHMucHVzaChzb3VuZCk7XHJcbiAgICAgICAgICAgICAgICBzb3VuZC5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgc291bmQuJCRTRUFSQ0ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291bmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc291bmRzLiQkU0VBUkNIKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzb3VuZHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzb3VuZC4kJFNFQVJDSDtcclxuICAgICAgICAgICAgICAgICAgICBzb3VuZHMgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dE5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZS5wbGF5KHNvdW5kLCBidWlsZEYuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIG1vZGVsID0ge307XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb3BlcnR5ID0gZnVuY3Rpb24gKG5hbWUsIGRlZlZhbCwgc2V0dGVyLCBnZXR0ZXIsIG5vcm1saXplcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR0ZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZXI6IG5vcm1saXplcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZWQ6IHR5cGVvZiBub3JtbGl6ZXIgPT09IFwiZnVuY3Rpb25cIiA/IHRydWUgOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZ2V0dGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuZ2V0dGVyID0gZ2V0dGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNldHRlciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnNldHRlciA9IHNldHRlcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnZhbHVlID0gZGVmVmFsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVmVmFsICYmIHR5cGVvZiBwcm9wZXJ0eS5nZXR0ZXIgJiYgcHJvcGVydHkuc2V0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbW9kZWxbcHJvcGVydHkubmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5Lm5hbWVdID0gcHJvcGVydHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtwcm9wZXJ0eTogcHJvcGVydHl9LCAnRHVwbGljYXRlZCBwcm9wZXJ0eSBbe3Byb3BlcnR5fV0nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe25hbWU6IG5hbWV9LCAnUHJvcGVydHkgbmFtZSBbe25hbWV9XSBpcyBub3QgdmFsaWQhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldCA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09IFwic3RyaW5nXCIgJiYgbmFtZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG1vZGVsW25hbWVdLnNldHRlcih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsW25hbWVdLnZhbHVlID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7cHJvcDogbmFtZSwgdmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlbiBmb3IgW3twcm9wfV0uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09IFwic3RyaW5nXCIgJiYgbmFtZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbFtuYW1lXS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe25hbWU6IG5hbWV9LCAnT2JqZWN0IGhhcyBubyBwcm9wZXJ0eSBbe25hbWV9XS4gVW5hYmxlIHRvIGdldCB2YWx1ZS4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdQcm9wZXJ0eSBuYW1lIGhhcyB0byBiZSBhIHN0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9wcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIG1vZGVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG1vZGVsW3Byb3BdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaGFzID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhIW1vZGVsW25hbWVdO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMjIvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIGZ1bmN0aW9uIEF1ZGlvTm9kZVNvdW5kRGlzcGF0Y2hlcigpIHtcclxuXHJcbiAgICAgICAgdmFyIHNvdW5kcyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLnJlZ2lzdGVyID0gZnVuY3Rpb24gKHNvdW5kKSB7XHJcbiAgICAgICAgICAgIHNvdW5kLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHNvdW5kLiQkU0VBUkNIID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VuZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNvdW5kc1tpXS4kJFNFQVJDSCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzb3VuZHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNvdW5kcyA9IHJlc3VsdDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBzb3VuZHMucHVzaChzb3VuZCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWNvbm5lY3QgPSBmdW5jdGlvbiAoZGVzdGluYXRpb24pIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VuZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHNvdW5kc1tpXS5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBzb3VuZHNbaV0uY29ubmVjdChkZXN0aW5hdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzE2LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0BBdWRpbycsICdAaW5qZWN0JywgJ1Jlc291cmNlJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBBdWRpb1NvdXJjZShhdWRpbywgaW5qZWN0LCBSZXNvdXJjZSwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciB1cmwgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgYnVmZmVyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIG91dHB1dCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBldmVudHMgPSBpbmplY3QoJyRFdmVudFByb3ZpZGVyJyksXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgICAgIHNvdW5kcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gYXJncygpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbcmVzb3VyY2UsIGJ1ZmZlciwgb3V0cHV0XTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZXZlbnRzLndyYXAodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ3JlYWR5JywgYXJncywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnbG9hZCcsIGFyZ3MsIHRydWUpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ2Vycm9yJywgYXJncywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnY29ubmVjdCcsIGFyZ3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgZXZlbnRzLmV2ZW50KCdkaXNjb25uZWN0JywgYXJncywgZmFsc2UpO1xyXG4gICAgICAgICAgICBldmVudHMuZXZlbnQoJ3BsYXknLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5ldmVudCgnZW5kJywgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5idWlsZCA9IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgICAgIHJlc291cmNlID0gUmVzb3VyY2UuYXVkaW8oc3JjKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5vbignbG9hZCcsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvLmNvbnRleHQoKS5kZWNvZGVBdWRpb0RhdGEoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnbG9hZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7c3JjOiBzcmN9LCAnW3tzcmN9XSBhdWRpbyBidWZmZXIgY2FuIG5vdCBiZSBkZWNvZGVkLiBSZXNvdXJjZSBub3QgZm91bmQsIG9yIG9mIHdyb25nIGZvcm1hdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnJlc29sdmUoJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5vbignZXJyb3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe3NyYzogc3JjfSwgJ1VuYWJsZSB0byBsb2FkIGF1ZGlvIGZpbGUnKTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZShlcnJvcilcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuYnVpbGQ7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMucmVzb2x2ZSgnZGlzY29ubmVjdCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3QgPSBmdW5jdGlvbiAob3V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgICAgIG91dHB1dCA9IG91dDtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy5yZXNvbHZlKCdjb25uZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxheSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvdXRwdXQgJiYgdGhpcy5zdGF0dXMoJ2xvYWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhdWRpby5jb250ZXh0KCkuY3JlYXRlQnVmZmVyU291cmNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLmJ1ZmZlciA9IGJ1ZmZlcjtcclxuICAgICAgICAgICAgICAgICAgICBzb3VuZHMucHVzaChzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dC5wbGF5KHNvdXJjZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5zdGFydCgwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VuZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VuZHNbaV0uc3RvcCgwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNvdW5kcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gRXZlbnQoRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBjYiA9IFtdLFxyXG4gICAgICAgICAgICAgICAgc3RhdGUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG5hbWUgPSAnZGVmYXVsdCcsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZXZhbCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBhcmdGdW5jdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5idWlsZCA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGFyZ0YsIGlzU3RhdGVFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgc3RhdGUgPSAhIWlzU3RhdGVFdmVudDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ0YgPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJnRnVuY3QgPSBhcmdGO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnROYW1lID09IFwic3RyaW5nXCIgJiYgZXZlbnROYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lID0gZXZlbnROYW1lXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuYnVpbGQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuYW1lO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGV2YWw7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlc29sdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUpIHN0YXRldmFsID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ0Z1bmN0KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3MgIT09IFwib2JqZWN0XCIgfHwgYXJncy5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIGFyZ3MgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNiLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jYWxsYmFjayA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5hY3RpdmUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJnRnVuY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3MgIT09IFwib2JqZWN0XCIgfHwgYXJncy5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNiLnB1c2goYXJndW1lbnRzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNiLnB1c2goZnVuYyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzE2LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0BpbmplY3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEV2ZW50UHJvdmlkZXIoaW5qZWN0KSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZXZlbnRzID0gW107XHJcblxyXG4gICAgICAgICAgICB0aGlzLmV2ZW50ID0gZnVuY3Rpb24gKG5hbWUsIGFyZ0YsIHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBpbmplY3QoJyRFdmVudCcpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuYnVpbGQuYXBwbHkoZXZlbnQsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICBldmVudHNbbmFtZV0gPSBldmVudDtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudHNbbmFtZV0pIGV2ZW50c1tuYW1lXS5yZXNvbHZlLmNhbGwoZXZlbnRzW25hbWVdKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy53cmFwID0gZnVuY3Rpb24gKG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0Lm9uID0gZnVuY3Rpb24gKG5hbWUsIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50c1tuYW1lXS5jYWxsYmFjay5jYWxsKG9iamVjdCwgZnVuYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBvYmplY3Quc3RhdHVzID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRzW25hbWVdKSByZXR1cm4gZXZlbnRzW25hbWVdLmFjdGl2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA0LzE2LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdTb3VuZCcsXHJcbiAgICBbJ0BBdWRpbycsICdAZXh0ZW5kJyxcclxuICAgICAgICBmdW5jdGlvbiBEZWxheU5vZGUoYXVkaW8sIGV4dGVuZCkge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckQXVkaW9Ob2RlJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgdGltZUNGRyA9IDAsIGZvcmNlQ0ZHID0gMCwga2lsbERlbGF5ID0gMTAwMDAsXHJcbiAgICAgICAgICAgICAgICBnbG9iYWxHYWluID0gYXVkaW8uY29udGV4dCgpLmNyZWF0ZUdhaW4oKSxcclxuICAgICAgICAgICAgICAgIGRlbGF5ID0gYXVkaW8uY29udGV4dCgpLmNyZWF0ZURlbGF5KCksXHJcbiAgICAgICAgICAgICAgICBmZWVkYmFjayA9IGF1ZGlvLmNvbnRleHQoKS5jcmVhdGVHYWluKCksXHJcbiAgICAgICAgICAgICAgICBicSA9IGF1ZGlvLmNvbnRleHQoKS5jcmVhdGVCaXF1YWRGaWx0ZXIoKTtcclxuXHJcbiAgICAgICAgICAgIGdsb2JhbEdhaW4uZ2Fpbi52YWx1ZSA9IDE7XHJcbiAgICAgICAgICAgIGJxLmZyZXF1ZW5jeS52YWx1ZSA9IDIwMDA7XHJcbiAgICAgICAgICAgIGZlZWRiYWNrLmdhaW4udmFsdWUgPSBmb3JjZUNGRztcclxuICAgICAgICAgICAgZGVsYXkuZGVsYXlUaW1lLnZhbHVlID0gdGltZUNGRztcclxuXHJcbiAgICAgICAgICAgIGRlbGF5LmNvbm5lY3QoZmVlZGJhY2spO1xyXG4gICAgICAgICAgICBmZWVkYmFjay5jb25uZWN0KGJxKTtcclxuICAgICAgICAgICAgYnEuY29ubmVjdChkZWxheSk7XHJcbiAgICAgICAgICAgIGZlZWRiYWNrLmNvbm5lY3QoZ2xvYmFsR2Fpbik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkKCdkZWxheScsIFtnbG9iYWxHYWluLCBmZWVkYmFja10sIGdsb2JhbEdhaW4pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eSgnZGVsYXknLCBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmxlbmd0aCA9PSAyICYmIHR5cGVvZiB2YWx1ZVswXSA9PSBcIm51bWJlclwiICYmIHR5cGVvZiB2YWx1ZVsxXSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lID0gdmFsdWVbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JjZSA9IHZhbHVlWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWUgPiAxKSB0aW1lID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWUgPCAwKSB0aW1lID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcmNlID4gLjgpIGZvcmNlID0gLjg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JjZSA8IDApIGZvcmNlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZUNGRyA9IHRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlQ0ZHID0gZm9yY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5LmRlbGF5VGltZS52YWx1ZSA9IHRpbWVDRkc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZlZWRiYWNrLmdhaW4udmFsdWUgPSBmb3JjZUNGRztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtmb3JjZSwgdGltZV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWVbMF0sIHZhbHVlWzFdXTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZSA9IHZhbHVlWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZSA9IHZhbHVlWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGltZSA+IDEpIHRpbWUgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aW1lIDwgMCkgdGltZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcmNlID4gLjgpIGZvcmNlID0gLjg7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcmNlIDwgMCkgZm9yY2UgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2ZvcmNlLCB0aW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgVmlrdG9yIEtob2Rvc2V2aWNoIG9uIDQvMTYvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnQEF1ZGlvJywgJ0BleHRlbmQnLFxyXG4gICAgICAgIGZ1bmN0aW9uIERlc3RpbmF0aW9uTm9kZShhdWRpbywgZXh0ZW5kKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRBdWRpb05vZGUnKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQoJ2Rlc3RpbmF0aW9uJywgYXVkaW8uY29udGV4dCgpLmRlc3RpbmF0aW9uLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAQXVkaW8nLCAnQGV4dGVuZCcsXHJcbiAgICAgICAgZnVuY3Rpb24gR2Fpbk5vZGUoYXVkaW8sIGV4dGVuZCkge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckQXVkaW9Ob2RlJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgdm9sdW1lID0gMSxcclxuICAgICAgICAgICAgICAgIGdhaW4gPSBhdWRpby5jb250ZXh0KCkuY3JlYXRlR2FpbigpO1xyXG5cclxuICAgICAgICAgICAgZ2Fpbi5nYWluLnZhbHVlID0gdm9sdW1lO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5idWlsZCgnZ2FpbicsIGdhaW4sIGdhaW4pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eSgndm9sdW1lJywgMSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDEpIHZhbHVlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm9sdW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi52YWx1ZSA9IHZvbHVtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDEpIHZhbHVlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gNC8xNi8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydAQXVkaW8nLCAnQGV4dGVuZCcsXHJcbiAgICAgICAgZnVuY3Rpb24gTG93cGFzc05vZGUoYXVkaW8sIGV4dGVuZCkge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckQXVkaW9Ob2RlJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgYnFmID0gYXVkaW8uY29udGV4dCgpLmNyZWF0ZUJpcXVhZEZpbHRlcigpLFxyXG5cclxuICAgICAgICAgICAgICAgIGZyZXF1ZW5jeSA9IDIyMDUwO1xyXG5cclxuICAgICAgICAgICAgYnFmLnR5cGUgPSAnbG93cGFzcyc7XHJcbiAgICAgICAgICAgIGJxZi5mcmVxdWVuY3kudmFsdWUgPSBmcmVxdWVuY3k7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkKCdsb3dwYXNzJywgYnFmLCBicWYpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eSgnbG93cGFzcycsIDIyMDUwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDIyMDUwKSB2YWx1ZSA9IDIyMDUwO1xyXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJxZi5mcmVxdWVuY3kudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAyMjA1MCkgdmFsdWUgPSAyMjA1MDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNC8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU3RhdGUnLFxyXG4gICAgZnVuY3Rpb24gUHJvcGVydHkoKSB7XHJcblxyXG4gICAgICAgIHZhciB2YWx1ZSA9IG51bGwsIGNhbGxiYWNrcyA9IFtdO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5zZXQgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFja3NbaV0odmFsLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFsdWUgPSB2YWw7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5vbnNldCA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgIGZ1bmMgIT09ICdmdW5jdGlvbicpIHJldHVybjtcclxuICAgICAgICAgICAgY2FsbGJhY2tzLnB1c2goZnVuYyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjQvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1N0YXRlJyxcclxuICAgIFsnQGluamVjdCcsXHJcbiAgICAgICAgZnVuY3Rpb24gU3RhdGUoaW5qZWN0KSB7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrcyA9IHt9LCBwcm9wcyA9IHt9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEdldFByb3BlcnR5Q2FsbGJhY2sobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuLCBvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFja3NbbmFtZV0pIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbbmFtZV1baV0obiwgbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5kZWZpbmUgPSBmdW5jdGlvbiAobmFtZSwgdmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcHNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wc1tuYW1lXS5zZXQodmFsKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvcHNbbmFtZV0gPSBpbmplY3QoJyRQcm9wZXJ0eScpO1xyXG4gICAgICAgICAgICAgICAgcHJvcHNbbmFtZV0ub25zZXQoR2V0UHJvcGVydHlDYWxsYmFjayhuYW1lKSk7XHJcbiAgICAgICAgICAgICAgICBwcm9wc1tuYW1lXS5zZXQodmFsKTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoID0gZnVuY3Rpb24gKHByb3BlcnR5LCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ICE9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWNhbGxiYWNrc1twcm9wZXJ0eV0pIGNhbGxiYWNrc1twcm9wZXJ0eV0gPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BzW3Byb3BlcnR5XSkgdGhpcy5kZWYocHJvcGVydHksIG51bGwpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrc1twcm9wZXJ0eV0ucHVzaChmdW5jKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA1LzEvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAaW5qZWN0JywgJytEcmF3ZXInLCAnK1BhdGgnLCAnK01vZGVsJyxcclxuICAgICAgICBmdW5jdGlvbiBBcmVhT2JqZWN0RHJhd2VyKGluamVjdCwgRHJhd2VySGVscGVyLCBQYXRoSGVscGVyLCBNb2RlbEhlbHBlcikge1xyXG5cclxuICAgICAgICAgICAgdmFyIGFzc2VtYmxlciA9IGluamVjdCgnJEdyYXBoaWNzQXNzZW1ibGVyJyksXHJcbiAgICAgICAgICAgICAgICBib3ggPSB0aGlzLmV4dGVuc2lvbignQm94JyksXHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gdGhpcy5leHRlbnNpb24oJ01hdHJpeCcpLFxyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXggPSAxLCBpbnRlcnBvbGF0aW9uZml4ID0gMCxcclxuICAgICAgICAgICAgICAgIHhzaGlmdCA9IDAsIHlzaGlmdCA9IDA7XHJcblxyXG5cclxuICAgICAgICAgICAgLy9UT0RPIDogQXBwbHkgaW50ZXJwb2xhdGlvbiB0byBwYXRoIVxyXG5cclxuICAgICAgICAgICAgYXNzZW1ibGVyLmxheWVyKDAsICdmaWxsJywgVXBkYXRlRmlsbC5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLmxheWVyKDEsICdiZycsIFVwZGF0ZUJnLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBhc3NlbWJsZXIubGF5ZXIoMiwgJ3N0cm9rZScsIFVwZGF0ZVN0cm9rZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLmJveChib3gpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlRmlsbChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3ByaXRlID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLnNwcml0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoc3ByaXRlLm1hcmdpblszXSAtIHhzaGlmdCwgc3ByaXRlLm1hcmdpblswXSAtIHlzaGlmdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGludGVycG9sYXRpb24gPSBzdHlsZS5nZXQoJ2ludGVycG9sYXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWludGVycG9sYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFBhdGhIZWxwZXIuaW50ZXJwb2xhdGUocGF0aCwgaW50ZXJwb2xhdGlvbiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJwb2xhdGlvbikgRHJhd2VySGVscGVyLmRyYXdCZXppZXJQYXRoRmlsbChjb250ZXh0LCBwYXRoLCBzdHlsZSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIERyYXdlckhlbHBlci5kcmF3TGluZVBhdGhGaWxsKGNvbnRleHQsIHBhdGgsIHN0eWxlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlU3Ryb2tlKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzcHJpdGUgPSB0aGlzLmV4dGVuc2lvbignQm94JykuYm94KCkuc3ByaXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgICAgICBwYXRoID0gTW9kZWxIZWxwZXIuY2xvbmVBcnJheShzdHlsZS5nZXQoJ3BhdGgnKSksXHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGlvbiA9IHN0eWxlLmdldCgnaW50ZXJwb2xhdGlvbicpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShzcHJpdGUubWFyZ2luWzNdIC0geHNoaWZ0LCBzcHJpdGUubWFyZ2luWzBdIC0geXNoaWZ0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWludGVycG9sYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFBhdGhIZWxwZXIuaW50ZXJwb2xhdGUocGF0aCwgaW50ZXJwb2xhdGlvbiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJwb2xhdGlvbikgRHJhd2VySGVscGVyLmRyYXdMaW5lUGF0aChjb250ZXh0LCBwYXRoLCBzdHlsZSk7XHJcbiAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIuZHJhd0JlemllclBhdGgoY29udGV4dCwgcGF0aCwgc3R5bGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVCZyhjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgICAgICBzcHJpdGUgPSB0aGlzLmV4dGVuc2lvbignQm94JykuYm94KCkuc3ByaXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aCA9IE1vZGVsSGVscGVyLmNsb25lQXJyYXkoc3R5bGUuZ2V0KCdwYXRoJykpLFxyXG4gICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRpb24gPSBzdHlsZS5nZXQoJ2ludGVycG9sYXRpb24nKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoc3ByaXRlLm1hcmdpblszXSAtIHhzaGlmdCwgc3ByaXRlLm1hcmdpblswXSAtIHlzaGlmdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnRlcnBvbGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBQYXRoSGVscGVyLmludGVycG9sYXRlKHBhdGgsIGludGVycG9sYXRpb24sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGludGVycG9sYXRpb24pIERyYXdlckhlbHBlci5kcmF3TGluZUJnQ2xpcFBhdGgoY29udGV4dCwgcGF0aCwgc3R5bGUsIGFzc2VtYmxlciwgc3ByaXRlKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgRHJhd2VySGVscGVyLmRyYXdCZXppZXJCZ0NsaXBQYXRoKGNvbnRleHQsIHBhdGgsIHN0eWxlLCBhc3NlbWJsZXIsIHNwcml0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdwYXRoJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGludGVycG9sYXRpb24gPSBzdHlsZS5nZXQoJ2ludGVycG9sYXRpb24nKTtcclxuICAgICAgICAgICAgICAgIGludGVycG9sYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci5yZXNpemUoKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdpbnRlcnBvbGF0aW9uJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGludGVycG9sYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGlvbmZpeCA9IE1hdGgucm91bmQoNDAgKiBuKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci5yZXNpemUoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdwb3NpdGlvbicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaChbJ3N0cm9rZVN0eWxlJywgJ3N0cm9rZUNvbG9yJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnJlc2l6ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ2ZpbGwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaChbJ2JnJywgJ2JnU2l6ZScsICdiZ1Bvc2l0aW9uJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnc3Ryb2tlV2lkdGgnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpeCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5baV0gPiBmaXgpIGZpeCA9IG5baV07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4ID0gZml4IC8gMjtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpO1xyXG4gICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci5yZXNpemUoKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgYm94LmYoZnVuY3Rpb24gKGJveENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gc3R5bGUuZ2V0KCdwb3NpdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBzdHlsZS5nZXQoJ2FuY2hvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgIHggPSBwb3NpdGlvblswXSxcclxuICAgICAgICAgICAgICAgICAgICB5ID0gcG9zaXRpb25bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWlueCA9IEluZmluaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbnkgPSBJbmZpbml0eSxcclxuICAgICAgICAgICAgICAgICAgICBtYXh4ID0gLUluZmluaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIG1heHkgPSAtSW5maW5pdHk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMF0gPCBtaW54KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnggPSBwYXRoW2ldWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzJdIDwgbWlueCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW54ID0gcGF0aFtpXVsyXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVsxXSA8IG1pbnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlueSA9IHBhdGhbaV1bMV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bM10gPCBtaW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnkgPSBwYXRoW2ldWzNdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzBdID4gbWF4eCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXh4ID0gcGF0aFtpXVswXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVsyXSA+IG1heHgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4eCA9IHBhdGhbaV1bMl1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMV0gPiBtYXh5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heHkgPSBwYXRoW2ldWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzNdID4gbWF4eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXh5ID0gcGF0aFtpXVszXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobWlueCA9PT0gSW5maW5pdHkpIG1pbnggPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1pbnkgPT09IEluZmluaXR5KSBtaW55ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChtYXh4ID09PSAtSW5maW5pdHkpIG1heHggPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1heHkgPT09IC1JbmZpbml0eSkgbWF4eCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgeHNoaWZ0ID0gbWlueDtcclxuICAgICAgICAgICAgICAgIHlzaGlmdCA9IG1pbnk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGZpeCA9IHN0cm9rZWZpeCArIGludGVycG9sYXRpb25maXgsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBNYXRoLmFicyhtYXh4IC0gbWlueCksXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5hYnMobWF4eSAtIG1pbnkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdjZW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSB3aWR0aCA/IHdpZHRoIC8gMiA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSB3aWR0aCA/IHdpZHRoIDogMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdtaWRkbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBoZWlnaHQgPyBoZWlnaHQgLyAyIDogMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdib3R0b20nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBoZWlnaHQgPyBoZWlnaHQgOiAwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBib3hDb250YWluZXIuc2V0KFxyXG4gICAgICAgICAgICAgICAgICAgIHggKyB4c2hpZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgeSArIHlzaGlmdCxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgZml4LFxyXG4gICAgICAgICAgICAgICAgICAgIGZpeCxcclxuICAgICAgICAgICAgICAgICAgICBmaXgsXHJcbiAgICAgICAgICAgICAgICAgICAgZml4XHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZihmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLnRyYW5zZm9ybSh0aGlzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci5kcmF3KGNvbnRleHQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrRHJhd2VyJywgJ0RlYnVnJywgJ0BpbmplY3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uIENpcmNsZU9iamVjdERyYXdlcihEcmF3ZXJIZWxwZXIsIERlYnVnLCBpbmplY3QpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBhc3NlbWJsZXIgPSBpbmplY3QoJyRHcmFwaGljc0Fzc2VtYmxlcicpLFxyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgICAgICAgICAgYm94RXh0ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHRoaXMuZXh0ZW5zaW9uKCdNYXRyaXgnKSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeCA9IDE7XHJcblxyXG4gICAgICAgICAgICBhc3NlbWJsZXIubGF5ZXIoMCwgJ2ZpbGwnLCBVcGRhdGVGaWxsLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBhc3NlbWJsZXIubGF5ZXIoMSwgJ2JnJywgVXBkYXRlQmcuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5sYXllcigyLCAnc3Ryb2tlJywgVXBkYXRlU3Ryb2tlLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBhc3NlbWJsZXIuYm94KGJveEV4dCk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVTdHJva2UoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGJveEV4dC5ib3goKS5zcHJpdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJykpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKHNwcml0ZS5zaXplWzBdIC8gMiwgc3ByaXRlLnNpemVbMV0gLyAyLCBzdHlsZS5nZXQoJ3JhZGl1cycpLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlRmlsbChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3ByaXRlID0gYm94RXh0LmJveCgpLnNwcml0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHN0eWxlLmdldCgnZmlsbCcpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMoc3ByaXRlLnNpemVbMF0gLyAyLCBzcHJpdGUuc2l6ZVsxXSAvIDIsIHN0eWxlLmdldCgncmFkaXVzJyksIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVCZyhjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3ByaXRlID0gYm94RXh0LmJveCgpLnNwcml0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJveCA9IGJveEV4dC5ib3goKS52YWx1ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyhzcHJpdGUuc2l6ZVswXSAvIDIsIHNwcml0ZS5zaXplWzFdIC8gMiwgc3R5bGUuZ2V0KCdyYWRpdXMnKSwgMCwgTWF0aC5QSSAvIDIpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5jbGlwKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGJncG9zaXRpb24gPSBzdHlsZS5nZXQoJ2JnUG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICBiZ3NpemUgPSBzdHlsZS5nZXQoJ2JnU2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJnID0gc3R5bGUuZ2V0KCdiZycpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmcubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFiZ1tpXS5sb2FkZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZ1tpXS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZ3dpZHRoID0gYm94LnNpemVbMF0gKiBiZ3NpemVbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ2hlaWdodCA9IGJveC5zaXplWzFdICogYmdzaXplW2ldWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbnggPSBib3guc2l6ZVswXSAqIGJncG9zaXRpb25baV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9ueSA9IGJveC5zaXplWzFdICogYmdwb3NpdGlvbltpXVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHNwcml0ZS5tYXJnaW5bM10gKyBiZ3Bvc2l0aW9ueCwgc3ByaXRlLm1hcmdpblswXSArIGJncG9zaXRpb255KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoYmdbaV0uZXhwb3J0KCksIDAsIDAsIGJnd2lkdGgsIGJnaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBib3hFeHQuZihmdW5jdGlvbiAoYm94Q29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gc3R5bGUuZ2V0KCdyYWRpdXMnKSxcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBzdHlsZS5nZXQoJ2FuY2hvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgIGQgPSByYWRpdXMgKiAyO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB4ID0gcG9zaXRpb25bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeSA9IHBvc2l0aW9uWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdjZW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSByYWRpdXNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IGRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdtaWRkbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSByYWRpdXNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdib3R0b20nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGJveENvbnRhaW5lci5zZXQoeCwgeSwgZCwgZCwgc3Ryb2tlZml4LCBzdHJva2VmaXgsIHN0cm9rZWZpeCwgc3Ryb2tlZml4KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdyYWRpdXMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICAgICAgICAgICAgICBib3hFeHQucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnJlc2l6ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ2ZpbGwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncG9zaXRpb24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBib3hFeHQucHVyZ2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdzdHJva2VXaWR0aCcsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobiAhPT0gbykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZWZpeCA9IG47XHJcbiAgICAgICAgICAgICAgICAgICAgYm94RXh0LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZW1ibGVyLnJlc2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goWydzdHJva2VTdHlsZScsICdzdHJva2VDb2xvciddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdG9rZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goWydiZycsICdiZ1Bvc2l0aW9uJywgJ2JnU2l6ZSddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5mKGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIudHJhbnNmb3JtKHRoaXMsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLmRyYXcoY29udGV4dCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS81LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnRGVidWcnLCAnK01hdHJpeCcsXHJcbiAgICAgICAgZnVuY3Rpb24gRGVmYXVsdE9iamVjdERyYXdlcihEZWJ1ZywgTWF0cml4KSB7XHJcbiAgICAgICAgICAgIHZhciBtYXRyaXggPSB0aGlzLmV4dGVuc2lvbignTWF0cml4Jyk7XHJcblxyXG4gICAgICAgICAgICBtYXRyaXguZihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0cml4Lm9iamVjdE1hdHJpeCh0aGlzKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsncG9zaXRpb24nLCAncm90YXRlJywgJ3RyYW5zbGF0ZScsICdzY2FsZScsICdza2V3J10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI2LzIwMTYuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnK0RyYXdlcicsXHJcbiAgICAgICAgZnVuY3Rpb24gR3JvdXBPYmplY3REcmF3ZXIoRHJhd2VySGVscGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBkcmF3ZXIgPSB0aGlzLmV4dGVuc2lvbignRHJhd2VyJyksXHJcbiAgICAgICAgICAgICAgICBsYXllcnMgPSB0aGlzLmV4dGVuc2lvbignTGF5ZXJzJyksXHJcbiAgICAgICAgICAgICAgICBib3ggPSB0aGlzLmV4dGVuc2lvbignQm94JyksXHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgYm94LmYoZnVuY3Rpb24gKGJveENvbnRhaW5lcikge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBtaW54ID0gSW5maW5pdHksXHJcbiAgICAgICAgICAgICAgICAgICAgbWlueSA9IEluZmluaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIG1heHggPSAtSW5maW5pdHksXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4eSA9IC1JbmZpbml0eTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKCkge1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9ib3ggPSB0aGlzLmV4dGVuc2lvbignQm94JykuYm94KCkudmFsdWUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9ib3gucG9zaXRpb25bMF0gPCBtaW54KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnggPSBvYm94LnBvc2l0aW9uWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JveC5wb3NpdGlvblsxXSA8IG1pbnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlueSA9IG9ib3gucG9zaXRpb25bMV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9ib3gucG9zaXRpb25bMF0gKyBvYm94LnNpemVbMF0gPiBtYXh4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heHggPSBvYm94LnBvc2l0aW9uWzBdICsgb2JveC5zaXplWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JveC5wb3NpdGlvblsxXSArIG9ib3guc2l6ZVsxXSA+IG1heHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4eSA9IG9ib3gucG9zaXRpb25bMV0gKyBvYm94LnNpemVbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobWlueCA9PT0gSW5maW5pdHkpIG1pbnggPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1heHggPT09IC1JbmZpbml0eSkgbWF4eCA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAobWlueSA9PT0gSW5maW5pdHkpIG1pbnkgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1heHkgPT09IC1JbmZpbml0eSkgbWF4eSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgYm94Q29udGFpbmVyLnNldChcclxuICAgICAgICAgICAgICAgICAgICBtaW54ICsgcG9zaXRpb25bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWlueSArIHBvc2l0aW9uWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1heHggLSBtaW54LFxyXG4gICAgICAgICAgICAgICAgICAgIG1heHkgLSBtaW55LFxyXG4gICAgICAgICAgICAgICAgICAgIDAsIDAsIDAsIDBcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gWzAsIDBdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncG9zaXRpb24nLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBuO1xyXG4gICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmYoZnVuY3Rpb24gKGNvbnRleHQsIHRpbWUsIGZyYW1lKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhICo9IHN0eWxlLmdldCgnb3BhY2l0eScpO1xyXG5cclxuICAgICAgICAgICAgICAgIERyYXdlckhlbHBlci50cmFuc2Zvcm0odGhpcywgY29udGV4dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gdGhpcy50eXBlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnR3JvdXAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9kcmF3ZXIuZHJhdy5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IG9zdHlsZS5nZXQoJ2JsZW5kaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgKj0gb3N0eWxlLmdldCgnb3BhY2l0eScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZHJhd2VyLmRyYXcuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytEcmF3ZXInLCAnUmVzb3VyY2UnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEltYWdlT2JqZWN0RHJhd2VyKERyYXdlckhlbHBlciwgUmVzb3VyY2UpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgYm94ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLFxyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gdGhpcy5leHRlbnNpb24oJ01hdHJpeCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHdpZHRoID0gbnVsbCwgaGVpZ2h0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGltYWdlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3NyYycsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobyAhPT0gbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlID0gUmVzb3VyY2UuaW1hZ2Uobik7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2Uub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWR0aCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBpbWFnZS53aWR0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoZWlnaHQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IGltYWdlLmhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdzaXplJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChvWzBdICE9PSBuWzBdIHx8IG9bMV0gIT09IG5bMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IG5bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gblsxXTtcclxuICAgICAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdwb3NpdGlvbicsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob1swXSAhPT0gblswXSB8fCBvWzFdICE9PSBuWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgYm94LmYoZnVuY3Rpb24gKGJveENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gc3R5bGUuZ2V0KCdwb3NpdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvciA9IHN0eWxlLmdldCgnYW5jaG9yJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHggPSBwb3NpdGlvblswXSxcclxuICAgICAgICAgICAgICAgICAgICB5ID0gcG9zaXRpb25bMV07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ2NlbnRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IHdpZHRoID8gd2lkdGggLyAyIDogMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMF0gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IHdpZHRoID8gd2lkdGggOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PT0gJ21pZGRsZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IGhlaWdodCA/IGhlaWdodCAvIDIgOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PT0gJ2JvdHRvbScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IGhlaWdodCA/IGhlaWdodCA6IDBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJveENvbnRhaW5lci5zZXQoeCwgeSwgd2lkdGggPyB3aWR0aCA6IDAsIGhlaWdodCA/IGhlaWdodCA6IDAsIDAsIDAsIDAsIDApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5mKGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2UgJiYgaW1hZ2UubG9hZGVkKCkgJiYgIWltYWdlLmVycm9yKCkgJiZcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCAhPT0gbnVsbCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCAhPT0gbnVsbCAmJiB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIERyYXdlckhlbHBlci50cmFuc2Zvcm0odGhpcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UuZXhwb3J0KCksIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BpbmplY3QnLCAnRGVidWcnLCAnK0RyYXdlcicsICcrUGF0aCcsXHJcbiAgICAgICAgZnVuY3Rpb24gTGluZU9iamVjdERyYXdlcihpbmplY3QsIERlYnVnLCBEcmF3ZXJIZWxwZXIsIFBhdGhIZWxwZXIpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBib3ggPSB0aGlzLmV4dGVuc2lvbignQm94JyksXHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgY2FudmFzID0gaW5qZWN0KCckQ2FudmFzJyksXHJcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB0aGlzLmV4dGVuc2lvbignTWF0cml4JyksXHJcbiAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IGZhbHNlLCBpbnRlcnBvbGF0ZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeCA9IDEsIGludGVycG9sYXRpb25maXggPSAwLFxyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgICAgICAgICAgeHNoaWZ0ID0gMCwgeXNoaWZ0ID0gMDtcclxuXHJcbiAgICAgICAgICAgIGJveC5mKGZ1bmN0aW9uIChib3hDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHN0eWxlLmdldCgncG9zaXRpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gc3R5bGUuZ2V0KCdhbmNob3InKSxcclxuICAgICAgICAgICAgICAgICAgICB4ID0gcG9zaXRpb25bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeSA9IHBvc2l0aW9uWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbnggPSBJbmZpbml0eSxcclxuICAgICAgICAgICAgICAgICAgICBtaW55ID0gSW5maW5pdHksXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4eCA9IC1JbmZpbml0eSxcclxuICAgICAgICAgICAgICAgICAgICBtYXh5ID0gLUluZmluaXR5O1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzBdIDwgbWlueCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW54ID0gcGF0aFtpXVswXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVsyXSA8IG1pbngpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlueCA9IHBhdGhbaV1bMl1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMV0gPCBtaW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnkgPSBwYXRoW2ldWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzNdIDwgbWlueSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW55ID0gcGF0aFtpXVszXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVswXSA+IG1heHgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4eCA9IHBhdGhbaV1bMF1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhbaV1bMl0gPiBtYXh4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heHggPSBwYXRoW2ldWzJdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoW2ldWzFdID4gbWF4eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXh5ID0gcGF0aFtpXVsxXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aFtpXVszXSA+IG1heHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4eSA9IHBhdGhbaV1bM11cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1pbnggPT09IEluZmluaXR5KSBtaW54ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChtaW55ID09PSBJbmZpbml0eSkgbWlueSA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF4eCA9PT0gLUluZmluaXR5KSBtYXh4ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChtYXh5ID09PSAtSW5maW5pdHkpIG1heHggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIHhzaGlmdCA9IG1pbng7XHJcbiAgICAgICAgICAgICAgICB5c2hpZnQgPSBtaW55O1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBmaXggPSBzdHJva2VmaXggKyBpbnRlcnBvbGF0aW9uZml4LFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gTWF0aC5hYnMobWF4eCAtIG1pbngpLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IE1hdGguYWJzKG1heHkgLSBtaW55KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gd2lkdGggPyB3aWR0aCAvIDIgOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gd2lkdGggPyB3aWR0aCA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnbWlkZGxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gaGVpZ2h0ID8gaGVpZ2h0IC8gMiA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnYm90dG9tJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gaGVpZ2h0ID8gaGVpZ2h0IDogMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYm94Q29udGFpbmVyLnNldChcclxuICAgICAgICAgICAgICAgICAgICB4ICsgeHNoaWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgIHkgKyB5c2hpZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgIGZpeCxcclxuICAgICAgICAgICAgICAgICAgICBmaXgsXHJcbiAgICAgICAgICAgICAgICAgICAgZml4LFxyXG4gICAgICAgICAgICAgICAgICAgIGZpeFxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncGF0aCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbnRlcnBvbGF0aW9uID0gc3R5bGUuZ2V0KCdpbnRlcnBvbGF0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJwb2xhdGlvbiAhPT0gMCkgaW50ZXJwb2xhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy53YXRjaCgncG9zaXRpb24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdzdHJva2VXaWR0aCcsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZml4ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobltpXSA+IGZpeCkgZml4ID0gbltpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXggPSBmaXggLyAyO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdpbnRlcnBvbGF0aW9uJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChvICE9PSBuKSBpbnRlcnBvbGF0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uZml4ID0gTWF0aC5yb3VuZCgyMCAqIG4pO1xyXG4gICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaChbJ3N0cm9rZVN0eWxlJywgJ3N0cm9rZUNvbG9yJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVfdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5jb250ZXh0KCk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVDYW52YXMoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3ByaXRlID0gYm94LmJveCgpLnNwcml0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uID0gc3R5bGUuZ2V0KCdpbnRlcnBvbGF0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNhbnZhcy53aWR0aCgpICE9PSBzcHJpdGUuc2l6ZVswXSB8fCBjYW52YXMuaGVpZ2h0KCkgIT09IHNwcml0ZS5zaXplWzFdKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHNwcml0ZS5zaXplWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBzcHJpdGUuc2l6ZVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLndpZHRoKHdpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0KGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBzcHJpdGUuc2l6ZVswXSwgc3ByaXRlLnNpemVbMV0pO1xyXG4gICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWludGVycG9sYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFBhdGhIZWxwZXIuaW50ZXJwb2xhdGUocGF0aCwgaW50ZXJwb2xhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKHNwcml0ZS5tYXJnaW5bM10gLSB4c2hpZnQsIHNwcml0ZS5tYXJnaW5bMF0gLSB5c2hpZnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0aW9uID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLmRyYXdCZXppZXJQYXRoKGN0eCwgcGF0aCwgc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLmRyYXdMaW5lUGF0aChjdHgsIHBhdGgsIHN0eWxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZihmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcXVpcmVfdXBkYXRlKSBVcGRhdGVDYW52YXMuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIERyYXdlckhlbHBlci50cmFuc2Zvcm0odGhpcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShjYW52YXMuZXhwb3J0KCksIDAsIDApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzExLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGluamVjdCcsICcrRHJhd2VyJyxcclxuICAgICAgICBmdW5jdGlvbiBSZWN0YW5nbGVPYmplY3REcmF3ZXIoaW5qZWN0LCBEcmF3ZXJIZWxwZXIpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBhc3NlbWJsZXIgPSBpbmplY3QoJyRHcmFwaGljc0Fzc2VtYmxlcicpLFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGRyYXdlciA9IHRoaXMuZXh0ZW5zaW9uKCdEcmF3ZXInKSxcclxuICAgICAgICAgICAgICAgIGJveEV4dGVuc2lvbiA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKSxcclxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHRoaXMuZXh0ZW5zaW9uKCdNYXRyaXgnKSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeCA9IFsyLCAyLCAyLCAyXTtcclxuXHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5sYXllcigwLCAnZmlsbCcsIFVwZGF0ZUZpbGwuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5sYXllcigxLCAnYmcnLCBVcGRhdGVCZy5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgYXNzZW1ibGVyLmxheWVyKDIsICdzdHJva2UnLCBVcGRhdGVTdHJva2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5ib3goYm94RXh0ZW5zaW9uKTtcclxuXHJcbiAgICAgICAgICAgIGJveEV4dGVuc2lvbi5mKGZ1bmN0aW9uIChib3hDb250YWluZXIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBzdHlsZS5nZXQoJ3Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IHN0eWxlLmdldCgnc2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvciA9IHN0eWxlLmdldCgnYW5jaG9yJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHggPSBwb3NpdGlvblswXSxcclxuICAgICAgICAgICAgICAgICAgICB5ID0gcG9zaXRpb25bMV07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ2NlbnRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IHNpemVbMF0gLyAyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gc2l6ZVswXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdtaWRkbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBzaXplWzFdIC8gMjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JbMV0gPT09ICdib3R0b20nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBzaXplWzFdXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYm94Q29udGFpbmVyLnNldChcclxuICAgICAgICAgICAgICAgICAgICB4LCB5LFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemVbMF0sIHNpemVbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlZml4WzBdLCBzdHJva2VmaXhbMV0sIHN0cm9rZWZpeFsyXSwgc3Ryb2tlZml4WzNdXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdlci5mKGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIudHJhbnNmb3JtKHRoaXMsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLmRyYXcoY29udGV4dCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnc2l6ZScsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIucmVzaXplKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIGJveEV4dGVuc2lvbi5wdXJnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3JhZGl1cycsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnc3Ryb2tlV2lkdGgnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4WzBdID0gblswXTtcclxuICAgICAgICAgICAgICAgIHN0cm9rZWZpeFsxXSA9IG5bMV07XHJcbiAgICAgICAgICAgICAgICBzdHJva2VmaXhbMl0gPSBuWzJdO1xyXG4gICAgICAgICAgICAgICAgc3Ryb2tlZml4WzNdID0gblszXTtcclxuICAgICAgICAgICAgICAgIGJveEV4dGVuc2lvbi5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnJlc2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdmaWxsJyk7XHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaChbJ3Bvc2l0aW9uJywgJ3NpemUnXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYm94RXh0ZW5zaW9uLnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsnYmcnLCAnYmdTaXplJywgJ2JnUG9zaXRpb24nXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsnc3Ryb2tlU3R5bGUnLCAnc3Ryb2tlQ29sb3InXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaChbJ2ZpbGwnXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZVJhZGl1cyhyYWRpdXMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW3JhZGl1c1swXSwgcmFkaXVzWzFdLCByYWRpdXNbMl0sIHJhZGl1c1szXV0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm94ID0gYm94RXh0ZW5zaW9uLmJveCgpLnZhbHVlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgaGFsZmJveCA9IFtib3guc2l6ZVswXSAvIDIsIGJveC5zaXplWzFdIC8gMl07XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0W2ldID4gaGFsZmJveFswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBoYWxmYm94WzBdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbaV0gPiBoYWxmYm94WzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IGhhbGZib3hbMV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZHJhd1JlY3RQYXRoKGNvbnRleHQsIHN0cm9rZSkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciByYWRpdXMgPSBub3JtYWxpemVSYWRpdXMoc3R5bGUuZ2V0KCdyYWRpdXMnKSksXHJcbiAgICAgICAgICAgICAgICAgICAgayA9IDAuNTUyMjg0NzQ5OCxcclxuICAgICAgICAgICAgICAgICAgICBib3ggPSBib3hFeHRlbnNpb24uYm94KCkudmFsdWUoKSxcclxuICAgICAgICAgICAgICAgICAgICBzcHJpdGUgPSBib3hFeHRlbnNpb24uYm94KCkuc3ByaXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHJva2VDb2xvciA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGggPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXAgPSBzdHlsZS5nZXQoJ2NhcCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBjYXA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyYWRpdXNbMF0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oc3ByaXRlLm1hcmdpblszXSArIHJhZGl1c1swXSwgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhzcHJpdGUubWFyZ2luWzNdLCBzcHJpdGUubWFyZ2luWzBdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvclswXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVdpZHRoWzBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHJhZGl1c1sxXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhib3guc2l6ZVswXSArIHNwcml0ZS5tYXJnaW5bM10gLSByYWRpdXNbMV0sIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJ2ZU1vZGlmaWVyID0gayAqIHJhZGl1c1sxXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSAtIHJhZGl1c1sxXSArIGN1cnZlTW9kaWZpZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblswXSArIHJhZGl1c1sxXSAtIGN1cnZlTW9kaWZpZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblswXSArIHJhZGl1c1sxXVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhib3guc2l6ZVswXSArIHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIGNvbnRleHQuc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvclsxXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVdpZHRoWzFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHJhZGl1c1syXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VydmVNb2RpZmllciA9IGsgKiByYWRpdXNbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oYm94LnNpemVbMF0gKyBzcHJpdGUubWFyZ2luWzNdLCBib3guc2l6ZVsxXSArIHNwcml0ZS5tYXJnaW5bMF0gLSByYWRpdXNbMl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0cm9rZVN0eWxlWzJdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVdpZHRoWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMV0gKyBzcHJpdGUubWFyZ2luWzBdIC0gcmFkaXVzWzJdICsgY3VydmVNb2RpZmllcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMF0gKyBzcHJpdGUubWFyZ2luWzNdIC0gcmFkaXVzWzJdICsgY3VydmVNb2RpZmllcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LnNpemVbMV0gKyBzcHJpdGUubWFyZ2luWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3guc2l6ZVswXSArIHNwcml0ZS5tYXJnaW5bM10gLSByYWRpdXNbMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGJveC5zaXplWzBdICsgc3ByaXRlLm1hcmdpblszXSwgYm94LnNpemVbMV0gKyBzcHJpdGUubWFyZ2luWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKSBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0cm9rZVN0eWxlWzJdKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3JbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VXaWR0aFsyXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmFkaXVzWzNdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJ2ZU1vZGlmaWVyID0gayAqIHJhZGl1c1szXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhzcHJpdGUubWFyZ2luWzNdICsgcmFkaXVzWzNdLCBib3guc2l6ZVsxXSArIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bM10gKyByYWRpdXNbM10gLSBjdXJ2ZU1vZGlmaWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3guc2l6ZVsxXSArIHNwcml0ZS5tYXJnaW5bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXSAtIHJhZGl1c1szXSArIGN1cnZlTW9kaWZpZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5zaXplWzFdICsgc3ByaXRlLm1hcmdpblswXSAtIHJhZGl1c1szXVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhzcHJpdGUubWFyZ2luWzNdLCBib3guc2l6ZVsxXSArIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIGNvbnRleHQuc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3R5bGVbM10pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvclszXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVdpZHRoWzNdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyYWRpdXNbMF0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnZlTW9kaWZpZXIgPSBrICogcmFkaXVzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0gKyByYWRpdXNbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIGNvbnRleHQuc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdHlsZVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tTdHlsZSA9IHN0cm9rZUNvbG9yWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVdpZHRoWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJnaW5bMF0gKyByYWRpdXNbMF0gLSBjdXJ2ZU1vZGlmaWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUubWFyZ2luWzBdICsgcmFkaXVzWzBdIC0gY3VydmVNb2RpZmllcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblszXSArIHJhZGl1c1swXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmdpblswXVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZSkgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBoYXNSYWRpdXMoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzID0gc3R5bGUuZ2V0KCdyYWRpdXMnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhZGl1cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyYWRpdXNbaV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGhhc1N0cm9rZSgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHJva2UgPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJva2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlW2ldID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gbW9ub1N0cm9rZSgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHJva2VDb2xvciA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VTdHlsZSA9IHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgICAgICBkQ29sb3IgPSBzdHJva2VDb2xvclswXSxcclxuICAgICAgICAgICAgICAgICAgICBkV2lkdGggPSBzdHJva2VXaWR0aFswXSxcclxuICAgICAgICAgICAgICAgICAgICBkU3R5bGUgPSBzdHJva2VTdHlsZVswXSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgZENvbG9yICE9PSBzdHJva2VDb2xvcltpXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkV2lkdGggIT09IHN0cm9rZVdpZHRoW2ldIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICEoc3Ryb2tlU3R5bGVbaV1bMF0gPT09IGRTdHlsZVswXSAmJiBzdHJva2VTdHlsZVtpXVsxXSA9PT0gZFN0eWxlWzFdKVxyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlQmcoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJveENvbnRhaW5lciA9IGJveEV4dGVuc2lvbi5ib3goKSxcclxuICAgICAgICAgICAgICAgICAgICBib3ggPSBib3hDb250YWluZXIudmFsdWUoKSxcclxuICAgICAgICAgICAgICAgICAgICBzcHJpdGUgPSBib3hDb250YWluZXIuc3ByaXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbiA9IHN0eWxlLmdldCgnYmdQb3NpdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJnc2l6ZSA9IHN0eWxlLmdldCgnYmdTaXplJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYmcgPSBzdHlsZS5nZXQoJ2JnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGhhc1JhZGl1cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhd1JlY3RQYXRoKGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZWN0KHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0sIGJveC5zaXplWzBdLCBib3guc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5jbGlwKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiZy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWJnW2ldLmxvYWRlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJnW2ldLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJnd2lkdGggPSBib3guc2l6ZVswXSAqIGJnc2l6ZVtpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnaGVpZ2h0ID0gYm94LnNpemVbMV0gKiBiZ3NpemVbaV1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9ueCA9IGJveC5zaXplWzBdICogYmdwb3NpdGlvbltpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb255ID0gYm94LnNpemVbMV0gKiBiZ3Bvc2l0aW9uW2ldWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoc3ByaXRlLm1hcmdpblszXSArIGJncG9zaXRpb254LCBzcHJpdGUubWFyZ2luWzBdICsgYmdwb3NpdGlvbnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShiZ1tpXS5leHBvcnQoKSwgMCwgMCwgYmd3aWR0aCwgYmdoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFVwZGF0ZVN0cm9rZShjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzU3Ryb2tlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3Ryb2tlQ29sb3IgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VTdHlsZSA9IHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94Q29udGFpbmVyID0gYm94RXh0ZW5zaW9uLmJveCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3ggPSBib3hDb250YWluZXIudmFsdWUoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlID0gYm94Q29udGFpbmVyLnNwcml0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzUmFkaXVzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd1JlY3RQYXRoKGNvbnRleHQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vbm9TdHJva2UoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhcCA9IHN0eWxlLmdldCgnY2FwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBjYXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0cm9rZVN0eWxlWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvclswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGhbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oc3ByaXRlLm1hcmdpblszXSwgc3ByaXRlLm1hcmdpblswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhzcHJpdGUubWFyZ2luWzNdICsgYm94LnNpemVbMF0sIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oc3ByaXRlLm1hcmdpblszXSArIGJveC5zaXplWzBdLCBzcHJpdGUubWFyZ2luWzBdICsgYm94LnNpemVbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oc3ByaXRlLm1hcmdpblszXSwgc3ByaXRlLm1hcmdpblswXSArIGJveC5zaXplWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gVXBkYXRlRmlsbChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsbCA9IHN0eWxlLmdldCgnZmlsbCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJveENvbnRhaW5lciA9IGJveEV4dGVuc2lvbi5ib3goKSxcclxuICAgICAgICAgICAgICAgICAgICBib3ggPSBib3hDb250YWluZXIudmFsdWUoKSxcclxuICAgICAgICAgICAgICAgICAgICBzcHJpdGUgPSBib3hDb250YWluZXIuc3ByaXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGhhc1JhZGl1cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhd1JlY3RQYXRoKGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZWN0KHNwcml0ZS5tYXJnaW5bM10sIHNwcml0ZS5tYXJnaW5bMF0sIGJveC5zaXplWzBdLCBib3guc2l6ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGw7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMy8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJytEcmF3ZXInLCAnK01vZGVsJywgJ1Jlc291cmNlJyxcclxuICAgICAgICBmdW5jdGlvbiBTcHJpdGVPYmplY3REcmF3ZXIoRHJhd2VySGVscGVyLCBNb2RlbEhlbHBlciwgUmVzb3VyY2UpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgYm94ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLFxyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gdGhpcy5leHRlbnNpb24oJ01hdHJpeCcpLFxyXG4gICAgICAgICAgICAgICAgd2lkdGggPSBudWxsLCBoZWlnaHQgPSBudWxsLCBpbWFnZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBib3guZihmdW5jdGlvbiAoYm94Q29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBzdHlsZS5nZXQoJ3Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gc3R5bGUuZ2V0KCdhbmNob3InKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IHBvc2l0aW9uWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkgPSBwb3NpdGlvblsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09ICdjZW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSB3aWR0aCA/IHdpZHRoIC8gMiA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09IHdpZHRoID8gd2lkdGggOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PSAnbWlkZGxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gaGVpZ2h0ID8gaGVpZ2h0IC8gMiA6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09ICdib3R0b20nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSBoZWlnaHQgPyBoZWlnaHQgOiAwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBib3hDb250YWluZXIuc2V0KFxyXG4gICAgICAgICAgICAgICAgICAgIHgsXHJcbiAgICAgICAgICAgICAgICAgICAgeSxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA/IHdpZHRoIDogMCxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPyBoZWlnaHQgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgICAgICAgIDBcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZHJhd2VyLmYoZnVuY3Rpb24gKGNvbnRleHQsIHRpbWUsIGZyYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2UgJiYgaW1hZ2UubG9hZGVkKCkgJiYgIWltYWdlLmVycm9yKClcclxuICAgICAgICAgICAgICAgICAgICAmJiBpbWFnZS5yZWFkeSgpXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgd2lkdGggIT09IG51bGwgJiYgaGVpZ2h0ICE9PSBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgd2lkdGggPiAwICYmIGhlaWdodCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBEcmF3ZXJIZWxwZXIudHJhbnNmb3JtKHRoaXMsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlLnRpY2sodGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UuZXhwb3J0KCksIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3NyYycsIGZ1bmN0aW9uIChvLCBuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobiAhPT0gbykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gTW9kZWxIZWxwZXIucmVhZFNwcml0ZVN0cmluZyhuKTtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZSA9IFJlc291cmNlLnNwcml0ZShkYXRhLnVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2UuY29uZmlnKGRhdGEuZnJhbWVzKTtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpZHRoID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gaW1hZ2Uud2lkdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGVpZ2h0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IGltYWdlLmhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdzaXplJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChvWzBdICE9PSBuWzBdIHx8IG9bMV0gIT09IG5bMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IG5bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gblsxXTtcclxuICAgICAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ3Bvc2l0aW9uJywgZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChvWzBdICE9PSBuWzBdIHx8IG9bMV0gIT09IG5bMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAzLzI1LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGluamVjdCcsICcrRHJhd2VyJywgJ1Jlc291cmNlJyxcclxuICAgICAgICBmdW5jdGlvbiBUZXh0T2JqZWN0RHJhd2VyKGluamVjdCwgRHJhd2VySGVscGVyLCBSZXNvdXJjZSkge1xyXG4gICAgICAgICAgICB2YXIgdGV4dCA9IHRoaXMuZXh0ZW5zaW9uKCdUZXh0JyksXHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgYm94ID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLFxyXG4gICAgICAgICAgICAgICAgZHJhd2VyID0gdGhpcy5leHRlbnNpb24oJ0RyYXdlcicpLFxyXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gdGhpcy5leHRlbnNpb24oJ01hdHJpeCcpLFxyXG4gICAgICAgICAgICAgICAgcmVxdWlyZV91cGRhdGUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGZvbnQgPSBzdHlsZS5nZXQoJ2ZvbnQnKSxcclxuICAgICAgICAgICAgICAgIHdlaWdodCA9IHN0eWxlLmdldCgnd2VpZ2h0JyksXHJcbiAgICAgICAgICAgICAgICBmc3R5bGUgPSBzdHlsZS5nZXQoJ3N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBhc3NlbWJsZXIgPSBpbmplY3QoJyRHcmFwaGljc0Fzc2VtYmxlcicpLFxyXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIGFzc2VtYmxlci5sYXllcigwLCAndGV4dCcsIFVwZGF0ZVRleHRMYXllcik7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVUZXh0TGF5ZXIoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdGV4dC51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbGluZUhlaWdodCA9IHN0eWxlLmdldCgnbGluZUhlaWdodCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yID0gc3R5bGUuZ2V0KCdjb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplID0gc3R5bGUuZ2V0KCdmb250U2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFsaWduID0gc3R5bGUuZ2V0KCdhbGlnbicpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHRvcFNwYW4gPSBsaW5lSGVpZ2h0IC0gKGZvbnRTaXplIC8gNSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGZvbnRTaXplIDwgbGluZUhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcFNwYW4gPSB0b3BTcGFuIC0gKGxpbmVIZWlnaHQgLSBmb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0b3BTcGFuID0gdG9wU3BhbiArIChmb250U2l6ZSAtIGxpbmVIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGV4dC5mb3JFYWNoTGluZShmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSB0b3BTcGFuICsgaSAqIGxpbmVIZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IHRoaXMuZXh0cmFjdEZvbnRTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuY29sb3IoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxpZ24gPT09ICdjZW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy5zdHJpbmcoKSwgKHRleHQudGV4dEJsb2NrV2lkdGgoKSAtIHRoaXMud2lkdGgoKSkgLyAyLCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYWxpZ24gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dCh0aGlzLnN0cmluZygpLCB0ZXh0LnRleHRCbG9ja1dpZHRoKCkgLSB0aGlzLndpZHRoKCkgLSAyLCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy5zdHJpbmcoKSwgMiwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEZvbnRGaWxlKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9zdHlsZSA9IGZzdHlsZSA9PT0gJ29ibGlxdWUnID8gJ25vcm1hbCcgOiBmc3R5bGU7XHJcbiAgICAgICAgICAgICAgICB2YXIgZiA9IFJlc291cmNlLmZvbnQoZm9udCwgd2VpZ2h0LCBfc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgZi5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC51cGRhdGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBmLm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC51cGRhdGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBkcmF3VGV4dChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVxdWlyZV91cGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBhc3NlbWJsZXIuc2l6ZSh0ZXh0LnRleHRCbG9ja1dpZHRoKCksIHRleHQudGV4dEJsb2NrSGVpZ2h0KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ3RleHQnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgRHJhd2VySGVscGVyLnRyYW5zZm9ybSh0aGlzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlci5kcmF3KGNvbnRleHQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKFsnc3RyJywgJ3N0eWxlJywgJ2ZvbnQnLCAnd2VpZ2h0JywgJ3NpemUnLCAnY29sb3InLCAnZm9udFNpemUnLCAnbGluZUhlaWdodCddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXF1aXJlX3VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBib3gucHVyZ2UoKTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5wdXJnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2goJ2ZvbnQnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgZm9udCA9IG47XHJcbiAgICAgICAgICAgICAgICBnZXRGb250RmlsZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnc3R5bGUnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgZnN0eWxlID0gbjtcclxuICAgICAgICAgICAgICAgIGdldEZvbnRGaWxlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCd3ZWlnaHQnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgd2VpZ2h0ID0gbjtcclxuICAgICAgICAgICAgICAgIGdldEZvbnRGaWxlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnYW5jaG9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYm94LnB1cmdlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucHVyZ2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndhdGNoKCdwb3NpdGlvbicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGJveC5wdXJnZSgpXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgYm94LmYoZnVuY3Rpb24gKGJveENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gc3R5bGUuZ2V0KCdwb3NpdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvciA9IHN0eWxlLmdldCgnYW5jaG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgeCA9IHBvc2l0aW9uWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkgPSBwb3NpdGlvblsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzBdID09PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gdGV4dC50ZXh0QmxvY2tXaWR0aCgpIC8gMlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclswXSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHggLT0gdGV4dC50ZXh0QmxvY2tXaWR0aCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclsxXSA9PT0gJ21pZGRsZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IHRleHQudGV4dEJsb2NrSGVpZ2h0KCkgLyAyXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yWzFdID09PSAnYm90dG9tJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gdGV4dC50ZXh0QmxvY2tIZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJveENvbnRhaW5lci5zZXQoeCwgeSwgdGV4dC50ZXh0QmxvY2tXaWR0aCgpLCB0ZXh0LnRleHRCbG9ja0hlaWdodCgpLCAwLCAwLCAwLCAwKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBkcmF3ZXIuZihkcmF3VGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA1LzEvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAZXh0ZW5kJywgJytNb2RlbCcsICcrUGF0aCcsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gQXJlYU9iamVjdE1vZGVsKGV4dGVuZCwgTW9kZWxIZWxwZXIsIFBhdGhIZWxwZXIsIERlYnVnKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRPYmplY3RNb2RlbCcpO1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRHbG9iYWxCYWNrZ3JvdW5kTW9kZWwnKTtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdEZyZWVTdHJva2VNb2RlbCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24gPSB0aGlzLmV4dGVuc2lvbignQW5pbWF0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTeW5jUGF0aFByb3BlcnR5KHBhdGgsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXByb3BlcnR5W2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnB1c2gocHJvcGVydHlbcHJvcGVydHkubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPCBwcm9wZXJ0eS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5zcGxpY2UocGF0aC5sZW5ndGggLSAxLCBwcm9wZXJ0eS5sZW5ndGggLSBwYXRoLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3BhdGgnLCBbWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQYXRoSGVscGVyLmNoZWNrU2ltcGxlUGF0aCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gUGF0aEhlbHBlci5jb252ZXJ0U2ltcGxlUGF0aCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbMF1bMF0gIT09IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bMl0gfHwgcmVzdWx0WzBdWzFdICE9PSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzNdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVsyXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzNdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFswXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbMF1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVsyXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzNdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFswXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbMF1bMV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkLmxlbmd0aCAhPT0gcmVzdWx0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3luY1BhdGhQcm9wZXJ0eShyZXN1bHQsIHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeW5jUGF0aFByb3BlcnR5KHJlc3VsdCwgc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN5bmNQYXRoUHJvcGVydHkocmVzdWx0LCBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignQXJlYSBNb2RlbCAvIEludmFsaWQgdmFsdWUgZm9yIGFyZWEgcGF0aCEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUGF0aEhlbHBlci5jb252ZXJ0Q29tcGxleFBhdGgodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAZXh0ZW5kJywgJytDb2xvcicsICcrTW9kZWwnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIENpcmNsZU9iamVjdE1vZGVsKGV4dGVuZCwgQ29sb3JIZWxwZXIsIE1vZGVsSGVscGVyLCBEZWJ1Zykge1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0TW9kZWwnKTtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckR2xvYmFsQmFja2dyb3VuZE1vZGVsJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbiA9IHRoaXMuZXh0ZW5zaW9uKCdBbmltYXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAncmFkaXVzJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgncmFkaXVzJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdyYWRpdXMnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCByYWRpdXMgdmFsdWUnKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdzdHJva2VXaWR0aCcsIDEsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdzdHJva2VXaWR0aCcsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc3Ryb2tlV2lkdGgnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3N0cm9rZUNvbG9yJywgJ3JnYmEoMCwwLDAsMSknLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZUNvbG9yIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDb2xvckhlbHBlci5hcnJheVRvQ29sb3IodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZUNvbG9yIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3N0cm9rZUNvbG9yJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzdHJva2VDb2xvcicpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChjb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlQ29sb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc3Ryb2tlQ29sb3InKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VDb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBDb2xvckhlbHBlci5ub3JtYWxpemUodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnc3Ryb2tlU3R5bGUnLCBbMSwgMF0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljVmFsdWUodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0gPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVtpXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGUgdmFsdWUuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVN0eWxlIHZhbHVlLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGUgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnc3Ryb2tlU3R5bGUnLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3N0cm9rZVN0eWxlJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VDb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VDb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMF0gPCAwKSB2YWx1ZVswXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzFdIDwgMCkgdmFsdWVbMV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjYvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrTW9kZWwnLCAnK1BhdGgnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIERlZmF1bHRPYmplY3RNb2RlbChNb2RlbEhlbHBlciwgUGF0aEhlbHBlciwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gdGhpcy5leHRlbnNpb24oJ0FuaW1hdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDIsICdwb3NpdGlvbicsIFswLCAwXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oJ0ludmFsaWQgbnVtZXJpYyBhcnJheSBmb3IgcG9zaXRpb24hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdwb3NpdGlvbicsIDIsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdwb3NpdGlvbicpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ0ludmFsaWQgdmFsdWUgZm9yIHBvc2l0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAncm90YXRlJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgLTM2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSArIDM2MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAzNjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgLSAzNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICogKDE4MCAvIE1hdGguUEkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3JvdGF0ZScsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3JvdGF0ZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ0lzIG5vdCBhIHZhbGlkIHZhbHVlIHRvIGFuaW1hdGUgcm90YXRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAndHJhbnNsYXRlJywgWzAsIDBdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignSW52YWxpZCBudW1lcmljIGFycmF5IGZvciB0cmFuc2xhdGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3RyYW5zbGF0ZScsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCd0cmFuc2xhdGUnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdJbnZhbGlkIHZhbHVlIGZvciB0cmFuc2xhdGUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnb3BhY2l0eScsIDEsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignT3BhY2l0eSB2YWx1ZSBpcyBub3QgYSBudW1iZXInKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnb3BhY2l0eScsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mICB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDEpIHZhbHVlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnb3BhY2l0eScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ0ludmFsaWQgdmFsdWUgZm9yIHRyYW5zbGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMSkgdmFsdWUgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnc2NhbGUnLCBbMSwgMV0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMCwgMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmtub3duIHR5cGUgb2YgdmFsdWUgZm9yIHNjYWxlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnc2NhbGUnLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzY2FsZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKFt2YWx1ZSwgdmFsdWVdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzY2FsZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZEFycmF5ID0gW3ZhbHVlWzBdLHZhbHVlWzFdXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZW5kQXJyYXlbMF0gPCAwKSBlbmRBcnJheVswXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVuZEFycmF5WzFdIDwgMCkgZW5kQXJyYXlbMV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQoZW5kQXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnSW52YWxpZCB2YWx1ZSBmb3Igc2NhbGUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzBdIDwgMCkgdmFsdWVbMF0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVsxXSA8IDApIHZhbHVlWzFdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3NrZXcnLCBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDM2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAtIDM2MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAtMzYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICsgMzYwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYWQgPSB2YWx1ZSAqIE1hdGguUEkgLyAxODA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3JhZCwgcmFkXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMF0gPiAzNjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlWzBdID0gdmFsdWVbMV0gLSAzNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzFdIDwgLTM2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVbMV0gPSB2YWx1ZVsxXSArIDM2MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkMSA9IHZhbHVlWzBdICogTWF0aC5QSSAvIDE4MCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZDIgPSB2YWx1ZVsxXSAqIE1hdGguUEkgLyAxODA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3JhZDEsIHJhZDJdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnVWJrbm93biB2YWx1ZSBmb3JtYXQgZm9yIHNrZXcuIFt7dn1dJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnc2tldycsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mICB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdza2V3JykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQoW3ZhbHVlLCB2YWx1ZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3NrZXcnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdJbnZhbGlkIHZhbHVlIGZvciBza2V3Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnb3JpZ2luJywgWy41LCAuNV0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZVswXSwgdmFsdWVbMV1dXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmtub3duIGZvcm1hdCBvZiB2YWx1ZSBmb3Igb3JpZ2luLiBJbnZhbGlkIEFycmF5IScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmtub3duIHR5cGUgb2YgdmFsdWUgZm9yIG9yaWdpbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdvcmlnaW4nLCAwLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnb3JpZ2luJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnSW52YWxpZCB2YWx1ZSBmb3Igb3JpZ2luJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgyLCAnY2FwJywgJ3JvdW5kJyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAncm91bmQnIHx8IHZhbHVlID09PSAnYnV0dCcgfHwgdmFsdWUgPT09ICdzcXVhcmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7dmFsOiB2YWx1ZX0sICd7dmFsfSBpcyBpbmNvcnJlY3QgdmFsdWUgZm9yIGxpbmUgY2FwIHByb3BlcnR5IScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignQ2FwIHByb3BlcnR5IGlzIGEgc3RyaW5nIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy50eXBlKCkgIT09ICdHcm91cCcpIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnYmxlbmRpbmcnLCAnc291cmNlLW92ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWRCbGVuZGluZyh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnIFt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmxlbmRpbmchJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnYW5jaG9yJywgWydsZWZ0JywgJ3RvcCddLFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodmFsdWVbMF0gPT09ICdsZWZ0JyB8fCB2YWx1ZVswXSA9PT0gJ2NlbnRlcicgfHwgdmFsdWVbMF0gPT09ICdyaWdodCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHZhbHVlWzFdID09PSAndG9wJyB8fCB2YWx1ZVsxXSA9PT0gJ21pZGRsZScgfHwgdmFsdWVbMV0gPT09ICdib3R0b20nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZVswXSwgdmFsdWVbMV1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUuIEFycmF5IFtcImxlZnRcIiB8fCBcImNlbnRlclwiIHx8IFwicmlnaHRcIiAsIFwidG9wXCIgfHwgXCJtaWRkbGVcIiB8fCBcImJvdHRvbVwiIF0gaXMgcmVxdWlyZWQgZm9ybWF0LicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgYW5jaG9yIHZhbHVlIGZvciB0ZXh0IGVsZW1lbnQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWVbMF0sIHZhbHVlWzFdXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiA1LzMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrTW9kZWwnLCAnK0NvbG9yJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBEZWZhdWx0RnJlZVN0cm9rZU1vZGVsKE1vZGVsSGVscGVyLCBDb2xvckhlbHBlciwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdpbnRlcnBvbGF0aW9uJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IC40KSB2YWx1ZSA9IC40O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMiwgJ3N0cm9rZUNvbG9yJywgWydyZ2JhKDAsMCwwLDEpJ10sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgbW8gY2hhbmdlcyBtYWRlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIHJlcGxhY2Ugd2l0aCByZ2JhKDAsMCwwLDEpIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJvYmplY3RcIiB8fCB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKENvbG9ySGVscGVyLmFycmF5VG9Db2xvcih2YWx1ZVtpXSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgbW8gY2hhbmdlcyBtYWRlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIHJlcGxhY2Ugd2l0aCByZ2JhKDAsMCwwLDEpIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIG1vIGNoYW5nZXMgbWFkZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIHJlcGxhY2Ugd2l0aCByZ2JhKDAsMCwwLDEpIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgbW8gY2hhbmdlcyBtYWRlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCByZXBsYWNlIHdpdGggcmdiYSgwLDAsMCwxKSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZCA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIG1vIGNoYW5nZXMgbWFkZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCByZXBsYWNlIHdpdGggcmdiYSgwLDAsMCwxKSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwib2JqZWN0XCIgfHwgdmFsdWVbaV0uY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChDb2xvckhlbHBlci5hcnJheVRvQ29sb3IodmFsdWVbaV0pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIG5vIGNoYW5nZXMgbWFkZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCByZXBsYWNlIHdpdGggcmdiYSgwLDAsMCwxKSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCBubyBjaGFuZ2VzIG1hZGUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yLCByZXBsYWNlIHdpdGggcmdiYSgwLDAsMCwxKSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgY29sb3IsIG5vIGNoYW5nZXMgbWFkZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBjb2xvciwgcmVwbGFjZSB3aXRoIHJnYmEoMCwwLDAsMSkhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdMaW5lIE1vZGVsIC8gV3JvbmcgdHlwZSBvZiB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDIsICdzdHJva2VXaWR0aCcsIFsxXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mICB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBudW1iZXIhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgbnVtYmVyIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IHN0eWxlLmdldCgncGF0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgYSBudW1iZXIhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIG51bWJlciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgbnVtYmVyIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ0xpbmUgTW9kZWwgLyB7dmFsfSBpcyBub3QgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZVdpZHRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMiwgJ3N0cm9rZVN0eWxlJywgW1sxLCAwXV0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBzdHlsZS5nZXQoJ3BhdGgnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdMaW5lIE1vZGVsIC8ge3ZhbH0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZVN0eWxlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW29sZC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gc3R5bGUuZ2V0KCdwYXRoJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtvbGQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnTGluZSBNb2RlbCAvIHt2YWx9IGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VTdHlsZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbb2xkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrTW9kZWwnLCAnK0NvbG9yJywgJ0RlYnVnJywgJ1Jlc291cmNlJyxcclxuICAgICAgICBmdW5jdGlvbiBHbG9iYWxCYWNrZ3JvdW5kTW9kZWwoTW9kZWxIZWxwZXIsIENvbG9ySGVscGVyLCBEZWJ1ZywgUmVzb3VyY2UpIHtcclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24gPSB0aGlzLmV4dGVuc2lvbignQW5pbWF0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTeW5jQmdQcm9wZXJ0eShiZywgcHJvcGVydHksIGRlZikge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJvcGVydHlbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYmcubGVuZ3RoIDwgcHJvcGVydHkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuc3BsaWNlKGJnLmxlbmd0aCAtIDEsIHByb3BlcnR5Lmxlbmd0aCAtIHBhdGgubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnZmlsbCcsICdyZ2JhKDAsMCwwLDEpJyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDb2xvckhlbHBlci5hcnJheVRvQ29sb3IodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5tb3JwaCgnZmlsbCcsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnZmlsbCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChjb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYXZhbGlkIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ2ZpbGwnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQoTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQ29sb3JIZWxwZXIubm9ybWFsaXplKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ2JnJywgW10sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLmlzU3ByaXRlU3RyaW5nKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBNb2RlbEhlbHBlci5yZWFkU3ByaXRlU3RyaW5nKHZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA9IFJlc291cmNlLnNwcml0ZShkYXRhLnVybCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuY29uZmlnKGRhdGEuZnJhbWVzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3Jlc291cmNlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbUmVzb3VyY2UuaW1hZ2UodmFsdWUpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiB8fCB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMiAmJiB0eXBlb2YgdmFsdWVbMF0gPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgdmFsdWVbMV0gPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzFdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IFJlc291cmNlLnNwcml0ZSh2YWx1ZVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuY29uZmlnKHZhbHVlWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3Jlc291cmNlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci5pc1Nwcml0ZVN0cmluZyh2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gTW9kZWxIZWxwZXIucmVhZFNwcml0ZVN0cmluZyh2YWx1ZVtpXSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UgPSBSZXNvdXJjZS5zcHJpdGUoZGF0YS51cmwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmNvbmZpZyhkYXRhLmZyYW1lcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goUmVzb3VyY2UuaW1hZ2UodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJvYmplY3RcIiAmJiB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0ubGVuZ3RoID09IDIgJiYgdHlwZW9mIHZhbHVlW2ldWzBdID09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHZhbHVlW2ldWzFdID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXVsxXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBSZXNvdXJjZS5zcHJpdGUodmFsdWVbaV1bMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmNvbmZpZyh2YWx1ZVtpXVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocmVzb3VyY2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsOiB2YWx1ZVtpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaTogaVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICdbe2l9XVt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmcgdmFsdWUuIFNraXBwZWQuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV0sIGk6IGl9LCAnW3tpfV1be3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJnIHZhbHVlLiBTa2lwcGVkJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PSBcIm9iamVjdFwiICYmIHZhbHVlW2ldLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV1bMF0gPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgdmFsdWVbaV1bMV0gPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc291cmNlID0gUmVzb3VyY2Uuc3ByaXRlKHZhbHVlW2ldWzBdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5jb25maWcodmFsdWVbaV1bMV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJlc291cmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV0sIGk6IGl9LCAnW3tpfV1be3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJnIGFycmF5IHZhbHVlLicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW2ldID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLmlzU3ByaXRlU3RyaW5nKHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBNb2RlbEhlbHBlci5yZWFkU3ByaXRlU3RyaW5nKHZhbHVlW2ldKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA9IFJlc291cmNlLnNwcml0ZShkYXRhLnVybCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuY29uZmlnKGRhdGEuZnJhbWVzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChSZXNvdXJjZS5pbWFnZSh2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldLCBpOiBpfSwgJ1t7aX1dW3t2YWx9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgYmcuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgdmFsaWQgdmFsdWUgZm9yIGJnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0udHlwZSA9PSAnSW1hZ2UnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXS51cmwoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWVbaV0udHlwZSA9PSAnU3ByaXRlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0udXJsKCkgKyAnWycgKyB2YWx1ZVtpXS5mcmFtZXMoKSArICddJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbDogdmFsdWVbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGk6IGlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICsgJ1t7aX1dW3t2YWx9XSBVbmtub3duIHR5cGUgb2YgdGhlIGJhY2tncm91bmQgb2JqZWN0IGNvbnRhaW5lci4gQ3JpdGljYWwgZXJyb3IuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZGVmQmdQb3N2YWwgPSBbMCwgMF07XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMiwgJ2JnUG9zaXRpb24nLCBbZGVmQmdQb3N2YWxdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZyA9IHN0eWxlLmdldCgnYmcnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlcyA9IFt2YWx1ZVswXSwgdmFsdWVbMV1dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChfcmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb24gPSBzdHlsZS5nZXQoJ2JnUG9zaXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkgJiYgdmFsdWVbaV0ubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFt2YWx1ZVswXSwgdmFsdWVbMV1dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZ3Bvc2l0aW9uW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYmdwb3NpdGlvbltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZkJnUG9zdmFsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaTogaSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWw6IHZhbHVlW2ldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAnW3tpfV1be3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJncG9zaXRpb24gdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJncG9zaXRpb25baV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJncG9zaXRpb25baV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheShkZWZCZ1Bvc3ZhbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmcgPSBzdHlsZS5nZXQoJ2JnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9uID0gc3R5bGUuZ2V0KCdiZ1Bvc2l0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmdwb3NpdGlvbltpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljVmFsdWUoKSAmJiB2YWx1ZVtpXS5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW3ZhbHVlWzBdLCB2YWx1ZVsxXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYmdwb3NpdGlvbltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpOiBpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbDogdmFsdWVbaV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICdbe2l9XVt7dmFsfV0gaXMgbm90IGEgdmFsaWQgYmdwb3NpdGlvbiB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZkJnUG9zdmFsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJncG9zaXRpb25baV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYmdwb3NpdGlvbltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZkJnUG9zdmFsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJncG9zaXRpb24gdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgdmFyIGRlZkJnU2l6ZVZhbCA9IFsxLCAxXTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnYmdTaXplJywgW2RlZkJnU2l6ZVZhbF0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAyICYmIE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJnID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXMgPSBbdmFsdWVbMF0sIHZhbHVlWzFdXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goX3JlcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJnID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnc2l6ZSA9IHN0eWxlLmdldCgnYmdTaXplJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXS5sZW5ndGggPT0gMiAmJiBNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV1bMF0sIHZhbHVlW2ldWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZ3NpemVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJnc2l6ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZkJnU2l6ZVZhbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV0sIGk6IGl9LCAnW3tpfV1be3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJnc2l6ZSB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZyA9IHN0eWxlLmdldCgnYmcnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnc2l6ZSA9IHN0eWxlLmdldCgnYmdTaXplJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT0gXCJvYmplY3RcIiAmJiB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0ubGVuZ3RoID09IDIgJiYgTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbdmFsdWVbaV1bMF0sIHZhbHVlW2ldWzFdXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmdzaXplW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYmdzaXplW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkoZGVmQmdTaXplVmFsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldLCBpOiBpfSwgJ1t7aX1dW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBiZ3NpemUgdmFsdWUuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZ3NpemVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJnc2l6ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZkJnU2l6ZVZhbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV0sIGk6IGl9LCAnW3tpfV1be3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGJnc2l6ZSB2YWx1ZS4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmdzaXplW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJnc2l6ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KGRlZkJnU2l6ZVZhbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53YXRjaCgnYmcnLCBmdW5jdGlvbiAobywgbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG8ubGVuZ3RoICE9PSBuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFN5bmNCZ1Byb3BlcnR5KG4sIHN0eWxlLmdldCgnYmdQb3NpdGlvbicpLCBkZWZCZ1Bvc3ZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgU3luY0JnUHJvcGVydHkobiwgc3R5bGUuZ2V0KCdiZ1NpemUnKSwgZGVmQmdTaXplVmFsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAyLzgvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWycrTW9kZWwnLFxyXG4gICAgICAgIGZ1bmN0aW9uIEdsb2JhbFNpemVNb2RlbChNb2RlbEhlbHBlcikge1xyXG5cclxuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHRoaXMuZXh0ZW5zaW9uKCdBbmltYXRpb24nKSxcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3NpemUnLCAxLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3NpemUnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChbdmFsdWUsIHZhbHVlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVswXSA8IDApIHZhbHVlWzBdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVsxXSA8IDApIHZhbHVlWzFdID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdzaXplJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCB2YWxpZCB2YWx1ZSBmb3Igc2l6ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgdmFsaWQgdmFsdWUgZm9yIHNpemUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlWzBdIDwgMCkgdmFsdWVbMF0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVsxXSA8IDApIHZhbHVlWzFdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ3NpemUnLCBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlLCB2YWx1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMiAmJiBNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVswXSA8IDApIHZhbHVlWzBdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVsxXSA8IDApIHZhbHVlWzFdID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLCB2YWx1ZVsxXV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IHZhbGlkIHZhbHVlIGZvciBzaXplIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IHZhbGlkIHZhbHVlIGZvciBzaXplIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjYvMjAxNi5cclxuICovXHJcblxyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGV4dGVuZCcsXHJcbiAgICAgICAgZnVuY3Rpb24gR3JvdXBPYmplY3RNb2RlbChleHRlbmQpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRPYmplY3RNb2RlbCcpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTMvMjAxNy5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ09iamVjdHMnLFxyXG4gICAgWydAZXh0ZW5kJywgJ0RlYnVnJyxcclxuICAgICAgICBmdW5jdGlvbiBJbWFnZU9iamVjdE1vZGVsKGV4dGVuZCwgRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRPYmplY3RNb2RlbCcpO1xyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyRHbG9iYWxTaXplTW9kZWwnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZXh0ZW5zaW9uKCdTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdzcmMnLCBudWxsLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBzcmMgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNi8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BleHRlbmQnLCAnK01vZGVsJywgJytQYXRoJywgJytDb2xvcicsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gTGluZU9iamVjdE1vZGVsKGV4dGVuZCwgTW9kZWxIZWxwZXIsIFBhdGhIZWxwZXIsIENvbG9ySGVscGVyLCBEZWJ1Zykge1xyXG5cclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdE9iamVjdE1vZGVsJyk7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJERlZmF1bHRGcmVlU3Ryb2tlTW9kZWwnKTtcclxuXHJcbiAgICAgICAgICAgIC8vVE9ETzogQWRkIGFuaW1hdGlvbiBtb3JwaHMhIVxyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTeW5jUGF0aFByb3BlcnR5KHBhdGgsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXByb3BlcnR5W2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnB1c2gocHJvcGVydHlbcHJvcGVydHkubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAncGF0aCcsIFtbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF1dLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBhdGhIZWxwZXIuY2hlY2tTaW1wbGVQYXRoKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkID0gc3R5bGUuZ2V0KCdwYXRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBQYXRoSGVscGVyLmNvbnZlcnRTaW1wbGVQYXRoKHZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGQubGVuZ3RoICE9PSByZXN1bHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeW5jUGF0aFByb3BlcnR5KHJlc3VsdCwgc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN5bmNQYXRoUHJvcGVydHkocmVzdWx0LCBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3luY1BhdGhQcm9wZXJ0eShyZXN1bHQsIHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKCdMaW5lIE1vZGVsIC8gSW52YWxpZCB2YWx1ZSBmb3IgcGF0aCEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUGF0aEhlbHBlci5jb252ZXJ0Q29tcGxleFBhdGgodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMS8yMDE3LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnT2JqZWN0cycsXHJcbiAgICBbJ0BleHRlbmQnLCAnK01vZGVsJywgJytDb2xvcicsICdEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gUmVjdGFuZ2xlT2JqZWN0TW9kZWwoZXh0ZW5kLCBNb2RlbEhlbHBlciwgQ29sb3JIZWxwZXIsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0TW9kZWwnKTtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckR2xvYmFsQmFja2dyb3VuZE1vZGVsJyk7XHJcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCAnJEdsb2JhbFNpemVNb2RlbCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5leHRlbnNpb24oJ1N0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24gPSB0aGlzLmV4dGVuc2lvbignQW5pbWF0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMCwgJ3JhZGl1cycsIFswLCAwLCAwLCAwXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWUsIHZhbHVlLCB2YWx1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNYXRoLnJvdW5kKHZhbHVlW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBbXSwgb2xkID0gdGhpcy5zdHlsZSgncmFkaXVzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFtpXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwucHVzaChyZXN1bHRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsLnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZCA9IHN0eWxlLmdldCgncmFkaXVzJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbC5wdXNoKE1hdGgucm91bmQodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3JhZGl1cycsIDEsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgncmFkaXVzJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQoW3ZhbHVlLCB2YWx1ZSwgdmFsdWUsIHZhbHVlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkID0gdGhpcy5zdHlsZSgncmFkaXVzJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KG9sZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQucHVzaCgwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKE1hdGgucm91bmQodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCh0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAne3Z9IGlzIG5vdCBhIHZhbGlkIHJhZGl1cyB2YWx1ZSBmb3IgcmVjdGFuZ2xlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnc3Ryb2tlQ29sb3InLCBbJ3JnYmEoMCwwLDAsMSknLCAncmdiYSgwLDAsMCwxKScsICdyZ2JhKDAsMCwwLDEpJywgJ3JnYmEoMCwwLDAsMSknXSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsdWU6IHZhbH0sICcgW3t2YWx9IGlzIG5vdCBhIHZhbGlkIHN0cm9rZSBzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlIGNvbG9yIHZhbHVlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChDb2xvckhlbHBlci5hcnJheVRvQ29sb3IodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlIGNvbG9yIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBjb2xvciB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KGkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuY29sb3JUb0FycmF5KHZhbHVlW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBjb2xvciB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChDb2xvckhlbHBlci5hcnJheVRvQ29sb3IodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3IgdmFsdWUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlW2ldfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3IgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZUNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdzdHJva2VDb2xvcicsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKFtNb2RlbEhlbHBlci5jbG9uZUFycmF5KGNvbG9yKSwgTW9kZWxIZWxwZXIuY2xvbmVBcnJheShjb2xvciksIE1vZGVsSGVscGVyLmNsb25lQXJyYXkoY29sb3IpLCBNb2RlbEhlbHBlci5jbG9uZUFycmF5KGNvbG9yKV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc3Ryb2tlQ29sb3InKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICd7dn0gaXMgbm90IGEgdmFsaWQgY29sb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKFtNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KHRoaXMuc3R5bGUoJ3N0cm9rZUNvbG9yJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1dXJlbnQgPSB0aGlzLnN0eWxlKCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXVyZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcIm9iamVjdFwiICYmIHZhbHVlW2ldLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0gJiYgQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50W2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydChjdXVyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VDb2xvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuc3R5bGUoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJlbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZVtpXS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29sb3JIZWxwZXIuaXNDb2xvcih2YWx1ZVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50W2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQoY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VDb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENvbG9ySGVscGVyLm5vcm1hbGl6ZSh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnc3Ryb2tlV2lkdGgnLCBbMSwgMSwgMSwgMV0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGQgPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnIFt7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlIHdpZHRoIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzdHJva2VXaWR0aCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJyBbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVdpZHRoIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoKCdzdHJva2VXaWR0aCcsIDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZChbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc3Ryb2tlV2lkdGgnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLnN0eWxlKCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJlbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSAmJiB0eXBlb2YgdmFsdWVbaV0gPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQoY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuc3R5bGUoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJlbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSAmJiB0eXBlb2YgdmFsdWVbaV0gPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KGN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnIFt7dn1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVdpZHRoIG9iamVjdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICcgW3t2fV0gaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHN0cm9rZVdpZHRoJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDAsICdzdHJva2VTdHlsZScsIFtbMSwgMF0sIFsxLCAwXSwgWzEsIDBdLCBbMSwgMF1dLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlLCB2YWx1ZSwgdmFsdWUsIHZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJyBbe3Z9XSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3Igc3Ryb2tlIHdpZHRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZVtpXSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWVbaV19LCAnIFt7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlIHN0eWxlIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KGkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gPT09IFwib2JqZWN0XCIgJiYgdmFsdWVbaV0uY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWVbaV0pICYmIHZhbHVlW2ldLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWVbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9sZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZVtpXX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHN0cm9rZVN0eWxlIHZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2F0Y2goe3ZhbDogdmFsdWVbaV19LCAnIFt7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGUgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2xkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICcgW3t2YWx9XSBpcyBub3QgdmFsaWQgc3Ryb2tlU3R5bGUgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ3N0cm9rZVN0eWxlJywgMCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLnZhbGlkTnVtZXJpY0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnc3Ryb2tlU3R5bGUnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSwgTW9kZWxIZWxwZXIuY2xvbmVBcnJheSh2YWx1ZSksIE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpLCBNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICcgW3t2fV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGUgdmFsdWUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLnN0eWxlKCdzdHJva2VTdHlscicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSAmJiBNb2RlbEhlbHBlci52YWxpZE51bWVyaWNBcnJheSh2YWx1ZVtpXSkgJiYgdmFsdWVbaV0ubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlW2ldKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQoY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGUgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuc3R5bGUoJ3N0cm9rZVN0eWxlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJlbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0gJiYgTW9kZWxIZWxwZXIudmFsaWROdW1lcmljQXJyYXkodmFsdWVbaV0pICYmIHZhbHVlW2ldLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChNb2RlbEhlbHBlci5jbG9uZUFycmF5KHZhbHVlW29dKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KGN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgc3Ryb2tlU3R5bGVWYWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSB2YWxpZCBzdHJva2VTdHlsZVZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG5cclxuXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxLzEzLzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGV4dGVuZCcsICcrTW9kZWwnLCAnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIFNwcml0ZU9iamVjdE1vZGVsKGV4dGVuZCwgTW9kZWxIZWxwZXIsIERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICBleHRlbmQodGhpcywgJyREZWZhdWx0T2JqZWN0TW9kZWwnKTtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckR2xvYmFsU2l6ZU1vZGVsJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgwLCAnc3JjJywgbnVsbCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGVsSGVscGVyLmlzU3ByaXRlU3RyaW5nKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzcHJpdGUgc3JjJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVswXSA9PSBcInN0cmluZ1wiICYmIHR5cGVvZiB2YWx1ZVsxXSA9PSBcIm51bWJlclwiICYmIHZhbHVlWzFdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlWzBdICsgJ1snICsgdmFsdWVbMV0gKyAnXSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3ByaXRlIHNyYycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgc3ByaXRlIHNyYycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFZpa3RvciBLaG9kb3NldmljaCBvbiAzLzI1LzIwMTcuXHJcbiAqL1xyXG4kUi5zZXJ2aWNlLmNsYXNzKCdPYmplY3RzJyxcclxuICAgIFsnQGV4dGVuZCcsICcrTW9kZWwnLCAnK0NvbG9yJywgJ0RlYnVnJywgJ0BGb250cycsXHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dE9iamVjdE1vZGVsKGV4dGVuZCwgTW9kZWxIZWxwZXIsIENvbG9ySGVscGVyLCBEZWJ1ZywgRm9udHMpIHtcclxuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsICckRGVmYXVsdE9iamVjdE1vZGVsJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIHRleHQgPSB0aGlzLmV4dGVuc2lvbignVGV4dCcpLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gdGhpcy5leHRlbnNpb24oJ0FuaW1hdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnc2l6ZScsIFsnYXV0bycsICdhdXRvJ10sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlID09PSAnYXV0bycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC5saW1pdHMoSW5maW5pdHksIEluZmluaXR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWVdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC5saW1pdHModmFsdWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5ICYmIHZhbHVlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgdmFsdWVbaV0gIT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHZhbHVlW2ldICE9PSBcIm51bWJlclwiKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgdmFsdWVbaV0gPT09IFwic3RyaW5nXCIgJiYgdmFsdWVbaV0gIT09ICdhdXRvJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbMF0gPT09IFwibnVtYmVyXCIgJiYgdmFsdWVbMF0gPCAwKSB2YWx1ZVswXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlWzFdID09PSBcIm51bWJlclwiICYmIHZhbHVlWzFdIDwgMCkgdmFsdWVbMV0gPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQubGltaXRzKHZhbHVlWzBdID09PSAnYXV0bycgPyBJbmZpbml0eSA6IHZhbHVlWzBdLCB2YWx1ZVsxXSA9PT0gJ2F1dG8nID8gSW5maW5pdHkgOiB2YWx1ZVsxXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZVswXSwgdmFsdWVbMV1dXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgc2l6ZSBhcnJheScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3Y6IHZhbHVlfSwgJ1t7dn1dIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBzaXplJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWVbMF0sIHZhbHVlWzFdXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnc3RyJywgJycsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3lzdGVtRm9udCA9ICdzYW5zLXNlcmlmJztcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnZm9udCcsICdzYW5zLXNlcmlmJyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3lzdGVtRm9udCA9IEZvbnRzLmZvcm1hdCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zdHlsZSgnc3lzdGVtRm9udCcsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxlLmRlZmluZSgxLCAnc3lzdGVtRm9udCcsIHN5c3RlbUZvbnQsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN5c3RlbUZvbnQ7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzeXN0ZW1Gb250O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICd3ZWlnaHQnLCA0MDAsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDEwMCkgdmFsdWUgPSAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDkwMCkgdmFsdWUgPSA5MDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgJSAxMDAgIT09IDApIHZhbHVlID0gdmFsdWUgLSAodmFsdWUgJSAxMDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBzdHlsZS5kZWZpbmUoMSwgJ3N0eWxlJywgJ25vcm1hbCcsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmICh2YWx1ZSA9PT0gJ25vcm1hbCcgfHwgdmFsdWUgPT09ICdpdGFsaWMnIHx8IHZhbHVlID09PSAnb2JsaXF1ZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdsaW5lSGVpZ2h0JywgMTQsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdmb250U2l6ZScsIDE0LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdjb2xvcicsICdyZ2JhKDAsMCwwLDEpJyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLndhcm4oe3ZhbDogdmFsdWV9LCAnW3t2YWx9XSBpcyBub3QgYSB2YWxpZCBjb2xvciEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb2xvckhlbHBlci5pc0NvbG9yKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbG9ySGVscGVyLmFycmF5VG9Db2xvcih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2YWw6IHZhbHVlfSwgJ1t7dmFsfV0gaXMgbm90IGEgdmFsaWQgY29sb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7dmFsOiB2YWx1ZX0sICdbe3ZhbH1dIGlzIG5vdCBhIHZhbGlkIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDb2xvckhlbHBlci5jb2xvclRvQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc3R5bGUuZGVmaW5lKDEsICdhbGlnbicsICdsZWZ0JyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gJ2NlbnRlcicgfHwgdmFsdWUgPT09ICdsZWZ0JyB8fCB2YWx1ZSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYSBwcm9wZXIgdmFsdWUgZm9yIGFsaW5nIHRleHQgcHJvcGVydHknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGgoJ2NvbG9yJywgMSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IENvbG9ySGVscGVyLmNvbG9yVG9BcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQodGhpcy5zdHlsZSgnZmlsbCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZChjb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy53YXJuKHt2OiB2YWx1ZX0sICdbe3Z9XSBpcyBub3QgYXZhbGlkIGNvbG9yIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbG9ySGVscGVyLmlzQ29sb3IodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0aGlzLnN0eWxlKCdmaWxsJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKE1vZGVsSGVscGVyLmNsb25lQXJyYXkodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2Fybih7djogdmFsdWV9LCAnW3t2fV0gaXMgbm90IGEgdmFsaWQgY29sb3IhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIENvbG9ySGVscGVyLm5vcm1hbGl6ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMTIvMjUvMjAxNi5cclxuICovXHJcbiRSLnNlcnZpY2UuY2xhc3MoJ1NvdW5kJyxcclxuICAgIFsnK0FuaW1hdGlvbicsICdNb3JwaGluZScsXHJcbiAgICAgICAgZnVuY3Rpb24gQW5pbWF0aW9uKEFuaW1hdGlvbkhlbHBlciwgTW9ycGhpbmUpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBwcm9ncmVzcyA9IDAsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgZG9uZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc3RhY2sgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgbW9ycGhpbmUgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHN0ZXBzQ2IgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgcXVldWUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY2xlYXIgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3RlcFR5cGVTdHIgPSAndHlwZScsXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZVR5cGVTdHIgPSAnY29tcGxldGUnLFxyXG4gICAgICAgICAgICAgICAgY29uZmlnID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFJlc29sdmUodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gc3RlcFR5cGVTdHIpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGVwc0NiLmhhc093blByb3BlcnR5KHN0YWNrW2ldLm1vcnBoLnByb3BlcnR5KCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwc0NiW3N0YWNrW2ldLm1vcnBoLnByb3BlcnR5KCldLmFwcGx5KHRhcmdldCwgW3Byb2dyZXNzLCBzdGFja1tpXS5yZXN1bHRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gY29tcGxldGVUeXBlU3RyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHNbc3RhY2tbaV0ubW9ycGgucHJvcGVydHkoKV0gPSBzdGFja1tpXS5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5kb25lKDEsIHJlc3VsdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5xdWV1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBxdWV1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZG9uZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkb25lO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5oYXNQcm9wZXJ0eSA9IGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IDA7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrW2ldLm1vcnBoLnByb3BlcnR5KCkgPT0gcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gaSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheS5wdXNoKHN0YWNrW2ldLm1vcnBoLnByb3BlcnR5KCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmhhc1Byb3BlcnR5KHByb3BlcnR5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBpbmRleCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnNwbGljZShpbmRleCwgMSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFjayA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBfc3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vcnBoID0gc3RhY2tbaV0ubW9ycGguZ2V0KHN0YWNrW2ldLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vcnBoICE9PSB1bmRlZmluZWQgJiYgbW9ycGguc3RhcnQoKSAhPT0gZmFsc2UgJiYgbW9ycGguZW5kKCkgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdGFjay5wdXNoKHN0YWNrW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc3RhY2sgPSBfc3RhY2s7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHRpY2tfZnVuY3Rpb24gPSBBbmltYXRpb25IZWxwZXIuZ2V0VGlja0Z1bmN0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbW9ycGhpbmUgPSBNb3JwaGluZS5jcmVhdGUoMCwgMSwgZnVuY3Rpb24gKGNvbXBsZXRlLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFjay5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvbHZlKGNvbXBsZXRlVHlwZVN0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoaW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrW2ldLnJlc3VsdCA9IHRpY2tfZnVuY3Rpb24odmFsdWUsIHN0YWNrW2ldLm1vcnBoLnN0YXJ0KCksIHN0YWNrW2ldLm1vcnBoLmVuZCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrW2ldLm1vcnBoLmFwcGx5KGNvbXBsZXRlLCBzdGFja1tpXS5yZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvbHZlKHN0ZXBUeXBlU3RyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXNvbHZlKGNvbXBsZXRlVHlwZVN0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgZWFzaW5nLCBkdXJhdGlvbiwgMCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGZ1bmN0aW9uICh0LCBtLCBjZmcsIGYpIHtcclxuICAgICAgICAgICAgICAgIEFuaW1hdGlvbkhlbHBlci5ub3JtYWxpemVDb25maWcoY2ZnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IGNmZy5kdXJhdGlvbjtcclxuXHJcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSBjZmcuZWFzaW5nO1xyXG5cclxuICAgICAgICAgICAgICAgIHN0ZXBzQ2IgPSBjZmcuc3RlcDtcclxuXHJcbiAgICAgICAgICAgICAgICBxdWV1ZSA9IGNmZy5xdWV1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBjbGVhciA9IGY7XHJcblxyXG4gICAgICAgICAgICAgICAgc3RhY2sgPSBtO1xyXG5cclxuICAgICAgICAgICAgICAgIHRhcmdldCA9IHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uZmlnID0gY2ZnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yNS8yMDE2LlxyXG4gKi9cclxuJFIuc2VydmljZS5jbGFzcygnU291bmQnLFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gTW9ycGgoRGVidWcpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzZXR0ZXIgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgZ2V0dGVyID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGFwcGxpZXIgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3RhcnQsIGVuZCxcclxuICAgICAgICAgICAgICAgIG9iamVjdCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgb3JkZXJpbmcgPSAwO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gU2V0U3RhcnRWYWx1ZSh2YWwpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTZXRFbmRWYWx1ZSh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGVuZCA9IHZhbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGFydDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVuZDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcGVydHk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9yZGVyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yZGVyaW5nO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHNldHRlci5hcHBseShvYmplY3QsIFtTZXRTdGFydFZhbHVlLCBTZXRFbmRWYWx1ZSwgdmFsdWVdKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy52YWxpZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWxpZDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHkgPSBmdW5jdGlvbiAocHJvZ3Jlc3MsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QuZmlsdGVyKHByb3BlcnR5LCBhcHBsaWVyLmFwcGx5KG9iamVjdCwgW3ZhbHVlLCBwcm9ncmVzc10pKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gZnVuY3Rpb24gKG5hbWUsIG9iaiwgb3JkLCBzZXQsIGFwbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnMSBbe25hbWV9XSBpcyBub3QgYSBzdHJpbmchJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmczIGlzIG5vdCBhbiBvYmplY3QhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXQgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKHtuYW1lOiBuYW1lfSwgJ1VuYWJsZSB0byBjb25maWcgTW9ycGguIGFyZzQgaXMgbm90IGEgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcmQgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdVbmFibGUgdG8gY29uZmlnIE1vcnBoLiBhcmcyIGlzIG5vdCBhIG51bWJlciEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFwbCAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3Ioe25hbWU6IG5hbWV9LCAnVW5hYmxlIHRvIGNvbmZpZyBNb3JwaC4gYXJnNSBpcyBub3QgYSBmdW5jdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvcGVydHkgPSBuYW1lO1xyXG4gICAgICAgICAgICAgICAgc2V0dGVyID0gc2V0O1xyXG4gICAgICAgICAgICAgICAgYXBwbGllciA9IGFwbDtcclxuICAgICAgICAgICAgICAgIG9yZGVyaW5nID0gb3JkO1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gb2JqO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICBdXHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5oZWxwZXIuc3lzdGVtKFxyXG4gICAgZnVuY3Rpb24gQW5pbWF0aW9uKCkge1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBUaWNrVmFsKGNvbXBsZXRlLCBwcm9ncmVzcywgc3RhcnQsIGVuZCkge1xyXG4gICAgICAgICAgICB2YXIgbG9jcyA9IGZhbHNlLCBsb2NlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09IFwiZnVuY3Rpb25cIikgbG9jcyA9IHN0YXJ0KCk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZW5kID09PSBcImZ1bmN0aW9uXCIpIGxvY2UgPSBlbmQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzdGFydC5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhcnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChUaWNrVmFsKGNvbXBsZXRlLCBwcm9ncmVzcywgc3RhcnRbaV0sIGVuZFtpXSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gc3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRbcHJvcF0gPSBUaWNrVmFsKGNvbXBsZXRlLCBwcm9ncmVzcywgc3RhcnRbcHJvcF0sIGVuZFtwcm9wXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHN0YXJ0ID09PSAnbnVtYmVyJyB8fCB0eXBlb2Ygc3RhcnQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbmR2YWwgPSBsb2NlID09PSBmYWxzZSA/IGVuZCA6IGxvY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnR2YWwgPSBsb2NzID09PSBmYWxzZSA/IHN0YXJ0IDogbG9jcyxcclxuICAgICAgICAgICAgICAgICAgICBkaWZmZXJlbmNlID0gZW5kdmFsIC0gc3RhcnR2YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gc3RhcnR2YWwgKyAoZGlmZmVyZW5jZSAqIGNvbXBsZXRlKTtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcyA+PSAxKSByZXN1bHQgPSBlbmR2YWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubm9ybWFsaXplQ29uZmlnID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgICAgICBjb25maWcuZHVyYXRpb24gPSB0eXBlb2YgY29uZmlnLmR1cmF0aW9uID09PSBcIm51bWJlclwiICYmIGNvbmZpZy5kdXJhdGlvbiA+IDAgPyBjb25maWcuZHVyYXRpb24gOiAxMDAwO1xyXG4gICAgICAgICAgICBjb25maWcucXVldWUgPSAhIWNvbmZpZy5xdWV1ZTtcclxuICAgICAgICAgICAgY29uZmlnLnN0ZXAgPSB0eXBlb2YgY29uZmlnLnN0ZXAgPT09IFwib2JqZWN0XCIgPyBjb25maWcuc3RlcCA6IHt9O1xyXG4gICAgICAgICAgICBjb25maWcuZWFzaW5nID0gdHlwZW9mIGNvbmZpZy5lYXNpbmcgPT09ICdzdHJpbmcnID8gY29uZmlnLmVhc2luZyA6ICdsaW5lYXInO1xyXG4gICAgICAgICAgICBjb25maWcuZG9uZSA9IHR5cGVvZiBjb25maWcuZG9uZSA9PT0gXCJmdW5jdGlvblwiID8gY29uZmlnLmRvbmUgOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRUaWNrRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBUaWNrVmFsO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgfSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEvMTAvMjAxNy5cclxuICovXHJcbiRSLmhlbHBlci5zeXN0ZW0oXHJcbiAgICBmdW5jdGlvbiBDb2xvcigpIHtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gTm9ybWFsaXplQ29sb3JBcnJheShhcnJheSkge1xyXG4gICAgICAgICAgICBpZiAoYXJyYXkgIT09IGZhbHNlICYmIGFycmF5ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheVtpXSA9IGFycmF5W2ldIDw9IDI1NSA/IGFycmF5W2ldIDogMjU1O1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2ldID0gYXJyYXlbaV0gPj0gMCA/IGFycmF5W2ldIDogMDtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheVtpXSA9IChpICE9PSAzICYmIGFycmF5W2ldICE9PSAwKSA/IHBhcnNlSW50KGFycmF5W2ldKSA6IGFycmF5W2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2ldID0gKChpID09IDMpICYmIGFycmF5W2ldKSA8PSAxID8gYXJyYXlbaV0gOiAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2ldID0gTWF0aC5hYnMoYXJyYXlbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBQYXJzZUNvbG91cihjb2xvcikge1xyXG4gICAgICAgICAgICB2YXIgY2FjaGVcclxuICAgICAgICAgICAgICAgICwgcCA9IHBhcnNlSW50IC8vIFVzZSBwIGFzIGEgYnl0ZSBzYXZpbmcgcmVmZXJlbmNlIHRvIHBhcnNlSW50XHJcbiAgICAgICAgICAgICAgICAsIGNvbG9yID0gY29sb3IucmVwbGFjZSgvXFxzXFxzKi9nLCAnJykgLy8gUmVtb3ZlIGFsbCBzcGFjZXNcclxuICAgICAgICAgICAgOy8vdmFyXHJcblxyXG4gICAgICAgICAgICAvLyBDaGVja3MgZm9yIDYgZGlnaXQgaGV4IGFuZCBjb252ZXJ0cyBzdHJpbmcgdG8gaW50ZWdlclxyXG4gICAgICAgICAgICBpZiAoY2FjaGUgPSAvXiMoW1xcZGEtZkEtRl17Mn0pKFtcXGRhLWZBLUZdezJ9KShbXFxkYS1mQS1GXXsyfSkvLmV4ZWMoY29sb3IpKVxyXG4gICAgICAgICAgICAgICAgY2FjaGUgPSBbcChjYWNoZVsxXSwgMTYpLCBwKGNhY2hlWzJdLCAxNiksIHAoY2FjaGVbM10sIDE2KV07XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVja3MgZm9yIDMgZGlnaXQgaGV4IGFuZCBjb252ZXJ0cyBzdHJpbmcgdG8gaW50ZWdlclxyXG4gICAgICAgICAgICBlbHNlIGlmIChjYWNoZSA9IC9eIyhbXFxkYS1mQS1GXSkoW1xcZGEtZkEtRl0pKFtcXGRhLWZBLUZdKS8uZXhlYyhjb2xvcikpXHJcbiAgICAgICAgICAgICAgICBjYWNoZSA9IFtwKGNhY2hlWzFdLCAxNikgKiAxNywgcChjYWNoZVsyXSwgMTYpICogMTcsIHAoY2FjaGVbM10sIDE2KSAqIDE3XTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrcyBmb3IgcmdiYSBhbmQgY29udmVydHMgc3RyaW5nIHRvXHJcbiAgICAgICAgICAgIC8vIGludGVnZXIvZmxvYXQgdXNpbmcgdW5hcnkgKyBvcGVyYXRvciB0byBzYXZlIGJ5dGVzXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNhY2hlID0gL15yZ2JhXFwoKFtcXGRdKyksKFtcXGRdKyksKFtcXGRdKyksKFtcXGRdK3xbXFxkXSouW1xcZF0rKVxcKS8uZXhlYyhjb2xvcikpXHJcbiAgICAgICAgICAgICAgICBjYWNoZSA9IFsrY2FjaGVbMV0sICtjYWNoZVsyXSwgK2NhY2hlWzNdLCArY2FjaGVbNF1dO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2tzIGZvciByZ2IgYW5kIGNvbnZlcnRzIHN0cmluZyB0b1xyXG4gICAgICAgICAgICAvLyBpbnRlZ2VyL2Zsb2F0IHVzaW5nIHVuYXJ5ICsgb3BlcmF0b3IgdG8gc2F2ZSBieXRlc1xyXG4gICAgICAgICAgICBlbHNlIGlmIChjYWNoZSA9IC9ecmdiXFwoKFtcXGRdKyksKFtcXGRdKyksKFtcXGRdKylcXCkvLmV4ZWMoY29sb3IpKVxyXG4gICAgICAgICAgICAgICAgY2FjaGUgPSBbK2NhY2hlWzFdLCArY2FjaGVbMl0sICtjYWNoZVszXV07XHJcblxyXG4gICAgICAgICAgICAvLyBPdGhlcndpc2UgdGhyb3cgYW4gZXhjZXB0aW9uIHRvIG1ha2UgZGVidWdnaW5nIGVhc2llclxyXG4gICAgICAgICAgICBlbHNlIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vIFBlcmZvcm1zIFJHQkEgY29udmVyc2lvbiBieSBkZWZhdWx0XHJcbiAgICAgICAgICAgIGlzTmFOKGNhY2hlWzNdKSAmJiAoY2FjaGVbM10gPSAxKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZHMgb3IgcmVtb3ZlcyA0dGggdmFsdWUgYmFzZWQgb24gcmdiYSBzdXBwb3J0XHJcbiAgICAgICAgICAgIC8vIFN1cHBvcnQgaXMgZmxpcHBlZCB0d2ljZSB0byBwcmV2ZW50IGVycm9zIGlmXHJcbiAgICAgICAgICAgIC8vIGl0J3Mgbm90IGRlZmluZWRcclxuICAgICAgICAgICAgcmV0dXJuIE5vcm1hbGl6ZUNvbG9yQXJyYXkoY2FjaGUuc2xpY2UoMCwgNCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb2xvclRvQXJyYXkgPSBQYXJzZUNvbG91cjtcclxuICAgICAgICB0aGlzLm5vcm1hbGl6ZSA9IE5vcm1hbGl6ZUNvbG9yQXJyYXk7XHJcbiAgICAgICAgdGhpcy5pc0NvbG9yID0gZnVuY3Rpb24gKGFycmF5KSB7XHJcbiAgICAgICAgICAgIHZhciBlcnJvciA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoYXJyYXkubGVuZ3RoID09IDQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWxlcnJvciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJyYXlbaV0gPT0gJ251bWJlcicgfHwgdHlwZW9mIGFycmF5W2ldID09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgIGFycmF5W2ldID09ICdzdHJpbmcnICYmIGlzTmFOKGFycmF5W2ldICogMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignU2lsayA6IENoZWNrIGZvciBjb2xvciB1bnN1Y2Nlc3NmdWwuIFwiJyArIGFycmF5ICsgJ1wiIGlzIG5vdCBhIGNvbG9yIEFycmF5LicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAhZXJyb3I7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5hcnJheVRvQ29sb3IgPSBmdW5jdGlvbiAoYXJyYXkpIHtcclxuICAgICAgICAgICAgaWYgKGFycmF5ICYmIGFycmF5Lmxlbmd0aCA9PSA0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RyaW5nID0gJ3JnYmEoJztcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gaSA9PSAzID8gYXJyYXlbaV0gKyAnKScgOiBhcnJheVtpXSArICcsJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Vua25vd24gSW5wdXQgYXJyYXkgZm9ybWF0LiBTaG91bGQgYmUgW1IsRyxCLEFdOycpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSkiLCIvKipcclxuICogQ3JlYXRlZCBieSBieDdrdl8wMDAgb24gMS8xMC8yMDE3LlxyXG4gKi9cclxuJFIuaGVscGVyLnN5c3RlbShcclxuICAgIGZ1bmN0aW9uIERyYXdlcihEZWJ1Zykge1xyXG4gICAgICAgIHZhciB0ZXh0RHJhd2VyQ29udGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG4gICAgICAgIHRoaXMubWVhc3VyZVRleHQgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgICAgICB0ZXh0RHJhd2VyQ29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IGZ1bmModGV4dERyYXdlckNvbnRleHQpO1xyXG4gICAgICAgICAgICB0ZXh0RHJhd2VyQ29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IGZ1bmN0aW9uIChvYmplY3QsIGNvbnRleHQpIHtcclxuICAgICAgICAgICAgY29udGV4dC50cmFuc2Zvcm0uYXBwbHkoY29udGV4dCwgb2JqZWN0Lm1hdHJpeCgpLmV4dHJhY3QoKSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3TGluZUJnQ2xpcFBhdGggPSBmdW5jdGlvbiAoY29udGV4dCwgcGF0aCwgc3R5bGUsIGFzc2VtYmxlciwgc3ByaXRlKSB7XHJcbiAgICAgICAgICAgIHZhciBiZyA9IHN0eWxlLmdldCgnYmcnKSxcclxuICAgICAgICAgICAgICAgIGJnc2l6ZSA9IHN0eWxlLmdldCgnYmdTaXplJyksXHJcbiAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9uID0gc3R5bGUuZ2V0KCdiZ1Bvc2l0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHBhdGhbMF1bMF0sIHBhdGhbMF1bMV0pO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeDEgPSBwYXRoW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkxID0gcGF0aFtpXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICB4MiA9IHBhdGhbaV1bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgeTIgPSBwYXRoW2ldWzNdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHgyICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHgyLCB5Mik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuY2xpcCgpO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgYiA9IDA7IGIgPCBiZy5sZW5ndGg7IGIrKykge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghYmdbYl0ubG9hZGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBiZ1tiXS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZW1ibGVyLnVwZGF0ZSgnYmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBiZ3dpZHRoID0gYm94LnNpemVbMF0gKiBiZ3NpemVbYl1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJnaGVpZ2h0ID0gYm94LnNpemVbMV0gKiBiZ3NpemVbYl1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb254ID0gYm94LnNpemVbMF0gKiBiZ3Bvc2l0aW9uW2JdWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZ3Bvc2l0aW9ueSA9IGJveC5zaXplWzFdICogYmdwb3NpdGlvbltiXVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoc3ByaXRlLm1hcmdpblszXSArIGJncG9zaXRpb254LCBzcHJpdGUubWFyZ2luWzBdICsgYmdwb3NpdGlvbnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGJnW2ldLmV4cG9ydCgpLCAwLCAwLCBiZ3dpZHRoLCBiZ2hlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3QmV6aWVyQmdDbGlwUGF0aCA9IGZ1bmN0aW9uIChjb250ZXh0LCBwYXRoLCBzdHlsZSwgYXNzZW1ibGVyLCBzcHJpdGUpIHtcclxuICAgICAgICAgICAgdmFyIGJnID0gc3R5bGUuZ2V0KCdiZycpLFxyXG4gICAgICAgICAgICAgICAgYmdzaXplID0gc3R5bGUuZ2V0KCdiZ1NpemUnKSxcclxuICAgICAgICAgICAgICAgIGJncG9zaXRpb24gPSBzdHlsZS5nZXQoJ2JnUG9zaXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocGF0aFswXVswXSwgcGF0aFswXVsxXSk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHgxID0gcGF0aFtpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICB5MSA9IHBhdGhbaV1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgeDIgPSBwYXRoW2ldWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkyID0gcGF0aFtpXVszXSxcclxuICAgICAgICAgICAgICAgICAgICBheDEgPSBwYXRoW2ldWzRdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF5MSA9IHBhdGhbaV1bNV0sXHJcbiAgICAgICAgICAgICAgICAgICAgYXgyID0gcGF0aFtpXVs2XSxcclxuICAgICAgICAgICAgICAgICAgICBheTIgPSBwYXRoW2ldWzddO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHgyICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBwYXRoIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBheDEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mICBheDIgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIGF5MSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgIGF5MiAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdJbnZhbGlkIGN1cnZlIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKGF4MSwgYXkxLCBheDIsIGF5MiwgeDIsIHkyKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcclxuICAgICAgICAgICAgY29udGV4dC5jbGlwKCk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBiID0gMDsgYiA8IGJnLmxlbmd0aDsgYisrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFiZ1tiXS5sb2FkZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJnW2JdLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJnd2lkdGggPSBib3guc2l6ZVswXSAqIGJnc2l6ZVtiXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmdoZWlnaHQgPSBib3guc2l6ZVsxXSAqIGJnc2l6ZVtiXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmdwb3NpdGlvbnggPSBib3guc2l6ZVswXSAqIGJncG9zaXRpb25bYl1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJncG9zaXRpb255ID0gYm94LnNpemVbMV0gKiBiZ3Bvc2l0aW9uW2JdWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShzcHJpdGUubWFyZ2luWzNdICsgYmdwb3NpdGlvbngsIHNwcml0ZS5tYXJnaW5bMF0gKyBiZ3Bvc2l0aW9ueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoYmdbaV0uZXhwb3J0KCksIDAsIDAsIGJnd2lkdGgsIGJnaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd0xpbmVQYXRoRmlsbCA9IGZ1bmN0aW9uIChjb250ZXh0LCBwYXRoLCBzdHlsZSkge1xyXG4gICAgICAgICAgICB2YXIgZmlsbCA9IHN0eWxlLmdldCgnZmlsbCcpLFxyXG4gICAgICAgICAgICAgICAgY2FwID0gc3R5bGUuZ2V0KCdjYXAnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBjYXA7XHJcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHBhdGhbMF1bMF0sIHBhdGhbMF1bMV0pO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHgxID0gcGF0aFtpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICB5MSA9IHBhdGhbaV1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgeDIgPSBwYXRoW2ldWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkyID0gcGF0aFtpXVszXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB4MiAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0ludmFsaWQgcGF0aCEnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHgyLCB5Mik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbDtcclxuICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdCZXppZXJQYXRoRmlsbCA9IGZ1bmN0aW9uIChjb250ZXh0LCBwYXRoLCBzdHlsZSkge1xyXG4gICAgICAgICAgICB2YXIgZmlsbCA9IHN0eWxlLmdldCgnZmlsbCcpLFxyXG4gICAgICAgICAgICAgICAgY2FwID0gc3R5bGUuZ2V0KCdjYXAnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5saW5lQ2FwID0gY2FwO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocGF0aFswXVswXSwgcGF0aFswXVsxXSk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB4MSA9IHBhdGhbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeTEgPSBwYXRoW2ldWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIHgyID0gcGF0aFtpXVsyXSxcclxuICAgICAgICAgICAgICAgICAgICB5MiA9IHBhdGhbaV1bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgYXgxID0gcGF0aFtpXVs0XSxcclxuICAgICAgICAgICAgICAgICAgICBheTEgPSBwYXRoW2ldWzVdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF4MiA9IHBhdGhbaV1bNl0sXHJcbiAgICAgICAgICAgICAgICAgICAgYXkyID0gcGF0aFtpXVs3XTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB4MiAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0ludmFsaWQgcGF0aCEnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiAgYXgyICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBheTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mICBheTIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBjdXJ2ZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oYXgxLCBheTEsIGF4MiwgYXkyLCB4MiwgeTIpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGw7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3TGluZVBhdGggPSBmdW5jdGlvbiAoY29udGV4dCwgcGF0aCwgc3R5bGUpIHtcclxuICAgICAgICAgICAgdmFyIHN0cm9rZUNvbG9yID0gc3R5bGUuZ2V0KCdzdHJva2VDb2xvcicpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGggPSBzdHlsZS5nZXQoJ3N0cm9rZVdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZSA9IHN0eWxlLmdldCgnc3Ryb2tlU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZUNhcCA9IHN0eWxlLmdldCgnY2FwJyk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQubGluZUNhcCA9IHN0cm9rZUNhcDtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHgxID0gcGF0aFtpXVswXSxcclxuICAgICAgICAgICAgICAgICAgICB5MSA9IHBhdGhbaV1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgeDIgPSBwYXRoW2ldWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgIHkyID0gcGF0aFtpXVszXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB4MiAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0ludmFsaWQgcGF0aCEnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlV2lkdGhbaV0gPCAuMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHgyLCB5Mik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHgxLCB5MSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGhbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdHlsZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oeDIsIHkyKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdCZXppZXJQYXRoID0gZnVuY3Rpb24gKGNvbnRleHQsIHBhdGgsIHN0eWxlKSB7XHJcbiAgICAgICAgICAgIHZhciBzdHJva2VDb2xvciA9IHN0eWxlLmdldCgnc3Ryb2tlQ29sb3InKSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoID0gc3R5bGUuZ2V0KCdzdHJva2VXaWR0aCcpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXQoJ3N0cm9rZVN0eWxlJyksXHJcbiAgICAgICAgICAgICAgICBzdHJva2VDYXAgPSBzdHlsZS5nZXQoJ2NhcCcpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBzdHJva2VDYXA7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB4MSA9IHBhdGhbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeTEgPSBwYXRoW2ldWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIHgyID0gcGF0aFtpXVsyXSxcclxuICAgICAgICAgICAgICAgICAgICB5MiA9IHBhdGhbaV1bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgYXgxID0gcGF0aFtpXVs0XSxcclxuICAgICAgICAgICAgICAgICAgICBheTEgPSBwYXRoW2ldWzVdLFxyXG4gICAgICAgICAgICAgICAgICAgIGF4MiA9IHBhdGhbaV1bNl0sXHJcbiAgICAgICAgICAgICAgICAgICAgYXkyID0gcGF0aFtpXVs3XTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB4MiAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgeTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkyICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVidWcuZXJyb3IoJ0ludmFsaWQgcGF0aCEnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXgxICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiAgYXgyICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBheTEgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mICBheTIgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSW52YWxpZCBjdXJ2ZSEnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlV2lkdGhbaV0gPCAuMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHgyLCB5Mik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHgxLCB5MSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGhbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdHlsZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKGF4MSwgYXkxLCBheDIsIGF5MiwgeDIsIHkyKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdSZWN0RmlsbCA9IGZ1bmN0aW9uIChjb250ZXh0LCBzdHlsZSwgeCwgeSwgdywgaCkge1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZmlsbCA9IHN0eWxlLmdldCgnZmlsbCcpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5yZWN0KHgsIHksIHcsIGgpO1xyXG5cclxuICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuXHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd1JlY3RTdHJva2UgPSBmdW5jdGlvbiAoY29udGV4dCwgc3R5bGUsIHgsIHksIHcsIGgpIHtcclxuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0KCdzdHJva2VTdHlsZScpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3IgPSBzdHlsZS5nZXQoJ3N0cm9rZUNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aCA9IHN0eWxlLmdldCgnc3Ryb2tlV2lkdGgnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG5cclxuICAgICAgICAgICAgdmFyIF94ID0gMCwgX3kgPSAwO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3JbaV07XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVdpZHRoID0gc3Ryb2tlV2lkdGhbaV07XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHN0cm9rZVN0eWxlW2ldKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBfeCA9IHggKyB3O1xyXG4gICAgICAgICAgICAgICAgICAgIF95ID0geTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3ggPSB4ICsgdztcclxuICAgICAgICAgICAgICAgICAgICBfeSA9IHkgKyBoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBfeCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgX3kgPSB5ICsgaDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpID09PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3ggPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgIF95ID0geTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlV2lkdGhbaV0gPCAuMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKF94LCBfeSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhfeCwgX3kpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI1LzIwMTYuXHJcbiAqL1xyXG4kUi5oZWxwZXIuc3lzdGVtKFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gRWFzaW5nKERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZWFzaW5ncyA9IHtcclxuICAgICAgICAgICAgICAgICdfJzogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGxpbmVhcjogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0IC89IGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGIgKyBjICogKHQpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGxpbmVhclNvZnQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRzID0gKHQgLz0gZCkgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YyA9IHRzICogdDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYiArIGMgKiAoNCAqIHRjICogdHMgKyAtMTAgKiB0cyAqIHRzICsgOCAqIHRjICsgLTIgKiB0cyArIHQpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGxpbmVhclNvZnRPdXQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRzID0gKHQgLz0gZCkgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YyA9IHRzICogdDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYiArIGMgKiAoLTMgKiB0YyAqIHRzICsgMTEgKiB0cyAqIHRzICsgLTE0ICogdGMgKyA2ICogdHMgKyB0KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBsaW5lYXJTb2Z0SW46IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRzID0gKHQgLz0gZCkgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YyA9IHRzICogdDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYiArIGMgKiAoLTEgKiB0YyAqIHRzICsgMiAqIHRjKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5RdWFkOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBjICogKHQgLz0gZCkgKiB0ICsgYjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZU91dFF1YWQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1jICogKHQgLz0gZCkgKiAodCAtIDIpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5PdXRRdWFkOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCArIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1jIC8gMiAqICgoLS10KSAqICh0IC0gMikgLSAxKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluQ3ViaWM6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlT3V0Q3ViaWM6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKyAxKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluT3V0Q3ViaWM6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCArIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKyAyKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluUXVhcnQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZU91dFF1YXJ0OiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgLSAxKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluT3V0UXVhcnQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKyBiO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgLSAyKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluUXVpbnQ6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCAqIHQgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VPdXRRdWludDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgKiB0ICsgMSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJbk91dFF1aW50OiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICogdCArIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0ICogdCArIDIpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5TaW5lOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtYyAqIE1hdGguY29zKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBjICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlT3V0U2luZTogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAqIE1hdGguc2luKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJbk91dFNpbmU6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1jIC8gMiAqIChNYXRoLmNvcyhNYXRoLlBJICogdCAvIGQpIC0gMSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJbkV4cG86IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh0ID09PSAwKSA/IGIgOiBjICogTWF0aC5wb3coMiwgMTAgKiAodCAvIGQgLSAxKSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VPdXRFeHBvOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAodCA9PT0gZCkgPyBiICsgYyA6IGMgKiAoLU1hdGgucG93KDIsIC0xMCAqIHQgLyBkKSArIDEpICsgYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5PdXRFeHBvOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ID09PSAwKSByZXR1cm4gYjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodCA9PT0gZCkgcmV0dXJuIGIgKyBjO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpICsgYjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAvIDIgKiAoLU1hdGgucG93KDIsIC0xMCAqIC0tdCkgKyAyKSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluQ2lyYzogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLWMgKiAoTWF0aC5zcXJ0KDEgLSAodCAvPSBkKSAqIHQpIC0gMSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VPdXRDaXJjOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogTWF0aC5zcXJ0KDEgLSAodCA9IHQgLyBkIC0gMSkgKiB0KSArIGI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWFzZUluT3V0Q2lyYzogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIC1jIC8gMiAqIChNYXRoLnNxcnQoMSAtIHQgKiB0KSAtIDEpICsgYjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyAvIDIgKiAoTWF0aC5zcXJ0KDEgLSAodCAtPSAyKSAqIHQpICsgMSkgKyBiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVhc2VJbkJhY2s6IGZ1bmN0aW9uICh0LCBiLCBjLCBkLCBzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRzID0gKHQgLz0gZCkgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YyA9IHRzICogdDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYiArIGMgKiAoMTUuMjYgKiB0YyAqIHRzICsgLTQzLjU2ICogdHMgKiB0cyArIDM5LjggKiB0YyArIC0xMC42ICogdHMgKyAwLjEgKiB0KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlT3V0QmFjazogZnVuY3Rpb24gKHQsIGIsIGMsIGQsIHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHMgPSAodCAvPSBkKSAqIHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRjID0gdHMgKiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiICsgYyAqICgxMS4yNCAqIHRjICogdHMgKyAtMjMuOTYgKiB0cyAqIHRzICsgMTIuMjQgKiB0YyArIDEuNDQgKiB0cyArIDAuMDQgKiB0KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlSW5PdXRCYWNrOiBmdW5jdGlvbiAodCwgYiwgYywgZCwgcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cyA9ICh0IC89IGQpICogdDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGMgPSB0cyAqIHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGIgKyBjICogKDIyLjkyICogdGMgKiB0cyArIC01Ny43OCAqIHRzICogdHMgKyA0NSAqIHRjICsgLTkuMjggKiB0cyArIDAuMTQgKiB0KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlYXNlT3V0Qm91bmNlOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodCAvPSBkKSA8ICgxIC8gMi43NSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogdCAqIHQpICsgYjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHQgPCAoMiAvIDIuNzUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09ICgxLjUgLyAyLjc1KSkgKiB0ICsgLjc1KSArIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0IDwgKDIuNSAvIDIuNzUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09ICgyLjI1IC8gMi43NSkpICogdCArIC45Mzc1KSArIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDIuNjI1IC8gMi43NSkpICogdCArIC45ODQzNzUpICsgYjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWFzaW5nc1tuYW1lXSkgcmV0dXJuIGVhc2luZ3NbbmFtZV07XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcih7bmFtZTogbmFtZX0sICdFYXNpbmdzIC8gVW5hYmxlIHRvIGdldCB1bmRlZmluZWQgZWFzaW5nIFt7bmFtZX1dLiBMaW5lYXIgZWFzaW5nIGZ1bmN0aW9uIHByb3ZpZGVkLicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVhc2luZ3NbJ2xpbmVhciddO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMi82LzIwMTcuXHJcbiAqL1xyXG4kUi5oZWxwZXIuc3lzdGVtKFxyXG4gICAgZnVuY3Rpb24gTWF0cml4KCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIEdyYXBoaWNzVHJhbnNmb3JtTWF0cml4KG9iamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBbMSwgMCwgMCwgMSwgMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBpbnZlcnNpb24gPSBbMSwgMCwgMCwgMSwgMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBnbG9iYWxJbnZlcnNpb24gPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgaGlzdG9yeSA9IFtdLCBpbnZlcnRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gbXVsdGlwbHkobTEsIG0yKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYTEgPSBtMVswXSAqIG0yWzBdICsgbTFbMl0gKiBtMlsxXSxcclxuICAgICAgICAgICAgICAgICAgICBhMiA9IG0xWzFdICogbTJbMF0gKyBtMVszXSAqIG0yWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIGEzID0gbTFbMF0gKiBtMlsyXSArIG0xWzJdICogbTJbM10sXHJcbiAgICAgICAgICAgICAgICAgICAgYTQgPSBtMVsxXSAqIG0yWzJdICsgbTFbM10gKiBtMlszXSxcclxuICAgICAgICAgICAgICAgICAgICBhNSA9IG0xWzBdICogbTJbNF0gKyBtMVsyXSAqIG0yWzVdICsgbTFbNF0sXHJcbiAgICAgICAgICAgICAgICAgICAgYTYgPSBtMVsxXSAqIG0yWzRdICsgbTFbM10gKiBtMls1XSArIG0xWzVdO1xyXG4gICAgICAgICAgICAgICAgbTFbMF0gPSBhMTtcclxuICAgICAgICAgICAgICAgIG0xWzFdID0gYTI7XHJcbiAgICAgICAgICAgICAgICBtMVsyXSA9IGEzO1xyXG4gICAgICAgICAgICAgICAgbTFbM10gPSBhNDtcclxuICAgICAgICAgICAgICAgIG0xWzRdID0gYTU7XHJcbiAgICAgICAgICAgICAgICBtMVs1XSA9IGE2O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBpbnZlcnQoKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gaGlzdG9yeS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoaXN0b3J5W2ldLnJvdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2luQSA9IE1hdGguc2luKC1oaXN0b3J5W2ldLnJvdGF0ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3NBID0gTWF0aC5jb3MoLWhpc3RvcnlbaV0ucm90YXRlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGx5KGludmVyc2lvbiwgW2Nvc0EsIHNpbkEsIC1zaW5BLCBjb3NBLCAwLCAwXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoaXN0b3J5W2ldLnRyYW5zbGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBseShpbnZlcnNpb24sIFsxLCAwLCAwLCAxLCAtaGlzdG9yeVtpXS50cmFuc2xhdGVbMF0sIC1oaXN0b3J5W2ldLnRyYW5zbGF0ZVsxXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeVtpXS5za2V3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGx5KGludmVyc2lvbiwgWzEsIE1hdGgudGFuKC1oaXN0b3J5W2ldLnNrZXdbMV0pLCBNYXRoLnRhbigtaGlzdG9yeVtpXS5za2V3WzBdKSwgMSwgMCwgMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeVtpXS5zY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBseShpbnZlcnNpb24sIFsxIC8gaGlzdG9yeVtpXS5zY2FsZVswXSwgMCwgMCwgMSAvIGhpc3RvcnlbaV0uc2NhbGVbMV0sIDAsIDBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbnZlcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5ID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5yb3RhdGUgPSBmdW5jdGlvbiAoYW5nbGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzaW5BID0gTWF0aC5zaW4oYW5nbGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvc0EgPSBNYXRoLmNvcyhhbmdsZSksXHJcbiAgICAgICAgICAgICAgICAgICAgbSA9IFtjb3NBLCBzaW5BLCAtc2luQSwgY29zQSwgMCwgMF07XHJcblxyXG4gICAgICAgICAgICAgICAgbXVsdGlwbHkodmFsdWUsIG0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaCh7J3JvdGF0ZSc6IGFuZ2xlfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh4LCB5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbSA9IFsxLCAwLCAwLCAxLCB4LCB5XTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoeCAhPT0gMCB8fCB5ICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlwbHkodmFsdWUsIG0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaCh7J3RyYW5zbGF0ZSc6IFt4LCB5XX0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zY2FsZSA9IGZ1bmN0aW9uICh4LCB5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeCAhPT0gMSB8fCB5ICE9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSBbeCwgMCwgMCwgeSwgMCwgMF07XHJcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlwbHkodmFsdWUsIG0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaCh7J3NjYWxlJzogW3gsIHldfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNrZXcgPSBmdW5jdGlvbiAoeCwgeSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHggIT09IDAgfHwgeSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YW5BID0gTWF0aC50YW4oeCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhbkIgPSBNYXRoLnRhbih5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbSA9IFsxLCB0YW5CLCB0YW5BLCAxLCAwLCAwXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlwbHkodmFsdWUsIG0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaCh7J3NrZXcnOiBbeCwgeV19KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXh0cmFjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGludmVydEdsb2JhbCgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBvYmplY3QucGFyZW50KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnZlcnRlZCkgaW52ZXJ0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZ2xvYmFsSW52ZXJzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbEludmVyc2lvbiA9IFtpbnZlcnNpb25bMF0sIGludmVyc2lvblsxXSwgaW52ZXJzaW9uWzJdLCBpbnZlcnNpb25bM10sIGludmVyc2lvbls0XSwgaW52ZXJzaW9uWzVdXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbHkoZ2xvYmFsSW52ZXJzaW9uLCBwYXJlbnQubWF0cml4KCkuZ2xvYmFsSW52ZXJzaW9uTWF0cml4KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdsb2JhbEludmVyc2lvbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBnbG9iYWxJbnZlcnNpb24gPSBpbnZlcnNpb247XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdsb2JhbEludmVyc2lvbjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5nbG9iYWxJbnZlcnNpb25NYXRyaXggPSBpbnZlcnRHbG9iYWw7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdsb2JhbEN1cnNvclByb2plY3Rpb24gPSBmdW5jdGlvbiAoY3Vyc29yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWdsb2JhbEludmVyc2lvbikgaW52ZXJ0R2xvYmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHggPSBjdXJzb3JbMF0gKiBnbG9iYWxJbnZlcnNpb25bMF0gKyBjdXJzb3JbMV0gKiBnbG9iYWxJbnZlcnNpb25bMl0gKyBnbG9iYWxJbnZlcnNpb25bNF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeSA9IGN1cnNvclswXSAqIGdsb2JhbEludmVyc2lvblsxXSArIGN1cnNvclsxXSAqIGdsb2JhbEludmVyc2lvblszXSArIGdsb2JhbEludmVyc2lvbls1XTtcclxuXHJcbiAgICAgICAgICAgICAgICBjdXJzb3JbMF0gPSB4O1xyXG4gICAgICAgICAgICAgICAgY3Vyc29yWzFdID0geTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3Vyc29yO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jdXJzb3JQcm9qZWN0aW9uID0gZnVuY3Rpb24gKGN1cnNvcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnZlcnRlZCkgaW52ZXJ0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHggPSBjdXJzb3JbMF0gKiBpbnZlcnNpb25bMF0gKyBjdXJzb3JbMV0gKiBpbnZlcnNpb25bMl0gKyBpbnZlcnNpb25bNF0sXHJcbiAgICAgICAgICAgICAgICAgICAgeSA9IGN1cnNvclswXSAqIGludmVyc2lvblsxXSArIGN1cnNvclsxXSAqIGludmVyc2lvblszXSArIGludmVyc2lvbls1XTtcclxuXHJcbiAgICAgICAgICAgICAgICBjdXJzb3JbMF0gPSB4O1xyXG4gICAgICAgICAgICAgICAgY3Vyc29yWzFdID0geTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3Vyc29yO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMub2JqZWN0TWF0cml4ID0gZnVuY3Rpb24gKG9iamVjdCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBHcmFwaGljc1RyYW5zZm9ybU1hdHJpeChvYmplY3QpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gb2JqZWN0LmV4dGVuc2lvbignU3R5bGUnKSxcclxuICAgICAgICAgICAgICAgIGJveENvbnRhaW5lciA9IG9iamVjdC5leHRlbnNpb24oJ0JveCcpLmJveCgpLFxyXG4gICAgICAgICAgICAgICAgc3ByaXRlID0gYm94Q29udGFpbmVyLnNwcml0ZSgpLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBzdHlsZS5nZXQoJ3Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgICAgICBvcmlnaW4gPSBzdHlsZS5nZXQoJ29yaWdpbicpLFxyXG4gICAgICAgICAgICAgICAgc2tldyA9IHN0eWxlLmdldCgnc2tldycpLFxyXG4gICAgICAgICAgICAgICAgcm90YXRlID0gc3R5bGUuZ2V0KCdyb3RhdGUnKSxcclxuICAgICAgICAgICAgICAgIHNjYWxlID0gc3R5bGUuZ2V0KCdzY2FsZScpLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlID0gc3R5bGUuZ2V0KCd0cmFuc2xhdGUnKSxcclxuXHJcbiAgICAgICAgICAgICAgICBfdHJhbnNsYXRlID0gb2JqZWN0LnR5cGUoKSA9PT0gJ0dyb3VwJyA/IFtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblswXSArIHRyYW5zbGF0ZVswXSAtIHNwcml0ZS5tYXJnaW5bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25bMV0gKyB0cmFuc2xhdGVbMV0gLSBzcHJpdGUubWFyZ2luWzBdXHJcbiAgICAgICAgICAgICAgICBdIDpcclxuICAgICAgICAgICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5wb3NpdGlvblswXSArIHRyYW5zbGF0ZVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnBvc2l0aW9uWzFdICsgdHJhbnNsYXRlWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIF9vcmlnaW4gPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luWzBdICogc3ByaXRlLnNpemVbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luWzFdICogc3ByaXRlLnNpemVbMV1cclxuICAgICAgICAgICAgICAgIF07XHJcblxyXG5cclxuICAgICAgICAgICAgbWF0cml4LnRyYW5zbGF0ZShfb3JpZ2luWzBdLCBfb3JpZ2luWzFdKTtcclxuICAgICAgICAgICAgaWYgKF90cmFuc2xhdGVbMF0gIT09IDAgfHwgX3RyYW5zbGF0ZVsxXSAhPT0gMCkgbWF0cml4LnRyYW5zbGF0ZShfdHJhbnNsYXRlWzBdLCBfdHJhbnNsYXRlWzFdKTtcclxuICAgICAgICAgICAgaWYgKHJvdGF0ZSAhPT0gMCkgbWF0cml4LnJvdGF0ZShyb3RhdGUpO1xyXG4gICAgICAgICAgICBpZiAoc2tld1swXSAhPT0gMCB8fCBza2V3WzFdICE9PSAwKSBtYXRyaXguc2tldyhza2V3WzBdLCBza2V3WzFdKTtcclxuICAgICAgICAgICAgaWYgKHNjYWxlWzBdICE9PSAxIHx8IHNjYWxlWzFdICE9PSAxKSBtYXRyaXguc2NhbGUoc2NhbGVbMF0sIHNjYWxlWzFdKTtcclxuICAgICAgICAgICAgbWF0cml4LnRyYW5zbGF0ZSgtX29yaWdpblswXSwgLV9vcmlnaW5bMV0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG1hdHJpeDtcclxuICAgICAgICB9O1xyXG5cclxuICAgIH0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJ4N2t2XzAwMCBvbiAxMi8yOS8yMDE2LlxyXG4gKi9cclxuJFIuaGVscGVyLnN5c3RlbShcclxuICAgIFsnRGVidWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uIE1vZGVsKERlYnVnKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNsb25lSGFzaCA9IGZ1bmN0aW9uIChoYXNoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGhhc2ggIT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignSGFzaCBpcyBub3QgYW4gb2JqZWN0IScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGhhc2gpKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2xvbmVBcnJheSA9IGZ1bmN0aW9uIChhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcnJheSAhPT0gXCJvYmplY3RcIiB8fCBhcnJheS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5lcnJvcignYXJyYXkgaXMgbm90IGFuIGFycmF5IScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJyYXlbaV0gPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXlbaV0uY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuY2xvbmVBcnJheShhcnJheVtpXSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmNsb25lSGFzaChhcnJheVtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhcnJheVtpXSA9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHQgPSBhcnJheVtpXS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChldmFsKHRleHQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybignWW91IGNsb25lIGZ1bmN0aW9ucyEgSXQgY2FuIGJlIHNsb3chJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChhcnJheVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnZhbGlkTnVtZXJpY0FycmF5ID0gZnVuY3Rpb24gKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFycmF5ICE9PSBcIm9iamVjdFwiIHx8IGFycmF5LmNvbnN0cnVjdG9yICE9PSBBcnJheSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFycmF5W2ldICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciBibGVuZGluZ3MgPSBbJ3NvdXJjZS1vdmVyJywgJ3NvdXJjZS1pbicsICdzb3VyY2Utb3V0JywgJ3NvdXJjZS1hdG9wJywgJ2Rlc3RpbmF0aW9uLW92ZXInLFxyXG4gICAgICAgICAgICAgICAgJ2Rlc3RpbmF0aW9uLWluJywgJ2Rlc3RpbmF0aW9uLW91dCcsICdkZXN0aW5hdGlvbi1hdG9wJywgJ2xpZ2h0ZXInLCAnY29weScsICd4b3InLCAnbXVsdGlwbHknLFxyXG4gICAgICAgICAgICAgICAgJ3NjcmVlbicsICdvdmVybGF5JywgJ2RhcmtlbicsICdsaWdodGVuJywgJ2NvbG9yLWRvZGdlJywgJ2NvbG9yLWJ1cm4nLCAnaGFyZC1saWdodCcsXHJcbiAgICAgICAgICAgICAgICAnc29mdC1saWdodCcsICdkaWZmZXJlbmNlJywgJ2V4Y2x1c2lvbicsICdodWUnLCAnc2F0dXJhdGlvbicsICdjb2xvcicsICdsdW1pbm9zaXR5J1xyXG4gICAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy52YWxpZEJsZW5kaW5nID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBibGVuZGluZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYmxlbmRpbmdzW2ldID09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHNwcml0ZV9yZWdleHAgPSAvXihbLi9fXFxkYS16QS1aXSspKFxcWyhcXGQrKVxcXSkkLztcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaXNTcHJpdGVTdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3ByaXRlX3JlZ2V4cC50ZXN0KHN0cik7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlYWRTcHJpdGVTdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gc3RyLm1hdGNoKHNwcml0ZV9yZWdleHApO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiByZXN1bHRbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVzOiBwYXJzZUludChyZXN1bHRbM10pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1dKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBWaWt0b3IgS2hvZG9zZXZpY2ggb24gMi8zLzIwMTcuXHJcbiAqL1xyXG4kUi5oZWxwZXIuc3lzdGVtKFxyXG4gICAgZnVuY3Rpb24gTW91c2UoKSB7XHJcbiAgICAgICAgdGhpcy5jaXJjbGVVc2VyQ2hlY2tGdW5jdGlvbiA9IGZ1bmN0aW9uIChjdXJzb3IpIHtcclxuICAgICAgICAgICAgdmFyIGNvb3JkcyA9IHRoaXMubWF0cml4KCkuZ2xvYmFsQ3Vyc29yUHJvamVjdGlvbihbY3Vyc29yWzBdLCBjdXJzb3JbMV1dKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb29yZHMgPCBbMF0gfHwgY29vcmRzWzFdIDwgMCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdmFyIHNwcml0ZSA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKS5ib3goKS5zcHJpdGUoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb29yZHNbMF0gPiBzcHJpdGUuc2l6ZVswXSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvb3Jkc1sxXSA+IHNwcml0ZS5zaXplWzFdKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmFkaXVzID0gc3ByaXRlLnNpemVbMF0gLyAyLFxyXG4gICAgICAgICAgICAgICAgY3ggPSByYWRpdXMsXHJcbiAgICAgICAgICAgICAgICBjeSA9IHNwcml0ZS5zaXplWzFdIC8gMjtcclxuXHJcbiAgICAgICAgICAgIGlmIChNYXRoLnBvdyhjb29yZHNbMF0gLSBjeCwgMikgKyBNYXRoLnBvdyhjb29yZHNbMV0gLSBjeSwgMikgPD0gTWF0aC5wb3cocmFkaXVzLCAyKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnNxdWFyZVVzZXJDaGVja0Z1bmN0aW9uID0gZnVuY3Rpb24gKGN1cnNvcikge1xyXG4gICAgICAgICAgICB2YXIgY29vcmRzID0gdGhpcy5tYXRyaXgoKS5nbG9iYWxDdXJzb3JQcm9qZWN0aW9uKFtjdXJzb3JbMF0sIGN1cnNvclsxXV0pLFxyXG4gICAgICAgICAgICAgICAgc3ByaXRlID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLnNwcml0ZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvb3Jkc1swXSA+IDAgJiYgY29vcmRzWzBdIDwgc3ByaXRlLnNpemVbMF0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb29yZHNbMV0gPiAwICYmIGNvb3Jkc1sxXSA8IHNwcml0ZS5zaXplWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jaXJjbGVDaGVja0Z1bmN0aW9uID0gZnVuY3Rpb24gKGN1cnNvcikge1xyXG4gICAgICAgICAgICB2YXIgY29vcmRzID0gdGhpcy5tYXRyaXgoKS5nbG9iYWxDdXJzb3JQcm9qZWN0aW9uKFtjdXJzb3JbMF0sIGN1cnNvclsxXV0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvb3JkcyA8IFswXSB8fCBjb29yZHNbMV0gPCAwKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gdGhpcy5leHRlbnNpb24oJ0JveCcpLmJveCgpLnNwcml0ZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvb3Jkc1swXSA+IHNwcml0ZS5zaXplWzBdKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29vcmRzWzFdID4gc3ByaXRlLnNpemVbMV0pIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjZW50ZXIgPSBzcHJpdGUuc2l6ZVswXSAvIDIsXHJcbiAgICAgICAgICAgICAgICByYWRpdXMgPSB0aGlzLmV4dGVuc2lvbignU3R5bGUnKS5nZXQoJ3JhZGl1cycpO1xyXG5cclxuICAgICAgICAgICAgaWYgKE1hdGgucG93KChjb29yZHNbMF0gLSBjZW50ZXIpLCAyKSArIE1hdGgucG93KChjb29yZHNbMV0gLSBjZW50ZXIpLCAyKSA8IE1hdGgucG93KHJhZGl1cywgMikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWN0Q2hlY2tGdW5jdGlvbiA9IGZ1bmN0aW9uIChjdXJzb3IpIHtcclxuICAgICAgICAgICAgdmFyIGNvb3JkcyA9IHRoaXMubWF0cml4KCkuZ2xvYmFsQ3Vyc29yUHJvamVjdGlvbihbY3Vyc29yWzBdLCBjdXJzb3JbMV1dKSxcclxuICAgICAgICAgICAgICAgIHNwcml0ZSA9IHRoaXMuZXh0ZW5zaW9uKCdCb3gnKS5ib3goKS5zcHJpdGUoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb29yZHNbMF0gPiAwICYmIGNvb3Jkc1swXSA8IHNwcml0ZS5zaXplWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29vcmRzWzFdID4gMCAmJiBjb29yZHNbMV0gPCBzcHJpdGUuc2l6ZVsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYng3a3ZfMDAwIG9uIDEyLzI5LzIwMTYuXHJcbiAqL1xyXG4kUi5oZWxwZXIuc3lzdGVtKFxyXG4gICAgWydEZWJ1ZycsXHJcbiAgICAgICAgZnVuY3Rpb24gUGF0aChEZWJ1Zykge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRDb250cm9sUG9pbnRzKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkMDEgPSBNYXRoLnNxcnQoTWF0aC5wb3coeDEgLSB4MCwgMikgKyBNYXRoLnBvdyh5MSAtIHkwLCAyKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZDEyID0gTWF0aC5zcXJ0KE1hdGgucG93KHgyIC0geDEsIDIpICsgTWF0aC5wb3coeTIgLSB5MSwgMikpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZhID0gdCAqIGQwMSAvIChkMDEgKyBkMTIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZiID0gdCAqIGQxMiAvIChkMDEgKyBkMTIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHAxeCA9IHgxIC0gZmEgKiAoeDIgLSB4MCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcDF5ID0geTEgLSBmYSAqICh5MiAtIHkwKTtcclxuICAgICAgICAgICAgICAgIHZhciBwMnggPSB4MSArIGZiICogKHgyIC0geDApO1xyXG4gICAgICAgICAgICAgICAgdmFyIHAyeSA9IHkxICsgZmIgKiAoeTIgLSB5MCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW3AxeCwgcDF5LCBwMngsIHAyeV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29udmVydENvbXBsZXhQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbaV1bMV1cclxuICAgICAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb252ZXJ0U2ltcGxlUGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoIDwgMikge1xyXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdQYXRoIHNob3VsZCBjb25zaXN0IG9mIGF0IGxlYXN0IHR3byBwb2ludHMhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IHBhdGhbaV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBwYXRoW2ldWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHggIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mICB5ICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlYnVnLmVycm9yKCdJbmNvcnJlY3QgUGF0aCEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpIDwgcGF0aC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0W2ldKSByZXN1bHQucHVzaChbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpXS5wdXNoKHgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaV0ucHVzaCh5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpIC0gMV0ucHVzaCh4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2kgLSAxXS5wdXNoKHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaSAtIDFdLnB1c2gocmVzdWx0W2kgLSAxXVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpIC0gMV0ucHVzaChyZXN1bHRbaSAtIDFdWzFdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpIC0gMV0ucHVzaCh4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2kgLSAxXS5wdXNoKHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uIChwYXRoLCBzbW9vdGhpbmcsIGNsb3NlZCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJldiA9IFtdLCBtaWQgPSBbcGF0aFtpXVswXSwgcGF0aFtpXVsxXV0sIG5leHQgPSBbcGF0aFtpXVsyXSwgcGF0aFtpXVszXV0sIHB0cyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldiA9IG1pZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXYgPSBbcGF0aFtpIC0gMV1bMF0sIHBhdGhbaSAtIDFdWzFdXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBwdHMgPSBnZXRDb250cm9sUG9pbnRzKHByZXZbMF0sIHByZXZbMV0sIG1pZFswXSwgbWlkWzFdLCBuZXh0WzBdLCBuZXh0WzFdLCBzbW9vdGhpbmcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbaV1bNF0gPSBwdHNbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbaV1bNV0gPSBwdHNbM107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoW2kgLSAxXVs2XSA9IHB0c1swXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtpIC0gMV1bN10gPSBwdHNbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbaV1bNF0gPSBwdHNbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbaV1bNV0gPSBwdHNbM107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSBwYXRoLmxlbmd0aCAtIDEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXYgPSBbcGF0aFtpXVswXSwgcGF0aFtpXVsxXV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pZCA9IFtwYXRoW2ldWzJdLCBwYXRoW2ldWzNdXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCA9IG1pZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHB0cyA9IGdldENvbnRyb2xQb2ludHMocHJldlswXSwgcHJldlsxXSwgbWlkWzBdLCBtaWRbMV0sIG5leHRbMF0sIG5leHRbMV0sIHNtb290aGluZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoW2ldWzZdID0gcHRzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoW2ldWzddID0gcHRzWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgczEgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMiA9IHBhdGhbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3NlZ21lbnQgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbczFbMF0sIHMxWzFdLCBzMVsyXSwgczFbM10sIHMxWzRdLCBzMVs1XSwgczFbNl0sIHMxWzddXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzMlswXSwgczJbMV0sIHMyWzJdLCBzMlszXSwgczJbNF0sIHMyWzVdLCBzMls2XSwgczJbN11dXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJwb2xhdGUoX3NlZ21lbnQsIHNtb290aGluZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoWzBdWzRdID0gX3NlZ21lbnRbMV1bNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbMF1bNV0gPSBfc2VnbWVudFsxXVs1XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFtwYXRoLmxlbmd0aCAtIDFdWzZdID0gX3NlZ21lbnRbMF1bNl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbcGF0aC5sZW5ndGggLSAxXVs3XSA9IF9zZWdtZW50WzBdWzddO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNoZWNrU2ltcGxlUGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhdGggIT09IFwib2JqZWN0XCIgfHwgcGF0aC5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZGVlcGNoZWNrID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBwYXRoW2ldICE9PSBcIm9iamVjdFwiIHx8IHBhdGhbaV0uY29uc3RydWN0b3IgIT09IEFycmF5IHx8IHBhdGhbaV0ubGVuZ3RoICE9PSAyIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBwYXRoW2ldWzBdICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiAgcGF0aFtpXVsxXSAhPT0gXCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWVwY2hlY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWVwY2hlY2s7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbXBhcmVQYXRocyA9IGZ1bmN0aW9uIChwYXRoMSwgcGF0aDIpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwYXRoMS5sZW5ndGggIT09IHBhdGgyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgxLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBwYXRoMVtpXS5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0aDFbaV1bbl0gIT09IHBhdGgyW2ldW25dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
