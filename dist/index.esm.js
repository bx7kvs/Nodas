class NdQueueElement{constructor(t,e){this.order=0,this.callback=t,e&&(this.order=e)}}class NdEvent{constructor(t,e){this.time=new Date,this.propagate=!0,this.target=t,this.data=e}}class NdMouseEvent extends NdEvent{}class NdStateEvent extends NdEvent{}function EventHandlers(){}function EventEmitter(){EventEmitter.init.call(this)}function $getMaxListeners(t){return void 0===t._maxListeners?EventEmitter.defaultMaxListeners:t._maxListeners}function emitNone(t,e,s){if(e)t.call(s);else for(var i=t.length,r=arrayClone(t,i),o=0;o<i;++o)r[o].call(s)}function emitOne(t,e,s,i){if(e)t.call(s,i);else for(var r=t.length,o=arrayClone(t,r),n=0;n<r;++n)o[n].call(s,i)}function emitTwo(t,e,s,i,r){if(e)t.call(s,i,r);else for(var o=t.length,n=arrayClone(t,o),a=0;a<o;++a)n[a].call(s,i,r)}function emitThree(t,e,s,i,r,o){if(e)t.call(s,i,r,o);else for(var n=t.length,a=arrayClone(t,n),h=0;h<n;++h)a[h].call(s,i,r,o)}function emitMany(t,e,s,i){if(e)t.apply(s,i);else for(var r=t.length,o=arrayClone(t,r),n=0;n<r;++n)o[n].apply(s,i)}function _addListener(t,e,s,i){var r,o,n;if("function"!=typeof s)throw new TypeError('"listener" argument must be a function');if((o=t._events)?(o.newListener&&(t.emit("newListener",e,s.listener?s.listener:s),o=t._events),n=o[e]):(o=t._events=new EventHandlers,t._eventsCount=0),n){if("function"==typeof n?n=o[e]=i?[s,n]:[n,s]:i?n.unshift(s):n.push(s),!n.warned&&(r=$getMaxListeners(t))&&r>0&&n.length>r){n.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+n.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=n.length,function emitWarning(t){"function"==typeof console.warn?console.warn(t):console.log(t)}(a)}}else n=o[e]=s,++t._eventsCount;return t}function _onceWrap(t,e,s){var i=!1;function g(){t.removeListener(e,g),i||(i=!0,s.apply(t,arguments))}return g.listener=s,g}function listenerCount(t){var e=this._events;if(e){var s=e[t];if("function"==typeof s)return 1;if(s)return s.length}return 0}function arrayClone(t,e){for(var s=new Array(e);e--;)s[e]=t[e];return s}EventHandlers.prototype=Object.create(null),EventEmitter.EventEmitter=EventEmitter,EventEmitter.usingDomains=!1,EventEmitter.prototype.domain=void 0,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.init=function(){this.domain=null,EventEmitter.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new EventHandlers,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function setMaxListeners(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return $getMaxListeners(this)},EventEmitter.prototype.emit=function emit(t){var e,s,i,r,o,n,a,h="error"===t;if(n=this._events)h=h&&null==n.error;else if(!h)return!1;if(a=this.domain,h){if(e=arguments[1],!a){if(e instanceof Error)throw e;var d=new Error('Uncaught, unspecified "error" event. ('+e+")");throw d.context=e,d}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=a,e.domainThrown=!1,a.emit("error",e),!1}if(!(s=n[t]))return!1;var l="function"==typeof s;switch(i=arguments.length){case 1:emitNone(s,l,this);break;case 2:emitOne(s,l,this,arguments[1]);break;case 3:emitTwo(s,l,this,arguments[1],arguments[2]);break;case 4:emitThree(s,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(r=new Array(i-1),o=1;o<i;o++)r[o-1]=arguments[o];emitMany(s,l,this,r)}return!0},EventEmitter.prototype.addListener=function addListener(t,e){return _addListener(this,t,e,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(t,e){return _addListener(this,t,e,!0)},EventEmitter.prototype.once=function once(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,_onceWrap(this,t,e)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,_onceWrap(this,t,e)),this},EventEmitter.prototype.removeListener=function removeListener(t,e){var s,i,r,o,n;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(s=i[t]))return this;if(s===e||s.listener&&s.listener===e)0==--this._eventsCount?this._events=new EventHandlers:(delete i[t],i.removeListener&&this.emit("removeListener",t,s.listener||e));else if("function"!=typeof s){for(r=-1,o=s.length;o-- >0;)if(s[o]===e||s[o].listener&&s[o].listener===e){n=s[o].listener,r=o;break}if(r<0)return this;if(1===s.length){if(s[0]=void 0,0==--this._eventsCount)return this._events=new EventHandlers,this;delete i[t]}else!function spliceOne(t,e){for(var s=e,i=s+1,r=t.length;i<r;s+=1,i+=1)t[s]=t[i];t.pop()}(s,r);i.removeListener&&this.emit("removeListener",t,n||e)}return this},EventEmitter.prototype.off=function(t,e){return this.removeListener(t,e)},EventEmitter.prototype.removeAllListeners=function removeAllListeners(t){var e,s;if(!(s=this._events))return this;if(!s.removeListener)return 0===arguments.length?(this._events=new EventHandlers,this._eventsCount=0):s[t]&&(0==--this._eventsCount?this._events=new EventHandlers:delete s[t]),this;if(0===arguments.length){for(var i,r=Object.keys(s),o=0;o<r.length;++o)"removeListener"!==(i=r[o])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=new EventHandlers,this._eventsCount=0,this}if("function"==typeof(e=s[t]))this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},EventEmitter.prototype.listeners=function listeners(t){var e,s=this._events;return s&&(e=s[t])?"function"==typeof e?[e.listener||e]:function unwrapListeners(t){for(var e=new Array(t.length),s=0;s<e.length;++s)e[s]=t[s].listener||t[s];return e}(e):[]},EventEmitter.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):listenerCount.call(t,e)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};class NdEmitter{constructor(){this.Emitter=new EventEmitter}cast(t,e){return this.Emitter.emit(t,e),e}reset(){this.Emitter.removeAllListeners()}on(t,e){t instanceof Array?t.forEach((t=>this.Emitter.on(t,e))):this.Emitter.on(t,e)}once(t,e){this.Emitter.once(t,e)}off(t,e){this.Emitter.off(t,e)}}const t=new class NodasDebug extends NdEmitter{constructor(){super(),this.prefix="⋒",this.warnings=!0,this.groupLevel=0,this.currentLevel=0,this.separatorMessages={}}getMessage(t,e){return`${this.prefix}${e?`[${"string"==typeof e?e:e.constructor.name}]`:""}: ${t}`}error(t,e){throw t=this.getMessage(t,e),this.cast("error",t),console.trace(),new Error("😵"+t)}warn(t,e){t=this.getMessage(t,e),console.log("🤬%c"+t,"border-left:4px solid rgb(178,137,75); padding :2px 6px; background: rgba(131,138,0,.1); color: rgb(178,137,75)")}info(t,e){t=this.getMessage(t,e),this.cast("info",t),console.log("🧐%c"+t,"border-left:2px solid rgb(149,202,0); padding :2px 6px; background: rgba(255,255,255,.1);")}message(t,e){t=this.getMessage(t,e),this.cast("info",t),console.log("🙂%c"+t,"padding: 1px 10px; border-left:2px solid #10949C; font-weight:bold; background: rgba(0,175,231,.1); color: #10949C")}separator(t,e){t=this.getMessage(t,e),this.currentLevel++,this.separatorMessages[this.currentLevel]=t,this.cast("info",t),console.log("%c"+t+" ⌛","padding: 4px 10px; border-left: 2px solid #10949C; background:rgba(16,148,156,0.1); color: #10949C")}separatorEnd(){this.warnings&&(this.separatorMessages[this.currentLevel]&&(console.log("%c"+this.separatorMessages[this.currentLevel]+" ✔","padding: 4px 10px; border-left: 2px solid #10949C; background:rgba(16,148,156,0.1); color: #10949C"),this.currentLevel--),0===this.currentLevel&&(this.separatorMessages={}))}positive(t,e){this.warnings&&(t=this.getMessage(t,e),this.cast("info",t),console.log("🥳%c"+t,"border-left: 2px solid rgb(149,202,0); background:rgba(149,202,0,.1); padding: 4px 10px; color:rgb(149,202,0)"))}negative(t,e){this.warnings&&(t=this.getMessage(t,e),this.cast("info",t),console.log("☹%c"+t,"border-left: 2px solid rgb(224,14,0); background:rgba(224,14,0,.1); padding: 4px 10px; color: rgb(224,14,0)"))}group(t){this.warnings&&(console.group(t),this.groupLevel++)}groupEnd(){this.warnings&&(this.groupLevel--,console.groupEnd())}};class Canvas extends NdEmitter{constructor(e){super(),this.e=null,this.context=null,this.s=[800,600],this.sNumeric=[800,600],this.resizeProcessTimeout=null,this.q=[],this._ready=!1,this._clear=!1,this.args=[this.context,new Date,0],this.scroll=[window.scrollX||document.documentElement.scrollLeft,window.scrollY||document.documentElement.scrollTop],this.offset=[0,0],this.cursor={cursor:[0,0],page:[0,0],screen:[0,0]},this.updateEventData=t=>(this.cursor.page=[t.pageX,t.pageY],this.cursor.cursor=this.getMouseRelativePosition(t),this.cursor.screen=[t.pageX-this.scroll[0],t.pageY-this.scroll[1]],this.cursor),this.onCanvasMouseMove=t=>{this.cast("mouseMove",new NdMouseEvent(this,this.updateEventData(t)))},this.onCanvasMouseLeave=t=>{this.cast("mouseLeave",new NdMouseEvent(this,this.updateEventData(t)))},this.onCanvasMouseEnter=t=>{this.cast("mouseEnter",new NdMouseEvent(this,this.updateEventData(t)))},this.onCanvasMouseDown=t=>{this.cast("mouseDown",new NdMouseEvent(this,this.updateEventData(t)))},this.onCanvasMouseUp=t=>{this.cast("mouseUp",new NdMouseEvent(this,this.updateEventData(t)))},this.DrawScene=(e,s)=>{this._ready&&this.context&&(this._clear&&this.context.clearRect(0,0,this.context.canvas.offsetWidth,this.context.canvas.offsetHeight),this.args[0]=this.context,this.args[1]=e,this.args[2]=s,this.q.forEach(((e,s)=>{try{e.callback.apply(this,this.args)}catch(i){t.error(`Error emerged while drawing.\n. Queue: ${e.order}\n Queue Order: ${s}\n Member: ${e.callback.name}\n message: ${i.message}`)}})))},e.queue(0,this.DrawScene),window.addEventListener("scroll",(()=>{this.scroll[0]=window.scrollX||document.documentElement.scrollLeft,this.scroll[1]=window.scrollY||document.documentElement.scrollTop})),window.addEventListener("resize",this.handleResize)}removeEventListeners(){var t,e,s,i,r;null===(t=this.e)||void 0===t||t.removeEventListener("mousemove",this.onCanvasMouseMove),null===(e=this.e)||void 0===e||e.removeEventListener("mouseleave",this.onCanvasMouseLeave),null===(s=this.e)||void 0===s||s.removeEventListener("mouseenter",this.onCanvasMouseEnter),null===(i=this.e)||void 0===i||i.removeEventListener("mousedown",this.onCanvasMouseDown),null===(r=this.e)||void 0===r||r.removeEventListener("mouseup",this.onCanvasMouseUp)}addEventListeners(){var t,e,s,i,r;null===(t=this.e)||void 0===t||t.addEventListener("mousemove",this.onCanvasMouseMove),null===(e=this.e)||void 0===e||e.addEventListener("mouseleave",this.onCanvasMouseLeave),null===(s=this.e)||void 0===s||s.addEventListener("mouseenter",this.onCanvasMouseEnter),null===(i=this.e)||void 0===i||i.addEventListener("mousedown",this.onCanvasMouseDown),null===(r=this.e)||void 0===r||r.addEventListener("mouseup",this.onCanvasMouseUp)}recalculateOffset(){if(this.e){const t=this.e.getBoundingClientRect();this.offset=[t.x+this.scroll[0],t.y+this.scroll[1]]}}getMouseRelativePosition(t){return[t.pageX-this.offset[0]-this.scroll[0],t.pageY-this.offset[1]-this.scroll[1]]}recalculateSize(){if(this.e){const t=this.e.parentNode;if(t){const e=window.getComputedStyle(t,null),s=parseInt(e.getPropertyValue("height")),i=parseInt(e.getPropertyValue("width"));if("string"==typeof this.s[0]){const t=parseInt(this.s[0])/100;this.sNumeric[0]=i*t}else this.sNumeric[0]=this.s[0];if("string"==typeof this.s[1]){const t=parseInt(this.s[1])/100;this.sNumeric[1]=s*t}else this.sNumeric[1]=this.s[1];this.e.setAttribute("width",this.sNumeric[0].toString()),this.e.setAttribute("height",this.sNumeric[1].toString())}this.recalculateOffset()}}handleResize(){this.e&&("string"==typeof this.s[0]||"string"==typeof this.s[1]?(this.e.setAttribute("width","0"),this.e.setAttribute("height","0"),this.resizeProcessTimeout&&clearTimeout(this.resizeProcessTimeout),this.resizeProcessTimeout=setTimeout((()=>{this.recalculateSize(),this.cast("resize",new NdStateEvent(this,null))}),100)):(this.resizeProcessTimeout&&clearTimeout(this.resizeProcessTimeout),this.sNumeric[0]=this.s[0],this.sNumeric[1]=this.s[1],this.recalculateSize(),this.cast("resize",new NdStateEvent(this,null))))}element(e){if("string"==typeof e){let s=document.querySelector(e);s instanceof HTMLCanvasElement?(s.setAttribute("width",this.sNumeric[0].toString()),s.setAttribute("height",this.sNumeric[1].toString()),this.removeEventListeners(),this.e=s,this.context=s.getContext("2d"),this.addEventListeners(),this._ready=!0,t.positive(`Accepted ${e} as rendering root`)):t.error(`Element ${e} is not a HTMLCanvasElement or does not exist`)}else e.setAttribute("width",this.sNumeric[0].toString()),e.setAttribute("height",this.sNumeric[1].toString()),this.removeEventListeners(),this.e=e,this.context=e.getContext("2d"),this.addEventListeners(),this._ready=!0,t.positive(`Accepted ${e.id?e.id:e.classList.toString()} as rendering root`);this.handleResize(),this.cast("switch",new NdStateEvent(this,null))}queue(t,e){return"number"==typeof t&&"function"==typeof e?this.q.push(new NdQueueElement(e,t)):"function"==typeof t&&this.q.push(new NdQueueElement(t)),this.q.sort(((t,e)=>t.order-e.order)),this}unQueue(t){this.q=this.q.filter((e=>e.callback!==t))}size(e,s){if("number"!=typeof e&&"string"!=typeof e)return[...this.sNumeric];"number"==typeof s||"string"==typeof s?(this.s[0]=e,this.s[1]=s,this.handleResize()):t.error(`Invalid Canvas size [${e}, ${s}]`)}get ready(){return this._ready}get clear(){return this._clear}set clear(t){this._clear=t}}class NdConfigProperty{constructor(t,e,s){if(this.checkArray=[],this.cb=[],this.check={isNumber:t=>"number"==typeof t,isString:t=>"string"==typeof t,isArray:t=>"object"==typeof t&&t instanceof Array,custom:(t,e)=>"function"==typeof e&&e(t),under:(t,e)=>!("number"!=typeof t||!e)&&t<e,greater:(t,e)=>!("number"!=typeof t||!e)&&t>e,eq:(t,e)=>"number"==typeof t&&t===e,isBool:t=>"boolean"==typeof t},this.val=e,Object.keys(s).forEach((t=>{this.checkArray.push({f:t,value:s[t]})})),!this.checkValue(e))throw new Error("Initial ["+t+"]'s value does not meet config requirements.")}checkValue(t){let e=!0;for(let s=0;s<this.checkArray.length;s++)if(e=this.check[this.checkArray[s].f](t,this.checkArray[s].value),!e)return e;return e}value(){return this.val}define(t){return this.checkValue(t)&&(this.val=t),this.cb.forEach((t=>{t.call(this,this.value())})),this}watch(t){if("function"!=typeof t)throw new Error("Can not set config property watcher. Argument f is not a function.");return this.cb.push(t),this}}class Config{constructor(){this.properties={}}define(t,e,s){if(this.properties[t])console.warn("Config property duplication on property name ["+t+"]");else try{this.properties[t]=new NdConfigProperty(t,e,s)}catch(e){throw console.error("Unable to create config property ["+t+"]"),e}return this.properties[t]}set(t,e){if(!this.properties[t])throw new Error("Unable to set property ["+t+"]. No such property.");return this.properties[t].define(e),this}get(t){if(this.properties[t])return this.properties[t].value();throw new Error("Unable to get property ["+t+"]. No such property.")}watch(t,e){if(this.properties[t])return this.properties[t].watch(e);throw new Error("No such property as ["+t+"] to watch.")}}class Ticker{constructor(){this.frameDuration=1e3/58.8,this.q=[],this.frame=0,this.args=[new Date,0],this.eventsCb={stop:[],start:[],error:[]},this.tick=()=>{this.args[0]=new Date,this.args[1]=this.frame;try{this.draw()}catch(e){window.clearInterval(this.interval),this.resolve("error",e),t.error(`Application ticker collapsed\n Frame: ${this.frame}\n Date: ${this.args[0]}\n Message: ${e.message}`)}},this.queue=(e,s)=>("function"==typeof e?this.q.push({order:0,f:e}):"function"==typeof s?this.q.push({order:e,f:s}):t.warn("Ticker callback is not a function. Ignored"),this.q.sort((function(t,e){return t.order-e.order})),this)}draw(){this.q.forEach(((e,s)=>{try{this.q[s].f.apply(self,this.args)}catch(e){t.error(`Error emerged while running ticker\n Queue: ${this.q[s].order}\n Order: ${s}\n Message: ${e.message}`)}})),this.frame++}resolve(t,e){this.eventsCb[t].forEach((t=>{t.apply(this,[e])}))}on(t,e){this.eventsCb[t].push(e)}stop(){return this.interval?(this.frame=0,clearInterval(this.interval),this.interval=void 0,this.resolve("stop",this),t.positive("Ticker stopped")):t.warn("Ticker already stopped. Ignored"),this}start(){return this.interval?t.warn("Ticker already started. Ignored"):(this.interval=window.setInterval(this.tick,this.frameDuration),this.resolve("start",this),t.positive("Ticker started")),this}get frameTime(){return this.frameDuration}fps(e){return e>60&&(e=60),e<=0&&(e=1),this.frameDuration=1e3/e,t.positive(`Ticker FPS set ${e}. Restart Ticker`),this.interval&&(this.stop(),this.start()),this}}const e={default:(...[t,e,s,i])=>s*(t/=i)*t*t+e,linear:(...[t,e,s,i])=>e+s*(t/=i),linearSoft(...[t,e,s,i]){const r=(t/=i)*t,o=r*t;return e+s*(4*o*r+-10*r*r+8*o+-2*r+t)},linearSoftOut(...[t,e,s,i]){const r=(t/=i)*t,o=r*t;return e+s*(-3*o*r+11*r*r+-14*o+6*r+t)},linearSoftIn(...[t,e,s,i]){const r=(t/=i)*t,o=r*t;return e+s*(-1*o*r+2*o)},easeInQuad:(...[t,e,s,i])=>s*(t/=i)*t+e,easeOutQuad:(...[t,e,s,i])=>-s*(t/=i)*(t-2)+e,easeInOutQuad:(...[t,e,s,i])=>(t/=i/2)<1?s/2*t*t+e:-s/2*(--t*(t-2)-1)+e,easeInCubic:(...[t,e,s,i])=>s*(t/=i)*t*t+e,easeOutCubic:(...[t,e,s,i])=>s*((t=t/i-1)*t*t+1)+e,easeInOutCubic:(...[t,e,s,i])=>(t/=i/2)<1?s/2*t*t*t+e:s/2*((t-=2)*t*t+2)+e,easeInQuart:(...[t,e,s,i])=>s*(t/=i)*t*t*t+e,easeOutQuart:(...[t,e,s,i])=>-s*((t=t/i-1)*t*t*t-1)+e,easeInOutQuart:(...[t,e,s,i])=>(t/=i/2)<1?s/2*t*t*t*t+e:-s/2*((t-=2)*t*t*t-2)+e,easeInQuint:(...[t,e,s,i])=>s*(t/=i)*t*t*t*t+e,easeOutQuint:(...[t,e,s,i])=>s*((t=t/i-1)*t*t*t*t+1)+e,easeInOutQuint:(...[t,e,s,i])=>(t/=i/2)<1?s/2*t*t*t*t*t+e:s/2*((t-=2)*t*t*t*t+2)+e,easeInSine:(...[t,e,s,i])=>-s*Math.cos(t/i*(Math.PI/2))+s+e,easeOutSine:(...[t,e,s,i])=>s*Math.sin(t/i*(Math.PI/2))+e,easeInOutSine:(...[t,e,s,i])=>-s/2*(Math.cos(Math.PI*t/i)-1)+e,easeInExpo:(...[t,e,s,i])=>0===t?e:s*Math.pow(2,10*(t/i-1))+e,easeOutExpo:(...[t,e,s,i])=>t===i?e+s:s*(1-Math.pow(2,-10*t/i))+e,easeInOutExpo:(...[t,e,s,i])=>0===t?e:t===i?e+s:(t/=i/2)<1?s/2*Math.pow(2,10*(t-1))+e:s/2*(2-Math.pow(2,-10*--t))+e,easeInCirc:(...[t,e,s,i])=>-s*(Math.sqrt(1-(t/=i)*t)-1)+e,easeOutCirc:(...[t,e,s,i])=>s*Math.sqrt(1-(t=t/i-1)*t)+e,easeInOutCirc:(...[t,e,s,i])=>(t/=i/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+e:s/2*(Math.sqrt(1-(t-=2)*t)+1)+e,easeInBack(...[t,e,s,i]){const r=(t/=i)*t,o=r*t;return e+s*(15.26*o*r+-43.56*r*r+39.8*o+-10.6*r+.1*t)},easeOutBack(...[t,e,s,i]){const r=(t/=i)*t,o=r*t;return e+s*(11.24*o*r+-23.96*r*r+12.24*o+1.44*r+.04*t)},easeInOutBack(...[t,e,s,i]){const r=(t/=i)*t,o=r*t;return e+s*(22.92*o*r+-57.78*r*r+45*o+-9.28*r+.14*t)},easeOutBounce:(...[t,e,s,i])=>(t/=i)<1/2.75?s*(7.5625*t*t)+e:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+e:s*(7.5625*(t-=2.625/2.75)*t+.984375)+e};class NdMorphine{constructor(t,e,s,i,r,o){this.duration=1,this.repeat=0,this.repeatCount=1,this.start_time=0,this.progress=0,this._paused=!1,this._done=!1,this.start=t,this.end=e,this.duration=s>0?s:0,this.callback=i,this.easing=r,this.repeat=o,this.start_time=(new Date).getTime()}get done(){return this._done}stop(){this._done=!0}pause(){this._paused=!0}get paused(){return this._paused}tick(t){this._done||(this._paused?this.start_time=(new Date).getTime()-this.duration*this.progress:(this.progress=(t-this.start_time)/this.duration,this.progress>1&&(this.progress=1),1==this.progress&&(this.repeat&&this.repeatCount>0?(this.repeatCount!==1/0&&this.repeatCount--,this.start_time=(new Date).getTime()):this._done=!0),this.callback(this.progress,this.easing((t-this.start_time)/1e3,this.start,this.end-this.start,this.duration/1e3),this.start_time)))}}class NdAnimation extends NdEmitter{constructor(t,e,s=1e3,i="default",r=!1){super(),this.stack=[],this.target=null,this._queue=!1,this._active=!1,this._done=!1,this.stack=e,this.easing=i,this.duration=s,this._queue=r,this.element=t}get queue(){return this._queue}get active(){return this._active}get done(){return this._done}indexOf(t){return this.stack.findIndex((e=>e.name===t))}get props(){return this.stack.map((t=>t.name))}stop(t){if(t){const e=this.indexOf(t.toString());e>-1&&this.stack.splice(e,1)}else this.stack=[]}start(){this.active||(this._active=!0,this.stack=this.stack.filter((t=>t.ani.init(t.value)&&!1!==t.ani.start&&!1!==t.ani.end)),this.morphine=new NdMorphine(0,1,this.duration,((t,e)=>{0===this.stack.length?(this.cast("complete",new NdEvent(this.element,{ease:1,progress:1})),this.morphine.stop()):(this.stack.forEach((s=>{s.result=this.tick(e,t,s.ani.start,s.ani.end),this.element.style(s.name,s.result)})),this.cast("step",new NdEvent(this.element,{ease:e,progress:t})),1===t&&this.cast("complete",new NdEvent(this.element,{progress:1,ease:1})))}),e[this.easing],0))}tick(t,e,s,i){for(;"function"==typeof s;)s=s();for(;"function"==typeof i;)i=i();let r=i;if(typeof s!=typeof i)throw new Error("start value and end value are of different types");if("number"==typeof s&&(r=e>=1?i:s+(i-s)*t),"string"==typeof s){const e=parseFloat(s);r=e+(parseFloat(i)-e)*t+"%"}if("object"==typeof s)if(Array.isArray(s)&&Array.isArray(i)){if(s.length!=i.length)throw new Error("Start and end values are of different lengths");r=s.map(((s,r)=>this.tick(t,e,s,i[r])))}else r=Object.fromEntries(Object.keys(s).map((r=>[r,this.tick(t,e,s[r],i[r])])));return r}}class NdMatrix{constructor(t){this._value=[1,0,0,1,0,0],this._inversion=[1,0,0,1,0,0],this._globalInversion=null,this.history=[],this._element=t}invert(){for(let t=this.history.length-1;t>=0;t--){if(void 0!==this.history[t].rotate){const e=Math.sin(-this.history[t].rotate),s=Math.cos(-this.history[t].rotate);NdMatrix.multiply(this._inversion,[s,e,-e,s,0,0])}this.history[t].translate&&NdMatrix.multiply(this._inversion,[1,0,0,1,-this.history[t].translate[0],-this.history[t].translate[1]]),this.history[t].skew&&NdMatrix.multiply(this._inversion,[1,Math.tan(-this.history[t].skew[1]),Math.tan(-this.history[t].skew[0]),1,0,0]),this.history[t].scale&&NdMatrix.multiply(this._inversion,[1/this.history[t].scale[0],0,0,1/this.history[t].scale[1],0,0])}}rotate(t){const e=Math.sin(t),s=Math.cos(t),i=[s,e,-e,s,0,0];return NdMatrix.multiply(this._value,i),this.history.push({rotate:t}),this}translate(t,e){const s=[1,0,0,1,t,e];return 0===t&&0===e||(NdMatrix.multiply(this._value,s),this.history.push({translate:[t,e]})),this}scale(...[t,e]){if(1!==t||1!==e){const s=[t,0,0,e,0,0];NdMatrix.multiply(this._value,s),this.history.push({scale:[t,e]})}return this}skew(...[t,e]){if(0!==t||0!==e){const s=Math.tan(t),i=[1,Math.tan(e),s,1,0,0];NdMatrix.multiply(this._value,i),this.history.push({skew:[t,e]})}return this}globalInversion(){if(this._globalInversion)return this._globalInversion;const t=this._element.parent;return this._globalInversion=[...this._inversion],t&&NdMatrix.multiply(this._globalInversion,t.matrix.globalInversion()),[...this._globalInversion]}traceCursorToLocalSpace(t){return NdMatrix.applyMatrixToPoint(this.globalInversion(),t)}reset(){this._value=[1,0,0,1,0,0],this._inversion=[1,0,0,1,0,0],this._globalInversion=null,this.history=[]}purgeInversion(){this._globalInversion=null,this._element instanceof Group&&this._element.forEachChild((t=>{t.matrix.purgeInversion()}))}extract(){return this._value}extractInversion(){return[...this._inversion]}static multiply(t,e){const s=t[0]*e[0]+t[2]*e[1],i=t[1]*e[0]+t[3]*e[1],r=t[0]*e[2]+t[2]*e[3],o=t[1]*e[2]+t[3]*e[3],n=t[0]*e[4]+t[2]*e[5]+t[4],a=t[1]*e[4]+t[3]*e[5]+t[5];t[0]=s,t[1]=i,t[2]=r,t[3]=o,t[4]=n,t[5]=a}static applyMatrixToPoint(t,e){const s=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return e[0]=s,e[1]=i,e}}class NdNodeMatrix{constructor(t,e,s){const i=new NdMatrix(t),{getter:r,purge:o}=s.register("transformMatrix",(()=>{i.reset();const s=e.position.protectedValue,r=t.boundingRect,o=e.origin.protectedValue.map(((t,e)=>r.size[e]*t)),n=e.skew.protectedValue,a=e.rotate.protectedValue,h=e.scale.protectedValue,d=e.translate.protectedValue,l=t instanceof Group?[s[0]+d[0],s[1]+d[1]]:[r.position[0]+d[0],r.position[1]+d[1]];return i.translate(o[0],o[1]),0===l[0]&&0===l[1]||i.translate(l[0],l[1]),a&&i.rotate(a),0===n[0]&&0===n[1]||i.skew(n[0],n[1]),0===h[0]&&0===h[1]||i.scale(h[0],h[1]),i.translate(-o[0],-o[1]),i.invert(),i}));this.purge=o,this.getter=r}get value(){return this.getter()}}class NdCache{constructor(){this.values={}}register(t,e){return this.values[t]||(this.values[t]={value:void 0,getter:e,relevant:!1}),{purge:()=>{this.values[t].relevant=!1},getter:()=>(this.values[t].relevant||(this.values[t].value=this.values[t].getter(),this.values[t].relevant=!0),this.values[t].value)}}}class NdCompiler{constructor(t,e,s){this.conditions=[],this.drawerPipeBefore={},this.drawerPipeAfter={},this.beforePipeSize=0,this.afterPipeSize=0,this.isRenderAllowed=(...t)=>{let e=!0;for(let s=0;s<this.conditions.length&&(e=this.conditions[s](...t));s++);return e},this.render=(t,e,s)=>{if(this.isRenderAllowed(t,e,s)){let i=t;if(t.save(),this.beforePipeSize)for(let r in this.drawerPipeBefore){if(this.drawerPipeBefore.hasOwnProperty(r))for(let o=0;o<this.drawerPipeBefore[r].length;o++){t.save();const n=this.drawerPipeBefore[r][o](i,e,s);if(t.restore(),i=n||!1,!i)break}if(!i)break}if(i&&(i.globalCompositeOperation=this.props.blending.protectedValue,i.globalAlpha*=this.props.opacity.protectedValue),i===t?this.resolver(t,e,s):(this.resolver(t,e,s),i&&t.drawImage(i.canvas,0,0,t.canvas.width,t.canvas.height)),i=t,this.afterPipeSize)for(let t in this.drawerPipeAfter){if(this.drawerPipeAfter.hasOwnProperty(t))for(let r=0;r<this.drawerPipeAfter[t].length;r++){i.save();const o=this.drawerPipeAfter[t][r](i,e,s);if(i.restore(),i=o||!1,!i)break}if(!i)break}t.restore()}return t},this.element=t,this.resolver=s,this.props=e}filter(t){this.conditions.push(t)}pipe(t,e){return e||(e=0),e>100?(this.drawerPipeAfter[e]||(this.drawerPipeAfter[e]=[]),this.drawerPipeAfter[e].push(t),this.afterPipeSize++):(this.drawerPipeBefore[e]||(this.drawerPipeBefore[e]=[]),this.drawerPipeBefore[e].push(t),this.beforePipeSize++),this.element}unpipe(t){for(let e in this.drawerPipeBefore)this.drawerPipeBefore.hasOwnProperty(e)&&(this.drawerPipeBefore[e]=this.drawerPipeBefore[e].filter((e=>e!==t||(this.beforePipeSize--,!1))));for(let e in this.drawerPipeAfter)this.drawerPipeAfter.hasOwnProperty(e)&&(this.drawerPipeAfter[e]=this.drawerPipeAfter[e].filter((e=>e!==t||(this.afterPipeSize--,!1))));return this.element}}class Node extends NdEmitter{constructor(t,e,s){super(),this.Cache=new NdCache,this.modelEmitter=new EventEmitter,this.order=[],this.animations=[],this.tickElementAnimations=(t,e)=>{const s=e.getTime();this.animations.forEach((t=>{t.morphine&&t.morphine.tick(s)}))},this.data=e,this.Matrix=new NdNodeMatrix(this,e,this.Cache),this.Compiler=new NdCompiler(this,e,((...t)=>this.render(...t))),this.TreeConnector=s.Tree.register(t,this,this.Compiler.render),this.Mouse=s.Mouse.register(this,((...t)=>this.cast(...t)),((...t)=>this.test(...t))),this.pipe=this.Compiler.pipe.bind(this.Compiler),this.unpipe=this.Compiler.unpipe.bind(this.Compiler),this.condition=this.Compiler.filter.bind(this.Compiler),this.order=Object.keys(e).sort(((t,s)=>e[t].ordering-e[s].ordering)),s.Canvas.queue(-2,this.tickElementAnimations),this.once("destroy",(()=>{this.modelEmitter.removeAllListeners(),this.reset(),s.Canvas.unQueue(this.tickElementAnimations)})),this.watch(["position","rotate","origin","skew","translate","scale"],(()=>{this.Matrix.purge(),this.TreeConnector.forEachLayer((t=>t.matrix.purgeInversion()))})),this.watch(["position","origin","translate"],(()=>this.purgeBox()))}checkQueue(){this.animations=this.animations.filter((t=>{if(t.active)return!t.done;if(t.queue)return this.findCompetitors(t).length||t.start(),!0;{const e=this.findCompetitors(t);return e.length&&e.forEach((e=>{t.props.forEach((t=>e.stop(t)))})),t.start(),!0}}))}findCompetitors(t){let e=[];for(let s=0;s<this.animations.length;s++)if(this.animations[s]!==t&&this.animations[s].active&&!this.animations[s].done)for(let i=0;i<t.props.length;i++)this.animations[s].indexOf(t.props[i])>-1&&e.push(this.animations[s]);return e}animate(e,s,i){const r=Object.keys(e).sort(((t,e)=>this.data[t].ordering-this.data[e].ordering)).map((t=>({value:e[t],name:t,ani:this.data[t]})));if("number"==typeof s||void 0===s){const t=new NdAnimation(this,r,s,i);t.on("complete",(()=>this.checkQueue)),this.animations.push(t)}else if("object"==typeof s){const t=s,e=new NdAnimation(this,r,null==t?void 0:t.duration,null==t?void 0:t.easing,null==t?void 0:t.queue);t.complete&&e.on("complete",t.complete),t.step&&e.on("step",t.step),e.on("complete",(()=>this.checkQueue))}else t.negative("Invalid animation config",this);return this.checkQueue(),this}stop(t){return this.animations.forEach((e=>e.stop(t))),this}style(t,e){return"object"!=typeof t?void 0!==typeof e?(this.data[t].set(e,this),this.modelEmitter.emit(t),this):this.data[t].publicValue:(Object.keys(t).sort(((t,e)=>this.order.indexOf(t)-this.order.indexOf(e))).forEach((e=>{void 0!==t[e]&&(this.data[e].set(t[e],this),this.modelEmitter.emit(e))})),this)}watch(t,e){return t instanceof Array?t.forEach((t=>this.modelEmitter.on(t,e))):this.modelEmitter.on(t,e),this}unwatch(t,e){return t instanceof Array?t.forEach((t=>this.modelEmitter.off(t,e))):this.modelEmitter.off(t,e),this}get id(){return this.TreeConnector.id}set id(t){this.TreeConnector.tree.rename(this.id,t)}get z(){return this.TreeConnector.z}set z(t){this.TreeConnector.tree.z(this,t)}get box(){return this.Box.value.container}get boundingRect(){return this.Box.value.sprite}get parent(){return this.TreeConnector.parent}get matrix(){return this.Matrix.value}get width(){return this.Box.value.container.size[0]}get height(){return this.Box.value.container.size[1]}get left(){return this.Box.value.container.position[0]}get top(){return this.Box.value.container.position[1]}get animated(){return!!this.animations.length}purgeBox(){return this.Box.purge(),this}static transformContext(t,e){e.transform.apply(e,t.matrix.extract())}static drawLinearPathBg(t,e,s){t.path.protectedValue.length>1&&t.bg.protectedValue.length&&(e.save(),Node.clipBezierPath(t.path.protectedValue,e),Node.drawBg(t,e,s))}static drawBg(t,e,s){t.bg.protectedValue.length&&t.bg.protectedValue.forEach(((i,r)=>{if(i.loaded){e.save();const s=t.backgroundSizeNumeric.protectedValue[r][0],o=t.backgroundSizeNumeric.protectedValue[r][1],n=t.backgroundPositionNumeric.protectedValue[r][0],a=t.backgroundPositionNumeric.protectedValue[r][1];e.translate(n,a),e.drawImage(i.export(),0,0,s,o),e.restore()}else i.once("load",(()=>{s.update("bg")}))}))}static drawPathBg(t,e,s){t.interpolation?Node.drawBezierPathBg(t,e,s):Node.drawLinearPathBg(t,e,s)}static drawBezierPathBg(t,e,s){e.save(),Node.clipBezierPath(t.path.protectedValue,e,!0),Node.drawBg(t,e,s),e.restore()}static clipBezierPath(t,e,s=!1,i=!0){t.length>1&&(Node.registerPath(t,e,s,i),e.clip())}static registerPath(t,e,s=!1,i=!0){t.length>1&&(e.beginPath(),e.moveTo(t[0][0],t[0][1]),s?t.forEach((t=>{t[0]===t[4]&&t[1]===t[5]&&t[2]===t[6]&&t[3]===t[7]?e.lineTo(t[2],t[3]):e.bezierCurveTo(t[4],t[5],t[6],t[7],t[2],t[3])})):t.forEach((t=>{e.lineTo(t[2],t[3])})),i&&e.closePath())}static drawFill(t,e){e.save(),e.lineCap=t.cap.protectedValue,Node.registerPath(t.path.protectedValue,e,!!t.interpolation,!0),e.fillStyle=t.fill.protectedValue,e.fill(),e.restore()}static drawStroke(t,e){t.path.protectedValue.forEach(((s,i)=>{const[r,o,n,a,h,d,l,c]=s;t.strokeWidth.protectedValue[i]<.1?e.moveTo(n,a):(e.beginPath(),e.moveTo(r,o),e.strokeStyle=t.strokeColor.protectedValue[i],e.lineWidth=t.strokeWidth.protectedValue[i],e.setLineDash(t.strokeStyle.protectedValue[i]),t.interpolation.protectedValue?e.bezierCurveTo(h,d,l,c,n,a):e.lineTo(n,a),e.stroke())}))}static applyBoxAnchor(t,e,s,i){"center"===i.anchor.protectedValue[0]&&(t[0]-=e/2),"right"===i.anchor.protectedValue[0]&&(t[0]-=e),"middle"===i.anchor.protectedValue[1]&&(t[1]-=s/2),"bottom"==i.anchor.protectedValue[1]&&(t[1]-=s)}}class NdNodeStylesModel{static degToRad(t){return t>360&&(t-=t*Math.floor(t/360)),t<360&&(t+=t*Math.floor(t/360)),t*Math.PI/180}static radToDeg(t){return t*(180/Math.PI)}static normalizeColor(t){return"string"==typeof t&&(t=NdNodeStylesModel.colorToArray(t)),t.map(((t,e)=>e<3?(t=Math.round(t))>255?255:t<0?0:t:(t<0&&(t=0),t>1&&(t=1),t.toFixed(2)))),t}static colorToArray(t){const e=t.match(/^rgba\(([\d.]+),([\d.]+),([\d.]+),([\d.]+)\)$/);return e?NdNodeStylesModel.normalizeColor([parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseFloat(e[4])]):[0,0,0,1]}static arrayToColor(t){return`rgba(${(t=NdNodeStylesModel.normalizeColor(t))[0]},${t[1]},${t[2]},${t[3]})`}static getControlPoints(...[t,e,s,i,r,o,n]){let a=Math.sqrt(Math.pow(s-t,2)+Math.pow(i-e,2)),h=Math.sqrt(Math.pow(r-s,2)+Math.pow(o-i,2)),d=n*a/(a+h),l=n*h/(a+h);return[s-d*(r-t),i-d*(o-e),s+l*(r-t),i+l*(o-e)]}static convertComplexPath(t){const e=[];for(let s=0;s<t.length;s++)e.push([t[s][0],t[s][1]]);return e}static interpolate(t,e,s){t.forEach(((i,r)=>{let o,n,a=[i[0],i[1]],h=[i[2],i[3]];o=0===r?s?[t[t.length-1][0],t[t.length-1][1]]:[a[0]-(h[0]-a[0]),a[1]-(h[1]-a[0])]:[t[r-1][0],t[r-1][1]],n=NdNodeStylesModel.getControlPoints(o[0],o[1],a[0],a[1],h[0],h[1],e),0==r?(t[r][4]=n[2],t[r][5]=n[3]):(t[r-1][6]=n[0],t[r-1][7]=n[1],i[4]=n[2],i[5]=n[3]),r==t.length-1&&(o=[t[r][0],t[r][1]],a=[t[r][2],t[r][3]],h=s?[t[0][2],t[0][3]]:[a[0]+(o[0]-a[0]),a[1]+(o[0]-a[0])],n=NdNodeStylesModel.getControlPoints(o[0],o[1],a[0],a[1],h[0],h[1],e),i[6]=n[0],i[7]=n[1])}))}static comparePaths(t,e){if(t.length!==e.length)return!1;let s=!0;for(let i=0;i<t.length;i++)for(let r=0;r<t[i].length;r++)if(t[i][r]!==e[i][r]){s=!1;break}return s}static extractPercentFraction(t){return parseFloat(t)/100}static syncArray(t,e,s){if(e.length>t.length&&e.splice(0,t.length),e.length<t.length)for(let i=0;i<t.length-e.length;i++)e.push(s.map(((t,e)=>"function"==typeof t?t(i,e):t)))}}NdNodeStylesModel.convertSimplePath=function(t,e=!1){if(t.length<2)throw new Error("Invalid path length");const s=[];return t.forEach(((e,i)=>{const r=e[0],o=e[1],n=[0,0,0,0,0,0,0,0];i<t.length-1&&(n[0]=r,n[1]=o),0!==i&&(s[i-1][2]=r,s[i-1][3]=o,s[i-1][4]=s[i-1][0],s[i-1][5]=s[i-1][1],s[i-1][6]=r,s[i-1][7]=o),s.push(n)})),s.pop(),e&&s[s.length-1][2]!==s[0][0]&&s[s.length-1][3]!==s[0][1]&&s.push([s[s.length-1][2],s[s.length-1][3],s[0][0],s[0][1],s[s.length-1][2],s[s.length-1][3],s[0][0],s[0][1]]),s};class NdStylesProperty{constructor(t,e,s,i){this.ordering=0,this.set=()=>this._value,this._value=e,this.default=e,this.ordering=t,this.value=s(this._value),this.get=()=>(this.value=s(this._value),this.value),i&&(this.set=(t,e)=>(this._value=i(t,e),this.value=s(this._value),this._value))}get protectedValue(){return this._value}get publicValue(){return this.get()}sync(t,e){if(this._value instanceof Array&&(this._value.length>t.length&&this._value.splice(0,t.length),this._value.length<t.length)){const s=t.length-this._value.length;for(let t=0;t<s;t++)"function"==typeof e?this._value.push(e(t)):e instanceof Array?this._value.push(e.map(((e,s)=>"function"==typeof e?e(t,s):e))):this._value.push(e)}}}class NdNodeStylePropertyAnimated extends NdStylesProperty{constructor(t,e,s,i,r,o){super(t,e,s,i),this._start=!1,this._end=!1,this.starter=r,this.applier=o}get start(){return this._start}set start(t){this._start=t}get end(){return this._end}setStartValue(t){this.start=t}setEndValue(t){this._end=t}init(t){return this.starter(this.get(),t,this.setStartValue.bind(this),this.setEndValue.bind(this)),this}apply(t,e,s){return s=this.applier(s,t,e),this.set(s,t),this.publicValue}}class NdModBase extends NdNodeStylesModel{constructor(){super(...arguments),this.position=new NdNodeStylePropertyAnimated(2,[0,0],(t=>[...t]),(t=>t instanceof Array?[...t]:[t,t]),((t,e,s,i)=>{s(t),i("number"==typeof e?[e,e]:[e[0],e[1]])}),(t=>[t[0],t[1]])),this.scale=new NdNodeStylePropertyAnimated(0,[1,1],(t=>[...t]),(t=>t instanceof Array?[...t]:[t,t]),((t,e,s,i)=>{s(t),"number"==typeof e?(e<0&&(e=0),i([e,e])):(e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),i([e[0],e[1]]))}),(t=>[t[0],t[1]])),this.rotate=new NdNodeStylePropertyAnimated(0,0,(t=>NdNodeStylesModel.radToDeg(t)),(t=>NdNodeStylesModel.degToRad(t)),((t,e,s,i)=>{s(t),i(e)}),(t=>t)),this.translate=new NdNodeStylePropertyAnimated(0,[0,0],(t=>[...t]),(t=>t instanceof Array?[...t]:[t,t]),((t,e,s,i)=>{s(t),i("number"==typeof e?[e,e]:[e[0],e[1]])}),(t=>[t[0],t[1]])),this.skew=new NdNodeStylePropertyAnimated(0,[0,0],(t=>[NdNodeStylesModel.radToDeg(t[0]),NdNodeStylesModel.radToDeg(t[1])]),(t=>t instanceof Array?[NdNodeStylesModel.degToRad(t[0]),NdNodeStylesModel.degToRad(t[1])]:[NdNodeStylesModel.degToRad(t),NdNodeStylesModel.degToRad(t)]),((t,e,s,i)=>{"number"==typeof e&&(e=[e,e]),s(t),i([e[0],e[1]])}),(t=>t)),this.opacity=new NdNodeStylePropertyAnimated(0,1,(t=>t),(t=>t>1?1:t<0?0:t),((t,e,s,i)=>{e<0&&(e=0),e>1&&(e=1),s(t),i(e)}),(t=>(t<0&&(t=0),t>1&&(t=1),t))),this.origin=new NdNodeStylePropertyAnimated(0,[.5,.5],(t=>[...t]),(t=>t instanceof Array?[...t]:[t,t]),((t,e,s,i)=>{s(t),i("number"==typeof e?[e,e]:[e[0],e[1]])}),(t=>[t[0],t[1]])),this.cap=new NdStylesProperty(2,"butt",(t=>t),(t=>t)),this.blending=new NdStylesProperty(0,"source-over",(t=>t),(t=>t))}}class NdBox{constructor(){this.container={size:[0,0],position:[0,0]},this.sprite={margin:[0,0,0,0],position:[0,0],size:[0,0]}}value(t,e,s,i,r,o,n,a){this.container.size[0]=s,this.container.size[1]=i,this.container.position[0]=t,this.container.position[1]=e,this.sprite.margin[0]=r,this.sprite.margin[1]=o,this.sprite.margin[2]=n,this.sprite.margin[3]=a,this.sprite.size[0]=a+s+o,this.sprite.size[1]=r+i+n,this.sprite.position[0]=t-a,this.sprite.position[1]=e-r}}class NdNodeBox{constructor(t,e,s){this.box=new NdBox;const{getter:i,purge:r}=e.register("box",(()=>(this.box.value.apply(this.box,s(t)),this.box)));this.getter=i,this.purge=()=>{r(),t.parent&&t.parent.purgeBox()}}get value(){return this.getter()}}class Group extends Node{constructor(t,e){super(t,new NdModBase,e),this.Box=new NdNodeBox(this,this.Cache,(()=>{let t=1/0,e=1/0,s=-1/0,i=-1/0;return this.TreeConnector.forEachLayer((r=>{const o=r.box;t=Math.min(t,o.position[0]),e=Math.min(e,o.position[1]),i=Math.max(i,o.position[0]+o.size[0]),s=Math.max(s,o.position[1]+o.size[1])})),isFinite(t)||(t=0),isFinite(i)||(i=0),isFinite(e)||(e=0),isFinite(s)||(s=0),[t+this.data.position.get()[0],e+this.data.position.get()[1],i-t,s-e,0,0,0,0]})),this.export=()=>{},this.render=(t,s,i)=>(Node.transformContext(this,t),this.TreeConnector.forEachLayer((r=>{e.Tree.compile(r,t,s,i)})),t),this.test=t=>{let s=!1;return this.TreeConnector.forEachLayer((i=>{e.Mouse.checkNode(i,t)&&(s=i)})),s}}forEachChild(t){this.TreeConnector.forEachLayer(t)}append(t){return t instanceof Array?t.forEach((t=>{this.TreeConnector.tree.append(this,t.id)})):this.TreeConnector.tree.append(this,t.id),this}}class NdNodeConnector{constructor(t,e){this._parent=null,this._layers={},this._layer=0,this._identifier=t,this.tree=e}get z(){return this._layer}set z(t){this._layer=t}get parent(){return this._parent}set parent(t){this._parent=t}set id(t){this._identifier=t}get id(){return this._identifier}forEachLayer(t){for(let e in this._layers)this._layers[e].forEach(((s,i)=>{t(s,i,parseInt(e))}))}zChild(t,e,s){this._layers[e]||(this._layers[e]=[]),s?this._layers[e].unshift(t):this._layers[e].push(t)}removeChild(t,e){this._layers[e]=this._layers[e].filter((e=>e!==t)),this._layers[e].length||delete this._layers[e]}}class Nodes{constructor(t){this._root={},this.clear=!1,this.ids=new Set,this.elements={},this.drawNodeTree=(t,e,s)=>{this._root.element&&t&&(this.clear&&t.clearRect(0,0,t.canvas.offsetWidth,t.canvas.offsetHeight),this.compile(this._root.element,t,e,s))},t.queue(0,this.drawNodeTree)}treeViolation(t,e){return t===e||!!t.parent&&this.treeViolation(t.parent,t)}register(e,s,i){if(this._root.element)this.ids.has(e)?t.warn(`Node ${e} already exists. Ignored.`):(this.ids.add(e),this.elements[e]={element:s,render:i,connector:new NdNodeConnector(e,this)},this._root.element?this.append(this._root.element,e):t.error("Application root lost. Not root group node to append to"));else{if(!(s instanceof Group))throw new Error("Root element must be a Group instance");{const r={element:s,render:i,connector:new NdNodeConnector(e,this)};this._root=r,this.ids.add(r.connector.id),this.elements[e]=r,t.positive(`Element ${e} registered`)}}return this.elements[e].connector}unregister(e){this.ids.has(e.id)&&(t.positive(`Node ${e.id} removed`),this.unmount(e),delete this.elements[e.id],this.ids.delete(e.id))}unmount(e){if(this.elements[e.id].connector.parent){const t=this.elements[e.id].connector.parent;t&&this.elements[t.id].connector.removeChild(e,e.z)}this.elements[e.id].connector.parent=null,e==this._root.element&&(this._root={}),t.positive(`Node ${e.id} unmounted`)}compile(e,s,i,r){this.elements[e.id]&&this.elements[e.id].element===e?(s.save(),this.elements[e.id].render(s,i,r),s.restore()):t.error(`Attempt to render unmounted node ${e.id}`)}rename(e,s){this.ids.has(e)&&(this.ids.has(s)||(this.elements[s]=this.elements[e],this.ids.add(s),this.ids.delete(e),this.elements[s].connector.id=s,delete this.elements[e]),t.warn(`Can not rename node ${e}. Another node with id ${s} already exists`)),t.warn(`Attempt to rename non existing node ${e}`)}z(t,e){if(this.ids.has(t.id)){if(this.elements[t.id]){const s=this.elements[t.id].connector.parent;s&&this.elements[s.id].connector.zChild(t,e)}this.elements[t.id].connector.z=e}}get(t){return this.elements[t].element}get root(){return this._root.element}append(e,s,i=!1){if(this.ids.has(e.id)&&this.ids.has(s))if(this.treeViolation(e,this.elements[s].element))t.warn(`Node tree violation. Appending node ${s} to itself or it's child. `);else{if(this.elements[s].connector.parent){const t=this.elements[s].connector.parent;this.elements[t.id].connector.removeChild(this.elements[s].element,this.elements[s].connector.z)}this.elements[e.id].connector.zChild(this.elements[s].element,this.elements[s].connector.z,i),this.elements[s].connector.parent=e}else t.warn(`Manipulating non registered node ${s} or ${e.id}.`)}}class NdNodeMouseDispatcher{constructor(t,e,s){this._disabled=!1,this.test=e,this.transform=s,this.emit=t}cast(t,e){return!this.disabled&&this.emit(t,e)}get disabled(){return this._disabled}disable(){this._disabled=!0}enable(){this._disabled=!1}}class Mouse{constructor(t,e,s){this.elements={},this.currentHover=!1,this.currentFocus=!1,this.mouseDown=!1,this.dragging=!1,this.eventStack=[],this.postponed=[],this.maxEventsPerQueue=5,this.maxEventsResolveTimePerFrame=e.frameTime,t.queue(this.resolveStack.bind(this)),t.on("mouseDown",(t=>{this.mouseDown=!0,this.currentHover&&this.resolveOrPostpone(this.currentHover,"mouseDown",new NdMouseEvent(this.currentHover,Object.assign({},t.data))),this.currentFocus&&this.currentFocus!==this.currentHover&&this.currentFocus!==this.currentHover&&(this.resolveOrPostpone(this.currentFocus,"blur",new NdMouseEvent(this.currentFocus,Object.assign({},t.data))),this.currentHover&&this.resolveOrPostpone(this.currentHover,"focus",new NdMouseEvent(this.currentHover,Object.assign({},t.data))),this.currentFocus=this.currentHover)})),t.on("mouseUp",(t=>{this.mouseDown=!1,this.dragging&&(this.currentFocus&&this.resolveOrPostpone(this.currentFocus,"dragEnd",new NdMouseEvent(this.currentFocus,Object.assign({},t.data))),this.dragging=!1),this.currentHover&&this.resolveOrPostpone(this.currentHover,"mouseUp",new NdMouseEvent(this.currentHover,Object.assign({},t.data)))})),t.on("mouseLeave",(t=>{this.dragging&&(this.currentFocus&&this.resolveOrPostpone(this.currentFocus,"dragEnd",new NdMouseEvent(this.currentFocus,Object.assign({},t.data))),this.dragging=!1),this.currentHover&&this.resolveOrPostpone(this.currentHover,"mouseLeave",new NdMouseEvent(this.currentHover,Object.assign({},t.data))),this.currentFocus=!1,this.currentHover=!1,this.mouseDown=!1})),t.on("mouseMove",(t=>{if(s.root)if(this.dragging)this.mouseDown&&this.currentFocus&&(this.dragging?this.resolveOrPostpone(this.currentFocus,"dragMove",new NdMouseEvent(this.currentFocus,Object.assign({},t.data))):(this.resolveOrPostpone(this.currentFocus,"dragStart",new NdMouseEvent(this.currentFocus,Object.assign({},t.data))),this.dragging=!0));else{const e=this.checkNode(s.root,t.data.cursor);e!==this.currentHover?(this.currentHover&&this.resolveOrPostpone(this.currentHover,"mouseLeave",new NdMouseEvent(this.currentHover,Object.assign({},t.data))),e&&this.resolveOrPostpone(e,"mouseEnter",new NdMouseEvent(e,Object.assign({},t.data))),this.currentHover=e):e&&this.resolveOrPostpone(e,"mouseMove",new NdMouseEvent(e,Object.assign({},t.data)))}}))}checkNode(t,e){if(this.elements[t.id])return this.elements[t.id].handler.test(e);throw new Error("Root swap")}resolveStack(){if(!this.eventStack.length)return;let t=0;const e=(new Date).getTime();let s=0;for(;this.eventStack[0]&&t<this.maxEventsPerQueue&&s<this.maxEventsResolveTimePerFrame;)this.eventStack.shift()(),t++,s=(new Date).getTime()-e;!this.eventStack.length&&this.postponed[0]&&this.eventStack.push(this.postponed.shift())}getStackCallback(t,e,s){return()=>{if(t){const i=this.elements[t.id].handler.cast(e,s);i&&i.propagate&&this.eventStack.push(this.getStackCallback(this.elements[t.id].element.parent,e,s))}}}resolveOrPostpone(t,e,s){this.eventStack.length?this.postponed.push(this.getStackCallback(t,e,s)):this.eventStack.push(this.getStackCallback(t,e,s))}register(t,e,s,i){if(this.elements[t.id])throw new Error(`Another ReflectElement with id ${t.id} has already been registered as mouse sensitive`);return this.elements[t.id]={element:t,handler:new NdNodeMouseDispatcher(e.bind(t),s,i)},t.on("destroy",(()=>delete this.elements[t.id])),this.elements[t.id].handler}}class NdCanvas{constructor(){this.size=[0,0],this.element=document.createElement("canvas");const t=this.element.getContext("2d");if(!t)throw new Error("Unable to establish Canvas rendering context!");this.context=t}get width(){return this.size[0]}set width(t){this.size[0]=t,this.element.setAttribute("width",t.toString())}get height(){return this.size[1]}set height(t){this.element.setAttribute("height",t.toString())}}class NdLayer{constructor(t){this.canvas=new NdCanvas,this.width=0,this.height=0,this.f=null,this.ready=!1,this.ordering=0,this.f=t.bind(this)}draw(t){this.ready||this.canvas.context&&(this.canvas.context.save(),this.canvas.context.clearRect(0,0,this.width,this.height),this.f&&this.f(this.canvas.context),this.canvas.context.restore(),this.ready=!0),t.drawImage(this.canvas.element,0,0)}get resolver(){return this.f}get size(){return[this.width,this.height]}set size([t,e]){t===this.width&&e===this.height||(this.canvas.width=t,this.canvas.height=e,this.ready=!1,this.width=t,this.height=e)}get order(){return this.ordering}set order(t){this.ordering=t}update(){this.ready=!1}}class NdModeAssembler extends NdEmitter{constructor(t){super(),this.output=new NdCanvas,this.pipe=[],this.w=0,this.h=0,this.resized=!1,this._ready=!1,this.layers=Object.fromEntries(t.map(((t,e)=>{const s=new NdLayer(t.resolver);return this.pipe.push({order:e,layer:s}),[t.name,s]}))),this.pipe.sort(((t,e)=>t.order-e.order)),this.update=t=>{t?this.layers[t]&&(this._ready=!1,this.layers[t].update()):Object.values(this.layers).forEach((t=>{t.update()}))}}get ready(){return this._ready}get size(){return[this.w,this.h]}get width(){return this.w}get height(){return this.h}set size(t){this.w=t[0],this.h=t[1],this.output.width=t[0],this.output.height=t[1],this.pipe.forEach((({layer:e})=>{e.size=t}))}export(t){return this.resized||(this.resized=!0,this.size[0]===t.boundingRect.size[0]&&this.size[1]===t.boundingRect.size[1]||(this.size=[t.boundingRect.size[0],t.boundingRect.size[1]],this.cast("resize",void 0))),this._ready||(this.output.context.clearRect(0,0,this.w,this.h),this.pipe.forEach((t=>{t.layer.draw(this.output.context)})),this._ready=!0,this.cast("update",void 0)),this.output.element}resize(){this.resized=!1,this._ready=!1}}class NdModFreeStroke extends NdNodeStylesModel{constructor(t=!1){super(),this.interpolation=new NdStylesProperty(0,0,(t=>t/.4*100),(t=>(t>100&&(t=100),t<0&&(t=0),t=t/100*.4))),this.strokeColor=new NdStylesProperty(2,[],(t=>t.map((t=>NdModFreeStroke.colorToArray(t)))),(t=>{let e=[];return"string"==typeof t&&(e=this.path.protectedValue.map((()=>t))),t instanceof Array&&("string"==typeof t[0]&&(e=this.path.protectedValue.map(((e,s)=>t[s]?t[s]:this.strokeColor.protectedValue[s]?this.strokeColor.protectedValue[s]:this.strokeColor.protectedValue[this.strokeColor.protectedValue.length-1]?this.strokeColor.protectedValue[this.strokeColor.protectedValue.length-1]:"rgba(0,0,0,1)"))),t[0]instanceof Array&&(e=this.path.protectedValue.map(((e,s)=>t[s]?NdModFreeStroke.arrayToColor(t[s]):this.strokeColor.protectedValue[s]?this.strokeColor.protectedValue[s]:this.strokeColor.protectedValue[this.strokeColor.protectedValue.length-1]?this.strokeColor.protectedValue[this.strokeColor.protectedValue.length-1]:"rgba(0,0,0,1)"))),"number"==typeof t[0]&&(e=this.path.protectedValue.map((()=>NdModFreeStroke.arrayToColor(t))))),e})),this.strokeWidth=new NdStylesProperty(2,[],(t=>[...t]),(t=>"number"==typeof t?this.path.protectedValue.map((()=>t)):this.path.protectedValue.map(((e,s)=>"number"==typeof t[s]?t[s]:"number"==typeof this.strokeWidth.protectedValue[s]?this.strokeWidth.protectedValue[s]:"number"==typeof this.strokeWidth.protectedValue[this.strokeWidth.protectedValue.length-1]?this.strokeWidth.protectedValue[this.strokeWidth.protectedValue.length-1]:1)))),this.strokeStyle=new NdStylesProperty(2,[],(t=>t.map((t=>[...t]))),(t=>(t[0],this.path.protectedValue.map((()=>[...t]))))),this.path=new NdStylesProperty(1,[],(t=>NdModFreeStroke.convertComplexPath(t)),(e=>{const s=NdModFreeStroke.convertSimplePath(e,t);return this.path.protectedValue.length!==s.length&&(this.strokeStyle.sync(s,[0]),this.strokeWidth.sync(s,1),this.strokeColor.sync(s,"rgba(0,0,0,1")),s}))}}class NdModAnchor extends NdNodeStylesModel{constructor(){super(...arguments),this.anchor=new NdStylesProperty(0,["left","top"],(t=>[...t]),(t=>[...t]))}}class NdNodeEmpiricalMouseChecker{constructor(){this.context=document.createElement("canvas").getContext("2d")}resize(t){t[0]!==this.context.canvas.width&&t[0]>0&&(this.context.canvas.width=t[0]),t[1]!==this.context.canvas.height&&t[1]>0&&(this.context.canvas.height=t[1])}redraw(t){this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height),this.context.save(),Node.registerPath(t.path.protectedValue,this.context,!!t.interpolation,!!t.fill),t.fill?(this.context.fillStyle="rgba(0,0,0,1)",this.context.fill()):(this.context.strokeStyle="rgba(0,0,0,1)",this.context.stroke()),this.context.restore()}check(t){if(t[0]>0&&t[0]<this.context.canvas.width&&t[1]>0&&t[1]<this.context.canvas.height){const e=this.context.getImageData(t[0],t[1],1,1);if(console.log(e),e)return!!e.data[3]}return!1}}class Line extends Node{constructor(t,e){super(t,Object.assign(Object.assign(Object.assign({},new NdModFreeStroke),new NdModAnchor),new NdModBase),e),this.xShift=0,this.yShift=0,this.strokeFix=0,this.interpolationFix=0,this.interpolated=!1,this.mouseTester=new NdNodeEmpiricalMouseChecker,this.Assembler=new NdModeAssembler([{name:"stroke",resolver:t=>{t.translate(this.boundingRect.margin[3]-this.xShift,this.boundingRect.margin[0]-this.yShift),!this.interpolated&&this.data.interpolation.protectedValue>0&&NdNodeStylesModel.interpolate(this.data.path.protectedValue,this.data.interpolation.protectedValue,!1),Line.drawStroke(this.data,t)}}]),this.Box=new NdNodeBox(this,this.Cache,(()=>{let t=[...this.data.position.protectedValue],e=Math.max(this.strokeFix,this.interpolationFix),s=1/0,i=1/0,r=-1/0,o=-1/0;this.data.path.protectedValue.forEach((t=>{t[0]<s&&(s=t[0]),t[2]<s&&(s=t[2]),t[1]<i&&(i=t[1]),t[3]<i&&(i=t[3]),t[0]>r&&(r=t[0]),t[2]>r&&(r=t[2]),t[1]>o&&(o=t[1]),t[3]>o&&(o=t[3])})),s===1/0&&(s=0),i===1/0&&(i=0),r===-1/0&&(r=0),o===-1/0&&(r=0),this.xShift=s,this.yShift=i;let n=Math.abs(r-s),a=Math.abs(o-i);return Node.applyBoxAnchor(t,n,a,this.data),[t[0]+this.xShift,t[1]+this.yShift,n,a,e,e,e,e]})),this.export=()=>this.Assembler.export(this),this.render=t=>(Line.transformContext(this,t),t.drawImage(this.Assembler.export(this),0,0),t),this.test=t=>!!this.mouseTester.check(this.matrix.traceCursorToLocalSpace([...t]))&&this,this.watch("path",(()=>{this.purgeBox(),this.Matrix.purge(),this.Assembler.update("stroke"),this.Assembler.resize(),this.mouseTester.resize(this.boundingRect.size),this.mouseTester.redraw(this.data)})),this.watch("strokeWidth",(()=>{this.strokeFix=this.data.strokeWidth.protectedValue.reduce(((t,e)=>e>t?e:t),0),this.Assembler.update("stroke"),this.Assembler.resize(),this.mouseTester.resize(this.boundingRect.size),this.mouseTester.redraw(this.data)})),this.watch("interpolation",(()=>{this.interpolationFix=Math.round(20*this.data.interpolation.protectedValue),this.purgeBox(),this.Matrix.purge(),this.Assembler.resize(),this.Assembler.update("stroke"),this.mouseTester.resize(this.boundingRect.size),this.mouseTester.redraw(this.data)})),this.watch(["strokeStyle","strokeColor"],(()=>{this.Assembler.update("stroke")}))}}class NdResource extends NdEmitter{constructor(t,e){super(),this._status=-1,this.resolved=!1,this.src=t,this.resolve=e}get url(){return this.src}get loaded(){return this._status>0}get error(){return 0==this._status}load(){return this.resolved?this:(this.resolved=!0,this.resolve())}}class NdImage extends NdResource{constructor(t){super(t,(()=>(this.image.addEventListener("load",(()=>{this._status=1,this._size[0]=this.image.width,this._size[1]=this.image.height,this.cast("load",null)})),this.image.addEventListener("error",(()=>{this._status=0,this.cast("load",null),this.cast("error",null)})),this.image.src=t,this))),this.image=new Image,this._size=[0,0],this.export=()=>this.image}get width(){return this._size[0]}get height(){return this._size[1]}get size(){return[...this._size]}static isNdUrlStrRegex(t){return NdImage.NdUrlStrRegex.test(t)}}NdImage.NdUrlStrRegex=/(^.+\.(png)|(jpg)])$/;class NdModBg extends NdNodeStylesModel{constructor(){super(...arguments),this.fill=new NdNodeStylePropertyAnimated(0,"rgba(0,0,0,0)",(t=>t),(t=>t instanceof Array?NdNodeStylesModel.arrayToColor(t):t),((t,e,s,i)=>{s(NdNodeStylesModel.colorToArray(t)),i("string"==typeof e?NdNodeStylesModel.colorToArray(e):e)}),(t=>NdNodeStylesModel.normalizeColor(t))),this.bg=new NdStylesProperty(0,[],(t=>t.map((t=>t.url))),((t,e)=>{let s=[...this.bg.protectedValue];if("string"==typeof t){const i=new NdImage(t);i.once("load",(()=>{this.bg.protectedValue[0]===i&&NdModBg.updateSizeAndPosition(this,e.box.size,0,i)})),i.load(),s=[i]}else if(t instanceof Array)s="string"==typeof t[0]?t.map(((t,s)=>{const i=new NdImage(t);return i.loaded?NdModBg.updateSizeAndPosition(this,e.box.size,s,i):i.once("load",(()=>{NdModBg.updateSizeAndPosition(this,e.box.size,s,i)})),i})):[...t.map(((t,s)=>(t.loaded||t.once("load",(()=>{this.bg.protectedValue[s]===t&&NdModBg.updateSizeAndPosition(this,e.box.size,s,t)})),NdModBg.updateSizeAndPosition(this,e.box.size,s,t),t)))];else if(t instanceof NdImage)s=[t],t.loaded?NdModBg.updateSizeAndPosition(this,e.box.size,0,t):t.once("load",(()=>{NdModBg.updateSizeAndPosition(this,e.box.size,0,t)}));else for(let i in t)if(s[i]){if("string"==typeof t[i]){const r=new NdImage(t[i]);r.once("load",(()=>{NdModBg.updateSizeAndPosition(this,e.box.size,parseInt(i),r)})),s[i]=r}}else{const r=t[i];r.loaded?NdModBg.updateSizeAndPosition(this,e.box.size,parseInt(i),r):r.once("load",(()=>{NdModBg.updateSizeAndPosition(this,e.box.size,parseInt(i),r)})),s.push(t[i])}return this.backgroundPosition.sync(s,[0,0]),this.backgroundPositionNumeric.sync(s,[0,0]),this.backgroundSize.sync(s,["auto","auto"]),this.backgroundSizeNumeric.sync(s,[t=>NdModBg.readBgSize(e.box.size,this.bg.protectedValue[t],0,"auto"),t=>NdModBg.readBgSize(e.box.size,this.bg.protectedValue[t],1,"auto")]),s})),this.backgroundSize=new NdStylesProperty(1,[],(t=>t.map((t=>[t[0],t[1]]))),((t,e)=>{let s=this.backgroundSize.protectedValue;if("string"==typeof t||"number"==typeof t)t="number"==typeof t&&t<0?0:t,s=this.bg.protectedValue.map((()=>[t,t]));else if(t instanceof Array)if("string"==typeof t[0]||"number"==typeof t[0]){const e=t;s=this.bg.protectedValue.map((()=>[e[0],e[1]]))}else{const e=t;s=this.bg.protectedValue.map(((t,s)=>e[s]?[e[s][0],e[s][1]]:this.bg.protectedValue[s]?this.bg.protectedValue[s]:["auto","auto"]))}else for(let e in t)s[e]&&(s[e]=[t[e][0],t[e][1]]);return this.backgroundSizeNumeric.sync(s,[t=>NdModBg.readBgSize(e.box.size,this.bg.protectedValue[t],0,s[t][0]),t=>NdModBg.readBgSize(e.box.size,this.bg.protectedValue[t],1,s[t][1])]),this.backgroundPosition.sync(s,[0,0]),this.backgroundPositionNumeric.sync(s,[0,0]),s})),this.backgroundSizeNumeric=new NdStylesProperty(1,[],(t=>[...t])),this.backgroundPosition=new NdStylesProperty(2,[],(t=>t.map((t=>[t[0],t[1]]))),((t,e)=>{let s=this.backgroundPosition.protectedValue;if("string"==typeof t)/^[\d.]+%$/.test(t)&&(s=this.bg.protectedValue.map((()=>[t,t]))),/^(left|center|right)$/.test(t)&&(s=this.bg.protectedValue.map(((e,s)=>[t,this.backgroundPosition.protectedValue[s]?this.backgroundPosition.protectedValue[s][1]:0]))),/^(top|middle|bottom)$/.test(t)&&(s=this.bg.protectedValue.map(((e,s)=>[this.backgroundPosition.protectedValue[s]?this.backgroundPosition.protectedValue[s][0]:0,t])));else if("number"==typeof t)s=this.bg.protectedValue.map((()=>[t,t]));else if(t instanceof Array){if(t[0]instanceof Array){const e=t;s=this.bg.protectedValue.map(((t,s)=>e[s]?[e[s][0],e[s][1]]:this.backgroundPosition.protectedValue[s]?this.backgroundPosition.protectedValue[s]:[0,0]))}if("string"==typeof t[0]||"number"==typeof t[0]){const e=t;s=this.bg.protectedValue.map((()=>[e[0],e[1]]))}}else for(let e in t)s[e]&&(s[e]=[t[e][0],t[e][1]]);return this.backgroundPositionNumeric.sync(s,[t=>NdModBg.readBgPosition(e.box.size,this.backgroundSize.protectedValue[t],this.bg.protectedValue[t],0,s[t][0]),t=>NdModBg.readBgPosition(e.box.size,this.backgroundSize.protectedValue[t],this.bg.protectedValue[t],0,s[t][1])]),s})),this.backgroundPositionNumeric=new NdStylesProperty(2,[],(t=>[...t]))}static normalizeBgPosition(t){return"string"==typeof t?"left"===t||"top"==t?"0%":"bottom"===t||"right"===t?"100%":"center"===t||"middle"===t?"50%":t:t}static readBgPosition(t,e,s,i,r){let o=this.normalizeBgPosition(r);const n=this.readBgSize(t,s,i,e[i]);return"number"==typeof o?o:(t[i]-n)*NdNodeStylesModel.extractPercentFraction(o)}static readBgSize(t,e,s,i){return"string"==typeof i?"auto"!==i?t[s]*NdModBg.extractPercentFraction(i):e?e.size[s]:0:i}}NdModBg.updateSizeAndPosition=(t,e,s,i)=>{"string"==typeof t.backgroundSize.protectedValue[s][0]&&(t.backgroundSizeNumeric.protectedValue[s][0]=NdModBg.readBgSize(e,i,0,t.backgroundSize.protectedValue[s][0])),"string"==typeof t.backgroundSize.protectedValue[s][1]&&(t.backgroundSizeNumeric.protectedValue[s][1]=NdModBg.readBgSize(e,i,1,t.backgroundSize.protectedValue[s][1])),"string"==typeof t.backgroundPosition.protectedValue[s][0]&&(t.backgroundPositionNumeric.protectedValue[s][0]=NdModBg.readBgPosition(e,t.backgroundSize.protectedValue[s],t.bg.protectedValue[s],0,t.backgroundPosition.protectedValue[s][0])),"string"==typeof t.backgroundPosition.protectedValue[s][1]&&(t.backgroundPositionNumeric.protectedValue[s][1]=NdModBg.readBgPosition(e,t.backgroundSize.protectedValue[s],t.bg.protectedValue[s],1,t.backgroundPosition.protectedValue[s][1]))};class NdModCirc extends NdNodeStylesModel{constructor(){super(...arguments),this.radius=new NdNodeStylePropertyAnimated(0,0,(t=>t),(t=>(t<0&&(t=0),t)),((t,e,s,i)=>{e<0&&(e=0),s(t),i(e)}),(t=>(t<0&&(t=0),t))),this.strokeWidth=new NdNodeStylePropertyAnimated(0,1,(t=>t),(t=>t<0?0:t),((t,e,s,i)=>{e<0&&(e=0),s(t),i(e)}),(t=>(t<0&&(t=0),t))),this.strokeColor=new NdNodeStylePropertyAnimated(0,"rgba(0,0,0,1)",(t=>t),(t=>t instanceof Array?NdModCirc.arrayToColor(t):t),((t,e,s,i)=>{s(NdModCirc.colorToArray(t)),i("string"==typeof e?NdModCirc.colorToArray(e):e)}),(t=>NdModCirc.normalizeColor(t))),this.strokeStyle=new NdStylesProperty(0,[0],(t=>[...t]),(t=>t.map((t=>t<0?0:t))))}}class Circle extends Node{constructor(t,e){super(t,Object.assign(Object.assign(Object.assign(Object.assign({},new NdModCirc),new NdModBg),new NdModAnchor),new NdModBase),e),this.Box=new NdNodeBox(this,this.Cache,(()=>{const t=[...this.data.position.protectedValue],e=2*this.data.radius.protectedValue;return Node.applyBoxAnchor(t,e,e,this.data),[t[0],t[1],2*this.data.radius.protectedValue,2*this.data.radius.protectedValue,this.strokeFix,this.strokeFix,this.strokeFix,this.strokeFix]})),this.render=t=>(Node.transformContext(this,t),t.drawImage(this.Assembler.export(this),0,0),t),this.export=()=>this.Assembler.export(this),this.strokeFix=1,this.test=t=>{const e=this.matrix.traceCursorToLocalSpace(t),s=this.Box.value.sprite,i=this.data.radius.protectedValue;return e[0]>s.size[0]&&e[0]<0&&e[1]>s.size[1]&&e[1]<0&&Math.pow(e[0]+this.strokeFix-i,2)+Math.pow(e[1]+this.strokeFix-i,2)<=Math.pow(i,2)&&this},this.Assembler=new NdModeAssembler([{name:"fill",resolver:t=>{t.beginPath(),t.fillStyle=this.data.fill.protectedValue,t.arc(this.boundingRect.size[0]/2,this.boundingRect.size[1]/2,this.data.radius.protectedValue,0,2*Math.PI),t.fill()}},{name:"bg",resolver:t=>{t.beginPath(),t.arc(this.boundingRect.size[0]/2,this.boundingRect.size[1]/2,this.data.radius.protectedValue,0,2*Math.PI),t.clip(),Node.drawBg(this.data,t,this.Assembler)}},{name:"stroke",resolver:t=>{t.beginPath(),t.strokeStyle=this.data.strokeColor.protectedValue,t.lineWidth=this.data.strokeWidth.protectedValue,t.setLineDash(this.data.strokeStyle.protectedValue),t.arc(this.boundingRect.size[0]/2,this.boundingRect.size[1]/2,this.data.radius.protectedValue,0,2*Math.PI),t.stroke()}}]),this.watch("radius",(()=>{this.Assembler.update(),this.Assembler.resize(),this.Box.purge(),this.Matrix.purge()})),this.watch("fill",(()=>{this.Assembler.update("fill")})),this.watch("strokeWidth",(()=>{this.strokeFix=this.data.strokeWidth.protectedValue,this.Box.purge(),this.Assembler.update("stroke"),this.Assembler.resize(),this.Matrix.purge()})),this.watch(["strokeStyle","strokeColor"],(()=>{this.Assembler.update("stroke")})),this.watch(["bg","backgroundSize","backgroundPosition"],(()=>{this.Assembler.update("bg")}))}}class NdSprite extends NdResource{constructor(e){const s=e.match(/(^.+)\[(\d+)]/);super(s?s[1]:`invalid-image-src[${e}]`,(()=>{if(this.image.addEventListener("load",(()=>{t.positive(`Loaded sprite ${this.url}.`),this.setFrameData(),this._status=1,this.cast("load",null)})),this.image.addEventListener("error",(()=>{t.negative(`Error loading sprite ${this.url}.`),this._status=0,this.cast("error",null)})),!s)throw new Error("How did you even get here?");return this.image.src=s[1],this})),this.frameCount=0,this.refreshRate=12,this.frameTime=0,this.canvas=[],this.image=new Image,this.chunkSize=[0,0],this.chunkXYCount=0,this.timeStart=(new Date).getTime(),this.duration=0,this.frozen=!1,this.export=t=>{if(this.loaded&&!this.error&&this.frameCount&&this.frameTime&&(this.chunkSize[0]>0||this.chunkSize[1]>0)){let e=t.getTime(),s=e-this.timeStart;this.frozen&&(this.timeStart+=s);let i=Math.floor(s/this.frameTime);i>this.frameCount-1&&(i=0,this.timeStart=e);let r=Math.floor(i/this.chunkXYCount),o=i-r*this.chunkXYCount;if(this.canvas[r]&&this.canvas[r][o])return this.canvas[r][o]}},s&&s[2]&&(this.frameCount=parseInt(s[2]))}setFrameData(){this.chunkXYCount=Math.ceil(Math.sqrt(this.frameCount)),this.chunkSize[0]=this.image.width/this.chunkXYCount,this.chunkSize[1]=this.image.height/this.chunkXYCount,this.frameTime=1e3/this.refreshRate,this.duration=this.frameTime*this.frameCount,this.chunkSize[0]=this.image.width/this.chunkXYCount,this.chunkSize[1]=this.image.height/this.chunkXYCount,this.canvas=[];for(let t=0;t<this.chunkXYCount;t++){this.canvas[t]||this.canvas.push([]);for(let e=0;e<this.chunkXYCount;e++){this.canvas[t][e]||(this.canvas[t].push(document.createElement("canvas")),this.canvas[t][e].width=1,this.canvas[t][e].height=1),this.canvas[t][e].setAttribute("width",this.chunkSize[0].toString()),this.canvas[t][e].setAttribute("height",this.chunkSize[0].toString());const s=this.canvas[t][e].getContext("2d");s&&(s.translate(-this.chunkSize[0]*e,-this.chunkSize[1]*t),s.drawImage(this.image,0,0))}}}get paused(){return this.frozen}pause(){this.frozen=!0}play(){this.frozen=!1}get frames(){return this.frameCount}set frames(t){this.frameCount=t,this.setFrameData()}get width(){return this.chunkSize[0]}get height(){return this.chunkSize[1]}get size(){return[...this.chunkSize]}get fps(){return this.refreshRate}set fps(t){this.timeStart=(new Date).getTime(),this.refreshRate=t,this.setFrameData()}static isNdUrlSpriteStr(t){return NdSprite.NdUrlSpriteStrRegex.test(t)}}NdSprite.NdUrlSpriteStrRegex=/(^.+)\[([0-9]+)]$/;class NdModSprite extends NdNodeStylesModel{constructor(){super(...arguments),this.src=new NdStylesProperty(1,!1,(t=>t?t.url:t),((t,e)=>{if(NdSprite.isNdUrlSpriteStr(t)){const s=new NdSprite(t).load();return s.fps=this.fps.protectedValue,this.frames.set(s.frames,e),s}return this.frames.set(0,e),this.fps.set(0,e),new NdImage(t).load()})),this.frames=new NdStylesProperty(0,0,(t=>t),(t=>t)),this.fps=new NdStylesProperty(0,12,(t=>t),(t=>(t<0&&(t=0),t))),this.size=new NdNodeStylePropertyAnimated(1,["auto","auto"],(t=>[...t]),(t=>"string"==typeof t||"number"==typeof t?[t,t]:[...t]),((t,e,s,i)=>{s(t.map(((t,e)=>{if("auto"===t)return this.src.protectedValue?0===e?this.src.protectedValue.width:this.src.protectedValue.height:0})));i(("number"==typeof e||"auto"===e?[e,e]:e).map(((t,e)=>"auto"===t?this.src.protectedValue?0===e?this.src.protectedValue.width:this.src.protectedValue.height:0:(t<0&&(t=0),t))))}),(t=>(t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),t)))}}class Sprite extends Node{constructor(t,e){super(t,Object.assign(Object.assign(Object.assign({},new NdModSprite),new NdModBase),new NdModAnchor),e),this.export=t=>(t||(t=new Date),this.data.src.protectedValue?this.data.src.protectedValue.export(t):new HTMLCanvasElement),this.render=(t,e)=>{if(this.data.src.protectedValue){Sprite.transformContext(this,t);const s=this.data.src.protectedValue.export(e);s&&t.drawImage(s,0,0,"auto"===this.data.size.protectedValue[0]?this.data.src.protectedValue.width:this.data.size.protectedValue[0],"auto"===this.data.size.protectedValue[1]?this.data.src.protectedValue.height:this.data.size.protectedValue[1])}return t},this.test=t=>(t=this.matrix.traceCursorToLocalSpace([...t]))[0]>0&&t[0]<this.boundingRect.size[0]&&t[1]>0&&t[1]<this.boundingRect.size[1]&&this,this.Box=new NdNodeBox(this,this.Cache,(()=>{const t=[...this.data.position.protectedValue],e=this.data.size.protectedValue.map(((t,e)=>{if("auto"===t)return this.data.src.protectedValue?0===e?this.data.src.protectedValue.width:this.data.src.protectedValue.height:0}));return Node.applyBoxAnchor(t,e[0],e[1],this.data),[t[0],t[1],e[0],e[1],0,0,0,0]})),this.watch("src",(()=>{this.data.src.protectedValue&&(this.data.src.protectedValue.loaded?(this.Box.purge(),this.Matrix.purge()):this.data.src.protectedValue.on("load",(()=>{this.Box.purge(),this.Matrix.purge()})))})),this.watch("frames",(()=>{this.data.src.protectedValue instanceof NdSprite&&(this.data.src.protectedValue.frames=this.data.frames.protectedValue)})),this.watch("fps",(()=>{this.data.src.protectedValue instanceof NdSprite&&(this.data.src.protectedValue.fps=this.data.fps.protectedValue)})),this.watch("size",(()=>{this.Box.purge(),this.Matrix.purge()}))}pause(){this.data.src.protectedValue instanceof NdSprite&&this.data.src.protectedValue.pause()}play(){this.data.src.protectedValue instanceof NdSprite&&this.data.src.protectedValue.play()}}class Area extends Node{constructor(t,e){super(t,Object.assign(Object.assign(Object.assign(Object.assign({},new NdModBase),new NdModFreeStroke(!0)),new NdModAnchor),new NdModBg),e),this.xShift=0,this.yShift=0,this.strokeFix=1,this.interpolationFix=0,this.interpolated=!1,this.mouseTester=new NdNodeEmpiricalMouseChecker,this.Box=new NdNodeBox(this,this.Cache,(()=>{let t=[...this.data.position.protectedValue],e=1/0,s=1/0,i=-1/0,r=-1/0;this.data.path.protectedValue.forEach((t=>{t[0]<e&&(e=t[0]),t[2]<e&&(e=t[2]),t[1]<s&&(s=t[1]),t[3]<s&&(s=t[3]),t[0]>i&&(i=t[0]),t[2]>i&&(i=t[2]),t[1]>r&&(r=t[1]),t[3]>r&&(r=t[3])})),e===1/0&&(e=0),s===1/0&&(s=0),i===-1/0&&(i=0),r===-1/0&&(i=0),this.xShift=e,this.yShift=s;const o=this.strokeFix+this.interpolationFix,n=Math.abs(i-e),a=Math.abs(r-s);return Node.applyBoxAnchor(t,n,a,this.data),[t[0]+this.xShift,t[1]+this.yShift,n,a,o,o,o,o]})),this.Assembler=new NdModeAssembler([{name:"fill",resolver:t=>{t.save(),t.translate(this.boundingRect.margin[3]-this.xShift,this.boundingRect.margin[0]-this.yShift),!this.interpolated&&this.data.interpolation.protectedValue>0&&(NdNodeStylesModel.interpolate(this.data.path.protectedValue,this.data.interpolation.protectedValue,!0),this.interpolated=!0),Node.drawFill(this.data,t),t.restore()}},{name:"bg",resolver:t=>{t.translate(this.boundingRect.margin[3]-this.xShift,this.boundingRect.margin[0]-this.yShift),Node.drawPathBg(this.data,t,this.Assembler)}},{name:"stroke",resolver:t=>{this.interpolated||(NdNodeStylesModel.interpolate(this.data.path.protectedValue,this.data.interpolation.protectedValue,!0),this.interpolated=!0),t.translate(this.boundingRect.margin[3]-this.xShift,this.boundingRect.margin[0]-this.yShift),Node.drawStroke(this.data,t)}}]),this.test=t=>!!this.mouseTester.check(this.matrix.traceCursorToLocalSpace([...t]))&&this,this.render=t=>(Node.transformContext(this,t),t.drawImage(this.Assembler.export(this),0,0),t),this.export=()=>this.Assembler.export(this),this.watch("path",(()=>{this.interpolated=!1,this.Box.purge(),this.Matrix.purge(),this.Assembler.resize(),this.Assembler.update(),this.interpolated=!1,this.mouseTester.resize(this.boundingRect.size),this.mouseTester.redraw(this.data)})),this.watch("interpolation",(()=>{this.interpolated=!1,this.interpolationFix=Math.round(40*this.data.interpolation.protectedValue),this.Assembler.update(),this.Assembler.resize(),this.mouseTester.resize(this.boundingRect.size),this.mouseTester.redraw(this.data),this.interpolated=!1})),this.watch(["strokeStyle","strokeColor"],(()=>{this.Assembler.update("stroke"),this.Assembler.resize()})),this.watch("fill",(()=>{this.Assembler.update("fill")})),this.watch(["bg","backgroundSize","backgroundPosition"],(()=>{this.Assembler.update("bg")})),this.watch("strokeWidth",(()=>{this.strokeFix=this.data.strokeWidth.protectedValue.reduce(((t,e)=>t<e?e:t),0)/2,this.Assembler.update("stroke"),this.mouseTester.resize(this.boundingRect.size),this.mouseTester.redraw(this.data),this.Box.purge(),this.Matrix.purge(),this.Assembler.resize()}))}}class NdModSize extends NdNodeStylesModel{constructor(){super(...arguments),this.size=new NdNodeStylePropertyAnimated(1,[0,0],(t=>[...t]),(t=>"number"==typeof t?(t<0&&(t=0),[t,t]):t.map((t=>t<0?0:t))),((t,e,s,i)=>{s([...t]),"number"==typeof e?(e<0&&(e=0),i([e,e])):i(e.map((t=>t<0?0:t)))}),(t=>t))}}class NdModRect extends NdNodeStylesModel{constructor(){super(...arguments),this.radius=new NdNodeStylePropertyAnimated(0,[0,0,0,0],(t=>[...t]),(t=>"number"==typeof t?t<0?[0,0,0,0]:[t,t,t,t]:t.map((t=>t<0?0:t))),((t,e,s,i)=>{s([...t]),i("number"==typeof e?e<0?[0,0,0,0]:[e,e,e,e]:e.map((t=>t<0?0:t)))}),(t=>t)),this.strokeColor=new NdNodeStylePropertyAnimated(1,["rgba(0,0,0,1)","rgba(0,0,0,1)","rgba(0,0,0,1)","rgba(0,0,0,1)"],(t=>[...t]),(t=>"string"==typeof t?[t=NdModRect.arrayToColor(NdModRect.normalizeColor(NdModRect.colorToArray(t))),t,t,t]:"number"==typeof t[0]?[t=NdModRect.arrayToColor(NdModRect.normalizeColor(t)),t,t,t]:"string"==typeof t[0]?t.map((t=>NdModRect.arrayToColor(NdModRect.normalizeColor(NdModRect.colorToArray(t))))):t.map((t=>NdModRect.arrayToColor(NdModRect.normalizeColor(t))))),((t,e,s,i)=>{if(s(t.map((t=>NdModRect.colorToArray(t)))),"string"==typeof e){let t=NdModRect.normalizeColor(NdModRect.colorToArray(e));i([t,t,t,t])}else if("number"==typeof e[0]){let t=NdModRect.normalizeColor(e);i([t,t,t,t])}else"string"==typeof e[0]?i(e.map((t=>NdModRect.normalizeColor(NdModRect.colorToArray(t))))):i(e.map((t=>[...NdModRect.normalizeColor(t)])))}),(t=>t)),this.strokeWidth=new NdNodeStylePropertyAnimated(1,[1,1,1,1],(t=>[...t]),(t=>"number"==typeof t?t<0?[0,0,0,0]:[t,t,t,t]:t.map((t=>t<0?0:t))),((t,e,s,i)=>{s([...t]),"number"==typeof e?i(e<0?[0,0,0,0]:[e,e,e,e]):s(e.map((t=>t<0?0:t)))}),(t=>t)),this.strokeStyle=new NdStylesProperty(1,[[0],[0],[0],[0]],(t=>t.map((t=>[...t]))),(t=>"number"==typeof t[0]?[t,t,t,t]:t.map((t=>[...t]))))}}class Rectangle extends Node{constructor(t,e){super(t,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},new NdModRect),new NdModSize),new NdModAnchor),new NdModBg),new NdModBase),e),this.CIRCLECONST=.5522847498,this.Assembler=new NdModeAssembler([{name:"fill",resolver:t=>{t.translate(this.strokeFix[3],this.strokeFix[0]),Rectangle.registerPath(this.path(),t,!0),t.fillStyle=this.data.fill.protectedValue,t.fill()}},{name:"bg",resolver:t=>{t.translate(this.strokeFix[3],this.strokeFix[0]),Rectangle.clipBezierPath(this.path(),t),Rectangle.drawBg(this.data,t,this.Assembler)}},{name:"stroke",resolver:t=>{t.translate(this.strokeFix[3],this.strokeFix[0]),this.drawRectStroke(t)}}]),this.export=()=>this.Assembler.export(this),this.test=t=>{const[e,s]=this.Matrix.value.traceCursorToLocalSpace([...t]);return e<this.Box.value.sprite.size[0]&&e>0&&s<this.Box.value.sprite.size[1]&&s>0&&this},this.render=t=>(Rectangle.transformContext(this,t),t.drawImage(this.Assembler.export(this),0,0),t),this.Box=new NdNodeBox(this,this.Cache,(()=>{const t=[...this.data.position.protectedValue];return Node.applyBoxAnchor(t,this.data.size.protectedValue[0],this.data.size.protectedValue[1],this.data),[t[0],t[1],this.data.size.protectedValue[0],this.data.size.protectedValue[1],this.strokeFix[0],this.strokeFix[1],this.strokeFix[2],this.strokeFix[3]]})),this.strokeFix=[...this.data.strokeWidth.protectedValue];const{getter:s,purge:i}=this.Cache.register("path",(()=>{const[t,e]=this.data.size.protectedValue,[s,i,r,o]=this.data.radius.protectedValue.map((s=>(s>t/2&&(s=t/2),s>e/2&&(s=e/2),s)));if(t&&e){const n=[];return s?(n.push([0,s,s,0,0,s*this.CIRCLECONST,s-s*this.CIRCLECONST,0]),n.push([n[0][2],n[0][3],t,0,n[0][2],n[0][3],t,0])):n.push([0,0,t,0,0,0,t,0]),i?(n[n.length-1][2]-=i,n[n.length-1][6]-=i,n.push([t-i,0,t,i,t-i+i*this.CIRCLECONST,0,t,i-i*this.CIRCLECONST]),n.push([t,i,t,e,t,i,t,e])):n.push([t,0,t,e,t,0,t,e]),r?(n[n.length-1][3]-=r,n[n.length-1][7]-=r,n.push([t,e-r,t-r,e,t,e-r+r*this.CIRCLECONST,t-r+r*this.CIRCLECONST,e]),n.push([t-r,e,0,e,t-r,e,0,e])):n.push([t,e,0,e,t,e,0,e]),o?(n[n.length-1][2]+=o,n[n.length-1][6]+=o,n.push([o,e,0,e-o,o-o*this.CIRCLECONST,e,0,e-o+o*this.CIRCLECONST]),n.push([0,e-o,n[0][0],n[0][1],0,e-o,n[0][0],n[0][1]])):n.push([0,e-o,n[0][0],n[0][1],0,e-o,n[0][0],n[0][1]]),n}return[]}));this.path=s,this.purgePath=i,this.watch("size",(()=>{this.Assembler.resize(),this.Assembler.update("fill"),this.Assembler.update("bg"),this.Assembler.update("stroke"),this.Matrix.purge(),this.Box.purge(),this.purgePath()})),this.watch("radius",(()=>{this.Assembler.update("fill"),this.Assembler.update("bg"),this.Assembler.update("stroke"),this.purgePath()})),this.watch("strokeWidth",(()=>{this.strokeFix=[...this.data.strokeWidth.protectedValue],this.Box.purge(),this.Assembler.resize(),this.Matrix.purge(),this.Assembler.update("fill"),this.Assembler.update("bg"),this.Assembler.update("stroke")})),this.watch(["bg","backgroundSize","backgroundPosition"],(()=>{this.Assembler.update("bg")})),this.watch(["strokeColor","strokeStyle"],(()=>{this.Assembler.update("stroke")})),this.watch("fill",(()=>{this.Assembler.update("fill")}))}static drawCorner(t,e,s,i,r,o,n){e.save(),e.beginPath(),e.lineWidth=Math.max(o,n);let[a,h,d,l,c,u,p,m]=s;if(0===t){if(o<n){const t=(n-o)/2;a+=t,c+=t}if(o>n){const t=(o-n)/2;l+=t,m+=t}}if(1==t){if(o<n){const t=(n-o)/2;h+=t,u+=t}if(n<o){const t=(o-n)/2;d-=t,p-=t}}if(2==t){if(o<n){const t=(n-o)/2;a-=t,c-=t}if(o>n){const t=(o-n)/2;l-=t,m-=t}}if(3==t){if(n<o){const t=(o-n)/2;d+=t,p+=t}if(o<n){const t=(n-o)/2;h-=t,u-=t}}if(e.moveTo(a,h),i!==r){const s=e.createConicGradient(-Math.PI-1/180+Math.PI/2*t,t%2?a:d,t%2?l:h);s.addColorStop(0,i),s.addColorStop(.25,r),e.strokeStyle=s}else e.strokeStyle=i;e.bezierCurveTo(c,u,p,m,d,l),e.stroke(),e.restore()}static drawBridge(t,e,s,i){t.beginPath(),t.lineCap="round",t.moveTo(e[0],e[1]),t.strokeStyle=s,t.lineWidth=i,t.lineTo(e[2],e[3]),t.stroke()}drawRectStroke(t){const e=this.path(),s=[0,1,2,3];if(e.length){let i=0;this.data.radius.protectedValue.forEach(((t,e)=>{if(t>0)for(let t=e;t<s.length;t++)s[t]+=1})),e.forEach(((e,r)=>{e[0]!==e[2]&&e[1]!==e[3]?Rectangle.drawCorner(i,t,e,i>0?this.data.strokeColor.protectedValue[i-1]:this.data.strokeColor.protectedValue[3],this.data.strokeColor.protectedValue[i],i>0?this.data.strokeWidth.protectedValue[i-1]:this.data.strokeWidth.protectedValue[3],this.data.strokeWidth.protectedValue[i]):Rectangle.drawBridge(t,e,this.data.strokeColor.protectedValue[i],this.data.strokeWidth.protectedValue[i]),s.indexOf(r)>-1&&i++})),i=0}}}var s;!function(t){t["sans-serif"]="sans-serif",t.serif="serif",t.system="system"}(s||(s={}));class NdFont extends NdResource{constructor(e,s,i){super(`\\${i?i.name:"default"}.font`,(()=>s&&i?(this.initMeasureBuffer(),this.loadFont((()=>{t.positive(`Font ${this.name} loaded`),this.cast("load",null)}),(()=>{t.negative(`Unable to load font ${this.name}`),this.cast("error",null)})),this.styles.innerHTML=this.str.reduce(((t,e)=>t+e),""),document.head.appendChild(this.styles),this):(t.positive(`Font ${this.url} loaded`),this.cast("load",null),this))),this.context=document.createElement("canvas").getContext("2d"),this.styles=document.createElement("style"),this.fontMaxLoadTime=1e4,this.fontLoadStart=0,this.fontMeasureBuffer=[],this.formatStr={eot:function(t){return'url("'+t+'.eot?#iefix") format("embedded-opentype")'},woff:function(t){return'url("'+t+'.woff") format("woff")'},ttf:function(t){return'url("'+t+'.ttf") format("truetype")'},svg:function(t,e,s){return'url("'+t+".svg#"+e+"-"+(s.charAt(0).toUpperCase()+s.slice(1))+'") format("svg")'}},this.export=this.context.canvas,s&&i?(this.scheme=i,this.str=i.weight.map((t=>i.style.reduce(((r,o)=>r+`@font-face {\n font-family:"${i.name}";\n src:`+s.reduce(((r,n,a)=>r+this.formatStr[n](`${e}/${i.name}-${t}-${o}`,i.name,o)+(a<s.length-1?",\n":";")),"")+`\nfont-weight: ${NdFont.extractNumericWeight(t)};\nfont-style: ${o};\n}\n`),"")),"")):(this.str=[],this.scheme={name:"default",weight:[],style:[]})}loadFont(e,s){const i=this.scheme.weight.map((t=>this.scheme.style.map((e=>this.measureFont(e,t)))));let r=!0;for(let t=0;t<this.scheme.weight.length;t++){for(let e=0;e<this.scheme.style.length;e++)if(i[t][e]===this.fontMeasureBuffer[t][e]){r=!1;break}if(!r)break}r?e():(new Date).getTime()-this.fontLoadStart>this.fontMaxLoadTime?(t.negative(`Gave up trying to load ${this.name}. Timeout.`),s()):setTimeout((()=>this.loadFont(e,s)),500)}measureFont(t,e,s){return this.context.font=s?`${t} ${NdFont.extractNumericWeight(e)} 12px/12px "${s}"`:this.string(t,NdFont.extractNumericWeight(e),12),this.context.measureText(NdFont.CONSTFONTCHECKSTRING).width}initMeasureBuffer(){this.fontLoadStart=(new Date).getTime(),this.fontMeasureBuffer=this.scheme.weight.map((t=>this.scheme.style.map((e=>this.measureFont(e,t,"sans-serif")))))}get name(){return this.scheme.name}string(t,e,s,i=s){return`${t} ${NdFont.extractNumericWeight(e)} ${s}px/${i}px "${this.scheme.name}"`}static extractNumericWeight(t){return"normal"===t?400:"black"===t?900:"light"===t?300:"bold"===t?600:t}}NdFont.CONSTFONTCHECKSTRING='abcdefghijklmnopqrstuvwxyz 1234567890[!?,.<>"£$%^&*()~@#-=]';var i=new class NodasFonts{constructor(){this.fonts={},this.fontRootPath="./fonts",this.format=["eot","svg","ttf","woff"]}get root(){return this.fontRootPath}set root(t){this.fontRootPath=t}get formats(){return[...this.format]}set formats(t){this.format=t}add(e){return this.fonts[e.name]?t.positive(`Font [${e.name}] already registered. Skip..`):Object.values(s).includes(e.name)?t.warn(`You are not allowed to load fonts with names equal to system values [${Object.values(s)}]. \n                    Ignored.`):(this.fonts[e.name]=new NdFont(this.root,this.format,e),t.positive(`Font ${e.name} registered.`)),this.fonts[e.name]}get(t){return this.fonts[t]?this.fonts[t]:null}};class NdTextPartial extends NdEmitter{constructor(){super(...arguments),this.textColor="rgba(0,0,0,1)",this.fWeight=400,this.fSize=14,this.lHeight=14,this.fStyle="normal",this.ndFont="system",this.freeze={},this.onPossibleSizeChange=t=>{this.on(["font","fontSize","weight","style","lineHeight"],t)},this.fontString=()=>{if(Object.values(s).includes(this.ndFont))return"system"===this.ndFont?`${this.style} ${this.weight} ${this.fSize}px serif`:this.fSize+"px "+this.ndFont;{const t=i.get(this.ndFont);return t?t.string(this.fStyle,this.fWeight,this.fSize,this.lineHeight):""}}}get font(){return this.ndFont}set font(t){this.freeze.font||this.ndFont!==t&&(this.ndFont=t,this.cast("font",t))}get lineHeight(){return this.lHeight}set lineHeight(t){this.freeze.lineHeight||(t<0&&(t=0),t!==this.lHeight&&(this.lHeight=t,this.cast("lineHeight",this.lHeight)))}get weight(){return this.fWeight}set weight(t){this.freeze.weight||this.fWeight!==t&&(this.fWeight=t,this.cast("weight",t))}get color(){return this.textColor}set color(t){if(!this.freeze.color){const e=NdNodeStylesModel.arrayToColor(NdNodeStylesModel.normalizeColor(NdNodeStylesModel.colorToArray(t)));e!==this.textColor&&(this.textColor=e,this.cast("color",this.textColor))}}get style(){return this.fStyle}set style(t){this.freeze.style||this.fStyle!==t&&(this.fStyle=t,this.cast("style",t))}get fontSize(){return this.fSize}set fontSize(t){this.freeze.style||(t<0&&(t=0),this.fSize!==t&&(this.fSize=t,this.cast("fontSize",this.fSize)))}}class NdTextWord extends NdTextPartial{constructor(t){super(),this.str="",this.context=document.createElement("canvas").getContext("2d"),this.w=0,this.resizeFlag=!0,this.redrawFlag=!0,this.resize=()=>{this.context.font=this.fontString();const t=Math.ceil(this.context.measureText(this.str).width);t!==this.w&&(this.context.canvas.width=t,this.w=t),this.context.canvas.height!==this.lineHeight&&(this.context.canvas.height=this.lineHeight),this.resizeFlag=!1},this.redraw=()=>{this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height),this.context.textBaseline="middle",this.context.fillStyle=this.color,this.context.font=this.fontString(),this.context.fillText(this.str,0,this.lineHeight/2),this.redrawFlag=!1},this.render=(t,e,s)=>{this.resizeFlag&&this.resize(),this.redrawFlag&&this.redraw(),t.drawImage(this.context.canvas,e,s)},this.string=t,this.on("font",(()=>{if(!Object.values(s).includes(this.font)){const t=i.get(this.font);t&&(t.loaded||t.once("load",(()=>{this.resizeFlag=!0,this.redrawFlag=!0})))}})),this.onPossibleSizeChange((()=>{this.resizeFlag=!0,this.redrawFlag=!0})),this.on("color",(()=>{this.redrawFlag=!0}))}get width(){return this.resizeFlag&&this.resize(),this.w}get length(){return this.str.length}get string(){return this.str}set string(t){t=t.trim(),this.str!==t&&(this.resizeFlag=!0,this.redrawFlag=!0,this.str=t)}}class NdTextSpace extends NdTextPartial{constructor(){super(),this.w=0,this.context=document.createElement("canvas").getContext("2d"),this.measured=!1,this.render=()=>{},this.on("font",(()=>{if(!Object.values(s).includes(this.font)){const t=i.get(this.font);t&&(t.loaded||t.once("load",(()=>{this.measured=!1})))}}))}get length(){return 1}get string(){return" "}forceRedraw(){this.measured=!1}get width(){return this.measured||(this.context.font=this.fontString(),this.w=this.context.measureText(" ").width),this.w}}class NdTextBlock extends NdTextPartial{constructor(t){super(),this.str="",this.l=1/0,this.w=0,this.h=0,this.wordsPattern=/(\S+)/g,this.tagPattern=/\[(?<tagname>[cbi])(="(?<value>rgba\(\d*,\d*,\d*(,(\.\d+|1))?\))")?](?<content>((?!\[\/?\k<tagname>]).)*)\[\/\k<tagname>]/gm,this.updated=!0,this.words=[],this.export=()=>{},this.render=t=>{let e=0,s=0,i=this.width;this.words.forEach((r=>{e+r.width>i&&(s+=this.lineHeight,e=0),r instanceof NdTextSpace&&0===e||(r.render(t,e,s),e+=r.width)}))},this.string=t,this.bindWordsStyles(),this.on("font",(()=>{if(!Object.values(s).includes(this.font)){const t=i.get(this.font);t&&(t.loaded||t.once("load",(()=>{this.updated=!0})))}}))}static applyStylesToText(t,e){return Object.assign(t,e),t}updateSize(){this.w=Math.ceil(this.words.reduce(((t,e)=>t+e.width),0)),this.w=this.l<this.w?this.l:this.w,0===this.w&&(this.w=1);let t=0,e=this.lineHeight,s=[];this.words.forEach(((i,r)=>{t+i.width>this.w&&(e+=this.lineHeight,s.push(t),t=0),t+=i.width,r==this.words.length-1&&0!==t&&s.push(t)}));let i=Math.max.apply(null,s);i<this.w&&(this.w=i),this.h=Math.ceil(e),0===this.h&&(this.h=1),this.updated=!1}bindWordsStyles(){["weight","style","color","font","fontSize","lineHeight"].forEach((t=>{this.on(t,(()=>{this.words.forEach((e=>{e[t]=this[t]}))}))}))}split(t=this.str,e={font:this.font,weight:this.weight,fontSize:this.fontSize,lineHeight:this.lineHeight,style:this.style,color:this.color},s={},i=0){let r=[],o=null,n=i;for(;o=this.tagPattern.exec(t);){if(o.index){const i=t.substring(0,o.index).match(this.wordsPattern);i&&i.forEach((t=>{this.words[n]?(this.words[n].freeze={},r.push(NdTextBlock.applyStylesToText(this.words[n],e)),r[n].string=t):r.push(NdTextBlock.applyStylesToText(new NdTextWord(t),e)),r[r.length-1].freeze=Object.assign({},s),n++,this.words[n]?(this.words[n].freeze={},r.push(NdTextBlock.applyStylesToText(this.words[n],e))):r.push(NdTextBlock.applyStylesToText(new NdTextSpace,e)),r[r.length-1].freeze=Object.assign({},s),n++}))}o.groups.content&&(r=[...r,...this.split(o.groups.content,Object.assign(Object.assign({},e),{weight:"b"===o.groups.tagname?"bold":e.weight,color:"c"===o.groups.tagname&&o.groups.value?o.groups.value:e.color,style:"i"===o.groups.tagname?"italic":e.style}),{weight:"b"===o.groups.tagname||s.weight,color:"c"===o.groups.tagname||s.color,style:"i"===o.groups.tagname||s.style},r.length)],n=r.length),t=t.slice(o.index+o[0].length)}if(t.length){const i=t.match(this.wordsPattern);i&&i.forEach((t=>{const i=this.words[n]?this.words[n]:new NdTextWord(t);i.freeze={},NdTextBlock.applyStylesToText(i,e),i.string=t,i.freeze=Object.assign({},s),r.push(i),n++;const o=this.words[n]?NdTextBlock.applyStylesToText(this.words[n],e):NdTextBlock.applyStylesToText(new NdTextSpace,e);o.freeze=Object.assign({},this.freeze),r.push(o),n++}))}return r}get length(){return this.str.length}get width(){return this.updated&&this.updateSize(),this.l<this.w?this.l:this.w}get limit(){return this.l}set limit(t){this.l=t,this.updated=!0}get height(){return this.updated&&this.updateSize(),this.h}get string(){return this.str}set string(t){if(t!==this.str){this.str=t;const e=this.split();e.pop(),this.words=e,this.updated=!0}}}class NdModText extends NdNodeStylesModel{constructor(){super(...arguments),this.str=new NdStylesProperty(0,"",(t=>t),(t=>t)),this.width=new NdStylesProperty(1,"auto",(t=>t),(t=>t)),this.font=new NdStylesProperty(1,s.system,(t=>t),(t=>Object.values(s).includes(t)||i.get(t)?t:s.system)),this.color=new NdStylesProperty(2,"rgba(0,0,0,1)",(t=>t),(t=>t)),this.weight=new NdStylesProperty(2,"normal",(t=>t),(t=>t)),this.lineHeight=new NdStylesProperty(2,14,(t=>t),(t=>isFinite(t)?t:14)),this.style=new NdStylesProperty(2,"normal",(t=>t),(t=>t))}}class Text extends Node{constructor(t,e){super(t,Object.assign(Object.assign(Object.assign({},new NdModText),new NdModAnchor),new NdModBase),e),this.Assembler=new NdModeAssembler([{name:"text",resolver:t=>{this.textBlock.render(t)}}]),this.Box=new NdNodeBox(this,this.Cache,(()=>{let t=[...this.data.position.protectedValue];const e=this.textBlock.width,s=this.textBlock.height;return Node.applyBoxAnchor(t,e,s,this.data),[t[0],t[1],e,s,0,0,0,0]})),this.render=t=>(Node.transformContext(this,t),t.drawImage(this.Assembler.export(this),0,0),t),this.test=t=>(t=this.Matrix.value.traceCursorToLocalSpace([...t]))[0]<this.Box.value.sprite.size[0]&&t[0]>0&&t[1]<this.Box.value.sprite.size[1]&&t[1]>0&&this,this.export=()=>this.textBlock.export(),this.textBlock=new NdTextBlock(this.data.str.protectedValue),this.syncStylesToBlock(),this.watch(["str","lineHeight","width","weight","style"],(()=>{this.Box.purge(),this.Matrix.purge()})),this.watch("width",(()=>{"number"==typeof this.data.width.protectedValue?this.textBlock.limit=this.data.width.protectedValue:this.textBlock.limit=1/0})),this.watch(["str","lineHeight","weight","width","style"],(()=>{this.Assembler.update(),this.Assembler.resize()})),this.watch("font",(()=>{if(!Object.values(s).includes(this.data.font.protectedValue)){const t=i.get(this.data.font.protectedValue);t&&(t.loaded||(t.once("load",(()=>{this.Box.purge(),this.Matrix.purge(),this.Assembler.resize(),this.Assembler.update("text")})),t.load()))}}))}syncStylesToBlock(){this.textBlock.font=this.data.font.protectedValue,this.textBlock.color=this.data.color.protectedValue,this.textBlock.lineHeight=this.data.lineHeight.protectedValue,this.textBlock.style=this.data.style.protectedValue,this.textBlock.weight=this.data.weight.protectedValue,this.bindProps(["font","style","weight","fontSize","lineHeight","color"]),this.watch("str",(()=>{this.textBlock.string=this.data.str.protectedValue}))}bindProps(t){t.forEach((t=>{this.watch(t,(()=>{this.textBlock[t]=this.data[t].protectedValue}))}))}}class Nodas{constructor(t){this.Ticker=new Ticker,this.Config=new Config;const e=new Ticker,s=new Canvas(e),i=new Nodes(s),r=new Mouse(s,e,i);s.element(t),this.Ticker=e,this.Canvas=s,this.Mouse=r,this.Tree=i,new Group("NODE_TREE_DEFAULT_ROOT",this),this.area=t=>new Area(t,this),this.circle=t=>new Circle(t,this),this.rect=t=>new Rectangle(t,this),this.line=t=>new Line(t,this),this.sprite=t=>new Sprite(t,this),this.text=t=>new Text(t,this),this.group=(t,e)=>{const s=new Group(t,this);return e&&s.append(e),s}}}const r=i;export{r as Fonts,Nodas as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguZXNtLmpzIiwic291cmNlcyI6WyIuLi9Ob2Rhcy9DYW52YXMvTmRRdWV1ZUVsZW1lbnQudHMiLCIuLi9Ob2Rhcy9jbGFzc2VzL05kRXZlbnQudHMiLCIuLi9Ob2Rhcy9jbGFzc2VzL05kTW91c2VFdmVudC50cyIsIi4uL05vZGFzL2NsYXNzZXMvTmRTdGF0ZUV2ZW50LnRzIiwiLi4vTm9kYXMvY2xhc3Nlcy9OZEVtaXR0ZXIudHMiLCIuLi9Ob2Rhcy9TZXJ2aWNlcy9Ob2Rhc0RlYnVnLnRzIiwiLi4vTm9kYXMvQ2FudmFzLnRzIiwiLi4vTm9kYXMvQ29uZmlnL05kQ29uZmlnUHJvcGVydHkudHMiLCIuLi9Ob2Rhcy9Db25maWcudHMiLCIuLi9Ob2Rhcy9UaWNrZXIudHMiLCIuLi9Ob2Rhcy9jbGFzc2VzL05kRWFzaW5ncy50cyIsIi4uL05vZGFzL2NsYXNzZXMvTmRNb3JwaGluZS50cyIsIi4uL05vZGFzL2NsYXNzZXMvTmRBbmltYXRpb24udHMiLCIuLi9Ob2Rhcy9jbGFzc2VzL05kTWF0cml4LnRzIiwiLi4vTm9kYXMvTm9kZXMvY2xhc3Nlcy9OZE5vZGVNYXRyaXgudHMiLCIuLi9Ob2Rhcy9jbGFzc2VzL05kQ2FjaGUudHMiLCIuLi9Ob2Rhcy9jbGFzc2VzL05kQ29tcGlsZXIudHMiLCIuLi9Ob2Rhcy9Ob2Rlcy9Ob2RlLnRzIiwiLi4vTm9kYXMvTm9kZXMvY2xhc3Nlcy9OZE5vZGVTdHlsZXNNb2RlbC50cyIsIi4uL05vZGFzL05vZGVzL2NsYXNzZXMvTmROb2RlU3R5bGVQcm9wZXJ0eS50cyIsIi4uL05vZGFzL05vZGVzL2NsYXNzZXMvTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkLnRzIiwiLi4vTm9kYXMvTm9kZXMvbW9kZWxzL05kTW9kQmFzZS50cyIsIi4uL05vZGFzL2NsYXNzZXMvTmRCb3gudHMiLCIuLi9Ob2Rhcy9Ob2Rlcy9jbGFzc2VzL05kTm9kZUJveC50cyIsIi4uL05vZGFzL05vZGVzL0dyb3VwLnRzIiwiLi4vTm9kYXMvTm9kZXMvY2xhc3Nlcy9OZE5vZGVDb25uZWN0b3IudHMiLCIuLi9Ob2Rhcy9Ob2Rlcy50cyIsIi4uL05vZGFzL01vdXNlL05kTm9kZU1vdXNlRGlzcGF0Y2hlci50cyIsIi4uL05vZGFzL01vdXNlLnRzIiwiLi4vTm9kYXMvY2xhc3Nlcy9OZENhbnZhcy50cyIsIi4uL05vZGFzL2NsYXNzZXMvTmRMYXllci50cyIsIi4uL05vZGFzL05vZGVzL2NsYXNzZXMvTmRNb2RlQXNzZW1ibGVyLnRzIiwiLi4vTm9kYXMvTm9kZXMvbW9kZWxzL05kTW9kRnJlZVN0cm9rZS50cyIsIi4uL05vZGFzL05vZGVzL21vZGVscy9OZE1vZEFuY2hvci50cyIsIi4uL05vZGFzL05vZGVzL2NsYXNzZXMvTmROb2RlRW1waXJpY2FsTW91c2VDaGVja2VyLnRzIiwiLi4vTm9kYXMvTm9kZXMvTGluZS50cyIsIi4uL05vZGFzL2NsYXNzZXMvTmRSZXNvdXJjZS50cyIsIi4uL05vZGFzL2NsYXNzZXMvTmRJbWFnZS50cyIsIi4uL05vZGFzL05vZGVzL21vZGVscy9OZE1vZEJnLnRzIiwiLi4vTm9kYXMvTm9kZXMvbW9kZWxzL05kTW9kQ2lyYy50cyIsIi4uL05vZGFzL05vZGVzL0NpcmNsZS50cyIsIi4uL05vZGFzL2NsYXNzZXMvTmRTcHJpdGUudHMiLCIuLi9Ob2Rhcy9Ob2Rlcy9tb2RlbHMvTmRNb2RTcHJpdGUudHMiLCIuLi9Ob2Rhcy9Ob2Rlcy9TcHJpdGUudHMiLCIuLi9Ob2Rhcy9Ob2Rlcy9BcmVhLnRzIiwiLi4vTm9kYXMvTm9kZXMvbW9kZWxzL05kTW9kU2l6ZS50cyIsIi4uL05vZGFzL05vZGVzL21vZGVscy9OZE1vZFJlY3QudHMiLCIuLi9Ob2Rhcy9Ob2Rlcy9SZWN0YW5nbGUudHMiLCIuLi9Ob2Rhcy9AdHlwZXMvdHlwZXMudHMiLCIuLi9Ob2Rhcy9jbGFzc2VzL05kRm9udC50cyIsIi4uL05vZGFzL1NlcnZpY2VzL05vZGFzRm9udHMudHMiLCIuLi9Ob2Rhcy9jbGFzc2VzL05kVGV4dFBhcnRpYWwudHMiLCIuLi9Ob2Rhcy9jbGFzc2VzL05kVGV4dFdvcmQudHMiLCIuLi9Ob2Rhcy9jbGFzc2VzL05kVGV4dFNwYWNlLnRzIiwiLi4vTm9kYXMvY2xhc3Nlcy9OZFRleHRCbG9jay50cyIsIi4uL05vZGFzL05vZGVzL21vZGVscy9OZE1vZFRleHQudHMiLCIuLi9Ob2Rhcy9Ob2Rlcy9UZXh0LnRzIiwiLi4vTm9kYXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtOZENhbnZhc1F1ZXVlQ2FsbGJhY2t9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZFF1ZXVlRWxlbWVudCB7XHJcbiAgICByZWFkb25seSBvcmRlcjogbnVtYmVyID0gMFxyXG4gICAgcmVhZG9ubHkgY2FsbGJhY2s7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2FsbGJhY2s6IE5kQ2FudmFzUXVldWVDYWxsYmFjaywgb3JkZXI/OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2tcclxuICAgICAgICBpZiAob3JkZXIpIHRoaXMub3JkZXIgPSBvcmRlclxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmRFdmVudDxUYXJnZXRUeXBlLFxyXG4gICAgRGF0YVR5cGU+IHtcclxuICAgIHB1YmxpYyByZWFkb25seSB0aW1lOiBEYXRlID0gbmV3IERhdGUoKVxyXG4gICAgcHVibGljIHJlYWRvbmx5IGRhdGE6IERhdGFUeXBlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHRhcmdldDogVGFyZ2V0VHlwZVxyXG4gICAgcHVibGljIHByb3BhZ2F0ZTogYm9vbGVhbiA9IHRydWVcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICB0YXJnZXQ6IFRhcmdldFR5cGUsXHJcbiAgICAgICAgZGF0YTogRGF0YVR5cGUpIHtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTmRFdmVudCBmcm9tICcuL05kRXZlbnQnO1xyXG5pbXBvcnQge05kTW91c2VFdmVudERhdGF9IGZyb20gJy4uL05vZGVzL0B0eXBlcy90eXBlcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZE1vdXNlRXZlbnQ8VGFyZ2V0PiBleHRlbmRzIE5kRXZlbnQ8VGFyZ2V0LCBOZE1vdXNlRXZlbnREYXRhPiB7XHJcbn0iLCJpbXBvcnQgTmRFdmVudCBmcm9tICcuL05kRXZlbnQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmRTdGF0ZUV2ZW50PFRhcmdldD4gZXh0ZW5kcyBOZEV2ZW50PFRhcmdldCwgbnVsbD4ge1xyXG59IiwiaW1wb3J0IHtOZExpc3RlbmFibGV9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCB7RXZlbnRFbWl0dGVyfSBmcm9tICdldmVudHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmRFbWl0dGVyPFNjaGVtZSwgSyBleHRlbmRzIGtleW9mIFNjaGVtZSA9IGtleW9mIFNjaGVtZT4gaW1wbGVtZW50cyBOZExpc3RlbmFibGU8U2NoZW1lLCBLPiB7XHJcbiAgICBwcml2YXRlIEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKClcclxuICAgIHByb3RlY3RlZCBjYXN0KGV2ZW50OiBrZXlvZiBTY2hlbWUsIGRhdGE6IFNjaGVtZVtLXSk6IFNjaGVtZVtLXSB7XHJcbiAgICAgICAgdGhpcy5FbWl0dGVyLmVtaXQoPHN0cmluZz5ldmVudCwgZGF0YSlcclxuICAgICAgICByZXR1cm4gZGF0YVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCByZXNldCgpIHtcclxuICAgICAgICB0aGlzLkVtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKClcclxuICAgIH1cclxuICAgIG9uKGV2ZW50OiBLIHwgKEspW10sIGNhbGxiYWNrOiAoZXZlbnQ6IFNjaGVtZVtLXSkgPT4gdm9pZCkge1xyXG4gICAgICAgIGV2ZW50IGluc3RhbmNlb2YgQXJyYXkgP1xyXG4gICAgICAgICAgICBldmVudC5mb3JFYWNoKGUgPT4gdGhpcy5FbWl0dGVyLm9uKDxzdHJpbmc+ZSwgY2FsbGJhY2spKSA6XHJcbiAgICAgICAgICAgIHRoaXMuRW1pdHRlci5vbig8c3RyaW5nPmV2ZW50LCBjYWxsYmFjaylcclxuICAgIH1cclxuXHJcbiAgICBvbmNlKGV2ZW50OiBLfCAoSylbXSwgY2FsbGJhY2s6IChldmVudDogU2NoZW1lW0tdKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgdGhpcy5FbWl0dGVyLm9uY2UoPHN0cmluZz5ldmVudCwgY2FsbGJhY2spXHJcbiAgICB9XHJcblxyXG4gICAgb2ZmKGV2ZW50OiBLfCAoSylbXSwgY2FsbGJhY2s6IChldmVudDogU2NoZW1lW0tdKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgdGhpcy5FbWl0dGVyLm9mZig8c3RyaW5nPmV2ZW50LCBjYWxsYmFjaylcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgTmRFbWl0dGVyIGZyb20gJy4uL2NsYXNzZXMvTmRFbWl0dGVyJztcclxuXHJcbmNsYXNzIE5vZGFzRGVidWcgZXh0ZW5kcyBOZEVtaXR0ZXI8eyAnbWVzc2FnZSc6IHN0cmluZywgJ2Vycm9yJzogc3RyaW5nLCAnaW5mbyc6IHN0cmluZywgJ2ltcG9ydGFudCc6IHN0cmluZyB9PiB7XHJcbiAgICBwcml2YXRlIHByZWZpeCA9ICfii5InXHJcbiAgICBwcml2YXRlIHdhcm5pbmdzID0gdHJ1ZVxyXG4gICAgcHJpdmF0ZSBncm91cExldmVsID0gMFxyXG4gICAgcHJpdmF0ZSBjdXJyZW50TGV2ZWwgPSAwO1xyXG4gICAgcHJpdmF0ZSBzZXBhcmF0b3JNZXNzYWdlczogeyBba2V5OiBudW1iZXJdOiBzdHJpbmcgfSA9IHt9XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0TWVzc2FnZShtZXNzYWdlOiBzdHJpbmcsIHNvdXJjZT86IHt9IHwgc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke3RoaXMucHJlZml4fSR7c291cmNlID8gYFske3R5cGVvZiBzb3VyY2UgPT0gJ3N0cmluZycgPyBzb3VyY2UgOiBzb3VyY2UuY29uc3RydWN0b3IubmFtZX1dYCA6ICcnfTogJHttZXNzYWdlfWA7XHJcbiAgICB9XHJcblxyXG4gICAgZXJyb3IobWVzc2FnZTogc3RyaW5nLCBzb3VyY2U/OiB7fSB8IHN0cmluZykge1xyXG4gICAgICAgIG1lc3NhZ2UgPSB0aGlzLmdldE1lc3NhZ2UobWVzc2FnZSwgc291cmNlKVxyXG4gICAgICAgIHRoaXMuY2FzdCgnZXJyb3InLCBtZXNzYWdlKVxyXG4gICAgICAgIGNvbnNvbGUudHJhY2UoKTtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ/CfmLUnICsgbWVzc2FnZSlcclxuICAgIH1cclxuXHJcblxyXG4gICAgd2FybihtZXNzYWdlOiBzdHJpbmcsIHNvdXJjZT86IHt9IHwgc3RyaW5nKSB7XHJcbiAgICAgICAgbWVzc2FnZSA9IHRoaXMuZ2V0TWVzc2FnZShtZXNzYWdlLCBzb3VyY2UpXHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CfpKwlYycgKyBtZXNzYWdlLCAnYm9yZGVyLWxlZnQ6NHB4IHNvbGlkIHJnYigxNzgsMTM3LDc1KTsgcGFkZGluZyA6MnB4IDZweDsgYmFja2dyb3VuZDogcmdiYSgxMzEsMTM4LDAsLjEpOyBjb2xvcjogcmdiKDE3OCwxMzcsNzUpJyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGluZm8obWVzc2FnZTogc3RyaW5nLCBzb3VyY2U/OiB7fSB8IHN0cmluZykge1xyXG4gICAgICAgIG1lc3NhZ2UgPSB0aGlzLmdldE1lc3NhZ2UobWVzc2FnZSwgc291cmNlKVxyXG4gICAgICAgIHRoaXMuY2FzdCgnaW5mbycsIG1lc3NhZ2UpXHJcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfp5AlYycgKyBtZXNzYWdlLCAnYm9yZGVyLWxlZnQ6MnB4IHNvbGlkIHJnYigxNDksMjAyLDApOyBwYWRkaW5nIDoycHggNnB4OyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LC4xKTsnKTtcclxuICAgIH07XHJcblxyXG4gICAgbWVzc2FnZShtZXNzYWdlOiBzdHJpbmcsIHNvdXJjZT86IHt9IHwgc3RyaW5nKSB7XHJcbiAgICAgICAgbWVzc2FnZSA9IHRoaXMuZ2V0TWVzc2FnZShtZXNzYWdlLCBzb3VyY2UpXHJcbiAgICAgICAgdGhpcy5jYXN0KCdpbmZvJywgbWVzc2FnZSlcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+ZgiVjJyArIG1lc3NhZ2UsICdwYWRkaW5nOiAxcHggMTBweDsgYm9yZGVyLWxlZnQ6MnB4IHNvbGlkICMxMDk0OUM7IGZvbnQtd2VpZ2h0OmJvbGQ7IGJhY2tncm91bmQ6IHJnYmEoMCwxNzUsMjMxLC4xKTsgY29sb3I6ICMxMDk0OUMnKTtcclxuICAgIH07XHJcblxyXG4gICAgc2VwYXJhdG9yKG1lc3NhZ2U6IHN0cmluZywgc291cmNlPzoge30gfCBzdHJpbmcpIHtcclxuICAgICAgICBtZXNzYWdlID0gdGhpcy5nZXRNZXNzYWdlKG1lc3NhZ2UsIHNvdXJjZSlcclxuICAgICAgICB0aGlzLmN1cnJlbnRMZXZlbCsrO1xyXG4gICAgICAgIHRoaXMuc2VwYXJhdG9yTWVzc2FnZXNbdGhpcy5jdXJyZW50TGV2ZWxdID0gbWVzc2FnZTtcclxuICAgICAgICB0aGlzLmNhc3QoJ2luZm8nLCBtZXNzYWdlKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCclYycgKyBtZXNzYWdlICsgJyDijJsnLCAncGFkZGluZzogNHB4IDEwcHg7IGJvcmRlci1sZWZ0OiAycHggc29saWQgIzEwOTQ5QzsgYmFja2dyb3VuZDpyZ2JhKDE2LDE0OCwxNTYsMC4xKTsgY29sb3I6ICMxMDk0OUMnKTtcclxuICAgIH07XHJcblxyXG4gICAgc2VwYXJhdG9yRW5kKCkge1xyXG4gICAgICAgIGlmICghdGhpcy53YXJuaW5ncykgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLnNlcGFyYXRvck1lc3NhZ2VzW3RoaXMuY3VycmVudExldmVsXSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnJWMnICsgdGhpcy5zZXBhcmF0b3JNZXNzYWdlc1t0aGlzLmN1cnJlbnRMZXZlbF0gKyAnIOKclCcsICdwYWRkaW5nOiA0cHggMTBweDsgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCAjMTA5NDlDOyBiYWNrZ3JvdW5kOnJnYmEoMTYsMTQ4LDE1NiwwLjEpOyBjb2xvcjogIzEwOTQ5QycpO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRMZXZlbC0tO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50TGV2ZWwgPT09IDApIHRoaXMuc2VwYXJhdG9yTWVzc2FnZXMgPSB7fTtcclxuICAgIH07XHJcblxyXG4gICAgcG9zaXRpdmUobWVzc2FnZTogc3RyaW5nLCBzb3VyY2U/OiB7fSB8IHN0cmluZykge1xyXG4gICAgICAgIGlmICghdGhpcy53YXJuaW5ncykgcmV0dXJuO1xyXG4gICAgICAgIG1lc3NhZ2UgPSB0aGlzLmdldE1lc3NhZ2UobWVzc2FnZSwgc291cmNlKVxyXG4gICAgICAgIHRoaXMuY2FzdCgnaW5mbycsIG1lc3NhZ2UpXHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CfpbMlYycgKyBtZXNzYWdlLCAnYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCByZ2IoMTQ5LDIwMiwwKTsgYmFja2dyb3VuZDpyZ2JhKDE0OSwyMDIsMCwuMSk7IHBhZGRpbmc6IDRweCAxMHB4OyBjb2xvcjpyZ2IoMTQ5LDIwMiwwKScpO1xyXG4gICAgfTtcclxuXHJcbiAgICBuZWdhdGl2ZShtZXNzYWdlOiBzdHJpbmcsIHNvdXJjZT86IHt9IHwgc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLndhcm5pbmdzKSByZXR1cm47XHJcbiAgICAgICAgbWVzc2FnZSA9IHRoaXMuZ2V0TWVzc2FnZShtZXNzYWdlLCBzb3VyY2UpXHJcbiAgICAgICAgdGhpcy5jYXN0KCdpbmZvJywgbWVzc2FnZSlcclxuICAgICAgICBjb25zb2xlLmxvZygn4pi5JWMnICsgbWVzc2FnZSwgJ2JvcmRlci1sZWZ0OiAycHggc29saWQgcmdiKDIyNCwxNCwwKTsgYmFja2dyb3VuZDpyZ2JhKDIyNCwxNCwwLC4xKTsgcGFkZGluZzogNHB4IDEwcHg7IGNvbG9yOiByZ2IoMjI0LDE0LDApJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIGdyb3VwKG1lc3NhZ2U6IHN0cmluZykge1xyXG4gICAgICAgIGlmICghdGhpcy53YXJuaW5ncykgcmV0dXJuO1xyXG4gICAgICAgIGNvbnNvbGUuZ3JvdXAobWVzc2FnZSk7XHJcbiAgICAgICAgdGhpcy5ncm91cExldmVsKys7XHJcbiAgICB9O1xyXG5cclxuICAgIGdyb3VwRW5kKCkge1xyXG4gICAgICAgIGlmICghdGhpcy53YXJuaW5ncykgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuZ3JvdXBMZXZlbC0tO1xyXG4gICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IE5EQiA9IG5ldyBOb2Rhc0RlYnVnKCkiLCJpbXBvcnQge05kQ2FudmFzQ29udGV4dCwgTmRDYW52YXNRdWV1ZUNhbGxiYWNrLCBOZENhbnZhc1F1ZXVlQ2FsbGJhY2tBcmdzLCBOZE51bWVyaWNBcnJheTJkLCBOZFRpY2tlckZ9IGZyb20gJy4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IFRpY2tlciBmcm9tICcuL1RpY2tlcic7XHJcbmltcG9ydCBOZFF1ZXVlRWxlbWVudCBmcm9tICcuL0NhbnZhcy9OZFF1ZXVlRWxlbWVudCc7XHJcbmltcG9ydCB7TmRNb3VzZUV2ZW50RGF0YSwgTmRQZXJjZW50U3RyLCBOZFJvb3RDYW52YXNNb3VzZUV2ZW50c1NjaGVtZSwgTmRSb290Q2FudmFzU3RhdGVFdmVudHNTY2hlbWV9IGZyb20gJy4vTm9kZXMvQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5kTW91c2VFdmVudCBmcm9tICcuL2NsYXNzZXMvTmRNb3VzZUV2ZW50JztcclxuaW1wb3J0IE5kU3RhdGVFdmVudCBmcm9tICcuL2NsYXNzZXMvTmRTdGF0ZUV2ZW50JztcclxuaW1wb3J0IE5kRW1pdHRlciBmcm9tICcuL2NsYXNzZXMvTmRFbWl0dGVyJztcclxuaW1wb3J0IHtOREJ9IGZyb20gJy4vU2VydmljZXMvTm9kYXNEZWJ1Zyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXMgZXh0ZW5kcyBOZEVtaXR0ZXI8TmRSb290Q2FudmFzTW91c2VFdmVudHNTY2hlbWUgJiBOZFJvb3RDYW52YXNTdGF0ZUV2ZW50c1NjaGVtZT57XHJcblxyXG4gICAgcHJpdmF0ZSBlOiBIVE1MQ2FudmFzRWxlbWVudCB8IG51bGwgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBjb250ZXh0OiBOZENhbnZhc0NvbnRleHQgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBzOiBbbnVtYmVyIHwgTmRQZXJjZW50U3RyLCBudW1iZXIgfCBOZFBlcmNlbnRTdHJdID0gWzgwMCwgNjAwXVxyXG4gICAgcHJpdmF0ZSBzTnVtZXJpYzogTmROdW1lcmljQXJyYXkyZCA9IFs4MDAsIDYwMF1cclxuICAgIHByaXZhdGUgcmVzaXplUHJvY2Vzc1RpbWVvdXQ6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGxcclxuICAgIHByaXZhdGUgcTogTmRRdWV1ZUVsZW1lbnRbXSA9IFtdXHJcbiAgICBwcml2YXRlIF9yZWFkeSA9IGZhbHNlXHJcbiAgICBwcml2YXRlIF9jbGVhciA9IGZhbHNlXHJcbiAgICBwcml2YXRlIGFyZ3M6IE5kQ2FudmFzUXVldWVDYWxsYmFja0FyZ3MgPSBbdGhpcy5jb250ZXh0LCBuZXcgRGF0ZSgpLCAwXVxyXG4gICAgcHJpdmF0ZSBzY3JvbGwgPSBbd2luZG93LnNjcm9sbFggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQsIHdpbmRvdy5zY3JvbGxZIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3BdXHJcbiAgICBwcml2YXRlIG9mZnNldCA9IFswLCAwXVxyXG4gICAgcHJpdmF0ZSBjdXJzb3I6IE5kTW91c2VFdmVudERhdGEgPSB7XHJcbiAgICAgICAgY3Vyc29yOiBbMCwgMF0sXHJcbiAgICAgICAgcGFnZTogWzAsIDBdLFxyXG4gICAgICAgIHNjcmVlbjogWzAsIDBdXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVFdmVudERhdGE6KGU6IE1vdXNlRXZlbnQpPT4gTmRNb3VzZUV2ZW50RGF0YSA9IChlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jdXJzb3IucGFnZSA9IFtlLnBhZ2VYLCBlLnBhZ2VZXVxyXG4gICAgICAgIHRoaXMuY3Vyc29yLmN1cnNvciA9IHRoaXMuZ2V0TW91c2VSZWxhdGl2ZVBvc2l0aW9uKGUpXHJcbiAgICAgICAgdGhpcy5jdXJzb3Iuc2NyZWVuID0gW2UucGFnZVggLSB0aGlzLnNjcm9sbFswXSwgZS5wYWdlWSAtIHRoaXMuc2Nyb2xsWzFdXVxyXG4gICAgICAgIHJldHVybiB0aGlzLmN1cnNvclxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25DYW52YXNNb3VzZU1vdmU6KGU6IE1vdXNlRXZlbnQpPT4gdm9pZCA9IChlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jYXN0KCdtb3VzZU1vdmUnLCBuZXcgTmRNb3VzZUV2ZW50PENhbnZhcz4odGhpcywgdGhpcy51cGRhdGVFdmVudERhdGEoZSkpKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25DYW52YXNNb3VzZUxlYXZlOihlOiBNb3VzZUV2ZW50KT0+IHZvaWQgPSAoZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FzdCgnbW91c2VMZWF2ZScsIG5ldyBOZE1vdXNlRXZlbnQ8Q2FudmFzPih0aGlzLCB0aGlzLnVwZGF0ZUV2ZW50RGF0YShlKSkpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbkNhbnZhc01vdXNlRW50ZXI6KGU6IE1vdXNlRXZlbnQpPT4gdm9pZCA9IChlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jYXN0KCdtb3VzZUVudGVyJywgbmV3IE5kTW91c2VFdmVudDxDYW52YXM+KHRoaXMsIHRoaXMudXBkYXRlRXZlbnREYXRhKGUpKSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uQ2FudmFzTW91c2VEb3duOihlOiBNb3VzZUV2ZW50KT0+IHZvaWQgPSAoZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FzdCgnbW91c2VEb3duJywgbmV3IE5kTW91c2VFdmVudDxDYW52YXM+KHRoaXMsIHRoaXMudXBkYXRlRXZlbnREYXRhKGUpKSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uQ2FudmFzTW91c2VVcDooZTogTW91c2VFdmVudCk9PiB2b2lkID0gKGUpID0+e1xyXG4gICAgICAgIHRoaXMuY2FzdCgnbW91c2VVcCcsIG5ldyBOZE1vdXNlRXZlbnQ8Q2FudmFzPih0aGlzLCB0aGlzLnVwZGF0ZUV2ZW50RGF0YShlKSkpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW1vdmVFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLmU/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25DYW52YXNNb3VzZU1vdmUpXHJcbiAgICAgICAgdGhpcy5lPy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5vbkNhbnZhc01vdXNlTGVhdmUpXHJcbiAgICAgICAgdGhpcy5lPy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5vbkNhbnZhc01vdXNlRW50ZXIpXHJcbiAgICAgICAgdGhpcy5lPy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uQ2FudmFzTW91c2VEb3duKVxyXG4gICAgICAgIHRoaXMuZT8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25DYW52YXNNb3VzZVVwKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5lPy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uQ2FudmFzTW91c2VNb3ZlKVxyXG4gICAgICAgIHRoaXMuZT8uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMub25DYW52YXNNb3VzZUxlYXZlKVxyXG4gICAgICAgIHRoaXMuZT8uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMub25DYW52YXNNb3VzZUVudGVyKVxyXG4gICAgICAgIHRoaXMuZT8uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbkNhbnZhc01vdXNlRG93bilcclxuICAgICAgICB0aGlzLmU/LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uQ2FudmFzTW91c2VVcClcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlY2FsY3VsYXRlT2Zmc2V0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmUpIHtcclxuICAgICAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMuZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxyXG4gICAgICAgICAgICB0aGlzLm9mZnNldCA9IFtyZWN0LnggKyB0aGlzLnNjcm9sbFswXSwgcmVjdC55ICsgdGhpcy5zY3JvbGxbMV1dXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0TW91c2VSZWxhdGl2ZVBvc2l0aW9uKGV2ZW50OiBNb3VzZUV2ZW50KTogTmROdW1lcmljQXJyYXkyZCB7XHJcbiAgICAgICAgcmV0dXJuIFtldmVudC5wYWdlWCAtIHRoaXMub2Zmc2V0WzBdIC0gdGhpcy5zY3JvbGxbMF0sIGV2ZW50LnBhZ2VZIC0gdGhpcy5vZmZzZXRbMV0gLSB0aGlzLnNjcm9sbFsxXV07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWNhbGN1bGF0ZVNpemUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZSkge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJlbnRIVE1MTm9kZSA9IHRoaXMuZS5wYXJlbnROb2RlIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAocGFyZW50SFRNTE5vZGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudEhUTUxOb2RlU3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUocGFyZW50SFRNTE5vZGUsIG51bGwpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEhlaWdodCA9IHBhcnNlSW50KHBhcmVudEhUTUxOb2RlU3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJ2hlaWdodCcpKSxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRXaWR0aCA9IHBhcnNlSW50KHBhcmVudEhUTUxOb2RlU3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJ3dpZHRoJykpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNbMF0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd1BlcmNlbnQgPSBwYXJzZUludCh0aGlzLnNbMF0pIC8gMTAwXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zTnVtZXJpY1swXSA9IHBhcmVudFdpZHRoICogd1BlcmNlbnRcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB0aGlzLnNOdW1lcmljWzBdID0gdGhpcy5zWzBdXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuc1sxXSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoUGVyY2VudCA9IHBhcnNlSW50KHRoaXMuc1sxXSkgLyAxMDBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNOdW1lcmljWzFdID0gcGFyZW50SGVpZ2h0ICogaFBlcmNlbnRcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB0aGlzLnNOdW1lcmljWzFdID0gdGhpcy5zWzFdXHJcbiAgICAgICAgICAgICAgICB0aGlzLmUuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHRoaXMuc051bWVyaWNbMF0udG9TdHJpbmcoKSlcclxuICAgICAgICAgICAgICAgIHRoaXMuZS5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHRoaXMuc051bWVyaWNbMV0udG9TdHJpbmcoKSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnJlY2FsY3VsYXRlT2Zmc2V0KClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoYW5kbGVSZXNpemUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuc1swXSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHRoaXMuc1sxXSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZS5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgJzAnKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5lLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgJzAnKVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzaXplUHJvY2Vzc1RpbWVvdXQpIGNsZWFyVGltZW91dCh0aGlzLnJlc2l6ZVByb2Nlc3NUaW1lb3V0KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNpemVQcm9jZXNzVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjYWxjdWxhdGVTaXplKClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc3QoJ3Jlc2l6ZScsIG5ldyBOZFN0YXRlRXZlbnQ8Q2FudmFzPih0aGlzLCBudWxsKSlcclxuICAgICAgICAgICAgICAgIH0sIDEwMClcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc2l6ZVByb2Nlc3NUaW1lb3V0KSBjbGVhclRpbWVvdXQodGhpcy5yZXNpemVQcm9jZXNzVGltZW91dClcclxuICAgICAgICAgICAgICAgIHRoaXMuc051bWVyaWNbMF0gPSB0aGlzLnNbMF1cclxuICAgICAgICAgICAgICAgIHRoaXMuc051bWVyaWNbMV0gPSB0aGlzLnNbMV1cclxuICAgICAgICAgICAgICAgIHRoaXMucmVjYWxjdWxhdGVTaXplKClcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FzdCgncmVzaXplJywgbmV3IE5kU3RhdGVFdmVudCh0aGlzLCBudWxsKSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIERyYXdTY2VuZTogTmRUaWNrZXJGID0gKGRhdGUsIGZyYW1lKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3JlYWR5ICYmIHRoaXMuY29udGV4dCkge1xyXG4gICAgICAgICAgICBpZih0aGlzLl9jbGVhcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLDAsIHRoaXMuY29udGV4dC5jYW52YXMub2Zmc2V0V2lkdGgsIHRoaXMuY29udGV4dC5jYW52YXMub2Zmc2V0SGVpZ2h0KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYXJnc1swXSA9IHRoaXMuY29udGV4dDtcclxuICAgICAgICAgICAgdGhpcy5hcmdzWzFdID0gZGF0ZTtcclxuICAgICAgICAgICAgdGhpcy5hcmdzWzJdID0gZnJhbWU7XHJcbiAgICAgICAgICAgIHRoaXMucS5mb3JFYWNoKChxY2IsIGkpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcWNiLmNhbGxiYWNrLmFwcGx5KHRoaXMsIHRoaXMuYXJncylcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xyXG4gICAgICAgICAgICAgICAgICAgIE5EQi5lcnJvcihgRXJyb3IgZW1lcmdlZCB3aGlsZSBkcmF3aW5nLlxcbi4gUXVldWU6ICR7cWNiLm9yZGVyfVxcbiBRdWV1ZSBPcmRlcjogJHtpfVxcbiBNZW1iZXI6ICR7cWNiLmNhbGxiYWNrLm5hbWV9XFxuIG1lc3NhZ2U6ICR7ZS5tZXNzYWdlfWApXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihUaWNrZXJNb2R1bGU6IFRpY2tlcikge1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICBUaWNrZXJNb2R1bGUucXVldWUoMCwgdGhpcy5EcmF3U2NlbmUpXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxbMF0gPSB3aW5kb3cuc2Nyb2xsWCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxbMV0gPSB3aW5kb3cuc2Nyb2xsWSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSlcclxuICAgIH1cclxuXHJcbiAgICBlbGVtZW50KHRhcmdldDogSFRNTENhbnZhc0VsZW1lbnQgfCBzdHJpbmcpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgbGV0IGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XHJcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGUuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHRoaXMuc051bWVyaWNbMF0udG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICBlLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgdGhpcy5zTnVtZXJpY1sxXS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5lID0gZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IGUuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVhZHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgTkRCLnBvc2l0aXZlKGBBY2NlcHRlZCAke3RhcmdldH0gYXMgcmVuZGVyaW5nIHJvb3RgKVxyXG4gICAgICAgICAgICB9IGVsc2UgTkRCLmVycm9yKGBFbGVtZW50ICR7dGFyZ2V0fSBpcyBub3QgYSBIVE1MQ2FudmFzRWxlbWVudCBvciBkb2VzIG5vdCBleGlzdGApXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB0aGlzLnNOdW1lcmljWzBdLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCB0aGlzLnNOdW1lcmljWzFdLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKClcclxuICAgICAgICAgICAgdGhpcy5lID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQgPSB0YXJnZXQuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpXHJcbiAgICAgICAgICAgIHRoaXMuX3JlYWR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgTkRCLnBvc2l0aXZlKGBBY2NlcHRlZCAke3RhcmdldC5pZCA/IHRhcmdldC5pZCA6IHRhcmdldC5jbGFzc0xpc3QudG9TdHJpbmcoKX0gYXMgcmVuZGVyaW5nIHJvb3RgKVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhhbmRsZVJlc2l6ZSgpXHJcbiAgICAgICAgdGhpcy5jYXN0KCdzd2l0Y2gnLCBuZXcgTmRTdGF0ZUV2ZW50PENhbnZhcz4odGhpcywgbnVsbCkpXHJcbiAgICB9O1xyXG5cclxuICAgIHF1ZXVlKGE6IE5kQ2FudmFzUXVldWVDYWxsYmFjayB8IG51bWJlciwgYj86IE5kQ2FudmFzUXVldWVDYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGIgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgdGhpcy5xLnB1c2gobmV3IE5kUXVldWVFbGVtZW50KGIsIGEpKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHRoaXMucS5wdXNoKG5ldyBOZFF1ZXVlRWxlbWVudChhKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucS5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLm9yZGVyIC0gYi5vcmRlcjtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHVuUXVldWUoY2FsbGJhY2s6IE5kQ2FudmFzUXVldWVDYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMucSA9IHRoaXMucS5maWx0ZXIoKHFFKSA9PiBxRS5jYWxsYmFjayAhPT0gY2FsbGJhY2spXHJcbiAgICB9XHJcblxyXG4gICAgc2l6ZSh3aWR0aD86IG51bWJlciB8IE5kUGVyY2VudFN0ciwgaGVpZ2h0PzogbnVtYmVyIHwgTmRQZXJjZW50U3RyKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aWR0aCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHdpZHRoID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGhlaWdodCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGhlaWdodCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc1swXSA9IHdpZHRoXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNbMV0gPSBoZWlnaHRcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVzaXplKClcclxuICAgICAgICAgICAgfSBlbHNlIE5EQi5lcnJvcihgSW52YWxpZCBDYW52YXMgc2l6ZSBbJHt3aWR0aH0sICR7aGVpZ2h0fV1gKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbLi4udGhpcy5zTnVtZXJpY11cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGdldCByZWFkeSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVhZHlcclxuICAgIH1cclxuICAgIGdldCBjbGVhcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY2xlYXJcclxuICAgIH1cclxuICAgIHNldCBjbGVhcih2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX2NsZWFyID0gdmFsdWVcclxuICAgIH1cclxufSIsImltcG9ydCB7TmRDb25maWdQcm9wZXJ0eUNoZWNrQXJyYXlJdGVtLCBOZENvbmZpZ1Byb3BlcnR5Q2hlY2tzLCBOZENvbmZpZ1Byb3BlcnR5Q2hlY2tWYWx1ZSwgTmRDb25maWdQcm9wZXJ0eVdhdGNoZXJ9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmRDb25maWdQcm9wZXJ0eTxUPiB7XHJcbiAgICBwcml2YXRlIGNoZWNrQXJyYXk6IE5kQ29uZmlnUHJvcGVydHlDaGVja0FycmF5SXRlbVtdID0gW107XHJcbiAgICBwcml2YXRlIGNiOiBOZENvbmZpZ1Byb3BlcnR5V2F0Y2hlcjxUPltdID0gW107XHJcbiAgICBwcml2YXRlIHZhbDogVDtcclxuXHJcbiAgICBwcml2YXRlIGNoZWNrVmFsdWUodjogVCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGVja0FycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuY2hlY2tbdGhpcy5jaGVja0FycmF5W2ldLmZdKHYsIHRoaXMuY2hlY2tBcnJheVtpXS52YWx1ZSlcclxuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHJldHVybiByZXN1bHRcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoZWNrID0ge1xyXG4gICAgICAgIGlzTnVtYmVyOiAodjogVCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdudW1iZXInO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXNTdHJpbmc6ICh2OiBUKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ3N0cmluZyc7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBpc0FycmF5OiAodjogVCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdvYmplY3QnICYmIHYgaW5zdGFuY2VvZiBBcnJheTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGN1c3RvbTogKHY6IFQsIGY6IE5kQ29uZmlnUHJvcGVydHlDaGVja1ZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZiA9PT0gJ2Z1bmN0aW9uJyA/IGYodikgOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdW5kZXI6ICh2OiBULCBsaW1pdDogTmRDb25maWdQcm9wZXJ0eUNoZWNrVmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnbnVtYmVyJyAmJiBsaW1pdCA/IHYgPCBsaW1pdCA6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBncmVhdGVyOiAodjogVCwgbGltaXQ6IE5kQ29uZmlnUHJvcGVydHlDaGVja1ZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ251bWJlcicgJiYgbGltaXQgPyB2ID4gbGltaXQgOiBmYWxzZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVxOiAodjogVCwgZXhhY3Q6IE5kQ29uZmlnUHJvcGVydHlDaGVja1ZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ251bWJlcicgJiYgdiA9PT0gZXhhY3Q7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBpc0Jvb2w6ICh2OiBUKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0eTogc3RyaW5nLCB2YWx1ZTogVCwgY29uZmlnOiBOZENvbmZpZ1Byb3BlcnR5Q2hlY2tzKSB7XHJcbiAgICAgICAgdGhpcy52YWwgPSB2YWx1ZTtcclxuICAgICAgICAoT2JqZWN0LmtleXMoY29uZmlnKSBhcyBBcnJheTxrZXlvZiBOZENvbmZpZ1Byb3BlcnR5Q2hlY2tzPikuZm9yRWFjaCgocHJvcE5hbWUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0FycmF5LnB1c2goe2Y6IHByb3BOYW1lLCB2YWx1ZTogY29uZmlnW3Byb3BOYW1lXX0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKCF0aGlzLmNoZWNrVmFsdWUodmFsdWUpKSB0aHJvdyBuZXcgRXJyb3IoJ0luaXRpYWwgWycgKyBwcm9wZXJ0eSArICddXFwncyB2YWx1ZSBkb2VzIG5vdCBtZWV0IGNvbmZpZyByZXF1aXJlbWVudHMuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFsdWUoKTogVCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGRlZmluZShuOiBUKTogTmRDb25maWdQcm9wZXJ0eTxUPiB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tWYWx1ZShuKSkge1xyXG4gICAgICAgICAgICBpZiAobiBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbCA9IG47XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbCA9IG47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jYi5mb3JFYWNoKChjYikgPT4ge1xyXG4gICAgICAgICAgICBjYi5jYWxsKHRoaXMsIHRoaXMudmFsdWUoKSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB3YXRjaChmOiBOZENvbmZpZ1Byb3BlcnR5V2F0Y2hlcjxUPik6IE5kQ29uZmlnUHJvcGVydHk8VD4ge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICB0aGlzLmNiLnB1c2goZik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gbm90IHNldCBjb25maWcgcHJvcGVydHkgd2F0Y2hlci4gQXJndW1lbnQgZiBpcyBub3QgYSBmdW5jdGlvbi4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuXHJcbn0iLCJpbXBvcnQgTmRDb25maWdQcm9wZXJ0eSBmcm9tICcuL0NvbmZpZy9OZENvbmZpZ1Byb3BlcnR5JztcclxuaW1wb3J0IHtOZENvbmZpZ1Byb3BlcnR5Q2hlY2tzLCBOZENvbmZpZ1Byb3BlcnR5V2F0Y2hlcn0gZnJvbSAnLi9AdHlwZXMvdHlwZXMnO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbmZpZyB7XHJcbiAgICBwcml2YXRlIHByb3BlcnRpZXM6IHsgW2tleTogc3RyaW5nXTogTmRDb25maWdQcm9wZXJ0eTxhbnk+IH0gPSB7fTtcclxuXHJcbiAgICBkZWZpbmU8VD4ocHJvcGVydHk6IHN0cmluZywgdmFsdWU6IFQsIGNmZzogTmRDb25maWdQcm9wZXJ0eUNoZWNrcyk6IE5kQ29uZmlnUHJvcGVydHk8VD4ge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9wZXJ0aWVzW3Byb3BlcnR5XSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wZXJ0aWVzW3Byb3BlcnR5XSA9IG5ldyBOZENvbmZpZ1Byb3BlcnR5PFQ+KHByb3BlcnR5LCB2YWx1ZSwgY2ZnKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBjb25maWcgcHJvcGVydHkgWycgKyBwcm9wZXJ0eSArICddJylcclxuICAgICAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NvbmZpZyBwcm9wZXJ0eSBkdXBsaWNhdGlvbiBvbiBwcm9wZXJ0eSBuYW1lIFsnICsgcHJvcGVydHkgKyAnXScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcGVydGllc1twcm9wZXJ0eV07XHJcbiAgICB9O1xyXG5cclxuICAgIHNldDxUPihuYW1lOiBzdHJpbmcsIHZhbHVlOiBUKTogQ29uZmlnIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydGllc1tuYW1lXS5kZWZpbmUodmFsdWUpO1xyXG4gICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgcHJvcGVydHkgWycgKyBuYW1lICsgJ10uIE5vIHN1Y2ggcHJvcGVydHkuJyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICBnZXQ8VD4obmFtZTogc3RyaW5nKTogVCB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcGVydGllc1tuYW1lXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0aWVzW25hbWVdLnZhbHVlKClcclxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZ2V0IHByb3BlcnR5IFsnICsgbmFtZSArICddLiBObyBzdWNoIHByb3BlcnR5LicpXHJcbiAgICB9XHJcblxyXG4gICAgd2F0Y2g8VD4obmFtZTogc3RyaW5nLCBmOiBOZENvbmZpZ1Byb3BlcnR5V2F0Y2hlcjxUPikge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcGVydGllc1tuYW1lXS53YXRjaChmKTtcclxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdObyBzdWNoIHByb3BlcnR5IGFzIFsnICsgbmFtZSArICddIHRvIHdhdGNoLicpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtOZFRpY2tlckV2ZW50Q2IsIE5kVGlja2VyRXZlbnRzLCBOZFRpY2tlckV2ZW50c0NvbnRhaW5lciwgTmRUaWNrZXJGQXJncywgTmRUaWNrZXJRdWV1ZUYsIE5kVGlja2VyUXVldWVJdGVtfSBmcm9tICcuL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCB7TkRCfSBmcm9tICcuL1NlcnZpY2VzL05vZGFzRGVidWcnO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpY2tlciB7XHJcbiAgICBwcml2YXRlIGZyYW1lRHVyYXRpb24gPSAoMTAwMCAvIDU4LjgpO1xyXG4gICAgcHJpdmF0ZSBxOiBOZFRpY2tlclF1ZXVlSXRlbVtdID0gW107XHJcbiAgICBwcml2YXRlIGZyYW1lID0gMDtcclxuICAgIHByaXZhdGUgYXJnczogTmRUaWNrZXJGQXJncyA9IFtuZXcgRGF0ZSgpLCAwXTtcclxuICAgIHByaXZhdGUgaW50ZXJ2YWw/OiBSZXR1cm5UeXBlPFdpbmRvd1snc2V0SW50ZXJ2YWwnXT47XHJcbiAgICBwcml2YXRlIGV2ZW50c0NiOiBOZFRpY2tlckV2ZW50c0NvbnRhaW5lciA9IHtcclxuICAgICAgICBzdG9wOiBbXSxcclxuICAgICAgICBzdGFydDogW10sXHJcbiAgICAgICAgZXJyb3I6IFtdXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3KCkge1xyXG4gICAgICAgIHRoaXMucS5mb3JFYWNoKChmLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucVtrZXldLmYuYXBwbHkoc2VsZiwgdGhpcy5hcmdzKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XHJcbiAgICAgICAgICAgICAgICBOREIuZXJyb3IoYEVycm9yIGVtZXJnZWQgd2hpbGUgcnVubmluZyB0aWNrZXJcXG4gUXVldWU6ICR7dGhpcy5xW2tleV0ub3JkZXJ9XFxuIE9yZGVyOiAke2tleX1cXG4gTWVzc2FnZTogJHtlLm1lc3NhZ2V9YClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5mcmFtZSsrO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdGljazogKCkgPT4gdm9pZCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmFyZ3NbMF0gPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuYXJnc1sxXSA9IHRoaXMuZnJhbWU7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5kcmF3KCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICB0aGlzLnJlc29sdmUoJ2Vycm9yJywgZSk7XHJcbiAgICAgICAgICAgIE5EQi5lcnJvcihgQXBwbGljYXRpb24gdGlja2VyIGNvbGxhcHNlZFxcbiBGcmFtZTogJHt0aGlzLmZyYW1lfVxcbiBEYXRlOiAke3RoaXMuYXJnc1swXX1cXG4gTWVzc2FnZTogJHtlLm1lc3NhZ2V9YClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZXNvbHZlKGV2ZW50OiBOZFRpY2tlckV2ZW50cywgYXJnczogRXJyb3IgfCBUaWNrZXIpIHtcclxuICAgICAgICB0aGlzLmV2ZW50c0NiW2V2ZW50XS5mb3JFYWNoKFxyXG4gICAgICAgICAgICAoY2IpID0+IHtcclxuICAgICAgICAgICAgICAgIGNiLmFwcGx5KHRoaXMsIFthcmdzXSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBxdWV1ZTogTmRUaWNrZXJRdWV1ZUYgPSAoYSwgYikgPT4ge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICB0aGlzLnEucHVzaCh7b3JkZXI6IDAsIGY6IGF9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGIgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucS5wdXNoKHtvcmRlcjogYSwgZjogYn0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgTkRCLndhcm4oYFRpY2tlciBjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbi4gSWdub3JlZGApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLm9yZGVyIC0gYi5vcmRlcjtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBvbihldmVudDogTmRUaWNrZXJFdmVudHMsIGNiOiBOZFRpY2tlckV2ZW50Q2IpIHtcclxuICAgICAgICB0aGlzLmV2ZW50c0NiW2V2ZW50XS5wdXNoKGNiKVxyXG4gICAgfVxyXG5cclxuICAgIHN0b3AoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IDA7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZXJ2YWwgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSgnc3RvcCcsIHRoaXMpO1xyXG4gICAgICAgICAgICBOREIucG9zaXRpdmUoJ1RpY2tlciBzdG9wcGVkJylcclxuICAgICAgICB9IGVsc2UgTkRCLndhcm4oYFRpY2tlciBhbHJlYWR5IHN0b3BwZWQuIElnbm9yZWRgKVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pbnRlcnZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmludGVydmFsID0gd2luZG93LnNldEludGVydmFsKHRoaXMudGljaywgdGhpcy5mcmFtZUR1cmF0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlKCdzdGFydCcsIHRoaXMpO1xyXG4gICAgICAgICAgICBOREIucG9zaXRpdmUoJ1RpY2tlciBzdGFydGVkJylcclxuICAgICAgICB9ZWxzZSBOREIud2FybihgVGlja2VyIGFscmVhZHkgc3RhcnRlZC4gSWdub3JlZGApXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIGdldCBmcmFtZVRpbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJhbWVEdXJhdGlvblxyXG4gICAgfVxyXG5cclxuICAgIGZwcyhmcHM6IG51bWJlcikge1xyXG4gICAgICAgIGlmIChmcHMgPiA2MCkgZnBzID0gNjA7XHJcbiAgICAgICAgaWYgKGZwcyA8PSAwKSBmcHMgPSAxO1xyXG4gICAgICAgIHRoaXMuZnJhbWVEdXJhdGlvbiA9ICgxMDAwIC8gZnBzKTtcclxuICAgICAgICBOREIucG9zaXRpdmUoYFRpY2tlciBGUFMgc2V0ICR7ZnBzfS4gUmVzdGFydCBUaWNrZXJgKVxyXG4gICAgICAgIGlmICh0aGlzLmludGVydmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxufSIsImltcG9ydCB7TmRFYXNpbmdGfSBmcm9tICcuLi9Ob2Rlcy9AdHlwZXMvdHlwZXMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IG5kRWFzaW5ncyA9IHtcclxuICAgIGRlZmF1bHQoLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKyBiO1xyXG4gICAgfSxcclxuXHJcbiAgICBsaW5lYXIoLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICB0IC89IGQ7XHJcbiAgICAgICAgcmV0dXJuIGIgKyBjICogKHQpO1xyXG4gICAgfSxcclxuXHJcbiAgICBsaW5lYXJTb2Z0KC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgY29uc3QgdHMgPSAodCAvPSBkKSAqIHQ7XHJcbiAgICAgICAgY29uc3QgdGMgPSB0cyAqIHQ7XHJcbiAgICAgICAgcmV0dXJuIGIgKyBjICogKDQgKiB0YyAqIHRzICsgLTEwICogdHMgKiB0cyArIDggKiB0YyArIC0yICogdHMgKyB0KTtcclxuICAgIH0sXHJcblxyXG4gICAgbGluZWFyU29mdE91dCguLi5bdCwgYiwgYywgZF06IFBhcmFtZXRlcnM8TmRFYXNpbmdGPikge1xyXG4gICAgICAgIGNvbnN0IHRzID0gKHQgLz0gZCkgKiB0O1xyXG4gICAgICAgIGNvbnN0IHRjID0gdHMgKiB0O1xyXG4gICAgICAgIHJldHVybiBiICsgYyAqICgtMyAqIHRjICogdHMgKyAxMSAqIHRzICogdHMgKyAtMTQgKiB0YyArIDYgKiB0cyArIHQpO1xyXG4gICAgfSxcclxuXHJcbiAgICBsaW5lYXJTb2Z0SW4oLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICBjb25zdCB0cyA9ICh0IC89IGQpICogdDtcclxuICAgICAgICBjb25zdCB0YyA9IHRzICogdDtcclxuICAgICAgICByZXR1cm4gYiArIGMgKiAoLTEgKiB0YyAqIHRzICsgMiAqIHRjKTtcclxuICAgIH0sXHJcblxyXG4gICAgZWFzZUluUXVhZCguLi5bdCwgYiwgYywgZF06IFBhcmFtZXRlcnM8TmRFYXNpbmdGPikge1xyXG4gICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICsgYjtcclxuICAgIH0sXHJcblxyXG4gICAgZWFzZU91dFF1YWQoLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICByZXR1cm4gLWMgKiAodCAvPSBkKSAqICh0IC0gMikgKyBiO1xyXG4gICAgfSxcclxuXHJcbiAgICBlYXNlSW5PdXRRdWFkKC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIHQgKiB0ICsgYjtcclxuICAgICAgICByZXR1cm4gLWMgLyAyICogKCgtLXQpICogKHQgLSAyKSAtIDEpICsgYjtcclxuICAgIH0sXHJcblxyXG4gICAgZWFzZUluQ3ViaWMoLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKyBiO1xyXG4gICAgfSxcclxuXHJcbiAgICBlYXNlT3V0Q3ViaWMoLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCArIDEpICsgYjtcclxuICAgIH0sXHJcblxyXG4gICAgZWFzZUluT3V0Q3ViaWMoLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICsgYjtcclxuICAgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCArIDIpICsgYjtcclxuICAgIH0sXHJcblxyXG4gICAgZWFzZUluUXVhcnQoLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICsgYjtcclxuICAgIH0sXHJcblxyXG4gICAgZWFzZU91dFF1YXJ0KC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgcmV0dXJuIC1jICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAtIDEpICsgYjtcclxuICAgIH0sXHJcblxyXG4gICAgZWFzZUluT3V0UXVhcnQoLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCArIGI7XHJcbiAgICAgICAgcmV0dXJuIC1jIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAtIDIpICsgYjtcclxuICAgIH0sXHJcblxyXG4gICAgZWFzZUluUXVpbnQoLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICogdCArIGI7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VPdXRRdWludCguLi5bdCwgYiwgYywgZF06IFBhcmFtZXRlcnM8TmRFYXNpbmdGPikge1xyXG4gICAgICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAqIHQgKyAxKSArIGI7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VJbk91dFF1aW50KC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKiB0ICsgYjtcclxuICAgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgKiB0ICsgMikgKyBiO1xyXG4gICAgfSxcclxuXHJcbiAgICBlYXNlSW5TaW5lKC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgcmV0dXJuIC1jICogTWF0aC5jb3ModCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGMgKyBiO1xyXG4gICAgfSxcclxuXHJcbiAgICBlYXNlT3V0U2luZSguLi5bdCwgYiwgYywgZF06IFBhcmFtZXRlcnM8TmRFYXNpbmdGPikge1xyXG4gICAgICAgIHJldHVybiBjICogTWF0aC5zaW4odCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGI7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VJbk91dFNpbmUoLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICByZXR1cm4gLWMgLyAyICogKE1hdGguY29zKE1hdGguUEkgKiB0IC8gZCkgLSAxKSArIGI7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VJbkV4cG8oLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICByZXR1cm4gKHQgPT09IDApID8gYiA6IGMgKiBNYXRoLnBvdygyLCAxMCAqICh0IC8gZCAtIDEpKSArIGI7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VPdXRFeHBvKC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgcmV0dXJuICh0ID09PSBkKSA/IGIgKyBjIDogYyAqICgtTWF0aC5wb3coMiwgLTEwICogdCAvIGQpICsgMSkgKyBiO1xyXG4gICAgfSxcclxuXHJcbiAgICBlYXNlSW5PdXRFeHBvKC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgaWYgKHQgPT09IDApIHJldHVybiBiO1xyXG4gICAgICAgIGlmICh0ID09PSBkKSByZXR1cm4gYiArIGM7XHJcbiAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKyBiO1xyXG4gICAgICAgIHJldHVybiBjIC8gMiAqICgtTWF0aC5wb3coMiwgLTEwICogLS10KSArIDIpICsgYjtcclxuICAgIH0sXHJcblxyXG4gICAgZWFzZUluQ2lyYyguLi5bdCwgYiwgYywgZF06IFBhcmFtZXRlcnM8TmRFYXNpbmdGPikge1xyXG4gICAgICAgIHJldHVybiAtYyAqIChNYXRoLnNxcnQoMSAtICh0IC89IGQpICogdCkgLSAxKSArIGI7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VPdXRDaXJjKC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgcmV0dXJuIGMgKiBNYXRoLnNxcnQoMSAtICh0ID0gdCAvIGQgLSAxKSAqIHQpICsgYjtcclxuICAgIH0sXHJcblxyXG4gICAgZWFzZUluT3V0Q2lyYyguLi5bdCwgYiwgYywgZF06IFBhcmFtZXRlcnM8TmRFYXNpbmdGPikge1xyXG4gICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gLWMgLyAyICogKE1hdGguc3FydCgxIC0gdCAqIHQpIC0gMSkgKyBiO1xyXG4gICAgICAgIHJldHVybiBjIC8gMiAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKSArIGI7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VJbkJhY2soLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICBjb25zdCB0cyA9ICh0IC89IGQpICogdDtcclxuICAgICAgICBjb25zdCB0YyA9IHRzICogdDtcclxuICAgICAgICByZXR1cm4gYiArIGMgKiAoMTUuMjYgKiB0YyAqIHRzICsgLTQzLjU2ICogdHMgKiB0cyArIDM5LjggKiB0YyArIC0xMC42ICogdHMgKyAwLjEgKiB0KTtcclxuICAgIH0sXHJcblxyXG4gICAgZWFzZU91dEJhY2soLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICBjb25zdCB0cyA9ICh0IC89IGQpICogdDtcclxuICAgICAgICBjb25zdCB0YyA9IHRzICogdDtcclxuICAgICAgICByZXR1cm4gYiArIGMgKiAoMTEuMjQgKiB0YyAqIHRzICsgLTIzLjk2ICogdHMgKiB0cyArIDEyLjI0ICogdGMgKyAxLjQ0ICogdHMgKyAwLjA0ICogdCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VJbk91dEJhY2soLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICBjb25zdCB0cyA9ICh0IC89IGQpICogdDtcclxuICAgICAgICBjb25zdCB0YyA9IHRzICogdDtcclxuICAgICAgICByZXR1cm4gYiArIGMgKiAoMjIuOTIgKiB0YyAqIHRzICsgLTU3Ljc4ICogdHMgKiB0cyArIDQ1ICogdGMgKyAtOS4yOCAqIHRzICsgMC4xNCAqIHQpO1xyXG4gICAgfSxcclxuXHJcbiAgICBlYXNlT3V0Qm91bmNlKC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgaWYgKCh0IC89IGQpIDwgKDEgLyAyLjc1KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiB0ICogdCkgKyBiO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodCA8ICgyIC8gMi43NSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDEuNSAvIDIuNzUpKSAqIHQgKyAuNzUpICsgYjtcclxuICAgICAgICB9IGVsc2UgaWYgKHQgPCAoMi41IC8gMi43NSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDIuMjUgLyAyLjc1KSkgKiB0ICsgLjkzNzUpICsgYjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAoMi42MjUgLyAyLjc1KSkgKiB0ICsgLjk4NDM3NSkgKyBiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7TmRFYXNpbmdGfSBmcm9tICcuLi9Ob2Rlcy9AdHlwZXMvdHlwZXMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmRNb3JwaGluZSB7XHJcblxyXG4gICAgcHJpdmF0ZSBlYXNpbmc6ICh0aW1lRWxhcHNlZFM6IG51bWJlciwgc3RhcnRWYWx1ZTogbnVtYmVyLCB2YWx1ZURlbHRhOiBudW1iZXIsIGR1cmF0aW9uUzogbnVtYmVyKSA9PiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGR1cmF0aW9uID0gMTtcclxuICAgIHByaXZhdGUgcmVwZWF0ID0gMDtcclxuICAgIHByaXZhdGUgcmVwZWF0Q291bnQgPSAxO1xyXG4gICAgcHJpdmF0ZSBzdGFydF90aW1lID0gMDtcclxuICAgIHByaXZhdGUgY2FsbGJhY2s6IChwcm9ncmVzczogbnVtYmVyLCB2YWx1ZTogbnVtYmVyLCBzdGFydFRpbWU6IG51bWJlcikgPT4gdm9pZDtcclxuICAgIHByaXZhdGUgc3RhcnQ6IG51bWJlcjtcclxuICAgIHByaXZhdGUgZW5kOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHByb2dyZXNzID0gMDtcclxuICAgIHByaXZhdGUgX3BhdXNlZCA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBfZG9uZSA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHN0YXJ0VmFsdWU6IG51bWJlciwgZW5kVmFsdWU6IG51bWJlciwgZHVyYXRpb246IG51bWJlciwgY2FsbGJhY2s6IChwcm9ncmVzczogbnVtYmVyLCB2YWx1ZTogbnVtYmVyLCBzdGFydFRpbWU6IG51bWJlcikgPT4gdm9pZCwgZWFzaW5nRnVuY3Rpb246IE5kRWFzaW5nRiwgcmVwZWF0OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnRWYWx1ZVxyXG4gICAgICAgIHRoaXMuZW5kID0gZW5kVmFsdWVcclxuICAgICAgICB0aGlzLmR1cmF0aW9uID0gZHVyYXRpb24gPiAwID8gZHVyYXRpb24gOiAwXHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrXHJcbiAgICAgICAgdGhpcy5lYXNpbmcgPSBlYXNpbmdGdW5jdGlvblxyXG4gICAgICAgIHRoaXMucmVwZWF0ID0gcmVwZWF0XHJcbiAgICAgICAgdGhpcy5zdGFydF90aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKClcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZG9uZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZG9uZTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIHB1YmxpYyBzdG9wKCkge1xyXG4gICAgICAgIHRoaXMuX2RvbmUgPSB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBhdXNlKCkge1xyXG4gICAgICAgIHRoaXMuX3BhdXNlZCA9IHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIGdldCBwYXVzZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhdXNlZDtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIHRpY2sodGltZTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9kb25lKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYXVzZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRfdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gKHRoaXMuZHVyYXRpb24gKiB0aGlzLnByb2dyZXNzKVxyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gKHRpbWUgLSB0aGlzLnN0YXJ0X3RpbWUpIC8gdGhpcy5kdXJhdGlvblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvZ3Jlc3MgPiAxKSB0aGlzLnByb2dyZXNzID0gMTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb2dyZXNzID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMucmVwZWF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvbmUgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVwZWF0Q291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXBlYXRDb3VudCAhPT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcGVhdENvdW50LS1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRfdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5wcm9ncmVzcywgdGhpcy5lYXNpbmcoKHRpbWUgLSB0aGlzLnN0YXJ0X3RpbWUpIC8gMTAwMCwgdGhpcy5zdGFydCwgdGhpcy5lbmQgLSB0aGlzLnN0YXJ0LCB0aGlzLmR1cmF0aW9uIC8gMTAwMCksIHRoaXMuc3RhcnRfdGltZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHtOZEFuaW1hdGlvblN0YWNrLCBOZFBlcmNlbnRTdHIsIE5kVGlja2luZ09iaiwgUmVmbGVjdFRpY2tpbmdUeXBlfSBmcm9tICcuLi9Ob2Rlcy9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQge25kRWFzaW5nc30gZnJvbSAnLi9OZEVhc2luZ3MnO1xyXG5pbXBvcnQgTmRNb3JwaGluZSBmcm9tICcuL05kTW9ycGhpbmUnO1xyXG5pbXBvcnQgTmRFbWl0dGVyIGZyb20gJy4vTmRFbWl0dGVyJztcclxuaW1wb3J0IE5kRXZlbnQgZnJvbSAnLi9OZEV2ZW50JztcclxuaW1wb3J0IE5kTW9kQmFzZSBmcm9tICcuLi9Ob2Rlcy9tb2RlbHMvTmRNb2RCYXNlJztcclxuaW1wb3J0IE5vZGUgZnJvbSAnLi4vTm9kZXMvTm9kZSdcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZEFuaW1hdGlvbjxNb2RlbCBleHRlbmRzIE5kTW9kQmFzZSwgTiBleHRlbmRzIE5vZGU8TW9kZWw+ID0gTm9kZTxNb2RlbD4+XHJcbiAgICBleHRlbmRzIE5kRW1pdHRlcjx7IFtrZXkgaW4gJ3N0ZXAnIHwgJ2NvbXBsZXRlJ106IE5kRXZlbnQ8TiwgeyBwcm9ncmVzczogbnVtYmVyLCBlYXNlOiBudW1iZXIgfT4gfT4ge1xyXG4gICAgcHJpdmF0ZSBkdXJhdGlvbjogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBlYXNpbmc6IGtleW9mIHR5cGVvZiBuZEVhc2luZ3M7XHJcbiAgICBwcml2YXRlIHN0YWNrOiBOZEFuaW1hdGlvblN0YWNrPE1vZGVsPiA9IFtdO1xyXG4gICAgbW9ycGhpbmU/OiBOZE1vcnBoaW5lO1xyXG4gICAgcHJpdmF0ZSBlbGVtZW50OiBOXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0ID0gbnVsbDtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3F1ZXVlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIF9hY3RpdmU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgX2RvbmUgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50OiBOLFxyXG4gICAgICAgICAgICAgICAgc3RhY2s6IE5kQW5pbWF0aW9uU3RhY2s8TW9kZWw+LCBkdXJhdGlvbjogbnVtYmVyID0gMTAwMCwgZWFzaW5nOiBrZXlvZiB0eXBlb2YgbmRFYXNpbmdzICYgc3RyaW5nID0gJ2RlZmF1bHQnLCBxdWV1ZTogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnN0YWNrID0gc3RhY2s7XHJcbiAgICAgICAgdGhpcy5lYXNpbmcgPSBlYXNpbmdcclxuICAgICAgICB0aGlzLmR1cmF0aW9uID0gZHVyYXRpb25cclxuICAgICAgICB0aGlzLl9xdWV1ZSA9IHF1ZXVlXHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxyXG4gICAgfVxyXG5cclxuICAgIGdldCBxdWV1ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcXVldWVcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWN0aXZlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RpdmU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGRvbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RvbmU7XHJcbiAgICB9XHJcblxyXG4gICAgaW5kZXhPZihwcm9wZXJ0eTogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2suZmluZEluZGV4KHYgPT4gdi5uYW1lID09PSBwcm9wZXJ0eSlcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcHJvcHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2subWFwKHYgPT4gdi5uYW1lKVxyXG4gICAgfVxyXG5cclxuICAgIHN0b3AocHJvcGVydHk/OiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmluZGV4T2YocHJvcGVydHkudG9TdHJpbmcoKSlcclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHRoaXMuc3RhY2suc3BsaWNlKGluZGV4LCAxKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhY2sgPSBbXVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHJldHVybjtcclxuICAgICAgICB0aGlzLl9hY3RpdmUgPSB0cnVlXHJcbiAgICAgICAgdGhpcy5zdGFjayA9IHRoaXMuc3RhY2suZmlsdGVyKFxyXG4gICAgICAgICAgICAodikgPT5cclxuICAgICAgICAgICAgICAgIHYuYW5pLmluaXQodi52YWx1ZSkgJiYgdi5hbmkuc3RhcnQgIT09IGZhbHNlICYmIHYuYW5pLmVuZCAhPT0gZmFsc2UpXHJcbiAgICAgICAgdGhpcy5tb3JwaGluZSA9IG5ldyBOZE1vcnBoaW5lKDAsIDEsIHRoaXMuZHVyYXRpb24sXHJcbiAgICAgICAgICAgIChwcm9ncmVzcywgdmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YWNrLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FzdCgnY29tcGxldGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTmRFdmVudDxOLCB7IHByb2dyZXNzOiBudW1iZXI7IGVhc2U6IG51bWJlciB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5lbGVtZW50LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXNlOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICg8TmRNb3JwaGluZT50aGlzLm1vcnBoaW5lKS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhY2suZm9yRWFjaCgodikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2LnJlc3VsdCA9IHRoaXMudGljayh2YWx1ZSwgcHJvZ3Jlc3MsIHYuYW5pLnN0YXJ0LCB2LmFuaS5lbmQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZSh2Lm5hbWUsIHYucmVzdWx0KVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXN0KCdzdGVwJywgbmV3IE5kRXZlbnQ8TiwgeyBwcm9ncmVzczogbnVtYmVyOyBlYXNlOiBudW1iZXIgfT4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFzZTogdmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzczogcHJvZ3Jlc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FzdCgnY29tcGxldGUnLCBuZXcgTmRFdmVudDxOLCB7IHByb2dyZXNzOiBudW1iZXI7IGVhc2U6IG51bWJlciB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuZWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXNlOiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIG5kRWFzaW5nc1t0aGlzLmVhc2luZ10sIDBcclxuICAgICAgICApXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdGljayhjb21wbGV0ZTogbnVtYmVyLCBwcm9ncmVzczogbnVtYmVyLCBzdGFydDogUmVmbGVjdFRpY2tpbmdUeXBlLCBlbmQ6IFJlZmxlY3RUaWNraW5nVHlwZSk6XHJcbiAgICAgICAgUmVmbGVjdFRpY2tpbmdUeXBlIHtcclxuICAgICAgICB3aGlsZSAodHlwZW9mIHN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0ID0gc3RhcnQoKVxyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAodHlwZW9mIGVuZCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBlbmQgPSBlbmQoKVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcmVzdWx0OiBSZWZsZWN0VGlja2luZ1R5cGUgPSBlbmQ7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gdHlwZW9mIGVuZCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzID49IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBlbmQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHN0YXJ0ICsgKCgoZW5kIGFzIG51bWJlcikgLSBzdGFydCkgKiBjb21wbGV0ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0VmFsID0gcGFyc2VGbG9hdChzdGFydClcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVuZFZhbCA9IHBhcnNlRmxvYXQoZW5kIGFzIE5kUGVyY2VudFN0cilcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IChzdGFydFZhbCArICgoKGVuZFZhbCBhcyBudW1iZXIpIC0gc3RhcnRWYWwpICogY29tcGxldGUpKSArICclJyBhcyBOZFBlcmNlbnRTdHI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGFydCA9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc3RhcnQpICYmIEFycmF5LmlzQXJyYXkoZW5kKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydC5sZW5ndGggPT0gZW5kLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBzdGFydC5tYXAoKHYsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGljayhjb21wbGV0ZSwgcHJvZ3Jlc3MsIHYsIChlbmQgYXMgUmVmbGVjdFRpY2tpbmdUeXBlW10pW2tleV0pXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3RhcnQgYW5kIGVuZCB2YWx1ZXMgYXJlIG9mIGRpZmZlcmVudCBsZW5ndGhzJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IE9iamVjdC5mcm9tRW50cmllcygoT2JqZWN0LmtleXMoc3RhcnQpIGFzIChrZXlvZiB7IFtrZXk6IHN0cmluZ106IFJlZmxlY3RUaWNraW5nVHlwZSB9KVtdKS5tYXAoKHByb3ApID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtwcm9wLCB0aGlzLnRpY2soY29tcGxldGUsIHByb2dyZXNzLCAoc3RhcnQgYXMgTmRUaWNraW5nT2JqKVtwcm9wXSwgKGVuZCBhcyBOZFRpY2tpbmdPYmopW3Byb3BdKV1cclxuICAgICAgICAgICAgICAgICAgICB9KSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ3N0YXJ0IHZhbHVlIGFuZCBlbmQgdmFsdWUgYXJlIG9mIGRpZmZlcmVudCB0eXBlcycpXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxufSIsImltcG9ydCB7TmRNYXRyaXhWYWx9IGZyb20gJy4uL05vZGVzL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCB7TmROdW1lcmljQXJyYXkyZH0gZnJvbSAnLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5vZGUgZnJvbSAnLi4vTm9kZXMvTm9kZSc7XHJcbmltcG9ydCBHcm91cCBmcm9tICcuLi9Ob2Rlcy9Hcm91cCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZE1hdHJpeCB7XHJcbiAgICBwcml2YXRlIF9lbGVtZW50OiBOb2RlPGFueT5cclxuICAgIHByaXZhdGUgX3ZhbHVlOiBOZE1hdHJpeFZhbCA9IFsxLCAwLCAwLCAxLCAwLCAwXTtcclxuICAgIHByaXZhdGUgX2ludmVyc2lvbjogTmRNYXRyaXhWYWwgPSBbMSwgMCwgMCwgMSwgMCwgMF07XHJcbiAgICBwcml2YXRlIF9nbG9iYWxJbnZlcnNpb246IE5kTWF0cml4VmFsIHwgbnVsbCA9IG51bGw7XHJcbiAgICBwcml2YXRlIGhpc3Rvcnk6IHtcclxuICAgICAgICB0cmFuc2xhdGU/OiBOZE51bWVyaWNBcnJheTJkLFxyXG4gICAgICAgIHNrZXc/OiBOZE51bWVyaWNBcnJheTJkLFxyXG4gICAgICAgIHNjYWxlPzogTmROdW1lcmljQXJyYXkyZCxcclxuICAgICAgICByb3RhdGU/OiBudW1iZXJcclxuICAgIH1bXSA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IE5vZGU8YW55Pikge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50XHJcbiAgICB9XHJcblxyXG4gICAgaW52ZXJ0KCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmhpc3RvcnkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaGlzdG9yeVtpXS5yb3RhdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2luQSA9IE1hdGguc2luKC08bnVtYmVyPnRoaXMuaGlzdG9yeVtpXS5yb3RhdGUpXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb3NBID0gTWF0aC5jb3MoLTxudW1iZXI+dGhpcy5oaXN0b3J5W2ldLnJvdGF0ZSlcclxuICAgICAgICAgICAgICAgIE5kTWF0cml4Lm11bHRpcGx5KHRoaXMuX2ludmVyc2lvbiwgW2Nvc0EsIHNpbkEsIC1zaW5BLCBjb3NBLCAwLCAwXSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5oaXN0b3J5W2ldLnRyYW5zbGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgTmRNYXRyaXgubXVsdGlwbHkodGhpcy5faW52ZXJzaW9uLCBbMSwgMCwgMCwgMSwgLSg8TmROdW1lcmljQXJyYXkyZD50aGlzLmhpc3RvcnlbaV0udHJhbnNsYXRlKVswXSwgLSg8TmROdW1lcmljQXJyYXkyZD50aGlzLmhpc3RvcnlbaV0udHJhbnNsYXRlKVsxXV0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuaGlzdG9yeVtpXS5za2V3KSB7XHJcbiAgICAgICAgICAgICAgICBOZE1hdHJpeC5tdWx0aXBseSh0aGlzLl9pbnZlcnNpb24sIFsxLCBNYXRoLnRhbigtKDxOZE51bWVyaWNBcnJheTJkPnRoaXMuaGlzdG9yeVtpXS5za2V3KVsxXSksIE1hdGgudGFuKC0oPE5kTnVtZXJpY0FycmF5MmQ+dGhpcy5oaXN0b3J5W2ldLnNrZXcpWzBdKSwgMSwgMCwgMF0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuaGlzdG9yeVtpXS5zY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgTmRNYXRyaXgubXVsdGlwbHkodGhpcy5faW52ZXJzaW9uLCBbMSAvICg8TmROdW1lcmljQXJyYXkyZD50aGlzLmhpc3RvcnlbaV0uc2NhbGUpWzBdLCAwLCAwLCAxIC8gKDxOZE51bWVyaWNBcnJheTJkPnRoaXMuaGlzdG9yeVtpXS5zY2FsZSlbMV0sIDAsIDBdKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICByb3RhdGUoYW5nbGU6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IHNpbkEgPSBNYXRoLnNpbihhbmdsZSksXHJcbiAgICAgICAgICAgIGNvc0EgPSBNYXRoLmNvcyhhbmdsZSksXHJcbiAgICAgICAgICAgIG0gPSBbY29zQSwgc2luQSwgLXNpbkEsIGNvc0EsIDAsIDBdIGFzIE5kTWF0cml4VmFsO1xyXG5cclxuICAgICAgICBOZE1hdHJpeC5tdWx0aXBseSh0aGlzLl92YWx1ZSwgbSk7XHJcblxyXG4gICAgICAgIHRoaXMuaGlzdG9yeS5wdXNoKHsncm90YXRlJzogYW5nbGV9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRyYW5zbGF0ZSh4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IG0gPSBbMSwgMCwgMCwgMSwgeCwgeV0gYXMgTmRNYXRyaXhWYWw7XHJcbiAgICAgICAgaWYgKHggIT09IDAgfHwgeSAhPT0gMCkge1xyXG4gICAgICAgICAgICBOZE1hdHJpeC5tdWx0aXBseSh0aGlzLl92YWx1ZSwgbSk7XHJcbiAgICAgICAgICAgIHRoaXMuaGlzdG9yeS5wdXNoKHsndHJhbnNsYXRlJzogW3gsIHldfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgc2NhbGUoLi4uW3gsIHldOiBOZE51bWVyaWNBcnJheTJkKSB7XHJcbiAgICAgICAgaWYgKHggIT09IDEgfHwgeSAhPT0gMSkge1xyXG4gICAgICAgICAgICBjb25zdCBtID0gW3gsIDAsIDAsIHksIDAsIDBdIGFzIE5kTWF0cml4VmFsO1xyXG4gICAgICAgICAgICBOZE1hdHJpeC5tdWx0aXBseSh0aGlzLl92YWx1ZSwgbSk7XHJcbiAgICAgICAgICAgIHRoaXMuaGlzdG9yeS5wdXNoKHsnc2NhbGUnOiBbeCwgeV19KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHNrZXcoLi4uW3gsIHldOiBOZE51bWVyaWNBcnJheTJkKSB7XHJcbiAgICAgICAgaWYgKHggIT09IDAgfHwgeSAhPT0gMCkge1xyXG4gICAgICAgICAgICBjb25zdCB0YW5BID0gTWF0aC50YW4oeCksXHJcbiAgICAgICAgICAgICAgICB0YW5CID0gTWF0aC50YW4oeSksXHJcbiAgICAgICAgICAgICAgICBtID0gWzEsIHRhbkIsIHRhbkEsIDEsIDAsIDBdIGFzIE5kTWF0cml4VmFsO1xyXG5cclxuICAgICAgICAgICAgTmRNYXRyaXgubXVsdGlwbHkodGhpcy5fdmFsdWUsIG0pO1xyXG4gICAgICAgICAgICB0aGlzLmhpc3RvcnkucHVzaCh7J3NrZXcnOiBbeCwgeV19KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICBnbG9iYWxJbnZlcnNpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2dsb2JhbEludmVyc2lvbikgcmV0dXJuIHRoaXMuX2dsb2JhbEludmVyc2lvbjtcclxuXHJcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fZWxlbWVudC5wYXJlbnQ7XHJcbiAgICAgICAgdGhpcy5fZ2xvYmFsSW52ZXJzaW9uID0gWy4uLnRoaXMuX2ludmVyc2lvbl1cclxuICAgICAgICBpZiAocGFyZW50KSBOZE1hdHJpeC5tdWx0aXBseSh0aGlzLl9nbG9iYWxJbnZlcnNpb24sIHBhcmVudC5tYXRyaXguZ2xvYmFsSW52ZXJzaW9uKCkpO1xyXG4gICAgICAgIHJldHVybiBbLi4udGhpcy5fZ2xvYmFsSW52ZXJzaW9uXSBhcyBOZE1hdHJpeFZhbDtcclxuICAgIH07XHJcblxyXG4gICAgdHJhY2VDdXJzb3JUb0xvY2FsU3BhY2UocG9pbnQ6IE5kTnVtZXJpY0FycmF5MmQpIHtcclxuICAgICAgICByZXR1cm4gIE5kTWF0cml4LmFwcGx5TWF0cml4VG9Qb2ludCh0aGlzLmdsb2JhbEludmVyc2lvbigpLCBwb2ludCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gWzEsIDAsIDAsIDEsIDAsIDBdO1xyXG4gICAgICAgIHRoaXMuX2ludmVyc2lvbiA9IFsxLCAwLCAwLCAxLCAwLCAwXTtcclxuICAgICAgICB0aGlzLl9nbG9iYWxJbnZlcnNpb24gPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaGlzdG9yeSA9IFtdO1xyXG4gICAgfVxyXG4gICAgcHVyZ2VJbnZlcnNpb24oKSB7XHJcbiAgICAgICAgdGhpcy5fZ2xvYmFsSW52ZXJzaW9uID0gbnVsbFxyXG4gICAgICAgIGlmKHRoaXMuX2VsZW1lbnQgaW5zdGFuY2VvZiBHcm91cCkge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmZvckVhY2hDaGlsZCgoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5tYXRyaXgucHVyZ2VJbnZlcnNpb24oKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleHRyYWN0KCk6IE5kTWF0cml4VmFsIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICB9O1xyXG5cclxuICAgIGV4dHJhY3RJbnZlcnNpb24oKTogTmRNYXRyaXhWYWwge1xyXG4gICAgICAgIHJldHVybiBbLi4udGhpcy5faW52ZXJzaW9uXTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgbXVsdGlwbHkodGFyZ2V0OiBOZE1hdHJpeFZhbCwgbXVsdGlwbGllcjogTmRNYXRyaXhWYWwpIHtcclxuICAgICAgICAvLyBub2luc3BlY3Rpb24gVW5uZWNlc3NhcnlMb2NhbFZhcmlhYmxlSlNcclxuICAgICAgICBjb25zdCBhMCA9IHRhcmdldFswXSAqIG11bHRpcGxpZXJbMF0gKyB0YXJnZXRbMl0gKiBtdWx0aXBsaWVyWzFdLFxyXG4gICAgICAgICAgICBhMSA9IHRhcmdldFsxXSAqIG11bHRpcGxpZXJbMF0gKyB0YXJnZXRbM10gKiBtdWx0aXBsaWVyWzFdLFxyXG4gICAgICAgICAgICBhMiA9IHRhcmdldFswXSAqIG11bHRpcGxpZXJbMl0gKyB0YXJnZXRbMl0gKiBtdWx0aXBsaWVyWzNdLFxyXG4gICAgICAgICAgICBhMyA9IHRhcmdldFsxXSAqIG11bHRpcGxpZXJbMl0gKyB0YXJnZXRbM10gKiBtdWx0aXBsaWVyWzNdLFxyXG4gICAgICAgICAgICBhNCA9IHRhcmdldFswXSAqIG11bHRpcGxpZXJbNF0gKyB0YXJnZXRbMl0gKiBtdWx0aXBsaWVyWzVdICsgdGFyZ2V0WzRdLFxyXG4gICAgICAgICAgICBhNSA9IHRhcmdldFsxXSAqIG11bHRpcGxpZXJbNF0gKyB0YXJnZXRbM10gKiBtdWx0aXBsaWVyWzVdICsgdGFyZ2V0WzVdXHJcbiAgICAgICAgdGFyZ2V0WzBdID0gYTA7XHJcbiAgICAgICAgdGFyZ2V0WzFdID0gYTE7XHJcbiAgICAgICAgdGFyZ2V0WzJdID0gYTI7XHJcbiAgICAgICAgdGFyZ2V0WzNdID0gYTM7XHJcbiAgICAgICAgdGFyZ2V0WzRdID0gYTQ7XHJcbiAgICAgICAgdGFyZ2V0WzVdID0gYTU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXBwbHlNYXRyaXhUb1BvaW50KG1hdHJpeDogTmRNYXRyaXhWYWwsIHBvaW50OiBOZE51bWVyaWNBcnJheTJkKSB7XHJcbiAgICAgICAgY29uc3QgeCA9IHBvaW50WzBdICogbWF0cml4WzBdICsgcG9pbnRbMV0gKiBtYXRyaXhbMl0gKyBtYXRyaXhbNF1cclxuICAgICAgICBjb25zdCB5ID0gcG9pbnRbMF0gKiBtYXRyaXhbMV0gKyBwb2ludFsxXSAqIG1hdHJpeFszXSArIG1hdHJpeFs1XVxyXG4gICAgICAgIHBvaW50WzBdID0geFxyXG4gICAgICAgIHBvaW50WzFdID0geVxyXG4gICAgICAgIHJldHVybiBwb2ludFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IE5kQ2FjaGUgZnJvbSAnLi4vLi4vY2xhc3Nlcy9OZENhY2hlJztcclxuaW1wb3J0IE5kTWF0cml4IGZyb20gJy4uLy4uL2NsYXNzZXMvTmRNYXRyaXgnO1xyXG5pbXBvcnQgTm9kZSBmcm9tICcuLi9Ob2RlJztcclxuaW1wb3J0IEdyb3VwIGZyb20gJy4uL0dyb3VwJztcclxuaW1wb3J0IE5kTW9kQmFzZSBmcm9tICcuLi9tb2RlbHMvTmRNb2RCYXNlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBOZE5vZGVNYXRyaXg8TW9kZWwgZXh0ZW5kcyBOZE1vZEJhc2UgPSBOZE1vZEJhc2UsIE4gZXh0ZW5kcyBOb2RlPE1vZGVsPiA9IE5vZGU8TW9kZWw+PiB7XHJcbiAgICBwcml2YXRlIGdldHRlcjogKCkgPT4gTmRNYXRyaXhcclxuICAgIHB1YmxpYyBwdXJnZTogKCkgPT4gdm9pZFxyXG5cclxuICAgIGdldCB2YWx1ZSgpOiBOZE1hdHJpeCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0dGVyKClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50OiBOLCBtb2RlbDogTW9kZWwsIGNhY2hlOiBOZENhY2hlKSB7XHJcbiAgICAgICAgY29uc3QgbWF0cml4ID0gbmV3IE5kTWF0cml4KGVsZW1lbnQpXHJcbiAgICAgICAgY29uc3Qge2dldHRlciwgcHVyZ2V9ID1cclxuICAgICAgICAgICAgY2FjaGUucmVnaXN0ZXI8TmRNYXRyaXg+KCd0cmFuc2Zvcm1NYXRyaXgnLFxyXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5yZXNldCgpXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBtb2RlbC5wb3NpdGlvbi5wcm90ZWN0ZWRWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlID0gZWxlbWVudC5ib3VuZGluZ1JlY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbiA9IG1vZGVsLm9yaWdpbi5wcm90ZWN0ZWRWYWx1ZS5tYXAoKHYsa2V5KSA9PiBzcHJpdGUuc2l6ZVtrZXldICogdiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNrZXcgPSBtb2RlbC5za2V3LnByb3RlY3RlZFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3RhdGUgPSBtb2RlbC5yb3RhdGUucHJvdGVjdGVkVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlID0gbW9kZWwuc2NhbGUucHJvdGVjdGVkVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZSA9IG1vZGVsLnRyYW5zbGF0ZS5wcm90ZWN0ZWRWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RyYW5zbGF0ZSA9IGVsZW1lbnQgaW5zdGFuY2VvZiBHcm91cCA/IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uWzBdICsgdHJhbnNsYXRlWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25bMV0gKyB0cmFuc2xhdGVbMV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXSA6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5wb3NpdGlvblswXSArIHRyYW5zbGF0ZVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5wb3NpdGlvblsxXSArIHRyYW5zbGF0ZVsxXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdXHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXgudHJhbnNsYXRlKG9yaWdpblswXSwgb3JpZ2luWzFdKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdHJhbnNsYXRlWzBdICE9PSAwIHx8IF90cmFuc2xhdGVbMV0gIT09IDApIG1hdHJpeC50cmFuc2xhdGUoX3RyYW5zbGF0ZVswXSwgX3RyYW5zbGF0ZVsxXSlcclxuICAgICAgICAgICAgICAgICAgICBpZiAocm90YXRlKSBtYXRyaXgucm90YXRlKHJvdGF0ZSlcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2tld1swXSAhPT0gMCB8fCBza2V3WzFdICE9PSAwKSBtYXRyaXguc2tldyhza2V3WzBdLCBza2V3WzFdKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzY2FsZVswXSAhPT0gMCB8fCBzY2FsZVsxXSAhPT0gMCkgbWF0cml4LnNjYWxlKHNjYWxlWzBdLCBzY2FsZVsxXSlcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXgudHJhbnNsYXRlKC1vcmlnaW5bMF0sIC1vcmlnaW5bMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5pbnZlcnQoKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0cml4XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB0aGlzLnB1cmdlID0gcHVyZ2VcclxuICAgICAgICB0aGlzLmdldHRlciA9IGdldHRlclxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtOZENhY2hlR2V0dGVyLCBOZENhY2hlUmVnaXN0ZXJGUmV0dXJuLCBOZENhY2hlU3RvcmFnZX0gZnJvbSAnLi4vTm9kZXMvQHR5cGVzL3R5cGVzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kQ2FjaGUge1xyXG4gICAgcHJpdmF0ZSB2YWx1ZXM6IE5kQ2FjaGVTdG9yYWdlID0ge31cclxuXHJcbiAgICByZWdpc3RlcjxUPihuYW1lOiBzdHJpbmcsIGZ1bmM6IE5kQ2FjaGVHZXR0ZXI8VD4pOiBOZENhY2hlUmVnaXN0ZXJGUmV0dXJuPFQ+IHtcclxuICAgICAgICBpZiAoIXRoaXMudmFsdWVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWVzW25hbWVdID0ge1xyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIGdldHRlcjogZnVuYyxcclxuICAgICAgICAgICAgICAgIHJlbGV2YW50OiBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHB1cmdlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlc1tuYW1lXS5yZWxldmFudCA9IGZhbHNlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldHRlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZhbHVlc1tuYW1lXS5yZWxldmFudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWVzW25hbWVdLnZhbHVlID0gdGhpcy52YWx1ZXNbbmFtZV0uZ2V0dGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZXNbbmFtZV0ucmVsZXZhbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzW25hbWVdLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBhcyBOZENhY2hlUmVnaXN0ZXJGUmV0dXJuPFQ+XHJcbiAgICB9O1xyXG59IiwiaW1wb3J0IHtOZE1haW5EcmF3aW5nUGlwZUYsIE5kUmVuZGVyQ29uZGl0aW9uUHJlZGljYXRlfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQge05kTm9kZUNvbXBpbGVyUGlwZX0gZnJvbSAnLi4vTm9kZXMvQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5vZGUgZnJvbSAnLi4vTm9kZXMvTm9kZSc7XHJcbmltcG9ydCBOZE1vZEJhc2UgZnJvbSAnLi4vTm9kZXMvbW9kZWxzL05kTW9kQmFzZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZENvbXBpbGVyPFByb3BzIGV4dGVuZHMgTmRNb2RCYXNlLFxyXG4gICAgRWxlbWVudCBleHRlbmRzIE5vZGU8UHJvcHM+ID0gTm9kZTxQcm9wcz4+IHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgcmVzb2x2ZXI6IE5kTWFpbkRyYXdpbmdQaXBlRjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZWxlbWVudDogRWxlbWVudFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBwcm9wczogUHJvcHM7XHJcbiAgICBwcml2YXRlIGNvbmRpdGlvbnM6IE5kUmVuZGVyQ29uZGl0aW9uUHJlZGljYXRlW10gPSBbXVxyXG4gICAgcHJpdmF0ZSBkcmF3ZXJQaXBlQmVmb3JlOiBOZE5vZGVDb21waWxlclBpcGUgPSB7fTtcclxuICAgIHByaXZhdGUgZHJhd2VyUGlwZUFmdGVyOiBOZE5vZGVDb21waWxlclBpcGUgPSB7fTtcclxuICAgIHByaXZhdGUgYmVmb3JlUGlwZVNpemUgPSAwO1xyXG4gICAgcHJpdmF0ZSBhZnRlclBpcGVTaXplID0gMDtcclxuICAgIHByaXZhdGUgaXNSZW5kZXJBbGxvd2VkOiBOZFJlbmRlckNvbmRpdGlvblByZWRpY2F0ZSA9ICguLi5hcmdzKTogYm9vbGVhbiA9PiB7XHJcbiAgICAgICAgbGV0IHJlbmRlckFsbG93ZWQgPSB0cnVlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb25kaXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICghKHJlbmRlckFsbG93ZWQgPSB0aGlzLmNvbmRpdGlvbnNbaV0oLi4uYXJncykpKSBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlbmRlckFsbG93ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoZWxlbWVudDogRWxlbWVudCwgbW9kZWw6IFByb3BzLCByZXNvbHZlcjogTmRNYWluRHJhd2luZ1BpcGVGKSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxyXG4gICAgICAgIHRoaXMucmVzb2x2ZXIgPSByZXNvbHZlclxyXG4gICAgICAgIHRoaXMucHJvcHMgPSBtb2RlbFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmaWx0ZXIoZjogTmRSZW5kZXJDb25kaXRpb25QcmVkaWNhdGUpIHtcclxuICAgICAgICB0aGlzLmNvbmRpdGlvbnMucHVzaChmKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwaXBlKGY6IE5kTWFpbkRyYXdpbmdQaXBlRiwgb3JkZXI/OiBudW1iZXIpIHtcclxuICAgICAgICBpZiAoIW9yZGVyKSBvcmRlciA9IDBcclxuICAgICAgICBpZiAob3JkZXIgPiAxMDApIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmRyYXdlclBpcGVBZnRlcltvcmRlcl0pIHRoaXMuZHJhd2VyUGlwZUFmdGVyW29yZGVyXSA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdlclBpcGVBZnRlcltvcmRlcl0ucHVzaChmKTtcclxuICAgICAgICAgICAgdGhpcy5hZnRlclBpcGVTaXplKytcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZHJhd2VyUGlwZUJlZm9yZVtvcmRlcl0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd2VyUGlwZUJlZm9yZVtvcmRlcl0gPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmRyYXdlclBpcGVCZWZvcmVbb3JkZXJdLnB1c2goZik7XHJcbiAgICAgICAgICAgIHRoaXMuYmVmb3JlUGlwZVNpemUrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1bnBpcGUoZjogTmRNYWluRHJhd2luZ1BpcGVGKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggaW4gdGhpcy5kcmF3ZXJQaXBlQmVmb3JlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRyYXdlclBpcGVCZWZvcmUuaGFzT3duUHJvcGVydHkoaW5kZXgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdlclBpcGVCZWZvcmVbaW5kZXhdID0gdGhpcy5kcmF3ZXJQaXBlQmVmb3JlW2luZGV4XS5maWx0ZXIoKGNiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNiID09PSBmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmVmb3JlUGlwZVNpemUtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGluZGV4IGluIHRoaXMuZHJhd2VyUGlwZUFmdGVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRyYXdlclBpcGVBZnRlci5oYXNPd25Qcm9wZXJ0eShpbmRleCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd2VyUGlwZUFmdGVyW2luZGV4XSA9IHRoaXMuZHJhd2VyUGlwZUFmdGVyW2luZGV4XS5maWx0ZXIoKGNiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNiID09PSBmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWZ0ZXJQaXBlU2l6ZS0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyOk5kTWFpbkRyYXdpbmdQaXBlRiA9IChjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGRhdGU6IERhdGUsIGZyYW1lOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc1JlbmRlckFsbG93ZWQoY29udGV4dCwgZGF0ZSwgZnJhbWUpKSB7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50Q29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIHwgZmFsc2UgPSBjb250ZXh0XHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5iZWZvcmVQaXBlU2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcGlwZU9yZGVyIGluIHRoaXMuZHJhd2VyUGlwZUJlZm9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRyYXdlclBpcGVCZWZvcmUuaGFzT3duUHJvcGVydHkocGlwZU9yZGVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBwaXBlSW5kZXggPSAwOyBwaXBlSW5kZXggPCB0aGlzLmRyYXdlclBpcGVCZWZvcmVbcGlwZU9yZGVyXS5sZW5ndGg7IHBpcGVJbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrc1Jlc3VsdCA9IHRoaXMuZHJhd2VyUGlwZUJlZm9yZVtwaXBlT3JkZXJdW3BpcGVJbmRleF0oY3VycmVudENvbnRleHQsIGRhdGUsIGZyYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbnRleHQgPSBjYWxsYmFja3NSZXN1bHQgPyBjYWxsYmFja3NSZXN1bHQgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudENvbnRleHQpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudENvbnRleHQpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50Q29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudENvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gdGhpcy5wcm9wcy5ibGVuZGluZy5wcm90ZWN0ZWRWYWx1ZVxyXG4gICAgICAgICAgICAgICAgY3VycmVudENvbnRleHQuZ2xvYmFsQWxwaGEgKj0gdGhpcy5wcm9wcy5vcGFjaXR5LnByb3RlY3RlZFZhbHVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRDb250ZXh0ID09PSBjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVyKGNvbnRleHQsIGRhdGUsIGZyYW1lKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlcihjb250ZXh0LCBkYXRlLCBmcmFtZSlcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGN1cnJlbnRDb250ZXh0LmNhbnZhcywgMCwgMCwgY29udGV4dC5jYW52YXMud2lkdGgsIGNvbnRleHQuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VycmVudENvbnRleHQgPSBjb250ZXh0XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFmdGVyUGlwZVNpemUpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IHBpcGVPcmRlciBpbiB0aGlzLmRyYXdlclBpcGVBZnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRyYXdlclBpcGVBZnRlci5oYXNPd25Qcm9wZXJ0eShwaXBlT3JkZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHBpcGVJbmRleCA9IDA7IHBpcGVJbmRleCA8IHRoaXMuZHJhd2VyUGlwZUFmdGVyW3BpcGVPcmRlcl0ubGVuZ3RoOyBwaXBlSW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FsbGJhY2tzUmVzdWx0ID0gdGhpcy5kcmF3ZXJQaXBlQWZ0ZXJbcGlwZU9yZGVyXVtwaXBlSW5kZXhdKGN1cnJlbnRDb250ZXh0LCBkYXRlLCBmcmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29udGV4dCA9IGNhbGxiYWNrc1Jlc3VsdCA/IGNhbGxiYWNrc1Jlc3VsdCA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50Q29udGV4dCkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50Q29udGV4dCkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29udGV4dFxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7TmRBbmltYXRpb25TdGFjaywgTmRFeHBvcnRhYmxlUmV0dXJuLCBOZE5vZGVNb3VzZUV2ZW50c1NjaGVtZSwgTmROb2RlUG9pbnRlclByZWRpY2F0ZSwgTmROb2RlU3RhdGVFdmVudHNTY2hlbWUsIE5kUGF0aEJlemllciwgTmRTZWdtZW50QmV6aWVyLCBSZWZsZWN0QW5pbWF0ZUNvbmZpZ30gZnJvbSAnLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgTmRBbmltYXRpb24gZnJvbSAnLi4vY2xhc3Nlcy9OZEFuaW1hdGlvbic7XHJcbmltcG9ydCB7bmRFYXNpbmdzfSBmcm9tICcuLi9jbGFzc2VzL05kRWFzaW5ncyc7XHJcbmltcG9ydCB7TmRDYW52YXNDb250ZXh0LCBOZE1haW5EcmF3aW5nUGlwZUZ9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOZEVtaXR0ZXIgZnJvbSAnLi4vY2xhc3Nlcy9OZEVtaXR0ZXInO1xyXG5pbXBvcnQgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkIGZyb20gJy4vY2xhc3Nlcy9OZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQnO1xyXG5pbXBvcnQge05kTm9kZU1hdHJpeH0gZnJvbSAnLi9jbGFzc2VzL05kTm9kZU1hdHJpeCc7XHJcbmltcG9ydCBOZENhY2hlIGZyb20gJy4uL2NsYXNzZXMvTmRDYWNoZSc7XHJcbmltcG9ydCBOZE5vZGVCb3ggZnJvbSAnLi9jbGFzc2VzL05kTm9kZUJveCc7XHJcbmltcG9ydCBOZE5vZGVDb25uZWN0b3IgZnJvbSAnLi9jbGFzc2VzL05kTm9kZUNvbm5lY3Rvcic7XHJcbmltcG9ydCBOZENvbXBpbGVyIGZyb20gJy4uL2NsYXNzZXMvTmRDb21waWxlcic7XHJcbmltcG9ydCBOZE5vZGVNb3VzZURpc3BhdGNoZXIgZnJvbSAnLi4vTW91c2UvTmROb2RlTW91c2VEaXNwYXRjaGVyJztcclxuaW1wb3J0IE5kTW9kQmcgZnJvbSAnLi9tb2RlbHMvTmRNb2RCZyc7XHJcbmltcG9ydCBOZE1vZEZyZWVTdHJva2UgZnJvbSAnLi9tb2RlbHMvTmRNb2RGcmVlU3Ryb2tlJztcclxuaW1wb3J0IE5kTW9kQmFzZSBmcm9tICcuL21vZGVscy9OZE1vZEJhc2UnO1xyXG5pbXBvcnQgTmRNb2RlQXNzZW1ibGVyIGZyb20gJy4vY2xhc3Nlcy9OZE1vZGVBc3NlbWJsZXInO1xyXG5pbXBvcnQgTmRJbWFnZSBmcm9tICcuLi9jbGFzc2VzL05kSW1hZ2UnO1xyXG5pbXBvcnQgTm9kYXMgZnJvbSAnLi4vLi4vTm9kYXMnO1xyXG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ2V2ZW50cyc7XHJcbmltcG9ydCBOZE5vZGVTdHlsZXNNb2RlbCBmcm9tICcuL2NsYXNzZXMvTmROb2RlU3R5bGVzTW9kZWwnO1xyXG5pbXBvcnQge05EQn0gZnJvbSAnLi4vU2VydmljZXMvTm9kYXNEZWJ1Zyc7XHJcbmltcG9ydCBOZE1vZEFuY2hvciBmcm9tICcuL21vZGVscy9OZE1vZEFuY2hvcic7XHJcblxyXG50eXBlIEV4dHJhY3RBbmltYXRlZDxUIGV4dGVuZHMgTmROb2RlU3R5bGVzTW9kZWwsIFBUPiA9IHtcclxuICAgIFtLZXkgaW4ga2V5b2YgVF06IFRbS2V5XSBleHRlbmRzIFBUID8gUFQgOiBuZXZlclxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBOb2RlPE1vZGVsIGV4dGVuZHMgTmRNb2RCYXNlPiBleHRlbmRzIE5kRW1pdHRlcjxOZE5vZGVTdGF0ZUV2ZW50c1NjaGVtZTxNb2RlbD4gJiBOZE5vZGVNb3VzZUV2ZW50c1NjaGVtZTxNb2RlbD4+IHtcclxuXHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgQm94OiBOZE5vZGVCb3hcclxuXHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgcmVuZGVyOiBOZE1haW5EcmF3aW5nUGlwZUZcclxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCB0ZXN0OiBOZE5vZGVQb2ludGVyUHJlZGljYXRlXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZXhwb3J0OiAoLi4uYXJnczogYW55W10pID0+IE5kRXhwb3J0YWJsZVJldHVybiB8IHVuZGVmaW5lZFxyXG5cclxuICAgIHByb3RlY3RlZCBUcmVlQ29ubmVjdG9yOiBOZE5vZGVDb25uZWN0b3JcclxuICAgIHByb3RlY3RlZCBDYWNoZSA9IG5ldyBOZENhY2hlKClcclxuICAgIHByb3RlY3RlZCBDb21waWxlcjogTmRDb21waWxlcjxNb2RlbD5cclxuICAgIHByb3RlY3RlZCBNYXRyaXg6IE5kTm9kZU1hdHJpeFxyXG4gICAgcHJvdGVjdGVkIE1vdXNlOiBOZE5vZGVNb3VzZURpc3BhdGNoZXI8TW9kZWw+XHJcbiAgICBwcm90ZWN0ZWQgZGF0YTogTW9kZWxcclxuXHJcbiAgICBwdWJsaWMgcGlwZTogTmRDb21waWxlcjxNb2RlbD5bJ3BpcGUnXVxyXG4gICAgcHVibGljIHVucGlwZTogTmRDb21waWxlcjxNb2RlbD5bJ3VucGlwZSddXHJcbiAgICBwdWJsaWMgY29uZGl0aW9uOiBOZENvbXBpbGVyPE1vZGVsPlsnZmlsdGVyJ11cclxuXHJcbiAgICBwcml2YXRlIG1vZGVsRW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKVxyXG4gICAgcHJpdmF0ZSBvcmRlcjogKGtleW9mIE1vZGVsKVtdID0gW107XHJcbiAgICBwcml2YXRlIGFuaW1hdGlvbnM6IE5kQW5pbWF0aW9uPE1vZGVsPltdID0gW107XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja1F1ZXVlKCkge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IHRoaXMuYW5pbWF0aW9ucy5maWx0ZXIoXHJcbiAgICAgICAgICAgICh2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXYuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYucXVldWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmZpbmRDb21wZXRpdG9ycyh2KS5sZW5ndGgpIHYuc3RhcnQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBldGl0b3JzID0gdGhpcy5maW5kQ29tcGV0aXRvcnModilcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBldGl0b3JzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGV0aXRvcnMuZm9yRWFjaChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY29tcGV0aXRvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LnByb3BzLmZvckVhY2goXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJvcCkgPT4gY29tcGV0aXRvci5zdG9wKHByb3ApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdi5zdGFydCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXYuZG9uZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmluZENvbXBldGl0b3JzKGFuaW1hdGlvbjogTmRBbmltYXRpb248TW9kZWw+KSB7XHJcbiAgICAgICAgbGV0IGNvbXBldGl0b3JzID0gW11cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25zW2ldICE9PSBhbmltYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbnNbaV0uYWN0aXZlICYmICF0aGlzLmFuaW1hdGlvbnNbaV0uZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgYW5pbWF0aW9uLnByb3BzLmxlbmd0aDsgYysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbnNbaV0uaW5kZXhPZihhbmltYXRpb24ucHJvcHNbY10pID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBldGl0b3JzLnB1c2godGhpcy5hbmltYXRpb25zW2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb21wZXRpdG9ycyBhcyBOZEFuaW1hdGlvbjxNb2RlbD5bXVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdGlja0VsZW1lbnRBbmltYXRpb25zID0gKGNhbnZhczogTmRDYW52YXNDb250ZXh0LCBkYXRlOiBEYXRlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdGltZSA9IGRhdGUuZ2V0VGltZSgpXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLmZvckVhY2goKGFuaW1hdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBhbmltYXRpb24ubW9ycGhpbmUgJiYgYW5pbWF0aW9uLm1vcnBoaW5lLnRpY2sodGltZSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBtb2RlbDogTW9kZWwsIGFwcDogTm9kYXMpIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgdGhpcy5kYXRhID0gbW9kZWxcclxuICAgICAgICB0aGlzLk1hdHJpeCA9IG5ldyBOZE5vZGVNYXRyaXgodGhpcywgbW9kZWwsIHRoaXMuQ2FjaGUpXHJcbiAgICAgICAgdGhpcy5Db21waWxlciA9IG5ldyBOZENvbXBpbGVyPE1vZGVsPih0aGlzLCBtb2RlbCwgKC4uLmFyZ3MpID0+IHRoaXMucmVuZGVyKC4uLmFyZ3MpKVxyXG4gICAgICAgIHRoaXMuVHJlZUNvbm5lY3RvciA9IGFwcC5UcmVlLnJlZ2lzdGVyKGlkLCB0aGlzLCB0aGlzLkNvbXBpbGVyLnJlbmRlcilcclxuICAgICAgICB0aGlzLk1vdXNlID0gYXBwLk1vdXNlLnJlZ2lzdGVyKHRoaXMsICguLi5hcmdzKSA9PiB0aGlzLmNhc3QoLi4uYXJncyksICguLi5hcmdzKSA9PiB0aGlzLnRlc3QoLi4uYXJncykpXHJcbiAgICAgICAgdGhpcy5waXBlID0gdGhpcy5Db21waWxlci5waXBlLmJpbmQodGhpcy5Db21waWxlcilcclxuICAgICAgICB0aGlzLnVucGlwZSA9IHRoaXMuQ29tcGlsZXIudW5waXBlLmJpbmQodGhpcy5Db21waWxlcilcclxuICAgICAgICB0aGlzLmNvbmRpdGlvbiA9IHRoaXMuQ29tcGlsZXIuZmlsdGVyLmJpbmQodGhpcy5Db21waWxlcilcclxuICAgICAgICB0aGlzLm9yZGVyID0gPChrZXlvZiBNb2RlbClbXT5PYmplY3Qua2V5cyhtb2RlbCkuc29ydCgoYSwgYikgPT4gbW9kZWxbYV0ub3JkZXJpbmcgLSBtb2RlbFtiXS5vcmRlcmluZylcclxuICAgICAgICBhcHAuQ2FudmFzLnF1ZXVlKC0yLCB0aGlzLnRpY2tFbGVtZW50QW5pbWF0aW9ucylcclxuICAgICAgICB0aGlzLm9uY2UoJ2Rlc3Ryb3knLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWxFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKVxyXG4gICAgICAgICAgICBhcHAuQ2FudmFzLnVuUXVldWUodGhpcy50aWNrRWxlbWVudEFuaW1hdGlvbnMpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLndhdGNoKFsncG9zaXRpb24nLCAncm90YXRlJywgJ29yaWdpbicsICdza2V3JywgJ3RyYW5zbGF0ZScsICdzY2FsZSddLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuTWF0cml4LnB1cmdlKClcclxuICAgICAgICAgICAgdGhpcy5UcmVlQ29ubmVjdG9yLmZvckVhY2hMYXllcihlID0+IGUubWF0cml4LnB1cmdlSW52ZXJzaW9uKCkpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLndhdGNoKFsncG9zaXRpb24nLCAnb3JpZ2luJywgJ3RyYW5zbGF0ZSddLCAoKSA9PiB0aGlzLnB1cmdlQm94KCkpXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGFuaW1hdGU8QW5pbWF0ZWQgZXh0ZW5kcyBFeHRyYWN0QW5pbWF0ZWQ8TW9kZWwsIE5kTm9kZVN0eWxlUHJvcGVydHlBbmltYXRlZDxhbnksIGFueSwgYW55LCBhbnk+PiwgSyBleHRlbmRzIGtleW9mIEFuaW1hdGVkPihcclxuICAgICAgICBwcm9wczogeyBbS2V5IGluIEtdPzogUGFyYW1ldGVyczxBbmltYXRlZFtLZXldWydzZXQnXT5bMF0gfSxcclxuICAgICAgICBkdXJhdGlvbj86IG51bWJlcixcclxuICAgICAgICBlYXNpbmc/OiBrZXlvZiB0eXBlb2YgbmRFYXNpbmdzLFxyXG4gICAgICAgIHF1ZXVlPzogYm9vbGVhbik6IE5vZGU8TW9kZWw+XHJcbiAgICBhbmltYXRlPEFuaW1hdGVkIGV4dGVuZHMgRXh0cmFjdEFuaW1hdGVkPE1vZGVsLCBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQ8YW55LCBhbnksIGFueSwgYW55Pj4sIEsgZXh0ZW5kcyBrZXlvZiBBbmltYXRlZD4oXHJcbiAgICAgICAgcHJvcHM6IHsgW0tleSBpbiBLXT86IFBhcmFtZXRlcnM8QW5pbWF0ZWRbS2V5XVsnc2V0J10+WzBdIH0sXHJcbiAgICAgICAgY29uZmlnPzogUmVmbGVjdEFuaW1hdGVDb25maWc8Tm9kZTxNb2RlbD4+KTogTm9kZTxNb2RlbD5cclxuICAgIGFuaW1hdGU8QW5pbWF0ZWQgZXh0ZW5kcyBFeHRyYWN0QW5pbWF0ZWQ8TW9kZWwsIE5kTm9kZVN0eWxlUHJvcGVydHlBbmltYXRlZDxhbnksIGFueSwgYW55LCBhbnk+PiwgSyBleHRlbmRzIGtleW9mIEFuaW1hdGVkICYgc3RyaW5nPihcclxuICAgICAgICBhOiB7IFtLZXkgaW4gS10/OiBQYXJhbWV0ZXJzPEFuaW1hdGVkW0tleV1bJ3NldCddPlswXSB9LFxyXG4gICAgICAgIGI/OiBudW1iZXIgfCBSZWZsZWN0QW5pbWF0ZUNvbmZpZzxOb2RlPE1vZGVsPj4sXHJcbiAgICAgICAgYz86IGtleW9mIHR5cGVvZiBuZEVhc2luZ3NcclxuICAgICkge1xyXG4gICAgICAgIGNvbnN0IHN0YWNrOiBOZEFuaW1hdGlvblN0YWNrPE1vZGVsPiA9ICg8S1tdPk9iamVjdC5rZXlzKGEpKVxyXG4gICAgICAgICAgICAuc29ydChcclxuICAgICAgICAgICAgICAgIChhLCBiKSA9PiB0aGlzLmRhdGFbYV0ub3JkZXJpbmcgLSB0aGlzLmRhdGFbYl0ub3JkZXJpbmcpLm1hcChcclxuICAgICAgICAgICAgICAgIChwcm9wKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGFbcHJvcF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHByb3AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaTogdGhpcy5kYXRhW3Byb3BdIGFzIE5kTm9kZVN0eWxlUHJvcGVydHlBbmltYXRlZDxhbnksIGFueSwgYW55LCBhbnk+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICBpZiAodHlwZW9mIGIgPT09ICdudW1iZXInIHx8IHR5cGVvZiBiID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBjb25zdCBhbmltYXRpb24gPSBuZXcgTmRBbmltYXRpb248TW9kZWw+KHRoaXMsIHN0YWNrLCBiLCBjKVxyXG4gICAgICAgICAgICBhbmltYXRpb24ub24oJ2NvbXBsZXRlJywgKCkgPT4gdGhpcy5jaGVja1F1ZXVlKVxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pXHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYiA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgY29uc3QgY29uZmlnID0gPFJlZmxlY3RBbmltYXRlQ29uZmlnPE5vZGU8TW9kZWw+Pj5iLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gbmV3IE5kQW5pbWF0aW9uPE1vZGVsPih0aGlzLCBzdGFjaywgY29uZmlnPy5kdXJhdGlvbiwgY29uZmlnPy5lYXNpbmcsIGNvbmZpZz8ucXVldWUpXHJcbiAgICAgICAgICAgIGlmIChjb25maWcuY29tcGxldGUpIGFuaW1hdGlvbi5vbignY29tcGxldGUnLCBjb25maWcuY29tcGxldGUpXHJcbiAgICAgICAgICAgIGlmIChjb25maWcuc3RlcCkgYW5pbWF0aW9uLm9uKCdzdGVwJywgY29uZmlnLnN0ZXApXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5vbignY29tcGxldGUnLCAoKSA9PiB0aGlzLmNoZWNrUXVldWUpXHJcbiAgICAgICAgfSBlbHNlIE5EQi5uZWdhdGl2ZSgnSW52YWxpZCBhbmltYXRpb24gY29uZmlnJywgdGhpcylcclxuICAgICAgICB0aGlzLmNoZWNrUXVldWUoKVxyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgc3RvcChwcm9wPzoga2V5b2YgRXh0cmFjdDxNb2RlbCwgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkPGFueSwgYW55LCBhbnksIGFueT4+KSB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLmZvckVhY2godiA9PiB2LnN0b3AoPHN0cmluZz5wcm9wKSlcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3R5bGUocHJvcDoga2V5b2YgTW9kZWwpOiBNb2RlbFtrZXlvZiBNb2RlbF1bJ3B1YmxpY1ZhbHVlJ11cclxuICAgIHN0eWxlPEsgZXh0ZW5kcyBrZXlvZiBNb2RlbD4ocHJvcDogSywgdmFsdWU/OlBhcmFtZXRlcnM8TW9kZWxbS11bJ3NldCddPlswXSk6IE1vZGVsW2tleW9mIE1vZGVsXVsncHVibGljVmFsdWUnXVxyXG4gICAgc3R5bGUocHJvcHM6IHsgW1Byb3AgaW4ga2V5b2YgTW9kZWxdPzogUGFyYW1ldGVyczxNb2RlbFtQcm9wXVsnc2V0J10+WzBdIH0pOiBOb2RlPE1vZGVsPlxyXG4gICAgc3R5bGU8SyBleHRlbmRzIGtleW9mIE1vZGVsPihcclxuICAgICAgICBwcm9wOiBLIHwgeyBbUHJvcCBpbiBrZXlvZiBNb2RlbF06IFBhcmFtZXRlcnM8TW9kZWxbUHJvcF1bJ3NldCddPlswXSB9LFxyXG4gICAgICAgIHZhbHVlPzogUGFyYW1ldGVyczxNb2RlbFtrZXlvZiBNb2RlbF1bJ3NldCddPlswXSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgKE9iamVjdC5rZXlzKHByb3ApIGFzIEtbXSlcclxuICAgICAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiB0aGlzLm9yZGVyLmluZGV4T2YoYSkgLSB0aGlzLm9yZGVyLmluZGV4T2YoYikpXHJcbiAgICAgICAgICAgICAgICAuZm9yRWFjaCgoa2V5OiBLKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3Bba2V5XSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YVtrZXldLnNldChwcm9wW2tleV0sIHRoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWxFbWl0dGVyLmVtaXQoPHN0cmluZz5rZXkpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZih0eXBlb2YgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhW3Byb3BdLnNldCh2YWx1ZSwgdGhpcylcclxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWxFbWl0dGVyLmVtaXQoPHN0cmluZz5wcm9wKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhW3Byb3BdLnB1YmxpY1ZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgd2F0Y2gocHJvcDoga2V5b2YgTW9kZWwgfCAoa2V5b2YgTW9kZWwpW10sIGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgaWYgKHByb3AgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICBwcm9wLmZvckVhY2godiA9PiB0aGlzLm1vZGVsRW1pdHRlci5vbig8c3RyaW5nPnYsIGNhbGxiYWNrKSlcclxuICAgICAgICB9IGVsc2UgdGhpcy5tb2RlbEVtaXR0ZXIub24oPHN0cmluZz5wcm9wLCBjYWxsYmFjaylcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIHVud2F0Y2gocHJvcDoga2V5b2YgTW9kZWwgfCAoa2V5b2YgTW9kZWwpW10sIGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgaWYgKHByb3AgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICBwcm9wLmZvckVhY2godiA9PiB0aGlzLm1vZGVsRW1pdHRlci5vZmYoPHN0cmluZz52LCBjYWxsYmFjaykpXHJcbiAgICAgICAgfSBlbHNlIHRoaXMubW9kZWxFbWl0dGVyLm9mZig8c3RyaW5nPnByb3AsIGNhbGxiYWNrKVxyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGlkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlRyZWVDb25uZWN0b3IuaWRcclxuICAgIH1cclxuXHJcbiAgICBzZXQgaWQoaWQpIHtcclxuICAgICAgICB0aGlzLlRyZWVDb25uZWN0b3IudHJlZS5yZW5hbWUodGhpcy5pZCwgaWQpXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHooKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuVHJlZUNvbm5lY3Rvci56XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHoodmFsdWUpIHtcclxuICAgICAgICB0aGlzLlRyZWVDb25uZWN0b3IudHJlZS56KHRoaXMsIHZhbHVlKVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBib3goKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuQm94LnZhbHVlLmNvbnRhaW5lclxyXG4gICAgfVxyXG5cclxuICAgIGdldCBib3VuZGluZ1JlY3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuQm94LnZhbHVlLnNwcml0ZVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBwYXJlbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuVHJlZUNvbm5lY3Rvci5wYXJlbnRcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbWF0cml4KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLk1hdHJpeC52YWx1ZVxyXG4gICAgfVxyXG5cclxuICAgIGdldCB3aWR0aCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5Cb3gudmFsdWUuY29udGFpbmVyLnNpemVbMF1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaGVpZ2h0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkJveC52YWx1ZS5jb250YWluZXIuc2l6ZVsxXVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBsZWZ0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkJveC52YWx1ZS5jb250YWluZXIucG9zaXRpb25bMF1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgdG9wKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkJveC52YWx1ZS5jb250YWluZXIucG9zaXRpb25bMV1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgYW5pbWF0ZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5hbmltYXRpb25zLmxlbmd0aFxyXG4gICAgfVxyXG5cclxuICAgIHB1cmdlQm94KCkge1xyXG4gICAgICAgIHRoaXMuQm94LnB1cmdlKClcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB0cmFuc2Zvcm1Db250ZXh0KGVsZW1lbnQ6IE5vZGU8YW55PiwgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICAgICAgY29udGV4dC50cmFuc2Zvcm0uYXBwbHkoY29udGV4dCwgZWxlbWVudC5tYXRyaXguZXh0cmFjdCgpKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZHJhd0xpbmVhclBhdGhCZzxUIGV4dGVuZHMgTmRNb2RCZyAmIE5kTW9kRnJlZVN0cm9rZSAmIE5kTW9kQmFzZT4oXHJcbiAgICAgICAgc3R5bGVzOiBULFxyXG4gICAgICAgIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcclxuICAgICAgICBhc3NlbWJsZXI6IE5kTW9kZUFzc2VtYmxlcikge1xyXG4gICAgICAgIGlmIChzdHlsZXMucGF0aC5wcm90ZWN0ZWRWYWx1ZS5sZW5ndGggPiAxICYmIHN0eWxlcy5iZy5wcm90ZWN0ZWRWYWx1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKClcclxuICAgICAgICAgICAgTm9kZS5jbGlwQmV6aWVyUGF0aChzdHlsZXMucGF0aC5wcm90ZWN0ZWRWYWx1ZSwgY29udGV4dClcclxuICAgICAgICAgICAgTm9kZS5kcmF3Qmcoc3R5bGVzLCBjb250ZXh0LCBhc3NlbWJsZXIpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBkcmF3Qmc8VCBleHRlbmRzIE5kTW9kQmcgJiBOZE1vZEJhc2U+KFxyXG4gICAgICAgIHN0eWxlczogVCxcclxuICAgICAgICBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXHJcbiAgICAgICAgYXNzZW1ibGVyOiBOZE1vZGVBc3NlbWJsZXIpIHtcclxuICAgICAgICBpZiAoc3R5bGVzLmJnLnByb3RlY3RlZFZhbHVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBzdHlsZXMuYmcucHJvdGVjdGVkVmFsdWUuZm9yRWFjaCgodjogTmRJbWFnZSwga2V5OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdi5sb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2Lm9uY2UoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VtYmxlci51cGRhdGUoJ2JnJylcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJnV2lkdGggPSBzdHlsZXMuYmFja2dyb3VuZFNpemVOdW1lcmljLnByb3RlY3RlZFZhbHVlW2tleV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJnSGVpZ2h0ID0gc3R5bGVzLmJhY2tncm91bmRTaXplTnVtZXJpYy5wcm90ZWN0ZWRWYWx1ZVtrZXldWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZ1Bvc2l0aW9uWCA9IHN0eWxlcy5iYWNrZ3JvdW5kUG9zaXRpb25OdW1lcmljLnByb3RlY3RlZFZhbHVlW2tleV1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJnUG9zaXRpb25ZID0gc3R5bGVzLmJhY2tncm91bmRQb3NpdGlvbk51bWVyaWMucHJvdGVjdGVkVmFsdWVba2V5XVsxXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShiZ1Bvc2l0aW9uWCwgYmdQb3NpdGlvblkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHYuZXhwb3J0KCksIDAsIDAsIGJnV2lkdGgsIGJnSGVpZ2h0KVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBkcmF3UGF0aEJnPFQgZXh0ZW5kcyBOZE1vZEJnICYgTmRNb2RGcmVlU3Ryb2tlICYgTmRNb2RCYXNlPihcclxuICAgICAgICBzdHlsZXM6IFQsXHJcbiAgICAgICAgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxyXG4gICAgICAgIGFzc2VtYmxlcjogTmRNb2RlQXNzZW1ibGVyXHJcbiAgICApIHtcclxuICAgICAgICBzdHlsZXMuaW50ZXJwb2xhdGlvbiA/XHJcbiAgICAgICAgICAgIE5vZGUuZHJhd0JlemllclBhdGhCZyhzdHlsZXMsIGNvbnRleHQsIGFzc2VtYmxlcikgOlxyXG4gICAgICAgICAgICBOb2RlLmRyYXdMaW5lYXJQYXRoQmcoc3R5bGVzLCBjb250ZXh0LCBhc3NlbWJsZXIpXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGRyYXdCZXppZXJQYXRoQmc8VCBleHRlbmRzIE5kTW9kQmcgJiBOZE1vZEZyZWVTdHJva2UgJiBOZE1vZEJhc2U+KFxyXG4gICAgICAgIHN0eWxlczogVCxcclxuICAgICAgICBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXHJcbiAgICAgICAgYXNzZW1ibGVyOiBOZE1vZGVBc3NlbWJsZXJcclxuICAgICkge1xyXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpXHJcbiAgICAgICAgTm9kZS5jbGlwQmV6aWVyUGF0aChzdHlsZXMucGF0aC5wcm90ZWN0ZWRWYWx1ZSwgY29udGV4dCwgdHJ1ZSlcclxuICAgICAgICBOb2RlLmRyYXdCZyhzdHlsZXMsIGNvbnRleHQsIGFzc2VtYmxlcilcclxuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjbGlwQmV6aWVyUGF0aChcclxuICAgICAgICBwYXRoOiBOZFBhdGhCZXppZXIsXHJcbiAgICAgICAgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxyXG4gICAgICAgIHNtb290aCA9IGZhbHNlLFxyXG4gICAgICAgIGNsb3NlZCA9IHRydWVcclxuICAgICkge1xyXG4gICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgTm9kZS5yZWdpc3RlclBhdGgocGF0aCwgY29udGV4dCwgc21vb3RoLCBjbG9zZWQpXHJcbiAgICAgICAgICAgIGNvbnRleHQuY2xpcCgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByZWdpc3RlclBhdGgoXHJcbiAgICAgICAgcGF0aDogTmRQYXRoQmV6aWVyLFxyXG4gICAgICAgIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcclxuICAgICAgICBzbW9vdGggPSBmYWxzZSxcclxuICAgICAgICBjbG9zZWQgPSB0cnVlXHJcbiAgICApIHtcclxuICAgICAgICBpZiAocGF0aC5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKClcclxuICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocGF0aFswXVswXSwgcGF0aFswXVsxXSlcclxuICAgICAgICAgICAgaWYgKHNtb290aCkge1xyXG4gICAgICAgICAgICAgICAgcGF0aC5mb3JFYWNoKFxyXG4gICAgICAgICAgICAgICAgICAgIChzZWdtZW50OiBOZFNlZ21lbnRCZXppZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlZ21lbnRbMF0gPT09IHNlZ21lbnRbNF0gJiYgc2VnbWVudFsxXSA9PT0gc2VnbWVudFs1XSAmJiBzZWdtZW50WzJdID09PSBzZWdtZW50WzZdICYmIHNlZ21lbnRbM10gPT09IHNlZ21lbnRbN10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHNlZ21lbnRbMl0sIHNlZ21lbnRbM10pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oc2VnbWVudFs0XSwgc2VnbWVudFs1XSwgc2VnbWVudFs2XSwgc2VnbWVudFs3XSwgc2VnbWVudFsyXSwgc2VnbWVudFszXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhdGguZm9yRWFjaCgoc2VnbWVudDogTmRTZWdtZW50QmV6aWVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oc2VnbWVudFsyXSwgc2VnbWVudFszXSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChjbG9zZWQpIGNvbnRleHQuY2xvc2VQYXRoKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGRyYXdGaWxsPFQgZXh0ZW5kcyBOZE1vZEJhc2UgJiBOZE1vZEJnICYgTmRNb2RGcmVlU3Ryb2tlPihcclxuICAgICAgICBzdHlsZXM6IFQsXHJcbiAgICAgICAgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICAgICAgY29udGV4dC5zYXZlKClcclxuICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBzdHlsZXMuY2FwLnByb3RlY3RlZFZhbHVlXHJcbiAgICAgICAgTm9kZS5yZWdpc3RlclBhdGgoc3R5bGVzLnBhdGgucHJvdGVjdGVkVmFsdWUsIGNvbnRleHQsICEhc3R5bGVzLmludGVycG9sYXRpb24sIHRydWUpXHJcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBzdHlsZXMuZmlsbC5wcm90ZWN0ZWRWYWx1ZVxyXG4gICAgICAgIGNvbnRleHQuZmlsbCgpXHJcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKClcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZHJhd1N0cm9rZTxUIGV4dGVuZHMgTmRNb2RCYXNlICYgTmRNb2RGcmVlU3Ryb2tlPihcclxuICAgICAgICBzdHlsZXM6IFQsXHJcbiAgICAgICAgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICAgICAgc3R5bGVzLnBhdGgucHJvdGVjdGVkVmFsdWUuZm9yRWFjaChcclxuICAgICAgICAgICAgKHNlZ21lbnQ6IE5kU2VnbWVudEJlemllciwga2V5OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFt4MSwgeTEsIHgyLCB5MiwgY3gxLCBjeTEsIGN4MiwgY3kyXSA9IHNlZ21lbnRcclxuICAgICAgICAgICAgICAgIGlmIChzdHlsZXMuc3Ryb2tlV2lkdGgucHJvdGVjdGVkVmFsdWVba2V5XSA8IC4xKSBjb250ZXh0Lm1vdmVUbyh4MiwgeTIpXHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHgxLCB5MSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlcy5zdHJva2VDb2xvci5wcm90ZWN0ZWRWYWx1ZVtrZXldXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHlsZXMuc3Ryb2tlV2lkdGgucHJvdGVjdGVkVmFsdWVba2V5XVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3R5bGVzLnN0cm9rZVN0eWxlLnByb3RlY3RlZFZhbHVlW2tleV0pXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0eWxlcy5pbnRlcnBvbGF0aW9uLnByb3RlY3RlZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyhjeDEsIGN5MSwgY3gyLCBjeTIsIHgyLCB5MilcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh4MiwgeTIpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKClcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFwcGx5Qm94QW5jaG9yKHBvc2l0aW9uOlt4Om51bWJlcix5Om51bWJlcl0sIHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlcixkYXRhOk5kTW9kQW5jaG9yKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuYW5jaG9yLnByb3RlY3RlZFZhbHVlWzBdID09PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICBwb3NpdGlvblswXSAtPSB3aWR0aCAvIDJcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRhdGEuYW5jaG9yLnByb3RlY3RlZFZhbHVlWzBdID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uWzBdIC09IHdpZHRoXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhLmFuY2hvci5wcm90ZWN0ZWRWYWx1ZVsxXSA9PT0gJ21pZGRsZScpIHtcclxuICAgICAgICAgICAgcG9zaXRpb25bMV0tPSBoZWlnaHQgLyAyXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhLmFuY2hvci5wcm90ZWN0ZWRWYWx1ZVsxXSA9PSAnYm90dG9tJykge1xyXG4gICAgICAgICAgICBwb3NpdGlvblsxXSAtPSBoZWlnaHRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHtOZE51bWVyaWNBcnJheTJkfSBmcm9tICcuLi8uLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQge05kQXJyQ29sb3IsIE5kQ29sb3JTdHIsIE5EQ3BBcnIsIE5kUGF0aCwgTmRQYXRoQmV6aWVyLCBOZFBlcmNlbnRTdHIsIE5kU2VnbWVudEJlemllcn0gZnJvbSAnLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5kU3R5bGVzUHJvcGVydHkgZnJvbSAnLi9OZE5vZGVTdHlsZVByb3BlcnR5JztcclxuaW1wb3J0IE5kTm9kZVN0eWxlUHJvcGVydHlBbmltYXRlZCBmcm9tICcuL05kTm9kZVN0eWxlUHJvcGVydHlBbmltYXRlZCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBOZE5vZGVTdHlsZXNNb2RlbCB7XHJcbiAgICBba2V5OiBzdHJpbmddOiBOZFN0eWxlc1Byb3BlcnR5PGFueSwgYW55LCBhbnk+IHwgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkPGFueSwgYW55LCBhbnksIGFueT5cclxuXHJcbiAgICBzdGF0aWMgZGVnVG9SYWQodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIGlmICh2YWx1ZSA+IDM2MCkge1xyXG4gICAgICAgICAgICB2YWx1ZSAtPSB2YWx1ZSAqIE1hdGguZmxvb3IodmFsdWUgLyAzNjApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2YWx1ZSA8IDM2MCkge1xyXG4gICAgICAgICAgICB2YWx1ZSArPSB2YWx1ZSAqIE1hdGguZmxvb3IodmFsdWUgLyAzNjApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZSAqIE1hdGguUEkgLyAxODBcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcmFkVG9EZWcodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZSAqICgxODAgLyBNYXRoLlBJKVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBub3JtYWxpemVDb2xvcihjb2xvcjogTmRDb2xvclN0ciB8IE5kQXJyQ29sb3IpOiBOZEFyckNvbG9yIHtcclxuICAgICAgICBpZiAodHlwZW9mIGNvbG9yID09ICdzdHJpbmcnKSBjb2xvciA9IE5kTm9kZVN0eWxlc01vZGVsLmNvbG9yVG9BcnJheShjb2xvcilcclxuICAgICAgICBjb2xvci5tYXAoKHYsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoa2V5IDwgMykge1xyXG4gICAgICAgICAgICAgICAgdiA9IE1hdGgucm91bmQodik7XHJcbiAgICAgICAgICAgICAgICBpZiAodiA+IDI1NSkgcmV0dXJuIDI1NTtcclxuICAgICAgICAgICAgICAgIGlmICh2IDwgMCkgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdlxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHYgPCAwKSB2ID0gMFxyXG4gICAgICAgICAgICAgICAgaWYgKHYgPiAxKSB2ID0gMTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2LnRvRml4ZWQoMilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIGNvbG9yXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNvbG9yVG9BcnJheSh2YWx1ZTogTmRDb2xvclN0cik6IE5kQXJyQ29sb3Ige1xyXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IHZhbHVlLm1hdGNoKC9ecmdiYVxcKChbXFxkLl0rKSwoW1xcZC5dKyksKFtcXGQuXSspLChbXFxkLl0rKVxcKSQvKVxyXG4gICAgICAgIHJldHVybiB2YWx1ZXMgPyBOZE5vZGVTdHlsZXNNb2RlbC5ub3JtYWxpemVDb2xvcihbcGFyc2VJbnQodmFsdWVzWzFdKSwgcGFyc2VJbnQodmFsdWVzWzJdKSwgcGFyc2VJbnQodmFsdWVzWzNdKSwgcGFyc2VGbG9hdCh2YWx1ZXNbNF0pXSkgOiBbMCwgMCwgMCwgMV1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXJyYXlUb0NvbG9yKHZhbHVlOiBOZEFyckNvbG9yKTogTmRDb2xvclN0ciB7XHJcbiAgICAgICAgdmFsdWUgPSBOZE5vZGVTdHlsZXNNb2RlbC5ub3JtYWxpemVDb2xvcih2YWx1ZSlcclxuICAgICAgICByZXR1cm4gKGByZ2JhKCR7dmFsdWVbMF19LCR7dmFsdWVbMV19LCR7dmFsdWVbMl19LCR7dmFsdWVbM119KWAgYXMgTmRDb2xvclN0cilcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0Q29udHJvbFBvaW50cyguLi5beDAsIHkwLCB4MSwgeTEsIHgyLCB5MiwgdF06IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdKTogTkRDcEFyciB7XHJcbiAgICAgICAgbGV0IGQwMSA9IE1hdGguc3FydChNYXRoLnBvdyh4MSAtIHgwLCAyKSArIE1hdGgucG93KHkxIC0geTAsIDIpKSxcclxuICAgICAgICAgICAgZDEyID0gTWF0aC5zcXJ0KE1hdGgucG93KHgyIC0geDEsIDIpICsgTWF0aC5wb3coeTIgLSB5MSwgMikpLFxyXG4gICAgICAgICAgICBmYSA9IHQgKiBkMDEgLyAoZDAxICsgZDEyKSxcclxuICAgICAgICAgICAgZmIgPSB0ICogZDEyIC8gKGQwMSArIGQxMiksXHJcbiAgICAgICAgICAgIHAxeCA9IHgxIC0gZmEgKiAoeDIgLSB4MCksXHJcbiAgICAgICAgICAgIHAxeSA9IHkxIC0gZmEgKiAoeTIgLSB5MCksXHJcbiAgICAgICAgICAgIHAyeCA9IHgxICsgZmIgKiAoeDIgLSB4MCksXHJcbiAgICAgICAgICAgIHAyeSA9IHkxICsgZmIgKiAoeTIgLSB5MCk7XHJcbiAgICAgICAgcmV0dXJuIFtwMXgsIHAxeSwgcDJ4LCBwMnldO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjb252ZXJ0Q29tcGxleFBhdGgocGF0aDogTmRQYXRoQmV6aWVyKTogTmRQYXRoIHtcclxuICAgICAgICBjb25zdCByZXN1bHQ6IE5kUGF0aCA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goW1xyXG4gICAgICAgICAgICAgICAgcGF0aFtpXVswXSxcclxuICAgICAgICAgICAgICAgIHBhdGhbaV1bMV1cclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgY29udmVydFNpbXBsZVBhdGggPSBmdW5jdGlvbiAocGF0aDogTmRQYXRoLCBjbG9zZWQ6IGJvb2xlYW4gPSBmYWxzZSk6IE5kUGF0aEJlemllciB7XHJcbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoIDwgMikgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHBhdGggbGVuZ3RoJylcclxuXHJcbiAgICAgICAgY29uc3QgcmVzdWx0OiBOZFBhdGhCZXppZXIgPSBbXTtcclxuXHJcbiAgICAgICAgcGF0aC5mb3JFYWNoKCh2LCBrZXkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgeCA9IHZbMF0sIHkgPSB2WzFdO1xyXG4gICAgICAgICAgICBjb25zdCBiZXppZXJQb2ludDogTmRTZWdtZW50QmV6aWVyID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdXHJcbiAgICAgICAgICAgIGlmIChrZXkgPCBwYXRoLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgIGJlemllclBvaW50WzBdID0geDtcclxuICAgICAgICAgICAgICAgIGJlemllclBvaW50WzFdID0geTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoa2V5ICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5IC0gMV1bMl0gPSB4O1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleSAtIDFdWzNdID0geTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXkgLSAxXVs0XSA9IHJlc3VsdFtrZXkgLSAxXVswXVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleSAtIDFdWzVdID0gcmVzdWx0W2tleSAtIDFdWzFdXHJcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5IC0gMV1bNl0gPSB4O1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleSAtIDFdWzddID0geTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXN1bHQucHVzaChiZXppZXJQb2ludClcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJlc3VsdC5wb3AoKSAvL3JlbW92ZSBleHRyYSBwb2ludFxyXG4gICAgICAgIGlmIChjbG9zZWQpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bMl0gIT09IHJlc3VsdFswXVswXSAmJiByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzNdICE9PSByZXN1bHRbMF1bMV0pIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFtyZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzJdLCByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzNdLCByZXN1bHRbMF1bMF0sIHJlc3VsdFswXVsxXSwgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVsyXSwgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVszXSwgcmVzdWx0WzBdWzBdLCByZXN1bHRbMF1bMV1dKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHN0YXRpYyBpbnRlcnBvbGF0ZShwYXRoOiBOZFBhdGhCZXppZXIsIHNtb290aGluZzogbnVtYmVyLCBjbG9zZWQ6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBwYXRoLmZvckVhY2goKHYsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcHJldjogTmROdW1lcmljQXJyYXkyZCxcclxuICAgICAgICAgICAgICAgIG1pZCA9IFt2WzBdLCB2WzFdXSxcclxuICAgICAgICAgICAgICAgIG5leHQgPSBbdlsyXSwgdlszXV0sXHJcbiAgICAgICAgICAgICAgICBjb250cm9sczogTkRDcEFycjtcclxuXHJcbiAgICAgICAgICAgIHByZXYgPSBrZXkgPT09IDAgPyBjbG9zZWQgPyBbcGF0aFtwYXRoLmxlbmd0aCAtIDFdWzBdLHBhdGhbcGF0aC5sZW5ndGggLSAxXVsxXV06IFttaWRbMF0gLSAobmV4dFswXSAtIG1pZFswXSksIG1pZFsxXSAtIChuZXh0WzFdIC0gbWlkWzBdKV0gOiBbcGF0aFtrZXkgLSAxXVswXSwgcGF0aFtrZXkgLSAxXVsxXV1cclxuXHJcbiAgICAgICAgICAgIGNvbnRyb2xzID0gTmROb2RlU3R5bGVzTW9kZWwuZ2V0Q29udHJvbFBvaW50cyhwcmV2WzBdLCBwcmV2WzFdLCBtaWRbMF0sIG1pZFsxXSwgbmV4dFswXSwgbmV4dFsxXSwgc21vb3RoaW5nKVxyXG5cclxuICAgICAgICAgICAgaWYgKGtleSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRoW2tleV1bNF0gPSBjb250cm9sc1syXVxyXG4gICAgICAgICAgICAgICAgcGF0aFtrZXldWzVdID0gY29udHJvbHNbM11cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhdGhba2V5IC0gMV1bNl0gPSBjb250cm9sc1swXVxyXG4gICAgICAgICAgICAgICAgcGF0aFtrZXkgLSAxXVs3XSA9IGNvbnRyb2xzWzFdXHJcbiAgICAgICAgICAgICAgICB2WzRdID0gY29udHJvbHNbMl1cclxuICAgICAgICAgICAgICAgIHZbNV0gPSBjb250cm9sc1szXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT0gcGF0aC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2ID0gW3BhdGhba2V5XVswXSwgcGF0aFtrZXldWzFdXTtcclxuICAgICAgICAgICAgICAgIG1pZCA9IFtwYXRoW2tleV1bMl0sIHBhdGhba2V5XVszXV07XHJcbiAgICAgICAgICAgICAgICBuZXh0ID0gY2xvc2VkID8gW3BhdGhbMF1bMl0sIHBhdGhbMF1bM11dIDogW21pZFswXSArIChwcmV2WzBdIC0gbWlkWzBdKSwgbWlkWzFdICsgKHByZXZbMF0gLSBtaWRbMF0pXTtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xzID0gTmROb2RlU3R5bGVzTW9kZWwuZ2V0Q29udHJvbFBvaW50cyhwcmV2WzBdLCBwcmV2WzFdLCBtaWRbMF0sIG1pZFsxXSwgbmV4dFswXSwgbmV4dFsxXSwgc21vb3RoaW5nKTtcclxuICAgICAgICAgICAgICAgIHZbNl0gPSBjb250cm9sc1swXVxyXG4gICAgICAgICAgICAgICAgdls3XSA9IGNvbnRyb2xzWzFdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgY29tcGFyZVBhdGhzKHBhdGgxOiBOZFBhdGggfCBOZFBhdGhCZXppZXIsIHBhdGgyOiBOZFBhdGggfCBOZFBhdGhCZXppZXIpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAocGF0aDEubGVuZ3RoICE9PSBwYXRoMi5sZW5ndGgpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgxLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgcGF0aDFbaV0ubGVuZ3RoOyBuKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChwYXRoMVtpXVtuXSAhPT0gcGF0aDJbaV1bbl0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBleHRyYWN0UGVyY2VudEZyYWN0aW9uKHZhbHVlOiBOZFBlcmNlbnRTdHIpIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSkgLyAxMDBcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc3luY0FycmF5PFQgZXh0ZW5kcyBhbnlbXSwgSyBleHRlbmRzIGtleW9mIFQsIFYgZXh0ZW5kcyBhbnlbXT4oYmFzZTogYW55W10sIGFycmF5OiBULCBmaWxsZXI6IFYpIHtcclxuICAgICAgICBpZiAoYXJyYXkubGVuZ3RoID4gYmFzZS5sZW5ndGgpIGFycmF5LnNwbGljZSgwLCBiYXNlLmxlbmd0aClcclxuICAgICAgICBpZiAoYXJyYXkubGVuZ3RoIDwgYmFzZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYXNlLmxlbmd0aCAtIGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhcnJheS5wdXNoKGZpbGxlci5tYXAoKHZhbHVlLCBrZXkpID0+IHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nID8gdmFsdWUoaSwga2V5XHJcbiAgICAgICAgICAgICAgICApIDogdmFsdWUpKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IE5vZGUgZnJvbSAnLi4vTm9kZSc7XHJcblxyXG50eXBlIGZvcmtBcnJheTxULCBUcnVlLCBGYWxzZT4gPSBUIGV4dGVuZHMgYW55W10gPyBUcnVlIDogRmFsc2VcclxudHlwZSBNb2RlbFByb3BlcnR5VmFsdWVDYWxsYmFjazxUPiA9IChpdGVtSW5kZXg6IG51bWJlciwgaXRlbVZhbHVlSW5kZXg/OiBudW1iZXIpID0+IFRcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmRTdHlsZXNQcm9wZXJ0eTxTdG9yZVR5cGUsIEdldFR5cGUsIFNldFR5cGU+IHtcclxuICAgIHByaXZhdGUgX3ZhbHVlOiBTdG9yZVR5cGVcclxuICAgIHB1YmxpYyByZWFkb25seSBkZWZhdWx0OiBTdG9yZVR5cGVcclxuICAgIHB1YmxpYyByZWFkb25seSBvcmRlcmluZzogbnVtYmVyID0gMFxyXG4gICAgcHVibGljIGdldDogKCkgPT4gR2V0VHlwZVxyXG4gICAgcHVibGljIHNldDogKHZhbHVlOiBTZXRUeXBlLCBlbGVtZW50OiBOb2RlPGFueT4pID0+IFN0b3JlVHlwZSA9ICgpID0+IHRoaXMuX3ZhbHVlXHJcbiAgICBwcml2YXRlIHZhbHVlOiBHZXRUeXBlXHJcblxyXG4gICAgZ2V0IHByb3RlY3RlZFZhbHVlKCk6IFN0b3JlVHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHB1YmxpY1ZhbHVlKCk6IEdldFR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldCgpXHJcbiAgICB9XHJcblxyXG4gICAgc3luYzxUIGV4dGVuZHMgU3RvcmVUeXBlICYgYW55W10sIEsgZXh0ZW5kcyBrZXlvZiBUICYgbnVtYmVyLCBNIGV4dGVuZHMga2V5b2YgVFtLXSAmIG51bWJlcj5cclxuICAgIChtb2RlbDogYW55W10sIGZpbGxlcjogVFtLXSB8IGZvcmtBcnJheTxUW0tdLCBNb2RlbFByb3BlcnR5VmFsdWVDYWxsYmFjazxUW0tdW01dPltdLCBNb2RlbFByb3BlcnR5VmFsdWVDYWxsYmFjazxUW0tdPj4pIHtcclxuICAgICAgICBpZiAodGhpcy5fdmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fdmFsdWUubGVuZ3RoID4gbW9kZWwubGVuZ3RoKSB0aGlzLl92YWx1ZS5zcGxpY2UoMCwgbW9kZWwubGVuZ3RoKVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fdmFsdWUubGVuZ3RoIDwgbW9kZWwubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gbW9kZWwubGVuZ3RoIC0gdGhpcy5fdmFsdWUubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpZmY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbGVyID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUucHVzaChmaWxsZXIoaSkpXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZmlsbGVyIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbGVyLm1hcCgodmFsdWU6IFRbS10sIGtleTogbnVtYmVyKSA9PiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgPyB2YWx1ZShpLCBrZXkpIDogdmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZS5wdXNoKGZpbGxlcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBvcmRlcjogbnVtYmVyLFxyXG4gICAgICAgIGluaXRpYWw6IFN0b3JlVHlwZSxcclxuICAgICAgICBnZXQ6IChjdXJyZW50OiBTdG9yZVR5cGUpID0+IEdldFR5cGUsXHJcbiAgICAgICAgc2V0PzogKHZhbHVlOiBTZXRUeXBlLCBlbGVtZW50OiBOb2RlPGFueT4pID0+IFN0b3JlVHlwZSkge1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gaW5pdGlhbFxyXG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IGluaXRpYWxcclxuICAgICAgICB0aGlzLm9yZGVyaW5nID0gb3JkZXJcclxuICAgICAgICB0aGlzLnZhbHVlID0gZ2V0KHRoaXMuX3ZhbHVlKVxyXG4gICAgICAgIHRoaXMuZ2V0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gZ2V0KHRoaXMuX3ZhbHVlKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHNldCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldCA9ICh2YWx1ZTogU2V0VHlwZSwgZWxlbWVudDogTm9kZTxhbnk+KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHNldCh2YWx1ZSwgZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gZ2V0KHRoaXMuX3ZhbHVlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtOZFN0eWxlUHJvcEFuaW1hdGVkQXBwbGllciwgTmRTdHlsZVByb3BBbmltYXRlZFN0YXJ0ZXJ9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOZFN0eWxlc1Byb3BlcnR5IGZyb20gJy4vTmROb2RlU3R5bGVQcm9wZXJ0eSc7XHJcbmltcG9ydCBOb2RlIGZyb20gJy4uL05vZGUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkPFN0b3JlVHlwZSwgR2V0VHlwZSwgU2V0VHlwZSwgQW5pVHlwZSBleHRlbmRzIFNldFR5cGUsXHJcbiAgICBFbGVtZW50IGV4dGVuZHMgTm9kZTxhbnk+ID0gTm9kZTxhbnk+PlxyXG4gICAgZXh0ZW5kcyBOZFN0eWxlc1Byb3BlcnR5PFN0b3JlVHlwZSwgR2V0VHlwZSwgU2V0VHlwZT4ge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzdGFydGVyOiBOZFN0eWxlUHJvcEFuaW1hdGVkU3RhcnRlcjxTZXRUeXBlLCBHZXRUeXBlLCBBbmlUeXBlPjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXBwbGllcjogTmRTdHlsZVByb3BBbmltYXRlZEFwcGxpZXI8QW5pVHlwZSwgRWxlbWVudD47XHJcbiAgICBwcml2YXRlIF9zdGFydD86IEFuaVR5cGUgfCBmYWxzZSA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBfZW5kPzogQW5pVHlwZSB8IGZhbHNlID0gZmFsc2U7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIG9yZGVyOiBudW1iZXIsXHJcbiAgICAgICAgaW5pdGlhbDogU3RvcmVUeXBlLFxyXG4gICAgICAgIGdldHRlcjogKGN1cnJlbnQ6IFN0b3JlVHlwZSkgPT4gR2V0VHlwZSxcclxuICAgICAgICBzZXR0ZXI6ICh2YWx1ZTogU2V0VHlwZSwgZWxlbWVudDogTm9kZTxhbnk+KSA9PiBTdG9yZVR5cGUsXHJcbiAgICAgICAgc3RhcnRlcjogTmRTdHlsZVByb3BBbmltYXRlZFN0YXJ0ZXI8U2V0VHlwZSwgR2V0VHlwZSwgQW5pVHlwZT4sXHJcbiAgICAgICAgYXBwbGllcjogTmRTdHlsZVByb3BBbmltYXRlZEFwcGxpZXI8QW5pVHlwZSwgRWxlbWVudD4pIHtcclxuICAgICAgICBzdXBlcihvcmRlciwgaW5pdGlhbCwgZ2V0dGVyLCBzZXR0ZXIpXHJcbiAgICAgICAgdGhpcy5zdGFydGVyID0gc3RhcnRlcjtcclxuICAgICAgICB0aGlzLmFwcGxpZXIgPSBhcHBsaWVyXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHN0YXJ0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFydFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0IHN0YXJ0KHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fc3RhcnQgPSB2YWx1ZVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBlbmQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0U3RhcnRWYWx1ZSh2YWw6IEFuaVR5cGUpIHtcclxuICAgICAgICB0aGlzLnN0YXJ0ID0gdmFsXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRFbmRWYWx1ZSh2YWw6IEFuaVR5cGUpIHtcclxuICAgICAgICB0aGlzLl9lbmQgPSB2YWxcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW5pdCh2YWx1ZTogU2V0VHlwZSkge1xyXG4gICAgICAgIHRoaXMuc3RhcnRlcih0aGlzLmdldCgpLCB2YWx1ZSwgdGhpcy5zZXRTdGFydFZhbHVlLmJpbmQodGhpcyksIHRoaXMuc2V0RW5kVmFsdWUuYmluZCh0aGlzKSlcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhcHBseShlbGVtZW50OiBFbGVtZW50LCBwcm9ncmVzczogbnVtYmVyLCB2YWx1ZTogQW5pVHlwZSkge1xyXG4gICAgICAgIHZhbHVlID0gdGhpcy5hcHBsaWVyKHZhbHVlLCBlbGVtZW50LCBwcm9ncmVzcylcclxuICAgICAgICB0aGlzLnNldCh2YWx1ZSwgZWxlbWVudClcclxuICAgICAgICByZXR1cm4gdGhpcy5wdWJsaWNWYWx1ZVxyXG4gICAgfVxyXG5cclxuXHJcbn0iLCJpbXBvcnQge05kTnVtZXJpY0FycmF5MmR9IGZyb20gJy4uLy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCB7TmRCbGVuZCwgTmRDYXB9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOZE5vZGVTdHlsZXNNb2RlbCBmcm9tICcuLi9jbGFzc2VzL05kTm9kZVN0eWxlc01vZGVsJztcclxuaW1wb3J0IE5kTm9kZVN0eWxlUHJvcGVydHlBbmltYXRlZCBmcm9tICcuLi9jbGFzc2VzL05kTm9kZVN0eWxlUHJvcGVydHlBbmltYXRlZCc7XHJcbmltcG9ydCBOZFN0eWxlc1Byb3BlcnR5IGZyb20gJy4uL2NsYXNzZXMvTmROb2RlU3R5bGVQcm9wZXJ0eSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZE1vZEJhc2UgZXh0ZW5kcyBOZE5vZGVTdHlsZXNNb2RlbCB7XHJcblxyXG4gICAgcG9zaXRpb24gPSBuZXcgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkPE5kTnVtZXJpY0FycmF5MmQsIE5kTnVtZXJpY0FycmF5MmQsIG51bWJlciB8IE5kTnVtZXJpY0FycmF5MmQsIE5kTnVtZXJpY0FycmF5MmQ+KFxyXG4gICAgICAgIDIsXHJcbiAgICAgICAgWzAsIDBdLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiBbLi4uY3VycmVudF0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5ID8gWy4uLnZhbHVlXSA6IFt2YWx1ZSwgdmFsdWVdLFxyXG4gICAgICAgIChjdXJyZW50LCB2YWx1ZSwgc2V0U3RhcnQsIHNldEVuZCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRTdGFydChjdXJyZW50KVxyXG4gICAgICAgICAgICBzZXRFbmQodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyA/IFt2YWx1ZSwgdmFsdWVdIDogW3ZhbHVlWzBdLCB2YWx1ZVsxXV0pXHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZVswXSwgdmFsdWVbMV1dXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG5cclxuICAgIHNjYWxlID0gbmV3IE5kTm9kZVN0eWxlUHJvcGVydHlBbmltYXRlZDxOZE51bWVyaWNBcnJheTJkLCBOZE51bWVyaWNBcnJheTJkLCBudW1iZXIgfCBOZE51bWVyaWNBcnJheTJkLCBOZE51bWVyaWNBcnJheTJkPihcclxuICAgICAgICAwLFxyXG4gICAgICAgIFsxLCAxXSxcclxuICAgICAgICAoY3VycmVudCkgPT4gWy4uLmN1cnJlbnRdLFxyXG4gICAgICAgICh2YWx1ZSkgPT4gdmFsdWUgaW5zdGFuY2VvZiBBcnJheSA/IFsuLi52YWx1ZV0gOiBbdmFsdWUsIHZhbHVlXSxcclxuICAgICAgICAoY3VycmVudCwgdmFsdWUsIHNldFN0YXJ0LCBzZXRFbmQpID0+IHtcclxuICAgICAgICAgICAgc2V0U3RhcnQoY3VycmVudCk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICBzZXRFbmQoW3ZhbHVlLCB2YWx1ZV0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlWzBdIDwgMCkgdmFsdWVbMF0gPSAwXHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVbMV0gPCAwKSB2YWx1ZVsxXSA9IDBcclxuICAgICAgICAgICAgICAgIHNldEVuZChbdmFsdWVbMF0sIHZhbHVlWzFdXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLCB2YWx1ZVsxXV1cclxuICAgICAgICB9XHJcbiAgICApXHJcblxyXG4gICAgcm90YXRlID0gbmV3IE5kTm9kZVN0eWxlUHJvcGVydHlBbmltYXRlZDxudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXI+KFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgMCxcclxuICAgICAgICAoY3VycmVudCkgPT4gTmROb2RlU3R5bGVzTW9kZWwucmFkVG9EZWcoY3VycmVudCksXHJcbiAgICAgICAgKHZhbHVlKSA9PiBOZE5vZGVTdHlsZXNNb2RlbC5kZWdUb1JhZCh2YWx1ZSksXHJcbiAgICAgICAgKGN1cnJlbnQsIHZhbHVlLCBzZXRTdGFydCwgc2V0RW5kKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBzZXRTdGFydChjdXJyZW50KTtcclxuICAgICAgICAgICAgc2V0RW5kKHZhbHVlKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgICAgIH1cclxuICAgIClcclxuXHJcbiAgICB0cmFuc2xhdGUgPSBuZXcgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkPE5kTnVtZXJpY0FycmF5MmQsIE5kTnVtZXJpY0FycmF5MmQsIG51bWJlciB8IE5kTnVtZXJpY0FycmF5MmQsIE5kTnVtZXJpY0FycmF5MmQ+KFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgWzAsIDBdLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiBbLi4uY3VycmVudF0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5ID8gWy4uLnZhbHVlXSA6IFt2YWx1ZSwgdmFsdWVdLFxyXG4gICAgICAgIChjdXJyZW50LCB2YWx1ZSwgc2V0U3RhcnQsIHNldEVuZCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRTdGFydChjdXJyZW50KVxyXG4gICAgICAgICAgICBzZXRFbmQodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyA/IFt2YWx1ZSwgdmFsdWVdIDogW3ZhbHVlWzBdLCB2YWx1ZVsxXV0pXHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZVswXSwgdmFsdWVbMV1dXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG5cclxuICAgIHNrZXcgPSBuZXcgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkPE5kTnVtZXJpY0FycmF5MmQsIE5kTnVtZXJpY0FycmF5MmQsIG51bWJlciB8IE5kTnVtZXJpY0FycmF5MmQsIE5kTnVtZXJpY0FycmF5MmQ+KFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgWzAsIDBdLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiBbTmROb2RlU3R5bGVzTW9kZWwucmFkVG9EZWcoY3VycmVudFswXSksIE5kTm9kZVN0eWxlc01vZGVsLnJhZFRvRGVnKGN1cnJlbnRbMV0pXSxcclxuICAgICAgICAodmFsdWUpID0+IHZhbHVlIGluc3RhbmNlb2YgQXJyYXkgPyBbTmROb2RlU3R5bGVzTW9kZWwuZGVnVG9SYWQodmFsdWVbMF0pLCBOZE5vZGVTdHlsZXNNb2RlbC5kZWdUb1JhZCh2YWx1ZVsxXSldIDogW05kTm9kZVN0eWxlc01vZGVsLmRlZ1RvUmFkKHZhbHVlKSwgTmROb2RlU3R5bGVzTW9kZWwuZGVnVG9SYWQodmFsdWUpXSxcclxuICAgICAgICAoY3VycmVudCwgdmFsdWUsIHNldFN0YXJ0LCBzZXRFbmQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykgdmFsdWUgPSBbdmFsdWUsIHZhbHVlXVxyXG4gICAgICAgICAgICBzZXRTdGFydChjdXJyZW50KVxyXG4gICAgICAgICAgICBzZXRFbmQoW3ZhbHVlWzBdLCB2YWx1ZVsxXV0pXHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG5cclxuICAgIG9wYWNpdHkgPSBuZXcgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkPG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcj4oXHJcbiAgICAgICAgMCxcclxuICAgICAgICAxLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiBjdXJyZW50LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPiAxKSByZXR1cm4gMVxyXG4gICAgICAgICAgICBpZiAodmFsdWUgPCAwKSByZXR1cm4gMDtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAoY3VycmVudCwgdmFsdWUsIHNldFN0YXJ0LCBzZXRFbmQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPiAxKSB2YWx1ZSA9IDE7XHJcbiAgICAgICAgICAgIHNldFN0YXJ0KGN1cnJlbnQpXHJcbiAgICAgICAgICAgIHNldEVuZCh2YWx1ZSlcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA+IDEpIHZhbHVlID0gMTtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG5cclxuICAgIG9yaWdpbiA9IG5ldyBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQ8TmROdW1lcmljQXJyYXkyZCwgTmROdW1lcmljQXJyYXkyZCwgbnVtYmVyIHwgTmROdW1lcmljQXJyYXkyZCwgTmROdW1lcmljQXJyYXkyZD4oXHJcbiAgICAgICAgMCxcclxuICAgICAgICBbLjUsIC41XSxcclxuICAgICAgICAoY3VycmVudCkgPT4gWy4uLmN1cnJlbnRdLFxyXG4gICAgICAgICh2YWx1ZSkgPT4gdmFsdWUgaW5zdGFuY2VvZiBBcnJheSA/IFsuLi52YWx1ZV0gOiBbdmFsdWUsIHZhbHVlXSxcclxuICAgICAgICAoY3VycmVudCwgdmFsdWUsIHNldFN0YXJ0LCBzZXRFbmQpID0+IHtcclxuICAgICAgICAgICAgc2V0U3RhcnQoY3VycmVudClcclxuICAgICAgICAgICAgc2V0RW5kKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyA/IFt2YWx1ZSwgdmFsdWVdIDogW3ZhbHVlWzBdLCB2YWx1ZVsxXV0pXHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZVswXSwgdmFsdWVbMV1dXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG5cclxuICAgIGNhcCA9IG5ldyBOZFN0eWxlc1Byb3BlcnR5PE5kQ2FwLCBOZENhcCwgTmRDYXA+KFxyXG4gICAgICAgIDIsXHJcbiAgICAgICAgJ2J1dHQnLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiBjdXJyZW50LFxyXG4gICAgICAgICh2YWx1ZSkgPT4gdmFsdWVcclxuICAgIClcclxuXHJcbiAgICBibGVuZGluZyA9IG5ldyBOZFN0eWxlc1Byb3BlcnR5PE5kQmxlbmQsIE5kQmxlbmQsIE5kQmxlbmQ+KFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgJ3NvdXJjZS1vdmVyJyxcclxuICAgICAgICAoY3VycmVudCkgPT4gY3VycmVudCxcclxuICAgICAgICAodmFsdWUpID0+IHZhbHVlXHJcbiAgICApXHJcblxyXG59IiwiaW1wb3J0IHtOZE51bWVyaWNBcnJheTJkfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmRCb3gge1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRhaW5lcjogeyBzaXplOiBOZE51bWVyaWNBcnJheTJkLCBwb3NpdGlvbjogTmROdW1lcmljQXJyYXkyZCB9ID0ge1xyXG4gICAgICAgIHNpemU6IFswLCAwXSxcclxuICAgICAgICBwb3NpdGlvbjogWzAsIDBdXHJcbiAgICB9XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3ByaXRlOnttYXJnaW46W251bWJlcixudW1iZXIsbnVtYmVyLG51bWJlcl0scG9zaXRpb246TmROdW1lcmljQXJyYXkyZCxzaXplOk5kTnVtZXJpY0FycmF5MmR9ID0ge1xyXG4gICAgICAgIG1hcmdpbjogWzAsIDAsIDAsIDBdLFxyXG4gICAgICAgIHBvc2l0aW9uOiBbMCwgMF0sXHJcbiAgICAgICAgc2l6ZTogWzAsIDBdXHJcbiAgICB9O1xyXG5cclxuICAgIHZhbHVlKHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgbWFyZ2luVG9wOiBudW1iZXIsIG1hcmdpblJpZ2h0OiBudW1iZXIsIG1hcmdpbkJvdHRvbTogbnVtYmVyLCBtYXJnaW5MZWZ0OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zaXplWzBdID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2l6ZVsxXSA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5wb3NpdGlvblswXSA9IHg7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIucG9zaXRpb25bMV0gPSB5O1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLm1hcmdpblswXSA9IG1hcmdpblRvcDtcclxuICAgICAgICB0aGlzLnNwcml0ZS5tYXJnaW5bMV0gPSBtYXJnaW5SaWdodDtcclxuICAgICAgICB0aGlzLnNwcml0ZS5tYXJnaW5bMl0gPSBtYXJnaW5Cb3R0b207XHJcbiAgICAgICAgdGhpcy5zcHJpdGUubWFyZ2luWzNdID0gbWFyZ2luTGVmdDtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zaXplWzBdID0gbWFyZ2luTGVmdCArIHdpZHRoICsgbWFyZ2luUmlnaHQ7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2l6ZVsxXSA9IG1hcmdpblRvcCArIGhlaWdodCArIG1hcmdpbkJvdHRvbTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5wb3NpdGlvblswXSA9IHggLSBtYXJnaW5MZWZ0O1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnBvc2l0aW9uWzFdID0geSAtIG1hcmdpblRvcDtcclxuICAgIH1cclxuXHJcbiAgICAvL2NvbXB1dGVCb3ggLmdldCgpIHVzZWQgdG8gcmV0dXJuIGNvbnRhaW5lciBwcm9wXHJcbn0iLCJpbXBvcnQgTmRCb3ggZnJvbSAnLi4vLi4vY2xhc3Nlcy9OZEJveCc7XHJcbmltcG9ydCBOb2RlIGZyb20gJy4uL05vZGUnO1xyXG5pbXBvcnQgTmRDYWNoZSBmcm9tICcuLi8uLi9jbGFzc2VzL05kQ2FjaGUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmROb2RlQm94IHtcclxuICAgIHByaXZhdGUgYm94OiBOZEJveFxyXG4gICAgcHJpdmF0ZSBnZXR0ZXI6ICgpID0+IE5kQm94XHJcbiAgICBwdWJsaWMgcHVyZ2U6ICgpID0+IHZvaWRcclxuXHJcbiAgICBnZXQgdmFsdWUoKTogTmRCb3gge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldHRlcigpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoZWxlbWVudDogTm9kZTxhbnk+LCBDYWNoZTogTmRDYWNoZSwgYm94R2V0dGVyOiAoZTogdHlwZW9mIGVsZW1lbnQpID0+IFBhcmFtZXRlcnM8TmRCb3hbJ3ZhbHVlJ10+KSB7XHJcbiAgICAgICAgdGhpcy5ib3ggPSBuZXcgTmRCb3goKVxyXG4gICAgICAgIGNvbnN0IHtnZXR0ZXIsIHB1cmdlfSA9IENhY2hlLnJlZ2lzdGVyPE5kQm94PignYm94JywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmJveC52YWx1ZS5hcHBseSh0aGlzLmJveCwgYm94R2V0dGVyKGVsZW1lbnQpKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ib3hcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMuZ2V0dGVyID0gZ2V0dGVyXHJcbiAgICAgICAgdGhpcy5wdXJnZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgcHVyZ2UoKTtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQucGFyZW50KSBlbGVtZW50LnBhcmVudC5wdXJnZUJveCgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IE5vZGUgZnJvbSAnLi9Ob2RlJztcclxuaW1wb3J0IE5kTW9kQmFzZSBmcm9tICcuL21vZGVscy9OZE1vZEJhc2UnO1xyXG5pbXBvcnQgTmROb2RlQm94IGZyb20gJy4vY2xhc3Nlcy9OZE5vZGVCb3gnO1xyXG5pbXBvcnQge05kTnVtZXJpY0FycmF5MmR9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOb2RhcyBmcm9tICcuLi8uLi9Ob2Rhcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcm91cCBleHRlbmRzIE5vZGU8TmRNb2RCYXNlPiB7XHJcbiAgICBwcm90ZWN0ZWQgQm94OiBOZE5vZGVCb3ggPSBuZXcgTmROb2RlQm94KHRoaXMsIHRoaXMuQ2FjaGUsICgpID0+IHtcclxuICAgICAgICBsZXQgbWluWCA9IEluZmluaXR5LFxyXG4gICAgICAgICAgICBtaW5ZID0gSW5maW5pdHksXHJcbiAgICAgICAgICAgIG1heFkgPSAtSW5maW5pdHksXHJcbiAgICAgICAgICAgIG1heFggPSAtSW5maW5pdHlcclxuXHJcbiAgICAgICAgdGhpcy5UcmVlQ29ubmVjdG9yLmZvckVhY2hMYXllcigoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBib3ggPSBlLmJveFxyXG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgYm94LnBvc2l0aW9uWzBdKVxyXG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgYm94LnBvc2l0aW9uWzFdKVxyXG4gICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgYm94LnBvc2l0aW9uWzBdICsgYm94LnNpemVbMF0pXHJcbiAgICAgICAgICAgIG1heFkgPSBNYXRoLm1heChtYXhZLCBib3gucG9zaXRpb25bMV0gKyBib3guc2l6ZVsxXSlcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBpZiAoIWlzRmluaXRlKG1pblgpKSBtaW5YID0gMDtcclxuICAgICAgICBpZiAoIWlzRmluaXRlKG1heFgpKSBtYXhYID0gMDtcclxuICAgICAgICBpZiAoIWlzRmluaXRlKG1pblkpKSBtaW5ZID0gMDtcclxuICAgICAgICBpZiAoIWlzRmluaXRlKG1heFkpKSBtYXhZID0gMDtcclxuXHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgbWluWCArIHRoaXMuZGF0YS5wb3NpdGlvbi5nZXQoKVswXSxcclxuICAgICAgICAgICAgbWluWSArIHRoaXMuZGF0YS5wb3NpdGlvbi5nZXQoKVsxXSxcclxuICAgICAgICAgICAgbWF4WCAtIG1pblgsXHJcbiAgICAgICAgICAgIG1heFkgLSBtaW5ZLFxyXG4gICAgICAgICAgICAwLCAwLCAwLCAwXHJcbiAgICAgICAgXVxyXG4gICAgfSk7XHJcbiAgICBwcm90ZWN0ZWQgcmVuZGVyOiBOb2RlPE5kTW9kQmFzZT5bJ3JlbmRlciddXHJcbiAgICBwcm90ZWN0ZWQgdGVzdDogTm9kZTxOZE1vZEJhc2U+Wyd0ZXN0J11cclxuICAgIGV4cG9ydDogTm9kZTxOZE1vZEJhc2U+WydleHBvcnQnXSA9ICgpID0+IHVuZGVmaW5lZFxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIGFwcDogTm9kYXMpIHtcclxuICAgICAgICBzdXBlcihpZCwgbmV3IE5kTW9kQmFzZSgpLCBhcHApO1xyXG4gICAgICAgIHRoaXMucmVuZGVyID0gKGNvbnRleHQsIGRhdGUsIGZyYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIE5vZGUudHJhbnNmb3JtQ29udGV4dCh0aGlzLCBjb250ZXh0KVxyXG4gICAgICAgICAgICB0aGlzLlRyZWVDb25uZWN0b3IuZm9yRWFjaExheWVyKChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBhcHAuVHJlZS5jb21waWxlKGUsIGNvbnRleHQsIGRhdGUsIGZyYW1lKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXR1cm4gY29udGV4dFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRlc3QgPSAoY3Vyc29yOiBOZE51bWVyaWNBcnJheTJkKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IE5vZGU8YW55PiB8IGZhbHNlID0gZmFsc2VcclxuICAgICAgICAgICAgdGhpcy5UcmVlQ29ubmVjdG9yLmZvckVhY2hMYXllcihlID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChhcHAuTW91c2UuY2hlY2tOb2RlKGUsIGN1cnNvcikpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9yRWFjaENoaWxkKGNiOiAoZTpOb2RlPGFueT4pID0+IHZvaWQpIHtcclxuICAgICAgICB0aGlzLlRyZWVDb25uZWN0b3IuZm9yRWFjaExheWVyKGNiKVxyXG4gICAgfVxyXG5cclxuICAgIGFwcGVuZChub2RlOiBOb2RlPGFueT4gfCBOb2RlPGFueT5bXSkge1xyXG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgbm9kZS5mb3JFYWNoKHYgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5UcmVlQ29ubmVjdG9yLnRyZWUuYXBwZW5kKHRoaXMsIHYuaWQpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5UcmVlQ29ubmVjdG9yLnRyZWUuYXBwZW5kKHRoaXMsIG5vZGUuaWQpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpc1xyXG5cclxuICAgIH1cclxuXHJcblxyXG59IiwiaW1wb3J0IE5vZGUgZnJvbSAnLi4vTm9kZSc7XHJcbmltcG9ydCBHcm91cCBmcm9tICcuLi9Hcm91cCc7XHJcbmltcG9ydCBOb2RlcyBmcm9tICcuLi8uLi9Ob2Rlcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZE5vZGVDb25uZWN0b3Ige1xyXG4gICAgcHJpdmF0ZSBfcGFyZW50OiBHcm91cCB8IG51bGwgPSBudWxsXHJcbiAgICBwcml2YXRlIF9sYXllcnM6IHsgW2tleTogbnVtYmVyXTogTm9kZTxhbnk+W10gfSA9IHt9XHJcbiAgICBwcml2YXRlIF9sYXllcjogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgX2lkZW50aWZpZXI6IHN0cmluZztcclxuICAgIHJlYWRvbmx5IHRyZWU6IE5vZGVzXHJcblxyXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgdHJlZTogTm9kZXMpIHtcclxuICAgICAgICB0aGlzLl9pZGVudGlmaWVyID0gaWQ7XHJcbiAgICAgICAgdGhpcy50cmVlID0gdHJlZVxyXG4gICAgfVxyXG5cclxuICAgIGdldCB6KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9sYXllclxyXG4gICAgfVxyXG5cclxuICAgIHNldCB6KHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fbGF5ZXIgPSB2YWx1ZVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBwYXJlbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudFxyXG4gICAgfVxyXG5cclxuICAgIHNldCBwYXJlbnQodmFsdWU6IEdyb3VwIHwgbnVsbCkge1xyXG4gICAgICAgIHRoaXMuX3BhcmVudCA9IHZhbHVlXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGlkKGlkOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLl9pZGVudGlmaWVyID0gaWRcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWRlbnRpZmllclxyXG4gICAgfVxyXG5cclxuICAgIGZvckVhY2hMYXllcihjYWxsYmFjazogKGU6IE5vZGU8YW55PiwgaW5kZXg6IG51bWJlciwgbGF5ZXI6IG51bWJlcikgPT4gdm9pZCkge1xyXG4gICAgICAgIGZvciAobGV0IGxheWVyIGluIHRoaXMuX2xheWVycykge1xyXG4gICAgICAgICAgICB0aGlzLl9sYXllcnNbbGF5ZXJdLmZvckVhY2goKGUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlLCBpbmRleCwgcGFyc2VJbnQobGF5ZXIpKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB6Q2hpbGQoZWxlbWVudDogTm9kZTxhbnk+LCB6OiBudW1iZXIsIHByZXBlbmQ/OiBib29sZWFuKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9sYXllcnNbel0pIHRoaXMuX2xheWVyc1t6XSA9IFtdXHJcbiAgICAgICAgcHJlcGVuZCA/IHRoaXMuX2xheWVyc1t6XS51bnNoaWZ0KGVsZW1lbnQpIDogdGhpcy5fbGF5ZXJzW3pdLnB1c2goZWxlbWVudClcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVDaGlsZChlbGVtZW50OiBOb2RlPGFueT4sIHo6bnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fbGF5ZXJzW3pdID0gdGhpcy5fbGF5ZXJzW3pdLmZpbHRlcih2ID0+IHYgIT09IGVsZW1lbnQpXHJcbiAgICAgICAgaWYoIXRoaXMuX2xheWVyc1t6XS5sZW5ndGgpIGRlbGV0ZSB0aGlzLl9sYXllcnNbel1cclxuICAgIH1cclxufSIsImltcG9ydCBHcm91cCBmcm9tICcuL05vZGVzL0dyb3VwJztcclxuaW1wb3J0IE5kTm9kZUNvbm5lY3RvciBmcm9tICcuL05vZGVzL2NsYXNzZXMvTmROb2RlQ29ubmVjdG9yJztcclxuaW1wb3J0IHtOZENhbnZhc0NvbnRleHQsIE5kTWFpbkRyYXdpbmdQaXBlRn0gZnJvbSAnLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgQ2FudmFzIGZyb20gJy4vQ2FudmFzJztcclxuaW1wb3J0IE5vZGUgZnJvbSAnLi9Ob2Rlcy9Ob2RlJ1xyXG5pbXBvcnQge05EQn0gZnJvbSAnLi9TZXJ2aWNlcy9Ob2Rhc0RlYnVnJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vZGVzIHtcclxuICAgIHByaXZhdGUgX3Jvb3Q6IHtcclxuICAgICAgICBlbGVtZW50PzogR3JvdXAsXHJcbiAgICAgICAgcmVuZGVyPzogTmRNYWluRHJhd2luZ1BpcGVGXHJcbiAgICAgICAgY29ubmVjdG9yPzogTmROb2RlQ29ubmVjdG9yXHJcbiAgICB9ID0ge31cclxuICAgIHByaXZhdGUgY2xlYXIgPSBmYWxzZVxyXG4gICAgcHJpdmF0ZSBpZHMgPSBuZXcgU2V0PHN0cmluZz4oKVxyXG4gICAgcHJpdmF0ZSBlbGVtZW50czoge1xyXG4gICAgICAgIFtrZXk6IHN0cmluZ106IHtcclxuICAgICAgICAgICAgZWxlbWVudDogTm9kZTxhbnk+XHJcbiAgICAgICAgICAgIHJlbmRlcjogTmRNYWluRHJhd2luZ1BpcGVGLFxyXG4gICAgICAgICAgICBjb25uZWN0b3I6IE5kTm9kZUNvbm5lY3RvclxyXG4gICAgICAgIH1cclxuICAgIH0gPSB7fVxyXG5cclxuICAgIHByaXZhdGUgZHJhd05vZGVUcmVlOiAoY29udGV4dDogTmRDYW52YXNDb250ZXh0LCBkYXRlOiBEYXRlLCBmcmFtZTogbnVtYmVyKSA9PiB2b2lkID0gKGNvbnRleHQsIGRhdGUsIGZyYW1lKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9yb290LmVsZW1lbnQgfHwgIWNvbnRleHQpIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy5jbGVhcikgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgY29udGV4dC5jYW52YXMub2Zmc2V0V2lkdGgsIGNvbnRleHQuY2FudmFzLm9mZnNldEhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5jb21waWxlKHRoaXMuX3Jvb3QuZWxlbWVudCwgY29udGV4dCwgZGF0ZSwgZnJhbWUpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoQ2FudmFzOiBDYW52YXMpIHtcclxuICAgICAgICBDYW52YXMucXVldWUoMCwgdGhpcy5kcmF3Tm9kZVRyZWUpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0cmVlVmlvbGF0aW9uKHRhcmdldDogR3JvdXAsIGVsZW1lbnQ6IE5vZGU8YW55Pik6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh0YXJnZXQgPT09IGVsZW1lbnQpIHJldHVybiB0cnVlXHJcbiAgICAgICAgcmV0dXJuIHRhcmdldC5wYXJlbnQgPyB0aGlzLnRyZWVWaW9sYXRpb24odGFyZ2V0LnBhcmVudCwgdGFyZ2V0KSA6IGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXIoaWQ6IHN0cmluZywgZWxlbWVudDogTm9kZTxhbnk+LCByZW5kZXI6TmRNYWluRHJhd2luZ1BpcGVGKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9yb290LmVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBHcm91cCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50IGFzIEdyb3VwLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcjogcmVuZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvcjogbmV3IE5kTm9kZUNvbm5lY3RvcihpZCwgdGhpcylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX3Jvb3QgPSByb290O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pZHMuYWRkKHJvb3QuY29ubmVjdG9yLmlkKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1tpZF0gPSByb290XHJcbiAgICAgICAgICAgICAgICBOREIucG9zaXRpdmUoYEVsZW1lbnQgJHtpZH0gcmVnaXN0ZXJlZGApXHJcbiAgICAgICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1Jvb3QgZWxlbWVudCBtdXN0IGJlIGEgR3JvdXAgaW5zdGFuY2UnKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pZHMuaGFzKGlkKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pZHMuYWRkKGlkKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1tpZF0gPSB7ZWxlbWVudDogZWxlbWVudCwgcmVuZGVyOiByZW5kZXIsIGNvbm5lY3RvcjogbmV3IE5kTm9kZUNvbm5lY3RvcihpZCwgdGhpcyl9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcm9vdC5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBlbmQodGhpcy5fcm9vdC5lbGVtZW50LCBpZClcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBOREIuZXJyb3IoYEFwcGxpY2F0aW9uIHJvb3QgbG9zdC4gTm90IHJvb3QgZ3JvdXAgbm9kZSB0byBhcHBlbmQgdG9gKVxyXG4gICAgICAgICAgICB9IGVsc2UgTkRCLndhcm4oYE5vZGUgJHtpZH0gYWxyZWFkeSBleGlzdHMuIElnbm9yZWQuYClcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbaWRdLmNvbm5lY3RvclxyXG4gICAgfVxyXG5cclxuICAgIHVucmVnaXN0ZXIoZWxlbWVudDogTm9kZTxhbnk+KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaWRzLmhhcyhlbGVtZW50LmlkKSkge1xyXG4gICAgICAgICAgICBOREIucG9zaXRpdmUoYE5vZGUgJHtlbGVtZW50LmlkfSByZW1vdmVkYClcclxuICAgICAgICAgICAgdGhpcy51bm1vdW50KGVsZW1lbnQpXHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmVsZW1lbnRzW2VsZW1lbnQuaWRdXHJcbiAgICAgICAgICAgIHRoaXMuaWRzLmRlbGV0ZShlbGVtZW50LmlkKVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdW5tb3VudChlbGVtZW50OiBOb2RlPGFueT4pIHtcclxuICAgICAgICBpZiAodGhpcy5lbGVtZW50c1tlbGVtZW50LmlkXS5jb25uZWN0b3IucGFyZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZWxlbWVudHNbZWxlbWVudC5pZF0uY29ubmVjdG9yLnBhcmVudFxyXG4gICAgICAgICAgICBpZiAocGFyZW50KSB0aGlzLmVsZW1lbnRzW3BhcmVudC5pZF0uY29ubmVjdG9yLnJlbW92ZUNoaWxkKGVsZW1lbnQsIGVsZW1lbnQueilcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbGVtZW50c1tlbGVtZW50LmlkXS5jb25uZWN0b3IucGFyZW50ID0gbnVsbFxyXG4gICAgICAgIGlmIChlbGVtZW50ID09IHRoaXMuX3Jvb3QuZWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9yb290ID0ge31cclxuICAgICAgICB9XHJcbiAgICAgICAgTkRCLnBvc2l0aXZlKGBOb2RlICR7ZWxlbWVudC5pZH0gdW5tb3VudGVkYClcclxuICAgIH1cclxuXHJcbiAgICBjb21waWxlKGVsZW1lbnQ6IE5vZGU8YW55PiwgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBkYXRlOiBEYXRlLCBmcmFtZTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHNbZWxlbWVudC5pZF0gJiYgdGhpcy5lbGVtZW50c1tlbGVtZW50LmlkXS5lbGVtZW50ID09PSBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpXHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbZWxlbWVudC5pZF0ucmVuZGVyKGNvbnRleHQsIGRhdGUsIGZyYW1lKVxyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKVxyXG4gICAgICAgIH0gZWxzZSBOREIuZXJyb3IoYEF0dGVtcHQgdG8gcmVuZGVyIHVubW91bnRlZCBub2RlICR7ZWxlbWVudC5pZH1gKVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmFtZShpZDogc3RyaW5nLCBuZXdJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaWRzLmhhcyhpZCkpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlkcy5oYXMobmV3SWQpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW25ld0lkXSA9IHRoaXMuZWxlbWVudHNbaWRdXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlkcy5hZGQobmV3SWQpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlkcy5kZWxldGUoaWQpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW25ld0lkXS5jb25uZWN0b3IuaWQgPSBuZXdJZFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZWxlbWVudHNbaWRdXHJcbiAgICAgICAgICAgIH0gTkRCLndhcm4oYENhbiBub3QgcmVuYW1lIG5vZGUgJHtpZH0uIEFub3RoZXIgbm9kZSB3aXRoIGlkICR7bmV3SWR9IGFscmVhZHkgZXhpc3RzYClcclxuICAgICAgICB9IE5EQi53YXJuKGBBdHRlbXB0IHRvIHJlbmFtZSBub24gZXhpc3Rpbmcgbm9kZSAke2lkfWApXHJcbiAgICB9XHJcblxyXG4gICAgeihlbGVtZW50OiBOb2RlPGFueT4sIHo6IG51bWJlcikge1xyXG4gICAgICAgIGlmICh0aGlzLmlkcy5oYXMoZWxlbWVudC5pZCkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudHNbZWxlbWVudC5pZF0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZWxlbWVudHNbZWxlbWVudC5pZF0uY29ubmVjdG9yLnBhcmVudFxyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCkgdGhpcy5lbGVtZW50c1twYXJlbnQuaWRdLmNvbm5lY3Rvci56Q2hpbGQoZWxlbWVudCwgeilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzW2VsZW1lbnQuaWRdLmNvbm5lY3Rvci56ID0gelxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQoaWQ6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzW2lkXS5lbGVtZW50XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHJvb3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jvb3QuZWxlbWVudFxyXG4gICAgfVxyXG5cclxuICAgIGFwcGVuZCh0YXJnZXQ6IEdyb3VwLCBpZDpzdHJpbmcsIHByZXBlbmQ6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmlkcy5oYXModGFyZ2V0LmlkKSAmJiB0aGlzLmlkcy5oYXMoaWQpKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy50cmVlVmlvbGF0aW9uKHRhcmdldCwgdGhpcy5lbGVtZW50c1tpZF0uZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuZWxlbWVudHNbaWRdLmNvbm5lY3Rvci5wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSA8Tm9kZTxhbnk+PnRoaXMuZWxlbWVudHNbaWRdLmNvbm5lY3Rvci5wYXJlbnRcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW3BhcmVudC5pZF0uY29ubmVjdG9yLnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudHNbaWRdLmVsZW1lbnQsIHRoaXMuZWxlbWVudHNbaWRdLmNvbm5lY3Rvci56KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1t0YXJnZXQuaWRdLmNvbm5lY3Rvci56Q2hpbGQodGhpcy5lbGVtZW50c1tpZF0uZWxlbWVudCwgdGhpcy5lbGVtZW50c1tpZF0uY29ubmVjdG9yLnosIHByZXBlbmQpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW2lkXS5jb25uZWN0b3IucGFyZW50ID0gdGFyZ2V0XHJcbiAgICAgICAgICAgIH0gZWxzZSAgTkRCLndhcm4oYE5vZGUgdHJlZSB2aW9sYXRpb24uIEFwcGVuZGluZyBub2RlICR7aWR9IHRvIGl0c2VsZiBvciBpdCdzIGNoaWxkLiBgKVxyXG4gICAgICAgIH0gZWxzZSBOREIud2FybihgTWFuaXB1bGF0aW5nIG5vbiByZWdpc3RlcmVkIG5vZGUgJHtpZH0gb3IgJHt0YXJnZXQuaWR9LmApXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge05kTm9kZVBvaW50ZXJQcmVkaWNhdGUsIE5kTm9kZVBvaW50ZXJUcmFuc2Zvcm1GfSBmcm9tICcuLi9Ob2Rlcy9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgTm9kZSBmcm9tICcuLi9Ob2Rlcy9Ob2RlJztcclxuaW1wb3J0IE5kTW9kQmFzZSBmcm9tICcuLi9Ob2Rlcy9tb2RlbHMvTmRNb2RCYXNlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kTm9kZU1vdXNlRGlzcGF0Y2hlcjxQcm9wcyBleHRlbmRzIE5kTW9kQmFzZSA9IE5kTW9kQmFzZT4ge1xyXG4gICAgcHJpdmF0ZSBfZGlzYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZVxyXG4gICAgcHVibGljIHJlYWRvbmx5IHRlc3Q6IE5kTm9kZVBvaW50ZXJQcmVkaWNhdGVcclxuICAgIHB1YmxpYyByZWFkb25seSB0cmFuc2Zvcm0/OiBOZE5vZGVQb2ludGVyVHJhbnNmb3JtRlxyXG4gICAgcHJpdmF0ZSBlbWl0OiBOb2RlPFByb3BzPlsnY2FzdCddXHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgZW1pdHRlcjogTm9kZTxQcm9wcz5bJ2Nhc3QnXSxcclxuICAgICAgICB0ZXN0ZXI6IE5kTm9kZVBvaW50ZXJQcmVkaWNhdGUsXHJcbiAgICAgICAgdHJhbnNmb3JtZXI/OiBOZE5vZGVQb2ludGVyVHJhbnNmb3JtRikge1xyXG4gICAgICAgIHRoaXMudGVzdCA9IHRlc3RlclxyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtZXJcclxuICAgICAgICB0aGlzLmVtaXQgPSBlbWl0dGVyXHJcbiAgICB9XHJcblxyXG4gICAgY2FzdChldmVudDogUGFyYW1ldGVyczxOb2RlPFByb3BzPlsnY2FzdCddPlswXSwgZGF0YTogUGFyYW1ldGVyczxOb2RlPFByb3BzPlsnY2FzdCddPlsxXSk6IFJldHVyblR5cGU8Tm9kZTxQcm9wcz5bJ2Nhc3QnXT4gfCBmYWxzZSB7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmRpc2FibGVkID8gdGhpcy5lbWl0KGV2ZW50LCBkYXRhKSA6IGZhbHNlXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldCBkaXNhYmxlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGlzYWJsZWRcclxuICAgIH1cclxuXHJcbiAgICBkaXNhYmxlKCkge1xyXG4gICAgICAgIHRoaXMuX2Rpc2FibGVkID0gdHJ1ZVxyXG4gICAgfVxyXG5cclxuICAgIGVuYWJsZSgpIHtcclxuICAgICAgICB0aGlzLl9kaXNhYmxlZCA9IGZhbHNlXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTmROb2RlTW91c2VEaXNwYXRjaGVyIGZyb20gJy4vTW91c2UvTmROb2RlTW91c2VEaXNwYXRjaGVyJztcclxuaW1wb3J0IE5kTW9kQmFzZSBmcm9tICcuL05vZGVzL21vZGVscy9OZE1vZEJhc2UnO1xyXG5pbXBvcnQge05kTW91c2VFdmVudERhdGEsIE5kTm9kZU1vdXNlRXZlbnRzU2NoZW1lLCBOZE5vZGVQb2ludGVyUHJlZGljYXRlLCBOZE5vZGVQb2ludGVyVHJhbnNmb3JtRn0gZnJvbSAnLi9Ob2Rlcy9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgVGlja2VyIGZyb20gJy4vVGlja2VyJztcclxuaW1wb3J0IENhbnZhcyBmcm9tICcuL0NhbnZhcyc7XHJcbmltcG9ydCB7TmROdW1lcmljQXJyYXkyZH0gZnJvbSAnLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgTmRNb3VzZUV2ZW50IGZyb20gJy4vY2xhc3Nlcy9OZE1vdXNlRXZlbnQnO1xyXG5pbXBvcnQgTm9kZXMgZnJvbSAnLi9Ob2Rlcyc7XHJcbmltcG9ydCBOb2RlIGZyb20gJy4vTm9kZXMvTm9kZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb3VzZSB7XHJcbiAgICBwcml2YXRlIGVsZW1lbnRzOiB7XHJcbiAgICAgICAgW2tleTogc3RyaW5nXToge1xyXG4gICAgICAgICAgICBoYW5kbGVyOiBOZE5vZGVNb3VzZURpc3BhdGNoZXI8YW55PlxyXG4gICAgICAgICAgICBlbGVtZW50OiBOb2RlPGFueT5cclxuICAgICAgICB9XHJcbiAgICB9ID0ge31cclxuXHJcbiAgICBwcml2YXRlIGN1cnJlbnRIb3ZlcjogTm9kZTxhbnk+IHwgZmFsc2UgPSBmYWxzZVxyXG4gICAgcHJpdmF0ZSBjdXJyZW50Rm9jdXM6IE5vZGU8YW55PiB8IGZhbHNlID0gZmFsc2VcclxuICAgIHByaXZhdGUgbW91c2VEb3duOiBib29sZWFuID0gZmFsc2VcclxuICAgIHByaXZhdGUgZHJhZ2dpbmc6IGJvb2xlYW4gPSBmYWxzZVxyXG4gICAgcHJpdmF0ZSBldmVudFN0YWNrOiAoKCkgPT4gdm9pZClbXSA9IFtdXHJcbiAgICBwcml2YXRlIHBvc3Rwb25lZDogKCgpID0+IHZvaWQpW10gPSBbXVxyXG4gICAgcHJvdGVjdGVkIG1heEV2ZW50c1BlclF1ZXVlOiBudW1iZXIgPSA1XHJcbiAgICBwcm90ZWN0ZWQgbWF4RXZlbnRzUmVzb2x2ZVRpbWVQZXJGcmFtZTogbnVtYmVyXHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKENhbnZhczogQ2FudmFzLCBUaWNrZXI6IFRpY2tlciwgVHJlZTogTm9kZXMpIHtcclxuICAgICAgICB0aGlzLm1heEV2ZW50c1Jlc29sdmVUaW1lUGVyRnJhbWUgPSBUaWNrZXIuZnJhbWVUaW1lXHJcbiAgICAgICAgQ2FudmFzLnF1ZXVlKCB0aGlzLnJlc29sdmVTdGFjay5iaW5kKHRoaXMpKVxyXG4gICAgICAgIENhbnZhcy5vbignbW91c2VEb3duJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gdHJ1ZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50SG92ZXIpIHRoaXMucmVzb2x2ZU9yUG9zdHBvbmUoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRIb3ZlcixcclxuICAgICAgICAgICAgICAgICdtb3VzZURvd24nLFxyXG4gICAgICAgICAgICAgICAgbmV3IE5kTW91c2VFdmVudDxOb2RlPGFueT4+KHRoaXMuY3VycmVudEhvdmVyLCB7Li4uZXZlbnQuZGF0YSBhcyBOZE1vdXNlRXZlbnREYXRhfSkpXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRGb2N1cyAmJiB0aGlzLmN1cnJlbnRGb2N1cyAhPT0gdGhpcy5jdXJyZW50SG92ZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRGb2N1cyAhPT0gdGhpcy5jdXJyZW50SG92ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVPclBvc3Rwb25lKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRGb2N1cywgJ2JsdXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTmRNb3VzZUV2ZW50PE5vZGU8YW55Pj4odGhpcy5jdXJyZW50Rm9jdXMsIHsuLi5ldmVudC5kYXRhIGFzIE5kTW91c2VFdmVudERhdGF9KVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50SG92ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlT3JQb3N0cG9uZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEhvdmVyLCAnZm9jdXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5kTW91c2VFdmVudDxOb2RlPGFueT4+KHRoaXMuY3VycmVudEhvdmVyLCB7Li4uZXZlbnQuZGF0YSBhcyBOZE1vdXNlRXZlbnREYXRhfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRGb2N1cyA9IHRoaXMuY3VycmVudEhvdmVyXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIENhbnZhcy5vbignbW91c2VVcCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRyYWdnaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Rm9jdXMpIHRoaXMucmVzb2x2ZU9yUG9zdHBvbmUoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Rm9jdXMsICdkcmFnRW5kJyxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTmRNb3VzZUV2ZW50PE5vZGU8YW55Pj4odGhpcy5jdXJyZW50Rm9jdXMsIHsuLi5ldmVudC5kYXRhIGFzIE5kTW91c2VFdmVudERhdGF9KVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEhvdmVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVPclBvc3Rwb25lKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEhvdmVyLCAnbW91c2VVcCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE5kTW91c2VFdmVudDxOb2RlPGFueT4+KHRoaXMuY3VycmVudEhvdmVyLCB7Li4uZXZlbnQuZGF0YSBhcyBOZE1vdXNlRXZlbnREYXRhfSlcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgQ2FudmFzLm9uKCdtb3VzZUxlYXZlJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRyYWdnaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Rm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVPclBvc3Rwb25lKHRoaXMuY3VycmVudEZvY3VzLCAnZHJhZ0VuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBOZE1vdXNlRXZlbnQ8Tm9kZTxhbnk+Pih0aGlzLmN1cnJlbnRGb2N1cywgey4uLmV2ZW50LmRhdGEgYXMgTmRNb3VzZUV2ZW50RGF0YX0pXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEhvdmVyKSB0aGlzLnJlc29sdmVPclBvc3Rwb25lKHRoaXMuY3VycmVudEhvdmVyLCAnbW91c2VMZWF2ZScsXHJcbiAgICAgICAgICAgICAgICBuZXcgTmRNb3VzZUV2ZW50PE5vZGU8YW55Pj4odGhpcy5jdXJyZW50SG92ZXIsIHsuLi5ldmVudC5kYXRhIGFzIE5kTW91c2VFdmVudERhdGF9KVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEZvY3VzID0gZmFsc2VcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SG92ZXIgPSBmYWxzZVxyXG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlXHJcbiAgICAgICAgfSlcclxuICAgICAgICBDYW52YXMub24oJ21vdXNlTW92ZScsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIVRyZWUucm9vdCkgcmV0dXJuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5kcmFnZ2luZykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5jaGVja05vZGUoVHJlZS5yb290LCAoZXZlbnQuZGF0YSBhcyBOZE1vdXNlRXZlbnREYXRhKS5jdXJzb3IpXHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICE9PSB0aGlzLmN1cnJlbnRIb3Zlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRIb3Zlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVPclBvc3Rwb25lKHRoaXMuY3VycmVudEhvdmVyLCAnbW91c2VMZWF2ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTmRNb3VzZUV2ZW50PE5vZGU8YW55Pj4odGhpcy5jdXJyZW50SG92ZXIsIHsuLi5ldmVudC5kYXRhIGFzIE5kTW91c2VFdmVudERhdGF9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlT3JQb3N0cG9uZSh0YXJnZXQsICdtb3VzZUVudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBOZE1vdXNlRXZlbnQ8Tm9kZTxhbnk+Pih0YXJnZXQsIHsuLi5ldmVudC5kYXRhIGFzIE5kTW91c2VFdmVudERhdGF9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEhvdmVyID0gdGFyZ2V0XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQpIHRoaXMucmVzb2x2ZU9yUG9zdHBvbmUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCwgJ21vdXNlTW92ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBOZE1vdXNlRXZlbnQ8Tm9kZTxhbnk+PihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5ldmVudC5kYXRhIGFzIE5kTW91c2VFdmVudERhdGF9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5tb3VzZURvd24gJiYgdGhpcy5jdXJyZW50Rm9jdXMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5kcmFnZ2luZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZU9yUG9zdHBvbmUodGhpcy5jdXJyZW50Rm9jdXMsICdkcmFnU3RhcnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTmRNb3VzZUV2ZW50PE5vZGU8YW55Pj4odGhpcy5jdXJyZW50Rm9jdXMsIHsuLi5ldmVudC5kYXRhIGFzIE5kTW91c2VFdmVudERhdGF9KVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYWdnaW5nID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVPclBvc3Rwb25lKHRoaXMuY3VycmVudEZvY3VzLCAnZHJhZ01vdmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTmRNb3VzZUV2ZW50PE5vZGU8YW55Pj4odGhpcy5jdXJyZW50Rm9jdXMsIHsuLi5ldmVudC5kYXRhIGFzIE5kTW91c2VFdmVudERhdGF9KVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tOb2RlKGU6IE5vZGU8YW55PiwgY3Vyc29yOiBOZE51bWVyaWNBcnJheTJkKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHNbZS5pZF0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbZS5pZF0uaGFuZGxlci50ZXN0KGN1cnNvcilcclxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdSb290IHN3YXAnKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVzb2x2ZVN0YWNrKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5ldmVudFN0YWNrLmxlbmd0aCkgcmV0dXJuXHJcbiAgICAgICAgbGV0IGl0ZXJhdGlvbnM6IG51bWJlciA9IDBcclxuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxyXG4gICAgICAgIGxldCBlbGFwc2VkID0gMFxyXG4gICAgICAgIHdoaWxlICh0aGlzLmV2ZW50U3RhY2tbMF0gJiYgaXRlcmF0aW9ucyA8IHRoaXMubWF4RXZlbnRzUGVyUXVldWUgJiYgZWxhcHNlZCA8IHRoaXMubWF4RXZlbnRzUmVzb2x2ZVRpbWVQZXJGcmFtZSkge1xyXG4gICAgICAgICAgICAodGhpcy5ldmVudFN0YWNrLnNoaWZ0KCkgYXMgKCkgPT4gdm9pZCkoKSAvLyBjYWxsIGZpcnN0IGluIGN1cnJlbnQgcXVldWVcclxuICAgICAgICAgICAgaXRlcmF0aW9ucysrXHJcbiAgICAgICAgICAgIGVsYXBzZWQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHN0YXJ0VGltZVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiBzdGFjayBhcHBlYXIgdG8gYmUgZW1wdHkgYW5kIHRoZXJlIGFyZSBwb3N0cG9uZWQgZXZlbnRzICA9PiBhZGQgZmlyc3QgcG9zdHBvbmVkIGNhbGxiYWNrIHRvIGN1cnJlbnQgcmVzb2x2ZSBzdGFja1xyXG4gICAgICAgIGlmICghdGhpcy5ldmVudFN0YWNrLmxlbmd0aCAmJiB0aGlzLnBvc3Rwb25lZFswXSkgdGhpcy5ldmVudFN0YWNrLnB1c2godGhpcy5wb3N0cG9uZWQuc2hpZnQoKSBhcyAoKSA9PiB2b2lkKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0U3RhY2tDYWxsYmFjayhcclxuICAgICAgICBlbGVtZW50OiBOb2RlPGFueT4gfCBudWxsLFxyXG4gICAgICAgIGV2ZW50OiBrZXlvZiBOZE5vZGVNb3VzZUV2ZW50c1NjaGVtZTxhbnk+LFxyXG4gICAgICAgIGRhdGE6IFBhcmFtZXRlcnM8Tm9kZTxhbnk+WydjYXN0J10+WzFdKSB7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZWxlbWVudHNbZWxlbWVudC5pZF0uaGFuZGxlci5jYXN0KGV2ZW50LCBkYXRhKVxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQucHJvcGFnYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudFN0YWNrLnB1c2godGhpcy5nZXRTdGFja0NhbGxiYWNrKHRoaXMuZWxlbWVudHNbZWxlbWVudC5pZF0uZWxlbWVudC5wYXJlbnQsIGV2ZW50LCBkYXRhKSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlc29sdmVPclBvc3Rwb25lKGVsZW1lbnQ6IE5vZGU8YW55PiwgZXZlbnQ6IGtleW9mIE5kTm9kZU1vdXNlRXZlbnRzU2NoZW1lPGFueT4sIGRhdGE6IFBhcmFtZXRlcnM8Tm9kZTxhbnk+WydjYXN0J10+WzFdKSB7XHJcbiAgICAgICAgIXRoaXMuZXZlbnRTdGFjay5sZW5ndGggP1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50U3RhY2sucHVzaCh0aGlzLmdldFN0YWNrQ2FsbGJhY2soZWxlbWVudCwgZXZlbnQsIGRhdGEpKSA6XHJcbiAgICAgICAgICAgIHRoaXMucG9zdHBvbmVkLnB1c2godGhpcy5nZXRTdGFja0NhbGxiYWNrKGVsZW1lbnQsIGV2ZW50LCBkYXRhKSlcclxuICAgIH1cclxuXHJcbiAgICByZWdpc3RlcjxQcm9wcyBleHRlbmRzIE5kTW9kQmFzZT4oXHJcbiAgICAgICAgZWxlbWVudDogTm9kZTxhbnk+LFxyXG4gICAgICAgIGVtaXR0ZXI6IE5vZGU8YW55PlsnY2FzdCddLFxyXG4gICAgICAgIHRlc3Q6IE5kTm9kZVBvaW50ZXJQcmVkaWNhdGUsXHJcbiAgICAgICAgdHJhbnNmb3JtPzogTmROb2RlUG9pbnRlclRyYW5zZm9ybUZcclxuICAgICkge1xyXG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50c1tlbGVtZW50LmlkXSkge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzW2VsZW1lbnQuaWRdID0ge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IG5ldyBOZE5vZGVNb3VzZURpc3BhdGNoZXI8UHJvcHM+KGVtaXR0ZXIuYmluZChlbGVtZW50KSwgdGVzdCwgdHJhbnNmb3JtKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsZW1lbnQub24oJ2Rlc3Ryb3knLCAoKSA9PiBkZWxldGUgdGhpcy5lbGVtZW50c1tlbGVtZW50LmlkXSlcclxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKGBBbm90aGVyIFJlZmxlY3RFbGVtZW50IHdpdGggaWQgJHtlbGVtZW50LmlkfSBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgYXMgbW91c2Ugc2Vuc2l0aXZlYClcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1tlbGVtZW50LmlkXS5oYW5kbGVyXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBOZENhbnZhcyB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZWxlbWVudDogSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgcHJpdmF0ZSBzaXplID0gWzAsIDBdXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuZWxlbWVudC5nZXRDb250ZXh0KCcyZCcpXHJcbiAgICAgICAgaWYgKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBlc3RhYmxpc2ggQ2FudmFzIHJlbmRlcmluZyBjb250ZXh0IScpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCB3aWR0aCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zaXplWzBdXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHdpZHRoKHdpZHRoKSB7XHJcbiAgICAgICAgdGhpcy5zaXplWzBdID0gd2lkdGhcclxuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHdpZHRoLnRvU3RyaW5nKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBoZWlnaHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZVsxXVxyXG4gICAgfVxyXG5cclxuICAgIHNldCBoZWlnaHQoaGVpZ2h0KSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgaGVpZ2h0LnRvU3RyaW5nKCkpXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge05kTnVtZXJpY0FycmF5MmR9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCB7TmRBc3NlbWJsZXJDb250ZXh0UmVzb2x2ZXJ9IGZyb20gJy4uL05vZGVzL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOZENhbnZhcyBmcm9tICcuL05kQ2FudmFzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kTGF5ZXIge1xyXG4gICAgcHJpdmF0ZSBjYW52YXMgPSBuZXcgTmRDYW52YXM7XHJcbiAgICBwcml2YXRlIHdpZHRoID0gMDtcclxuICAgIHByaXZhdGUgaGVpZ2h0ID0gMDtcclxuICAgIHByaXZhdGUgZjogTmRBc3NlbWJsZXJDb250ZXh0UmVzb2x2ZXIgfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgcmVhZHkgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgb3JkZXJpbmcgPSAwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHJlc29sdmVyOiBOZEFzc2VtYmxlckNvbnRleHRSZXNvbHZlcikge1xyXG4gICAgICAgIHRoaXMuZiA9IHJlc29sdmVyLmJpbmQodGhpcylcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdyhjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBpZiAoIXRoaXMucmVhZHkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2FudmFzLmNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZikgdGhpcy5mKHRoaXMuY2FudmFzLmNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLmNhbnZhcy5lbGVtZW50LCAwLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcmVzb2x2ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZjtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZ2V0IHNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIFt0aGlzLndpZHRoLCB0aGlzLmhlaWdodF1cclxuICAgIH1cclxuXHJcbiAgICBzZXQgc2l6ZShbd2lkdGgsIGhlaWdodF06IE5kTnVtZXJpY0FycmF5MmQpIHtcclxuICAgICAgICBpZiAod2lkdGggIT09IHRoaXMud2lkdGggfHwgaGVpZ2h0ICE9PSB0aGlzLmhlaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpZHRoXHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGhlaWdodFxyXG4gICAgICAgICAgICB0aGlzLnJlYWR5ID0gZmFsc2VcclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoXHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBvcmRlcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vcmRlcmluZ1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBvcmRlcihvcmRlcjogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5vcmRlcmluZyA9IG9yZGVyXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIHRoaXMucmVhZHkgPSBmYWxzZVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtOZE51bWVyaWNBcnJheTJkfSBmcm9tICcuLi8uLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgTmRDYW52YXMgZnJvbSAnLi4vLi4vY2xhc3Nlcy9OZENhbnZhcyc7XHJcbmltcG9ydCBOb2RlIGZyb20gJy4uL05vZGUnO1xyXG5pbXBvcnQgTmRMYXllciBmcm9tICcuLi8uLi9jbGFzc2VzL05kTGF5ZXInO1xyXG5pbXBvcnQgTmRFbWl0dGVyIGZyb20gJy4uLy4uL2NsYXNzZXMvTmRFbWl0dGVyJztcclxuXHJcbnR5cGUgQXNzZW1ibGVyTGF5ZXJDb25maWcgPSB7XHJcbiAgICBuYW1lOiBzdHJpbmcsXHJcbiAgICByZXNvbHZlcjogQ29uc3RydWN0b3JQYXJhbWV0ZXJzPHR5cGVvZiBOZExheWVyPlswXVxyXG59XHJcbnR5cGUgUmVmbGVjdEFzc2VtYmxlclVwZGF0ZTxUIGV4dGVuZHMgQXNzZW1ibGVyTGF5ZXJDb25maWdbXSwgSyBleHRlbmRzIG51bWJlciA9IGtleW9mIFQgJiBudW1iZXI+ID0gKG5hbWU/OiBUW0tdWyduYW1lJ10pID0+IHZvaWRcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kTW9kZUFzc2VtYmxlciBleHRlbmRzIE5kRW1pdHRlcjx7IFtrZXkgaW4gJ3Jlc2l6ZScgfCAndXBkYXRlJ106IHVuZGVmaW5lZCB9PiB7XHJcbiAgICBwcml2YXRlIG91dHB1dCA9IG5ldyBOZENhbnZhcygpXHJcbiAgICBwcml2YXRlIHBpcGU6IHsgb3JkZXI6IG51bWJlciwgbGF5ZXI6IE5kTGF5ZXIgfVtdID0gW11cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbGF5ZXJzOiB7IFtrZXk6IHN0cmluZ106IE5kTGF5ZXIgfVxyXG4gICAgcHJpdmF0ZSB3ID0gMFxyXG4gICAgcHJpdmF0ZSBoID0gMFxyXG4gICAgcHJpdmF0ZSByZXNpemVkID0gZmFsc2VcclxuICAgIHByaXZhdGUgX3JlYWR5ID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgdXBkYXRlOiBSZWZsZWN0QXNzZW1ibGVyVXBkYXRlPEFzc2VtYmxlckxheWVyQ29uZmlnW10+XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgbGF5ZXJzOiBBc3NlbWJsZXJMYXllckNvbmZpZ1tdXHJcbiAgICApIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgdGhpcy5sYXllcnMgPVxyXG4gICAgICAgICAgICBPYmplY3QuZnJvbUVudHJpZXMoXHJcbiAgICAgICAgICAgICAgICBsYXllcnMubWFwKCh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSBuZXcgTmRMYXllcih2YWx1ZS5yZXNvbHZlcilcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBpcGUucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyOiBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiBsYXllclxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZS5uYW1lLCBsYXllcl1cclxuICAgICAgICAgICAgICAgIH0pKSBhcyB7IFtrZXk6IHN0cmluZ106IE5kTGF5ZXIgfVxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5waXBlLnNvcnQoKGEsIGIpID0+IGEub3JkZXIgLSBiLm9yZGVyKVxyXG4gICAgICAgIHRoaXMudXBkYXRlID0gIChuYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sYXllcnNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWFkeSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGF5ZXJzW25hbWVdLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLmxheWVycykuZm9yRWFjaCgodikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHYudXBkYXRlKClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCByZWFkeSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVhZHlcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gW3RoaXMudywgdGhpcy5oXVxyXG4gICAgfVxyXG5cclxuICAgIGdldCB3aWR0aCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy53O1xyXG4gICAgfTtcclxuXHJcbiAgICBnZXQgaGVpZ2h0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmg7XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgc2V0IHNpemUoc2l6ZTogTmROdW1lcmljQXJyYXkyZCkge1xyXG4gICAgICAgIHRoaXMudyA9IHNpemVbMF1cclxuICAgICAgICB0aGlzLmggPSBzaXplWzFdXHJcbiAgICAgICAgdGhpcy5vdXRwdXQud2lkdGggPSBzaXplWzBdXHJcbiAgICAgICAgdGhpcy5vdXRwdXQuaGVpZ2h0ID0gc2l6ZVsxXVxyXG4gICAgICAgIHRoaXMucGlwZS5mb3JFYWNoKCh7bGF5ZXJ9KSA9PiB7XHJcbiAgICAgICAgICAgIGxheWVyLnNpemUgPSBzaXplXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQoZWxlbWVudDogTm9kZTxhbnk+KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnJlc2l6ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNpemVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYodGhpcy5zaXplWzBdICE9PSBlbGVtZW50LmJvdW5kaW5nUmVjdC5zaXplWzBdIHx8IHRoaXMuc2l6ZVsxXSAhPT0gZWxlbWVudC5ib3VuZGluZ1JlY3Quc2l6ZVsxXSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaXplID0gW2VsZW1lbnQuYm91bmRpbmdSZWN0LnNpemVbMF0sIGVsZW1lbnQuYm91bmRpbmdSZWN0LnNpemVbMV1dXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhc3QoJ3Jlc2l6ZScsIHVuZGVmaW5lZClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuX3JlYWR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMub3V0cHV0LmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMudywgdGhpcy5oKVxyXG4gICAgICAgICAgICB0aGlzLnBpcGUuZm9yRWFjaCgodikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdi5sYXllci5kcmF3KHRoaXMub3V0cHV0LmNvbnRleHQpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHRoaXMuX3JlYWR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jYXN0KCd1cGRhdGUnLCB1bmRlZmluZWQpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5vdXRwdXQuZWxlbWVudFxyXG4gICAgfVxyXG5cclxuICAgIHJlc2l6ZSgpIHtcclxuICAgICAgICB0aGlzLnJlc2l6ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9yZWFkeSA9IGZhbHNlO1xyXG4gICAgfTtcclxuXHJcblxyXG59IiwiaW1wb3J0IHtOZEFyckNvbG9yLCBOZENvbG9yQXJyLCBOZENvbG9yU3RyLCBOZFBhdGgsIE5kUGF0aEJlemllciwgTmRTdHJva2VTdHlsZSwgTmRTdHJva2VTdHlsZUFyciwgTmRTdHJva2VXaWR0aEFycn0gZnJvbSAnLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5kTm9kZVN0eWxlc01vZGVsIGZyb20gJy4uL2NsYXNzZXMvTmROb2RlU3R5bGVzTW9kZWwnO1xyXG5pbXBvcnQgTmRTdHlsZXNQcm9wZXJ0eSBmcm9tICcuLi9jbGFzc2VzL05kTm9kZVN0eWxlUHJvcGVydHknO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmRNb2RGcmVlU3Ryb2tlIGV4dGVuZHMgTmROb2RlU3R5bGVzTW9kZWwge1xyXG5cclxuICAgIHBhdGggOiBOZFN0eWxlc1Byb3BlcnR5PE5kUGF0aEJlemllciwgTmRQYXRoLCBOZFBhdGg+XHJcbiAgICBjb25zdHJ1Y3RvcihjbG9zZWQ6Ym9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnBhdGggPSBuZXcgTmRTdHlsZXNQcm9wZXJ0eTxOZFBhdGhCZXppZXIsIE5kUGF0aCwgTmRQYXRoPihcclxuICAgICAgICAgICAgMSxcclxuICAgICAgICAgICAgW10sXHJcbiAgICAgICAgICAgIChjdXJyZW50KSA9PiBOZE1vZEZyZWVTdHJva2UuY29udmVydENvbXBsZXhQYXRoKGN1cnJlbnQpLFxyXG4gICAgICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IE5kTW9kRnJlZVN0cm9rZS5jb252ZXJ0U2ltcGxlUGF0aCh2YWx1ZSwgY2xvc2VkKVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGF0aC5wcm90ZWN0ZWRWYWx1ZS5sZW5ndGggIT09IHJlc3VsdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cm9rZVN0eWxlLnN5bmMocmVzdWx0LCBbMF0pXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJva2VXaWR0aC5zeW5jKHJlc3VsdCwgMSlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cm9rZUNvbG9yLnN5bmMocmVzdWx0LCAncmdiYSgwLDAsMCwxJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxuICAgIGludGVycG9sYXRpb24gPSBuZXcgTmRTdHlsZXNQcm9wZXJ0eTxudW1iZXIsIG51bWJlciwgbnVtYmVyPihcclxuICAgICAgICAwLFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQgLyAuNCAqIDEwMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA+IDEwMCkgdmFsdWUgPSAxMDBcclxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwXHJcbiAgICAgICAgICAgIHZhbHVlID0gLjQgKiAodmFsdWUgLyAxMDApXHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgICAgIH1cclxuICAgIClcclxuXHJcbiAgICBzdHJva2VDb2xvciA9IG5ldyBOZFN0eWxlc1Byb3BlcnR5PE5kQ29sb3JTdHJbXSwgTmRBcnJDb2xvcltdLCBOZEFyckNvbG9yW10gfCBOZENvbG9yQXJyIHwgTmRDb2xvclN0ciB8IE5kQXJyQ29sb3I+KFxyXG4gICAgICAgIDIsXHJcbiAgICAgICAgW10sXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IGN1cnJlbnQubWFwKCh2KSA9PiBOZE1vZEZyZWVTdHJva2UuY29sb3JUb0FycmF5KHYpKSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgbGV0IHJlc3VsdDogTmRDb2xvclN0cltdID0gW11cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wYXRoLnByb3RlY3RlZFZhbHVlLm1hcCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAvL1sncmdiYSgwLDAsMCwxKScsLi4uXVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVswXSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAodGhpcy5wYXRoLnByb3RlY3RlZFZhbHVlLm1hcCgodiwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtrZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVba2V5XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3Ryb2tlQ29sb3IucHJvdGVjdGVkVmFsdWVba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3Ryb2tlQ29sb3IucHJvdGVjdGVkVmFsdWVba2V5XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3Ryb2tlQ29sb3IucHJvdGVjdGVkVmFsdWVbdGhpcy5zdHJva2VDb2xvci5wcm90ZWN0ZWRWYWx1ZS5sZW5ndGggLSAxXSA/IHRoaXMuc3Ryb2tlQ29sb3IucHJvdGVjdGVkVmFsdWVbdGhpcy5zdHJva2VDb2xvci5wcm90ZWN0ZWRWYWx1ZS5sZW5ndGggLSAxXSA6ICdyZ2JhKDAsMCwwLDEpJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0pIGFzIE5kQ29sb3JBcnIpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL1tbMCwwLDAsMV0uLi5dXHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVbMF0gaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9ICh0aGlzLnBhdGgucHJvdGVjdGVkVmFsdWUubWFwKCh2LCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBOZE1vZEZyZWVTdHJva2UuYXJyYXlUb0NvbG9yKCh2YWx1ZVtrZXldIGFzIE5kQXJyQ29sb3IpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3Ryb2tlQ29sb3IucHJvdGVjdGVkVmFsdWVba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3Ryb2tlQ29sb3IucHJvdGVjdGVkVmFsdWVba2V5XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3Ryb2tlQ29sb3IucHJvdGVjdGVkVmFsdWVbdGhpcy5zdHJva2VDb2xvci5wcm90ZWN0ZWRWYWx1ZS5sZW5ndGggLSAxXSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJva2VDb2xvci5wcm90ZWN0ZWRWYWx1ZVt0aGlzLnN0cm9rZUNvbG9yLnByb3RlY3RlZFZhbHVlLmxlbmd0aCAtIDFdIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncmdiYSgwLDAsMCwxKSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9KSBhcyBOZENvbG9yQXJyKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9bMCwwLDAsMV1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbMF0gPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wYXRoLnByb3RlY3RlZFZhbHVlLm1hcCgoKSA9PiAoTmRNb2RGcmVlU3Ryb2tlLmFycmF5VG9Db2xvcigodmFsdWUgYXMgTmRBcnJDb2xvcikpKSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG4gICAgc3Ryb2tlV2lkdGg6IE5kU3R5bGVzUHJvcGVydHk8TmRTdHJva2VXaWR0aEFyciwgTmRTdHJva2VXaWR0aEFyciwgTmRTdHJva2VXaWR0aEFyciB8IG51bWJlcj4gPVxyXG4gICAgICAgIG5ldyBOZFN0eWxlc1Byb3BlcnR5PE5kU3Ryb2tlV2lkdGhBcnIsIE5kU3Ryb2tlV2lkdGhBcnIsIE5kU3Ryb2tlV2lkdGhBcnIgfCBudW1iZXI+KFxyXG4gICAgICAgICAgICAyLFxyXG4gICAgICAgICAgICBbXSxcclxuICAgICAgICAgICAgKGN1cnJlbnQpID0+IFsuLi5jdXJyZW50XSxcclxuICAgICAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhdGgucHJvdGVjdGVkVmFsdWUubWFwKCgpID0+IHZhbHVlKSBhcyBOZFN0cm9rZVdpZHRoQXJyXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhdGgucHJvdGVjdGVkVmFsdWUubWFwKCh2LCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtrZXldID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlW2tleV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5zdHJva2VXaWR0aC5wcm90ZWN0ZWRWYWx1ZVtrZXldID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cm9rZVdpZHRoLnByb3RlY3RlZFZhbHVlW2tleV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLnN0cm9rZVdpZHRoLnByb3RlY3RlZFZhbHVlW3RoaXMuc3Ryb2tlV2lkdGgucHJvdGVjdGVkVmFsdWUubGVuZ3RoIC0gMV0gPT09ICdudW1iZXInID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJva2VXaWR0aC5wcm90ZWN0ZWRWYWx1ZVt0aGlzLnN0cm9rZVdpZHRoLnByb3RlY3RlZFZhbHVlLmxlbmd0aCAtIDFdIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSkgYXMgTmRTdHJva2VXaWR0aEFyclxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgIHN0cm9rZVN0eWxlOiBOZFN0eWxlc1Byb3BlcnR5PE5kU3Ryb2tlU3R5bGVBcnIsIE5kU3Ryb2tlU3R5bGVBcnIsIE5kU3Ryb2tlU3R5bGVBcnIgfCBOZFN0cm9rZVN0eWxlPiA9XHJcbiAgICAgICAgbmV3IE5kU3R5bGVzUHJvcGVydHk8TmRTdHJva2VTdHlsZUFyciwgTmRTdHJva2VTdHlsZUFyciwgTmRTdHJva2VTdHlsZUFyciB8IE5kU3Ryb2tlU3R5bGU+KFxyXG4gICAgICAgICAgICAyLFxyXG4gICAgICAgICAgICBbXSxcclxuICAgICAgICAgICAgKGN1cnJlbnQpID0+IGN1cnJlbnQubWFwKHYgPT4gWy4uLnZdKSxcclxuICAgICAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVbMF0gaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhdGgucHJvdGVjdGVkVmFsdWUubWFwKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi52YWx1ZV1cclxuICAgICAgICAgICAgICAgICAgICB9KSBhcyBOZFN0cm9rZVN0eWxlQXJyXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhdGgucHJvdGVjdGVkVmFsdWUubWFwKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi52YWx1ZV1cclxuICAgICAgICAgICAgICAgICAgICB9KSBhcyBOZFN0cm9rZVN0eWxlQXJyXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbn0iLCJpbXBvcnQgTmRTdHlsZXNQcm9wZXJ0eSBmcm9tICcuLi9jbGFzc2VzL05kTm9kZVN0eWxlUHJvcGVydHknO1xyXG5pbXBvcnQge05kQW5jaG9yfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgTmROb2RlU3R5bGVzTW9kZWwgZnJvbSAnLi4vY2xhc3Nlcy9OZE5vZGVTdHlsZXNNb2RlbCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZE1vZEFuY2hvciBleHRlbmRzIE5kTm9kZVN0eWxlc01vZGVsIHtcclxuICAgIGFuY2hvciA9IG5ldyBOZFN0eWxlc1Byb3BlcnR5PE5kQW5jaG9yLCBOZEFuY2hvciwgTmRBbmNob3I+KFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgWydsZWZ0JywgJ3RvcCddLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiBbLi4uY3VycmVudF0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiBbLi4udmFsdWVdXHJcbiAgICApXHJcbn0iLCJpbXBvcnQgTm9kZSBmcm9tICcuLi9Ob2RlJztcclxuaW1wb3J0IE5kTW9kRnJlZVN0cm9rZSBmcm9tICcuLi9tb2RlbHMvTmRNb2RGcmVlU3Ryb2tlJztcclxuaW1wb3J0IE5kTW9kQmFzZSBmcm9tICcuLi9tb2RlbHMvTmRNb2RCYXNlJztcclxuaW1wb3J0IE5kTW9kQmcgZnJvbSAnLi4vbW9kZWxzL05kTW9kQmcnO1xyXG5pbXBvcnQge05kTnVtZXJpY0FycmF5MmR9IGZyb20gJy4uLy4uL0B0eXBlcy90eXBlcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZE5vZGVFbXBpcmljYWxNb3VzZUNoZWNrZXIge1xyXG4gICAgcHJpdmF0ZSBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCcyZCcpIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFxyXG5cclxuICAgIHJlc2l6ZShzaXplOiBOZE51bWVyaWNBcnJheTJkKSB7XHJcbiAgICAgICAgaWYgKHNpemVbMF0gIT09IHRoaXMuY29udGV4dC5jYW52YXMud2lkdGggJiYgc2l6ZVswXSA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aCA9IHNpemVbMF1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNpemVbMV0gIT09IHRoaXMuY29udGV4dC5jYW52YXMuaGVpZ2h0ICYmIHNpemVbMV0gPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5jYW52YXMuaGVpZ2h0ID0gc2l6ZVsxXVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZWRyYXcoc3R5bGVzOiAoTmRNb2RGcmVlU3Ryb2tlICYgTmRNb2RCYXNlKSB8IChOZE1vZEJnICYgTmRNb2RGcmVlU3Ryb2tlKSkge1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aCwgdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHQpXHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnNhdmUoKVxyXG4gICAgICAgIE5vZGUucmVnaXN0ZXJQYXRoKHN0eWxlcy5wYXRoLnByb3RlY3RlZFZhbHVlLCB0aGlzLmNvbnRleHQsICEhc3R5bGVzLmludGVycG9sYXRpb24sICEhc3R5bGVzLmZpbGwpXHJcbiAgICAgICAgaWYgKCEhc3R5bGVzLmZpbGwpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLDEpJ1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbCgpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVN0eWxlID0gJ3JnYmEoMCwwLDAsMSknXHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2UoKVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbnRleHQucmVzdG9yZSgpXHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2socG9pbnRlcjogTmROdW1lcmljQXJyYXkyZCkge1xyXG4gICAgICAgIGlmIChwb2ludGVyWzBdID4gMCAmJiBwb2ludGVyWzBdIDwgdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aCAmJiBwb2ludGVyWzFdID4gMCAmJiBwb2ludGVyWzFdIDwgdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgY29uc3QgcGl4ZWwgPSB0aGlzLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKHBvaW50ZXJbMF0sIHBvaW50ZXJbMV0sIDEsIDEpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBpeGVsKVxyXG4gICAgICAgICAgICBpZiAocGl4ZWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhIXBpeGVsLmRhdGFbM11cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgTmRNb2RlQXNzZW1ibGVyIGZyb20gJy4vY2xhc3Nlcy9OZE1vZGVBc3NlbWJsZXInO1xyXG5pbXBvcnQgTmROb2RlQm94IGZyb20gJy4vY2xhc3Nlcy9OZE5vZGVCb3gnO1xyXG5pbXBvcnQgTmRNb2RCYXNlIGZyb20gJy4vbW9kZWxzL05kTW9kQmFzZSc7XHJcbmltcG9ydCBOZE1vZEZyZWVTdHJva2UgZnJvbSAnLi9tb2RlbHMvTmRNb2RGcmVlU3Ryb2tlJztcclxuaW1wb3J0IE5kTW9kQW5jaG9yIGZyb20gJy4vbW9kZWxzL05kTW9kQW5jaG9yJztcclxuaW1wb3J0IE5vZGUgZnJvbSAnLi9Ob2RlJztcclxuaW1wb3J0IE5vZGFzIGZyb20gJy4uLy4uL05vZGFzJztcclxuaW1wb3J0IE5kTm9kZVN0eWxlc01vZGVsIGZyb20gJy4vY2xhc3Nlcy9OZE5vZGVTdHlsZXNNb2RlbCc7XHJcbmltcG9ydCBOZE5vZGVFbXBpcmljYWxNb3VzZUNoZWNrZXIgZnJvbSAnLi9jbGFzc2VzL05kTm9kZUVtcGlyaWNhbE1vdXNlQ2hlY2tlcic7XHJcbmltcG9ydCB7TmROdW1lcmljQXJyYXkyZH0gZnJvbSAnLi4vQHR5cGVzL3R5cGVzJztcclxuXHJcbnR5cGUgTGluZU5vZGVNb2RlbCA9IE5kTW9kRnJlZVN0cm9rZSAmIE5kTW9kQW5jaG9yICYgTmRNb2RCYXNlXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaW5lIGV4dGVuZHMgTm9kZTxMaW5lTm9kZU1vZGVsPiB7XHJcbiAgICBwcml2YXRlIHhTaGlmdDogbnVtYmVyID0gMFxyXG4gICAgcHJpdmF0ZSB5U2hpZnQ6IG51bWJlciA9IDBcclxuICAgIHByaXZhdGUgc3Ryb2tlRml4OiBudW1iZXIgPSAwXHJcbiAgICBwcml2YXRlIGludGVycG9sYXRpb25GaXg6IG51bWJlciA9IDBcclxuICAgIHByaXZhdGUgaW50ZXJwb2xhdGVkOiBib29sZWFuID0gZmFsc2VcclxuICAgIHByaXZhdGUgbW91c2VUZXN0ZXI6IE5kTm9kZUVtcGlyaWNhbE1vdXNlQ2hlY2tlciA9IG5ldyBOZE5vZGVFbXBpcmljYWxNb3VzZUNoZWNrZXIoKVxyXG5cclxuICAgIHByb3RlY3RlZCBBc3NlbWJsZXI6IE5kTW9kZUFzc2VtYmxlciA9IG5ldyBOZE1vZGVBc3NlbWJsZXIoW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ3N0cm9rZScsXHJcbiAgICAgICAgICAgIHJlc29sdmVyOiAoY29udGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUodGhpcy5ib3VuZGluZ1JlY3QubWFyZ2luWzNdIC0gdGhpcy54U2hpZnQsIHRoaXMuYm91bmRpbmdSZWN0Lm1hcmdpblswXSAtIHRoaXMueVNoaWZ0KVxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmludGVycG9sYXRlZCAmJiB0aGlzLmRhdGEuaW50ZXJwb2xhdGlvbi5wcm90ZWN0ZWRWYWx1ZSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBOZE5vZGVTdHlsZXNNb2RlbC5pbnRlcnBvbGF0ZSh0aGlzLmRhdGEucGF0aC5wcm90ZWN0ZWRWYWx1ZSwgdGhpcy5kYXRhLmludGVycG9sYXRpb24ucHJvdGVjdGVkVmFsdWUsIGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgTGluZS5kcmF3U3Ryb2tlKHRoaXMuZGF0YSwgY29udGV4dClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF0pXHJcbiAgICBwcm90ZWN0ZWQgQm94OiBOZE5vZGVCb3ggPSBuZXcgTmROb2RlQm94KHRoaXMsIHRoaXMuQ2FjaGUsICgpID0+IHtcclxuICAgICAgICBsZXQgcG9zaXRpb24gPSBbLi4udGhpcy5kYXRhLnBvc2l0aW9uLnByb3RlY3RlZFZhbHVlXSBhcyBOZE51bWVyaWNBcnJheTJkLFxyXG4gICAgICAgICAgICBmaXggPSBNYXRoLm1heCh0aGlzLnN0cm9rZUZpeCwgdGhpcy5pbnRlcnBvbGF0aW9uRml4KSxcclxuICAgICAgICAgICAgbWlueCA9IEluZmluaXR5LFxyXG4gICAgICAgICAgICBtaW55ID0gSW5maW5pdHksXHJcbiAgICAgICAgICAgIG1heHggPSAtSW5maW5pdHksXHJcbiAgICAgICAgICAgIG1heHkgPSAtSW5maW5pdHk7XHJcblxyXG4gICAgICAgIHRoaXMuZGF0YS5wYXRoLnByb3RlY3RlZFZhbHVlLmZvckVhY2godiA9PiB7XHJcbiAgICAgICAgICAgIGlmICh2WzBdIDwgbWlueCkge1xyXG4gICAgICAgICAgICAgICAgbWlueCA9IHZbMF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodlsyXSA8IG1pbngpIHtcclxuICAgICAgICAgICAgICAgIG1pbnggPSB2WzJdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZbMV0gPCBtaW55KSB7XHJcbiAgICAgICAgICAgICAgICBtaW55ID0gdlsxXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2WzNdIDwgbWlueSkge1xyXG4gICAgICAgICAgICAgICAgbWlueSA9IHZbM11cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodlswXSA+IG1heHgpIHtcclxuICAgICAgICAgICAgICAgIG1heHggPSB2WzBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZbMl0gPiBtYXh4KSB7XHJcbiAgICAgICAgICAgICAgICBtYXh4ID0gdlsyXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2WzFdID4gbWF4eSkge1xyXG4gICAgICAgICAgICAgICAgbWF4eSA9IHZbMV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodlszXSA+IG1heHkpIHtcclxuICAgICAgICAgICAgICAgIG1heHkgPSB2WzNdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmIChtaW54ID09PSBJbmZpbml0eSkgbWlueCA9IDA7XHJcbiAgICAgICAgaWYgKG1pbnkgPT09IEluZmluaXR5KSBtaW55ID0gMDtcclxuICAgICAgICBpZiAobWF4eCA9PT0gLUluZmluaXR5KSBtYXh4ID0gMDtcclxuICAgICAgICBpZiAobWF4eSA9PT0gLUluZmluaXR5KSBtYXh4ID0gMDtcclxuICAgICAgICB0aGlzLnhTaGlmdCA9IG1pbng7XHJcbiAgICAgICAgdGhpcy55U2hpZnQgPSBtaW55O1xyXG4gICAgICAgIGxldCB3aWR0aCA9IE1hdGguYWJzKG1heHggLSBtaW54KVxyXG4gICAgICAgIGxldCBoZWlnaHQgPSBNYXRoLmFicyhtYXh5IC0gbWlueSlcclxuICAgICAgICBOb2RlLmFwcGx5Qm94QW5jaG9yKHBvc2l0aW9uLHdpZHRoLGhlaWdodCx0aGlzLmRhdGEpXHJcbiAgICAgICAgcmV0dXJuIFtwb3NpdGlvblswXSArIHRoaXMueFNoaWZ0LCBwb3NpdGlvblsxXSArIHRoaXMueVNoaWZ0LCB3aWR0aCwgaGVpZ2h0LCBmaXgsIGZpeCwgZml4LCBmaXhdXHJcbiAgICB9KVxyXG5cclxuICAgIGV4cG9ydDogTm9kZTxMaW5lTm9kZU1vZGVsPlsnZXhwb3J0J10gPSAoKSA9PiB0aGlzLkFzc2VtYmxlci5leHBvcnQodGhpcyk7XHJcbiAgICByZW5kZXI6IE5vZGU8TGluZU5vZGVNb2RlbD5bJ3JlbmRlciddID0gKGNvbnRleHQpID0+IHtcclxuICAgICAgICBMaW5lLnRyYW5zZm9ybUNvbnRleHQodGhpcywgY29udGV4dClcclxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLkFzc2VtYmxlci5leHBvcnQodGhpcyksIDAsIDApXHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHRcclxuICAgIH1cclxuICAgIHRlc3Q6IE5vZGU8TGluZU5vZGVNb2RlbD5bJ3Rlc3QnXSA9IChjdXJzb3IpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tb3VzZVRlc3Rlci5jaGVjayh0aGlzLm1hdHJpeC50cmFjZUN1cnNvclRvTG9jYWxTcGFjZShbLi4uY3Vyc29yXSkpID8gdGhpcyA6IGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgYXBwOiBOb2Rhcykge1xyXG4gICAgICAgIHN1cGVyKGlkLCB7Li4ubmV3IE5kTW9kRnJlZVN0cm9rZSgpLCAuLi5uZXcgTmRNb2RBbmNob3IoKSwgLi4ubmV3IE5kTW9kQmFzZSgpfSwgYXBwKTtcclxuICAgICAgICB0aGlzLndhdGNoKCdwYXRoJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnB1cmdlQm94KClcclxuICAgICAgICAgICAgdGhpcy5NYXRyaXgucHVyZ2UoKVxyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpXHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnJlc2l6ZSgpXHJcbiAgICAgICAgICAgIHRoaXMubW91c2VUZXN0ZXIucmVzaXplKHRoaXMuYm91bmRpbmdSZWN0LnNpemUpXHJcbiAgICAgICAgICAgIHRoaXMubW91c2VUZXN0ZXIucmVkcmF3KHRoaXMuZGF0YSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMud2F0Y2goJ3N0cm9rZVdpZHRoJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnN0cm9rZUZpeCA9IHRoaXMuZGF0YS5zdHJva2VXaWR0aC5wcm90ZWN0ZWRWYWx1ZS5yZWR1Y2UoKGFjYywgY3VycmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQgPiBhY2MgPyBjdXJyZW50IDogYWNjXHJcbiAgICAgICAgICAgIH0sIDApXHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJylcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIucmVzaXplKClcclxuICAgICAgICAgICAgdGhpcy5tb3VzZVRlc3Rlci5yZXNpemUodGhpcy5ib3VuZGluZ1JlY3Quc2l6ZSlcclxuICAgICAgICAgICAgdGhpcy5tb3VzZVRlc3Rlci5yZWRyYXcodGhpcy5kYXRhKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy53YXRjaCgnaW50ZXJwb2xhdGlvbicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlcnBvbGF0aW9uRml4ID0gTWF0aC5yb3VuZCgyMCAqIHRoaXMuZGF0YS5pbnRlcnBvbGF0aW9uLnByb3RlY3RlZFZhbHVlKVxyXG4gICAgICAgICAgICB0aGlzLnB1cmdlQm94KClcclxuICAgICAgICAgICAgdGhpcy5NYXRyaXgucHVyZ2UoKVxyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci5yZXNpemUoKVxyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpXHJcbiAgICAgICAgICAgIHRoaXMubW91c2VUZXN0ZXIucmVzaXplKHRoaXMuYm91bmRpbmdSZWN0LnNpemUpXHJcbiAgICAgICAgICAgIHRoaXMubW91c2VUZXN0ZXIucmVkcmF3KHRoaXMuZGF0YSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMud2F0Y2goWydzdHJva2VTdHlsZScsICdzdHJva2VDb2xvciddLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJylcclxuICAgICAgICB9KVxyXG5cclxuICAgIH1cclxuXHJcblxyXG59IiwiaW1wb3J0IHtOZEV4cG9ydGFibGUsIE5kVVJMU3RyfSBmcm9tICcuLi9Ob2Rlcy9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgTmRFbWl0dGVyIGZyb20gJy4vTmRFbWl0dGVyJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIE5kUmVzb3VyY2U8VCBleHRlbmRzIE5kRXhwb3J0YWJsZT4gZXh0ZW5kcyBOZEVtaXR0ZXI8eyBsb2FkOiBudWxsLCBlcnJvcjogbnVsbCB9PiB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNyYzogTmRVUkxTdHJcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgcmVzb2x2ZTogKCkgPT4gTmRSZXNvdXJjZTxUPlxyXG4gICAgcHJvdGVjdGVkIF9zdGF0dXM6IG51bWJlciA9IC0xXHJcbiAgICBwcm90ZWN0ZWQgcmVzb2x2ZWQ6IGJvb2xlYW4gPSBmYWxzZVxyXG4gICAgYWJzdHJhY3QgcmVhZG9ubHkgZXhwb3J0OiBUIHwgKCguLi5hcmdzOmFueSkgPT4gdm9pZClcclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IodXJsOiBOZFVSTFN0ciwgcmVzb2x2ZTogKCkgPT4gTmRSZXNvdXJjZTxUPikge1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICB0aGlzLnNyYyA9IHVybFxyXG4gICAgICAgIHRoaXMucmVzb2x2ZSA9IHJlc29sdmVcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdXJsKCk6IE5kVVJMU3RyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zcmNcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbG9hZGVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0dXMgPiAwXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVycm9yKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0dXMgPT0gMFxyXG4gICAgfVxyXG5cclxuICAgIGxvYWQoKSB7XHJcbiAgICAgICAgaWYoIXRoaXMucmVzb2x2ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlZCA9IHRydWVcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZSgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IE5kUmVzb3VyY2UgZnJvbSAnLi9OZFJlc291cmNlJztcclxuaW1wb3J0IHtOZFVSTFN0cn0gZnJvbSAnLi4vTm9kZXMvQHR5cGVzL3R5cGVzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kSW1hZ2UgZXh0ZW5kcyBOZFJlc291cmNlPCgpID0+IEhUTUxJbWFnZUVsZW1lbnQ+IHtcclxuICAgIHB1YmxpYyByZWFkb25seSBpbWFnZSA9IG5ldyBJbWFnZSgpXHJcbiAgICBwcml2YXRlIF9zaXplOiBbbnVtYmVyLCBudW1iZXJdID0gWzAsIDBdXHJcblxyXG4gICAgY29uc3RydWN0b3IodXJsOiBOZFVSTFN0cikge1xyXG4gICAgICAgIHN1cGVyKHVybCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2l6ZVswXSA9IHRoaXMuaW1hZ2Uud2lkdGhcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NpemVbMV0gPSB0aGlzLmltYWdlLmhlaWdodFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYXN0KCdsb2FkJywgbnVsbClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgdGhpcy5pbWFnZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IDBcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FzdCgnbG9hZCcsIG51bGwpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhc3QoJ2Vycm9yJywgbnVsbClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSB1cmxcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgPSAoKSA9PiB0aGlzLmltYWdlXHJcblxyXG4gICAgZ2V0IHdpZHRoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zaXplWzBdXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZVsxXVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiBbLi4udGhpcy5fc2l6ZV1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgTmRVcmxTdHJSZWdleCA9IC8oXi4rXFwuKHBuZyl8KGpwZyldKSQvXHJcblxyXG4gICAgc3RhdGljIGlzTmRVcmxTdHJSZWdleChzdHI6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBOZEltYWdlLk5kVXJsU3RyUmVnZXgudGVzdChzdHIpXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtOZEFyckNvbG9yLCBOZEJnLCBOZEJnU2l6ZSwgTmRDb2xvclN0ciwgTmRQZXJjZW50U3RyLCBOZFBvc2l0aW9uLCBOZFBvc2l0aW9uQXJyLCBOZFVSTFN0cn0gZnJvbSAnLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5kSW1hZ2UgZnJvbSAnLi4vLi4vY2xhc3Nlcy9OZEltYWdlJztcclxuaW1wb3J0IHtOZE51bWVyaWNBcnJheTJkfSBmcm9tICcuLi8uLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgTmROb2RlU3R5bGVzTW9kZWwgZnJvbSAnLi4vY2xhc3Nlcy9OZE5vZGVTdHlsZXNNb2RlbCc7XHJcbmltcG9ydCBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQgZnJvbSAnLi4vY2xhc3Nlcy9OZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQnO1xyXG5pbXBvcnQgTmRTdHlsZXNQcm9wZXJ0eSBmcm9tICcuLi9jbGFzc2VzL05kTm9kZVN0eWxlUHJvcGVydHknO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmRNb2RCZyBleHRlbmRzIE5kTm9kZVN0eWxlc01vZGVsIHtcclxuXHJcbiAgICBzdGF0aWMgbm9ybWFsaXplQmdQb3NpdGlvbih2YWx1ZTogTmRQb3NpdGlvbik6IE5kUGVyY2VudFN0ciB8IG51bWJlciB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnbGVmdCcgfHwgdmFsdWUgPT0gJ3RvcCcpIHJldHVybiAnMCUnXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSAnYm90dG9tJyB8fCB2YWx1ZSA9PT0gJ3JpZ2h0JykgcmV0dXJuICcxMDAlJ1xyXG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gJ2NlbnRlcicgfHwgdmFsdWUgPT09ICdtaWRkbGUnKSByZXR1cm4gJzUwJSdcclxuICAgICAgICAgICAgZWxzZSByZXR1cm4gdmFsdWVcclxuICAgICAgICB9IGVsc2UgcmV0dXJuIHZhbHVlXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlYWRCZ1Bvc2l0aW9uKGJveFNpemU6IE5kTnVtZXJpY0FycmF5MmQsIGJnU2l6ZTogTmRCZ1NpemUsIGltYWdlOiBOZEltYWdlLCBkaXI6IDAgfCAxLCB2YWx1ZTogTmRQb3NpdGlvbikge1xyXG4gICAgICAgIGxldCBwb3NpdGlvblZhbHVlID0gdGhpcy5ub3JtYWxpemVCZ1Bvc2l0aW9uKHZhbHVlKVxyXG4gICAgICAgIGNvbnN0IGJnU2l6ZVZhbHVlID0gdGhpcy5yZWFkQmdTaXplKGJveFNpemUsIGltYWdlLCBkaXIsIGJnU2l6ZVtkaXJdKVxyXG4gICAgICAgIGlmICh0eXBlb2YgcG9zaXRpb25WYWx1ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uVmFsdWVcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gKGJveFNpemVbZGlyXSAtIGJnU2l6ZVZhbHVlKSAqIE5kTm9kZVN0eWxlc01vZGVsLmV4dHJhY3RQZXJjZW50RnJhY3Rpb24ocG9zaXRpb25WYWx1ZSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlYWRCZ1NpemUoYm94U2l6ZTogTmROdW1lcmljQXJyYXkyZCwgYmc6IE5kSW1hZ2UsIGRpcjogbnVtYmVyLCB2YWx1ZTogKE5kUGVyY2VudFN0ciAmIHN0cmluZykgfCAoJ2F1dG8nICYgc3RyaW5nKSB8IG51bWJlcikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gJ2F1dG8nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm94U2l6ZVtkaXJdICogTmRNb2RCZy5leHRyYWN0UGVyY2VudEZyYWN0aW9uKHZhbHVlKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJnKSByZXR1cm4gYmcuc2l6ZVtkaXJdXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZpbGwgPSBuZXcgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkPE5kQ29sb3JTdHIsIE5kQ29sb3JTdHIsIE5kQ29sb3JTdHIgfCBOZEFyckNvbG9yLCBOZEFyckNvbG9yPlxyXG4gICAgKFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgJ3JnYmEoMCwwLDAsMCknLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiBjdXJyZW50LFxyXG4gICAgICAgICh2YWx1ZSkgPT5cclxuICAgICAgICAgICAgdmFsdWUgaW5zdGFuY2VvZiBBcnJheSA/IE5kTm9kZVN0eWxlc01vZGVsLmFycmF5VG9Db2xvcih2YWx1ZSkgOiB2YWx1ZSxcclxuICAgICAgICAoY3VycmVudCwgdmFsdWUsIHNldFN0YXJ0LCBzZXRFbmQpID0+IHtcclxuICAgICAgICAgICAgc2V0U3RhcnQoTmROb2RlU3R5bGVzTW9kZWwuY29sb3JUb0FycmF5KGN1cnJlbnQpKVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgc2V0RW5kKE5kTm9kZVN0eWxlc01vZGVsLmNvbG9yVG9BcnJheSh2YWx1ZSkpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZXRFbmQodmFsdWUpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gTmROb2RlU3R5bGVzTW9kZWwubm9ybWFsaXplQ29sb3IodmFsdWUpXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG4gICAgYmcgPSBuZXcgTmRTdHlsZXNQcm9wZXJ0eTxOZEltYWdlW10sXHJcbiAgICAgICAgTmRVUkxTdHJbXSxcclxuICAgICAgICBOZEJnIHwgeyBba2V5OiBudW1iZXJdOiBOZFVSTFN0ciB8IE5kSW1hZ2UgfT4oXHJcbiAgICAgICAgMCxcclxuICAgICAgICBbXSxcclxuICAgICAgICAoY3VycmVudCkgPT4gY3VycmVudC5tYXAodiA9PiB2LnVybCksXHJcbiAgICAgICAgKHZhbHVlLCBlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IE5kSW1hZ2VbXSA9IFsuLi50aGlzLmJnLnByb3RlY3RlZFZhbHVlXVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbWFnZSA9IG5ldyBOZEltYWdlKHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgaW1hZ2Uub25jZSgnbG9hZCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iZy5wcm90ZWN0ZWRWYWx1ZVswXSA9PT0gaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTmRNb2RCZy51cGRhdGVTaXplQW5kUG9zaXRpb24odGhpcywgZWxlbWVudC5ib3guc2l6ZSwgMCwgaW1hZ2UpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGltYWdlLmxvYWQoKVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gW2ltYWdlXVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbMF0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gKHZhbHVlIGFzIE5kVVJMU3RyW10pLm1hcChcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHYsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgTmRJbWFnZSh2KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbWFnZS5sb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5vbmNlKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOZE1vZEJnLnVwZGF0ZVNpemVBbmRQb3NpdGlvbih0aGlzLCBlbGVtZW50LmJveC5zaXplLCBrZXksIGltYWdlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgTmRNb2RCZy51cGRhdGVTaXplQW5kUG9zaXRpb24odGhpcywgZWxlbWVudC5ib3guc2l6ZSwga2V5LCBpbWFnZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbWFnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbLi4uKHZhbHVlIGFzIE5kSW1hZ2VbXSkubWFwKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAodiwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXYubG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5vbmNlKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iZy5wcm90ZWN0ZWRWYWx1ZVtrZXldID09PSB2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOZE1vZEJnLnVwZGF0ZVNpemVBbmRQb3NpdGlvbih0aGlzLCBlbGVtZW50LmJveC5zaXplLCBrZXksIHYpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTmRNb2RCZy51cGRhdGVTaXplQW5kUG9zaXRpb24odGhpcywgZWxlbWVudC5ib3guc2l6ZSwga2V5LCB2KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICldXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBOZEltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW3ZhbHVlXVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsdWUubG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLm9uY2UoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOZE1vZEJnLnVwZGF0ZVNpemVBbmRQb3NpdGlvbih0aGlzLCBlbGVtZW50LmJveC5zaXplLCAwLCB2YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBOZE1vZEJnLnVwZGF0ZVNpemVBbmRQb3NpdGlvbih0aGlzLCBlbGVtZW50LmJveC5zaXplLCAwLCB2YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHByb3AgaW4gKHZhbHVlIGFzIHsgW2tleTogbnVtYmVyXTogTmRVUkxTdHIgfCBOZEltYWdlIH0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbcHJvcF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbcHJvcF0gPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZSA9IG5ldyBOZEltYWdlKCh2YWx1ZVtwcm9wXSBhcyBOZFVSTFN0cikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uub25jZSgnbG9hZCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmRNb2RCZy51cGRhdGVTaXplQW5kUG9zaXRpb24odGhpcywgZWxlbWVudC5ib3guc2l6ZSwgcGFyc2VJbnQocHJvcCksIGltYWdlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Byb3BdID0gaW1hZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZSA9IHZhbHVlW3Byb3BdIGFzIE5kSW1hZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW1hZ2UubG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uub25jZSgnbG9hZCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmRNb2RCZy51cGRhdGVTaXplQW5kUG9zaXRpb24odGhpcywgZWxlbWVudC5ib3guc2l6ZSwgcGFyc2VJbnQocHJvcCksIGltYWdlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgTmRNb2RCZy51cGRhdGVTaXplQW5kUG9zaXRpb24odGhpcywgZWxlbWVudC5ib3guc2l6ZSwgcGFyc2VJbnQocHJvcCksIGltYWdlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbcHJvcF0gYXMgTmRJbWFnZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmRQb3NpdGlvbi5zeW5jKHJlc3VsdCwgWzAsIDBdKVxyXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmRQb3NpdGlvbk51bWVyaWMuc3luYyhyZXN1bHQsIFswLCAwXSlcclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kU2l6ZS5zeW5jKHJlc3VsdCwgWydhdXRvJywgJ2F1dG8nXSlcclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kU2l6ZU51bWVyaWMuc3luYyhyZXN1bHQsIFtcclxuICAgICAgICAgICAgICAgIChrZXk6IG51bWJlcikgPT4gTmRNb2RCZy5yZWFkQmdTaXplKGVsZW1lbnQuYm94LnNpemUsIHRoaXMuYmcucHJvdGVjdGVkVmFsdWVba2V5XSwgMCwgJ2F1dG8nKSxcclxuICAgICAgICAgICAgICAgIChrZXk6IG51bWJlcikgPT4gTmRNb2RCZy5yZWFkQmdTaXplKGVsZW1lbnQuYm94LnNpemUsIHRoaXMuYmcucHJvdGVjdGVkVmFsdWVba2V5XSwgMSwgJ2F1dG8nKVxyXG4gICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG4gICAgYmFja2dyb3VuZFNpemUgPSBuZXcgTmRTdHlsZXNQcm9wZXJ0eTxOZEJnU2l6ZVtdLFxyXG4gICAgICAgIE5kQmdTaXplW10sXHJcbiAgICAgICAgTmRCZ1NpemUgfCBOZEJnU2l6ZVtdIHwgeyBba2V5OiBudW1iZXJdOiBOZEJnU2l6ZSB9IHwgKE5kUGVyY2VudFN0ciAmIHN0cmluZykgfCBudW1iZXI+KFxyXG4gICAgICAgIDEsXHJcbiAgICAgICAgW10sXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IGN1cnJlbnQubWFwKCh2KSA9PiBbdlswXSwgdlsxXV0pLFxyXG4gICAgICAgICh2YWx1ZSwgZWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBOZEJnU2l6ZVtdID0gdGhpcy5iYWNrZ3JvdW5kU2l6ZS5wcm90ZWN0ZWRWYWx1ZVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInID8gdmFsdWUgPCAwID8gMCA6IHZhbHVlIDogdmFsdWU7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJnLnByb3RlY3RlZFZhbHVlLm1hcCgoKSA9PiAoW3ZhbHVlLCB2YWx1ZV0gYXMgTmRCZ1NpemUpKVxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlWzBdID09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZVswXSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSB2YWx1ZSBhcyBOZEJnU2l6ZVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYmcucHJvdGVjdGVkVmFsdWUubWFwKCgpID0+IFt2YWxbMF0sIHZhbFsxXV0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9ICh2YWx1ZSBhcyBOZEJnU2l6ZVtdKVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYmcucHJvdGVjdGVkVmFsdWUubWFwKCh2LCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbFtrZXldID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt2YWxba2V5XVswXSwgdmFsW2tleV1bMV1dIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmcucHJvdGVjdGVkVmFsdWVba2V5XSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iZy5wcm90ZWN0ZWRWYWx1ZVtrZXldIDogWydhdXRvJywgJ2F1dG8nXVxyXG4gICAgICAgICAgICAgICAgICAgIH0pIGFzIE5kQmdTaXplW11cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiAodmFsdWUgYXMgeyBba2V5OiBudW1iZXJdOiBOZEJnU2l6ZSB9KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRba2V5XSkgcmVzdWx0W2tleV0gPSBbdmFsdWVba2V5XVswXSwgdmFsdWVba2V5XVsxXV1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmRTaXplTnVtZXJpYy5zeW5jKHJlc3VsdCwgW1xyXG4gICAgICAgICAgICAgICAgKGtleSkgPT4gTmRNb2RCZy5yZWFkQmdTaXplKGVsZW1lbnQuYm94LnNpemUsIHRoaXMuYmcucHJvdGVjdGVkVmFsdWVba2V5XSwgMCwgcmVzdWx0W2tleV1bMF0pLFxyXG4gICAgICAgICAgICAgICAgKGtleSkgPT4gTmRNb2RCZy5yZWFkQmdTaXplKGVsZW1lbnQuYm94LnNpemUsIHRoaXMuYmcucHJvdGVjdGVkVmFsdWVba2V5XSwgMSwgcmVzdWx0W2tleV1bMV0pXHJcbiAgICAgICAgICAgIF0pXHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZFBvc2l0aW9uLnN5bmMocmVzdWx0LCBbMCwgMF0pXHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZFBvc2l0aW9uTnVtZXJpYy5zeW5jKHJlc3VsdCwgWzAsIDBdKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG4gICAgYmFja2dyb3VuZFNpemVOdW1lcmljID0gbmV3IE5kU3R5bGVzUHJvcGVydHk8W251bWJlciwgbnVtYmVyXVtdLCBbbnVtYmVyLCBudW1iZXJdW10sIHZvaWQ+KFxyXG4gICAgICAgIDEsXHJcbiAgICAgICAgW10sXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IFsuLi5jdXJyZW50XVxyXG4gICAgKVxyXG4gICAgYmFja2dyb3VuZFBvc2l0aW9uID0gbmV3IE5kU3R5bGVzUHJvcGVydHk8TmRQb3NpdGlvbkFycltdLCBOZFBvc2l0aW9uQXJyW10sIE5kUG9zaXRpb25BcnJbXSB8IE5kUG9zaXRpb25BcnIgfCB7IFtrZXk6IG51bWJlcl06IE5kUG9zaXRpb25BcnIgfSB8IE5kUG9zaXRpb24+KFxyXG4gICAgICAgIDIsXHJcbiAgICAgICAgW10sXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IGN1cnJlbnQubWFwKHYgPT4gW3ZbMF0sIHZbMV1dKSxcclxuICAgICAgICAodmFsdWUsIGVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgbGV0IHJlc3VsdDogTmRQb3NpdGlvbkFycltdID0gdGhpcy5iYWNrZ3JvdW5kUG9zaXRpb24ucHJvdGVjdGVkVmFsdWVcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIGlmICgvXltcXGQuXSslJC8udGVzdCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJnLnByb3RlY3RlZFZhbHVlLm1hcCgoKSA9PiAoW3ZhbHVlLCB2YWx1ZV0gYXMgW05kUGVyY2VudFN0ciwgTmRQZXJjZW50U3RyXSkpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoL14obGVmdHxjZW50ZXJ8cmlnaHQpJC8udGVzdCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJnLnByb3RlY3RlZFZhbHVlLm1hcCgodmFsLCBrZXkpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kUG9zaXRpb24ucHJvdGVjdGVkVmFsdWVba2V5XSA/IHRoaXMuYmFja2dyb3VuZFBvc2l0aW9uLnByb3RlY3RlZFZhbHVlW2tleV1bMV0gOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoL14odG9wfG1pZGRsZXxib3R0b20pJC8udGVzdCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJnLnByb3RlY3RlZFZhbHVlLm1hcCgodmFsLCBrZXkpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZFBvc2l0aW9uLnByb3RlY3RlZFZhbHVlW2tleV0gPyB0aGlzLmJhY2tncm91bmRQb3NpdGlvbi5wcm90ZWN0ZWRWYWx1ZVtrZXldWzBdIDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYmcucHJvdGVjdGVkVmFsdWUubWFwKCgpID0+IFt2YWx1ZSwgdmFsdWVdKVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZVswXSBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gKHZhbHVlIGFzIE5kUG9zaXRpb25BcnJbXSlcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJnLnByb3RlY3RlZFZhbHVlLm1hcCgodiwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWxba2V5XSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdmFsW2tleV1bMF0sIHZhbFtrZXldWzFdXSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRQb3NpdGlvbi5wcm90ZWN0ZWRWYWx1ZVtrZXldID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRQb3NpdGlvbi5wcm90ZWN0ZWRWYWx1ZVtrZXldIDogWzAsIDBdXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbMF0gPT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlWzBdID09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gKHZhbHVlIGFzIE5kUG9zaXRpb25BcnIpXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5iZy5wcm90ZWN0ZWRWYWx1ZS5tYXAoKCkgPT4gW3ZhbFswXSwgdmFsWzFdXSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiAodmFsdWUgYXMgeyBba2V5OiBudW1iZXJdOiBOZFBvc2l0aW9uQXJyIH0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFtrZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gW3ZhbHVlW2tleV1bMF0sIHZhbHVlW2tleV1bMV1dXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZFBvc2l0aW9uTnVtZXJpYy5zeW5jKHJlc3VsdCwgW1xyXG4gICAgICAgICAgICAgICAgKGtleSkgPT4gTmRNb2RCZy5yZWFkQmdQb3NpdGlvbihlbGVtZW50LmJveC5zaXplLCB0aGlzLmJhY2tncm91bmRTaXplLnByb3RlY3RlZFZhbHVlW2tleV0sIHRoaXMuYmcucHJvdGVjdGVkVmFsdWVba2V5XSwgMCwgcmVzdWx0W2tleV1bMF0pLFxyXG4gICAgICAgICAgICAgICAgKGtleSkgPT4gTmRNb2RCZy5yZWFkQmdQb3NpdGlvbihlbGVtZW50LmJveC5zaXplLCB0aGlzLmJhY2tncm91bmRTaXplLnByb3RlY3RlZFZhbHVlW2tleV0sIHRoaXMuYmcucHJvdGVjdGVkVmFsdWVba2V5XSwgMCwgcmVzdWx0W2tleV1bMV0pXHJcbiAgICAgICAgICAgIF0pXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICBiYWNrZ3JvdW5kUG9zaXRpb25OdW1lcmljID0gbmV3IE5kU3R5bGVzUHJvcGVydHk8W251bWJlciwgbnVtYmVyXVtdLCBbbnVtYmVyLCBudW1iZXJdW10sIHZvaWQ+KFxyXG4gICAgICAgIDIsXHJcbiAgICAgICAgW10sXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IFsuLi5jdXJyZW50XVxyXG4gICAgKVxyXG4gICAgc3RhdGljIHVwZGF0ZVNpemVBbmRQb3NpdGlvbiA9IChtb2RlbDogTmRNb2RCZywgYm94OiBbbnVtYmVyLCBudW1iZXJdLCBrZXk6IG51bWJlciwgdmFsdWU6IE5kSW1hZ2UpID0+IHtcclxuICAgICAgICBpZiAodHlwZW9mIG1vZGVsLmJhY2tncm91bmRTaXplLnByb3RlY3RlZFZhbHVlW2tleV1bMF0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIG1vZGVsLmJhY2tncm91bmRTaXplTnVtZXJpYy5wcm90ZWN0ZWRWYWx1ZVtrZXldWzBdID0gTmRNb2RCZy5yZWFkQmdTaXplKGJveCwgdmFsdWUsIDAsIG1vZGVsLmJhY2tncm91bmRTaXplLnByb3RlY3RlZFZhbHVlW2tleV1bMF0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgbW9kZWwuYmFja2dyb3VuZFNpemUucHJvdGVjdGVkVmFsdWVba2V5XVsxXSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgbW9kZWwuYmFja2dyb3VuZFNpemVOdW1lcmljLnByb3RlY3RlZFZhbHVlW2tleV1bMV0gPSBOZE1vZEJnLnJlYWRCZ1NpemUoYm94LCB2YWx1ZSwgMSwgbW9kZWwuYmFja2dyb3VuZFNpemUucHJvdGVjdGVkVmFsdWVba2V5XVsxXSlcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBtb2RlbC5iYWNrZ3JvdW5kUG9zaXRpb24ucHJvdGVjdGVkVmFsdWVba2V5XVswXSA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBtb2RlbC5iYWNrZ3JvdW5kUG9zaXRpb25OdW1lcmljLnByb3RlY3RlZFZhbHVlW2tleV1bMF0gPSBOZE1vZEJnLnJlYWRCZ1Bvc2l0aW9uKFxyXG4gICAgICAgICAgICAgICAgYm94LFxyXG4gICAgICAgICAgICAgICAgbW9kZWwuYmFja2dyb3VuZFNpemUucHJvdGVjdGVkVmFsdWVba2V5XSxcclxuICAgICAgICAgICAgICAgIG1vZGVsLmJnLnByb3RlY3RlZFZhbHVlW2tleV0sIDAsIG1vZGVsLmJhY2tncm91bmRQb3NpdGlvbi5wcm90ZWN0ZWRWYWx1ZVtrZXldWzBdKVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBtb2RlbC5iYWNrZ3JvdW5kUG9zaXRpb24ucHJvdGVjdGVkVmFsdWVba2V5XVsxXSA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBtb2RlbC5iYWNrZ3JvdW5kUG9zaXRpb25OdW1lcmljLnByb3RlY3RlZFZhbHVlW2tleV1bMV0gPSBOZE1vZEJnLnJlYWRCZ1Bvc2l0aW9uKFxyXG4gICAgICAgICAgICAgICAgYm94LFxyXG4gICAgICAgICAgICAgICAgbW9kZWwuYmFja2dyb3VuZFNpemUucHJvdGVjdGVkVmFsdWVba2V5XSxcclxuICAgICAgICAgICAgICAgIG1vZGVsLmJnLnByb3RlY3RlZFZhbHVlW2tleV0sIDEsIG1vZGVsLmJhY2tncm91bmRQb3NpdGlvbi5wcm90ZWN0ZWRWYWx1ZVtrZXldWzFdKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBOZFN0eWxlc1Byb3BlcnR5IGZyb20gJy4uL2NsYXNzZXMvTmROb2RlU3R5bGVQcm9wZXJ0eSc7XHJcbmltcG9ydCB7TmRBcnJDb2xvciwgTmRDb2xvclN0ciwgTmRTdHJva2VTdHlsZX0gZnJvbSAnLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5kTm9kZVN0eWxlUHJvcGVydHlBbmltYXRlZCBmcm9tICcuLi9jbGFzc2VzL05kTm9kZVN0eWxlUHJvcGVydHlBbmltYXRlZCc7XHJcbmltcG9ydCBOZE5vZGVTdHlsZXNNb2RlbCBmcm9tICcuLi9jbGFzc2VzL05kTm9kZVN0eWxlc01vZGVsJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kTW9kQ2lyYyBleHRlbmRzIE5kTm9kZVN0eWxlc01vZGVsIHtcclxuXHJcbiAgICByYWRpdXMgPSBuZXcgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkPG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcj4oXHJcbiAgICAgICAgMCxcclxuICAgICAgICAwLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiBjdXJyZW50LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDBcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAoY3VycmVudCwgdmFsdWUsIHNldFN0YXJ0LCBzZXRFbmQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICBzZXRTdGFydChjdXJyZW50KVxyXG4gICAgICAgICAgICBzZXRFbmQodmFsdWUpXHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICBzdHJva2VXaWR0aCA9IG5ldyBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQ8bnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyPihcclxuICAgICAgICAwLFxyXG4gICAgICAgIDEsXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IGN1cnJlbnQsXHJcbiAgICAgICAgKHZhbHVlKSA9PiB2YWx1ZSA8IDAgPyAwIDogdmFsdWUsXHJcbiAgICAgICAgKGN1cnJlbnQsIHZhbHVlLCBzZXRTdGFydCwgc2V0RW5kKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgc2V0U3RhcnQoY3VycmVudClcclxuICAgICAgICAgICAgc2V0RW5kKHZhbHVlKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG4gICAgc3Ryb2tlQ29sb3IgPSBuZXcgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkPE5kQ29sb3JTdHIsIE5kQ29sb3JTdHIsIE5kQ29sb3JTdHIgfCBOZEFyckNvbG9yLCBOZEFyckNvbG9yPihcclxuICAgICAgICAwLFxyXG4gICAgICAgICdyZ2JhKDAsMCwwLDEpJyxcclxuICAgICAgICAoY3VycmVudCkgPT4gY3VycmVudCxcclxuICAgICAgICAodmFsdWUpID0+IHZhbHVlIGluc3RhbmNlb2YgQXJyYXkgPyBOZE1vZENpcmMuYXJyYXlUb0NvbG9yKHZhbHVlKSA6IHZhbHVlLFxyXG4gICAgICAgIChjdXJyZW50LCB2YWx1ZSwgc2V0U3RhcnQsIHNldEVuZCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRTdGFydChOZE1vZENpcmMuY29sb3JUb0FycmF5KGN1cnJlbnQpKVxyXG4gICAgICAgICAgICBzZXRFbmQodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IE5kTW9kQ2lyYy5jb2xvclRvQXJyYXkodmFsdWUpIDogdmFsdWUpXHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIE5kTW9kQ2lyYy5ub3JtYWxpemVDb2xvcih2YWx1ZSlcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICBzdHJva2VTdHlsZSA9IG5ldyBOZFN0eWxlc1Byb3BlcnR5PE5kU3Ryb2tlU3R5bGUsIE5kU3Ryb2tlU3R5bGUsIE5kU3Ryb2tlU3R5bGU+KFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgWzBdLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiBbLi4uY3VycmVudF0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB2YWx1ZS5tYXAodiA9PiB2IDwgMCA/IDAgOiB2KVxyXG4gICAgKVxyXG59IiwiaW1wb3J0IE5vZGUgZnJvbSAnLi9Ob2RlJztcclxuaW1wb3J0IE5kTW9kQmFzZSBmcm9tICcuL21vZGVscy9OZE1vZEJhc2UnO1xyXG5pbXBvcnQgTmRNb2RBbmNob3IgZnJvbSAnLi9tb2RlbHMvTmRNb2RBbmNob3InO1xyXG5pbXBvcnQgTmRNb2RCZyBmcm9tICcuL21vZGVscy9OZE1vZEJnJztcclxuaW1wb3J0IE5kTW9kQ2lyYyBmcm9tICcuL21vZGVscy9OZE1vZENpcmMnO1xyXG5pbXBvcnQgTmROb2RlQm94IGZyb20gJy4vY2xhc3Nlcy9OZE5vZGVCb3gnO1xyXG5pbXBvcnQgTmRNb2RlQXNzZW1ibGVyIGZyb20gJy4vY2xhc3Nlcy9OZE1vZGVBc3NlbWJsZXInO1xyXG5pbXBvcnQge05kTnVtZXJpY0FycmF5MmR9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOb2RhcyBmcm9tICcuLi8uLi9Ob2Rhcyc7XHJcblxyXG50eXBlIENpcmNsZUVsZW1lbnRNb2RlbCA9IE5kTW9kQ2lyYyAmIE5kTW9kQmcgJiBOZE1vZEFuY2hvciAmIE5kTW9kQmFzZTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENpcmNsZSBleHRlbmRzIE5vZGU8Q2lyY2xlRWxlbWVudE1vZGVsPiB7XHJcblxyXG4gICAgcHJvdGVjdGVkIEJveDogTmROb2RlQm94ID0gbmV3IE5kTm9kZUJveCh0aGlzLCB0aGlzLkNhY2hlLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBbLi4udGhpcy5kYXRhLnBvc2l0aW9uLnByb3RlY3RlZFZhbHVlXSBhcyBOZE51bWVyaWNBcnJheTJkLFxyXG4gICAgICAgICAgICBkID0gdGhpcy5kYXRhLnJhZGl1cy5wcm90ZWN0ZWRWYWx1ZSAqIDJcclxuICAgICAgICBOb2RlLmFwcGx5Qm94QW5jaG9yKHBvc2l0aW9uLCBkLCBkLCB0aGlzLmRhdGEpXHJcbiAgICAgICAgcmV0dXJuIFtwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHRoaXMuZGF0YS5yYWRpdXMucHJvdGVjdGVkVmFsdWUgKiAyLCB0aGlzLmRhdGEucmFkaXVzLnByb3RlY3RlZFZhbHVlICogMiwgdGhpcy5zdHJva2VGaXgsIHRoaXMuc3Ryb2tlRml4LCB0aGlzLnN0cm9rZUZpeCwgdGhpcy5zdHJva2VGaXhdXHJcbiAgICB9KVxyXG4gICAgcmVuZGVyID0gKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgIE5vZGUudHJhbnNmb3JtQ29udGV4dCh0aGlzLCBjb250ZXh0KVxyXG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuQXNzZW1ibGVyLmV4cG9ydCh0aGlzKSwgMCwgMClcclxuICAgICAgICByZXR1cm4gY29udGV4dFxyXG4gICAgfVxyXG4gICAgZXhwb3J0OiBOb2RlPENpcmNsZUVsZW1lbnRNb2RlbD5bJ2V4cG9ydCddID0gKCkgPT4gdGhpcy5Bc3NlbWJsZXIuZXhwb3J0KHRoaXMpXHJcbiAgICBwcml2YXRlIHN0cm9rZUZpeDogbnVtYmVyID0gMTtcclxuICAgIHByb3RlY3RlZCB0ZXN0OiBOb2RlPENpcmNsZUVsZW1lbnRNb2RlbD5bJ3Rlc3QnXSA9IChjdXJzb3I6IE5kTnVtZXJpY0FycmF5MmQpID0+IHtcclxuICAgICAgICBjb25zdCBjb29yZHMgPSB0aGlzLm1hdHJpeC50cmFjZUN1cnNvclRvTG9jYWxTcGFjZShjdXJzb3IpLFxyXG4gICAgICAgICAgICBzcHJpdGUgPSB0aGlzLkJveC52YWx1ZS5zcHJpdGUsXHJcbiAgICAgICAgICAgIHJhZGl1cyA9IHRoaXMuZGF0YS5yYWRpdXMucHJvdGVjdGVkVmFsdWVcclxuICAgICAgICBpZiAoY29vcmRzWzBdID4gc3ByaXRlLnNpemVbMF0gJiYgY29vcmRzWzBdIDwgMCAmJiBjb29yZHNbMV0gPiBzcHJpdGUuc2l6ZVsxXSAmJiBjb29yZHNbMV0gPCAwKSB7XHJcbiAgICAgICAgICAgIGlmIChNYXRoLnBvdygoY29vcmRzWzBdICsgdGhpcy5zdHJva2VGaXgpIC0gcmFkaXVzLCAyKSArIE1hdGgucG93KChjb29yZHNbMV0gKyB0aGlzLnN0cm9rZUZpeCkgLSByYWRpdXMsIDIpIDw9IE1hdGgucG93KHJhZGl1cywgMikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgQXNzZW1ibGVyOiBOZE1vZGVBc3NlbWJsZXIgPSBuZXcgTmRNb2RlQXNzZW1ibGVyKFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdmaWxsJyxcclxuICAgICAgICAgICAgcmVzb2x2ZXI6IGNvbnRleHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmRhdGEuZmlsbC5wcm90ZWN0ZWRWYWx1ZVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmModGhpcy5ib3VuZGluZ1JlY3Quc2l6ZVswXSAvIDIsIHRoaXMuYm91bmRpbmdSZWN0LnNpemVbMV0gLyAyLCB0aGlzLmRhdGEucmFkaXVzLnByb3RlY3RlZFZhbHVlLCAwLCBNYXRoLlBJICogMilcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ2JnJyxcclxuICAgICAgICAgICAgcmVzb2x2ZXI6IGNvbnRleHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmModGhpcy5ib3VuZGluZ1JlY3Quc2l6ZVswXSAvIDIsIHRoaXMuYm91bmRpbmdSZWN0LnNpemVbMV0gLyAyLCB0aGlzLmRhdGEucmFkaXVzLnByb3RlY3RlZFZhbHVlLCAwLCBNYXRoLlBJICogMilcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xpcCgpXHJcbiAgICAgICAgICAgICAgICBOb2RlLmRyYXdCZyh0aGlzLmRhdGEsIGNvbnRleHQsIHRoaXMuQXNzZW1ibGVyKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdzdHJva2UnLFxyXG4gICAgICAgICAgICByZXNvbHZlcjogY29udGV4dCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gdGhpcy5kYXRhLnN0cm9rZUNvbG9yLnByb3RlY3RlZFZhbHVlXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHRoaXMuZGF0YS5zdHJva2VXaWR0aC5wcm90ZWN0ZWRWYWx1ZVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaCh0aGlzLmRhdGEuc3Ryb2tlU3R5bGUucHJvdGVjdGVkVmFsdWUpXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyh0aGlzLmJvdW5kaW5nUmVjdC5zaXplWzBdIC8gMiwgdGhpcy5ib3VuZGluZ1JlY3Quc2l6ZVsxXSAvIDIsIHRoaXMuZGF0YS5yYWRpdXMucHJvdGVjdGVkVmFsdWUsIDAsIE1hdGguUEkgKiAyKVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXSlcclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgQXBwOiBOb2Rhcykge1xyXG4gICAgICAgIHN1cGVyKGlkLCB7Li4ubmV3IE5kTW9kQ2lyYygpLCAuLi5uZXcgTmRNb2RCZygpLCAuLi5uZXcgTmRNb2RBbmNob3IoKSwgLi4ubmV3IE5kTW9kQmFzZSgpfSwgQXBwKVxyXG4gICAgICAgIHRoaXMud2F0Y2goJ3JhZGl1cycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIudXBkYXRlKClcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIucmVzaXplKClcclxuICAgICAgICAgICAgdGhpcy5Cb3gucHVyZ2UoKVxyXG4gICAgICAgICAgICB0aGlzLk1hdHJpeC5wdXJnZSgpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLndhdGNoKCdmaWxsJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy53YXRjaCgnc3Ryb2tlV2lkdGgnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc3Ryb2tlRml4ID0gdGhpcy5kYXRhLnN0cm9rZVdpZHRoLnByb3RlY3RlZFZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLkJveC5wdXJnZSgpXHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJylcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIucmVzaXplKClcclxuICAgICAgICAgICAgdGhpcy5NYXRyaXgucHVyZ2UoKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy53YXRjaChbJ3N0cm9rZVN0eWxlJywgJ3N0cm9rZUNvbG9yJ10sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy53YXRjaChbJ2JnJywgJ2JhY2tncm91bmRTaXplJywgJ2JhY2tncm91bmRQb3NpdGlvbiddLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgnYmcnKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTmRSZXNvdXJjZSBmcm9tICcuL05kUmVzb3VyY2UnO1xyXG5pbXBvcnQge05kVXJsU3ByaXRlU3RyLCBOZFVSTFN0cn0gZnJvbSAnLi4vTm9kZXMvQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IHtOZE51bWVyaWNBcnJheTJkfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQge05EQn0gZnJvbSAnLi4vU2VydmljZXMvTm9kYXNEZWJ1Zyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZFNwcml0ZSBleHRlbmRzIE5kUmVzb3VyY2U8KHRpbWU6IERhdGUpID0+IEhUTUxDYW52YXNFbGVtZW50IHwgSFRNTEltYWdlRWxlbWVudD4ge1xyXG4gICAgcHJpdmF0ZSBmcmFtZUNvdW50OiBudW1iZXIgPSAwXHJcbiAgICBwcml2YXRlIHJlZnJlc2hSYXRlOiBudW1iZXIgPSAxMlxyXG4gICAgcHJpdmF0ZSBmcmFtZVRpbWU6IG51bWJlciA9IDBcclxuICAgIHByaXZhdGUgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudFtdW10gPSBbXVxyXG4gICAgcHJpdmF0ZSBpbWFnZTogSFRNTEltYWdlRWxlbWVudCA9IG5ldyBJbWFnZSgpXHJcbiAgICBwcml2YXRlIGNodW5rU2l6ZTogTmROdW1lcmljQXJyYXkyZCA9IFswLCAwXVxyXG4gICAgcHJpdmF0ZSBjaHVua1hZQ291bnQ6IG51bWJlciA9IDBcclxuICAgIHByaXZhdGUgdGltZVN0YXJ0ID0gbmV3IERhdGUoKS5nZXRUaW1lKClcclxuICAgIHByaXZhdGUgZHVyYXRpb246IG51bWJlciA9IDBcclxuICAgIHByaXZhdGUgZnJvemVuOiBib29sZWFuID0gZmFsc2VcclxuXHJcbiAgICBwcml2YXRlIHNldEZyYW1lRGF0YSgpIHtcclxuICAgICAgICB0aGlzLmNodW5rWFlDb3VudCA9IE1hdGguY2VpbChNYXRoLnNxcnQodGhpcy5mcmFtZUNvdW50KSlcclxuICAgICAgICB0aGlzLmNodW5rU2l6ZVswXSA9IHRoaXMuaW1hZ2Uud2lkdGggLyB0aGlzLmNodW5rWFlDb3VudFxyXG4gICAgICAgIHRoaXMuY2h1bmtTaXplWzFdID0gdGhpcy5pbWFnZS5oZWlnaHQgLyB0aGlzLmNodW5rWFlDb3VudFxyXG4gICAgICAgIHRoaXMuZnJhbWVUaW1lID0gMTAwMCAvIHRoaXMucmVmcmVzaFJhdGVcclxuICAgICAgICB0aGlzLmR1cmF0aW9uID0gdGhpcy5mcmFtZVRpbWUgKiB0aGlzLmZyYW1lQ291bnRcclxuICAgICAgICB0aGlzLmNodW5rU2l6ZVswXSA9IHRoaXMuaW1hZ2Uud2lkdGggLyB0aGlzLmNodW5rWFlDb3VudFxyXG4gICAgICAgIHRoaXMuY2h1bmtTaXplWzFdID0gdGhpcy5pbWFnZS5oZWlnaHQgLyB0aGlzLmNodW5rWFlDb3VudFxyXG4gICAgICAgIHRoaXMuY2FudmFzID0gW11cclxuICAgICAgICBmb3IgKGxldCByID0gMDsgciA8IHRoaXMuY2h1bmtYWUNvdW50OyByKyspIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmNhbnZhc1tyXSkgdGhpcy5jYW52YXMucHVzaChbXSlcclxuICAgICAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCB0aGlzLmNodW5rWFlDb3VudDsgYysrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2FudmFzW3JdW2NdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNbcl0ucHVzaChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc1tyXVtjXS53aWR0aCA9IDFcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc1tyXVtjXS5oZWlnaHQgPSAxXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc1tyXVtjXS5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgdGhpcy5jaHVua1NpemVbMF0udG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc1tyXVtjXS5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHRoaXMuY2h1bmtTaXplWzBdLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY2FudmFzW3JdW2NdLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKC10aGlzLmNodW5rU2l6ZVswXSAqIGMsIC10aGlzLmNodW5rU2l6ZVsxXSAqIHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBwYXVzZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJvemVuXHJcbiAgICB9XHJcblxyXG4gICAgcGF1c2UoKSB7XHJcbiAgICAgICAgdGhpcy5mcm96ZW4gPSB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgcGxheSgpIHtcclxuICAgICAgICB0aGlzLmZyb3plbiA9IGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZyYW1lcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5mcmFtZUNvdW50XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGZyYW1lcyh2YWwpIHtcclxuICAgICAgICB0aGlzLmZyYW1lQ291bnQgPSB2YWxcclxuICAgICAgICB0aGlzLnNldEZyYW1lRGF0YSgpXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHdpZHRoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNodW5rU2l6ZVswXVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBoZWlnaHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2h1bmtTaXplWzFdXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLmNodW5rU2l6ZV1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgZnBzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlZnJlc2hSYXRlXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGZwcyh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMudGltZVN0YXJ0ID0gbmV3IERhdGUoKS5nZXRUaW1lKClcclxuICAgICAgICB0aGlzLnJlZnJlc2hSYXRlID0gdmFsdWVcclxuICAgICAgICB0aGlzLnNldEZyYW1lRGF0YSgpXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGV4cG9ydCA9ICh0aW1lOiBEYXRlKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMubG9hZGVkICYmICF0aGlzLmVycm9yKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZyYW1lQ291bnQgJiYgdGhpcy5mcmFtZVRpbWUgJiYgKHRoaXMuY2h1bmtTaXplWzBdID4gMCB8fCB0aGlzLmNodW5rU2l6ZVsxXSA+IDApKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudFRpbWUgPSB0aW1lLmdldFRpbWUoKVxyXG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhID0gY3VycmVudFRpbWUgLSB0aGlzLnRpbWVTdGFydFxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvemVuKSB0aGlzLnRpbWVTdGFydCArPSBkZWx0YVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBmcmFtZSA9IE1hdGguZmxvb3IoZGVsdGEgLyB0aGlzLmZyYW1lVGltZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZnJhbWUgPiB0aGlzLmZyYW1lQ291bnQgLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBmcmFtZSA9IDBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVTdGFydCA9IGN1cnJlbnRUaW1lXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudFkgPSBNYXRoLmZsb29yKGZyYW1lIC8gdGhpcy5jaHVua1hZQ291bnQpLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRYID0gZnJhbWUgLSBjdXJyZW50WSAqIHRoaXMuY2h1bmtYWUNvdW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FudmFzW2N1cnJlbnRZXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbnZhc1tjdXJyZW50WV1bY3VycmVudFhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbnZhc1tjdXJyZW50WV1bY3VycmVudFhdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHVybDogTmRVcmxTcHJpdGVTdHIpIHtcclxuICAgICAgICBjb25zdCBtYXRjaCA9IHVybC5tYXRjaCgvKF4uKylcXFsoXFxkKyldLylcclxuICAgICAgICBzdXBlcihcclxuICAgICAgICAgICAgKG1hdGNoID8gbWF0Y2hbMV0gOiBgaW52YWxpZC1pbWFnZS1zcmNbJHt1cmx9XWApIGFzIE5kVVJMU3RyLFxyXG4gICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgTkRCLnBvc2l0aXZlKGBMb2FkZWQgc3ByaXRlICR7dGhpcy51cmx9LmApXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRGcmFtZURhdGEoKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IDFcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc3QoJ2xvYWQnLCBudWxsKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgTkRCLm5lZ2F0aXZlKGBFcnJvciBsb2FkaW5nIHNwcml0ZSAke3RoaXMudXJsfS5gKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXN0KCdlcnJvcicsIG51bGwpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBtYXRjaFsxXVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignSG93IGRpZCB5b3UgZXZlbiBnZXQgaGVyZT8nKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMl0pIHRoaXMuZnJhbWVDb3VudCA9IHBhcnNlSW50KG1hdGNoWzJdKVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBOZFVybFNwcml0ZVN0clJlZ2V4ID0gLyheLispXFxbKFswLTldKyldJC9cclxuXHJcbiAgICBzdGF0aWMgaXNOZFVybFNwcml0ZVN0cihzdHI6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBOZFNwcml0ZS5OZFVybFNwcml0ZVN0clJlZ2V4LnRlc3Qoc3RyKVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IE5kTm9kZVN0eWxlc01vZGVsIGZyb20gJy4uL2NsYXNzZXMvTmROb2RlU3R5bGVzTW9kZWwnO1xyXG5pbXBvcnQgTmRTdHlsZXNQcm9wZXJ0eSBmcm9tICcuLi9jbGFzc2VzL05kTm9kZVN0eWxlUHJvcGVydHknO1xyXG5pbXBvcnQge05kU2l6ZSwgTmRTaXplQXJyLCBOZFVybFNwcml0ZVN0ciwgTmRVUkxTdHJ9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOZEltYWdlIGZyb20gJy4uLy4uL2NsYXNzZXMvTmRJbWFnZSc7XHJcbmltcG9ydCBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQgZnJvbSAnLi4vY2xhc3Nlcy9OZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQnO1xyXG5pbXBvcnQge05kTnVtZXJpY0FycmF5MmR9IGZyb20gJy4uLy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOZFNwcml0ZSBmcm9tICcuLi8uLi9jbGFzc2VzL05kU3ByaXRlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kTW9kU3ByaXRlIGV4dGVuZHMgTmROb2RlU3R5bGVzTW9kZWwge1xyXG4gICAgc3JjID0gbmV3IE5kU3R5bGVzUHJvcGVydHk8TmRJbWFnZSB8IE5kU3ByaXRlIHwgZmFsc2UsIE5kVXJsU3ByaXRlU3RyIHwgTmRVUkxTdHIgfCBmYWxzZSwgTmRVUkxTdHIgfCBOZFVybFNwcml0ZVN0cj4oXHJcbiAgICAgICAgMSxcclxuICAgICAgICBmYWxzZSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID8gdmFsdWUudXJsIDogdmFsdWVcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSwgbm9kZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoTmRTcHJpdGUuaXNOZFVybFNwcml0ZVN0cih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IG5ldyBOZFNwcml0ZSh2YWx1ZSBhcyBOZFVybFNwcml0ZVN0cikubG9hZCgpIGFzIE5kU3ByaXRlXHJcbiAgICAgICAgICAgICAgICBzcHJpdGUuZnBzID0gdGhpcy5mcHMucHJvdGVjdGVkVmFsdWVcclxuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVzLnNldChzcHJpdGUuZnJhbWVzLCBub2RlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNwcml0ZVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZXMuc2V0KDAsIG5vZGUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZwcy5zZXQoMCwgbm9kZSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTmRJbWFnZSh2YWx1ZSBhcyBOZFVSTFN0cikubG9hZCgpIGFzIE5kSW1hZ2VcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIClcclxuICAgIGZyYW1lcyA9IG5ldyBOZFN0eWxlc1Byb3BlcnR5PG51bWJlciwgbnVtYmVyLCBudW1iZXI+KFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgMCxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG4gICAgZnBzID0gbmV3IE5kU3R5bGVzUHJvcGVydHk8bnVtYmVyLCBudW1iZXIsIG51bWJlcj4oXHJcbiAgICAgICAgMCxcclxuICAgICAgICAxMixcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwXHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgICAgIH1cclxuICAgIClcclxuICAgIHNpemUgPSBuZXcgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkPE5kU2l6ZUFyciwgTmRTaXplQXJyLCBOZFNpemVBcnIgfCBOZFNpemUsIE5kTnVtZXJpY0FycmF5MmQ+KFxyXG4gICAgICAgIDEsXHJcbiAgICAgICAgWydhdXRvJywgJ2F1dG8nXSxcclxuICAgICAgICAoY3VycmVudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gWy4uLmN1cnJlbnRdXHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWVdXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWy4uLnZhbHVlXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICAoY3VycmVudCwgdmFsdWUsIHNldFN0YXJ0LCBzZXRFbmQpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBjdXJyZW50Lm1hcCgodiwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodiA9PT0gJ2F1dG8nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNyYy5wcm90ZWN0ZWRWYWx1ZSkgcmV0dXJuIDBcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5ID09PSAwID8gdGhpcy5zcmMucHJvdGVjdGVkVmFsdWUud2lkdGggOiB0aGlzLnNyYy5wcm90ZWN0ZWRWYWx1ZS5oZWlnaHRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkgYXMgTmROdW1lcmljQXJyYXkyZFxyXG4gICAgICAgICAgICBzZXRTdGFydChzdGFydClcclxuICAgICAgICAgICAgbGV0IGVuZFZhbHVlOiBOZFNpemVBcnIgPSB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHZhbHVlID09PSAnYXV0bycgPyBbdmFsdWUsIHZhbHVlXSA6IHZhbHVlXHJcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IGVuZFZhbHVlLm1hcCgodiwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodiA9PT0gJ2F1dG8nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNyYy5wcm90ZWN0ZWRWYWx1ZSkgcmV0dXJuIDBcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5ID09PSAwID8gdGhpcy5zcmMucHJvdGVjdGVkVmFsdWUud2lkdGggOiB0aGlzLnNyYy5wcm90ZWN0ZWRWYWx1ZS5oZWlnaHRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh2IDwgMCkgdiA9IDBcclxuICAgICAgICAgICAgICAgIHJldHVybiB2XHJcbiAgICAgICAgICAgIH0pIGFzIE5kTnVtZXJpY0FycmF5MmRcclxuICAgICAgICAgICAgc2V0RW5kKGVuZClcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodmFsdWVbMF0gPCAwKSB2YWx1ZVswXSA9IDBcclxuICAgICAgICAgICAgaWYgKHZhbHVlWzFdIDwgMCkgdmFsdWVbMV0gPSAwXHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgICAgIH1cclxuICAgIClcclxufSIsImltcG9ydCBOZE1vZEJhc2UgZnJvbSAnLi9tb2RlbHMvTmRNb2RCYXNlJztcclxuaW1wb3J0IE5kTW9kU3ByaXRlIGZyb20gJy4vbW9kZWxzL05kTW9kU3ByaXRlJztcclxuaW1wb3J0IE5kTm9kZUJveCBmcm9tICcuL2NsYXNzZXMvTmROb2RlQm94JztcclxuaW1wb3J0IE5kTW9kQW5jaG9yIGZyb20gJy4vbW9kZWxzL05kTW9kQW5jaG9yJztcclxuaW1wb3J0IHtOZE51bWVyaWNBcnJheTJkfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgTmRTcHJpdGUgZnJvbSAnLi4vY2xhc3Nlcy9OZFNwcml0ZSc7XHJcbmltcG9ydCBOb2RlIGZyb20gJy4vTm9kZSc7XHJcbmltcG9ydCBOb2RhcyBmcm9tICcuLi8uLi9Ob2Rhcyc7XHJcblxyXG50eXBlIEltYWdlTm9kZU1vZGVsID0gTmRNb2RTcHJpdGUgJiBOZE1vZEFuY2hvciAmIE5kTW9kQmFzZVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcHJpdGUgZXh0ZW5kcyBOb2RlPEltYWdlTm9kZU1vZGVsPiB7XHJcbiAgICBleHBvcnQ6Tm9kZTxJbWFnZU5vZGVNb2RlbD5bJ2V4cG9ydCddICA9IChkYXRlPzpEYXRlKSA9PiB7XHJcbiAgICAgICAgaWYoIWRhdGUpIGRhdGUgPSBuZXcgRGF0ZVxyXG4gICAgICAgIGlmICh0aGlzLmRhdGEuc3JjLnByb3RlY3RlZFZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEuc3JjLnByb3RlY3RlZFZhbHVlLmV4cG9ydChkYXRlKVxyXG4gICAgICAgIH0gZWxzZSByZXR1cm4gbmV3IEhUTUxDYW52YXNFbGVtZW50KClcclxuICAgIH1cclxuICAgIHJlbmRlcjpOb2RlPEltYWdlTm9kZU1vZGVsPlsncmVuZGVyJ10gPSAoY29udGV4dCwgdGltZSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGEuc3JjLnByb3RlY3RlZFZhbHVlKSB7XHJcbiAgICAgICAgICAgIFNwcml0ZS50cmFuc2Zvcm1Db250ZXh0KHRoaXMsIGNvbnRleHQpXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZGF0YS5zcmMucHJvdGVjdGVkVmFsdWUuZXhwb3J0KHRpbWUpXHJcbiAgICAgICAgICAgIGlmKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UocmVzdWx0LCAwLCAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zaXplLnByb3RlY3RlZFZhbHVlWzBdID09PSAnYXV0bycgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc3JjLnByb3RlY3RlZFZhbHVlLndpZHRoIDogdGhpcy5kYXRhLnNpemUucHJvdGVjdGVkVmFsdWVbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNpemUucHJvdGVjdGVkVmFsdWVbMV0gPT09ICdhdXRvJyA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMucHJvdGVjdGVkVmFsdWUuaGVpZ2h0IDogdGhpcy5kYXRhLnNpemUucHJvdGVjdGVkVmFsdWVbMV1cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHRcclxuICAgIH1cclxuICAgIHRlc3Q6IE5vZGU8SW1hZ2VOb2RlTW9kZWw+Wyd0ZXN0J10gPSAoY3Vyc29yOiBOZE51bWVyaWNBcnJheTJkKSA9PiB7XHJcbiAgICAgICAgY3Vyc29yID0gdGhpcy5tYXRyaXgudHJhY2VDdXJzb3JUb0xvY2FsU3BhY2UoWy4uLmN1cnNvcl0pXHJcbiAgICAgICAgaWYgKGN1cnNvclswXSA+IDAgJiYgY3Vyc29yWzBdIDwgdGhpcy5ib3VuZGluZ1JlY3Quc2l6ZVswXSkge1xyXG4gICAgICAgICAgICBpZiAoY3Vyc29yWzFdID4gMCAmJiBjdXJzb3JbMV0gPCB0aGlzLmJvdW5kaW5nUmVjdC5zaXplWzFdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBCb3g6IE5kTm9kZUJveCA9IG5ldyBOZE5vZGVCb3godGhpcywgdGhpcy5DYWNoZSwgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gWy4uLnRoaXMuZGF0YS5wb3NpdGlvbi5wcm90ZWN0ZWRWYWx1ZV0gYXMgTmROdW1lcmljQXJyYXkyZFxyXG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLmRhdGEuc2l6ZS5wcm90ZWN0ZWRWYWx1ZS5tYXAoXHJcbiAgICAgICAgICAgICh2YWx1ZTogbnVtYmVyIHwgJ2F1dG8nLCBrZXk6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnYXV0bycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRhLnNyYy5wcm90ZWN0ZWRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5ID09PSAwID8gdGhpcy5kYXRhLnNyYy5wcm90ZWN0ZWRWYWx1ZS53aWR0aCA6IHRoaXMuZGF0YS5zcmMucHJvdGVjdGVkVmFsdWUuaGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHJldHVybiAwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pIGFzIE5kTnVtZXJpY0FycmF5MmRcclxuICAgICAgICBOb2RlLmFwcGx5Qm94QW5jaG9yKHBvc2l0aW9uLHNpemVbMF0sc2l6ZVsxXSwgdGhpcy5kYXRhKVxyXG4gICAgICAgIHJldHVybiBbcG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdLCBzaXplWzBdLCBzaXplWzFdLCAwLCAwLCAwLCAwXVxyXG4gICAgfSlcclxuXHJcbiAgICBwYXVzZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5kYXRhLnNyYy5wcm90ZWN0ZWRWYWx1ZSBpbnN0YW5jZW9mIE5kU3ByaXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMucHJvdGVjdGVkVmFsdWUucGF1c2UoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwbGF5KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGEuc3JjLnByb3RlY3RlZFZhbHVlIGluc3RhbmNlb2YgTmRTcHJpdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhLnNyYy5wcm90ZWN0ZWRWYWx1ZS5wbGF5KClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoaWQ6c3RyaW5nLCBhcHA6Tm9kYXMpIHtcclxuICAgICAgICBzdXBlcihpZCwgey4uLm5ldyBOZE1vZFNwcml0ZSgpLCAuLi5uZXcgTmRNb2RCYXNlKCksIC4uLm5ldyBOZE1vZEFuY2hvcigpfSwgYXBwKTtcclxuICAgICAgICB0aGlzLndhdGNoKCdzcmMnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuZGF0YS5zcmMucHJvdGVjdGVkVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuZGF0YS5zcmMucHJvdGVjdGVkVmFsdWUubG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Cb3gucHVyZ2UoKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTWF0cml4LnB1cmdlKClcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNyYy5wcm90ZWN0ZWRWYWx1ZS5vbignbG9hZCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Cb3gucHVyZ2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk1hdHJpeC5wdXJnZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy53YXRjaCgnZnJhbWVzJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhLnNyYy5wcm90ZWN0ZWRWYWx1ZSBpbnN0YW5jZW9mIE5kU3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc3JjLnByb3RlY3RlZFZhbHVlLmZyYW1lcyA9IHRoaXMuZGF0YS5mcmFtZXMucHJvdGVjdGVkVmFsdWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy53YXRjaCgnZnBzJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhLnNyYy5wcm90ZWN0ZWRWYWx1ZSBpbnN0YW5jZW9mIE5kU3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc3JjLnByb3RlY3RlZFZhbHVlLmZwcyA9IHRoaXMuZGF0YS5mcHMucHJvdGVjdGVkVmFsdWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy53YXRjaCgnc2l6ZScsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5Cb3gucHVyZ2UoKVxyXG4gICAgICAgICAgICB0aGlzLk1hdHJpeC5wdXJnZSgpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTm9kZSBmcm9tICcuL05vZGUnO1xyXG5pbXBvcnQgTmRCb3ggZnJvbSAnLi4vY2xhc3Nlcy9OZEJveCc7XHJcbmltcG9ydCBOZE1vZGVBc3NlbWJsZXIgZnJvbSAnLi9jbGFzc2VzL05kTW9kZUFzc2VtYmxlcic7XHJcbmltcG9ydCBOZE1vZEJhc2UgZnJvbSAnLi9tb2RlbHMvTmRNb2RCYXNlJztcclxuaW1wb3J0IE5kTW9kRnJlZVN0cm9rZSBmcm9tICcuL21vZGVscy9OZE1vZEZyZWVTdHJva2UnO1xyXG5pbXBvcnQgTmROb2RlU3R5bGVzTW9kZWwgZnJvbSAnLi9jbGFzc2VzL05kTm9kZVN0eWxlc01vZGVsJztcclxuaW1wb3J0IE5kTW9kQmcgZnJvbSAnLi9tb2RlbHMvTmRNb2RCZyc7XHJcbmltcG9ydCBOZE1vZEFuY2hvciBmcm9tICcuL21vZGVscy9OZE1vZEFuY2hvcic7XHJcbmltcG9ydCBOZE5vZGVCb3ggZnJvbSAnLi9jbGFzc2VzL05kTm9kZUJveCc7XHJcbmltcG9ydCB7TmRTZWdtZW50QmV6aWVyfSBmcm9tICcuL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOb2RhcyBmcm9tICcuLi8uLi9Ob2Rhcyc7XHJcbmltcG9ydCBOZE5vZGVFbXBpcmljYWxNb3VzZUNoZWNrZXIgZnJvbSAnLi9jbGFzc2VzL05kTm9kZUVtcGlyaWNhbE1vdXNlQ2hlY2tlcic7XHJcbmltcG9ydCB7TmROdW1lcmljQXJyYXkyZH0gZnJvbSAnLi4vQHR5cGVzL3R5cGVzJztcclxuXHJcbnR5cGUgQXJlYVN0YXRpY01vZGVsID0gTmRNb2RGcmVlU3Ryb2tlICYgTmRNb2RCZyAmIE5kTW9kQW5jaG9yICYgTmRNb2RCYXNlXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFyZWEgZXh0ZW5kcyBOb2RlPEFyZWFTdGF0aWNNb2RlbD4ge1xyXG4gICAgcHJpdmF0ZSB4U2hpZnQgPSAwXHJcbiAgICBwcml2YXRlIHlTaGlmdCA9IDBcclxuICAgIHByaXZhdGUgc3Ryb2tlRml4ID0gMVxyXG4gICAgcHJpdmF0ZSBpbnRlcnBvbGF0aW9uRml4ID0gMFxyXG4gICAgcHJpdmF0ZSBpbnRlcnBvbGF0ZWQgPSBmYWxzZVxyXG4gICAgcHJpdmF0ZSBtb3VzZVRlc3RlcjogTmROb2RlRW1waXJpY2FsTW91c2VDaGVja2VyID0gbmV3IE5kTm9kZUVtcGlyaWNhbE1vdXNlQ2hlY2tlcigpXHJcbiAgICBwcm90ZWN0ZWQgQm94OiBOZE5vZGVCb3ggPSBuZXcgTmROb2RlQm94KHRoaXMsIHRoaXMuQ2FjaGUsICgpID0+IHtcclxuICAgICAgICBsZXQgcG9zaXRpb24gPSBbLi4udGhpcy5kYXRhLnBvc2l0aW9uLnByb3RlY3RlZFZhbHVlXSBhcyBOZE51bWVyaWNBcnJheTJkLFxyXG4gICAgICAgICAgICBtaW5YID0gSW5maW5pdHksXHJcbiAgICAgICAgICAgIG1pblkgPSBJbmZpbml0eSxcclxuICAgICAgICAgICAgbWF4WCA9IC1JbmZpbml0eSxcclxuICAgICAgICAgICAgbWF4WSA9IC1JbmZpbml0eVxyXG5cclxuICAgICAgICB0aGlzLmRhdGEucGF0aC5wcm90ZWN0ZWRWYWx1ZS5mb3JFYWNoKCh2OiBOZFNlZ21lbnRCZXppZXIpID0+IHtcclxuICAgICAgICAgICAgaWYgKHZbMF0gPCBtaW5YKSB7XHJcbiAgICAgICAgICAgICAgICBtaW5YID0gdlswXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2WzJdIDwgbWluWCkge1xyXG4gICAgICAgICAgICAgICAgbWluWCA9IHZbMl1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodlsxXSA8IG1pblkpIHtcclxuICAgICAgICAgICAgICAgIG1pblkgPSB2WzFdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZbM10gPCBtaW5ZKSB7XHJcbiAgICAgICAgICAgICAgICBtaW5ZID0gdlszXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2WzBdID4gbWF4WCkge1xyXG4gICAgICAgICAgICAgICAgbWF4WCA9IHZbMF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodlsyXSA+IG1heFgpIHtcclxuICAgICAgICAgICAgICAgIG1heFggPSB2WzJdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZbMV0gPiBtYXhZKSB7XHJcbiAgICAgICAgICAgICAgICBtYXhZID0gdlsxXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2WzNdID4gbWF4WSkge1xyXG4gICAgICAgICAgICAgICAgbWF4WSA9IHZbM11cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKG1pblggPT09IEluZmluaXR5KSBtaW5YID0gMDtcclxuICAgICAgICBpZiAobWluWSA9PT0gSW5maW5pdHkpIG1pblkgPSAwO1xyXG4gICAgICAgIGlmIChtYXhYID09PSAtSW5maW5pdHkpIG1heFggPSAwO1xyXG4gICAgICAgIGlmIChtYXhZID09PSAtSW5maW5pdHkpIG1heFggPSAwO1xyXG5cclxuICAgICAgICB0aGlzLnhTaGlmdCA9IG1pblg7XHJcbiAgICAgICAgdGhpcy55U2hpZnQgPSBtaW5ZO1xyXG5cclxuICAgICAgICBjb25zdCBmaXggPSB0aGlzLnN0cm9rZUZpeCArIHRoaXMuaW50ZXJwb2xhdGlvbkZpeCxcclxuICAgICAgICAgICAgd2lkdGggPSBNYXRoLmFicyhtYXhYIC0gbWluWCksXHJcbiAgICAgICAgICAgIGhlaWdodCA9IE1hdGguYWJzKG1heFkgLSBtaW5ZKTtcclxuXHJcbiAgICAgICAgTm9kZS5hcHBseUJveEFuY2hvcihwb3NpdGlvbiwgd2lkdGgsIGhlaWdodCwgdGhpcy5kYXRhKVxyXG4gICAgICAgIHJldHVybiBbcG9zaXRpb25bMF0gKyB0aGlzLnhTaGlmdCwgcG9zaXRpb25bMV0gKyB0aGlzLnlTaGlmdCwgd2lkdGgsIGhlaWdodCwgZml4LCBmaXgsIGZpeCwgZml4XSBhcyBQYXJhbWV0ZXJzPE5kQm94Wyd2YWx1ZSddPlxyXG4gICAgfSlcclxuICAgIHByb3RlY3RlZCBBc3NlbWJsZXI6IE5kTW9kZUFzc2VtYmxlciA9IG5ldyBOZE1vZGVBc3NlbWJsZXIoW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ2ZpbGwnLFxyXG4gICAgICAgICAgICByZXNvbHZlcjogKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSh0aGlzLmJvdW5kaW5nUmVjdC5tYXJnaW5bM10gLSB0aGlzLnhTaGlmdCwgdGhpcy5ib3VuZGluZ1JlY3QubWFyZ2luWzBdIC0gdGhpcy55U2hpZnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmludGVycG9sYXRlZCAmJiB0aGlzLmRhdGEuaW50ZXJwb2xhdGlvbi5wcm90ZWN0ZWRWYWx1ZSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBOZE5vZGVTdHlsZXNNb2RlbC5pbnRlcnBvbGF0ZSh0aGlzLmRhdGEucGF0aC5wcm90ZWN0ZWRWYWx1ZSwgdGhpcy5kYXRhLmludGVycG9sYXRpb24ucHJvdGVjdGVkVmFsdWUsIHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcnBvbGF0ZWQgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBOb2RlLmRyYXdGaWxsKHRoaXMuZGF0YSwgY29udGV4dClcclxuICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ2JnJyxcclxuICAgICAgICAgICAgcmVzb2x2ZXI6IChjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHRoaXMuYm91bmRpbmdSZWN0Lm1hcmdpblszXSAtIHRoaXMueFNoaWZ0LCB0aGlzLmJvdW5kaW5nUmVjdC5tYXJnaW5bMF0gLSB0aGlzLnlTaGlmdCk7XHJcbiAgICAgICAgICAgICAgICBOb2RlLmRyYXdQYXRoQmcodGhpcy5kYXRhLCBjb250ZXh0LCB0aGlzLkFzc2VtYmxlcilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnc3Ryb2tlJyxcclxuICAgICAgICAgICAgcmVzb2x2ZXI6IChjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pbnRlcnBvbGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBOZE5vZGVTdHlsZXNNb2RlbC5pbnRlcnBvbGF0ZSh0aGlzLmRhdGEucGF0aC5wcm90ZWN0ZWRWYWx1ZSwgdGhpcy5kYXRhLmludGVycG9sYXRpb24ucHJvdGVjdGVkVmFsdWUsIHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcnBvbGF0ZWQgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSh0aGlzLmJvdW5kaW5nUmVjdC5tYXJnaW5bM10gLSB0aGlzLnhTaGlmdCwgdGhpcy5ib3VuZGluZ1JlY3QubWFyZ2luWzBdIC0gdGhpcy55U2hpZnQpO1xyXG4gICAgICAgICAgICAgICAgTm9kZS5kcmF3U3Ryb2tlKHRoaXMuZGF0YSwgY29udGV4dClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF0pXHJcbiAgICBwcm90ZWN0ZWQgdGVzdDogTm9kZTxBcmVhU3RhdGljTW9kZWw+Wyd0ZXN0J10gPSAoY3Vyc29yKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubW91c2VUZXN0ZXIuY2hlY2sodGhpcy5tYXRyaXgudHJhY2VDdXJzb3JUb0xvY2FsU3BhY2UoWy4uLmN1cnNvcl0pKSA/IHRoaXMgOiBmYWxzZVxyXG4gICAgfVxyXG4gICAgcHJvdGVjdGVkIHJlbmRlcjogTm9kZTxBcmVhU3RhdGljTW9kZWw+WydyZW5kZXInXSA9IChjb250ZXh0KSA9PiB7XHJcbiAgICAgICAgTm9kZS50cmFuc2Zvcm1Db250ZXh0KHRoaXMsIGNvbnRleHQpXHJcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5Bc3NlbWJsZXIuZXhwb3J0KHRoaXMpLCAwLCAwKVxyXG4gICAgICAgIHJldHVybiBjb250ZXh0XHJcbiAgICB9XHJcbiAgICBleHBvcnQ6IE5vZGU8QXJlYVN0YXRpY01vZGVsPlsnZXhwb3J0J10gPSAoKSA9PiB0aGlzLkFzc2VtYmxlci5leHBvcnQodGhpcylcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBhcHA6IE5vZGFzKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIHsuLi5uZXcgTmRNb2RCYXNlKCksIC4uLm5ldyBOZE1vZEZyZWVTdHJva2UodHJ1ZSksIC4uLm5ldyBOZE1vZEFuY2hvcigpLCAuLi5uZXcgTmRNb2RCZ30sIGFwcClcclxuICAgICAgICB0aGlzLndhdGNoKCdwYXRoJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmludGVycG9sYXRlZCA9IGZhbHNlXHJcbiAgICAgICAgICAgIHRoaXMuQm94LnB1cmdlKClcclxuICAgICAgICAgICAgdGhpcy5NYXRyaXgucHVyZ2UoKVxyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci5yZXNpemUoKVxyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci51cGRhdGUoKVxyXG4gICAgICAgICAgICB0aGlzLmludGVycG9sYXRlZCA9IGZhbHNlXHJcbiAgICAgICAgICAgIHRoaXMubW91c2VUZXN0ZXIucmVzaXplKHRoaXMuYm91bmRpbmdSZWN0LnNpemUpXHJcbiAgICAgICAgICAgIHRoaXMubW91c2VUZXN0ZXIucmVkcmF3KHRoaXMuZGF0YSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMud2F0Y2goJ2ludGVycG9sYXRpb24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZXJwb2xhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZXJwb2xhdGlvbkZpeCA9IE1hdGgucm91bmQoNDAgKiB0aGlzLmRhdGEuaW50ZXJwb2xhdGlvbi5wcm90ZWN0ZWRWYWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgpXHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnJlc2l6ZSgpXHJcbiAgICAgICAgICAgIHRoaXMubW91c2VUZXN0ZXIucmVzaXplKHRoaXMuYm91bmRpbmdSZWN0LnNpemUpXHJcbiAgICAgICAgICAgIHRoaXMubW91c2VUZXN0ZXIucmVkcmF3KHRoaXMuZGF0YSlcclxuICAgICAgICAgICAgdGhpcy5pbnRlcnBvbGF0ZWQgPSBmYWxzZVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy53YXRjaChbJ3N0cm9rZVN0eWxlJywgJ3N0cm9rZUNvbG9yJ10sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKVxyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci5yZXNpemUoKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy53YXRjaCgnZmlsbCcsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIudXBkYXRlKCdmaWxsJylcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMud2F0Y2goWydiZycsICdiYWNrZ3JvdW5kU2l6ZScsICdiYWNrZ3JvdW5kUG9zaXRpb24nXSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci51cGRhdGUoJ2JnJylcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMud2F0Y2goJ3N0cm9rZVdpZHRoJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnN0cm9rZUZpeCA9IHRoaXMuZGF0YS5zdHJva2VXaWR0aC5wcm90ZWN0ZWRWYWx1ZVxyXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgocHJldjogbnVtYmVyLCBjdXJyZW50OiBudW1iZXIpID0+IHByZXYgPCBjdXJyZW50ID8gY3VycmVudCA6IHByZXYsIDApIC8gMlxyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpXHJcbiAgICAgICAgICAgIHRoaXMubW91c2VUZXN0ZXIucmVzaXplKHRoaXMuYm91bmRpbmdSZWN0LnNpemUpXHJcbiAgICAgICAgICAgIHRoaXMubW91c2VUZXN0ZXIucmVkcmF3KHRoaXMuZGF0YSlcclxuICAgICAgICAgICAgdGhpcy5Cb3gucHVyZ2UoKVxyXG4gICAgICAgICAgICB0aGlzLk1hdHJpeC5wdXJnZSgpXHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnJlc2l6ZSgpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgTmROb2RlU3R5bGVzTW9kZWwgZnJvbSAnLi4vY2xhc3Nlcy9OZE5vZGVTdHlsZXNNb2RlbCc7XHJcbmltcG9ydCBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQgZnJvbSAnLi4vY2xhc3Nlcy9OZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQnO1xyXG5pbXBvcnQge05kTnVtZXJpY0FycmF5MmR9IGZyb20gJy4uLy4uL0B0eXBlcy90eXBlcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZE1vZFNpemUgZXh0ZW5kcyBOZE5vZGVTdHlsZXNNb2RlbCB7XHJcbiAgICBzaXplID0gbmV3IE5kTm9kZVN0eWxlUHJvcGVydHlBbmltYXRlZDxOZE51bWVyaWNBcnJheTJkLCBOZE51bWVyaWNBcnJheTJkLCBOZE51bWVyaWNBcnJheTJkIHwgbnVtYmVyLCBOZE51bWVyaWNBcnJheTJkPihcclxuICAgICAgICAxLFxyXG4gICAgICAgIFswLCAwXSxcclxuICAgICAgICAoY3VycmVudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gWy4uLmN1cnJlbnRdXHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWVdXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUubWFwKHYgPT4gdiA8IDAgPyAwIDogdikgYXMgTmROdW1lcmljQXJyYXkyZFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKGN1cnJlbnQsIHZhbHVlLCBzZXRTdGFydCwgc2V0RW5kKSA9PiB7XHJcbiAgICAgICAgICAgIHNldFN0YXJ0KFsuLi5jdXJyZW50XSlcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMFxyXG4gICAgICAgICAgICAgICAgc2V0RW5kKFt2YWx1ZSwgdmFsdWVdKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2V0RW5kKHZhbHVlLm1hcCh2ID0+IHYgPCAwID8gMCA6IHYpIGFzIE5kTnVtZXJpY0FycmF5MmQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9XHJcbiAgICApXHJcbn0iLCJpbXBvcnQgTmROb2RlU3R5bGVzTW9kZWwgZnJvbSAnLi4vY2xhc3Nlcy9OZE5vZGVTdHlsZXNNb2RlbCc7XHJcbmltcG9ydCBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQgZnJvbSAnLi4vY2xhc3Nlcy9OZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQnO1xyXG5pbXBvcnQgTmRTdHlsZXNQcm9wZXJ0eSBmcm9tICcuLi9jbGFzc2VzL05kTm9kZVN0eWxlUHJvcGVydHknO1xyXG5pbXBvcnQge05kQXJyQ29sb3IsIE5kQ29sb3JBcnJCb3gsIE5kQ29sb3JCb3gsIE5kQ29sb3JTdHIsIE5kU3Ryb2tlU3R5bGUsIE5kU3Ryb2tlV2lkdGhCb3h9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZE1vZFJlY3QgZXh0ZW5kcyBOZE5vZGVTdHlsZXNNb2RlbCB7XHJcbiAgICByYWRpdXMgPSBuZXcgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkPFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxyXG4gICAgICAgIFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxyXG4gICAgICAgIFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdIHwgbnVtYmVyLFxyXG4gICAgICAgIFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdPihcclxuICAgICAgICAwLFxyXG4gICAgICAgIFswLCAwLCAwLCAwXSxcclxuICAgICAgICAoY3VycmVudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gWy4uLmN1cnJlbnRdXHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAodmFsdWUgPCAwID8gWzAsIDAsIDAsIDBdIDogW3ZhbHVlLCB2YWx1ZSwgdmFsdWUsIHZhbHVlXSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5tYXAodiA9PiB2IDwgMCA/IDAgOiB2KSBhcyBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICAoY3VycmVudCwgdmFsdWUsIHNldFN0YXJ0LCBzZXRFbmQpID0+IHtcclxuICAgICAgICAgICAgc2V0U3RhcnQoWy4uLmN1cnJlbnRdKVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgc2V0RW5kKHZhbHVlIDwgMCA/IFswLCAwLCAwLCAwXSA6IFt2YWx1ZSwgdmFsdWUsIHZhbHVlLCB2YWx1ZV0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZXRFbmQodmFsdWUubWFwKHYgPT4gdiA8IDAgPyAwIDogdikgYXMgW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICBzdHJva2VDb2xvciA9IG5ldyBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQ8TmRDb2xvckJveCxcclxuICAgICAgICBOZENvbG9yQm94LFxyXG4gICAgICAgIE5kQ29sb3JCb3ggfCBOZENvbG9yQXJyQm94IHwgTmRBcnJDb2xvciB8IE5kQ29sb3JTdHIsXHJcbiAgICAgICAgTmRDb2xvckFyckJveD4oXHJcbiAgICAgICAgMSxcclxuICAgICAgICBbJ3JnYmEoMCwwLDAsMSknLCAncmdiYSgwLDAsMCwxKScsICdyZ2JhKDAsMCwwLDEpJywgJ3JnYmEoMCwwLDAsMSknXSxcclxuICAgICAgICAoY3VycmVudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gWy4uLmN1cnJlbnRdXHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gTmRNb2RSZWN0LmFycmF5VG9Db2xvcihcclxuICAgICAgICAgICAgICAgICAgICBOZE1vZFJlY3Qubm9ybWFsaXplQ29sb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5kTW9kUmVjdC5jb2xvclRvQXJyYXkodmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWUsIHZhbHVlLCB2YWx1ZV1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWVbMF0gPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgTmRNb2RSZWN0LmFycmF5VG9Db2xvcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgTmRNb2RSZWN0Lm5vcm1hbGl6ZUNvbG9yKHZhbHVlIGFzIE5kQXJyQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWUsIHZhbHVlLCB2YWx1ZV1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbMF0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh2YWx1ZSBhcyBOZENvbG9yQm94KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdiA9PiBOZE1vZFJlY3QuYXJyYXlUb0NvbG9yKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5kTW9kUmVjdC5ub3JtYWxpemVDb2xvcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmRNb2RSZWN0LmNvbG9yVG9BcnJheSh2KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgKSBhcyBOZENvbG9yQm94XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdiA9PiBOZE1vZFJlY3QuYXJyYXlUb0NvbG9yKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5kTW9kUmVjdC5ub3JtYWxpemVDb2xvcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdiBhcyBOZEFyckNvbG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApIGFzIE5kQ29sb3JCb3hcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKFxyXG4gICAgICAgICAgICBjdXJyZW50LFxyXG4gICAgICAgICAgICB2YWx1ZSxcclxuICAgICAgICAgICAgc2V0U3RhcnQsXHJcbiAgICAgICAgICAgIHNldEVuZCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRTdGFydChjdXJyZW50Lm1hcCh2ID0+IE5kTW9kUmVjdC5jb2xvclRvQXJyYXkodikpIGFzIE5kQ29sb3JBcnJCb3gpXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsID0gTmRNb2RSZWN0Lm5vcm1hbGl6ZUNvbG9yKE5kTW9kUmVjdC5jb2xvclRvQXJyYXkodmFsdWUpKVxyXG4gICAgICAgICAgICAgICAgc2V0RW5kKFt2YWwsIHZhbCwgdmFsLCB2YWxdKVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVswXSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2YWwgPSBOZE1vZFJlY3Qubm9ybWFsaXplQ29sb3IodmFsdWUgYXMgTmRBcnJDb2xvcilcclxuICAgICAgICAgICAgICAgIHNldEVuZChbdmFsLCB2YWwsIHZhbCwgdmFsXSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbMF0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0RW5kKCh2YWx1ZSBhcyBOZENvbG9yQm94KS5tYXAodiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBOZE1vZFJlY3Qubm9ybWFsaXplQ29sb3IoTmRNb2RSZWN0LmNvbG9yVG9BcnJheSh2KSlcclxuICAgICAgICAgICAgICAgICAgICB9KSBhcyBOZENvbG9yQXJyQm94KVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRFbmQoKHZhbHVlIGFzIE5kQ29sb3JBcnJCb3gpLm1hcCh2ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5OZE1vZFJlY3Qubm9ybWFsaXplQ29sb3IodildXHJcbiAgICAgICAgICAgICAgICAgICAgfSkgYXMgTmRDb2xvckFyckJveClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgICAgIH1cclxuICAgIClcclxuICAgIHN0cm9rZVdpZHRoID0gbmV3IE5kTm9kZVN0eWxlUHJvcGVydHlBbmltYXRlZDxOZFN0cm9rZVdpZHRoQm94LFxyXG4gICAgICAgIE5kU3Ryb2tlV2lkdGhCb3gsXHJcbiAgICAgICAgTmRTdHJva2VXaWR0aEJveCB8IG51bWJlcixcclxuICAgICAgICBOZFN0cm9rZVdpZHRoQm94PihcclxuICAgICAgICAxLFxyXG4gICAgICAgIFsxLCAxLCAxLCAxXSxcclxuICAgICAgICAoY3VycmVudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gWy4uLmN1cnJlbnRdXHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA8IDAgPyBbMCwgMCwgMCwgMF0gOiBbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUubWFwKHYgPT4gdiA8IDAgPyAwIDogdikgYXMgW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKGN1cnJlbnQsIHZhbHVlLCBzZXRTdGFydCwgc2V0RW5kKSA9PiB7XHJcbiAgICAgICAgICAgIHNldFN0YXJ0KFsuLi5jdXJyZW50XSlcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIHNldEVuZCh2YWx1ZSA8IDAgPyBbMCwgMCwgMCwgMF0gOiBbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2V0U3RhcnQodmFsdWUubWFwKHYgPT4gdiA8IDAgPyAwIDogdikgYXMgW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICBzdHJva2VTdHlsZSA9IG5ldyBOZFN0eWxlc1Byb3BlcnR5PFtOZFN0cm9rZVN0eWxlLCBOZFN0cm9rZVN0eWxlLCBOZFN0cm9rZVN0eWxlLCBOZFN0cm9rZVN0eWxlXSxcclxuICAgICAgICBbTmRTdHJva2VTdHlsZSwgTmRTdHJva2VTdHlsZSwgTmRTdHJva2VTdHlsZSwgTmRTdHJva2VTdHlsZV0sXHJcbiAgICAgICAgW05kU3Ryb2tlU3R5bGUsIE5kU3Ryb2tlU3R5bGUsIE5kU3Ryb2tlU3R5bGUsIE5kU3Ryb2tlU3R5bGVdIHwgTmRTdHJva2VTdHlsZT4oXHJcbiAgICAgICAgMSxcclxuICAgICAgICBbWzBdLCBbMF0sIFswXSwgWzBdXSxcclxuICAgICAgICAoY3VycmVudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudC5tYXAodiA9PiBbLi4udl0pIGFzIFtOZFN0cm9rZVN0eWxlLCBOZFN0cm9rZVN0eWxlLCBOZFN0cm9rZVN0eWxlLCBOZFN0cm9rZVN0eWxlXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbMF0gPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlLCB2YWx1ZSwgdmFsdWUsIHZhbHVlXSBhcyBbTmRTdHJva2VTdHlsZSwgTmRTdHJva2VTdHlsZSwgTmRTdHJva2VTdHlsZSwgTmRTdHJva2VTdHlsZV1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAodmFsdWUpLm1hcCh2ID0+IFsuLi52IGFzIE5kU3Ryb2tlU3R5bGVdKSBhcyBbTmRTdHJva2VTdHlsZSwgTmRTdHJva2VTdHlsZSwgTmRTdHJva2VTdHlsZSwgTmRTdHJva2VTdHlsZV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIClcclxufSIsImltcG9ydCBOZE1vZEFuY2hvciBmcm9tICcuL21vZGVscy9OZE1vZEFuY2hvcic7XHJcbmltcG9ydCBOZE1vZEJhc2UgZnJvbSAnLi9tb2RlbHMvTmRNb2RCYXNlJztcclxuaW1wb3J0IE5kTW9kZUFzc2VtYmxlciBmcm9tICcuL2NsYXNzZXMvTmRNb2RlQXNzZW1ibGVyJztcclxuaW1wb3J0IE5kTm9kZUJveCBmcm9tICcuL2NsYXNzZXMvTmROb2RlQm94JztcclxuaW1wb3J0IE5kTW9kU2l6ZSBmcm9tICcuL21vZGVscy9OZE1vZFNpemUnO1xyXG5pbXBvcnQgTmRNb2RSZWN0IGZyb20gJy4vbW9kZWxzL05kTW9kUmVjdCc7XHJcbmltcG9ydCB7TmRDb2xvclN0ciwgTmRQYXRoQmV6aWVyLCBOZFNlZ21lbnRCZXppZXIsIE5kU3Ryb2tlV2lkdGhCb3h9IGZyb20gJy4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5kTW9kQmcgZnJvbSAnLi9tb2RlbHMvTmRNb2RCZyc7XHJcbmltcG9ydCB7TmROdW1lcmljQXJyYXkyZH0gZnJvbSAnLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5vZGUgZnJvbSAnLi9Ob2RlJztcclxuaW1wb3J0IE5vZGFzIGZyb20gJy4uLy4uL05vZGFzJztcclxuXHJcbnR5cGUgUmVjdE5vZGVNb2RlbCA9IE5kTW9kUmVjdCAmIE5kTW9kU2l6ZSAmIE5kTW9kQW5jaG9yICYgTmRNb2RCZyAmIE5kTW9kQmFzZVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWN0YW5nbGUgZXh0ZW5kcyBOb2RlPFJlY3ROb2RlTW9kZWw+IHtcclxuICAgIHByaXZhdGUgc3Ryb2tlRml4OiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXVxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBwYXRoOiAoKSA9PiBOZFBhdGhCZXppZXJcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgcHVyZ2VQYXRoOiAoKSA9PiB2b2lkXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IENJUkNMRUNPTlNUID0gMC41NTIyODQ3NDk4XHJcbiAgICBwcm90ZWN0ZWQgQXNzZW1ibGVyOiBOZE1vZGVBc3NlbWJsZXIgPSBuZXcgTmRNb2RlQXNzZW1ibGVyKFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdmaWxsJyxcclxuICAgICAgICAgICAgcmVzb2x2ZXI6IChjb250ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSh0aGlzLnN0cm9rZUZpeFszXSwgdGhpcy5zdHJva2VGaXhbMF0pXHJcbiAgICAgICAgICAgICAgICBSZWN0YW5nbGUucmVnaXN0ZXJQYXRoKHRoaXMucGF0aCgpLCBjb250ZXh0LCB0cnVlKVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmRhdGEuZmlsbC5wcm90ZWN0ZWRWYWx1ZVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnYmcnLFxyXG4gICAgICAgICAgICByZXNvbHZlcjogKGNvbnRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHRoaXMuc3Ryb2tlRml4WzNdLCB0aGlzLnN0cm9rZUZpeFswXSlcclxuICAgICAgICAgICAgICAgIFJlY3RhbmdsZS5jbGlwQmV6aWVyUGF0aCh0aGlzLnBhdGgoKSwgY29udGV4dClcclxuICAgICAgICAgICAgICAgIFJlY3RhbmdsZS5kcmF3QmcodGhpcy5kYXRhLCBjb250ZXh0LCB0aGlzLkFzc2VtYmxlcilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnc3Ryb2tlJyxcclxuICAgICAgICAgICAgcmVzb2x2ZXI6IChjb250ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSh0aGlzLnN0cm9rZUZpeFszXSwgdGhpcy5zdHJva2VGaXhbMF0pXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdSZWN0U3Ryb2tlKGNvbnRleHQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdKVxyXG4gICAgZXhwb3J0OiBOb2RlPFJlY3ROb2RlTW9kZWw+WydleHBvcnQnXSA9ICgpID0+IHRoaXMuQXNzZW1ibGVyLmV4cG9ydCh0aGlzKTtcclxuICAgIHByb3RlY3RlZCB0ZXN0OiBOb2RlPFJlY3ROb2RlTW9kZWw+Wyd0ZXN0J10gPSAoY3Vyc29yOiBOZE51bWVyaWNBcnJheTJkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgW3gseV0gPSB0aGlzLk1hdHJpeC52YWx1ZS50cmFjZUN1cnNvclRvTG9jYWxTcGFjZShbLi4uY3Vyc29yXSlcclxuICAgICAgICBpZiAoeCA8IHRoaXMuQm94LnZhbHVlLnNwcml0ZS5zaXplWzBdICYmIHggPiAwICYmIHkgPCB0aGlzLkJveC52YWx1ZS5zcHJpdGUuc2l6ZVsxXSAmJiB5ID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCByZW5kZXI6IE5vZGU8UmVjdE5vZGVNb2RlbD5bJ3JlbmRlciddID0gKGNvbnRleHQpID0+IHtcclxuICAgICAgICBSZWN0YW5nbGUudHJhbnNmb3JtQ29udGV4dCh0aGlzLCBjb250ZXh0KVxyXG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuQXNzZW1ibGVyLmV4cG9ydCh0aGlzKSwgMCwgMClcclxuICAgICAgICByZXR1cm4gY29udGV4dFxyXG4gICAgfVxyXG4gICAgcHJvdGVjdGVkIEJveDogTmROb2RlQm94ID0gbmV3IE5kTm9kZUJveCh0aGlzLCB0aGlzLkNhY2hlLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBbLi4udGhpcy5kYXRhLnBvc2l0aW9uLnByb3RlY3RlZFZhbHVlXSBhcyBOZE51bWVyaWNBcnJheTJkXHJcbiAgICAgICAgTm9kZS5hcHBseUJveEFuY2hvcihwb3NpdGlvbiwgdGhpcy5kYXRhLnNpemUucHJvdGVjdGVkVmFsdWVbMF0sIHRoaXMuZGF0YS5zaXplLnByb3RlY3RlZFZhbHVlWzFdLCB0aGlzLmRhdGEpXHJcbiAgICAgICAgcmV0dXJuIFtwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHRoaXMuZGF0YS5zaXplLnByb3RlY3RlZFZhbHVlWzBdLCB0aGlzLmRhdGEuc2l6ZS5wcm90ZWN0ZWRWYWx1ZVsxXSwgdGhpcy5zdHJva2VGaXhbMF0sIHRoaXMuc3Ryb2tlRml4WzFdLCB0aGlzLnN0cm9rZUZpeFsyXSwgdGhpcy5zdHJva2VGaXhbM11dXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBhcHA6IE5vZGFzKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIHsuLi5uZXcgTmRNb2RSZWN0KCksIC4uLm5ldyBOZE1vZFNpemUoKSwgLi4ubmV3IE5kTW9kQW5jaG9yKCksIC4uLm5ldyBOZE1vZEJnKCksIC4uLm5ldyBOZE1vZEJhc2UoKX0sIGFwcCk7XHJcbiAgICAgICAgdGhpcy5zdHJva2VGaXggPSBbLi4udGhpcy5kYXRhLnN0cm9rZVdpZHRoLnByb3RlY3RlZFZhbHVlXSBhcyBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXVxyXG4gICAgICAgIGNvbnN0IHtnZXR0ZXIsIHB1cmdlfSA9IHRoaXMuQ2FjaGUucmVnaXN0ZXI8TmRQYXRoQmV6aWVyPigncGF0aCcsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgW3dpZHRoLCBoZWlnaHRdID0gdGhpcy5kYXRhLnNpemUucHJvdGVjdGVkVmFsdWVcclxuICAgICAgICAgICAgY29uc3QgW3RsLCB0ciwgYnIsIGJsXSA9IHRoaXMuZGF0YS5yYWRpdXMucHJvdGVjdGVkVmFsdWUubWFwKCh2OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh2ID4gd2lkdGggLyAyKSB2ID0gd2lkdGggLyAyXHJcbiAgICAgICAgICAgICAgICBpZiAodiA+IGhlaWdodCAvIDIpIHYgPSBoZWlnaHQgLyAyXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdlxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBpZiAod2lkdGggJiYgaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQ6IE5kUGF0aEJlemllciA9IFtdXHJcbiAgICAgICAgICAgICAgICBpZiAodGwpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsIHRsLC8vcDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGwsIDAsIC8vcDJcclxuICAgICAgICAgICAgICAgICAgICAgICAgMCwgdGwgKiB0aGlzLkNJUkNMRUNPTlNULC8vY3AxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRsIC0gdGwgKiB0aGlzLkNJUkNMRUNPTlNULCAwIC8vY3AyXHJcbiAgICAgICAgICAgICAgICAgICAgXSlcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFswXVsyXSwgcmVzdWx0WzBdWzNdLC8vcDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGgsIDAsIC8vcDJcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0WzBdWzJdLCByZXN1bHRbMF1bM10sIC8vY3AxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLCAwIC8vY3AyXHJcbiAgICAgICAgICAgICAgICAgICAgXSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAwLCAwLC8vcDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGgsIDAsIC8vcDJcclxuICAgICAgICAgICAgICAgICAgICAgICAgMCwgMCwgLy9jcDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGgsIDAgLy9jcDJcclxuICAgICAgICAgICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0cikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bMl0gLT0gdHJcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzZdIC09IHRyXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCAtIHRyLCAwLC8vcDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGgsIHRyLCAvL3AyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoIC0gdHIgKyAodHIgKiB0aGlzLkNJUkNMRUNPTlNUKSwgMCwgLy9jcDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGgsIHRyIC0gdHIgKiB0aGlzLkNJUkNMRUNPTlNULy9jcDJcclxuICAgICAgICAgICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGgsIHRyLCAvL3AxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLCBoZWlnaHQsIC8vcDJcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGgsIHRyLCAvL2NwMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCwgaGVpZ2h0Ly9jcDJcclxuICAgICAgICAgICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLCAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCwgaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCwgMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGgsIGhlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgIF0pXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVszXSAtPSBiclxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bN10gLT0gYnJcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLCBoZWlnaHQgLSBiciwgLy9wMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCAtIGJyLCBoZWlnaHQsIC8vcDJcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGgsIGhlaWdodCAtIGJyICsgKGJyICogdGhpcy5DSVJDTEVDT05TVCksIC8vY3AxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoIC0gYnIgKyAoYnIgKiB0aGlzLkNJUkNMRUNPTlNUKSwgaGVpZ2h0IC8vY3AyXHJcbiAgICAgICAgICAgICAgICAgICAgXSlcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoIC0gYnIsIGhlaWdodCwvL3AxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsIGhlaWdodCwvL3AyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoIC0gYnIsIGhlaWdodCwvL2NwMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAwLCBoZWlnaHQvL2NwMlxyXG4gICAgICAgICAgICAgICAgICAgIF0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGgsIGhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgMCwgaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCwgaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAwLCBoZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVsyXSArPSBibFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bNl0gKz0gYmxcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsLCBoZWlnaHQsLy9wMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAwLCBoZWlnaHQgLSBibCwvL3AyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsIC0gYmwgKiB0aGlzLkNJUkNMRUNPTlNULCBoZWlnaHQsIC8vY3AxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsIGhlaWdodCAtIGJsICsgYmwgKiB0aGlzLkNJUkNMRUNPTlNUXHJcbiAgICAgICAgICAgICAgICAgICAgXSlcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChcclxuICAgICAgICAgICAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgaGVpZ2h0IC0gYmwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbMF1bMF0sIHJlc3VsdFswXVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIGhlaWdodCAtIGJsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0WzBdWzBdLCByZXN1bHRbMF1bMV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAwLCBoZWlnaHQgLSBibCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0WzBdWzBdLCByZXN1bHRbMF1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsIGhlaWdodCAtIGJsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbMF1bMF0sIHJlc3VsdFswXVsxXVxyXG4gICAgICAgICAgICAgICAgICAgIF0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLnBhdGggPSBnZXR0ZXJcclxuICAgICAgICB0aGlzLnB1cmdlUGF0aCA9IHB1cmdlXHJcbiAgICAgICAgdGhpcy53YXRjaCgnc2l6ZScsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIucmVzaXplKClcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIudXBkYXRlKCdmaWxsJylcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIudXBkYXRlKCdiZycpXHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJylcclxuICAgICAgICAgICAgdGhpcy5NYXRyaXgucHVyZ2UoKVxyXG4gICAgICAgICAgICB0aGlzLkJveC5wdXJnZSgpXHJcbiAgICAgICAgICAgIHRoaXMucHVyZ2VQYXRoKClcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMud2F0Y2goJ3JhZGl1cycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIudXBkYXRlKCdmaWxsJylcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIudXBkYXRlKCdiZycpXHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJylcclxuICAgICAgICAgICAgdGhpcy5wdXJnZVBhdGgoKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy53YXRjaCgnc3Ryb2tlV2lkdGgnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc3Ryb2tlRml4ID0gWy4uLnRoaXMuZGF0YS5zdHJva2VXaWR0aC5wcm90ZWN0ZWRWYWx1ZV0gYXMgTmRTdHJva2VXaWR0aEJveFxyXG4gICAgICAgICAgICB0aGlzLkJveC5wdXJnZSgpXHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnJlc2l6ZSgpXHJcbiAgICAgICAgICAgIHRoaXMuTWF0cml4LnB1cmdlKClcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIudXBkYXRlKCdmaWxsJylcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIudXBkYXRlKCdiZycpXHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJylcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMud2F0Y2goWydiZycsICdiYWNrZ3JvdW5kU2l6ZScsICdiYWNrZ3JvdW5kUG9zaXRpb24nXSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci51cGRhdGUoJ2JnJylcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMud2F0Y2goWydzdHJva2VDb2xvcicsICdzdHJva2VTdHlsZSddLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJylcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMud2F0Y2goJ2ZpbGwnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBkcmF3Q29ybmVyKHJlY3RTZWdtZW50OiBudW1iZXIsIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgc2VnbWVudDogTmRTZWdtZW50QmV6aWVyLCBjb2xvcjE6IE5kQ29sb3JTdHIsIGNvbG9yMjogTmRDb2xvclN0ciwgd2lkdGgxOiBudW1iZXIsIHdpZHRoMjogbnVtYmVyKSB7XHJcbiAgICAgICAgY29udGV4dC5zYXZlKClcclxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpXHJcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBNYXRoLm1heCh3aWR0aDEsIHdpZHRoMilcclxuICAgICAgICBsZXQgW3B4MSwgcHkxLCBweDIsIHB5MiwgY3B4MSwgY3B5MSwgY3B4MiwgY3B5Ml0gPSBzZWdtZW50XHJcbiAgICAgICAgaWYgKHJlY3RTZWdtZW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgIGlmICh3aWR0aDEgPCB3aWR0aDIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpZmYgPSAod2lkdGgyIC0gd2lkdGgxKSAvIDJcclxuICAgICAgICAgICAgICAgIHB4MSArPSBkaWZmXHJcbiAgICAgICAgICAgICAgICBjcHgxICs9IGRpZmZcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAod2lkdGgxID4gd2lkdGgyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gKHdpZHRoMSAtIHdpZHRoMikgLyAyXHJcbiAgICAgICAgICAgICAgICBweTIgKz0gZGlmZlxyXG4gICAgICAgICAgICAgICAgY3B5MiArPSBkaWZmXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlY3RTZWdtZW50ID09IDEpIHtcclxuICAgICAgICAgICAgaWYgKHdpZHRoMSA8IHdpZHRoMikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGlmZiA9ICh3aWR0aDIgLSB3aWR0aDEpIC8gMlxyXG4gICAgICAgICAgICAgICAgcHkxICs9IGRpZmZcclxuICAgICAgICAgICAgICAgIGNweTEgKz0gZGlmZlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh3aWR0aDIgPCB3aWR0aDEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpZmYgPSAod2lkdGgxIC0gd2lkdGgyKSAvIDJcclxuICAgICAgICAgICAgICAgIHB4MiAtPSBkaWZmXHJcbiAgICAgICAgICAgICAgICBjcHgyIC09IGRpZmZcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVjdFNlZ21lbnQgPT0gMikge1xyXG4gICAgICAgICAgICBpZiAod2lkdGgxIDwgd2lkdGgyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gKHdpZHRoMiAtIHdpZHRoMSkgLyAyXHJcbiAgICAgICAgICAgICAgICBweDEgLT0gZGlmZlxyXG4gICAgICAgICAgICAgICAgY3B4MSAtPSBkaWZmXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHdpZHRoMSA+IHdpZHRoMikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGlmZiA9ICh3aWR0aDEgLSB3aWR0aDIpIC8gMlxyXG4gICAgICAgICAgICAgICAgcHkyIC09IGRpZmZcclxuICAgICAgICAgICAgICAgIGNweTIgLT0gZGlmZlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZWN0U2VnbWVudCA9PSAzKSB7XHJcbiAgICAgICAgICAgIGlmICh3aWR0aDIgPCB3aWR0aDEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpZmYgPSAod2lkdGgxIC0gd2lkdGgyKSAvIDJcclxuICAgICAgICAgICAgICAgIHB4MiArPSBkaWZmXHJcbiAgICAgICAgICAgICAgICBjcHgyICs9IGRpZmZcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAod2lkdGgxIDwgd2lkdGgyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gKHdpZHRoMiAtIHdpZHRoMSkgLyAyXHJcbiAgICAgICAgICAgICAgICBweTEgLT0gZGlmZlxyXG4gICAgICAgICAgICAgICAgY3B5MSAtPSBkaWZmXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29udGV4dC5tb3ZlVG8ocHgxLCBweTEpXHJcbiAgICAgICAgaWYgKGNvbG9yMSAhPT0gY29sb3IyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdyYWQgPSBjb250ZXh0LmNyZWF0ZUNvbmljR3JhZGllbnQoXHJcbiAgICAgICAgICAgICAgICAtTWF0aC5QSSAtICgxIC8gMTgwKSArIChNYXRoLlBJIC8gMiAqIHJlY3RTZWdtZW50KSxcclxuICAgICAgICAgICAgICAgIHJlY3RTZWdtZW50ICUgMiA/IHB4MSA6IHB4MixcclxuICAgICAgICAgICAgICAgIHJlY3RTZWdtZW50ICUgMiA/IHB5MiA6IHB5MVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIGdyYWQuYWRkQ29sb3JTdG9wKDAsIGNvbG9yMSlcclxuICAgICAgICAgICAgZ3JhZC5hZGRDb2xvclN0b3AoLjI1LCBjb2xvcjIpXHJcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBncmFkXHJcbiAgICAgICAgfSBlbHNlIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBjb2xvcjFcclxuICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oY3B4MSwgY3B5MSwgY3B4MiwgY3B5MiwgcHgyLCBweTIpXHJcbiAgICAgICAgY29udGV4dC5zdHJva2UoKVxyXG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZHJhd0JyaWRnZShjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHNlZ21lbnQ6IE5kU2VnbWVudEJlemllciwgY29sb3I6IE5kQ29sb3JTdHIsIHdpZHRoOiBudW1iZXIpIHtcclxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpXHJcbiAgICAgICAgY29udGV4dC5saW5lQ2FwID0ncm91bmQnXHJcbiAgICAgICAgY29udGV4dC5tb3ZlVG8oc2VnbWVudFswXSwgc2VnbWVudFsxXSlcclxuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gY29sb3JcclxuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHdpZHRoXHJcbiAgICAgICAgY29udGV4dC5saW5lVG8oc2VnbWVudFsyXSwgc2VnbWVudFszXSlcclxuICAgICAgICBjb250ZXh0LnN0cm9rZSgpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3UmVjdFN0cm9rZShjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5wYXRoKClcclxuICAgICAgICBjb25zdCBzZWdtZW50U3RvcHMgPSBbMCwgMSwgMiwgM10gLy8gc2VnbWVudCBzdG9wIGtleXNcclxuICAgICAgICBpZiAocGF0aC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRTZWdtZW50ID0gMFxyXG4gICAgICAgICAgICAvL3NlZ21lbnQgc3RvcCBrZXlzIGZpeCBkZXBlbmRpbmcgb24gY29ycmVzcG9uZGluZyBjb3JuZXIgcHJlc2VuY2VcclxuICAgICAgICAgICAgdGhpcy5kYXRhLnJhZGl1cy5wcm90ZWN0ZWRWYWx1ZS5mb3JFYWNoKCh2LCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh2ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBrZXk7IGkgPCBzZWdtZW50U3RvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudFN0b3BzW2ldICs9IDFcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHBhdGguZm9yRWFjaCgodiwgbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvcm5lciA9IHZbMF0gIT09IHZbMl0gJiYgdlsxXSAhPT0gdlszXVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3JuZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVjdGFuZ2xlLmRyYXdDb3JuZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2VnbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNlZ21lbnQgPiAwID8gdGhpcy5kYXRhLnN0cm9rZUNvbG9yLnByb3RlY3RlZFZhbHVlW2N1cnJlbnRTZWdtZW50IC0gMV0gOiB0aGlzLmRhdGEuc3Ryb2tlQ29sb3IucHJvdGVjdGVkVmFsdWVbM10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc3Ryb2tlQ29sb3IucHJvdGVjdGVkVmFsdWVbY3VycmVudFNlZ21lbnRdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNlZ21lbnQgPiAwID8gdGhpcy5kYXRhLnN0cm9rZVdpZHRoLnByb3RlY3RlZFZhbHVlW2N1cnJlbnRTZWdtZW50IC0gMV0gOiB0aGlzLmRhdGEuc3Ryb2tlV2lkdGgucHJvdGVjdGVkVmFsdWVbM10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc3Ryb2tlV2lkdGgucHJvdGVjdGVkVmFsdWVbY3VycmVudFNlZ21lbnRdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWN0YW5nbGUuZHJhd0JyaWRnZShjb250ZXh0LCB2LCB0aGlzLmRhdGEuc3Ryb2tlQ29sb3IucHJvdGVjdGVkVmFsdWVbY3VycmVudFNlZ21lbnRdLCB0aGlzLmRhdGEuc3Ryb2tlV2lkdGgucHJvdGVjdGVkVmFsdWVbY3VycmVudFNlZ21lbnRdKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudFN0b3BzLmluZGV4T2YobikgPiAtMSkgY3VycmVudFNlZ21lbnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICBjdXJyZW50U2VnbWVudCA9IDBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxufSIsImltcG9ydCBUaWNrZXIgZnJvbSAnLi4vVGlja2VyJztcclxuXHJcbmV4cG9ydCB0eXBlIE5kQ2FudmFzQ29udGV4dCA9IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB8IG51bGxcclxuZXhwb3J0IHR5cGUgTmRDYW52YXNRdWV1ZUNhbGxiYWNrQXJncyA9IFtOZENhbnZhc0NvbnRleHQsIERhdGUsIG51bWJlcl1cclxuZXhwb3J0IHR5cGUgTmRDYW52YXNRdWV1ZUNhbGxiYWNrID0gKC4uLmFyZ3M6IE5kQ2FudmFzUXVldWVDYWxsYmFja0FyZ3MpID0+IHZvaWRcclxuZXhwb3J0IHR5cGUgTmRDYW52YXNRdWV1ZUl0ZW0gPSB7XHJcbiAgICBvcmRlcjogbnVtYmVyLFxyXG4gICAgZjogTmRDYW52YXNRdWV1ZUNhbGxiYWNrXHJcbn1cclxuZXhwb3J0IHR5cGUgTmROdW1lcmljQXJyYXkyZCA9IFt4OiBudW1iZXIsIHk6IG51bWJlcl07XHJcbmV4cG9ydCB0eXBlIE5kRW1pdHRlckNhbGxiYWNrPERhdGE+ID0gKGRhdGE6IERhdGEpID0+IHZvaWQ7XHJcbmV4cG9ydCB0eXBlIE5kTWFpbkRyYXdpbmdQaXBlRkFyZ3MgPSBbY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBkYXRlOiBEYXRlLCBmcmFtZTogbnVtYmVyXVxyXG5leHBvcnQgdHlwZSBOZE1haW5EcmF3aW5nUGlwZUYgPSAoLi4uYXJnczogTmRNYWluRHJhd2luZ1BpcGVGQXJncykgPT4gTmRNYWluRHJhd2luZ1BpcGVGQXJnc1swXSB8IGZhbHNlXHJcbmV4cG9ydCB0eXBlIE5kUmVuZGVyQ29uZGl0aW9uUHJlZGljYXRlID0gKC4uLmFyZ3M6IE5kTWFpbkRyYXdpbmdQaXBlRkFyZ3MpID0+IGJvb2xlYW5cclxuZXhwb3J0IHR5cGUgTmRDb25maWdQcm9wZXJ0eUNoZWNrTmFtZSA9XHJcbiAgICAnaXNOdW1iZXInXHJcbiAgICB8ICdpc1N0cmluZydcclxuICAgIHwgJ2lzQXJyYXknXHJcbiAgICB8ICdjdXN0b20nXHJcbiAgICB8ICd1bmRlcidcclxuICAgIHwgJ2dyZWF0ZXInXHJcbiAgICB8ICdlcSdcclxuICAgIHwgJ2lzQm9vbCdcclxuZXhwb3J0IHR5cGUgTmRDb25maWdQcm9wZXJ0eUN1c3RvbUNoZWNrID0gKHY6IE5kQ29uZmlnUHJvcGVydHlWYWx1ZSkgPT4gYm9vbGVhblxyXG5leHBvcnQgdHlwZSBOZENvbmZpZ1Byb3BlcnR5V2F0Y2hlcjxUPiA9ICh2OiBUKSA9PiB2b2lkXHJcbmV4cG9ydCB0eXBlIE5kQ29uZmlnUHJvcGVydHlDaGVja1ZhbHVlID0gdW5kZWZpbmVkIHwgc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IE5kQ29uZmlnUHJvcGVydHlDdXN0b21DaGVjaztcclxuZXhwb3J0IHR5cGUgTmRDb25maWdQcm9wZXJ0eVZhbHVlID0gc3RyaW5nIHwgW10gfCBudW1iZXIgfCBib29sZWFuIHwgdW5kZWZpbmVkIHwge30gfCBudWxsXHJcbmV4cG9ydCB0eXBlIE5kQ29uZmlnUHJvcGVydHlDaGVja0FycmF5SXRlbSA9IHtcclxuICAgIGY6IE5kQ29uZmlnUHJvcGVydHlDaGVja05hbWUsXHJcbiAgICB2YWx1ZT86IE5kQ29uZmlnUHJvcGVydHlDaGVja1ZhbHVlXHJcbn1cclxuZXhwb3J0IHR5cGUgTmRDb25maWdQcm9wZXJ0eUNoZWNrcyA9IHtcclxuICAgIFtLIGluIE5kQ29uZmlnUHJvcGVydHlDaGVja05hbWVdPzogTmRDb25maWdQcm9wZXJ0eUNoZWNrVmFsdWVcclxufVxyXG5leHBvcnQgdHlwZSBOZERlYnVnRGF0YSA9IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIH1cclxuZXhwb3J0IHR5cGUgTmRGb250Rm9ybWF0cyA9ICdlb3QnIHwgJ3N2ZycgfCAndHRmJyB8ICd3b2ZmJztcclxuXHJcbmV4cG9ydCBlbnVtIE5kRm9udFNwZWNpYWxWYWx1ZXMge1xyXG4gICAgJ3NhbnMtc2VyaWYnID0gJ3NhbnMtc2VyaWYnLFxyXG4gICAgJ3NlcmlmJyA9ICdzZXJpZicsXHJcbiAgICAnc3lzdGVtJyA9ICdzeXN0ZW0nLFxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBOZFNwZWNpYWxGb250V2VpZ2h0cyA9ICdsaWdodCdcclxuICAgIHwgJ25vcm1hbCdcclxuICAgIHwgJ2JvbGQnXHJcbiAgICB8ICdibGFjaydcclxuXHJcbmV4cG9ydCB0eXBlIE5kRm9udFdlaWdodHMgPVxyXG4gICAgTmRTcGVjaWFsRm9udFdlaWdodHNcclxuICAgIHwgMTAwXHJcbiAgICB8IDIwMFxyXG4gICAgfCAzMDBcclxuICAgIHwgNDAwXHJcbiAgICB8IDUwMFxyXG4gICAgfCA2MDBcclxuICAgIHwgNzAwXHJcbiAgICB8IDkwMFxyXG4gICAgfCAxMDAwXHJcbmV4cG9ydCB0eXBlIE5kRm9udFN0eWxlcyA9ICdub3JtYWwnIHwgJ2l0YWxpYydcclxuZXhwb3J0IHR5cGUgTmRGb250RGVzY3JpcHRpb24gPSB7XHJcbiAgICBuYW1lOiBzdHJpbmcsXHJcbiAgICB3ZWlnaHQ6IE5kRm9udFdlaWdodHNbXVxyXG4gICAgc3R5bGU6IE5kRm9udFN0eWxlc1tdXHJcbn1cclxuZXhwb3J0IHR5cGUgTmRUaWNrZXJGQXJncyA9IFtEYXRlLCBudW1iZXJdXHJcbmV4cG9ydCB0eXBlIE5kVGlja2VyRiA9ICguLi5hcmdzOiBOZFRpY2tlckZBcmdzKSA9PiB2b2lkXHJcbmV4cG9ydCB0eXBlIE5kVGlja2VyUXVldWVGID0gKGE6IE5kVGlja2VyRiB8IG51bWJlciwgYiA/OiBOZFRpY2tlckYpID0+IHZvaWRcclxuZXhwb3J0IHR5cGUgTmRUaWNrZXJRdWV1ZUl0ZW0gPSB7XHJcbiAgICBvcmRlcjogbnVtYmVyLFxyXG4gICAgZjogTmRUaWNrZXJGXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIE5kVGlja2VyRXZlbnRzID0gJ3N0b3AnIHwgJ3N0YXJ0JyB8ICdlcnJvcic7XHJcblxyXG5leHBvcnQgdHlwZSBOZFRpY2tlckV2ZW50Q2IgPSAoZGF0YTogRXJyb3IgfCBUaWNrZXIpID0+IHZvaWRcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTmRUaWNrZXJFdmVudHNDb250YWluZXIge1xyXG4gICAgc3RvcDogTmRUaWNrZXJFdmVudENiW10sXHJcbiAgICBzdGFydDogTmRUaWNrZXJFdmVudENiW10sXHJcbiAgICBlcnJvcjogTmRUaWNrZXJFdmVudENiW11cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBOZExpc3RlbmFibGU8U2NoZW1lLCBLIGV4dGVuZHMga2V5b2YgU2NoZW1lID0ga2V5b2YgU2NoZW1lPiB7XHJcbiAgICBvbjogKGV2ZW50OiBLIHwgS1tdLCBjYWxsYmFjazogKGV2ZW50OiBTY2hlbWVbS10pID0+IGFueSkgPT4gYW55XHJcbiAgICBvbmNlOiAoZXZlbnQ6IEsgfCBLW10sIGNhbGxiYWNrOiAoZXZlbnQ6IFNjaGVtZVtLXSkgPT4gYW55KSA9PiBhbnlcclxuICAgIG9mZjogKGV2ZW50OiBLIHwgS1tdLCBjYWxsYmFjazogKGV2ZW50OiBTY2hlbWVbS10pID0+IGFueSkgPT4gYW55XHJcbn0iLCJpbXBvcnQgTmRSZXNvdXJjZSBmcm9tICcuL05kUmVzb3VyY2UnO1xyXG5pbXBvcnQge05kRm9udERlc2NyaXB0aW9uLCBOZEZvbnRGb3JtYXRzLCBOZEZvbnRTdHlsZXMsIE5kRm9udFdlaWdodHN9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCB7TmRVUkxTdHJ9IGZyb20gJy4uL05vZGVzL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCB7TkRCfSBmcm9tICcuLi9TZXJ2aWNlcy9Ob2Rhc0RlYnVnJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kRm9udCBleHRlbmRzIE5kUmVzb3VyY2U8SFRNTENhbnZhc0VsZW1lbnQ+IHtcclxuXHJcbiAgICBwcml2YXRlIGNvbnRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCcyZCcpIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFxyXG4gICAgcHJpdmF0ZSBzdHlsZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpXHJcbiAgICBwcml2YXRlIHN0cjogc3RyaW5nW11cclxuICAgIHByaXZhdGUgc2NoZW1lOiBOZEZvbnREZXNjcmlwdGlvblxyXG4gICAgcHJpdmF0ZSBmb250TWF4TG9hZFRpbWUgPSAxMDAwMFxyXG4gICAgcHJpdmF0ZSBmb250TG9hZFN0YXJ0OiBudW1iZXIgPSAwXHJcbiAgICBwcml2YXRlIGZvbnRNZWFzdXJlQnVmZmVyOiBudW1iZXJbXVtdID0gW11cclxuXHJcbiAgICBwcml2YXRlIGxvYWRGb250KG9uTG9hZDogKCkgPT4gYW55LCBvbkVycm9yOiAoKSA9PiBhbnkpIHtcclxuICAgICAgICBjb25zdCBjaGVja1Jlc3VsdEJ1ZmZlciA9IHRoaXMuc2NoZW1lLndlaWdodC5tYXAod2VpZ2h0ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NoZW1lLnN0eWxlLm1hcChzdHlsZSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tZWFzdXJlRm9udChzdHlsZSwgd2VpZ2h0KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRydWVcclxuICAgICAgICBmb3IgKGxldCB3ID0gMDsgdyA8IHRoaXMuc2NoZW1lLndlaWdodC5sZW5ndGg7IHcrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBzID0gMDsgcyA8IHRoaXMuc2NoZW1lLnN0eWxlLmxlbmd0aDsgcysrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tSZXN1bHRCdWZmZXJbd11bc10gPT09IHRoaXMuZm9udE1lYXN1cmVCdWZmZXJbd11bc10pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIGJyZWFrXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgb25Mb2FkKClcclxuICAgICAgICB9IGVsc2UgaWYgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gdGhpcy5mb250TG9hZFN0YXJ0ID4gdGhpcy5mb250TWF4TG9hZFRpbWUpIHtcclxuICAgICAgICAgICAgTkRCLm5lZ2F0aXZlKGBHYXZlIHVwIHRyeWluZyB0byBsb2FkICR7dGhpcy5uYW1lfS4gVGltZW91dC5gKVxyXG4gICAgICAgICAgICBvbkVycm9yKClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMubG9hZEZvbnQob25Mb2FkLCBvbkVycm9yKSwgNTAwKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1lYXN1cmVGb250KHN0eWxlOiBOZEZvbnRTdHlsZXMsIHdlaWdodDogTmRGb250V2VpZ2h0cywgY3VzdG9tRmFtaWx5Pzogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgICAgICB0aGlzLmNvbnRleHQuZm9udCA9IGN1c3RvbUZhbWlseSA/IGAke3N0eWxlfSAke05kRm9udC5leHRyYWN0TnVtZXJpY1dlaWdodCh3ZWlnaHQpfSAxMnB4LzEycHggXCIke2N1c3RvbUZhbWlseX1cImAgOiB0aGlzLnN0cmluZyhzdHlsZSwgTmRGb250LmV4dHJhY3ROdW1lcmljV2VpZ2h0KHdlaWdodCksIDEyKVxyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQoTmRGb250LkNPTlNURk9OVENIRUNLU1RSSU5HKS53aWR0aFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5pdE1lYXN1cmVCdWZmZXIoKSB7XHJcbiAgICAgICAgdGhpcy5mb250TG9hZFN0YXJ0ID0gbmV3IERhdGUoKS5nZXRUaW1lKClcclxuICAgICAgICB0aGlzLmZvbnRNZWFzdXJlQnVmZmVyID0gdGhpcy5zY2hlbWUud2VpZ2h0Lm1hcCh3ZWlnaHQgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY2hlbWUuc3R5bGUubWFwKHN0eWxlID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1lYXN1cmVGb250KHN0eWxlLCB3ZWlnaHQsICdzYW5zLXNlcmlmJylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZm9ybWF0U3RyID0ge1xyXG4gICAgICAgIGVvdDogZnVuY3Rpb24gKHVybDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgcmV0dXJuICd1cmwoXCInICsgdXJsICsgJy5lb3Q/I2llZml4XCIpIGZvcm1hdChcImVtYmVkZGVkLW9wZW50eXBlXCIpJztcclxuICAgICAgICB9LFxyXG4gICAgICAgIHdvZmY6IGZ1bmN0aW9uICh1cmw6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiAndXJsKFwiJyArIHVybCArICcud29mZlwiKSBmb3JtYXQoXCJ3b2ZmXCIpJztcclxuICAgICAgICB9LFxyXG4gICAgICAgIHR0ZjogZnVuY3Rpb24gKHVybDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgcmV0dXJuICd1cmwoXCInICsgdXJsICsgJy50dGZcIikgZm9ybWF0KFwidHJ1ZXR5cGVcIiknO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3ZnOiBmdW5jdGlvbiAodXJsOiBzdHJpbmcsIGZvbnQ6IHN0cmluZywgc3R5bGU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiAndXJsKFwiJyArIHVybCArICcuc3ZnIycgKyBmb250ICsgJy0nICsgKHN0eWxlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3R5bGUuc2xpY2UoMSkpICsgJ1wiKSBmb3JtYXQoXCJzdmdcIiknO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgbmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2hlbWUubmFtZVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzdHJpbmcoc3R5bGU6IE5kRm9udFN0eWxlcywgd2VpZ2h0OiBOZEZvbnRXZWlnaHRzLCBzaXplOiBudW1iZXIsIGxpbmVIZWlnaHQgPSBzaXplKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke3N0eWxlfSAke05kRm9udC5leHRyYWN0TnVtZXJpY1dlaWdodCh3ZWlnaHQpfSAke3NpemV9cHgvJHtsaW5lSGVpZ2h0fXB4IFwiJHt0aGlzLnNjaGVtZS5uYW1lfVwiYFxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCA9IHRoaXMuY29udGV4dC5jYW52YXNcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihyb290Pzogc3RyaW5nLCBmb3JtYXQ/OiBOZEZvbnRGb3JtYXRzW10sIHNjaGVtZT86IE5kRm9udERlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIoYFxcXFwke3NjaGVtZSA/IHNjaGVtZS5uYW1lIDogJ2RlZmF1bHQnfS5mb250YCBhcyBOZFVSTFN0ciwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZm9ybWF0ICYmIHNjaGVtZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0TWVhc3VyZUJ1ZmZlcigpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRGb250KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBOREIucG9zaXRpdmUoYEZvbnQgJHt0aGlzLm5hbWV9IGxvYWRlZGApXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXN0KCdsb2FkJywgbnVsbClcclxuICAgICAgICAgICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBOREIubmVnYXRpdmUoYFVuYWJsZSB0byBsb2FkIGZvbnQgJHt0aGlzLm5hbWV9YClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc3QoJ2Vycm9yJywgbnVsbClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlcy5pbm5lckhUTUwgPSB0aGlzLnN0ci5yZWR1Y2U8c3RyaW5nPigocmVzdWx0LCBjdXJyZW50KSA9PiByZXN1bHQgKyBjdXJyZW50LCAnJylcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5zdHlsZXMpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgTkRCLnBvc2l0aXZlKGBGb250ICR7dGhpcy51cmx9IGxvYWRlZGApXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhc3QoJ2xvYWQnLCBudWxsKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKGZvcm1hdCAmJiBzY2hlbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2hlbWUgPSBzY2hlbWVcclxuICAgICAgICAgICAgdGhpcy5zdHIgPSBzY2hlbWUud2VpZ2h0Lm1hcDxzdHJpbmc+KCh3ZWlnaHQpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzY2hlbWUuc3R5bGUucmVkdWNlPHN0cmluZz4oKHN0eWxlU3RyLCBzdHlsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZVN0ciArIGBAZm9udC1mYWNlIHtcXG4gZm9udC1mYW1pbHk6XCIke3NjaGVtZS5uYW1lfVwiO1xcbiBzcmM6YCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdC5yZWR1Y2U8c3RyaW5nPihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmb3JtYXRTdHIsIGZvcm1hdEV4dCwgZkluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdFN0ciArIHRoaXMuZm9ybWF0U3RyW2Zvcm1hdEV4dF0oYCR7cm9vdH0vJHtzY2hlbWUubmFtZX0tJHt3ZWlnaHR9LSR7c3R5bGV9YCwgc2NoZW1lLm5hbWUsIHN0eWxlKSArIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZJbmRleCA8IGZvcm1hdC5sZW5ndGggLSAxKSA/ICcsXFxuJyA6ICc7JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICcnKSArIGBcXG5mb250LXdlaWdodDogJHtOZEZvbnQuZXh0cmFjdE51bWVyaWNXZWlnaHQod2VpZ2h0KX07XFxuZm9udC1zdHlsZTogJHtzdHlsZX07XFxufVxcbmBcclxuICAgICAgICAgICAgICAgIH0sICcnKVxyXG4gICAgICAgICAgICB9LCAnJylcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnN0ciA9IFtdXHJcbiAgICAgICAgICAgIHRoaXMuc2NoZW1lID0ge25hbWU6ICdkZWZhdWx0Jywgd2VpZ2h0OiBbXSwgc3R5bGU6IFtdfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXRpYyBleHRyYWN0TnVtZXJpY1dlaWdodCh3b3JkOiBOZEZvbnRXZWlnaHRzKSB7XHJcbiAgICAgICAgaWYod29yZCA9PT0gJ25vcm1hbCcpIHJldHVybiA0MDBcclxuICAgICAgICBpZih3b3JkID09PSAnYmxhY2snKSByZXR1cm4gOTAwXHJcbiAgICAgICAgaWYod29yZCA9PT0gJ2xpZ2h0JykgcmV0dXJuICAzMDBcclxuICAgICAgICBpZih3b3JkID09PSAnYm9sZCcpIHJldHVybiA2MDBcclxuICAgICAgICBlbHNlIHJldHVybiB3b3JkXHJcbiAgICB9XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgQ09OU1RGT05UQ0hFQ0tTVFJJTkcgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXogMTIzNDU2Nzg5MFshPywuPD5cIsKjJCVeJiooKX5AIy09XSdcclxufSIsImltcG9ydCBOZEZvbnQgZnJvbSAnLi4vY2xhc3Nlcy9OZEZvbnQnO1xyXG5pbXBvcnQge05kRm9udERlc2NyaXB0aW9uLCBOZEZvbnRGb3JtYXRzLCBOZEZvbnRTcGVjaWFsVmFsdWVzfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQge05EQn0gZnJvbSAnLi9Ob2Rhc0RlYnVnJztcclxuXHJcbmNsYXNzIE5vZGFzRm9udHMge1xyXG4gICAgcHJpdmF0ZSBmb250czogeyBba2V5OiBzdHJpbmddOiBOZEZvbnQgfSA9IHt9XHJcbiAgICBwcml2YXRlIGZvbnRSb290UGF0aDogc3RyaW5nID0gJy4vZm9udHMnO1xyXG4gICAgcHJpdmF0ZSBmb3JtYXQ6IE5kRm9udEZvcm1hdHNbXSA9IFsnZW90JywgJ3N2ZycsICd0dGYnLCAnd29mZiddXHJcblxyXG4gICAgZ2V0IHJvb3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9udFJvb3RQYXRoXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHJvb3QodmFsdWUpIHtcclxuICAgICAgICB0aGlzLmZvbnRSb290UGF0aCA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBmb3JtYXRzKCkge1xyXG4gICAgICAgIHJldHVybiBbLi4udGhpcy5mb3JtYXRdXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGZvcm1hdHModmFsdWUpIHtcclxuICAgICAgICB0aGlzLmZvcm1hdCA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGQoZm9udDogTmRGb250RGVzY3JpcHRpb24pIHtcclxuICAgICAgICBpZiAoIXRoaXMuZm9udHNbZm9udC5uYW1lXSkge1xyXG4gICAgICAgICAgICBpZiAoKE9iamVjdC52YWx1ZXMoTmRGb250U3BlY2lhbFZhbHVlcykgYXMgc3RyaW5nW10pLmluY2x1ZGVzKGZvbnQubmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIE5EQi53YXJuKFxyXG4gICAgICAgICAgICAgICAgICAgIGBZb3UgYXJlIG5vdCBhbGxvd2VkIHRvIGxvYWQgZm9udHMgd2l0aCBuYW1lcyBlcXVhbCB0byBzeXN0ZW0gdmFsdWVzIFske09iamVjdC52YWx1ZXMoTmRGb250U3BlY2lhbFZhbHVlcyl9XS4gXHJcbiAgICAgICAgICAgICAgICAgICAgSWdub3JlZC5gKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mb250c1tmb250Lm5hbWVdID0gbmV3IE5kRm9udCh0aGlzLnJvb3QsIHRoaXMuZm9ybWF0LCBmb250KVxyXG4gICAgICAgICAgICAgICAgTkRCLnBvc2l0aXZlKGBGb250ICR7Zm9udC5uYW1lfSByZWdpc3RlcmVkLmApXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgTkRCLnBvc2l0aXZlKGBGb250IFske2ZvbnQubmFtZX1dIGFscmVhZHkgcmVnaXN0ZXJlZC4gU2tpcC4uYClcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9udHNbZm9udC5uYW1lXVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQobmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9udHNbbmFtZV0gPyB0aGlzLmZvbnRzW25hbWVdIDogbnVsbFxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgTm9kYXNGb250cyIsImltcG9ydCB7TmRDb2xvclN0ciwgTmRUZXh0UGFydGlhbFByb3BzfSBmcm9tICcuLi9Ob2Rlcy9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQge05kRm9udFNwZWNpYWxWYWx1ZXMsIE5kRm9udFN0eWxlcywgTmRGb250V2VpZ2h0c30gZnJvbSAnLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5kRW1pdHRlciBmcm9tICcuL05kRW1pdHRlcic7XHJcbmltcG9ydCBOZE5vZGVTdHlsZXNNb2RlbCBmcm9tICcuLi9Ob2Rlcy9jbGFzc2VzL05kTm9kZVN0eWxlc01vZGVsJztcclxuaW1wb3J0IE5vZGFzRm9udHMgZnJvbSAnLi4vU2VydmljZXMvTm9kYXNGb250cyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBOZFRleHRQYXJ0aWFsIGV4dGVuZHMgTmRFbWl0dGVyPE5kVGV4dFBhcnRpYWxQcm9wcz4gaW1wbGVtZW50cyBOZFRleHRQYXJ0aWFsUHJvcHMge1xyXG4gICAgcHJpdmF0ZSB0ZXh0Q29sb3I6IE5kQ29sb3JTdHIgPSAncmdiYSgwLDAsMCwxKSdcclxuICAgIHByaXZhdGUgZldlaWdodDogTmRGb250V2VpZ2h0cyA9IDQwMFxyXG4gICAgcHJpdmF0ZSBmU2l6ZTogbnVtYmVyID0gMTRcclxuICAgIHByaXZhdGUgbEhlaWdodDogbnVtYmVyID0gMTRcclxuICAgIHByaXZhdGUgZlN0eWxlOiBOZEZvbnRTdHlsZXMgPSAnbm9ybWFsJ1xyXG4gICAgcHJpdmF0ZSBuZEZvbnQ6IHN0cmluZyB8IE5kRm9udFNwZWNpYWxWYWx1ZXMgPSAnc3lzdGVtJ1xyXG4gICAgYWJzdHJhY3QgcmVhZG9ubHkgd2lkdGg6IG51bWJlclxyXG4gICAgYWJzdHJhY3QgcmVhZG9ubHkgc3RyaW5nOiBzdHJpbmdcclxuICAgIGFic3RyYWN0IHJlYWRvbmx5IGxlbmd0aDogbnVtYmVyXHJcbiAgICBhYnN0cmFjdCByZWFkb25seSByZW5kZXI6IChjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHhQb3M6IG51bWJlciwgeVBvczogbnVtYmVyKSA9PiB2b2lkXHJcbiAgICBmcmVlemU6IHtcclxuICAgICAgICBbSyBpbiBrZXlvZiBOZFRleHRQYXJ0aWFsUHJvcHNdPzogYm9vbGVhblxyXG4gICAgfSA9IHt9XHJcblxyXG4gICAgb25Qb3NzaWJsZVNpemVDaGFuZ2UgPSAoY2FsbGJhY2s6ICgpID0+IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMub24oWydmb250JywgJ2ZvbnRTaXplJywgJ3dlaWdodCcsICdzdHlsZScsICdsaW5lSGVpZ2h0J10sIGNhbGxiYWNrKVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBmb250KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5kRm9udFxyXG4gICAgfVxyXG5cclxuICAgIHNldCBmb250KGZvbnQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZnJlZXplLmZvbnQpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5uZEZvbnQgIT09IGZvbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubmRGb250ID0gZm9udFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYXN0KCdmb250JywgZm9udClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgbGluZUhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sSGVpZ2h0XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGxpbmVIZWlnaHQodmFsdWUpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZnJlZXplLmxpbmVIZWlnaHQpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwXHJcbiAgICAgICAgICAgIGlmKHZhbHVlICE9PSB0aGlzLmxIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubEhlaWdodCA9IHZhbHVlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhc3QoJ2xpbmVIZWlnaHQnLCB0aGlzLmxIZWlnaHQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHdlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5mV2VpZ2h0XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHdlaWdodCh2YWx1ZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5mcmVlemUud2VpZ2h0KSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuZldlaWdodCAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZldlaWdodCA9IHZhbHVlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhc3QoJ3dlaWdodCcsIHZhbHVlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb2xvcigpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dENvbG9yXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGNvbG9yKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZyZWV6ZS5jb2xvcikge1xyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gTmROb2RlU3R5bGVzTW9kZWwuYXJyYXlUb0NvbG9yKE5kTm9kZVN0eWxlc01vZGVsLm5vcm1hbGl6ZUNvbG9yKFxyXG4gICAgICAgICAgICAgICAgTmROb2RlU3R5bGVzTW9kZWwuY29sb3JUb0FycmF5KHZhbHVlKVxyXG4gICAgICAgICAgICApKVxyXG4gICAgICAgICAgICBpZihub3JtYWxpemVkICE9PSB0aGlzLnRleHRDb2xvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0Q29sb3IgPSBub3JtYWxpemVkXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhc3QoJ2NvbG9yJywgdGhpcy50ZXh0Q29sb3IpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHN0eWxlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZTdHlsZVxyXG4gICAgfVxyXG5cclxuICAgIHNldCBzdHlsZSh2YWx1ZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5mcmVlemUuc3R5bGUpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5mU3R5bGUgIT09dmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZlN0eWxlID0gdmFsdWVcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FzdCgnc3R5bGUnLCB2YWx1ZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgZm9udFNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZlNpemVcclxuICAgIH1cclxuXHJcbiAgICBzZXQgZm9udFNpemUodmFsdWUpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZnJlZXplLnN0eWxlKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMFxyXG4gICAgICAgICAgICBpZih0aGlzLmZTaXplICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mU2l6ZSA9IHZhbHVlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhc3QoJ2ZvbnRTaXplJywgdGhpcy5mU2l6ZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZWFkb25seSBmb250U3RyaW5nID0gKCk6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgaWYgKChPYmplY3QudmFsdWVzKE5kRm9udFNwZWNpYWxWYWx1ZXMpIGFzIHN0cmluZ1tdKS5pbmNsdWRlcyh0aGlzLm5kRm9udCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmRGb250ID09PSAnc3lzdGVtJyA/IGAke3RoaXMuc3R5bGV9ICR7dGhpcy53ZWlnaHR9ICR7dGhpcy5mU2l6ZX1weCBzZXJpZmAgOiB0aGlzLmZTaXplICsgJ3B4ICcgKyB0aGlzLm5kRm9udFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvbnQgPSBOb2Rhc0ZvbnRzLmdldCh0aGlzLm5kRm9udClcclxuICAgICAgICAgICAgaWYgKGZvbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmb250LnN0cmluZyh0aGlzLmZTdHlsZSwgdGhpcy5mV2VpZ2h0LCB0aGlzLmZTaXplLCB0aGlzLmxpbmVIZWlnaHQpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgTmRUZXh0UGFydGlhbCBmcm9tICcuL05kVGV4dFBhcnRpYWwnO1xyXG5pbXBvcnQge05kRm9udFNwZWNpYWxWYWx1ZXN9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBub2Rhc0ZvbnRzIGZyb20gJy4uL1NlcnZpY2VzL05vZGFzRm9udHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmRUZXh0V29yZCBleHRlbmRzIE5kVGV4dFBhcnRpYWwge1xyXG4gICAgcHJpdmF0ZSBzdHI6IHN0cmluZyA9ICcnXHJcbiAgICBwcml2YXRlIGNvbnRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCcyZCcpIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFxyXG4gICAgcHJpdmF0ZSB3OiBudW1iZXIgPSAwXHJcbiAgICBwcml2YXRlIHJlc2l6ZUZsYWc6IGJvb2xlYW4gPSB0cnVlXHJcbiAgICBwcml2YXRlIHJlZHJhd0ZsYWc6IGJvb2xlYW4gPSB0cnVlXHJcblxyXG4gICAgcHJpdmF0ZSByZXNpemUgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZvbnQgPSB0aGlzLmZvbnRTdHJpbmcoKVxyXG4gICAgICAgIGNvbnN0IHcgPSBNYXRoLmNlaWwodGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHRoaXMuc3RyKS53aWR0aClcclxuICAgICAgICBpZih3ICE9PSB0aGlzLncpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aCA9IHdcclxuICAgICAgICAgICAgdGhpcy53ID0gd1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLmNvbnRleHQuY2FudmFzLmhlaWdodCAhPT0gdGhpcy5saW5lSGVpZ2h0KSB0aGlzLmNvbnRleHQuY2FudmFzLmhlaWdodCA9IHRoaXMubGluZUhlaWdodFxyXG4gICAgICAgIHRoaXMucmVzaXplRmxhZyA9IGZhbHNlXHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHJlZHJhdyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY29udGV4dC5jYW52YXMud2lkdGgsIHRoaXMuY29udGV4dC5jYW52YXMuaGVpZ2h0KVxyXG4gICAgICAgIHRoaXMuY29udGV4dC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJ1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yXHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZvbnQgPSB0aGlzLmZvbnRTdHJpbmcoKVxyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0aGlzLnN0ciwgMCwgdGhpcy5saW5lSGVpZ2h0IC8gMilcclxuICAgICAgICB0aGlzLnJlZHJhd0ZsYWcgPSBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIGdldCB3aWR0aCgpIHtcclxuICAgICAgICBpZiAodGhpcy5yZXNpemVGbGFnKSB0aGlzLnJlc2l6ZSgpXHJcbiAgICAgICAgcmV0dXJuIHRoaXMud1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBsZW5ndGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyLmxlbmd0aFxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHN0cmluZyh2YWx1ZSkge1xyXG4gICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpXHJcbiAgICAgICAgaWYgKHRoaXMuc3RyICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZUZsYWcgPSB0cnVlXHJcbiAgICAgICAgICAgIHRoaXMucmVkcmF3RmxhZyA9IHRydWVcclxuICAgICAgICAgICAgdGhpcy5zdHIgPSB2YWx1ZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZWFkb25seSByZW5kZXIgPSAoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB4OiBudW1iZXIsIHk6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnJlc2l6ZUZsYWcpIHRoaXMucmVzaXplKClcclxuICAgICAgICBpZiAodGhpcy5yZWRyYXdGbGFnKSB0aGlzLnJlZHJhdygpXHJcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5jb250ZXh0LmNhbnZhcywgeCwgeSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzdHI6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zdHJpbmcgPSBzdHJcclxuICAgICAgICB0aGlzLm9uKCdmb250JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZighT2JqZWN0LnZhbHVlcyhOZEZvbnRTcGVjaWFsVmFsdWVzKS5pbmNsdWRlcyh0aGlzLmZvbnQgYXMgTmRGb250U3BlY2lhbFZhbHVlcykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZvbnQgPSBub2Rhc0ZvbnRzLmdldCh0aGlzLmZvbnQpXHJcbiAgICAgICAgICAgICAgICBpZihmb250KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIWZvbnQubG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQub25jZSgnbG9hZCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXplRmxhZyA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVkcmF3RmxhZyA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMub25Qb3NzaWJsZVNpemVDaGFuZ2UoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZUZsYWcgPSB0cnVlXHJcbiAgICAgICAgICAgIHRoaXMucmVkcmF3RmxhZyA9IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMub24oJ2NvbG9yJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlZHJhd0ZsYWcgPSB0cnVlXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IE5kVGV4dFBhcnRpYWwgZnJvbSAnLi9OZFRleHRQYXJ0aWFsJztcclxuaW1wb3J0IHtOZEZvbnRTcGVjaWFsVmFsdWVzfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgbm9kYXNGb250cyBmcm9tICcuLi9TZXJ2aWNlcy9Ob2Rhc0ZvbnRzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kVGV4dFNwYWNlIGV4dGVuZHMgTmRUZXh0UGFydGlhbCB7XHJcbiAgICBwcml2YXRlIHc6IG51bWJlciA9IDBcclxuICAgIHByaXZhdGUgY29udGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLmdldENvbnRleHQoJzJkJykgYXMgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEXHJcbiAgICBwcml2YXRlIG1lYXN1cmVkOiBib29sZWFuID0gZmFsc2VcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMub24oJ2ZvbnQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKCFPYmplY3QudmFsdWVzKE5kRm9udFNwZWNpYWxWYWx1ZXMpLmluY2x1ZGVzKHRoaXMuZm9udCBhcyBOZEZvbnRTcGVjaWFsVmFsdWVzKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZm9udCA9IG5vZGFzRm9udHMuZ2V0KHRoaXMuZm9udClcclxuICAgICAgICAgICAgICAgIGlmKGZvbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZighZm9udC5sb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC5vbmNlKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWFzdXJlZCA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIGdldCBsZW5ndGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIDFcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc3RyaW5nKCkge1xyXG4gICAgICAgIHJldHVybiAnICdcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIgPSAoKSA9PiB7XHJcbiAgICB9XHJcbiAgICBmb3JjZVJlZHJhdygpIHtcclxuICAgICAgICB0aGlzLm1lYXN1cmVkID0gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICBnZXQgd2lkdGgoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1lYXN1cmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5mb250ID0gdGhpcy5mb250U3RyaW5nKClcclxuICAgICAgICAgICAgdGhpcy53ID0gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KCcgJykud2lkdGhcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IE5kVGV4dFBhcnRpYWwgZnJvbSAnLi9OZFRleHRQYXJ0aWFsJztcclxuaW1wb3J0IE5kVGV4dFdvcmQgZnJvbSAnLi9OZFRleHRXb3JkJztcclxuaW1wb3J0IHtOZFRhZ1JlZ0V4cE1hdGNoLCBOZFRleHRQYXJ0aWFsUHJvcHN9IGZyb20gJy4uL05vZGVzL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOZFRleHRTcGFjZSBmcm9tICcuL05kVGV4dFNwYWNlJztcclxuaW1wb3J0IHtOZEZvbnRTcGVjaWFsVmFsdWVzfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgbm9kYXNGb250cyBmcm9tICcuLi9TZXJ2aWNlcy9Ob2Rhc0ZvbnRzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kVGV4dEJsb2NrIGV4dGVuZHMgTmRUZXh0UGFydGlhbCB7XHJcbiAgICBwcml2YXRlIHN0cjogc3RyaW5nID0gJydcclxuICAgIHByaXZhdGUgbDogbnVtYmVyID0gSW5maW5pdHlcclxuICAgIHByaXZhdGUgdzogbnVtYmVyID0gMFxyXG4gICAgcHJpdmF0ZSBoOiBudW1iZXIgPSAwXHJcbiAgICBwcml2YXRlIHdvcmRzUGF0dGVybiA9IC8oXFxTKykvZ1xyXG4gICAgcHJpdmF0ZSB0YWdQYXR0ZXJuID0gL1xcWyg/PHRhZ25hbWU+W2NiaV0pKD1cIig/PHZhbHVlPnJnYmFcXChcXGQqLFxcZCosXFxkKigsKFxcLlxcZCt8MSkpP1xcKSlcIik/XSg/PGNvbnRlbnQ+KCg/IVxcW1xcLz9cXGs8dGFnbmFtZT5dKS4pKilcXFtcXC9cXGs8dGFnbmFtZT5dL2dtXHJcbiAgICBwcml2YXRlIHVwZGF0ZWQ6IGJvb2xlYW4gPSB0cnVlXHJcbiAgICBwcml2YXRlIHdvcmRzOiBOZFRleHRQYXJ0aWFsW10gPSBbXVxyXG5cclxuICAgIHN0YXRpYyBhcHBseVN0eWxlc1RvVGV4dChzeW1ib2w6IE5kVGV4dFBhcnRpYWwsIHN0eWxlczogUGFydGlhbDxOZFRleHRQYXJ0aWFsUHJvcHM+KSB7XHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbihzeW1ib2wsIHN0eWxlcylcclxuICAgICAgICByZXR1cm4gc3ltYm9sXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVTaXplKCkge1xyXG4gICAgICAgIHRoaXMudyA9IE1hdGguY2VpbCh0aGlzLndvcmRzLnJlZHVjZTxudW1iZXI+KChhY2MsIHdvcmQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGFjYyArIHdvcmQud2lkdGhcclxuICAgICAgICB9LCAwKSlcclxuICAgICAgICB0aGlzLncgPSB0aGlzLmwgPCB0aGlzLncgPyB0aGlzLmwgOiB0aGlzLndcclxuICAgICAgICBpZiAodGhpcy53ID09PSAwKSB0aGlzLncgPSAxXHJcbiAgICAgICAgbGV0IHggPSAwLFxyXG4gICAgICAgICAgICBoID0gdGhpcy5saW5lSGVpZ2h0LFxyXG4gICAgICAgICAgICBsaW5lczogbnVtYmVyW10gPSBbXTtcclxuICAgICAgICB0aGlzLndvcmRzLmZvckVhY2goKHdvcmQsIGspID0+IHtcclxuICAgICAgICAgICAgaWYgKHggKyB3b3JkLndpZHRoID4gdGhpcy53KSB7XHJcbiAgICAgICAgICAgICAgICBoICs9IHRoaXMubGluZUhlaWdodFxyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaCh4KVxyXG4gICAgICAgICAgICAgICAgeCA9IDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB4ICs9IHdvcmQud2lkdGhcclxuICAgICAgICAgICAgaWYgKGsgPT0gdGhpcy53b3Jkcy5sZW5ndGggLSAxICYmIHggIT09IDApIGxpbmVzLnB1c2goeClcclxuICAgICAgICB9KVxyXG4gICAgICAgIGxldCBtYXhMaW5lID0gTWF0aC5tYXguYXBwbHkobnVsbCwgbGluZXMpXHJcbiAgICAgICAgaWYgKG1heExpbmUgPCB0aGlzLncpIHRoaXMudyA9IG1heExpbmU7XHJcbiAgICAgICAgdGhpcy5oID0gTWF0aC5jZWlsKGgpXHJcbiAgICAgICAgaWYgKHRoaXMuaCA9PT0gMCkgdGhpcy5oID0gMVxyXG4gICAgICAgIHRoaXMudXBkYXRlZCA9IGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBiaW5kV29yZHNTdHlsZXMoKSB7XHJcbiAgICAgICAgKFsnd2VpZ2h0JywgJ3N0eWxlJywgJ2NvbG9yJywgJ2ZvbnQnLCAnZm9udFNpemUnLCAnbGluZUhlaWdodCddIGFzIChrZXlvZiBOZFRleHRQYXJ0aWFsUHJvcHMpW10pLmZvckVhY2gocHJvcCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub24ocHJvcCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53b3Jkcy5mb3JFYWNoKHcgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHdbcHJvcF0gPSA8bmV2ZXI+dGhpc1twcm9wXVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3BsaXQoc3RyOiBzdHJpbmcgPSB0aGlzLnN0ciwgc3R5bGVzOiBOZFRleHRQYXJ0aWFsUHJvcHMgPSB7XHJcbiAgICAgICAgZm9udDogdGhpcy5mb250LFxyXG4gICAgICAgIHdlaWdodDogdGhpcy53ZWlnaHQsXHJcbiAgICAgICAgZm9udFNpemU6IHRoaXMuZm9udFNpemUsXHJcbiAgICAgICAgbGluZUhlaWdodDogdGhpcy5saW5lSGVpZ2h0LFxyXG4gICAgICAgIHN0eWxlOiB0aGlzLnN0eWxlLFxyXG4gICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yXHJcbiAgICB9LCBmcm96ZW46IHsgW0sgaW4ga2V5b2YgTmRUZXh0UGFydGlhbFByb3BzXT86IGJvb2xlYW4gfSA9IHt9LCB3b3JkSW5kZXggPSAwKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdDogTmRUZXh0UGFydGlhbFtdID0gW107XHJcbiAgICAgICAgbGV0IGN1cnJlbnRNYXRjaDogTmRUYWdSZWdFeHBNYXRjaCB8IG51bGwgPSBudWxsLFxyXG4gICAgICAgICAgICBjdXJyZW50V29yZEluZGV4ID0gd29yZEluZGV4XHJcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRNYXRjaCA9IHRoaXMudGFnUGF0dGVybi5leGVjKHN0cikgYXMgTmRUYWdSZWdFeHBNYXRjaCB8IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRNYXRjaC5pbmRleCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJlTWF0Y2hXb3JkcyA9IHN0ci5zdWJzdHJpbmcoMCwgY3VycmVudE1hdGNoLmluZGV4KS5tYXRjaCh0aGlzLndvcmRzUGF0dGVybilcclxuICAgICAgICAgICAgICAgIGlmIChwcmVNYXRjaFdvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlTWF0Y2hXb3Jkcy5mb3JFYWNoKCh2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndvcmRzW2N1cnJlbnRXb3JkSW5kZXhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmRzW2N1cnJlbnRXb3JkSW5kZXhdLmZyZWV6ZSA9IHt9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChOZFRleHRCbG9jay5hcHBseVN0eWxlc1RvVGV4dCh0aGlzLndvcmRzW2N1cnJlbnRXb3JkSW5kZXhdLCBzdHlsZXMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8TmRUZXh0V29yZD5yZXN1bHRbY3VycmVudFdvcmRJbmRleF0pLnN0cmluZyA9IHZcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE5kVGV4dEJsb2NrLmFwcGx5U3R5bGVzVG9UZXh0KG5ldyBOZFRleHRXb3JkKHYpLCBzdHlsZXMpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0uZnJlZXplID0gey4uLmZyb3plbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFdvcmRJbmRleCsrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndvcmRzW2N1cnJlbnRXb3JkSW5kZXhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmRzW2N1cnJlbnRXb3JkSW5kZXhdLmZyZWV6ZSA9IHt9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChOZFRleHRCbG9jay5hcHBseVN0eWxlc1RvVGV4dCh0aGlzLndvcmRzW2N1cnJlbnRXb3JkSW5kZXhdLCBzdHlsZXMpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTmRUZXh0QmxvY2suYXBwbHlTdHlsZXNUb1RleHQobmV3IE5kVGV4dFNwYWNlKCksIHN0eWxlcykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXS5mcmVlemUgPSB7Li4uZnJvemVufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50V29yZEluZGV4KytcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50TWF0Y2guZ3JvdXBzLmNvbnRlbnQpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFsuLi5yZXN1bHQsIC4uLnRoaXMuc3BsaXQoXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1hdGNoLmdyb3Vwcy5jb250ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3R5bGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IGN1cnJlbnRNYXRjaC5ncm91cHMudGFnbmFtZSA9PT0gJ2InID8gJ2JvbGQnIDogc3R5bGVzLndlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGN1cnJlbnRNYXRjaC5ncm91cHMudGFnbmFtZSA9PT0gJ2MnICYmIGN1cnJlbnRNYXRjaC5ncm91cHMudmFsdWUgPyBjdXJyZW50TWF0Y2guZ3JvdXBzLnZhbHVlIDogc3R5bGVzLmNvbG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogY3VycmVudE1hdGNoLmdyb3Vwcy50YWduYW1lID09PSAnaScgPyAnaXRhbGljJyA6IHN0eWxlcy5zdHlsZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IGN1cnJlbnRNYXRjaC5ncm91cHMudGFnbmFtZSA9PT0gJ2InIHx8IGZyb3plbi53ZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBjdXJyZW50TWF0Y2guZ3JvdXBzLnRhZ25hbWUgPT09ICdjJyB8fCBmcm96ZW4uY29sb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBjdXJyZW50TWF0Y2guZ3JvdXBzLnRhZ25hbWUgPT09ICdpJyB8fCBmcm96ZW4uc3R5bGVcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5sZW5ndGhcclxuICAgICAgICAgICAgICAgICldXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50V29yZEluZGV4ID0gcmVzdWx0Lmxlbmd0aFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0ciA9IHN0ci5zbGljZShjdXJyZW50TWF0Y2guaW5kZXggKyBjdXJyZW50TWF0Y2hbMF0ubGVuZ3RoKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCB3b3JkcyA9IHN0ci5tYXRjaCh0aGlzLndvcmRzUGF0dGVybilcclxuICAgICAgICAgICAgaWYgKHdvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICB3b3Jkcy5mb3JFYWNoKCh2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZCA9IHRoaXMud29yZHNbY3VycmVudFdvcmRJbmRleF0gPyB0aGlzLndvcmRzW2N1cnJlbnRXb3JkSW5kZXhdIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5kVGV4dFdvcmQodik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICg8TmRUZXh0V29yZD53b3JkKS5mcmVlemUgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBOZFRleHRCbG9jay5hcHBseVN0eWxlc1RvVGV4dCh3b3JkLCBzdHlsZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICg8TmRUZXh0V29yZD53b3JkKS5zdHJpbmcgPSB2XHJcbiAgICAgICAgICAgICAgICAgICAgd29yZC5mcmVlemUgPSB7Li4uZnJvemVufVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHdvcmQpXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFdvcmRJbmRleCsrXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwYWNlID0gdGhpcy53b3Jkc1tjdXJyZW50V29yZEluZGV4XSA/IE5kVGV4dEJsb2NrLmFwcGx5U3R5bGVzVG9UZXh0KHRoaXMud29yZHNbY3VycmVudFdvcmRJbmRleF0sIHN0eWxlcykgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBOZFRleHRCbG9jay5hcHBseVN0eWxlc1RvVGV4dChuZXcgTmRUZXh0U3BhY2UoKSwgc3R5bGVzKVxyXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlLmZyZWV6ZSA9IHsuLi50aGlzLmZyZWV6ZX1cclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzcGFjZSlcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50V29yZEluZGV4KytcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgfVxyXG5cclxuICAgIGdldCBsZW5ndGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyLmxlbmd0aFxyXG4gICAgfVxyXG5cclxuICAgIGdldCB3aWR0aCgpIHtcclxuICAgICAgICBpZiAodGhpcy51cGRhdGVkKSB0aGlzLnVwZGF0ZVNpemUoKVxyXG4gICAgICAgIHJldHVybiB0aGlzLmwgPCB0aGlzLncgPyB0aGlzLmwgOiB0aGlzLndcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbGltaXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubFxyXG4gICAgfVxyXG5cclxuICAgIHNldCBsaW1pdCh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMubCA9IHZhbHVlXHJcbiAgICAgICAgdGhpcy51cGRhdGVkID0gdHJ1ZVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBoZWlnaHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlZCkgdGhpcy51cGRhdGVTaXplKClcclxuICAgICAgICByZXR1cm4gdGhpcy5oXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHN0cmluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdHJcclxuICAgIH1cclxuXHJcbiAgICBzZXQgc3RyaW5nKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLnN0cikge1xyXG4gICAgICAgICAgICB0aGlzLnN0ciA9IHZhbHVlXHJcbiAgICAgICAgICAgIGNvbnN0IHdvcmRzID0gdGhpcy5zcGxpdCgpXHJcbiAgICAgICAgICAgIHdvcmRzLnBvcCgpIC8vcG9wIGxhc3Qgc3BhY2Ugc3ltYm9sXHJcbiAgICAgICAgICAgIHRoaXMud29yZHMgPSB3b3Jkc1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZWQgPSB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCA9ICgpID0+IHVuZGVmaW5lZCAvL1RPRE86VGV4dCBCbG9jayBDYWNoaW5nXHJcblxyXG4gICAgcmVuZGVyID0gKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgIGxldCB4ID0gMCwgeSA9IDAsXHJcbiAgICAgICAgICAgIGxpbWl0ID0gdGhpcy53aWR0aFxyXG5cclxuICAgICAgICB0aGlzLndvcmRzLmZvckVhY2goKHdvcmQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHggKyB3b3JkLndpZHRoID4gbGltaXQpIHtcclxuICAgICAgICAgICAgICAgIHkgKz0gdGhpcy5saW5lSGVpZ2h0XHJcbiAgICAgICAgICAgICAgICB4ID0gMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghKHdvcmQgaW5zdGFuY2VvZiBOZFRleHRTcGFjZSAmJiB4ID09PSAwKSkge1xyXG4gICAgICAgICAgICAgICAgd29yZC5yZW5kZXIoY29udGV4dCwgeCwgeSlcclxuICAgICAgICAgICAgICAgIHggKz0gd29yZC53aWR0aFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzdHI6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zdHJpbmcgPSBzdHJcclxuICAgICAgICB0aGlzLmJpbmRXb3Jkc1N0eWxlcygpXHJcbiAgICAgICAgdGhpcy5vbignZm9udCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYoIU9iamVjdC52YWx1ZXMoTmRGb250U3BlY2lhbFZhbHVlcykuaW5jbHVkZXModGhpcy5mb250IGFzIE5kRm9udFNwZWNpYWxWYWx1ZXMpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmb250ID0gbm9kYXNGb250cy5nZXQodGhpcy5mb250KVxyXG4gICAgICAgICAgICAgICAgaWYoZm9udCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCFmb250LmxvYWRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250Lm9uY2UoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZWQgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImltcG9ydCBOZE5vZGVTdHlsZXNNb2RlbCBmcm9tICcuLi9jbGFzc2VzL05kTm9kZVN0eWxlc01vZGVsJztcclxuaW1wb3J0IE5kU3R5bGVzUHJvcGVydHkgZnJvbSAnLi4vY2xhc3Nlcy9OZE5vZGVTdHlsZVByb3BlcnR5JztcclxuaW1wb3J0IHtOZENvbG9yU3RyfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQge05kRm9udFNwZWNpYWxWYWx1ZXMsIE5kRm9udFN0eWxlcywgTmRGb250V2VpZ2h0c30gZnJvbSAnLi4vLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5vZGFzRm9udHMgZnJvbSAnLi4vLi4vU2VydmljZXMvTm9kYXNGb250cyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZE1vZFRleHQgZXh0ZW5kcyBOZE5vZGVTdHlsZXNNb2RlbCB7XHJcbiAgICBzdHIgPSBuZXcgTmRTdHlsZXNQcm9wZXJ0eTxzdHJpbmcsIHN0cmluZywgc3RyaW5nPihcclxuICAgICAgICAwLFxyXG4gICAgICAgICcnLFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICB3aWR0aCA9IG5ldyBOZFN0eWxlc1Byb3BlcnR5PG51bWJlciB8ICdhdXRvJywgbnVtYmVyIHwgJ2F1dG8nLCBudW1iZXIgfCAnYXV0byc+KFxyXG4gICAgICAgIDEsXHJcbiAgICAgICAgJ2F1dG8nLFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICBmb250ID0gbmV3IE5kU3R5bGVzUHJvcGVydHk8TmRGb250U3BlY2lhbFZhbHVlcyB8IHN0cmluZywgTmRGb250U3BlY2lhbFZhbHVlcyB8IHN0cmluZywgTmRGb250U3BlY2lhbFZhbHVlcyB8IHN0cmluZz4oXHJcbiAgICAgICAgMSxcclxuICAgICAgICBOZEZvbnRTcGVjaWFsVmFsdWVzLnN5c3RlbSxcclxuICAgICAgICAoY3VycmVudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghKE9iamVjdC52YWx1ZXMoTmRGb250U3BlY2lhbFZhbHVlcykgYXMgc3RyaW5nW10pLmluY2x1ZGVzKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKE5vZGFzRm9udHMuZ2V0KHZhbHVlKSkgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgICAgICAgICBlbHNlIHJldHVybiBOZEZvbnRTcGVjaWFsVmFsdWVzLnN5c3RlbVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgICAgIH1cclxuICAgIClcclxuICAgIGNvbG9yID0gbmV3IE5kU3R5bGVzUHJvcGVydHk8TmRDb2xvclN0ciwgTmRDb2xvclN0ciwgTmRDb2xvclN0cj4oXHJcbiAgICAgICAgMixcclxuICAgICAgICAncmdiYSgwLDAsMCwxKScsXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICB3ZWlnaHQgPSBuZXcgTmRTdHlsZXNQcm9wZXJ0eTxOZEZvbnRXZWlnaHRzLCBOZEZvbnRXZWlnaHRzLCBOZEZvbnRXZWlnaHRzPihcclxuICAgICAgICAyLFxyXG4gICAgICAgICdub3JtYWwnLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50XHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG4gICAgbGluZUhlaWdodCA9IG5ldyBOZFN0eWxlc1Byb3BlcnR5PG51bWJlciwgbnVtYmVyLCBudW1iZXI+KFxyXG4gICAgICAgIDIsXHJcbiAgICAgICAgMTQsXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXNGaW5pdGUodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMTRcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICBzdHlsZSA9IG5ldyBOZFN0eWxlc1Byb3BlcnR5PE5kRm9udFN0eWxlcywgTmRGb250U3R5bGVzLCBOZEZvbnRTdHlsZXM+KFxyXG4gICAgICAgIDIsXHJcbiAgICAgICAgJ25vcm1hbCcsXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9XHJcbiAgICApXHJcblxyXG59IiwiaW1wb3J0IE5kTW9kQmFzZSBmcm9tICcuL21vZGVscy9OZE1vZEJhc2UnO1xyXG5pbXBvcnQgTmRNb2RBbmNob3IgZnJvbSAnLi9tb2RlbHMvTmRNb2RBbmNob3InO1xyXG5pbXBvcnQgTmRNb2RlQXNzZW1ibGVyIGZyb20gJy4vY2xhc3Nlcy9OZE1vZGVBc3NlbWJsZXInO1xyXG5pbXBvcnQgTmROb2RlQm94IGZyb20gJy4vY2xhc3Nlcy9OZE5vZGVCb3gnO1xyXG5pbXBvcnQgTmRUZXh0QmxvY2sgZnJvbSAnLi4vY2xhc3Nlcy9OZFRleHRCbG9jayc7XHJcbmltcG9ydCBOZE1vZFRleHQgZnJvbSAnLi9tb2RlbHMvTmRNb2RUZXh0JztcclxuaW1wb3J0IHtOZEZvbnRTcGVjaWFsVmFsdWVzLCBOZE51bWVyaWNBcnJheTJkfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgTm9kZSBmcm9tICcuL05vZGUnO1xyXG5pbXBvcnQgTm9kYXMgZnJvbSAnLi4vLi4vTm9kYXMnO1xyXG5pbXBvcnQge05kVGV4dFBhcnRpYWxQcm9wc30gZnJvbSAnLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgbm9kYXNGb250cyBmcm9tICcuLi9TZXJ2aWNlcy9Ob2Rhc0ZvbnRzJztcclxuXHJcbnR5cGUgVGV4dE5vZGVNb2RlbCA9IE5kTW9kVGV4dCAmIE5kTW9kQW5jaG9yICYgTmRNb2RCYXNlXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHQgZXh0ZW5kcyBOb2RlPFRleHROb2RlTW9kZWw+IHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgdGV4dEJsb2NrOiBOZFRleHRCbG9ja1xyXG4gICAgcHJvdGVjdGVkIEFzc2VtYmxlciA9IG5ldyBOZE1vZGVBc3NlbWJsZXIoW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ3RleHQnLFxyXG4gICAgICAgICAgICByZXNvbHZlcjogKGNvbnRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dEJsb2NrLnJlbmRlcihjb250ZXh0KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXSlcclxuICAgIHByb3RlY3RlZCBCb3g6IE5kTm9kZUJveCA9IG5ldyBOZE5vZGVCb3godGhpcywgdGhpcy5DYWNoZSwgKCkgPT4ge1xyXG4gICAgICAgIGxldCBwb3NpdGlvbiA9IFsuLi50aGlzLmRhdGEucG9zaXRpb24ucHJvdGVjdGVkVmFsdWVdIGFzIE5kTnVtZXJpY0FycmF5MmRcclxuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMudGV4dEJsb2NrLndpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLnRleHRCbG9jay5oZWlnaHRcclxuXHJcbiAgICAgICAgTm9kZS5hcHBseUJveEFuY2hvcihwb3NpdGlvbix3aWR0aCxoZWlnaHQsdGhpcy5kYXRhKVxyXG4gICAgICAgIHJldHVybiBbcG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdLCB3aWR0aCwgaGVpZ2h0LCAwLCAwLCAwLCAwXVxyXG4gICAgfSk7XHJcblxyXG4gICAgcHJvdGVjdGVkIHJlbmRlcjogTm9kZTxUZXh0Tm9kZU1vZGVsPlsncmVuZGVyJ10gPSAoY29udGV4dCkgPT4ge1xyXG4gICAgICAgIE5vZGUudHJhbnNmb3JtQ29udGV4dCh0aGlzLCBjb250ZXh0KVxyXG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuQXNzZW1ibGVyLmV4cG9ydCh0aGlzKSwgMCwgMClcclxuICAgICAgICByZXR1cm4gY29udGV4dFxyXG4gICAgfVxyXG4gICAgcHJvdGVjdGVkIHRlc3Q6IE5vZGU8VGV4dE5vZGVNb2RlbD5bJ3Rlc3QnXSA9IChjdXJzb3I6IE5kTnVtZXJpY0FycmF5MmQpID0+IHtcclxuICAgICAgICBjdXJzb3IgPSB0aGlzLk1hdHJpeC52YWx1ZS50cmFjZUN1cnNvclRvTG9jYWxTcGFjZShbLi4uY3Vyc29yXSlcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIGN1cnNvclswXSA8IHRoaXMuQm94LnZhbHVlLnNwcml0ZS5zaXplWzBdICYmIGN1cnNvclswXSA+IDAgJiZcclxuICAgICAgICAgICAgY3Vyc29yWzFdIDwgdGhpcy5Cb3gudmFsdWUuc3ByaXRlLnNpemVbMV0gJiYgY3Vyc29yWzFdID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN5bmNTdHlsZXNUb0Jsb2NrKCkge1xyXG4gICAgICAgIHRoaXMudGV4dEJsb2NrLmZvbnQgPSB0aGlzLmRhdGEuZm9udC5wcm90ZWN0ZWRWYWx1ZVxyXG4gICAgICAgIHRoaXMudGV4dEJsb2NrLmNvbG9yID0gdGhpcy5kYXRhLmNvbG9yLnByb3RlY3RlZFZhbHVlXHJcbiAgICAgICAgdGhpcy50ZXh0QmxvY2subGluZUhlaWdodCA9IHRoaXMuZGF0YS5saW5lSGVpZ2h0LnByb3RlY3RlZFZhbHVlXHJcbiAgICAgICAgdGhpcy50ZXh0QmxvY2suc3R5bGUgPSB0aGlzLmRhdGEuc3R5bGUucHJvdGVjdGVkVmFsdWVcclxuICAgICAgICB0aGlzLnRleHRCbG9jay53ZWlnaHQgPSB0aGlzLmRhdGEud2VpZ2h0LnByb3RlY3RlZFZhbHVlXHJcbiAgICAgICAgdGhpcy5iaW5kUHJvcHMoWydmb250JywgJ3N0eWxlJywgJ3dlaWdodCcsICdmb250U2l6ZScsICdsaW5lSGVpZ2h0JywgJ2NvbG9yJ10pXHJcbiAgICAgICAgdGhpcy53YXRjaCgnc3RyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRleHRCbG9jay5zdHJpbmcgPSB0aGlzLmRhdGEuc3RyLnByb3RlY3RlZFZhbHVlXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGJpbmRQcm9wcyhwcm9wOiAoa2V5b2YgTmRUZXh0UGFydGlhbFByb3BzKVtdKSB7XHJcbiAgICAgICAgcHJvcC5mb3JFYWNoKCh2KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2godiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0QmxvY2tbdl0gPSA8bmV2ZXI+dGhpcy5kYXRhW3ZdLnByb3RlY3RlZFZhbHVlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQ6IE5vZGU8VGV4dE5vZGVNb2RlbD5bJ2V4cG9ydCddID0gKCkgPT4gdGhpcy50ZXh0QmxvY2suZXhwb3J0KClcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBhcHA6IE5vZGFzKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIHsuLi5uZXcgTmRNb2RUZXh0KCksIC4uLm5ldyBOZE1vZEFuY2hvcigpLCAuLi5uZXcgTmRNb2RCYXNlKCl9LCBhcHApO1xyXG5cclxuICAgICAgICB0aGlzLnRleHRCbG9jayA9IG5ldyBOZFRleHRCbG9jayh0aGlzLmRhdGEuc3RyLnByb3RlY3RlZFZhbHVlKVxyXG4gICAgICAgIHRoaXMuc3luY1N0eWxlc1RvQmxvY2soKVxyXG5cclxuICAgICAgICB0aGlzLndhdGNoKFsnc3RyJywgJ2xpbmVIZWlnaHQnLCAnd2lkdGgnLCAnd2VpZ2h0JywgJ3N0eWxlJ10sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5Cb3gucHVyZ2UoKVxyXG4gICAgICAgICAgICB0aGlzLk1hdHJpeC5wdXJnZSgpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLndhdGNoKCd3aWR0aCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmRhdGEud2lkdGgucHJvdGVjdGVkVmFsdWUgPT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dEJsb2NrLmxpbWl0ID0gdGhpcy5kYXRhLndpZHRoLnByb3RlY3RlZFZhbHVlXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRCbG9jay5saW1pdCA9IEluZmluaXR5XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMud2F0Y2goWydzdHInLCAnbGluZUhlaWdodCcsICd3ZWlnaHQnLCAnd2lkdGgnLCAnc3R5bGUnXSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci51cGRhdGUoKVxyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci5yZXNpemUoKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy53YXRjaCgnZm9udCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFPYmplY3QudmFsdWVzKE5kRm9udFNwZWNpYWxWYWx1ZXMpLmluY2x1ZGVzKHRoaXMuZGF0YS5mb250LnByb3RlY3RlZFZhbHVlIGFzIE5kRm9udFNwZWNpYWxWYWx1ZXMpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmb250ID0gbm9kYXNGb250cy5nZXQodGhpcy5kYXRhLmZvbnQucHJvdGVjdGVkVmFsdWUpXHJcbiAgICAgICAgICAgICAgICBpZiAoZm9udCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZm9udC5sb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC5vbmNlKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Cb3gucHVyZ2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NYXRyaXgucHVyZ2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIucmVzaXplKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQubG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImltcG9ydCBDYW52YXMgZnJvbSAnLi9Ob2Rhcy9DYW52YXMnO1xyXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4vTm9kYXMvQ29uZmlnJztcclxuaW1wb3J0IFRpY2tlciBmcm9tICcuL05vZGFzL1RpY2tlcic7XHJcbmltcG9ydCBOb2RlcyBmcm9tICcuL05vZGFzL05vZGVzJztcclxuaW1wb3J0IE1vdXNlIGZyb20gJy4vTm9kYXMvTW91c2UnO1xyXG5pbXBvcnQgR3JvdXAgZnJvbSAnLi9Ob2Rhcy9Ob2Rlcy9Hcm91cCc7XHJcbmltcG9ydCBMaW5lIGZyb20gJy4vTm9kYXMvTm9kZXMvTGluZSc7XHJcbmltcG9ydCBDaXJjbGUgZnJvbSAnLi9Ob2Rhcy9Ob2Rlcy9DaXJjbGUnO1xyXG5pbXBvcnQgU3ByaXRlIGZyb20gJy4vTm9kYXMvTm9kZXMvU3ByaXRlJztcclxuaW1wb3J0IEFyZWEgZnJvbSAnLi9Ob2Rhcy9Ob2Rlcy9BcmVhJztcclxuaW1wb3J0IFJlY3RhbmdsZSBmcm9tICcuL05vZGFzL05vZGVzL1JlY3RhbmdsZSc7XHJcbmltcG9ydCB7R3JvdXBDaGlsZHJlbiwgTmROb2RlR2V0dGVyfSBmcm9tICcuL05vZGFzL05vZGVzL0B0eXBlcy90eXBlcy5qcyc7XHJcbmltcG9ydCBUZXh0IGZyb20gJy4vTm9kYXMvTm9kZXMvVGV4dCc7XHJcbmltcG9ydCBOb2Rhc0ZvbnRzIGZyb20gJy4vTm9kYXMvU2VydmljZXMvTm9kYXNGb250cyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb2RhcyB7XHJcbiAgICByZWFkb25seSBUaWNrZXIgPSBuZXcgVGlja2VyKClcclxuICAgIHJlYWRvbmx5IENhbnZhczogQ2FudmFzXHJcbiAgICByZWFkb25seSBUcmVlOiBOb2Rlc1xyXG4gICAgcmVhZG9ubHkgTW91c2U6IE1vdXNlXHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgQ29uZmlnID0gbmV3IENvbmZpZygpXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJlYTogTmROb2RlR2V0dGVyPEFyZWE+XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVjdDogTmROb2RlR2V0dGVyPFJlY3RhbmdsZT5cclxuICAgIHB1YmxpYyByZWFkb25seSB0ZXh0OiBOZE5vZGVHZXR0ZXI8VGV4dD5cclxuICAgIHB1YmxpYyByZWFkb25seSBzcHJpdGU6IE5kTm9kZUdldHRlcjxTcHJpdGU+XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2lyY2xlOiBOZE5vZGVHZXR0ZXI8Q2lyY2xlPlxyXG4gICAgcHVibGljIHJlYWRvbmx5IGxpbmU6IE5kTm9kZUdldHRlcjxMaW5lPlxyXG4gICAgcHVibGljIHJlYWRvbmx5IGdyb3VwOiAoaWQ6IHN0cmluZywgY2hpbGRyZW4/OiBHcm91cENoaWxkcmVuKSA9PiBHcm91cFxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQgfCBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBUaWNrZXJTcnYgPSBuZXcgVGlja2VyKClcclxuICAgICAgICBjb25zdCBDYW52YXNTcnYgPSBuZXcgQ2FudmFzKFRpY2tlclNydilcclxuICAgICAgICBjb25zdCBUcmVlU3J2ID0gbmV3IE5vZGVzKENhbnZhc1NydilcclxuICAgICAgICBjb25zdCBNb3VzZVNydiA9IG5ldyBNb3VzZShDYW52YXNTcnYsIFRpY2tlclNydiwgVHJlZVNydilcclxuICAgICAgICBDYW52YXNTcnYuZWxlbWVudChjYW52YXMpXHJcbiAgICAgICAgdGhpcy5UaWNrZXIgPSBUaWNrZXJTcnZcclxuICAgICAgICB0aGlzLkNhbnZhcyA9IENhbnZhc1NydlxyXG4gICAgICAgIHRoaXMuTW91c2UgPSBNb3VzZVNydlxyXG4gICAgICAgIHRoaXMuVHJlZSA9IFRyZWVTcnZcclxuXHJcbiAgICAgICAgLy9DZWF0aW5nIFJvb3QgR3JvdXBcclxuICAgICAgICBuZXcgR3JvdXAoJ05PREVfVFJFRV9ERUZBVUxUX1JPT1QnLCB0aGlzKVxyXG5cclxuICAgICAgICB0aGlzLmFyZWEgPSAoaWQpID0+IG5ldyBBcmVhKGlkLCB0aGlzKVxyXG4gICAgICAgIHRoaXMuY2lyY2xlID0gKGlkKSA9PiBuZXcgQ2lyY2xlKGlkLCB0aGlzKVxyXG4gICAgICAgIHRoaXMucmVjdCA9IChpZCkgPT4gbmV3IFJlY3RhbmdsZShpZCx0aGlzKVxyXG4gICAgICAgIHRoaXMubGluZSA9IChpZCkgPT4gbmV3IExpbmUoaWQsdGhpcylcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IChpZCkgPT4gbmV3IFNwcml0ZShpZCx0aGlzKVxyXG4gICAgICAgIHRoaXMudGV4dCA9IChpZCkgPT4gbmV3IFRleHQoaWQsdGhpcylcclxuICAgICAgICB0aGlzLmdyb3VwID0gKGlkOiBzdHJpbmcsIGNoaWxkcmVuPzogR3JvdXBDaGlsZHJlbikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBncm91cCA9IG5ldyBHcm91cChpZCwgdGhpcylcclxuICAgICAgICAgICAgaWYgKGNoaWxkcmVuKSBncm91cC5hcHBlbmQoY2hpbGRyZW4pXHJcbiAgICAgICAgICAgIHJldHVybiBncm91cFxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNvbnN0IEZvbnRzOiB0eXBlb2YgTm9kYXNGb250cyA9IE5vZGFzRm9udHMiXSwibmFtZXMiOlsiTmRRdWV1ZUVsZW1lbnQiLCJjb25zdHJ1Y3RvciIsImNhbGxiYWNrIiwib3JkZXIiLCJ0aGlzIiwiTmRFdmVudCIsInRhcmdldCIsImRhdGEiLCJ0aW1lIiwiRGF0ZSIsInByb3BhZ2F0ZSIsIk5kTW91c2VFdmVudCIsIk5kU3RhdGVFdmVudCIsIk5kRW1pdHRlciIsIkVtaXR0ZXIiLCJFdmVudEVtaXR0ZXIiLCJjYXN0IiwiZXZlbnQiLCJlbWl0IiwicmVzZXQiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJvbiIsIkFycmF5IiwiZm9yRWFjaCIsImUiLCJvbmNlIiwib2ZmIiwiTkRCIiwiTm9kYXNEZWJ1ZyIsInN1cGVyIiwicHJlZml4Iiwid2FybmluZ3MiLCJncm91cExldmVsIiwiY3VycmVudExldmVsIiwic2VwYXJhdG9yTWVzc2FnZXMiLCJnZXRNZXNzYWdlIiwibWVzc2FnZSIsInNvdXJjZSIsIm5hbWUiLCJlcnJvciIsImNvbnNvbGUiLCJ0cmFjZSIsIkVycm9yIiwid2FybiIsImxvZyIsImluZm8iLCJzZXBhcmF0b3IiLCJzZXBhcmF0b3JFbmQiLCJwb3NpdGl2ZSIsIm5lZ2F0aXZlIiwiZ3JvdXAiLCJncm91cEVuZCIsIkNhbnZhcyIsIlRpY2tlck1vZHVsZSIsImNvbnRleHQiLCJzIiwic051bWVyaWMiLCJyZXNpemVQcm9jZXNzVGltZW91dCIsInEiLCJfcmVhZHkiLCJfY2xlYXIiLCJhcmdzIiwic2Nyb2xsIiwid2luZG93Iiwic2Nyb2xsWCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsTGVmdCIsInNjcm9sbFkiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJjdXJzb3IiLCJwYWdlIiwic2NyZWVuIiwidXBkYXRlRXZlbnREYXRhIiwicGFnZVgiLCJwYWdlWSIsImdldE1vdXNlUmVsYXRpdmVQb3NpdGlvbiIsIm9uQ2FudmFzTW91c2VNb3ZlIiwib25DYW52YXNNb3VzZUxlYXZlIiwib25DYW52YXNNb3VzZUVudGVyIiwib25DYW52YXNNb3VzZURvd24iLCJvbkNhbnZhc01vdXNlVXAiLCJEcmF3U2NlbmUiLCJkYXRlIiwiZnJhbWUiLCJjbGVhclJlY3QiLCJjYW52YXMiLCJvZmZzZXRXaWR0aCIsIm9mZnNldEhlaWdodCIsInFjYiIsImkiLCJhcHBseSIsInF1ZXVlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZVJlc2l6ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwiX2EiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2IiLCJfYyIsIl9kIiwiX2UiLCJhZGRFdmVudExpc3RlbmVycyIsInJlY2FsY3VsYXRlT2Zmc2V0IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIngiLCJ5IiwicmVjYWxjdWxhdGVTaXplIiwicGFyZW50SFRNTE5vZGUiLCJwYXJlbnROb2RlIiwicGFyZW50SFRNTE5vZGVTdHlsZXMiLCJnZXRDb21wdXRlZFN0eWxlIiwicGFyZW50SGVpZ2h0IiwicGFyc2VJbnQiLCJnZXRQcm9wZXJ0eVZhbHVlIiwicGFyZW50V2lkdGgiLCJ3UGVyY2VudCIsImhQZXJjZW50Iiwic2V0QXR0cmlidXRlIiwidG9TdHJpbmciLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MQ2FudmFzRWxlbWVudCIsImdldENvbnRleHQiLCJpZCIsImNsYXNzTGlzdCIsImEiLCJiIiwicHVzaCIsInNvcnQiLCJ1blF1ZXVlIiwiZmlsdGVyIiwicUUiLCJzaXplIiwid2lkdGgiLCJoZWlnaHQiLCJyZWFkeSIsImNsZWFyIiwidmFsdWUiLCJOZENvbmZpZ1Byb3BlcnR5IiwicHJvcGVydHkiLCJjb25maWciLCJjaGVja0FycmF5IiwiY2IiLCJjaGVjayIsImlzTnVtYmVyIiwidiIsImlzU3RyaW5nIiwiaXNBcnJheSIsImN1c3RvbSIsImYiLCJ1bmRlciIsImxpbWl0IiwiZ3JlYXRlciIsImVxIiwiZXhhY3QiLCJpc0Jvb2wiLCJ2YWwiLCJPYmplY3QiLCJrZXlzIiwicHJvcE5hbWUiLCJjaGVja1ZhbHVlIiwicmVzdWx0IiwibGVuZ3RoIiwiZGVmaW5lIiwibiIsImNhbGwiLCJ3YXRjaCIsIkNvbmZpZyIsInByb3BlcnRpZXMiLCJjZmciLCJzZXQiLCJnZXQiLCJUaWNrZXIiLCJmcmFtZUR1cmF0aW9uIiwiZXZlbnRzQ2IiLCJzdG9wIiwic3RhcnQiLCJ0aWNrIiwiZHJhdyIsImNsZWFySW50ZXJ2YWwiLCJpbnRlcnZhbCIsInJlc29sdmUiLCJrZXkiLCJzZWxmIiwidW5kZWZpbmVkIiwic2V0SW50ZXJ2YWwiLCJmcmFtZVRpbWUiLCJmcHMiLCJuZEVhc2luZ3MiLCJkZWZhdWx0IiwidCIsImMiLCJkIiwibGluZWFyIiwibGluZWFyU29mdCIsInRzIiwidGMiLCJsaW5lYXJTb2Z0T3V0IiwibGluZWFyU29mdEluIiwiZWFzZUluUXVhZCIsImVhc2VPdXRRdWFkIiwiZWFzZUluT3V0UXVhZCIsImVhc2VJbkN1YmljIiwiZWFzZU91dEN1YmljIiwiZWFzZUluT3V0Q3ViaWMiLCJlYXNlSW5RdWFydCIsImVhc2VPdXRRdWFydCIsImVhc2VJbk91dFF1YXJ0IiwiZWFzZUluUXVpbnQiLCJlYXNlT3V0UXVpbnQiLCJlYXNlSW5PdXRRdWludCIsImVhc2VJblNpbmUiLCJNYXRoIiwiY29zIiwiUEkiLCJlYXNlT3V0U2luZSIsInNpbiIsImVhc2VJbk91dFNpbmUiLCJlYXNlSW5FeHBvIiwicG93IiwiZWFzZU91dEV4cG8iLCJlYXNlSW5PdXRFeHBvIiwiZWFzZUluQ2lyYyIsInNxcnQiLCJlYXNlT3V0Q2lyYyIsImVhc2VJbk91dENpcmMiLCJlYXNlSW5CYWNrIiwiZWFzZU91dEJhY2siLCJlYXNlSW5PdXRCYWNrIiwiZWFzZU91dEJvdW5jZSIsIk5kTW9ycGhpbmUiLCJzdGFydFZhbHVlIiwiZW5kVmFsdWUiLCJkdXJhdGlvbiIsImVhc2luZ0Z1bmN0aW9uIiwicmVwZWF0IiwicmVwZWF0Q291bnQiLCJzdGFydF90aW1lIiwicHJvZ3Jlc3MiLCJfcGF1c2VkIiwiX2RvbmUiLCJlbmQiLCJlYXNpbmciLCJnZXRUaW1lIiwiZG9uZSIsInBhdXNlIiwicGF1c2VkIiwiSW5maW5pdHkiLCJOZEFuaW1hdGlvbiIsInN0YWNrIiwiX3F1ZXVlIiwiX2FjdGl2ZSIsImFjdGl2ZSIsImluZGV4T2YiLCJmaW5kSW5kZXgiLCJwcm9wcyIsIm1hcCIsImluZGV4Iiwic3BsaWNlIiwiYW5pIiwiaW5pdCIsIm1vcnBoaW5lIiwiZWFzZSIsInN0eWxlIiwiY29tcGxldGUiLCJzdGFydFZhbCIsInBhcnNlRmxvYXQiLCJmcm9tRW50cmllcyIsInByb3AiLCJOZE1hdHJpeCIsIl92YWx1ZSIsIl9pbnZlcnNpb24iLCJfZ2xvYmFsSW52ZXJzaW9uIiwiaGlzdG9yeSIsIl9lbGVtZW50IiwiaW52ZXJ0Iiwicm90YXRlIiwic2luQSIsImNvc0EiLCJtdWx0aXBseSIsInRyYW5zbGF0ZSIsInNrZXciLCJ0YW4iLCJzY2FsZSIsImFuZ2xlIiwibSIsInRhbkEiLCJnbG9iYWxJbnZlcnNpb24iLCJwYXJlbnQiLCJtYXRyaXgiLCJ0cmFjZUN1cnNvclRvTG9jYWxTcGFjZSIsInBvaW50IiwiYXBwbHlNYXRyaXhUb1BvaW50IiwicHVyZ2VJbnZlcnNpb24iLCJHcm91cCIsImZvckVhY2hDaGlsZCIsImV4dHJhY3QiLCJleHRyYWN0SW52ZXJzaW9uIiwic3RhdGljIiwibXVsdGlwbGllciIsImEwIiwiYTEiLCJhMiIsImEzIiwiYTQiLCJhNSIsIk5kTm9kZU1hdHJpeCIsIm1vZGVsIiwiY2FjaGUiLCJnZXR0ZXIiLCJwdXJnZSIsInJlZ2lzdGVyIiwicG9zaXRpb24iLCJwcm90ZWN0ZWRWYWx1ZSIsInNwcml0ZSIsImJvdW5kaW5nUmVjdCIsIm9yaWdpbiIsIl90cmFuc2xhdGUiLCJOZENhY2hlIiwidmFsdWVzIiwiZnVuYyIsInJlbGV2YW50IiwiTmRDb21waWxlciIsInJlc29sdmVyIiwiY29uZGl0aW9ucyIsImRyYXdlclBpcGVCZWZvcmUiLCJkcmF3ZXJQaXBlQWZ0ZXIiLCJiZWZvcmVQaXBlU2l6ZSIsImFmdGVyUGlwZVNpemUiLCJpc1JlbmRlckFsbG93ZWQiLCJyZW5kZXJBbGxvd2VkIiwicmVuZGVyIiwiY3VycmVudENvbnRleHQiLCJzYXZlIiwicGlwZU9yZGVyIiwiaGFzT3duUHJvcGVydHkiLCJwaXBlSW5kZXgiLCJjYWxsYmFja3NSZXN1bHQiLCJyZXN0b3JlIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwiYmxlbmRpbmciLCJnbG9iYWxBbHBoYSIsIm9wYWNpdHkiLCJkcmF3SW1hZ2UiLCJwaXBlIiwidW5waXBlIiwiTm9kZSIsImFwcCIsIkNhY2hlIiwibW9kZWxFbWl0dGVyIiwiYW5pbWF0aW9ucyIsInRpY2tFbGVtZW50QW5pbWF0aW9ucyIsImFuaW1hdGlvbiIsIk1hdHJpeCIsIkNvbXBpbGVyIiwiVHJlZUNvbm5lY3RvciIsIlRyZWUiLCJNb3VzZSIsInRlc3QiLCJiaW5kIiwiY29uZGl0aW9uIiwib3JkZXJpbmciLCJmb3JFYWNoTGF5ZXIiLCJwdXJnZUJveCIsImNoZWNrUXVldWUiLCJmaW5kQ29tcGV0aXRvcnMiLCJjb21wZXRpdG9ycyIsImNvbXBldGl0b3IiLCJhbmltYXRlIiwic3RlcCIsInB1YmxpY1ZhbHVlIiwidW53YXRjaCIsInRyZWUiLCJyZW5hbWUiLCJ6IiwiYm94IiwiQm94IiwiY29udGFpbmVyIiwibGVmdCIsInRvcCIsImFuaW1hdGVkIiwidHJhbnNmb3JtIiwic3R5bGVzIiwiYXNzZW1ibGVyIiwicGF0aCIsImJnIiwiY2xpcEJlemllclBhdGgiLCJkcmF3QmciLCJsb2FkZWQiLCJiZ1dpZHRoIiwiYmFja2dyb3VuZFNpemVOdW1lcmljIiwiYmdIZWlnaHQiLCJiZ1Bvc2l0aW9uWCIsImJhY2tncm91bmRQb3NpdGlvbk51bWVyaWMiLCJiZ1Bvc2l0aW9uWSIsImV4cG9ydCIsInVwZGF0ZSIsImludGVycG9sYXRpb24iLCJkcmF3QmV6aWVyUGF0aEJnIiwiZHJhd0xpbmVhclBhdGhCZyIsInNtb290aCIsImNsb3NlZCIsInJlZ2lzdGVyUGF0aCIsImNsaXAiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJzZWdtZW50IiwibGluZVRvIiwiYmV6aWVyQ3VydmVUbyIsImNsb3NlUGF0aCIsImxpbmVDYXAiLCJjYXAiLCJmaWxsU3R5bGUiLCJmaWxsIiwieDEiLCJ5MSIsIngyIiwieTIiLCJjeDEiLCJjeTEiLCJjeDIiLCJjeTIiLCJzdHJva2VXaWR0aCIsInN0cm9rZVN0eWxlIiwic3Ryb2tlQ29sb3IiLCJsaW5lV2lkdGgiLCJzZXRMaW5lRGFzaCIsInN0cm9rZSIsImFuY2hvciIsIk5kTm9kZVN0eWxlc01vZGVsIiwiZmxvb3IiLCJjb2xvciIsImNvbG9yVG9BcnJheSIsInJvdW5kIiwidG9GaXhlZCIsIm1hdGNoIiwibm9ybWFsaXplQ29sb3IiLCJ4MCIsInkwIiwiZDAxIiwiZDEyIiwiZmEiLCJmYiIsInNtb290aGluZyIsInByZXYiLCJjb250cm9scyIsIm1pZCIsIm5leHQiLCJnZXRDb250cm9sUG9pbnRzIiwicGF0aDEiLCJwYXRoMiIsImJhc2UiLCJhcnJheSIsImZpbGxlciIsImNvbnZlcnRTaW1wbGVQYXRoIiwiYmV6aWVyUG9pbnQiLCJwb3AiLCJOZFN0eWxlc1Byb3BlcnR5IiwiaW5pdGlhbCIsInN5bmMiLCJkaWZmIiwiTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkIiwic2V0dGVyIiwic3RhcnRlciIsImFwcGxpZXIiLCJfc3RhcnQiLCJfZW5kIiwic2V0U3RhcnRWYWx1ZSIsInNldEVuZFZhbHVlIiwiTmRNb2RCYXNlIiwiY3VycmVudCIsInNldFN0YXJ0Iiwic2V0RW5kIiwicmFkVG9EZWciLCJkZWdUb1JhZCIsIk5kQm94IiwibWFyZ2luIiwibWFyZ2luVG9wIiwibWFyZ2luUmlnaHQiLCJtYXJnaW5Cb3R0b20iLCJtYXJnaW5MZWZ0IiwiTmROb2RlQm94IiwiYm94R2V0dGVyIiwibWluWCIsIm1pblkiLCJtYXhZIiwibWF4WCIsIm1pbiIsIm1heCIsImlzRmluaXRlIiwidHJhbnNmb3JtQ29udGV4dCIsImNvbXBpbGUiLCJjaGVja05vZGUiLCJhcHBlbmQiLCJub2RlIiwiTmROb2RlQ29ubmVjdG9yIiwiX3BhcmVudCIsIl9sYXllcnMiLCJfbGF5ZXIiLCJfaWRlbnRpZmllciIsImxheWVyIiwiekNoaWxkIiwicHJlcGVuZCIsInVuc2hpZnQiLCJyZW1vdmVDaGlsZCIsIk5vZGVzIiwiX3Jvb3QiLCJpZHMiLCJTZXQiLCJlbGVtZW50cyIsImRyYXdOb2RlVHJlZSIsInRyZWVWaW9sYXRpb24iLCJoYXMiLCJhZGQiLCJjb25uZWN0b3IiLCJyb290IiwidW5yZWdpc3RlciIsInVubW91bnQiLCJkZWxldGUiLCJuZXdJZCIsIk5kTm9kZU1vdXNlRGlzcGF0Y2hlciIsImVtaXR0ZXIiLCJ0ZXN0ZXIiLCJ0cmFuc2Zvcm1lciIsIl9kaXNhYmxlZCIsImRpc2FibGVkIiwiZGlzYWJsZSIsImVuYWJsZSIsImN1cnJlbnRIb3ZlciIsImN1cnJlbnRGb2N1cyIsIm1vdXNlRG93biIsImRyYWdnaW5nIiwiZXZlbnRTdGFjayIsInBvc3Rwb25lZCIsIm1heEV2ZW50c1BlclF1ZXVlIiwibWF4RXZlbnRzUmVzb2x2ZVRpbWVQZXJGcmFtZSIsInJlc29sdmVTdGFjayIsInJlc29sdmVPclBvc3Rwb25lIiwiYXNzaWduIiwiaGFuZGxlciIsIml0ZXJhdGlvbnMiLCJzdGFydFRpbWUiLCJlbGFwc2VkIiwic2hpZnQiLCJnZXRTdGFja0NhbGxiYWNrIiwiTmRDYW52YXMiLCJjcmVhdGVFbGVtZW50IiwiTmRMYXllciIsIk5kTW9kZUFzc2VtYmxlciIsImxheWVycyIsIm91dHB1dCIsInciLCJoIiwicmVzaXplZCIsInJlc2l6ZSIsIk5kTW9kRnJlZVN0cm9rZSIsImFycmF5VG9Db2xvciIsImNvbnZlcnRDb21wbGV4UGF0aCIsIk5kTW9kQW5jaG9yIiwiTmROb2RlRW1waXJpY2FsTW91c2VDaGVja2VyIiwicmVkcmF3IiwicG9pbnRlciIsInBpeGVsIiwiZ2V0SW1hZ2VEYXRhIiwiTGluZSIsInhTaGlmdCIsInlTaGlmdCIsInN0cm9rZUZpeCIsImludGVycG9sYXRpb25GaXgiLCJpbnRlcnBvbGF0ZWQiLCJtb3VzZVRlc3RlciIsIkFzc2VtYmxlciIsImludGVycG9sYXRlIiwiZHJhd1N0cm9rZSIsImZpeCIsIm1pbngiLCJtaW55IiwibWF4eCIsIm1heHkiLCJhYnMiLCJhcHBseUJveEFuY2hvciIsInJlZHVjZSIsImFjYyIsIk5kUmVzb3VyY2UiLCJ1cmwiLCJfc3RhdHVzIiwicmVzb2x2ZWQiLCJzcmMiLCJsb2FkIiwiTmRJbWFnZSIsImltYWdlIiwiX3NpemUiLCJJbWFnZSIsInN0ciIsIk5kVXJsU3RyUmVnZXgiLCJOZE1vZEJnIiwidXBkYXRlU2l6ZUFuZFBvc2l0aW9uIiwiYmFja2dyb3VuZFBvc2l0aW9uIiwiYmFja2dyb3VuZFNpemUiLCJyZWFkQmdTaXplIiwicmVhZEJnUG9zaXRpb24iLCJib3hTaXplIiwiYmdTaXplIiwiZGlyIiwicG9zaXRpb25WYWx1ZSIsIm5vcm1hbGl6ZUJnUG9zaXRpb24iLCJiZ1NpemVWYWx1ZSIsImV4dHJhY3RQZXJjZW50RnJhY3Rpb24iLCJOZE1vZENpcmMiLCJyYWRpdXMiLCJDaXJjbGUiLCJBcHAiLCJjb29yZHMiLCJhcmMiLCJOZFNwcml0ZSIsInNldEZyYW1lRGF0YSIsImZyYW1lQ291bnQiLCJyZWZyZXNoUmF0ZSIsImNodW5rU2l6ZSIsImNodW5rWFlDb3VudCIsInRpbWVTdGFydCIsImZyb3plbiIsImN1cnJlbnRUaW1lIiwiZGVsdGEiLCJjdXJyZW50WSIsImN1cnJlbnRYIiwiY2VpbCIsInIiLCJwbGF5IiwiZnJhbWVzIiwiTmRVcmxTcHJpdGVTdHJSZWdleCIsIk5kTW9kU3ByaXRlIiwiaXNOZFVybFNwcml0ZVN0ciIsIlNwcml0ZSIsIkFyZWEiLCJkcmF3RmlsbCIsImRyYXdQYXRoQmciLCJOZE1vZFNpemUiLCJOZE1vZFJlY3QiLCJSZWN0YW5nbGUiLCJDSVJDTEVDT05TVCIsImRyYXdSZWN0U3Ryb2tlIiwidGwiLCJ0ciIsImJyIiwiYmwiLCJwdXJnZVBhdGgiLCJyZWN0U2VnbWVudCIsImNvbG9yMSIsImNvbG9yMiIsIndpZHRoMSIsIndpZHRoMiIsInB4MSIsInB5MSIsInB4MiIsInB5MiIsImNweDEiLCJjcHkxIiwiY3B4MiIsImNweTIiLCJncmFkIiwiY3JlYXRlQ29uaWNHcmFkaWVudCIsImFkZENvbG9yU3RvcCIsInNlZ21lbnRTdG9wcyIsImN1cnJlbnRTZWdtZW50IiwiZHJhd0Nvcm5lciIsImRyYXdCcmlkZ2UiLCJOZEZvbnRTcGVjaWFsVmFsdWVzIiwiTmRGb250IiwiZm9ybWF0Iiwic2NoZW1lIiwiaW5pdE1lYXN1cmVCdWZmZXIiLCJsb2FkRm9udCIsImlubmVySFRNTCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsImZvbnRNYXhMb2FkVGltZSIsImZvbnRMb2FkU3RhcnQiLCJmb250TWVhc3VyZUJ1ZmZlciIsImZvcm1hdFN0ciIsImVvdCIsIndvZmYiLCJ0dGYiLCJzdmciLCJmb250IiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsIndlaWdodCIsInN0eWxlU3RyIiwiZm9ybWF0RXh0IiwiZkluZGV4IiwiZXh0cmFjdE51bWVyaWNXZWlnaHQiLCJvbkxvYWQiLCJvbkVycm9yIiwiY2hlY2tSZXN1bHRCdWZmZXIiLCJtZWFzdXJlRm9udCIsImN1c3RvbUZhbWlseSIsInN0cmluZyIsIm1lYXN1cmVUZXh0IiwiQ09OU1RGT05UQ0hFQ0tTVFJJTkciLCJsaW5lSGVpZ2h0Iiwid29yZCIsIk5vZGFzRm9udHMkMSIsIk5vZGFzRm9udHMiLCJmb250cyIsImZvbnRSb290UGF0aCIsImZvcm1hdHMiLCJpbmNsdWRlcyIsIk5kVGV4dFBhcnRpYWwiLCJ0ZXh0Q29sb3IiLCJmV2VpZ2h0IiwiZlNpemUiLCJsSGVpZ2h0IiwiZlN0eWxlIiwibmRGb250IiwiZnJlZXplIiwib25Qb3NzaWJsZVNpemVDaGFuZ2UiLCJmb250U3RyaW5nIiwibm9ybWFsaXplZCIsImZvbnRTaXplIiwiTmRUZXh0V29yZCIsInJlc2l6ZUZsYWciLCJyZWRyYXdGbGFnIiwidGV4dEJhc2VsaW5lIiwiZmlsbFRleHQiLCJub2Rhc0ZvbnRzIiwidHJpbSIsIk5kVGV4dFNwYWNlIiwibWVhc3VyZWQiLCJmb3JjZVJlZHJhdyIsIk5kVGV4dEJsb2NrIiwibCIsIndvcmRzUGF0dGVybiIsInRhZ1BhdHRlcm4iLCJ1cGRhdGVkIiwid29yZHMiLCJiaW5kV29yZHNTdHlsZXMiLCJzeW1ib2wiLCJ1cGRhdGVTaXplIiwibGluZXMiLCJrIiwibWF4TGluZSIsInNwbGl0Iiwid29yZEluZGV4IiwiY3VycmVudE1hdGNoIiwiY3VycmVudFdvcmRJbmRleCIsImV4ZWMiLCJwcmVNYXRjaFdvcmRzIiwic3Vic3RyaW5nIiwiYXBwbHlTdHlsZXNUb1RleHQiLCJncm91cHMiLCJjb250ZW50IiwidGFnbmFtZSIsInNwYWNlIiwiTmRNb2RUZXh0Iiwic3lzdGVtIiwiVGV4dCIsInRleHRCbG9jayIsInN5bmNTdHlsZXNUb0Jsb2NrIiwiYmluZFByb3BzIiwiTm9kYXMiLCJUaWNrZXJTcnYiLCJDYW52YXNTcnYiLCJUcmVlU3J2IiwiTW91c2VTcnYiLCJhcmVhIiwiY2lyY2xlIiwibGluZSIsInRleHQiLCJjaGlsZHJlbiIsIkZvbnRzIl0sIm1hcHBpbmdzIjoiQUFFYyxNQUFPQSxlQUlqQkMsWUFBWUMsRUFBaUNDLEdBSHBDQyxLQUFLRCxNQUFXLEVBSXJCQyxLQUFLRixTQUFXQSxFQUNaQyxJQUFPQyxLQUFLRCxNQUFRQSxFQUMzQixFQ1RTLE1BQU9FLFFBT2pCSixZQUNJSyxFQUNBQyxHQVBZSCxLQUFBSSxLQUFhLElBQUlDLEtBRzFCTCxLQUFTTSxXQUFZLEVBS3hCTixLQUFLRSxPQUFTQSxFQUNkRixLQUFLRyxLQUFPQSxDQUNmLEVDVGdCLE1BQUFJLHFCQUE2Qk4sU0NEN0IsTUFBQU8scUJBQTZCUCxzbE1DQ3BDLE1BQU9RLFVBQXJCWixjQUNZRyxLQUFBVSxRQUFVLElBQUlDLFlBdUJ6QixDQXRCYUMsS0FBS0MsRUFBcUJWLEdBRWhDLE9BREFILEtBQUtVLFFBQVFJLEtBQWFELEVBQU9WLEdBQzFCQSxDQUNWLENBRVNZLFFBQ05mLEtBQUtVLFFBQVFNLG9CQUNoQixDQUNEQyxHQUFHSixFQUFrQmYsR0FD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
