class NdQueueElement{constructor(t,e){this.order=0,this.callback=t,e&&(this.order=e)}}class NdEvent{constructor(t,e){this.time=new Date,this.propagate=!0,this.target=t,this.data=e}}class NdMouseEvent extends NdEvent{}class NdStateEvent extends NdEvent{}function EventHandlers(){}function EventEmitter(){EventEmitter.init.call(this)}function $getMaxListeners(t){return void 0===t._maxListeners?EventEmitter.defaultMaxListeners:t._maxListeners}function emitNone(t,e,s){if(e)t.call(s);else for(var i=t.length,r=arrayClone(t,i),o=0;o<i;++o)r[o].call(s)}function emitOne(t,e,s,i){if(e)t.call(s,i);else for(var r=t.length,o=arrayClone(t,r),n=0;n<r;++n)o[n].call(s,i)}function emitTwo(t,e,s,i,r){if(e)t.call(s,i,r);else for(var o=t.length,n=arrayClone(t,o),a=0;a<o;++a)n[a].call(s,i,r)}function emitThree(t,e,s,i,r,o){if(e)t.call(s,i,r,o);else for(var n=t.length,a=arrayClone(t,n),h=0;h<n;++h)a[h].call(s,i,r,o)}function emitMany(t,e,s,i){if(e)t.apply(s,i);else for(var r=t.length,o=arrayClone(t,r),n=0;n<r;++n)o[n].apply(s,i)}function _addListener(t,e,s,i){var r,o,n;if("function"!=typeof s)throw new TypeError('"listener" argument must be a function');if((o=t._events)?(o.newListener&&(t.emit("newListener",e,s.listener?s.listener:s),o=t._events),n=o[e]):(o=t._events=new EventHandlers,t._eventsCount=0),n){if("function"==typeof n?n=o[e]=i?[s,n]:[n,s]:i?n.unshift(s):n.push(s),!n.warned&&(r=$getMaxListeners(t))&&r>0&&n.length>r){n.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+n.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=n.length,function emitWarning(t){"function"==typeof console.warn?console.warn(t):console.log(t)}(a)}}else n=o[e]=s,++t._eventsCount;return t}function _onceWrap(t,e,s){var i=!1;function g(){t.removeListener(e,g),i||(i=!0,s.apply(t,arguments))}return g.listener=s,g}function listenerCount(t){var e=this._events;if(e){var s=e[t];if("function"==typeof s)return 1;if(s)return s.length}return 0}function arrayClone(t,e){for(var s=new Array(e);e--;)s[e]=t[e];return s}EventHandlers.prototype=Object.create(null),EventEmitter.EventEmitter=EventEmitter,EventEmitter.usingDomains=!1,EventEmitter.prototype.domain=void 0,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.init=function(){this.domain=null,EventEmitter.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new EventHandlers,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function setMaxListeners(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return $getMaxListeners(this)},EventEmitter.prototype.emit=function emit(t){var e,s,i,r,o,n,a,h="error"===t;if(n=this._events)h=h&&null==n.error;else if(!h)return!1;if(a=this.domain,h){if(e=arguments[1],!a){if(e instanceof Error)throw e;var d=new Error('Uncaught, unspecified "error" event. ('+e+")");throw d.context=e,d}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=a,e.domainThrown=!1,a.emit("error",e),!1}if(!(s=n[t]))return!1;var l="function"==typeof s;switch(i=arguments.length){case 1:emitNone(s,l,this);break;case 2:emitOne(s,l,this,arguments[1]);break;case 3:emitTwo(s,l,this,arguments[1],arguments[2]);break;case 4:emitThree(s,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(r=new Array(i-1),o=1;o<i;o++)r[o-1]=arguments[o];emitMany(s,l,this,r)}return!0},EventEmitter.prototype.addListener=function addListener(t,e){return _addListener(this,t,e,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(t,e){return _addListener(this,t,e,!0)},EventEmitter.prototype.once=function once(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,_onceWrap(this,t,e)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,_onceWrap(this,t,e)),this},EventEmitter.prototype.removeListener=function removeListener(t,e){var s,i,r,o,n;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(s=i[t]))return this;if(s===e||s.listener&&s.listener===e)0==--this._eventsCount?this._events=new EventHandlers:(delete i[t],i.removeListener&&this.emit("removeListener",t,s.listener||e));else if("function"!=typeof s){for(r=-1,o=s.length;o-- >0;)if(s[o]===e||s[o].listener&&s[o].listener===e){n=s[o].listener,r=o;break}if(r<0)return this;if(1===s.length){if(s[0]=void 0,0==--this._eventsCount)return this._events=new EventHandlers,this;delete i[t]}else!function spliceOne(t,e){for(var s=e,i=s+1,r=t.length;i<r;s+=1,i+=1)t[s]=t[i];t.pop()}(s,r);i.removeListener&&this.emit("removeListener",t,n||e)}return this},EventEmitter.prototype.off=function(t,e){return this.removeListener(t,e)},EventEmitter.prototype.removeAllListeners=function removeAllListeners(t){var e,s;if(!(s=this._events))return this;if(!s.removeListener)return 0===arguments.length?(this._events=new EventHandlers,this._eventsCount=0):s[t]&&(0==--this._eventsCount?this._events=new EventHandlers:delete s[t]),this;if(0===arguments.length){for(var i,r=Object.keys(s),o=0;o<r.length;++o)"removeListener"!==(i=r[o])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=new EventHandlers,this._eventsCount=0,this}if("function"==typeof(e=s[t]))this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},EventEmitter.prototype.listeners=function listeners(t){var e,s=this._events;return s&&(e=s[t])?"function"==typeof e?[e.listener||e]:function unwrapListeners(t){for(var e=new Array(t.length),s=0;s<e.length;++s)e[s]=t[s].listener||t[s];return e}(e):[]},EventEmitter.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):listenerCount.call(t,e)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};class NdEmitter{constructor(){this.Emitter=new EventEmitter,this.removeAllListeners=this.Emitter.removeAllListeners}cast(t,e){return this.Emitter.emit(t,e),e}on(t,e){t instanceof Array?t.forEach((t=>this.Emitter.on(t,e))):this.Emitter.on(t,e)}once(t,e){this.Emitter.once(t,e)}off(t,e){this.Emitter.off(t,e)}}const t=new class NodasDebug extends NdEmitter{constructor(){super(),this.prefix="⋒",this.warnings=!0,this.groupLevel=0,this.currentLevel=0,this.separatorMessages={}}getMessage(t,e){return`${this.prefix}${e?`[${"string"==typeof e?e:e.constructor.name}]`:""}: ${t}`}error(t,e){throw t=this.getMessage(t,e),this.cast("error",t),console.trace(),new Error("☠"+t)}warn(t,e){t=this.getMessage(t,e),console.log(`%c ${t} ⚠`,"border: 1px solid #FFD166; border-radius:2px; background:rgba(255, 209, 102,.01); padding: 4px 6px 4px 4px; color:#B88100")}info(t,e){t=this.getMessage(t,e),this.cast("info",t),console.log(`%c ${t} ℹ`,"border: 1px solid #118AB2; border-radius:2px; background:rgba(7, 59, 76,.01); padding: 4px 6px 4px 4px; color:#118AB2")}message(t,e){t=this.getMessage(t,e),this.cast("info",t),console.log("%c"+t,"border: 1px solid #073B4C; border-radius:2px; background:rgba(7, 59, 76,.01); padding: 4px 6px 4px 4px; color:#073B4C")}separator(t,e){t=this.getMessage(t,e),this.currentLevel++,this.separatorMessages[this.currentLevel]=t,this.cast("info",t),console.log("%c"+t+" ⌛","padding: 4px 10px; border-left: 2px solid #10949C; background:rgba(16,148,156,0.1); color: #10949C")}separatorEnd(){this.warnings&&(this.separatorMessages[this.currentLevel]&&(console.log("%c"+this.separatorMessages[this.currentLevel]+" ✔","padding: 4px 10px; border-left: 2px solid #10949C; background:rgba(16,148,156,0.1); color: #10949C"),this.currentLevel--),0===this.currentLevel&&(this.separatorMessages={}))}positive(t,e){this.warnings&&(t=this.getMessage(t,e),this.cast("info",t),console.log(`%c ${t} ✅`,"border: 1px solid rgb(6, 214, 160); border-radius:2px; background:rgba(6, 214, 160,.01); padding: 4px 6px 4px 4px; color:#05B384"))}negative(t,e){this.warnings&&(t=this.getMessage(t,e),this.cast("info",t),console.log(`%c ${t} ❌`,"border: 1px solid #EF476F; border-radius:2px; background:rgba(239, 71, 111,.01); padding: 4px 6px 4px 4px; color:#EB1E4E"))}group(t){this.warnings&&(console.group(t),this.groupLevel++)}groupEnd(){this.warnings&&(this.groupLevel--,console.groupEnd())}};class Canvas extends NdEmitter{constructor(e){super(),this.e=null,this.context=null,this.s=[800,600],this.sNumeric=[800,600],this.resizeProcessTimeout=null,this.q=[],this._ready=!1,this._clear=!1,this.args=[this.context,new Date,0],this.scroll=[window.scrollX||document.documentElement.scrollLeft,window.scrollY||document.documentElement.scrollTop],this.offset=[0,0],this.cursor={cursor:[0,0],page:[0,0],screen:[0,0]},this.updateEventData=t=>(this.cursor.page=[t.pageX,t.pageY],this.cursor.cursor=this.getMouseRelativePosition(t),this.cursor.screen=[t.pageX-this.scroll[0],t.pageY-this.scroll[1]],this.cursor),this.onCanvasMouseMove=t=>{this.cast("mouseMove",new NdMouseEvent(this,this.updateEventData(t)))},this.onCanvasMouseLeave=t=>{this.cast("mouseLeave",new NdMouseEvent(this,this.updateEventData(t)))},this.onCanvasMouseEnter=t=>{this.cast("mouseEnter",new NdMouseEvent(this,this.updateEventData(t)))},this.onCanvasMouseDown=t=>{this.cast("mouseDown",new NdMouseEvent(this,this.updateEventData(t)))},this.onCanvasMouseUp=t=>{this.cast("mouseUp",new NdMouseEvent(this,this.updateEventData(t)))},this.DrawScene=(e,s)=>{this._ready&&this.context&&(this._clear&&this.context.clearRect(0,0,this.context.canvas.offsetWidth,this.context.canvas.offsetHeight),this.args[0]=this.context,this.args[1]=e,this.args[2]=s,this.q.forEach(((e,s)=>{try{e.callback.apply(this,this.args)}catch(i){t.error(`Error emerged while drawing.\n. Queue: ${e.order}\n Queue Order: ${s}\n Member: ${e.callback.name}\n message: ${i.message}`)}})))},e.queue(0,this.DrawScene),window.addEventListener("scroll",(()=>{this.scroll[0]=window.scrollX||document.documentElement.scrollLeft,this.scroll[1]=window.scrollY||document.documentElement.scrollTop})),window.addEventListener("resize",(()=>this.handleResize()))}removeEventListeners(){var t,e,s,i,r;null===(t=this.e)||void 0===t||t.removeEventListener("mousemove",this.onCanvasMouseMove),null===(e=this.e)||void 0===e||e.removeEventListener("mouseleave",this.onCanvasMouseLeave),null===(s=this.e)||void 0===s||s.removeEventListener("mouseenter",this.onCanvasMouseEnter),null===(i=this.e)||void 0===i||i.removeEventListener("mousedown",this.onCanvasMouseDown),null===(r=this.e)||void 0===r||r.removeEventListener("mouseup",this.onCanvasMouseUp)}addEventListeners(){var t,e,s,i,r;null===(t=this.e)||void 0===t||t.addEventListener("mousemove",this.onCanvasMouseMove),null===(e=this.e)||void 0===e||e.addEventListener("mouseleave",this.onCanvasMouseLeave),null===(s=this.e)||void 0===s||s.addEventListener("mouseenter",this.onCanvasMouseEnter),null===(i=this.e)||void 0===i||i.addEventListener("mousedown",this.onCanvasMouseDown),null===(r=this.e)||void 0===r||r.addEventListener("mouseup",this.onCanvasMouseUp)}recalculateOffset(){if(this.e){const t=this.e.getBoundingClientRect();this.offset=[t.x+this.scroll[0],t.y+this.scroll[1]]}}getMouseRelativePosition(t){return[t.pageX-this.offset[0]-this.scroll[0],t.pageY-this.offset[1]-this.scroll[1]]}recalculateSize(){if(this.e){const e=this.e.parentNode;if(e){const t=e.getBoundingClientRect(),s=t.height,i=t.width;if("string"==typeof this.s[0]){const t=parseInt(this.s[0])/100;this.sNumeric[0]=i*t}else this.sNumeric[0]=this.s[0];if("string"==typeof this.s[1]){const t=parseInt(this.s[1])/100;this.sNumeric[1]=s*t}else this.sNumeric[1]=this.s[1];this.e.setAttribute("width",this.sNumeric[0].toString()),this.e.setAttribute("height",this.sNumeric[1].toString())}else t.warn("Current canvas element is detached from DOM. Size reset skipped");this.recalculateOffset()}else t.warn("No Canvas to operate. Size reset skipped")}handleResize(){this.e&&("string"==typeof this.s[0]||"string"==typeof this.s[1]?(this.e.setAttribute("width","0"),this.e.setAttribute("height","0"),this.resizeProcessTimeout&&clearTimeout(this.resizeProcessTimeout),this.resizeProcessTimeout=setTimeout((()=>{this.recalculateSize(),this.cast("resize",new NdStateEvent(this,null))}),1e3)):(this.resizeProcessTimeout&&clearTimeout(this.resizeProcessTimeout),this.sNumeric[0]=this.s[0],this.sNumeric[1]=this.s[1],this.recalculateSize(),this.cast("resize",new NdStateEvent(this,null))))}element(e){if("string"==typeof e){let s=document.querySelector(e);s instanceof HTMLCanvasElement?(s.setAttribute("width",this.sNumeric[0].toString()),s.setAttribute("height",this.sNumeric[1].toString()),this.removeEventListeners(),this.e=s,this.context=s.getContext("2d"),this.addEventListeners(),this._ready=!0,t.positive(`Accepted ${e} as rendering root`)):t.error(`Element ${e} is not a HTMLCanvasElement or does not exist`)}else e.setAttribute("width",this.sNumeric[0].toString()),e.setAttribute("height",this.sNumeric[1].toString()),this.removeEventListeners(),this.e=e,this.context=e.getContext("2d"),this.addEventListeners(),this._ready=!0,t.positive(`Accepted ${e.id?e.id:e.classList.toString()} as rendering root`);this.handleResize(),this.cast("switch",new NdStateEvent(this,null))}queue(t,e){return"number"==typeof t&&"function"==typeof e?this.q.push(new NdQueueElement(e,t)):"function"==typeof t&&this.q.push(new NdQueueElement(t)),this.q.sort(((t,e)=>t.order-e.order)),this}unQueue(e){this.q=this.q.filter((t=>t.callback!==e)),t.warn("Callback removed form canvas queue")}size(e,s){if("number"!=typeof e&&"string"!=typeof e)return[...this.sNumeric];"number"==typeof s||"string"==typeof s?(this.s[0]=e,this.s[1]=s,this.handleResize()):t.error(`Invalid Canvas size [${e}, ${s}]`)}forceResize(){this.handleResize()}get ready(){return this._ready}get clear(){return this._clear}set clear(t){this._clear=t}}class NdConfigProperty{constructor(t,e,s){if(this.checkArray=[],this.cb=[],this.check={isNumber:t=>"number"==typeof t,isString:t=>"string"==typeof t,isArray:t=>"object"==typeof t&&t instanceof Array,custom:(t,e)=>"function"==typeof e&&e(t),under:(t,e)=>!("number"!=typeof t||!e)&&t<e,greater:(t,e)=>!("number"!=typeof t||!e)&&t>e,eq:(t,e)=>"number"==typeof t&&t===e,isBool:t=>"boolean"==typeof t},this.val=e,Object.keys(s).forEach((t=>{this.checkArray.push({f:t,value:s[t]})})),!this.checkValue(e))throw new Error("Initial ["+t+"]'s value does not meet config requirements.")}checkValue(t){let e=!0;for(let s=0;s<this.checkArray.length;s++)if(e=this.check[this.checkArray[s].f](t,this.checkArray[s].value),!e)return e;return e}value(){return this.val}define(t){return this.checkValue(t)&&(this.val=t),this.cb.forEach((t=>{t.call(this,this.value())})),this}watch(t){if("function"!=typeof t)throw new Error("Can not set config property watcher. Argument f is not a function.");return this.cb.push(t),this}}class Config{constructor(){this.properties={}}define(t,e,s){if(this.properties[t])console.warn("Config property duplication on property name ["+t+"]");else try{this.properties[t]=new NdConfigProperty(t,e,s)}catch(e){throw console.error("Unable to create config property ["+t+"]"),e}return this.properties[t]}set(t,e){if(!this.properties[t])throw new Error("Unable to set property ["+t+"]. No such property.");return this.properties[t].define(e),this}get(t){if(this.properties[t])return this.properties[t].value();throw new Error("Unable to get property ["+t+"]. No such property.")}watch(t,e){if(this.properties[t])return this.properties[t].watch(e);throw new Error("No such property as ["+t+"] to watch.")}}class Ticker{constructor(){this.frameDuration=1e3/58.8,this.q=[],this.frame=0,this.args=[new Date,0],this.eventsCb={stop:[],start:[],error:[]},this.tick=()=>{this.args[0]=new Date,this.args[1]=this.frame;try{this.draw()}catch(e){window.clearInterval(this.interval),this.resolve("error",e),t.error(`Application ticker collapsed\n Frame: ${this.frame}\n Date: ${this.args[0]}\n Message: ${e.message}`)}},this.queue=(e,s)=>("function"==typeof e?this.q.push({order:0,f:e}):"function"==typeof s?this.q.push({order:e,f:s}):t.warn("Ticker callback is not a function. Ignored"),this.q.sort((function(t,e){return t.order-e.order})),this)}draw(){this.q.forEach(((e,s)=>{try{this.q[s].f.apply(self,this.args)}catch(e){t.error(`Error emerged while running ticker\n Queue: ${this.q[s].order}\n Order: ${s}\n Message: ${e.message}`)}})),this.frame++}resolve(t,e){this.eventsCb[t].forEach((t=>{t.apply(this,[e])}))}on(t,e){this.eventsCb[t].push(e)}stop(){return this.interval?(this.frame=0,clearInterval(this.interval),this.interval=void 0,this.resolve("stop",this),t.positive("Ticker stopped")):t.warn("Ticker already stopped. Ignored"),this}start(){return this.interval?t.warn("Ticker already started. Ignored"):(this.interval=window.setInterval(this.tick,this.frameDuration),this.resolve("start",this),t.positive("Ticker started")),this}get frameTime(){return this.frameDuration}fps(e){return e>60&&(e=60),e<=0&&(e=1),this.frameDuration=1e3/e,t.positive(`Ticker FPS set ${e}. Restart Ticker`),this.interval&&(this.stop(),this.start()),this}}const e={default:(...[t,e,s,i])=>s*(t/=i)*t*t+e,linear:(...[t,e,s,i])=>e+s*(t/=i),linearSoft(...[t,e,s,i]){const r=(t/=i)*t,o=r*t;return e+s*(4*o*r+-10*r*r+8*o+-2*r+t)},linearSoftOut(...[t,e,s,i]){const r=(t/=i)*t,o=r*t;return e+s*(-3*o*r+11*r*r+-14*o+6*r+t)},linearSoftIn(...[t,e,s,i]){const r=(t/=i)*t,o=r*t;return e+s*(-1*o*r+2*o)},easeInQuad:(...[t,e,s,i])=>s*(t/=i)*t+e,easeOutQuad:(...[t,e,s,i])=>-s*(t/=i)*(t-2)+e,easeInOutQuad:(...[t,e,s,i])=>(t/=i/2)<1?s/2*t*t+e:-s/2*(--t*(t-2)-1)+e,easeInCubic:(...[t,e,s,i])=>s*(t/=i)*t*t+e,easeOutCubic:(...[t,e,s,i])=>s*((t=t/i-1)*t*t+1)+e,easeInOutCubic:(...[t,e,s,i])=>(t/=i/2)<1?s/2*t*t*t+e:s/2*((t-=2)*t*t+2)+e,easeInQuart:(...[t,e,s,i])=>s*(t/=i)*t*t*t+e,easeOutQuart:(...[t,e,s,i])=>-s*((t=t/i-1)*t*t*t-1)+e,easeInOutQuart:(...[t,e,s,i])=>(t/=i/2)<1?s/2*t*t*t*t+e:-s/2*((t-=2)*t*t*t-2)+e,easeInQuint:(...[t,e,s,i])=>s*(t/=i)*t*t*t*t+e,easeOutQuint:(...[t,e,s,i])=>s*((t=t/i-1)*t*t*t*t+1)+e,easeInOutQuint:(...[t,e,s,i])=>(t/=i/2)<1?s/2*t*t*t*t*t+e:s/2*((t-=2)*t*t*t*t+2)+e,easeInSine:(...[t,e,s,i])=>-s*Math.cos(t/i*(Math.PI/2))+s+e,easeOutSine:(...[t,e,s,i])=>s*Math.sin(t/i*(Math.PI/2))+e,easeInOutSine:(...[t,e,s,i])=>-s/2*(Math.cos(Math.PI*t/i)-1)+e,easeInExpo:(...[t,e,s,i])=>0===t?e:s*Math.pow(2,10*(t/i-1))+e,easeOutExpo:(...[t,e,s,i])=>t===i?e+s:s*(1-Math.pow(2,-10*t/i))+e,easeInOutExpo:(...[t,e,s,i])=>0===t?e:t===i?e+s:(t/=i/2)<1?s/2*Math.pow(2,10*(t-1))+e:s/2*(2-Math.pow(2,-10*--t))+e,easeInCirc:(...[t,e,s,i])=>-s*(Math.sqrt(1-(t/=i)*t)-1)+e,easeOutCirc:(...[t,e,s,i])=>s*Math.sqrt(1-(t=t/i-1)*t)+e,easeInOutCirc:(...[t,e,s,i])=>(t/=i/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+e:s/2*(Math.sqrt(1-(t-=2)*t)+1)+e,easeInBack(...[t,e,s,i]){const r=(t/=i)*t,o=r*t;return e+s*(15.26*o*r+-43.56*r*r+39.8*o+-10.6*r+.1*t)},easeOutBack(...[t,e,s,i]){const r=(t/=i)*t,o=r*t;return e+s*(11.24*o*r+-23.96*r*r+12.24*o+1.44*r+.04*t)},easeInOutBack(...[t,e,s,i]){const r=(t/=i)*t,o=r*t;return e+s*(22.92*o*r+-57.78*r*r+45*o+-9.28*r+.14*t)},easeOutBounce:(...[t,e,s,i])=>(t/=i)<1/2.75?s*(7.5625*t*t)+e:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+e:s*(7.5625*(t-=2.625/2.75)*t+.984375)+e};class NdMorphine{constructor(t,e,s,i,r,o){this.duration=1,this.repeat=0,this.repeatCount=1,this.start_time=0,this.progress=0,this._paused=!1,this._done=!1,this.start=t,this.end=e,this.duration=s>0?s:0,this.callback=i,this.easing=r,this.repeat=o,this.start_time=(new Date).getTime()}get done(){return this._done}stop(){this._done=!0}pause(){this._paused=!0}get paused(){return this._paused}tick(t){this._done||(this._paused?this.start_time=(new Date).getTime()-this.duration*this.progress:(this.progress=(t-this.start_time)/this.duration,this.progress>1&&(this.progress=1),1==this.progress&&(this.repeat&&this.repeatCount>0?(this.repeatCount!==1/0&&this.repeatCount--,this.start_time=(new Date).getTime()):this._done=!0),this.callback(this.progress,this.easing((t-this.start_time)/1e3,this.start,this.end-this.start,this.duration/1e3),this.start_time)))}}class NdAnimation extends NdEmitter{constructor(t,e,s=1e3,i="default",r=!1){super(),this.stack=[],this.target=null,this._queue=!1,this._active=!1,this._done=!1,this.stack=e,this.easing=i,this.duration=s,this._queue=r,this.element=t}get queue(){return this._queue}get active(){return this._active}get done(){return this._done}indexOf(t){return this.stack.findIndex((e=>e.name===t))}get props(){return this.stack.map((t=>t.name))}stop(t){if(t){const e=this.indexOf(t.toString());e>-1&&this.stack.splice(e,1)}else this.stack=[]}start(){this.active||(this._active=!0,this.stack=this.stack.filter((t=>t.ani.init(t.value)&&!1!==t.ani.start&&!1!==t.ani.end)),this.morphine=new NdMorphine(0,1,this.duration,((t,e)=>{0===this.stack.length?(this.cast("complete",new NdEvent(this.element,{ease:1,progress:1})),this.morphine.stop()):(this.stack.forEach((s=>{s.result=this.tick(e,t,s.ani.start,s.ani.end),this.element.style(s.name,s.result)})),this.cast("step",new NdEvent(this.element,{ease:e,progress:t})),1===t&&this.cast("complete",new NdEvent(this.element,{progress:1,ease:1})))}),e[this.easing],0))}tick(t,e,s,i){for(;"function"==typeof s;)s=s();for(;"function"==typeof i;)i=i();let r=i;if(typeof s!=typeof i)throw new Error("start value and end value are of different types");if("number"==typeof s&&(r=e>=1?i:s+(i-s)*t),"string"==typeof s){const e=parseFloat(s);r=e+(parseFloat(i)-e)*t+"%"}if("object"==typeof s)if(Array.isArray(s)&&Array.isArray(i)){if(s.length!=i.length)throw new Error("Start and end values are of different lengths");r=s.map(((s,r)=>this.tick(t,e,s,i[r])))}else r=Object.fromEntries(Object.keys(s).map((r=>[r,this.tick(t,e,s[r],i[r])])));return r}}class NdMatrix{constructor(t){this._value=[1,0,0,1,0,0],this._inversion=[1,0,0,1,0,0],this._globalInversion=null,this.history=[],this._element=t}invert(){for(let t=this.history.length-1;t>=0;t--){if(void 0!==this.history[t].rotate){const e=Math.sin(-this.history[t].rotate),s=Math.cos(-this.history[t].rotate);NdMatrix.multiply(this._inversion,[s,e,-e,s,0,0])}this.history[t].translate&&NdMatrix.multiply(this._inversion,[1,0,0,1,-this.history[t].translate[0],-this.history[t].translate[1]]),this.history[t].skew&&NdMatrix.multiply(this._inversion,[1,Math.tan(-this.history[t].skew[1]),Math.tan(-this.history[t].skew[0]),1,0,0]),this.history[t].scale&&NdMatrix.multiply(this._inversion,[1/this.history[t].scale[0],0,0,1/this.history[t].scale[1],0,0])}}rotate(t){const e=Math.sin(t),s=Math.cos(t),i=[s,e,-e,s,0,0];return NdMatrix.multiply(this._value,i),this.history.push({rotate:t}),this}translate(t,e){const s=[1,0,0,1,t,e];return 0===t&&0===e||(NdMatrix.multiply(this._value,s),this.history.push({translate:[t,e]})),this}scale(...[t,e]){if(1!==t||1!==e){const s=[t,0,0,e,0,0];NdMatrix.multiply(this._value,s),this.history.push({scale:[t,e]})}return this}skew(...[t,e]){if(0!==t||0!==e){const s=Math.tan(t),i=[1,Math.tan(e),s,1,0,0];NdMatrix.multiply(this._value,i),this.history.push({skew:[t,e]})}return this}globalInversion(){if(this._globalInversion)return this._globalInversion;const t=this._element.parent;return this._globalInversion=[...this._inversion],t&&NdMatrix.multiply(this._globalInversion,t.matrix.globalInversion()),[...this._globalInversion]}traceCursorToLocalSpace(t){return NdMatrix.applyMatrixToPoint(this.globalInversion(),t)}reset(){this._value=[1,0,0,1,0,0],this._inversion=[1,0,0,1,0,0],this._globalInversion=null,this.history=[]}purgeInversion(){this._globalInversion=null,this._element instanceof Group&&this._element.forEachChild((t=>{t.matrix.purgeInversion()}))}extract(){return this._value}extractInversion(){return[...this._inversion]}static multiply(t,e){const s=t[0]*e[0]+t[2]*e[1],i=t[1]*e[0]+t[3]*e[1],r=t[0]*e[2]+t[2]*e[3],o=t[1]*e[2]+t[3]*e[3],n=t[0]*e[4]+t[2]*e[5]+t[4],a=t[1]*e[4]+t[3]*e[5]+t[5];t[0]=s,t[1]=i,t[2]=r,t[3]=o,t[4]=n,t[5]=a}static applyMatrixToPoint(t,e){const s=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return e[0]=s,e[1]=i,e}}class NdNodeMatrix{constructor(t,e,s){const i=new NdMatrix(t),{getter:r,purge:o}=s.register("transformMatrix",(()=>{i.reset();const s=e.position.protectedValue,r=t.boundingRect,o=e.origin.protectedValue.map(((t,e)=>r.size[e]*t)),n=e.skew.protectedValue,a=e.rotate.protectedValue,h=e.scale.protectedValue,d=e.translate.protectedValue,l=t instanceof Group?[s[0]+d[0],s[1]+d[1]]:[r.position[0]+d[0],r.position[1]+d[1]];return i.translate(o[0],o[1]),0===l[0]&&0===l[1]||i.translate(l[0],l[1]),a&&i.rotate(a),0===n[0]&&0===n[1]||i.skew(n[0],n[1]),0===h[0]&&0===h[1]||i.scale(h[0],h[1]),i.translate(-o[0],-o[1]),i.invert(),i}));this.purge=o,this.getter=r}get value(){return this.getter()}}class NdCache{constructor(){this.values={}}register(t,e){return this.values[t]||(this.values[t]={value:void 0,getter:e,relevant:!1}),{purge:()=>{this.values[t].relevant=!1},getter:()=>(this.values[t].relevant||(this.values[t].value=this.values[t].getter(),this.values[t].relevant=!0),this.values[t].value)}}}class NdCompiler{constructor(t,e,s){this.conditions=[],this.drawerPipeBefore={},this.drawerPipeAfter={},this.beforePipeSize=0,this.afterPipeSize=0,this.isRenderAllowed=(...t)=>{let e=!0;for(let s=0;s<this.conditions.length&&(e=this.conditions[s](...t));s++);return e},this.render=(t,e,s)=>{if(this.isRenderAllowed(t,e,s)){let i=t;if(t.save(),this.beforePipeSize)for(let r in this.drawerPipeBefore){if(this.drawerPipeBefore.hasOwnProperty(r))for(let o=0;o<this.drawerPipeBefore[r].length;o++){t.save();const n=this.drawerPipeBefore[r][o](i,e,s);if(t.restore(),i=n||!1,!i)break}if(!i)break}if(i&&(i.globalCompositeOperation=this.props.blending.protectedValue,i.globalAlpha*=this.props.opacity.protectedValue),i===t?this.resolver(t,e,s):(this.resolver(t,e,s),i&&t.drawImage(i.canvas,0,0,t.canvas.width,t.canvas.height)),i=t,this.afterPipeSize)for(let t in this.drawerPipeAfter){if(this.drawerPipeAfter.hasOwnProperty(t))for(let r=0;r<this.drawerPipeAfter[t].length;r++){i.save();const o=this.drawerPipeAfter[t][r](i,e,s);if(i.restore(),i=o||!1,!i)break}if(!i)break}t.restore()}return t},this.element=t,this.resolver=s,this.props=e}filter(t){this.conditions.push(t)}pipe(t,e){return e||(e=0),e>100?(this.drawerPipeAfter[e]||(this.drawerPipeAfter[e]=[]),this.drawerPipeAfter[e].push(t),this.afterPipeSize++):(this.drawerPipeBefore[e]||(this.drawerPipeBefore[e]=[]),this.drawerPipeBefore[e].push(t),this.beforePipeSize++),this.element}unpipe(t){for(let e in this.drawerPipeBefore)this.drawerPipeBefore.hasOwnProperty(e)&&(this.drawerPipeBefore[e]=this.drawerPipeBefore[e].filter((e=>e!==t||(this.beforePipeSize--,!1))));for(let e in this.drawerPipeAfter)this.drawerPipeAfter.hasOwnProperty(e)&&(this.drawerPipeAfter[e]=this.drawerPipeAfter[e].filter((e=>e!==t||(this.afterPipeSize--,!1))));return this.element}}class Node extends NdEmitter{constructor(e,s,i){super(),this.Cache=new NdCache,this.modelEmitter=new EventEmitter,this.order=[],this.animations=[],this.tickElementAnimations=(t,e)=>{const s=e.getTime();this.animations.forEach((t=>{t.morphine&&t.morphine.tick(s)}))},this.data=s,this.Matrix=new NdNodeMatrix(this,s,this.Cache),this.Compiler=new NdCompiler(this,s,((...t)=>this.render(...t))),this.TreeConnector=i.Tree.register(e,this,this.Compiler.render),this.Mouse=i.Mouse.register(this,((...t)=>this.cast(...t)),((...t)=>this.test(...t))),this.pipe=this.Compiler.pipe.bind(this.Compiler),this.unpipe=this.Compiler.unpipe.bind(this.Compiler),this.condition=this.Compiler.filter.bind(this.Compiler),this.order=Object.keys(s).sort(((t,e)=>s[t].ordering-s[e].ordering)),i.Canvas.queue(-2,this.tickElementAnimations),this.once("destroy",(()=>{t.positive(`Destroying node ${e}...`),this.modelEmitter.removeAllListeners(),this.removeAllListeners(),i.Canvas.unQueue(this.tickElementAnimations)})),this.watch(["position","rotate","origin","skew","translate","scale"],(()=>{this.Matrix.purge(),this.TreeConnector.forEachLayer((t=>t.matrix.purgeInversion()))})),this.watch(["position","origin","translate"],(()=>this.purgeBox()))}checkQueue(){this.animations=this.animations.filter((t=>{if(t.active)return!t.done;if(t.queue)return this.findCompetitors(t).length||t.start(),!0;{const e=this.findCompetitors(t);return e.length&&e.forEach((e=>{t.props.forEach((t=>e.stop(t)))})),t.start(),!0}}))}findCompetitors(t){let e=[];for(let s=0;s<this.animations.length;s++)if(this.animations[s]!==t&&this.animations[s].active&&!this.animations[s].done)for(let i=0;i<t.props.length;i++)this.animations[s].indexOf(t.props[i])>-1&&e.push(this.animations[s]);return e}animate(e,s,i){const r=Object.keys(e).sort(((t,e)=>this.data[t].ordering-this.data[e].ordering)).map((t=>({value:e[t],name:t,ani:this.data[t]})));if("number"==typeof s||void 0===s){const t=new NdAnimation(this,r,s,i);t.on("complete",(()=>this.checkQueue)),this.animations.push(t)}else if("object"==typeof s){const t=s,e=new NdAnimation(this,r,null==t?void 0:t.duration,null==t?void 0:t.easing,null==t?void 0:t.queue);t.complete&&e.on("complete",t.complete),t.step&&e.on("step",t.step),e.on("complete",(()=>this.checkQueue))}else t.negative("Invalid animation config",this);return this.checkQueue(),this}stop(t){return this.animations.forEach((e=>e.stop(t))),this}style(t,e){return"object"!=typeof t?void 0!==typeof e?(this.data[t].set(e,this),this.modelEmitter.emit(t),this):this.data[t].publicValue:(Object.keys(t).sort(((t,e)=>this.order.indexOf(t)-this.order.indexOf(e))).forEach((e=>{void 0!==t[e]&&(this.data[e].set(t[e],this),this.modelEmitter.emit(e))})),this)}watch(t,e){return t instanceof Array?t.forEach((t=>this.modelEmitter.on(t,e))):this.modelEmitter.on(t,e),this}unwatch(t,e){return t instanceof Array?t.forEach((t=>this.modelEmitter.off(t,e))):this.modelEmitter.off(t,e),this}get id(){return this.TreeConnector.id}set id(t){this.TreeConnector.tree.rename(this.id,t)}get z(){return this.TreeConnector.z}set z(t){this.TreeConnector.tree.z(this,t)}get box(){return this.Box.value.container}get boundingRect(){return this.Box.value.sprite}get parent(){return this.TreeConnector.parent}get matrix(){return this.Matrix.value}get width(){return this.Box.value.container.size[0]}get height(){return this.Box.value.container.size[1]}get left(){return this.Box.value.container.position[0]}get top(){return this.Box.value.container.position[1]}get animated(){return!!this.animations.length}purgeBox(){return this.Box.purge(),this}static transformContext(t,e){e.transform.apply(e,t.matrix.extract())}static drawLinearPathBg(t,e,s){t.path.protectedValue.length>1&&t.bg.protectedValue.length&&(e.save(),Node.clipBezierPath(t.path.protectedValue,e),Node.drawBg(t,e,s))}static drawBg(t,e,s){t.bg.protectedValue.length&&t.bg.protectedValue.forEach(((i,r)=>{if(i.loaded){const s=i.export();if(s){e.save();const i=t.backgroundSizeNumeric.protectedValue[r][0],o=t.backgroundSizeNumeric.protectedValue[r][1],n=t.backgroundPositionNumeric.protectedValue[r][0],a=t.backgroundPositionNumeric.protectedValue[r][1];e.translate(n,a),e.drawImage(s,0,0,i,o),e.restore()}}else i.once("load",(()=>{s.update("bg")}))}))}static drawPathBg(t,e,s){t.interpolation?Node.drawBezierPathBg(t,e,s):Node.drawLinearPathBg(t,e,s)}static drawBezierPathBg(t,e,s){e.save(),Node.clipBezierPath(t.path.protectedValue,e,!0),Node.drawBg(t,e,s),e.restore()}static clipBezierPath(t,e,s=!1,i=!0){t.length>1&&(Node.registerPath(t,e,s,i),e.clip())}static registerPath(t,e,s=!1,i=!0){t.length>1&&(e.beginPath(),e.moveTo(t[0][0],t[0][1]),s?t.forEach((t=>{t[0]===t[4]&&t[1]===t[5]&&t[2]===t[6]&&t[3]===t[7]?e.lineTo(t[2],t[3]):e.bezierCurveTo(t[4],t[5],t[6],t[7],t[2],t[3])})):t.forEach((t=>{e.lineTo(t[2],t[3])})),i&&e.closePath())}static drawFill(t,e){e.save(),e.lineCap=t.cap.protectedValue,Node.registerPath(t.path.protectedValue,e,!!t.interpolation,!0),e.fillStyle=t.fill.protectedValue,e.fill(),e.restore()}static drawStroke(t,e){t.path.protectedValue.forEach(((s,i)=>{const[r,o,n,a,h,d,l,c]=s;t.strokeWidth.protectedValue[i]<.1?e.moveTo(n,a):(e.beginPath(),e.moveTo(r,o),e.strokeStyle=t.strokeColor.protectedValue[i],e.lineWidth=t.strokeWidth.protectedValue[i],e.setLineDash(t.strokeStyle.protectedValue[i]),t.interpolation.protectedValue?e.bezierCurveTo(h,d,l,c,n,a):e.lineTo(n,a),e.stroke())}))}static applyBoxAnchor(t,e,s,i){"center"===i.anchor.protectedValue[0]&&(t[0]-=e/2),"right"===i.anchor.protectedValue[0]&&(t[0]-=e),"middle"===i.anchor.protectedValue[1]&&(t[1]-=s/2),"bottom"==i.anchor.protectedValue[1]&&(t[1]-=s)}}class NdNodeStylesModel{static degToRad(t){return t>360&&(t-=t*Math.floor(t/360)),t<360&&(t+=t*Math.floor(t/360)),t*Math.PI/180}static radToDeg(t){return t*(180/Math.PI)}static normalizeColor(t){return"string"==typeof t&&(t=NdNodeStylesModel.colorToArray(t)),t.map(((t,e)=>e<3?(t=Math.round(t))>255?255:t<0?0:t:(t<0&&(t=0),t>1&&(t=1),t.toFixed(2)))),t}static colorToArray(t){const e=t.match(/^rgba\(([\d.]+),([\d.]+),([\d.]+),([\d.]+)\)$/);return e?NdNodeStylesModel.normalizeColor([parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseFloat(e[4])]):[0,0,0,1]}static arrayToColor(t){return`rgba(${(t=NdNodeStylesModel.normalizeColor(t))[0]},${t[1]},${t[2]},${t[3]})`}static getControlPoints(...[t,e,s,i,r,o,n]){let a=Math.sqrt(Math.pow(s-t,2)+Math.pow(i-e,2)),h=Math.sqrt(Math.pow(r-s,2)+Math.pow(o-i,2)),d=n*a/(a+h),l=n*h/(a+h);return[s-d*(r-t),i-d*(o-e),s+l*(r-t),i+l*(o-e)]}static convertComplexPath(t){const e=[];for(let s=0;s<t.length;s++)e.push([t[s][0],t[s][1]]);return e}static interpolate(t,e,s){t.forEach(((i,r)=>{let o,n,a=[i[0],i[1]],h=[i[2],i[3]];o=0===r?s?[t[t.length-1][0],t[t.length-1][1]]:[a[0]-(h[0]-a[0]),a[1]-(h[1]-a[0])]:[t[r-1][0],t[r-1][1]],n=NdNodeStylesModel.getControlPoints(o[0],o[1],a[0],a[1],h[0],h[1],e),0==r?(t[r][4]=n[2],t[r][5]=n[3]):(t[r-1][6]=n[0],t[r-1][7]=n[1],i[4]=n[2],i[5]=n[3]),r==t.length-1&&(o=[t[r][0],t[r][1]],a=[t[r][2],t[r][3]],h=s?[t[0][2],t[0][3]]:[a[0]+(o[0]-a[0]),a[1]+(o[0]-a[0])],n=NdNodeStylesModel.getControlPoints(o[0],o[1],a[0],a[1],h[0],h[1],e),i[6]=n[0],i[7]=n[1])}))}static comparePaths(t,e){if(t.length!==e.length)return!1;let s=!0;for(let i=0;i<t.length;i++)for(let r=0;r<t[i].length;r++)if(t[i][r]!==e[i][r]){s=!1;break}return s}static extractPercentFraction(t){return parseFloat(t)/100}static syncArray(t,e,s){if(e.length>t.length&&e.splice(0,t.length),e.length<t.length)for(let i=0;i<t.length-e.length;i++)e.push(s.map(((t,e)=>"function"==typeof t?t(i,e):t)))}}NdNodeStylesModel.convertSimplePath=function(t,e=!1){if(t.length<2)throw new Error("Invalid path length");const s=[];return t.forEach(((e,i)=>{const r=e[0],o=e[1],n=[0,0,0,0,0,0,0,0];i<t.length-1&&(n[0]=r,n[1]=o),0!==i&&(s[i-1][2]=r,s[i-1][3]=o,s[i-1][4]=s[i-1][0],s[i-1][5]=s[i-1][1],s[i-1][6]=r,s[i-1][7]=o),s.push(n)})),s.pop(),e&&s[s.length-1][2]!==s[0][0]&&s[s.length-1][3]!==s[0][1]&&s.push([s[s.length-1][2],s[s.length-1][3],s[0][0],s[0][1],s[s.length-1][2],s[s.length-1][3],s[0][0],s[0][1]]),s};class NdStylesProperty{constructor(t,e,s,i){this.ordering=0,this.set=()=>this._value,this._value=e,this.default=e,this.ordering=t,this.value=s(this._value),this.get=()=>(this.value=s(this._value),this.value),i&&(this.set=(t,e)=>(this._value=i(t,e),this.value=s(this._value),this._value))}get protectedValue(){return this._value}get publicValue(){return this.get()}sync(t,e){if(this._value instanceof Array&&(this._value.length>t.length&&this._value.splice(0,t.length),this._value.length<t.length)){const s=t.length-this._value.length;for(let t=0;t<s;t++)"function"==typeof e?this._value.push(e(t)):e instanceof Array?this._value.push(e.map(((e,s)=>"function"==typeof e?e(t,s):e))):this._value.push(e)}}}class NdNodeStylePropertyAnimated extends NdStylesProperty{constructor(t,e,s,i,r,o){super(t,e,s,i),this._start=!1,this._end=!1,this.starter=r,this.applier=o}get start(){return this._start}set start(t){this._start=t}get end(){return this._end}setStartValue(t){this.start=t}setEndValue(t){this._end=t}init(t){return this.starter(this.get(),t,this.setStartValue.bind(this),this.setEndValue.bind(this)),this}apply(t,e,s){return s=this.applier(s,t,e),this.set(s,t),this.publicValue}}class NdModBase extends NdNodeStylesModel{constructor(){super(...arguments),this.position=new NdNodeStylePropertyAnimated(2,[0,0],(t=>[...t]),(t=>t instanceof Array?[...t]:[t,t]),((t,e,s,i)=>{s(t),i("number"==typeof e?[e,e]:[e[0],e[1]])}),(t=>[t[0],t[1]])),this.scale=new NdNodeStylePropertyAnimated(0,[1,1],(t=>[...t]),(t=>t instanceof Array?[...t]:[t,t]),((t,e,s,i)=>{s(t),"number"==typeof e?(e<0&&(e=0),i([e,e])):(e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),i([e[0],e[1]]))}),(t=>[t[0],t[1]])),this.rotate=new NdNodeStylePropertyAnimated(0,0,(t=>NdNodeStylesModel.radToDeg(t)),(t=>NdNodeStylesModel.degToRad(t)),((t,e,s,i)=>{s(t),i(e)}),(t=>t)),this.translate=new NdNodeStylePropertyAnimated(0,[0,0],(t=>[...t]),(t=>t instanceof Array?[...t]:[t,t]),((t,e,s,i)=>{s(t),i("number"==typeof e?[e,e]:[e[0],e[1]])}),(t=>[t[0],t[1]])),this.skew=new NdNodeStylePropertyAnimated(0,[0,0],(t=>[NdNodeStylesModel.radToDeg(t[0]),NdNodeStylesModel.radToDeg(t[1])]),(t=>t instanceof Array?[NdNodeStylesModel.degToRad(t[0]),NdNodeStylesModel.degToRad(t[1])]:[NdNodeStylesModel.degToRad(t),NdNodeStylesModel.degToRad(t)]),((t,e,s,i)=>{"number"==typeof e&&(e=[e,e]),s(t),i([e[0],e[1]])}),(t=>t)),this.opacity=new NdNodeStylePropertyAnimated(0,1,(t=>t),(t=>t>1?1:t<0?0:t),((t,e,s,i)=>{e<0&&(e=0),e>1&&(e=1),s(t),i(e)}),(t=>(t<0&&(t=0),t>1&&(t=1),t))),this.origin=new NdNodeStylePropertyAnimated(0,[.5,.5],(t=>[...t]),(t=>t instanceof Array?[...t]:[t,t]),((t,e,s,i)=>{s(t),i("number"==typeof e?[e,e]:[e[0],e[1]])}),(t=>[t[0],t[1]])),this.cap=new NdStylesProperty(2,"butt",(t=>t),(t=>t)),this.blending=new NdStylesProperty(0,"source-over",(t=>t),(t=>t))}}class NdBox{constructor(){this.container={size:[0,0],position:[0,0]},this.sprite={margin:[0,0,0,0],position:[0,0],size:[0,0]}}value(t,e,s,i,r,o,n,a){this.container.size[0]=s,this.container.size[1]=i,this.container.position[0]=t,this.container.position[1]=e,this.sprite.margin[0]=r,this.sprite.margin[1]=o,this.sprite.margin[2]=n,this.sprite.margin[3]=a,this.sprite.size[0]=a+s+o,this.sprite.size[1]=r+i+n,this.sprite.position[0]=t-a,this.sprite.position[1]=e-r}}class NdNodeBox{constructor(t,e,s){this.box=new NdBox;const{getter:i,purge:r}=e.register("box",(()=>(this.box.value.apply(this.box,s(t)),this.box)));this.getter=i,this.purge=()=>{r(),t.parent&&t.parent.purgeBox()}}get value(){return this.getter()}}class Group extends Node{constructor(t,e){super(t,new NdModBase,e),this.Box=new NdNodeBox(this,this.Cache,(()=>{let t=1/0,e=1/0,s=-1/0,i=-1/0;return this.TreeConnector.forEachLayer((r=>{const o=r.box;t=Math.min(t,o.position[0]),e=Math.min(e,o.position[1]),i=Math.max(i,o.position[0]+o.size[0]),s=Math.max(s,o.position[1]+o.size[1])})),isFinite(t)||(t=0),isFinite(i)||(i=0),isFinite(e)||(e=0),isFinite(s)||(s=0),[t+this.data.position.get()[0],e+this.data.position.get()[1],i-t,s-e,0,0,0,0]})),this.export=()=>{},this.render=(t,s,i)=>(Node.transformContext(this,t),this.TreeConnector.forEachLayer((r=>{e.Tree.compile(r,t,s,i)})),t),this.test=t=>{let s=!1;return this.TreeConnector.forEachLayer((i=>{e.Mouse.checkNode(i,t)&&(s=i)})),s}}forEachChild(t){this.TreeConnector.forEachLayer(t)}append(t){return t instanceof Array?t.forEach((t=>{this.TreeConnector.tree.append(this,t.id)})):this.TreeConnector.tree.append(this,t.id),this}}class NdNodeConnector{constructor(t,e){this._parent=null,this._layers={},this._layer=0,this._identifier=t,this.tree=e}get z(){return this._layer}set z(t){this._layer=t}get parent(){return this._parent}set parent(t){this._parent=t}set id(t){this._identifier=t}get id(){return this._identifier}forEachLayer(t){for(let e in this._layers)this._layers[e].forEach(((s,i)=>{t(s,i,parseInt(e))}))}zChild(t,e,s){this._layers[e]||(this._layers[e]=[]),s?this._layers[e].unshift(t):this._layers[e].push(t)}removeChild(t,e){this._layers[e]=this._layers[e].filter((e=>e!==t)),this._layers[e].length||delete this._layers[e]}}class Nodes{constructor(t){this._root={},this.clear=!1,this.ids=new Set,this.elements={},this.drawNodeTree=(t,e,s)=>{this._root.element&&t&&(this.clear&&t.clearRect(0,0,t.canvas.offsetWidth,t.canvas.offsetHeight),this.compile(this._root.element,t,e,s))},t.queue(0,this.drawNodeTree)}treeViolation(t,e){return t===e||!!t.parent&&this.treeViolation(t.parent,t)}register(e,s,i){if(this._root.element)this.ids.has(e)?t.warn(`Node ${e} already exists. Ignored.`):(this.ids.add(e),this.elements[e]={element:s,render:i,connector:new NdNodeConnector(e,this)},this._root.element?this.append(this._root.element,e):t.error("Application root lost. Not root group node to append to"));else{if(!(s instanceof Group))throw new Error("Root element must be a Group instance");{const r={element:s,render:i,connector:new NdNodeConnector(e,this)};this._root=r,this.ids.add(r.connector.id),this.elements[e]=r,t.positive(`Element ${e} registered`)}}return this.elements[e].connector}unregister(e){this.ids.has(e.id)&&(this.unmount(e),delete this.elements[e.id],this.ids.delete(e.id),t.positive(`Node ${e.id} unregistered`))}unmount(e){if(this.elements[e.id].connector.parent){const t=this.elements[e.id].connector.parent;t&&this.elements[t.id].connector.removeChild(e,e.z)}this.elements[e.id].connector.parent=null,e==this._root.element&&(this._root={},t.warn("Unmounting root group.")),t.positive(`Node ${e.id} unmounted`)}compile(e,s,i,r){this.elements[e.id]&&this.elements[e.id].element===e?(s.save(),this.elements[e.id].render(s,i,r),s.restore()):t.error(`Attempt to render unmounted node ${e.id}`)}rename(e,s){this.ids.has(e)&&(this.ids.has(s)||(this.elements[s]=this.elements[e],this.ids.add(s),this.ids.delete(e),this.elements[s].connector.id=s,delete this.elements[e]),t.warn(`Can not rename node ${e}. Another node with id ${s} already exists`)),t.warn(`Attempt to rename non existing node ${e}`)}z(t,e){if(this.ids.has(t.id)){if(this.elements[t.id]){const s=this.elements[t.id].connector.parent;s&&this.elements[s.id].connector.zChild(t,e)}this.elements[t.id].connector.z=e}}get(t){return this.elements[t].element}get root(){return this._root.element}append(e,s,i=!1){if(this.ids.has(e.id)&&this.ids.has(s))if(this.treeViolation(e,this.elements[s].element))t.warn(`Node tree violation. Appending node ${s} to itself or it's child. `);else{if(this.elements[s].connector.parent){const t=this.elements[s].connector.parent;this.elements[t.id].connector.removeChild(this.elements[s].element,this.elements[s].connector.z)}this.elements[e.id].connector.zChild(this.elements[s].element,this.elements[s].connector.z,i),this.elements[s].connector.parent=e,t.positive(`Node ${s} appended to ${e.id}`)}else t.warn(`Manipulating non registered node ${s} or ${e.id}.`)}}class NdNodeMouseDispatcher{constructor(t,e,s){this._disabled=!1,this.test=e,this.transform=s,this.emit=t}cast(t,e){return!this.disabled&&this.emit(t,e)}get disabled(){return this._disabled}disable(){this._disabled=!0}enable(){this._disabled=!1}}class Mouse{constructor(t,e,s){this.elements={},this.currentHover=!1,this.currentFocus=!1,this.mouseDown=!1,this.dragging=!1,this.eventStack=[],this.postponed=[],this.maxEventsPerQueue=5,this.maxEventsResolveTimePerFrame=e.frameTime,t.queue(this.resolveStack.bind(this)),t.on("mouseDown",(t=>{this.mouseDown=!0,this.currentHover&&this.resolveOrPostpone(this.currentHover,"mouseDown",new NdMouseEvent(this.currentHover,Object.assign({},t.data))),this.currentFocus&&this.currentFocus!==this.currentHover&&this.currentFocus!==this.currentHover&&(this.resolveOrPostpone(this.currentFocus,"blur",new NdMouseEvent(this.currentFocus,Object.assign({},t.data))),this.currentHover&&this.resolveOrPostpone(this.currentHover,"focus",new NdMouseEvent(this.currentHover,Object.assign({},t.data))),this.currentFocus=this.currentHover)})),t.on("mouseUp",(t=>{this.mouseDown=!1,this.dragging&&(this.currentFocus&&this.resolveOrPostpone(this.currentFocus,"dragEnd",new NdMouseEvent(this.currentFocus,Object.assign({},t.data))),this.dragging=!1),this.currentHover&&this.resolveOrPostpone(this.currentHover,"mouseUp",new NdMouseEvent(this.currentHover,Object.assign({},t.data)))})),t.on("mouseLeave",(t=>{this.dragging&&(this.currentFocus&&this.resolveOrPostpone(this.currentFocus,"dragEnd",new NdMouseEvent(this.currentFocus,Object.assign({},t.data))),this.dragging=!1),this.currentHover&&this.resolveOrPostpone(this.currentHover,"mouseLeave",new NdMouseEvent(this.currentHover,Object.assign({},t.data))),this.currentFocus=!1,this.currentHover=!1,this.mouseDown=!1})),t.on("mouseMove",(t=>{if(s.root)if(this.dragging)this.mouseDown&&this.currentFocus&&(this.dragging?this.resolveOrPostpone(this.currentFocus,"dragMove",new NdMouseEvent(this.currentFocus,Object.assign({},t.data))):(this.resolveOrPostpone(this.currentFocus,"dragStart",new NdMouseEvent(this.currentFocus,Object.assign({},t.data))),this.dragging=!0));else{const e=this.checkNode(s.root,t.data.cursor);e!==this.currentHover?(this.currentHover&&this.resolveOrPostpone(this.currentHover,"mouseLeave",new NdMouseEvent(this.currentHover,Object.assign({},t.data))),e&&this.resolveOrPostpone(e,"mouseEnter",new NdMouseEvent(e,Object.assign({},t.data))),this.currentHover=e):e&&this.resolveOrPostpone(e,"mouseMove",new NdMouseEvent(e,Object.assign({},t.data)))}}))}checkNode(t,e){if(this.elements[t.id])return this.elements[t.id].handler.test(e);throw new Error("Root swap")}resolveStack(){if(!this.eventStack.length)return;let t=0;const e=(new Date).getTime();let s=0;for(;this.eventStack[0]&&t<this.maxEventsPerQueue&&s<this.maxEventsResolveTimePerFrame;)this.eventStack.shift()(),t++,s=(new Date).getTime()-e;!this.eventStack.length&&this.postponed[0]&&this.eventStack.push(this.postponed.shift())}getStackCallback(t,e,s){return()=>{if(t){const i=this.elements[t.id].handler.cast(e,s);i&&i.propagate&&this.eventStack.push(this.getStackCallback(this.elements[t.id].element.parent,e,s))}}}resolveOrPostpone(t,e,s){this.eventStack.length?this.postponed.push(this.getStackCallback(t,e,s)):this.eventStack.push(this.getStackCallback(t,e,s))}register(t,e,s,i){if(this.elements[t.id])throw new Error(`Another ReflectElement with id ${t.id} has already been registered as mouse sensitive`);return this.elements[t.id]={element:t,handler:new NdNodeMouseDispatcher(e.bind(t),s,i)},t.on("destroy",(()=>delete this.elements[t.id])),this.elements[t.id].handler}}class NdCanvas{constructor(){this.size=[0,0],this.element=document.createElement("canvas");const t=this.element.getContext("2d");if(!t)throw new Error("Unable to establish Canvas rendering context!");this.context=t}get width(){return this.size[0]}set width(t){this.size[0]=t,this.element.setAttribute("width",t.toString())}get height(){return this.size[1]}set height(t){this.element.setAttribute("height",t.toString())}}class NdLayer{constructor(t){this.canvas=new NdCanvas,this.width=0,this.height=0,this.f=null,this.ready=!1,this.ordering=0,this.f=t.bind(this)}draw(t){this.ready||this.canvas.context&&(this.canvas.context.save(),this.canvas.context.clearRect(0,0,this.width,this.height),this.f&&this.f(this.canvas.context),this.canvas.context.restore(),this.ready=!0),t.drawImage(this.canvas.element,0,0)}get resolver(){return this.f}get size(){return[this.width,this.height]}set size([t,e]){t===this.width&&e===this.height||(this.canvas.width=t,this.canvas.height=e,this.ready=!1,this.width=t,this.height=e)}get order(){return this.ordering}set order(t){this.ordering=t}update(){this.ready=!1}}class NdModeAssembler extends NdEmitter{constructor(t){super(),this.output=new NdCanvas,this.pipe=[],this.w=0,this.h=0,this.resized=!1,this._ready=!1,this.layers=Object.fromEntries(t.map(((t,e)=>{const s=new NdLayer(t.resolver);return this.pipe.push({order:e,layer:s}),[t.name,s]}))),this.pipe.sort(((t,e)=>t.order-e.order)),this.update=t=>{t?this.layers[t]&&(this._ready=!1,this.layers[t].update()):Object.values(this.layers).forEach((t=>{t.update()}))}}get ready(){return this._ready}get size(){return[this.w,this.h]}get width(){return this.w}get height(){return this.h}set size(t){this.w=t[0],this.h=t[1],this.output.width=t[0],this.output.height=t[1],this.pipe.forEach((({layer:e})=>{e.size=t}))}export(t){return this.resized||(this.resized=!0,this.size[0]===t.boundingRect.size[0]&&this.size[1]===t.boundingRect.size[1]||(this.size=[t.boundingRect.size[0],t.boundingRect.size[1]],this.cast("resize",void 0))),this._ready||(this.output.context.clearRect(0,0,this.w,this.h),this.pipe.forEach((t=>{t.layer.draw(this.output.context)})),this._ready=!0,this.cast("update",void 0)),this.output.element}resize(){this.resized=!1,this._ready=!1}}class NdModFreeStroke extends NdNodeStylesModel{constructor(t=!1){super(),this.interpolation=new NdStylesProperty(0,0,(t=>t/.4*100),(t=>(t>100&&(t=100),t<0&&(t=0),t=t/100*.4))),this.strokeColor=new NdStylesProperty(2,[],(t=>t.map((t=>NdModFreeStroke.colorToArray(t)))),(t=>{let e=[];return"string"==typeof t&&(e=this.path.protectedValue.map((()=>t))),t instanceof Array&&("string"==typeof t[0]&&(e=this.path.protectedValue.map(((e,s)=>t[s]?t[s]:this.strokeColor.protectedValue[s]?this.strokeColor.protectedValue[s]:this.strokeColor.protectedValue[this.strokeColor.protectedValue.length-1]?this.strokeColor.protectedValue[this.strokeColor.protectedValue.length-1]:"rgba(0,0,0,1)"))),t[0]instanceof Array&&(e=this.path.protectedValue.map(((e,s)=>t[s]?NdModFreeStroke.arrayToColor(t[s]):this.strokeColor.protectedValue[s]?this.strokeColor.protectedValue[s]:this.strokeColor.protectedValue[this.strokeColor.protectedValue.length-1]?this.strokeColor.protectedValue[this.strokeColor.protectedValue.length-1]:"rgba(0,0,0,1)"))),"number"==typeof t[0]&&(e=this.path.protectedValue.map((()=>NdModFreeStroke.arrayToColor(t))))),e})),this.strokeWidth=new NdStylesProperty(2,[],(t=>[...t]),(t=>"number"==typeof t?this.path.protectedValue.map((()=>t)):this.path.protectedValue.map(((e,s)=>"number"==typeof t[s]?t[s]:"number"==typeof this.strokeWidth.protectedValue[s]?this.strokeWidth.protectedValue[s]:"number"==typeof this.strokeWidth.protectedValue[this.strokeWidth.protectedValue.length-1]?this.strokeWidth.protectedValue[this.strokeWidth.protectedValue.length-1]:1)))),this.strokeStyle=new NdStylesProperty(2,[],(t=>t.map((t=>[...t]))),(t=>(t[0],this.path.protectedValue.map((()=>[...t]))))),this.path=new NdStylesProperty(1,[],(t=>NdModFreeStroke.convertComplexPath(t)),(e=>{const s=NdModFreeStroke.convertSimplePath(e,t);return this.path.protectedValue.length!==s.length&&(this.strokeStyle.sync(s,[0]),this.strokeWidth.sync(s,1),this.strokeColor.sync(s,"rgba(0,0,0,1")),s}))}}class NdModAnchor extends NdNodeStylesModel{constructor(){super(...arguments),this.anchor=new NdStylesProperty(0,["left","top"],(t=>[...t]),(t=>[...t]))}}class NdNodeEmpiricalMouseChecker{constructor(){this.context=document.createElement("canvas").getContext("2d")}resize(t){t[0]!==this.context.canvas.width&&t[0]>0&&(this.context.canvas.width=t[0]),t[1]!==this.context.canvas.height&&t[1]>0&&(this.context.canvas.height=t[1])}redraw(t){this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height),this.context.save(),Node.registerPath(t.path.protectedValue,this.context,!!t.interpolation,!!t.fill),t.fill?(this.context.fillStyle="rgba(0,0,0,1)",this.context.fill()):(this.context.strokeStyle="rgba(0,0,0,1)",this.context.stroke()),this.context.restore()}check(t){if(t[0]>0&&t[0]<this.context.canvas.width&&t[1]>0&&t[1]<this.context.canvas.height){const e=this.context.getImageData(t[0],t[1],1,1);if(console.log(e),e)return!!e.data[3]}return!1}}class Line extends Node{constructor(t,e){super(t,Object.assign(Object.assign(Object.assign({},new NdModFreeStroke),new NdModAnchor),new NdModBase),e),this.xShift=0,this.yShift=0,this.strokeFix=0,this.interpolationFix=0,this.interpolated=!1,this.mouseTester=new NdNodeEmpiricalMouseChecker,this.Assembler=new NdModeAssembler([{name:"stroke",resolver:t=>{t.translate(this.boundingRect.margin[3]-this.xShift,this.boundingRect.margin[0]-this.yShift),!this.interpolated&&this.data.interpolation.protectedValue>0&&NdNodeStylesModel.interpolate(this.data.path.protectedValue,this.data.interpolation.protectedValue,!1),Line.drawStroke(this.data,t)}}]),this.Box=new NdNodeBox(this,this.Cache,(()=>{let t=[...this.data.position.protectedValue],e=Math.max(this.strokeFix,this.interpolationFix),s=1/0,i=1/0,r=-1/0,o=-1/0;this.data.path.protectedValue.forEach((t=>{t[0]<s&&(s=t[0]),t[2]<s&&(s=t[2]),t[1]<i&&(i=t[1]),t[3]<i&&(i=t[3]),t[0]>r&&(r=t[0]),t[2]>r&&(r=t[2]),t[1]>o&&(o=t[1]),t[3]>o&&(o=t[3])})),s===1/0&&(s=0),i===1/0&&(i=0),r===-1/0&&(r=0),o===-1/0&&(r=0),this.xShift=s,this.yShift=i;let n=Math.abs(r-s),a=Math.abs(o-i);return Node.applyBoxAnchor(t,n,a,this.data),[t[0]+this.xShift,t[1]+this.yShift,n,a,e,e,e,e]})),this.export=()=>this.Assembler.export(this),this.render=t=>(Line.transformContext(this,t),t.drawImage(this.Assembler.export(this),0,0),t),this.test=t=>!!this.mouseTester.check(this.matrix.traceCursorToLocalSpace([...t]))&&this,this.watch("path",(()=>{this.purgeBox(),this.Matrix.purge(),this.Assembler.update("stroke"),this.Assembler.resize(),this.mouseTester.resize(this.boundingRect.size),this.mouseTester.redraw(this.data)})),this.watch("strokeWidth",(()=>{this.strokeFix=this.data.strokeWidth.protectedValue.reduce(((t,e)=>e>t?e:t),0),this.Assembler.update("stroke"),this.Assembler.resize(),this.mouseTester.resize(this.boundingRect.size),this.mouseTester.redraw(this.data)})),this.watch("interpolation",(()=>{this.interpolationFix=Math.round(20*this.data.interpolation.protectedValue),this.purgeBox(),this.Matrix.purge(),this.Assembler.resize(),this.Assembler.update("stroke"),this.mouseTester.resize(this.boundingRect.size),this.mouseTester.redraw(this.data)})),this.watch(["strokeStyle","strokeColor"],(()=>{this.Assembler.update("stroke")}))}}class NdResource extends NdEmitter{constructor(t,e){super(),this._status=-1,this.resolved=!1,this._destroyed=!1,this.src=t,this.resolve=e}get url(){return this.src}get loaded(){return this._status>0}get error(){return 0==this._status}get destroyed(){return this._destroyed}destroy(){this._destroyed?t.warn(`Destroying already destroyed resource ${this.url}. Ignored`):(this.removeAllListeners(),this._destroyed=!0)}load(){if(this._destroyed)t.warn(`Trying to load destroyed resource ${this.url}. Ignored`);else if(!this.resolved)return this.resolved=!0,this.resolve();return this}}const s=new class NodasResources{constructor(){this.images={}}image(e,s,i,r){return this.images[e]?(t.info(`Dispatcher returned cached image ${e}`),this.images[e].loading?(s&&this.images[e].onLoad.push(s),i&&this.images[e].onError.push(i)):setTimeout((()=>{this.images[e]&&(this.images[e].loaded&&s&&s(),this.images[e].error&&i&&i())})),r&&this.images[e].onReset.push(r)):(t.info(`Loading image ${e}`),this.images[e]={loaded:!1,error:!1,loading:!0,onError:i?[i]:[],onLoad:s?[s]:[],onReset:r?[r]:[],src:e,image:new Image},this.images[e].image.addEventListener("load",(()=>{t.positive(`Image ${e} loaded.`),this.images[e].loaded=!0,this.images[e].error=!1,this.images[e].onLoad.forEach((t=>t())),this.images[e].onError=[],this.images[e].onLoad=[]})),this.images[e].image.addEventListener("error",(()=>{t.negative(`Image ${e} failed to load`),this.images[e].loaded=!1,this.images[e].error=!0,this.images[e].loading=!1,this.images[e].onError.forEach((t=>t())),this.images[e].onError=[],this.images[e].onLoad=[]})),this.images[e].image.src=e),this.images[e].image}reset(){const t=Object.values(this.images);this.images={},t.forEach((t=>t.onReset.forEach((t=>t()))))}bulkLoad(t){t.forEach((t=>{this.image(t)}))}};class NdImage extends NdResource{constructor(t){super(t,(()=>this.defineImage(t))),this._size=[0,0],this.export=()=>this.image}defineImage(e){return this.destroyed?t.info(`Sprite ${e} has been destroyed. Load skipped.`):this.image=s.image(e,(()=>{this._status=1,this.image?(this._size[0]=this.image.width,this._size[1]=this.image.height):t.error("Unable to set size of image that was not yet defined"),this.cast("load",null)}),(()=>{this._status=0,this.cast("load",null),this.cast("error",null)}),(()=>this.defineImage(e))),this}get width(){return this._size[0]}get height(){return this._size[1]}get size(){return[...this._size]}static isNdUrlStrRegex(t){return NdImage.NdUrlStrRegex.test(t)}}NdImage.NdUrlStrRegex=/(^.+\.(png)|(jpg)])$/;class NdModBg extends NdNodeStylesModel{constructor(){super(...arguments),this.fill=new NdNodeStylePropertyAnimated(0,"rgba(0,0,0,0)",(t=>t),(t=>t instanceof Array?NdNodeStylesModel.arrayToColor(t):t),((t,e,s,i)=>{s(NdNodeStylesModel.colorToArray(t)),i("string"==typeof e?NdNodeStylesModel.colorToArray(e):e)}),(t=>NdNodeStylesModel.normalizeColor(t))),this.bg=new NdStylesProperty(0,[],(t=>t.map((t=>t.url))),((t,e)=>{let s=[...this.bg.protectedValue];if("string"==typeof t){NdModBg.destroyBackground(this);const i=new NdImage(t);i.once("load",(()=>{this.bg.protectedValue[0]===i&&NdModBg.updateSizeAndPosition(this,e.box.size,0,i)})),i.load(),s=[i]}else if(t instanceof Array)NdModBg.destroyBackground(this),s="string"==typeof t[0]?t.map(((t,s)=>{const i=new NdImage(t);return i.loaded?NdModBg.updateSizeAndPosition(this,e.box.size,s,i):i.once("load",(()=>{NdModBg.updateSizeAndPosition(this,e.box.size,s,i)})),i})):[...t.map(((t,s)=>(t.loaded||t.once("load",(()=>{this.bg.protectedValue[s]===t&&NdModBg.updateSizeAndPosition(this,e.box.size,s,t)})),NdModBg.updateSizeAndPosition(this,e.box.size,s,t),t)))];else if(t instanceof NdImage)NdModBg.destroyBackground(this),s=[t],t.loaded?NdModBg.updateSizeAndPosition(this,e.box.size,0,t):t.once("load",(()=>{NdModBg.updateSizeAndPosition(this,e.box.size,0,t)}));else if("object"==typeof t)for(let i in t)if(s[i]){if("string"==typeof t[i]&&t[i]!==s[i].url){s[i].destroy();const r=new NdImage(t[i]);r.once("load",(()=>{NdModBg.updateSizeAndPosition(this,e.box.size,parseInt(i),r)})),s[i]=r}}else{s[i].destroy();const r=t[i];r.loaded?NdModBg.updateSizeAndPosition(this,e.box.size,parseInt(i),r):r.once("load",(()=>{NdModBg.updateSizeAndPosition(this,e.box.size,parseInt(i),r)})),s.push(t[i])}else NdModBg.destroyBackground(this),s=[];return this.backgroundPosition.sync(s,[0,0]),this.backgroundPositionNumeric.sync(s,[0,0]),this.backgroundSize.sync(s,["auto","auto"]),this.backgroundSizeNumeric.sync(s,[t=>NdModBg.readBgSize(e.box.size,this.bg.protectedValue[t],0,"auto"),t=>NdModBg.readBgSize(e.box.size,this.bg.protectedValue[t],1,"auto")]),s})),this.backgroundSize=new NdStylesProperty(1,[],(t=>t.map((t=>[t[0],t[1]]))),((t,e)=>{let s=this.backgroundSize.protectedValue;if("string"==typeof t||"number"==typeof t)t="number"==typeof t&&t<0?0:t,s=this.bg.protectedValue.map((()=>[t,t]));else if(t instanceof Array)if("string"==typeof t[0]||"number"==typeof t[0]){const e=t;s=this.bg.protectedValue.map((()=>[e[0],e[1]]))}else{const e=t;s=this.bg.protectedValue.map(((t,s)=>e[s]?[e[s][0],e[s][1]]:this.bg.protectedValue[s]?this.bg.protectedValue[s]:["auto","auto"]))}else for(let e in t)s[e]&&(s[e]=[t[e][0],t[e][1]]);return this.backgroundSizeNumeric.sync(s,[t=>NdModBg.readBgSize(e.box.size,this.bg.protectedValue[t],0,s[t][0]),t=>NdModBg.readBgSize(e.box.size,this.bg.protectedValue[t],1,s[t][1])]),this.backgroundPosition.sync(s,[0,0]),this.backgroundPositionNumeric.sync(s,[0,0]),s})),this.backgroundSizeNumeric=new NdStylesProperty(1,[],(t=>[...t])),this.backgroundPosition=new NdStylesProperty(2,[],(t=>t.map((t=>[t[0],t[1]]))),((t,e)=>{let s=this.backgroundPosition.protectedValue;if("string"==typeof t)/^[\d.]+%$/.test(t)&&(s=this.bg.protectedValue.map((()=>[t,t]))),/^(left|center|right)$/.test(t)&&(s=this.bg.protectedValue.map(((e,s)=>[t,this.backgroundPosition.protectedValue[s]?this.backgroundPosition.protectedValue[s][1]:0]))),/^(top|middle|bottom)$/.test(t)&&(s=this.bg.protectedValue.map(((e,s)=>[this.backgroundPosition.protectedValue[s]?this.backgroundPosition.protectedValue[s][0]:0,t])));else if("number"==typeof t)s=this.bg.protectedValue.map((()=>[t,t]));else if(t instanceof Array){if(t[0]instanceof Array){const e=t;s=this.bg.protectedValue.map(((t,s)=>e[s]?[e[s][0],e[s][1]]:this.backgroundPosition.protectedValue[s]?this.backgroundPosition.protectedValue[s]:[0,0]))}if("string"==typeof t[0]||"number"==typeof t[0]){const e=t;s=this.bg.protectedValue.map((()=>[e[0],e[1]]))}}else for(let e in t)s[e]&&(s[e]=[t[e][0],t[e][1]]);return this.backgroundPositionNumeric.sync(s,[t=>NdModBg.readBgPosition(e.box.size,this.backgroundSize.protectedValue[t],this.bg.protectedValue[t],0,s[t][0]),t=>NdModBg.readBgPosition(e.box.size,this.backgroundSize.protectedValue[t],this.bg.protectedValue[t],0,s[t][1])]),s})),this.backgroundPositionNumeric=new NdStylesProperty(2,[],(t=>[...t]))}static normalizeBgPosition(t){return"string"==typeof t?"left"===t||"top"==t?"0%":"bottom"===t||"right"===t?"100%":"center"===t||"middle"===t?"50%":t:t}static readBgPosition(t,e,s,i,r){let o=this.normalizeBgPosition(r);const n=this.readBgSize(t,s,i,e[i]);return"number"==typeof o?o:(t[i]-n)*NdNodeStylesModel.extractPercentFraction(o)}static readBgSize(t,e,s,i){return"string"==typeof i?"auto"!==i?t[s]*NdModBg.extractPercentFraction(i):e?e.size[s]:0:i}static destroyBackground(t){t.bg.protectedValue.length&&t.bg.protectedValue.forEach((t=>t.destroy()))}}NdModBg.updateSizeAndPosition=(t,e,s,i)=>{"string"==typeof t.backgroundSize.protectedValue[s][0]&&(t.backgroundSizeNumeric.protectedValue[s][0]=NdModBg.readBgSize(e,i,0,t.backgroundSize.protectedValue[s][0])),"string"==typeof t.backgroundSize.protectedValue[s][1]&&(t.backgroundSizeNumeric.protectedValue[s][1]=NdModBg.readBgSize(e,i,1,t.backgroundSize.protectedValue[s][1])),"string"==typeof t.backgroundPosition.protectedValue[s][0]&&(t.backgroundPositionNumeric.protectedValue[s][0]=NdModBg.readBgPosition(e,t.backgroundSize.protectedValue[s],t.bg.protectedValue[s],0,t.backgroundPosition.protectedValue[s][0])),"string"==typeof t.backgroundPosition.protectedValue[s][1]&&(t.backgroundPositionNumeric.protectedValue[s][1]=NdModBg.readBgPosition(e,t.backgroundSize.protectedValue[s],t.bg.protectedValue[s],1,t.backgroundPosition.protectedValue[s][1]))};class NdModCirc extends NdNodeStylesModel{constructor(){super(...arguments),this.radius=new NdNodeStylePropertyAnimated(0,0,(t=>t),(t=>(t<0&&(t=0),t)),((t,e,s,i)=>{e<0&&(e=0),s(t),i(e)}),(t=>(t<0&&(t=0),t))),this.strokeWidth=new NdNodeStylePropertyAnimated(0,1,(t=>t),(t=>t<0?0:t),((t,e,s,i)=>{e<0&&(e=0),s(t),i(e)}),(t=>(t<0&&(t=0),t))),this.strokeColor=new NdNodeStylePropertyAnimated(0,"rgba(0,0,0,1)",(t=>t),(t=>t instanceof Array?NdModCirc.arrayToColor(t):t),((t,e,s,i)=>{s(NdModCirc.colorToArray(t)),i("string"==typeof e?NdModCirc.colorToArray(e):e)}),(t=>NdModCirc.normalizeColor(t))),this.strokeStyle=new NdStylesProperty(0,[0],(t=>[...t]),(t=>t.map((t=>t<0?0:t))))}}class Circle extends Node{constructor(t,e){super(t,Object.assign(Object.assign(Object.assign(Object.assign({},new NdModCirc),new NdModBg),new NdModAnchor),new NdModBase),e),this.Box=new NdNodeBox(this,this.Cache,(()=>{const t=[...this.data.position.protectedValue],e=2*this.data.radius.protectedValue;return Node.applyBoxAnchor(t,e,e,this.data),[t[0],t[1],2*this.data.radius.protectedValue,2*this.data.radius.protectedValue,this.strokeFix,this.strokeFix,this.strokeFix,this.strokeFix]})),this.render=t=>(Node.transformContext(this,t),t.drawImage(this.Assembler.export(this),0,0),t),this.export=()=>this.Assembler.export(this),this.strokeFix=1,this.test=t=>{const e=this.matrix.traceCursorToLocalSpace(t),s=this.Box.value.sprite,i=this.data.radius.protectedValue;return e[0]>s.size[0]&&e[0]<0&&e[1]>s.size[1]&&e[1]<0&&Math.pow(e[0]+this.strokeFix-i,2)+Math.pow(e[1]+this.strokeFix-i,2)<=Math.pow(i,2)&&this},this.Assembler=new NdModeAssembler([{name:"fill",resolver:t=>{t.beginPath(),t.fillStyle=this.data.fill.protectedValue,t.arc(this.boundingRect.size[0]/2,this.boundingRect.size[1]/2,this.data.radius.protectedValue,0,2*Math.PI),t.fill()}},{name:"bg",resolver:t=>{t.beginPath(),t.arc(this.boundingRect.size[0]/2,this.boundingRect.size[1]/2,this.data.radius.protectedValue,0,2*Math.PI),t.clip(),Node.drawBg(this.data,t,this.Assembler)}},{name:"stroke",resolver:t=>{t.beginPath(),t.strokeStyle=this.data.strokeColor.protectedValue,t.lineWidth=this.data.strokeWidth.protectedValue,t.setLineDash(this.data.strokeStyle.protectedValue),t.arc(this.boundingRect.size[0]/2,this.boundingRect.size[1]/2,this.data.radius.protectedValue,0,2*Math.PI),t.stroke()}}]),this.watch("radius",(()=>{this.Assembler.update(),this.Assembler.resize(),this.Box.purge(),this.Matrix.purge()})),this.watch("fill",(()=>{this.Assembler.update("fill")})),this.watch("strokeWidth",(()=>{this.strokeFix=this.data.strokeWidth.protectedValue,this.Box.purge(),this.Assembler.update("stroke"),this.Assembler.resize(),this.Matrix.purge()})),this.watch(["strokeStyle","strokeColor"],(()=>{this.Assembler.update("stroke")})),this.watch(["bg","backgroundSize","backgroundPosition"],(()=>{this.Assembler.update("bg")})),this.on("destroy",(()=>{NdModBg.destroyBackground(this.data)}))}}class NdSprite extends NdResource{constructor(t){const e=t.match(/(^.+)\[(\d+)]/);super(e?e[1]:`invalid-image-src[${t}]`,(()=>this.defineImage(t))),this.frameCount=0,this.refreshRate=12,this.frameTime=0,this.canvas=[],this.chunkSize=[0,0],this.chunkXYCount=0,this.timeStart=(new Date).getTime(),this.duration=0,this.frozen=!1,this.export=t=>{if(this.loaded&&!this.error&&!this.destroyed&&this.frameCount&&this.frameTime&&(this.chunkSize[0]>0||this.chunkSize[1]>0)){let e=t.getTime(),s=e-this.timeStart;this.frozen&&(this.timeStart+=s);let i=Math.floor(s/this.frameTime);i>this.frameCount-1&&(i=0,this.timeStart=e);let r=Math.floor(i/this.chunkXYCount),o=i-r*this.chunkXYCount;if(this.canvas[r]&&this.canvas[r][o])return this.canvas[r][o]}}}defineImage(e){if(this.destroyed)t.info(`Sprite ${e} has been destroyed. Load skipped.`);else{const i=e.match(/(^.+)\[(\d+)]/);i&&(this.image=s.image(i[1],(()=>{this.destroyed?t.info(`Skipped load event reaction on destroyed sprite ${e}`):(this.setFrameData(),this._status=1,i[2]?this.frameCount=parseInt(i[2]):t.error(`No frame group match for url ${e}. How did you even get here?`),this.cast("load",null))}),(()=>{this.destroyed?t.info(`Skipped error event reaction on destroyed sprite ${e}`):(t.negative(`Error loading sprite ${this.url}.`),this._status=0,this.cast("error",null))}),(()=>{this.destroyed?t.info(`Skipped reset reaction on destroyed sprite ${e}`):this.defineImage(e)})))}return this}setFrameData(){if(this.image){this.chunkXYCount=Math.ceil(Math.sqrt(this.frameCount)),this.chunkSize[0]=this.image.width/this.chunkXYCount,this.chunkSize[1]=this.image.height/this.chunkXYCount,this.frameTime=1e3/this.refreshRate,this.duration=this.frameTime*this.frameCount,this.chunkSize[0]=this.image.width/this.chunkXYCount,this.chunkSize[1]=this.image.height/this.chunkXYCount,this.canvas=[];for(let t=0;t<this.chunkXYCount;t++){this.canvas[t]||this.canvas.push([]);for(let e=0;e<this.chunkXYCount;e++){this.canvas[t][e]||(this.canvas[t].push(document.createElement("canvas")),this.canvas[t][e].width=1,this.canvas[t][e].height=1),this.canvas[t][e].setAttribute("width",this.chunkSize[0].toString()),this.canvas[t][e].setAttribute("height",this.chunkSize[0].toString());const s=this.canvas[t][e].getContext("2d");s&&(s.translate(-this.chunkSize[0]*e,-this.chunkSize[1]*t),s.drawImage(this.image,0,0))}}}else t.error("Unable to set sprite frame data. No image.")}get paused(){return this.frozen}pause(){this.frozen=!0}play(){this.frozen=!1}get frames(){return this.frameCount}set frames(t){this.frameCount=t,this.setFrameData()}get width(){return this.chunkSize[0]}get height(){return this.chunkSize[1]}get size(){return[...this.chunkSize]}get fps(){return this.refreshRate}set fps(t){this.timeStart=(new Date).getTime(),this.refreshRate=t,this.setFrameData()}static isNdUrlSpriteStr(t){return NdSprite.NdUrlSpriteStrRegex.test(t)}}NdSprite.NdUrlSpriteStrRegex=/(^.+)\[([0-9]+)]$/;class NdModSprite extends NdNodeStylesModel{constructor(){super(...arguments),this.src=new NdStylesProperty(1,!1,(t=>t?t.url:t),((t,e)=>{if(this.src.protectedValue){if(this.src.protectedValue.url===t)return this.src.protectedValue;this.src.protectedValue.destroy()}if(NdSprite.isNdUrlSpriteStr(t)){const s=new NdSprite(t);return s.on("load",(()=>{s.fps=this.fps.protectedValue,this.frames.set(s.frames,e)})),s.load(),s}return t?new NdImage(t).load():!!t})),this.frames=new NdStylesProperty(0,0,(t=>t),(t=>t)),this.fps=new NdStylesProperty(0,12,(t=>t),(t=>(t<0&&(t=0),t))),this.size=new NdNodeStylePropertyAnimated(1,["auto","auto"],(t=>[...t]),(t=>"string"==typeof t||"number"==typeof t?[t,t]:[...t]),((t,e,s,i)=>{s(t.map(((t,e)=>{if("auto"===t)return this.src.protectedValue?0===e?this.src.protectedValue.width:this.src.protectedValue.height:0})));i(("number"==typeof e||"auto"===e?[e,e]:e).map(((t,e)=>"auto"===t?this.src.protectedValue?0===e?this.src.protectedValue.width:this.src.protectedValue.height:0:(t<0&&(t=0),t))))}),(t=>(t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),t)))}}class Sprite extends Node{constructor(t,e){super(t,Object.assign(Object.assign(Object.assign({},new NdModSprite),new NdModBase),new NdModAnchor),e),this.export=t=>{if(t||(t=new Date),this.data.src.protectedValue)return this.data.src.protectedValue.export(t)},this.render=(t,e)=>{if(this.data.src.protectedValue){Sprite.transformContext(this,t);const s=this.data.src.protectedValue.export(e);s&&t.drawImage(s,0,0,"auto"===this.data.size.protectedValue[0]?this.data.src.protectedValue.width:this.data.size.protectedValue[0],"auto"===this.data.size.protectedValue[1]?this.data.src.protectedValue.height:this.data.size.protectedValue[1])}return t},this.test=t=>(t=this.matrix.traceCursorToLocalSpace([...t]))[0]>0&&t[0]<this.boundingRect.size[0]&&t[1]>0&&t[1]<this.boundingRect.size[1]&&this,this.Box=new NdNodeBox(this,this.Cache,(()=>{const t=[...this.data.position.protectedValue],e=this.data.size.protectedValue.map(((t,e)=>{if("auto"===t)return this.data.src.protectedValue?0===e?this.data.src.protectedValue.width:this.data.src.protectedValue.height:0}));return Node.applyBoxAnchor(t,e[0],e[1],this.data),[t[0],t[1],e[0],e[1],0,0,0,0]})),this.watch("src",(()=>{this.data.src.protectedValue&&(this.data.src.protectedValue.loaded?(this.Box.purge(),this.Matrix.purge()):this.data.src.protectedValue.on("load",(()=>{this.Box.purge(),this.Matrix.purge()})))})),this.watch("frames",(()=>{this.data.src.protectedValue instanceof NdSprite&&(this.data.src.protectedValue.frames=this.data.frames.protectedValue)})),this.watch("fps",(()=>{this.data.src.protectedValue instanceof NdSprite&&(this.data.src.protectedValue.fps=this.data.fps.protectedValue)})),this.watch("size",(()=>{this.Box.purge(),this.Matrix.purge()}))}pause(){this.data.src.protectedValue instanceof NdSprite&&this.data.src.protectedValue.pause()}play(){this.data.src.protectedValue instanceof NdSprite&&this.data.src.protectedValue.play()}}class Area extends Node{constructor(t,e){super(t,Object.assign(Object.assign(Object.assign(Object.assign({},new NdModBase),new NdModFreeStroke(!0)),new NdModAnchor),new NdModBg),e),this.xShift=0,this.yShift=0,this.strokeFix=1,this.interpolationFix=0,this.interpolated=!1,this.mouseTester=new NdNodeEmpiricalMouseChecker,this.Box=new NdNodeBox(this,this.Cache,(()=>{let t=[...this.data.position.protectedValue],e=1/0,s=1/0,i=-1/0,r=-1/0;this.data.path.protectedValue.forEach((t=>{t[0]<e&&(e=t[0]),t[2]<e&&(e=t[2]),t[1]<s&&(s=t[1]),t[3]<s&&(s=t[3]),t[0]>i&&(i=t[0]),t[2]>i&&(i=t[2]),t[1]>r&&(r=t[1]),t[3]>r&&(r=t[3])})),e===1/0&&(e=0),s===1/0&&(s=0),i===-1/0&&(i=0),r===-1/0&&(i=0),this.xShift=e,this.yShift=s;const o=this.strokeFix+this.interpolationFix,n=Math.abs(i-e),a=Math.abs(r-s);return Node.applyBoxAnchor(t,n,a,this.data),[t[0]+this.xShift,t[1]+this.yShift,n,a,o,o,o,o]})),this.Assembler=new NdModeAssembler([{name:"fill",resolver:t=>{t.save(),t.translate(this.boundingRect.margin[3]-this.xShift,this.boundingRect.margin[0]-this.yShift),!this.interpolated&&this.data.interpolation.protectedValue>0&&(NdNodeStylesModel.interpolate(this.data.path.protectedValue,this.data.interpolation.protectedValue,!0),this.interpolated=!0),Node.drawFill(this.data,t),t.restore()}},{name:"bg",resolver:t=>{t.translate(this.boundingRect.margin[3]-this.xShift,this.boundingRect.margin[0]-this.yShift),Node.drawPathBg(this.data,t,this.Assembler)}},{name:"stroke",resolver:t=>{this.interpolated||(NdNodeStylesModel.interpolate(this.data.path.protectedValue,this.data.interpolation.protectedValue,!0),this.interpolated=!0),t.translate(this.boundingRect.margin[3]-this.xShift,this.boundingRect.margin[0]-this.yShift),Node.drawStroke(this.data,t)}}]),this.test=t=>!!this.mouseTester.check(this.matrix.traceCursorToLocalSpace([...t]))&&this,this.render=t=>(Node.transformContext(this,t),t.drawImage(this.Assembler.export(this),0,0),t),this.export=()=>this.Assembler.export(this),this.on("destroy",(()=>{NdModBg.destroyBackground(this.data)})),this.watch("path",(()=>{this.interpolated=!1,this.Box.purge(),this.Matrix.purge(),this.Assembler.resize(),this.Assembler.update(),this.interpolated=!1,this.mouseTester.resize(this.boundingRect.size),this.mouseTester.redraw(this.data)})),this.watch("interpolation",(()=>{this.interpolated=!1,this.interpolationFix=Math.round(40*this.data.interpolation.protectedValue),this.Assembler.update(),this.Assembler.resize(),this.mouseTester.resize(this.boundingRect.size),this.mouseTester.redraw(this.data),this.interpolated=!1})),this.watch(["strokeStyle","strokeColor"],(()=>{this.Assembler.update("stroke"),this.Assembler.resize()})),this.watch("fill",(()=>{this.Assembler.update("fill")})),this.watch(["bg","backgroundSize","backgroundPosition"],(()=>{this.Assembler.update("bg")})),this.watch("strokeWidth",(()=>{this.strokeFix=this.data.strokeWidth.protectedValue.reduce(((t,e)=>t<e?e:t),0)/2,this.Assembler.update("stroke"),this.mouseTester.resize(this.boundingRect.size),this.mouseTester.redraw(this.data),this.Box.purge(),this.Matrix.purge(),this.Assembler.resize()}))}}class NdModSize extends NdNodeStylesModel{constructor(){super(...arguments),this.size=new NdNodeStylePropertyAnimated(1,[0,0],(t=>[...t]),(t=>"number"==typeof t?(t<0&&(t=0),[t,t]):t.map((t=>t<0?0:t))),((t,e,s,i)=>{s([...t]),"number"==typeof e?(e<0&&(e=0),i([e,e])):i(e.map((t=>t<0?0:t)))}),(t=>t))}}class NdModRect extends NdNodeStylesModel{constructor(){super(...arguments),this.radius=new NdNodeStylePropertyAnimated(0,[0,0,0,0],(t=>[...t]),(t=>"number"==typeof t?t<0?[0,0,0,0]:[t,t,t,t]:t.map((t=>t<0?0:t))),((t,e,s,i)=>{s([...t]),i("number"==typeof e?e<0?[0,0,0,0]:[e,e,e,e]:e.map((t=>t<0?0:t)))}),(t=>t)),this.strokeColor=new NdNodeStylePropertyAnimated(1,["rgba(0,0,0,1)","rgba(0,0,0,1)","rgba(0,0,0,1)","rgba(0,0,0,1)"],(t=>[...t]),(t=>"string"==typeof t?[t=NdModRect.arrayToColor(NdModRect.normalizeColor(NdModRect.colorToArray(t))),t,t,t]:"number"==typeof t[0]?[t=NdModRect.arrayToColor(NdModRect.normalizeColor(t)),t,t,t]:"string"==typeof t[0]?t.map((t=>NdModRect.arrayToColor(NdModRect.normalizeColor(NdModRect.colorToArray(t))))):t.map((t=>NdModRect.arrayToColor(NdModRect.normalizeColor(t))))),((t,e,s,i)=>{if(s(t.map((t=>NdModRect.colorToArray(t)))),"string"==typeof e){let t=NdModRect.normalizeColor(NdModRect.colorToArray(e));i([t,t,t,t])}else if("number"==typeof e[0]){let t=NdModRect.normalizeColor(e);i([t,t,t,t])}else"string"==typeof e[0]?i(e.map((t=>NdModRect.normalizeColor(NdModRect.colorToArray(t))))):i(e.map((t=>[...NdModRect.normalizeColor(t)])))}),(t=>t)),this.strokeWidth=new NdNodeStylePropertyAnimated(1,[1,1,1,1],(t=>[...t]),(t=>"number"==typeof t?t<0?[0,0,0,0]:[t,t,t,t]:t.map((t=>t<0?0:t))),((t,e,s,i)=>{s([...t]),"number"==typeof e?i(e<0?[0,0,0,0]:[e,e,e,e]):s(e.map((t=>t<0?0:t)))}),(t=>t)),this.strokeStyle=new NdStylesProperty(1,[[0],[0],[0],[0]],(t=>t.map((t=>[...t]))),(t=>"number"==typeof t[0]?[t,t,t,t]:t.map((t=>[...t]))))}}class Rectangle extends Node{constructor(t,e){super(t,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},new NdModRect),new NdModSize),new NdModAnchor),new NdModBg),new NdModBase),e),this.CIRCLECONST=.5522847498,this.Assembler=new NdModeAssembler([{name:"fill",resolver:t=>{t.translate(this.strokeFix[3],this.strokeFix[0]),Rectangle.registerPath(this.path(),t,!0),t.fillStyle=this.data.fill.protectedValue,t.fill()}},{name:"bg",resolver:t=>{t.translate(this.strokeFix[3],this.strokeFix[0]),Rectangle.clipBezierPath(this.path(),t),Rectangle.drawBg(this.data,t,this.Assembler)}},{name:"stroke",resolver:t=>{t.translate(this.strokeFix[3],this.strokeFix[0]),this.drawRectStroke(t)}}]),this.export=()=>this.Assembler.export(this),this.test=t=>{const[e,s]=this.Matrix.value.traceCursorToLocalSpace([...t]);return e<this.Box.value.sprite.size[0]&&e>0&&s<this.Box.value.sprite.size[1]&&s>0&&this},this.render=t=>(Rectangle.transformContext(this,t),t.drawImage(this.Assembler.export(this),0,0),t),this.Box=new NdNodeBox(this,this.Cache,(()=>{const t=[...this.data.position.protectedValue];return Node.applyBoxAnchor(t,this.data.size.protectedValue[0],this.data.size.protectedValue[1],this.data),[t[0],t[1],this.data.size.protectedValue[0],this.data.size.protectedValue[1],this.strokeFix[0],this.strokeFix[1],this.strokeFix[2],this.strokeFix[3]]})),this.strokeFix=[...this.data.strokeWidth.protectedValue];const{getter:s,purge:i}=this.Cache.register("path",(()=>{const[t,e]=this.data.size.protectedValue,[s,i,r,o]=this.data.radius.protectedValue.map((s=>(s>t/2&&(s=t/2),s>e/2&&(s=e/2),s)));if(t&&e){const n=[];return s?(n.push([0,s,s,0,0,s*this.CIRCLECONST,s-s*this.CIRCLECONST,0]),n.push([n[0][2],n[0][3],t,0,n[0][2],n[0][3],t,0])):n.push([0,0,t,0,0,0,t,0]),i?(n[n.length-1][2]-=i,n[n.length-1][6]-=i,n.push([t-i,0,t,i,t-i+i*this.CIRCLECONST,0,t,i-i*this.CIRCLECONST]),n.push([t,i,t,e,t,i,t,e])):n.push([t,0,t,e,t,0,t,e]),r?(n[n.length-1][3]-=r,n[n.length-1][7]-=r,n.push([t,e-r,t-r,e,t,e-r+r*this.CIRCLECONST,t-r+r*this.CIRCLECONST,e]),n.push([t-r,e,0,e,t-r,e,0,e])):n.push([t,e,0,e,t,e,0,e]),o?(n[n.length-1][2]+=o,n[n.length-1][6]+=o,n.push([o,e,0,e-o,o-o*this.CIRCLECONST,e,0,e-o+o*this.CIRCLECONST]),n.push([0,e-o,n[0][0],n[0][1],0,e-o,n[0][0],n[0][1]])):n.push([0,e-o,n[0][0],n[0][1],0,e-o,n[0][0],n[0][1]]),n}return[]}));this.path=s,this.purgePath=i,this.watch("size",(()=>{this.Assembler.resize(),this.Assembler.update("fill"),this.Assembler.update("bg"),this.Assembler.update("stroke"),this.Matrix.purge(),this.Box.purge(),this.purgePath()})),this.watch("radius",(()=>{this.Assembler.update("fill"),this.Assembler.update("bg"),this.Assembler.update("stroke"),this.purgePath()})),this.watch("strokeWidth",(()=>{this.strokeFix=[...this.data.strokeWidth.protectedValue],this.Box.purge(),this.Assembler.resize(),this.Matrix.purge(),this.Assembler.update("fill"),this.Assembler.update("bg"),this.Assembler.update("stroke")})),this.watch(["bg","backgroundSize","backgroundPosition"],(()=>{this.Assembler.update("bg")})),this.watch(["strokeColor","strokeStyle"],(()=>{this.Assembler.update("stroke")})),this.watch("fill",(()=>{this.Assembler.update("fill")})),this.on("destroy",(()=>{NdModBg.destroyBackground(this.data)}))}static drawCorner(t,e,s,i,r,o,n){e.save(),e.beginPath(),e.lineWidth=Math.max(o,n);let[a,h,d,l,c,u,p,m]=s;if(0===t){if(o<n){const t=(n-o)/2;a+=t,c+=t}if(o>n){const t=(o-n)/2;l+=t,m+=t}}if(1==t){if(o<n){const t=(n-o)/2;h+=t,u+=t}if(n<o){const t=(o-n)/2;d-=t,p-=t}}if(2==t){if(o<n){const t=(n-o)/2;a-=t,c-=t}if(o>n){const t=(o-n)/2;l-=t,m-=t}}if(3==t){if(n<o){const t=(o-n)/2;d+=t,p+=t}if(o<n){const t=(n-o)/2;h-=t,u-=t}}if(e.moveTo(a,h),i!==r){const s=e.createConicGradient(-Math.PI-1/180+Math.PI/2*t,t%2?a:d,t%2?l:h);s.addColorStop(0,i),s.addColorStop(.25,r),e.strokeStyle=s}else e.strokeStyle=i;e.bezierCurveTo(c,u,p,m,d,l),e.stroke(),e.restore()}static drawBridge(t,e,s,i){t.beginPath(),t.lineCap="round",t.moveTo(e[0],e[1]),t.strokeStyle=s,t.lineWidth=i,t.lineTo(e[2],e[3]),t.stroke()}drawRectStroke(t){const e=this.path(),s=[0,1,2,3];if(e.length){let i=0;this.data.radius.protectedValue.forEach(((t,e)=>{if(t>0)for(let t=e;t<s.length;t++)s[t]+=1})),e.forEach(((e,r)=>{e[0]!==e[2]&&e[1]!==e[3]?Rectangle.drawCorner(i,t,e,i>0?this.data.strokeColor.protectedValue[i-1]:this.data.strokeColor.protectedValue[3],this.data.strokeColor.protectedValue[i],i>0?this.data.strokeWidth.protectedValue[i-1]:this.data.strokeWidth.protectedValue[3],this.data.strokeWidth.protectedValue[i]):Rectangle.drawBridge(t,e,this.data.strokeColor.protectedValue[i],this.data.strokeWidth.protectedValue[i]),s.indexOf(r)>-1&&i++})),i=0}}}var i;!function(t){t["sans-serif"]="sans-serif",t.serif="serif",t.system="system"}(i||(i={}));class NdFont extends NdResource{constructor(e,s,i){super(`\\${i?i.name:"default"}.font`,(()=>s&&i?(this.initMeasureBuffer(),this.loadFont((()=>{t.positive(`Font ${this.name} loaded`),this.cast("load",null)}),(()=>{t.negative(`Unable to load font ${this.name}`),this.cast("error",null)})),this.styles.innerHTML=this.str.reduce(((t,e)=>t+e),""),document.head.appendChild(this.styles),this):(t.positive(`Font ${this.url} loaded`),this.cast("load",null),this))),this.context=document.createElement("canvas").getContext("2d"),this.styles=document.createElement("style"),this.fontMaxLoadTime=1e4,this.fontLoadStart=0,this.fontMeasureBuffer=[],this.formatStr={eot:function(t){return'url("'+t+'.eot?#iefix") format("embedded-opentype")'},woff:function(t){return'url("'+t+'.woff") format("woff")'},ttf:function(t){return'url("'+t+'.ttf") format("truetype")'},svg:function(t,e,s){return'url("'+t+".svg#"+e+"-"+(s.charAt(0).toUpperCase()+s.slice(1))+'") format("svg")'}},this.export=this.context.canvas,s&&i?(this.scheme=i,this.str=i.weight.map((t=>i.style.reduce(((r,o)=>r+`@font-face {\n font-family:"${i.name}";\n src:`+s.reduce(((r,n,a)=>r+this.formatStr[n](`${e}/${i.name}-${t}-${o}`,i.name,o)+(a<s.length-1?",\n":";")),"")+`\nfont-weight: ${NdFont.extractNumericWeight(t)};\nfont-style: ${o};\n}\n`),"")),"")):(this.str=[],this.scheme={name:"default",weight:[],style:[]})}loadFont(e,s){const i=this.scheme.weight.map((t=>this.scheme.style.map((e=>this.measureFont(e,t)))));let r=!0;for(let t=0;t<this.scheme.weight.length;t++){for(let e=0;e<this.scheme.style.length;e++)if(i[t][e]===this.fontMeasureBuffer[t][e]){r=!1;break}if(!r)break}r?e():(new Date).getTime()-this.fontLoadStart>this.fontMaxLoadTime?(t.negative(`Gave up trying to load ${this.name}. Timeout.`),s()):setTimeout((()=>this.loadFont(e,s)),500)}measureFont(t,e,s){return this.context.font=s?`${t} ${NdFont.extractNumericWeight(e)} 12px/12px "${s}"`:this.string(t,NdFont.extractNumericWeight(e),12),this.context.measureText(NdFont.CONSTFONTCHECKSTRING).width}initMeasureBuffer(){this.fontLoadStart=(new Date).getTime(),this.fontMeasureBuffer=this.scheme.weight.map((t=>this.scheme.style.map((e=>this.measureFont(e,t,"sans-serif")))))}get name(){return this.scheme.name}string(t,e,s,i=s){return`${t} ${NdFont.extractNumericWeight(e)} ${s}px/${i}px "${this.scheme.name}"`}static extractNumericWeight(t){return"normal"===t?400:"black"===t?900:"light"===t?300:"bold"===t?600:t}}NdFont.CONSTFONTCHECKSTRING='abcdefghijklmnopqrstuvwxyz 1234567890[!?,.<>"£$%^&*()~@#-=]';var r=new class NodasFonts{constructor(){this.fonts={},this.fontRootPath="./fonts",this.format=["eot","svg","ttf","woff"]}get root(){return this.fontRootPath}set root(t){this.fontRootPath=t}get formats(){return[...this.format]}set formats(t){this.format=t}add(e){return this.fonts[e.name]?t.positive(`Font [${e.name}] already registered. Skip..`):Object.values(i).includes(e.name)?t.warn(`You are not allowed to load fonts with names equal to system values [${Object.values(i)}]. \n                    Ignored.`):(this.fonts[e.name]=new NdFont(this.root,this.format,e),t.positive(`Font ${e.name} registered.`)),this.fonts[e.name]}get(t){return this.fonts[t]?this.fonts[t]:null}};class NdTextPartial extends NdEmitter{constructor(){super(...arguments),this.textColor="rgba(0,0,0,1)",this.fWeight=400,this.fSize=14,this.lHeight=14,this.fStyle="normal",this.ndFont="system",this.freeze={},this.onPossibleSizeChange=t=>{this.on(["font","fontSize","weight","style","lineHeight"],t)},this.fontString=()=>{if(Object.values(i).includes(this.ndFont))return"system"===this.ndFont?`${this.style} ${this.weight} ${this.fSize}px serif`:this.fSize+"px "+this.ndFont;{const t=r.get(this.ndFont);return t?t.string(this.fStyle,this.fWeight,this.fSize,this.lineHeight):""}}}get font(){return this.ndFont}set font(t){this.freeze.font||this.ndFont!==t&&(this.ndFont=t,this.cast("font",t))}get lineHeight(){return this.lHeight}set lineHeight(t){this.freeze.lineHeight||(t<0&&(t=0),t!==this.lHeight&&(this.lHeight=t,this.cast("lineHeight",this.lHeight)))}get weight(){return this.fWeight}set weight(t){this.freeze.weight||this.fWeight!==t&&(this.fWeight=t,this.cast("weight",t))}get color(){return this.textColor}set color(t){if(!this.freeze.color){const e=NdNodeStylesModel.arrayToColor(NdNodeStylesModel.normalizeColor(NdNodeStylesModel.colorToArray(t)));e!==this.textColor&&(this.textColor=e,this.cast("color",this.textColor))}}get style(){return this.fStyle}set style(t){this.freeze.style||this.fStyle!==t&&(this.fStyle=t,this.cast("style",t))}get fontSize(){return this.fSize}set fontSize(t){this.freeze.style||(t<0&&(t=0),this.fSize!==t&&(this.fSize=t,this.cast("fontSize",this.fSize)))}}class NdTextWord extends NdTextPartial{constructor(t){super(),this.str="",this.context=document.createElement("canvas").getContext("2d"),this.w=0,this.resizeFlag=!0,this.redrawFlag=!0,this.resize=()=>{this.context.font=this.fontString();const t=Math.ceil(this.context.measureText(this.str).width);t!==this.w&&(this.context.canvas.width=t,this.w=t),this.context.canvas.height!==this.lineHeight&&(this.context.canvas.height=this.lineHeight),this.resizeFlag=!1},this.redraw=()=>{this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height),this.context.textBaseline="middle",this.context.fillStyle=this.color,this.context.font=this.fontString(),this.context.fillText(this.str,0,this.lineHeight/2),this.redrawFlag=!1},this.render=(t,e,s)=>{this.resizeFlag&&this.resize(),this.redrawFlag&&this.redraw(),t.drawImage(this.context.canvas,e,s)},this.string=t,this.on("font",(()=>{if(!Object.values(i).includes(this.font)){const t=r.get(this.font);t&&(t.loaded||t.once("load",(()=>{this.resizeFlag=!0,this.redrawFlag=!0})))}})),this.onPossibleSizeChange((()=>{this.resizeFlag=!0,this.redrawFlag=!0})),this.on("color",(()=>{this.redrawFlag=!0}))}get width(){return this.resizeFlag&&this.resize(),this.w}get length(){return this.str.length}get string(){return this.str}set string(t){t=t.trim(),this.str!==t&&(this.resizeFlag=!0,this.redrawFlag=!0,this.str=t)}}class NdTextSpace extends NdTextPartial{constructor(){super(),this.w=0,this.context=document.createElement("canvas").getContext("2d"),this.measured=!1,this.render=()=>{},this.on("font",(()=>{if(!Object.values(i).includes(this.font)){const t=r.get(this.font);t&&(t.loaded||t.once("load",(()=>{this.measured=!1})))}}))}get length(){return 1}get string(){return" "}forceRedraw(){this.measured=!1}get width(){return this.measured||(this.context.font=this.fontString(),this.w=this.context.measureText(" ").width),this.w}}class NdTextBlock extends NdTextPartial{constructor(t){super(),this.str="",this.l=1/0,this.w=0,this.h=0,this.wordsPattern=/(\S+)/g,this.tagPattern=/\[(?<tagname>[cbi])(="(?<value>rgba\(\d*,\d*,\d*(,(\.\d+|1))?\))")?](?<content>((?!\[\/?\k<tagname>]).)*)\[\/\k<tagname>]/gm,this.updated=!0,this.words=[],this.export=()=>{},this.render=t=>{let e=0,s=0,i=this.width;this.words.forEach((r=>{e+r.width>i&&(s+=this.lineHeight,e=0),r instanceof NdTextSpace&&0===e||(r.render(t,e,s),e+=r.width)}))},this.string=t,this.bindWordsStyles(),this.on("font",(()=>{if(!Object.values(i).includes(this.font)){const t=r.get(this.font);t&&(t.loaded||t.once("load",(()=>{this.updated=!0})))}}))}static applyStylesToText(t,e){return Object.assign(t,e),t}updateSize(){this.w=Math.ceil(this.words.reduce(((t,e)=>t+e.width),0)),this.w=this.l<this.w?this.l:this.w,0===this.w&&(this.w=1);let t=0,e=this.lineHeight,s=[];this.words.forEach(((i,r)=>{t+i.width>this.w&&(e+=this.lineHeight,s.push(t),t=0),t+=i.width,r==this.words.length-1&&0!==t&&s.push(t)}));let i=Math.max.apply(null,s);i<this.w&&(this.w=i),this.h=Math.ceil(e),0===this.h&&(this.h=1),this.updated=!1}bindWordsStyles(){["weight","style","color","font","fontSize","lineHeight"].forEach((t=>{this.on(t,(()=>{this.words.forEach((e=>{e[t]=this[t]}))}))}))}split(t=this.str,e={font:this.font,weight:this.weight,fontSize:this.fontSize,lineHeight:this.lineHeight,style:this.style,color:this.color},s={},i=0){let r=[],o=null,n=i;for(;o=this.tagPattern.exec(t);){if(o.index){const i=t.substring(0,o.index).match(this.wordsPattern);i&&i.forEach((t=>{this.words[n]?(this.words[n].freeze={},r.push(NdTextBlock.applyStylesToText(this.words[n],e)),r[n].string=t):r.push(NdTextBlock.applyStylesToText(new NdTextWord(t),e)),r[r.length-1].freeze=Object.assign({},s),n++,this.words[n]?(this.words[n].freeze={},r.push(NdTextBlock.applyStylesToText(this.words[n],e))):r.push(NdTextBlock.applyStylesToText(new NdTextSpace,e)),r[r.length-1].freeze=Object.assign({},s),n++}))}o.groups.content&&(r=[...r,...this.split(o.groups.content,Object.assign(Object.assign({},e),{weight:"b"===o.groups.tagname?"bold":e.weight,color:"c"===o.groups.tagname&&o.groups.value?o.groups.value:e.color,style:"i"===o.groups.tagname?"italic":e.style}),{weight:"b"===o.groups.tagname||s.weight,color:"c"===o.groups.tagname||s.color,style:"i"===o.groups.tagname||s.style},r.length)],n=r.length),t=t.slice(o.index+o[0].length)}if(t.length){const i=t.match(this.wordsPattern);i&&i.forEach((t=>{const i=this.words[n]?this.words[n]:new NdTextWord(t);i.freeze={},NdTextBlock.applyStylesToText(i,e),i.string=t,i.freeze=Object.assign({},s),r.push(i),n++;const o=this.words[n]?NdTextBlock.applyStylesToText(this.words[n],e):NdTextBlock.applyStylesToText(new NdTextSpace,e);o.freeze=Object.assign({},this.freeze),r.push(o),n++}))}return r}get length(){return this.str.length}get width(){return this.updated&&this.updateSize(),this.l<this.w?this.l:this.w}get limit(){return this.l}set limit(t){this.l=t,this.updated=!0}get height(){return this.updated&&this.updateSize(),this.h}get string(){return this.str}set string(t){if(t!==this.str){this.str=t;const e=this.split();e.pop(),this.words=e,this.updated=!0}}}class NdModText extends NdNodeStylesModel{constructor(){super(...arguments),this.str=new NdStylesProperty(0,"",(t=>t),(t=>t)),this.width=new NdStylesProperty(1,"auto",(t=>t),(t=>t)),this.font=new NdStylesProperty(1,i.system,(t=>t),(t=>Object.values(i).includes(t)||r.get(t)?t:i.system)),this.color=new NdStylesProperty(2,"rgba(0,0,0,1)",(t=>t),(t=>t)),this.weight=new NdStylesProperty(2,"normal",(t=>t),(t=>t)),this.lineHeight=new NdStylesProperty(2,14,(t=>t),(t=>isFinite(t)?t:14)),this.style=new NdStylesProperty(2,"normal",(t=>t),(t=>t))}}class Text extends Node{constructor(t,e){super(t,Object.assign(Object.assign(Object.assign({},new NdModText),new NdModAnchor),new NdModBase),e),this.Assembler=new NdModeAssembler([{name:"text",resolver:t=>{this.textBlock.render(t)}}]),this.Box=new NdNodeBox(this,this.Cache,(()=>{let t=[...this.data.position.protectedValue];const e=this.textBlock.width,s=this.textBlock.height;return Node.applyBoxAnchor(t,e,s,this.data),[t[0],t[1],e,s,0,0,0,0]})),this.render=t=>(Node.transformContext(this,t),t.drawImage(this.Assembler.export(this),0,0),t),this.test=t=>(t=this.Matrix.value.traceCursorToLocalSpace([...t]))[0]<this.Box.value.sprite.size[0]&&t[0]>0&&t[1]<this.Box.value.sprite.size[1]&&t[1]>0&&this,this.export=()=>this.textBlock.export(),this.textBlock=new NdTextBlock(this.data.str.protectedValue),this.syncStylesToBlock(),this.watch(["str","lineHeight","width","weight","style"],(()=>{this.Box.purge(),this.Matrix.purge()})),this.watch("width",(()=>{"number"==typeof this.data.width.protectedValue?this.textBlock.limit=this.data.width.protectedValue:this.textBlock.limit=1/0})),this.watch(["str","lineHeight","weight","width","style"],(()=>{this.Assembler.update(),this.Assembler.resize()})),this.watch("font",(()=>{if(!Object.values(i).includes(this.data.font.protectedValue)){const t=r.get(this.data.font.protectedValue);t&&(t.loaded||(t.once("load",(()=>{this.Box.purge(),this.Matrix.purge(),this.Assembler.resize(),this.Assembler.update("text")})),t.load()))}}))}syncStylesToBlock(){this.textBlock.font=this.data.font.protectedValue,this.textBlock.color=this.data.color.protectedValue,this.textBlock.lineHeight=this.data.lineHeight.protectedValue,this.textBlock.style=this.data.style.protectedValue,this.textBlock.weight=this.data.weight.protectedValue,this.bindProps(["font","style","weight","fontSize","lineHeight","color"]),this.watch("str",(()=>{this.textBlock.string=this.data.str.protectedValue}))}bindProps(t){t.forEach((t=>{this.watch(t,(()=>{this.textBlock[t]=this.data[t].protectedValue}))}))}}class Nodas{constructor(t){this.Ticker=new Ticker,this.Config=new Config;const e=new Ticker,s=new Canvas(e),i=new Nodes(s),r=new Mouse(s,e,i),o=this;s.element(t),this.Ticker=e,this.Canvas=s,this.Mouse=r,this.Tree=i,new Group("NODE_TREE_DEFAULT_ROOT",this),this.Text=class NodasText extends Text{constructor(t,e){super(t,o),e&&this.style("str",e)}},this.Area=class NodasArea extends Area{constructor(t,e){super(t,o),e&&this.style("path",e)}},this.Rectangle=class NodasRectangle extends Rectangle{constructor(t,e){super(t,o),e&&this.style("size",e)}},this.Line=class NodasLine extends Line{constructor(t,e){super(t,o),e&&this.style("path",e)}},this.Sprite=class NodasSprite extends Sprite{constructor(t,e){super(t,o),e&&this.style("src",e)}},this.Circle=class NodasCircle extends Circle{constructor(t,e){super(t,o),e&&this.style("radius",e)}},this.Group=class NodasGroup extends Group{constructor(t,e){super(t,o),e&&this.append(e)}}}}const o=r,n=s,a=NdImage,h=NdSprite;export{o as Fonts,a as NodasImage,h as NodasSprite,n as Resources,Nodas as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguZXNtLmpzIiwic291cmNlcyI6WyIuLi9Ob2Rhcy9DYW52YXMvTmRRdWV1ZUVsZW1lbnQudHMiLCIuLi9Ob2Rhcy9jbGFzc2VzL05kRXZlbnQudHMiLCIuLi9Ob2Rhcy9jbGFzc2VzL05kTW91c2VFdmVudC50cyIsIi4uL05vZGFzL2NsYXNzZXMvTmRTdGF0ZUV2ZW50LnRzIiwiLi4vTm9kYXMvY2xhc3Nlcy9OZEVtaXR0ZXIudHMiLCIuLi9Ob2Rhcy9TZXJ2aWNlcy9Ob2Rhc0RlYnVnLnRzIiwiLi4vTm9kYXMvQ2FudmFzLnRzIiwiLi4vTm9kYXMvQ29uZmlnL05kQ29uZmlnUHJvcGVydHkudHMiLCIuLi9Ob2Rhcy9Db25maWcudHMiLCIuLi9Ob2Rhcy9UaWNrZXIudHMiLCIuLi9Ob2Rhcy9jbGFzc2VzL05kRWFzaW5ncy50cyIsIi4uL05vZGFzL2NsYXNzZXMvTmRNb3JwaGluZS50cyIsIi4uL05vZGFzL2NsYXNzZXMvTmRBbmltYXRpb24udHMiLCIuLi9Ob2Rhcy9jbGFzc2VzL05kTWF0cml4LnRzIiwiLi4vTm9kYXMvTm9kZXMvY2xhc3Nlcy9OZE5vZGVNYXRyaXgudHMiLCIuLi9Ob2Rhcy9jbGFzc2VzL05kQ2FjaGUudHMiLCIuLi9Ob2Rhcy9jbGFzc2VzL05kQ29tcGlsZXIudHMiLCIuLi9Ob2Rhcy9Ob2Rlcy9Ob2RlLnRzIiwiLi4vTm9kYXMvTm9kZXMvY2xhc3Nlcy9OZE5vZGVTdHlsZXNNb2RlbC50cyIsIi4uL05vZGFzL05vZGVzL2NsYXNzZXMvTmROb2RlU3R5bGVQcm9wZXJ0eS50cyIsIi4uL05vZGFzL05vZGVzL2NsYXNzZXMvTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkLnRzIiwiLi4vTm9kYXMvTm9kZXMvbW9kZWxzL05kTW9kQmFzZS50cyIsIi4uL05vZGFzL2NsYXNzZXMvTmRCb3gudHMiLCIuLi9Ob2Rhcy9Ob2Rlcy9jbGFzc2VzL05kTm9kZUJveC50cyIsIi4uL05vZGFzL05vZGVzL0dyb3VwLnRzIiwiLi4vTm9kYXMvTm9kZXMvY2xhc3Nlcy9OZE5vZGVDb25uZWN0b3IudHMiLCIuLi9Ob2Rhcy9Ob2Rlcy50cyIsIi4uL05vZGFzL01vdXNlL05kTm9kZU1vdXNlRGlzcGF0Y2hlci50cyIsIi4uL05vZGFzL01vdXNlLnRzIiwiLi4vTm9kYXMvY2xhc3Nlcy9OZENhbnZhcy50cyIsIi4uL05vZGFzL2NsYXNzZXMvTmRMYXllci50cyIsIi4uL05vZGFzL05vZGVzL2NsYXNzZXMvTmRNb2RlQXNzZW1ibGVyLnRzIiwiLi4vTm9kYXMvTm9kZXMvbW9kZWxzL05kTW9kRnJlZVN0cm9rZS50cyIsIi4uL05vZGFzL05vZGVzL21vZGVscy9OZE1vZEFuY2hvci50cyIsIi4uL05vZGFzL05vZGVzL2NsYXNzZXMvTmROb2RlRW1waXJpY2FsTW91c2VDaGVja2VyLnRzIiwiLi4vTm9kYXMvTm9kZXMvTGluZS50cyIsIi4uL05vZGFzL2NsYXNzZXMvTmRSZXNvdXJjZS50cyIsIi4uL05vZGFzL1NlcnZpY2VzL05vZGFzUmVzb3VyY2VzLnRzIiwiLi4vTm9kYXMvY2xhc3Nlcy9OZEltYWdlLnRzIiwiLi4vTm9kYXMvTm9kZXMvbW9kZWxzL05kTW9kQmcudHMiLCIuLi9Ob2Rhcy9Ob2Rlcy9tb2RlbHMvTmRNb2RDaXJjLnRzIiwiLi4vTm9kYXMvTm9kZXMvQ2lyY2xlLnRzIiwiLi4vTm9kYXMvY2xhc3Nlcy9OZFNwcml0ZS50cyIsIi4uL05vZGFzL05vZGVzL21vZGVscy9OZE1vZFNwcml0ZS50cyIsIi4uL05vZGFzL05vZGVzL1Nwcml0ZS50cyIsIi4uL05vZGFzL05vZGVzL0FyZWEudHMiLCIuLi9Ob2Rhcy9Ob2Rlcy9tb2RlbHMvTmRNb2RTaXplLnRzIiwiLi4vTm9kYXMvTm9kZXMvbW9kZWxzL05kTW9kUmVjdC50cyIsIi4uL05vZGFzL05vZGVzL1JlY3RhbmdsZS50cyIsIi4uL05vZGFzL0B0eXBlcy90eXBlcy50cyIsIi4uL05vZGFzL2NsYXNzZXMvTmRGb250LnRzIiwiLi4vTm9kYXMvU2VydmljZXMvTm9kYXNGb250cy50cyIsIi4uL05vZGFzL2NsYXNzZXMvTmRUZXh0UGFydGlhbC50cyIsIi4uL05vZGFzL2NsYXNzZXMvTmRUZXh0V29yZC50cyIsIi4uL05vZGFzL2NsYXNzZXMvTmRUZXh0U3BhY2UudHMiLCIuLi9Ob2Rhcy9jbGFzc2VzL05kVGV4dEJsb2NrLnRzIiwiLi4vTm9kYXMvTm9kZXMvbW9kZWxzL05kTW9kVGV4dC50cyIsIi4uL05vZGFzL05vZGVzL1RleHQudHMiLCIuLi9Ob2Rhcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge05kQ2FudmFzUXVldWVDYWxsYmFja30gZnJvbSAnLi4vQHR5cGVzL3R5cGVzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kUXVldWVFbGVtZW50IHtcclxuICAgIHJlYWRvbmx5IG9yZGVyOiBudW1iZXIgPSAwXHJcbiAgICByZWFkb25seSBjYWxsYmFjaztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjazogTmRDYW52YXNRdWV1ZUNhbGxiYWNrLCBvcmRlcj86IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFja1xyXG4gICAgICAgIGlmIChvcmRlcikgdGhpcy5vcmRlciA9IG9yZGVyXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBOZEV2ZW50PFRhcmdldFR5cGUsXHJcbiAgICBEYXRhVHlwZT4ge1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHRpbWU6IERhdGUgPSBuZXcgRGF0ZSgpXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGF0YTogRGF0YVR5cGU7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0OiBUYXJnZXRUeXBlXHJcbiAgICBwdWJsaWMgcHJvcGFnYXRlOiBib29sZWFuID0gdHJ1ZVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHRhcmdldDogVGFyZ2V0VHlwZSxcclxuICAgICAgICBkYXRhOiBEYXRhVHlwZSkge1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGFcclxuICAgIH1cclxufSIsImltcG9ydCBOZEV2ZW50IGZyb20gJy4vTmRFdmVudCc7XHJcbmltcG9ydCB7TmRNb3VzZUV2ZW50RGF0YX0gZnJvbSAnLi4vTm9kZXMvQHR5cGVzL3R5cGVzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kTW91c2VFdmVudDxUYXJnZXQ+IGV4dGVuZHMgTmRFdmVudDxUYXJnZXQsIE5kTW91c2VFdmVudERhdGE+IHtcclxufSIsImltcG9ydCBOZEV2ZW50IGZyb20gJy4vTmRFdmVudCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZFN0YXRlRXZlbnQ8VGFyZ2V0PiBleHRlbmRzIE5kRXZlbnQ8VGFyZ2V0LCBudWxsPiB7XHJcbn0iLCJpbXBvcnQge05kTGlzdGVuYWJsZX0gZnJvbSAnLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IHtFdmVudEVtaXR0ZXJ9IGZyb20gJ2V2ZW50cyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZEVtaXR0ZXI8U2NoZW1lLCBLIGV4dGVuZHMga2V5b2YgU2NoZW1lID0ga2V5b2YgU2NoZW1lPiBpbXBsZW1lbnRzIE5kTGlzdGVuYWJsZTxTY2hlbWUsIEs+IHtcclxuICAgIHByaXZhdGUgRW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKVxyXG4gICAgcHJvdGVjdGVkIGNhc3QoZXZlbnQ6IGtleW9mIFNjaGVtZSwgZGF0YTogU2NoZW1lW0tdKTogU2NoZW1lW0tdIHtcclxuICAgICAgICB0aGlzLkVtaXR0ZXIuZW1pdCg8c3RyaW5nPmV2ZW50LCBkYXRhKVxyXG4gICAgICAgIHJldHVybiBkYXRhXHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgcmVtb3ZlQWxsTGlzdGVuZXJzID0gdGhpcy5FbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVyc1xyXG4gICAgb24oZXZlbnQ6IEsgfCAoSylbXSwgY2FsbGJhY2s6IChldmVudDogU2NoZW1lW0tdKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgZXZlbnQgaW5zdGFuY2VvZiBBcnJheSA/XHJcbiAgICAgICAgICAgIGV2ZW50LmZvckVhY2goZSA9PiB0aGlzLkVtaXR0ZXIub24oPHN0cmluZz5lLCBjYWxsYmFjaykpIDpcclxuICAgICAgICAgICAgdGhpcy5FbWl0dGVyLm9uKDxzdHJpbmc+ZXZlbnQsIGNhbGxiYWNrKVxyXG4gICAgfVxyXG5cclxuICAgIG9uY2UoZXZlbnQ6IEt8IChLKVtdLCBjYWxsYmFjazogKGV2ZW50OiBTY2hlbWVbS10pID0+IHZvaWQpIHtcclxuICAgICAgICB0aGlzLkVtaXR0ZXIub25jZSg8c3RyaW5nPmV2ZW50LCBjYWxsYmFjaylcclxuICAgIH1cclxuXHJcbiAgICBvZmYoZXZlbnQ6IEt8IChLKVtdLCBjYWxsYmFjazogKGV2ZW50OiBTY2hlbWVbS10pID0+IHZvaWQpIHtcclxuICAgICAgICB0aGlzLkVtaXR0ZXIub2ZmKDxzdHJpbmc+ZXZlbnQsIGNhbGxiYWNrKVxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBOZEVtaXR0ZXIgZnJvbSAnLi4vY2xhc3Nlcy9OZEVtaXR0ZXInO1xyXG5cclxuY2xhc3MgTm9kYXNEZWJ1ZyBleHRlbmRzIE5kRW1pdHRlcjx7ICdtZXNzYWdlJzogc3RyaW5nLCAnZXJyb3InOiBzdHJpbmcsICdpbmZvJzogc3RyaW5nLCAnaW1wb3J0YW50Jzogc3RyaW5nIH0+IHtcclxuICAgIHByaXZhdGUgcHJlZml4ID0gJ+KLkidcclxuICAgIHByaXZhdGUgd2FybmluZ3MgPSB0cnVlXHJcbiAgICBwcml2YXRlIGdyb3VwTGV2ZWwgPSAwXHJcbiAgICBwcml2YXRlIGN1cnJlbnRMZXZlbCA9IDA7XHJcbiAgICBwcml2YXRlIHNlcGFyYXRvck1lc3NhZ2VzOiB7IFtrZXk6IG51bWJlcl06IHN0cmluZyB9ID0ge31cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRNZXNzYWdlKG1lc3NhZ2U6IHN0cmluZywgc291cmNlPzoge30gfCBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gYCR7dGhpcy5wcmVmaXh9JHtzb3VyY2UgPyBgWyR7dHlwZW9mIHNvdXJjZSA9PSAnc3RyaW5nJyA/IHNvdXJjZSA6IHNvdXJjZS5jb25zdHJ1Y3Rvci5uYW1lfV1gIDogJyd9OiAke21lc3NhZ2V9YDtcclxuICAgIH1cclxuXHJcbiAgICBlcnJvcihtZXNzYWdlOiBzdHJpbmcsIHNvdXJjZT86IHt9IHwgc3RyaW5nKSB7XHJcbiAgICAgICAgbWVzc2FnZSA9IHRoaXMuZ2V0TWVzc2FnZShtZXNzYWdlLCBzb3VyY2UpXHJcbiAgICAgICAgdGhpcy5jYXN0KCdlcnJvcicsIG1lc3NhZ2UpXHJcbiAgICAgICAgY29uc29sZS50cmFjZSgpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcign4pigJyArIG1lc3NhZ2UpXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHdhcm4obWVzc2FnZTogc3RyaW5nLCBzb3VyY2U/OiB7fSB8IHN0cmluZykge1xyXG4gICAgICAgIG1lc3NhZ2UgPSB0aGlzLmdldE1lc3NhZ2UobWVzc2FnZSwgc291cmNlKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGAlYyAke21lc3NhZ2V9IOKaoGAsICAnYm9yZGVyOiAxcHggc29saWQgI0ZGRDE2NjsgYm9yZGVyLXJhZGl1czoycHg7IGJhY2tncm91bmQ6cmdiYSgyNTUsIDIwOSwgMTAyLC4wMSk7IHBhZGRpbmc6IDRweCA2cHggNHB4IDRweDsgY29sb3I6I0I4ODEwMCcpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBpbmZvKG1lc3NhZ2U6IHN0cmluZywgc291cmNlPzoge30gfCBzdHJpbmcpIHtcclxuICAgICAgICBtZXNzYWdlID0gdGhpcy5nZXRNZXNzYWdlKG1lc3NhZ2UsIHNvdXJjZSlcclxuICAgICAgICB0aGlzLmNhc3QoJ2luZm8nLCBtZXNzYWdlKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGAlYyAke21lc3NhZ2V9IOKEuWAsICdib3JkZXI6IDFweCBzb2xpZCAjMTE4QUIyOyBib3JkZXItcmFkaXVzOjJweDsgYmFja2dyb3VuZDpyZ2JhKDcsIDU5LCA3NiwuMDEpOyBwYWRkaW5nOiA0cHggNnB4IDRweCA0cHg7IGNvbG9yOiMxMThBQjInKTtcclxuICAgIH07XHJcblxyXG4gICAgbWVzc2FnZShtZXNzYWdlOiBzdHJpbmcsIHNvdXJjZT86IHt9IHwgc3RyaW5nKSB7XHJcbiAgICAgICAgbWVzc2FnZSA9IHRoaXMuZ2V0TWVzc2FnZShtZXNzYWdlLCBzb3VyY2UpXHJcbiAgICAgICAgdGhpcy5jYXN0KCdpbmZvJywgbWVzc2FnZSlcclxuICAgICAgICBjb25zb2xlLmxvZygnJWMnICsgbWVzc2FnZSwgJ2JvcmRlcjogMXB4IHNvbGlkICMwNzNCNEM7IGJvcmRlci1yYWRpdXM6MnB4OyBiYWNrZ3JvdW5kOnJnYmEoNywgNTksIDc2LC4wMSk7IHBhZGRpbmc6IDRweCA2cHggNHB4IDRweDsgY29sb3I6IzA3M0I0QycpO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZXBhcmF0b3IobWVzc2FnZTogc3RyaW5nLCBzb3VyY2U/OiB7fSB8IHN0cmluZykge1xyXG4gICAgICAgIG1lc3NhZ2UgPSB0aGlzLmdldE1lc3NhZ2UobWVzc2FnZSwgc291cmNlKVxyXG4gICAgICAgIHRoaXMuY3VycmVudExldmVsKys7XHJcbiAgICAgICAgdGhpcy5zZXBhcmF0b3JNZXNzYWdlc1t0aGlzLmN1cnJlbnRMZXZlbF0gPSBtZXNzYWdlO1xyXG4gICAgICAgIHRoaXMuY2FzdCgnaW5mbycsIG1lc3NhZ2UpXHJcbiAgICAgICAgY29uc29sZS5sb2coJyVjJyArIG1lc3NhZ2UgKyAnIOKMmycsICdwYWRkaW5nOiA0cHggMTBweDsgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCAjMTA5NDlDOyBiYWNrZ3JvdW5kOnJnYmEoMTYsMTQ4LDE1NiwwLjEpOyBjb2xvcjogIzEwOTQ5QycpO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZXBhcmF0b3JFbmQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLndhcm5pbmdzKSByZXR1cm47XHJcbiAgICAgICAgaWYgKHRoaXMuc2VwYXJhdG9yTWVzc2FnZXNbdGhpcy5jdXJyZW50TGV2ZWxdKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCclYycgKyB0aGlzLnNlcGFyYXRvck1lc3NhZ2VzW3RoaXMuY3VycmVudExldmVsXSArICcg4pyUJywgJ3BhZGRpbmc6IDRweCAxMHB4OyBib3JkZXItbGVmdDogMnB4IHNvbGlkICMxMDk0OUM7IGJhY2tncm91bmQ6cmdiYSgxNiwxNDgsMTU2LDAuMSk7IGNvbG9yOiAjMTA5NDlDJyk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudExldmVsLS07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRMZXZlbCA9PT0gMCkgdGhpcy5zZXBhcmF0b3JNZXNzYWdlcyA9IHt9O1xyXG4gICAgfTtcclxuXHJcbiAgICBwb3NpdGl2ZShtZXNzYWdlOiBzdHJpbmcsIHNvdXJjZT86IHt9IHwgc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLndhcm5pbmdzKSByZXR1cm47XHJcbiAgICAgICAgbWVzc2FnZSA9IHRoaXMuZ2V0TWVzc2FnZShtZXNzYWdlLCBzb3VyY2UpXHJcbiAgICAgICAgdGhpcy5jYXN0KCdpbmZvJywgbWVzc2FnZSlcclxuICAgICAgICBjb25zb2xlLmxvZyhgJWMgJHttZXNzYWdlfSDinIVgLCAnYm9yZGVyOiAxcHggc29saWQgcmdiKDYsIDIxNCwgMTYwKTsgYm9yZGVyLXJhZGl1czoycHg7IGJhY2tncm91bmQ6cmdiYSg2LCAyMTQsIDE2MCwuMDEpOyBwYWRkaW5nOiA0cHggNnB4IDRweCA0cHg7IGNvbG9yOiMwNUIzODQnKTtcclxuICAgIH07XHJcblxyXG4gICAgbmVnYXRpdmUobWVzc2FnZTogc3RyaW5nLCBzb3VyY2U/OiB7fSB8IHN0cmluZykge1xyXG4gICAgICAgIGlmICghdGhpcy53YXJuaW5ncykgcmV0dXJuO1xyXG4gICAgICAgIG1lc3NhZ2UgPSB0aGlzLmdldE1lc3NhZ2UobWVzc2FnZSwgc291cmNlKVxyXG4gICAgICAgIHRoaXMuY2FzdCgnaW5mbycsIG1lc3NhZ2UpXHJcbiAgICAgICAgY29uc29sZS5sb2coYCVjICR7bWVzc2FnZX0g4p2MYCwgJ2JvcmRlcjogMXB4IHNvbGlkICNFRjQ3NkY7IGJvcmRlci1yYWRpdXM6MnB4OyBiYWNrZ3JvdW5kOnJnYmEoMjM5LCA3MSwgMTExLC4wMSk7IHBhZGRpbmc6IDRweCA2cHggNHB4IDRweDsgY29sb3I6I0VCMUU0RScpO1xyXG4gICAgfTtcclxuXHJcbiAgICBncm91cChtZXNzYWdlOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoIXRoaXMud2FybmluZ3MpIHJldHVybjtcclxuICAgICAgICBjb25zb2xlLmdyb3VwKG1lc3NhZ2UpO1xyXG4gICAgICAgIHRoaXMuZ3JvdXBMZXZlbCsrO1xyXG4gICAgfTtcclxuXHJcbiAgICBncm91cEVuZCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMud2FybmluZ3MpIHJldHVybjtcclxuICAgICAgICB0aGlzLmdyb3VwTGV2ZWwtLTtcclxuICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBOREIgPSBuZXcgTm9kYXNEZWJ1ZygpIiwiaW1wb3J0IHtOZENhbnZhc0NvbnRleHQsIE5kQ2FudmFzUXVldWVDYWxsYmFjaywgTmRDYW52YXNRdWV1ZUNhbGxiYWNrQXJncywgTmROdW1lcmljQXJyYXkyZCwgTmRUaWNrZXJGfSBmcm9tICcuL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBUaWNrZXIgZnJvbSAnLi9UaWNrZXInO1xyXG5pbXBvcnQgTmRRdWV1ZUVsZW1lbnQgZnJvbSAnLi9DYW52YXMvTmRRdWV1ZUVsZW1lbnQnO1xyXG5pbXBvcnQge05kTW91c2VFdmVudERhdGEsIE5kUGVyY2VudFN0ciwgTmRSb290Q2FudmFzTW91c2VFdmVudHNTY2hlbWUsIE5kUm9vdENhbnZhc1N0YXRlRXZlbnRzU2NoZW1lfSBmcm9tICcuL05vZGVzL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOZE1vdXNlRXZlbnQgZnJvbSAnLi9jbGFzc2VzL05kTW91c2VFdmVudCc7XHJcbmltcG9ydCBOZFN0YXRlRXZlbnQgZnJvbSAnLi9jbGFzc2VzL05kU3RhdGVFdmVudCc7XHJcbmltcG9ydCBOZEVtaXR0ZXIgZnJvbSAnLi9jbGFzc2VzL05kRW1pdHRlcic7XHJcbmltcG9ydCB7TkRCfSBmcm9tICcuL1NlcnZpY2VzL05vZGFzRGVidWcnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FudmFzIGV4dGVuZHMgTmRFbWl0dGVyPE5kUm9vdENhbnZhc01vdXNlRXZlbnRzU2NoZW1lICYgTmRSb290Q2FudmFzU3RhdGVFdmVudHNTY2hlbWU+e1xyXG5cclxuICAgIHByaXZhdGUgZTogSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgY29udGV4dDogTmRDYW52YXNDb250ZXh0ID0gbnVsbDtcclxuICAgIHByaXZhdGUgczogW251bWJlciB8IE5kUGVyY2VudFN0ciwgbnVtYmVyIHwgTmRQZXJjZW50U3RyXSA9IFs4MDAsIDYwMF1cclxuICAgIHByaXZhdGUgc051bWVyaWM6IE5kTnVtZXJpY0FycmF5MmQgPSBbODAwLCA2MDBdXHJcbiAgICBwcml2YXRlIHJlc2l6ZVByb2Nlc3NUaW1lb3V0OiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsXHJcbiAgICBwcml2YXRlIHE6IE5kUXVldWVFbGVtZW50W10gPSBbXVxyXG4gICAgcHJpdmF0ZSBfcmVhZHkgPSBmYWxzZVxyXG4gICAgcHJpdmF0ZSBfY2xlYXIgPSBmYWxzZVxyXG4gICAgcHJpdmF0ZSBhcmdzOiBOZENhbnZhc1F1ZXVlQ2FsbGJhY2tBcmdzID0gW3RoaXMuY29udGV4dCwgbmV3IERhdGUoKSwgMF1cclxuICAgIHByaXZhdGUgc2Nyb2xsID0gW3dpbmRvdy5zY3JvbGxYIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LCB3aW5kb3cuc2Nyb2xsWSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wXVxyXG4gICAgcHJpdmF0ZSBvZmZzZXQgPSBbMCwgMF1cclxuICAgIHByaXZhdGUgY3Vyc29yOiBOZE1vdXNlRXZlbnREYXRhID0ge1xyXG4gICAgICAgIGN1cnNvcjogWzAsIDBdLFxyXG4gICAgICAgIHBhZ2U6IFswLCAwXSxcclxuICAgICAgICBzY3JlZW46IFswLCAwXVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlRXZlbnREYXRhOihlOiBNb3VzZUV2ZW50KT0+IE5kTW91c2VFdmVudERhdGEgPSAoZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuY3Vyc29yLnBhZ2UgPSBbZS5wYWdlWCwgZS5wYWdlWV1cclxuICAgICAgICB0aGlzLmN1cnNvci5jdXJzb3IgPSB0aGlzLmdldE1vdXNlUmVsYXRpdmVQb3NpdGlvbihlKVxyXG4gICAgICAgIHRoaXMuY3Vyc29yLnNjcmVlbiA9IFtlLnBhZ2VYIC0gdGhpcy5zY3JvbGxbMF0sIGUucGFnZVkgLSB0aGlzLnNjcm9sbFsxXV1cclxuICAgICAgICByZXR1cm4gdGhpcy5jdXJzb3JcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uQ2FudmFzTW91c2VNb3ZlOihlOiBNb3VzZUV2ZW50KT0+IHZvaWQgPSAoZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FzdCgnbW91c2VNb3ZlJywgbmV3IE5kTW91c2VFdmVudDxDYW52YXM+KHRoaXMsIHRoaXMudXBkYXRlRXZlbnREYXRhKGUpKSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uQ2FudmFzTW91c2VMZWF2ZTooZTogTW91c2VFdmVudCk9PiB2b2lkID0gKGUpID0+IHtcclxuICAgICAgICB0aGlzLmNhc3QoJ21vdXNlTGVhdmUnLCBuZXcgTmRNb3VzZUV2ZW50PENhbnZhcz4odGhpcywgdGhpcy51cGRhdGVFdmVudERhdGEoZSkpKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25DYW52YXNNb3VzZUVudGVyOihlOiBNb3VzZUV2ZW50KT0+IHZvaWQgPSAoZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FzdCgnbW91c2VFbnRlcicsIG5ldyBOZE1vdXNlRXZlbnQ8Q2FudmFzPih0aGlzLCB0aGlzLnVwZGF0ZUV2ZW50RGF0YShlKSkpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbkNhbnZhc01vdXNlRG93bjooZTogTW91c2VFdmVudCk9PiB2b2lkID0gKGUpID0+IHtcclxuICAgICAgICB0aGlzLmNhc3QoJ21vdXNlRG93bicsIG5ldyBOZE1vdXNlRXZlbnQ8Q2FudmFzPih0aGlzLCB0aGlzLnVwZGF0ZUV2ZW50RGF0YShlKSkpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbkNhbnZhc01vdXNlVXA6KGU6IE1vdXNlRXZlbnQpPT4gdm9pZCA9IChlKSA9PntcclxuICAgICAgICB0aGlzLmNhc3QoJ21vdXNlVXAnLCBuZXcgTmRNb3VzZUV2ZW50PENhbnZhcz4odGhpcywgdGhpcy51cGRhdGVFdmVudERhdGEoZSkpKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5lPy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uQ2FudmFzTW91c2VNb3ZlKVxyXG4gICAgICAgIHRoaXMuZT8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMub25DYW52YXNNb3VzZUxlYXZlKVxyXG4gICAgICAgIHRoaXMuZT8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMub25DYW52YXNNb3VzZUVudGVyKVxyXG4gICAgICAgIHRoaXMuZT8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbkNhbnZhc01vdXNlRG93bilcclxuICAgICAgICB0aGlzLmU/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uQ2FudmFzTW91c2VVcClcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuZT8uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbkNhbnZhc01vdXNlTW92ZSlcclxuICAgICAgICB0aGlzLmU/LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLm9uQ2FudmFzTW91c2VMZWF2ZSlcclxuICAgICAgICB0aGlzLmU/LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLm9uQ2FudmFzTW91c2VFbnRlcilcclxuICAgICAgICB0aGlzLmU/LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25DYW52YXNNb3VzZURvd24pXHJcbiAgICAgICAgdGhpcy5lPy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbkNhbnZhc01vdXNlVXApXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWNhbGN1bGF0ZU9mZnNldCgpIHtcclxuICAgICAgICBpZiAodGhpcy5lKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuICAgICAgICAgICAgdGhpcy5vZmZzZXQgPSBbcmVjdC54ICsgdGhpcy5zY3JvbGxbMF0sIHJlY3QueSArIHRoaXMuc2Nyb2xsWzFdXVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldE1vdXNlUmVsYXRpdmVQb3NpdGlvbihldmVudDogTW91c2VFdmVudCk6IE5kTnVtZXJpY0FycmF5MmQge1xyXG4gICAgICAgIHJldHVybiBbZXZlbnQucGFnZVggLSB0aGlzLm9mZnNldFswXSAtIHRoaXMuc2Nyb2xsWzBdLCBldmVudC5wYWdlWSAtIHRoaXMub2Zmc2V0WzFdIC0gdGhpcy5zY3JvbGxbMV1dO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVjYWxjdWxhdGVTaXplKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmUpIHtcclxuICAgICAgICAgICAgY29uc3QgcGFyZW50SFRNTE5vZGUgPSB0aGlzLmUucGFyZW50Tm9kZSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKHBhcmVudEhUTUxOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbkJvdW5kaW5nUmVjdCA9IHBhcmVudEhUTUxOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEhlaWdodCA9IHBhcmVuQm91bmRpbmdSZWN0LmhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRXaWR0aCA9IHBhcmVuQm91bmRpbmdSZWN0LndpZHRoO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNbMF0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd1BlcmNlbnQgPSBwYXJzZUludCh0aGlzLnNbMF0pIC8gMTAwXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zTnVtZXJpY1swXSA9IHBhcmVudFdpZHRoICogd1BlcmNlbnRcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB0aGlzLnNOdW1lcmljWzBdID0gdGhpcy5zWzBdXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuc1sxXSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoUGVyY2VudCA9IHBhcnNlSW50KHRoaXMuc1sxXSkgLyAxMDBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNOdW1lcmljWzFdID0gcGFyZW50SGVpZ2h0ICogaFBlcmNlbnRcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB0aGlzLnNOdW1lcmljWzFdID0gdGhpcy5zWzFdXHJcbiAgICAgICAgICAgICAgICB0aGlzLmUuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHRoaXMuc051bWVyaWNbMF0udG9TdHJpbmcoKSlcclxuICAgICAgICAgICAgICAgIHRoaXMuZS5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHRoaXMuc051bWVyaWNbMV0udG9TdHJpbmcoKSlcclxuICAgICAgICAgICAgfSBlbHNlIE5EQi53YXJuKCdDdXJyZW50IGNhbnZhcyBlbGVtZW50IGlzIGRldGFjaGVkIGZyb20gRE9NLiBTaXplIHJlc2V0IHNraXBwZWQnKVxyXG4gICAgICAgICAgICB0aGlzLnJlY2FsY3VsYXRlT2Zmc2V0KClcclxuICAgICAgICB9IGVsc2UgTkRCLndhcm4oJ05vIENhbnZhcyB0byBvcGVyYXRlLiBTaXplIHJlc2V0IHNraXBwZWQnKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGFuZGxlUmVzaXplKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmUpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNbMF0gPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0aGlzLnNbMV0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmUuc2V0QXR0cmlidXRlKCd3aWR0aCcsICcwJylcclxuICAgICAgICAgICAgICAgIHRoaXMuZS5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsICcwJylcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc2l6ZVByb2Nlc3NUaW1lb3V0KSBjbGVhclRpbWVvdXQodGhpcy5yZXNpemVQcm9jZXNzVGltZW91dClcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplUHJvY2Vzc1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY2FsY3VsYXRlU2l6ZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXN0KCdyZXNpemUnLCBuZXcgTmRTdGF0ZUV2ZW50PENhbnZhcz4odGhpcywgbnVsbCkpXHJcbiAgICAgICAgICAgICAgICB9LCAxMDAwKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzaXplUHJvY2Vzc1RpbWVvdXQpIGNsZWFyVGltZW91dCh0aGlzLnJlc2l6ZVByb2Nlc3NUaW1lb3V0KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zTnVtZXJpY1swXSA9IHRoaXMuc1swXVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zTnVtZXJpY1sxXSA9IHRoaXMuc1sxXVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNhbGN1bGF0ZVNpemUoKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYXN0KCdyZXNpemUnLCBuZXcgTmRTdGF0ZUV2ZW50KHRoaXMsIG51bGwpKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgRHJhd1NjZW5lOiBOZFRpY2tlckYgPSAoZGF0ZSwgZnJhbWUpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5fcmVhZHkgJiYgdGhpcy5jb250ZXh0KSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuX2NsZWFyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsMCwgdGhpcy5jb250ZXh0LmNhbnZhcy5vZmZzZXRXaWR0aCwgdGhpcy5jb250ZXh0LmNhbnZhcy5vZmZzZXRIZWlnaHQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5hcmdzWzBdID0gdGhpcy5jb250ZXh0O1xyXG4gICAgICAgICAgICB0aGlzLmFyZ3NbMV0gPSBkYXRlO1xyXG4gICAgICAgICAgICB0aGlzLmFyZ3NbMl0gPSBmcmFtZTtcclxuICAgICAgICAgICAgdGhpcy5xLmZvckVhY2goKHFjYiwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBxY2IuY2FsbGJhY2suYXBwbHkodGhpcywgdGhpcy5hcmdzKVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgTkRCLmVycm9yKGBFcnJvciBlbWVyZ2VkIHdoaWxlIGRyYXdpbmcuXFxuLiBRdWV1ZTogJHtxY2Iub3JkZXJ9XFxuIFF1ZXVlIE9yZGVyOiAke2l9XFxuIE1lbWJlcjogJHtxY2IuY2FsbGJhY2submFtZX1cXG4gbWVzc2FnZTogJHtlLm1lc3NhZ2V9YClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKFRpY2tlck1vZHVsZTogVGlja2VyKSB7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIFRpY2tlck1vZHVsZS5xdWV1ZSgwLCB0aGlzLkRyYXdTY2VuZSlcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFswXSA9IHdpbmRvdy5zY3JvbGxYIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0O1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFsxXSA9IHdpbmRvdy5zY3JvbGxZIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHRoaXMuaGFuZGxlUmVzaXplKCkpXHJcbiAgICB9XHJcblxyXG4gICAgZWxlbWVudCh0YXJnZXQ6IEhUTUxDYW52YXNFbGVtZW50IHwgc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGxldCBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xyXG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBlLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB0aGlzLnNOdW1lcmljWzBdLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgZS5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHRoaXMuc051bWVyaWNbMV0udG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKClcclxuICAgICAgICAgICAgICAgIHRoaXMuZSA9IGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQgPSBlLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKClcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JlYWR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIE5EQi5wb3NpdGl2ZShgQWNjZXB0ZWQgJHt0YXJnZXR9IGFzIHJlbmRlcmluZyByb290YClcclxuICAgICAgICAgICAgfSBlbHNlIE5EQi5lcnJvcihgRWxlbWVudCAke3RhcmdldH0gaXMgbm90IGEgSFRNTENhbnZhc0VsZW1lbnQgb3IgZG9lcyBub3QgZXhpc3RgKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgdGhpcy5zTnVtZXJpY1swXS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgdGhpcy5zTnVtZXJpY1sxXS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpXHJcbiAgICAgICAgICAgIHRoaXMuZSA9IHRhcmdldDtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gdGFyZ2V0LmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKVxyXG4gICAgICAgICAgICB0aGlzLl9yZWFkeSA9IHRydWU7XHJcbiAgICAgICAgICAgIE5EQi5wb3NpdGl2ZShgQWNjZXB0ZWQgJHt0YXJnZXQuaWQgPyB0YXJnZXQuaWQgOiB0YXJnZXQuY2xhc3NMaXN0LnRvU3RyaW5nKCl9IGFzIHJlbmRlcmluZyByb290YClcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5oYW5kbGVSZXNpemUoKVxyXG4gICAgICAgIHRoaXMuY2FzdCgnc3dpdGNoJywgbmV3IE5kU3RhdGVFdmVudDxDYW52YXM+KHRoaXMsIG51bGwpKVxyXG4gICAgfTtcclxuXHJcbiAgICBxdWV1ZShhOiBOZENhbnZhc1F1ZXVlQ2FsbGJhY2sgfCBudW1iZXIsIGI/OiBOZENhbnZhc1F1ZXVlQ2FsbGJhY2spIHtcclxuICAgICAgICBpZiAodHlwZW9mIGEgPT09ICdudW1iZXInICYmIHR5cGVvZiBiID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHRoaXMucS5wdXNoKG5ldyBOZFF1ZXVlRWxlbWVudChiLCBhKSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICB0aGlzLnEucHVzaChuZXcgTmRRdWV1ZUVsZW1lbnQoYSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnEuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gYS5vcmRlciAtIGIub3JkZXI7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB1blF1ZXVlKGNhbGxiYWNrOiBOZENhbnZhc1F1ZXVlQ2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLnEgPSB0aGlzLnEuZmlsdGVyKChxRSkgPT4gcUUuY2FsbGJhY2sgIT09IGNhbGxiYWNrKVxyXG4gICAgICAgIE5EQi53YXJuKCdDYWxsYmFjayByZW1vdmVkIGZvcm0gY2FudmFzIHF1ZXVlJylcclxuICAgIH1cclxuXHJcbiAgICBzaXplKHdpZHRoPzogbnVtYmVyIHwgTmRQZXJjZW50U3RyLCBoZWlnaHQ/OiBudW1iZXIgfCBOZFBlcmNlbnRTdHIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHdpZHRoID09PSAnbnVtYmVyJyB8fCB0eXBlb2Ygd2lkdGggPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaGVpZ2h0ID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgaGVpZ2h0ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zWzBdID0gd2lkdGhcclxuICAgICAgICAgICAgICAgIHRoaXMuc1sxXSA9IGhlaWdodFxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXNpemUoKVxyXG4gICAgICAgICAgICB9IGVsc2UgTkRCLmVycm9yKGBJbnZhbGlkIENhbnZhcyBzaXplIFske3dpZHRofSwgJHtoZWlnaHR9XWApXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsuLi50aGlzLnNOdW1lcmljXVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZm9yY2VSZXNpemUoKSB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVSZXNpemUoKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXQgcmVhZHkoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWR5XHJcbiAgICB9XHJcbiAgICBnZXQgY2xlYXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsZWFyXHJcbiAgICB9XHJcbiAgICBzZXQgY2xlYXIodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9jbGVhciA9IHZhbHVlXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge05kQ29uZmlnUHJvcGVydHlDaGVja0FycmF5SXRlbSwgTmRDb25maWdQcm9wZXJ0eUNoZWNrcywgTmRDb25maWdQcm9wZXJ0eUNoZWNrVmFsdWUsIE5kQ29uZmlnUHJvcGVydHlXYXRjaGVyfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kQ29uZmlnUHJvcGVydHk8VD4ge1xyXG4gICAgcHJpdmF0ZSBjaGVja0FycmF5OiBOZENvbmZpZ1Byb3BlcnR5Q2hlY2tBcnJheUl0ZW1bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBjYjogTmRDb25maWdQcm9wZXJ0eVdhdGNoZXI8VD5bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSB2YWw6IFQ7XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja1ZhbHVlKHY6IFQpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hlY2tBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmNoZWNrW3RoaXMuY2hlY2tBcnJheVtpXS5mXSh2LCB0aGlzLmNoZWNrQXJyYXlbaV0udmFsdWUpXHJcbiAgICAgICAgICAgIGlmICghcmVzdWx0KSByZXR1cm4gcmVzdWx0XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVjayA9IHtcclxuICAgICAgICBpc051bWJlcjogKHY6IFQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnbnVtYmVyJztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGlzU3RyaW5nOiAodjogVCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdzdHJpbmcnO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXNBcnJheTogKHY6IFQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnb2JqZWN0JyAmJiB2IGluc3RhbmNlb2YgQXJyYXk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjdXN0b206ICh2OiBULCBmOiBOZENvbmZpZ1Byb3BlcnR5Q2hlY2tWYWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGYgPT09ICdmdW5jdGlvbicgPyBmKHYpIDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVuZGVyOiAodjogVCwgbGltaXQ6IE5kQ29uZmlnUHJvcGVydHlDaGVja1ZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ251bWJlcicgJiYgbGltaXQgPyB2IDwgbGltaXQgOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ3JlYXRlcjogKHY6IFQsIGxpbWl0OiBOZENvbmZpZ1Byb3BlcnR5Q2hlY2tWYWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdudW1iZXInICYmIGxpbWl0ID8gdiA+IGxpbWl0IDogZmFsc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlcTogKHY6IFQsIGV4YWN0OiBOZENvbmZpZ1Byb3BlcnR5Q2hlY2tWYWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdudW1iZXInICYmIHYgPT09IGV4YWN0O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXNCb29sOiAodjogVCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdib29sZWFuJ1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcGVydHk6IHN0cmluZywgdmFsdWU6IFQsIGNvbmZpZzogTmRDb25maWdQcm9wZXJ0eUNoZWNrcykge1xyXG4gICAgICAgIHRoaXMudmFsID0gdmFsdWU7XHJcbiAgICAgICAgKE9iamVjdC5rZXlzKGNvbmZpZykgYXMgQXJyYXk8a2V5b2YgTmRDb25maWdQcm9wZXJ0eUNoZWNrcz4pLmZvckVhY2goKHByb3BOYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tBcnJheS5wdXNoKHtmOiBwcm9wTmFtZSwgdmFsdWU6IGNvbmZpZ1twcm9wTmFtZV19KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmICghdGhpcy5jaGVja1ZhbHVlKHZhbHVlKSkgdGhyb3cgbmV3IEVycm9yKCdJbml0aWFsIFsnICsgcHJvcGVydHkgKyAnXVxcJ3MgdmFsdWUgZG9lcyBub3QgbWVldCBjb25maWcgcmVxdWlyZW1lbnRzLicpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhbHVlKCk6IFQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbDtcclxuICAgIH1cclxuXHJcbiAgICBkZWZpbmUobjogVCk6IE5kQ29uZmlnUHJvcGVydHk8VD4ge1xyXG4gICAgICAgIGlmICh0aGlzLmNoZWNrVmFsdWUobikpIHtcclxuICAgICAgICAgICAgaWYgKG4gaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52YWwgPSBuO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52YWwgPSBuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2IuZm9yRWFjaCgoY2IpID0+IHtcclxuICAgICAgICAgICAgY2IuY2FsbCh0aGlzLCB0aGlzLnZhbHVlKCkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgd2F0Y2goZjogTmRDb25maWdQcm9wZXJ0eVdhdGNoZXI8VD4pOiBOZENvbmZpZ1Byb3BlcnR5PFQ+IHtcclxuICAgICAgICBpZiAodHlwZW9mIGYgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgdGhpcy5jYi5wdXNoKGYpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG5vdCBzZXQgY29uZmlnIHByb3BlcnR5IHdhdGNoZXIuIEFyZ3VtZW50IGYgaXMgbm90IGEgZnVuY3Rpb24uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcblxyXG59IiwiaW1wb3J0IE5kQ29uZmlnUHJvcGVydHkgZnJvbSAnLi9Db25maWcvTmRDb25maWdQcm9wZXJ0eSc7XHJcbmltcG9ydCB7TmRDb25maWdQcm9wZXJ0eUNoZWNrcywgTmRDb25maWdQcm9wZXJ0eVdhdGNoZXJ9IGZyb20gJy4vQHR5cGVzL3R5cGVzJztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb25maWcge1xyXG4gICAgcHJpdmF0ZSBwcm9wZXJ0aWVzOiB7IFtrZXk6IHN0cmluZ106IE5kQ29uZmlnUHJvcGVydHk8YW55PiB9ID0ge307XHJcblxyXG4gICAgZGVmaW5lPFQ+KHByb3BlcnR5OiBzdHJpbmcsIHZhbHVlOiBULCBjZmc6IE5kQ29uZmlnUHJvcGVydHlDaGVja3MpOiBOZENvbmZpZ1Byb3BlcnR5PFQ+IHtcclxuICAgICAgICBpZiAoIXRoaXMucHJvcGVydGllc1twcm9wZXJ0eV0pIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcGVydGllc1twcm9wZXJ0eV0gPSBuZXcgTmRDb25maWdQcm9wZXJ0eTxUPihwcm9wZXJ0eSwgdmFsdWUsIGNmZyk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgY29uZmlnIHByb3BlcnR5IFsnICsgcHJvcGVydHkgKyAnXScpXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdDb25maWcgcHJvcGVydHkgZHVwbGljYXRpb24gb24gcHJvcGVydHkgbmFtZSBbJyArIHByb3BlcnR5ICsgJ10nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXNbcHJvcGVydHldO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZXQ8VD4obmFtZTogc3RyaW5nLCB2YWx1ZTogVCk6IENvbmZpZyB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcGVydGllc1tuYW1lXSkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BlcnRpZXNbbmFtZV0uZGVmaW5lKHZhbHVlKTtcclxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IHByb3BlcnR5IFsnICsgbmFtZSArICddLiBObyBzdWNoIHByb3BlcnR5LicpO1xyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0PFQ+KG5hbWU6IHN0cmluZyk6IFQge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcGVydGllc1tuYW1lXS52YWx1ZSgpXHJcbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGdldCBwcm9wZXJ0eSBbJyArIG5hbWUgKyAnXS4gTm8gc3VjaCBwcm9wZXJ0eS4nKVxyXG4gICAgfVxyXG5cclxuICAgIHdhdGNoPFQ+KG5hbWU6IHN0cmluZywgZjogTmRDb25maWdQcm9wZXJ0eVdhdGNoZXI8VD4pIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXNbbmFtZV0ud2F0Y2goZik7XHJcbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignTm8gc3VjaCBwcm9wZXJ0eSBhcyBbJyArIG5hbWUgKyAnXSB0byB3YXRjaC4nKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7TmRUaWNrZXJFdmVudENiLCBOZFRpY2tlckV2ZW50cywgTmRUaWNrZXJFdmVudHNDb250YWluZXIsIE5kVGlja2VyRkFyZ3MsIE5kVGlja2VyUXVldWVGLCBOZFRpY2tlclF1ZXVlSXRlbX0gZnJvbSAnLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQge05EQn0gZnJvbSAnLi9TZXJ2aWNlcy9Ob2Rhc0RlYnVnJztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaWNrZXIge1xyXG4gICAgcHJpdmF0ZSBmcmFtZUR1cmF0aW9uID0gKDEwMDAgLyA1OC44KTtcclxuICAgIHByaXZhdGUgcTogTmRUaWNrZXJRdWV1ZUl0ZW1bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBmcmFtZSA9IDA7XHJcbiAgICBwcml2YXRlIGFyZ3M6IE5kVGlja2VyRkFyZ3MgPSBbbmV3IERhdGUoKSwgMF07XHJcbiAgICBwcml2YXRlIGludGVydmFsPzogUmV0dXJuVHlwZTxXaW5kb3dbJ3NldEludGVydmFsJ10+O1xyXG4gICAgcHJpdmF0ZSBldmVudHNDYjogTmRUaWNrZXJFdmVudHNDb250YWluZXIgPSB7XHJcbiAgICAgICAgc3RvcDogW10sXHJcbiAgICAgICAgc3RhcnQ6IFtdLFxyXG4gICAgICAgIGVycm9yOiBbXVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZHJhdygpIHtcclxuICAgICAgICB0aGlzLnEuZm9yRWFjaCgoZiwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnFba2V5XS5mLmFwcGx5KHNlbGYsIHRoaXMuYXJncyk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xyXG4gICAgICAgICAgICAgICAgTkRCLmVycm9yKGBFcnJvciBlbWVyZ2VkIHdoaWxlIHJ1bm5pbmcgdGlja2VyXFxuIFF1ZXVlOiAke3RoaXMucVtrZXldLm9yZGVyfVxcbiBPcmRlcjogJHtrZXl9XFxuIE1lc3NhZ2U6ICR7ZS5tZXNzYWdlfWApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMuZnJhbWUrKztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRpY2s6ICgpID0+IHZvaWQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hcmdzWzBdID0gbmV3IERhdGUoKTtcclxuICAgICAgICB0aGlzLmFyZ3NbMV0gPSB0aGlzLmZyYW1lO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhdygpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xyXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcclxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlKCdlcnJvcicsIGUpO1xyXG4gICAgICAgICAgICBOREIuZXJyb3IoYEFwcGxpY2F0aW9uIHRpY2tlciBjb2xsYXBzZWRcXG4gRnJhbWU6ICR7dGhpcy5mcmFtZX1cXG4gRGF0ZTogJHt0aGlzLmFyZ3NbMF19XFxuIE1lc3NhZ2U6ICR7ZS5tZXNzYWdlfWApXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVzb2x2ZShldmVudDogTmRUaWNrZXJFdmVudHMsIGFyZ3M6IEVycm9yIHwgVGlja2VyKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHNDYltldmVudF0uZm9yRWFjaChcclxuICAgICAgICAgICAgKGNiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjYi5hcHBseSh0aGlzLCBbYXJnc10pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgcXVldWU6IE5kVGlja2VyUXVldWVGID0gKGEsIGIpID0+IHtcclxuICAgICAgICBpZiAodHlwZW9mIGEgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgdGhpcy5xLnB1c2goe29yZGVyOiAwLCBmOiBhfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBiID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnEucHVzaCh7b3JkZXI6IGEsIGY6IGJ9KTtcclxuICAgICAgICAgICAgfSBlbHNlIE5EQi53YXJuKGBUaWNrZXIgY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24uIElnbm9yZWRgKVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnEuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICByZXR1cm4gYS5vcmRlciAtIGIub3JkZXI7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgb24oZXZlbnQ6IE5kVGlja2VyRXZlbnRzLCBjYjogTmRUaWNrZXJFdmVudENiKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHNDYltldmVudF0ucHVzaChjYilcclxuICAgIH1cclxuXHJcbiAgICBzdG9wKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmludGVydmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSAwO1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICB0aGlzLmludGVydmFsID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB0aGlzLnJlc29sdmUoJ3N0b3AnLCB0aGlzKTtcclxuICAgICAgICAgICAgTkRCLnBvc2l0aXZlKCdUaWNrZXIgc3RvcHBlZCcpXHJcbiAgICAgICAgfSBlbHNlIE5EQi53YXJuKGBUaWNrZXIgYWxyZWFkeSBzdG9wcGVkLiBJZ25vcmVkYClcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLnRpY2ssIHRoaXMuZnJhbWVEdXJhdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSgnc3RhcnQnLCB0aGlzKTtcclxuICAgICAgICAgICAgTkRCLnBvc2l0aXZlKCdUaWNrZXIgc3RhcnRlZCcpXHJcbiAgICAgICAgfWVsc2UgTkRCLndhcm4oYFRpY2tlciBhbHJlYWR5IHN0YXJ0ZWQuIElnbm9yZWRgKVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICBnZXQgZnJhbWVUaW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZyYW1lRHVyYXRpb25cclxuICAgIH1cclxuXHJcbiAgICBmcHMoZnBzOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAoZnBzID4gNjApIGZwcyA9IDYwO1xyXG4gICAgICAgIGlmIChmcHMgPD0gMCkgZnBzID0gMTtcclxuICAgICAgICB0aGlzLmZyYW1lRHVyYXRpb24gPSAoMTAwMCAvIGZwcyk7XHJcbiAgICAgICAgTkRCLnBvc2l0aXZlKGBUaWNrZXIgRlBTIHNldCAke2Zwc30uIFJlc3RhcnQgVGlja2VyYClcclxuICAgICAgICBpZiAodGhpcy5pbnRlcnZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbn0iLCJpbXBvcnQge05kRWFzaW5nRn0gZnJvbSAnLi4vTm9kZXMvQHR5cGVzL3R5cGVzJztcclxuXHJcbmV4cG9ydCBjb25zdCBuZEVhc2luZ3MgPSB7XHJcbiAgICBkZWZhdWx0KC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICsgYjtcclxuICAgIH0sXHJcblxyXG4gICAgbGluZWFyKC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgdCAvPSBkO1xyXG4gICAgICAgIHJldHVybiBiICsgYyAqICh0KTtcclxuICAgIH0sXHJcblxyXG4gICAgbGluZWFyU29mdCguLi5bdCwgYiwgYywgZF06IFBhcmFtZXRlcnM8TmRFYXNpbmdGPikge1xyXG4gICAgICAgIGNvbnN0IHRzID0gKHQgLz0gZCkgKiB0O1xyXG4gICAgICAgIGNvbnN0IHRjID0gdHMgKiB0O1xyXG4gICAgICAgIHJldHVybiBiICsgYyAqICg0ICogdGMgKiB0cyArIC0xMCAqIHRzICogdHMgKyA4ICogdGMgKyAtMiAqIHRzICsgdCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGxpbmVhclNvZnRPdXQoLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICBjb25zdCB0cyA9ICh0IC89IGQpICogdDtcclxuICAgICAgICBjb25zdCB0YyA9IHRzICogdDtcclxuICAgICAgICByZXR1cm4gYiArIGMgKiAoLTMgKiB0YyAqIHRzICsgMTEgKiB0cyAqIHRzICsgLTE0ICogdGMgKyA2ICogdHMgKyB0KTtcclxuICAgIH0sXHJcblxyXG4gICAgbGluZWFyU29mdEluKC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgY29uc3QgdHMgPSAodCAvPSBkKSAqIHQ7XHJcbiAgICAgICAgY29uc3QgdGMgPSB0cyAqIHQ7XHJcbiAgICAgICAgcmV0dXJuIGIgKyBjICogKC0xICogdGMgKiB0cyArIDIgKiB0Yyk7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VJblF1YWQoLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCArIGI7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VPdXRRdWFkKC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgcmV0dXJuIC1jICogKHQgLz0gZCkgKiAodCAtIDIpICsgYjtcclxuICAgIH0sXHJcblxyXG4gICAgZWFzZUluT3V0UXVhZCguLi5bdCwgYiwgYywgZF06IFBhcmFtZXRlcnM8TmRFYXNpbmdGPikge1xyXG4gICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCArIGI7XHJcbiAgICAgICAgcmV0dXJuIC1jIC8gMiAqICgoLS10KSAqICh0IC0gMikgLSAxKSArIGI7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VJbkN1YmljKC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICsgYjtcclxuICAgIH0sXHJcblxyXG4gICAgZWFzZU91dEN1YmljKC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKyAxKSArIGI7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VJbk91dEN1YmljKC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCArIGI7XHJcbiAgICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKyAyKSArIGI7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VJblF1YXJ0KC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCArIGI7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VPdXRRdWFydCguLi5bdCwgYiwgYywgZF06IFBhcmFtZXRlcnM8TmRFYXNpbmdGPikge1xyXG4gICAgICAgIHJldHVybiAtYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgLSAxKSArIGI7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VJbk91dFF1YXJ0KC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKyBiO1xyXG4gICAgICAgIHJldHVybiAtYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgLSAyKSArIGI7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VJblF1aW50KC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCAqIHQgKyBiO1xyXG4gICAgfSxcclxuXHJcbiAgICBlYXNlT3V0UXVpbnQoLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgKiB0ICsgMSkgKyBiO1xyXG4gICAgfSxcclxuXHJcbiAgICBlYXNlSW5PdXRRdWludCguLi5bdCwgYiwgYywgZF06IFBhcmFtZXRlcnM8TmRFYXNpbmdGPikge1xyXG4gICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICogdCArIGI7XHJcbiAgICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0ICogdCArIDIpICsgYjtcclxuICAgIH0sXHJcblxyXG4gICAgZWFzZUluU2luZSguLi5bdCwgYiwgYywgZF06IFBhcmFtZXRlcnM8TmRFYXNpbmdGPikge1xyXG4gICAgICAgIHJldHVybiAtYyAqIE1hdGguY29zKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBjICsgYjtcclxuICAgIH0sXHJcblxyXG4gICAgZWFzZU91dFNpbmUoLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICByZXR1cm4gYyAqIE1hdGguc2luKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBiO1xyXG4gICAgfSxcclxuXHJcbiAgICBlYXNlSW5PdXRTaW5lKC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgcmV0dXJuIC1jIC8gMiAqIChNYXRoLmNvcyhNYXRoLlBJICogdCAvIGQpIC0gMSkgKyBiO1xyXG4gICAgfSxcclxuXHJcbiAgICBlYXNlSW5FeHBvKC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgcmV0dXJuICh0ID09PSAwKSA/IGIgOiBjICogTWF0aC5wb3coMiwgMTAgKiAodCAvIGQgLSAxKSkgKyBiO1xyXG4gICAgfSxcclxuXHJcbiAgICBlYXNlT3V0RXhwbyguLi5bdCwgYiwgYywgZF06IFBhcmFtZXRlcnM8TmRFYXNpbmdGPikge1xyXG4gICAgICAgIHJldHVybiAodCA9PT0gZCkgPyBiICsgYyA6IGMgKiAoLU1hdGgucG93KDIsIC0xMCAqIHQgLyBkKSArIDEpICsgYjtcclxuICAgIH0sXHJcblxyXG4gICAgZWFzZUluT3V0RXhwbyguLi5bdCwgYiwgYywgZF06IFBhcmFtZXRlcnM8TmRFYXNpbmdGPikge1xyXG4gICAgICAgIGlmICh0ID09PSAwKSByZXR1cm4gYjtcclxuICAgICAgICBpZiAodCA9PT0gZCkgcmV0dXJuIGIgKyBjO1xyXG4gICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpICsgYjtcclxuICAgICAgICByZXR1cm4gYyAvIDIgKiAoLU1hdGgucG93KDIsIC0xMCAqIC0tdCkgKyAyKSArIGI7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VJbkNpcmMoLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICByZXR1cm4gLWMgKiAoTWF0aC5zcXJ0KDEgLSAodCAvPSBkKSAqIHQpIC0gMSkgKyBiO1xyXG4gICAgfSxcclxuXHJcbiAgICBlYXNlT3V0Q2lyYyguLi5bdCwgYiwgYywgZF06IFBhcmFtZXRlcnM8TmRFYXNpbmdGPikge1xyXG4gICAgICAgIHJldHVybiBjICogTWF0aC5zcXJ0KDEgLSAodCA9IHQgLyBkIC0gMSkgKiB0KSArIGI7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VJbk91dENpcmMoLi4uW3QsIGIsIGMsIGRdOiBQYXJhbWV0ZXJzPE5kRWFzaW5nRj4pIHtcclxuICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIC1jIC8gMiAqIChNYXRoLnNxcnQoMSAtIHQgKiB0KSAtIDEpICsgYjtcclxuICAgICAgICByZXR1cm4gYyAvIDIgKiAoTWF0aC5zcXJ0KDEgLSAodCAtPSAyKSAqIHQpICsgMSkgKyBiO1xyXG4gICAgfSxcclxuXHJcbiAgICBlYXNlSW5CYWNrKC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgY29uc3QgdHMgPSAodCAvPSBkKSAqIHQ7XHJcbiAgICAgICAgY29uc3QgdGMgPSB0cyAqIHQ7XHJcbiAgICAgICAgcmV0dXJuIGIgKyBjICogKDE1LjI2ICogdGMgKiB0cyArIC00My41NiAqIHRzICogdHMgKyAzOS44ICogdGMgKyAtMTAuNiAqIHRzICsgMC4xICogdCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VPdXRCYWNrKC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgY29uc3QgdHMgPSAodCAvPSBkKSAqIHQ7XHJcbiAgICAgICAgY29uc3QgdGMgPSB0cyAqIHQ7XHJcbiAgICAgICAgcmV0dXJuIGIgKyBjICogKDExLjI0ICogdGMgKiB0cyArIC0yMy45NiAqIHRzICogdHMgKyAxMi4yNCAqIHRjICsgMS40NCAqIHRzICsgMC4wNCAqIHQpO1xyXG4gICAgfSxcclxuXHJcbiAgICBlYXNlSW5PdXRCYWNrKC4uLlt0LCBiLCBjLCBkXTogUGFyYW1ldGVyczxOZEVhc2luZ0Y+KSB7XHJcbiAgICAgICAgY29uc3QgdHMgPSAodCAvPSBkKSAqIHQ7XHJcbiAgICAgICAgY29uc3QgdGMgPSB0cyAqIHQ7XHJcbiAgICAgICAgcmV0dXJuIGIgKyBjICogKDIyLjkyICogdGMgKiB0cyArIC01Ny43OCAqIHRzICogdHMgKyA0NSAqIHRjICsgLTkuMjggKiB0cyArIDAuMTQgKiB0KTtcclxuICAgIH0sXHJcblxyXG4gICAgZWFzZU91dEJvdW5jZSguLi5bdCwgYiwgYywgZF06IFBhcmFtZXRlcnM8TmRFYXNpbmdGPikge1xyXG4gICAgICAgIGlmICgodCAvPSBkKSA8ICgxIC8gMi43NSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogdCAqIHQpICsgYjtcclxuICAgICAgICB9IGVsc2UgaWYgKHQgPCAoMiAvIDIuNzUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09ICgxLjUgLyAyLjc1KSkgKiB0ICsgLjc1KSArIGI7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0IDwgKDIuNSAvIDIuNzUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09ICgyLjI1IC8gMi43NSkpICogdCArIC45Mzc1KSArIGI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDIuNjI1IC8gMi43NSkpICogdCArIC45ODQzNzUpICsgYjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge05kRWFzaW5nRn0gZnJvbSAnLi4vTm9kZXMvQHR5cGVzL3R5cGVzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kTW9ycGhpbmUge1xyXG5cclxuICAgIHByaXZhdGUgZWFzaW5nOiAodGltZUVsYXBzZWRTOiBudW1iZXIsIHN0YXJ0VmFsdWU6IG51bWJlciwgdmFsdWVEZWx0YTogbnVtYmVyLCBkdXJhdGlvblM6IG51bWJlcikgPT4gbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBkdXJhdGlvbiA9IDE7XHJcbiAgICBwcml2YXRlIHJlcGVhdCA9IDA7XHJcbiAgICBwcml2YXRlIHJlcGVhdENvdW50ID0gMTtcclxuICAgIHByaXZhdGUgc3RhcnRfdGltZSA9IDA7XHJcbiAgICBwcml2YXRlIGNhbGxiYWNrOiAocHJvZ3Jlc3M6IG51bWJlciwgdmFsdWU6IG51bWJlciwgc3RhcnRUaW1lOiBudW1iZXIpID0+IHZvaWQ7XHJcbiAgICBwcml2YXRlIHN0YXJ0OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGVuZDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBwcm9ncmVzcyA9IDA7XHJcbiAgICBwcml2YXRlIF9wYXVzZWQgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgX2RvbmUgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzdGFydFZhbHVlOiBudW1iZXIsIGVuZFZhbHVlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIsIGNhbGxiYWNrOiAocHJvZ3Jlc3M6IG51bWJlciwgdmFsdWU6IG51bWJlciwgc3RhcnRUaW1lOiBudW1iZXIpID0+IHZvaWQsIGVhc2luZ0Z1bmN0aW9uOiBOZEVhc2luZ0YsIHJlcGVhdDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0VmFsdWVcclxuICAgICAgICB0aGlzLmVuZCA9IGVuZFZhbHVlXHJcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uID4gMCA/IGR1cmF0aW9uIDogMFxyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFja1xyXG4gICAgICAgIHRoaXMuZWFzaW5nID0gZWFzaW5nRnVuY3Rpb25cclxuICAgICAgICB0aGlzLnJlcGVhdCA9IHJlcGVhdFxyXG4gICAgICAgIHRoaXMuc3RhcnRfdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGRvbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RvbmU7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBwdWJsaWMgc3RvcCgpIHtcclxuICAgICAgICB0aGlzLl9kb25lID0gdHJ1ZVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXVzZSgpIHtcclxuICAgICAgICB0aGlzLl9wYXVzZWQgPSB0cnVlO1xyXG4gICAgfTtcclxuXHJcbiAgICBnZXQgcGF1c2VkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYXVzZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyB0aWNrKHRpbWU6IG51bWJlcikge1xyXG4gICAgICAgIGlmICghdGhpcy5fZG9uZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcGF1c2VkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0X3RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtICh0aGlzLmR1cmF0aW9uICogdGhpcy5wcm9ncmVzcylcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9ICh0aW1lIC0gdGhpcy5zdGFydF90aW1lKSAvIHRoaXMuZHVyYXRpb25cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb2dyZXNzID4gMSkgdGhpcy5wcm9ncmVzcyA9IDE7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9ncmVzcyA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnJlcGVhdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kb25lID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlcGVhdENvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVwZWF0Q291bnQgIT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXBlYXRDb3VudC0tXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0X3RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMucHJvZ3Jlc3MsIHRoaXMuZWFzaW5nKCh0aW1lIC0gdGhpcy5zdGFydF90aW1lKSAvIDEwMDAsIHRoaXMuc3RhcnQsIHRoaXMuZW5kIC0gdGhpcy5zdGFydCwgdGhpcy5kdXJhdGlvbiAvIDEwMDApLCB0aGlzLnN0YXJ0X3RpbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7TmRBbmltYXRpb25TdGFjaywgTmRQZXJjZW50U3RyLCBOZFRpY2tpbmdPYmosIFJlZmxlY3RUaWNraW5nVHlwZX0gZnJvbSAnLi4vTm9kZXMvQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IHtuZEVhc2luZ3N9IGZyb20gJy4vTmRFYXNpbmdzJztcclxuaW1wb3J0IE5kTW9ycGhpbmUgZnJvbSAnLi9OZE1vcnBoaW5lJztcclxuaW1wb3J0IE5kRW1pdHRlciBmcm9tICcuL05kRW1pdHRlcic7XHJcbmltcG9ydCBOZEV2ZW50IGZyb20gJy4vTmRFdmVudCc7XHJcbmltcG9ydCBOZE1vZEJhc2UgZnJvbSAnLi4vTm9kZXMvbW9kZWxzL05kTW9kQmFzZSc7XHJcbmltcG9ydCBOb2RlIGZyb20gJy4uL05vZGVzL05vZGUnXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmRBbmltYXRpb248TW9kZWwgZXh0ZW5kcyBOZE1vZEJhc2UsIE4gZXh0ZW5kcyBOb2RlPE1vZGVsPiA9IE5vZGU8TW9kZWw+PlxyXG4gICAgZXh0ZW5kcyBOZEVtaXR0ZXI8eyBba2V5IGluICdzdGVwJyB8ICdjb21wbGV0ZSddOiBOZEV2ZW50PE4sIHsgcHJvZ3Jlc3M6IG51bWJlciwgZWFzZTogbnVtYmVyIH0+IH0+IHtcclxuICAgIHByaXZhdGUgZHVyYXRpb246IG51bWJlcjtcclxuICAgIHByaXZhdGUgZWFzaW5nOiBrZXlvZiB0eXBlb2YgbmRFYXNpbmdzO1xyXG4gICAgcHJpdmF0ZSBzdGFjazogTmRBbmltYXRpb25TdGFjazxNb2RlbD4gPSBbXTtcclxuICAgIG1vcnBoaW5lPzogTmRNb3JwaGluZTtcclxuICAgIHByaXZhdGUgZWxlbWVudDogTlxyXG4gICAgcHVibGljIHJlYWRvbmx5IHRhcmdldCA9IG51bGw7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9xdWV1ZTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBfYWN0aXZlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIF9kb25lID0gZmFsc2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZWxlbWVudDogTixcclxuICAgICAgICAgICAgICAgIHN0YWNrOiBOZEFuaW1hdGlvblN0YWNrPE1vZGVsPiwgZHVyYXRpb246IG51bWJlciA9IDEwMDAsIGVhc2luZzoga2V5b2YgdHlwZW9mIG5kRWFzaW5ncyAmIHN0cmluZyA9ICdkZWZhdWx0JywgcXVldWU6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zdGFjayA9IHN0YWNrO1xyXG4gICAgICAgIHRoaXMuZWFzaW5nID0gZWFzaW5nXHJcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uXHJcbiAgICAgICAgdGhpcy5fcXVldWUgPSBxdWV1ZVxyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcXVldWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1ZXVlXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGFjdGl2ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBkb25lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kb25lO1xyXG4gICAgfVxyXG5cclxuICAgIGluZGV4T2YocHJvcGVydHk6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YWNrLmZpbmRJbmRleCh2ID0+IHYubmFtZSA9PT0gcHJvcGVydHkpXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHByb3BzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YWNrLm1hcCh2ID0+IHYubmFtZSlcclxuICAgIH1cclxuXHJcbiAgICBzdG9wKHByb3BlcnR5Pzogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5pbmRleE9mKHByb3BlcnR5LnRvU3RyaW5nKCkpXHJcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB0aGlzLnN0YWNrLnNwbGljZShpbmRleCwgMSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnN0YWNrID0gW11cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZVxyXG4gICAgICAgIHRoaXMuc3RhY2sgPSB0aGlzLnN0YWNrLmZpbHRlcihcclxuICAgICAgICAgICAgKHYpID0+XHJcbiAgICAgICAgICAgICAgICB2LmFuaS5pbml0KHYudmFsdWUpICYmIHYuYW5pLnN0YXJ0ICE9PSBmYWxzZSAmJiB2LmFuaS5lbmQgIT09IGZhbHNlKVxyXG4gICAgICAgIHRoaXMubW9ycGhpbmUgPSBuZXcgTmRNb3JwaGluZSgwLCAxLCB0aGlzLmR1cmF0aW9uLFxyXG4gICAgICAgICAgICAocHJvZ3Jlc3MsIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGFjay5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc3QoJ2NvbXBsZXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5kRXZlbnQ8TiwgeyBwcm9ncmVzczogbnVtYmVyOyBlYXNlOiBudW1iZXIgfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuZWxlbWVudCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFzZTogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICAoPE5kTW9ycGhpbmU+dGhpcy5tb3JwaGluZSkuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YWNrLmZvckVhY2goKHYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdi5yZXN1bHQgPSB0aGlzLnRpY2sodmFsdWUsIHByb2dyZXNzLCB2LmFuaS5zdGFydCwgdi5hbmkuZW5kKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUodi5uYW1lLCB2LnJlc3VsdClcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FzdCgnc3RlcCcsIG5ldyBOZEV2ZW50PE4sIHsgcHJvZ3Jlc3M6IG51bWJlcjsgZWFzZTogbnVtYmVyIH0+KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhc2U6IHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHByb2dyZXNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcyA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc3QoJ2NvbXBsZXRlJywgbmV3IE5kRXZlbnQ8TiwgeyBwcm9ncmVzczogbnVtYmVyOyBlYXNlOiBudW1iZXIgfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzczogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFzZTogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBuZEVhc2luZ3NbdGhpcy5lYXNpbmddLCAwXHJcbiAgICAgICAgKVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRpY2soY29tcGxldGU6IG51bWJlciwgcHJvZ3Jlc3M6IG51bWJlciwgc3RhcnQ6IFJlZmxlY3RUaWNraW5nVHlwZSwgZW5kOiBSZWZsZWN0VGlja2luZ1R5cGUpOlxyXG4gICAgICAgIFJlZmxlY3RUaWNraW5nVHlwZSB7XHJcbiAgICAgICAgd2hpbGUgKHR5cGVvZiBzdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBzdGFydCA9IHN0YXJ0KClcclxuICAgICAgICB9XHJcbiAgICAgICAgd2hpbGUgKHR5cGVvZiBlbmQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgZW5kID0gZW5kKClcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJlc3VsdDogUmVmbGVjdFRpY2tpbmdUeXBlID0gZW5kO1xyXG4gICAgICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09IHR5cGVvZiBlbmQpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcyA+PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZW5kO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBzdGFydCArICgoKGVuZCBhcyBudW1iZXIpIC0gc3RhcnQpICogY29tcGxldGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydFZhbCA9IHBhcnNlRmxvYXQoc3RhcnQpXHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbmRWYWwgPSBwYXJzZUZsb2F0KGVuZCBhcyBOZFBlcmNlbnRTdHIpXHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSAoc3RhcnRWYWwgKyAoKChlbmRWYWwgYXMgbnVtYmVyKSAtIHN0YXJ0VmFsKSAqIGNvbXBsZXRlKSkgKyAnJScgYXMgTmRQZXJjZW50U3RyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhcnQgPT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0YXJ0KSAmJiBBcnJheS5pc0FycmF5KGVuZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQubGVuZ3RoID09IGVuZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gc3RhcnQubWFwKCh2LCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRpY2soY29tcGxldGUsIHByb2dyZXNzLCB2LCAoZW5kIGFzIFJlZmxlY3RUaWNraW5nVHlwZVtdKVtrZXldKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0YXJ0IGFuZCBlbmQgdmFsdWVzIGFyZSBvZiBkaWZmZXJlbnQgbGVuZ3RocycpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBPYmplY3QuZnJvbUVudHJpZXMoKE9iamVjdC5rZXlzKHN0YXJ0KSBhcyAoa2V5b2YgeyBba2V5OiBzdHJpbmddOiBSZWZsZWN0VGlja2luZ1R5cGUgfSlbXSkubWFwKChwcm9wKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbcHJvcCwgdGhpcy50aWNrKGNvbXBsZXRlLCBwcm9ncmVzcywgKHN0YXJ0IGFzIE5kVGlja2luZ09iailbcHJvcF0sIChlbmQgYXMgTmRUaWNraW5nT2JqKVtwcm9wXSldXHJcbiAgICAgICAgICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdzdGFydCB2YWx1ZSBhbmQgZW5kIHZhbHVlIGFyZSBvZiBkaWZmZXJlbnQgdHlwZXMnKVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge05kTWF0cml4VmFsfSBmcm9tICcuLi9Ob2Rlcy9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQge05kTnVtZXJpY0FycmF5MmR9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOb2RlIGZyb20gJy4uL05vZGVzL05vZGUnO1xyXG5pbXBvcnQgR3JvdXAgZnJvbSAnLi4vTm9kZXMvR3JvdXAnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmRNYXRyaXgge1xyXG4gICAgcHJpdmF0ZSBfZWxlbWVudDogTm9kZTxhbnk+XHJcbiAgICBwcml2YXRlIF92YWx1ZTogTmRNYXRyaXhWYWwgPSBbMSwgMCwgMCwgMSwgMCwgMF07XHJcbiAgICBwcml2YXRlIF9pbnZlcnNpb246IE5kTWF0cml4VmFsID0gWzEsIDAsIDAsIDEsIDAsIDBdO1xyXG4gICAgcHJpdmF0ZSBfZ2xvYmFsSW52ZXJzaW9uOiBOZE1hdHJpeFZhbCB8IG51bGwgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBoaXN0b3J5OiB7XHJcbiAgICAgICAgdHJhbnNsYXRlPzogTmROdW1lcmljQXJyYXkyZCxcclxuICAgICAgICBza2V3PzogTmROdW1lcmljQXJyYXkyZCxcclxuICAgICAgICBzY2FsZT86IE5kTnVtZXJpY0FycmF5MmQsXHJcbiAgICAgICAgcm90YXRlPzogbnVtYmVyXHJcbiAgICB9W10gPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50OiBOb2RlPGFueT4pIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudFxyXG4gICAgfVxyXG5cclxuICAgIGludmVydCgpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5oaXN0b3J5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhpc3RvcnlbaV0ucm90YXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpbkEgPSBNYXRoLnNpbigtPG51bWJlcj50aGlzLmhpc3RvcnlbaV0ucm90YXRlKVxyXG4gICAgICAgICAgICAgICAgY29uc3QgY29zQSA9IE1hdGguY29zKC08bnVtYmVyPnRoaXMuaGlzdG9yeVtpXS5yb3RhdGUpXHJcbiAgICAgICAgICAgICAgICBOZE1hdHJpeC5tdWx0aXBseSh0aGlzLl9pbnZlcnNpb24sIFtjb3NBLCBzaW5BLCAtc2luQSwgY29zQSwgMCwgMF0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuaGlzdG9yeVtpXS50cmFuc2xhdGUpIHtcclxuICAgICAgICAgICAgICAgIE5kTWF0cml4Lm11bHRpcGx5KHRoaXMuX2ludmVyc2lvbiwgWzEsIDAsIDAsIDEsIC0oPE5kTnVtZXJpY0FycmF5MmQ+dGhpcy5oaXN0b3J5W2ldLnRyYW5zbGF0ZSlbMF0sIC0oPE5kTnVtZXJpY0FycmF5MmQ+dGhpcy5oaXN0b3J5W2ldLnRyYW5zbGF0ZSlbMV1dKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhpc3RvcnlbaV0uc2tldykge1xyXG4gICAgICAgICAgICAgICAgTmRNYXRyaXgubXVsdGlwbHkodGhpcy5faW52ZXJzaW9uLCBbMSwgTWF0aC50YW4oLSg8TmROdW1lcmljQXJyYXkyZD50aGlzLmhpc3RvcnlbaV0uc2tldylbMV0pLCBNYXRoLnRhbigtKDxOZE51bWVyaWNBcnJheTJkPnRoaXMuaGlzdG9yeVtpXS5za2V3KVswXSksIDEsIDAsIDBdKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhpc3RvcnlbaV0uc2NhbGUpIHtcclxuICAgICAgICAgICAgICAgIE5kTWF0cml4Lm11bHRpcGx5KHRoaXMuX2ludmVyc2lvbiwgWzEgLyAoPE5kTnVtZXJpY0FycmF5MmQ+dGhpcy5oaXN0b3J5W2ldLnNjYWxlKVswXSwgMCwgMCwgMSAvICg8TmROdW1lcmljQXJyYXkyZD50aGlzLmhpc3RvcnlbaV0uc2NhbGUpWzFdLCAwLCAwXSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcm90YXRlKGFuZ2xlOiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCBzaW5BID0gTWF0aC5zaW4oYW5nbGUpLFxyXG4gICAgICAgICAgICBjb3NBID0gTWF0aC5jb3MoYW5nbGUpLFxyXG4gICAgICAgICAgICBtID0gW2Nvc0EsIHNpbkEsIC1zaW5BLCBjb3NBLCAwLCAwXSBhcyBOZE1hdHJpeFZhbDtcclxuXHJcbiAgICAgICAgTmRNYXRyaXgubXVsdGlwbHkodGhpcy5fdmFsdWUsIG0pO1xyXG5cclxuICAgICAgICB0aGlzLmhpc3RvcnkucHVzaCh7J3JvdGF0ZSc6IGFuZ2xlfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0cmFuc2xhdGUoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCBtID0gWzEsIDAsIDAsIDEsIHgsIHldIGFzIE5kTWF0cml4VmFsO1xyXG4gICAgICAgIGlmICh4ICE9PSAwIHx8IHkgIT09IDApIHtcclxuICAgICAgICAgICAgTmRNYXRyaXgubXVsdGlwbHkodGhpcy5fdmFsdWUsIG0pO1xyXG4gICAgICAgICAgICB0aGlzLmhpc3RvcnkucHVzaCh7J3RyYW5zbGF0ZSc6IFt4LCB5XX0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHNjYWxlKC4uLlt4LCB5XTogTmROdW1lcmljQXJyYXkyZCkge1xyXG4gICAgICAgIGlmICh4ICE9PSAxIHx8IHkgIT09IDEpIHtcclxuICAgICAgICAgICAgY29uc3QgbSA9IFt4LCAwLCAwLCB5LCAwLCAwXSBhcyBOZE1hdHJpeFZhbDtcclxuICAgICAgICAgICAgTmRNYXRyaXgubXVsdGlwbHkodGhpcy5fdmFsdWUsIG0pO1xyXG4gICAgICAgICAgICB0aGlzLmhpc3RvcnkucHVzaCh7J3NjYWxlJzogW3gsIHldfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICBza2V3KC4uLlt4LCB5XTogTmROdW1lcmljQXJyYXkyZCkge1xyXG4gICAgICAgIGlmICh4ICE9PSAwIHx8IHkgIT09IDApIHtcclxuICAgICAgICAgICAgY29uc3QgdGFuQSA9IE1hdGgudGFuKHgpLFxyXG4gICAgICAgICAgICAgICAgdGFuQiA9IE1hdGgudGFuKHkpLFxyXG4gICAgICAgICAgICAgICAgbSA9IFsxLCB0YW5CLCB0YW5BLCAxLCAwLCAwXSBhcyBOZE1hdHJpeFZhbDtcclxuXHJcbiAgICAgICAgICAgIE5kTWF0cml4Lm11bHRpcGx5KHRoaXMuX3ZhbHVlLCBtKTtcclxuICAgICAgICAgICAgdGhpcy5oaXN0b3J5LnB1c2goeydza2V3JzogW3gsIHldfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgZ2xvYmFsSW52ZXJzaW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9nbG9iYWxJbnZlcnNpb24pIHJldHVybiB0aGlzLl9nbG9iYWxJbnZlcnNpb247XHJcblxyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuX2VsZW1lbnQucGFyZW50O1xyXG4gICAgICAgIHRoaXMuX2dsb2JhbEludmVyc2lvbiA9IFsuLi50aGlzLl9pbnZlcnNpb25dXHJcbiAgICAgICAgaWYgKHBhcmVudCkgTmRNYXRyaXgubXVsdGlwbHkodGhpcy5fZ2xvYmFsSW52ZXJzaW9uLCBwYXJlbnQubWF0cml4Lmdsb2JhbEludmVyc2lvbigpKTtcclxuICAgICAgICByZXR1cm4gWy4uLnRoaXMuX2dsb2JhbEludmVyc2lvbl0gYXMgTmRNYXRyaXhWYWw7XHJcbiAgICB9O1xyXG5cclxuICAgIHRyYWNlQ3Vyc29yVG9Mb2NhbFNwYWNlKHBvaW50OiBOZE51bWVyaWNBcnJheTJkKSB7XHJcbiAgICAgICAgcmV0dXJuICBOZE1hdHJpeC5hcHBseU1hdHJpeFRvUG9pbnQodGhpcy5nbG9iYWxJbnZlcnNpb24oKSwgcG9pbnQpO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICB0aGlzLl92YWx1ZSA9IFsxLCAwLCAwLCAxLCAwLCAwXTtcclxuICAgICAgICB0aGlzLl9pbnZlcnNpb24gPSBbMSwgMCwgMCwgMSwgMCwgMF07XHJcbiAgICAgICAgdGhpcy5fZ2xvYmFsSW52ZXJzaW9uID0gbnVsbDtcclxuICAgICAgICB0aGlzLmhpc3RvcnkgPSBbXTtcclxuICAgIH1cclxuICAgIHB1cmdlSW52ZXJzaW9uKCkge1xyXG4gICAgICAgIHRoaXMuX2dsb2JhbEludmVyc2lvbiA9IG51bGxcclxuICAgICAgICBpZih0aGlzLl9lbGVtZW50IGluc3RhbmNlb2YgR3JvdXApIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5mb3JFYWNoQ2hpbGQoKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGUubWF0cml4LnB1cmdlSW52ZXJzaW9uKClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXh0cmFjdCgpOiBOZE1hdHJpeFZhbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xyXG4gICAgfTtcclxuXHJcbiAgICBleHRyYWN0SW52ZXJzaW9uKCk6IE5kTWF0cml4VmFsIHtcclxuICAgICAgICByZXR1cm4gWy4uLnRoaXMuX2ludmVyc2lvbl07XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIG11bHRpcGx5KHRhcmdldDogTmRNYXRyaXhWYWwsIG11bHRpcGxpZXI6IE5kTWF0cml4VmFsKSB7XHJcbiAgICAgICAgLy8gbm9pbnNwZWN0aW9uIFVubmVjZXNzYXJ5TG9jYWxWYXJpYWJsZUpTXHJcbiAgICAgICAgY29uc3QgYTAgPSB0YXJnZXRbMF0gKiBtdWx0aXBsaWVyWzBdICsgdGFyZ2V0WzJdICogbXVsdGlwbGllclsxXSxcclxuICAgICAgICAgICAgYTEgPSB0YXJnZXRbMV0gKiBtdWx0aXBsaWVyWzBdICsgdGFyZ2V0WzNdICogbXVsdGlwbGllclsxXSxcclxuICAgICAgICAgICAgYTIgPSB0YXJnZXRbMF0gKiBtdWx0aXBsaWVyWzJdICsgdGFyZ2V0WzJdICogbXVsdGlwbGllclszXSxcclxuICAgICAgICAgICAgYTMgPSB0YXJnZXRbMV0gKiBtdWx0aXBsaWVyWzJdICsgdGFyZ2V0WzNdICogbXVsdGlwbGllclszXSxcclxuICAgICAgICAgICAgYTQgPSB0YXJnZXRbMF0gKiBtdWx0aXBsaWVyWzRdICsgdGFyZ2V0WzJdICogbXVsdGlwbGllcls1XSArIHRhcmdldFs0XSxcclxuICAgICAgICAgICAgYTUgPSB0YXJnZXRbMV0gKiBtdWx0aXBsaWVyWzRdICsgdGFyZ2V0WzNdICogbXVsdGlwbGllcls1XSArIHRhcmdldFs1XVxyXG4gICAgICAgIHRhcmdldFswXSA9IGEwO1xyXG4gICAgICAgIHRhcmdldFsxXSA9IGExO1xyXG4gICAgICAgIHRhcmdldFsyXSA9IGEyO1xyXG4gICAgICAgIHRhcmdldFszXSA9IGEzO1xyXG4gICAgICAgIHRhcmdldFs0XSA9IGE0O1xyXG4gICAgICAgIHRhcmdldFs1XSA9IGE1O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGFwcGx5TWF0cml4VG9Qb2ludChtYXRyaXg6IE5kTWF0cml4VmFsLCBwb2ludDogTmROdW1lcmljQXJyYXkyZCkge1xyXG4gICAgICAgIGNvbnN0IHggPSBwb2ludFswXSAqIG1hdHJpeFswXSArIHBvaW50WzFdICogbWF0cml4WzJdICsgbWF0cml4WzRdXHJcbiAgICAgICAgY29uc3QgeSA9IHBvaW50WzBdICogbWF0cml4WzFdICsgcG9pbnRbMV0gKiBtYXRyaXhbM10gKyBtYXRyaXhbNV1cclxuICAgICAgICBwb2ludFswXSA9IHhcclxuICAgICAgICBwb2ludFsxXSA9IHlcclxuICAgICAgICByZXR1cm4gcG9pbnRcclxuICAgIH1cclxufSIsImltcG9ydCBOZENhY2hlIGZyb20gJy4uLy4uL2NsYXNzZXMvTmRDYWNoZSc7XHJcbmltcG9ydCBOZE1hdHJpeCBmcm9tICcuLi8uLi9jbGFzc2VzL05kTWF0cml4JztcclxuaW1wb3J0IE5vZGUgZnJvbSAnLi4vTm9kZSc7XHJcbmltcG9ydCBHcm91cCBmcm9tICcuLi9Hcm91cCc7XHJcbmltcG9ydCBOZE1vZEJhc2UgZnJvbSAnLi4vbW9kZWxzL05kTW9kQmFzZSc7XHJcblxyXG5leHBvcnQgY2xhc3MgTmROb2RlTWF0cml4PE1vZGVsIGV4dGVuZHMgTmRNb2RCYXNlID0gTmRNb2RCYXNlLCBOIGV4dGVuZHMgTm9kZTxNb2RlbD4gPSBOb2RlPE1vZGVsPj4ge1xyXG4gICAgcHJpdmF0ZSBnZXR0ZXI6ICgpID0+IE5kTWF0cml4XHJcbiAgICBwdWJsaWMgcHVyZ2U6ICgpID0+IHZvaWRcclxuXHJcbiAgICBnZXQgdmFsdWUoKTogTmRNYXRyaXgge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldHRlcigpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoZWxlbWVudDogTiwgbW9kZWw6IE1vZGVsLCBjYWNoZTogTmRDYWNoZSkge1xyXG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IG5ldyBOZE1hdHJpeChlbGVtZW50KVxyXG4gICAgICAgIGNvbnN0IHtnZXR0ZXIsIHB1cmdlfSA9XHJcbiAgICAgICAgICAgIGNhY2hlLnJlZ2lzdGVyPE5kTWF0cml4PigndHJhbnNmb3JtTWF0cml4JyxcclxuICAgICAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXgucmVzZXQoKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gbW9kZWwucG9zaXRpb24ucHJvdGVjdGVkVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZSA9IGVsZW1lbnQuYm91bmRpbmdSZWN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW4gPSBtb2RlbC5vcmlnaW4ucHJvdGVjdGVkVmFsdWUubWFwKCh2LGtleSkgPT4gc3ByaXRlLnNpemVba2V5XSAqIHYpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBza2V3ID0gbW9kZWwuc2tldy5wcm90ZWN0ZWRWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlID0gbW9kZWwucm90YXRlLnByb3RlY3RlZFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZSA9IG1vZGVsLnNjYWxlLnByb3RlY3RlZFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGUgPSBtb2RlbC50cmFuc2xhdGUucHJvdGVjdGVkVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90cmFuc2xhdGUgPSBlbGVtZW50IGluc3RhbmNlb2YgR3JvdXAgPyBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblswXSArIHRyYW5zbGF0ZVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uWzFdICsgdHJhbnNsYXRlWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0gOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUucG9zaXRpb25bMF0gKyB0cmFuc2xhdGVbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUucG9zaXRpb25bMV0gKyB0cmFuc2xhdGVbMV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4LnRyYW5zbGF0ZShvcmlnaW5bMF0sIG9yaWdpblsxXSlcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RyYW5zbGF0ZVswXSAhPT0gMCB8fCBfdHJhbnNsYXRlWzFdICE9PSAwKSBtYXRyaXgudHJhbnNsYXRlKF90cmFuc2xhdGVbMF0sIF90cmFuc2xhdGVbMV0pXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvdGF0ZSkgbWF0cml4LnJvdGF0ZShyb3RhdGUpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNrZXdbMF0gIT09IDAgfHwgc2tld1sxXSAhPT0gMCkgbWF0cml4LnNrZXcoc2tld1swXSwgc2tld1sxXSlcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2NhbGVbMF0gIT09IDAgfHwgc2NhbGVbMV0gIT09IDApIG1hdHJpeC5zY2FsZShzY2FsZVswXSwgc2NhbGVbMV0pXHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4LnRyYW5zbGF0ZSgtb3JpZ2luWzBdLCAtb3JpZ2luWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXguaW52ZXJ0KClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdHJpeFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgdGhpcy5wdXJnZSA9IHB1cmdlXHJcbiAgICAgICAgdGhpcy5nZXR0ZXIgPSBnZXR0ZXJcclxuICAgIH1cclxufSIsImltcG9ydCB7TmRDYWNoZUdldHRlciwgTmRDYWNoZVJlZ2lzdGVyRlJldHVybiwgTmRDYWNoZVN0b3JhZ2V9IGZyb20gJy4uL05vZGVzL0B0eXBlcy90eXBlcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZENhY2hlIHtcclxuICAgIHByaXZhdGUgdmFsdWVzOiBOZENhY2hlU3RvcmFnZSA9IHt9XHJcblxyXG4gICAgcmVnaXN0ZXI8VD4obmFtZTogc3RyaW5nLCBmdW5jOiBOZENhY2hlR2V0dGVyPFQ+KTogTmRDYWNoZVJlZ2lzdGVyRlJldHVybjxUPiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnZhbHVlc1tuYW1lXSkge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlc1tuYW1lXSA9IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBnZXR0ZXI6IGZ1bmMsXHJcbiAgICAgICAgICAgICAgICByZWxldmFudDogZmFsc2VcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBwdXJnZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZXNbbmFtZV0ucmVsZXZhbnQgPSBmYWxzZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXR0ZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy52YWx1ZXNbbmFtZV0ucmVsZXZhbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlc1tuYW1lXS52YWx1ZSA9IHRoaXMudmFsdWVzW25hbWVdLmdldHRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWVzW25hbWVdLnJlbGV2YW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlc1tuYW1lXS52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gYXMgTmRDYWNoZVJlZ2lzdGVyRlJldHVybjxUPlxyXG4gICAgfTtcclxufSIsImltcG9ydCB7TmRNYWluRHJhd2luZ1BpcGVGLCBOZFJlbmRlckNvbmRpdGlvblByZWRpY2F0ZX0gZnJvbSAnLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IHtOZE5vZGVDb21waWxlclBpcGV9IGZyb20gJy4uL05vZGVzL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOb2RlIGZyb20gJy4uL05vZGVzL05vZGUnO1xyXG5pbXBvcnQgTmRNb2RCYXNlIGZyb20gJy4uL05vZGVzL21vZGVscy9OZE1vZEJhc2UnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmRDb21waWxlcjxQcm9wcyBleHRlbmRzIE5kTW9kQmFzZSxcclxuICAgIEVsZW1lbnQgZXh0ZW5kcyBOb2RlPFByb3BzPiA9IE5vZGU8UHJvcHM+PiB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHJlc29sdmVyOiBOZE1haW5EcmF3aW5nUGlwZUY7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGVsZW1lbnQ6IEVsZW1lbnRcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgcHJvcHM6IFByb3BzO1xyXG4gICAgcHJpdmF0ZSBjb25kaXRpb25zOiBOZFJlbmRlckNvbmRpdGlvblByZWRpY2F0ZVtdID0gW11cclxuICAgIHByaXZhdGUgZHJhd2VyUGlwZUJlZm9yZTogTmROb2RlQ29tcGlsZXJQaXBlID0ge307XHJcbiAgICBwcml2YXRlIGRyYXdlclBpcGVBZnRlcjogTmROb2RlQ29tcGlsZXJQaXBlID0ge307XHJcbiAgICBwcml2YXRlIGJlZm9yZVBpcGVTaXplID0gMDtcclxuICAgIHByaXZhdGUgYWZ0ZXJQaXBlU2l6ZSA9IDA7XHJcbiAgICBwcml2YXRlIGlzUmVuZGVyQWxsb3dlZDogTmRSZW5kZXJDb25kaXRpb25QcmVkaWNhdGUgPSAoLi4uYXJncyk6IGJvb2xlYW4gPT4ge1xyXG4gICAgICAgIGxldCByZW5kZXJBbGxvd2VkID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29uZGl0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoIShyZW5kZXJBbGxvd2VkID0gdGhpcy5jb25kaXRpb25zW2ldKC4uLmFyZ3MpKSkgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZW5kZXJBbGxvd2VkO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEVsZW1lbnQsIG1vZGVsOiBQcm9wcywgcmVzb2x2ZXI6IE5kTWFpbkRyYXdpbmdQaXBlRikge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcclxuICAgICAgICB0aGlzLnJlc29sdmVyID0gcmVzb2x2ZXJcclxuICAgICAgICB0aGlzLnByb3BzID0gbW9kZWxcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZmlsdGVyKGY6IE5kUmVuZGVyQ29uZGl0aW9uUHJlZGljYXRlKSB7XHJcbiAgICAgICAgdGhpcy5jb25kaXRpb25zLnB1c2goZilcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGlwZShmOiBOZE1haW5EcmF3aW5nUGlwZUYsIG9yZGVyPzogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKCFvcmRlcikgb3JkZXIgPSAwXHJcbiAgICAgICAgaWYgKG9yZGVyID4gMTAwKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5kcmF3ZXJQaXBlQWZ0ZXJbb3JkZXJdKSB0aGlzLmRyYXdlclBpcGVBZnRlcltvcmRlcl0gPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5kcmF3ZXJQaXBlQWZ0ZXJbb3JkZXJdLnB1c2goZik7XHJcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJQaXBlU2l6ZSsrXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmRyYXdlclBpcGVCZWZvcmVbb3JkZXJdKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdlclBpcGVCZWZvcmVbb3JkZXJdID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kcmF3ZXJQaXBlQmVmb3JlW29yZGVyXS5wdXNoKGYpO1xyXG4gICAgICAgICAgICB0aGlzLmJlZm9yZVBpcGVTaXplKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdW5waXBlKGY6IE5kTWFpbkRyYXdpbmdQaXBlRikge1xyXG4gICAgICAgIGZvciAobGV0IGluZGV4IGluIHRoaXMuZHJhd2VyUGlwZUJlZm9yZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kcmF3ZXJQaXBlQmVmb3JlLmhhc093blByb3BlcnR5KGluZGV4KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3ZXJQaXBlQmVmb3JlW2luZGV4XSA9IHRoaXMuZHJhd2VyUGlwZUJlZm9yZVtpbmRleF0uZmlsdGVyKChjYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYiA9PT0gZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJlZm9yZVBpcGVTaXplLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpbmRleCBpbiB0aGlzLmRyYXdlclBpcGVBZnRlcikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kcmF3ZXJQaXBlQWZ0ZXIuaGFzT3duUHJvcGVydHkoaW5kZXgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdlclBpcGVBZnRlcltpbmRleF0gPSB0aGlzLmRyYXdlclBpcGVBZnRlcltpbmRleF0uZmlsdGVyKChjYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYiA9PT0gZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFmdGVyUGlwZVNpemUtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcjpOZE1haW5EcmF3aW5nUGlwZUYgPSAoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBkYXRlOiBEYXRlLCBmcmFtZTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSZW5kZXJBbGxvd2VkKGNvbnRleHQsIGRhdGUsIGZyYW1lKSkge1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudENvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB8IGZhbHNlID0gY29udGV4dFxyXG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYmVmb3JlUGlwZVNpemUpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IHBpcGVPcmRlciBpbiB0aGlzLmRyYXdlclBpcGVCZWZvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kcmF3ZXJQaXBlQmVmb3JlLmhhc093blByb3BlcnR5KHBpcGVPcmRlcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcGlwZUluZGV4ID0gMDsgcGlwZUluZGV4IDwgdGhpcy5kcmF3ZXJQaXBlQmVmb3JlW3BpcGVPcmRlcl0ubGVuZ3RoOyBwaXBlSW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxsYmFja3NSZXN1bHQgPSB0aGlzLmRyYXdlclBpcGVCZWZvcmVbcGlwZU9yZGVyXVtwaXBlSW5kZXhdKGN1cnJlbnRDb250ZXh0LCBkYXRlLCBmcmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0ID0gY2FsbGJhY2tzUmVzdWx0ID8gY2FsbGJhY2tzUmVzdWx0IDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRDb250ZXh0KSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRDb250ZXh0KSBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY3VycmVudENvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IHRoaXMucHJvcHMuYmxlbmRpbmcucHJvdGVjdGVkVmFsdWVcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0Lmdsb2JhbEFscGhhICo9IHRoaXMucHJvcHMub3BhY2l0eS5wcm90ZWN0ZWRWYWx1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50Q29udGV4dCA9PT0gY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlcihjb250ZXh0LCBkYXRlLCBmcmFtZSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZXIoY29udGV4dCwgZGF0ZSwgZnJhbWUpXHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudENvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShjdXJyZW50Q29udGV4dC5jYW52YXMsIDAsIDAsIGNvbnRleHQuY2FudmFzLndpZHRoLCBjb250ZXh0LmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0ID0gY29udGV4dFxyXG4gICAgICAgICAgICBpZiAodGhpcy5hZnRlclBpcGVTaXplKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBwaXBlT3JkZXIgaW4gdGhpcy5kcmF3ZXJQaXBlQWZ0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kcmF3ZXJQaXBlQWZ0ZXIuaGFzT3duUHJvcGVydHkocGlwZU9yZGVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBwaXBlSW5kZXggPSAwOyBwaXBlSW5kZXggPCB0aGlzLmRyYXdlclBpcGVBZnRlcltwaXBlT3JkZXJdLmxlbmd0aDsgcGlwZUluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrc1Jlc3VsdCA9IHRoaXMuZHJhd2VyUGlwZUFmdGVyW3BpcGVPcmRlcl1bcGlwZUluZGV4XShjdXJyZW50Q29udGV4dCwgZGF0ZSwgZnJhbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbnRleHQgPSBjYWxsYmFja3NSZXN1bHQgPyBjYWxsYmFja3NSZXN1bHQgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudENvbnRleHQpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudENvbnRleHQpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHRcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQge05kQW5pbWF0aW9uU3RhY2ssIE5kRXhwb3J0YWJsZVJldHVybiwgTmROb2RlTW91c2VFdmVudHNTY2hlbWUsIE5kTm9kZVBvaW50ZXJQcmVkaWNhdGUsIE5kTm9kZVN0YXRlRXZlbnRzU2NoZW1lLCBOZFBhdGhCZXppZXIsIE5kU2VnbWVudEJlemllciwgUmVmbGVjdEFuaW1hdGVDb25maWd9IGZyb20gJy4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5kQW5pbWF0aW9uIGZyb20gJy4uL2NsYXNzZXMvTmRBbmltYXRpb24nO1xyXG5pbXBvcnQge25kRWFzaW5nc30gZnJvbSAnLi4vY2xhc3Nlcy9OZEVhc2luZ3MnO1xyXG5pbXBvcnQge05kQ2FudmFzQ29udGV4dCwgTmRNYWluRHJhd2luZ1BpcGVGfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgTmRFbWl0dGVyIGZyb20gJy4uL2NsYXNzZXMvTmRFbWl0dGVyJztcclxuaW1wb3J0IE5kTm9kZVN0eWxlUHJvcGVydHlBbmltYXRlZCBmcm9tICcuL2NsYXNzZXMvTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkJztcclxuaW1wb3J0IHtOZE5vZGVNYXRyaXh9IGZyb20gJy4vY2xhc3Nlcy9OZE5vZGVNYXRyaXgnO1xyXG5pbXBvcnQgTmRDYWNoZSBmcm9tICcuLi9jbGFzc2VzL05kQ2FjaGUnO1xyXG5pbXBvcnQgTmROb2RlQm94IGZyb20gJy4vY2xhc3Nlcy9OZE5vZGVCb3gnO1xyXG5pbXBvcnQgTmROb2RlQ29ubmVjdG9yIGZyb20gJy4vY2xhc3Nlcy9OZE5vZGVDb25uZWN0b3InO1xyXG5pbXBvcnQgTmRDb21waWxlciBmcm9tICcuLi9jbGFzc2VzL05kQ29tcGlsZXInO1xyXG5pbXBvcnQgTmROb2RlTW91c2VEaXNwYXRjaGVyIGZyb20gJy4uL01vdXNlL05kTm9kZU1vdXNlRGlzcGF0Y2hlcic7XHJcbmltcG9ydCBOZE1vZEJnIGZyb20gJy4vbW9kZWxzL05kTW9kQmcnO1xyXG5pbXBvcnQgTmRNb2RGcmVlU3Ryb2tlIGZyb20gJy4vbW9kZWxzL05kTW9kRnJlZVN0cm9rZSc7XHJcbmltcG9ydCBOZE1vZEJhc2UgZnJvbSAnLi9tb2RlbHMvTmRNb2RCYXNlJztcclxuaW1wb3J0IE5kTW9kZUFzc2VtYmxlciBmcm9tICcuL2NsYXNzZXMvTmRNb2RlQXNzZW1ibGVyJztcclxuaW1wb3J0IE5kSW1hZ2UgZnJvbSAnLi4vY2xhc3Nlcy9OZEltYWdlJztcclxuaW1wb3J0IE5vZGFzIGZyb20gJy4uLy4uL05vZGFzJztcclxuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudHMnO1xyXG5pbXBvcnQgTmROb2RlU3R5bGVzTW9kZWwgZnJvbSAnLi9jbGFzc2VzL05kTm9kZVN0eWxlc01vZGVsJztcclxuaW1wb3J0IHtOREJ9IGZyb20gJy4uL1NlcnZpY2VzL05vZGFzRGVidWcnO1xyXG5pbXBvcnQgTmRNb2RBbmNob3IgZnJvbSAnLi9tb2RlbHMvTmRNb2RBbmNob3InO1xyXG5cclxudHlwZSBFeHRyYWN0QW5pbWF0ZWQ8VCBleHRlbmRzIE5kTm9kZVN0eWxlc01vZGVsLCBQVD4gPSB7XHJcbiAgICBbS2V5IGluIGtleW9mIFRdOiBUW0tleV0gZXh0ZW5kcyBQVCA/IFBUIDogbmV2ZXJcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgTm9kZTxNb2RlbCBleHRlbmRzIE5kTW9kQmFzZT4gZXh0ZW5kcyBOZEVtaXR0ZXI8TmROb2RlU3RhdGVFdmVudHNTY2hlbWU8TW9kZWw+ICYgTmROb2RlTW91c2VFdmVudHNTY2hlbWU8TW9kZWw+PiB7XHJcblxyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IEJveDogTmROb2RlQm94XHJcblxyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IHJlbmRlcjogTmRNYWluRHJhd2luZ1BpcGVGXHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgdGVzdDogTmROb2RlUG9pbnRlclByZWRpY2F0ZVxyXG4gICAgcHVibGljIGFic3RyYWN0IGV4cG9ydDogKC4uLmFyZ3M6IGFueVtdKSA9PiBOZEV4cG9ydGFibGVSZXR1cm4gfCB1bmRlZmluZWRcclxuXHJcbiAgICBwcm90ZWN0ZWQgVHJlZUNvbm5lY3RvcjogTmROb2RlQ29ubmVjdG9yXHJcbiAgICBwcm90ZWN0ZWQgQ2FjaGUgPSBuZXcgTmRDYWNoZSgpXHJcbiAgICBwcm90ZWN0ZWQgQ29tcGlsZXI6IE5kQ29tcGlsZXI8TW9kZWw+XHJcbiAgICBwcm90ZWN0ZWQgTWF0cml4OiBOZE5vZGVNYXRyaXhcclxuICAgIHByb3RlY3RlZCBNb3VzZTogTmROb2RlTW91c2VEaXNwYXRjaGVyPE1vZGVsPlxyXG4gICAgcHJvdGVjdGVkIGRhdGE6IE1vZGVsXHJcblxyXG4gICAgcHVibGljIHBpcGU6IE5kQ29tcGlsZXI8TW9kZWw+WydwaXBlJ11cclxuICAgIHB1YmxpYyB1bnBpcGU6IE5kQ29tcGlsZXI8TW9kZWw+Wyd1bnBpcGUnXVxyXG4gICAgcHVibGljIGNvbmRpdGlvbjogTmRDb21waWxlcjxNb2RlbD5bJ2ZpbHRlciddXHJcblxyXG4gICAgcHJpdmF0ZSBtb2RlbEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKClcclxuICAgIHByaXZhdGUgb3JkZXI6IChrZXlvZiBNb2RlbClbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBhbmltYXRpb25zOiBOZEFuaW1hdGlvbjxNb2RlbD5bXSA9IFtdO1xyXG5cclxuICAgIHByaXZhdGUgY2hlY2tRdWV1ZSgpIHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSB0aGlzLmFuaW1hdGlvbnMuZmlsdGVyKFxyXG4gICAgICAgICAgICAodikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF2LmFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2LnF1ZXVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5maW5kQ29tcGV0aXRvcnModikubGVuZ3RoKSB2LnN0YXJ0KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wZXRpdG9ycyA9IHRoaXMuZmluZENvbXBldGl0b3JzKHYpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wZXRpdG9ycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBldGl0b3JzLmZvckVhY2goXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvbXBldGl0b3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5wcm9wcy5mb3JFYWNoKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByb3ApID0+IGNvbXBldGl0b3Iuc3RvcChwcm9wKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHYuc3RhcnQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICF2LmRvbmVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZpbmRDb21wZXRpdG9ycyhhbmltYXRpb246IE5kQW5pbWF0aW9uPE1vZGVsPikge1xyXG4gICAgICAgIGxldCBjb21wZXRpdG9ycyA9IFtdXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uc1tpXSAhPT0gYW5pbWF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25zW2ldLmFjdGl2ZSAmJiAhdGhpcy5hbmltYXRpb25zW2ldLmRvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IGFuaW1hdGlvbi5wcm9wcy5sZW5ndGg7IGMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25zW2ldLmluZGV4T2YoYW5pbWF0aW9uLnByb3BzW2NdKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wZXRpdG9ycy5wdXNoKHRoaXMuYW5pbWF0aW9uc1tpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29tcGV0aXRvcnMgYXMgTmRBbmltYXRpb248TW9kZWw+W11cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRpY2tFbGVtZW50QW5pbWF0aW9ucyA9IChjYW52YXM6IE5kQ2FudmFzQ29udGV4dCwgZGF0ZTogRGF0ZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRpbWUgPSBkYXRlLmdldFRpbWUoKVxyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5mb3JFYWNoKChhbmltYXRpb24pID0+IHtcclxuICAgICAgICAgICAgYW5pbWF0aW9uLm1vcnBoaW5lICYmIGFuaW1hdGlvbi5tb3JwaGluZS50aWNrKHRpbWUpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgbW9kZWw6IE1vZGVsLCBhcHA6IE5vZGFzKSB7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIHRoaXMuZGF0YSA9IG1vZGVsXHJcbiAgICAgICAgdGhpcy5NYXRyaXggPSBuZXcgTmROb2RlTWF0cml4KHRoaXMsIG1vZGVsLCB0aGlzLkNhY2hlKVxyXG4gICAgICAgIHRoaXMuQ29tcGlsZXIgPSBuZXcgTmRDb21waWxlcjxNb2RlbD4odGhpcywgbW9kZWwsICguLi5hcmdzKSA9PiB0aGlzLnJlbmRlciguLi5hcmdzKSlcclxuICAgICAgICB0aGlzLlRyZWVDb25uZWN0b3IgPSBhcHAuVHJlZS5yZWdpc3RlcihpZCwgdGhpcywgdGhpcy5Db21waWxlci5yZW5kZXIpXHJcbiAgICAgICAgdGhpcy5Nb3VzZSA9IGFwcC5Nb3VzZS5yZWdpc3Rlcih0aGlzLCAoLi4uYXJncykgPT4gdGhpcy5jYXN0KC4uLmFyZ3MpLCAoLi4uYXJncykgPT4gdGhpcy50ZXN0KC4uLmFyZ3MpKVxyXG4gICAgICAgIHRoaXMucGlwZSA9IHRoaXMuQ29tcGlsZXIucGlwZS5iaW5kKHRoaXMuQ29tcGlsZXIpXHJcbiAgICAgICAgdGhpcy51bnBpcGUgPSB0aGlzLkNvbXBpbGVyLnVucGlwZS5iaW5kKHRoaXMuQ29tcGlsZXIpXHJcbiAgICAgICAgdGhpcy5jb25kaXRpb24gPSB0aGlzLkNvbXBpbGVyLmZpbHRlci5iaW5kKHRoaXMuQ29tcGlsZXIpXHJcbiAgICAgICAgdGhpcy5vcmRlciA9IDwoa2V5b2YgTW9kZWwpW10+T2JqZWN0LmtleXMobW9kZWwpLnNvcnQoKGEsIGIpID0+IG1vZGVsW2FdLm9yZGVyaW5nIC0gbW9kZWxbYl0ub3JkZXJpbmcpXHJcbiAgICAgICAgYXBwLkNhbnZhcy5xdWV1ZSgtMiwgdGhpcy50aWNrRWxlbWVudEFuaW1hdGlvbnMpXHJcbiAgICAgICAgdGhpcy5vbmNlKCdkZXN0cm95JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBOREIucG9zaXRpdmUoYERlc3Ryb3lpbmcgbm9kZSAke2lkfS4uLmApXHJcbiAgICAgICAgICAgIHRoaXMubW9kZWxFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpXHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKClcclxuICAgICAgICAgICAgYXBwLkNhbnZhcy51blF1ZXVlKHRoaXMudGlja0VsZW1lbnRBbmltYXRpb25zKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy53YXRjaChbJ3Bvc2l0aW9uJywgJ3JvdGF0ZScsICdvcmlnaW4nLCAnc2tldycsICd0cmFuc2xhdGUnLCAnc2NhbGUnXSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLk1hdHJpeC5wdXJnZSgpXHJcbiAgICAgICAgICAgIHRoaXMuVHJlZUNvbm5lY3Rvci5mb3JFYWNoTGF5ZXIoZSA9PiBlLm1hdHJpeC5wdXJnZUludmVyc2lvbigpKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy53YXRjaChbJ3Bvc2l0aW9uJywgJ29yaWdpbicsICd0cmFuc2xhdGUnXSwgKCkgPT4gdGhpcy5wdXJnZUJveCgpKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBhbmltYXRlPEFuaW1hdGVkIGV4dGVuZHMgRXh0cmFjdEFuaW1hdGVkPE1vZGVsLCBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQ8YW55LCBhbnksIGFueSwgYW55Pj4sIEsgZXh0ZW5kcyBrZXlvZiBBbmltYXRlZD4oXHJcbiAgICAgICAgcHJvcHM6IHsgW0tleSBpbiBLXT86IFBhcmFtZXRlcnM8QW5pbWF0ZWRbS2V5XVsnc2V0J10+WzBdIH0sXHJcbiAgICAgICAgZHVyYXRpb24/OiBudW1iZXIsXHJcbiAgICAgICAgZWFzaW5nPzoga2V5b2YgdHlwZW9mIG5kRWFzaW5ncyxcclxuICAgICAgICBxdWV1ZT86IGJvb2xlYW4pOiBOb2RlPE1vZGVsPlxyXG4gICAgYW5pbWF0ZTxBbmltYXRlZCBleHRlbmRzIEV4dHJhY3RBbmltYXRlZDxNb2RlbCwgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkPGFueSwgYW55LCBhbnksIGFueT4+LCBLIGV4dGVuZHMga2V5b2YgQW5pbWF0ZWQ+KFxyXG4gICAgICAgIHByb3BzOiB7IFtLZXkgaW4gS10/OiBQYXJhbWV0ZXJzPEFuaW1hdGVkW0tleV1bJ3NldCddPlswXSB9LFxyXG4gICAgICAgIGNvbmZpZz86IFJlZmxlY3RBbmltYXRlQ29uZmlnPE5vZGU8TW9kZWw+Pik6IE5vZGU8TW9kZWw+XHJcbiAgICBhbmltYXRlPEFuaW1hdGVkIGV4dGVuZHMgRXh0cmFjdEFuaW1hdGVkPE1vZGVsLCBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQ8YW55LCBhbnksIGFueSwgYW55Pj4sIEsgZXh0ZW5kcyBrZXlvZiBBbmltYXRlZCAmIHN0cmluZz4oXHJcbiAgICAgICAgYTogeyBbS2V5IGluIEtdPzogUGFyYW1ldGVyczxBbmltYXRlZFtLZXldWydzZXQnXT5bMF0gfSxcclxuICAgICAgICBiPzogbnVtYmVyIHwgUmVmbGVjdEFuaW1hdGVDb25maWc8Tm9kZTxNb2RlbD4+LFxyXG4gICAgICAgIGM/OiBrZXlvZiB0eXBlb2YgbmRFYXNpbmdzXHJcbiAgICApIHtcclxuICAgICAgICBjb25zdCBzdGFjazogTmRBbmltYXRpb25TdGFjazxNb2RlbD4gPSAoPEtbXT5PYmplY3Qua2V5cyhhKSlcclxuICAgICAgICAgICAgLnNvcnQoXHJcbiAgICAgICAgICAgICAgICAoYSwgYikgPT4gdGhpcy5kYXRhW2FdLm9yZGVyaW5nIC0gdGhpcy5kYXRhW2JdLm9yZGVyaW5nKS5tYXAoXHJcbiAgICAgICAgICAgICAgICAocHJvcCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBhW3Byb3BdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBwcm9wLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmk6IHRoaXMuZGF0YVtwcm9wXSBhcyBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQ8YW55LCBhbnksIGFueSwgYW55PlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgaWYgKHR5cGVvZiBiID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgYiA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gbmV3IE5kQW5pbWF0aW9uPE1vZGVsPih0aGlzLCBzdGFjaywgYiwgYylcclxuICAgICAgICAgICAgYW5pbWF0aW9uLm9uKCdjb21wbGV0ZScsICgpID0+IHRoaXMuY2hlY2tRdWV1ZSlcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goYW5pbWF0aW9uKVxyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGIgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IDxSZWZsZWN0QW5pbWF0ZUNvbmZpZzxOb2RlPE1vZGVsPj4+YixcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbiA9IG5ldyBOZEFuaW1hdGlvbjxNb2RlbD4odGhpcywgc3RhY2ssIGNvbmZpZz8uZHVyYXRpb24sIGNvbmZpZz8uZWFzaW5nLCBjb25maWc/LnF1ZXVlKVxyXG4gICAgICAgICAgICBpZiAoY29uZmlnLmNvbXBsZXRlKSBhbmltYXRpb24ub24oJ2NvbXBsZXRlJywgY29uZmlnLmNvbXBsZXRlKVxyXG4gICAgICAgICAgICBpZiAoY29uZmlnLnN0ZXApIGFuaW1hdGlvbi5vbignc3RlcCcsIGNvbmZpZy5zdGVwKVxyXG4gICAgICAgICAgICBhbmltYXRpb24ub24oJ2NvbXBsZXRlJywgKCkgPT4gdGhpcy5jaGVja1F1ZXVlKVxyXG4gICAgICAgIH0gZWxzZSBOREIubmVnYXRpdmUoJ0ludmFsaWQgYW5pbWF0aW9uIGNvbmZpZycsIHRoaXMpXHJcbiAgICAgICAgdGhpcy5jaGVja1F1ZXVlKClcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3AocHJvcD86IGtleW9mIEV4dHJhY3Q8TW9kZWwsIE5kTm9kZVN0eWxlUHJvcGVydHlBbmltYXRlZDxhbnksIGFueSwgYW55LCBhbnk+Pikge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5mb3JFYWNoKHYgPT4gdi5zdG9wKDxzdHJpbmc+cHJvcCkpXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0eWxlKHByb3A6IGtleW9mIE1vZGVsKTogTW9kZWxba2V5b2YgTW9kZWxdWydwdWJsaWNWYWx1ZSddXHJcbiAgICBzdHlsZTxLIGV4dGVuZHMga2V5b2YgTW9kZWw+KHByb3A6IEssIHZhbHVlPzpQYXJhbWV0ZXJzPE1vZGVsW0tdWydzZXQnXT5bMF0pOiBNb2RlbFtrZXlvZiBNb2RlbF1bJ3B1YmxpY1ZhbHVlJ11cclxuICAgIHN0eWxlKHByb3BzOiB7IFtQcm9wIGluIGtleW9mIE1vZGVsXT86IFBhcmFtZXRlcnM8TW9kZWxbUHJvcF1bJ3NldCddPlswXSB9KTogTm9kZTxNb2RlbD5cclxuICAgIHN0eWxlPEsgZXh0ZW5kcyBrZXlvZiBNb2RlbD4oXHJcbiAgICAgICAgcHJvcDogSyB8IHsgW1Byb3AgaW4ga2V5b2YgTW9kZWxdOiBQYXJhbWV0ZXJzPE1vZGVsW1Byb3BdWydzZXQnXT5bMF0gfSxcclxuICAgICAgICB2YWx1ZT86IFBhcmFtZXRlcnM8TW9kZWxba2V5b2YgTW9kZWxdWydzZXQnXT5bMF0pIHtcclxuICAgICAgICBpZiAodHlwZW9mIHByb3AgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIChPYmplY3Qua2V5cyhwcm9wKSBhcyBLW10pXHJcbiAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gdGhpcy5vcmRlci5pbmRleE9mKGEpIC0gdGhpcy5vcmRlci5pbmRleE9mKGIpKVxyXG4gICAgICAgICAgICAgICAgLmZvckVhY2goKGtleTogSykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wW2tleV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFba2V5XS5zZXQocHJvcFtrZXldLCB0aGlzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsRW1pdHRlci5lbWl0KDxzdHJpbmc+a2V5KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYodHlwZW9mIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVtwcm9wXS5zZXQodmFsdWUsIHRoaXMpXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsRW1pdHRlci5lbWl0KDxzdHJpbmc+cHJvcClcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtwcm9wXS5wdWJsaWNWYWx1ZVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIHdhdGNoKHByb3A6IGtleW9mIE1vZGVsIHwgKGtleW9mIE1vZGVsKVtdLCBjYWxsYmFjazogKCkgPT4gdm9pZCkge1xyXG4gICAgICAgIGlmIChwcm9wIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgcHJvcC5mb3JFYWNoKHYgPT4gdGhpcy5tb2RlbEVtaXR0ZXIub24oPHN0cmluZz52LCBjYWxsYmFjaykpXHJcbiAgICAgICAgfSBlbHNlIHRoaXMubW9kZWxFbWl0dGVyLm9uKDxzdHJpbmc+cHJvcCwgY2FsbGJhY2spXHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICB1bndhdGNoKHByb3A6IGtleW9mIE1vZGVsIHwgKGtleW9mIE1vZGVsKVtdLCBjYWxsYmFjazogKCkgPT4gdm9pZCkge1xyXG4gICAgICAgIGlmIChwcm9wIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgcHJvcC5mb3JFYWNoKHYgPT4gdGhpcy5tb2RlbEVtaXR0ZXIub2ZmKDxzdHJpbmc+diwgY2FsbGJhY2spKVxyXG4gICAgICAgIH0gZWxzZSB0aGlzLm1vZGVsRW1pdHRlci5vZmYoPHN0cmluZz5wcm9wLCBjYWxsYmFjaylcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5UcmVlQ29ubmVjdG9yLmlkXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGlkKGlkKSB7XHJcbiAgICAgICAgdGhpcy5UcmVlQ29ubmVjdG9yLnRyZWUucmVuYW1lKHRoaXMuaWQsIGlkKVxyXG4gICAgfVxyXG5cclxuICAgIGdldCB6KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlRyZWVDb25uZWN0b3IuelxyXG4gICAgfVxyXG5cclxuICAgIHNldCB6KHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5UcmVlQ29ubmVjdG9yLnRyZWUueih0aGlzLCB2YWx1ZSlcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYm94KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkJveC52YWx1ZS5jb250YWluZXJcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYm91bmRpbmdSZWN0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkJveC52YWx1ZS5zcHJpdGVcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGFyZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlRyZWVDb25uZWN0b3IucGFyZW50XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG1hdHJpeCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5NYXRyaXgudmFsdWVcclxuICAgIH1cclxuXHJcbiAgICBnZXQgd2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuQm94LnZhbHVlLmNvbnRhaW5lci5zaXplWzBdXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5Cb3gudmFsdWUuY29udGFpbmVyLnNpemVbMV1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgbGVmdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5Cb3gudmFsdWUuY29udGFpbmVyLnBvc2l0aW9uWzBdXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRvcCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5Cb3gudmFsdWUuY29udGFpbmVyLnBvc2l0aW9uWzFdXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGFuaW1hdGVkKCkge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuYW5pbWF0aW9ucy5sZW5ndGhcclxuICAgIH1cclxuXHJcbiAgICBwdXJnZUJveCgpIHtcclxuICAgICAgICB0aGlzLkJveC5wdXJnZSgpXHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdHJhbnNmb3JtQ29udGV4dChlbGVtZW50OiBOb2RlPGFueT4sIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgICAgIGNvbnRleHQudHJhbnNmb3JtLmFwcGx5KGNvbnRleHQsIGVsZW1lbnQubWF0cml4LmV4dHJhY3QoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGRyYXdMaW5lYXJQYXRoQmc8VCBleHRlbmRzIE5kTW9kQmcgJiBOZE1vZEZyZWVTdHJva2UgJiBOZE1vZEJhc2U+KFxyXG4gICAgICAgIHN0eWxlczogVCxcclxuICAgICAgICBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXHJcbiAgICAgICAgYXNzZW1ibGVyOiBOZE1vZGVBc3NlbWJsZXIpIHtcclxuICAgICAgICBpZiAoc3R5bGVzLnBhdGgucHJvdGVjdGVkVmFsdWUubGVuZ3RoID4gMSAmJiBzdHlsZXMuYmcucHJvdGVjdGVkVmFsdWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpXHJcbiAgICAgICAgICAgIE5vZGUuY2xpcEJlemllclBhdGgoc3R5bGVzLnBhdGgucHJvdGVjdGVkVmFsdWUsIGNvbnRleHQpXHJcbiAgICAgICAgICAgIE5vZGUuZHJhd0JnKHN0eWxlcywgY29udGV4dCwgYXNzZW1ibGVyKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZHJhd0JnPFQgZXh0ZW5kcyBOZE1vZEJnICYgTmRNb2RCYXNlPihcclxuICAgICAgICBzdHlsZXM6IFQsXHJcbiAgICAgICAgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxyXG4gICAgICAgIGFzc2VtYmxlcjogTmRNb2RlQXNzZW1ibGVyKSB7XHJcbiAgICAgICAgaWYgKHN0eWxlcy5iZy5wcm90ZWN0ZWRWYWx1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgc3R5bGVzLmJnLnByb3RlY3RlZFZhbHVlLmZvckVhY2goKHY6IE5kSW1hZ2UsIGtleTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXYubG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdi5vbmNlKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlbWJsZXIudXBkYXRlKCdiZycpXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSB2LmV4cG9ydCgpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmdXaWR0aCA9IHN0eWxlcy5iYWNrZ3JvdW5kU2l6ZU51bWVyaWMucHJvdGVjdGVkVmFsdWVba2V5XVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnSGVpZ2h0ID0gc3R5bGVzLmJhY2tncm91bmRTaXplTnVtZXJpYy5wcm90ZWN0ZWRWYWx1ZVtrZXldWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdQb3NpdGlvblggPSBzdHlsZXMuYmFja2dyb3VuZFBvc2l0aW9uTnVtZXJpYy5wcm90ZWN0ZWRWYWx1ZVtrZXldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdQb3NpdGlvblkgPSBzdHlsZXMuYmFja2dyb3VuZFBvc2l0aW9uTnVtZXJpYy5wcm90ZWN0ZWRWYWx1ZVtrZXldWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShiZ1Bvc2l0aW9uWCwgYmdQb3NpdGlvblkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgYmdXaWR0aCwgYmdIZWlnaHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGRyYXdQYXRoQmc8VCBleHRlbmRzIE5kTW9kQmcgJiBOZE1vZEZyZWVTdHJva2UgJiBOZE1vZEJhc2U+KFxyXG4gICAgICAgIHN0eWxlczogVCxcclxuICAgICAgICBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXHJcbiAgICAgICAgYXNzZW1ibGVyOiBOZE1vZGVBc3NlbWJsZXJcclxuICAgICkge1xyXG4gICAgICAgIHN0eWxlcy5pbnRlcnBvbGF0aW9uID9cclxuICAgICAgICAgICAgTm9kZS5kcmF3QmV6aWVyUGF0aEJnKHN0eWxlcywgY29udGV4dCwgYXNzZW1ibGVyKSA6XHJcbiAgICAgICAgICAgIE5vZGUuZHJhd0xpbmVhclBhdGhCZyhzdHlsZXMsIGNvbnRleHQsIGFzc2VtYmxlcilcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZHJhd0JlemllclBhdGhCZzxUIGV4dGVuZHMgTmRNb2RCZyAmIE5kTW9kRnJlZVN0cm9rZSAmIE5kTW9kQmFzZT4oXHJcbiAgICAgICAgc3R5bGVzOiBULFxyXG4gICAgICAgIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcclxuICAgICAgICBhc3NlbWJsZXI6IE5kTW9kZUFzc2VtYmxlclxyXG4gICAgKSB7XHJcbiAgICAgICAgY29udGV4dC5zYXZlKClcclxuICAgICAgICBOb2RlLmNsaXBCZXppZXJQYXRoKHN0eWxlcy5wYXRoLnByb3RlY3RlZFZhbHVlLCBjb250ZXh0LCB0cnVlKVxyXG4gICAgICAgIE5vZGUuZHJhd0JnKHN0eWxlcywgY29udGV4dCwgYXNzZW1ibGVyKVxyXG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNsaXBCZXppZXJQYXRoKFxyXG4gICAgICAgIHBhdGg6IE5kUGF0aEJlemllcixcclxuICAgICAgICBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXHJcbiAgICAgICAgc21vb3RoID0gZmFsc2UsXHJcbiAgICAgICAgY2xvc2VkID0gdHJ1ZVxyXG4gICAgKSB7XHJcbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBOb2RlLnJlZ2lzdGVyUGF0aChwYXRoLCBjb250ZXh0LCBzbW9vdGgsIGNsb3NlZClcclxuICAgICAgICAgICAgY29udGV4dC5jbGlwKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlZ2lzdGVyUGF0aChcclxuICAgICAgICBwYXRoOiBOZFBhdGhCZXppZXIsXHJcbiAgICAgICAgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxyXG4gICAgICAgIHNtb290aCA9IGZhbHNlLFxyXG4gICAgICAgIGNsb3NlZCA9IHRydWVcclxuICAgICkge1xyXG4gICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKVxyXG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhwYXRoWzBdWzBdLCBwYXRoWzBdWzFdKVxyXG4gICAgICAgICAgICBpZiAoc21vb3RoKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRoLmZvckVhY2goXHJcbiAgICAgICAgICAgICAgICAgICAgKHNlZ21lbnQ6IE5kU2VnbWVudEJlemllcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudFswXSA9PT0gc2VnbWVudFs0XSAmJiBzZWdtZW50WzFdID09PSBzZWdtZW50WzVdICYmIHNlZ21lbnRbMl0gPT09IHNlZ21lbnRbNl0gJiYgc2VnbWVudFszXSA9PT0gc2VnbWVudFs3XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oc2VnbWVudFsyXSwgc2VnbWVudFszXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyhzZWdtZW50WzRdLCBzZWdtZW50WzVdLCBzZWdtZW50WzZdLCBzZWdtZW50WzddLCBzZWdtZW50WzJdLCBzZWdtZW50WzNdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGF0aC5mb3JFYWNoKChzZWdtZW50OiBOZFNlZ21lbnRCZXppZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhzZWdtZW50WzJdLCBzZWdtZW50WzNdKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGNsb3NlZCkgY29udGV4dC5jbG9zZVBhdGgoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZHJhd0ZpbGw8VCBleHRlbmRzIE5kTW9kQmFzZSAmIE5kTW9kQmcgJiBOZE1vZEZyZWVTdHJva2U+KFxyXG4gICAgICAgIHN0eWxlczogVCxcclxuICAgICAgICBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBjb250ZXh0LnNhdmUoKVxyXG4gICAgICAgIGNvbnRleHQubGluZUNhcCA9IHN0eWxlcy5jYXAucHJvdGVjdGVkVmFsdWVcclxuICAgICAgICBOb2RlLnJlZ2lzdGVyUGF0aChzdHlsZXMucGF0aC5wcm90ZWN0ZWRWYWx1ZSwgY29udGV4dCwgISFzdHlsZXMuaW50ZXJwb2xhdGlvbiwgdHJ1ZSlcclxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHN0eWxlcy5maWxsLnByb3RlY3RlZFZhbHVlXHJcbiAgICAgICAgY29udGV4dC5maWxsKClcclxuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBkcmF3U3Ryb2tlPFQgZXh0ZW5kcyBOZE1vZEJhc2UgJiBOZE1vZEZyZWVTdHJva2U+KFxyXG4gICAgICAgIHN0eWxlczogVCxcclxuICAgICAgICBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBzdHlsZXMucGF0aC5wcm90ZWN0ZWRWYWx1ZS5mb3JFYWNoKFxyXG4gICAgICAgICAgICAoc2VnbWVudDogTmRTZWdtZW50QmV6aWVyLCBrZXk6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgW3gxLCB5MSwgeDIsIHkyLCBjeDEsIGN5MSwgY3gyLCBjeTJdID0gc2VnbWVudFxyXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlcy5zdHJva2VXaWR0aC5wcm90ZWN0ZWRWYWx1ZVtrZXldIDwgLjEpIGNvbnRleHQubW92ZVRvKHgyLCB5MilcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeDEsIHkxKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGVzLnN0cm9rZUNvbG9yLnByb3RlY3RlZFZhbHVlW2tleV1cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlcy5zdHJva2VXaWR0aC5wcm90ZWN0ZWRWYWx1ZVtrZXldXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHlsZXMuc3Ryb2tlU3R5bGUucHJvdGVjdGVkVmFsdWVba2V5XSlcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3R5bGVzLmludGVycG9sYXRpb24ucHJvdGVjdGVkVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKGN4MSwgY3kxLCBjeDIsIGN5MiwgeDIsIHkyKVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHgyLCB5MilcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXBwbHlCb3hBbmNob3IocG9zaXRpb246W3g6bnVtYmVyLHk6bnVtYmVyXSwgd2lkdGg6bnVtYmVyLCBoZWlnaHQ6bnVtYmVyLGRhdGE6TmRNb2RBbmNob3IpIHtcclxuICAgICAgICBpZiAoZGF0YS5hbmNob3IucHJvdGVjdGVkVmFsdWVbMF0gPT09ICdjZW50ZXInKSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uWzBdIC09IHdpZHRoIC8gMlxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGF0YS5hbmNob3IucHJvdGVjdGVkVmFsdWVbMF0gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgcG9zaXRpb25bMF0gLT0gd2lkdGhcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRhdGEuYW5jaG9yLnByb3RlY3RlZFZhbHVlWzFdID09PSAnbWlkZGxlJykge1xyXG4gICAgICAgICAgICBwb3NpdGlvblsxXS09IGhlaWdodCAvIDJcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRhdGEuYW5jaG9yLnByb3RlY3RlZFZhbHVlWzFdID09ICdib3R0b20nKSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uWzFdIC09IGhlaWdodFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQge05kTnVtZXJpY0FycmF5MmR9IGZyb20gJy4uLy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCB7TmRBcnJDb2xvciwgTmRDb2xvclN0ciwgTkRDcEFyciwgTmRQYXRoLCBOZFBhdGhCZXppZXIsIE5kUGVyY2VudFN0ciwgTmRTZWdtZW50QmV6aWVyfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgTmRTdHlsZXNQcm9wZXJ0eSBmcm9tICcuL05kTm9kZVN0eWxlUHJvcGVydHknO1xyXG5pbXBvcnQgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkIGZyb20gJy4vTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIE5kTm9kZVN0eWxlc01vZGVsIHtcclxuICAgIFtrZXk6IHN0cmluZ106IE5kU3R5bGVzUHJvcGVydHk8YW55LCBhbnksIGFueT4gfCBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQ8YW55LCBhbnksIGFueSwgYW55PlxyXG5cclxuICAgIHN0YXRpYyBkZWdUb1JhZCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlID4gMzYwKSB7XHJcbiAgICAgICAgICAgIHZhbHVlIC09IHZhbHVlICogTWF0aC5mbG9vcih2YWx1ZSAvIDM2MClcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZhbHVlIDwgMzYwKSB7XHJcbiAgICAgICAgICAgIHZhbHVlICs9IHZhbHVlICogTWF0aC5mbG9vcih2YWx1ZSAvIDM2MClcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlICogTWF0aC5QSSAvIDE4MFxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByYWRUb0RlZyh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlICogKDE4MCAvIE1hdGguUEkpXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG5vcm1hbGl6ZUNvbG9yKGNvbG9yOiBOZENvbG9yU3RyIHwgTmRBcnJDb2xvcik6IE5kQXJyQ29sb3Ige1xyXG4gICAgICAgIGlmICh0eXBlb2YgY29sb3IgPT0gJ3N0cmluZycpIGNvbG9yID0gTmROb2RlU3R5bGVzTW9kZWwuY29sb3JUb0FycmF5KGNvbG9yKVxyXG4gICAgICAgIGNvbG9yLm1hcCgodiwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPCAzKSB7XHJcbiAgICAgICAgICAgICAgICB2ID0gTWF0aC5yb3VuZCh2KTtcclxuICAgICAgICAgICAgICAgIGlmICh2ID4gMjU1KSByZXR1cm4gMjU1O1xyXG4gICAgICAgICAgICAgICAgaWYgKHYgPCAwKSByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodiA8IDApIHYgPSAwXHJcbiAgICAgICAgICAgICAgICBpZiAodiA+IDEpIHYgPSAxO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHYudG9GaXhlZCgyKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gY29sb3JcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY29sb3JUb0FycmF5KHZhbHVlOiBOZENvbG9yU3RyKTogTmRBcnJDb2xvciB7XHJcbiAgICAgICAgY29uc3QgdmFsdWVzID0gdmFsdWUubWF0Y2goL15yZ2JhXFwoKFtcXGQuXSspLChbXFxkLl0rKSwoW1xcZC5dKyksKFtcXGQuXSspXFwpJC8pXHJcbiAgICAgICAgcmV0dXJuIHZhbHVlcyA/IE5kTm9kZVN0eWxlc01vZGVsLm5vcm1hbGl6ZUNvbG9yKFtwYXJzZUludCh2YWx1ZXNbMV0pLCBwYXJzZUludCh2YWx1ZXNbMl0pLCBwYXJzZUludCh2YWx1ZXNbM10pLCBwYXJzZUZsb2F0KHZhbHVlc1s0XSldKSA6IFswLCAwLCAwLCAxXVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhcnJheVRvQ29sb3IodmFsdWU6IE5kQXJyQ29sb3IpOiBOZENvbG9yU3RyIHtcclxuICAgICAgICB2YWx1ZSA9IE5kTm9kZVN0eWxlc01vZGVsLm5vcm1hbGl6ZUNvbG9yKHZhbHVlKVxyXG4gICAgICAgIHJldHVybiAoYHJnYmEoJHt2YWx1ZVswXX0sJHt2YWx1ZVsxXX0sJHt2YWx1ZVsyXX0sJHt2YWx1ZVszXX0pYCBhcyBOZENvbG9yU3RyKVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRDb250cm9sUG9pbnRzKC4uLlt4MCwgeTAsIHgxLCB5MSwgeDIsIHkyLCB0XTogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0pOiBORENwQXJyIHtcclxuICAgICAgICBsZXQgZDAxID0gTWF0aC5zcXJ0KE1hdGgucG93KHgxIC0geDAsIDIpICsgTWF0aC5wb3coeTEgLSB5MCwgMikpLFxyXG4gICAgICAgICAgICBkMTIgPSBNYXRoLnNxcnQoTWF0aC5wb3coeDIgLSB4MSwgMikgKyBNYXRoLnBvdyh5MiAtIHkxLCAyKSksXHJcbiAgICAgICAgICAgIGZhID0gdCAqIGQwMSAvIChkMDEgKyBkMTIpLFxyXG4gICAgICAgICAgICBmYiA9IHQgKiBkMTIgLyAoZDAxICsgZDEyKSxcclxuICAgICAgICAgICAgcDF4ID0geDEgLSBmYSAqICh4MiAtIHgwKSxcclxuICAgICAgICAgICAgcDF5ID0geTEgLSBmYSAqICh5MiAtIHkwKSxcclxuICAgICAgICAgICAgcDJ4ID0geDEgKyBmYiAqICh4MiAtIHgwKSxcclxuICAgICAgICAgICAgcDJ5ID0geTEgKyBmYiAqICh5MiAtIHkwKTtcclxuICAgICAgICByZXR1cm4gW3AxeCwgcDF5LCBwMngsIHAyeV07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNvbnZlcnRDb21wbGV4UGF0aChwYXRoOiBOZFBhdGhCZXppZXIpOiBOZFBhdGgge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdDogTmRQYXRoID0gW107XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChbXHJcbiAgICAgICAgICAgICAgICBwYXRoW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgcGF0aFtpXVsxXVxyXG4gICAgICAgICAgICBdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHN0YXRpYyBjb252ZXJ0U2ltcGxlUGF0aCA9IGZ1bmN0aW9uIChwYXRoOiBOZFBhdGgsIGNsb3NlZDogYm9vbGVhbiA9IGZhbHNlKTogTmRQYXRoQmV6aWVyIHtcclxuICAgICAgICBpZiAocGF0aC5sZW5ndGggPCAyKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcGF0aCBsZW5ndGgnKVxyXG5cclxuICAgICAgICBjb25zdCByZXN1bHQ6IE5kUGF0aEJlemllciA9IFtdO1xyXG5cclxuICAgICAgICBwYXRoLmZvckVhY2goKHYsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gdlswXSwgeSA9IHZbMV07XHJcbiAgICAgICAgICAgIGNvbnN0IGJlemllclBvaW50OiBOZFNlZ21lbnRCZXppZXIgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF1cclxuICAgICAgICAgICAgaWYgKGtleSA8IHBhdGgubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgYmV6aWVyUG9pbnRbMF0gPSB4O1xyXG4gICAgICAgICAgICAgICAgYmV6aWVyUG9pbnRbMV0gPSB5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChrZXkgIT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXkgLSAxXVsyXSA9IHg7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5IC0gMV1bM10gPSB5O1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleSAtIDFdWzRdID0gcmVzdWx0W2tleSAtIDFdWzBdXHJcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5IC0gMV1bNV0gPSByZXN1bHRba2V5IC0gMV1bMV1cclxuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXkgLSAxXVs2XSA9IHg7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5IC0gMV1bN10gPSB5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJlemllclBvaW50KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmVzdWx0LnBvcCgpIC8vcmVtb3ZlIGV4dHJhIHBvaW50XHJcbiAgICAgICAgaWYgKGNsb3NlZCkge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVsyXSAhPT0gcmVzdWx0WzBdWzBdICYmIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bM10gIT09IHJlc3VsdFswXVsxXSkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW3Jlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bMl0sIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bM10sIHJlc3VsdFswXVswXSwgcmVzdWx0WzBdWzFdLCByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzJdLCByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzNdLCByZXN1bHRbMF1bMF0sIHJlc3VsdFswXVsxXV0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgc3RhdGljIGludGVycG9sYXRlKHBhdGg6IE5kUGF0aEJlemllciwgc21vb3RoaW5nOiBudW1iZXIsIGNsb3NlZDogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIHBhdGguZm9yRWFjaCgodiwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwcmV2OiBOZE51bWVyaWNBcnJheTJkLFxyXG4gICAgICAgICAgICAgICAgbWlkID0gW3ZbMF0sIHZbMV1dLFxyXG4gICAgICAgICAgICAgICAgbmV4dCA9IFt2WzJdLCB2WzNdXSxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xzOiBORENwQXJyO1xyXG5cclxuICAgICAgICAgICAgcHJldiA9IGtleSA9PT0gMCA/IGNsb3NlZCA/IFtwYXRoW3BhdGgubGVuZ3RoIC0gMV1bMF0scGF0aFtwYXRoLmxlbmd0aCAtIDFdWzFdXTogW21pZFswXSAtIChuZXh0WzBdIC0gbWlkWzBdKSwgbWlkWzFdIC0gKG5leHRbMV0gLSBtaWRbMF0pXSA6IFtwYXRoW2tleSAtIDFdWzBdLCBwYXRoW2tleSAtIDFdWzFdXVxyXG5cclxuICAgICAgICAgICAgY29udHJvbHMgPSBOZE5vZGVTdHlsZXNNb2RlbC5nZXRDb250cm9sUG9pbnRzKHByZXZbMF0sIHByZXZbMV0sIG1pZFswXSwgbWlkWzFdLCBuZXh0WzBdLCBuZXh0WzFdLCBzbW9vdGhpbmcpXHJcblxyXG4gICAgICAgICAgICBpZiAoa2V5ID09IDApIHtcclxuICAgICAgICAgICAgICAgIHBhdGhba2V5XVs0XSA9IGNvbnRyb2xzWzJdXHJcbiAgICAgICAgICAgICAgICBwYXRoW2tleV1bNV0gPSBjb250cm9sc1szXVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGF0aFtrZXkgLSAxXVs2XSA9IGNvbnRyb2xzWzBdXHJcbiAgICAgICAgICAgICAgICBwYXRoW2tleSAtIDFdWzddID0gY29udHJvbHNbMV1cclxuICAgICAgICAgICAgICAgIHZbNF0gPSBjb250cm9sc1syXVxyXG4gICAgICAgICAgICAgICAgdls1XSA9IGNvbnRyb2xzWzNdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGtleSA9PSBwYXRoLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgIHByZXYgPSBbcGF0aFtrZXldWzBdLCBwYXRoW2tleV1bMV1dO1xyXG4gICAgICAgICAgICAgICAgbWlkID0gW3BhdGhba2V5XVsyXSwgcGF0aFtrZXldWzNdXTtcclxuICAgICAgICAgICAgICAgIG5leHQgPSBjbG9zZWQgPyBbcGF0aFswXVsyXSwgcGF0aFswXVszXV0gOiBbbWlkWzBdICsgKHByZXZbMF0gLSBtaWRbMF0pLCBtaWRbMV0gKyAocHJldlswXSAtIG1pZFswXSldO1xyXG4gICAgICAgICAgICAgICAgY29udHJvbHMgPSBOZE5vZGVTdHlsZXNNb2RlbC5nZXRDb250cm9sUG9pbnRzKHByZXZbMF0sIHByZXZbMV0sIG1pZFswXSwgbWlkWzFdLCBuZXh0WzBdLCBuZXh0WzFdLCBzbW9vdGhpbmcpO1xyXG4gICAgICAgICAgICAgICAgdls2XSA9IGNvbnRyb2xzWzBdXHJcbiAgICAgICAgICAgICAgICB2WzddID0gY29udHJvbHNbMV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9O1xyXG5cclxuICAgIHN0YXRpYyBjb21wYXJlUGF0aHMocGF0aDE6IE5kUGF0aCB8IE5kUGF0aEJlemllciwgcGF0aDI6IE5kUGF0aCB8IE5kUGF0aEJlemllcik6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmIChwYXRoMS5sZW5ndGggIT09IHBhdGgyLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGxldCByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aDEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBwYXRoMVtpXS5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGgxW2ldW25dICE9PSBwYXRoMltpXVtuXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGV4dHJhY3RQZXJjZW50RnJhY3Rpb24odmFsdWU6IE5kUGVyY2VudFN0cikge1xyXG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKSAvIDEwMFxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzeW5jQXJyYXk8VCBleHRlbmRzIGFueVtdLCBLIGV4dGVuZHMga2V5b2YgVCwgViBleHRlbmRzIGFueVtdPihiYXNlOiBhbnlbXSwgYXJyYXk6IFQsIGZpbGxlcjogVikge1xyXG4gICAgICAgIGlmIChhcnJheS5sZW5ndGggPiBiYXNlLmxlbmd0aCkgYXJyYXkuc3BsaWNlKDAsIGJhc2UubGVuZ3RoKVxyXG4gICAgICAgIGlmIChhcnJheS5sZW5ndGggPCBiYXNlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhc2UubGVuZ3RoIC0gYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGFycmF5LnB1c2goZmlsbGVyLm1hcCgodmFsdWUsIGtleSkgPT4gdHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicgPyB2YWx1ZShpLCBrZXlcclxuICAgICAgICAgICAgICAgICkgOiB2YWx1ZSkpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTm9kZSBmcm9tICcuLi9Ob2RlJztcclxuXHJcbnR5cGUgZm9ya0FycmF5PFQsIFRydWUsIEZhbHNlPiA9IFQgZXh0ZW5kcyBhbnlbXSA/IFRydWUgOiBGYWxzZVxyXG50eXBlIE1vZGVsUHJvcGVydHlWYWx1ZUNhbGxiYWNrPFQ+ID0gKGl0ZW1JbmRleDogbnVtYmVyLCBpdGVtVmFsdWVJbmRleD86IG51bWJlcikgPT4gVFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZFN0eWxlc1Byb3BlcnR5PFN0b3JlVHlwZSwgR2V0VHlwZSwgU2V0VHlwZT4ge1xyXG4gICAgcHJpdmF0ZSBfdmFsdWU6IFN0b3JlVHlwZVxyXG4gICAgcHVibGljIHJlYWRvbmx5IGRlZmF1bHQ6IFN0b3JlVHlwZVxyXG4gICAgcHVibGljIHJlYWRvbmx5IG9yZGVyaW5nOiBudW1iZXIgPSAwXHJcbiAgICBwdWJsaWMgZ2V0OiAoKSA9PiBHZXRUeXBlXHJcbiAgICBwdWJsaWMgc2V0OiAodmFsdWU6IFNldFR5cGUsIGVsZW1lbnQ6IE5vZGU8YW55PikgPT4gU3RvcmVUeXBlID0gKCkgPT4gdGhpcy5fdmFsdWVcclxuICAgIHByaXZhdGUgdmFsdWU6IEdldFR5cGVcclxuXHJcbiAgICBnZXQgcHJvdGVjdGVkVmFsdWUoKTogU3RvcmVUeXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcHVibGljVmFsdWUoKTogR2V0VHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KClcclxuICAgIH1cclxuXHJcbiAgICBzeW5jPFQgZXh0ZW5kcyBTdG9yZVR5cGUgJiBhbnlbXSwgSyBleHRlbmRzIGtleW9mIFQgJiBudW1iZXIsIE0gZXh0ZW5kcyBrZXlvZiBUW0tdICYgbnVtYmVyPlxyXG4gICAgKG1vZGVsOiBhbnlbXSwgZmlsbGVyOiBUW0tdIHwgZm9ya0FycmF5PFRbS10sIE1vZGVsUHJvcGVydHlWYWx1ZUNhbGxiYWNrPFRbS11bTV0+W10sIE1vZGVsUHJvcGVydHlWYWx1ZUNhbGxiYWNrPFRbS10+Pikge1xyXG4gICAgICAgIGlmICh0aGlzLl92YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl92YWx1ZS5sZW5ndGggPiBtb2RlbC5sZW5ndGgpIHRoaXMuX3ZhbHVlLnNwbGljZSgwLCBtb2RlbC5sZW5ndGgpXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl92YWx1ZS5sZW5ndGggPCBtb2RlbC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBtb2RlbC5sZW5ndGggLSB0aGlzLl92YWx1ZS5sZW5ndGhcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlmZjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsZXIgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZS5wdXNoKGZpbGxlcihpKSlcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihmaWxsZXIgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUucHVzaChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsZXIubWFwKCh2YWx1ZTogVFtLXSwga2V5OiBudW1iZXIpID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlKGksIGtleSkgOiB2YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlLnB1c2goZmlsbGVyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIG9yZGVyOiBudW1iZXIsXHJcbiAgICAgICAgaW5pdGlhbDogU3RvcmVUeXBlLFxyXG4gICAgICAgIGdldDogKGN1cnJlbnQ6IFN0b3JlVHlwZSkgPT4gR2V0VHlwZSxcclxuICAgICAgICBzZXQ/OiAodmFsdWU6IFNldFR5cGUsIGVsZW1lbnQ6IE5vZGU8YW55PikgPT4gU3RvcmVUeXBlKSB7XHJcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBpbml0aWFsXHJcbiAgICAgICAgdGhpcy5kZWZhdWx0ID0gaW5pdGlhbFxyXG4gICAgICAgIHRoaXMub3JkZXJpbmcgPSBvcmRlclxyXG4gICAgICAgIHRoaXMudmFsdWUgPSBnZXQodGhpcy5fdmFsdWUpXHJcbiAgICAgICAgdGhpcy5nZXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBnZXQodGhpcy5fdmFsdWUpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoc2V0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0ID0gKHZhbHVlOiBTZXRUeXBlLCBlbGVtZW50OiBOb2RlPGFueT4pID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gc2V0KHZhbHVlLCBlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBnZXQodGhpcy5fdmFsdWUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge05kU3R5bGVQcm9wQW5pbWF0ZWRBcHBsaWVyLCBOZFN0eWxlUHJvcEFuaW1hdGVkU3RhcnRlcn0gZnJvbSAnLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5kU3R5bGVzUHJvcGVydHkgZnJvbSAnLi9OZE5vZGVTdHlsZVByb3BlcnR5JztcclxuaW1wb3J0IE5vZGUgZnJvbSAnLi4vTm9kZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQ8U3RvcmVUeXBlLCBHZXRUeXBlLCBTZXRUeXBlLCBBbmlUeXBlIGV4dGVuZHMgU2V0VHlwZSxcclxuICAgIEVsZW1lbnQgZXh0ZW5kcyBOb2RlPGFueT4gPSBOb2RlPGFueT4+XHJcbiAgICBleHRlbmRzIE5kU3R5bGVzUHJvcGVydHk8U3RvcmVUeXBlLCBHZXRUeXBlLCBTZXRUeXBlPiB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHN0YXJ0ZXI6IE5kU3R5bGVQcm9wQW5pbWF0ZWRTdGFydGVyPFNldFR5cGUsIEdldFR5cGUsIEFuaVR5cGU+O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBhcHBsaWVyOiBOZFN0eWxlUHJvcEFuaW1hdGVkQXBwbGllcjxBbmlUeXBlLCBFbGVtZW50PjtcclxuICAgIHByaXZhdGUgX3N0YXJ0PzogQW5pVHlwZSB8IGZhbHNlID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIF9lbmQ/OiBBbmlUeXBlIHwgZmFsc2UgPSBmYWxzZTtcclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgb3JkZXI6IG51bWJlcixcclxuICAgICAgICBpbml0aWFsOiBTdG9yZVR5cGUsXHJcbiAgICAgICAgZ2V0dGVyOiAoY3VycmVudDogU3RvcmVUeXBlKSA9PiBHZXRUeXBlLFxyXG4gICAgICAgIHNldHRlcjogKHZhbHVlOiBTZXRUeXBlLCBlbGVtZW50OiBOb2RlPGFueT4pID0+IFN0b3JlVHlwZSxcclxuICAgICAgICBzdGFydGVyOiBOZFN0eWxlUHJvcEFuaW1hdGVkU3RhcnRlcjxTZXRUeXBlLCBHZXRUeXBlLCBBbmlUeXBlPixcclxuICAgICAgICBhcHBsaWVyOiBOZFN0eWxlUHJvcEFuaW1hdGVkQXBwbGllcjxBbmlUeXBlLCBFbGVtZW50Pikge1xyXG4gICAgICAgIHN1cGVyKG9yZGVyLCBpbml0aWFsLCBnZXR0ZXIsIHNldHRlcilcclxuICAgICAgICB0aGlzLnN0YXJ0ZXIgPSBzdGFydGVyO1xyXG4gICAgICAgIHRoaXMuYXBwbGllciA9IGFwcGxpZXJcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc3RhcnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXQgc3RhcnQodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9zdGFydCA9IHZhbHVlXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVuZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5kXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRTdGFydFZhbHVlKHZhbDogQW5pVHlwZSkge1xyXG4gICAgICAgIHRoaXMuc3RhcnQgPSB2YWxcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldEVuZFZhbHVlKHZhbDogQW5pVHlwZSkge1xyXG4gICAgICAgIHRoaXMuX2VuZCA9IHZhbFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpbml0KHZhbHVlOiBTZXRUeXBlKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydGVyKHRoaXMuZ2V0KCksIHZhbHVlLCB0aGlzLnNldFN0YXJ0VmFsdWUuYmluZCh0aGlzKSwgdGhpcy5zZXRFbmRWYWx1ZS5iaW5kKHRoaXMpKVxyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFwcGx5KGVsZW1lbnQ6IEVsZW1lbnQsIHByb2dyZXNzOiBudW1iZXIsIHZhbHVlOiBBbmlUeXBlKSB7XHJcbiAgICAgICAgdmFsdWUgPSB0aGlzLmFwcGxpZXIodmFsdWUsIGVsZW1lbnQsIHByb2dyZXNzKVxyXG4gICAgICAgIHRoaXMuc2V0KHZhbHVlLCBlbGVtZW50KVxyXG4gICAgICAgIHJldHVybiB0aGlzLnB1YmxpY1ZhbHVlXHJcbiAgICB9XHJcblxyXG5cclxufSIsImltcG9ydCB7TmROdW1lcmljQXJyYXkyZH0gZnJvbSAnLi4vLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IHtOZEJsZW5kLCBOZENhcH0gZnJvbSAnLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5kTm9kZVN0eWxlc01vZGVsIGZyb20gJy4uL2NsYXNzZXMvTmROb2RlU3R5bGVzTW9kZWwnO1xyXG5pbXBvcnQgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkIGZyb20gJy4uL2NsYXNzZXMvTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkJztcclxuaW1wb3J0IE5kU3R5bGVzUHJvcGVydHkgZnJvbSAnLi4vY2xhc3Nlcy9OZE5vZGVTdHlsZVByb3BlcnR5JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kTW9kQmFzZSBleHRlbmRzIE5kTm9kZVN0eWxlc01vZGVsIHtcclxuXHJcbiAgICBwb3NpdGlvbiA9IG5ldyBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQ8TmROdW1lcmljQXJyYXkyZCwgTmROdW1lcmljQXJyYXkyZCwgbnVtYmVyIHwgTmROdW1lcmljQXJyYXkyZCwgTmROdW1lcmljQXJyYXkyZD4oXHJcbiAgICAgICAgMixcclxuICAgICAgICBbMCwgMF0sXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IFsuLi5jdXJyZW50XSxcclxuICAgICAgICAodmFsdWUpID0+IHZhbHVlIGluc3RhbmNlb2YgQXJyYXkgPyBbLi4udmFsdWVdIDogW3ZhbHVlLCB2YWx1ZV0sXHJcbiAgICAgICAgKGN1cnJlbnQsIHZhbHVlLCBzZXRTdGFydCwgc2V0RW5kKSA9PiB7XHJcbiAgICAgICAgICAgIHNldFN0YXJ0KGN1cnJlbnQpXHJcbiAgICAgICAgICAgIHNldEVuZCh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInID8gW3ZhbHVlLCB2YWx1ZV0gOiBbdmFsdWVbMF0sIHZhbHVlWzFdXSlcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLCB2YWx1ZVsxXV1cclxuICAgICAgICB9XHJcbiAgICApXHJcblxyXG4gICAgc2NhbGUgPSBuZXcgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkPE5kTnVtZXJpY0FycmF5MmQsIE5kTnVtZXJpY0FycmF5MmQsIG51bWJlciB8IE5kTnVtZXJpY0FycmF5MmQsIE5kTnVtZXJpY0FycmF5MmQ+KFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgWzEsIDFdLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiBbLi4uY3VycmVudF0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5ID8gWy4uLnZhbHVlXSA6IFt2YWx1ZSwgdmFsdWVdLFxyXG4gICAgICAgIChjdXJyZW50LCB2YWx1ZSwgc2V0U3RhcnQsIHNldEVuZCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRTdGFydChjdXJyZW50KTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgIHNldEVuZChbdmFsdWUsIHZhbHVlXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVbMF0gPCAwKSB2YWx1ZVswXSA9IDBcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZVsxXSA8IDApIHZhbHVlWzFdID0gMFxyXG4gICAgICAgICAgICAgICAgc2V0RW5kKFt2YWx1ZVswXSwgdmFsdWVbMV1dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBbdmFsdWVbMF0sIHZhbHVlWzFdXVxyXG4gICAgICAgIH1cclxuICAgIClcclxuXHJcbiAgICByb3RhdGUgPSBuZXcgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkPG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcj4oXHJcbiAgICAgICAgMCxcclxuICAgICAgICAwLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiBOZE5vZGVTdHlsZXNNb2RlbC5yYWRUb0RlZyhjdXJyZW50KSxcclxuICAgICAgICAodmFsdWUpID0+IE5kTm9kZVN0eWxlc01vZGVsLmRlZ1RvUmFkKHZhbHVlKSxcclxuICAgICAgICAoY3VycmVudCwgdmFsdWUsIHNldFN0YXJ0LCBzZXRFbmQpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHNldFN0YXJ0KGN1cnJlbnQpO1xyXG4gICAgICAgICAgICBzZXRFbmQodmFsdWUpXHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG5cclxuICAgIHRyYW5zbGF0ZSA9IG5ldyBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQ8TmROdW1lcmljQXJyYXkyZCwgTmROdW1lcmljQXJyYXkyZCwgbnVtYmVyIHwgTmROdW1lcmljQXJyYXkyZCwgTmROdW1lcmljQXJyYXkyZD4oXHJcbiAgICAgICAgMCxcclxuICAgICAgICBbMCwgMF0sXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IFsuLi5jdXJyZW50XSxcclxuICAgICAgICAodmFsdWUpID0+IHZhbHVlIGluc3RhbmNlb2YgQXJyYXkgPyBbLi4udmFsdWVdIDogW3ZhbHVlLCB2YWx1ZV0sXHJcbiAgICAgICAgKGN1cnJlbnQsIHZhbHVlLCBzZXRTdGFydCwgc2V0RW5kKSA9PiB7XHJcbiAgICAgICAgICAgIHNldFN0YXJ0KGN1cnJlbnQpXHJcbiAgICAgICAgICAgIHNldEVuZCh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInID8gW3ZhbHVlLCB2YWx1ZV0gOiBbdmFsdWVbMF0sIHZhbHVlWzFdXSlcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLCB2YWx1ZVsxXV1cclxuICAgICAgICB9XHJcbiAgICApXHJcblxyXG4gICAgc2tldyA9IG5ldyBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQ8TmROdW1lcmljQXJyYXkyZCwgTmROdW1lcmljQXJyYXkyZCwgbnVtYmVyIHwgTmROdW1lcmljQXJyYXkyZCwgTmROdW1lcmljQXJyYXkyZD4oXHJcbiAgICAgICAgMCxcclxuICAgICAgICBbMCwgMF0sXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IFtOZE5vZGVTdHlsZXNNb2RlbC5yYWRUb0RlZyhjdXJyZW50WzBdKSwgTmROb2RlU3R5bGVzTW9kZWwucmFkVG9EZWcoY3VycmVudFsxXSldLFxyXG4gICAgICAgICh2YWx1ZSkgPT4gdmFsdWUgaW5zdGFuY2VvZiBBcnJheSA/IFtOZE5vZGVTdHlsZXNNb2RlbC5kZWdUb1JhZCh2YWx1ZVswXSksIE5kTm9kZVN0eWxlc01vZGVsLmRlZ1RvUmFkKHZhbHVlWzFdKV0gOiBbTmROb2RlU3R5bGVzTW9kZWwuZGVnVG9SYWQodmFsdWUpLCBOZE5vZGVTdHlsZXNNb2RlbC5kZWdUb1JhZCh2YWx1ZSldLFxyXG4gICAgICAgIChjdXJyZW50LCB2YWx1ZSwgc2V0U3RhcnQsIHNldEVuZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB2YWx1ZSA9IFt2YWx1ZSwgdmFsdWVdXHJcbiAgICAgICAgICAgIHNldFN0YXJ0KGN1cnJlbnQpXHJcbiAgICAgICAgICAgIHNldEVuZChbdmFsdWVbMF0sIHZhbHVlWzFdXSlcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9XHJcbiAgICApXHJcblxyXG4gICAgb3BhY2l0eSA9IG5ldyBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQ8bnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyPihcclxuICAgICAgICAwLFxyXG4gICAgICAgIDEsXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IGN1cnJlbnQsXHJcbiAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA+IDEpIHJldHVybiAxXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHJldHVybiAwO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIChjdXJyZW50LCB2YWx1ZSwgc2V0U3RhcnQsIHNldEVuZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA+IDEpIHZhbHVlID0gMTtcclxuICAgICAgICAgICAgc2V0U3RhcnQoY3VycmVudClcclxuICAgICAgICAgICAgc2V0RW5kKHZhbHVlKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID4gMSkgdmFsdWUgPSAxO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9XHJcbiAgICApXHJcblxyXG4gICAgb3JpZ2luID0gbmV3IE5kTm9kZVN0eWxlUHJvcGVydHlBbmltYXRlZDxOZE51bWVyaWNBcnJheTJkLCBOZE51bWVyaWNBcnJheTJkLCBudW1iZXIgfCBOZE51bWVyaWNBcnJheTJkLCBOZE51bWVyaWNBcnJheTJkPihcclxuICAgICAgICAwLFxyXG4gICAgICAgIFsuNSwgLjVdLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiBbLi4uY3VycmVudF0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5ID8gWy4uLnZhbHVlXSA6IFt2YWx1ZSwgdmFsdWVdLFxyXG4gICAgICAgIChjdXJyZW50LCB2YWx1ZSwgc2V0U3RhcnQsIHNldEVuZCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRTdGFydChjdXJyZW50KVxyXG4gICAgICAgICAgICBzZXRFbmQodHlwZW9mIHZhbHVlID09ICdudW1iZXInID8gW3ZhbHVlLCB2YWx1ZV0gOiBbdmFsdWVbMF0sIHZhbHVlWzFdXSlcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gW3ZhbHVlWzBdLCB2YWx1ZVsxXV1cclxuICAgICAgICB9XHJcbiAgICApXHJcblxyXG4gICAgY2FwID0gbmV3IE5kU3R5bGVzUHJvcGVydHk8TmRDYXAsIE5kQ2FwLCBOZENhcD4oXHJcbiAgICAgICAgMixcclxuICAgICAgICAnYnV0dCcsXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IGN1cnJlbnQsXHJcbiAgICAgICAgKHZhbHVlKSA9PiB2YWx1ZVxyXG4gICAgKVxyXG5cclxuICAgIGJsZW5kaW5nID0gbmV3IE5kU3R5bGVzUHJvcGVydHk8TmRCbGVuZCwgTmRCbGVuZCwgTmRCbGVuZD4oXHJcbiAgICAgICAgMCxcclxuICAgICAgICAnc291cmNlLW92ZXInLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiBjdXJyZW50LFxyXG4gICAgICAgICh2YWx1ZSkgPT4gdmFsdWVcclxuICAgIClcclxuXHJcbn0iLCJpbXBvcnQge05kTnVtZXJpY0FycmF5MmR9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZEJveCB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGFpbmVyOiB7IHNpemU6IE5kTnVtZXJpY0FycmF5MmQsIHBvc2l0aW9uOiBOZE51bWVyaWNBcnJheTJkIH0gPSB7XHJcbiAgICAgICAgc2l6ZTogWzAsIDBdLFxyXG4gICAgICAgIHBvc2l0aW9uOiBbMCwgMF1cclxuICAgIH1cclxuICAgIHB1YmxpYyByZWFkb25seSBzcHJpdGU6e21hcmdpbjpbbnVtYmVyLG51bWJlcixudW1iZXIsbnVtYmVyXSxwb3NpdGlvbjpOZE51bWVyaWNBcnJheTJkLHNpemU6TmROdW1lcmljQXJyYXkyZH0gPSB7XHJcbiAgICAgICAgbWFyZ2luOiBbMCwgMCwgMCwgMF0sXHJcbiAgICAgICAgcG9zaXRpb246IFswLCAwXSxcclxuICAgICAgICBzaXplOiBbMCwgMF1cclxuICAgIH07XHJcblxyXG4gICAgdmFsdWUoeDogbnVtYmVyLCB5OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBtYXJnaW5Ub3A6IG51bWJlciwgbWFyZ2luUmlnaHQ6IG51bWJlciwgbWFyZ2luQm90dG9tOiBudW1iZXIsIG1hcmdpbkxlZnQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNpemVbMF0gPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zaXplWzFdID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnBvc2l0aW9uWzBdID0geDtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5wb3NpdGlvblsxXSA9IHk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUubWFyZ2luWzBdID0gbWFyZ2luVG9wO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLm1hcmdpblsxXSA9IG1hcmdpblJpZ2h0O1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLm1hcmdpblsyXSA9IG1hcmdpbkJvdHRvbTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5tYXJnaW5bM10gPSBtYXJnaW5MZWZ0O1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNpemVbMF0gPSBtYXJnaW5MZWZ0ICsgd2lkdGggKyBtYXJnaW5SaWdodDtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zaXplWzFdID0gbWFyZ2luVG9wICsgaGVpZ2h0ICsgbWFyZ2luQm90dG9tO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnBvc2l0aW9uWzBdID0geCAtIG1hcmdpbkxlZnQ7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUucG9zaXRpb25bMV0gPSB5IC0gbWFyZ2luVG9wO1xyXG4gICAgfVxyXG5cclxuICAgIC8vY29tcHV0ZUJveCAuZ2V0KCkgdXNlZCB0byByZXR1cm4gY29udGFpbmVyIHByb3BcclxufSIsImltcG9ydCBOZEJveCBmcm9tICcuLi8uLi9jbGFzc2VzL05kQm94JztcclxuaW1wb3J0IE5vZGUgZnJvbSAnLi4vTm9kZSc7XHJcbmltcG9ydCBOZENhY2hlIGZyb20gJy4uLy4uL2NsYXNzZXMvTmRDYWNoZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZE5vZGVCb3gge1xyXG4gICAgcHJpdmF0ZSBib3g6IE5kQm94XHJcbiAgICBwcml2YXRlIGdldHRlcjogKCkgPT4gTmRCb3hcclxuICAgIHB1YmxpYyBwdXJnZTogKCkgPT4gdm9pZFxyXG5cclxuICAgIGdldCB2YWx1ZSgpOiBOZEJveCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0dGVyKClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50OiBOb2RlPGFueT4sIENhY2hlOiBOZENhY2hlLCBib3hHZXR0ZXI6IChlOiB0eXBlb2YgZWxlbWVudCkgPT4gUGFyYW1ldGVyczxOZEJveFsndmFsdWUnXT4pIHtcclxuICAgICAgICB0aGlzLmJveCA9IG5ldyBOZEJveCgpXHJcbiAgICAgICAgY29uc3Qge2dldHRlciwgcHVyZ2V9ID0gQ2FjaGUucmVnaXN0ZXI8TmRCb3g+KCdib3gnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYm94LnZhbHVlLmFwcGx5KHRoaXMuYm94LCBib3hHZXR0ZXIoZWxlbWVudCkpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJveFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5nZXR0ZXIgPSBnZXR0ZXJcclxuICAgICAgICB0aGlzLnB1cmdlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBwdXJnZSgpO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5wYXJlbnQpIGVsZW1lbnQucGFyZW50LnB1cmdlQm94KClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTm9kZSBmcm9tICcuL05vZGUnO1xyXG5pbXBvcnQgTmRNb2RCYXNlIGZyb20gJy4vbW9kZWxzL05kTW9kQmFzZSc7XHJcbmltcG9ydCBOZE5vZGVCb3ggZnJvbSAnLi9jbGFzc2VzL05kTm9kZUJveCc7XHJcbmltcG9ydCB7TmROdW1lcmljQXJyYXkyZH0gZnJvbSAnLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5vZGFzIGZyb20gJy4uLy4uL05vZGFzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyb3VwIGV4dGVuZHMgTm9kZTxOZE1vZEJhc2U+IHtcclxuICAgIHByb3RlY3RlZCBCb3g6IE5kTm9kZUJveCA9IG5ldyBOZE5vZGVCb3godGhpcywgdGhpcy5DYWNoZSwgKCkgPT4ge1xyXG4gICAgICAgIGxldCBtaW5YID0gSW5maW5pdHksXHJcbiAgICAgICAgICAgIG1pblkgPSBJbmZpbml0eSxcclxuICAgICAgICAgICAgbWF4WSA9IC1JbmZpbml0eSxcclxuICAgICAgICAgICAgbWF4WCA9IC1JbmZpbml0eVxyXG5cclxuICAgICAgICB0aGlzLlRyZWVDb25uZWN0b3IuZm9yRWFjaExheWVyKChlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IGUuYm94XHJcbiAgICAgICAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCBib3gucG9zaXRpb25bMF0pXHJcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBib3gucG9zaXRpb25bMV0pXHJcbiAgICAgICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCBib3gucG9zaXRpb25bMF0gKyBib3guc2l6ZVswXSlcclxuICAgICAgICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIGJveC5wb3NpdGlvblsxXSArIGJveC5zaXplWzFdKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGlmICghaXNGaW5pdGUobWluWCkpIG1pblggPSAwO1xyXG4gICAgICAgIGlmICghaXNGaW5pdGUobWF4WCkpIG1heFggPSAwO1xyXG4gICAgICAgIGlmICghaXNGaW5pdGUobWluWSkpIG1pblkgPSAwO1xyXG4gICAgICAgIGlmICghaXNGaW5pdGUobWF4WSkpIG1heFkgPSAwO1xyXG5cclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBtaW5YICsgdGhpcy5kYXRhLnBvc2l0aW9uLmdldCgpWzBdLFxyXG4gICAgICAgICAgICBtaW5ZICsgdGhpcy5kYXRhLnBvc2l0aW9uLmdldCgpWzFdLFxyXG4gICAgICAgICAgICBtYXhYIC0gbWluWCxcclxuICAgICAgICAgICAgbWF4WSAtIG1pblksXHJcbiAgICAgICAgICAgIDAsIDAsIDAsIDBcclxuICAgICAgICBdXHJcbiAgICB9KTtcclxuICAgIHByb3RlY3RlZCByZW5kZXI6IE5vZGU8TmRNb2RCYXNlPlsncmVuZGVyJ11cclxuICAgIHByb3RlY3RlZCB0ZXN0OiBOb2RlPE5kTW9kQmFzZT5bJ3Rlc3QnXVxyXG4gICAgZXhwb3J0OiBOb2RlPE5kTW9kQmFzZT5bJ2V4cG9ydCddID0gKCkgPT4gdW5kZWZpbmVkXHJcblxyXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgYXBwOiBOb2Rhcykge1xyXG4gICAgICAgIHN1cGVyKGlkLCBuZXcgTmRNb2RCYXNlKCksIGFwcCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIgPSAoY29udGV4dCwgZGF0ZSwgZnJhbWUpID0+IHtcclxuICAgICAgICAgICAgTm9kZS50cmFuc2Zvcm1Db250ZXh0KHRoaXMsIGNvbnRleHQpXHJcbiAgICAgICAgICAgIHRoaXMuVHJlZUNvbm5lY3Rvci5mb3JFYWNoTGF5ZXIoKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGFwcC5UcmVlLmNvbXBpbGUoZSwgY29udGV4dCwgZGF0ZSwgZnJhbWUpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudGVzdCA9IChjdXJzb3I6IE5kTnVtZXJpY0FycmF5MmQpID0+IHtcclxuICAgICAgICAgICAgbGV0IHJlc3VsdDogTm9kZTxhbnk+IHwgZmFsc2UgPSBmYWxzZVxyXG4gICAgICAgICAgICB0aGlzLlRyZWVDb25uZWN0b3IuZm9yRWFjaExheWVyKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFwcC5Nb3VzZS5jaGVja05vZGUoZSwgY3Vyc29yKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3JFYWNoQ2hpbGQoY2I6IChlOk5vZGU8YW55PikgPT4gdm9pZCkge1xyXG4gICAgICAgIHRoaXMuVHJlZUNvbm5lY3Rvci5mb3JFYWNoTGF5ZXIoY2IpXHJcbiAgICB9XHJcblxyXG4gICAgYXBwZW5kKG5vZGU6IE5vZGU8YW55PiB8IE5vZGU8YW55PltdKSB7XHJcbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICBub2RlLmZvckVhY2godiA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlRyZWVDb25uZWN0b3IudHJlZS5hcHBlbmQodGhpcywgdi5pZClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLlRyZWVDb25uZWN0b3IudHJlZS5hcHBlbmQodGhpcywgbm9kZS5pZClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbn0iLCJpbXBvcnQgTm9kZSBmcm9tICcuLi9Ob2RlJztcclxuaW1wb3J0IEdyb3VwIGZyb20gJy4uL0dyb3VwJztcclxuaW1wb3J0IE5vZGVzIGZyb20gJy4uLy4uL05vZGVzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kTm9kZUNvbm5lY3RvciB7XHJcbiAgICBwcml2YXRlIF9wYXJlbnQ6IEdyb3VwIHwgbnVsbCA9IG51bGxcclxuICAgIHByaXZhdGUgX2xheWVyczogeyBba2V5OiBudW1iZXJdOiBOb2RlPGFueT5bXSB9ID0ge31cclxuICAgIHByaXZhdGUgX2xheWVyOiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBfaWRlbnRpZmllcjogc3RyaW5nO1xyXG4gICAgcmVhZG9ubHkgdHJlZTogTm9kZXNcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCB0cmVlOiBOb2Rlcykge1xyXG4gICAgICAgIHRoaXMuX2lkZW50aWZpZXIgPSBpZDtcclxuICAgICAgICB0aGlzLnRyZWUgPSB0cmVlXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHooKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xheWVyXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHoodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9sYXllciA9IHZhbHVlXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBhcmVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHBhcmVudCh2YWx1ZTogR3JvdXAgfCBudWxsKSB7XHJcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gdmFsdWVcclxuICAgIH1cclxuXHJcbiAgICBzZXQgaWQoaWQ6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuX2lkZW50aWZpZXIgPSBpZFxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZGVudGlmaWVyXHJcbiAgICB9XHJcblxyXG4gICAgZm9yRWFjaExheWVyKGNhbGxiYWNrOiAoZTogTm9kZTxhbnk+LCBpbmRleDogbnVtYmVyLCBsYXllcjogbnVtYmVyKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgZm9yIChsZXQgbGF5ZXIgaW4gdGhpcy5fbGF5ZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xheWVyc1tsYXllcl0uZm9yRWFjaCgoZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGUsIGluZGV4LCBwYXJzZUludChsYXllcikpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHpDaGlsZChlbGVtZW50OiBOb2RlPGFueT4sIHo6IG51bWJlciwgcHJlcGVuZD86IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2xheWVyc1t6XSkgdGhpcy5fbGF5ZXJzW3pdID0gW11cclxuICAgICAgICBwcmVwZW5kID8gdGhpcy5fbGF5ZXJzW3pdLnVuc2hpZnQoZWxlbWVudCkgOiB0aGlzLl9sYXllcnNbel0ucHVzaChlbGVtZW50KVxyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUNoaWxkKGVsZW1lbnQ6IE5vZGU8YW55PiwgejpudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9sYXllcnNbel0gPSB0aGlzLl9sYXllcnNbel0uZmlsdGVyKHYgPT4gdiAhPT0gZWxlbWVudClcclxuICAgICAgICBpZighdGhpcy5fbGF5ZXJzW3pdLmxlbmd0aCkgZGVsZXRlIHRoaXMuX2xheWVyc1t6XVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IEdyb3VwIGZyb20gJy4vTm9kZXMvR3JvdXAnO1xyXG5pbXBvcnQgTmROb2RlQ29ubmVjdG9yIGZyb20gJy4vTm9kZXMvY2xhc3Nlcy9OZE5vZGVDb25uZWN0b3InO1xyXG5pbXBvcnQge05kQ2FudmFzQ29udGV4dCwgTmRNYWluRHJhd2luZ1BpcGVGfSBmcm9tICcuL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBDYW52YXMgZnJvbSAnLi9DYW52YXMnO1xyXG5pbXBvcnQgTm9kZSBmcm9tICcuL05vZGVzL05vZGUnXHJcbmltcG9ydCB7TkRCfSBmcm9tICcuL1NlcnZpY2VzL05vZGFzRGVidWcnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm9kZXMge1xyXG4gICAgcHJpdmF0ZSBfcm9vdDoge1xyXG4gICAgICAgIGVsZW1lbnQ/OiBHcm91cCxcclxuICAgICAgICByZW5kZXI/OiBOZE1haW5EcmF3aW5nUGlwZUZcclxuICAgICAgICBjb25uZWN0b3I/OiBOZE5vZGVDb25uZWN0b3JcclxuICAgIH0gPSB7fVxyXG4gICAgcHJpdmF0ZSBjbGVhciA9IGZhbHNlXHJcbiAgICBwcml2YXRlIGlkcyA9IG5ldyBTZXQ8c3RyaW5nPigpXHJcbiAgICBwcml2YXRlIGVsZW1lbnRzOiB7XHJcbiAgICAgICAgW2tleTogc3RyaW5nXToge1xyXG4gICAgICAgICAgICBlbGVtZW50OiBOb2RlPGFueT5cclxuICAgICAgICAgICAgcmVuZGVyOiBOZE1haW5EcmF3aW5nUGlwZUYsXHJcbiAgICAgICAgICAgIGNvbm5lY3RvcjogTmROb2RlQ29ubmVjdG9yXHJcbiAgICAgICAgfVxyXG4gICAgfSA9IHt9XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3Tm9kZVRyZWU6IChjb250ZXh0OiBOZENhbnZhc0NvbnRleHQsIGRhdGU6IERhdGUsIGZyYW1lOiBudW1iZXIpID0+IHZvaWQgPSAoY29udGV4dCwgZGF0ZSwgZnJhbWUpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuX3Jvb3QuZWxlbWVudCB8fCAhY29udGV4dCkgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLmNsZWFyKSBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjb250ZXh0LmNhbnZhcy5vZmZzZXRXaWR0aCwgY29udGV4dC5jYW52YXMub2Zmc2V0SGVpZ2h0KTtcclxuICAgICAgICB0aGlzLmNvbXBpbGUodGhpcy5fcm9vdC5lbGVtZW50LCBjb250ZXh0LCBkYXRlLCBmcmFtZSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihDYW52YXM6IENhbnZhcykge1xyXG4gICAgICAgIENhbnZhcy5xdWV1ZSgwLCB0aGlzLmRyYXdOb2RlVHJlZSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRyZWVWaW9sYXRpb24odGFyZ2V0OiBHcm91cCwgZWxlbWVudDogTm9kZTxhbnk+KTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gZWxlbWVudCkgcmV0dXJuIHRydWVcclxuICAgICAgICByZXR1cm4gdGFyZ2V0LnBhcmVudCA/IHRoaXMudHJlZVZpb2xhdGlvbih0YXJnZXQucGFyZW50LCB0YXJnZXQpIDogZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICByZWdpc3RlcihpZDogc3RyaW5nLCBlbGVtZW50OiBOb2RlPGFueT4sIHJlbmRlcjpOZE1haW5EcmF3aW5nUGlwZUYpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX3Jvb3QuZWxlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByb290ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQgYXMgR3JvdXAsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyOiByZW5kZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yOiBuZXcgTmROb2RlQ29ubmVjdG9yKGlkLCB0aGlzKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm9vdCA9IHJvb3Q7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlkcy5hZGQocm9vdC5jb25uZWN0b3IuaWQpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW2lkXSA9IHJvb3RcclxuICAgICAgICAgICAgICAgIE5EQi5wb3NpdGl2ZShgRWxlbWVudCAke2lkfSByZWdpc3RlcmVkYClcclxuICAgICAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignUm9vdCBlbGVtZW50IG11c3QgYmUgYSBHcm91cCBpbnN0YW5jZScpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlkcy5oYXMoaWQpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlkcy5hZGQoaWQpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW2lkXSA9IHtlbGVtZW50OiBlbGVtZW50LCByZW5kZXI6IHJlbmRlciwgY29ubmVjdG9yOiBuZXcgTmROb2RlQ29ubmVjdG9yKGlkLCB0aGlzKX1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9yb290LmVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZCh0aGlzLl9yb290LmVsZW1lbnQsIGlkKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIE5EQi5lcnJvcihgQXBwbGljYXRpb24gcm9vdCBsb3N0LiBOb3Qgcm9vdCBncm91cCBub2RlIHRvIGFwcGVuZCB0b2ApXHJcbiAgICAgICAgICAgIH0gZWxzZSBOREIud2FybihgTm9kZSAke2lkfSBhbHJlYWR5IGV4aXN0cy4gSWdub3JlZC5gKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1tpZF0uY29ubmVjdG9yXHJcbiAgICB9XHJcblxyXG4gICAgdW5yZWdpc3RlcihlbGVtZW50OiBOb2RlPGFueT4pIHtcclxuICAgICAgICBpZiAodGhpcy5pZHMuaGFzKGVsZW1lbnQuaWQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMudW5tb3VudChlbGVtZW50KVxyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5lbGVtZW50c1tlbGVtZW50LmlkXVxyXG4gICAgICAgICAgICB0aGlzLmlkcy5kZWxldGUoZWxlbWVudC5pZClcclxuICAgICAgICAgICAgTkRCLnBvc2l0aXZlKGBOb2RlICR7ZWxlbWVudC5pZH0gdW5yZWdpc3RlcmVkYClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdW5tb3VudChlbGVtZW50OiBOb2RlPGFueT4pIHtcclxuICAgICAgICBpZiAodGhpcy5lbGVtZW50c1tlbGVtZW50LmlkXS5jb25uZWN0b3IucGFyZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZWxlbWVudHNbZWxlbWVudC5pZF0uY29ubmVjdG9yLnBhcmVudFxyXG4gICAgICAgICAgICBpZiAocGFyZW50KSB0aGlzLmVsZW1lbnRzW3BhcmVudC5pZF0uY29ubmVjdG9yLnJlbW92ZUNoaWxkKGVsZW1lbnQsIGVsZW1lbnQueilcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbGVtZW50c1tlbGVtZW50LmlkXS5jb25uZWN0b3IucGFyZW50ID0gbnVsbFxyXG4gICAgICAgIGlmIChlbGVtZW50ID09IHRoaXMuX3Jvb3QuZWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9yb290ID0ge31cclxuICAgICAgICAgICAgTkRCLndhcm4oJ1VubW91bnRpbmcgcm9vdCBncm91cC4nKVxyXG4gICAgICAgIH1cclxuICAgICAgICBOREIucG9zaXRpdmUoYE5vZGUgJHtlbGVtZW50LmlkfSB1bm1vdW50ZWRgKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBpbGUoZWxlbWVudDogTm9kZTxhbnk+LCBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGRhdGU6IERhdGUsIGZyYW1lOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAodGhpcy5lbGVtZW50c1tlbGVtZW50LmlkXSAmJiB0aGlzLmVsZW1lbnRzW2VsZW1lbnQuaWRdLmVsZW1lbnQgPT09IGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKClcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50c1tlbGVtZW50LmlkXS5yZW5kZXIoY29udGV4dCwgZGF0ZSwgZnJhbWUpXHJcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpXHJcbiAgICAgICAgfSBlbHNlIE5EQi5lcnJvcihgQXR0ZW1wdCB0byByZW5kZXIgdW5tb3VudGVkIG5vZGUgJHtlbGVtZW50LmlkfWApXHJcbiAgICB9XHJcblxyXG4gICAgcmVuYW1lKGlkOiBzdHJpbmcsIG5ld0lkOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAodGhpcy5pZHMuaGFzKGlkKSkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaWRzLmhhcyhuZXdJZCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbbmV3SWRdID0gdGhpcy5lbGVtZW50c1tpZF1cclxuICAgICAgICAgICAgICAgIHRoaXMuaWRzLmFkZChuZXdJZClcclxuICAgICAgICAgICAgICAgIHRoaXMuaWRzLmRlbGV0ZShpZClcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbbmV3SWRdLmNvbm5lY3Rvci5pZCA9IG5ld0lkXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5lbGVtZW50c1tpZF1cclxuICAgICAgICAgICAgfSBOREIud2FybihgQ2FuIG5vdCByZW5hbWUgbm9kZSAke2lkfS4gQW5vdGhlciBub2RlIHdpdGggaWQgJHtuZXdJZH0gYWxyZWFkeSBleGlzdHNgKVxyXG4gICAgICAgIH0gTkRCLndhcm4oYEF0dGVtcHQgdG8gcmVuYW1lIG5vbiBleGlzdGluZyBub2RlICR7aWR9YClcclxuICAgIH1cclxuXHJcbiAgICB6KGVsZW1lbnQ6IE5vZGU8YW55PiwgejogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaWRzLmhhcyhlbGVtZW50LmlkKSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50c1tlbGVtZW50LmlkXSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5lbGVtZW50c1tlbGVtZW50LmlkXS5jb25uZWN0b3IucGFyZW50XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50KSB0aGlzLmVsZW1lbnRzW3BhcmVudC5pZF0uY29ubmVjdG9yLnpDaGlsZChlbGVtZW50LCB6KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbZWxlbWVudC5pZF0uY29ubmVjdG9yLnogPSB6XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldChpZDogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbaWRdLmVsZW1lbnRcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcm9vdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcm9vdC5lbGVtZW50XHJcbiAgICB9XHJcblxyXG4gICAgYXBwZW5kKHRhcmdldDogR3JvdXAsIGlkOnN0cmluZywgcHJlcGVuZDogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaWRzLmhhcyh0YXJnZXQuaWQpICYmIHRoaXMuaWRzLmhhcyhpZCkpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnRyZWVWaW9sYXRpb24odGFyZ2V0LCB0aGlzLmVsZW1lbnRzW2lkXS5lbGVtZW50KSkge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5lbGVtZW50c1tpZF0uY29ubmVjdG9yLnBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IDxOb2RlPGFueT4+dGhpcy5lbGVtZW50c1tpZF0uY29ubmVjdG9yLnBhcmVudFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbcGFyZW50LmlkXS5jb25uZWN0b3IucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50c1tpZF0uZWxlbWVudCwgdGhpcy5lbGVtZW50c1tpZF0uY29ubmVjdG9yLnopXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW3RhcmdldC5pZF0uY29ubmVjdG9yLnpDaGlsZCh0aGlzLmVsZW1lbnRzW2lkXS5lbGVtZW50LCB0aGlzLmVsZW1lbnRzW2lkXS5jb25uZWN0b3IueiwgcHJlcGVuZClcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbaWRdLmNvbm5lY3Rvci5wYXJlbnQgPSB0YXJnZXRcclxuICAgICAgICAgICAgICAgIE5EQi5wb3NpdGl2ZShgTm9kZSAke2lkfSBhcHBlbmRlZCB0byAke3RhcmdldC5pZH1gKVxyXG4gICAgICAgICAgICB9IGVsc2UgIE5EQi53YXJuKGBOb2RlIHRyZWUgdmlvbGF0aW9uLiBBcHBlbmRpbmcgbm9kZSAke2lkfSB0byBpdHNlbGYgb3IgaXQncyBjaGlsZC4gYClcclxuICAgICAgICB9IGVsc2UgTkRCLndhcm4oYE1hbmlwdWxhdGluZyBub24gcmVnaXN0ZXJlZCBub2RlICR7aWR9IG9yICR7dGFyZ2V0LmlkfS5gKVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtOZE5vZGVQb2ludGVyUHJlZGljYXRlLCBOZE5vZGVQb2ludGVyVHJhbnNmb3JtRn0gZnJvbSAnLi4vTm9kZXMvQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5vZGUgZnJvbSAnLi4vTm9kZXMvTm9kZSc7XHJcbmltcG9ydCBOZE1vZEJhc2UgZnJvbSAnLi4vTm9kZXMvbW9kZWxzL05kTW9kQmFzZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZE5vZGVNb3VzZURpc3BhdGNoZXI8UHJvcHMgZXh0ZW5kcyBOZE1vZEJhc2UgPSBOZE1vZEJhc2U+IHtcclxuICAgIHByaXZhdGUgX2Rpc2FibGVkOiBib29sZWFuID0gZmFsc2VcclxuICAgIHB1YmxpYyByZWFkb25seSB0ZXN0OiBOZE5vZGVQb2ludGVyUHJlZGljYXRlXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHJhbnNmb3JtPzogTmROb2RlUG9pbnRlclRyYW5zZm9ybUZcclxuICAgIHByaXZhdGUgZW1pdDogTm9kZTxQcm9wcz5bJ2Nhc3QnXVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIGVtaXR0ZXI6IE5vZGU8UHJvcHM+WydjYXN0J10sXHJcbiAgICAgICAgdGVzdGVyOiBOZE5vZGVQb2ludGVyUHJlZGljYXRlLFxyXG4gICAgICAgIHRyYW5zZm9ybWVyPzogTmROb2RlUG9pbnRlclRyYW5zZm9ybUYpIHtcclxuICAgICAgICB0aGlzLnRlc3QgPSB0ZXN0ZXJcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybWVyXHJcbiAgICAgICAgdGhpcy5lbWl0ID0gZW1pdHRlclxyXG4gICAgfVxyXG5cclxuICAgIGNhc3QoZXZlbnQ6IFBhcmFtZXRlcnM8Tm9kZTxQcm9wcz5bJ2Nhc3QnXT5bMF0sIGRhdGE6IFBhcmFtZXRlcnM8Tm9kZTxQcm9wcz5bJ2Nhc3QnXT5bMV0pOiBSZXR1cm5UeXBlPE5vZGU8UHJvcHM+WydjYXN0J10+IHwgZmFsc2Uge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5kaXNhYmxlZCA/IHRoaXMuZW1pdChldmVudCwgZGF0YSkgOiBmYWxzZVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXQgZGlzYWJsZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc2FibGVkXHJcbiAgICB9XHJcblxyXG4gICAgZGlzYWJsZSgpIHtcclxuICAgICAgICB0aGlzLl9kaXNhYmxlZCA9IHRydWVcclxuICAgIH1cclxuXHJcbiAgICBlbmFibGUoKSB7XHJcbiAgICAgICAgdGhpcy5fZGlzYWJsZWQgPSBmYWxzZVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IE5kTm9kZU1vdXNlRGlzcGF0Y2hlciBmcm9tICcuL01vdXNlL05kTm9kZU1vdXNlRGlzcGF0Y2hlcic7XHJcbmltcG9ydCBOZE1vZEJhc2UgZnJvbSAnLi9Ob2Rlcy9tb2RlbHMvTmRNb2RCYXNlJztcclxuaW1wb3J0IHtOZE1vdXNlRXZlbnREYXRhLCBOZE5vZGVNb3VzZUV2ZW50c1NjaGVtZSwgTmROb2RlUG9pbnRlclByZWRpY2F0ZSwgTmROb2RlUG9pbnRlclRyYW5zZm9ybUZ9IGZyb20gJy4vTm9kZXMvQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IFRpY2tlciBmcm9tICcuL1RpY2tlcic7XHJcbmltcG9ydCBDYW52YXMgZnJvbSAnLi9DYW52YXMnO1xyXG5pbXBvcnQge05kTnVtZXJpY0FycmF5MmR9IGZyb20gJy4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5kTW91c2VFdmVudCBmcm9tICcuL2NsYXNzZXMvTmRNb3VzZUV2ZW50JztcclxuaW1wb3J0IE5vZGVzIGZyb20gJy4vTm9kZXMnO1xyXG5pbXBvcnQgTm9kZSBmcm9tICcuL05vZGVzL05vZGUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW91c2Uge1xyXG4gICAgcHJpdmF0ZSBlbGVtZW50czoge1xyXG4gICAgICAgIFtrZXk6IHN0cmluZ106IHtcclxuICAgICAgICAgICAgaGFuZGxlcjogTmROb2RlTW91c2VEaXNwYXRjaGVyPGFueT5cclxuICAgICAgICAgICAgZWxlbWVudDogTm9kZTxhbnk+XHJcbiAgICAgICAgfVxyXG4gICAgfSA9IHt9XHJcblxyXG4gICAgcHJpdmF0ZSBjdXJyZW50SG92ZXI6IE5vZGU8YW55PiB8IGZhbHNlID0gZmFsc2VcclxuICAgIHByaXZhdGUgY3VycmVudEZvY3VzOiBOb2RlPGFueT4gfCBmYWxzZSA9IGZhbHNlXHJcbiAgICBwcml2YXRlIG1vdXNlRG93bjogYm9vbGVhbiA9IGZhbHNlXHJcbiAgICBwcml2YXRlIGRyYWdnaW5nOiBib29sZWFuID0gZmFsc2VcclxuICAgIHByaXZhdGUgZXZlbnRTdGFjazogKCgpID0+IHZvaWQpW10gPSBbXVxyXG4gICAgcHJpdmF0ZSBwb3N0cG9uZWQ6ICgoKSA9PiB2b2lkKVtdID0gW11cclxuICAgIHByb3RlY3RlZCBtYXhFdmVudHNQZXJRdWV1ZTogbnVtYmVyID0gNVxyXG4gICAgcHJvdGVjdGVkIG1heEV2ZW50c1Jlc29sdmVUaW1lUGVyRnJhbWU6IG51bWJlclxyXG5cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihDYW52YXM6IENhbnZhcywgVGlja2VyOiBUaWNrZXIsIFRyZWU6IE5vZGVzKSB7XHJcbiAgICAgICAgdGhpcy5tYXhFdmVudHNSZXNvbHZlVGltZVBlckZyYW1lID0gVGlja2VyLmZyYW1lVGltZVxyXG4gICAgICAgIENhbnZhcy5xdWV1ZSggdGhpcy5yZXNvbHZlU3RhY2suYmluZCh0aGlzKSlcclxuICAgICAgICBDYW52YXMub24oJ21vdXNlRG93bicsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IHRydWVcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEhvdmVyKSB0aGlzLnJlc29sdmVPclBvc3Rwb25lKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SG92ZXIsXHJcbiAgICAgICAgICAgICAgICAnbW91c2VEb3duJyxcclxuICAgICAgICAgICAgICAgIG5ldyBOZE1vdXNlRXZlbnQ8Tm9kZTxhbnk+Pih0aGlzLmN1cnJlbnRIb3Zlciwgey4uLmV2ZW50LmRhdGEgYXMgTmRNb3VzZUV2ZW50RGF0YX0pKVxyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Rm9jdXMgJiYgdGhpcy5jdXJyZW50Rm9jdXMgIT09IHRoaXMuY3VycmVudEhvdmVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Rm9jdXMgIT09IHRoaXMuY3VycmVudEhvdmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlT3JQb3N0cG9uZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Rm9jdXMsICdibHVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5kTW91c2VFdmVudDxOb2RlPGFueT4+KHRoaXMuY3VycmVudEZvY3VzLCB7Li4uZXZlbnQuZGF0YSBhcyBOZE1vdXNlRXZlbnREYXRhfSlcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEhvdmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZU9yUG9zdHBvbmUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRIb3ZlciwgJ2ZvY3VzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBOZE1vdXNlRXZlbnQ8Tm9kZTxhbnk+Pih0aGlzLmN1cnJlbnRIb3Zlciwgey4uLmV2ZW50LmRhdGEgYXMgTmRNb3VzZUV2ZW50RGF0YX0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Rm9jdXMgPSB0aGlzLmN1cnJlbnRIb3ZlclxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBDYW52YXMub24oJ21vdXNlVXAnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnZ2luZykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEZvY3VzKSB0aGlzLnJlc29sdmVPclBvc3Rwb25lKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEZvY3VzLCAnZHJhZ0VuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE5kTW91c2VFdmVudDxOb2RlPGFueT4+KHRoaXMuY3VycmVudEZvY3VzLCB7Li4uZXZlbnQuZGF0YSBhcyBOZE1vdXNlRXZlbnREYXRhfSlcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRIb3Zlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlT3JQb3N0cG9uZShcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRIb3ZlciwgJ21vdXNlVXAnLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBOZE1vdXNlRXZlbnQ8Tm9kZTxhbnk+Pih0aGlzLmN1cnJlbnRIb3Zlciwgey4uLmV2ZW50LmRhdGEgYXMgTmRNb3VzZUV2ZW50RGF0YX0pXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIENhbnZhcy5vbignbW91c2VMZWF2ZScsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnZ2luZykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlT3JQb3N0cG9uZSh0aGlzLmN1cnJlbnRGb2N1cywgJ2RyYWdFbmQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTmRNb3VzZUV2ZW50PE5vZGU8YW55Pj4odGhpcy5jdXJyZW50Rm9jdXMsIHsuLi5ldmVudC5kYXRhIGFzIE5kTW91c2VFdmVudERhdGF9KVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRIb3ZlcikgdGhpcy5yZXNvbHZlT3JQb3N0cG9uZSh0aGlzLmN1cnJlbnRIb3ZlciwgJ21vdXNlTGVhdmUnLFxyXG4gICAgICAgICAgICAgICAgbmV3IE5kTW91c2VFdmVudDxOb2RlPGFueT4+KHRoaXMuY3VycmVudEhvdmVyLCB7Li4uZXZlbnQuZGF0YSBhcyBOZE1vdXNlRXZlbnREYXRhfSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRGb2N1cyA9IGZhbHNlXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEhvdmVyID0gZmFsc2VcclxuICAgICAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgQ2FudmFzLm9uKCdtb3VzZU1vdmUnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFUcmVlLnJvb3QpIHJldHVyblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZHJhZ2dpbmcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuY2hlY2tOb2RlKFRyZWUucm9vdCwgKGV2ZW50LmRhdGEgYXMgTmRNb3VzZUV2ZW50RGF0YSkuY3Vyc29yKVxyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCAhPT0gdGhpcy5jdXJyZW50SG92ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50SG92ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlT3JQb3N0cG9uZSh0aGlzLmN1cnJlbnRIb3ZlciwgJ21vdXNlTGVhdmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5kTW91c2VFdmVudDxOb2RlPGFueT4+KHRoaXMuY3VycmVudEhvdmVyLCB7Li4uZXZlbnQuZGF0YSBhcyBOZE1vdXNlRXZlbnREYXRhfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZU9yUG9zdHBvbmUodGFyZ2V0LCAnbW91c2VFbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTmRNb3VzZUV2ZW50PE5vZGU8YW55Pj4odGFyZ2V0LCB7Li4uZXZlbnQuZGF0YSBhcyBOZE1vdXNlRXZlbnREYXRhfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRIb3ZlciA9IHRhcmdldFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0KSB0aGlzLnJlc29sdmVPclBvc3Rwb25lKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQsICdtb3VzZU1vdmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTmRNb3VzZUV2ZW50PE5vZGU8YW55Pj4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Li4uZXZlbnQuZGF0YSBhcyBOZE1vdXNlRXZlbnREYXRhfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubW91c2VEb3duICYmIHRoaXMuY3VycmVudEZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZHJhZ2dpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVPclBvc3Rwb25lKHRoaXMuY3VycmVudEZvY3VzLCAnZHJhZ1N0YXJ0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5kTW91c2VFdmVudDxOb2RlPGFueT4+KHRoaXMuY3VycmVudEZvY3VzLCB7Li4uZXZlbnQuZGF0YSBhcyBOZE1vdXNlRXZlbnREYXRhfSlcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IHRydWVcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlT3JQb3N0cG9uZSh0aGlzLmN1cnJlbnRGb2N1cywgJ2RyYWdNb3ZlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5kTW91c2VFdmVudDxOb2RlPGFueT4+KHRoaXMuY3VycmVudEZvY3VzLCB7Li4uZXZlbnQuZGF0YSBhcyBOZE1vdXNlRXZlbnREYXRhfSlcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrTm9kZShlOiBOb2RlPGFueT4sIGN1cnNvcjogTmROdW1lcmljQXJyYXkyZCkge1xyXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzW2UuaWRdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzW2UuaWRdLmhhbmRsZXIudGVzdChjdXJzb3IpXHJcbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignUm9vdCBzd2FwJylcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlc29sdmVTdGFjaygpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZXZlbnRTdGFjay5sZW5ndGgpIHJldHVyblxyXG4gICAgICAgIGxldCBpdGVyYXRpb25zOiBudW1iZXIgPSAwXHJcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKClcclxuICAgICAgICBsZXQgZWxhcHNlZCA9IDBcclxuICAgICAgICB3aGlsZSAodGhpcy5ldmVudFN0YWNrWzBdICYmIGl0ZXJhdGlvbnMgPCB0aGlzLm1heEV2ZW50c1BlclF1ZXVlICYmIGVsYXBzZWQgPCB0aGlzLm1heEV2ZW50c1Jlc29sdmVUaW1lUGVyRnJhbWUpIHtcclxuICAgICAgICAgICAgKHRoaXMuZXZlbnRTdGFjay5zaGlmdCgpIGFzICgpID0+IHZvaWQpKCkgLy8gY2FsbCBmaXJzdCBpbiBjdXJyZW50IHF1ZXVlXHJcbiAgICAgICAgICAgIGl0ZXJhdGlvbnMrK1xyXG4gICAgICAgICAgICBlbGFwc2VkID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBzdGFydFRpbWVcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgc3RhY2sgYXBwZWFyIHRvIGJlIGVtcHR5IGFuZCB0aGVyZSBhcmUgcG9zdHBvbmVkIGV2ZW50cyAgPT4gYWRkIGZpcnN0IHBvc3Rwb25lZCBjYWxsYmFjayB0byBjdXJyZW50IHJlc29sdmUgc3RhY2tcclxuICAgICAgICBpZiAoIXRoaXMuZXZlbnRTdGFjay5sZW5ndGggJiYgdGhpcy5wb3N0cG9uZWRbMF0pIHRoaXMuZXZlbnRTdGFjay5wdXNoKHRoaXMucG9zdHBvbmVkLnNoaWZ0KCkgYXMgKCkgPT4gdm9pZClcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFN0YWNrQ2FsbGJhY2soXHJcbiAgICAgICAgZWxlbWVudDogTm9kZTxhbnk+IHwgbnVsbCxcclxuICAgICAgICBldmVudDoga2V5b2YgTmROb2RlTW91c2VFdmVudHNTY2hlbWU8YW55PixcclxuICAgICAgICBkYXRhOiBQYXJhbWV0ZXJzPE5vZGU8YW55PlsnY2FzdCddPlsxXSkge1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmVsZW1lbnRzW2VsZW1lbnQuaWRdLmhhbmRsZXIuY2FzdChldmVudCwgZGF0YSlcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnByb3BhZ2F0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRTdGFjay5wdXNoKHRoaXMuZ2V0U3RhY2tDYWxsYmFjayh0aGlzLmVsZW1lbnRzW2VsZW1lbnQuaWRdLmVsZW1lbnQucGFyZW50LCBldmVudCwgZGF0YSkpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZXNvbHZlT3JQb3N0cG9uZShlbGVtZW50OiBOb2RlPGFueT4sIGV2ZW50OiBrZXlvZiBOZE5vZGVNb3VzZUV2ZW50c1NjaGVtZTxhbnk+LCBkYXRhOiBQYXJhbWV0ZXJzPE5vZGU8YW55PlsnY2FzdCddPlsxXSkge1xyXG4gICAgICAgICF0aGlzLmV2ZW50U3RhY2subGVuZ3RoID9cclxuICAgICAgICAgICAgdGhpcy5ldmVudFN0YWNrLnB1c2godGhpcy5nZXRTdGFja0NhbGxiYWNrKGVsZW1lbnQsIGV2ZW50LCBkYXRhKSkgOlxyXG4gICAgICAgICAgICB0aGlzLnBvc3Rwb25lZC5wdXNoKHRoaXMuZ2V0U3RhY2tDYWxsYmFjayhlbGVtZW50LCBldmVudCwgZGF0YSkpXHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXI8UHJvcHMgZXh0ZW5kcyBOZE1vZEJhc2U+KFxyXG4gICAgICAgIGVsZW1lbnQ6IE5vZGU8YW55PixcclxuICAgICAgICBlbWl0dGVyOiBOb2RlPGFueT5bJ2Nhc3QnXSxcclxuICAgICAgICB0ZXN0OiBOZE5vZGVQb2ludGVyUHJlZGljYXRlLFxyXG4gICAgICAgIHRyYW5zZm9ybT86IE5kTm9kZVBvaW50ZXJUcmFuc2Zvcm1GXHJcbiAgICApIHtcclxuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudHNbZWxlbWVudC5pZF0pIHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50c1tlbGVtZW50LmlkXSA9IHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBuZXcgTmROb2RlTW91c2VEaXNwYXRjaGVyPFByb3BzPihlbWl0dGVyLmJpbmQoZWxlbWVudCksIHRlc3QsIHRyYW5zZm9ybSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbGVtZW50Lm9uKCdkZXN0cm95JywgKCkgPT4gZGVsZXRlIHRoaXMuZWxlbWVudHNbZWxlbWVudC5pZF0pXHJcbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcihgQW5vdGhlciBSZWZsZWN0RWxlbWVudCB3aXRoIGlkICR7ZWxlbWVudC5pZH0gaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIGFzIG1vdXNlIHNlbnNpdGl2ZWApXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbZWxlbWVudC5pZF0uaGFuZGxlclxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmRDYW52YXMge1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGVsZW1lbnQ6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIHByaXZhdGUgc2l6ZSA9IFswLCAwXVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmVsZW1lbnQuZ2V0Q29udGV4dCgnMmQnKVxyXG4gICAgICAgIGlmIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZXN0YWJsaXNoIENhbnZhcyByZW5kZXJpbmcgY29udGV4dCEnKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgd2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZVswXVxyXG4gICAgfVxyXG5cclxuICAgIHNldCB3aWR0aCh3aWR0aCkge1xyXG4gICAgICAgIHRoaXMuc2l6ZVswXSA9IHdpZHRoXHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3aWR0aC50b1N0cmluZygpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaGVpZ2h0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNpemVbMV1cclxuICAgIH1cclxuXHJcbiAgICBzZXQgaGVpZ2h0KGhlaWdodCkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGhlaWdodC50b1N0cmluZygpKVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtOZE51bWVyaWNBcnJheTJkfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQge05kQXNzZW1ibGVyQ29udGV4dFJlc29sdmVyfSBmcm9tICcuLi9Ob2Rlcy9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgTmRDYW52YXMgZnJvbSAnLi9OZENhbnZhcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZExheWVyIHtcclxuICAgIHByaXZhdGUgY2FudmFzID0gbmV3IE5kQ2FudmFzO1xyXG4gICAgcHJpdmF0ZSB3aWR0aCA9IDA7XHJcbiAgICBwcml2YXRlIGhlaWdodCA9IDA7XHJcbiAgICBwcml2YXRlIGY6IE5kQXNzZW1ibGVyQ29udGV4dFJlc29sdmVyIHwgbnVsbCA9IG51bGw7XHJcbiAgICBwcml2YXRlIHJlYWR5ID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIG9yZGVyaW5nID0gMDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihyZXNvbHZlcjogTmRBc3NlbWJsZXJDb250ZXh0UmVzb2x2ZXIpIHtcclxuICAgICAgICB0aGlzLmYgPSByZXNvbHZlci5iaW5kKHRoaXMpXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnJlYWR5KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbnZhcy5jb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5jb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmYpIHRoaXMuZih0aGlzLmNhbnZhcy5jb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWFkeSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5jYW52YXMuZWxlbWVudCwgMCwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHJlc29sdmVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmY7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldCBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiBbdGhpcy53aWR0aCwgdGhpcy5oZWlnaHRdXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHNpemUoW3dpZHRoLCBoZWlnaHRdOiBOZE51bWVyaWNBcnJheTJkKSB7XHJcbiAgICAgICAgaWYgKHdpZHRoICE9PSB0aGlzLndpZHRoIHx8IGhlaWdodCAhPT0gdGhpcy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB3aWR0aFxyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBoZWlnaHRcclxuICAgICAgICAgICAgdGhpcy5yZWFkeSA9IGZhbHNlXHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB3aWR0aFxyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgb3JkZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3JkZXJpbmdcclxuICAgIH1cclxuXHJcbiAgICBzZXQgb3JkZXIob3JkZXI6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMub3JkZXJpbmcgPSBvcmRlclxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICB0aGlzLnJlYWR5ID0gZmFsc2VcclxuICAgIH1cclxufSIsImltcG9ydCB7TmROdW1lcmljQXJyYXkyZH0gZnJvbSAnLi4vLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5kQ2FudmFzIGZyb20gJy4uLy4uL2NsYXNzZXMvTmRDYW52YXMnO1xyXG5pbXBvcnQgTm9kZSBmcm9tICcuLi9Ob2RlJztcclxuaW1wb3J0IE5kTGF5ZXIgZnJvbSAnLi4vLi4vY2xhc3Nlcy9OZExheWVyJztcclxuaW1wb3J0IE5kRW1pdHRlciBmcm9tICcuLi8uLi9jbGFzc2VzL05kRW1pdHRlcic7XHJcblxyXG50eXBlIEFzc2VtYmxlckxheWVyQ29uZmlnID0ge1xyXG4gICAgbmFtZTogc3RyaW5nLFxyXG4gICAgcmVzb2x2ZXI6IENvbnN0cnVjdG9yUGFyYW1ldGVyczx0eXBlb2YgTmRMYXllcj5bMF1cclxufVxyXG50eXBlIFJlZmxlY3RBc3NlbWJsZXJVcGRhdGU8VCBleHRlbmRzIEFzc2VtYmxlckxheWVyQ29uZmlnW10sIEsgZXh0ZW5kcyBudW1iZXIgPSBrZXlvZiBUICYgbnVtYmVyPiA9IChuYW1lPzogVFtLXVsnbmFtZSddKSA9PiB2b2lkXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZE1vZGVBc3NlbWJsZXIgZXh0ZW5kcyBOZEVtaXR0ZXI8eyBba2V5IGluICdyZXNpemUnIHwgJ3VwZGF0ZSddOiB1bmRlZmluZWQgfT4ge1xyXG4gICAgcHJpdmF0ZSBvdXRwdXQgPSBuZXcgTmRDYW52YXMoKVxyXG4gICAgcHJpdmF0ZSBwaXBlOiB7IG9yZGVyOiBudW1iZXIsIGxheWVyOiBOZExheWVyIH1bXSA9IFtdXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxheWVyczogeyBba2V5OiBzdHJpbmddOiBOZExheWVyIH1cclxuICAgIHByaXZhdGUgdyA9IDBcclxuICAgIHByaXZhdGUgaCA9IDBcclxuICAgIHByaXZhdGUgcmVzaXplZCA9IGZhbHNlXHJcbiAgICBwcml2YXRlIF9yZWFkeSA9IGZhbHNlO1xyXG4gICAgcHVibGljIHVwZGF0ZTogUmVmbGVjdEFzc2VtYmxlclVwZGF0ZTxBc3NlbWJsZXJMYXllckNvbmZpZ1tdPlxyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIGxheWVyczogQXNzZW1ibGVyTGF5ZXJDb25maWdbXVxyXG4gICAgKSB7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIHRoaXMubGF5ZXJzID1cclxuICAgICAgICAgICAgT2JqZWN0LmZyb21FbnRyaWVzKFxyXG4gICAgICAgICAgICAgICAgbGF5ZXJzLm1hcCgodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxheWVyID0gbmV3IE5kTGF5ZXIodmFsdWUucmVzb2x2ZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5waXBlLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjoga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogbGF5ZXJcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUubmFtZSwgbGF5ZXJdXHJcbiAgICAgICAgICAgICAgICB9KSkgYXMgeyBba2V5OiBzdHJpbmddOiBOZExheWVyIH1cclxuXHJcblxyXG4gICAgICAgIHRoaXMucGlwZS5zb3J0KChhLCBiKSA9PiBhLm9yZGVyIC0gYi5vcmRlcilcclxuICAgICAgICB0aGlzLnVwZGF0ZSA9ICAobmFtZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGF5ZXJzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVhZHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxheWVyc1tuYW1lXS51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5sYXllcnMpLmZvckVhY2goKHYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2LnVwZGF0ZSgpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgcmVhZHkoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWR5XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIFt0aGlzLncsIHRoaXMuaF1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgd2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudztcclxuICAgIH07XHJcblxyXG4gICAgZ2V0IGhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIHNldCBzaXplKHNpemU6IE5kTnVtZXJpY0FycmF5MmQpIHtcclxuICAgICAgICB0aGlzLncgPSBzaXplWzBdXHJcbiAgICAgICAgdGhpcy5oID0gc2l6ZVsxXVxyXG4gICAgICAgIHRoaXMub3V0cHV0LndpZHRoID0gc2l6ZVswXVxyXG4gICAgICAgIHRoaXMub3V0cHV0LmhlaWdodCA9IHNpemVbMV1cclxuICAgICAgICB0aGlzLnBpcGUuZm9yRWFjaCgoe2xheWVyfSkgPT4ge1xyXG4gICAgICAgICAgICBsYXllci5zaXplID0gc2l6ZVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0KGVsZW1lbnQ6IE5vZGU8YW55Pikge1xyXG4gICAgICAgIGlmICghdGhpcy5yZXNpemVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc2l6ZVswXSAhPT0gZWxlbWVudC5ib3VuZGluZ1JlY3Quc2l6ZVswXSB8fCB0aGlzLnNpemVbMV0gIT09IGVsZW1lbnQuYm91bmRpbmdSZWN0LnNpemVbMV0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSA9IFtlbGVtZW50LmJvdW5kaW5nUmVjdC5zaXplWzBdLCBlbGVtZW50LmJvdW5kaW5nUmVjdC5zaXplWzFdXVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYXN0KCdyZXNpemUnLCB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLl9yZWFkeSkge1xyXG4gICAgICAgICAgICB0aGlzLm91dHB1dC5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLncsIHRoaXMuaClcclxuICAgICAgICAgICAgdGhpcy5waXBlLmZvckVhY2goKHYpID0+IHtcclxuICAgICAgICAgICAgICAgIHYubGF5ZXIuZHJhdyh0aGlzLm91dHB1dC5jb250ZXh0KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB0aGlzLl9yZWFkeSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY2FzdCgndXBkYXRlJywgdW5kZWZpbmVkKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0LmVsZW1lbnRcclxuICAgIH1cclxuXHJcbiAgICByZXNpemUoKSB7XHJcbiAgICAgICAgdGhpcy5yZXNpemVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fcmVhZHkgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG5cclxufSIsImltcG9ydCB7TmRBcnJDb2xvciwgTmRDb2xvckFyciwgTmRDb2xvclN0ciwgTmRQYXRoLCBOZFBhdGhCZXppZXIsIE5kU3Ryb2tlU3R5bGUsIE5kU3Ryb2tlU3R5bGVBcnIsIE5kU3Ryb2tlV2lkdGhBcnJ9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOZE5vZGVTdHlsZXNNb2RlbCBmcm9tICcuLi9jbGFzc2VzL05kTm9kZVN0eWxlc01vZGVsJztcclxuaW1wb3J0IE5kU3R5bGVzUHJvcGVydHkgZnJvbSAnLi4vY2xhc3Nlcy9OZE5vZGVTdHlsZVByb3BlcnR5JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kTW9kRnJlZVN0cm9rZSBleHRlbmRzIE5kTm9kZVN0eWxlc01vZGVsIHtcclxuXHJcbiAgICBwYXRoIDogTmRTdHlsZXNQcm9wZXJ0eTxOZFBhdGhCZXppZXIsIE5kUGF0aCwgTmRQYXRoPlxyXG4gICAgY29uc3RydWN0b3IoY2xvc2VkOmJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5wYXRoID0gbmV3IE5kU3R5bGVzUHJvcGVydHk8TmRQYXRoQmV6aWVyLCBOZFBhdGgsIE5kUGF0aD4oXHJcbiAgICAgICAgICAgIDEsXHJcbiAgICAgICAgICAgIFtdLFxyXG4gICAgICAgICAgICAoY3VycmVudCkgPT4gTmRNb2RGcmVlU3Ryb2tlLmNvbnZlcnRDb21wbGV4UGF0aChjdXJyZW50KSxcclxuICAgICAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBOZE1vZEZyZWVTdHJva2UuY29udmVydFNpbXBsZVBhdGgodmFsdWUsIGNsb3NlZClcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhdGgucHJvdGVjdGVkVmFsdWUubGVuZ3RoICE9PSByZXN1bHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJva2VTdHlsZS5zeW5jKHJlc3VsdCwgWzBdKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Ryb2tlV2lkdGguc3luYyhyZXN1bHQsIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJva2VDb2xvci5zeW5jKHJlc3VsdCwgJ3JnYmEoMCwwLDAsMScpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbiAgICBpbnRlcnBvbGF0aW9uID0gbmV3IE5kU3R5bGVzUHJvcGVydHk8bnVtYmVyLCBudW1iZXIsIG51bWJlcj4oXHJcbiAgICAgICAgMCxcclxuICAgICAgICAwLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50IC8gLjQgKiAxMDBcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPiAxMDApIHZhbHVlID0gMTAwXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMFxyXG4gICAgICAgICAgICB2YWx1ZSA9IC40ICogKHZhbHVlIC8gMTAwKVxyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9XHJcbiAgICApXHJcblxyXG4gICAgc3Ryb2tlQ29sb3IgPSBuZXcgTmRTdHlsZXNQcm9wZXJ0eTxOZENvbG9yU3RyW10sIE5kQXJyQ29sb3JbXSwgTmRBcnJDb2xvcltdIHwgTmRDb2xvckFyciB8IE5kQ29sb3JTdHIgfCBOZEFyckNvbG9yPihcclxuICAgICAgICAyLFxyXG4gICAgICAgIFtdLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiBjdXJyZW50Lm1hcCgodikgPT4gTmRNb2RGcmVlU3Ryb2tlLmNvbG9yVG9BcnJheSh2KSksXHJcbiAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IE5kQ29sb3JTdHJbXSA9IFtdXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucGF0aC5wcm90ZWN0ZWRWYWx1ZS5tYXAoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgLy9bJ3JnYmEoMCwwLDAsMSknLC4uLl1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbMF0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gKHRoaXMucGF0aC5wcm90ZWN0ZWRWYWx1ZS5tYXAoKHYsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlW2tleV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0cm9rZUNvbG9yLnByb3RlY3RlZFZhbHVlW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cm9rZUNvbG9yLnByb3RlY3RlZFZhbHVlW2tleV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cm9rZUNvbG9yLnByb3RlY3RlZFZhbHVlW3RoaXMuc3Ryb2tlQ29sb3IucHJvdGVjdGVkVmFsdWUubGVuZ3RoIC0gMV0gPyB0aGlzLnN0cm9rZUNvbG9yLnByb3RlY3RlZFZhbHVlW3RoaXMuc3Ryb2tlQ29sb3IucHJvdGVjdGVkVmFsdWUubGVuZ3RoIC0gMV0gOiAncmdiYSgwLDAsMCwxKSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9KSBhcyBOZENvbG9yQXJyKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9bWzAsMCwwLDFdLi4uXVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlWzBdIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAodGhpcy5wYXRoLnByb3RlY3RlZFZhbHVlLm1hcCgodiwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtrZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTmRNb2RGcmVlU3Ryb2tlLmFycmF5VG9Db2xvcigodmFsdWVba2V5XSBhcyBOZEFyckNvbG9yKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0cm9rZUNvbG9yLnByb3RlY3RlZFZhbHVlW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cm9rZUNvbG9yLnByb3RlY3RlZFZhbHVlW2tleV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cm9rZUNvbG9yLnByb3RlY3RlZFZhbHVlW3RoaXMuc3Ryb2tlQ29sb3IucHJvdGVjdGVkVmFsdWUubGVuZ3RoIC0gMV0gP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3Ryb2tlQ29sb3IucHJvdGVjdGVkVmFsdWVbdGhpcy5zdHJva2VDb2xvci5wcm90ZWN0ZWRWYWx1ZS5sZW5ndGggLSAxXSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3JnYmEoMCwwLDAsMSknXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSkgYXMgTmRDb2xvckFycilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vWzAsMCwwLDFdXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlWzBdID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucGF0aC5wcm90ZWN0ZWRWYWx1ZS5tYXAoKCkgPT4gKE5kTW9kRnJlZVN0cm9rZS5hcnJheVRvQ29sb3IoKHZhbHVlIGFzIE5kQXJyQ29sb3IpKSkpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICAgIH1cclxuICAgIClcclxuICAgIHN0cm9rZVdpZHRoOiBOZFN0eWxlc1Byb3BlcnR5PE5kU3Ryb2tlV2lkdGhBcnIsIE5kU3Ryb2tlV2lkdGhBcnIsIE5kU3Ryb2tlV2lkdGhBcnIgfCBudW1iZXI+ID1cclxuICAgICAgICBuZXcgTmRTdHlsZXNQcm9wZXJ0eTxOZFN0cm9rZVdpZHRoQXJyLCBOZFN0cm9rZVdpZHRoQXJyLCBOZFN0cm9rZVdpZHRoQXJyIHwgbnVtYmVyPihcclxuICAgICAgICAgICAgMixcclxuICAgICAgICAgICAgW10sXHJcbiAgICAgICAgICAgIChjdXJyZW50KSA9PiBbLi4uY3VycmVudF0sXHJcbiAgICAgICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRoLnByb3RlY3RlZFZhbHVlLm1hcCgoKSA9PiB2YWx1ZSkgYXMgTmRTdHJva2VXaWR0aEFyclxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRoLnByb3RlY3RlZFZhbHVlLm1hcCgodiwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVba2V5XSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVtrZXldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuc3Ryb2tlV2lkdGgucHJvdGVjdGVkVmFsdWVba2V5XSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJva2VXaWR0aC5wcm90ZWN0ZWRWYWx1ZVtrZXldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5zdHJva2VXaWR0aC5wcm90ZWN0ZWRWYWx1ZVt0aGlzLnN0cm9rZVdpZHRoLnByb3RlY3RlZFZhbHVlLmxlbmd0aCAtIDFdID09PSAnbnVtYmVyJyA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3Ryb2tlV2lkdGgucHJvdGVjdGVkVmFsdWVbdGhpcy5zdHJva2VXaWR0aC5wcm90ZWN0ZWRWYWx1ZS5sZW5ndGggLSAxXSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pIGFzIE5kU3Ryb2tlV2lkdGhBcnJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuXHJcbiAgICBzdHJva2VTdHlsZTogTmRTdHlsZXNQcm9wZXJ0eTxOZFN0cm9rZVN0eWxlQXJyLCBOZFN0cm9rZVN0eWxlQXJyLCBOZFN0cm9rZVN0eWxlQXJyIHwgTmRTdHJva2VTdHlsZT4gPVxyXG4gICAgICAgIG5ldyBOZFN0eWxlc1Byb3BlcnR5PE5kU3Ryb2tlU3R5bGVBcnIsIE5kU3Ryb2tlU3R5bGVBcnIsIE5kU3Ryb2tlU3R5bGVBcnIgfCBOZFN0cm9rZVN0eWxlPihcclxuICAgICAgICAgICAgMixcclxuICAgICAgICAgICAgW10sXHJcbiAgICAgICAgICAgIChjdXJyZW50KSA9PiBjdXJyZW50Lm1hcCh2ID0+IFsuLi52XSksXHJcbiAgICAgICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlWzBdIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRoLnByb3RlY3RlZFZhbHVlLm1hcCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4udmFsdWVdXHJcbiAgICAgICAgICAgICAgICAgICAgfSkgYXMgTmRTdHJva2VTdHlsZUFyclxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRoLnByb3RlY3RlZFZhbHVlLm1hcCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4udmFsdWVdXHJcbiAgICAgICAgICAgICAgICAgICAgfSkgYXMgTmRTdHJva2VTdHlsZUFyclxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG59IiwiaW1wb3J0IE5kU3R5bGVzUHJvcGVydHkgZnJvbSAnLi4vY2xhc3Nlcy9OZE5vZGVTdHlsZVByb3BlcnR5JztcclxuaW1wb3J0IHtOZEFuY2hvcn0gZnJvbSAnLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5kTm9kZVN0eWxlc01vZGVsIGZyb20gJy4uL2NsYXNzZXMvTmROb2RlU3R5bGVzTW9kZWwnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmRNb2RBbmNob3IgZXh0ZW5kcyBOZE5vZGVTdHlsZXNNb2RlbCB7XHJcbiAgICBhbmNob3IgPSBuZXcgTmRTdHlsZXNQcm9wZXJ0eTxOZEFuY2hvciwgTmRBbmNob3IsIE5kQW5jaG9yPihcclxuICAgICAgICAwLFxyXG4gICAgICAgIFsnbGVmdCcsICd0b3AnXSxcclxuICAgICAgICAoY3VycmVudCkgPT4gWy4uLmN1cnJlbnRdLFxyXG4gICAgICAgICh2YWx1ZSkgPT4gWy4uLnZhbHVlXVxyXG4gICAgKVxyXG59IiwiaW1wb3J0IE5vZGUgZnJvbSAnLi4vTm9kZSc7XHJcbmltcG9ydCBOZE1vZEZyZWVTdHJva2UgZnJvbSAnLi4vbW9kZWxzL05kTW9kRnJlZVN0cm9rZSc7XHJcbmltcG9ydCBOZE1vZEJhc2UgZnJvbSAnLi4vbW9kZWxzL05kTW9kQmFzZSc7XHJcbmltcG9ydCBOZE1vZEJnIGZyb20gJy4uL21vZGVscy9OZE1vZEJnJztcclxuaW1wb3J0IHtOZE51bWVyaWNBcnJheTJkfSBmcm9tICcuLi8uLi9AdHlwZXMvdHlwZXMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmROb2RlRW1waXJpY2FsTW91c2VDaGVja2VyIHtcclxuICAgIHByaXZhdGUgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dCgnMmQnKSBhcyBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkRcclxuXHJcbiAgICByZXNpemUoc2l6ZTogTmROdW1lcmljQXJyYXkyZCkge1xyXG4gICAgICAgIGlmIChzaXplWzBdICE9PSB0aGlzLmNvbnRleHQuY2FudmFzLndpZHRoICYmIHNpemVbMF0gPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5jYW52YXMud2lkdGggPSBzaXplWzBdXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaXplWzFdICE9PSB0aGlzLmNvbnRleHQuY2FudmFzLmhlaWdodCAmJiBzaXplWzFdID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuY2FudmFzLmhlaWdodCA9IHNpemVbMV1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVkcmF3KHN0eWxlczogKE5kTW9kRnJlZVN0cm9rZSAmIE5kTW9kQmFzZSkgfCAoTmRNb2RCZyAmIE5kTW9kRnJlZVN0cm9rZSkpIHtcclxuICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY29udGV4dC5jYW52YXMud2lkdGgsIHRoaXMuY29udGV4dC5jYW52YXMuaGVpZ2h0KVxyXG4gICAgICAgIHRoaXMuY29udGV4dC5zYXZlKClcclxuICAgICAgICBOb2RlLnJlZ2lzdGVyUGF0aChzdHlsZXMucGF0aC5wcm90ZWN0ZWRWYWx1ZSwgdGhpcy5jb250ZXh0LCAhIXN0eWxlcy5pbnRlcnBvbGF0aW9uLCAhIXN0eWxlcy5maWxsKVxyXG4gICAgICAgIGlmICghIXN0eWxlcy5maWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSAncmdiYSgwLDAsMCwxKSdcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGwoKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VTdHlsZSA9ICdyZ2JhKDAsMCwwLDEpJ1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlKClcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnJlc3RvcmUoKVxyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrKHBvaW50ZXI6IE5kTnVtZXJpY0FycmF5MmQpIHtcclxuICAgICAgICBpZiAocG9pbnRlclswXSA+IDAgJiYgcG9pbnRlclswXSA8IHRoaXMuY29udGV4dC5jYW52YXMud2lkdGggJiYgcG9pbnRlclsxXSA+IDAgJiYgcG9pbnRlclsxXSA8IHRoaXMuY29udGV4dC5jYW52YXMuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBpeGVsID0gdGhpcy5jb250ZXh0LmdldEltYWdlRGF0YShwb2ludGVyWzBdLCBwb2ludGVyWzFdLCAxLCAxKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwaXhlbClcclxuICAgICAgICAgICAgaWYgKHBpeGVsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gISFwaXhlbC5kYXRhWzNdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IE5kTW9kZUFzc2VtYmxlciBmcm9tICcuL2NsYXNzZXMvTmRNb2RlQXNzZW1ibGVyJztcclxuaW1wb3J0IE5kTm9kZUJveCBmcm9tICcuL2NsYXNzZXMvTmROb2RlQm94JztcclxuaW1wb3J0IE5kTW9kQmFzZSBmcm9tICcuL21vZGVscy9OZE1vZEJhc2UnO1xyXG5pbXBvcnQgTmRNb2RGcmVlU3Ryb2tlIGZyb20gJy4vbW9kZWxzL05kTW9kRnJlZVN0cm9rZSc7XHJcbmltcG9ydCBOZE1vZEFuY2hvciBmcm9tICcuL21vZGVscy9OZE1vZEFuY2hvcic7XHJcbmltcG9ydCBOb2RlIGZyb20gJy4vTm9kZSc7XHJcbmltcG9ydCBOb2RhcyBmcm9tICcuLi8uLi9Ob2Rhcyc7XHJcbmltcG9ydCBOZE5vZGVTdHlsZXNNb2RlbCBmcm9tICcuL2NsYXNzZXMvTmROb2RlU3R5bGVzTW9kZWwnO1xyXG5pbXBvcnQgTmROb2RlRW1waXJpY2FsTW91c2VDaGVja2VyIGZyb20gJy4vY2xhc3Nlcy9OZE5vZGVFbXBpcmljYWxNb3VzZUNoZWNrZXInO1xyXG5pbXBvcnQge05kTnVtZXJpY0FycmF5MmR9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcblxyXG50eXBlIExpbmVOb2RlTW9kZWwgPSBOZE1vZEZyZWVTdHJva2UgJiBOZE1vZEFuY2hvciAmIE5kTW9kQmFzZVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGluZSBleHRlbmRzIE5vZGU8TGluZU5vZGVNb2RlbD4ge1xyXG4gICAgcHJpdmF0ZSB4U2hpZnQ6IG51bWJlciA9IDBcclxuICAgIHByaXZhdGUgeVNoaWZ0OiBudW1iZXIgPSAwXHJcbiAgICBwcml2YXRlIHN0cm9rZUZpeDogbnVtYmVyID0gMFxyXG4gICAgcHJpdmF0ZSBpbnRlcnBvbGF0aW9uRml4OiBudW1iZXIgPSAwXHJcbiAgICBwcml2YXRlIGludGVycG9sYXRlZDogYm9vbGVhbiA9IGZhbHNlXHJcbiAgICBwcml2YXRlIG1vdXNlVGVzdGVyOiBOZE5vZGVFbXBpcmljYWxNb3VzZUNoZWNrZXIgPSBuZXcgTmROb2RlRW1waXJpY2FsTW91c2VDaGVja2VyKClcclxuXHJcbiAgICBwcm90ZWN0ZWQgQXNzZW1ibGVyOiBOZE1vZGVBc3NlbWJsZXIgPSBuZXcgTmRNb2RlQXNzZW1ibGVyKFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdzdHJva2UnLFxyXG4gICAgICAgICAgICByZXNvbHZlcjogKGNvbnRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHRoaXMuYm91bmRpbmdSZWN0Lm1hcmdpblszXSAtIHRoaXMueFNoaWZ0LCB0aGlzLmJvdW5kaW5nUmVjdC5tYXJnaW5bMF0gLSB0aGlzLnlTaGlmdClcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pbnRlcnBvbGF0ZWQgJiYgdGhpcy5kYXRhLmludGVycG9sYXRpb24ucHJvdGVjdGVkVmFsdWUgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgTmROb2RlU3R5bGVzTW9kZWwuaW50ZXJwb2xhdGUodGhpcy5kYXRhLnBhdGgucHJvdGVjdGVkVmFsdWUsIHRoaXMuZGF0YS5pbnRlcnBvbGF0aW9uLnByb3RlY3RlZFZhbHVlLCBmYWxzZSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIExpbmUuZHJhd1N0cm9rZSh0aGlzLmRhdGEsIGNvbnRleHQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdKVxyXG4gICAgcHJvdGVjdGVkIEJveDogTmROb2RlQm94ID0gbmV3IE5kTm9kZUJveCh0aGlzLCB0aGlzLkNhY2hlLCAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHBvc2l0aW9uID0gWy4uLnRoaXMuZGF0YS5wb3NpdGlvbi5wcm90ZWN0ZWRWYWx1ZV0gYXMgTmROdW1lcmljQXJyYXkyZCxcclxuICAgICAgICAgICAgZml4ID0gTWF0aC5tYXgodGhpcy5zdHJva2VGaXgsIHRoaXMuaW50ZXJwb2xhdGlvbkZpeCksXHJcbiAgICAgICAgICAgIG1pbnggPSBJbmZpbml0eSxcclxuICAgICAgICAgICAgbWlueSA9IEluZmluaXR5LFxyXG4gICAgICAgICAgICBtYXh4ID0gLUluZmluaXR5LFxyXG4gICAgICAgICAgICBtYXh5ID0gLUluZmluaXR5O1xyXG5cclxuICAgICAgICB0aGlzLmRhdGEucGF0aC5wcm90ZWN0ZWRWYWx1ZS5mb3JFYWNoKHYgPT4ge1xyXG4gICAgICAgICAgICBpZiAodlswXSA8IG1pbngpIHtcclxuICAgICAgICAgICAgICAgIG1pbnggPSB2WzBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZbMl0gPCBtaW54KSB7XHJcbiAgICAgICAgICAgICAgICBtaW54ID0gdlsyXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2WzFdIDwgbWlueSkge1xyXG4gICAgICAgICAgICAgICAgbWlueSA9IHZbMV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodlszXSA8IG1pbnkpIHtcclxuICAgICAgICAgICAgICAgIG1pbnkgPSB2WzNdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZbMF0gPiBtYXh4KSB7XHJcbiAgICAgICAgICAgICAgICBtYXh4ID0gdlswXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2WzJdID4gbWF4eCkge1xyXG4gICAgICAgICAgICAgICAgbWF4eCA9IHZbMl1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodlsxXSA+IG1heHkpIHtcclxuICAgICAgICAgICAgICAgIG1heHkgPSB2WzFdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZbM10gPiBtYXh5KSB7XHJcbiAgICAgICAgICAgICAgICBtYXh5ID0gdlszXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAobWlueCA9PT0gSW5maW5pdHkpIG1pbnggPSAwO1xyXG4gICAgICAgIGlmIChtaW55ID09PSBJbmZpbml0eSkgbWlueSA9IDA7XHJcbiAgICAgICAgaWYgKG1heHggPT09IC1JbmZpbml0eSkgbWF4eCA9IDA7XHJcbiAgICAgICAgaWYgKG1heHkgPT09IC1JbmZpbml0eSkgbWF4eCA9IDA7XHJcbiAgICAgICAgdGhpcy54U2hpZnQgPSBtaW54O1xyXG4gICAgICAgIHRoaXMueVNoaWZ0ID0gbWlueTtcclxuICAgICAgICBsZXQgd2lkdGggPSBNYXRoLmFicyhtYXh4IC0gbWlueClcclxuICAgICAgICBsZXQgaGVpZ2h0ID0gTWF0aC5hYnMobWF4eSAtIG1pbnkpXHJcbiAgICAgICAgTm9kZS5hcHBseUJveEFuY2hvcihwb3NpdGlvbix3aWR0aCxoZWlnaHQsdGhpcy5kYXRhKVxyXG4gICAgICAgIHJldHVybiBbcG9zaXRpb25bMF0gKyB0aGlzLnhTaGlmdCwgcG9zaXRpb25bMV0gKyB0aGlzLnlTaGlmdCwgd2lkdGgsIGhlaWdodCwgZml4LCBmaXgsIGZpeCwgZml4XVxyXG4gICAgfSlcclxuXHJcbiAgICBleHBvcnQ6IE5vZGU8TGluZU5vZGVNb2RlbD5bJ2V4cG9ydCddID0gKCkgPT4gdGhpcy5Bc3NlbWJsZXIuZXhwb3J0KHRoaXMpO1xyXG4gICAgcmVuZGVyOiBOb2RlPExpbmVOb2RlTW9kZWw+WydyZW5kZXInXSA9IChjb250ZXh0KSA9PiB7XHJcbiAgICAgICAgTGluZS50cmFuc2Zvcm1Db250ZXh0KHRoaXMsIGNvbnRleHQpXHJcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5Bc3NlbWJsZXIuZXhwb3J0KHRoaXMpLCAwLCAwKVxyXG4gICAgICAgIHJldHVybiBjb250ZXh0XHJcbiAgICB9XHJcbiAgICB0ZXN0OiBOb2RlPExpbmVOb2RlTW9kZWw+Wyd0ZXN0J10gPSAoY3Vyc29yKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubW91c2VUZXN0ZXIuY2hlY2sodGhpcy5tYXRyaXgudHJhY2VDdXJzb3JUb0xvY2FsU3BhY2UoWy4uLmN1cnNvcl0pKSA/IHRoaXMgOiBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIGFwcDogTm9kYXMpIHtcclxuICAgICAgICBzdXBlcihpZCwgey4uLm5ldyBOZE1vZEZyZWVTdHJva2UoKSwgLi4ubmV3IE5kTW9kQW5jaG9yKCksIC4uLm5ldyBOZE1vZEJhc2UoKX0sIGFwcCk7XHJcbiAgICAgICAgdGhpcy53YXRjaCgncGF0aCcsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wdXJnZUJveCgpXHJcbiAgICAgICAgICAgIHRoaXMuTWF0cml4LnB1cmdlKClcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKVxyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci5yZXNpemUoKVxyXG4gICAgICAgICAgICB0aGlzLm1vdXNlVGVzdGVyLnJlc2l6ZSh0aGlzLmJvdW5kaW5nUmVjdC5zaXplKVxyXG4gICAgICAgICAgICB0aGlzLm1vdXNlVGVzdGVyLnJlZHJhdyh0aGlzLmRhdGEpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLndhdGNoKCdzdHJva2VXaWR0aCcsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zdHJva2VGaXggPSB0aGlzLmRhdGEuc3Ryb2tlV2lkdGgucHJvdGVjdGVkVmFsdWUucmVkdWNlKChhY2MsIGN1cnJlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50ID4gYWNjID8gY3VycmVudCA6IGFjY1xyXG4gICAgICAgICAgICB9LCAwKVxyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpXHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnJlc2l6ZSgpXHJcbiAgICAgICAgICAgIHRoaXMubW91c2VUZXN0ZXIucmVzaXplKHRoaXMuYm91bmRpbmdSZWN0LnNpemUpXHJcbiAgICAgICAgICAgIHRoaXMubW91c2VUZXN0ZXIucmVkcmF3KHRoaXMuZGF0YSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMud2F0Y2goJ2ludGVycG9sYXRpb24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZXJwb2xhdGlvbkZpeCA9IE1hdGgucm91bmQoMjAgKiB0aGlzLmRhdGEuaW50ZXJwb2xhdGlvbi5wcm90ZWN0ZWRWYWx1ZSlcclxuICAgICAgICAgICAgdGhpcy5wdXJnZUJveCgpXHJcbiAgICAgICAgICAgIHRoaXMuTWF0cml4LnB1cmdlKClcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIucmVzaXplKClcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKVxyXG4gICAgICAgICAgICB0aGlzLm1vdXNlVGVzdGVyLnJlc2l6ZSh0aGlzLmJvdW5kaW5nUmVjdC5zaXplKVxyXG4gICAgICAgICAgICB0aGlzLm1vdXNlVGVzdGVyLnJlZHJhdyh0aGlzLmRhdGEpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLndhdGNoKFsnc3Ryb2tlU3R5bGUnLCAnc3Ryb2tlQ29sb3InXSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG5cclxufSIsImltcG9ydCB7TmRFeHBvcnRhYmxlLCBOZFVSTFN0cn0gZnJvbSAnLi4vTm9kZXMvQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5kRW1pdHRlciBmcm9tICcuL05kRW1pdHRlcic7XHJcbmltcG9ydCB7TkRCfSBmcm9tICcuLi9TZXJ2aWNlcy9Ob2Rhc0RlYnVnJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIE5kUmVzb3VyY2U8VCBleHRlbmRzIE5kRXhwb3J0YWJsZT4gZXh0ZW5kcyBOZEVtaXR0ZXI8eyBsb2FkOiBudWxsLCBlcnJvcjogbnVsbCB9PiB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNyYzogTmRVUkxTdHJcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgcmVzb2x2ZTogKCkgPT4gTmRSZXNvdXJjZTxUPlxyXG4gICAgcHJvdGVjdGVkIF9zdGF0dXM6IG51bWJlciA9IC0xXHJcbiAgICBwcm90ZWN0ZWQgcmVzb2x2ZWQ6IGJvb2xlYW4gPSBmYWxzZVxyXG4gICAgcHJvdGVjdGVkIF9kZXN0cm95ZWQ6IGJvb2xlYW4gPSBmYWxzZVxyXG4gICAgYWJzdHJhY3QgcmVhZG9ubHkgZXhwb3J0OiBUIHwgKCguLi5hcmdzOiBhbnkpID0+IHZvaWQpXHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHVybDogTmRVUkxTdHIsIHJlc29sdmU6ICgpID0+IE5kUmVzb3VyY2U8VD4pIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgdGhpcy5zcmMgPSB1cmxcclxuICAgICAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHVybCgpOiBOZFVSTFN0ciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3JjXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGxvYWRlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHVzID4gMFxyXG4gICAgfVxyXG5cclxuICAgIGdldCBlcnJvcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHVzID09IDBcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZGVzdHJveWVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kZXN0cm95ZWRcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fZGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKClcclxuICAgICAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZVxyXG4gICAgICAgIH0gZWxzZSBOREIud2FybihgRGVzdHJveWluZyBhbHJlYWR5IGRlc3Ryb3llZCByZXNvdXJjZSAke3RoaXMudXJsfS4gSWdub3JlZGApXHJcbiAgICB9XHJcblxyXG4gICAgbG9hZCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2Rlc3Ryb3llZCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMucmVzb2x2ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZWQgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBOREIud2FybihgVHJ5aW5nIHRvIGxvYWQgZGVzdHJveWVkIHJlc291cmNlICR7dGhpcy51cmx9LiBJZ25vcmVkYClcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7TkRCfSBmcm9tICcuL05vZGFzRGVidWcnO1xyXG5pbXBvcnQge05kVVJMU3RyfSBmcm9tICcuLi9Ob2Rlcy9AdHlwZXMvdHlwZXMnO1xyXG5cclxuY2xhc3MgTm9kYXNSZXNvdXJjZXMge1xyXG5cclxuICAgIHByaXZhdGUgaW1hZ2VzOiB7XHJcbiAgICAgICAgW2tleTogc3RyaW5nXToge1xyXG4gICAgICAgICAgICBsb2FkZWQ6IGJvb2xlYW4sXHJcbiAgICAgICAgICAgIGxvYWRpbmc6IGJvb2xlYW4sXHJcbiAgICAgICAgICAgIG9uRXJyb3I6ICgoKSA9PiB2b2lkKVtdLFxyXG4gICAgICAgICAgICBvbkxvYWQ6ICgoKSA9PiB2b2lkKVtdLFxyXG4gICAgICAgICAgICBvblJlc2V0OiAoKCkgPT4gdm9pZClbXSxcclxuICAgICAgICAgICAgZXJyb3I6IGJvb2xlYW4sXHJcbiAgICAgICAgICAgIHNyYzogc3RyaW5nLFxyXG4gICAgICAgICAgICBpbWFnZTogSFRNTEltYWdlRWxlbWVudFxyXG4gICAgICAgIH1cclxuICAgIH0gPSB7fVxyXG5cclxuICAgIGltYWdlKHNyYzogc3RyaW5nLCBvbkxvYWQ/OiAoKSA9PiB2b2lkLCBvbkVycm9yPzogKCkgPT4gdm9pZCwgb25SZXNldD86ICgpID0+IHZvaWQpIHtcclxuICAgICAgICBpZiAodGhpcy5pbWFnZXNbc3JjXSkge1xyXG4gICAgICAgICAgICBOREIuaW5mbyhgRGlzcGF0Y2hlciByZXR1cm5lZCBjYWNoZWQgaW1hZ2UgJHtzcmN9YClcclxuICAgICAgICAgICAgaWYgKHRoaXMuaW1hZ2VzW3NyY10ubG9hZGluZykge1xyXG4gICAgICAgICAgICAgICAgaWYob25Mb2FkKSB0aGlzLmltYWdlc1tzcmNdLm9uTG9hZC5wdXNoKG9uTG9hZClcclxuICAgICAgICAgICAgICAgIGlmKG9uRXJyb3IpIHRoaXMuaW1hZ2VzW3NyY10ub25FcnJvci5wdXNoKG9uRXJyb3IpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbWFnZXNbc3JjXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbWFnZXNbc3JjXS5sb2FkZWQgJiYgb25Mb2FkKSBvbkxvYWQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbWFnZXNbc3JjXS5lcnJvciAmJiBvbkVycm9yKSBvbkVycm9yKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKG9uUmVzZXQpIHRoaXMuaW1hZ2VzW3NyY10ub25SZXNldC5wdXNoKG9uUmVzZXQpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgTkRCLmluZm8oYExvYWRpbmcgaW1hZ2UgJHtzcmN9YClcclxuICAgICAgICAgICAgdGhpcy5pbWFnZXNbc3JjXSA9IHtcclxuICAgICAgICAgICAgICAgIGxvYWRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBsb2FkaW5nOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgb25FcnJvcjogb25FcnJvcj8gW29uRXJyb3JdIDogW10sXHJcbiAgICAgICAgICAgICAgICBvbkxvYWQ6IG9uTG9hZCA/IFtvbkxvYWRdIDogW10sXHJcbiAgICAgICAgICAgICAgICBvblJlc2V0OiBvblJlc2V0ID8gW29uUmVzZXRdIDogW10sXHJcbiAgICAgICAgICAgICAgICBzcmM6IHNyYyxcclxuICAgICAgICAgICAgICAgIGltYWdlOiBuZXcgSW1hZ2UoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VzW3NyY10uaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIE5EQi5wb3NpdGl2ZShgSW1hZ2UgJHtzcmN9IGxvYWRlZC5gKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZXNbc3JjXS5sb2FkZWQgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1tzcmNdLmVycm9yID0gZmFsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VzW3NyY10ub25Mb2FkLmZvckVhY2godiA9PiB2KCkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1tzcmNdLm9uRXJyb3IgPSBbXVxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZXNbc3JjXS5vbkxvYWQgPSBbXVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB0aGlzLmltYWdlc1tzcmNdLmltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgTkRCLm5lZ2F0aXZlKGBJbWFnZSAke3NyY30gZmFpbGVkIHRvIGxvYWRgKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZXNbc3JjXS5sb2FkZWQgPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZXNbc3JjXS5lcnJvciA9IHRydWVcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VzW3NyY10ubG9hZGluZyA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1tzcmNdLm9uRXJyb3IuZm9yRWFjaCh2ID0+IHYoKSlcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VzW3NyY10ub25FcnJvciA9IFtdXHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1tzcmNdLm9uTG9hZCA9IFtdXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VzW3NyY10uaW1hZ2Uuc3JjID0gc3JjXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlc1tzcmNdLmltYWdlXHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXQoKSB7XHJcbiAgICAgICAgY29uc3QgaW1hZ2VzID0gT2JqZWN0LnZhbHVlcyh0aGlzLmltYWdlcylcclxuICAgICAgICB0aGlzLmltYWdlcyA9IHt9XHJcbiAgICAgICAgaW1hZ2VzLmZvckVhY2godiA9PiB2Lm9uUmVzZXQuZm9yRWFjaCh2ID0+IHYoKSkpXHJcbiAgICB9XHJcbiAgICBidWxrTG9hZChyZXNvdXJjZXM6TmRVUkxTdHJbXSkge1xyXG4gICAgICAgIHJlc291cmNlcy5mb3JFYWNoKHYgPT4ge3RoaXMuaW1hZ2Uodil9KVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgTkRSID0gbmV3IE5vZGFzUmVzb3VyY2VzKClcclxuZXhwb3J0IGRlZmF1bHQgTkRSXHJcbiIsImltcG9ydCBOZFJlc291cmNlIGZyb20gJy4vTmRSZXNvdXJjZSc7XHJcbmltcG9ydCB7TmRVUkxTdHJ9IGZyb20gJy4uL05vZGVzL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBORFIgZnJvbSAnLi4vU2VydmljZXMvTm9kYXNSZXNvdXJjZXMnO1xyXG5pbXBvcnQge05EQn0gZnJvbSAnLi4vU2VydmljZXMvTm9kYXNEZWJ1Zyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZEltYWdlIGV4dGVuZHMgTmRSZXNvdXJjZTwoKSA9PiBIVE1MSW1hZ2VFbGVtZW50PiB7XHJcbiAgICBwdWJsaWMgaW1hZ2U6SFRNTEltYWdlRWxlbWVudCB8IHVuZGVmaW5lZFxyXG4gICAgcHJpdmF0ZSBfc2l6ZTogW251bWJlciwgbnVtYmVyXSA9IFswLCAwXVxyXG5cclxuICAgIHByaXZhdGUgZGVmaW5lSW1hZ2UgKHVybDpOZFVSTFN0cikge1xyXG4gICAgICAgIGlmKCF0aGlzLmRlc3Ryb3llZCkge1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlID0gTkRSLmltYWdlKHVybCxcclxuICAgICAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2l6ZVswXSA9IHRoaXMuaW1hZ2Uud2lkdGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2l6ZVsxXSA9IHRoaXMuaW1hZ2UuaGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIE5EQi5lcnJvcignVW5hYmxlIHRvIHNldCBzaXplIG9mIGltYWdlIHRoYXQgd2FzIG5vdCB5ZXQgZGVmaW5lZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXN0KCdsb2FkJywgbnVsbClcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gMFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FzdCgnbG9hZCcsIG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXN0KCdlcnJvcicsIG51bGwpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgKCkgPT4gdGhpcy5kZWZpbmVJbWFnZSh1cmwpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9IGVsc2UgTkRCLmluZm8oYFNwcml0ZSAke3VybH0gaGFzIGJlZW4gZGVzdHJveWVkLiBMb2FkIHNraXBwZWQuYClcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG4gICAgY29uc3RydWN0b3IodXJsOiBOZFVSTFN0cikge1xyXG4gICAgICAgIHN1cGVyKHVybCwgKCkgPT4gdGhpcy5kZWZpbmVJbWFnZSh1cmwpKTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgPSAoKSA9PiB0aGlzLmltYWdlXHJcblxyXG4gICAgZ2V0IHdpZHRoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zaXplWzBdXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZVsxXVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiBbLi4udGhpcy5fc2l6ZV1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgTmRVcmxTdHJSZWdleCA9IC8oXi4rXFwuKHBuZyl8KGpwZyldKSQvXHJcblxyXG4gICAgc3RhdGljIGlzTmRVcmxTdHJSZWdleChzdHI6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBOZEltYWdlLk5kVXJsU3RyUmVnZXgudGVzdChzdHIpXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtOZEFyckNvbG9yLCBOZEJnLCBOZEJnU2l6ZSwgTmRDb2xvclN0ciwgTmRQZXJjZW50U3RyLCBOZFBvc2l0aW9uLCBOZFBvc2l0aW9uQXJyLCBOZFVSTFN0cn0gZnJvbSAnLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5kSW1hZ2UgZnJvbSAnLi4vLi4vY2xhc3Nlcy9OZEltYWdlJztcclxuaW1wb3J0IHtOZE51bWVyaWNBcnJheTJkfSBmcm9tICcuLi8uLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgTmROb2RlU3R5bGVzTW9kZWwgZnJvbSAnLi4vY2xhc3Nlcy9OZE5vZGVTdHlsZXNNb2RlbCc7XHJcbmltcG9ydCBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQgZnJvbSAnLi4vY2xhc3Nlcy9OZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQnO1xyXG5pbXBvcnQgTmRTdHlsZXNQcm9wZXJ0eSBmcm9tICcuLi9jbGFzc2VzL05kTm9kZVN0eWxlUHJvcGVydHknO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmRNb2RCZyBleHRlbmRzIE5kTm9kZVN0eWxlc01vZGVsIHtcclxuXHJcbiAgICBzdGF0aWMgbm9ybWFsaXplQmdQb3NpdGlvbih2YWx1ZTogTmRQb3NpdGlvbik6IE5kUGVyY2VudFN0ciB8IG51bWJlciB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnbGVmdCcgfHwgdmFsdWUgPT0gJ3RvcCcpIHJldHVybiAnMCUnXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSAnYm90dG9tJyB8fCB2YWx1ZSA9PT0gJ3JpZ2h0JykgcmV0dXJuICcxMDAlJ1xyXG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gJ2NlbnRlcicgfHwgdmFsdWUgPT09ICdtaWRkbGUnKSByZXR1cm4gJzUwJSdcclxuICAgICAgICAgICAgZWxzZSByZXR1cm4gdmFsdWVcclxuICAgICAgICB9IGVsc2UgcmV0dXJuIHZhbHVlXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlYWRCZ1Bvc2l0aW9uKGJveFNpemU6IE5kTnVtZXJpY0FycmF5MmQsIGJnU2l6ZTogTmRCZ1NpemUsIGltYWdlOiBOZEltYWdlLCBkaXI6IDAgfCAxLCB2YWx1ZTogTmRQb3NpdGlvbikge1xyXG4gICAgICAgIGxldCBwb3NpdGlvblZhbHVlID0gdGhpcy5ub3JtYWxpemVCZ1Bvc2l0aW9uKHZhbHVlKVxyXG4gICAgICAgIGNvbnN0IGJnU2l6ZVZhbHVlID0gdGhpcy5yZWFkQmdTaXplKGJveFNpemUsIGltYWdlLCBkaXIsIGJnU2l6ZVtkaXJdKVxyXG4gICAgICAgIGlmICh0eXBlb2YgcG9zaXRpb25WYWx1ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uVmFsdWVcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gKGJveFNpemVbZGlyXSAtIGJnU2l6ZVZhbHVlKSAqIE5kTm9kZVN0eWxlc01vZGVsLmV4dHJhY3RQZXJjZW50RnJhY3Rpb24ocG9zaXRpb25WYWx1ZSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlYWRCZ1NpemUoYm94U2l6ZTogTmROdW1lcmljQXJyYXkyZCwgYmc6IE5kSW1hZ2UsIGRpcjogbnVtYmVyLCB2YWx1ZTogKE5kUGVyY2VudFN0ciAmIHN0cmluZykgfCAoJ2F1dG8nICYgc3RyaW5nKSB8IG51bWJlcikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gJ2F1dG8nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm94U2l6ZVtkaXJdICogTmRNb2RCZy5leHRyYWN0UGVyY2VudEZyYWN0aW9uKHZhbHVlKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJnKSByZXR1cm4gYmcuc2l6ZVtkaXJdXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZpbGwgPSBuZXcgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkPE5kQ29sb3JTdHIsIE5kQ29sb3JTdHIsIE5kQ29sb3JTdHIgfCBOZEFyckNvbG9yLCBOZEFyckNvbG9yPlxyXG4gICAgKFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgJ3JnYmEoMCwwLDAsMCknLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiBjdXJyZW50LFxyXG4gICAgICAgICh2YWx1ZSkgPT5cclxuICAgICAgICAgICAgdmFsdWUgaW5zdGFuY2VvZiBBcnJheSA/IE5kTm9kZVN0eWxlc01vZGVsLmFycmF5VG9Db2xvcih2YWx1ZSkgOiB2YWx1ZSxcclxuICAgICAgICAoY3VycmVudCwgdmFsdWUsIHNldFN0YXJ0LCBzZXRFbmQpID0+IHtcclxuICAgICAgICAgICAgc2V0U3RhcnQoTmROb2RlU3R5bGVzTW9kZWwuY29sb3JUb0FycmF5KGN1cnJlbnQpKVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgc2V0RW5kKE5kTm9kZVN0eWxlc01vZGVsLmNvbG9yVG9BcnJheSh2YWx1ZSkpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZXRFbmQodmFsdWUpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gTmROb2RlU3R5bGVzTW9kZWwubm9ybWFsaXplQ29sb3IodmFsdWUpXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG4gICAgYmcgPSBuZXcgTmRTdHlsZXNQcm9wZXJ0eTxOZEltYWdlW10sXHJcbiAgICAgICAgTmRVUkxTdHJbXSxcclxuICAgICAgICBOZEJnIHwgeyBba2V5OiBudW1iZXJdOiBOZFVSTFN0ciB8IE5kSW1hZ2UgfSB8IGZhbHNlID4oXHJcbiAgICAgICAgMCxcclxuICAgICAgICBbXSxcclxuICAgICAgICAoY3VycmVudCkgPT4gY3VycmVudC5tYXAodiA9PiB2LnVybCksXHJcbiAgICAgICAgKHZhbHVlLCBlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IE5kSW1hZ2VbXSA9IFsuLi50aGlzLmJnLnByb3RlY3RlZFZhbHVlXVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICBOZE1vZEJnLmRlc3Ryb3lCYWNrZ3JvdW5kKHRoaXMpXHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbWFnZSA9IG5ldyBOZEltYWdlKHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgaW1hZ2Uub25jZSgnbG9hZCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iZy5wcm90ZWN0ZWRWYWx1ZVswXSA9PT0gaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTmRNb2RCZy51cGRhdGVTaXplQW5kUG9zaXRpb24odGhpcywgZWxlbWVudC5ib3guc2l6ZSwgMCwgaW1hZ2UpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGltYWdlLmxvYWQoKVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gW2ltYWdlXVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIE5kTW9kQmcuZGVzdHJveUJhY2tncm91bmQodGhpcylcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbMF0gPT09ICdzdHJpbmcnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9ICh2YWx1ZSBhcyBOZFVSTFN0cltdKS5tYXAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICh2LCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlID0gbmV3IE5kSW1hZ2UodilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW1hZ2UubG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uub25jZSgnbG9hZCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmRNb2RCZy51cGRhdGVTaXplQW5kUG9zaXRpb24odGhpcywgZWxlbWVudC5ib3guc2l6ZSwga2V5LCBpbWFnZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIE5kTW9kQmcudXBkYXRlU2l6ZUFuZFBvc2l0aW9uKHRoaXMsIGVsZW1lbnQuYm94LnNpemUsIGtleSwgaW1hZ2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW1hZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gWy4uLih2YWx1ZSBhcyBOZEltYWdlW10pLm1hcChcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHYsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2LmxvYWRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYub25jZSgnbG9hZCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYmcucHJvdGVjdGVkVmFsdWVba2V5XSA9PT0gdikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmRNb2RCZy51cGRhdGVTaXplQW5kUG9zaXRpb24odGhpcywgZWxlbWVudC5ib3guc2l6ZSwga2V5LCB2KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5kTW9kQmcudXBkYXRlU2l6ZUFuZFBvc2l0aW9uKHRoaXMsIGVsZW1lbnQuYm94LnNpemUsIGtleSwgdilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICApXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTmRJbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIE5kTW9kQmcuZGVzdHJveUJhY2tncm91bmQodGhpcylcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbdmFsdWVdXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZS5sb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUub25jZSgnbG9hZCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5kTW9kQmcudXBkYXRlU2l6ZUFuZFBvc2l0aW9uKHRoaXMsIGVsZW1lbnQuYm94LnNpemUsIDAsIHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5kTW9kQmcudXBkYXRlU2l6ZUFuZFBvc2l0aW9uKHRoaXMsIGVsZW1lbnQuYm94LnNpemUsIDAsIHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZih0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcHJvcCBpbiAodmFsdWUgYXMgeyBba2V5OiBudW1iZXJdOiBOZFVSTFN0ciB8IE5kSW1hZ2UgfSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFtwcm9wXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtwcm9wXSA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlW3Byb3BdICE9PSByZXN1bHRbcHJvcF0udXJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtwcm9wXS5kZXN0cm95KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgTmRJbWFnZSgodmFsdWVbcHJvcF0gYXMgTmRVUkxTdHIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5vbmNlKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmRNb2RCZy51cGRhdGVTaXplQW5kUG9zaXRpb24odGhpcywgZWxlbWVudC5ib3guc2l6ZSwgcGFyc2VJbnQocHJvcCksIGltYWdlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbcHJvcF0gPSBpbWFnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbcHJvcF0uZGVzdHJveSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZSA9IHZhbHVlW3Byb3BdIGFzIE5kSW1hZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW1hZ2UubG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uub25jZSgnbG9hZCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmRNb2RCZy51cGRhdGVTaXplQW5kUG9zaXRpb24odGhpcywgZWxlbWVudC5ib3guc2l6ZSwgcGFyc2VJbnQocHJvcCksIGltYWdlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgTmRNb2RCZy51cGRhdGVTaXplQW5kUG9zaXRpb24odGhpcywgZWxlbWVudC5ib3guc2l6ZSwgcGFyc2VJbnQocHJvcCksIGltYWdlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVbcHJvcF0gYXMgTmRJbWFnZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIE5kTW9kQmcuZGVzdHJveUJhY2tncm91bmQodGhpcylcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZFBvc2l0aW9uLnN5bmMocmVzdWx0LCBbMCwgMF0pXHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZFBvc2l0aW9uTnVtZXJpYy5zeW5jKHJlc3VsdCwgWzAsIDBdKVxyXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmRTaXplLnN5bmMocmVzdWx0LCBbJ2F1dG8nLCAnYXV0byddKVxyXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmRTaXplTnVtZXJpYy5zeW5jKHJlc3VsdCwgW1xyXG4gICAgICAgICAgICAgICAgKGtleTogbnVtYmVyKSA9PiBOZE1vZEJnLnJlYWRCZ1NpemUoZWxlbWVudC5ib3guc2l6ZSwgdGhpcy5iZy5wcm90ZWN0ZWRWYWx1ZVtrZXldLCAwLCAnYXV0bycpLFxyXG4gICAgICAgICAgICAgICAgKGtleTogbnVtYmVyKSA9PiBOZE1vZEJnLnJlYWRCZ1NpemUoZWxlbWVudC5ib3guc2l6ZSwgdGhpcy5iZy5wcm90ZWN0ZWRWYWx1ZVtrZXldLCAxLCAnYXV0bycpXHJcbiAgICAgICAgICAgIF0pXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICBiYWNrZ3JvdW5kU2l6ZSA9IG5ldyBOZFN0eWxlc1Byb3BlcnR5PE5kQmdTaXplW10sXHJcbiAgICAgICAgTmRCZ1NpemVbXSxcclxuICAgICAgICBOZEJnU2l6ZSB8IE5kQmdTaXplW10gfCB7IFtrZXk6IG51bWJlcl06IE5kQmdTaXplIH0gfCAoTmRQZXJjZW50U3RyICYgc3RyaW5nKSB8IG51bWJlcj4oXHJcbiAgICAgICAgMSxcclxuICAgICAgICBbXSxcclxuICAgICAgICAoY3VycmVudCkgPT4gY3VycmVudC5tYXAoKHYpID0+IFt2WzBdLCB2WzFdXSksXHJcbiAgICAgICAgKHZhbHVlLCBlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IE5kQmdTaXplW10gPSB0aGlzLmJhY2tncm91bmRTaXplLnByb3RlY3RlZFZhbHVlXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgPyB2YWx1ZSA8IDAgPyAwIDogdmFsdWUgOiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYmcucHJvdGVjdGVkVmFsdWUubWFwKCgpID0+IChbdmFsdWUsIHZhbHVlXSBhcyBOZEJnU2l6ZSkpXHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbMF0gPT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlWzBdID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IHZhbHVlIGFzIE5kQmdTaXplXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5iZy5wcm90ZWN0ZWRWYWx1ZS5tYXAoKCkgPT4gW3ZhbFswXSwgdmFsWzFdXSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gKHZhbHVlIGFzIE5kQmdTaXplW10pXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5iZy5wcm90ZWN0ZWRWYWx1ZS5tYXAoKHYsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsW2tleV0gP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3ZhbFtrZXldWzBdLCB2YWxba2V5XVsxXV0gOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iZy5wcm90ZWN0ZWRWYWx1ZVtrZXldID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJnLnByb3RlY3RlZFZhbHVlW2tleV0gOiBbJ2F1dG8nLCAnYXV0byddXHJcbiAgICAgICAgICAgICAgICAgICAgfSkgYXMgTmRCZ1NpemVbXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQga2V5IGluICh2YWx1ZSBhcyB7IFtrZXk6IG51bWJlcl06IE5kQmdTaXplIH0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFtrZXldKSByZXN1bHRba2V5XSA9IFt2YWx1ZVtrZXldWzBdLCB2YWx1ZVtrZXldWzFdXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZFNpemVOdW1lcmljLnN5bmMocmVzdWx0LCBbXHJcbiAgICAgICAgICAgICAgICAoa2V5KSA9PiBOZE1vZEJnLnJlYWRCZ1NpemUoZWxlbWVudC5ib3guc2l6ZSwgdGhpcy5iZy5wcm90ZWN0ZWRWYWx1ZVtrZXldLCAwLCByZXN1bHRba2V5XVswXSksXHJcbiAgICAgICAgICAgICAgICAoa2V5KSA9PiBOZE1vZEJnLnJlYWRCZ1NpemUoZWxlbWVudC5ib3guc2l6ZSwgdGhpcy5iZy5wcm90ZWN0ZWRWYWx1ZVtrZXldLCAxLCByZXN1bHRba2V5XVsxXSlcclxuICAgICAgICAgICAgXSlcclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kUG9zaXRpb24uc3luYyhyZXN1bHQsIFswLCAwXSlcclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kUG9zaXRpb25OdW1lcmljLnN5bmMocmVzdWx0LCBbMCwgMF0pXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICBiYWNrZ3JvdW5kU2l6ZU51bWVyaWMgPSBuZXcgTmRTdHlsZXNQcm9wZXJ0eTxbbnVtYmVyLCBudW1iZXJdW10sIFtudW1iZXIsIG51bWJlcl1bXSwgdm9pZD4oXHJcbiAgICAgICAgMSxcclxuICAgICAgICBbXSxcclxuICAgICAgICAoY3VycmVudCkgPT4gWy4uLmN1cnJlbnRdXHJcbiAgICApXHJcbiAgICBiYWNrZ3JvdW5kUG9zaXRpb24gPSBuZXcgTmRTdHlsZXNQcm9wZXJ0eTxOZFBvc2l0aW9uQXJyW10sIE5kUG9zaXRpb25BcnJbXSwgTmRQb3NpdGlvbkFycltdIHwgTmRQb3NpdGlvbkFyciB8IHsgW2tleTogbnVtYmVyXTogTmRQb3NpdGlvbkFyciB9IHwgTmRQb3NpdGlvbj4oXHJcbiAgICAgICAgMixcclxuICAgICAgICBbXSxcclxuICAgICAgICAoY3VycmVudCkgPT4gY3VycmVudC5tYXAodiA9PiBbdlswXSwgdlsxXV0pLFxyXG4gICAgICAgICh2YWx1ZSwgZWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBOZFBvc2l0aW9uQXJyW10gPSB0aGlzLmJhY2tncm91bmRQb3NpdGlvbi5wcm90ZWN0ZWRWYWx1ZVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKC9eW1xcZC5dKyUkLy50ZXN0KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYmcucHJvdGVjdGVkVmFsdWUubWFwKCgpID0+IChbdmFsdWUsIHZhbHVlXSBhcyBbTmRQZXJjZW50U3RyLCBOZFBlcmNlbnRTdHJdKSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgvXihsZWZ0fGNlbnRlcnxyaWdodCkkLy50ZXN0KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYmcucHJvdGVjdGVkVmFsdWUubWFwKCh2YWwsIGtleSkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRQb3NpdGlvbi5wcm90ZWN0ZWRWYWx1ZVtrZXldID8gdGhpcy5iYWNrZ3JvdW5kUG9zaXRpb24ucHJvdGVjdGVkVmFsdWVba2V5XVsxXSA6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgvXih0b3B8bWlkZGxlfGJvdHRvbSkkLy50ZXN0KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYmcucHJvdGVjdGVkVmFsdWUubWFwKCh2YWwsIGtleSkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kUG9zaXRpb24ucHJvdGVjdGVkVmFsdWVba2V5XSA/IHRoaXMuYmFja2dyb3VuZFBvc2l0aW9uLnByb3RlY3RlZFZhbHVlW2tleV1bMF0gOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5iZy5wcm90ZWN0ZWRWYWx1ZS5tYXAoKCkgPT4gW3ZhbHVlLCB2YWx1ZV0pXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlWzBdIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSAodmFsdWUgYXMgTmRQb3NpdGlvbkFycltdKVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYmcucHJvdGVjdGVkVmFsdWUubWFwKCh2LCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbFtrZXldID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt2YWxba2V5XVswXSwgdmFsW2tleV1bMV1dIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZFBvc2l0aW9uLnByb3RlY3RlZFZhbHVlW2tleV0gP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZFBvc2l0aW9uLnByb3RlY3RlZFZhbHVlW2tleV0gOiBbMCwgMF1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVswXSA9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWVbMF0gPT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSAodmFsdWUgYXMgTmRQb3NpdGlvbkFycilcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJnLnByb3RlY3RlZFZhbHVlLm1hcCgoKSA9PiBbdmFsWzBdLCB2YWxbMV1dKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQga2V5IGluICh2YWx1ZSBhcyB7IFtrZXk6IG51bWJlcl06IE5kUG9zaXRpb25BcnIgfSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0W2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBbdmFsdWVba2V5XVswXSwgdmFsdWVba2V5XVsxXV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kUG9zaXRpb25OdW1lcmljLnN5bmMocmVzdWx0LCBbXHJcbiAgICAgICAgICAgICAgICAoa2V5KSA9PiBOZE1vZEJnLnJlYWRCZ1Bvc2l0aW9uKGVsZW1lbnQuYm94LnNpemUsIHRoaXMuYmFja2dyb3VuZFNpemUucHJvdGVjdGVkVmFsdWVba2V5XSwgdGhpcy5iZy5wcm90ZWN0ZWRWYWx1ZVtrZXldLCAwLCByZXN1bHRba2V5XVswXSksXHJcbiAgICAgICAgICAgICAgICAoa2V5KSA9PiBOZE1vZEJnLnJlYWRCZ1Bvc2l0aW9uKGVsZW1lbnQuYm94LnNpemUsIHRoaXMuYmFja2dyb3VuZFNpemUucHJvdGVjdGVkVmFsdWVba2V5XSwgdGhpcy5iZy5wcm90ZWN0ZWRWYWx1ZVtrZXldLCAwLCByZXN1bHRba2V5XVsxXSlcclxuICAgICAgICAgICAgXSlcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICAgIH1cclxuICAgIClcclxuICAgIGJhY2tncm91bmRQb3NpdGlvbk51bWVyaWMgPSBuZXcgTmRTdHlsZXNQcm9wZXJ0eTxbbnVtYmVyLCBudW1iZXJdW10sIFtudW1iZXIsIG51bWJlcl1bXSwgdm9pZD4oXHJcbiAgICAgICAgMixcclxuICAgICAgICBbXSxcclxuICAgICAgICAoY3VycmVudCkgPT4gWy4uLmN1cnJlbnRdXHJcbiAgICApXHJcbiAgICBzdGF0aWMgdXBkYXRlU2l6ZUFuZFBvc2l0aW9uID0gKG1vZGVsOiBOZE1vZEJnLCBib3g6IFtudW1iZXIsIG51bWJlcl0sIGtleTogbnVtYmVyLCB2YWx1ZTogTmRJbWFnZSkgPT4ge1xyXG4gICAgICAgIGlmICh0eXBlb2YgbW9kZWwuYmFja2dyb3VuZFNpemUucHJvdGVjdGVkVmFsdWVba2V5XVswXSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgbW9kZWwuYmFja2dyb3VuZFNpemVOdW1lcmljLnByb3RlY3RlZFZhbHVlW2tleV1bMF0gPSBOZE1vZEJnLnJlYWRCZ1NpemUoYm94LCB2YWx1ZSwgMCwgbW9kZWwuYmFja2dyb3VuZFNpemUucHJvdGVjdGVkVmFsdWVba2V5XVswXSlcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBtb2RlbC5iYWNrZ3JvdW5kU2l6ZS5wcm90ZWN0ZWRWYWx1ZVtrZXldWzFdID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBtb2RlbC5iYWNrZ3JvdW5kU2l6ZU51bWVyaWMucHJvdGVjdGVkVmFsdWVba2V5XVsxXSA9IE5kTW9kQmcucmVhZEJnU2l6ZShib3gsIHZhbHVlLCAxLCBtb2RlbC5iYWNrZ3JvdW5kU2l6ZS5wcm90ZWN0ZWRWYWx1ZVtrZXldWzFdKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG1vZGVsLmJhY2tncm91bmRQb3NpdGlvbi5wcm90ZWN0ZWRWYWx1ZVtrZXldWzBdID09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIG1vZGVsLmJhY2tncm91bmRQb3NpdGlvbk51bWVyaWMucHJvdGVjdGVkVmFsdWVba2V5XVswXSA9IE5kTW9kQmcucmVhZEJnUG9zaXRpb24oXHJcbiAgICAgICAgICAgICAgICBib3gsXHJcbiAgICAgICAgICAgICAgICBtb2RlbC5iYWNrZ3JvdW5kU2l6ZS5wcm90ZWN0ZWRWYWx1ZVtrZXldLFxyXG4gICAgICAgICAgICAgICAgbW9kZWwuYmcucHJvdGVjdGVkVmFsdWVba2V5XSwgMCwgbW9kZWwuYmFja2dyb3VuZFBvc2l0aW9uLnByb3RlY3RlZFZhbHVlW2tleV1bMF0pXHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG1vZGVsLmJhY2tncm91bmRQb3NpdGlvbi5wcm90ZWN0ZWRWYWx1ZVtrZXldWzFdID09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIG1vZGVsLmJhY2tncm91bmRQb3NpdGlvbk51bWVyaWMucHJvdGVjdGVkVmFsdWVba2V5XVsxXSA9IE5kTW9kQmcucmVhZEJnUG9zaXRpb24oXHJcbiAgICAgICAgICAgICAgICBib3gsXHJcbiAgICAgICAgICAgICAgICBtb2RlbC5iYWNrZ3JvdW5kU2l6ZS5wcm90ZWN0ZWRWYWx1ZVtrZXldLFxyXG4gICAgICAgICAgICAgICAgbW9kZWwuYmcucHJvdGVjdGVkVmFsdWVba2V5XSwgMSwgbW9kZWwuYmFja2dyb3VuZFBvc2l0aW9uLnByb3RlY3RlZFZhbHVlW2tleV1bMV0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhdGljIGRlc3Ryb3lCYWNrZ3JvdW5kKGRhdGE6TmRNb2RCZykge1xyXG4gICAgICAgIGlmKGRhdGEuYmcucHJvdGVjdGVkVmFsdWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGRhdGEuYmcucHJvdGVjdGVkVmFsdWUuZm9yRWFjaCh2ID0+IHYuZGVzdHJveSgpKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBOZFN0eWxlc1Byb3BlcnR5IGZyb20gJy4uL2NsYXNzZXMvTmROb2RlU3R5bGVQcm9wZXJ0eSc7XHJcbmltcG9ydCB7TmRBcnJDb2xvciwgTmRDb2xvclN0ciwgTmRTdHJva2VTdHlsZX0gZnJvbSAnLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5kTm9kZVN0eWxlUHJvcGVydHlBbmltYXRlZCBmcm9tICcuLi9jbGFzc2VzL05kTm9kZVN0eWxlUHJvcGVydHlBbmltYXRlZCc7XHJcbmltcG9ydCBOZE5vZGVTdHlsZXNNb2RlbCBmcm9tICcuLi9jbGFzc2VzL05kTm9kZVN0eWxlc01vZGVsJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kTW9kQ2lyYyBleHRlbmRzIE5kTm9kZVN0eWxlc01vZGVsIHtcclxuXHJcbiAgICByYWRpdXMgPSBuZXcgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkPG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcj4oXHJcbiAgICAgICAgMCxcclxuICAgICAgICAwLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiBjdXJyZW50LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDBcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAoY3VycmVudCwgdmFsdWUsIHNldFN0YXJ0LCBzZXRFbmQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICBzZXRTdGFydChjdXJyZW50KVxyXG4gICAgICAgICAgICBzZXRFbmQodmFsdWUpXHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICBzdHJva2VXaWR0aCA9IG5ldyBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQ8bnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyPihcclxuICAgICAgICAwLFxyXG4gICAgICAgIDEsXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IGN1cnJlbnQsXHJcbiAgICAgICAgKHZhbHVlKSA9PiB2YWx1ZSA8IDAgPyAwIDogdmFsdWUsXHJcbiAgICAgICAgKGN1cnJlbnQsIHZhbHVlLCBzZXRTdGFydCwgc2V0RW5kKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgc2V0U3RhcnQoY3VycmVudClcclxuICAgICAgICAgICAgc2V0RW5kKHZhbHVlKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMDtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG4gICAgc3Ryb2tlQ29sb3IgPSBuZXcgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkPE5kQ29sb3JTdHIsIE5kQ29sb3JTdHIsIE5kQ29sb3JTdHIgfCBOZEFyckNvbG9yLCBOZEFyckNvbG9yPihcclxuICAgICAgICAwLFxyXG4gICAgICAgICdyZ2JhKDAsMCwwLDEpJyxcclxuICAgICAgICAoY3VycmVudCkgPT4gY3VycmVudCxcclxuICAgICAgICAodmFsdWUpID0+IHZhbHVlIGluc3RhbmNlb2YgQXJyYXkgPyBOZE1vZENpcmMuYXJyYXlUb0NvbG9yKHZhbHVlKSA6IHZhbHVlLFxyXG4gICAgICAgIChjdXJyZW50LCB2YWx1ZSwgc2V0U3RhcnQsIHNldEVuZCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRTdGFydChOZE1vZENpcmMuY29sb3JUb0FycmF5KGN1cnJlbnQpKVxyXG4gICAgICAgICAgICBzZXRFbmQodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IE5kTW9kQ2lyYy5jb2xvclRvQXJyYXkodmFsdWUpIDogdmFsdWUpXHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIE5kTW9kQ2lyYy5ub3JtYWxpemVDb2xvcih2YWx1ZSlcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICBzdHJva2VTdHlsZSA9IG5ldyBOZFN0eWxlc1Byb3BlcnR5PE5kU3Ryb2tlU3R5bGUsIE5kU3Ryb2tlU3R5bGUsIE5kU3Ryb2tlU3R5bGU+KFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgWzBdLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiBbLi4uY3VycmVudF0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB2YWx1ZS5tYXAodiA9PiB2IDwgMCA/IDAgOiB2KVxyXG4gICAgKVxyXG59IiwiaW1wb3J0IE5vZGUgZnJvbSAnLi9Ob2RlJztcclxuaW1wb3J0IE5kTW9kQmFzZSBmcm9tICcuL21vZGVscy9OZE1vZEJhc2UnO1xyXG5pbXBvcnQgTmRNb2RBbmNob3IgZnJvbSAnLi9tb2RlbHMvTmRNb2RBbmNob3InO1xyXG5pbXBvcnQgTmRNb2RCZyBmcm9tICcuL21vZGVscy9OZE1vZEJnJztcclxuaW1wb3J0IE5kTW9kQ2lyYyBmcm9tICcuL21vZGVscy9OZE1vZENpcmMnO1xyXG5pbXBvcnQgTmROb2RlQm94IGZyb20gJy4vY2xhc3Nlcy9OZE5vZGVCb3gnO1xyXG5pbXBvcnQgTmRNb2RlQXNzZW1ibGVyIGZyb20gJy4vY2xhc3Nlcy9OZE1vZGVBc3NlbWJsZXInO1xyXG5pbXBvcnQge05kTnVtZXJpY0FycmF5MmR9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOb2RhcyBmcm9tICcuLi8uLi9Ob2Rhcyc7XHJcblxyXG50eXBlIENpcmNsZUVsZW1lbnRNb2RlbCA9IE5kTW9kQ2lyYyAmIE5kTW9kQmcgJiBOZE1vZEFuY2hvciAmIE5kTW9kQmFzZTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENpcmNsZSBleHRlbmRzIE5vZGU8Q2lyY2xlRWxlbWVudE1vZGVsPiB7XHJcblxyXG4gICAgcHJvdGVjdGVkIEJveDogTmROb2RlQm94ID0gbmV3IE5kTm9kZUJveCh0aGlzLCB0aGlzLkNhY2hlLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBbLi4udGhpcy5kYXRhLnBvc2l0aW9uLnByb3RlY3RlZFZhbHVlXSBhcyBOZE51bWVyaWNBcnJheTJkLFxyXG4gICAgICAgICAgICBkID0gdGhpcy5kYXRhLnJhZGl1cy5wcm90ZWN0ZWRWYWx1ZSAqIDJcclxuICAgICAgICBOb2RlLmFwcGx5Qm94QW5jaG9yKHBvc2l0aW9uLCBkLCBkLCB0aGlzLmRhdGEpXHJcbiAgICAgICAgcmV0dXJuIFtwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHRoaXMuZGF0YS5yYWRpdXMucHJvdGVjdGVkVmFsdWUgKiAyLCB0aGlzLmRhdGEucmFkaXVzLnByb3RlY3RlZFZhbHVlICogMiwgdGhpcy5zdHJva2VGaXgsIHRoaXMuc3Ryb2tlRml4LCB0aGlzLnN0cm9rZUZpeCwgdGhpcy5zdHJva2VGaXhdXHJcbiAgICB9KVxyXG4gICAgcmVuZGVyID0gKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgIE5vZGUudHJhbnNmb3JtQ29udGV4dCh0aGlzLCBjb250ZXh0KVxyXG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuQXNzZW1ibGVyLmV4cG9ydCh0aGlzKSwgMCwgMClcclxuICAgICAgICByZXR1cm4gY29udGV4dFxyXG4gICAgfVxyXG4gICAgZXhwb3J0OiBOb2RlPENpcmNsZUVsZW1lbnRNb2RlbD5bJ2V4cG9ydCddID0gKCkgPT4gdGhpcy5Bc3NlbWJsZXIuZXhwb3J0KHRoaXMpXHJcbiAgICBwcml2YXRlIHN0cm9rZUZpeDogbnVtYmVyID0gMTtcclxuICAgIHByb3RlY3RlZCB0ZXN0OiBOb2RlPENpcmNsZUVsZW1lbnRNb2RlbD5bJ3Rlc3QnXSA9IChjdXJzb3I6IE5kTnVtZXJpY0FycmF5MmQpID0+IHtcclxuICAgICAgICBjb25zdCBjb29yZHMgPSB0aGlzLm1hdHJpeC50cmFjZUN1cnNvclRvTG9jYWxTcGFjZShjdXJzb3IpLFxyXG4gICAgICAgICAgICBzcHJpdGUgPSB0aGlzLkJveC52YWx1ZS5zcHJpdGUsXHJcbiAgICAgICAgICAgIHJhZGl1cyA9IHRoaXMuZGF0YS5yYWRpdXMucHJvdGVjdGVkVmFsdWVcclxuICAgICAgICBpZiAoY29vcmRzWzBdID4gc3ByaXRlLnNpemVbMF0gJiYgY29vcmRzWzBdIDwgMCAmJiBjb29yZHNbMV0gPiBzcHJpdGUuc2l6ZVsxXSAmJiBjb29yZHNbMV0gPCAwKSB7XHJcbiAgICAgICAgICAgIGlmIChNYXRoLnBvdygoY29vcmRzWzBdICsgdGhpcy5zdHJva2VGaXgpIC0gcmFkaXVzLCAyKSArIE1hdGgucG93KChjb29yZHNbMV0gKyB0aGlzLnN0cm9rZUZpeCkgLSByYWRpdXMsIDIpIDw9IE1hdGgucG93KHJhZGl1cywgMikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgQXNzZW1ibGVyOiBOZE1vZGVBc3NlbWJsZXIgPSBuZXcgTmRNb2RlQXNzZW1ibGVyKFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdmaWxsJyxcclxuICAgICAgICAgICAgcmVzb2x2ZXI6IGNvbnRleHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmRhdGEuZmlsbC5wcm90ZWN0ZWRWYWx1ZVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmModGhpcy5ib3VuZGluZ1JlY3Quc2l6ZVswXSAvIDIsIHRoaXMuYm91bmRpbmdSZWN0LnNpemVbMV0gLyAyLCB0aGlzLmRhdGEucmFkaXVzLnByb3RlY3RlZFZhbHVlLCAwLCBNYXRoLlBJICogMilcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ2JnJyxcclxuICAgICAgICAgICAgcmVzb2x2ZXI6IGNvbnRleHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmModGhpcy5ib3VuZGluZ1JlY3Quc2l6ZVswXSAvIDIsIHRoaXMuYm91bmRpbmdSZWN0LnNpemVbMV0gLyAyLCB0aGlzLmRhdGEucmFkaXVzLnByb3RlY3RlZFZhbHVlLCAwLCBNYXRoLlBJICogMilcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xpcCgpXHJcbiAgICAgICAgICAgICAgICBOb2RlLmRyYXdCZyh0aGlzLmRhdGEsIGNvbnRleHQsIHRoaXMuQXNzZW1ibGVyKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdzdHJva2UnLFxyXG4gICAgICAgICAgICByZXNvbHZlcjogY29udGV4dCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gdGhpcy5kYXRhLnN0cm9rZUNvbG9yLnByb3RlY3RlZFZhbHVlXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHRoaXMuZGF0YS5zdHJva2VXaWR0aC5wcm90ZWN0ZWRWYWx1ZVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaCh0aGlzLmRhdGEuc3Ryb2tlU3R5bGUucHJvdGVjdGVkVmFsdWUpXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyh0aGlzLmJvdW5kaW5nUmVjdC5zaXplWzBdIC8gMiwgdGhpcy5ib3VuZGluZ1JlY3Quc2l6ZVsxXSAvIDIsIHRoaXMuZGF0YS5yYWRpdXMucHJvdGVjdGVkVmFsdWUsIDAsIE1hdGguUEkgKiAyKVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXSlcclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgQXBwOiBOb2Rhcykge1xyXG4gICAgICAgIHN1cGVyKGlkLCB7Li4ubmV3IE5kTW9kQ2lyYygpLCAuLi5uZXcgTmRNb2RCZygpLCAuLi5uZXcgTmRNb2RBbmNob3IoKSwgLi4ubmV3IE5kTW9kQmFzZSgpfSwgQXBwKVxyXG4gICAgICAgIHRoaXMud2F0Y2goJ3JhZGl1cycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIudXBkYXRlKClcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIucmVzaXplKClcclxuICAgICAgICAgICAgdGhpcy5Cb3gucHVyZ2UoKVxyXG4gICAgICAgICAgICB0aGlzLk1hdHJpeC5wdXJnZSgpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLndhdGNoKCdmaWxsJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy53YXRjaCgnc3Ryb2tlV2lkdGgnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc3Ryb2tlRml4ID0gdGhpcy5kYXRhLnN0cm9rZVdpZHRoLnByb3RlY3RlZFZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLkJveC5wdXJnZSgpXHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJylcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIucmVzaXplKClcclxuICAgICAgICAgICAgdGhpcy5NYXRyaXgucHVyZ2UoKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy53YXRjaChbJ3N0cm9rZVN0eWxlJywgJ3N0cm9rZUNvbG9yJ10sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy53YXRjaChbJ2JnJywgJ2JhY2tncm91bmRTaXplJywgJ2JhY2tncm91bmRQb3NpdGlvbiddLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgnYmcnKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5vbignZGVzdHJveScsICgpID0+IHtcclxuICAgICAgICAgICAgTmRNb2RCZy5kZXN0cm95QmFja2dyb3VuZCh0aGlzLmRhdGEpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImltcG9ydCBOZFJlc291cmNlIGZyb20gJy4vTmRSZXNvdXJjZSc7XHJcbmltcG9ydCB7TmRVcmxTcHJpdGVTdHIsIE5kVVJMU3RyfSBmcm9tICcuLi9Ob2Rlcy9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQge05kTnVtZXJpY0FycmF5MmR9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCB7TkRCfSBmcm9tICcuLi9TZXJ2aWNlcy9Ob2Rhc0RlYnVnJztcclxuaW1wb3J0IE5EUiBmcm9tICcuLi9TZXJ2aWNlcy9Ob2Rhc1Jlc291cmNlcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZFNwcml0ZSBleHRlbmRzIE5kUmVzb3VyY2U8KHRpbWU6IERhdGUpID0+IEhUTUxDYW52YXNFbGVtZW50IHwgSFRNTEltYWdlRWxlbWVudD4ge1xyXG4gICAgcHJpdmF0ZSBmcmFtZUNvdW50OiBudW1iZXIgPSAwXHJcbiAgICBwcml2YXRlIHJlZnJlc2hSYXRlOiBudW1iZXIgPSAxMlxyXG4gICAgcHJpdmF0ZSBmcmFtZVRpbWU6IG51bWJlciA9IDBcclxuICAgIHByaXZhdGUgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudFtdW10gPSBbXVxyXG4gICAgcHJpdmF0ZSBpbWFnZTogSFRNTEltYWdlRWxlbWVudCB8IHVuZGVmaW5lZFxyXG4gICAgcHJpdmF0ZSBjaHVua1NpemU6IE5kTnVtZXJpY0FycmF5MmQgPSBbMCwgMF1cclxuICAgIHByaXZhdGUgY2h1bmtYWUNvdW50OiBudW1iZXIgPSAwXHJcbiAgICBwcml2YXRlIHRpbWVTdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXHJcbiAgICBwcml2YXRlIGR1cmF0aW9uOiBudW1iZXIgPSAwXHJcbiAgICBwcml2YXRlIGZyb3plbjogYm9vbGVhbiA9IGZhbHNlXHJcblxyXG4gICAgcHJpdmF0ZSBkZWZpbmVJbWFnZSh1cmw6IE5kVXJsU3ByaXRlU3RyKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRlc3Ryb3llZCkge1xyXG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IHVybC5tYXRjaCgvKF4uKylcXFsoXFxkKyldLylcclxuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlID0gTkRSLmltYWdlKG1hdGNoWzFdLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmRlc3Ryb3llZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEZyYW1lRGF0YSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoWzJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYW1lQ291bnQgPSBwYXJzZUludChtYXRjaFsyXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIE5EQi5lcnJvcihgTm8gZnJhbWUgZ3JvdXAgbWF0Y2ggZm9yIHVybCAke3VybH0uIEhvdyBkaWQgeW91IGV2ZW4gZ2V0IGhlcmU/YClcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXN0KCdsb2FkJywgbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgTkRCLmluZm8oYFNraXBwZWQgbG9hZCBldmVudCByZWFjdGlvbiBvbiBkZXN0cm95ZWQgc3ByaXRlICR7dXJsfWApXHJcblxyXG4gICAgICAgICAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5kZXN0cm95ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTkRCLm5lZ2F0aXZlKGBFcnJvciBsb2FkaW5nIHNwcml0ZSAke3RoaXMudXJsfS5gKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc3QoJ2Vycm9yJywgbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgTkRCLmluZm8oYFNraXBwZWQgZXJyb3IgZXZlbnQgcmVhY3Rpb24gb24gZGVzdHJveWVkIHNwcml0ZSAke3VybH1gKVxyXG4gICAgICAgICAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5kZXN0cm95ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZpbmVJbWFnZSh1cmwpXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIE5EQi5pbmZvKGBTa2lwcGVkIHJlc2V0IHJlYWN0aW9uIG9uIGRlc3Ryb3llZCBzcHJpdGUgJHt1cmx9YClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgTkRCLmluZm8oYFNwcml0ZSAke3VybH0gaGFzIGJlZW4gZGVzdHJveWVkLiBMb2FkIHNraXBwZWQuYClcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0RnJhbWVEYXRhKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2h1bmtYWUNvdW50ID0gTWF0aC5jZWlsKE1hdGguc3FydCh0aGlzLmZyYW1lQ291bnQpKVxyXG4gICAgICAgICAgICB0aGlzLmNodW5rU2l6ZVswXSA9IHRoaXMuaW1hZ2Uud2lkdGggLyB0aGlzLmNodW5rWFlDb3VudFxyXG4gICAgICAgICAgICB0aGlzLmNodW5rU2l6ZVsxXSA9IHRoaXMuaW1hZ2UuaGVpZ2h0IC8gdGhpcy5jaHVua1hZQ291bnRcclxuICAgICAgICAgICAgdGhpcy5mcmFtZVRpbWUgPSAxMDAwIC8gdGhpcy5yZWZyZXNoUmF0ZVxyXG4gICAgICAgICAgICB0aGlzLmR1cmF0aW9uID0gdGhpcy5mcmFtZVRpbWUgKiB0aGlzLmZyYW1lQ291bnRcclxuICAgICAgICAgICAgdGhpcy5jaHVua1NpemVbMF0gPSB0aGlzLmltYWdlLndpZHRoIC8gdGhpcy5jaHVua1hZQ291bnRcclxuICAgICAgICAgICAgdGhpcy5jaHVua1NpemVbMV0gPSB0aGlzLmltYWdlLmhlaWdodCAvIHRoaXMuY2h1bmtYWUNvdW50XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzID0gW11cclxuICAgICAgICAgICAgZm9yIChsZXQgciA9IDA7IHIgPCB0aGlzLmNodW5rWFlDb3VudDsgcisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2FudmFzW3JdKSB0aGlzLmNhbnZhcy5wdXNoKFtdKVxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCB0aGlzLmNodW5rWFlDb3VudDsgYysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNhbnZhc1tyXVtjXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc1tyXS5wdXNoKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc1tyXVtjXS53aWR0aCA9IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNbcl1bY10uaGVpZ2h0ID0gMVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc1tyXVtjXS5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgdGhpcy5jaHVua1NpemVbMF0udG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNbcl1bY10uc2V0QXR0cmlidXRlKCdoZWlnaHQnLCB0aGlzLmNodW5rU2l6ZVswXS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jYW52YXNbcl1bY10uZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgtdGhpcy5jaHVua1NpemVbMF0gKiBjLCAtdGhpcy5jaHVua1NpemVbMV0gKiByKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIE5EQi5lcnJvcignVW5hYmxlIHRvIHNldCBzcHJpdGUgZnJhbWUgZGF0YS4gTm8gaW1hZ2UuJylcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBhdXNlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5mcm96ZW5cclxuICAgIH1cclxuXHJcbiAgICBwYXVzZSgpIHtcclxuICAgICAgICB0aGlzLmZyb3plbiA9IHRydWVcclxuICAgIH1cclxuXHJcbiAgICBwbGF5KCkge1xyXG4gICAgICAgIHRoaXMuZnJvemVuID0gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZnJhbWVzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZyYW1lQ291bnRcclxuICAgIH1cclxuXHJcbiAgICBzZXQgZnJhbWVzKHZhbCkge1xyXG4gICAgICAgIHRoaXMuZnJhbWVDb3VudCA9IHZhbFxyXG4gICAgICAgIHRoaXMuc2V0RnJhbWVEYXRhKClcclxuICAgIH1cclxuXHJcbiAgICBnZXQgd2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2h1bmtTaXplWzBdXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jaHVua1NpemVbMV1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gWy4uLnRoaXMuY2h1bmtTaXplXVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBmcHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmcmVzaFJhdGVcclxuICAgIH1cclxuXHJcbiAgICBzZXQgZnBzKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy50aW1lU3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxyXG4gICAgICAgIHRoaXMucmVmcmVzaFJhdGUgPSB2YWx1ZVxyXG4gICAgICAgIHRoaXMuc2V0RnJhbWVEYXRhKClcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZXhwb3J0ID0gKHRpbWU6IERhdGUpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5sb2FkZWQgJiYgIXRoaXMuZXJyb3IgJiYgIXRoaXMuZGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZyYW1lQ291bnQgJiYgdGhpcy5mcmFtZVRpbWUgJiYgKHRoaXMuY2h1bmtTaXplWzBdID4gMCB8fCB0aGlzLmNodW5rU2l6ZVsxXSA+IDApKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudFRpbWUgPSB0aW1lLmdldFRpbWUoKVxyXG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhID0gY3VycmVudFRpbWUgLSB0aGlzLnRpbWVTdGFydFxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvemVuKSB0aGlzLnRpbWVTdGFydCArPSBkZWx0YVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBmcmFtZSA9IE1hdGguZmxvb3IoZGVsdGEgLyB0aGlzLmZyYW1lVGltZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZnJhbWUgPiB0aGlzLmZyYW1lQ291bnQgLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnJhbWUgPSAwXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lU3RhcnQgPSBjdXJyZW50VGltZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRZID0gTWF0aC5mbG9vcihmcmFtZSAvIHRoaXMuY2h1bmtYWUNvdW50KSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50WCA9IGZyYW1lIC0gY3VycmVudFkgKiB0aGlzLmNodW5rWFlDb3VudDtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbnZhc1tjdXJyZW50WV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW52YXNbY3VycmVudFldW2N1cnJlbnRYXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYW52YXNbY3VycmVudFldW2N1cnJlbnRYXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih1cmw6IE5kVXJsU3ByaXRlU3RyKSB7XHJcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB1cmwubWF0Y2goLyheLispXFxbKFxcZCspXS8pXHJcbiAgICAgICAgc3VwZXIoXHJcbiAgICAgICAgICAgIChtYXRjaCA/IG1hdGNoWzFdIDogYGludmFsaWQtaW1hZ2Utc3JjWyR7dXJsfV1gKSBhcyBOZFVSTFN0cixcclxuICAgICAgICAgICAgKCkgPT4gdGhpcy5kZWZpbmVJbWFnZSh1cmwpKVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBOZFVybFNwcml0ZVN0clJlZ2V4ID0gLyheLispXFxbKFswLTldKyldJC9cclxuXHJcbiAgICBzdGF0aWMgaXNOZFVybFNwcml0ZVN0cihzdHI6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBOZFNwcml0ZS5OZFVybFNwcml0ZVN0clJlZ2V4LnRlc3Qoc3RyKVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IE5kTm9kZVN0eWxlc01vZGVsIGZyb20gJy4uL2NsYXNzZXMvTmROb2RlU3R5bGVzTW9kZWwnO1xyXG5pbXBvcnQgTmRTdHlsZXNQcm9wZXJ0eSBmcm9tICcuLi9jbGFzc2VzL05kTm9kZVN0eWxlUHJvcGVydHknO1xyXG5pbXBvcnQge05kU2l6ZSwgTmRTaXplQXJyLCBOZFVybFNwcml0ZVN0ciwgTmRVUkxTdHJ9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOZEltYWdlIGZyb20gJy4uLy4uL2NsYXNzZXMvTmRJbWFnZSc7XHJcbmltcG9ydCBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQgZnJvbSAnLi4vY2xhc3Nlcy9OZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQnO1xyXG5pbXBvcnQge05kTnVtZXJpY0FycmF5MmR9IGZyb20gJy4uLy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOZFNwcml0ZSBmcm9tICcuLi8uLi9jbGFzc2VzL05kU3ByaXRlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kTW9kU3ByaXRlIGV4dGVuZHMgTmROb2RlU3R5bGVzTW9kZWwge1xyXG4gICAgc3JjOiBOZFN0eWxlc1Byb3BlcnR5PE5kSW1hZ2UgfCBOZFNwcml0ZSB8IGZhbHNlLCBOZFVybFNwcml0ZVN0ciB8IE5kVVJMU3RyIHwgZmFsc2UsIE5kVVJMU3RyIHwgTmRVcmxTcHJpdGVTdHI+ID1cclxuICAgICAgICBuZXcgTmRTdHlsZXNQcm9wZXJ0eTxOZEltYWdlIHwgTmRTcHJpdGUgfCBmYWxzZSwgTmRVcmxTcHJpdGVTdHIgfCBOZFVSTFN0ciB8IGZhbHNlLCBOZFVSTFN0ciB8IE5kVXJsU3ByaXRlU3RyPihcclxuICAgICAgICAgICAgMSxcclxuICAgICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID8gdmFsdWUudXJsIDogdmFsdWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgKHZhbHVlLCBub2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zcmMucHJvdGVjdGVkVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zcmMucHJvdGVjdGVkVmFsdWUudXJsID09PSB2YWx1ZSkgcmV0dXJuIHRoaXMuc3JjLnByb3RlY3RlZFZhbHVlIGFzIE5kU3ByaXRlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcmMucHJvdGVjdGVkVmFsdWUuZGVzdHJveSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoTmRTcHJpdGUuaXNOZFVybFNwcml0ZVN0cih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcHJpdGUgPSBuZXcgTmRTcHJpdGUodmFsdWUgYXMgTmRVcmxTcHJpdGVTdHIpIGFzIE5kU3ByaXRlXHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm9uKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUuZnBzID0gdGhpcy5mcHMucHJvdGVjdGVkVmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFtZXMuc2V0KHNwcml0ZS5mcmFtZXMsIG5vZGUpXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICBzcHJpdGUubG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNwcml0ZSBhcyBOZFNwcml0ZVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPyBuZXcgTmRJbWFnZSh2YWx1ZSBhcyBOZFVSTFN0cikubG9hZCgpIGFzIE5kSW1hZ2UgOiAgISF2YWx1ZSBhcyBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgZnJhbWVzID0gbmV3IE5kU3R5bGVzUHJvcGVydHk8bnVtYmVyLCBudW1iZXIsIG51bWJlcj4oXHJcbiAgICAgICAgMCxcclxuICAgICAgICAwLFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICBmcHMgPSBuZXcgTmRTdHlsZXNQcm9wZXJ0eTxudW1iZXIsIG51bWJlciwgbnVtYmVyPihcclxuICAgICAgICAwLFxyXG4gICAgICAgIDEyLFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDBcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG4gICAgc2l6ZSA9IG5ldyBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQ8TmRTaXplQXJyLCBOZFNpemVBcnIsIE5kU2l6ZUFyciB8IE5kU2l6ZSwgTmROdW1lcmljQXJyYXkyZD4oXHJcbiAgICAgICAgMSxcclxuICAgICAgICBbJ2F1dG8nLCAnYXV0byddLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBbLi4uY3VycmVudF1cclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbHVlLCB2YWx1ZV1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbLi4udmFsdWVdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIChjdXJyZW50LCB2YWx1ZSwgc2V0U3RhcnQsIHNldEVuZCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IGN1cnJlbnQubWFwKCh2LCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh2ID09PSAnYXV0bycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc3JjLnByb3RlY3RlZFZhbHVlKSByZXR1cm4gMFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkgPT09IDAgPyB0aGlzLnNyYy5wcm90ZWN0ZWRWYWx1ZS53aWR0aCA6IHRoaXMuc3JjLnByb3RlY3RlZFZhbHVlLmhlaWdodFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSBhcyBOZE51bWVyaWNBcnJheTJkXHJcbiAgICAgICAgICAgIHNldFN0YXJ0KHN0YXJ0KVxyXG4gICAgICAgICAgICBsZXQgZW5kVmFsdWU6IE5kU2l6ZUFyciA9IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdmFsdWUgPT09ICdhdXRvJyA/IFt2YWx1ZSwgdmFsdWVdIDogdmFsdWVcclxuICAgICAgICAgICAgY29uc3QgZW5kID0gZW5kVmFsdWUubWFwKCh2LCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh2ID09PSAnYXV0bycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc3JjLnByb3RlY3RlZFZhbHVlKSByZXR1cm4gMFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkgPT09IDAgPyB0aGlzLnNyYy5wcm90ZWN0ZWRWYWx1ZS53aWR0aCA6IHRoaXMuc3JjLnByb3RlY3RlZFZhbHVlLmhlaWdodFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHYgPCAwKSB2ID0gMFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZcclxuICAgICAgICAgICAgfSkgYXMgTmROdW1lcmljQXJyYXkyZFxyXG4gICAgICAgICAgICBzZXRFbmQoZW5kKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZVswXSA8IDApIHZhbHVlWzBdID0gMFxyXG4gICAgICAgICAgICBpZiAodmFsdWVbMV0gPCAwKSB2YWx1ZVsxXSA9IDBcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG59IiwiaW1wb3J0IE5kTW9kQmFzZSBmcm9tICcuL21vZGVscy9OZE1vZEJhc2UnO1xyXG5pbXBvcnQgTmRNb2RTcHJpdGUgZnJvbSAnLi9tb2RlbHMvTmRNb2RTcHJpdGUnO1xyXG5pbXBvcnQgTmROb2RlQm94IGZyb20gJy4vY2xhc3Nlcy9OZE5vZGVCb3gnO1xyXG5pbXBvcnQgTmRNb2RBbmNob3IgZnJvbSAnLi9tb2RlbHMvTmRNb2RBbmNob3InO1xyXG5pbXBvcnQge05kTnVtZXJpY0FycmF5MmR9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOZFNwcml0ZSBmcm9tICcuLi9jbGFzc2VzL05kU3ByaXRlJztcclxuaW1wb3J0IE5vZGUgZnJvbSAnLi9Ob2RlJztcclxuaW1wb3J0IE5vZGFzIGZyb20gJy4uLy4uL05vZGFzJztcclxuXHJcbnR5cGUgSW1hZ2VOb2RlTW9kZWwgPSBOZE1vZFNwcml0ZSAmIE5kTW9kQW5jaG9yICYgTmRNb2RCYXNlXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNwcml0ZSBleHRlbmRzIE5vZGU8SW1hZ2VOb2RlTW9kZWw+IHtcclxuICAgIGV4cG9ydDpOb2RlPEltYWdlTm9kZU1vZGVsPlsnZXhwb3J0J10gID0gKGRhdGU/OkRhdGUpID0+IHtcclxuICAgICAgICBpZighZGF0ZSkgZGF0ZSA9IG5ldyBEYXRlXHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5zcmMucHJvdGVjdGVkVmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5zcmMucHJvdGVjdGVkVmFsdWUuZXhwb3J0KGRhdGUpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVuZGVyOk5vZGU8SW1hZ2VOb2RlTW9kZWw+WydyZW5kZXInXSA9IChjb250ZXh0LCB0aW1lKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5zcmMucHJvdGVjdGVkVmFsdWUpIHtcclxuICAgICAgICAgICAgU3ByaXRlLnRyYW5zZm9ybUNvbnRleHQodGhpcywgY29udGV4dClcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5kYXRhLnNyYy5wcm90ZWN0ZWRWYWx1ZS5leHBvcnQodGltZSlcclxuICAgICAgICAgICAgaWYocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShyZXN1bHQsIDAsIDAsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNpemUucHJvdGVjdGVkVmFsdWVbMF0gPT09ICdhdXRvJyA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMucHJvdGVjdGVkVmFsdWUud2lkdGggOiB0aGlzLmRhdGEuc2l6ZS5wcm90ZWN0ZWRWYWx1ZVswXSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc2l6ZS5wcm90ZWN0ZWRWYWx1ZVsxXSA9PT0gJ2F1dG8nID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNyYy5wcm90ZWN0ZWRWYWx1ZS5oZWlnaHQgOiB0aGlzLmRhdGEuc2l6ZS5wcm90ZWN0ZWRWYWx1ZVsxXVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29udGV4dFxyXG4gICAgfVxyXG4gICAgdGVzdDogTm9kZTxJbWFnZU5vZGVNb2RlbD5bJ3Rlc3QnXSA9IChjdXJzb3I6IE5kTnVtZXJpY0FycmF5MmQpID0+IHtcclxuICAgICAgICBjdXJzb3IgPSB0aGlzLm1hdHJpeC50cmFjZUN1cnNvclRvTG9jYWxTcGFjZShbLi4uY3Vyc29yXSlcclxuICAgICAgICBpZiAoY3Vyc29yWzBdID4gMCAmJiBjdXJzb3JbMF0gPCB0aGlzLmJvdW5kaW5nUmVjdC5zaXplWzBdKSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJzb3JbMV0gPiAwICYmIGN1cnNvclsxXSA8IHRoaXMuYm91bmRpbmdSZWN0LnNpemVbMV0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIEJveDogTmROb2RlQm94ID0gbmV3IE5kTm9kZUJveCh0aGlzLCB0aGlzLkNhY2hlLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBbLi4udGhpcy5kYXRhLnBvc2l0aW9uLnByb3RlY3RlZFZhbHVlXSBhcyBOZE51bWVyaWNBcnJheTJkXHJcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuZGF0YS5zaXplLnByb3RlY3RlZFZhbHVlLm1hcChcclxuICAgICAgICAgICAgKHZhbHVlOiBudW1iZXIgfCAnYXV0bycsIGtleTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09ICdhdXRvJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdGEuc3JjLnByb3RlY3RlZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkgPT09IDAgPyB0aGlzLmRhdGEuc3JjLnByb3RlY3RlZFZhbHVlLndpZHRoIDogdGhpcy5kYXRhLnNyYy5wcm90ZWN0ZWRWYWx1ZS5oZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgcmV0dXJuIDBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkgYXMgTmROdW1lcmljQXJyYXkyZFxyXG4gICAgICAgIE5vZGUuYXBwbHlCb3hBbmNob3IocG9zaXRpb24sc2l6ZVswXSxzaXplWzFdLCB0aGlzLmRhdGEpXHJcbiAgICAgICAgcmV0dXJuIFtwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHNpemVbMF0sIHNpemVbMV0sIDAsIDAsIDAsIDBdXHJcbiAgICB9KVxyXG5cclxuICAgIHBhdXNlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGEuc3JjLnByb3RlY3RlZFZhbHVlIGluc3RhbmNlb2YgTmRTcHJpdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhLnNyYy5wcm90ZWN0ZWRWYWx1ZS5wYXVzZSgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHBsYXkoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5zcmMucHJvdGVjdGVkVmFsdWUgaW5zdGFuY2VvZiBOZFNwcml0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGEuc3JjLnByb3RlY3RlZFZhbHVlLnBsYXkoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZDpzdHJpbmcsIGFwcDpOb2Rhcykge1xyXG4gICAgICAgIHN1cGVyKGlkLCB7Li4ubmV3IE5kTW9kU3ByaXRlKCksIC4uLm5ldyBOZE1vZEJhc2UoKSwgLi4ubmV3IE5kTW9kQW5jaG9yKCl9LCBhcHApO1xyXG4gICAgICAgIHRoaXMud2F0Y2goJ3NyYycsICgpID0+IHtcclxuICAgICAgICAgICAgaWYodGhpcy5kYXRhLnNyYy5wcm90ZWN0ZWRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5kYXRhLnNyYy5wcm90ZWN0ZWRWYWx1ZS5sb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkJveC5wdXJnZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5NYXRyaXgucHVyZ2UoKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc3JjLnByb3RlY3RlZFZhbHVlLm9uKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkJveC5wdXJnZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTWF0cml4LnB1cmdlKClcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLndhdGNoKCdmcmFtZXMnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEuc3JjLnByb3RlY3RlZFZhbHVlIGluc3RhbmNlb2YgTmRTcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMucHJvdGVjdGVkVmFsdWUuZnJhbWVzID0gdGhpcy5kYXRhLmZyYW1lcy5wcm90ZWN0ZWRWYWx1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLndhdGNoKCdmcHMnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEuc3JjLnByb3RlY3RlZFZhbHVlIGluc3RhbmNlb2YgTmRTcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMucHJvdGVjdGVkVmFsdWUuZnBzID0gdGhpcy5kYXRhLmZwcy5wcm90ZWN0ZWRWYWx1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLndhdGNoKCdzaXplJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkJveC5wdXJnZSgpXHJcbiAgICAgICAgICAgIHRoaXMuTWF0cml4LnB1cmdlKClcclxuICAgICAgICB9KVxyXG5cclxuICAgIH1cclxufSIsImltcG9ydCBOb2RlIGZyb20gJy4vTm9kZSc7XHJcbmltcG9ydCBOZEJveCBmcm9tICcuLi9jbGFzc2VzL05kQm94JztcclxuaW1wb3J0IE5kTW9kZUFzc2VtYmxlciBmcm9tICcuL2NsYXNzZXMvTmRNb2RlQXNzZW1ibGVyJztcclxuaW1wb3J0IE5kTW9kQmFzZSBmcm9tICcuL21vZGVscy9OZE1vZEJhc2UnO1xyXG5pbXBvcnQgTmRNb2RGcmVlU3Ryb2tlIGZyb20gJy4vbW9kZWxzL05kTW9kRnJlZVN0cm9rZSc7XHJcbmltcG9ydCBOZE5vZGVTdHlsZXNNb2RlbCBmcm9tICcuL2NsYXNzZXMvTmROb2RlU3R5bGVzTW9kZWwnO1xyXG5pbXBvcnQgTmRNb2RCZyBmcm9tICcuL21vZGVscy9OZE1vZEJnJztcclxuaW1wb3J0IE5kTW9kQW5jaG9yIGZyb20gJy4vbW9kZWxzL05kTW9kQW5jaG9yJztcclxuaW1wb3J0IE5kTm9kZUJveCBmcm9tICcuL2NsYXNzZXMvTmROb2RlQm94JztcclxuaW1wb3J0IHtOZFNlZ21lbnRCZXppZXJ9IGZyb20gJy4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5vZGFzIGZyb20gJy4uLy4uL05vZGFzJztcclxuaW1wb3J0IE5kTm9kZUVtcGlyaWNhbE1vdXNlQ2hlY2tlciBmcm9tICcuL2NsYXNzZXMvTmROb2RlRW1waXJpY2FsTW91c2VDaGVja2VyJztcclxuaW1wb3J0IHtOZE51bWVyaWNBcnJheTJkfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5cclxudHlwZSBBcmVhU3RhdGljTW9kZWwgPSBOZE1vZEZyZWVTdHJva2UgJiBOZE1vZEJnICYgTmRNb2RBbmNob3IgJiBOZE1vZEJhc2VcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXJlYSBleHRlbmRzIE5vZGU8QXJlYVN0YXRpY01vZGVsPiB7XHJcbiAgICBwcml2YXRlIHhTaGlmdCA9IDBcclxuICAgIHByaXZhdGUgeVNoaWZ0ID0gMFxyXG4gICAgcHJpdmF0ZSBzdHJva2VGaXggPSAxXHJcbiAgICBwcml2YXRlIGludGVycG9sYXRpb25GaXggPSAwXHJcbiAgICBwcml2YXRlIGludGVycG9sYXRlZCA9IGZhbHNlXHJcbiAgICBwcml2YXRlIG1vdXNlVGVzdGVyOiBOZE5vZGVFbXBpcmljYWxNb3VzZUNoZWNrZXIgPSBuZXcgTmROb2RlRW1waXJpY2FsTW91c2VDaGVja2VyKClcclxuICAgIHByb3RlY3RlZCBCb3g6IE5kTm9kZUJveCA9IG5ldyBOZE5vZGVCb3godGhpcywgdGhpcy5DYWNoZSwgKCkgPT4ge1xyXG4gICAgICAgIGxldCBwb3NpdGlvbiA9IFsuLi50aGlzLmRhdGEucG9zaXRpb24ucHJvdGVjdGVkVmFsdWVdIGFzIE5kTnVtZXJpY0FycmF5MmQsXHJcbiAgICAgICAgICAgIG1pblggPSBJbmZpbml0eSxcclxuICAgICAgICAgICAgbWluWSA9IEluZmluaXR5LFxyXG4gICAgICAgICAgICBtYXhYID0gLUluZmluaXR5LFxyXG4gICAgICAgICAgICBtYXhZID0gLUluZmluaXR5XHJcblxyXG4gICAgICAgIHRoaXMuZGF0YS5wYXRoLnByb3RlY3RlZFZhbHVlLmZvckVhY2goKHY6IE5kU2VnbWVudEJlemllcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAodlswXSA8IG1pblgpIHtcclxuICAgICAgICAgICAgICAgIG1pblggPSB2WzBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZbMl0gPCBtaW5YKSB7XHJcbiAgICAgICAgICAgICAgICBtaW5YID0gdlsyXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2WzFdIDwgbWluWSkge1xyXG4gICAgICAgICAgICAgICAgbWluWSA9IHZbMV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodlszXSA8IG1pblkpIHtcclxuICAgICAgICAgICAgICAgIG1pblkgPSB2WzNdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZbMF0gPiBtYXhYKSB7XHJcbiAgICAgICAgICAgICAgICBtYXhYID0gdlswXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2WzJdID4gbWF4WCkge1xyXG4gICAgICAgICAgICAgICAgbWF4WCA9IHZbMl1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodlsxXSA+IG1heFkpIHtcclxuICAgICAgICAgICAgICAgIG1heFkgPSB2WzFdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZbM10gPiBtYXhZKSB7XHJcbiAgICAgICAgICAgICAgICBtYXhZID0gdlszXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAobWluWCA9PT0gSW5maW5pdHkpIG1pblggPSAwO1xyXG4gICAgICAgIGlmIChtaW5ZID09PSBJbmZpbml0eSkgbWluWSA9IDA7XHJcbiAgICAgICAgaWYgKG1heFggPT09IC1JbmZpbml0eSkgbWF4WCA9IDA7XHJcbiAgICAgICAgaWYgKG1heFkgPT09IC1JbmZpbml0eSkgbWF4WCA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMueFNoaWZ0ID0gbWluWDtcclxuICAgICAgICB0aGlzLnlTaGlmdCA9IG1pblk7XHJcblxyXG4gICAgICAgIGNvbnN0IGZpeCA9IHRoaXMuc3Ryb2tlRml4ICsgdGhpcy5pbnRlcnBvbGF0aW9uRml4LFxyXG4gICAgICAgICAgICB3aWR0aCA9IE1hdGguYWJzKG1heFggLSBtaW5YKSxcclxuICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5hYnMobWF4WSAtIG1pblkpO1xyXG5cclxuICAgICAgICBOb2RlLmFwcGx5Qm94QW5jaG9yKHBvc2l0aW9uLCB3aWR0aCwgaGVpZ2h0LCB0aGlzLmRhdGEpXHJcbiAgICAgICAgcmV0dXJuIFtwb3NpdGlvblswXSArIHRoaXMueFNoaWZ0LCBwb3NpdGlvblsxXSArIHRoaXMueVNoaWZ0LCB3aWR0aCwgaGVpZ2h0LCBmaXgsIGZpeCwgZml4LCBmaXhdIGFzIFBhcmFtZXRlcnM8TmRCb3hbJ3ZhbHVlJ10+XHJcbiAgICB9KVxyXG4gICAgcHJvdGVjdGVkIEFzc2VtYmxlcjogTmRNb2RlQXNzZW1ibGVyID0gbmV3IE5kTW9kZUFzc2VtYmxlcihbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnZmlsbCcsXHJcbiAgICAgICAgICAgIHJlc29sdmVyOiAoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHRoaXMuYm91bmRpbmdSZWN0Lm1hcmdpblszXSAtIHRoaXMueFNoaWZ0LCB0aGlzLmJvdW5kaW5nUmVjdC5tYXJnaW5bMF0gLSB0aGlzLnlTaGlmdCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaW50ZXJwb2xhdGVkICYmIHRoaXMuZGF0YS5pbnRlcnBvbGF0aW9uLnByb3RlY3RlZFZhbHVlID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIE5kTm9kZVN0eWxlc01vZGVsLmludGVycG9sYXRlKHRoaXMuZGF0YS5wYXRoLnByb3RlY3RlZFZhbHVlLCB0aGlzLmRhdGEuaW50ZXJwb2xhdGlvbi5wcm90ZWN0ZWRWYWx1ZSwgdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVycG9sYXRlZCA9IHRydWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIE5vZGUuZHJhd0ZpbGwodGhpcy5kYXRhLCBjb250ZXh0KVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnYmcnLFxyXG4gICAgICAgICAgICByZXNvbHZlcjogKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUodGhpcy5ib3VuZGluZ1JlY3QubWFyZ2luWzNdIC0gdGhpcy54U2hpZnQsIHRoaXMuYm91bmRpbmdSZWN0Lm1hcmdpblswXSAtIHRoaXMueVNoaWZ0KTtcclxuICAgICAgICAgICAgICAgIE5vZGUuZHJhd1BhdGhCZyh0aGlzLmRhdGEsIGNvbnRleHQsIHRoaXMuQXNzZW1ibGVyKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdzdHJva2UnLFxyXG4gICAgICAgICAgICByZXNvbHZlcjogKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmludGVycG9sYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIE5kTm9kZVN0eWxlc01vZGVsLmludGVycG9sYXRlKHRoaXMuZGF0YS5wYXRoLnByb3RlY3RlZFZhbHVlLCB0aGlzLmRhdGEuaW50ZXJwb2xhdGlvbi5wcm90ZWN0ZWRWYWx1ZSwgdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVycG9sYXRlZCA9IHRydWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHRoaXMuYm91bmRpbmdSZWN0Lm1hcmdpblszXSAtIHRoaXMueFNoaWZ0LCB0aGlzLmJvdW5kaW5nUmVjdC5tYXJnaW5bMF0gLSB0aGlzLnlTaGlmdCk7XHJcbiAgICAgICAgICAgICAgICBOb2RlLmRyYXdTdHJva2UodGhpcy5kYXRhLCBjb250ZXh0KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXSlcclxuICAgIHByb3RlY3RlZCB0ZXN0OiBOb2RlPEFyZWFTdGF0aWNNb2RlbD5bJ3Rlc3QnXSA9IChjdXJzb3IpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tb3VzZVRlc3Rlci5jaGVjayh0aGlzLm1hdHJpeC50cmFjZUN1cnNvclRvTG9jYWxTcGFjZShbLi4uY3Vyc29yXSkpID8gdGhpcyA6IGZhbHNlXHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgcmVuZGVyOiBOb2RlPEFyZWFTdGF0aWNNb2RlbD5bJ3JlbmRlciddID0gKGNvbnRleHQpID0+IHtcclxuICAgICAgICBOb2RlLnRyYW5zZm9ybUNvbnRleHQodGhpcywgY29udGV4dClcclxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLkFzc2VtYmxlci5leHBvcnQodGhpcyksIDAsIDApXHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHRcclxuICAgIH1cclxuICAgIGV4cG9ydDogTm9kZTxBcmVhU3RhdGljTW9kZWw+WydleHBvcnQnXSA9ICgpID0+IHRoaXMuQXNzZW1ibGVyLmV4cG9ydCh0aGlzKVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIGFwcDogTm9kYXMpIHtcclxuICAgICAgICBzdXBlcihpZCwgey4uLm5ldyBOZE1vZEJhc2UoKSwgLi4ubmV3IE5kTW9kRnJlZVN0cm9rZSh0cnVlKSwgLi4ubmV3IE5kTW9kQW5jaG9yKCksIC4uLm5ldyBOZE1vZEJnfSwgYXBwKVxyXG4gICAgICAgIHRoaXMub24oJ2Rlc3Ryb3knLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIE5kTW9kQmcuZGVzdHJveUJhY2tncm91bmQodGhpcy5kYXRhKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy53YXRjaCgncGF0aCcsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlcnBvbGF0ZWQgPSBmYWxzZVxyXG4gICAgICAgICAgICB0aGlzLkJveC5wdXJnZSgpXHJcbiAgICAgICAgICAgIHRoaXMuTWF0cml4LnB1cmdlKClcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIucmVzaXplKClcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIudXBkYXRlKClcclxuICAgICAgICAgICAgdGhpcy5pbnRlcnBvbGF0ZWQgPSBmYWxzZVxyXG4gICAgICAgICAgICB0aGlzLm1vdXNlVGVzdGVyLnJlc2l6ZSh0aGlzLmJvdW5kaW5nUmVjdC5zaXplKVxyXG4gICAgICAgICAgICB0aGlzLm1vdXNlVGVzdGVyLnJlZHJhdyh0aGlzLmRhdGEpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLndhdGNoKCdpbnRlcnBvbGF0aW9uJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmludGVycG9sYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmludGVycG9sYXRpb25GaXggPSBNYXRoLnJvdW5kKDQwICogdGhpcy5kYXRhLmludGVycG9sYXRpb24ucHJvdGVjdGVkVmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci51cGRhdGUoKVxyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci5yZXNpemUoKVxyXG4gICAgICAgICAgICB0aGlzLm1vdXNlVGVzdGVyLnJlc2l6ZSh0aGlzLmJvdW5kaW5nUmVjdC5zaXplKVxyXG4gICAgICAgICAgICB0aGlzLm1vdXNlVGVzdGVyLnJlZHJhdyh0aGlzLmRhdGEpXHJcbiAgICAgICAgICAgIHRoaXMuaW50ZXJwb2xhdGVkID0gZmFsc2VcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMud2F0Y2goWydzdHJva2VTdHlsZScsICdzdHJva2VDb2xvciddLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgnc3Ryb2tlJylcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIucmVzaXplKClcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMud2F0Y2goJ2ZpbGwnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLndhdGNoKFsnYmcnLCAnYmFja2dyb3VuZFNpemUnLCAnYmFja2dyb3VuZFBvc2l0aW9uJ10sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIudXBkYXRlKCdiZycpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLndhdGNoKCdzdHJva2VXaWR0aCcsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zdHJva2VGaXggPSB0aGlzLmRhdGEuc3Ryb2tlV2lkdGgucHJvdGVjdGVkVmFsdWVcclxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKHByZXY6IG51bWJlciwgY3VycmVudDogbnVtYmVyKSA9PiBwcmV2IDwgY3VycmVudCA/IGN1cnJlbnQgOiBwcmV2LCAwKSAvIDJcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIudXBkYXRlKCdzdHJva2UnKVxyXG4gICAgICAgICAgICB0aGlzLm1vdXNlVGVzdGVyLnJlc2l6ZSh0aGlzLmJvdW5kaW5nUmVjdC5zaXplKVxyXG4gICAgICAgICAgICB0aGlzLm1vdXNlVGVzdGVyLnJlZHJhdyh0aGlzLmRhdGEpXHJcbiAgICAgICAgICAgIHRoaXMuQm94LnB1cmdlKClcclxuICAgICAgICAgICAgdGhpcy5NYXRyaXgucHVyZ2UoKVxyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci5yZXNpemUoKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IE5kTm9kZVN0eWxlc01vZGVsIGZyb20gJy4uL2NsYXNzZXMvTmROb2RlU3R5bGVzTW9kZWwnO1xyXG5pbXBvcnQgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkIGZyb20gJy4uL2NsYXNzZXMvTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkJztcclxuaW1wb3J0IHtOZE51bWVyaWNBcnJheTJkfSBmcm9tICcuLi8uLi9AdHlwZXMvdHlwZXMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmRNb2RTaXplIGV4dGVuZHMgTmROb2RlU3R5bGVzTW9kZWwge1xyXG4gICAgc2l6ZSA9IG5ldyBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQ8TmROdW1lcmljQXJyYXkyZCwgTmROdW1lcmljQXJyYXkyZCwgTmROdW1lcmljQXJyYXkyZCB8IG51bWJlciwgTmROdW1lcmljQXJyYXkyZD4oXHJcbiAgICAgICAgMSxcclxuICAgICAgICBbMCwgMF0sXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFsuLi5jdXJyZW50XVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDBcclxuICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlXVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm1hcCh2ID0+IHYgPCAwID8gMCA6IHYpIGFzIE5kTnVtZXJpY0FycmF5MmRcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9LFxyXG4gICAgICAgIChjdXJyZW50LCB2YWx1ZSwgc2V0U3RhcnQsIHNldEVuZCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRTdGFydChbLi4uY3VycmVudF0pXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDBcclxuICAgICAgICAgICAgICAgIHNldEVuZChbdmFsdWUsIHZhbHVlXSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNldEVuZCh2YWx1ZS5tYXAodiA9PiB2IDwgMCA/IDAgOiB2KSBhcyBOZE51bWVyaWNBcnJheTJkKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG59IiwiaW1wb3J0IE5kTm9kZVN0eWxlc01vZGVsIGZyb20gJy4uL2NsYXNzZXMvTmROb2RlU3R5bGVzTW9kZWwnO1xyXG5pbXBvcnQgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkIGZyb20gJy4uL2NsYXNzZXMvTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkJztcclxuaW1wb3J0IE5kU3R5bGVzUHJvcGVydHkgZnJvbSAnLi4vY2xhc3Nlcy9OZE5vZGVTdHlsZVByb3BlcnR5JztcclxuaW1wb3J0IHtOZEFyckNvbG9yLCBOZENvbG9yQXJyQm94LCBOZENvbG9yQm94LCBOZENvbG9yU3RyLCBOZFN0cm9rZVN0eWxlLCBOZFN0cm9rZVdpZHRoQm94fSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmRNb2RSZWN0IGV4dGVuZHMgTmROb2RlU3R5bGVzTW9kZWwge1xyXG4gICAgcmFkaXVzID0gbmV3IE5kTm9kZVN0eWxlUHJvcGVydHlBbmltYXRlZDxbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcclxuICAgICAgICBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcclxuICAgICAgICBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSB8IG51bWJlcixcclxuICAgICAgICBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXT4oXHJcbiAgICAgICAgMCxcclxuICAgICAgICBbMCwgMCwgMCwgMF0sXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFsuLi5jdXJyZW50XVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHZhbHVlIDwgMCA/IFswLCAwLCAwLCAwXSA6IFt2YWx1ZSwgdmFsdWUsIHZhbHVlLCB2YWx1ZV0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUubWFwKHYgPT4gdiA8IDAgPyAwIDogdikgYXMgW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKGN1cnJlbnQsIHZhbHVlLCBzZXRTdGFydCwgc2V0RW5kKSA9PiB7XHJcbiAgICAgICAgICAgIHNldFN0YXJ0KFsuLi5jdXJyZW50XSlcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIHNldEVuZCh2YWx1ZSA8IDAgPyBbMCwgMCwgMCwgMF0gOiBbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2V0RW5kKHZhbHVlLm1hcCh2ID0+IHYgPCAwID8gMCA6IHYpIGFzIFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG4gICAgc3Ryb2tlQ29sb3IgPSBuZXcgTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkPE5kQ29sb3JCb3gsXHJcbiAgICAgICAgTmRDb2xvckJveCxcclxuICAgICAgICBOZENvbG9yQm94IHwgTmRDb2xvckFyckJveCB8IE5kQXJyQ29sb3IgfCBOZENvbG9yU3RyLFxyXG4gICAgICAgIE5kQ29sb3JBcnJCb3g+KFxyXG4gICAgICAgIDEsXHJcbiAgICAgICAgWydyZ2JhKDAsMCwwLDEpJywgJ3JnYmEoMCwwLDAsMSknLCAncmdiYSgwLDAsMCwxKScsICdyZ2JhKDAsMCwwLDEpJ10sXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFsuLi5jdXJyZW50XVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IE5kTW9kUmVjdC5hcnJheVRvQ29sb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgTmRNb2RSZWN0Lm5vcm1hbGl6ZUNvbG9yKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBOZE1vZFJlY3QuY29sb3JUb0FycmF5KHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlWzBdID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPVxyXG4gICAgICAgICAgICAgICAgICAgIE5kTW9kUmVjdC5hcnJheVRvQ29sb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5kTW9kUmVjdC5ub3JtYWxpemVDb2xvcih2YWx1ZSBhcyBOZEFyckNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlWzBdID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAodmFsdWUgYXMgTmRDb2xvckJveClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPT4gTmRNb2RSZWN0LmFycmF5VG9Db2xvcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOZE1vZFJlY3Qubm9ybWFsaXplQ29sb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5kTW9kUmVjdC5jb2xvclRvQXJyYXkodilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkgYXMgTmRDb2xvckJveFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPT4gTmRNb2RSZWN0LmFycmF5VG9Db2xvcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOZE1vZFJlY3Qubm9ybWFsaXplQ29sb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgYXMgTmRBcnJDb2xvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgKSBhcyBOZENvbG9yQm94XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIChcclxuICAgICAgICAgICAgY3VycmVudCxcclxuICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgIHNldFN0YXJ0LFxyXG4gICAgICAgICAgICBzZXRFbmQpID0+IHtcclxuICAgICAgICAgICAgc2V0U3RhcnQoY3VycmVudC5tYXAodiA9PiBOZE1vZFJlY3QuY29sb3JUb0FycmF5KHYpKSBhcyBOZENvbG9yQXJyQm94KVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbCA9IE5kTW9kUmVjdC5ub3JtYWxpemVDb2xvcihOZE1vZFJlY3QuY29sb3JUb0FycmF5KHZhbHVlKSlcclxuICAgICAgICAgICAgICAgIHNldEVuZChbdmFsLCB2YWwsIHZhbCwgdmFsXSlcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWVbMF0gPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsID0gTmRNb2RSZWN0Lm5vcm1hbGl6ZUNvbG9yKHZhbHVlIGFzIE5kQXJyQ29sb3IpXHJcbiAgICAgICAgICAgICAgICBzZXRFbmQoW3ZhbCwgdmFsLCB2YWwsIHZhbF0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlWzBdID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEVuZCgodmFsdWUgYXMgTmRDb2xvckJveCkubWFwKHYgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTmRNb2RSZWN0Lm5vcm1hbGl6ZUNvbG9yKE5kTW9kUmVjdC5jb2xvclRvQXJyYXkodikpXHJcbiAgICAgICAgICAgICAgICAgICAgfSkgYXMgTmRDb2xvckFyckJveClcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0RW5kKCh2YWx1ZSBhcyBOZENvbG9yQXJyQm94KS5tYXAodiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4uTmRNb2RSZWN0Lm5vcm1hbGl6ZUNvbG9yKHYpXVxyXG4gICAgICAgICAgICAgICAgICAgIH0pIGFzIE5kQ29sb3JBcnJCb3gpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICBzdHJva2VXaWR0aCA9IG5ldyBOZE5vZGVTdHlsZVByb3BlcnR5QW5pbWF0ZWQ8TmRTdHJva2VXaWR0aEJveCxcclxuICAgICAgICBOZFN0cm9rZVdpZHRoQm94LFxyXG4gICAgICAgIE5kU3Ryb2tlV2lkdGhCb3ggfCBudW1iZXIsXHJcbiAgICAgICAgTmRTdHJva2VXaWR0aEJveD4oXHJcbiAgICAgICAgMSxcclxuICAgICAgICBbMSwgMSwgMSwgMV0sXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFsuLi5jdXJyZW50XVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPCAwID8gWzAsIDAsIDAsIDBdIDogW3ZhbHVlLCB2YWx1ZSwgdmFsdWUsIHZhbHVlXVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm1hcCh2ID0+IHYgPCAwID8gMCA6IHYpIGFzIFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIChjdXJyZW50LCB2YWx1ZSwgc2V0U3RhcnQsIHNldEVuZCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRTdGFydChbLi4uY3VycmVudF0pXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRFbmQodmFsdWUgPCAwID8gWzAsIDAsIDAsIDBdIDogW3ZhbHVlLCB2YWx1ZSwgdmFsdWUsIHZhbHVlXSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNldFN0YXJ0KHZhbHVlLm1hcCh2ID0+IHYgPCAwID8gMCA6IHYpIGFzIFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG4gICAgc3Ryb2tlU3R5bGUgPSBuZXcgTmRTdHlsZXNQcm9wZXJ0eTxbTmRTdHJva2VTdHlsZSwgTmRTdHJva2VTdHlsZSwgTmRTdHJva2VTdHlsZSwgTmRTdHJva2VTdHlsZV0sXHJcbiAgICAgICAgW05kU3Ryb2tlU3R5bGUsIE5kU3Ryb2tlU3R5bGUsIE5kU3Ryb2tlU3R5bGUsIE5kU3Ryb2tlU3R5bGVdLFxyXG4gICAgICAgIFtOZFN0cm9rZVN0eWxlLCBOZFN0cm9rZVN0eWxlLCBOZFN0cm9rZVN0eWxlLCBOZFN0cm9rZVN0eWxlXSB8IE5kU3Ryb2tlU3R5bGU+KFxyXG4gICAgICAgIDEsXHJcbiAgICAgICAgW1swXSwgWzBdLCBbMF0sIFswXV0sXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQubWFwKHYgPT4gWy4uLnZdKSBhcyBbTmRTdHJva2VTdHlsZSwgTmRTdHJva2VTdHlsZSwgTmRTdHJva2VTdHlsZSwgTmRTdHJva2VTdHlsZV1cclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlWzBdID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWUsIHZhbHVlLCB2YWx1ZV0gYXMgW05kU3Ryb2tlU3R5bGUsIE5kU3Ryb2tlU3R5bGUsIE5kU3Ryb2tlU3R5bGUsIE5kU3Ryb2tlU3R5bGVdXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHZhbHVlKS5tYXAodiA9PiBbLi4udiBhcyBOZFN0cm9rZVN0eWxlXSkgYXMgW05kU3Ryb2tlU3R5bGUsIE5kU3Ryb2tlU3R5bGUsIE5kU3Ryb2tlU3R5bGUsIE5kU3Ryb2tlU3R5bGVdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICApXHJcbn0iLCJpbXBvcnQgTmRNb2RBbmNob3IgZnJvbSAnLi9tb2RlbHMvTmRNb2RBbmNob3InO1xyXG5pbXBvcnQgTmRNb2RCYXNlIGZyb20gJy4vbW9kZWxzL05kTW9kQmFzZSc7XHJcbmltcG9ydCBOZE1vZGVBc3NlbWJsZXIgZnJvbSAnLi9jbGFzc2VzL05kTW9kZUFzc2VtYmxlcic7XHJcbmltcG9ydCBOZE5vZGVCb3ggZnJvbSAnLi9jbGFzc2VzL05kTm9kZUJveCc7XHJcbmltcG9ydCBOZE1vZFNpemUgZnJvbSAnLi9tb2RlbHMvTmRNb2RTaXplJztcclxuaW1wb3J0IE5kTW9kUmVjdCBmcm9tICcuL21vZGVscy9OZE1vZFJlY3QnO1xyXG5pbXBvcnQge05kQ29sb3JTdHIsIE5kUGF0aEJlemllciwgTmRTZWdtZW50QmV6aWVyLCBOZFN0cm9rZVdpZHRoQm94fSBmcm9tICcuL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOZE1vZEJnIGZyb20gJy4vbW9kZWxzL05kTW9kQmcnO1xyXG5pbXBvcnQge05kTnVtZXJpY0FycmF5MmR9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOb2RlIGZyb20gJy4vTm9kZSc7XHJcbmltcG9ydCBOb2RhcyBmcm9tICcuLi8uLi9Ob2Rhcyc7XHJcblxyXG50eXBlIFJlY3ROb2RlTW9kZWwgPSBOZE1vZFJlY3QgJiBOZE1vZFNpemUgJiBOZE1vZEFuY2hvciAmIE5kTW9kQmcgJiBOZE1vZEJhc2VcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVjdGFuZ2xlIGV4dGVuZHMgTm9kZTxSZWN0Tm9kZU1vZGVsPiB7XHJcbiAgICBwcml2YXRlIHN0cm9rZUZpeDogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl1cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgcGF0aDogKCkgPT4gTmRQYXRoQmV6aWVyXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHB1cmdlUGF0aDogKCkgPT4gdm9pZFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBDSVJDTEVDT05TVCA9IDAuNTUyMjg0NzQ5OFxyXG4gICAgcHJvdGVjdGVkIEFzc2VtYmxlcjogTmRNb2RlQXNzZW1ibGVyID0gbmV3IE5kTW9kZUFzc2VtYmxlcihbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnZmlsbCcsXHJcbiAgICAgICAgICAgIHJlc29sdmVyOiAoY29udGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUodGhpcy5zdHJva2VGaXhbM10sIHRoaXMuc3Ryb2tlRml4WzBdKVxyXG4gICAgICAgICAgICAgICAgUmVjdGFuZ2xlLnJlZ2lzdGVyUGF0aCh0aGlzLnBhdGgoKSwgY29udGV4dCwgdHJ1ZSlcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5kYXRhLmZpbGwucHJvdGVjdGVkVmFsdWVcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ2JnJyxcclxuICAgICAgICAgICAgcmVzb2x2ZXI6IChjb250ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSh0aGlzLnN0cm9rZUZpeFszXSwgdGhpcy5zdHJva2VGaXhbMF0pXHJcbiAgICAgICAgICAgICAgICBSZWN0YW5nbGUuY2xpcEJlemllclBhdGgodGhpcy5wYXRoKCksIGNvbnRleHQpXHJcbiAgICAgICAgICAgICAgICBSZWN0YW5nbGUuZHJhd0JnKHRoaXMuZGF0YSwgY29udGV4dCwgdGhpcy5Bc3NlbWJsZXIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ3N0cm9rZScsXHJcbiAgICAgICAgICAgIHJlc29sdmVyOiAoY29udGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUodGhpcy5zdHJva2VGaXhbM10sIHRoaXMuc3Ryb2tlRml4WzBdKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3UmVjdFN0cm9rZShjb250ZXh0KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXSlcclxuICAgIGV4cG9ydDogTm9kZTxSZWN0Tm9kZU1vZGVsPlsnZXhwb3J0J10gPSAoKSA9PiB0aGlzLkFzc2VtYmxlci5leHBvcnQodGhpcyk7XHJcbiAgICBwcm90ZWN0ZWQgdGVzdDogTm9kZTxSZWN0Tm9kZU1vZGVsPlsndGVzdCddID0gKGN1cnNvcjogTmROdW1lcmljQXJyYXkyZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IFt4LHldID0gdGhpcy5NYXRyaXgudmFsdWUudHJhY2VDdXJzb3JUb0xvY2FsU3BhY2UoWy4uLmN1cnNvcl0pXHJcbiAgICAgICAgaWYgKHggPCB0aGlzLkJveC52YWx1ZS5zcHJpdGUuc2l6ZVswXSAmJiB4ID4gMCAmJiB5IDwgdGhpcy5Cb3gudmFsdWUuc3ByaXRlLnNpemVbMV0gJiYgeSA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgcmVuZGVyOiBOb2RlPFJlY3ROb2RlTW9kZWw+WydyZW5kZXInXSA9IChjb250ZXh0KSA9PiB7XHJcbiAgICAgICAgUmVjdGFuZ2xlLnRyYW5zZm9ybUNvbnRleHQodGhpcywgY29udGV4dClcclxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLkFzc2VtYmxlci5leHBvcnQodGhpcyksIDAsIDApXHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHRcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCBCb3g6IE5kTm9kZUJveCA9IG5ldyBOZE5vZGVCb3godGhpcywgdGhpcy5DYWNoZSwgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gWy4uLnRoaXMuZGF0YS5wb3NpdGlvbi5wcm90ZWN0ZWRWYWx1ZV0gYXMgTmROdW1lcmljQXJyYXkyZFxyXG4gICAgICAgIE5vZGUuYXBwbHlCb3hBbmNob3IocG9zaXRpb24sIHRoaXMuZGF0YS5zaXplLnByb3RlY3RlZFZhbHVlWzBdLCB0aGlzLmRhdGEuc2l6ZS5wcm90ZWN0ZWRWYWx1ZVsxXSwgdGhpcy5kYXRhKVxyXG4gICAgICAgIHJldHVybiBbcG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdLCB0aGlzLmRhdGEuc2l6ZS5wcm90ZWN0ZWRWYWx1ZVswXSwgdGhpcy5kYXRhLnNpemUucHJvdGVjdGVkVmFsdWVbMV0sIHRoaXMuc3Ryb2tlRml4WzBdLCB0aGlzLnN0cm9rZUZpeFsxXSwgdGhpcy5zdHJva2VGaXhbMl0sIHRoaXMuc3Ryb2tlRml4WzNdXVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgYXBwOiBOb2Rhcykge1xyXG4gICAgICAgIHN1cGVyKGlkLCB7Li4ubmV3IE5kTW9kUmVjdCgpLCAuLi5uZXcgTmRNb2RTaXplKCksIC4uLm5ldyBOZE1vZEFuY2hvcigpLCAuLi5uZXcgTmRNb2RCZygpLCAuLi5uZXcgTmRNb2RCYXNlKCl9LCBhcHApO1xyXG4gICAgICAgIHRoaXMuc3Ryb2tlRml4ID0gWy4uLnRoaXMuZGF0YS5zdHJva2VXaWR0aC5wcm90ZWN0ZWRWYWx1ZV0gYXMgW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl1cclxuICAgICAgICBjb25zdCB7Z2V0dGVyLCBwdXJnZX0gPSB0aGlzLkNhY2hlLnJlZ2lzdGVyPE5kUGF0aEJlemllcj4oJ3BhdGgnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IFt3aWR0aCwgaGVpZ2h0XSA9IHRoaXMuZGF0YS5zaXplLnByb3RlY3RlZFZhbHVlXHJcbiAgICAgICAgICAgIGNvbnN0IFt0bCwgdHIsIGJyLCBibF0gPSB0aGlzLmRhdGEucmFkaXVzLnByb3RlY3RlZFZhbHVlLm1hcCgodjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodiA+IHdpZHRoIC8gMikgdiA9IHdpZHRoIC8gMlxyXG4gICAgICAgICAgICAgICAgaWYgKHYgPiBoZWlnaHQgLyAyKSB2ID0gaGVpZ2h0IC8gMlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgaWYgKHdpZHRoICYmIGhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBOZFBhdGhCZXppZXIgPSBbXVxyXG4gICAgICAgICAgICAgICAgaWYgKHRsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAwLCB0bCwvL3AxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRsLCAwLCAvL3AyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsIHRsICogdGhpcy5DSVJDTEVDT05TVCwvL2NwMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0bCAtIHRsICogdGhpcy5DSVJDTEVDT05TVCwgMCAvL2NwMlxyXG4gICAgICAgICAgICAgICAgICAgIF0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbMF1bMl0sIHJlc3VsdFswXVszXSwvL3AxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLCAwLCAvL3AyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFswXVsyXSwgcmVzdWx0WzBdWzNdLCAvL2NwMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCwgMCAvL2NwMlxyXG4gICAgICAgICAgICAgICAgICAgIF0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgMCwgMCwvL3AxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLCAwLCAvL3AyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsIDAsIC8vY3AxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLCAwIC8vY3AyXHJcbiAgICAgICAgICAgICAgICAgICAgXSlcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzJdIC09IHRyXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVs2XSAtPSB0clxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggLSB0ciwgMCwvL3AxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLCB0ciwgLy9wMlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCAtIHRyICsgKHRyICogdGhpcy5DSVJDTEVDT05TVCksIDAsIC8vY3AxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLCB0ciAtIHRyICogdGhpcy5DSVJDTEVDT05TVC8vY3AyXHJcbiAgICAgICAgICAgICAgICAgICAgXSlcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLCB0ciwgLy9wMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCwgaGVpZ2h0LCAvL3AyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLCB0ciwgLy9jcDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGgsIGhlaWdodC8vY3AyXHJcbiAgICAgICAgICAgICAgICAgICAgXSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCwgMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGgsIGhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGgsIDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLCBoZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChicikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bM10gLT0gYnJcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzddIC09IGJyXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCwgaGVpZ2h0IC0gYnIsIC8vcDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggLSBiciwgaGVpZ2h0LCAvL3AyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLCBoZWlnaHQgLSBiciArIChiciAqIHRoaXMuQ0lSQ0xFQ09OU1QpLCAvL2NwMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCAtIGJyICsgKGJyICogdGhpcy5DSVJDTEVDT05TVCksIGhlaWdodCAvL2NwMlxyXG4gICAgICAgICAgICAgICAgICAgIF0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCAtIGJyLCBoZWlnaHQsLy9wMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAwLCBoZWlnaHQsLy9wMlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCAtIGJyLCBoZWlnaHQsLy9jcDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgMCwgaGVpZ2h0Ly9jcDJcclxuICAgICAgICAgICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLCBoZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsIGhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGgsIGhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgMCwgaGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgXSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChibCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1bMl0gKz0gYmxcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdWzZdICs9IGJsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBibCwgaGVpZ2h0LC8vcDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgMCwgaGVpZ2h0IC0gYmwsLy9wMlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibCAtIGJsICogdGhpcy5DSVJDTEVDT05TVCwgaGVpZ2h0LCAvL2NwMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAwLCBoZWlnaHQgLSBibCArIGJsICogdGhpcy5DSVJDTEVDT05TVFxyXG4gICAgICAgICAgICAgICAgICAgIF0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIGhlaWdodCAtIGJsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0WzBdWzBdLCByZXN1bHRbMF1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCBoZWlnaHQgLSBibCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFswXVswXSwgcmVzdWx0WzBdWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgMCwgaGVpZ2h0IC0gYmwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFswXVswXSwgcmVzdWx0WzBdWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAwLCBoZWlnaHQgLSBibCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0WzBdWzBdLCByZXN1bHRbMF1bMV1cclxuICAgICAgICAgICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5wYXRoID0gZ2V0dGVyXHJcbiAgICAgICAgdGhpcy5wdXJnZVBhdGggPSBwdXJnZVxyXG4gICAgICAgIHRoaXMud2F0Y2goJ3NpemUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnJlc2l6ZSgpXHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpXHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgnYmcnKVxyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpXHJcbiAgICAgICAgICAgIHRoaXMuTWF0cml4LnB1cmdlKClcclxuICAgICAgICAgICAgdGhpcy5Cb3gucHVyZ2UoKVxyXG4gICAgICAgICAgICB0aGlzLnB1cmdlUGF0aCgpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLndhdGNoKCdyYWRpdXMnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpXHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgnYmcnKVxyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpXHJcbiAgICAgICAgICAgIHRoaXMucHVyZ2VQYXRoKClcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMud2F0Y2goJ3N0cm9rZVdpZHRoJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnN0cm9rZUZpeCA9IFsuLi50aGlzLmRhdGEuc3Ryb2tlV2lkdGgucHJvdGVjdGVkVmFsdWVdIGFzIE5kU3Ryb2tlV2lkdGhCb3hcclxuICAgICAgICAgICAgdGhpcy5Cb3gucHVyZ2UoKVxyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci5yZXNpemUoKVxyXG4gICAgICAgICAgICB0aGlzLk1hdHJpeC5wdXJnZSgpXHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgnZmlsbCcpXHJcbiAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgnYmcnKVxyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLndhdGNoKFsnYmcnLCAnYmFja2dyb3VuZFNpemUnLCAnYmFja2dyb3VuZFBvc2l0aW9uJ10sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIudXBkYXRlKCdiZycpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLndhdGNoKFsnc3Ryb2tlQ29sb3InLCAnc3Ryb2tlU3R5bGUnXSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci51cGRhdGUoJ3N0cm9rZScpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLndhdGNoKCdmaWxsJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci51cGRhdGUoJ2ZpbGwnKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5vbignZGVzdHJveScsICgpID0+IHtcclxuICAgICAgICAgICAgTmRNb2RCZy5kZXN0cm95QmFja2dyb3VuZCh0aGlzLmRhdGEpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBkcmF3Q29ybmVyKHJlY3RTZWdtZW50OiBudW1iZXIsIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgc2VnbWVudDogTmRTZWdtZW50QmV6aWVyLCBjb2xvcjE6IE5kQ29sb3JTdHIsIGNvbG9yMjogTmRDb2xvclN0ciwgd2lkdGgxOiBudW1iZXIsIHdpZHRoMjogbnVtYmVyKSB7XHJcbiAgICAgICAgY29udGV4dC5zYXZlKClcclxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpXHJcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBNYXRoLm1heCh3aWR0aDEsIHdpZHRoMilcclxuICAgICAgICBsZXQgW3B4MSwgcHkxLCBweDIsIHB5MiwgY3B4MSwgY3B5MSwgY3B4MiwgY3B5Ml0gPSBzZWdtZW50XHJcbiAgICAgICAgaWYgKHJlY3RTZWdtZW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgIGlmICh3aWR0aDEgPCB3aWR0aDIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpZmYgPSAod2lkdGgyIC0gd2lkdGgxKSAvIDJcclxuICAgICAgICAgICAgICAgIHB4MSArPSBkaWZmXHJcbiAgICAgICAgICAgICAgICBjcHgxICs9IGRpZmZcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAod2lkdGgxID4gd2lkdGgyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gKHdpZHRoMSAtIHdpZHRoMikgLyAyXHJcbiAgICAgICAgICAgICAgICBweTIgKz0gZGlmZlxyXG4gICAgICAgICAgICAgICAgY3B5MiArPSBkaWZmXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlY3RTZWdtZW50ID09IDEpIHtcclxuICAgICAgICAgICAgaWYgKHdpZHRoMSA8IHdpZHRoMikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGlmZiA9ICh3aWR0aDIgLSB3aWR0aDEpIC8gMlxyXG4gICAgICAgICAgICAgICAgcHkxICs9IGRpZmZcclxuICAgICAgICAgICAgICAgIGNweTEgKz0gZGlmZlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh3aWR0aDIgPCB3aWR0aDEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpZmYgPSAod2lkdGgxIC0gd2lkdGgyKSAvIDJcclxuICAgICAgICAgICAgICAgIHB4MiAtPSBkaWZmXHJcbiAgICAgICAgICAgICAgICBjcHgyIC09IGRpZmZcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVjdFNlZ21lbnQgPT0gMikge1xyXG4gICAgICAgICAgICBpZiAod2lkdGgxIDwgd2lkdGgyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gKHdpZHRoMiAtIHdpZHRoMSkgLyAyXHJcbiAgICAgICAgICAgICAgICBweDEgLT0gZGlmZlxyXG4gICAgICAgICAgICAgICAgY3B4MSAtPSBkaWZmXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHdpZHRoMSA+IHdpZHRoMikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGlmZiA9ICh3aWR0aDEgLSB3aWR0aDIpIC8gMlxyXG4gICAgICAgICAgICAgICAgcHkyIC09IGRpZmZcclxuICAgICAgICAgICAgICAgIGNweTIgLT0gZGlmZlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZWN0U2VnbWVudCA9PSAzKSB7XHJcbiAgICAgICAgICAgIGlmICh3aWR0aDIgPCB3aWR0aDEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpZmYgPSAod2lkdGgxIC0gd2lkdGgyKSAvIDJcclxuICAgICAgICAgICAgICAgIHB4MiArPSBkaWZmXHJcbiAgICAgICAgICAgICAgICBjcHgyICs9IGRpZmZcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAod2lkdGgxIDwgd2lkdGgyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gKHdpZHRoMiAtIHdpZHRoMSkgLyAyXHJcbiAgICAgICAgICAgICAgICBweTEgLT0gZGlmZlxyXG4gICAgICAgICAgICAgICAgY3B5MSAtPSBkaWZmXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29udGV4dC5tb3ZlVG8ocHgxLCBweTEpXHJcbiAgICAgICAgaWYgKGNvbG9yMSAhPT0gY29sb3IyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdyYWQgPSBjb250ZXh0LmNyZWF0ZUNvbmljR3JhZGllbnQoXHJcbiAgICAgICAgICAgICAgICAtTWF0aC5QSSAtICgxIC8gMTgwKSArIChNYXRoLlBJIC8gMiAqIHJlY3RTZWdtZW50KSxcclxuICAgICAgICAgICAgICAgIHJlY3RTZWdtZW50ICUgMiA/IHB4MSA6IHB4MixcclxuICAgICAgICAgICAgICAgIHJlY3RTZWdtZW50ICUgMiA/IHB5MiA6IHB5MVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIGdyYWQuYWRkQ29sb3JTdG9wKDAsIGNvbG9yMSlcclxuICAgICAgICAgICAgZ3JhZC5hZGRDb2xvclN0b3AoLjI1LCBjb2xvcjIpXHJcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBncmFkXHJcbiAgICAgICAgfSBlbHNlIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBjb2xvcjFcclxuICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oY3B4MSwgY3B5MSwgY3B4MiwgY3B5MiwgcHgyLCBweTIpXHJcbiAgICAgICAgY29udGV4dC5zdHJva2UoKVxyXG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZHJhd0JyaWRnZShjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHNlZ21lbnQ6IE5kU2VnbWVudEJlemllciwgY29sb3I6IE5kQ29sb3JTdHIsIHdpZHRoOiBudW1iZXIpIHtcclxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpXHJcbiAgICAgICAgY29udGV4dC5saW5lQ2FwID0ncm91bmQnXHJcbiAgICAgICAgY29udGV4dC5tb3ZlVG8oc2VnbWVudFswXSwgc2VnbWVudFsxXSlcclxuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gY29sb3JcclxuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHdpZHRoXHJcbiAgICAgICAgY29udGV4dC5saW5lVG8oc2VnbWVudFsyXSwgc2VnbWVudFszXSlcclxuICAgICAgICBjb250ZXh0LnN0cm9rZSgpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3UmVjdFN0cm9rZShjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5wYXRoKClcclxuICAgICAgICBjb25zdCBzZWdtZW50U3RvcHMgPSBbMCwgMSwgMiwgM10gLy8gc2VnbWVudCBzdG9wIGtleXNcclxuICAgICAgICBpZiAocGF0aC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRTZWdtZW50ID0gMFxyXG4gICAgICAgICAgICAvL3NlZ21lbnQgc3RvcCBrZXlzIGZpeCBkZXBlbmRpbmcgb24gY29ycmVzcG9uZGluZyBjb3JuZXIgcHJlc2VuY2VcclxuICAgICAgICAgICAgdGhpcy5kYXRhLnJhZGl1cy5wcm90ZWN0ZWRWYWx1ZS5mb3JFYWNoKCh2LCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh2ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBrZXk7IGkgPCBzZWdtZW50U3RvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudFN0b3BzW2ldICs9IDFcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHBhdGguZm9yRWFjaCgodiwgbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvcm5lciA9IHZbMF0gIT09IHZbMl0gJiYgdlsxXSAhPT0gdlszXVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3JuZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVjdGFuZ2xlLmRyYXdDb3JuZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2VnbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNlZ21lbnQgPiAwID8gdGhpcy5kYXRhLnN0cm9rZUNvbG9yLnByb3RlY3RlZFZhbHVlW2N1cnJlbnRTZWdtZW50IC0gMV0gOiB0aGlzLmRhdGEuc3Ryb2tlQ29sb3IucHJvdGVjdGVkVmFsdWVbM10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc3Ryb2tlQ29sb3IucHJvdGVjdGVkVmFsdWVbY3VycmVudFNlZ21lbnRdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNlZ21lbnQgPiAwID8gdGhpcy5kYXRhLnN0cm9rZVdpZHRoLnByb3RlY3RlZFZhbHVlW2N1cnJlbnRTZWdtZW50IC0gMV0gOiB0aGlzLmRhdGEuc3Ryb2tlV2lkdGgucHJvdGVjdGVkVmFsdWVbM10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc3Ryb2tlV2lkdGgucHJvdGVjdGVkVmFsdWVbY3VycmVudFNlZ21lbnRdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWN0YW5nbGUuZHJhd0JyaWRnZShjb250ZXh0LCB2LCB0aGlzLmRhdGEuc3Ryb2tlQ29sb3IucHJvdGVjdGVkVmFsdWVbY3VycmVudFNlZ21lbnRdLCB0aGlzLmRhdGEuc3Ryb2tlV2lkdGgucHJvdGVjdGVkVmFsdWVbY3VycmVudFNlZ21lbnRdKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudFN0b3BzLmluZGV4T2YobikgPiAtMSkgY3VycmVudFNlZ21lbnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICBjdXJyZW50U2VnbWVudCA9IDBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxufSIsImltcG9ydCBUaWNrZXIgZnJvbSAnLi4vVGlja2VyJztcclxuXHJcbmV4cG9ydCB0eXBlIE5kQ2FudmFzQ29udGV4dCA9IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB8IG51bGxcclxuZXhwb3J0IHR5cGUgTmRDYW52YXNRdWV1ZUNhbGxiYWNrQXJncyA9IFtOZENhbnZhc0NvbnRleHQsIERhdGUsIG51bWJlcl1cclxuZXhwb3J0IHR5cGUgTmRDYW52YXNRdWV1ZUNhbGxiYWNrID0gKC4uLmFyZ3M6IE5kQ2FudmFzUXVldWVDYWxsYmFja0FyZ3MpID0+IHZvaWRcclxuZXhwb3J0IHR5cGUgTmRDYW52YXNRdWV1ZUl0ZW0gPSB7XHJcbiAgICBvcmRlcjogbnVtYmVyLFxyXG4gICAgZjogTmRDYW52YXNRdWV1ZUNhbGxiYWNrXHJcbn1cclxuZXhwb3J0IHR5cGUgTmROdW1lcmljQXJyYXkyZCA9IFt4OiBudW1iZXIsIHk6IG51bWJlcl07XHJcbmV4cG9ydCB0eXBlIE5kRW1pdHRlckNhbGxiYWNrPERhdGE+ID0gKGRhdGE6IERhdGEpID0+IHZvaWQ7XHJcbmV4cG9ydCB0eXBlIE5kTWFpbkRyYXdpbmdQaXBlRkFyZ3MgPSBbY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBkYXRlOiBEYXRlLCBmcmFtZTogbnVtYmVyXVxyXG5leHBvcnQgdHlwZSBOZE1haW5EcmF3aW5nUGlwZUYgPSAoLi4uYXJnczogTmRNYWluRHJhd2luZ1BpcGVGQXJncykgPT4gTmRNYWluRHJhd2luZ1BpcGVGQXJnc1swXSB8IGZhbHNlXHJcbmV4cG9ydCB0eXBlIE5kUmVuZGVyQ29uZGl0aW9uUHJlZGljYXRlID0gKC4uLmFyZ3M6IE5kTWFpbkRyYXdpbmdQaXBlRkFyZ3MpID0+IGJvb2xlYW5cclxuZXhwb3J0IHR5cGUgTmRDb25maWdQcm9wZXJ0eUNoZWNrTmFtZSA9XHJcbiAgICAnaXNOdW1iZXInXHJcbiAgICB8ICdpc1N0cmluZydcclxuICAgIHwgJ2lzQXJyYXknXHJcbiAgICB8ICdjdXN0b20nXHJcbiAgICB8ICd1bmRlcidcclxuICAgIHwgJ2dyZWF0ZXInXHJcbiAgICB8ICdlcSdcclxuICAgIHwgJ2lzQm9vbCdcclxuZXhwb3J0IHR5cGUgTmRDb25maWdQcm9wZXJ0eUN1c3RvbUNoZWNrID0gKHY6IE5kQ29uZmlnUHJvcGVydHlWYWx1ZSkgPT4gYm9vbGVhblxyXG5leHBvcnQgdHlwZSBOZENvbmZpZ1Byb3BlcnR5V2F0Y2hlcjxUPiA9ICh2OiBUKSA9PiB2b2lkXHJcbmV4cG9ydCB0eXBlIE5kQ29uZmlnUHJvcGVydHlDaGVja1ZhbHVlID0gdW5kZWZpbmVkIHwgc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IE5kQ29uZmlnUHJvcGVydHlDdXN0b21DaGVjaztcclxuZXhwb3J0IHR5cGUgTmRDb25maWdQcm9wZXJ0eVZhbHVlID0gc3RyaW5nIHwgW10gfCBudW1iZXIgfCBib29sZWFuIHwgdW5kZWZpbmVkIHwge30gfCBudWxsXHJcbmV4cG9ydCB0eXBlIE5kQ29uZmlnUHJvcGVydHlDaGVja0FycmF5SXRlbSA9IHtcclxuICAgIGY6IE5kQ29uZmlnUHJvcGVydHlDaGVja05hbWUsXHJcbiAgICB2YWx1ZT86IE5kQ29uZmlnUHJvcGVydHlDaGVja1ZhbHVlXHJcbn1cclxuZXhwb3J0IHR5cGUgTmRDb25maWdQcm9wZXJ0eUNoZWNrcyA9IHtcclxuICAgIFtLIGluIE5kQ29uZmlnUHJvcGVydHlDaGVja05hbWVdPzogTmRDb25maWdQcm9wZXJ0eUNoZWNrVmFsdWVcclxufVxyXG5leHBvcnQgdHlwZSBOZERlYnVnRGF0YSA9IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIH1cclxuZXhwb3J0IHR5cGUgTmRGb250Rm9ybWF0cyA9ICdlb3QnIHwgJ3N2ZycgfCAndHRmJyB8ICd3b2ZmJztcclxuXHJcbmV4cG9ydCBlbnVtIE5kRm9udFNwZWNpYWxWYWx1ZXMge1xyXG4gICAgJ3NhbnMtc2VyaWYnID0gJ3NhbnMtc2VyaWYnLFxyXG4gICAgJ3NlcmlmJyA9ICdzZXJpZicsXHJcbiAgICAnc3lzdGVtJyA9ICdzeXN0ZW0nLFxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBOZFNwZWNpYWxGb250V2VpZ2h0cyA9ICdsaWdodCdcclxuICAgIHwgJ25vcm1hbCdcclxuICAgIHwgJ2JvbGQnXHJcbiAgICB8ICdibGFjaydcclxuXHJcbmV4cG9ydCB0eXBlIE5kRm9udFdlaWdodHMgPVxyXG4gICAgTmRTcGVjaWFsRm9udFdlaWdodHNcclxuICAgIHwgMTAwXHJcbiAgICB8IDIwMFxyXG4gICAgfCAzMDBcclxuICAgIHwgNDAwXHJcbiAgICB8IDUwMFxyXG4gICAgfCA2MDBcclxuICAgIHwgNzAwXHJcbiAgICB8IDkwMFxyXG4gICAgfCAxMDAwXHJcbmV4cG9ydCB0eXBlIE5kRm9udFN0eWxlcyA9ICdub3JtYWwnIHwgJ2l0YWxpYydcclxuZXhwb3J0IHR5cGUgTmRGb250RGVzY3JpcHRpb24gPSB7XHJcbiAgICBuYW1lOiBzdHJpbmcsXHJcbiAgICB3ZWlnaHQ6IE5kRm9udFdlaWdodHNbXVxyXG4gICAgc3R5bGU6IE5kRm9udFN0eWxlc1tdXHJcbn1cclxuZXhwb3J0IHR5cGUgTmRUaWNrZXJGQXJncyA9IFtEYXRlLCBudW1iZXJdXHJcbmV4cG9ydCB0eXBlIE5kVGlja2VyRiA9ICguLi5hcmdzOiBOZFRpY2tlckZBcmdzKSA9PiB2b2lkXHJcbmV4cG9ydCB0eXBlIE5kVGlja2VyUXVldWVGID0gKGE6IE5kVGlja2VyRiB8IG51bWJlciwgYiA/OiBOZFRpY2tlckYpID0+IHZvaWRcclxuZXhwb3J0IHR5cGUgTmRUaWNrZXJRdWV1ZUl0ZW0gPSB7XHJcbiAgICBvcmRlcjogbnVtYmVyLFxyXG4gICAgZjogTmRUaWNrZXJGXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIE5kVGlja2VyRXZlbnRzID0gJ3N0b3AnIHwgJ3N0YXJ0JyB8ICdlcnJvcic7XHJcblxyXG5leHBvcnQgdHlwZSBOZFRpY2tlckV2ZW50Q2IgPSAoZGF0YTogRXJyb3IgfCBUaWNrZXIpID0+IHZvaWRcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTmRUaWNrZXJFdmVudHNDb250YWluZXIge1xyXG4gICAgc3RvcDogTmRUaWNrZXJFdmVudENiW10sXHJcbiAgICBzdGFydDogTmRUaWNrZXJFdmVudENiW10sXHJcbiAgICBlcnJvcjogTmRUaWNrZXJFdmVudENiW11cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBOZExpc3RlbmFibGU8U2NoZW1lLCBLIGV4dGVuZHMga2V5b2YgU2NoZW1lID0ga2V5b2YgU2NoZW1lPiB7XHJcbiAgICBvbjogKGV2ZW50OiBLIHwgS1tdLCBjYWxsYmFjazogKGV2ZW50OiBTY2hlbWVbS10pID0+IGFueSkgPT4gYW55XHJcbiAgICBvbmNlOiAoZXZlbnQ6IEsgfCBLW10sIGNhbGxiYWNrOiAoZXZlbnQ6IFNjaGVtZVtLXSkgPT4gYW55KSA9PiBhbnlcclxuICAgIG9mZjogKGV2ZW50OiBLIHwgS1tdLCBjYWxsYmFjazogKGV2ZW50OiBTY2hlbWVbS10pID0+IGFueSkgPT4gYW55XHJcbn0iLCJpbXBvcnQgTmRSZXNvdXJjZSBmcm9tICcuL05kUmVzb3VyY2UnO1xyXG5pbXBvcnQge05kRm9udERlc2NyaXB0aW9uLCBOZEZvbnRGb3JtYXRzLCBOZEZvbnRTdHlsZXMsIE5kRm9udFdlaWdodHN9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCB7TmRVUkxTdHJ9IGZyb20gJy4uL05vZGVzL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCB7TkRCfSBmcm9tICcuLi9TZXJ2aWNlcy9Ob2Rhc0RlYnVnJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kRm9udCBleHRlbmRzIE5kUmVzb3VyY2U8SFRNTENhbnZhc0VsZW1lbnQ+IHtcclxuXHJcbiAgICBwcml2YXRlIGNvbnRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCcyZCcpIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFxyXG4gICAgcHJpdmF0ZSBzdHlsZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpXHJcbiAgICBwcml2YXRlIHN0cjogc3RyaW5nW11cclxuICAgIHByaXZhdGUgc2NoZW1lOiBOZEZvbnREZXNjcmlwdGlvblxyXG4gICAgcHJpdmF0ZSBmb250TWF4TG9hZFRpbWUgPSAxMDAwMFxyXG4gICAgcHJpdmF0ZSBmb250TG9hZFN0YXJ0OiBudW1iZXIgPSAwXHJcbiAgICBwcml2YXRlIGZvbnRNZWFzdXJlQnVmZmVyOiBudW1iZXJbXVtdID0gW11cclxuXHJcbiAgICBwcml2YXRlIGxvYWRGb250KG9uTG9hZDogKCkgPT4gYW55LCBvbkVycm9yOiAoKSA9PiBhbnkpIHtcclxuICAgICAgICBjb25zdCBjaGVja1Jlc3VsdEJ1ZmZlciA9IHRoaXMuc2NoZW1lLndlaWdodC5tYXAod2VpZ2h0ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NoZW1lLnN0eWxlLm1hcChzdHlsZSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tZWFzdXJlRm9udChzdHlsZSwgd2VpZ2h0KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRydWVcclxuICAgICAgICBmb3IgKGxldCB3ID0gMDsgdyA8IHRoaXMuc2NoZW1lLndlaWdodC5sZW5ndGg7IHcrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBzID0gMDsgcyA8IHRoaXMuc2NoZW1lLnN0eWxlLmxlbmd0aDsgcysrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tSZXN1bHRCdWZmZXJbd11bc10gPT09IHRoaXMuZm9udE1lYXN1cmVCdWZmZXJbd11bc10pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIGJyZWFrXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgb25Mb2FkKClcclxuICAgICAgICB9IGVsc2UgaWYgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gdGhpcy5mb250TG9hZFN0YXJ0ID4gdGhpcy5mb250TWF4TG9hZFRpbWUpIHtcclxuICAgICAgICAgICAgTkRCLm5lZ2F0aXZlKGBHYXZlIHVwIHRyeWluZyB0byBsb2FkICR7dGhpcy5uYW1lfS4gVGltZW91dC5gKVxyXG4gICAgICAgICAgICBvbkVycm9yKClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMubG9hZEZvbnQob25Mb2FkLCBvbkVycm9yKSwgNTAwKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1lYXN1cmVGb250KHN0eWxlOiBOZEZvbnRTdHlsZXMsIHdlaWdodDogTmRGb250V2VpZ2h0cywgY3VzdG9tRmFtaWx5Pzogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgICAgICB0aGlzLmNvbnRleHQuZm9udCA9IGN1c3RvbUZhbWlseSA/IGAke3N0eWxlfSAke05kRm9udC5leHRyYWN0TnVtZXJpY1dlaWdodCh3ZWlnaHQpfSAxMnB4LzEycHggXCIke2N1c3RvbUZhbWlseX1cImAgOiB0aGlzLnN0cmluZyhzdHlsZSwgTmRGb250LmV4dHJhY3ROdW1lcmljV2VpZ2h0KHdlaWdodCksIDEyKVxyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQoTmRGb250LkNPTlNURk9OVENIRUNLU1RSSU5HKS53aWR0aFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5pdE1lYXN1cmVCdWZmZXIoKSB7XHJcbiAgICAgICAgdGhpcy5mb250TG9hZFN0YXJ0ID0gbmV3IERhdGUoKS5nZXRUaW1lKClcclxuICAgICAgICB0aGlzLmZvbnRNZWFzdXJlQnVmZmVyID0gdGhpcy5zY2hlbWUud2VpZ2h0Lm1hcCh3ZWlnaHQgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY2hlbWUuc3R5bGUubWFwKHN0eWxlID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1lYXN1cmVGb250KHN0eWxlLCB3ZWlnaHQsICdzYW5zLXNlcmlmJylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZm9ybWF0U3RyID0ge1xyXG4gICAgICAgIGVvdDogZnVuY3Rpb24gKHVybDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgcmV0dXJuICd1cmwoXCInICsgdXJsICsgJy5lb3Q/I2llZml4XCIpIGZvcm1hdChcImVtYmVkZGVkLW9wZW50eXBlXCIpJztcclxuICAgICAgICB9LFxyXG4gICAgICAgIHdvZmY6IGZ1bmN0aW9uICh1cmw6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiAndXJsKFwiJyArIHVybCArICcud29mZlwiKSBmb3JtYXQoXCJ3b2ZmXCIpJztcclxuICAgICAgICB9LFxyXG4gICAgICAgIHR0ZjogZnVuY3Rpb24gKHVybDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgcmV0dXJuICd1cmwoXCInICsgdXJsICsgJy50dGZcIikgZm9ybWF0KFwidHJ1ZXR5cGVcIiknO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3ZnOiBmdW5jdGlvbiAodXJsOiBzdHJpbmcsIGZvbnQ6IHN0cmluZywgc3R5bGU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiAndXJsKFwiJyArIHVybCArICcuc3ZnIycgKyBmb250ICsgJy0nICsgKHN0eWxlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3R5bGUuc2xpY2UoMSkpICsgJ1wiKSBmb3JtYXQoXCJzdmdcIiknO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgbmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2hlbWUubmFtZVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzdHJpbmcoc3R5bGU6IE5kRm9udFN0eWxlcywgd2VpZ2h0OiBOZEZvbnRXZWlnaHRzLCBzaXplOiBudW1iZXIsIGxpbmVIZWlnaHQgPSBzaXplKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke3N0eWxlfSAke05kRm9udC5leHRyYWN0TnVtZXJpY1dlaWdodCh3ZWlnaHQpfSAke3NpemV9cHgvJHtsaW5lSGVpZ2h0fXB4IFwiJHt0aGlzLnNjaGVtZS5uYW1lfVwiYFxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCA9IHRoaXMuY29udGV4dC5jYW52YXNcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihyb290Pzogc3RyaW5nLCBmb3JtYXQ/OiBOZEZvbnRGb3JtYXRzW10sIHNjaGVtZT86IE5kRm9udERlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIoYFxcXFwke3NjaGVtZSA/IHNjaGVtZS5uYW1lIDogJ2RlZmF1bHQnfS5mb250YCBhcyBOZFVSTFN0ciwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZm9ybWF0ICYmIHNjaGVtZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0TWVhc3VyZUJ1ZmZlcigpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRGb250KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBOREIucG9zaXRpdmUoYEZvbnQgJHt0aGlzLm5hbWV9IGxvYWRlZGApXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXN0KCdsb2FkJywgbnVsbClcclxuICAgICAgICAgICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBOREIubmVnYXRpdmUoYFVuYWJsZSB0byBsb2FkIGZvbnQgJHt0aGlzLm5hbWV9YClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc3QoJ2Vycm9yJywgbnVsbClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlcy5pbm5lckhUTUwgPSB0aGlzLnN0ci5yZWR1Y2U8c3RyaW5nPigocmVzdWx0LCBjdXJyZW50KSA9PiByZXN1bHQgKyBjdXJyZW50LCAnJylcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5zdHlsZXMpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgTkRCLnBvc2l0aXZlKGBGb250ICR7dGhpcy51cmx9IGxvYWRlZGApXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhc3QoJ2xvYWQnLCBudWxsKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKGZvcm1hdCAmJiBzY2hlbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2hlbWUgPSBzY2hlbWVcclxuICAgICAgICAgICAgdGhpcy5zdHIgPSBzY2hlbWUud2VpZ2h0Lm1hcDxzdHJpbmc+KCh3ZWlnaHQpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzY2hlbWUuc3R5bGUucmVkdWNlPHN0cmluZz4oKHN0eWxlU3RyLCBzdHlsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZVN0ciArIGBAZm9udC1mYWNlIHtcXG4gZm9udC1mYW1pbHk6XCIke3NjaGVtZS5uYW1lfVwiO1xcbiBzcmM6YCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdC5yZWR1Y2U8c3RyaW5nPihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmb3JtYXRTdHIsIGZvcm1hdEV4dCwgZkluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdFN0ciArIHRoaXMuZm9ybWF0U3RyW2Zvcm1hdEV4dF0oYCR7cm9vdH0vJHtzY2hlbWUubmFtZX0tJHt3ZWlnaHR9LSR7c3R5bGV9YCwgc2NoZW1lLm5hbWUsIHN0eWxlKSArIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZJbmRleCA8IGZvcm1hdC5sZW5ndGggLSAxKSA/ICcsXFxuJyA6ICc7JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICcnKSArIGBcXG5mb250LXdlaWdodDogJHtOZEZvbnQuZXh0cmFjdE51bWVyaWNXZWlnaHQod2VpZ2h0KX07XFxuZm9udC1zdHlsZTogJHtzdHlsZX07XFxufVxcbmBcclxuICAgICAgICAgICAgICAgIH0sICcnKVxyXG4gICAgICAgICAgICB9LCAnJylcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnN0ciA9IFtdXHJcbiAgICAgICAgICAgIHRoaXMuc2NoZW1lID0ge25hbWU6ICdkZWZhdWx0Jywgd2VpZ2h0OiBbXSwgc3R5bGU6IFtdfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXRpYyBleHRyYWN0TnVtZXJpY1dlaWdodCh3b3JkOiBOZEZvbnRXZWlnaHRzKSB7XHJcbiAgICAgICAgaWYod29yZCA9PT0gJ25vcm1hbCcpIHJldHVybiA0MDBcclxuICAgICAgICBpZih3b3JkID09PSAnYmxhY2snKSByZXR1cm4gOTAwXHJcbiAgICAgICAgaWYod29yZCA9PT0gJ2xpZ2h0JykgcmV0dXJuICAzMDBcclxuICAgICAgICBpZih3b3JkID09PSAnYm9sZCcpIHJldHVybiA2MDBcclxuICAgICAgICBlbHNlIHJldHVybiB3b3JkXHJcbiAgICB9XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgQ09OU1RGT05UQ0hFQ0tTVFJJTkcgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXogMTIzNDU2Nzg5MFshPywuPD5cIsKjJCVeJiooKX5AIy09XSdcclxufSIsImltcG9ydCBOZEZvbnQgZnJvbSAnLi4vY2xhc3Nlcy9OZEZvbnQnO1xyXG5pbXBvcnQge05kRm9udERlc2NyaXB0aW9uLCBOZEZvbnRGb3JtYXRzLCBOZEZvbnRTcGVjaWFsVmFsdWVzfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQge05EQn0gZnJvbSAnLi9Ob2Rhc0RlYnVnJztcclxuXHJcbmNsYXNzIE5vZGFzRm9udHMge1xyXG4gICAgcHJpdmF0ZSBmb250czogeyBba2V5OiBzdHJpbmddOiBOZEZvbnQgfSA9IHt9XHJcbiAgICBwcml2YXRlIGZvbnRSb290UGF0aDogc3RyaW5nID0gJy4vZm9udHMnO1xyXG4gICAgcHJpdmF0ZSBmb3JtYXQ6IE5kRm9udEZvcm1hdHNbXSA9IFsnZW90JywgJ3N2ZycsICd0dGYnLCAnd29mZiddXHJcblxyXG4gICAgZ2V0IHJvb3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9udFJvb3RQYXRoXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHJvb3QodmFsdWUpIHtcclxuICAgICAgICB0aGlzLmZvbnRSb290UGF0aCA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBmb3JtYXRzKCkge1xyXG4gICAgICAgIHJldHVybiBbLi4udGhpcy5mb3JtYXRdXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGZvcm1hdHModmFsdWUpIHtcclxuICAgICAgICB0aGlzLmZvcm1hdCA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGQoZm9udDogTmRGb250RGVzY3JpcHRpb24pIHtcclxuICAgICAgICBpZiAoIXRoaXMuZm9udHNbZm9udC5uYW1lXSkge1xyXG4gICAgICAgICAgICBpZiAoKE9iamVjdC52YWx1ZXMoTmRGb250U3BlY2lhbFZhbHVlcykgYXMgc3RyaW5nW10pLmluY2x1ZGVzKGZvbnQubmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIE5EQi53YXJuKFxyXG4gICAgICAgICAgICAgICAgICAgIGBZb3UgYXJlIG5vdCBhbGxvd2VkIHRvIGxvYWQgZm9udHMgd2l0aCBuYW1lcyBlcXVhbCB0byBzeXN0ZW0gdmFsdWVzIFske09iamVjdC52YWx1ZXMoTmRGb250U3BlY2lhbFZhbHVlcyl9XS4gXHJcbiAgICAgICAgICAgICAgICAgICAgSWdub3JlZC5gKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mb250c1tmb250Lm5hbWVdID0gbmV3IE5kRm9udCh0aGlzLnJvb3QsIHRoaXMuZm9ybWF0LCBmb250KVxyXG4gICAgICAgICAgICAgICAgTkRCLnBvc2l0aXZlKGBGb250ICR7Zm9udC5uYW1lfSByZWdpc3RlcmVkLmApXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgTkRCLnBvc2l0aXZlKGBGb250IFske2ZvbnQubmFtZX1dIGFscmVhZHkgcmVnaXN0ZXJlZC4gU2tpcC4uYClcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9udHNbZm9udC5uYW1lXVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQobmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9udHNbbmFtZV0gPyB0aGlzLmZvbnRzW25hbWVdIDogbnVsbFxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgTm9kYXNGb250cyIsImltcG9ydCB7TmRDb2xvclN0ciwgTmRUZXh0UGFydGlhbFByb3BzfSBmcm9tICcuLi9Ob2Rlcy9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQge05kRm9udFNwZWNpYWxWYWx1ZXMsIE5kRm9udFN0eWxlcywgTmRGb250V2VpZ2h0c30gZnJvbSAnLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5kRW1pdHRlciBmcm9tICcuL05kRW1pdHRlcic7XHJcbmltcG9ydCBOZE5vZGVTdHlsZXNNb2RlbCBmcm9tICcuLi9Ob2Rlcy9jbGFzc2VzL05kTm9kZVN0eWxlc01vZGVsJztcclxuaW1wb3J0IE5vZGFzRm9udHMgZnJvbSAnLi4vU2VydmljZXMvTm9kYXNGb250cyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBOZFRleHRQYXJ0aWFsIGV4dGVuZHMgTmRFbWl0dGVyPE5kVGV4dFBhcnRpYWxQcm9wcz4gaW1wbGVtZW50cyBOZFRleHRQYXJ0aWFsUHJvcHMge1xyXG4gICAgcHJpdmF0ZSB0ZXh0Q29sb3I6IE5kQ29sb3JTdHIgPSAncmdiYSgwLDAsMCwxKSdcclxuICAgIHByaXZhdGUgZldlaWdodDogTmRGb250V2VpZ2h0cyA9IDQwMFxyXG4gICAgcHJpdmF0ZSBmU2l6ZTogbnVtYmVyID0gMTRcclxuICAgIHByaXZhdGUgbEhlaWdodDogbnVtYmVyID0gMTRcclxuICAgIHByaXZhdGUgZlN0eWxlOiBOZEZvbnRTdHlsZXMgPSAnbm9ybWFsJ1xyXG4gICAgcHJpdmF0ZSBuZEZvbnQ6IHN0cmluZyB8IE5kRm9udFNwZWNpYWxWYWx1ZXMgPSAnc3lzdGVtJ1xyXG4gICAgYWJzdHJhY3QgcmVhZG9ubHkgd2lkdGg6IG51bWJlclxyXG4gICAgYWJzdHJhY3QgcmVhZG9ubHkgc3RyaW5nOiBzdHJpbmdcclxuICAgIGFic3RyYWN0IHJlYWRvbmx5IGxlbmd0aDogbnVtYmVyXHJcbiAgICBhYnN0cmFjdCByZWFkb25seSByZW5kZXI6IChjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHhQb3M6IG51bWJlciwgeVBvczogbnVtYmVyKSA9PiB2b2lkXHJcbiAgICBmcmVlemU6IHtcclxuICAgICAgICBbSyBpbiBrZXlvZiBOZFRleHRQYXJ0aWFsUHJvcHNdPzogYm9vbGVhblxyXG4gICAgfSA9IHt9XHJcblxyXG4gICAgb25Qb3NzaWJsZVNpemVDaGFuZ2UgPSAoY2FsbGJhY2s6ICgpID0+IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMub24oWydmb250JywgJ2ZvbnRTaXplJywgJ3dlaWdodCcsICdzdHlsZScsICdsaW5lSGVpZ2h0J10sIGNhbGxiYWNrKVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBmb250KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5kRm9udFxyXG4gICAgfVxyXG5cclxuICAgIHNldCBmb250KGZvbnQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZnJlZXplLmZvbnQpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5uZEZvbnQgIT09IGZvbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubmRGb250ID0gZm9udFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYXN0KCdmb250JywgZm9udClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgbGluZUhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sSGVpZ2h0XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGxpbmVIZWlnaHQodmFsdWUpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZnJlZXplLmxpbmVIZWlnaHQpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwXHJcbiAgICAgICAgICAgIGlmKHZhbHVlICE9PSB0aGlzLmxIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubEhlaWdodCA9IHZhbHVlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhc3QoJ2xpbmVIZWlnaHQnLCB0aGlzLmxIZWlnaHQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHdlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5mV2VpZ2h0XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHdlaWdodCh2YWx1ZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5mcmVlemUud2VpZ2h0KSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuZldlaWdodCAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZldlaWdodCA9IHZhbHVlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhc3QoJ3dlaWdodCcsIHZhbHVlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb2xvcigpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dENvbG9yXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGNvbG9yKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZyZWV6ZS5jb2xvcikge1xyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gTmROb2RlU3R5bGVzTW9kZWwuYXJyYXlUb0NvbG9yKE5kTm9kZVN0eWxlc01vZGVsLm5vcm1hbGl6ZUNvbG9yKFxyXG4gICAgICAgICAgICAgICAgTmROb2RlU3R5bGVzTW9kZWwuY29sb3JUb0FycmF5KHZhbHVlKVxyXG4gICAgICAgICAgICApKVxyXG4gICAgICAgICAgICBpZihub3JtYWxpemVkICE9PSB0aGlzLnRleHRDb2xvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0Q29sb3IgPSBub3JtYWxpemVkXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhc3QoJ2NvbG9yJywgdGhpcy50ZXh0Q29sb3IpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHN0eWxlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZTdHlsZVxyXG4gICAgfVxyXG5cclxuICAgIHNldCBzdHlsZSh2YWx1ZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5mcmVlemUuc3R5bGUpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5mU3R5bGUgIT09dmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZlN0eWxlID0gdmFsdWVcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FzdCgnc3R5bGUnLCB2YWx1ZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgZm9udFNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZlNpemVcclxuICAgIH1cclxuXHJcbiAgICBzZXQgZm9udFNpemUodmFsdWUpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZnJlZXplLnN0eWxlKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMFxyXG4gICAgICAgICAgICBpZih0aGlzLmZTaXplICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mU2l6ZSA9IHZhbHVlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhc3QoJ2ZvbnRTaXplJywgdGhpcy5mU2l6ZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZWFkb25seSBmb250U3RyaW5nID0gKCk6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgaWYgKChPYmplY3QudmFsdWVzKE5kRm9udFNwZWNpYWxWYWx1ZXMpIGFzIHN0cmluZ1tdKS5pbmNsdWRlcyh0aGlzLm5kRm9udCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmRGb250ID09PSAnc3lzdGVtJyA/IGAke3RoaXMuc3R5bGV9ICR7dGhpcy53ZWlnaHR9ICR7dGhpcy5mU2l6ZX1weCBzZXJpZmAgOiB0aGlzLmZTaXplICsgJ3B4ICcgKyB0aGlzLm5kRm9udFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvbnQgPSBOb2Rhc0ZvbnRzLmdldCh0aGlzLm5kRm9udClcclxuICAgICAgICAgICAgaWYgKGZvbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmb250LnN0cmluZyh0aGlzLmZTdHlsZSwgdGhpcy5mV2VpZ2h0LCB0aGlzLmZTaXplLCB0aGlzLmxpbmVIZWlnaHQpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgTmRUZXh0UGFydGlhbCBmcm9tICcuL05kVGV4dFBhcnRpYWwnO1xyXG5pbXBvcnQge05kRm9udFNwZWNpYWxWYWx1ZXN9IGZyb20gJy4uL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBub2Rhc0ZvbnRzIGZyb20gJy4uL1NlcnZpY2VzL05vZGFzRm9udHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmRUZXh0V29yZCBleHRlbmRzIE5kVGV4dFBhcnRpYWwge1xyXG4gICAgcHJpdmF0ZSBzdHI6IHN0cmluZyA9ICcnXHJcbiAgICBwcml2YXRlIGNvbnRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCcyZCcpIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFxyXG4gICAgcHJpdmF0ZSB3OiBudW1iZXIgPSAwXHJcbiAgICBwcml2YXRlIHJlc2l6ZUZsYWc6IGJvb2xlYW4gPSB0cnVlXHJcbiAgICBwcml2YXRlIHJlZHJhd0ZsYWc6IGJvb2xlYW4gPSB0cnVlXHJcblxyXG4gICAgcHJpdmF0ZSByZXNpemUgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZvbnQgPSB0aGlzLmZvbnRTdHJpbmcoKVxyXG4gICAgICAgIGNvbnN0IHcgPSBNYXRoLmNlaWwodGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHRoaXMuc3RyKS53aWR0aClcclxuICAgICAgICBpZih3ICE9PSB0aGlzLncpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aCA9IHdcclxuICAgICAgICAgICAgdGhpcy53ID0gd1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLmNvbnRleHQuY2FudmFzLmhlaWdodCAhPT0gdGhpcy5saW5lSGVpZ2h0KSB0aGlzLmNvbnRleHQuY2FudmFzLmhlaWdodCA9IHRoaXMubGluZUhlaWdodFxyXG4gICAgICAgIHRoaXMucmVzaXplRmxhZyA9IGZhbHNlXHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHJlZHJhdyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY29udGV4dC5jYW52YXMud2lkdGgsIHRoaXMuY29udGV4dC5jYW52YXMuaGVpZ2h0KVxyXG4gICAgICAgIHRoaXMuY29udGV4dC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJ1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yXHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZvbnQgPSB0aGlzLmZvbnRTdHJpbmcoKVxyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0aGlzLnN0ciwgMCwgdGhpcy5saW5lSGVpZ2h0IC8gMilcclxuICAgICAgICB0aGlzLnJlZHJhd0ZsYWcgPSBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIGdldCB3aWR0aCgpIHtcclxuICAgICAgICBpZiAodGhpcy5yZXNpemVGbGFnKSB0aGlzLnJlc2l6ZSgpXHJcbiAgICAgICAgcmV0dXJuIHRoaXMud1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBsZW5ndGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyLmxlbmd0aFxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHN0cmluZyh2YWx1ZSkge1xyXG4gICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpXHJcbiAgICAgICAgaWYgKHRoaXMuc3RyICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZUZsYWcgPSB0cnVlXHJcbiAgICAgICAgICAgIHRoaXMucmVkcmF3RmxhZyA9IHRydWVcclxuICAgICAgICAgICAgdGhpcy5zdHIgPSB2YWx1ZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZWFkb25seSByZW5kZXIgPSAoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB4OiBudW1iZXIsIHk6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnJlc2l6ZUZsYWcpIHRoaXMucmVzaXplKClcclxuICAgICAgICBpZiAodGhpcy5yZWRyYXdGbGFnKSB0aGlzLnJlZHJhdygpXHJcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5jb250ZXh0LmNhbnZhcywgeCwgeSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzdHI6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zdHJpbmcgPSBzdHJcclxuICAgICAgICB0aGlzLm9uKCdmb250JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZighT2JqZWN0LnZhbHVlcyhOZEZvbnRTcGVjaWFsVmFsdWVzKS5pbmNsdWRlcyh0aGlzLmZvbnQgYXMgTmRGb250U3BlY2lhbFZhbHVlcykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZvbnQgPSBub2Rhc0ZvbnRzLmdldCh0aGlzLmZvbnQpXHJcbiAgICAgICAgICAgICAgICBpZihmb250KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIWZvbnQubG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQub25jZSgnbG9hZCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXplRmxhZyA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVkcmF3RmxhZyA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMub25Qb3NzaWJsZVNpemVDaGFuZ2UoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZUZsYWcgPSB0cnVlXHJcbiAgICAgICAgICAgIHRoaXMucmVkcmF3RmxhZyA9IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMub24oJ2NvbG9yJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlZHJhd0ZsYWcgPSB0cnVlXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IE5kVGV4dFBhcnRpYWwgZnJvbSAnLi9OZFRleHRQYXJ0aWFsJztcclxuaW1wb3J0IHtOZEZvbnRTcGVjaWFsVmFsdWVzfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgbm9kYXNGb250cyBmcm9tICcuLi9TZXJ2aWNlcy9Ob2Rhc0ZvbnRzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kVGV4dFNwYWNlIGV4dGVuZHMgTmRUZXh0UGFydGlhbCB7XHJcbiAgICBwcml2YXRlIHc6IG51bWJlciA9IDBcclxuICAgIHByaXZhdGUgY29udGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLmdldENvbnRleHQoJzJkJykgYXMgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEXHJcbiAgICBwcml2YXRlIG1lYXN1cmVkOiBib29sZWFuID0gZmFsc2VcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMub24oJ2ZvbnQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKCFPYmplY3QudmFsdWVzKE5kRm9udFNwZWNpYWxWYWx1ZXMpLmluY2x1ZGVzKHRoaXMuZm9udCBhcyBOZEZvbnRTcGVjaWFsVmFsdWVzKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZm9udCA9IG5vZGFzRm9udHMuZ2V0KHRoaXMuZm9udClcclxuICAgICAgICAgICAgICAgIGlmKGZvbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZighZm9udC5sb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC5vbmNlKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWFzdXJlZCA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIGdldCBsZW5ndGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIDFcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc3RyaW5nKCkge1xyXG4gICAgICAgIHJldHVybiAnICdcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIgPSAoKSA9PiB7XHJcbiAgICB9XHJcbiAgICBmb3JjZVJlZHJhdygpIHtcclxuICAgICAgICB0aGlzLm1lYXN1cmVkID0gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICBnZXQgd2lkdGgoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1lYXN1cmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5mb250ID0gdGhpcy5mb250U3RyaW5nKClcclxuICAgICAgICAgICAgdGhpcy53ID0gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KCcgJykud2lkdGhcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IE5kVGV4dFBhcnRpYWwgZnJvbSAnLi9OZFRleHRQYXJ0aWFsJztcclxuaW1wb3J0IE5kVGV4dFdvcmQgZnJvbSAnLi9OZFRleHRXb3JkJztcclxuaW1wb3J0IHtOZFRhZ1JlZ0V4cE1hdGNoLCBOZFRleHRQYXJ0aWFsUHJvcHN9IGZyb20gJy4uL05vZGVzL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOZFRleHRTcGFjZSBmcm9tICcuL05kVGV4dFNwYWNlJztcclxuaW1wb3J0IHtOZEZvbnRTcGVjaWFsVmFsdWVzfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgbm9kYXNGb250cyBmcm9tICcuLi9TZXJ2aWNlcy9Ob2Rhc0ZvbnRzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5kVGV4dEJsb2NrIGV4dGVuZHMgTmRUZXh0UGFydGlhbCB7XHJcbiAgICBwcml2YXRlIHN0cjogc3RyaW5nID0gJydcclxuICAgIHByaXZhdGUgbDogbnVtYmVyID0gSW5maW5pdHlcclxuICAgIHByaXZhdGUgdzogbnVtYmVyID0gMFxyXG4gICAgcHJpdmF0ZSBoOiBudW1iZXIgPSAwXHJcbiAgICBwcml2YXRlIHdvcmRzUGF0dGVybiA9IC8oXFxTKykvZ1xyXG4gICAgcHJpdmF0ZSB0YWdQYXR0ZXJuID0gL1xcWyg/PHRhZ25hbWU+W2NiaV0pKD1cIig/PHZhbHVlPnJnYmFcXChcXGQqLFxcZCosXFxkKigsKFxcLlxcZCt8MSkpP1xcKSlcIik/XSg/PGNvbnRlbnQ+KCg/IVxcW1xcLz9cXGs8dGFnbmFtZT5dKS4pKilcXFtcXC9cXGs8dGFnbmFtZT5dL2dtXHJcbiAgICBwcml2YXRlIHVwZGF0ZWQ6IGJvb2xlYW4gPSB0cnVlXHJcbiAgICBwcml2YXRlIHdvcmRzOiBOZFRleHRQYXJ0aWFsW10gPSBbXVxyXG5cclxuICAgIHN0YXRpYyBhcHBseVN0eWxlc1RvVGV4dChzeW1ib2w6IE5kVGV4dFBhcnRpYWwsIHN0eWxlczogUGFydGlhbDxOZFRleHRQYXJ0aWFsUHJvcHM+KSB7XHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbihzeW1ib2wsIHN0eWxlcylcclxuICAgICAgICByZXR1cm4gc3ltYm9sXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVTaXplKCkge1xyXG4gICAgICAgIHRoaXMudyA9IE1hdGguY2VpbCh0aGlzLndvcmRzLnJlZHVjZTxudW1iZXI+KChhY2MsIHdvcmQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGFjYyArIHdvcmQud2lkdGhcclxuICAgICAgICB9LCAwKSlcclxuICAgICAgICB0aGlzLncgPSB0aGlzLmwgPCB0aGlzLncgPyB0aGlzLmwgOiB0aGlzLndcclxuICAgICAgICBpZiAodGhpcy53ID09PSAwKSB0aGlzLncgPSAxXHJcbiAgICAgICAgbGV0IHggPSAwLFxyXG4gICAgICAgICAgICBoID0gdGhpcy5saW5lSGVpZ2h0LFxyXG4gICAgICAgICAgICBsaW5lczogbnVtYmVyW10gPSBbXTtcclxuICAgICAgICB0aGlzLndvcmRzLmZvckVhY2goKHdvcmQsIGspID0+IHtcclxuICAgICAgICAgICAgaWYgKHggKyB3b3JkLndpZHRoID4gdGhpcy53KSB7XHJcbiAgICAgICAgICAgICAgICBoICs9IHRoaXMubGluZUhlaWdodFxyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaCh4KVxyXG4gICAgICAgICAgICAgICAgeCA9IDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB4ICs9IHdvcmQud2lkdGhcclxuICAgICAgICAgICAgaWYgKGsgPT0gdGhpcy53b3Jkcy5sZW5ndGggLSAxICYmIHggIT09IDApIGxpbmVzLnB1c2goeClcclxuICAgICAgICB9KVxyXG4gICAgICAgIGxldCBtYXhMaW5lID0gTWF0aC5tYXguYXBwbHkobnVsbCwgbGluZXMpXHJcbiAgICAgICAgaWYgKG1heExpbmUgPCB0aGlzLncpIHRoaXMudyA9IG1heExpbmU7XHJcbiAgICAgICAgdGhpcy5oID0gTWF0aC5jZWlsKGgpXHJcbiAgICAgICAgaWYgKHRoaXMuaCA9PT0gMCkgdGhpcy5oID0gMVxyXG4gICAgICAgIHRoaXMudXBkYXRlZCA9IGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBiaW5kV29yZHNTdHlsZXMoKSB7XHJcbiAgICAgICAgKFsnd2VpZ2h0JywgJ3N0eWxlJywgJ2NvbG9yJywgJ2ZvbnQnLCAnZm9udFNpemUnLCAnbGluZUhlaWdodCddIGFzIChrZXlvZiBOZFRleHRQYXJ0aWFsUHJvcHMpW10pLmZvckVhY2gocHJvcCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub24ocHJvcCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53b3Jkcy5mb3JFYWNoKHcgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHdbcHJvcF0gPSA8bmV2ZXI+dGhpc1twcm9wXVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3BsaXQoc3RyOiBzdHJpbmcgPSB0aGlzLnN0ciwgc3R5bGVzOiBOZFRleHRQYXJ0aWFsUHJvcHMgPSB7XHJcbiAgICAgICAgZm9udDogdGhpcy5mb250LFxyXG4gICAgICAgIHdlaWdodDogdGhpcy53ZWlnaHQsXHJcbiAgICAgICAgZm9udFNpemU6IHRoaXMuZm9udFNpemUsXHJcbiAgICAgICAgbGluZUhlaWdodDogdGhpcy5saW5lSGVpZ2h0LFxyXG4gICAgICAgIHN0eWxlOiB0aGlzLnN0eWxlLFxyXG4gICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yXHJcbiAgICB9LCBmcm96ZW46IHsgW0sgaW4ga2V5b2YgTmRUZXh0UGFydGlhbFByb3BzXT86IGJvb2xlYW4gfSA9IHt9LCB3b3JkSW5kZXggPSAwKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdDogTmRUZXh0UGFydGlhbFtdID0gW107XHJcbiAgICAgICAgbGV0IGN1cnJlbnRNYXRjaDogTmRUYWdSZWdFeHBNYXRjaCB8IG51bGwgPSBudWxsLFxyXG4gICAgICAgICAgICBjdXJyZW50V29yZEluZGV4ID0gd29yZEluZGV4XHJcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRNYXRjaCA9IHRoaXMudGFnUGF0dGVybi5leGVjKHN0cikgYXMgTmRUYWdSZWdFeHBNYXRjaCB8IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRNYXRjaC5pbmRleCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJlTWF0Y2hXb3JkcyA9IHN0ci5zdWJzdHJpbmcoMCwgY3VycmVudE1hdGNoLmluZGV4KS5tYXRjaCh0aGlzLndvcmRzUGF0dGVybilcclxuICAgICAgICAgICAgICAgIGlmIChwcmVNYXRjaFdvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlTWF0Y2hXb3Jkcy5mb3JFYWNoKCh2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndvcmRzW2N1cnJlbnRXb3JkSW5kZXhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmRzW2N1cnJlbnRXb3JkSW5kZXhdLmZyZWV6ZSA9IHt9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChOZFRleHRCbG9jay5hcHBseVN0eWxlc1RvVGV4dCh0aGlzLndvcmRzW2N1cnJlbnRXb3JkSW5kZXhdLCBzdHlsZXMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8TmRUZXh0V29yZD5yZXN1bHRbY3VycmVudFdvcmRJbmRleF0pLnN0cmluZyA9IHZcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKE5kVGV4dEJsb2NrLmFwcGx5U3R5bGVzVG9UZXh0KG5ldyBOZFRleHRXb3JkKHYpLCBzdHlsZXMpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0uZnJlZXplID0gey4uLmZyb3plbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFdvcmRJbmRleCsrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndvcmRzW2N1cnJlbnRXb3JkSW5kZXhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmRzW2N1cnJlbnRXb3JkSW5kZXhdLmZyZWV6ZSA9IHt9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChOZFRleHRCbG9jay5hcHBseVN0eWxlc1RvVGV4dCh0aGlzLndvcmRzW2N1cnJlbnRXb3JkSW5kZXhdLCBzdHlsZXMpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTmRUZXh0QmxvY2suYXBwbHlTdHlsZXNUb1RleHQobmV3IE5kVGV4dFNwYWNlKCksIHN0eWxlcykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXS5mcmVlemUgPSB7Li4uZnJvemVufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50V29yZEluZGV4KytcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50TWF0Y2guZ3JvdXBzLmNvbnRlbnQpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFsuLi5yZXN1bHQsIC4uLnRoaXMuc3BsaXQoXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1hdGNoLmdyb3Vwcy5jb250ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3R5bGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IGN1cnJlbnRNYXRjaC5ncm91cHMudGFnbmFtZSA9PT0gJ2InID8gJ2JvbGQnIDogc3R5bGVzLndlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGN1cnJlbnRNYXRjaC5ncm91cHMudGFnbmFtZSA9PT0gJ2MnICYmIGN1cnJlbnRNYXRjaC5ncm91cHMudmFsdWUgPyBjdXJyZW50TWF0Y2guZ3JvdXBzLnZhbHVlIDogc3R5bGVzLmNvbG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogY3VycmVudE1hdGNoLmdyb3Vwcy50YWduYW1lID09PSAnaScgPyAnaXRhbGljJyA6IHN0eWxlcy5zdHlsZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IGN1cnJlbnRNYXRjaC5ncm91cHMudGFnbmFtZSA9PT0gJ2InIHx8IGZyb3plbi53ZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBjdXJyZW50TWF0Y2guZ3JvdXBzLnRhZ25hbWUgPT09ICdjJyB8fCBmcm96ZW4uY29sb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBjdXJyZW50TWF0Y2guZ3JvdXBzLnRhZ25hbWUgPT09ICdpJyB8fCBmcm96ZW4uc3R5bGVcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5sZW5ndGhcclxuICAgICAgICAgICAgICAgICldXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50V29yZEluZGV4ID0gcmVzdWx0Lmxlbmd0aFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0ciA9IHN0ci5zbGljZShjdXJyZW50TWF0Y2guaW5kZXggKyBjdXJyZW50TWF0Y2hbMF0ubGVuZ3RoKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCB3b3JkcyA9IHN0ci5tYXRjaCh0aGlzLndvcmRzUGF0dGVybilcclxuICAgICAgICAgICAgaWYgKHdvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICB3b3Jkcy5mb3JFYWNoKCh2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZCA9IHRoaXMud29yZHNbY3VycmVudFdvcmRJbmRleF0gPyB0aGlzLndvcmRzW2N1cnJlbnRXb3JkSW5kZXhdIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5kVGV4dFdvcmQodik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICg8TmRUZXh0V29yZD53b3JkKS5mcmVlemUgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBOZFRleHRCbG9jay5hcHBseVN0eWxlc1RvVGV4dCh3b3JkLCBzdHlsZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICg8TmRUZXh0V29yZD53b3JkKS5zdHJpbmcgPSB2XHJcbiAgICAgICAgICAgICAgICAgICAgd29yZC5mcmVlemUgPSB7Li4uZnJvemVufVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHdvcmQpXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFdvcmRJbmRleCsrXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwYWNlID0gdGhpcy53b3Jkc1tjdXJyZW50V29yZEluZGV4XSA/IE5kVGV4dEJsb2NrLmFwcGx5U3R5bGVzVG9UZXh0KHRoaXMud29yZHNbY3VycmVudFdvcmRJbmRleF0sIHN0eWxlcykgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBOZFRleHRCbG9jay5hcHBseVN0eWxlc1RvVGV4dChuZXcgTmRUZXh0U3BhY2UoKSwgc3R5bGVzKVxyXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlLmZyZWV6ZSA9IHsuLi50aGlzLmZyZWV6ZX1cclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzcGFjZSlcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50V29yZEluZGV4KytcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgfVxyXG5cclxuICAgIGdldCBsZW5ndGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyLmxlbmd0aFxyXG4gICAgfVxyXG5cclxuICAgIGdldCB3aWR0aCgpIHtcclxuICAgICAgICBpZiAodGhpcy51cGRhdGVkKSB0aGlzLnVwZGF0ZVNpemUoKVxyXG4gICAgICAgIHJldHVybiB0aGlzLmwgPCB0aGlzLncgPyB0aGlzLmwgOiB0aGlzLndcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbGltaXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubFxyXG4gICAgfVxyXG5cclxuICAgIHNldCBsaW1pdCh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMubCA9IHZhbHVlXHJcbiAgICAgICAgdGhpcy51cGRhdGVkID0gdHJ1ZVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBoZWlnaHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlZCkgdGhpcy51cGRhdGVTaXplKClcclxuICAgICAgICByZXR1cm4gdGhpcy5oXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHN0cmluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdHJcclxuICAgIH1cclxuXHJcbiAgICBzZXQgc3RyaW5nKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLnN0cikge1xyXG4gICAgICAgICAgICB0aGlzLnN0ciA9IHZhbHVlXHJcbiAgICAgICAgICAgIGNvbnN0IHdvcmRzID0gdGhpcy5zcGxpdCgpXHJcbiAgICAgICAgICAgIHdvcmRzLnBvcCgpIC8vcG9wIGxhc3Qgc3BhY2Ugc3ltYm9sXHJcbiAgICAgICAgICAgIHRoaXMud29yZHMgPSB3b3Jkc1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZWQgPSB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCA9ICgpID0+IHVuZGVmaW5lZCAvL1RPRE86VGV4dCBCbG9jayBDYWNoaW5nXHJcblxyXG4gICAgcmVuZGVyID0gKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgIGxldCB4ID0gMCwgeSA9IDAsXHJcbiAgICAgICAgICAgIGxpbWl0ID0gdGhpcy53aWR0aFxyXG5cclxuICAgICAgICB0aGlzLndvcmRzLmZvckVhY2goKHdvcmQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHggKyB3b3JkLndpZHRoID4gbGltaXQpIHtcclxuICAgICAgICAgICAgICAgIHkgKz0gdGhpcy5saW5lSGVpZ2h0XHJcbiAgICAgICAgICAgICAgICB4ID0gMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghKHdvcmQgaW5zdGFuY2VvZiBOZFRleHRTcGFjZSAmJiB4ID09PSAwKSkge1xyXG4gICAgICAgICAgICAgICAgd29yZC5yZW5kZXIoY29udGV4dCwgeCwgeSlcclxuICAgICAgICAgICAgICAgIHggKz0gd29yZC53aWR0aFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzdHI6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zdHJpbmcgPSBzdHJcclxuICAgICAgICB0aGlzLmJpbmRXb3Jkc1N0eWxlcygpXHJcbiAgICAgICAgdGhpcy5vbignZm9udCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYoIU9iamVjdC52YWx1ZXMoTmRGb250U3BlY2lhbFZhbHVlcykuaW5jbHVkZXModGhpcy5mb250IGFzIE5kRm9udFNwZWNpYWxWYWx1ZXMpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmb250ID0gbm9kYXNGb250cy5nZXQodGhpcy5mb250KVxyXG4gICAgICAgICAgICAgICAgaWYoZm9udCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCFmb250LmxvYWRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250Lm9uY2UoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZWQgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImltcG9ydCBOZE5vZGVTdHlsZXNNb2RlbCBmcm9tICcuLi9jbGFzc2VzL05kTm9kZVN0eWxlc01vZGVsJztcclxuaW1wb3J0IE5kU3R5bGVzUHJvcGVydHkgZnJvbSAnLi4vY2xhc3Nlcy9OZE5vZGVTdHlsZVByb3BlcnR5JztcclxuaW1wb3J0IHtOZENvbG9yU3RyfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQge05kRm9udFNwZWNpYWxWYWx1ZXMsIE5kRm9udFN0eWxlcywgTmRGb250V2VpZ2h0c30gZnJvbSAnLi4vLi4vQHR5cGVzL3R5cGVzJztcclxuaW1wb3J0IE5vZGFzRm9udHMgZnJvbSAnLi4vLi4vU2VydmljZXMvTm9kYXNGb250cyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZE1vZFRleHQgZXh0ZW5kcyBOZE5vZGVTdHlsZXNNb2RlbCB7XHJcbiAgICBzdHIgPSBuZXcgTmRTdHlsZXNQcm9wZXJ0eTxzdHJpbmcsIHN0cmluZywgc3RyaW5nPihcclxuICAgICAgICAwLFxyXG4gICAgICAgICcnLFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICB3aWR0aCA9IG5ldyBOZFN0eWxlc1Byb3BlcnR5PG51bWJlciB8ICdhdXRvJywgbnVtYmVyIHwgJ2F1dG8nLCBudW1iZXIgfCAnYXV0byc+KFxyXG4gICAgICAgIDEsXHJcbiAgICAgICAgJ2F1dG8nLFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICBmb250ID0gbmV3IE5kU3R5bGVzUHJvcGVydHk8TmRGb250U3BlY2lhbFZhbHVlcyB8IHN0cmluZywgTmRGb250U3BlY2lhbFZhbHVlcyB8IHN0cmluZywgTmRGb250U3BlY2lhbFZhbHVlcyB8IHN0cmluZz4oXHJcbiAgICAgICAgMSxcclxuICAgICAgICBOZEZvbnRTcGVjaWFsVmFsdWVzLnN5c3RlbSxcclxuICAgICAgICAoY3VycmVudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghKE9iamVjdC52YWx1ZXMoTmRGb250U3BlY2lhbFZhbHVlcykgYXMgc3RyaW5nW10pLmluY2x1ZGVzKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKE5vZGFzRm9udHMuZ2V0KHZhbHVlKSkgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgICAgICAgICBlbHNlIHJldHVybiBOZEZvbnRTcGVjaWFsVmFsdWVzLnN5c3RlbVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgICAgIH1cclxuICAgIClcclxuICAgIGNvbG9yID0gbmV3IE5kU3R5bGVzUHJvcGVydHk8TmRDb2xvclN0ciwgTmRDb2xvclN0ciwgTmRDb2xvclN0cj4oXHJcbiAgICAgICAgMixcclxuICAgICAgICAncmdiYSgwLDAsMCwxKScsXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICB3ZWlnaHQgPSBuZXcgTmRTdHlsZXNQcm9wZXJ0eTxOZEZvbnRXZWlnaHRzLCBOZEZvbnRXZWlnaHRzLCBOZEZvbnRXZWlnaHRzPihcclxuICAgICAgICAyLFxyXG4gICAgICAgICdub3JtYWwnLFxyXG4gICAgICAgIChjdXJyZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50XHJcbiAgICAgICAgfSxcclxuICAgICAgICAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG4gICAgbGluZUhlaWdodCA9IG5ldyBOZFN0eWxlc1Byb3BlcnR5PG51bWJlciwgbnVtYmVyLCBudW1iZXI+KFxyXG4gICAgICAgIDIsXHJcbiAgICAgICAgMTQsXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXNGaW5pdGUodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMTRcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICBzdHlsZSA9IG5ldyBOZFN0eWxlc1Byb3BlcnR5PE5kRm9udFN0eWxlcywgTmRGb250U3R5bGVzLCBOZEZvbnRTdHlsZXM+KFxyXG4gICAgICAgIDIsXHJcbiAgICAgICAgJ25vcm1hbCcsXHJcbiAgICAgICAgKGN1cnJlbnQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRcclxuICAgICAgICB9LFxyXG4gICAgICAgICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgICB9XHJcbiAgICApXHJcblxyXG59IiwiaW1wb3J0IE5kTW9kQmFzZSBmcm9tICcuL21vZGVscy9OZE1vZEJhc2UnO1xyXG5pbXBvcnQgTmRNb2RBbmNob3IgZnJvbSAnLi9tb2RlbHMvTmRNb2RBbmNob3InO1xyXG5pbXBvcnQgTmRNb2RlQXNzZW1ibGVyIGZyb20gJy4vY2xhc3Nlcy9OZE1vZGVBc3NlbWJsZXInO1xyXG5pbXBvcnQgTmROb2RlQm94IGZyb20gJy4vY2xhc3Nlcy9OZE5vZGVCb3gnO1xyXG5pbXBvcnQgTmRUZXh0QmxvY2sgZnJvbSAnLi4vY2xhc3Nlcy9OZFRleHRCbG9jayc7XHJcbmltcG9ydCBOZE1vZFRleHQgZnJvbSAnLi9tb2RlbHMvTmRNb2RUZXh0JztcclxuaW1wb3J0IHtOZEZvbnRTcGVjaWFsVmFsdWVzLCBOZE51bWVyaWNBcnJheTJkfSBmcm9tICcuLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgTm9kZSBmcm9tICcuL05vZGUnO1xyXG5pbXBvcnQgTm9kYXMgZnJvbSAnLi4vLi4vTm9kYXMnO1xyXG5pbXBvcnQge05kVGV4dFBhcnRpYWxQcm9wc30gZnJvbSAnLi9AdHlwZXMvdHlwZXMnO1xyXG5pbXBvcnQgbm9kYXNGb250cyBmcm9tICcuLi9TZXJ2aWNlcy9Ob2Rhc0ZvbnRzJztcclxuXHJcbnR5cGUgVGV4dE5vZGVNb2RlbCA9IE5kTW9kVGV4dCAmIE5kTW9kQW5jaG9yICYgTmRNb2RCYXNlXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHQgZXh0ZW5kcyBOb2RlPFRleHROb2RlTW9kZWw+IHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgdGV4dEJsb2NrOiBOZFRleHRCbG9ja1xyXG4gICAgcHJvdGVjdGVkIEFzc2VtYmxlciA9IG5ldyBOZE1vZGVBc3NlbWJsZXIoW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ3RleHQnLFxyXG4gICAgICAgICAgICByZXNvbHZlcjogKGNvbnRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dEJsb2NrLnJlbmRlcihjb250ZXh0KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXSlcclxuICAgIHByb3RlY3RlZCBCb3g6IE5kTm9kZUJveCA9IG5ldyBOZE5vZGVCb3godGhpcywgdGhpcy5DYWNoZSwgKCkgPT4ge1xyXG4gICAgICAgIGxldCBwb3NpdGlvbiA9IFsuLi50aGlzLmRhdGEucG9zaXRpb24ucHJvdGVjdGVkVmFsdWVdIGFzIE5kTnVtZXJpY0FycmF5MmRcclxuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMudGV4dEJsb2NrLndpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLnRleHRCbG9jay5oZWlnaHRcclxuXHJcbiAgICAgICAgTm9kZS5hcHBseUJveEFuY2hvcihwb3NpdGlvbix3aWR0aCxoZWlnaHQsdGhpcy5kYXRhKVxyXG4gICAgICAgIHJldHVybiBbcG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdLCB3aWR0aCwgaGVpZ2h0LCAwLCAwLCAwLCAwXVxyXG4gICAgfSk7XHJcblxyXG4gICAgcHJvdGVjdGVkIHJlbmRlcjogTm9kZTxUZXh0Tm9kZU1vZGVsPlsncmVuZGVyJ10gPSAoY29udGV4dCkgPT4ge1xyXG4gICAgICAgIE5vZGUudHJhbnNmb3JtQ29udGV4dCh0aGlzLCBjb250ZXh0KVxyXG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuQXNzZW1ibGVyLmV4cG9ydCh0aGlzKSwgMCwgMClcclxuICAgICAgICByZXR1cm4gY29udGV4dFxyXG4gICAgfVxyXG4gICAgcHJvdGVjdGVkIHRlc3Q6IE5vZGU8VGV4dE5vZGVNb2RlbD5bJ3Rlc3QnXSA9IChjdXJzb3I6IE5kTnVtZXJpY0FycmF5MmQpID0+IHtcclxuICAgICAgICBjdXJzb3IgPSB0aGlzLk1hdHJpeC52YWx1ZS50cmFjZUN1cnNvclRvTG9jYWxTcGFjZShbLi4uY3Vyc29yXSlcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIGN1cnNvclswXSA8IHRoaXMuQm94LnZhbHVlLnNwcml0ZS5zaXplWzBdICYmIGN1cnNvclswXSA+IDAgJiZcclxuICAgICAgICAgICAgY3Vyc29yWzFdIDwgdGhpcy5Cb3gudmFsdWUuc3ByaXRlLnNpemVbMV0gJiYgY3Vyc29yWzFdID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN5bmNTdHlsZXNUb0Jsb2NrKCkge1xyXG4gICAgICAgIHRoaXMudGV4dEJsb2NrLmZvbnQgPSB0aGlzLmRhdGEuZm9udC5wcm90ZWN0ZWRWYWx1ZVxyXG4gICAgICAgIHRoaXMudGV4dEJsb2NrLmNvbG9yID0gdGhpcy5kYXRhLmNvbG9yLnByb3RlY3RlZFZhbHVlXHJcbiAgICAgICAgdGhpcy50ZXh0QmxvY2subGluZUhlaWdodCA9IHRoaXMuZGF0YS5saW5lSGVpZ2h0LnByb3RlY3RlZFZhbHVlXHJcbiAgICAgICAgdGhpcy50ZXh0QmxvY2suc3R5bGUgPSB0aGlzLmRhdGEuc3R5bGUucHJvdGVjdGVkVmFsdWVcclxuICAgICAgICB0aGlzLnRleHRCbG9jay53ZWlnaHQgPSB0aGlzLmRhdGEud2VpZ2h0LnByb3RlY3RlZFZhbHVlXHJcbiAgICAgICAgdGhpcy5iaW5kUHJvcHMoWydmb250JywgJ3N0eWxlJywgJ3dlaWdodCcsICdmb250U2l6ZScsICdsaW5lSGVpZ2h0JywgJ2NvbG9yJ10pXHJcbiAgICAgICAgdGhpcy53YXRjaCgnc3RyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRleHRCbG9jay5zdHJpbmcgPSB0aGlzLmRhdGEuc3RyLnByb3RlY3RlZFZhbHVlXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGJpbmRQcm9wcyhwcm9wOiAoa2V5b2YgTmRUZXh0UGFydGlhbFByb3BzKVtdKSB7XHJcbiAgICAgICAgcHJvcC5mb3JFYWNoKCh2KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMud2F0Y2godiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0QmxvY2tbdl0gPSA8bmV2ZXI+dGhpcy5kYXRhW3ZdLnByb3RlY3RlZFZhbHVlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQ6IE5vZGU8VGV4dE5vZGVNb2RlbD5bJ2V4cG9ydCddID0gKCkgPT4gdGhpcy50ZXh0QmxvY2suZXhwb3J0KClcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBhcHA6IE5vZGFzKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIHsuLi5uZXcgTmRNb2RUZXh0KCksIC4uLm5ldyBOZE1vZEFuY2hvcigpLCAuLi5uZXcgTmRNb2RCYXNlKCl9LCBhcHApO1xyXG5cclxuICAgICAgICB0aGlzLnRleHRCbG9jayA9IG5ldyBOZFRleHRCbG9jayh0aGlzLmRhdGEuc3RyLnByb3RlY3RlZFZhbHVlKVxyXG4gICAgICAgIHRoaXMuc3luY1N0eWxlc1RvQmxvY2soKVxyXG5cclxuICAgICAgICB0aGlzLndhdGNoKFsnc3RyJywgJ2xpbmVIZWlnaHQnLCAnd2lkdGgnLCAnd2VpZ2h0JywgJ3N0eWxlJ10sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5Cb3gucHVyZ2UoKVxyXG4gICAgICAgICAgICB0aGlzLk1hdHJpeC5wdXJnZSgpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLndhdGNoKCd3aWR0aCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmRhdGEud2lkdGgucHJvdGVjdGVkVmFsdWUgPT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dEJsb2NrLmxpbWl0ID0gdGhpcy5kYXRhLndpZHRoLnByb3RlY3RlZFZhbHVlXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRCbG9jay5saW1pdCA9IEluZmluaXR5XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMud2F0Y2goWydzdHInLCAnbGluZUhlaWdodCcsICd3ZWlnaHQnLCAnd2lkdGgnLCAnc3R5bGUnXSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci51cGRhdGUoKVxyXG4gICAgICAgICAgICB0aGlzLkFzc2VtYmxlci5yZXNpemUoKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy53YXRjaCgnZm9udCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFPYmplY3QudmFsdWVzKE5kRm9udFNwZWNpYWxWYWx1ZXMpLmluY2x1ZGVzKHRoaXMuZGF0YS5mb250LnByb3RlY3RlZFZhbHVlIGFzIE5kRm9udFNwZWNpYWxWYWx1ZXMpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmb250ID0gbm9kYXNGb250cy5nZXQodGhpcy5kYXRhLmZvbnQucHJvdGVjdGVkVmFsdWUpXHJcbiAgICAgICAgICAgICAgICBpZiAoZm9udCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZm9udC5sb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC5vbmNlKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Cb3gucHVyZ2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5NYXRyaXgucHVyZ2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Bc3NlbWJsZXIucmVzaXplKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQXNzZW1ibGVyLnVwZGF0ZSgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQubG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImltcG9ydCBDYW52YXMgZnJvbSAnLi9Ob2Rhcy9DYW52YXMnO1xyXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4vTm9kYXMvQ29uZmlnJztcclxuaW1wb3J0IFRpY2tlciBmcm9tICcuL05vZGFzL1RpY2tlcic7XHJcbmltcG9ydCBOb2RlcyBmcm9tICcuL05vZGFzL05vZGVzJztcclxuaW1wb3J0IE1vdXNlIGZyb20gJy4vTm9kYXMvTW91c2UnO1xyXG5pbXBvcnQgR3JvdXAgZnJvbSAnLi9Ob2Rhcy9Ob2Rlcy9Hcm91cCc7XHJcbmltcG9ydCBMaW5lIGZyb20gJy4vTm9kYXMvTm9kZXMvTGluZSc7XHJcbmltcG9ydCBDaXJjbGUgZnJvbSAnLi9Ob2Rhcy9Ob2Rlcy9DaXJjbGUnO1xyXG5pbXBvcnQgU3ByaXRlIGZyb20gJy4vTm9kYXMvTm9kZXMvU3ByaXRlJztcclxuaW1wb3J0IEFyZWEgZnJvbSAnLi9Ob2Rhcy9Ob2Rlcy9BcmVhJztcclxuaW1wb3J0IFJlY3RhbmdsZSBmcm9tICcuL05vZGFzL05vZGVzL1JlY3RhbmdsZSc7XHJcbmltcG9ydCB7R3JvdXBDaGlsZHJlbiwgTmRQYXRoLCBOZFVybFNwcml0ZVN0ciwgTmRVUkxTdHJ9IGZyb20gJy4vTm9kYXMvTm9kZXMvQHR5cGVzL3R5cGVzLmpzJztcclxuaW1wb3J0IFRleHQgZnJvbSAnLi9Ob2Rhcy9Ob2Rlcy9UZXh0JztcclxuaW1wb3J0IE5vZGFzRm9udHMgZnJvbSAnLi9Ob2Rhcy9TZXJ2aWNlcy9Ob2Rhc0ZvbnRzJztcclxuaW1wb3J0IHtOZE51bWVyaWNBcnJheTJkfSBmcm9tICcuL05vZGFzL0B0eXBlcy90eXBlcyc7XHJcbmltcG9ydCBOb2Rhc1Jlc291cmNlcyBmcm9tICcuL05vZGFzL1NlcnZpY2VzL05vZGFzUmVzb3VyY2VzJztcclxuaW1wb3J0IE5kSW1hZ2UgZnJvbSAnLi9Ob2Rhcy9jbGFzc2VzL05kSW1hZ2UnO1xyXG5pbXBvcnQgTmRTcHJpdGUgZnJvbSAnLi9Ob2Rhcy9jbGFzc2VzL05kU3ByaXRlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vZGFzIHtcclxuICAgIHJlYWRvbmx5IFRpY2tlciA9IG5ldyBUaWNrZXIoKVxyXG4gICAgcmVhZG9ubHkgQ2FudmFzOiBDYW52YXNcclxuICAgIHJlYWRvbmx5IFRyZWU6IE5vZGVzXHJcbiAgICByZWFkb25seSBNb3VzZTogTW91c2VcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBDb25maWcgPSBuZXcgQ29uZmlnKClcclxuXHJcbiAgICBwdWJsaWMgU3ByaXRlOm5ldyhpZDpzdHJpbmcsIHNyYz86TmRVcmxTcHJpdGVTdHIgfCBOZFVSTFN0cikgPT4gU3ByaXRlXHJcbiAgICBwdWJsaWMgQXJlYTpuZXcoaWQ6c3RyaW5nLCBwYXRoPzpOZFBhdGgpID0+IEFyZWFcclxuICAgIHB1YmxpYyBSZWN0YW5nbGU6bmV3KGlkOnN0cmluZywgc2l6ZT86TmROdW1lcmljQXJyYXkyZCkgPT4gUmVjdGFuZ2xlXHJcbiAgICBwdWJsaWMgTGluZTpuZXcoaWQ6c3RyaW5nLCBwYXRoPzpOZFBhdGgpID0+IExpbmVcclxuICAgIHB1YmxpYyBUZXh0Om5ldyhpZDpzdHJpbmcsIHN0cj86c3RyaW5nKSA9PiBUZXh0XHJcbiAgICBwdWJsaWMgR3JvdXA6bmV3KGlkOnN0cmluZywgY2hpbGRyZW4/Okdyb3VwQ2hpbGRyZW4pID0+IEdyb3VwXHJcbiAgICBwdWJsaWMgQ2lyY2xlOm5ldyhpZDpzdHJpbmcsIHJhZGl1cz86bnVtYmVyKSA9PiBDaXJjbGVcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50IHwgc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgVGlja2VyU3J2ID0gbmV3IFRpY2tlcigpXHJcbiAgICAgICAgY29uc3QgQ2FudmFzU3J2ID0gbmV3IENhbnZhcyhUaWNrZXJTcnYpXHJcbiAgICAgICAgY29uc3QgVHJlZVNydiA9IG5ldyBOb2RlcyhDYW52YXNTcnYpXHJcbiAgICAgICAgY29uc3QgTW91c2VTcnYgPSBuZXcgTW91c2UoQ2FudmFzU3J2LCBUaWNrZXJTcnYsIFRyZWVTcnYpXHJcbiAgICAgICAgY29uc3QgYXBwID0gdGhpc1xyXG4gICAgICAgIENhbnZhc1Nydi5lbGVtZW50KGNhbnZhcylcclxuICAgICAgICB0aGlzLlRpY2tlciA9IFRpY2tlclNydlxyXG4gICAgICAgIHRoaXMuQ2FudmFzID0gQ2FudmFzU3J2XHJcbiAgICAgICAgdGhpcy5Nb3VzZSA9IE1vdXNlU3J2XHJcbiAgICAgICAgdGhpcy5UcmVlID0gVHJlZVNydlxyXG5cclxuICAgICAgICAvL0NlYXRpbmcgUm9vdCBHcm91cFxyXG4gICAgICAgIG5ldyBHcm91cCgnTk9ERV9UUkVFX0RFRkFVTFRfUk9PVCcsIHRoaXMpXHJcblxyXG4gICAgICAgIHRoaXMuVGV4dCA9IGNsYXNzIE5vZGFzVGV4dCBleHRlbmRzIFRleHQge1xyXG4gICAgICAgICAgICBjb25zdHJ1Y3RvcihpZDpzdHJpbmcsIHN0cj86c3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBzdXBlcihpZCxhcHApO1xyXG4gICAgICAgICAgICAgICAgaWYoc3RyKSB0aGlzLnN0eWxlKCdzdHInLCBzdHIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5BcmVhID0gY2xhc3MgTm9kYXNBcmVhIGV4dGVuZHMgQXJlYSB7XHJcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKGlkOnN0cmluZywgcGF0aD86TmRQYXRoKSB7XHJcbiAgICAgICAgICAgICAgICBzdXBlcihpZCwgYXBwKTtcclxuICAgICAgICAgICAgICAgIGlmKHBhdGgpIHRoaXMuc3R5bGUoJ3BhdGgnLCBwYXRoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuUmVjdGFuZ2xlID0gY2xhc3MgTm9kYXNSZWN0YW5nbGUgZXh0ZW5kcyBSZWN0YW5nbGV7XHJcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKGlkOnN0cmluZywgc2l6ZT86TmROdW1lcmljQXJyYXkyZCkge1xyXG4gICAgICAgICAgICAgICAgc3VwZXIoaWQsYXBwKTtcclxuICAgICAgICAgICAgICAgIGlmKHNpemUpIHRoaXMuc3R5bGUoJ3NpemUnLCBzaXplKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuTGluZSA9IGNsYXNzIE5vZGFzTGluZSBleHRlbmRzIExpbmUge1xyXG4gICAgICAgICAgICBjb25zdHJ1Y3RvcihpZDpzdHJpbmcsIHBhdGg/Ok5kUGF0aCkge1xyXG4gICAgICAgICAgICAgICAgc3VwZXIoaWQsIGFwcCk7XHJcbiAgICAgICAgICAgICAgICBpZihwYXRoKSB0aGlzLnN0eWxlKCdwYXRoJywgcGF0aClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLlNwcml0ZSA9IGNsYXNzIE5vZGFzU3ByaXRlIGV4dGVuZHMgU3ByaXRlIHtcclxuICAgICAgICAgICAgY29uc3RydWN0b3IoaWQ6c3RyaW5nLCB1cmw/Ok5kVVJMU3RyIHwgTmRVcmxTcHJpdGVTdHIpIHtcclxuICAgICAgICAgICAgICAgIHN1cGVyKGlkLCBhcHApO1xyXG4gICAgICAgICAgICAgICAgaWYodXJsKSB0aGlzLnN0eWxlKCdzcmMnLCB1cmwpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5DaXJjbGUgPSBjbGFzcyBOb2Rhc0NpcmNsZSBleHRlbmRzIENpcmNsZSB7XHJcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKGlkOnN0cmluZywgcmFkaXVzPzpudW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIHN1cGVyKGlkLCBhcHApO1xyXG4gICAgICAgICAgICAgICAgaWYocmFkaXVzKSB0aGlzLnN0eWxlKCdyYWRpdXMnLCByYWRpdXMpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5Hcm91cCA9IGNsYXNzIE5vZGFzR3JvdXAgZXh0ZW5kcyBHcm91cCB7XHJcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKGlkOnN0cmluZywgY2hpbGRyZW4/Okdyb3VwQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIHN1cGVyKGlkLCBhcHApO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkcmVuKSB0aGlzLmFwcGVuZChjaGlsZHJlbilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNvbnN0IEZvbnRzOiB0eXBlb2YgTm9kYXNGb250cyA9IE5vZGFzRm9udHNcclxuZXhwb3J0IGNvbnN0IFJlc291cmNlczogdHlwZW9mIE5vZGFzUmVzb3VyY2VzID0gTm9kYXNSZXNvdXJjZXNcclxuZXhwb3J0IGNvbnN0IE5vZGFzSW1hZ2UgPSBOZEltYWdlXHJcbmV4cG9ydCBjb25zdCBOb2Rhc1Nwcml0ZSA9IE5kU3ByaXRlIl0sIm5hbWVzIjpbIk5kUXVldWVFbGVtZW50IiwiY29uc3RydWN0b3IiLCJjYWxsYmFjayIsIm9yZGVyIiwidGhpcyIsIk5kRXZlbnQiLCJ0YXJnZXQiLCJkYXRhIiwidGltZSIsIkRhdGUiLCJwcm9wYWdhdGUiLCJOZE1vdXNlRXZlbnQiLCJOZFN0YXRlRXZlbnQiLCJOZEVtaXR0ZXIiLCJFbWl0dGVyIiwiRXZlbnRFbWl0dGVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiY2FzdCIsImV2ZW50IiwiZW1pdCIsIm9uIiwiQXJyYXkiLCJmb3JFYWNoIiwiZSIsIm9uY2UiLCJvZmYiLCJOREIiLCJOb2Rhc0RlYnVnIiwic3VwZXIiLCJwcmVmaXgiLCJ3YXJuaW5ncyIsImdyb3VwTGV2ZWwiLCJjdXJyZW50TGV2ZWwiLCJzZXBhcmF0b3JNZXNzYWdlcyIsImdldE1lc3NhZ2UiLCJtZXNzYWdlIiwic291cmNlIiwibmFtZSIsImVycm9yIiwiY29uc29sZSIsInRyYWNlIiwiRXJyb3IiLCJ3YXJuIiwibG9nIiwiaW5mbyIsInNlcGFyYXRvciIsInNlcGFyYXRvckVuZCIsInBvc2l0aXZlIiwibmVnYXRpdmUiLCJncm91cCIsImdyb3VwRW5kIiwiQ2FudmFzIiwiVGlja2VyTW9kdWxlIiwiY29udGV4dCIsInMiLCJzTnVtZXJpYyIsInJlc2l6ZVByb2Nlc3NUaW1lb3V0IiwicSIsIl9yZWFkeSIsIl9jbGVhciIsImFyZ3MiLCJzY3JvbGwiLCJ3aW5kb3ciLCJzY3JvbGxYIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsWSIsInNjcm9sbFRvcCIsIm9mZnNldCIsImN1cnNvciIsInBhZ2UiLCJzY3JlZW4iLCJ1cGRhdGVFdmVudERhdGEiLCJwYWdlWCIsInBhZ2VZIiwiZ2V0TW91c2VSZWxhdGl2ZVBvc2l0aW9uIiwib25DYW52YXNNb3VzZU1vdmUiLCJvbkNhbnZhc01vdXNlTGVhdmUiLCJvbkNhbnZhc01vdXNlRW50ZXIiLCJvbkNhbnZhc01vdXNlRG93biIsIm9uQ2FudmFzTW91c2VVcCIsIkRyYXdTY2VuZSIsImRhdGUiLCJmcmFtZSIsImNsZWFyUmVjdCIsImNhbnZhcyIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0IiwicWNiIiwiaSIsImFwcGx5IiwicXVldWUiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlUmVzaXplIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJfYSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfYiIsIl9jIiwiX2QiLCJfZSIsImFkZEV2ZW50TGlzdGVuZXJzIiwicmVjYWxjdWxhdGVPZmZzZXQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwieCIsInkiLCJyZWNhbGN1bGF0ZVNpemUiLCJwYXJlbnRIVE1MTm9kZSIsInBhcmVudE5vZGUiLCJwYXJlbkJvdW5kaW5nUmVjdCIsInBhcmVudEhlaWdodCIsImhlaWdodCIsInBhcmVudFdpZHRoIiwid2lkdGgiLCJ3UGVyY2VudCIsInBhcnNlSW50IiwiaFBlcmNlbnQiLCJzZXRBdHRyaWJ1dGUiLCJ0b1N0cmluZyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJlbGVtZW50IiwicXVlcnlTZWxlY3RvciIsIkhUTUxDYW52YXNFbGVtZW50IiwiZ2V0Q29udGV4dCIsImlkIiwiY2xhc3NMaXN0IiwiYSIsImIiLCJwdXNoIiwic29ydCIsInVuUXVldWUiLCJmaWx0ZXIiLCJxRSIsInNpemUiLCJmb3JjZVJlc2l6ZSIsInJlYWR5IiwiY2xlYXIiLCJ2YWx1ZSIsIk5kQ29uZmlnUHJvcGVydHkiLCJwcm9wZXJ0eSIsImNvbmZpZyIsImNoZWNrQXJyYXkiLCJjYiIsImNoZWNrIiwiaXNOdW1iZXIiLCJ2IiwiaXNTdHJpbmciLCJpc0FycmF5IiwiY3VzdG9tIiwiZiIsInVuZGVyIiwibGltaXQiLCJncmVhdGVyIiwiZXEiLCJleGFjdCIsImlzQm9vbCIsInZhbCIsIk9iamVjdCIsImtleXMiLCJwcm9wTmFtZSIsImNoZWNrVmFsdWUiLCJyZXN1bHQiLCJsZW5ndGgiLCJkZWZpbmUiLCJuIiwiY2FsbCIsIndhdGNoIiwiQ29uZmlnIiwicHJvcGVydGllcyIsImNmZyIsInNldCIsImdldCIsIlRpY2tlciIsImZyYW1lRHVyYXRpb24iLCJldmVudHNDYiIsInN0b3AiLCJzdGFydCIsInRpY2siLCJkcmF3IiwiY2xlYXJJbnRlcnZhbCIsImludGVydmFsIiwicmVzb2x2ZSIsImtleSIsInNlbGYiLCJ1bmRlZmluZWQiLCJzZXRJbnRlcnZhbCIsImZyYW1lVGltZSIsImZwcyIsIm5kRWFzaW5ncyIsImRlZmF1bHQiLCJ0IiwiYyIsImQiLCJsaW5lYXIiLCJsaW5lYXJTb2Z0IiwidHMiLCJ0YyIsImxpbmVhclNvZnRPdXQiLCJsaW5lYXJTb2Z0SW4iLCJlYXNlSW5RdWFkIiwiZWFzZU91dFF1YWQiLCJlYXNlSW5PdXRRdWFkIiwiZWFzZUluQ3ViaWMiLCJlYXNlT3V0Q3ViaWMiLCJlYXNlSW5PdXRDdWJpYyIsImVhc2VJblF1YXJ0IiwiZWFzZU91dFF1YXJ0IiwiZWFzZUluT3V0UXVhcnQiLCJlYXNlSW5RdWludCIsImVhc2VPdXRRdWludCIsImVhc2VJbk91dFF1aW50IiwiZWFzZUluU2luZSIsIk1hdGgiLCJjb3MiLCJQSSIsImVhc2VPdXRTaW5lIiwic2luIiwiZWFzZUluT3V0U2luZSIsImVhc2VJbkV4cG8iLCJwb3ciLCJlYXNlT3V0RXhwbyIsImVhc2VJbk91dEV4cG8iLCJlYXNlSW5DaXJjIiwic3FydCIsImVhc2VPdXRDaXJjIiwiZWFzZUluT3V0Q2lyYyIsImVhc2VJbkJhY2siLCJlYXNlT3V0QmFjayIsImVhc2VJbk91dEJhY2siLCJlYXNlT3V0Qm91bmNlIiwiTmRNb3JwaGluZSIsInN0YXJ0VmFsdWUiLCJlbmRWYWx1ZSIsImR1cmF0aW9uIiwiZWFzaW5nRnVuY3Rpb24iLCJyZXBlYXQiLCJyZXBlYXRDb3VudCIsInN0YXJ0X3RpbWUiLCJwcm9ncmVzcyIsIl9wYXVzZWQiLCJfZG9uZSIsImVuZCIsImVhc2luZyIsImdldFRpbWUiLCJkb25lIiwicGF1c2UiLCJwYXVzZWQiLCJJbmZpbml0eSIsIk5kQW5pbWF0aW9uIiwic3RhY2siLCJfcXVldWUiLCJfYWN0aXZlIiwiYWN0aXZlIiwiaW5kZXhPZiIsImZpbmRJbmRleCIsInByb3BzIiwibWFwIiwiaW5kZXgiLCJzcGxpY2UiLCJhbmkiLCJpbml0IiwibW9ycGhpbmUiLCJlYXNlIiwic3R5bGUiLCJjb21wbGV0ZSIsInN0YXJ0VmFsIiwicGFyc2VGbG9hdCIsImZyb21FbnRyaWVzIiwicHJvcCIsIk5kTWF0cml4IiwiX3ZhbHVlIiwiX2ludmVyc2lvbiIsIl9nbG9iYWxJbnZlcnNpb24iLCJoaXN0b3J5IiwiX2VsZW1lbnQiLCJpbnZlcnQiLCJyb3RhdGUiLCJzaW5BIiwiY29zQSIsIm11bHRpcGx5IiwidHJhbnNsYXRlIiwic2tldyIsInRhbiIsInNjYWxlIiwiYW5nbGUiLCJtIiwidGFuQSIsImdsb2JhbEludmVyc2lvbiIsInBhcmVudCIsIm1hdHJpeCIsInRyYWNlQ3Vyc29yVG9Mb2NhbFNwYWNlIiwicG9pbnQiLCJhcHBseU1hdHJpeFRvUG9pbnQiLCJyZXNldCIsInB1cmdlSW52ZXJzaW9uIiwiR3JvdXAiLCJmb3JFYWNoQ2hpbGQiLCJleHRyYWN0IiwiZXh0cmFjdEludmVyc2lvbiIsInN0YXRpYyIsIm11bHRpcGxpZXIiLCJhMCIsImExIiwiYTIiLCJhMyIsImE0IiwiYTUiLCJOZE5vZGVNYXRyaXgiLCJtb2RlbCIsImNhY2hlIiwiZ2V0dGVyIiwicHVyZ2UiLCJyZWdpc3RlciIsInBvc2l0aW9uIiwicHJvdGVjdGVkVmFsdWUiLCJzcHJpdGUiLCJib3VuZGluZ1JlY3QiLCJvcmlnaW4iLCJfdHJhbnNsYXRlIiwiTmRDYWNoZSIsInZhbHVlcyIsImZ1bmMiLCJyZWxldmFudCIsIk5kQ29tcGlsZXIiLCJyZXNvbHZlciIsImNvbmRpdGlvbnMiLCJkcmF3ZXJQaXBlQmVmb3JlIiwiZHJhd2VyUGlwZUFmdGVyIiwiYmVmb3JlUGlwZVNpemUiLCJhZnRlclBpcGVTaXplIiwiaXNSZW5kZXJBbGxvd2VkIiwicmVuZGVyQWxsb3dlZCIsInJlbmRlciIsImN1cnJlbnRDb250ZXh0Iiwic2F2ZSIsInBpcGVPcmRlciIsImhhc093blByb3BlcnR5IiwicGlwZUluZGV4IiwiY2FsbGJhY2tzUmVzdWx0IiwicmVzdG9yZSIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsImJsZW5kaW5nIiwiZ2xvYmFsQWxwaGEiLCJvcGFjaXR5IiwiZHJhd0ltYWdlIiwicGlwZSIsInVucGlwZSIsIk5vZGUiLCJhcHAiLCJDYWNoZSIsIm1vZGVsRW1pdHRlciIsImFuaW1hdGlvbnMiLCJ0aWNrRWxlbWVudEFuaW1hdGlvbnMiLCJhbmltYXRpb24iLCJNYXRyaXgiLCJDb21waWxlciIsIlRyZWVDb25uZWN0b3IiLCJUcmVlIiwiTW91c2UiLCJ0ZXN0IiwiYmluZCIsImNvbmRpdGlvbiIsIm9yZGVyaW5nIiwiZm9yRWFjaExheWVyIiwicHVyZ2VCb3giLCJjaGVja1F1ZXVlIiwiZmluZENvbXBldGl0b3JzIiwiY29tcGV0aXRvcnMiLCJjb21wZXRpdG9yIiwiYW5pbWF0ZSIsInN0ZXAiLCJwdWJsaWNWYWx1ZSIsInVud2F0Y2giLCJ0cmVlIiwicmVuYW1lIiwieiIsImJveCIsIkJveCIsImNvbnRhaW5lciIsImxlZnQiLCJ0b3AiLCJhbmltYXRlZCIsInRyYW5zZm9ybSIsInN0eWxlcyIsImFzc2VtYmxlciIsInBhdGgiLCJiZyIsImNsaXBCZXppZXJQYXRoIiwiZHJhd0JnIiwibG9hZGVkIiwiaW1hZ2UiLCJleHBvcnQiLCJiZ1dpZHRoIiwiYmFja2dyb3VuZFNpemVOdW1lcmljIiwiYmdIZWlnaHQiLCJiZ1Bvc2l0aW9uWCIsImJhY2tncm91bmRQb3NpdGlvbk51bWVyaWMiLCJiZ1Bvc2l0aW9uWSIsInVwZGF0ZSIsImludGVycG9sYXRpb24iLCJkcmF3QmV6aWVyUGF0aEJnIiwiZHJhd0xpbmVhclBhdGhCZyIsInNtb290aCIsImNsb3NlZCIsInJlZ2lzdGVyUGF0aCIsImNsaXAiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJzZWdtZW50IiwibGluZVRvIiwiYmV6aWVyQ3VydmVUbyIsImNsb3NlUGF0aCIsImxpbmVDYXAiLCJjYXAiLCJmaWxsU3R5bGUiLCJmaWxsIiwieDEiLCJ5MSIsIngyIiwieTIiLCJjeDEiLCJjeTEiLCJjeDIiLCJjeTIiLCJzdHJva2VXaWR0aCIsInN0cm9rZVN0eWxlIiwic3Ryb2tlQ29sb3IiLCJsaW5lV2lkdGgiLCJzZXRMaW5lRGFzaCIsInN0cm9rZSIsImFuY2hvciIsIk5kTm9kZVN0eWxlc01vZGVsIiwiZmxvb3IiLCJjb2xvciIsImNvbG9yVG9BcnJheSIsInJvdW5kIiwidG9GaXhlZCIsIm1hdGNoIiwibm9ybWFsaXplQ29sb3IiLCJ4MCIsInkwIiwiZDAxIiwiZDEyIiwiZmEiLCJmYiIsInNtb290aGluZyIsInByZXYiLCJjb250cm9scyIsIm1pZCIsIm5leHQiLCJnZXRDb250cm9sUG9pbnRzIiwicGF0aDEiLCJwYXRoMiIsImJhc2UiLCJhcnJheSIsImZpbGxlciIsImNvbnZlcnRTaW1wbGVQYXRoIiwiYmV6aWVyUG9pbnQiLCJwb3AiLCJOZFN0eWxlc1Byb3BlcnR5IiwiaW5pdGlhbCIsInN5bmMiLCJkaWZmIiwiTmROb2RlU3R5bGVQcm9wZXJ0eUFuaW1hdGVkIiwic2V0dGVyIiwic3RhcnRlciIsImFwcGxpZXIiLCJfc3RhcnQiLCJfZW5kIiwic2V0U3RhcnRWYWx1ZSIsInNldEVuZFZhbHVlIiwiTmRNb2RCYXNlIiwiY3VycmVudCIsInNldFN0YXJ0Iiwic2V0RW5kIiwicmFkVG9EZWciLCJkZWdUb1JhZCIsIk5kQm94IiwibWFyZ2luIiwibWFyZ2luVG9wIiwibWFyZ2luUmlnaHQiLCJtYXJnaW5Cb3R0b20iLCJtYXJnaW5MZWZ0IiwiTmROb2RlQm94IiwiYm94R2V0dGVyIiwibWluWCIsIm1pblkiLCJtYXhZIiwibWF4WCIsIm1pbiIsIm1heCIsImlzRmluaXRlIiwidHJhbnNmb3JtQ29udGV4dCIsImNvbXBpbGUiLCJjaGVja05vZGUiLCJhcHBlbmQiLCJub2RlIiwiTmROb2RlQ29ubmVjdG9yIiwiX3BhcmVudCIsIl9sYXllcnMiLCJfbGF5ZXIiLCJfaWRlbnRpZmllciIsImxheWVyIiwiekNoaWxkIiwicHJlcGVuZCIsInVuc2hpZnQiLCJyZW1vdmVDaGlsZCIsIk5vZGVzIiwiX3Jvb3QiLCJpZHMiLCJTZXQiLCJlbGVtZW50cyIsImRyYXdOb2RlVHJlZSIsInRyZWVWaW9sYXRpb24iLCJoYXMiLCJhZGQiLCJjb25uZWN0b3IiLCJyb290IiwidW5yZWdpc3RlciIsInVubW91bnQiLCJkZWxldGUiLCJuZXdJZCIsIk5kTm9kZU1vdXNlRGlzcGF0Y2hlciIsImVtaXR0ZXIiLCJ0ZXN0ZXIiLCJ0cmFuc2Zvcm1lciIsIl9kaXNhYmxlZCIsImRpc2FibGVkIiwiZGlzYWJsZSIsImVuYWJsZSIsImN1cnJlbnRIb3ZlciIsImN1cnJlbnRGb2N1cyIsIm1vdXNlRG93biIsImRyYWdnaW5nIiwiZXZlbnRTdGFjayIsInBvc3Rwb25lZCIsIm1heEV2ZW50c1BlclF1ZXVlIiwibWF4RXZlbnRzUmVzb2x2ZVRpbWVQZXJGcmFtZSIsInJlc29sdmVTdGFjayIsInJlc29sdmVPclBvc3Rwb25lIiwiYXNzaWduIiwiaGFuZGxlciIsIml0ZXJhdGlvbnMiLCJzdGFydFRpbWUiLCJlbGFwc2VkIiwic2hpZnQiLCJnZXRTdGFja0NhbGxiYWNrIiwiTmRDYW52YXMiLCJjcmVhdGVFbGVtZW50IiwiTmRMYXllciIsIk5kTW9kZUFzc2VtYmxlciIsImxheWVycyIsIm91dHB1dCIsInciLCJoIiwicmVzaXplZCIsInJlc2l6ZSIsIk5kTW9kRnJlZVN0cm9rZSIsImFycmF5VG9Db2xvciIsImNvbnZlcnRDb21wbGV4UGF0aCIsIk5kTW9kQW5jaG9yIiwiTmROb2RlRW1waXJpY2FsTW91c2VDaGVja2VyIiwicmVkcmF3IiwicG9pbnRlciIsInBpeGVsIiwiZ2V0SW1hZ2VEYXRhIiwiTGluZSIsInhTaGlmdCIsInlTaGlmdCIsInN0cm9rZUZpeCIsImludGVycG9sYXRpb25GaXgiLCJpbnRlcnBvbGF0ZWQiLCJtb3VzZVRlc3RlciIsIkFzc2VtYmxlciIsImludGVycG9sYXRlIiwiZHJhd1N0cm9rZSIsImZpeCIsIm1pbngiLCJtaW55IiwibWF4eCIsIm1heHkiLCJhYnMiLCJhcHBseUJveEFuY2hvciIsInJlZHVjZSIsImFjYyIsIk5kUmVzb3VyY2UiLCJ1cmwiLCJfc3RhdHVzIiwicmVzb2x2ZWQiLCJfZGVzdHJveWVkIiwic3JjIiwiZGVzdHJveWVkIiwiZGVzdHJveSIsImxvYWQiLCJORFIiLCJOb2Rhc1Jlc291cmNlcyIsImltYWdlcyIsIm9uTG9hZCIsIm9uRXJyb3IiLCJvblJlc2V0IiwibG9hZGluZyIsIkltYWdlIiwiYnVsa0xvYWQiLCJyZXNvdXJjZXMiLCJOZEltYWdlIiwiZGVmaW5lSW1hZ2UiLCJfc2l6ZSIsInN0ciIsIk5kVXJsU3RyUmVnZXgiLCJOZE1vZEJnIiwiZGVzdHJveUJhY2tncm91bmQiLCJ1cGRhdGVTaXplQW5kUG9zaXRpb24iLCJiYWNrZ3JvdW5kUG9zaXRpb24iLCJiYWNrZ3JvdW5kU2l6ZSIsInJlYWRCZ1NpemUiLCJyZWFkQmdQb3NpdGlvbiIsImJveFNpemUiLCJiZ1NpemUiLCJkaXIiLCJwb3NpdGlvblZhbHVlIiwibm9ybWFsaXplQmdQb3NpdGlvbiIsImJnU2l6ZVZhbHVlIiwiZXh0cmFjdFBlcmNlbnRGcmFjdGlvbiIsIk5kTW9kQ2lyYyIsInJhZGl1cyIsIkNpcmNsZSIsIkFwcCIsImNvb3JkcyIsImFyYyIsIk5kU3ByaXRlIiwiZnJhbWVDb3VudCIsInJlZnJlc2hSYXRlIiwiY2h1bmtTaXplIiwiY2h1bmtYWUNvdW50IiwidGltZVN0YXJ0IiwiZnJvemVuIiwiY3VycmVudFRpbWUiLCJkZWx0YSIsImN1cnJlbnRZIiwiY3VycmVudFgiLCJzZXRGcmFtZURhdGEiLCJjZWlsIiwiciIsInBsYXkiLCJmcmFtZXMiLCJOZFVybFNwcml0ZVN0clJlZ2V4IiwiTmRNb2RTcHJpdGUiLCJpc05kVXJsU3ByaXRlU3RyIiwiU3ByaXRlIiwiQXJlYSIsImRyYXdGaWxsIiwiZHJhd1BhdGhCZyIsIk5kTW9kU2l6ZSIsIk5kTW9kUmVjdCIsIlJlY3RhbmdsZSIsIkNJUkNMRUNPTlNUIiwiZHJhd1JlY3RTdHJva2UiLCJ0bCIsInRyIiwiYnIiLCJibCIsInB1cmdlUGF0aCIsInJlY3RTZWdtZW50IiwiY29sb3IxIiwiY29sb3IyIiwid2lkdGgxIiwid2lkdGgyIiwicHgxIiwicHkxIiwicHgyIiwicHkyIiwiY3B4MSIsImNweTEiLCJjcHgyIiwiY3B5MiIsImdyYWQiLCJjcmVhdGVDb25pY0dyYWRpZW50IiwiYWRkQ29sb3JTdG9wIiwic2VnbWVudFN0b3BzIiwiY3VycmVudFNlZ21lbnQiLCJkcmF3Q29ybmVyIiwiZHJhd0JyaWRnZSIsIk5kRm9udFNwZWNpYWxWYWx1ZXMiLCJOZEZvbnQiLCJmb3JtYXQiLCJzY2hlbWUiLCJpbml0TWVhc3VyZUJ1ZmZlciIsImxvYWRGb250IiwiaW5uZXJIVE1MIiwiaGVhZCIsImFwcGVuZENoaWxkIiwiZm9udE1heExvYWRUaW1lIiwiZm9udExvYWRTdGFydCIsImZvbnRNZWFzdXJlQnVmZmVyIiwiZm9ybWF0U3RyIiwiZW90Iiwid29mZiIsInR0ZiIsInN2ZyIsImZvbnQiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwid2VpZ2h0Iiwic3R5bGVTdHIiLCJmb3JtYXRFeHQiLCJmSW5kZXgiLCJleHRyYWN0TnVtZXJpY1dlaWdodCIsImNoZWNrUmVzdWx0QnVmZmVyIiwibWVhc3VyZUZvbnQiLCJjdXN0b21GYW1pbHkiLCJzdHJpbmciLCJtZWFzdXJlVGV4dCIsIkNPTlNURk9OVENIRUNLU1RSSU5HIiwibGluZUhlaWdodCIsIndvcmQiLCJOb2Rhc0ZvbnRzJDEiLCJOb2Rhc0ZvbnRzIiwiZm9udHMiLCJmb250Um9vdFBhdGgiLCJmb3JtYXRzIiwiaW5jbHVkZXMiLCJOZFRleHRQYXJ0aWFsIiwidGV4dENvbG9yIiwiZldlaWdodCIsImZTaXplIiwibEhlaWdodCIsImZTdHlsZSIsIm5kRm9udCIsImZyZWV6ZSIsIm9uUG9zc2libGVTaXplQ2hhbmdlIiwiZm9udFN0cmluZyIsIm5vcm1hbGl6ZWQiLCJmb250U2l6ZSIsIk5kVGV4dFdvcmQiLCJyZXNpemVGbGFnIiwicmVkcmF3RmxhZyIsInRleHRCYXNlbGluZSIsImZpbGxUZXh0Iiwibm9kYXNGb250cyIsInRyaW0iLCJOZFRleHRTcGFjZSIsIm1lYXN1cmVkIiwiZm9yY2VSZWRyYXciLCJOZFRleHRCbG9jayIsImwiLCJ3b3Jkc1BhdHRlcm4iLCJ0YWdQYXR0ZXJuIiwidXBkYXRlZCIsIndvcmRzIiwiYmluZFdvcmRzU3R5bGVzIiwic3ltYm9sIiwidXBkYXRlU2l6ZSIsImxpbmVzIiwiayIsIm1heExpbmUiLCJzcGxpdCIsIndvcmRJbmRleCIsImN1cnJlbnRNYXRjaCIsImN1cnJlbnRXb3JkSW5kZXgiLCJleGVjIiwicHJlTWF0Y2hXb3JkcyIsInN1YnN0cmluZyIsImFwcGx5U3R5bGVzVG9UZXh0IiwiZ3JvdXBzIiwiY29udGVudCIsInRhZ25hbWUiLCJzcGFjZSIsIk5kTW9kVGV4dCIsInN5c3RlbSIsIlRleHQiLCJ0ZXh0QmxvY2siLCJzeW5jU3R5bGVzVG9CbG9jayIsImJpbmRQcm9wcyIsIk5vZGFzIiwiVGlja2VyU3J2IiwiQ2FudmFzU3J2IiwiVHJlZVNydiIsIk1vdXNlU3J2IiwiTm9kYXNUZXh0IiwiTm9kYXNBcmVhIiwiTm9kYXNSZWN0YW5nbGUiLCJOb2Rhc0xpbmUiLCJOb2Rhc1Nwcml0ZSIsIk5vZGFzQ2lyY2xlIiwiTm9kYXNHcm91cCIsImNoaWxkcmVuIiwiRm9udHMiLCJSZXNvdXJjZXMiLCJOb2Rhc0ltYWdlIl0sIm1hcHBpbmdzIjoiQUFFYyxNQUFPQSxlQUlqQkMsWUFBWUMsRUFBaUNDLEdBSHBDQyxLQUFLRCxNQUFXLEVBSXJCQyxLQUFLRixTQUFXQSxFQUNaQyxJQUFPQyxLQUFLRCxNQUFRQSxFQUMzQixFQ1RTLE1BQU9FLFFBT2pCSixZQUNJSyxFQUNBQyxHQVBZSCxLQUFBSSxLQUFhLElBQUlDLEtBRzFCTCxLQUFTTSxXQUFZLEVBS3hCTixLQUFLRSxPQUFTQSxFQUNkRixLQUFLRyxLQUFPQSxDQUNmLEVDVGdCLE1BQUFJLHFCQUE2Qk4sU0NEN0IsTUFBQU8scUJBQTZCUCxzbE1DQ3BDLE1BQU9RLFVBQXJCWixjQUNZRyxLQUFBVSxRQUFVLElBQUlDLGFBS1pYLEtBQUFZLG1CQUFxQlosS0FBS1UsUUFBUUUsa0JBZS9DLENBbkJhQyxLQUFLQyxFQUFxQlgsR0FFaEMsT0FEQUgsS0FBS1UsUUFBUUssS0FBYUQsRUFBT1gsR0FDMUJBLENBQ1YsQ0FFRGEsR0FBR0YsRUFBa0JoQixHQUNqQmdCLGFBQWlCRyxNQUNiSCxFQUFNSSxTQUFRQyxHQUFLbkIsS0FBS1UsUUFBUU0sR0FBV0cs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
